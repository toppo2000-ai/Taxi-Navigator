(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function e(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=e(s);fetch(s.href,i)}})();var dr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function L4(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var gg={exports:{}},rf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ov;function $T(){if(Ov)return rf;Ov=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(n,s,i){var a=null;if(i!==void 0&&(a=""+i),s.key!==void 0&&(a=""+s.key),"key"in s){i={};for(var l in s)l!=="key"&&(i[l]=s[l])}else i=s;return s=i.ref,{$$typeof:r,type:n,key:a,ref:s!==void 0?s:null,props:i}}return rf.Fragment=t,rf.jsx=e,rf.jsxs=e,rf}var Fv;function qT(){return Fv||(Fv=1,gg.exports=$T()),gg.exports}var _=qT(),bg={exports:{}},nr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv;function GT(){if(Pv)return nr;Pv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),o=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),h=Symbol.iterator;function d(B){return B===null||typeof B!="object"?null:(B=h&&B[h]||B["@@iterator"],typeof B=="function"?B:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,g={};function v(B,D,Q){this.props=B,this.context=D,this.refs=g,this.updater=Q||x}v.prototype.isReactComponent={},v.prototype.setState=function(B,D){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,D,"setState")},v.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function y(){}y.prototype=v.prototype;function T(B,D,Q){this.props=B,this.context=D,this.refs=g,this.updater=Q||x}var R=T.prototype=new y;R.constructor=T,b(R,v.prototype),R.isPureReactComponent=!0;var P=Array.isArray;function H(){}var L={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function O(B,D,Q){var K=Q.ref;return{$$typeof:r,type:B,key:D,ref:K!==void 0?K:null,props:Q}}function F(B,D){return O(B.type,D,B.props)}function q(B){return typeof B=="object"&&B!==null&&B.$$typeof===r}function z(B){var D={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(Q){return D[Q]})}var N=/\/+/g;function U(B,D){return typeof B=="object"&&B!==null&&B.key!=null?z(""+B.key):D.toString(36)}function C(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(H,H):(B.status="pending",B.then(function(D){B.status==="pending"&&(B.status="fulfilled",B.value=D)},function(D){B.status==="pending"&&(B.status="rejected",B.reason=D)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function S(B,D,Q,K,ee){var W=typeof B;(W==="undefined"||W==="boolean")&&(B=null);var te=!1;if(B===null)te=!0;else switch(W){case"bigint":case"string":case"number":te=!0;break;case"object":switch(B.$$typeof){case r:case t:te=!0;break;case u:return te=B._init,S(te(B._payload),D,Q,K,ee)}}if(te)return ee=ee(B),te=K===""?"."+U(B,0):K,P(ee)?(Q="",te!=null&&(Q=te.replace(N,"$&/")+"/"),S(ee,D,Q,"",function(Z){return Z})):ee!=null&&(q(ee)&&(ee=F(ee,Q+(ee.key==null||B&&B.key===ee.key?"":(""+ee.key).replace(N,"$&/")+"/")+te)),D.push(ee)),1;te=0;var G=K===""?".":K+":";if(P(B))for(var V=0;V<B.length;V++)K=B[V],W=G+U(K,V),te+=S(K,D,Q,W,ee);else if(V=d(B),typeof V=="function")for(B=V.call(B),V=0;!(K=B.next()).done;)K=K.value,W=G+U(K,V++),te+=S(K,D,Q,W,ee);else if(W==="object"){if(typeof B.then=="function")return S(C(B),D,Q,K,ee);throw D=String(B),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.")}return te}function k(B,D,Q){if(B==null)return B;var K=[],ee=0;return S(B,K,"","",function(W){return D.call(Q,W,ee++)}),K}function E(B){if(B._status===-1){var D=B._result;D=D(),D.then(function(Q){(B._status===0||B._status===-1)&&(B._status=1,B._result=Q)},function(Q){(B._status===0||B._status===-1)&&(B._status=2,B._result=Q)}),B._status===-1&&(B._status=0,B._result=D)}if(B._status===1)return B._result.default;throw B._result}var A=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var D=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(D))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},j={map:k,forEach:function(B,D,Q){k(B,function(){D.apply(this,arguments)},Q)},count:function(B){var D=0;return k(B,function(){D++}),D},toArray:function(B){return k(B,function(D){return D})||[]},only:function(B){if(!q(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return nr.Activity=p,nr.Children=j,nr.Component=v,nr.Fragment=e,nr.Profiler=s,nr.PureComponent=T,nr.StrictMode=n,nr.Suspense=c,nr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,nr.__COMPILER_RUNTIME={__proto__:null,c:function(B){return L.H.useMemoCache(B)}},nr.cache=function(B){return function(){return B.apply(null,arguments)}},nr.cacheSignal=function(){return null},nr.cloneElement=function(B,D,Q){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var K=b({},B.props),ee=B.key;if(D!=null)for(W in D.key!==void 0&&(ee=""+D.key),D)!I.call(D,W)||W==="key"||W==="__self"||W==="__source"||W==="ref"&&D.ref===void 0||(K[W]=D[W]);var W=arguments.length-2;if(W===1)K.children=Q;else if(1<W){for(var te=Array(W),G=0;G<W;G++)te[G]=arguments[G+2];K.children=te}return O(B.type,ee,K)},nr.createContext=function(B){return B={$$typeof:a,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:i,_context:B},B},nr.createElement=function(B,D,Q){var K,ee={},W=null;if(D!=null)for(K in D.key!==void 0&&(W=""+D.key),D)I.call(D,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(ee[K]=D[K]);var te=arguments.length-2;if(te===1)ee.children=Q;else if(1<te){for(var G=Array(te),V=0;V<te;V++)G[V]=arguments[V+2];ee.children=G}if(B&&B.defaultProps)for(K in te=B.defaultProps,te)ee[K]===void 0&&(ee[K]=te[K]);return O(B,W,ee)},nr.createRef=function(){return{current:null}},nr.forwardRef=function(B){return{$$typeof:l,render:B}},nr.isValidElement=q,nr.lazy=function(B){return{$$typeof:u,_payload:{_status:-1,_result:B},_init:E}},nr.memo=function(B,D){return{$$typeof:o,type:B,compare:D===void 0?null:D}},nr.startTransition=function(B){var D=L.T,Q={};L.T=Q;try{var K=B(),ee=L.S;ee!==null&&ee(Q,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(H,A)}catch(W){A(W)}finally{D!==null&&Q.types!==null&&(D.types=Q.types),L.T=D}},nr.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},nr.use=function(B){return L.H.use(B)},nr.useActionState=function(B,D,Q){return L.H.useActionState(B,D,Q)},nr.useCallback=function(B,D){return L.H.useCallback(B,D)},nr.useContext=function(B){return L.H.useContext(B)},nr.useDebugValue=function(){},nr.useDeferredValue=function(B,D){return L.H.useDeferredValue(B,D)},nr.useEffect=function(B,D){return L.H.useEffect(B,D)},nr.useEffectEvent=function(B){return L.H.useEffectEvent(B)},nr.useId=function(){return L.H.useId()},nr.useImperativeHandle=function(B,D,Q){return L.H.useImperativeHandle(B,D,Q)},nr.useInsertionEffect=function(B,D){return L.H.useInsertionEffect(B,D)},nr.useLayoutEffect=function(B,D){return L.H.useLayoutEffect(B,D)},nr.useMemo=function(B,D){return L.H.useMemo(B,D)},nr.useOptimistic=function(B,D){return L.H.useOptimistic(B,D)},nr.useReducer=function(B,D,Q){return L.H.useReducer(B,D,Q)},nr.useRef=function(B){return L.H.useRef(B)},nr.useState=function(B){return L.H.useState(B)},nr.useSyncExternalStore=function(B,D,Q){return L.H.useSyncExternalStore(B,D,Q)},nr.useTransition=function(){return L.H.useTransition()},nr.version="19.2.3",nr}var Lv;function O1(){return Lv||(Lv=1,bg.exports=GT()),bg.exports}var _e=O1();const B4=L4(_e);var xg={exports:{}},nf={},yg={exports:{}},vg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function WT(){return Bv||(Bv=1,(function(r){function t(S,k){var E=S.length;S.push(k);e:for(;0<E;){var A=E-1>>>1,j=S[A];if(0<s(j,k))S[A]=k,S[E]=j,E=A;else break e}}function e(S){return S.length===0?null:S[0]}function n(S){if(S.length===0)return null;var k=S[0],E=S.pop();if(E!==k){S[0]=E;e:for(var A=0,j=S.length,B=j>>>1;A<B;){var D=2*(A+1)-1,Q=S[D],K=D+1,ee=S[K];if(0>s(Q,E))K<j&&0>s(ee,Q)?(S[A]=ee,S[K]=E,A=K):(S[A]=Q,S[D]=E,A=D);else if(K<j&&0>s(ee,E))S[A]=ee,S[K]=E,A=K;else break e}}return k}function s(S,k){var E=S.sortIndex-k.sortIndex;return E!==0?E:S.id-k.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;r.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();r.unstable_now=function(){return a.now()-l}}var c=[],o=[],u=1,p=null,h=3,d=!1,x=!1,b=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function R(S){for(var k=e(o);k!==null;){if(k.callback===null)n(o);else if(k.startTime<=S)n(o),k.sortIndex=k.expirationTime,t(c,k);else break;k=e(o)}}function P(S){if(b=!1,R(S),!x)if(e(c)!==null)x=!0,H||(H=!0,z());else{var k=e(o);k!==null&&C(P,k.startTime-S)}}var H=!1,L=-1,I=5,O=-1;function F(){return g?!0:!(r.unstable_now()-O<I)}function q(){if(g=!1,H){var S=r.unstable_now();O=S;var k=!0;try{e:{x=!1,b&&(b=!1,y(L),L=-1),d=!0;var E=h;try{t:{for(R(S),p=e(c);p!==null&&!(p.expirationTime>S&&F());){var A=p.callback;if(typeof A=="function"){p.callback=null,h=p.priorityLevel;var j=A(p.expirationTime<=S);if(S=r.unstable_now(),typeof j=="function"){p.callback=j,R(S),k=!0;break t}p===e(c)&&n(c),R(S)}else n(c);p=e(c)}if(p!==null)k=!0;else{var B=e(o);B!==null&&C(P,B.startTime-S),k=!1}}break e}finally{p=null,h=E,d=!1}k=void 0}}finally{k?z():H=!1}}}var z;if(typeof T=="function")z=function(){T(q)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,U=N.port2;N.port1.onmessage=q,z=function(){U.postMessage(null)}}else z=function(){v(q,0)};function C(S,k){L=v(function(){S(r.unstable_now())},k)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(S){S.callback=null},r.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<S?Math.floor(1e3/S):5},r.unstable_getCurrentPriorityLevel=function(){return h},r.unstable_next=function(S){switch(h){case 1:case 2:case 3:var k=3;break;default:k=h}var E=h;h=k;try{return S()}finally{h=E}},r.unstable_requestPaint=function(){g=!0},r.unstable_runWithPriority=function(S,k){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var E=h;h=S;try{return k()}finally{h=E}},r.unstable_scheduleCallback=function(S,k,E){var A=r.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?A+E:A):E=A,S){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=E+j,S={id:u++,callback:k,priorityLevel:S,startTime:E,expirationTime:j,sortIndex:-1},E>A?(S.sortIndex=E,t(o,S),e(c)===null&&S===e(o)&&(b?(y(L),L=-1):b=!0,C(P,E-A))):(S.sortIndex=j,t(c,S),x||d||(x=!0,H||(H=!0,z()))),S},r.unstable_shouldYield=F,r.unstable_wrapCallback=function(S){var k=h;return function(){var E=h;h=k;try{return S.apply(this,arguments)}finally{h=E}}}})(vg)),vg}var Uv;function XT(){return Uv||(Uv=1,yg.exports=WT()),yg.exports}var wg={exports:{}},ns={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vv;function YT(){if(Vv)return ns;Vv=1;var r=O1();function t(c){var o="https://react.dev/errors/"+c;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+c+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var n={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},s=Symbol.for("react.portal");function i(c,o,u){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:p==null?null:""+p,children:c,containerInfo:o,implementation:u}}var a=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,o){if(c==="font")return"";if(typeof o=="string")return o==="use-credentials"?o:""}return ns.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,ns.createPortal=function(c,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)throw Error(t(299));return i(c,o,null,u)},ns.flushSync=function(c){var o=a.T,u=n.p;try{if(a.T=null,n.p=2,c)return c()}finally{a.T=o,n.p=u,n.d.f()}},ns.preconnect=function(c,o){typeof c=="string"&&(o?(o=o.crossOrigin,o=typeof o=="string"?o==="use-credentials"?o:"":void 0):o=null,n.d.C(c,o))},ns.prefetchDNS=function(c){typeof c=="string"&&n.d.D(c)},ns.preinit=function(c,o){if(typeof c=="string"&&o&&typeof o.as=="string"){var u=o.as,p=l(u,o.crossOrigin),h=typeof o.integrity=="string"?o.integrity:void 0,d=typeof o.fetchPriority=="string"?o.fetchPriority:void 0;u==="style"?n.d.S(c,typeof o.precedence=="string"?o.precedence:void 0,{crossOrigin:p,integrity:h,fetchPriority:d}):u==="script"&&n.d.X(c,{crossOrigin:p,integrity:h,fetchPriority:d,nonce:typeof o.nonce=="string"?o.nonce:void 0})}},ns.preinitModule=function(c,o){if(typeof c=="string")if(typeof o=="object"&&o!==null){if(o.as==null||o.as==="script"){var u=l(o.as,o.crossOrigin);n.d.M(c,{crossOrigin:u,integrity:typeof o.integrity=="string"?o.integrity:void 0,nonce:typeof o.nonce=="string"?o.nonce:void 0})}}else o==null&&n.d.M(c)},ns.preload=function(c,o){if(typeof c=="string"&&typeof o=="object"&&o!==null&&typeof o.as=="string"){var u=o.as,p=l(u,o.crossOrigin);n.d.L(c,u,{crossOrigin:p,integrity:typeof o.integrity=="string"?o.integrity:void 0,nonce:typeof o.nonce=="string"?o.nonce:void 0,type:typeof o.type=="string"?o.type:void 0,fetchPriority:typeof o.fetchPriority=="string"?o.fetchPriority:void 0,referrerPolicy:typeof o.referrerPolicy=="string"?o.referrerPolicy:void 0,imageSrcSet:typeof o.imageSrcSet=="string"?o.imageSrcSet:void 0,imageSizes:typeof o.imageSizes=="string"?o.imageSizes:void 0,media:typeof o.media=="string"?o.media:void 0})}},ns.preloadModule=function(c,o){if(typeof c=="string")if(o){var u=l(o.as,o.crossOrigin);n.d.m(c,{as:typeof o.as=="string"&&o.as!=="script"?o.as:void 0,crossOrigin:u,integrity:typeof o.integrity=="string"?o.integrity:void 0})}else n.d.m(c)},ns.requestFormReset=function(c){n.d.r(c)},ns.unstable_batchedUpdates=function(c,o){return c(o)},ns.useFormState=function(c,o,u){return a.H.useFormState(c,o,u)},ns.useFormStatus=function(){return a.H.useHostTransitionStatus()},ns.version="19.2.3",ns}var zv;function U4(){if(zv)return wg.exports;zv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),wg.exports=YT(),wg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv;function KT(){if(Hv)return nf;Hv=1;var r=XT(),t=O1(),e=U4();function n(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)m+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)}function i(f){var m=f,w=f;if(f.alternate)for(;m.return;)m=m.return;else{f=m;do m=f,(m.flags&4098)!==0&&(w=m.return),f=m.return;while(f)}return m.tag===3?w:null}function a(f){if(f.tag===13){var m=f.memoizedState;if(m===null&&(f=f.alternate,f!==null&&(m=f.memoizedState)),m!==null)return m.dehydrated}return null}function l(f){if(f.tag===31){var m=f.memoizedState;if(m===null&&(f=f.alternate,f!==null&&(m=f.memoizedState)),m!==null)return m.dehydrated}return null}function c(f){if(i(f)!==f)throw Error(n(188))}function o(f){var m=f.alternate;if(!m){if(m=i(f),m===null)throw Error(n(188));return m!==f?null:f}for(var w=f,M=m;;){var Y=w.return;if(Y===null)break;var J=Y.alternate;if(J===null){if(M=Y.return,M!==null){w=M;continue}break}if(Y.child===J.child){for(J=Y.child;J;){if(J===w)return c(Y),f;if(J===M)return c(Y),m;J=J.sibling}throw Error(n(188))}if(w.return!==M.return)w=Y,M=J;else{for(var ie=!1,ve=Y.child;ve;){if(ve===w){ie=!0,w=Y,M=J;break}if(ve===M){ie=!0,M=Y,w=J;break}ve=ve.sibling}if(!ie){for(ve=J.child;ve;){if(ve===w){ie=!0,w=J,M=Y;break}if(ve===M){ie=!0,M=J,w=Y;break}ve=ve.sibling}if(!ie)throw Error(n(189))}}if(w.alternate!==M)throw Error(n(190))}if(w.tag!==3)throw Error(n(188));return w.stateNode.current===w?f:m}function u(f){var m=f.tag;if(m===5||m===26||m===27||m===6)return f;for(f=f.child;f!==null;){if(m=u(f),m!==null)return m;f=f.sibling}return null}var p=Object.assign,h=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),y=Symbol.for("react.consumer"),T=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function z(f){return f===null||typeof f!="object"?null:(f=q&&f[q]||f["@@iterator"],typeof f=="function"?f:null)}var N=Symbol.for("react.client.reference");function U(f){if(f==null)return null;if(typeof f=="function")return f.$$typeof===N?null:f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case b:return"Fragment";case v:return"Profiler";case g:return"StrictMode";case P:return"Suspense";case H:return"SuspenseList";case O:return"Activity"}if(typeof f=="object")switch(f.$$typeof){case x:return"Portal";case T:return f.displayName||"Context";case y:return(f._context.displayName||"Context")+".Consumer";case R:var m=f.render;return f=f.displayName,f||(f=m.displayName||m.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case L:return m=f.displayName||null,m!==null?m:U(f.type)||"Memo";case I:m=f._payload,f=f._init;try{return U(f(m))}catch{}}return null}var C=Array.isArray,S=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,E={pending:!1,data:null,method:null,action:null},A=[],j=-1;function B(f){return{current:f}}function D(f){0>j||(f.current=A[j],A[j]=null,j--)}function Q(f,m){j++,A[j]=f.current,f.current=m}var K=B(null),ee=B(null),W=B(null),te=B(null);function G(f,m){switch(Q(W,m),Q(ee,f),Q(K,null),m.nodeType){case 9:case 11:f=(f=m.documentElement)&&(f=f.namespaceURI)?sv(f):0;break;default:if(f=m.tagName,m=m.namespaceURI)m=sv(m),f=av(m,f);else switch(f){case"svg":f=1;break;case"math":f=2;break;default:f=0}}D(K),Q(K,f)}function V(){D(K),D(ee),D(W)}function Z(f){f.memoizedState!==null&&Q(te,f);var m=K.current,w=av(m,f.type);m!==w&&(Q(ee,f),Q(K,w))}function ae(f){ee.current===f&&(D(K),D(ee)),te.current===f&&(D(te),Zu._currentValue=E)}var re,oe;function he(f){if(re===void 0)try{throw Error()}catch(w){var m=w.stack.trim().match(/\n( *(at )?)/);re=m&&m[1]||"",oe=-1<w.stack.indexOf(`
    at`)?" (<anonymous>)":-1<w.stack.indexOf("@")?"@unknown:0:0":""}return`
`+re+f+oe}var Se=!1;function ge(f,m){if(!f||Se)return"";Se=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var M={DetermineComponentFrameRoot:function(){try{if(m){var _t=function(){throw Error()};if(Object.defineProperty(_t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_t,[])}catch(ht){var ot=ht}Reflect.construct(f,[],_t)}else{try{_t.call()}catch(ht){ot=ht}f.call(_t.prototype)}}else{try{throw Error()}catch(ht){ot=ht}(_t=f())&&typeof _t.catch=="function"&&_t.catch(function(){})}}catch(ht){if(ht&&ot&&typeof ht.stack=="string")return[ht.stack,ot.stack]}return[null,null]}};M.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var Y=Object.getOwnPropertyDescriptor(M.DetermineComponentFrameRoot,"name");Y&&Y.configurable&&Object.defineProperty(M.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var J=M.DetermineComponentFrameRoot(),ie=J[0],ve=J[1];if(ie&&ve){var Le=ie.split(`
`),nt=ve.split(`
`);for(Y=M=0;M<Le.length&&!Le[M].includes("DetermineComponentFrameRoot");)M++;for(;Y<nt.length&&!nt[Y].includes("DetermineComponentFrameRoot");)Y++;if(M===Le.length||Y===nt.length)for(M=Le.length-1,Y=nt.length-1;1<=M&&0<=Y&&Le[M]!==nt[Y];)Y--;for(;1<=M&&0<=Y;M--,Y--)if(Le[M]!==nt[Y]){if(M!==1||Y!==1)do if(M--,Y--,0>Y||Le[M]!==nt[Y]){var bt=`
`+Le[M].replace(" at new "," at ");return f.displayName&&bt.includes("<anonymous>")&&(bt=bt.replace("<anonymous>",f.displayName)),bt}while(1<=M&&0<=Y);break}}}finally{Se=!1,Error.prepareStackTrace=w}return(w=f?f.displayName||f.name:"")?he(w):""}function ne(f,m){switch(f.tag){case 26:case 27:case 5:return he(f.type);case 16:return he("Lazy");case 13:return f.child!==m&&m!==null?he("Suspense Fallback"):he("Suspense");case 19:return he("SuspenseList");case 0:case 15:return ge(f.type,!1);case 11:return ge(f.type.render,!1);case 1:return ge(f.type,!0);case 31:return he("Activity");default:return""}}function fe(f){try{var m="",w=null;do m+=ne(f,w),w=f,f=f.return;while(f);return m}catch(M){return`
Error generating stack: `+M.message+`
`+M.stack}}var pe=Object.prototype.hasOwnProperty,ke=r.unstable_scheduleCallback,Ce=r.unstable_cancelCallback,Fe=r.unstable_shouldYield,We=r.unstable_requestPaint,$e=r.unstable_now,it=r.unstable_getCurrentPriorityLevel,st=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,Ze=r.unstable_NormalPriority,gt=r.unstable_LowPriority,mt=r.unstable_IdlePriority,Me=r.log,Ue=r.unstable_setDisableYieldValue,Ee=null,Oe=null;function ct(f){if(typeof Me=="function"&&Ue(f),Oe&&typeof Oe.setStrictMode=="function")try{Oe.setStrictMode(Ee,f)}catch{}}var Be=Math.clz32?Math.clz32:He,Ye=Math.log,je=Math.LN2;function He(f){return f>>>=0,f===0?32:31-(Ye(f)/je|0)|0}var Te=256,rt=262144,Re=4194304;function Ae(f){var m=f&42;if(m!==0)return m;switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return f&261888;case 262144:case 524288:case 1048576:case 2097152:return f&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return f&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return f}}function at(f,m,w){var M=f.pendingLanes;if(M===0)return 0;var Y=0,J=f.suspendedLanes,ie=f.pingedLanes;f=f.warmLanes;var ve=M&134217727;return ve!==0?(M=ve&~J,M!==0?Y=Ae(M):(ie&=ve,ie!==0?Y=Ae(ie):w||(w=ve&~f,w!==0&&(Y=Ae(w))))):(ve=M&~J,ve!==0?Y=Ae(ve):ie!==0?Y=Ae(ie):w||(w=M&~f,w!==0&&(Y=Ae(w)))),Y===0?0:m!==0&&m!==Y&&(m&J)===0&&(J=Y&-Y,w=m&-m,J>=w||J===32&&(w&4194048)!==0)?m:Y}function pt(f,m){return(f.pendingLanes&~(f.suspendedLanes&~f.pingedLanes)&m)===0}function lt(f,m){switch(f){case 1:case 2:case 4:case 8:case 64:return m+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rt(){var f=Re;return Re<<=1,(Re&62914560)===0&&(Re=4194304),f}function jt(f){for(var m=[],w=0;31>w;w++)m.push(f);return m}function Ct(f,m){f.pendingLanes|=m,m!==268435456&&(f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0)}function Mt(f,m,w,M,Y,J){var ie=f.pendingLanes;f.pendingLanes=w,f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0,f.expiredLanes&=w,f.entangledLanes&=w,f.errorRecoveryDisabledLanes&=w,f.shellSuspendCounter=0;var ve=f.entanglements,Le=f.expirationTimes,nt=f.hiddenUpdates;for(w=ie&~w;0<w;){var bt=31-Be(w),_t=1<<bt;ve[bt]=0,Le[bt]=-1;var ot=nt[bt];if(ot!==null)for(nt[bt]=null,bt=0;bt<ot.length;bt++){var ht=ot[bt];ht!==null&&(ht.lane&=-536870913)}w&=~_t}M!==0&&Dt(f,M,0),J!==0&&Y===0&&f.tag!==0&&(f.suspendedLanes|=J&~(ie&~m))}function Dt(f,m,w){f.pendingLanes|=m,f.suspendedLanes&=~m;var M=31-Be(m);f.entangledLanes|=m,f.entanglements[M]=f.entanglements[M]|1073741824|w&261930}function Nt(f,m){var w=f.entangledLanes|=m;for(f=f.entanglements;w;){var M=31-Be(w),Y=1<<M;Y&m|f[M]&m&&(f[M]|=m),w&=~Y}}function Ie(f,m){var w=m&-m;return w=(w&42)!==0?1:Ge(w),(w&(f.suspendedLanes|m))!==0?0:w}function Ge(f){switch(f){case 2:f=1;break;case 8:f=4;break;case 32:f=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:f=128;break;case 268435456:f=134217728;break;default:f=0}return f}function ut(f){return f&=-f,2<f?8<f?(f&134217727)!==0?32:268435456:8:2}function le(){var f=k.p;return f!==0?f:(f=window.event,f===void 0?32:Cv(f.type))}function ye(f,m){var w=k.p;try{return k.p=f,m()}finally{k.p=w}}var ue=Math.random().toString(36).slice(2),de="__reactFiber$"+ue,be="__reactProps$"+ue,xe="__reactContainer$"+ue,De="__reactEvents$"+ue,Ve="__reactListeners$"+ue,Pe="__reactHandles$"+ue,qe="__reactResources$"+ue,Xe="__reactMarker$"+ue;function yt(f){delete f[de],delete f[be],delete f[De],delete f[Ve],delete f[Pe]}function St(f){var m=f[de];if(m)return m;for(var w=f.parentNode;w;){if(m=w[xe]||w[de]){if(w=m.alternate,m.child!==null||w!==null&&w.child!==null)for(f=hv(f);f!==null;){if(w=f[de])return w;f=hv(f)}return m}f=w,w=f.parentNode}return null}function kt(f){if(f=f[de]||f[xe]){var m=f.tag;if(m===5||m===6||m===13||m===31||m===26||m===27||m===3)return f}return null}function me(f){var m=f.tag;if(m===5||m===26||m===27||m===6)return f.stateNode;throw Error(n(33))}function Ne(f){var m=f[qe];return m||(m=f[qe]={hoistableStyles:new Map,hoistableScripts:new Map}),m}function Ke(f){f[Xe]=!0}var dt=new Set,Et={};function xt(f,m){At(f,m),At(f+"Capture",m)}function At(f,m){for(Et[f]=m,f=0;f<m.length;f++)dt.add(m[f])}var Qt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qt={},Gt={};function Ut(f){return pe.call(Gt,f)?!0:pe.call(qt,f)?!1:Qt.test(f)?Gt[f]=!0:(qt[f]=!0,!1)}function Jt(f,m,w){if(Ut(m))if(w===null)f.removeAttribute(m);else{switch(typeof w){case"undefined":case"function":case"symbol":f.removeAttribute(m);return;case"boolean":var M=m.toLowerCase().slice(0,5);if(M!=="data-"&&M!=="aria-"){f.removeAttribute(m);return}}f.setAttribute(m,""+w)}}function rr(f,m,w){if(w===null)f.removeAttribute(m);else{switch(typeof w){case"undefined":case"function":case"symbol":case"boolean":f.removeAttribute(m);return}f.setAttribute(m,""+w)}}function Xt(f,m,w,M){if(M===null)f.removeAttribute(w);else{switch(typeof M){case"undefined":case"function":case"symbol":case"boolean":f.removeAttribute(w);return}f.setAttributeNS(m,w,""+M)}}function or(f){switch(typeof f){case"bigint":case"boolean":case"number":case"string":case"undefined":return f;case"object":return f;default:return""}}function zr(f){var m=f.type;return(f=f.nodeName)&&f.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function fn(f,m,w){var M=Object.getOwnPropertyDescriptor(f.constructor.prototype,m);if(!f.hasOwnProperty(m)&&typeof M<"u"&&typeof M.get=="function"&&typeof M.set=="function"){var Y=M.get,J=M.set;return Object.defineProperty(f,m,{configurable:!0,get:function(){return Y.call(this)},set:function(ie){w=""+ie,J.call(this,ie)}}),Object.defineProperty(f,m,{enumerable:M.enumerable}),{getValue:function(){return w},setValue:function(ie){w=""+ie},stopTracking:function(){f._valueTracker=null,delete f[m]}}}}function fr(f){if(!f._valueTracker){var m=zr(f)?"checked":"value";f._valueTracker=fn(f,m,""+f[m])}}function ms(f){if(!f)return!1;var m=f._valueTracker;if(!m)return!0;var w=m.getValue(),M="";return f&&(M=zr(f)?f.checked?"true":"false":f.value),f=M,f!==w?(m.setValue(f),!0):!1}function Hn(f){if(f=f||(typeof document<"u"?document:void 0),typeof f>"u")return null;try{return f.activeElement||f.body}catch{return f.body}}var ks=/[\n"\\]/g;function hn(f){return f.replace(ks,function(m){return"\\"+m.charCodeAt(0).toString(16)+" "})}function gr(f,m,w,M,Y,J,ie,ve){f.name="",ie!=null&&typeof ie!="function"&&typeof ie!="symbol"&&typeof ie!="boolean"?f.type=ie:f.removeAttribute("type"),m!=null?ie==="number"?(m===0&&f.value===""||f.value!=m)&&(f.value=""+or(m)):f.value!==""+or(m)&&(f.value=""+or(m)):ie!=="submit"&&ie!=="reset"||f.removeAttribute("value"),m!=null?Es(f,ie,or(m)):w!=null?Es(f,ie,or(w)):M!=null&&f.removeAttribute("value"),Y==null&&J!=null&&(f.defaultChecked=!!J),Y!=null&&(f.checked=Y&&typeof Y!="function"&&typeof Y!="symbol"),ve!=null&&typeof ve!="function"&&typeof ve!="symbol"&&typeof ve!="boolean"?f.name=""+or(ve):f.removeAttribute("name")}function mr(f,m,w,M,Y,J,ie,ve){if(J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"&&(f.type=J),m!=null||w!=null){if(!(J!=="submit"&&J!=="reset"||m!=null)){fr(f);return}w=w!=null?""+or(w):"",m=m!=null?""+or(m):w,ve||m===f.value||(f.value=m),f.defaultValue=m}M=M??Y,M=typeof M!="function"&&typeof M!="symbol"&&!!M,f.checked=ve?f.checked:!!M,f.defaultChecked=!!M,ie!=null&&typeof ie!="function"&&typeof ie!="symbol"&&typeof ie!="boolean"&&(f.name=ie),fr(f)}function Es(f,m,w){m==="number"&&Hn(f.ownerDocument)===f||f.defaultValue===""+w||(f.defaultValue=""+w)}function rs(f,m,w,M){if(f=f.options,m){m={};for(var Y=0;Y<w.length;Y++)m["$"+w[Y]]=!0;for(w=0;w<f.length;w++)Y=m.hasOwnProperty("$"+f[w].value),f[w].selected!==Y&&(f[w].selected=Y),Y&&M&&(f[w].defaultSelected=!0)}else{for(w=""+or(w),m=null,Y=0;Y<f.length;Y++){if(f[Y].value===w){f[Y].selected=!0,M&&(f[Y].defaultSelected=!0);return}m!==null||f[Y].disabled||(m=f[Y])}m!==null&&(m.selected=!0)}}function mi(f,m,w){if(m!=null&&(m=""+or(m),m!==f.value&&(f.value=m),w==null)){f.defaultValue!==m&&(f.defaultValue=m);return}f.defaultValue=w!=null?""+or(w):""}function rn(f,m,w,M){if(m==null){if(M!=null){if(w!=null)throw Error(n(92));if(C(M)){if(1<M.length)throw Error(n(93));M=M[0]}w=M}w==null&&(w=""),m=w}w=or(m),f.defaultValue=w,M=f.textContent,M===w&&M!==""&&M!==null&&(f.value=M),fr(f)}function Qr(f,m){if(m){var w=f.firstChild;if(w&&w===f.lastChild&&w.nodeType===3){w.nodeValue=m;return}}f.textContent=m}var Bs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wa(f,m,w){var M=m.indexOf("--")===0;w==null||typeof w=="boolean"||w===""?M?f.setProperty(m,""):m==="float"?f.cssFloat="":f[m]="":M?f.setProperty(m,w):typeof w!="number"||w===0||Bs.has(m)?m==="float"?f.cssFloat=w:f[m]=(""+w).trim():f[m]=w+"px"}function za(f,m,w){if(m!=null&&typeof m!="object")throw Error(n(62));if(f=f.style,w!=null){for(var M in w)!w.hasOwnProperty(M)||m!=null&&m.hasOwnProperty(M)||(M.indexOf("--")===0?f.setProperty(M,""):M==="float"?f.cssFloat="":f[M]="");for(var Y in m)M=m[Y],m.hasOwnProperty(Y)&&w[Y]!==M&&wa(f,Y,M)}else for(var J in m)m.hasOwnProperty(J)&&wa(f,J,m[J])}function Us(f){if(f.indexOf("-")===-1)return!1;switch(f){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vs=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_a=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sa(f){return _a.test(""+f)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":f}function gs(){}var Ha=null;function $n(f){return f=f.target||f.srcElement||window,f.correspondingUseElement&&(f=f.correspondingUseElement),f.nodeType===3?f.parentNode:f}var Ta=null,bs=null;function ta(f){var m=kt(f);if(m&&(f=m.stateNode)){var w=f[be]||null;e:switch(f=m.stateNode,m.type){case"input":if(gr(f,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name),m=w.name,w.type==="radio"&&m!=null){for(w=f;w.parentNode;)w=w.parentNode;for(w=w.querySelectorAll('input[name="'+hn(""+m)+'"][type="radio"]'),m=0;m<w.length;m++){var M=w[m];if(M!==f&&M.form===f.form){var Y=M[be]||null;if(!Y)throw Error(n(90));gr(M,Y.value,Y.defaultValue,Y.defaultValue,Y.checked,Y.defaultChecked,Y.type,Y.name)}}for(m=0;m<w.length;m++)M=w[m],M.form===f.form&&ms(M)}break e;case"textarea":mi(f,w.value,w.defaultValue);break e;case"select":m=w.value,m!=null&&rs(f,!!w.multiple,m,!1)}}}var Yl=!1;function Ki(f,m,w){if(Yl)return f(m,w);Yl=!0;try{var M=f(m);return M}finally{if(Yl=!1,(Ta!==null||bs!==null)&&(dd(),Ta&&(m=Ta,f=bs,bs=Ta=null,ta(m),f)))for(m=0;m<f.length;m++)ta(f[m])}}function ka(f,m){var w=f.stateNode;if(w===null)return null;var M=w[be]||null;if(M===null)return null;w=M[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(M=!M.disabled)||(f=f.type,M=!(f==="button"||f==="input"||f==="select"||f==="textarea")),f=!M;break e;default:f=!1}if(f)return null;if(w&&typeof w!="function")throw Error(n(231,m,typeof w));return w}var ra=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jo=!1;if(ra)try{var Lr={};Object.defineProperty(Lr,"passive",{get:function(){Jo=!0}}),window.addEventListener("test",Lr,Lr),window.removeEventListener("test",Lr,Lr)}catch{Jo=!1}var $a=null,mu=null,el=null;function gu(){if(el)return el;var f,m=mu,w=m.length,M,Y="value"in $a?$a.value:$a.textContent,J=Y.length;for(f=0;f<w&&m[f]===Y[f];f++);var ie=w-f;for(M=1;M<=ie&&m[w-M]===Y[J-M];M++);return el=Y.slice(f,1<M?1-M:void 0)}function tl(f){var m=f.keyCode;return"charCode"in f?(f=f.charCode,f===0&&m===13&&(f=13)):f=m,f===10&&(f=13),32<=f||f===13?f:0}function gi(){return!0}function Ea(){return!1}function qn(f){function m(w,M,Y,J,ie){this._reactName=w,this._targetInst=Y,this.type=M,this.nativeEvent=J,this.target=ie,this.currentTarget=null;for(var ve in f)f.hasOwnProperty(ve)&&(w=f[ve],this[ve]=w?w(J):J[ve]);return this.isDefaultPrevented=(J.defaultPrevented!=null?J.defaultPrevented:J.returnValue===!1)?gi:Ea,this.isPropagationStopped=Ea,this}return p(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var w=this.nativeEvent;w&&(w.preventDefault?w.preventDefault():typeof w.returnValue!="unknown"&&(w.returnValue=!1),this.isDefaultPrevented=gi)},stopPropagation:function(){var w=this.nativeEvent;w&&(w.stopPropagation?w.stopPropagation():typeof w.cancelBubble!="unknown"&&(w.cancelBubble=!0),this.isPropagationStopped=gi)},persist:function(){},isPersistent:gi}),m}var bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(f){return f.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qa=qn(bi),Qi=p({},bi,{view:0,detail:0}),bu=qn(Qi),Zi,Kl,Ga,Ql=p({},Qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ji,button:0,buttons:0,relatedTarget:function(f){return f.relatedTarget===void 0?f.fromElement===f.srcElement?f.toElement:f.fromElement:f.relatedTarget},movementX:function(f){return"movementX"in f?f.movementX:(f!==Ga&&(Ga&&f.type==="mousemove"?(Zi=f.screenX-Ga.screenX,Kl=f.screenY-Ga.screenY):Kl=Zi=0,Ga=f),Zi)},movementY:function(f){return"movementY"in f?f.movementY:Kl}}),xu=qn(Ql),rl=p({},Ql,{dataTransfer:0}),wh=qn(rl),_h=p({},Qi,{relatedTarget:0}),nl=qn(_h),yu=p({},bi,{animationName:0,elapsedTime:0,pseudoElement:0}),Sh=qn(yu),Zl=p({},bi,{clipboardData:function(f){return"clipboardData"in f?f.clipboardData:window.clipboardData}}),Th=qn(Zl),kh=p({},bi,{data:0}),Wa=qn(kh),Eh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ah={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ch={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nh(f){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(f):(f=Ch[f])?!!m[f]:!1}function Ji(){return Nh}var xs=p({},Qi,{key:function(f){if(f.key){var m=Eh[f.key]||f.key;if(m!=="Unidentified")return m}return f.type==="keypress"?(f=tl(f),f===13?"Enter":String.fromCharCode(f)):f.type==="keydown"||f.type==="keyup"?Ah[f.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ji,charCode:function(f){return f.type==="keypress"?tl(f):0},keyCode:function(f){return f.type==="keydown"||f.type==="keyup"?f.keyCode:0},which:function(f){return f.type==="keypress"?tl(f):f.type==="keydown"||f.type==="keyup"?f.keyCode:0}}),Rh=qn(xs),Mh=p({},Ql,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xi=qn(Mh),X=p({},Qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ji}),se=qn(X),ce=p({},bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),we=qn(ce),Je=p({},Ql,{deltaX:function(f){return"deltaX"in f?f.deltaX:"wheelDeltaX"in f?-f.wheelDeltaX:0},deltaY:function(f){return"deltaY"in f?f.deltaY:"wheelDeltaY"in f?-f.wheelDeltaY:"wheelDelta"in f?-f.wheelDelta:0},deltaZ:0,deltaMode:0}),ft=qn(Je),It=p({},bi,{newState:0,oldState:0}),lr=qn(It),dn=[9,13,27,32],Ir=ra&&"CompositionEvent"in window,Zr=null;ra&&"documentMode"in document&&(Zr=document.documentMode);var na=ra&&"TextEvent"in window&&!Zr,Xa=ra&&(!Ir||Zr&&8<Zr&&11>=Zr),Aa=" ",Ca=!1;function sl(f,m){switch(f){case"keyup":return dn.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jl(f){return f=f.detail,typeof f=="object"&&"data"in f?f.data:null}var ec=!1;function pS(f,m){switch(f){case"compositionend":return Jl(m);case"keypress":return m.which!==32?null:(Ca=!0,Aa);case"textInput":return f=m.data,f===Aa&&Ca?null:f;default:return null}}function mS(f,m){if(ec)return f==="compositionend"||!Ir&&sl(f,m)?(f=gu(),el=mu=$a=null,ec=!1,f):null;switch(f){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return Xa&&m.locale!=="ko"?null:m.data;default:return null}}var gS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mx(f){var m=f&&f.nodeName&&f.nodeName.toLowerCase();return m==="input"?!!gS[f.type]:m==="textarea"}function gx(f,m,w,M){Ta?bs?bs.push(M):bs=[M]:Ta=M,m=vd(m,"onChange"),0<m.length&&(w=new qa("onChange","change",null,w,M),f.push({event:w,listeners:m}))}var vu=null,wu=null;function bS(f){Z2(f,0)}function jh(f){var m=me(f);if(ms(m))return f}function bx(f,m){if(f==="change")return m}var xx=!1;if(ra){var Sp;if(ra){var Tp="oninput"in document;if(!Tp){var yx=document.createElement("div");yx.setAttribute("oninput","return;"),Tp=typeof yx.oninput=="function"}Sp=Tp}else Sp=!1;xx=Sp&&(!document.documentMode||9<document.documentMode)}function vx(){vu&&(vu.detachEvent("onpropertychange",wx),wu=vu=null)}function wx(f){if(f.propertyName==="value"&&jh(wu)){var m=[];gx(m,wu,f,$n(f)),Ki(bS,m)}}function xS(f,m,w){f==="focusin"?(vx(),vu=m,wu=w,vu.attachEvent("onpropertychange",wx)):f==="focusout"&&vx()}function yS(f){if(f==="selectionchange"||f==="keyup"||f==="keydown")return jh(wu)}function vS(f,m){if(f==="click")return jh(m)}function wS(f,m){if(f==="input"||f==="change")return jh(m)}function _S(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var zs=typeof Object.is=="function"?Object.is:_S;function _u(f,m){if(zs(f,m))return!0;if(typeof f!="object"||f===null||typeof m!="object"||m===null)return!1;var w=Object.keys(f),M=Object.keys(m);if(w.length!==M.length)return!1;for(M=0;M<w.length;M++){var Y=w[M];if(!pe.call(m,Y)||!zs(f[Y],m[Y]))return!1}return!0}function _x(f){for(;f&&f.firstChild;)f=f.firstChild;return f}function Sx(f,m){var w=_x(f);f=0;for(var M;w;){if(w.nodeType===3){if(M=f+w.textContent.length,f<=m&&M>=m)return{node:w,offset:m-f};f=M}e:{for(;w;){if(w.nextSibling){w=w.nextSibling;break e}w=w.parentNode}w=void 0}w=_x(w)}}function Tx(f,m){return f&&m?f===m?!0:f&&f.nodeType===3?!1:m&&m.nodeType===3?Tx(f,m.parentNode):"contains"in f?f.contains(m):f.compareDocumentPosition?!!(f.compareDocumentPosition(m)&16):!1:!1}function kx(f){f=f!=null&&f.ownerDocument!=null&&f.ownerDocument.defaultView!=null?f.ownerDocument.defaultView:window;for(var m=Hn(f.document);m instanceof f.HTMLIFrameElement;){try{var w=typeof m.contentWindow.location.href=="string"}catch{w=!1}if(w)f=m.contentWindow;else break;m=Hn(f.document)}return m}function kp(f){var m=f&&f.nodeName&&f.nodeName.toLowerCase();return m&&(m==="input"&&(f.type==="text"||f.type==="search"||f.type==="tel"||f.type==="url"||f.type==="password")||m==="textarea"||f.contentEditable==="true")}var SS=ra&&"documentMode"in document&&11>=document.documentMode,tc=null,Ep=null,Su=null,Ap=!1;function Ex(f,m,w){var M=w.window===w?w.document:w.nodeType===9?w:w.ownerDocument;Ap||tc==null||tc!==Hn(M)||(M=tc,"selectionStart"in M&&kp(M)?M={start:M.selectionStart,end:M.selectionEnd}:(M=(M.ownerDocument&&M.ownerDocument.defaultView||window).getSelection(),M={anchorNode:M.anchorNode,anchorOffset:M.anchorOffset,focusNode:M.focusNode,focusOffset:M.focusOffset}),Su&&_u(Su,M)||(Su=M,M=vd(Ep,"onSelect"),0<M.length&&(m=new qa("onSelect","select",null,m,w),f.push({event:m,listeners:M}),m.target=tc)))}function al(f,m){var w={};return w[f.toLowerCase()]=m.toLowerCase(),w["Webkit"+f]="webkit"+m,w["Moz"+f]="moz"+m,w}var rc={animationend:al("Animation","AnimationEnd"),animationiteration:al("Animation","AnimationIteration"),animationstart:al("Animation","AnimationStart"),transitionrun:al("Transition","TransitionRun"),transitionstart:al("Transition","TransitionStart"),transitioncancel:al("Transition","TransitionCancel"),transitionend:al("Transition","TransitionEnd")},Cp={},Ax={};ra&&(Ax=document.createElement("div").style,"AnimationEvent"in window||(delete rc.animationend.animation,delete rc.animationiteration.animation,delete rc.animationstart.animation),"TransitionEvent"in window||delete rc.transitionend.transition);function il(f){if(Cp[f])return Cp[f];if(!rc[f])return f;var m=rc[f],w;for(w in m)if(m.hasOwnProperty(w)&&w in Ax)return Cp[f]=m[w];return f}var Cx=il("animationend"),Nx=il("animationiteration"),Rx=il("animationstart"),TS=il("transitionrun"),kS=il("transitionstart"),ES=il("transitioncancel"),Mx=il("transitionend"),jx=new Map,Np="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Np.push("scrollEnd");function Na(f,m){jx.set(f,m),xt(m,[f])}var Ih=typeof reportError=="function"?reportError:function(f){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var m=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof f=="object"&&f!==null&&typeof f.message=="string"?String(f.message):String(f),error:f});if(!window.dispatchEvent(m))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",f);return}console.error(f)},sa=[],nc=0,Rp=0;function Dh(){for(var f=nc,m=Rp=nc=0;m<f;){var w=sa[m];sa[m++]=null;var M=sa[m];sa[m++]=null;var Y=sa[m];sa[m++]=null;var J=sa[m];if(sa[m++]=null,M!==null&&Y!==null){var ie=M.pending;ie===null?Y.next=Y:(Y.next=ie.next,ie.next=Y),M.pending=Y}J!==0&&Ix(w,Y,J)}}function Oh(f,m,w,M){sa[nc++]=f,sa[nc++]=m,sa[nc++]=w,sa[nc++]=M,Rp|=M,f.lanes|=M,f=f.alternate,f!==null&&(f.lanes|=M)}function Mp(f,m,w,M){return Oh(f,m,w,M),Fh(f)}function ol(f,m){return Oh(f,null,null,m),Fh(f)}function Ix(f,m,w){f.lanes|=w;var M=f.alternate;M!==null&&(M.lanes|=w);for(var Y=!1,J=f.return;J!==null;)J.childLanes|=w,M=J.alternate,M!==null&&(M.childLanes|=w),J.tag===22&&(f=J.stateNode,f===null||f._visibility&1||(Y=!0)),f=J,J=J.return;return f.tag===3?(J=f.stateNode,Y&&m!==null&&(Y=31-Be(w),f=J.hiddenUpdates,M=f[Y],M===null?f[Y]=[m]:M.push(m),m.lane=w|536870912),J):null}function Fh(f){if(50<qu)throw qu=0,Um=null,Error(n(185));for(var m=f.return;m!==null;)f=m,m=f.return;return f.tag===3?f.stateNode:null}var sc={};function AS(f,m,w,M){this.tag=f,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hs(f,m,w,M){return new AS(f,m,w,M)}function jp(f){return f=f.prototype,!(!f||!f.isReactComponent)}function yi(f,m){var w=f.alternate;return w===null?(w=Hs(f.tag,m,f.key,f.mode),w.elementType=f.elementType,w.type=f.type,w.stateNode=f.stateNode,w.alternate=f,f.alternate=w):(w.pendingProps=m,w.type=f.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=f.flags&65011712,w.childLanes=f.childLanes,w.lanes=f.lanes,w.child=f.child,w.memoizedProps=f.memoizedProps,w.memoizedState=f.memoizedState,w.updateQueue=f.updateQueue,m=f.dependencies,w.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},w.sibling=f.sibling,w.index=f.index,w.ref=f.ref,w.refCleanup=f.refCleanup,w}function Dx(f,m){f.flags&=65011714;var w=f.alternate;return w===null?(f.childLanes=0,f.lanes=m,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=w.childLanes,f.lanes=w.lanes,f.child=w.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=w.memoizedProps,f.memoizedState=w.memoizedState,f.updateQueue=w.updateQueue,f.type=w.type,m=w.dependencies,f.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),f}function Ph(f,m,w,M,Y,J){var ie=0;if(M=f,typeof f=="function")jp(f)&&(ie=1);else if(typeof f=="string")ie=jT(f,w,K.current)?26:f==="html"||f==="head"||f==="body"?27:5;else e:switch(f){case O:return f=Hs(31,w,m,Y),f.elementType=O,f.lanes=J,f;case b:return ll(w.children,Y,J,m);case g:ie=8,Y|=24;break;case v:return f=Hs(12,w,m,Y|2),f.elementType=v,f.lanes=J,f;case P:return f=Hs(13,w,m,Y),f.elementType=P,f.lanes=J,f;case H:return f=Hs(19,w,m,Y),f.elementType=H,f.lanes=J,f;default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case T:ie=10;break e;case y:ie=9;break e;case R:ie=11;break e;case L:ie=14;break e;case I:ie=16,M=null;break e}ie=29,w=Error(n(130,f===null?"null":typeof f,"")),M=null}return m=Hs(ie,w,m,Y),m.elementType=f,m.type=M,m.lanes=J,m}function ll(f,m,w,M){return f=Hs(7,f,M,m),f.lanes=w,f}function Ip(f,m,w){return f=Hs(6,f,null,m),f.lanes=w,f}function Ox(f){var m=Hs(18,null,null,0);return m.stateNode=f,m}function Dp(f,m,w){return m=Hs(4,f.children!==null?f.children:[],f.key,m),m.lanes=w,m.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},m}var Fx=new WeakMap;function aa(f,m){if(typeof f=="object"&&f!==null){var w=Fx.get(f);return w!==void 0?w:(m={value:f,source:m,stack:fe(m)},Fx.set(f,m),m)}return{value:f,source:m,stack:fe(m)}}var ac=[],ic=0,Lh=null,Tu=0,ia=[],oa=0,eo=null,Ya=1,Ka="";function vi(f,m){ac[ic++]=Tu,ac[ic++]=Lh,Lh=f,Tu=m}function Px(f,m,w){ia[oa++]=Ya,ia[oa++]=Ka,ia[oa++]=eo,eo=f;var M=Ya;f=Ka;var Y=32-Be(M)-1;M&=~(1<<Y),w+=1;var J=32-Be(m)+Y;if(30<J){var ie=Y-Y%5;J=(M&(1<<ie)-1).toString(32),M>>=ie,Y-=ie,Ya=1<<32-Be(m)+Y|w<<Y|M,Ka=J+f}else Ya=1<<J|w<<Y|M,Ka=f}function Op(f){f.return!==null&&(vi(f,1),Px(f,1,0))}function Fp(f){for(;f===Lh;)Lh=ac[--ic],ac[ic]=null,Tu=ac[--ic],ac[ic]=null;for(;f===eo;)eo=ia[--oa],ia[oa]=null,Ka=ia[--oa],ia[oa]=null,Ya=ia[--oa],ia[oa]=null}function Lx(f,m){ia[oa++]=Ya,ia[oa++]=Ka,ia[oa++]=eo,Ya=m.id,Ka=m.overflow,eo=f}var Gn=null,Xr=null,kr=!1,to=null,la=!1,Pp=Error(n(519));function ro(f){var m=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ku(aa(m,f)),Pp}function Bx(f){var m=f.stateNode,w=f.type,M=f.memoizedProps;switch(m[de]=f,m[be]=M,w){case"dialog":xr("cancel",m),xr("close",m);break;case"iframe":case"object":case"embed":xr("load",m);break;case"video":case"audio":for(w=0;w<Wu.length;w++)xr(Wu[w],m);break;case"source":xr("error",m);break;case"img":case"image":case"link":xr("error",m),xr("load",m);break;case"details":xr("toggle",m);break;case"input":xr("invalid",m),mr(m,M.value,M.defaultValue,M.checked,M.defaultChecked,M.type,M.name,!0);break;case"select":xr("invalid",m);break;case"textarea":xr("invalid",m),rn(m,M.value,M.defaultValue,M.children)}w=M.children,typeof w!="string"&&typeof w!="number"&&typeof w!="bigint"||m.textContent===""+w||M.suppressHydrationWarning===!0||rv(m.textContent,w)?(M.popover!=null&&(xr("beforetoggle",m),xr("toggle",m)),M.onScroll!=null&&xr("scroll",m),M.onScrollEnd!=null&&xr("scrollend",m),M.onClick!=null&&(m.onclick=gs),m=!0):m=!1,m||ro(f,!0)}function Ux(f){for(Gn=f.return;Gn;)switch(Gn.tag){case 5:case 31:case 13:la=!1;return;case 27:case 3:la=!0;return;default:Gn=Gn.return}}function oc(f){if(f!==Gn)return!1;if(!kr)return Ux(f),kr=!0,!1;var m=f.tag,w;if((w=m!==3&&m!==27)&&((w=m===5)&&(w=f.type,w=!(w!=="form"&&w!=="button")||tg(f.type,f.memoizedProps)),w=!w),w&&Xr&&ro(f),Ux(f),m===13){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));Xr=fv(f)}else if(m===31){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));Xr=fv(f)}else m===27?(m=Xr,bo(f.type)?(f=ig,ig=null,Xr=f):Xr=m):Xr=Gn?ua(f.stateNode.nextSibling):null;return!0}function cl(){Xr=Gn=null,kr=!1}function Lp(){var f=to;return f!==null&&(Rs===null?Rs=f:Rs.push.apply(Rs,f),to=null),f}function ku(f){to===null?to=[f]:to.push(f)}var Bp=B(null),ul=null,wi=null;function no(f,m,w){Q(Bp,m._currentValue),m._currentValue=w}function _i(f){f._currentValue=Bp.current,D(Bp)}function Up(f,m,w){for(;f!==null;){var M=f.alternate;if((f.childLanes&m)!==m?(f.childLanes|=m,M!==null&&(M.childLanes|=m)):M!==null&&(M.childLanes&m)!==m&&(M.childLanes|=m),f===w)break;f=f.return}}function Vp(f,m,w,M){var Y=f.child;for(Y!==null&&(Y.return=f);Y!==null;){var J=Y.dependencies;if(J!==null){var ie=Y.child;J=J.firstContext;e:for(;J!==null;){var ve=J;J=Y;for(var Le=0;Le<m.length;Le++)if(ve.context===m[Le]){J.lanes|=w,ve=J.alternate,ve!==null&&(ve.lanes|=w),Up(J.return,w,f),M||(ie=null);break e}J=ve.next}}else if(Y.tag===18){if(ie=Y.return,ie===null)throw Error(n(341));ie.lanes|=w,J=ie.alternate,J!==null&&(J.lanes|=w),Up(ie,w,f),ie=null}else ie=Y.child;if(ie!==null)ie.return=Y;else for(ie=Y;ie!==null;){if(ie===f){ie=null;break}if(Y=ie.sibling,Y!==null){Y.return=ie.return,ie=Y;break}ie=ie.return}Y=ie}}function lc(f,m,w,M){f=null;for(var Y=m,J=!1;Y!==null;){if(!J){if((Y.flags&524288)!==0)J=!0;else if((Y.flags&262144)!==0)break}if(Y.tag===10){var ie=Y.alternate;if(ie===null)throw Error(n(387));if(ie=ie.memoizedProps,ie!==null){var ve=Y.type;zs(Y.pendingProps.value,ie.value)||(f!==null?f.push(ve):f=[ve])}}else if(Y===te.current){if(ie=Y.alternate,ie===null)throw Error(n(387));ie.memoizedState.memoizedState!==Y.memoizedState.memoizedState&&(f!==null?f.push(Zu):f=[Zu])}Y=Y.return}f!==null&&Vp(m,f,w,M),m.flags|=262144}function Bh(f){for(f=f.firstContext;f!==null;){if(!zs(f.context._currentValue,f.memoizedValue))return!0;f=f.next}return!1}function fl(f){ul=f,wi=null,f=f.dependencies,f!==null&&(f.firstContext=null)}function Wn(f){return Vx(ul,f)}function Uh(f,m){return ul===null&&fl(f),Vx(f,m)}function Vx(f,m){var w=m._currentValue;if(m={context:m,memoizedValue:w,next:null},wi===null){if(f===null)throw Error(n(308));wi=m,f.dependencies={lanes:0,firstContext:m},f.flags|=524288}else wi=wi.next=m;return w}var CS=typeof AbortController<"u"?AbortController:function(){var f=[],m=this.signal={aborted:!1,addEventListener:function(w,M){f.push(M)}};this.abort=function(){m.aborted=!0,f.forEach(function(w){return w()})}},NS=r.unstable_scheduleCallback,RS=r.unstable_NormalPriority,yn={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zp(){return{controller:new CS,data:new Map,refCount:0}}function Eu(f){f.refCount--,f.refCount===0&&NS(RS,function(){f.controller.abort()})}var Au=null,Hp=0,cc=0,uc=null;function MS(f,m){if(Au===null){var w=Au=[];Hp=0,cc=Gm(),uc={status:"pending",value:void 0,then:function(M){w.push(M)}}}return Hp++,m.then(zx,zx),m}function zx(){if(--Hp===0&&Au!==null){uc!==null&&(uc.status="fulfilled");var f=Au;Au=null,cc=0,uc=null;for(var m=0;m<f.length;m++)(0,f[m])()}}function jS(f,m){var w=[],M={status:"pending",value:null,reason:null,then:function(Y){w.push(Y)}};return f.then(function(){M.status="fulfilled",M.value=m;for(var Y=0;Y<w.length;Y++)(0,w[Y])(m)},function(Y){for(M.status="rejected",M.reason=Y,Y=0;Y<w.length;Y++)(0,w[Y])(void 0)}),M}var Hx=S.S;S.S=function(f,m){E2=$e(),typeof m=="object"&&m!==null&&typeof m.then=="function"&&MS(f,m),Hx!==null&&Hx(f,m)};var hl=B(null);function $p(){var f=hl.current;return f!==null?f:Hr.pooledCache}function Vh(f,m){m===null?Q(hl,hl.current):Q(hl,m.pool)}function $x(){var f=$p();return f===null?null:{parent:yn._currentValue,pool:f}}var fc=Error(n(460)),qp=Error(n(474)),zh=Error(n(542)),Hh={then:function(){}};function qx(f){return f=f.status,f==="fulfilled"||f==="rejected"}function Gx(f,m,w){switch(w=f[w],w===void 0?f.push(m):w!==m&&(m.then(gs,gs),m=w),m.status){case"fulfilled":return m.value;case"rejected":throw f=m.reason,Xx(f),f;default:if(typeof m.status=="string")m.then(gs,gs);else{if(f=Hr,f!==null&&100<f.shellSuspendCounter)throw Error(n(482));f=m,f.status="pending",f.then(function(M){if(m.status==="pending"){var Y=m;Y.status="fulfilled",Y.value=M}},function(M){if(m.status==="pending"){var Y=m;Y.status="rejected",Y.reason=M}})}switch(m.status){case"fulfilled":return m.value;case"rejected":throw f=m.reason,Xx(f),f}throw pl=m,fc}}function dl(f){try{var m=f._init;return m(f._payload)}catch(w){throw w!==null&&typeof w=="object"&&typeof w.then=="function"?(pl=w,fc):w}}var pl=null;function Wx(){if(pl===null)throw Error(n(459));var f=pl;return pl=null,f}function Xx(f){if(f===fc||f===zh)throw Error(n(483))}var hc=null,Cu=0;function $h(f){var m=Cu;return Cu+=1,hc===null&&(hc=[]),Gx(hc,f,m)}function Nu(f,m){m=m.props.ref,f.ref=m!==void 0?m:null}function qh(f,m){throw m.$$typeof===h?Error(n(525)):(f=Object.prototype.toString.call(m),Error(n(31,f==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":f)))}function Yx(f){function m(Qe,ze){if(f){var tt=Qe.deletions;tt===null?(Qe.deletions=[ze],Qe.flags|=16):tt.push(ze)}}function w(Qe,ze){if(!f)return null;for(;ze!==null;)m(Qe,ze),ze=ze.sibling;return null}function M(Qe){for(var ze=new Map;Qe!==null;)Qe.key!==null?ze.set(Qe.key,Qe):ze.set(Qe.index,Qe),Qe=Qe.sibling;return ze}function Y(Qe,ze){return Qe=yi(Qe,ze),Qe.index=0,Qe.sibling=null,Qe}function J(Qe,ze,tt){return Qe.index=tt,f?(tt=Qe.alternate,tt!==null?(tt=tt.index,tt<ze?(Qe.flags|=67108866,ze):tt):(Qe.flags|=67108866,ze)):(Qe.flags|=1048576,ze)}function ie(Qe){return f&&Qe.alternate===null&&(Qe.flags|=67108866),Qe}function ve(Qe,ze,tt,wt){return ze===null||ze.tag!==6?(ze=Ip(tt,Qe.mode,wt),ze.return=Qe,ze):(ze=Y(ze,tt),ze.return=Qe,ze)}function Le(Qe,ze,tt,wt){var Ht=tt.type;return Ht===b?bt(Qe,ze,tt.props.children,wt,tt.key):ze!==null&&(ze.elementType===Ht||typeof Ht=="object"&&Ht!==null&&Ht.$$typeof===I&&dl(Ht)===ze.type)?(ze=Y(ze,tt.props),Nu(ze,tt),ze.return=Qe,ze):(ze=Ph(tt.type,tt.key,tt.props,null,Qe.mode,wt),Nu(ze,tt),ze.return=Qe,ze)}function nt(Qe,ze,tt,wt){return ze===null||ze.tag!==4||ze.stateNode.containerInfo!==tt.containerInfo||ze.stateNode.implementation!==tt.implementation?(ze=Dp(tt,Qe.mode,wt),ze.return=Qe,ze):(ze=Y(ze,tt.children||[]),ze.return=Qe,ze)}function bt(Qe,ze,tt,wt,Ht){return ze===null||ze.tag!==7?(ze=ll(tt,Qe.mode,wt,Ht),ze.return=Qe,ze):(ze=Y(ze,tt),ze.return=Qe,ze)}function _t(Qe,ze,tt){if(typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint")return ze=Ip(""+ze,Qe.mode,tt),ze.return=Qe,ze;if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case d:return tt=Ph(ze.type,ze.key,ze.props,null,Qe.mode,tt),Nu(tt,ze),tt.return=Qe,tt;case x:return ze=Dp(ze,Qe.mode,tt),ze.return=Qe,ze;case I:return ze=dl(ze),_t(Qe,ze,tt)}if(C(ze)||z(ze))return ze=ll(ze,Qe.mode,tt,null),ze.return=Qe,ze;if(typeof ze.then=="function")return _t(Qe,$h(ze),tt);if(ze.$$typeof===T)return _t(Qe,Uh(Qe,ze),tt);qh(Qe,ze)}return null}function ot(Qe,ze,tt,wt){var Ht=ze!==null?ze.key:null;if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return Ht!==null?null:ve(Qe,ze,""+tt,wt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case d:return tt.key===Ht?Le(Qe,ze,tt,wt):null;case x:return tt.key===Ht?nt(Qe,ze,tt,wt):null;case I:return tt=dl(tt),ot(Qe,ze,tt,wt)}if(C(tt)||z(tt))return Ht!==null?null:bt(Qe,ze,tt,wt,null);if(typeof tt.then=="function")return ot(Qe,ze,$h(tt),wt);if(tt.$$typeof===T)return ot(Qe,ze,Uh(Qe,tt),wt);qh(Qe,tt)}return null}function ht(Qe,ze,tt,wt,Ht){if(typeof wt=="string"&&wt!==""||typeof wt=="number"||typeof wt=="bigint")return Qe=Qe.get(tt)||null,ve(ze,Qe,""+wt,Ht);if(typeof wt=="object"&&wt!==null){switch(wt.$$typeof){case d:return Qe=Qe.get(wt.key===null?tt:wt.key)||null,Le(ze,Qe,wt,Ht);case x:return Qe=Qe.get(wt.key===null?tt:wt.key)||null,nt(ze,Qe,wt,Ht);case I:return wt=dl(wt),ht(Qe,ze,tt,wt,Ht)}if(C(wt)||z(wt))return Qe=Qe.get(tt)||null,bt(ze,Qe,wt,Ht,null);if(typeof wt.then=="function")return ht(Qe,ze,tt,$h(wt),Ht);if(wt.$$typeof===T)return ht(Qe,ze,tt,Uh(ze,wt),Ht);qh(ze,wt)}return null}function Bt(Qe,ze,tt,wt){for(var Ht=null,Mr=null,Vt=ze,hr=ze=0,wr=null;Vt!==null&&hr<tt.length;hr++){Vt.index>hr?(wr=Vt,Vt=null):wr=Vt.sibling;var jr=ot(Qe,Vt,tt[hr],wt);if(jr===null){Vt===null&&(Vt=wr);break}f&&Vt&&jr.alternate===null&&m(Qe,Vt),ze=J(jr,ze,hr),Mr===null?Ht=jr:Mr.sibling=jr,Mr=jr,Vt=wr}if(hr===tt.length)return w(Qe,Vt),kr&&vi(Qe,hr),Ht;if(Vt===null){for(;hr<tt.length;hr++)Vt=_t(Qe,tt[hr],wt),Vt!==null&&(ze=J(Vt,ze,hr),Mr===null?Ht=Vt:Mr.sibling=Vt,Mr=Vt);return kr&&vi(Qe,hr),Ht}for(Vt=M(Vt);hr<tt.length;hr++)wr=ht(Vt,Qe,hr,tt[hr],wt),wr!==null&&(f&&wr.alternate!==null&&Vt.delete(wr.key===null?hr:wr.key),ze=J(wr,ze,hr),Mr===null?Ht=wr:Mr.sibling=wr,Mr=wr);return f&&Vt.forEach(function(_o){return m(Qe,_o)}),kr&&vi(Qe,hr),Ht}function Wt(Qe,ze,tt,wt){if(tt==null)throw Error(n(151));for(var Ht=null,Mr=null,Vt=ze,hr=ze=0,wr=null,jr=tt.next();Vt!==null&&!jr.done;hr++,jr=tt.next()){Vt.index>hr?(wr=Vt,Vt=null):wr=Vt.sibling;var _o=ot(Qe,Vt,jr.value,wt);if(_o===null){Vt===null&&(Vt=wr);break}f&&Vt&&_o.alternate===null&&m(Qe,Vt),ze=J(_o,ze,hr),Mr===null?Ht=_o:Mr.sibling=_o,Mr=_o,Vt=wr}if(jr.done)return w(Qe,Vt),kr&&vi(Qe,hr),Ht;if(Vt===null){for(;!jr.done;hr++,jr=tt.next())jr=_t(Qe,jr.value,wt),jr!==null&&(ze=J(jr,ze,hr),Mr===null?Ht=jr:Mr.sibling=jr,Mr=jr);return kr&&vi(Qe,hr),Ht}for(Vt=M(Vt);!jr.done;hr++,jr=tt.next())jr=ht(Vt,Qe,hr,jr.value,wt),jr!==null&&(f&&jr.alternate!==null&&Vt.delete(jr.key===null?hr:jr.key),ze=J(jr,ze,hr),Mr===null?Ht=jr:Mr.sibling=jr,Mr=jr);return f&&Vt.forEach(function(HT){return m(Qe,HT)}),kr&&vi(Qe,hr),Ht}function Vr(Qe,ze,tt,wt){if(typeof tt=="object"&&tt!==null&&tt.type===b&&tt.key===null&&(tt=tt.props.children),typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case d:e:{for(var Ht=tt.key;ze!==null;){if(ze.key===Ht){if(Ht=tt.type,Ht===b){if(ze.tag===7){w(Qe,ze.sibling),wt=Y(ze,tt.props.children),wt.return=Qe,Qe=wt;break e}}else if(ze.elementType===Ht||typeof Ht=="object"&&Ht!==null&&Ht.$$typeof===I&&dl(Ht)===ze.type){w(Qe,ze.sibling),wt=Y(ze,tt.props),Nu(wt,tt),wt.return=Qe,Qe=wt;break e}w(Qe,ze);break}else m(Qe,ze);ze=ze.sibling}tt.type===b?(wt=ll(tt.props.children,Qe.mode,wt,tt.key),wt.return=Qe,Qe=wt):(wt=Ph(tt.type,tt.key,tt.props,null,Qe.mode,wt),Nu(wt,tt),wt.return=Qe,Qe=wt)}return ie(Qe);case x:e:{for(Ht=tt.key;ze!==null;){if(ze.key===Ht)if(ze.tag===4&&ze.stateNode.containerInfo===tt.containerInfo&&ze.stateNode.implementation===tt.implementation){w(Qe,ze.sibling),wt=Y(ze,tt.children||[]),wt.return=Qe,Qe=wt;break e}else{w(Qe,ze);break}else m(Qe,ze);ze=ze.sibling}wt=Dp(tt,Qe.mode,wt),wt.return=Qe,Qe=wt}return ie(Qe);case I:return tt=dl(tt),Vr(Qe,ze,tt,wt)}if(C(tt))return Bt(Qe,ze,tt,wt);if(z(tt)){if(Ht=z(tt),typeof Ht!="function")throw Error(n(150));return tt=Ht.call(tt),Wt(Qe,ze,tt,wt)}if(typeof tt.then=="function")return Vr(Qe,ze,$h(tt),wt);if(tt.$$typeof===T)return Vr(Qe,ze,Uh(Qe,tt),wt);qh(Qe,tt)}return typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint"?(tt=""+tt,ze!==null&&ze.tag===6?(w(Qe,ze.sibling),wt=Y(ze,tt),wt.return=Qe,Qe=wt):(w(Qe,ze),wt=Ip(tt,Qe.mode,wt),wt.return=Qe,Qe=wt),ie(Qe)):w(Qe,ze)}return function(Qe,ze,tt,wt){try{Cu=0;var Ht=Vr(Qe,ze,tt,wt);return hc=null,Ht}catch(Vt){if(Vt===fc||Vt===zh)throw Vt;var Mr=Hs(29,Vt,null,Qe.mode);return Mr.lanes=wt,Mr.return=Qe,Mr}finally{}}}var ml=Yx(!0),Kx=Yx(!1),so=!1;function Gp(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wp(f,m){f=f.updateQueue,m.updateQueue===f&&(m.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,callbacks:null})}function ao(f){return{lane:f,tag:0,payload:null,callback:null,next:null}}function io(f,m,w){var M=f.updateQueue;if(M===null)return null;if(M=M.shared,(Dr&2)!==0){var Y=M.pending;return Y===null?m.next=m:(m.next=Y.next,Y.next=m),M.pending=m,m=Fh(f),Ix(f,null,w),m}return Oh(f,M,m,w),Fh(f)}function Ru(f,m,w){if(m=m.updateQueue,m!==null&&(m=m.shared,(w&4194048)!==0)){var M=m.lanes;M&=f.pendingLanes,w|=M,m.lanes=w,Nt(f,w)}}function Xp(f,m){var w=f.updateQueue,M=f.alternate;if(M!==null&&(M=M.updateQueue,w===M)){var Y=null,J=null;if(w=w.firstBaseUpdate,w!==null){do{var ie={lane:w.lane,tag:w.tag,payload:w.payload,callback:null,next:null};J===null?Y=J=ie:J=J.next=ie,w=w.next}while(w!==null);J===null?Y=J=m:J=J.next=m}else Y=J=m;w={baseState:M.baseState,firstBaseUpdate:Y,lastBaseUpdate:J,shared:M.shared,callbacks:M.callbacks},f.updateQueue=w;return}f=w.lastBaseUpdate,f===null?w.firstBaseUpdate=m:f.next=m,w.lastBaseUpdate=m}var Yp=!1;function Mu(){if(Yp){var f=uc;if(f!==null)throw f}}function ju(f,m,w,M){Yp=!1;var Y=f.updateQueue;so=!1;var J=Y.firstBaseUpdate,ie=Y.lastBaseUpdate,ve=Y.shared.pending;if(ve!==null){Y.shared.pending=null;var Le=ve,nt=Le.next;Le.next=null,ie===null?J=nt:ie.next=nt,ie=Le;var bt=f.alternate;bt!==null&&(bt=bt.updateQueue,ve=bt.lastBaseUpdate,ve!==ie&&(ve===null?bt.firstBaseUpdate=nt:ve.next=nt,bt.lastBaseUpdate=Le))}if(J!==null){var _t=Y.baseState;ie=0,bt=nt=Le=null,ve=J;do{var ot=ve.lane&-536870913,ht=ot!==ve.lane;if(ht?(vr&ot)===ot:(M&ot)===ot){ot!==0&&ot===cc&&(Yp=!0),bt!==null&&(bt=bt.next={lane:0,tag:ve.tag,payload:ve.payload,callback:null,next:null});e:{var Bt=f,Wt=ve;ot=m;var Vr=w;switch(Wt.tag){case 1:if(Bt=Wt.payload,typeof Bt=="function"){_t=Bt.call(Vr,_t,ot);break e}_t=Bt;break e;case 3:Bt.flags=Bt.flags&-65537|128;case 0:if(Bt=Wt.payload,ot=typeof Bt=="function"?Bt.call(Vr,_t,ot):Bt,ot==null)break e;_t=p({},_t,ot);break e;case 2:so=!0}}ot=ve.callback,ot!==null&&(f.flags|=64,ht&&(f.flags|=8192),ht=Y.callbacks,ht===null?Y.callbacks=[ot]:ht.push(ot))}else ht={lane:ot,tag:ve.tag,payload:ve.payload,callback:ve.callback,next:null},bt===null?(nt=bt=ht,Le=_t):bt=bt.next=ht,ie|=ot;if(ve=ve.next,ve===null){if(ve=Y.shared.pending,ve===null)break;ht=ve,ve=ht.next,ht.next=null,Y.lastBaseUpdate=ht,Y.shared.pending=null}}while(!0);bt===null&&(Le=_t),Y.baseState=Le,Y.firstBaseUpdate=nt,Y.lastBaseUpdate=bt,J===null&&(Y.shared.lanes=0),fo|=ie,f.lanes=ie,f.memoizedState=_t}}function Qx(f,m){if(typeof f!="function")throw Error(n(191,f));f.call(m)}function Zx(f,m){var w=f.callbacks;if(w!==null)for(f.callbacks=null,f=0;f<w.length;f++)Qx(w[f],m)}var dc=B(null),Gh=B(0);function Jx(f,m){f=Mi,Q(Gh,f),Q(dc,m),Mi=f|m.baseLanes}function Kp(){Q(Gh,Mi),Q(dc,dc.current)}function Qp(){Mi=Gh.current,D(dc),D(Gh)}var $s=B(null),ca=null;function oo(f){var m=f.alternate;Q(pn,pn.current&1),Q($s,f),ca===null&&(m===null||dc.current!==null||m.memoizedState!==null)&&(ca=f)}function Zp(f){Q(pn,pn.current),Q($s,f),ca===null&&(ca=f)}function ey(f){f.tag===22?(Q(pn,pn.current),Q($s,f),ca===null&&(ca=f)):lo()}function lo(){Q(pn,pn.current),Q($s,$s.current)}function qs(f){D($s),ca===f&&(ca=null),D(pn)}var pn=B(0);function Wh(f){for(var m=f;m!==null;){if(m.tag===13){var w=m.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||sg(w)||ag(w)))return m}else if(m.tag===19&&(m.memoizedProps.revealOrder==="forwards"||m.memoizedProps.revealOrder==="backwards"||m.memoizedProps.revealOrder==="unstable_legacy-backwards"||m.memoizedProps.revealOrder==="together")){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===f)break;for(;m.sibling===null;){if(m.return===null||m.return===f)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var Si=0,cr=null,Br=null,vn=null,Xh=!1,pc=!1,gl=!1,Yh=0,Iu=0,mc=null,IS=0;function nn(){throw Error(n(321))}function Jp(f,m){if(m===null)return!1;for(var w=0;w<m.length&&w<f.length;w++)if(!zs(f[w],m[w]))return!1;return!0}function em(f,m,w,M,Y,J){return Si=J,cr=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,S.H=f===null||f.memoizedState===null?Py:mm,gl=!1,J=w(M,Y),gl=!1,pc&&(J=ry(m,w,M,Y)),ty(f),J}function ty(f){S.H=Fu;var m=Br!==null&&Br.next!==null;if(Si=0,vn=Br=cr=null,Xh=!1,Iu=0,mc=null,m)throw Error(n(300));f===null||wn||(f=f.dependencies,f!==null&&Bh(f)&&(wn=!0))}function ry(f,m,w,M){cr=f;var Y=0;do{if(pc&&(mc=null),Iu=0,pc=!1,25<=Y)throw Error(n(301));if(Y+=1,vn=Br=null,f.updateQueue!=null){var J=f.updateQueue;J.lastEffect=null,J.events=null,J.stores=null,J.memoCache!=null&&(J.memoCache.index=0)}S.H=Ly,J=m(w,M)}while(pc);return J}function DS(){var f=S.H,m=f.useState()[0];return m=typeof m.then=="function"?Du(m):m,f=f.useState()[0],(Br!==null?Br.memoizedState:null)!==f&&(cr.flags|=1024),m}function tm(){var f=Yh!==0;return Yh=0,f}function rm(f,m,w){m.updateQueue=f.updateQueue,m.flags&=-2053,f.lanes&=~w}function nm(f){if(Xh){for(f=f.memoizedState;f!==null;){var m=f.queue;m!==null&&(m.pending=null),f=f.next}Xh=!1}Si=0,vn=Br=cr=null,pc=!1,Iu=Yh=0,mc=null}function ys(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?cr.memoizedState=vn=f:vn=vn.next=f,vn}function mn(){if(Br===null){var f=cr.alternate;f=f!==null?f.memoizedState:null}else f=Br.next;var m=vn===null?cr.memoizedState:vn.next;if(m!==null)vn=m,Br=f;else{if(f===null)throw cr.alternate===null?Error(n(467)):Error(n(310));Br=f,f={memoizedState:Br.memoizedState,baseState:Br.baseState,baseQueue:Br.baseQueue,queue:Br.queue,next:null},vn===null?cr.memoizedState=vn=f:vn=vn.next=f}return vn}function Kh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Du(f){var m=Iu;return Iu+=1,mc===null&&(mc=[]),f=Gx(mc,f,m),m=cr,(vn===null?m.memoizedState:vn.next)===null&&(m=m.alternate,S.H=m===null||m.memoizedState===null?Py:mm),f}function Qh(f){if(f!==null&&typeof f=="object"){if(typeof f.then=="function")return Du(f);if(f.$$typeof===T)return Wn(f)}throw Error(n(438,String(f)))}function sm(f){var m=null,w=cr.updateQueue;if(w!==null&&(m=w.memoCache),m==null){var M=cr.alternate;M!==null&&(M=M.updateQueue,M!==null&&(M=M.memoCache,M!=null&&(m={data:M.data.map(function(Y){return Y.slice()}),index:0})))}if(m==null&&(m={data:[],index:0}),w===null&&(w=Kh(),cr.updateQueue=w),w.memoCache=m,w=m.data[m.index],w===void 0)for(w=m.data[m.index]=Array(f),M=0;M<f;M++)w[M]=F;return m.index++,w}function Ti(f,m){return typeof m=="function"?m(f):m}function Zh(f){var m=mn();return am(m,Br,f)}function am(f,m,w){var M=f.queue;if(M===null)throw Error(n(311));M.lastRenderedReducer=w;var Y=f.baseQueue,J=M.pending;if(J!==null){if(Y!==null){var ie=Y.next;Y.next=J.next,J.next=ie}m.baseQueue=Y=J,M.pending=null}if(J=f.baseState,Y===null)f.memoizedState=J;else{m=Y.next;var ve=ie=null,Le=null,nt=m,bt=!1;do{var _t=nt.lane&-536870913;if(_t!==nt.lane?(vr&_t)===_t:(Si&_t)===_t){var ot=nt.revertLane;if(ot===0)Le!==null&&(Le=Le.next={lane:0,revertLane:0,gesture:null,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null}),_t===cc&&(bt=!0);else if((Si&ot)===ot){nt=nt.next,ot===cc&&(bt=!0);continue}else _t={lane:0,revertLane:nt.revertLane,gesture:null,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null},Le===null?(ve=Le=_t,ie=J):Le=Le.next=_t,cr.lanes|=ot,fo|=ot;_t=nt.action,gl&&w(J,_t),J=nt.hasEagerState?nt.eagerState:w(J,_t)}else ot={lane:_t,revertLane:nt.revertLane,gesture:nt.gesture,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null},Le===null?(ve=Le=ot,ie=J):Le=Le.next=ot,cr.lanes|=_t,fo|=_t;nt=nt.next}while(nt!==null&&nt!==m);if(Le===null?ie=J:Le.next=ve,!zs(J,f.memoizedState)&&(wn=!0,bt&&(w=uc,w!==null)))throw w;f.memoizedState=J,f.baseState=ie,f.baseQueue=Le,M.lastRenderedState=J}return Y===null&&(M.lanes=0),[f.memoizedState,M.dispatch]}function im(f){var m=mn(),w=m.queue;if(w===null)throw Error(n(311));w.lastRenderedReducer=f;var M=w.dispatch,Y=w.pending,J=m.memoizedState;if(Y!==null){w.pending=null;var ie=Y=Y.next;do J=f(J,ie.action),ie=ie.next;while(ie!==Y);zs(J,m.memoizedState)||(wn=!0),m.memoizedState=J,m.baseQueue===null&&(m.baseState=J),w.lastRenderedState=J}return[J,M]}function ny(f,m,w){var M=cr,Y=mn(),J=kr;if(J){if(w===void 0)throw Error(n(407));w=w()}else w=m();var ie=!zs((Br||Y).memoizedState,w);if(ie&&(Y.memoizedState=w,wn=!0),Y=Y.queue,cm(iy.bind(null,M,Y,f),[f]),Y.getSnapshot!==m||ie||vn!==null&&vn.memoizedState.tag&1){if(M.flags|=2048,gc(9,{destroy:void 0},ay.bind(null,M,Y,w,m),null),Hr===null)throw Error(n(349));J||(Si&127)!==0||sy(M,m,w)}return w}function sy(f,m,w){f.flags|=16384,f={getSnapshot:m,value:w},m=cr.updateQueue,m===null?(m=Kh(),cr.updateQueue=m,m.stores=[f]):(w=m.stores,w===null?m.stores=[f]:w.push(f))}function ay(f,m,w,M){m.value=w,m.getSnapshot=M,oy(m)&&ly(f)}function iy(f,m,w){return w(function(){oy(m)&&ly(f)})}function oy(f){var m=f.getSnapshot;f=f.value;try{var w=m();return!zs(f,w)}catch{return!0}}function ly(f){var m=ol(f,2);m!==null&&Ms(m,f,2)}function om(f){var m=ys();if(typeof f=="function"){var w=f;if(f=w(),gl){ct(!0);try{w()}finally{ct(!1)}}}return m.memoizedState=m.baseState=f,m.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:f},m}function cy(f,m,w,M){return f.baseState=w,am(f,Br,typeof M=="function"?M:Ti)}function OS(f,m,w,M,Y){if(td(f))throw Error(n(485));if(f=m.action,f!==null){var J={payload:Y,action:f,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ie){J.listeners.push(ie)}};S.T!==null?w(!0):J.isTransition=!1,M(J),w=m.pending,w===null?(J.next=m.pending=J,uy(m,J)):(J.next=w.next,m.pending=w.next=J)}}function uy(f,m){var w=m.action,M=m.payload,Y=f.state;if(m.isTransition){var J=S.T,ie={};S.T=ie;try{var ve=w(Y,M),Le=S.S;Le!==null&&Le(ie,ve),fy(f,m,ve)}catch(nt){lm(f,m,nt)}finally{J!==null&&ie.types!==null&&(J.types=ie.types),S.T=J}}else try{J=w(Y,M),fy(f,m,J)}catch(nt){lm(f,m,nt)}}function fy(f,m,w){w!==null&&typeof w=="object"&&typeof w.then=="function"?w.then(function(M){hy(f,m,M)},function(M){return lm(f,m,M)}):hy(f,m,w)}function hy(f,m,w){m.status="fulfilled",m.value=w,dy(m),f.state=w,m=f.pending,m!==null&&(w=m.next,w===m?f.pending=null:(w=w.next,m.next=w,uy(f,w)))}function lm(f,m,w){var M=f.pending;if(f.pending=null,M!==null){M=M.next;do m.status="rejected",m.reason=w,dy(m),m=m.next;while(m!==M)}f.action=null}function dy(f){f=f.listeners;for(var m=0;m<f.length;m++)(0,f[m])()}function py(f,m){return m}function my(f,m){if(kr){var w=Hr.formState;if(w!==null){e:{var M=cr;if(kr){if(Xr){t:{for(var Y=Xr,J=la;Y.nodeType!==8;){if(!J){Y=null;break t}if(Y=ua(Y.nextSibling),Y===null){Y=null;break t}}J=Y.data,Y=J==="F!"||J==="F"?Y:null}if(Y){Xr=ua(Y.nextSibling),M=Y.data==="F!";break e}}ro(M)}M=!1}M&&(m=w[0])}}return w=ys(),w.memoizedState=w.baseState=m,M={pending:null,lanes:0,dispatch:null,lastRenderedReducer:py,lastRenderedState:m},w.queue=M,w=Dy.bind(null,cr,M),M.dispatch=w,M=om(!1),J=pm.bind(null,cr,!1,M.queue),M=ys(),Y={state:m,dispatch:null,action:f,pending:null},M.queue=Y,w=OS.bind(null,cr,Y,J,w),Y.dispatch=w,M.memoizedState=f,[m,w,!1]}function gy(f){var m=mn();return by(m,Br,f)}function by(f,m,w){if(m=am(f,m,py)[0],f=Zh(Ti)[0],typeof m=="object"&&m!==null&&typeof m.then=="function")try{var M=Du(m)}catch(ie){throw ie===fc?zh:ie}else M=m;m=mn();var Y=m.queue,J=Y.dispatch;return w!==m.memoizedState&&(cr.flags|=2048,gc(9,{destroy:void 0},FS.bind(null,Y,w),null)),[M,J,f]}function FS(f,m){f.action=m}function xy(f){var m=mn(),w=Br;if(w!==null)return by(m,w,f);mn(),m=m.memoizedState,w=mn();var M=w.queue.dispatch;return w.memoizedState=f,[m,M,!1]}function gc(f,m,w,M){return f={tag:f,create:w,deps:M,inst:m,next:null},m=cr.updateQueue,m===null&&(m=Kh(),cr.updateQueue=m),w=m.lastEffect,w===null?m.lastEffect=f.next=f:(M=w.next,w.next=f,f.next=M,m.lastEffect=f),f}function yy(){return mn().memoizedState}function Jh(f,m,w,M){var Y=ys();cr.flags|=f,Y.memoizedState=gc(1|m,{destroy:void 0},w,M===void 0?null:M)}function ed(f,m,w,M){var Y=mn();M=M===void 0?null:M;var J=Y.memoizedState.inst;Br!==null&&M!==null&&Jp(M,Br.memoizedState.deps)?Y.memoizedState=gc(m,J,w,M):(cr.flags|=f,Y.memoizedState=gc(1|m,J,w,M))}function vy(f,m){Jh(8390656,8,f,m)}function cm(f,m){ed(2048,8,f,m)}function PS(f){cr.flags|=4;var m=cr.updateQueue;if(m===null)m=Kh(),cr.updateQueue=m,m.events=[f];else{var w=m.events;w===null?m.events=[f]:w.push(f)}}function wy(f){var m=mn().memoizedState;return PS({ref:m,nextImpl:f}),function(){if((Dr&2)!==0)throw Error(n(440));return m.impl.apply(void 0,arguments)}}function _y(f,m){return ed(4,2,f,m)}function Sy(f,m){return ed(4,4,f,m)}function Ty(f,m){if(typeof m=="function"){f=f();var w=m(f);return function(){typeof w=="function"?w():m(null)}}if(m!=null)return f=f(),m.current=f,function(){m.current=null}}function ky(f,m,w){w=w!=null?w.concat([f]):null,ed(4,4,Ty.bind(null,m,f),w)}function um(){}function Ey(f,m){var w=mn();m=m===void 0?null:m;var M=w.memoizedState;return m!==null&&Jp(m,M[1])?M[0]:(w.memoizedState=[f,m],f)}function Ay(f,m){var w=mn();m=m===void 0?null:m;var M=w.memoizedState;if(m!==null&&Jp(m,M[1]))return M[0];if(M=f(),gl){ct(!0);try{f()}finally{ct(!1)}}return w.memoizedState=[M,m],M}function fm(f,m,w){return w===void 0||(Si&1073741824)!==0&&(vr&261930)===0?f.memoizedState=m:(f.memoizedState=w,f=C2(),cr.lanes|=f,fo|=f,w)}function Cy(f,m,w,M){return zs(w,m)?w:dc.current!==null?(f=fm(f,w,M),zs(f,m)||(wn=!0),f):(Si&42)===0||(Si&1073741824)!==0&&(vr&261930)===0?(wn=!0,f.memoizedState=w):(f=C2(),cr.lanes|=f,fo|=f,m)}function Ny(f,m,w,M,Y){var J=k.p;k.p=J!==0&&8>J?J:8;var ie=S.T,ve={};S.T=ve,pm(f,!1,m,w);try{var Le=Y(),nt=S.S;if(nt!==null&&nt(ve,Le),Le!==null&&typeof Le=="object"&&typeof Le.then=="function"){var bt=jS(Le,M);Ou(f,m,bt,Xs(f))}else Ou(f,m,M,Xs(f))}catch(_t){Ou(f,m,{then:function(){},status:"rejected",reason:_t},Xs())}finally{k.p=J,ie!==null&&ve.types!==null&&(ie.types=ve.types),S.T=ie}}function LS(){}function hm(f,m,w,M){if(f.tag!==5)throw Error(n(476));var Y=Ry(f).queue;Ny(f,Y,m,E,w===null?LS:function(){return My(f),w(M)})}function Ry(f){var m=f.memoizedState;if(m!==null)return m;m={memoizedState:E,baseState:E,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:E},next:null};var w={};return m.next={memoizedState:w,baseState:w,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:w},next:null},f.memoizedState=m,f=f.alternate,f!==null&&(f.memoizedState=m),m}function My(f){var m=Ry(f);m.next===null&&(m=f.alternate.memoizedState),Ou(f,m.next.queue,{},Xs())}function dm(){return Wn(Zu)}function jy(){return mn().memoizedState}function Iy(){return mn().memoizedState}function BS(f){for(var m=f.return;m!==null;){switch(m.tag){case 24:case 3:var w=Xs();f=ao(w);var M=io(m,f,w);M!==null&&(Ms(M,m,w),Ru(M,m,w)),m={cache:zp()},f.payload=m;return}m=m.return}}function US(f,m,w){var M=Xs();w={lane:M,revertLane:0,gesture:null,action:w,hasEagerState:!1,eagerState:null,next:null},td(f)?Oy(m,w):(w=Mp(f,m,w,M),w!==null&&(Ms(w,f,M),Fy(w,m,M)))}function Dy(f,m,w){var M=Xs();Ou(f,m,w,M)}function Ou(f,m,w,M){var Y={lane:M,revertLane:0,gesture:null,action:w,hasEagerState:!1,eagerState:null,next:null};if(td(f))Oy(m,Y);else{var J=f.alternate;if(f.lanes===0&&(J===null||J.lanes===0)&&(J=m.lastRenderedReducer,J!==null))try{var ie=m.lastRenderedState,ve=J(ie,w);if(Y.hasEagerState=!0,Y.eagerState=ve,zs(ve,ie))return Oh(f,m,Y,0),Hr===null&&Dh(),!1}catch{}finally{}if(w=Mp(f,m,Y,M),w!==null)return Ms(w,f,M),Fy(w,m,M),!0}return!1}function pm(f,m,w,M){if(M={lane:2,revertLane:Gm(),gesture:null,action:M,hasEagerState:!1,eagerState:null,next:null},td(f)){if(m)throw Error(n(479))}else m=Mp(f,w,M,2),m!==null&&Ms(m,f,2)}function td(f){var m=f.alternate;return f===cr||m!==null&&m===cr}function Oy(f,m){pc=Xh=!0;var w=f.pending;w===null?m.next=m:(m.next=w.next,w.next=m),f.pending=m}function Fy(f,m,w){if((w&4194048)!==0){var M=m.lanes;M&=f.pendingLanes,w|=M,m.lanes=w,Nt(f,w)}}var Fu={readContext:Wn,use:Qh,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useLayoutEffect:nn,useInsertionEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useSyncExternalStore:nn,useId:nn,useHostTransitionStatus:nn,useFormState:nn,useActionState:nn,useOptimistic:nn,useMemoCache:nn,useCacheRefresh:nn};Fu.useEffectEvent=nn;var Py={readContext:Wn,use:Qh,useCallback:function(f,m){return ys().memoizedState=[f,m===void 0?null:m],f},useContext:Wn,useEffect:vy,useImperativeHandle:function(f,m,w){w=w!=null?w.concat([f]):null,Jh(4194308,4,Ty.bind(null,m,f),w)},useLayoutEffect:function(f,m){return Jh(4194308,4,f,m)},useInsertionEffect:function(f,m){Jh(4,2,f,m)},useMemo:function(f,m){var w=ys();m=m===void 0?null:m;var M=f();if(gl){ct(!0);try{f()}finally{ct(!1)}}return w.memoizedState=[M,m],M},useReducer:function(f,m,w){var M=ys();if(w!==void 0){var Y=w(m);if(gl){ct(!0);try{w(m)}finally{ct(!1)}}}else Y=m;return M.memoizedState=M.baseState=Y,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:Y},M.queue=f,f=f.dispatch=US.bind(null,cr,f),[M.memoizedState,f]},useRef:function(f){var m=ys();return f={current:f},m.memoizedState=f},useState:function(f){f=om(f);var m=f.queue,w=Dy.bind(null,cr,m);return m.dispatch=w,[f.memoizedState,w]},useDebugValue:um,useDeferredValue:function(f,m){var w=ys();return fm(w,f,m)},useTransition:function(){var f=om(!1);return f=Ny.bind(null,cr,f.queue,!0,!1),ys().memoizedState=f,[!1,f]},useSyncExternalStore:function(f,m,w){var M=cr,Y=ys();if(kr){if(w===void 0)throw Error(n(407));w=w()}else{if(w=m(),Hr===null)throw Error(n(349));(vr&127)!==0||sy(M,m,w)}Y.memoizedState=w;var J={value:w,getSnapshot:m};return Y.queue=J,vy(iy.bind(null,M,J,f),[f]),M.flags|=2048,gc(9,{destroy:void 0},ay.bind(null,M,J,w,m),null),w},useId:function(){var f=ys(),m=Hr.identifierPrefix;if(kr){var w=Ka,M=Ya;w=(M&~(1<<32-Be(M)-1)).toString(32)+w,m="_"+m+"R_"+w,w=Yh++,0<w&&(m+="H"+w.toString(32)),m+="_"}else w=IS++,m="_"+m+"r_"+w.toString(32)+"_";return f.memoizedState=m},useHostTransitionStatus:dm,useFormState:my,useActionState:my,useOptimistic:function(f){var m=ys();m.memoizedState=m.baseState=f;var w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return m.queue=w,m=pm.bind(null,cr,!0,w),w.dispatch=m,[f,m]},useMemoCache:sm,useCacheRefresh:function(){return ys().memoizedState=BS.bind(null,cr)},useEffectEvent:function(f){var m=ys(),w={impl:f};return m.memoizedState=w,function(){if((Dr&2)!==0)throw Error(n(440));return w.impl.apply(void 0,arguments)}}},mm={readContext:Wn,use:Qh,useCallback:Ey,useContext:Wn,useEffect:cm,useImperativeHandle:ky,useInsertionEffect:_y,useLayoutEffect:Sy,useMemo:Ay,useReducer:Zh,useRef:yy,useState:function(){return Zh(Ti)},useDebugValue:um,useDeferredValue:function(f,m){var w=mn();return Cy(w,Br.memoizedState,f,m)},useTransition:function(){var f=Zh(Ti)[0],m=mn().memoizedState;return[typeof f=="boolean"?f:Du(f),m]},useSyncExternalStore:ny,useId:jy,useHostTransitionStatus:dm,useFormState:gy,useActionState:gy,useOptimistic:function(f,m){var w=mn();return cy(w,Br,f,m)},useMemoCache:sm,useCacheRefresh:Iy};mm.useEffectEvent=wy;var Ly={readContext:Wn,use:Qh,useCallback:Ey,useContext:Wn,useEffect:cm,useImperativeHandle:ky,useInsertionEffect:_y,useLayoutEffect:Sy,useMemo:Ay,useReducer:im,useRef:yy,useState:function(){return im(Ti)},useDebugValue:um,useDeferredValue:function(f,m){var w=mn();return Br===null?fm(w,f,m):Cy(w,Br.memoizedState,f,m)},useTransition:function(){var f=im(Ti)[0],m=mn().memoizedState;return[typeof f=="boolean"?f:Du(f),m]},useSyncExternalStore:ny,useId:jy,useHostTransitionStatus:dm,useFormState:xy,useActionState:xy,useOptimistic:function(f,m){var w=mn();return Br!==null?cy(w,Br,f,m):(w.baseState=f,[f,w.queue.dispatch])},useMemoCache:sm,useCacheRefresh:Iy};Ly.useEffectEvent=wy;function gm(f,m,w,M){m=f.memoizedState,w=w(M,m),w=w==null?m:p({},m,w),f.memoizedState=w,f.lanes===0&&(f.updateQueue.baseState=w)}var bm={enqueueSetState:function(f,m,w){f=f._reactInternals;var M=Xs(),Y=ao(M);Y.payload=m,w!=null&&(Y.callback=w),m=io(f,Y,M),m!==null&&(Ms(m,f,M),Ru(m,f,M))},enqueueReplaceState:function(f,m,w){f=f._reactInternals;var M=Xs(),Y=ao(M);Y.tag=1,Y.payload=m,w!=null&&(Y.callback=w),m=io(f,Y,M),m!==null&&(Ms(m,f,M),Ru(m,f,M))},enqueueForceUpdate:function(f,m){f=f._reactInternals;var w=Xs(),M=ao(w);M.tag=2,m!=null&&(M.callback=m),m=io(f,M,w),m!==null&&(Ms(m,f,w),Ru(m,f,w))}};function By(f,m,w,M,Y,J,ie){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(M,J,ie):m.prototype&&m.prototype.isPureReactComponent?!_u(w,M)||!_u(Y,J):!0}function Uy(f,m,w,M){f=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(w,M),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(w,M),m.state!==f&&bm.enqueueReplaceState(m,m.state,null)}function bl(f,m){var w=m;if("ref"in m){w={};for(var M in m)M!=="ref"&&(w[M]=m[M])}if(f=f.defaultProps){w===m&&(w=p({},w));for(var Y in f)w[Y]===void 0&&(w[Y]=f[Y])}return w}function Vy(f){Ih(f)}function zy(f){console.error(f)}function Hy(f){Ih(f)}function rd(f,m){try{var w=f.onUncaughtError;w(m.value,{componentStack:m.stack})}catch(M){setTimeout(function(){throw M})}}function $y(f,m,w){try{var M=f.onCaughtError;M(w.value,{componentStack:w.stack,errorBoundary:m.tag===1?m.stateNode:null})}catch(Y){setTimeout(function(){throw Y})}}function xm(f,m,w){return w=ao(w),w.tag=3,w.payload={element:null},w.callback=function(){rd(f,m)},w}function qy(f){return f=ao(f),f.tag=3,f}function Gy(f,m,w,M){var Y=w.type.getDerivedStateFromError;if(typeof Y=="function"){var J=M.value;f.payload=function(){return Y(J)},f.callback=function(){$y(m,w,M)}}var ie=w.stateNode;ie!==null&&typeof ie.componentDidCatch=="function"&&(f.callback=function(){$y(m,w,M),typeof Y!="function"&&(ho===null?ho=new Set([this]):ho.add(this));var ve=M.stack;this.componentDidCatch(M.value,{componentStack:ve!==null?ve:""})})}function VS(f,m,w,M,Y){if(w.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){if(m=w.alternate,m!==null&&lc(m,w,Y,!0),w=$s.current,w!==null){switch(w.tag){case 31:case 13:return ca===null?pd():w.alternate===null&&sn===0&&(sn=3),w.flags&=-257,w.flags|=65536,w.lanes=Y,M===Hh?w.flags|=16384:(m=w.updateQueue,m===null?w.updateQueue=new Set([M]):m.add(M),Hm(f,M,Y)),!1;case 22:return w.flags|=65536,M===Hh?w.flags|=16384:(m=w.updateQueue,m===null?(m={transitions:null,markerInstances:null,retryQueue:new Set([M])},w.updateQueue=m):(w=m.retryQueue,w===null?m.retryQueue=new Set([M]):w.add(M)),Hm(f,M,Y)),!1}throw Error(n(435,w.tag))}return Hm(f,M,Y),pd(),!1}if(kr)return m=$s.current,m!==null?((m.flags&65536)===0&&(m.flags|=256),m.flags|=65536,m.lanes=Y,M!==Pp&&(f=Error(n(422),{cause:M}),ku(aa(f,w)))):(M!==Pp&&(m=Error(n(423),{cause:M}),ku(aa(m,w))),f=f.current.alternate,f.flags|=65536,Y&=-Y,f.lanes|=Y,M=aa(M,w),Y=xm(f.stateNode,M,Y),Xp(f,Y),sn!==4&&(sn=2)),!1;var J=Error(n(520),{cause:M});if(J=aa(J,w),$u===null?$u=[J]:$u.push(J),sn!==4&&(sn=2),m===null)return!0;M=aa(M,w),w=m;do{switch(w.tag){case 3:return w.flags|=65536,f=Y&-Y,w.lanes|=f,f=xm(w.stateNode,M,f),Xp(w,f),!1;case 1:if(m=w.type,J=w.stateNode,(w.flags&128)===0&&(typeof m.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(ho===null||!ho.has(J))))return w.flags|=65536,Y&=-Y,w.lanes|=Y,Y=qy(Y),Gy(Y,f,w,M),Xp(w,Y),!1}w=w.return}while(w!==null);return!1}var ym=Error(n(461)),wn=!1;function Xn(f,m,w,M){m.child=f===null?Kx(m,null,w,M):ml(m,f.child,w,M)}function Wy(f,m,w,M,Y){w=w.render;var J=m.ref;if("ref"in M){var ie={};for(var ve in M)ve!=="ref"&&(ie[ve]=M[ve])}else ie=M;return fl(m),M=em(f,m,w,ie,J,Y),ve=tm(),f!==null&&!wn?(rm(f,m,Y),ki(f,m,Y)):(kr&&ve&&Op(m),m.flags|=1,Xn(f,m,M,Y),m.child)}function Xy(f,m,w,M,Y){if(f===null){var J=w.type;return typeof J=="function"&&!jp(J)&&J.defaultProps===void 0&&w.compare===null?(m.tag=15,m.type=J,Yy(f,m,J,M,Y)):(f=Ph(w.type,null,M,m,m.mode,Y),f.ref=m.ref,f.return=m,m.child=f)}if(J=f.child,!Am(f,Y)){var ie=J.memoizedProps;if(w=w.compare,w=w!==null?w:_u,w(ie,M)&&f.ref===m.ref)return ki(f,m,Y)}return m.flags|=1,f=yi(J,M),f.ref=m.ref,f.return=m,m.child=f}function Yy(f,m,w,M,Y){if(f!==null){var J=f.memoizedProps;if(_u(J,M)&&f.ref===m.ref)if(wn=!1,m.pendingProps=M=J,Am(f,Y))(f.flags&131072)!==0&&(wn=!0);else return m.lanes=f.lanes,ki(f,m,Y)}return vm(f,m,w,M,Y)}function Ky(f,m,w,M){var Y=M.children,J=f!==null?f.memoizedState:null;if(f===null&&m.stateNode===null&&(m.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),M.mode==="hidden"){if((m.flags&128)!==0){if(J=J!==null?J.baseLanes|w:w,f!==null){for(M=m.child=f.child,Y=0;M!==null;)Y=Y|M.lanes|M.childLanes,M=M.sibling;M=Y&~J}else M=0,m.child=null;return Qy(f,m,J,w,M)}if((w&536870912)!==0)m.memoizedState={baseLanes:0,cachePool:null},f!==null&&Vh(m,J!==null?J.cachePool:null),J!==null?Jx(m,J):Kp(),ey(m);else return M=m.lanes=536870912,Qy(f,m,J!==null?J.baseLanes|w:w,w,M)}else J!==null?(Vh(m,J.cachePool),Jx(m,J),lo(),m.memoizedState=null):(f!==null&&Vh(m,null),Kp(),lo());return Xn(f,m,Y,w),m.child}function Pu(f,m){return f!==null&&f.tag===22||m.stateNode!==null||(m.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.sibling}function Qy(f,m,w,M,Y){var J=$p();return J=J===null?null:{parent:yn._currentValue,pool:J},m.memoizedState={baseLanes:w,cachePool:J},f!==null&&Vh(m,null),Kp(),ey(m),f!==null&&lc(f,m,M,!0),m.childLanes=Y,null}function nd(f,m){return m=ad({mode:m.mode,children:m.children},f.mode),m.ref=f.ref,f.child=m,m.return=f,m}function Zy(f,m,w){return ml(m,f.child,null,w),f=nd(m,m.pendingProps),f.flags|=2,qs(m),m.memoizedState=null,f}function zS(f,m,w){var M=m.pendingProps,Y=(m.flags&128)!==0;if(m.flags&=-129,f===null){if(kr){if(M.mode==="hidden")return f=nd(m,M),m.lanes=536870912,Pu(null,f);if(Zp(m),(f=Xr)?(f=uv(f,la),f=f!==null&&f.data==="&"?f:null,f!==null&&(m.memoizedState={dehydrated:f,treeContext:eo!==null?{id:Ya,overflow:Ka}:null,retryLane:536870912,hydrationErrors:null},w=Ox(f),w.return=m,m.child=w,Gn=m,Xr=null)):f=null,f===null)throw ro(m);return m.lanes=536870912,null}return nd(m,M)}var J=f.memoizedState;if(J!==null){var ie=J.dehydrated;if(Zp(m),Y)if(m.flags&256)m.flags&=-257,m=Zy(f,m,w);else if(m.memoizedState!==null)m.child=f.child,m.flags|=128,m=null;else throw Error(n(558));else if(wn||lc(f,m,w,!1),Y=(w&f.childLanes)!==0,wn||Y){if(M=Hr,M!==null&&(ie=Ie(M,w),ie!==0&&ie!==J.retryLane))throw J.retryLane=ie,ol(f,ie),Ms(M,f,ie),ym;pd(),m=Zy(f,m,w)}else f=J.treeContext,Xr=ua(ie.nextSibling),Gn=m,kr=!0,to=null,la=!1,f!==null&&Lx(m,f),m=nd(m,M),m.flags|=4096;return m}return f=yi(f.child,{mode:M.mode,children:M.children}),f.ref=m.ref,m.child=f,f.return=m,f}function sd(f,m){var w=m.ref;if(w===null)f!==null&&f.ref!==null&&(m.flags|=4194816);else{if(typeof w!="function"&&typeof w!="object")throw Error(n(284));(f===null||f.ref!==w)&&(m.flags|=4194816)}}function vm(f,m,w,M,Y){return fl(m),w=em(f,m,w,M,void 0,Y),M=tm(),f!==null&&!wn?(rm(f,m,Y),ki(f,m,Y)):(kr&&M&&Op(m),m.flags|=1,Xn(f,m,w,Y),m.child)}function Jy(f,m,w,M,Y,J){return fl(m),m.updateQueue=null,w=ry(m,M,w,Y),ty(f),M=tm(),f!==null&&!wn?(rm(f,m,J),ki(f,m,J)):(kr&&M&&Op(m),m.flags|=1,Xn(f,m,w,J),m.child)}function e2(f,m,w,M,Y){if(fl(m),m.stateNode===null){var J=sc,ie=w.contextType;typeof ie=="object"&&ie!==null&&(J=Wn(ie)),J=new w(M,J),m.memoizedState=J.state!==null&&J.state!==void 0?J.state:null,J.updater=bm,m.stateNode=J,J._reactInternals=m,J=m.stateNode,J.props=M,J.state=m.memoizedState,J.refs={},Gp(m),ie=w.contextType,J.context=typeof ie=="object"&&ie!==null?Wn(ie):sc,J.state=m.memoizedState,ie=w.getDerivedStateFromProps,typeof ie=="function"&&(gm(m,w,ie,M),J.state=m.memoizedState),typeof w.getDerivedStateFromProps=="function"||typeof J.getSnapshotBeforeUpdate=="function"||typeof J.UNSAFE_componentWillMount!="function"&&typeof J.componentWillMount!="function"||(ie=J.state,typeof J.componentWillMount=="function"&&J.componentWillMount(),typeof J.UNSAFE_componentWillMount=="function"&&J.UNSAFE_componentWillMount(),ie!==J.state&&bm.enqueueReplaceState(J,J.state,null),ju(m,M,J,Y),Mu(),J.state=m.memoizedState),typeof J.componentDidMount=="function"&&(m.flags|=4194308),M=!0}else if(f===null){J=m.stateNode;var ve=m.memoizedProps,Le=bl(w,ve);J.props=Le;var nt=J.context,bt=w.contextType;ie=sc,typeof bt=="object"&&bt!==null&&(ie=Wn(bt));var _t=w.getDerivedStateFromProps;bt=typeof _t=="function"||typeof J.getSnapshotBeforeUpdate=="function",ve=m.pendingProps!==ve,bt||typeof J.UNSAFE_componentWillReceiveProps!="function"&&typeof J.componentWillReceiveProps!="function"||(ve||nt!==ie)&&Uy(m,J,M,ie),so=!1;var ot=m.memoizedState;J.state=ot,ju(m,M,J,Y),Mu(),nt=m.memoizedState,ve||ot!==nt||so?(typeof _t=="function"&&(gm(m,w,_t,M),nt=m.memoizedState),(Le=so||By(m,w,Le,M,ot,nt,ie))?(bt||typeof J.UNSAFE_componentWillMount!="function"&&typeof J.componentWillMount!="function"||(typeof J.componentWillMount=="function"&&J.componentWillMount(),typeof J.UNSAFE_componentWillMount=="function"&&J.UNSAFE_componentWillMount()),typeof J.componentDidMount=="function"&&(m.flags|=4194308)):(typeof J.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=M,m.memoizedState=nt),J.props=M,J.state=nt,J.context=ie,M=Le):(typeof J.componentDidMount=="function"&&(m.flags|=4194308),M=!1)}else{J=m.stateNode,Wp(f,m),ie=m.memoizedProps,bt=bl(w,ie),J.props=bt,_t=m.pendingProps,ot=J.context,nt=w.contextType,Le=sc,typeof nt=="object"&&nt!==null&&(Le=Wn(nt)),ve=w.getDerivedStateFromProps,(nt=typeof ve=="function"||typeof J.getSnapshotBeforeUpdate=="function")||typeof J.UNSAFE_componentWillReceiveProps!="function"&&typeof J.componentWillReceiveProps!="function"||(ie!==_t||ot!==Le)&&Uy(m,J,M,Le),so=!1,ot=m.memoizedState,J.state=ot,ju(m,M,J,Y),Mu();var ht=m.memoizedState;ie!==_t||ot!==ht||so||f!==null&&f.dependencies!==null&&Bh(f.dependencies)?(typeof ve=="function"&&(gm(m,w,ve,M),ht=m.memoizedState),(bt=so||By(m,w,bt,M,ot,ht,Le)||f!==null&&f.dependencies!==null&&Bh(f.dependencies))?(nt||typeof J.UNSAFE_componentWillUpdate!="function"&&typeof J.componentWillUpdate!="function"||(typeof J.componentWillUpdate=="function"&&J.componentWillUpdate(M,ht,Le),typeof J.UNSAFE_componentWillUpdate=="function"&&J.UNSAFE_componentWillUpdate(M,ht,Le)),typeof J.componentDidUpdate=="function"&&(m.flags|=4),typeof J.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof J.componentDidUpdate!="function"||ie===f.memoizedProps&&ot===f.memoizedState||(m.flags|=4),typeof J.getSnapshotBeforeUpdate!="function"||ie===f.memoizedProps&&ot===f.memoizedState||(m.flags|=1024),m.memoizedProps=M,m.memoizedState=ht),J.props=M,J.state=ht,J.context=Le,M=bt):(typeof J.componentDidUpdate!="function"||ie===f.memoizedProps&&ot===f.memoizedState||(m.flags|=4),typeof J.getSnapshotBeforeUpdate!="function"||ie===f.memoizedProps&&ot===f.memoizedState||(m.flags|=1024),M=!1)}return J=M,sd(f,m),M=(m.flags&128)!==0,J||M?(J=m.stateNode,w=M&&typeof w.getDerivedStateFromError!="function"?null:J.render(),m.flags|=1,f!==null&&M?(m.child=ml(m,f.child,null,Y),m.child=ml(m,null,w,Y)):Xn(f,m,w,Y),m.memoizedState=J.state,f=m.child):f=ki(f,m,Y),f}function t2(f,m,w,M){return cl(),m.flags|=256,Xn(f,m,w,M),m.child}var wm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _m(f){return{baseLanes:f,cachePool:$x()}}function Sm(f,m,w){return f=f!==null?f.childLanes&~w:0,m&&(f|=Ws),f}function r2(f,m,w){var M=m.pendingProps,Y=!1,J=(m.flags&128)!==0,ie;if((ie=J)||(ie=f!==null&&f.memoizedState===null?!1:(pn.current&2)!==0),ie&&(Y=!0,m.flags&=-129),ie=(m.flags&32)!==0,m.flags&=-33,f===null){if(kr){if(Y?oo(m):lo(),(f=Xr)?(f=uv(f,la),f=f!==null&&f.data!=="&"?f:null,f!==null&&(m.memoizedState={dehydrated:f,treeContext:eo!==null?{id:Ya,overflow:Ka}:null,retryLane:536870912,hydrationErrors:null},w=Ox(f),w.return=m,m.child=w,Gn=m,Xr=null)):f=null,f===null)throw ro(m);return ag(f)?m.lanes=32:m.lanes=536870912,null}var ve=M.children;return M=M.fallback,Y?(lo(),Y=m.mode,ve=ad({mode:"hidden",children:ve},Y),M=ll(M,Y,w,null),ve.return=m,M.return=m,ve.sibling=M,m.child=ve,M=m.child,M.memoizedState=_m(w),M.childLanes=Sm(f,ie,w),m.memoizedState=wm,Pu(null,M)):(oo(m),Tm(m,ve))}var Le=f.memoizedState;if(Le!==null&&(ve=Le.dehydrated,ve!==null)){if(J)m.flags&256?(oo(m),m.flags&=-257,m=km(f,m,w)):m.memoizedState!==null?(lo(),m.child=f.child,m.flags|=128,m=null):(lo(),ve=M.fallback,Y=m.mode,M=ad({mode:"visible",children:M.children},Y),ve=ll(ve,Y,w,null),ve.flags|=2,M.return=m,ve.return=m,M.sibling=ve,m.child=M,ml(m,f.child,null,w),M=m.child,M.memoizedState=_m(w),M.childLanes=Sm(f,ie,w),m.memoizedState=wm,m=Pu(null,M));else if(oo(m),ag(ve)){if(ie=ve.nextSibling&&ve.nextSibling.dataset,ie)var nt=ie.dgst;ie=nt,M=Error(n(419)),M.stack="",M.digest=ie,ku({value:M,source:null,stack:null}),m=km(f,m,w)}else if(wn||lc(f,m,w,!1),ie=(w&f.childLanes)!==0,wn||ie){if(ie=Hr,ie!==null&&(M=Ie(ie,w),M!==0&&M!==Le.retryLane))throw Le.retryLane=M,ol(f,M),Ms(ie,f,M),ym;sg(ve)||pd(),m=km(f,m,w)}else sg(ve)?(m.flags|=192,m.child=f.child,m=null):(f=Le.treeContext,Xr=ua(ve.nextSibling),Gn=m,kr=!0,to=null,la=!1,f!==null&&Lx(m,f),m=Tm(m,M.children),m.flags|=4096);return m}return Y?(lo(),ve=M.fallback,Y=m.mode,Le=f.child,nt=Le.sibling,M=yi(Le,{mode:"hidden",children:M.children}),M.subtreeFlags=Le.subtreeFlags&65011712,nt!==null?ve=yi(nt,ve):(ve=ll(ve,Y,w,null),ve.flags|=2),ve.return=m,M.return=m,M.sibling=ve,m.child=M,Pu(null,M),M=m.child,ve=f.child.memoizedState,ve===null?ve=_m(w):(Y=ve.cachePool,Y!==null?(Le=yn._currentValue,Y=Y.parent!==Le?{parent:Le,pool:Le}:Y):Y=$x(),ve={baseLanes:ve.baseLanes|w,cachePool:Y}),M.memoizedState=ve,M.childLanes=Sm(f,ie,w),m.memoizedState=wm,Pu(f.child,M)):(oo(m),w=f.child,f=w.sibling,w=yi(w,{mode:"visible",children:M.children}),w.return=m,w.sibling=null,f!==null&&(ie=m.deletions,ie===null?(m.deletions=[f],m.flags|=16):ie.push(f)),m.child=w,m.memoizedState=null,w)}function Tm(f,m){return m=ad({mode:"visible",children:m},f.mode),m.return=f,f.child=m}function ad(f,m){return f=Hs(22,f,null,m),f.lanes=0,f}function km(f,m,w){return ml(m,f.child,null,w),f=Tm(m,m.pendingProps.children),f.flags|=2,m.memoizedState=null,f}function n2(f,m,w){f.lanes|=m;var M=f.alternate;M!==null&&(M.lanes|=m),Up(f.return,m,w)}function Em(f,m,w,M,Y,J){var ie=f.memoizedState;ie===null?f.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:M,tail:w,tailMode:Y,treeForkCount:J}:(ie.isBackwards=m,ie.rendering=null,ie.renderingStartTime=0,ie.last=M,ie.tail=w,ie.tailMode=Y,ie.treeForkCount=J)}function s2(f,m,w){var M=m.pendingProps,Y=M.revealOrder,J=M.tail;M=M.children;var ie=pn.current,ve=(ie&2)!==0;if(ve?(ie=ie&1|2,m.flags|=128):ie&=1,Q(pn,ie),Xn(f,m,M,w),M=kr?Tu:0,!ve&&f!==null&&(f.flags&128)!==0)e:for(f=m.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&n2(f,w,m);else if(f.tag===19)n2(f,w,m);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===m)break e;for(;f.sibling===null;){if(f.return===null||f.return===m)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}switch(Y){case"forwards":for(w=m.child,Y=null;w!==null;)f=w.alternate,f!==null&&Wh(f)===null&&(Y=w),w=w.sibling;w=Y,w===null?(Y=m.child,m.child=null):(Y=w.sibling,w.sibling=null),Em(m,!1,Y,w,J,M);break;case"backwards":case"unstable_legacy-backwards":for(w=null,Y=m.child,m.child=null;Y!==null;){if(f=Y.alternate,f!==null&&Wh(f)===null){m.child=Y;break}f=Y.sibling,Y.sibling=w,w=Y,Y=f}Em(m,!0,w,null,J,M);break;case"together":Em(m,!1,null,null,void 0,M);break;default:m.memoizedState=null}return m.child}function ki(f,m,w){if(f!==null&&(m.dependencies=f.dependencies),fo|=m.lanes,(w&m.childLanes)===0)if(f!==null){if(lc(f,m,w,!1),(w&m.childLanes)===0)return null}else return null;if(f!==null&&m.child!==f.child)throw Error(n(153));if(m.child!==null){for(f=m.child,w=yi(f,f.pendingProps),m.child=w,w.return=m;f.sibling!==null;)f=f.sibling,w=w.sibling=yi(f,f.pendingProps),w.return=m;w.sibling=null}return m.child}function Am(f,m){return(f.lanes&m)!==0?!0:(f=f.dependencies,!!(f!==null&&Bh(f)))}function HS(f,m,w){switch(m.tag){case 3:G(m,m.stateNode.containerInfo),no(m,yn,f.memoizedState.cache),cl();break;case 27:case 5:Z(m);break;case 4:G(m,m.stateNode.containerInfo);break;case 10:no(m,m.type,m.memoizedProps.value);break;case 31:if(m.memoizedState!==null)return m.flags|=128,Zp(m),null;break;case 13:var M=m.memoizedState;if(M!==null)return M.dehydrated!==null?(oo(m),m.flags|=128,null):(w&m.child.childLanes)!==0?r2(f,m,w):(oo(m),f=ki(f,m,w),f!==null?f.sibling:null);oo(m);break;case 19:var Y=(f.flags&128)!==0;if(M=(w&m.childLanes)!==0,M||(lc(f,m,w,!1),M=(w&m.childLanes)!==0),Y){if(M)return s2(f,m,w);m.flags|=128}if(Y=m.memoizedState,Y!==null&&(Y.rendering=null,Y.tail=null,Y.lastEffect=null),Q(pn,pn.current),M)break;return null;case 22:return m.lanes=0,Ky(f,m,w,m.pendingProps);case 24:no(m,yn,f.memoizedState.cache)}return ki(f,m,w)}function a2(f,m,w){if(f!==null)if(f.memoizedProps!==m.pendingProps)wn=!0;else{if(!Am(f,w)&&(m.flags&128)===0)return wn=!1,HS(f,m,w);wn=(f.flags&131072)!==0}else wn=!1,kr&&(m.flags&1048576)!==0&&Px(m,Tu,m.index);switch(m.lanes=0,m.tag){case 16:e:{var M=m.pendingProps;if(f=dl(m.elementType),m.type=f,typeof f=="function")jp(f)?(M=bl(f,M),m.tag=1,m=e2(null,m,f,M,w)):(m.tag=0,m=vm(null,m,f,M,w));else{if(f!=null){var Y=f.$$typeof;if(Y===R){m.tag=11,m=Wy(null,m,f,M,w);break e}else if(Y===L){m.tag=14,m=Xy(null,m,f,M,w);break e}}throw m=U(f)||f,Error(n(306,m,""))}}return m;case 0:return vm(f,m,m.type,m.pendingProps,w);case 1:return M=m.type,Y=bl(M,m.pendingProps),e2(f,m,M,Y,w);case 3:e:{if(G(m,m.stateNode.containerInfo),f===null)throw Error(n(387));M=m.pendingProps;var J=m.memoizedState;Y=J.element,Wp(f,m),ju(m,M,null,w);var ie=m.memoizedState;if(M=ie.cache,no(m,yn,M),M!==J.cache&&Vp(m,[yn],w,!0),Mu(),M=ie.element,J.isDehydrated)if(J={element:M,isDehydrated:!1,cache:ie.cache},m.updateQueue.baseState=J,m.memoizedState=J,m.flags&256){m=t2(f,m,M,w);break e}else if(M!==Y){Y=aa(Error(n(424)),m),ku(Y),m=t2(f,m,M,w);break e}else{switch(f=m.stateNode.containerInfo,f.nodeType){case 9:f=f.body;break;default:f=f.nodeName==="HTML"?f.ownerDocument.body:f}for(Xr=ua(f.firstChild),Gn=m,kr=!0,to=null,la=!0,w=Kx(m,null,M,w),m.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling}else{if(cl(),M===Y){m=ki(f,m,w);break e}Xn(f,m,M,w)}m=m.child}return m;case 26:return sd(f,m),f===null?(w=gv(m.type,null,m.pendingProps,null))?m.memoizedState=w:kr||(w=m.type,f=m.pendingProps,M=wd(W.current).createElement(w),M[de]=m,M[be]=f,Yn(M,w,f),Ke(M),m.stateNode=M):m.memoizedState=gv(m.type,f.memoizedProps,m.pendingProps,f.memoizedState),null;case 27:return Z(m),f===null&&kr&&(M=m.stateNode=dv(m.type,m.pendingProps,W.current),Gn=m,la=!0,Y=Xr,bo(m.type)?(ig=Y,Xr=ua(M.firstChild)):Xr=Y),Xn(f,m,m.pendingProps.children,w),sd(f,m),f===null&&(m.flags|=4194304),m.child;case 5:return f===null&&kr&&((Y=M=Xr)&&(M=yT(M,m.type,m.pendingProps,la),M!==null?(m.stateNode=M,Gn=m,Xr=ua(M.firstChild),la=!1,Y=!0):Y=!1),Y||ro(m)),Z(m),Y=m.type,J=m.pendingProps,ie=f!==null?f.memoizedProps:null,M=J.children,tg(Y,J)?M=null:ie!==null&&tg(Y,ie)&&(m.flags|=32),m.memoizedState!==null&&(Y=em(f,m,DS,null,null,w),Zu._currentValue=Y),sd(f,m),Xn(f,m,M,w),m.child;case 6:return f===null&&kr&&((f=w=Xr)&&(w=vT(w,m.pendingProps,la),w!==null?(m.stateNode=w,Gn=m,Xr=null,f=!0):f=!1),f||ro(m)),null;case 13:return r2(f,m,w);case 4:return G(m,m.stateNode.containerInfo),M=m.pendingProps,f===null?m.child=ml(m,null,M,w):Xn(f,m,M,w),m.child;case 11:return Wy(f,m,m.type,m.pendingProps,w);case 7:return Xn(f,m,m.pendingProps,w),m.child;case 8:return Xn(f,m,m.pendingProps.children,w),m.child;case 12:return Xn(f,m,m.pendingProps.children,w),m.child;case 10:return M=m.pendingProps,no(m,m.type,M.value),Xn(f,m,M.children,w),m.child;case 9:return Y=m.type._context,M=m.pendingProps.children,fl(m),Y=Wn(Y),M=M(Y),m.flags|=1,Xn(f,m,M,w),m.child;case 14:return Xy(f,m,m.type,m.pendingProps,w);case 15:return Yy(f,m,m.type,m.pendingProps,w);case 19:return s2(f,m,w);case 31:return zS(f,m,w);case 22:return Ky(f,m,w,m.pendingProps);case 24:return fl(m),M=Wn(yn),f===null?(Y=$p(),Y===null&&(Y=Hr,J=zp(),Y.pooledCache=J,J.refCount++,J!==null&&(Y.pooledCacheLanes|=w),Y=J),m.memoizedState={parent:M,cache:Y},Gp(m),no(m,yn,Y)):((f.lanes&w)!==0&&(Wp(f,m),ju(m,null,null,w),Mu()),Y=f.memoizedState,J=m.memoizedState,Y.parent!==M?(Y={parent:M,cache:M},m.memoizedState=Y,m.lanes===0&&(m.memoizedState=m.updateQueue.baseState=Y),no(m,yn,M)):(M=J.cache,no(m,yn,M),M!==Y.cache&&Vp(m,[yn],w,!0))),Xn(f,m,m.pendingProps.children,w),m.child;case 29:throw m.pendingProps}throw Error(n(156,m.tag))}function Ei(f){f.flags|=4}function Cm(f,m,w,M,Y){if((m=(f.mode&32)!==0)&&(m=!1),m){if(f.flags|=16777216,(Y&335544128)===Y)if(f.stateNode.complete)f.flags|=8192;else if(j2())f.flags|=8192;else throw pl=Hh,qp}else f.flags&=-16777217}function i2(f,m){if(m.type!=="stylesheet"||(m.state.loading&4)!==0)f.flags&=-16777217;else if(f.flags|=16777216,!wv(m))if(j2())f.flags|=8192;else throw pl=Hh,qp}function id(f,m){m!==null&&(f.flags|=4),f.flags&16384&&(m=f.tag!==22?Rt():536870912,f.lanes|=m,vc|=m)}function Lu(f,m){if(!kr)switch(f.tailMode){case"hidden":m=f.tail;for(var w=null;m!==null;)m.alternate!==null&&(w=m),m=m.sibling;w===null?f.tail=null:w.sibling=null;break;case"collapsed":w=f.tail;for(var M=null;w!==null;)w.alternate!==null&&(M=w),w=w.sibling;M===null?m||f.tail===null?f.tail=null:f.tail.sibling=null:M.sibling=null}}function Yr(f){var m=f.alternate!==null&&f.alternate.child===f.child,w=0,M=0;if(m)for(var Y=f.child;Y!==null;)w|=Y.lanes|Y.childLanes,M|=Y.subtreeFlags&65011712,M|=Y.flags&65011712,Y.return=f,Y=Y.sibling;else for(Y=f.child;Y!==null;)w|=Y.lanes|Y.childLanes,M|=Y.subtreeFlags,M|=Y.flags,Y.return=f,Y=Y.sibling;return f.subtreeFlags|=M,f.childLanes=w,m}function $S(f,m,w){var M=m.pendingProps;switch(Fp(m),m.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yr(m),null;case 1:return Yr(m),null;case 3:return w=m.stateNode,M=null,f!==null&&(M=f.memoizedState.cache),m.memoizedState.cache!==M&&(m.flags|=2048),_i(yn),V(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(f===null||f.child===null)&&(oc(m)?Ei(m):f===null||f.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,Lp())),Yr(m),null;case 26:var Y=m.type,J=m.memoizedState;return f===null?(Ei(m),J!==null?(Yr(m),i2(m,J)):(Yr(m),Cm(m,Y,null,M,w))):J?J!==f.memoizedState?(Ei(m),Yr(m),i2(m,J)):(Yr(m),m.flags&=-16777217):(f=f.memoizedProps,f!==M&&Ei(m),Yr(m),Cm(m,Y,f,M,w)),null;case 27:if(ae(m),w=W.current,Y=m.type,f!==null&&m.stateNode!=null)f.memoizedProps!==M&&Ei(m);else{if(!M){if(m.stateNode===null)throw Error(n(166));return Yr(m),null}f=K.current,oc(m)?Bx(m):(f=dv(Y,M,w),m.stateNode=f,Ei(m))}return Yr(m),null;case 5:if(ae(m),Y=m.type,f!==null&&m.stateNode!=null)f.memoizedProps!==M&&Ei(m);else{if(!M){if(m.stateNode===null)throw Error(n(166));return Yr(m),null}if(J=K.current,oc(m))Bx(m);else{var ie=wd(W.current);switch(J){case 1:J=ie.createElementNS("http://www.w3.org/2000/svg",Y);break;case 2:J=ie.createElementNS("http://www.w3.org/1998/Math/MathML",Y);break;default:switch(Y){case"svg":J=ie.createElementNS("http://www.w3.org/2000/svg",Y);break;case"math":J=ie.createElementNS("http://www.w3.org/1998/Math/MathML",Y);break;case"script":J=ie.createElement("div"),J.innerHTML="<script><\/script>",J=J.removeChild(J.firstChild);break;case"select":J=typeof M.is=="string"?ie.createElement("select",{is:M.is}):ie.createElement("select"),M.multiple?J.multiple=!0:M.size&&(J.size=M.size);break;default:J=typeof M.is=="string"?ie.createElement(Y,{is:M.is}):ie.createElement(Y)}}J[de]=m,J[be]=M;e:for(ie=m.child;ie!==null;){if(ie.tag===5||ie.tag===6)J.appendChild(ie.stateNode);else if(ie.tag!==4&&ie.tag!==27&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===m)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===m)break e;ie=ie.return}ie.sibling.return=ie.return,ie=ie.sibling}m.stateNode=J;e:switch(Yn(J,Y,M),Y){case"button":case"input":case"select":case"textarea":M=!!M.autoFocus;break e;case"img":M=!0;break e;default:M=!1}M&&Ei(m)}}return Yr(m),Cm(m,m.type,f===null?null:f.memoizedProps,m.pendingProps,w),null;case 6:if(f&&m.stateNode!=null)f.memoizedProps!==M&&Ei(m);else{if(typeof M!="string"&&m.stateNode===null)throw Error(n(166));if(f=W.current,oc(m)){if(f=m.stateNode,w=m.memoizedProps,M=null,Y=Gn,Y!==null)switch(Y.tag){case 27:case 5:M=Y.memoizedProps}f[de]=m,f=!!(f.nodeValue===w||M!==null&&M.suppressHydrationWarning===!0||rv(f.nodeValue,w)),f||ro(m,!0)}else f=wd(f).createTextNode(M),f[de]=m,m.stateNode=f}return Yr(m),null;case 31:if(w=m.memoizedState,f===null||f.memoizedState!==null){if(M=oc(m),w!==null){if(f===null){if(!M)throw Error(n(318));if(f=m.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(557));f[de]=m}else cl(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;Yr(m),f=!1}else w=Lp(),f!==null&&f.memoizedState!==null&&(f.memoizedState.hydrationErrors=w),f=!0;if(!f)return m.flags&256?(qs(m),m):(qs(m),null);if((m.flags&128)!==0)throw Error(n(558))}return Yr(m),null;case 13:if(M=m.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(Y=oc(m),M!==null&&M.dehydrated!==null){if(f===null){if(!Y)throw Error(n(318));if(Y=m.memoizedState,Y=Y!==null?Y.dehydrated:null,!Y)throw Error(n(317));Y[de]=m}else cl(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;Yr(m),Y=!1}else Y=Lp(),f!==null&&f.memoizedState!==null&&(f.memoizedState.hydrationErrors=Y),Y=!0;if(!Y)return m.flags&256?(qs(m),m):(qs(m),null)}return qs(m),(m.flags&128)!==0?(m.lanes=w,m):(w=M!==null,f=f!==null&&f.memoizedState!==null,w&&(M=m.child,Y=null,M.alternate!==null&&M.alternate.memoizedState!==null&&M.alternate.memoizedState.cachePool!==null&&(Y=M.alternate.memoizedState.cachePool.pool),J=null,M.memoizedState!==null&&M.memoizedState.cachePool!==null&&(J=M.memoizedState.cachePool.pool),J!==Y&&(M.flags|=2048)),w!==f&&w&&(m.child.flags|=8192),id(m,m.updateQueue),Yr(m),null);case 4:return V(),f===null&&Km(m.stateNode.containerInfo),Yr(m),null;case 10:return _i(m.type),Yr(m),null;case 19:if(D(pn),M=m.memoizedState,M===null)return Yr(m),null;if(Y=(m.flags&128)!==0,J=M.rendering,J===null)if(Y)Lu(M,!1);else{if(sn!==0||f!==null&&(f.flags&128)!==0)for(f=m.child;f!==null;){if(J=Wh(f),J!==null){for(m.flags|=128,Lu(M,!1),f=J.updateQueue,m.updateQueue=f,id(m,f),m.subtreeFlags=0,f=w,w=m.child;w!==null;)Dx(w,f),w=w.sibling;return Q(pn,pn.current&1|2),kr&&vi(m,M.treeForkCount),m.child}f=f.sibling}M.tail!==null&&$e()>fd&&(m.flags|=128,Y=!0,Lu(M,!1),m.lanes=4194304)}else{if(!Y)if(f=Wh(J),f!==null){if(m.flags|=128,Y=!0,f=f.updateQueue,m.updateQueue=f,id(m,f),Lu(M,!0),M.tail===null&&M.tailMode==="hidden"&&!J.alternate&&!kr)return Yr(m),null}else 2*$e()-M.renderingStartTime>fd&&w!==536870912&&(m.flags|=128,Y=!0,Lu(M,!1),m.lanes=4194304);M.isBackwards?(J.sibling=m.child,m.child=J):(f=M.last,f!==null?f.sibling=J:m.child=J,M.last=J)}return M.tail!==null?(f=M.tail,M.rendering=f,M.tail=f.sibling,M.renderingStartTime=$e(),f.sibling=null,w=pn.current,Q(pn,Y?w&1|2:w&1),kr&&vi(m,M.treeForkCount),f):(Yr(m),null);case 22:case 23:return qs(m),Qp(),M=m.memoizedState!==null,f!==null?f.memoizedState!==null!==M&&(m.flags|=8192):M&&(m.flags|=8192),M?(w&536870912)!==0&&(m.flags&128)===0&&(Yr(m),m.subtreeFlags&6&&(m.flags|=8192)):Yr(m),w=m.updateQueue,w!==null&&id(m,w.retryQueue),w=null,f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(w=f.memoizedState.cachePool.pool),M=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(M=m.memoizedState.cachePool.pool),M!==w&&(m.flags|=2048),f!==null&&D(hl),null;case 24:return w=null,f!==null&&(w=f.memoizedState.cache),m.memoizedState.cache!==w&&(m.flags|=2048),_i(yn),Yr(m),null;case 25:return null;case 30:return null}throw Error(n(156,m.tag))}function qS(f,m){switch(Fp(m),m.tag){case 1:return f=m.flags,f&65536?(m.flags=f&-65537|128,m):null;case 3:return _i(yn),V(),f=m.flags,(f&65536)!==0&&(f&128)===0?(m.flags=f&-65537|128,m):null;case 26:case 27:case 5:return ae(m),null;case 31:if(m.memoizedState!==null){if(qs(m),m.alternate===null)throw Error(n(340));cl()}return f=m.flags,f&65536?(m.flags=f&-65537|128,m):null;case 13:if(qs(m),f=m.memoizedState,f!==null&&f.dehydrated!==null){if(m.alternate===null)throw Error(n(340));cl()}return f=m.flags,f&65536?(m.flags=f&-65537|128,m):null;case 19:return D(pn),null;case 4:return V(),null;case 10:return _i(m.type),null;case 22:case 23:return qs(m),Qp(),f!==null&&D(hl),f=m.flags,f&65536?(m.flags=f&-65537|128,m):null;case 24:return _i(yn),null;case 25:return null;default:return null}}function o2(f,m){switch(Fp(m),m.tag){case 3:_i(yn),V();break;case 26:case 27:case 5:ae(m);break;case 4:V();break;case 31:m.memoizedState!==null&&qs(m);break;case 13:qs(m);break;case 19:D(pn);break;case 10:_i(m.type);break;case 22:case 23:qs(m),Qp(),f!==null&&D(hl);break;case 24:_i(yn)}}function Bu(f,m){try{var w=m.updateQueue,M=w!==null?w.lastEffect:null;if(M!==null){var Y=M.next;w=Y;do{if((w.tag&f)===f){M=void 0;var J=w.create,ie=w.inst;M=J(),ie.destroy=M}w=w.next}while(w!==Y)}}catch(ve){Pr(m,m.return,ve)}}function co(f,m,w){try{var M=m.updateQueue,Y=M!==null?M.lastEffect:null;if(Y!==null){var J=Y.next;M=J;do{if((M.tag&f)===f){var ie=M.inst,ve=ie.destroy;if(ve!==void 0){ie.destroy=void 0,Y=m;var Le=w,nt=ve;try{nt()}catch(bt){Pr(Y,Le,bt)}}}M=M.next}while(M!==J)}}catch(bt){Pr(m,m.return,bt)}}function l2(f){var m=f.updateQueue;if(m!==null){var w=f.stateNode;try{Zx(m,w)}catch(M){Pr(f,f.return,M)}}}function c2(f,m,w){w.props=bl(f.type,f.memoizedProps),w.state=f.memoizedState;try{w.componentWillUnmount()}catch(M){Pr(f,m,M)}}function Uu(f,m){try{var w=f.ref;if(w!==null){switch(f.tag){case 26:case 27:case 5:var M=f.stateNode;break;case 30:M=f.stateNode;break;default:M=f.stateNode}typeof w=="function"?f.refCleanup=w(M):w.current=M}}catch(Y){Pr(f,m,Y)}}function Qa(f,m){var w=f.ref,M=f.refCleanup;if(w!==null)if(typeof M=="function")try{M()}catch(Y){Pr(f,m,Y)}finally{f.refCleanup=null,f=f.alternate,f!=null&&(f.refCleanup=null)}else if(typeof w=="function")try{w(null)}catch(Y){Pr(f,m,Y)}else w.current=null}function u2(f){var m=f.type,w=f.memoizedProps,M=f.stateNode;try{e:switch(m){case"button":case"input":case"select":case"textarea":w.autoFocus&&M.focus();break e;case"img":w.src?M.src=w.src:w.srcSet&&(M.srcset=w.srcSet)}}catch(Y){Pr(f,f.return,Y)}}function Nm(f,m,w){try{var M=f.stateNode;dT(M,f.type,w,m),M[be]=m}catch(Y){Pr(f,f.return,Y)}}function f2(f){return f.tag===5||f.tag===3||f.tag===26||f.tag===27&&bo(f.type)||f.tag===4}function Rm(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||f2(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.tag===27&&bo(f.type)||f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function Mm(f,m,w){var M=f.tag;if(M===5||M===6)f=f.stateNode,m?(w.nodeType===9?w.body:w.nodeName==="HTML"?w.ownerDocument.body:w).insertBefore(f,m):(m=w.nodeType===9?w.body:w.nodeName==="HTML"?w.ownerDocument.body:w,m.appendChild(f),w=w._reactRootContainer,w!=null||m.onclick!==null||(m.onclick=gs));else if(M!==4&&(M===27&&bo(f.type)&&(w=f.stateNode,m=null),f=f.child,f!==null))for(Mm(f,m,w),f=f.sibling;f!==null;)Mm(f,m,w),f=f.sibling}function od(f,m,w){var M=f.tag;if(M===5||M===6)f=f.stateNode,m?w.insertBefore(f,m):w.appendChild(f);else if(M!==4&&(M===27&&bo(f.type)&&(w=f.stateNode),f=f.child,f!==null))for(od(f,m,w),f=f.sibling;f!==null;)od(f,m,w),f=f.sibling}function h2(f){var m=f.stateNode,w=f.memoizedProps;try{for(var M=f.type,Y=m.attributes;Y.length;)m.removeAttributeNode(Y[0]);Yn(m,M,w),m[de]=f,m[be]=w}catch(J){Pr(f,f.return,J)}}var Ai=!1,_n=!1,jm=!1,d2=typeof WeakSet=="function"?WeakSet:Set,Pn=null;function GS(f,m){if(f=f.containerInfo,Jm=Cd,f=kx(f),kp(f)){if("selectionStart"in f)var w={start:f.selectionStart,end:f.selectionEnd};else e:{w=(w=f.ownerDocument)&&w.defaultView||window;var M=w.getSelection&&w.getSelection();if(M&&M.rangeCount!==0){w=M.anchorNode;var Y=M.anchorOffset,J=M.focusNode;M=M.focusOffset;try{w.nodeType,J.nodeType}catch{w=null;break e}var ie=0,ve=-1,Le=-1,nt=0,bt=0,_t=f,ot=null;t:for(;;){for(var ht;_t!==w||Y!==0&&_t.nodeType!==3||(ve=ie+Y),_t!==J||M!==0&&_t.nodeType!==3||(Le=ie+M),_t.nodeType===3&&(ie+=_t.nodeValue.length),(ht=_t.firstChild)!==null;)ot=_t,_t=ht;for(;;){if(_t===f)break t;if(ot===w&&++nt===Y&&(ve=ie),ot===J&&++bt===M&&(Le=ie),(ht=_t.nextSibling)!==null)break;_t=ot,ot=_t.parentNode}_t=ht}w=ve===-1||Le===-1?null:{start:ve,end:Le}}else w=null}w=w||{start:0,end:0}}else w=null;for(eg={focusedElem:f,selectionRange:w},Cd=!1,Pn=m;Pn!==null;)if(m=Pn,f=m.child,(m.subtreeFlags&1028)!==0&&f!==null)f.return=m,Pn=f;else for(;Pn!==null;){switch(m=Pn,J=m.alternate,f=m.flags,m.tag){case 0:if((f&4)!==0&&(f=m.updateQueue,f=f!==null?f.events:null,f!==null))for(w=0;w<f.length;w++)Y=f[w],Y.ref.impl=Y.nextImpl;break;case 11:case 15:break;case 1:if((f&1024)!==0&&J!==null){f=void 0,w=m,Y=J.memoizedProps,J=J.memoizedState,M=w.stateNode;try{var Bt=bl(w.type,Y);f=M.getSnapshotBeforeUpdate(Bt,J),M.__reactInternalSnapshotBeforeUpdate=f}catch(Wt){Pr(w,w.return,Wt)}}break;case 3:if((f&1024)!==0){if(f=m.stateNode.containerInfo,w=f.nodeType,w===9)ng(f);else if(w===1)switch(f.nodeName){case"HEAD":case"HTML":case"BODY":ng(f);break;default:f.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((f&1024)!==0)throw Error(n(163))}if(f=m.sibling,f!==null){f.return=m.return,Pn=f;break}Pn=m.return}}function p2(f,m,w){var M=w.flags;switch(w.tag){case 0:case 11:case 15:Ni(f,w),M&4&&Bu(5,w);break;case 1:if(Ni(f,w),M&4)if(f=w.stateNode,m===null)try{f.componentDidMount()}catch(ie){Pr(w,w.return,ie)}else{var Y=bl(w.type,m.memoizedProps);m=m.memoizedState;try{f.componentDidUpdate(Y,m,f.__reactInternalSnapshotBeforeUpdate)}catch(ie){Pr(w,w.return,ie)}}M&64&&l2(w),M&512&&Uu(w,w.return);break;case 3:if(Ni(f,w),M&64&&(f=w.updateQueue,f!==null)){if(m=null,w.child!==null)switch(w.child.tag){case 27:case 5:m=w.child.stateNode;break;case 1:m=w.child.stateNode}try{Zx(f,m)}catch(ie){Pr(w,w.return,ie)}}break;case 27:m===null&&M&4&&h2(w);case 26:case 5:Ni(f,w),m===null&&M&4&&u2(w),M&512&&Uu(w,w.return);break;case 12:Ni(f,w);break;case 31:Ni(f,w),M&4&&b2(f,w);break;case 13:Ni(f,w),M&4&&x2(f,w),M&64&&(f=w.memoizedState,f!==null&&(f=f.dehydrated,f!==null&&(w=tT.bind(null,w),wT(f,w))));break;case 22:if(M=w.memoizedState!==null||Ai,!M){m=m!==null&&m.memoizedState!==null||_n,Y=Ai;var J=_n;Ai=M,(_n=m)&&!J?Ri(f,w,(w.subtreeFlags&8772)!==0):Ni(f,w),Ai=Y,_n=J}break;case 30:break;default:Ni(f,w)}}function m2(f){var m=f.alternate;m!==null&&(f.alternate=null,m2(m)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(m=f.stateNode,m!==null&&yt(m)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}var Jr=null,As=!1;function Ci(f,m,w){for(w=w.child;w!==null;)g2(f,m,w),w=w.sibling}function g2(f,m,w){if(Oe&&typeof Oe.onCommitFiberUnmount=="function")try{Oe.onCommitFiberUnmount(Ee,w)}catch{}switch(w.tag){case 26:_n||Qa(w,m),Ci(f,m,w),w.memoizedState?w.memoizedState.count--:w.stateNode&&(w=w.stateNode,w.parentNode.removeChild(w));break;case 27:_n||Qa(w,m);var M=Jr,Y=As;bo(w.type)&&(Jr=w.stateNode,As=!1),Ci(f,m,w),Yu(w.stateNode),Jr=M,As=Y;break;case 5:_n||Qa(w,m);case 6:if(M=Jr,Y=As,Jr=null,Ci(f,m,w),Jr=M,As=Y,Jr!==null)if(As)try{(Jr.nodeType===9?Jr.body:Jr.nodeName==="HTML"?Jr.ownerDocument.body:Jr).removeChild(w.stateNode)}catch(J){Pr(w,m,J)}else try{Jr.removeChild(w.stateNode)}catch(J){Pr(w,m,J)}break;case 18:Jr!==null&&(As?(f=Jr,lv(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,w.stateNode),Cc(f)):lv(Jr,w.stateNode));break;case 4:M=Jr,Y=As,Jr=w.stateNode.containerInfo,As=!0,Ci(f,m,w),Jr=M,As=Y;break;case 0:case 11:case 14:case 15:co(2,w,m),_n||co(4,w,m),Ci(f,m,w);break;case 1:_n||(Qa(w,m),M=w.stateNode,typeof M.componentWillUnmount=="function"&&c2(w,m,M)),Ci(f,m,w);break;case 21:Ci(f,m,w);break;case 22:_n=(M=_n)||w.memoizedState!==null,Ci(f,m,w),_n=M;break;default:Ci(f,m,w)}}function b2(f,m){if(m.memoizedState===null&&(f=m.alternate,f!==null&&(f=f.memoizedState,f!==null))){f=f.dehydrated;try{Cc(f)}catch(w){Pr(m,m.return,w)}}}function x2(f,m){if(m.memoizedState===null&&(f=m.alternate,f!==null&&(f=f.memoizedState,f!==null&&(f=f.dehydrated,f!==null))))try{Cc(f)}catch(w){Pr(m,m.return,w)}}function WS(f){switch(f.tag){case 31:case 13:case 19:var m=f.stateNode;return m===null&&(m=f.stateNode=new d2),m;case 22:return f=f.stateNode,m=f._retryCache,m===null&&(m=f._retryCache=new d2),m;default:throw Error(n(435,f.tag))}}function ld(f,m){var w=WS(f);m.forEach(function(M){if(!w.has(M)){w.add(M);var Y=rT.bind(null,f,M);M.then(Y,Y)}})}function Cs(f,m){var w=m.deletions;if(w!==null)for(var M=0;M<w.length;M++){var Y=w[M],J=f,ie=m,ve=ie;e:for(;ve!==null;){switch(ve.tag){case 27:if(bo(ve.type)){Jr=ve.stateNode,As=!1;break e}break;case 5:Jr=ve.stateNode,As=!1;break e;case 3:case 4:Jr=ve.stateNode.containerInfo,As=!0;break e}ve=ve.return}if(Jr===null)throw Error(n(160));g2(J,ie,Y),Jr=null,As=!1,J=Y.alternate,J!==null&&(J.return=null),Y.return=null}if(m.subtreeFlags&13886)for(m=m.child;m!==null;)y2(m,f),m=m.sibling}var Ra=null;function y2(f,m){var w=f.alternate,M=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:Cs(m,f),Ns(f),M&4&&(co(3,f,f.return),Bu(3,f),co(5,f,f.return));break;case 1:Cs(m,f),Ns(f),M&512&&(_n||w===null||Qa(w,w.return)),M&64&&Ai&&(f=f.updateQueue,f!==null&&(M=f.callbacks,M!==null&&(w=f.shared.hiddenCallbacks,f.shared.hiddenCallbacks=w===null?M:w.concat(M))));break;case 26:var Y=Ra;if(Cs(m,f),Ns(f),M&512&&(_n||w===null||Qa(w,w.return)),M&4){var J=w!==null?w.memoizedState:null;if(M=f.memoizedState,w===null)if(M===null)if(f.stateNode===null){e:{M=f.type,w=f.memoizedProps,Y=Y.ownerDocument||Y;t:switch(M){case"title":J=Y.getElementsByTagName("title")[0],(!J||J[Xe]||J[de]||J.namespaceURI==="http://www.w3.org/2000/svg"||J.hasAttribute("itemprop"))&&(J=Y.createElement(M),Y.head.insertBefore(J,Y.querySelector("head > title"))),Yn(J,M,w),J[de]=f,Ke(J),M=J;break e;case"link":var ie=yv("link","href",Y).get(M+(w.href||""));if(ie){for(var ve=0;ve<ie.length;ve++)if(J=ie[ve],J.getAttribute("href")===(w.href==null||w.href===""?null:w.href)&&J.getAttribute("rel")===(w.rel==null?null:w.rel)&&J.getAttribute("title")===(w.title==null?null:w.title)&&J.getAttribute("crossorigin")===(w.crossOrigin==null?null:w.crossOrigin)){ie.splice(ve,1);break t}}J=Y.createElement(M),Yn(J,M,w),Y.head.appendChild(J);break;case"meta":if(ie=yv("meta","content",Y).get(M+(w.content||""))){for(ve=0;ve<ie.length;ve++)if(J=ie[ve],J.getAttribute("content")===(w.content==null?null:""+w.content)&&J.getAttribute("name")===(w.name==null?null:w.name)&&J.getAttribute("property")===(w.property==null?null:w.property)&&J.getAttribute("http-equiv")===(w.httpEquiv==null?null:w.httpEquiv)&&J.getAttribute("charset")===(w.charSet==null?null:w.charSet)){ie.splice(ve,1);break t}}J=Y.createElement(M),Yn(J,M,w),Y.head.appendChild(J);break;default:throw Error(n(468,M))}J[de]=f,Ke(J),M=J}f.stateNode=M}else vv(Y,f.type,f.stateNode);else f.stateNode=xv(Y,M,f.memoizedProps);else J!==M?(J===null?w.stateNode!==null&&(w=w.stateNode,w.parentNode.removeChild(w)):J.count--,M===null?vv(Y,f.type,f.stateNode):xv(Y,M,f.memoizedProps)):M===null&&f.stateNode!==null&&Nm(f,f.memoizedProps,w.memoizedProps)}break;case 27:Cs(m,f),Ns(f),M&512&&(_n||w===null||Qa(w,w.return)),w!==null&&M&4&&Nm(f,f.memoizedProps,w.memoizedProps);break;case 5:if(Cs(m,f),Ns(f),M&512&&(_n||w===null||Qa(w,w.return)),f.flags&32){Y=f.stateNode;try{Qr(Y,"")}catch(Bt){Pr(f,f.return,Bt)}}M&4&&f.stateNode!=null&&(Y=f.memoizedProps,Nm(f,Y,w!==null?w.memoizedProps:Y)),M&1024&&(jm=!0);break;case 6:if(Cs(m,f),Ns(f),M&4){if(f.stateNode===null)throw Error(n(162));M=f.memoizedProps,w=f.stateNode;try{w.nodeValue=M}catch(Bt){Pr(f,f.return,Bt)}}break;case 3:if(Td=null,Y=Ra,Ra=_d(m.containerInfo),Cs(m,f),Ra=Y,Ns(f),M&4&&w!==null&&w.memoizedState.isDehydrated)try{Cc(m.containerInfo)}catch(Bt){Pr(f,f.return,Bt)}jm&&(jm=!1,v2(f));break;case 4:M=Ra,Ra=_d(f.stateNode.containerInfo),Cs(m,f),Ns(f),Ra=M;break;case 12:Cs(m,f),Ns(f);break;case 31:Cs(m,f),Ns(f),M&4&&(M=f.updateQueue,M!==null&&(f.updateQueue=null,ld(f,M)));break;case 13:Cs(m,f),Ns(f),f.child.flags&8192&&f.memoizedState!==null!=(w!==null&&w.memoizedState!==null)&&(ud=$e()),M&4&&(M=f.updateQueue,M!==null&&(f.updateQueue=null,ld(f,M)));break;case 22:Y=f.memoizedState!==null;var Le=w!==null&&w.memoizedState!==null,nt=Ai,bt=_n;if(Ai=nt||Y,_n=bt||Le,Cs(m,f),_n=bt,Ai=nt,Ns(f),M&8192)e:for(m=f.stateNode,m._visibility=Y?m._visibility&-2:m._visibility|1,Y&&(w===null||Le||Ai||_n||xl(f)),w=null,m=f;;){if(m.tag===5||m.tag===26){if(w===null){Le=w=m;try{if(J=Le.stateNode,Y)ie=J.style,typeof ie.setProperty=="function"?ie.setProperty("display","none","important"):ie.display="none";else{ve=Le.stateNode;var _t=Le.memoizedProps.style,ot=_t!=null&&_t.hasOwnProperty("display")?_t.display:null;ve.style.display=ot==null||typeof ot=="boolean"?"":(""+ot).trim()}}catch(Bt){Pr(Le,Le.return,Bt)}}}else if(m.tag===6){if(w===null){Le=m;try{Le.stateNode.nodeValue=Y?"":Le.memoizedProps}catch(Bt){Pr(Le,Le.return,Bt)}}}else if(m.tag===18){if(w===null){Le=m;try{var ht=Le.stateNode;Y?cv(ht,!0):cv(Le.stateNode,!1)}catch(Bt){Pr(Le,Le.return,Bt)}}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===f)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===f)break e;for(;m.sibling===null;){if(m.return===null||m.return===f)break e;w===m&&(w=null),m=m.return}w===m&&(w=null),m.sibling.return=m.return,m=m.sibling}M&4&&(M=f.updateQueue,M!==null&&(w=M.retryQueue,w!==null&&(M.retryQueue=null,ld(f,w))));break;case 19:Cs(m,f),Ns(f),M&4&&(M=f.updateQueue,M!==null&&(f.updateQueue=null,ld(f,M)));break;case 30:break;case 21:break;default:Cs(m,f),Ns(f)}}function Ns(f){var m=f.flags;if(m&2){try{for(var w,M=f.return;M!==null;){if(f2(M)){w=M;break}M=M.return}if(w==null)throw Error(n(160));switch(w.tag){case 27:var Y=w.stateNode,J=Rm(f);od(f,J,Y);break;case 5:var ie=w.stateNode;w.flags&32&&(Qr(ie,""),w.flags&=-33);var ve=Rm(f);od(f,ve,ie);break;case 3:case 4:var Le=w.stateNode.containerInfo,nt=Rm(f);Mm(f,nt,Le);break;default:throw Error(n(161))}}catch(bt){Pr(f,f.return,bt)}f.flags&=-3}m&4096&&(f.flags&=-4097)}function v2(f){if(f.subtreeFlags&1024)for(f=f.child;f!==null;){var m=f;v2(m),m.tag===5&&m.flags&1024&&m.stateNode.reset(),f=f.sibling}}function Ni(f,m){if(m.subtreeFlags&8772)for(m=m.child;m!==null;)p2(f,m.alternate,m),m=m.sibling}function xl(f){for(f=f.child;f!==null;){var m=f;switch(m.tag){case 0:case 11:case 14:case 15:co(4,m,m.return),xl(m);break;case 1:Qa(m,m.return);var w=m.stateNode;typeof w.componentWillUnmount=="function"&&c2(m,m.return,w),xl(m);break;case 27:Yu(m.stateNode);case 26:case 5:Qa(m,m.return),xl(m);break;case 22:m.memoizedState===null&&xl(m);break;case 30:xl(m);break;default:xl(m)}f=f.sibling}}function Ri(f,m,w){for(w=w&&(m.subtreeFlags&8772)!==0,m=m.child;m!==null;){var M=m.alternate,Y=f,J=m,ie=J.flags;switch(J.tag){case 0:case 11:case 15:Ri(Y,J,w),Bu(4,J);break;case 1:if(Ri(Y,J,w),M=J,Y=M.stateNode,typeof Y.componentDidMount=="function")try{Y.componentDidMount()}catch(nt){Pr(M,M.return,nt)}if(M=J,Y=M.updateQueue,Y!==null){var ve=M.stateNode;try{var Le=Y.shared.hiddenCallbacks;if(Le!==null)for(Y.shared.hiddenCallbacks=null,Y=0;Y<Le.length;Y++)Qx(Le[Y],ve)}catch(nt){Pr(M,M.return,nt)}}w&&ie&64&&l2(J),Uu(J,J.return);break;case 27:h2(J);case 26:case 5:Ri(Y,J,w),w&&M===null&&ie&4&&u2(J),Uu(J,J.return);break;case 12:Ri(Y,J,w);break;case 31:Ri(Y,J,w),w&&ie&4&&b2(Y,J);break;case 13:Ri(Y,J,w),w&&ie&4&&x2(Y,J);break;case 22:J.memoizedState===null&&Ri(Y,J,w),Uu(J,J.return);break;case 30:break;default:Ri(Y,J,w)}m=m.sibling}}function Im(f,m){var w=null;f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(w=f.memoizedState.cachePool.pool),f=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(f=m.memoizedState.cachePool.pool),f!==w&&(f!=null&&f.refCount++,w!=null&&Eu(w))}function Dm(f,m){f=null,m.alternate!==null&&(f=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==f&&(m.refCount++,f!=null&&Eu(f))}function Ma(f,m,w,M){if(m.subtreeFlags&10256)for(m=m.child;m!==null;)w2(f,m,w,M),m=m.sibling}function w2(f,m,w,M){var Y=m.flags;switch(m.tag){case 0:case 11:case 15:Ma(f,m,w,M),Y&2048&&Bu(9,m);break;case 1:Ma(f,m,w,M);break;case 3:Ma(f,m,w,M),Y&2048&&(f=null,m.alternate!==null&&(f=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==f&&(m.refCount++,f!=null&&Eu(f)));break;case 12:if(Y&2048){Ma(f,m,w,M),f=m.stateNode;try{var J=m.memoizedProps,ie=J.id,ve=J.onPostCommit;typeof ve=="function"&&ve(ie,m.alternate===null?"mount":"update",f.passiveEffectDuration,-0)}catch(Le){Pr(m,m.return,Le)}}else Ma(f,m,w,M);break;case 31:Ma(f,m,w,M);break;case 13:Ma(f,m,w,M);break;case 23:break;case 22:J=m.stateNode,ie=m.alternate,m.memoizedState!==null?J._visibility&2?Ma(f,m,w,M):Vu(f,m):J._visibility&2?Ma(f,m,w,M):(J._visibility|=2,bc(f,m,w,M,(m.subtreeFlags&10256)!==0||!1)),Y&2048&&Im(ie,m);break;case 24:Ma(f,m,w,M),Y&2048&&Dm(m.alternate,m);break;default:Ma(f,m,w,M)}}function bc(f,m,w,M,Y){for(Y=Y&&((m.subtreeFlags&10256)!==0||!1),m=m.child;m!==null;){var J=f,ie=m,ve=w,Le=M,nt=ie.flags;switch(ie.tag){case 0:case 11:case 15:bc(J,ie,ve,Le,Y),Bu(8,ie);break;case 23:break;case 22:var bt=ie.stateNode;ie.memoizedState!==null?bt._visibility&2?bc(J,ie,ve,Le,Y):Vu(J,ie):(bt._visibility|=2,bc(J,ie,ve,Le,Y)),Y&&nt&2048&&Im(ie.alternate,ie);break;case 24:bc(J,ie,ve,Le,Y),Y&&nt&2048&&Dm(ie.alternate,ie);break;default:bc(J,ie,ve,Le,Y)}m=m.sibling}}function Vu(f,m){if(m.subtreeFlags&10256)for(m=m.child;m!==null;){var w=f,M=m,Y=M.flags;switch(M.tag){case 22:Vu(w,M),Y&2048&&Im(M.alternate,M);break;case 24:Vu(w,M),Y&2048&&Dm(M.alternate,M);break;default:Vu(w,M)}m=m.sibling}}var zu=8192;function xc(f,m,w){if(f.subtreeFlags&zu)for(f=f.child;f!==null;)_2(f,m,w),f=f.sibling}function _2(f,m,w){switch(f.tag){case 26:xc(f,m,w),f.flags&zu&&f.memoizedState!==null&&IT(w,Ra,f.memoizedState,f.memoizedProps);break;case 5:xc(f,m,w);break;case 3:case 4:var M=Ra;Ra=_d(f.stateNode.containerInfo),xc(f,m,w),Ra=M;break;case 22:f.memoizedState===null&&(M=f.alternate,M!==null&&M.memoizedState!==null?(M=zu,zu=16777216,xc(f,m,w),zu=M):xc(f,m,w));break;default:xc(f,m,w)}}function S2(f){var m=f.alternate;if(m!==null&&(f=m.child,f!==null)){m.child=null;do m=f.sibling,f.sibling=null,f=m;while(f!==null)}}function Hu(f){var m=f.deletions;if((f.flags&16)!==0){if(m!==null)for(var w=0;w<m.length;w++){var M=m[w];Pn=M,k2(M,f)}S2(f)}if(f.subtreeFlags&10256)for(f=f.child;f!==null;)T2(f),f=f.sibling}function T2(f){switch(f.tag){case 0:case 11:case 15:Hu(f),f.flags&2048&&co(9,f,f.return);break;case 3:Hu(f);break;case 12:Hu(f);break;case 22:var m=f.stateNode;f.memoizedState!==null&&m._visibility&2&&(f.return===null||f.return.tag!==13)?(m._visibility&=-3,cd(f)):Hu(f);break;default:Hu(f)}}function cd(f){var m=f.deletions;if((f.flags&16)!==0){if(m!==null)for(var w=0;w<m.length;w++){var M=m[w];Pn=M,k2(M,f)}S2(f)}for(f=f.child;f!==null;){switch(m=f,m.tag){case 0:case 11:case 15:co(8,m,m.return),cd(m);break;case 22:w=m.stateNode,w._visibility&2&&(w._visibility&=-3,cd(m));break;default:cd(m)}f=f.sibling}}function k2(f,m){for(;Pn!==null;){var w=Pn;switch(w.tag){case 0:case 11:case 15:co(8,w,m);break;case 23:case 22:if(w.memoizedState!==null&&w.memoizedState.cachePool!==null){var M=w.memoizedState.cachePool.pool;M!=null&&M.refCount++}break;case 24:Eu(w.memoizedState.cache)}if(M=w.child,M!==null)M.return=w,Pn=M;else e:for(w=f;Pn!==null;){M=Pn;var Y=M.sibling,J=M.return;if(m2(M),M===w){Pn=null;break e}if(Y!==null){Y.return=J,Pn=Y;break e}Pn=J}}}var XS={getCacheForType:function(f){var m=Wn(yn),w=m.data.get(f);return w===void 0&&(w=f(),m.data.set(f,w)),w},cacheSignal:function(){return Wn(yn).controller.signal}},YS=typeof WeakMap=="function"?WeakMap:Map,Dr=0,Hr=null,br=null,vr=0,Fr=0,Gs=null,uo=!1,yc=!1,Om=!1,Mi=0,sn=0,fo=0,yl=0,Fm=0,Ws=0,vc=0,$u=null,Rs=null,Pm=!1,ud=0,E2=0,fd=1/0,hd=null,ho=null,Mn=0,po=null,wc=null,ji=0,Lm=0,Bm=null,A2=null,qu=0,Um=null;function Xs(){return(Dr&2)!==0&&vr!==0?vr&-vr:S.T!==null?Gm():le()}function C2(){if(Ws===0)if((vr&536870912)===0||kr){var f=rt;rt<<=1,(rt&3932160)===0&&(rt=262144),Ws=f}else Ws=536870912;return f=$s.current,f!==null&&(f.flags|=32),Ws}function Ms(f,m,w){(f===Hr&&(Fr===2||Fr===9)||f.cancelPendingCommit!==null)&&(_c(f,0),mo(f,vr,Ws,!1)),Ct(f,w),((Dr&2)===0||f!==Hr)&&(f===Hr&&((Dr&2)===0&&(yl|=w),sn===4&&mo(f,vr,Ws,!1)),Za(f))}function N2(f,m,w){if((Dr&6)!==0)throw Error(n(327));var M=!w&&(m&127)===0&&(m&f.expiredLanes)===0||pt(f,m),Y=M?ZS(f,m):zm(f,m,!0),J=M;do{if(Y===0){yc&&!M&&mo(f,m,0,!1);break}else{if(w=f.current.alternate,J&&!KS(w)){Y=zm(f,m,!1),J=!1;continue}if(Y===2){if(J=m,f.errorRecoveryDisabledLanes&J)var ie=0;else ie=f.pendingLanes&-536870913,ie=ie!==0?ie:ie&536870912?536870912:0;if(ie!==0){m=ie;e:{var ve=f;Y=$u;var Le=ve.current.memoizedState.isDehydrated;if(Le&&(_c(ve,ie).flags|=256),ie=zm(ve,ie,!1),ie!==2){if(Om&&!Le){ve.errorRecoveryDisabledLanes|=J,yl|=J,Y=4;break e}J=Rs,Rs=Y,J!==null&&(Rs===null?Rs=J:Rs.push.apply(Rs,J))}Y=ie}if(J=!1,Y!==2)continue}}if(Y===1){_c(f,0),mo(f,m,0,!0);break}e:{switch(M=f,J=Y,J){case 0:case 1:throw Error(n(345));case 4:if((m&4194048)!==m)break;case 6:mo(M,m,Ws,!uo);break e;case 2:Rs=null;break;case 3:case 5:break;default:throw Error(n(329))}if((m&62914560)===m&&(Y=ud+300-$e(),10<Y)){if(mo(M,m,Ws,!uo),at(M,0,!0)!==0)break e;ji=m,M.timeoutHandle=iv(R2.bind(null,M,w,Rs,hd,Pm,m,Ws,yl,vc,uo,J,"Throttled",-0,0),Y);break e}R2(M,w,Rs,hd,Pm,m,Ws,yl,vc,uo,J,null,-0,0)}}break}while(!0);Za(f)}function R2(f,m,w,M,Y,J,ie,ve,Le,nt,bt,_t,ot,ht){if(f.timeoutHandle=-1,_t=m.subtreeFlags,_t&8192||(_t&16785408)===16785408){_t={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:gs},_2(m,J,_t);var Bt=(J&62914560)===J?ud-$e():(J&4194048)===J?E2-$e():0;if(Bt=DT(_t,Bt),Bt!==null){ji=J,f.cancelPendingCommit=Bt(L2.bind(null,f,m,J,w,M,Y,ie,ve,Le,bt,_t,null,ot,ht)),mo(f,J,ie,!nt);return}}L2(f,m,J,w,M,Y,ie,ve,Le)}function KS(f){for(var m=f;;){var w=m.tag;if((w===0||w===11||w===15)&&m.flags&16384&&(w=m.updateQueue,w!==null&&(w=w.stores,w!==null)))for(var M=0;M<w.length;M++){var Y=w[M],J=Y.getSnapshot;Y=Y.value;try{if(!zs(J(),Y))return!1}catch{return!1}}if(w=m.child,m.subtreeFlags&16384&&w!==null)w.return=m,m=w;else{if(m===f)break;for(;m.sibling===null;){if(m.return===null||m.return===f)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function mo(f,m,w,M){m&=~Fm,m&=~yl,f.suspendedLanes|=m,f.pingedLanes&=~m,M&&(f.warmLanes|=m),M=f.expirationTimes;for(var Y=m;0<Y;){var J=31-Be(Y),ie=1<<J;M[J]=-1,Y&=~ie}w!==0&&Dt(f,w,m)}function dd(){return(Dr&6)===0?(Gu(0),!1):!0}function Vm(){if(br!==null){if(Fr===0)var f=br.return;else f=br,wi=ul=null,nm(f),hc=null,Cu=0,f=br;for(;f!==null;)o2(f.alternate,f),f=f.return;br=null}}function _c(f,m){var w=f.timeoutHandle;w!==-1&&(f.timeoutHandle=-1,gT(w)),w=f.cancelPendingCommit,w!==null&&(f.cancelPendingCommit=null,w()),ji=0,Vm(),Hr=f,br=w=yi(f.current,null),vr=m,Fr=0,Gs=null,uo=!1,yc=pt(f,m),Om=!1,vc=Ws=Fm=yl=fo=sn=0,Rs=$u=null,Pm=!1,(m&8)!==0&&(m|=m&32);var M=f.entangledLanes;if(M!==0)for(f=f.entanglements,M&=m;0<M;){var Y=31-Be(M),J=1<<Y;m|=f[Y],M&=~J}return Mi=m,Dh(),w}function M2(f,m){cr=null,S.H=Fu,m===fc||m===zh?(m=Wx(),Fr=3):m===qp?(m=Wx(),Fr=4):Fr=m===ym?8:m!==null&&typeof m=="object"&&typeof m.then=="function"?6:1,Gs=m,br===null&&(sn=1,rd(f,aa(m,f.current)))}function j2(){var f=$s.current;return f===null?!0:(vr&4194048)===vr?ca===null:(vr&62914560)===vr||(vr&536870912)!==0?f===ca:!1}function I2(){var f=S.H;return S.H=Fu,f===null?Fu:f}function D2(){var f=S.A;return S.A=XS,f}function pd(){sn=4,uo||(vr&4194048)!==vr&&$s.current!==null||(yc=!0),(fo&134217727)===0&&(yl&134217727)===0||Hr===null||mo(Hr,vr,Ws,!1)}function zm(f,m,w){var M=Dr;Dr|=2;var Y=I2(),J=D2();(Hr!==f||vr!==m)&&(hd=null,_c(f,m)),m=!1;var ie=sn;e:do try{if(Fr!==0&&br!==null){var ve=br,Le=Gs;switch(Fr){case 8:Vm(),ie=6;break e;case 3:case 2:case 9:case 6:$s.current===null&&(m=!0);var nt=Fr;if(Fr=0,Gs=null,Sc(f,ve,Le,nt),w&&yc){ie=0;break e}break;default:nt=Fr,Fr=0,Gs=null,Sc(f,ve,Le,nt)}}QS(),ie=sn;break}catch(bt){M2(f,bt)}while(!0);return m&&f.shellSuspendCounter++,wi=ul=null,Dr=M,S.H=Y,S.A=J,br===null&&(Hr=null,vr=0,Dh()),ie}function QS(){for(;br!==null;)O2(br)}function ZS(f,m){var w=Dr;Dr|=2;var M=I2(),Y=D2();Hr!==f||vr!==m?(hd=null,fd=$e()+500,_c(f,m)):yc=pt(f,m);e:do try{if(Fr!==0&&br!==null){m=br;var J=Gs;t:switch(Fr){case 1:Fr=0,Gs=null,Sc(f,m,J,1);break;case 2:case 9:if(qx(J)){Fr=0,Gs=null,F2(m);break}m=function(){Fr!==2&&Fr!==9||Hr!==f||(Fr=7),Za(f)},J.then(m,m);break e;case 3:Fr=7;break e;case 4:Fr=5;break e;case 7:qx(J)?(Fr=0,Gs=null,F2(m)):(Fr=0,Gs=null,Sc(f,m,J,7));break;case 5:var ie=null;switch(br.tag){case 26:ie=br.memoizedState;case 5:case 27:var ve=br;if(ie?wv(ie):ve.stateNode.complete){Fr=0,Gs=null;var Le=ve.sibling;if(Le!==null)br=Le;else{var nt=ve.return;nt!==null?(br=nt,md(nt)):br=null}break t}}Fr=0,Gs=null,Sc(f,m,J,5);break;case 6:Fr=0,Gs=null,Sc(f,m,J,6);break;case 8:Vm(),sn=6;break e;default:throw Error(n(462))}}JS();break}catch(bt){M2(f,bt)}while(!0);return wi=ul=null,S.H=M,S.A=Y,Dr=w,br!==null?0:(Hr=null,vr=0,Dh(),sn)}function JS(){for(;br!==null&&!Fe();)O2(br)}function O2(f){var m=a2(f.alternate,f,Mi);f.memoizedProps=f.pendingProps,m===null?md(f):br=m}function F2(f){var m=f,w=m.alternate;switch(m.tag){case 15:case 0:m=Jy(w,m,m.pendingProps,m.type,void 0,vr);break;case 11:m=Jy(w,m,m.pendingProps,m.type.render,m.ref,vr);break;case 5:nm(m);default:o2(w,m),m=br=Dx(m,Mi),m=a2(w,m,Mi)}f.memoizedProps=f.pendingProps,m===null?md(f):br=m}function Sc(f,m,w,M){wi=ul=null,nm(m),hc=null,Cu=0;var Y=m.return;try{if(VS(f,Y,m,w,vr)){sn=1,rd(f,aa(w,f.current)),br=null;return}}catch(J){if(Y!==null)throw br=Y,J;sn=1,rd(f,aa(w,f.current)),br=null;return}m.flags&32768?(kr||M===1?f=!0:yc||(vr&536870912)!==0?f=!1:(uo=f=!0,(M===2||M===9||M===3||M===6)&&(M=$s.current,M!==null&&M.tag===13&&(M.flags|=16384))),P2(m,f)):md(m)}function md(f){var m=f;do{if((m.flags&32768)!==0){P2(m,uo);return}f=m.return;var w=$S(m.alternate,m,Mi);if(w!==null){br=w;return}if(m=m.sibling,m!==null){br=m;return}br=m=f}while(m!==null);sn===0&&(sn=5)}function P2(f,m){do{var w=qS(f.alternate,f);if(w!==null){w.flags&=32767,br=w;return}if(w=f.return,w!==null&&(w.flags|=32768,w.subtreeFlags=0,w.deletions=null),!m&&(f=f.sibling,f!==null)){br=f;return}br=f=w}while(f!==null);sn=6,br=null}function L2(f,m,w,M,Y,J,ie,ve,Le){f.cancelPendingCommit=null;do gd();while(Mn!==0);if((Dr&6)!==0)throw Error(n(327));if(m!==null){if(m===f.current)throw Error(n(177));if(J=m.lanes|m.childLanes,J|=Rp,Mt(f,w,J,ie,ve,Le),f===Hr&&(br=Hr=null,vr=0),wc=m,po=f,ji=w,Lm=J,Bm=Y,A2=M,(m.subtreeFlags&10256)!==0||(m.flags&10256)!==0?(f.callbackNode=null,f.callbackPriority=0,nT(Ze,function(){return H2(),null})):(f.callbackNode=null,f.callbackPriority=0),M=(m.flags&13878)!==0,(m.subtreeFlags&13878)!==0||M){M=S.T,S.T=null,Y=k.p,k.p=2,ie=Dr,Dr|=4;try{GS(f,m,w)}finally{Dr=ie,k.p=Y,S.T=M}}Mn=1,B2(),U2(),V2()}}function B2(){if(Mn===1){Mn=0;var f=po,m=wc,w=(m.flags&13878)!==0;if((m.subtreeFlags&13878)!==0||w){w=S.T,S.T=null;var M=k.p;k.p=2;var Y=Dr;Dr|=4;try{y2(m,f);var J=eg,ie=kx(f.containerInfo),ve=J.focusedElem,Le=J.selectionRange;if(ie!==ve&&ve&&ve.ownerDocument&&Tx(ve.ownerDocument.documentElement,ve)){if(Le!==null&&kp(ve)){var nt=Le.start,bt=Le.end;if(bt===void 0&&(bt=nt),"selectionStart"in ve)ve.selectionStart=nt,ve.selectionEnd=Math.min(bt,ve.value.length);else{var _t=ve.ownerDocument||document,ot=_t&&_t.defaultView||window;if(ot.getSelection){var ht=ot.getSelection(),Bt=ve.textContent.length,Wt=Math.min(Le.start,Bt),Vr=Le.end===void 0?Wt:Math.min(Le.end,Bt);!ht.extend&&Wt>Vr&&(ie=Vr,Vr=Wt,Wt=ie);var Qe=Sx(ve,Wt),ze=Sx(ve,Vr);if(Qe&&ze&&(ht.rangeCount!==1||ht.anchorNode!==Qe.node||ht.anchorOffset!==Qe.offset||ht.focusNode!==ze.node||ht.focusOffset!==ze.offset)){var tt=_t.createRange();tt.setStart(Qe.node,Qe.offset),ht.removeAllRanges(),Wt>Vr?(ht.addRange(tt),ht.extend(ze.node,ze.offset)):(tt.setEnd(ze.node,ze.offset),ht.addRange(tt))}}}}for(_t=[],ht=ve;ht=ht.parentNode;)ht.nodeType===1&&_t.push({element:ht,left:ht.scrollLeft,top:ht.scrollTop});for(typeof ve.focus=="function"&&ve.focus(),ve=0;ve<_t.length;ve++){var wt=_t[ve];wt.element.scrollLeft=wt.left,wt.element.scrollTop=wt.top}}Cd=!!Jm,eg=Jm=null}finally{Dr=Y,k.p=M,S.T=w}}f.current=m,Mn=2}}function U2(){if(Mn===2){Mn=0;var f=po,m=wc,w=(m.flags&8772)!==0;if((m.subtreeFlags&8772)!==0||w){w=S.T,S.T=null;var M=k.p;k.p=2;var Y=Dr;Dr|=4;try{p2(f,m.alternate,m)}finally{Dr=Y,k.p=M,S.T=w}}Mn=3}}function V2(){if(Mn===4||Mn===3){Mn=0,We();var f=po,m=wc,w=ji,M=A2;(m.subtreeFlags&10256)!==0||(m.flags&10256)!==0?Mn=5:(Mn=0,wc=po=null,z2(f,f.pendingLanes));var Y=f.pendingLanes;if(Y===0&&(ho=null),ut(w),m=m.stateNode,Oe&&typeof Oe.onCommitFiberRoot=="function")try{Oe.onCommitFiberRoot(Ee,m,void 0,(m.current.flags&128)===128)}catch{}if(M!==null){m=S.T,Y=k.p,k.p=2,S.T=null;try{for(var J=f.onRecoverableError,ie=0;ie<M.length;ie++){var ve=M[ie];J(ve.value,{componentStack:ve.stack})}}finally{S.T=m,k.p=Y}}(ji&3)!==0&&gd(),Za(f),Y=f.pendingLanes,(w&261930)!==0&&(Y&42)!==0?f===Um?qu++:(qu=0,Um=f):qu=0,Gu(0)}}function z2(f,m){(f.pooledCacheLanes&=m)===0&&(m=f.pooledCache,m!=null&&(f.pooledCache=null,Eu(m)))}function gd(){return B2(),U2(),V2(),H2()}function H2(){if(Mn!==5)return!1;var f=po,m=Lm;Lm=0;var w=ut(ji),M=S.T,Y=k.p;try{k.p=32>w?32:w,S.T=null,w=Bm,Bm=null;var J=po,ie=ji;if(Mn=0,wc=po=null,ji=0,(Dr&6)!==0)throw Error(n(331));var ve=Dr;if(Dr|=4,T2(J.current),w2(J,J.current,ie,w),Dr=ve,Gu(0,!1),Oe&&typeof Oe.onPostCommitFiberRoot=="function")try{Oe.onPostCommitFiberRoot(Ee,J)}catch{}return!0}finally{k.p=Y,S.T=M,z2(f,m)}}function $2(f,m,w){m=aa(w,m),m=xm(f.stateNode,m,2),f=io(f,m,2),f!==null&&(Ct(f,2),Za(f))}function Pr(f,m,w){if(f.tag===3)$2(f,f,w);else for(;m!==null;){if(m.tag===3){$2(m,f,w);break}else if(m.tag===1){var M=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(ho===null||!ho.has(M))){f=aa(w,f),w=qy(2),M=io(m,w,2),M!==null&&(Gy(w,M,m,f),Ct(M,2),Za(M));break}}m=m.return}}function Hm(f,m,w){var M=f.pingCache;if(M===null){M=f.pingCache=new YS;var Y=new Set;M.set(m,Y)}else Y=M.get(m),Y===void 0&&(Y=new Set,M.set(m,Y));Y.has(w)||(Om=!0,Y.add(w),f=eT.bind(null,f,m,w),m.then(f,f))}function eT(f,m,w){var M=f.pingCache;M!==null&&M.delete(m),f.pingedLanes|=f.suspendedLanes&w,f.warmLanes&=~w,Hr===f&&(vr&w)===w&&(sn===4||sn===3&&(vr&62914560)===vr&&300>$e()-ud?(Dr&2)===0&&_c(f,0):Fm|=w,vc===vr&&(vc=0)),Za(f)}function q2(f,m){m===0&&(m=Rt()),f=ol(f,m),f!==null&&(Ct(f,m),Za(f))}function tT(f){var m=f.memoizedState,w=0;m!==null&&(w=m.retryLane),q2(f,w)}function rT(f,m){var w=0;switch(f.tag){case 31:case 13:var M=f.stateNode,Y=f.memoizedState;Y!==null&&(w=Y.retryLane);break;case 19:M=f.stateNode;break;case 22:M=f.stateNode._retryCache;break;default:throw Error(n(314))}M!==null&&M.delete(m),q2(f,w)}function nT(f,m){return ke(f,m)}var bd=null,Tc=null,$m=!1,xd=!1,qm=!1,go=0;function Za(f){f!==Tc&&f.next===null&&(Tc===null?bd=Tc=f:Tc=Tc.next=f),xd=!0,$m||($m=!0,aT())}function Gu(f,m){if(!qm&&xd){qm=!0;do for(var w=!1,M=bd;M!==null;){if(f!==0){var Y=M.pendingLanes;if(Y===0)var J=0;else{var ie=M.suspendedLanes,ve=M.pingedLanes;J=(1<<31-Be(42|f)+1)-1,J&=Y&~(ie&~ve),J=J&201326741?J&201326741|1:J?J|2:0}J!==0&&(w=!0,Y2(M,J))}else J=vr,J=at(M,M===Hr?J:0,M.cancelPendingCommit!==null||M.timeoutHandle!==-1),(J&3)===0||pt(M,J)||(w=!0,Y2(M,J));M=M.next}while(w);qm=!1}}function sT(){G2()}function G2(){xd=$m=!1;var f=0;go!==0&&mT()&&(f=go);for(var m=$e(),w=null,M=bd;M!==null;){var Y=M.next,J=W2(M,m);J===0?(M.next=null,w===null?bd=Y:w.next=Y,Y===null&&(Tc=w)):(w=M,(f!==0||(J&3)!==0)&&(xd=!0)),M=Y}Mn!==0&&Mn!==5||Gu(f),go!==0&&(go=0)}function W2(f,m){for(var w=f.suspendedLanes,M=f.pingedLanes,Y=f.expirationTimes,J=f.pendingLanes&-62914561;0<J;){var ie=31-Be(J),ve=1<<ie,Le=Y[ie];Le===-1?((ve&w)===0||(ve&M)!==0)&&(Y[ie]=lt(ve,m)):Le<=m&&(f.expiredLanes|=ve),J&=~ve}if(m=Hr,w=vr,w=at(f,f===m?w:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),M=f.callbackNode,w===0||f===m&&(Fr===2||Fr===9)||f.cancelPendingCommit!==null)return M!==null&&M!==null&&Ce(M),f.callbackNode=null,f.callbackPriority=0;if((w&3)===0||pt(f,w)){if(m=w&-w,m===f.callbackPriority)return m;switch(M!==null&&Ce(M),ut(w)){case 2:case 8:w=et;break;case 32:w=Ze;break;case 268435456:w=mt;break;default:w=Ze}return M=X2.bind(null,f),w=ke(w,M),f.callbackPriority=m,f.callbackNode=w,m}return M!==null&&M!==null&&Ce(M),f.callbackPriority=2,f.callbackNode=null,2}function X2(f,m){if(Mn!==0&&Mn!==5)return f.callbackNode=null,f.callbackPriority=0,null;var w=f.callbackNode;if(gd()&&f.callbackNode!==w)return null;var M=vr;return M=at(f,f===Hr?M:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),M===0?null:(N2(f,M,m),W2(f,$e()),f.callbackNode!=null&&f.callbackNode===w?X2.bind(null,f):null)}function Y2(f,m){if(gd())return null;N2(f,m,!0)}function aT(){bT(function(){(Dr&6)!==0?ke(st,sT):G2()})}function Gm(){if(go===0){var f=cc;f===0&&(f=Te,Te<<=1,(Te&261888)===0&&(Te=256)),go=f}return go}function K2(f){return f==null||typeof f=="symbol"||typeof f=="boolean"?null:typeof f=="function"?f:Sa(""+f)}function Q2(f,m){var w=m.ownerDocument.createElement("input");return w.name=m.name,w.value=m.value,f.id&&w.setAttribute("form",f.id),m.parentNode.insertBefore(w,m),f=new FormData(f),w.parentNode.removeChild(w),f}function iT(f,m,w,M,Y){if(m==="submit"&&w&&w.stateNode===Y){var J=K2((Y[be]||null).action),ie=M.submitter;ie&&(m=(m=ie[be]||null)?K2(m.formAction):ie.getAttribute("formAction"),m!==null&&(J=m,ie=null));var ve=new qa("action","action",null,M,Y);f.push({event:ve,listeners:[{instance:null,listener:function(){if(M.defaultPrevented){if(go!==0){var Le=ie?Q2(Y,ie):new FormData(Y);hm(w,{pending:!0,data:Le,method:Y.method,action:J},null,Le)}}else typeof J=="function"&&(ve.preventDefault(),Le=ie?Q2(Y,ie):new FormData(Y),hm(w,{pending:!0,data:Le,method:Y.method,action:J},J,Le))},currentTarget:Y}]})}}for(var Wm=0;Wm<Np.length;Wm++){var Xm=Np[Wm],oT=Xm.toLowerCase(),lT=Xm[0].toUpperCase()+Xm.slice(1);Na(oT,"on"+lT)}Na(Cx,"onAnimationEnd"),Na(Nx,"onAnimationIteration"),Na(Rx,"onAnimationStart"),Na("dblclick","onDoubleClick"),Na("focusin","onFocus"),Na("focusout","onBlur"),Na(TS,"onTransitionRun"),Na(kS,"onTransitionStart"),Na(ES,"onTransitionCancel"),Na(Mx,"onTransitionEnd"),At("onMouseEnter",["mouseout","mouseover"]),At("onMouseLeave",["mouseout","mouseover"]),At("onPointerEnter",["pointerout","pointerover"]),At("onPointerLeave",["pointerout","pointerover"]),xt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xt("onBeforeInput",["compositionend","keypress","textInput","paste"]),xt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wu));function Z2(f,m){m=(m&4)!==0;for(var w=0;w<f.length;w++){var M=f[w],Y=M.event;M=M.listeners;e:{var J=void 0;if(m)for(var ie=M.length-1;0<=ie;ie--){var ve=M[ie],Le=ve.instance,nt=ve.currentTarget;if(ve=ve.listener,Le!==J&&Y.isPropagationStopped())break e;J=ve,Y.currentTarget=nt;try{J(Y)}catch(bt){Ih(bt)}Y.currentTarget=null,J=Le}else for(ie=0;ie<M.length;ie++){if(ve=M[ie],Le=ve.instance,nt=ve.currentTarget,ve=ve.listener,Le!==J&&Y.isPropagationStopped())break e;J=ve,Y.currentTarget=nt;try{J(Y)}catch(bt){Ih(bt)}Y.currentTarget=null,J=Le}}}}function xr(f,m){var w=m[De];w===void 0&&(w=m[De]=new Set);var M=f+"__bubble";w.has(M)||(J2(m,f,2,!1),w.add(M))}function Ym(f,m,w){var M=0;m&&(M|=4),J2(w,f,M,m)}var yd="_reactListening"+Math.random().toString(36).slice(2);function Km(f){if(!f[yd]){f[yd]=!0,dt.forEach(function(w){w!=="selectionchange"&&(cT.has(w)||Ym(w,!1,f),Ym(w,!0,f))});var m=f.nodeType===9?f:f.ownerDocument;m===null||m[yd]||(m[yd]=!0,Ym("selectionchange",!1,m))}}function J2(f,m,w,M){switch(Cv(m)){case 2:var Y=PT;break;case 8:Y=LT;break;default:Y=fg}w=Y.bind(null,m,w,f),Y=void 0,!Jo||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(Y=!0),M?Y!==void 0?f.addEventListener(m,w,{capture:!0,passive:Y}):f.addEventListener(m,w,!0):Y!==void 0?f.addEventListener(m,w,{passive:Y}):f.addEventListener(m,w,!1)}function Qm(f,m,w,M,Y){var J=M;if((m&1)===0&&(m&2)===0&&M!==null)e:for(;;){if(M===null)return;var ie=M.tag;if(ie===3||ie===4){var ve=M.stateNode.containerInfo;if(ve===Y)break;if(ie===4)for(ie=M.return;ie!==null;){var Le=ie.tag;if((Le===3||Le===4)&&ie.stateNode.containerInfo===Y)return;ie=ie.return}for(;ve!==null;){if(ie=St(ve),ie===null)return;if(Le=ie.tag,Le===5||Le===6||Le===26||Le===27){M=J=ie;continue e}ve=ve.parentNode}}M=M.return}Ki(function(){var nt=J,bt=$n(w),_t=[];e:{var ot=jx.get(f);if(ot!==void 0){var ht=qa,Bt=f;switch(f){case"keypress":if(tl(w)===0)break e;case"keydown":case"keyup":ht=Rh;break;case"focusin":Bt="focus",ht=nl;break;case"focusout":Bt="blur",ht=nl;break;case"beforeblur":case"afterblur":ht=nl;break;case"click":if(w.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ht=xu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ht=wh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ht=se;break;case Cx:case Nx:case Rx:ht=Sh;break;case Mx:ht=we;break;case"scroll":case"scrollend":ht=bu;break;case"wheel":ht=ft;break;case"copy":case"cut":case"paste":ht=Th;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ht=xi;break;case"toggle":case"beforetoggle":ht=lr}var Wt=(m&4)!==0,Vr=!Wt&&(f==="scroll"||f==="scrollend"),Qe=Wt?ot!==null?ot+"Capture":null:ot;Wt=[];for(var ze=nt,tt;ze!==null;){var wt=ze;if(tt=wt.stateNode,wt=wt.tag,wt!==5&&wt!==26&&wt!==27||tt===null||Qe===null||(wt=ka(ze,Qe),wt!=null&&Wt.push(Xu(ze,wt,tt))),Vr)break;ze=ze.return}0<Wt.length&&(ot=new ht(ot,Bt,null,w,bt),_t.push({event:ot,listeners:Wt}))}}if((m&7)===0){e:{if(ot=f==="mouseover"||f==="pointerover",ht=f==="mouseout"||f==="pointerout",ot&&w!==Ha&&(Bt=w.relatedTarget||w.fromElement)&&(St(Bt)||Bt[xe]))break e;if((ht||ot)&&(ot=bt.window===bt?bt:(ot=bt.ownerDocument)?ot.defaultView||ot.parentWindow:window,ht?(Bt=w.relatedTarget||w.toElement,ht=nt,Bt=Bt?St(Bt):null,Bt!==null&&(Vr=i(Bt),Wt=Bt.tag,Bt!==Vr||Wt!==5&&Wt!==27&&Wt!==6)&&(Bt=null)):(ht=null,Bt=nt),ht!==Bt)){if(Wt=xu,wt="onMouseLeave",Qe="onMouseEnter",ze="mouse",(f==="pointerout"||f==="pointerover")&&(Wt=xi,wt="onPointerLeave",Qe="onPointerEnter",ze="pointer"),Vr=ht==null?ot:me(ht),tt=Bt==null?ot:me(Bt),ot=new Wt(wt,ze+"leave",ht,w,bt),ot.target=Vr,ot.relatedTarget=tt,wt=null,St(bt)===nt&&(Wt=new Wt(Qe,ze+"enter",Bt,w,bt),Wt.target=tt,Wt.relatedTarget=Vr,wt=Wt),Vr=wt,ht&&Bt)t:{for(Wt=uT,Qe=ht,ze=Bt,tt=0,wt=Qe;wt;wt=Wt(wt))tt++;wt=0;for(var Ht=ze;Ht;Ht=Wt(Ht))wt++;for(;0<tt-wt;)Qe=Wt(Qe),tt--;for(;0<wt-tt;)ze=Wt(ze),wt--;for(;tt--;){if(Qe===ze||ze!==null&&Qe===ze.alternate){Wt=Qe;break t}Qe=Wt(Qe),ze=Wt(ze)}Wt=null}else Wt=null;ht!==null&&ev(_t,ot,ht,Wt,!1),Bt!==null&&Vr!==null&&ev(_t,Vr,Bt,Wt,!0)}}e:{if(ot=nt?me(nt):window,ht=ot.nodeName&&ot.nodeName.toLowerCase(),ht==="select"||ht==="input"&&ot.type==="file")var Mr=bx;else if(mx(ot))if(xx)Mr=wS;else{Mr=yS;var Vt=xS}else ht=ot.nodeName,!ht||ht.toLowerCase()!=="input"||ot.type!=="checkbox"&&ot.type!=="radio"?nt&&Us(nt.elementType)&&(Mr=bx):Mr=vS;if(Mr&&(Mr=Mr(f,nt))){gx(_t,Mr,w,bt);break e}Vt&&Vt(f,ot,nt),f==="focusout"&&nt&&ot.type==="number"&&nt.memoizedProps.value!=null&&Es(ot,"number",ot.value)}switch(Vt=nt?me(nt):window,f){case"focusin":(mx(Vt)||Vt.contentEditable==="true")&&(tc=Vt,Ep=nt,Su=null);break;case"focusout":Su=Ep=tc=null;break;case"mousedown":Ap=!0;break;case"contextmenu":case"mouseup":case"dragend":Ap=!1,Ex(_t,w,bt);break;case"selectionchange":if(SS)break;case"keydown":case"keyup":Ex(_t,w,bt)}var hr;if(Ir)e:{switch(f){case"compositionstart":var wr="onCompositionStart";break e;case"compositionend":wr="onCompositionEnd";break e;case"compositionupdate":wr="onCompositionUpdate";break e}wr=void 0}else ec?sl(f,w)&&(wr="onCompositionEnd"):f==="keydown"&&w.keyCode===229&&(wr="onCompositionStart");wr&&(Xa&&w.locale!=="ko"&&(ec||wr!=="onCompositionStart"?wr==="onCompositionEnd"&&ec&&(hr=gu()):($a=bt,mu="value"in $a?$a.value:$a.textContent,ec=!0)),Vt=vd(nt,wr),0<Vt.length&&(wr=new Wa(wr,f,null,w,bt),_t.push({event:wr,listeners:Vt}),hr?wr.data=hr:(hr=Jl(w),hr!==null&&(wr.data=hr)))),(hr=na?pS(f,w):mS(f,w))&&(wr=vd(nt,"onBeforeInput"),0<wr.length&&(Vt=new Wa("onBeforeInput","beforeinput",null,w,bt),_t.push({event:Vt,listeners:wr}),Vt.data=hr)),iT(_t,f,nt,w,bt)}Z2(_t,m)})}function Xu(f,m,w){return{instance:f,listener:m,currentTarget:w}}function vd(f,m){for(var w=m+"Capture",M=[];f!==null;){var Y=f,J=Y.stateNode;if(Y=Y.tag,Y!==5&&Y!==26&&Y!==27||J===null||(Y=ka(f,w),Y!=null&&M.unshift(Xu(f,Y,J)),Y=ka(f,m),Y!=null&&M.push(Xu(f,Y,J))),f.tag===3)return M;f=f.return}return[]}function uT(f){if(f===null)return null;do f=f.return;while(f&&f.tag!==5&&f.tag!==27);return f||null}function ev(f,m,w,M,Y){for(var J=m._reactName,ie=[];w!==null&&w!==M;){var ve=w,Le=ve.alternate,nt=ve.stateNode;if(ve=ve.tag,Le!==null&&Le===M)break;ve!==5&&ve!==26&&ve!==27||nt===null||(Le=nt,Y?(nt=ka(w,J),nt!=null&&ie.unshift(Xu(w,nt,Le))):Y||(nt=ka(w,J),nt!=null&&ie.push(Xu(w,nt,Le)))),w=w.return}ie.length!==0&&f.push({event:m,listeners:ie})}var fT=/\r\n?/g,hT=/\u0000|\uFFFD/g;function tv(f){return(typeof f=="string"?f:""+f).replace(fT,`
`).replace(hT,"")}function rv(f,m){return m=tv(m),tv(f)===m}function Ur(f,m,w,M,Y,J){switch(w){case"children":typeof M=="string"?m==="body"||m==="textarea"&&M===""||Qr(f,M):(typeof M=="number"||typeof M=="bigint")&&m!=="body"&&Qr(f,""+M);break;case"className":rr(f,"class",M);break;case"tabIndex":rr(f,"tabindex",M);break;case"dir":case"role":case"viewBox":case"width":case"height":rr(f,w,M);break;case"style":za(f,M,J);break;case"data":if(m!=="object"){rr(f,"data",M);break}case"src":case"href":if(M===""&&(m!=="a"||w!=="href")){f.removeAttribute(w);break}if(M==null||typeof M=="function"||typeof M=="symbol"||typeof M=="boolean"){f.removeAttribute(w);break}M=Sa(""+M),f.setAttribute(w,M);break;case"action":case"formAction":if(typeof M=="function"){f.setAttribute(w,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof J=="function"&&(w==="formAction"?(m!=="input"&&Ur(f,m,"name",Y.name,Y,null),Ur(f,m,"formEncType",Y.formEncType,Y,null),Ur(f,m,"formMethod",Y.formMethod,Y,null),Ur(f,m,"formTarget",Y.formTarget,Y,null)):(Ur(f,m,"encType",Y.encType,Y,null),Ur(f,m,"method",Y.method,Y,null),Ur(f,m,"target",Y.target,Y,null)));if(M==null||typeof M=="symbol"||typeof M=="boolean"){f.removeAttribute(w);break}M=Sa(""+M),f.setAttribute(w,M);break;case"onClick":M!=null&&(f.onclick=gs);break;case"onScroll":M!=null&&xr("scroll",f);break;case"onScrollEnd":M!=null&&xr("scrollend",f);break;case"dangerouslySetInnerHTML":if(M!=null){if(typeof M!="object"||!("__html"in M))throw Error(n(61));if(w=M.__html,w!=null){if(Y.children!=null)throw Error(n(60));f.innerHTML=w}}break;case"multiple":f.multiple=M&&typeof M!="function"&&typeof M!="symbol";break;case"muted":f.muted=M&&typeof M!="function"&&typeof M!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(M==null||typeof M=="function"||typeof M=="boolean"||typeof M=="symbol"){f.removeAttribute("xlink:href");break}w=Sa(""+M),f.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",w);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":M!=null&&typeof M!="function"&&typeof M!="symbol"?f.setAttribute(w,""+M):f.removeAttribute(w);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":M&&typeof M!="function"&&typeof M!="symbol"?f.setAttribute(w,""):f.removeAttribute(w);break;case"capture":case"download":M===!0?f.setAttribute(w,""):M!==!1&&M!=null&&typeof M!="function"&&typeof M!="symbol"?f.setAttribute(w,M):f.removeAttribute(w);break;case"cols":case"rows":case"size":case"span":M!=null&&typeof M!="function"&&typeof M!="symbol"&&!isNaN(M)&&1<=M?f.setAttribute(w,M):f.removeAttribute(w);break;case"rowSpan":case"start":M==null||typeof M=="function"||typeof M=="symbol"||isNaN(M)?f.removeAttribute(w):f.setAttribute(w,M);break;case"popover":xr("beforetoggle",f),xr("toggle",f),Jt(f,"popover",M);break;case"xlinkActuate":Xt(f,"http://www.w3.org/1999/xlink","xlink:actuate",M);break;case"xlinkArcrole":Xt(f,"http://www.w3.org/1999/xlink","xlink:arcrole",M);break;case"xlinkRole":Xt(f,"http://www.w3.org/1999/xlink","xlink:role",M);break;case"xlinkShow":Xt(f,"http://www.w3.org/1999/xlink","xlink:show",M);break;case"xlinkTitle":Xt(f,"http://www.w3.org/1999/xlink","xlink:title",M);break;case"xlinkType":Xt(f,"http://www.w3.org/1999/xlink","xlink:type",M);break;case"xmlBase":Xt(f,"http://www.w3.org/XML/1998/namespace","xml:base",M);break;case"xmlLang":Xt(f,"http://www.w3.org/XML/1998/namespace","xml:lang",M);break;case"xmlSpace":Xt(f,"http://www.w3.org/XML/1998/namespace","xml:space",M);break;case"is":Jt(f,"is",M);break;case"innerText":case"textContent":break;default:(!(2<w.length)||w[0]!=="o"&&w[0]!=="O"||w[1]!=="n"&&w[1]!=="N")&&(w=Vs.get(w)||w,Jt(f,w,M))}}function Zm(f,m,w,M,Y,J){switch(w){case"style":za(f,M,J);break;case"dangerouslySetInnerHTML":if(M!=null){if(typeof M!="object"||!("__html"in M))throw Error(n(61));if(w=M.__html,w!=null){if(Y.children!=null)throw Error(n(60));f.innerHTML=w}}break;case"children":typeof M=="string"?Qr(f,M):(typeof M=="number"||typeof M=="bigint")&&Qr(f,""+M);break;case"onScroll":M!=null&&xr("scroll",f);break;case"onScrollEnd":M!=null&&xr("scrollend",f);break;case"onClick":M!=null&&(f.onclick=gs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Et.hasOwnProperty(w))e:{if(w[0]==="o"&&w[1]==="n"&&(Y=w.endsWith("Capture"),m=w.slice(2,Y?w.length-7:void 0),J=f[be]||null,J=J!=null?J[w]:null,typeof J=="function"&&f.removeEventListener(m,J,Y),typeof M=="function")){typeof J!="function"&&J!==null&&(w in f?f[w]=null:f.hasAttribute(w)&&f.removeAttribute(w)),f.addEventListener(m,M,Y);break e}w in f?f[w]=M:M===!0?f.setAttribute(w,""):Jt(f,w,M)}}}function Yn(f,m,w){switch(m){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xr("error",f),xr("load",f);var M=!1,Y=!1,J;for(J in w)if(w.hasOwnProperty(J)){var ie=w[J];if(ie!=null)switch(J){case"src":M=!0;break;case"srcSet":Y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,m));default:Ur(f,m,J,ie,w,null)}}Y&&Ur(f,m,"srcSet",w.srcSet,w,null),M&&Ur(f,m,"src",w.src,w,null);return;case"input":xr("invalid",f);var ve=J=ie=Y=null,Le=null,nt=null;for(M in w)if(w.hasOwnProperty(M)){var bt=w[M];if(bt!=null)switch(M){case"name":Y=bt;break;case"type":ie=bt;break;case"checked":Le=bt;break;case"defaultChecked":nt=bt;break;case"value":J=bt;break;case"defaultValue":ve=bt;break;case"children":case"dangerouslySetInnerHTML":if(bt!=null)throw Error(n(137,m));break;default:Ur(f,m,M,bt,w,null)}}mr(f,J,ve,Le,nt,ie,Y,!1);return;case"select":xr("invalid",f),M=ie=J=null;for(Y in w)if(w.hasOwnProperty(Y)&&(ve=w[Y],ve!=null))switch(Y){case"value":J=ve;break;case"defaultValue":ie=ve;break;case"multiple":M=ve;default:Ur(f,m,Y,ve,w,null)}m=J,w=ie,f.multiple=!!M,m!=null?rs(f,!!M,m,!1):w!=null&&rs(f,!!M,w,!0);return;case"textarea":xr("invalid",f),J=Y=M=null;for(ie in w)if(w.hasOwnProperty(ie)&&(ve=w[ie],ve!=null))switch(ie){case"value":M=ve;break;case"defaultValue":Y=ve;break;case"children":J=ve;break;case"dangerouslySetInnerHTML":if(ve!=null)throw Error(n(91));break;default:Ur(f,m,ie,ve,w,null)}rn(f,M,Y,J);return;case"option":for(Le in w)if(w.hasOwnProperty(Le)&&(M=w[Le],M!=null))switch(Le){case"selected":f.selected=M&&typeof M!="function"&&typeof M!="symbol";break;default:Ur(f,m,Le,M,w,null)}return;case"dialog":xr("beforetoggle",f),xr("toggle",f),xr("cancel",f),xr("close",f);break;case"iframe":case"object":xr("load",f);break;case"video":case"audio":for(M=0;M<Wu.length;M++)xr(Wu[M],f);break;case"image":xr("error",f),xr("load",f);break;case"details":xr("toggle",f);break;case"embed":case"source":case"link":xr("error",f),xr("load",f);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(nt in w)if(w.hasOwnProperty(nt)&&(M=w[nt],M!=null))switch(nt){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,m));default:Ur(f,m,nt,M,w,null)}return;default:if(Us(m)){for(bt in w)w.hasOwnProperty(bt)&&(M=w[bt],M!==void 0&&Zm(f,m,bt,M,w,void 0));return}}for(ve in w)w.hasOwnProperty(ve)&&(M=w[ve],M!=null&&Ur(f,m,ve,M,w,null))}function dT(f,m,w,M){switch(m){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var Y=null,J=null,ie=null,ve=null,Le=null,nt=null,bt=null;for(ht in w){var _t=w[ht];if(w.hasOwnProperty(ht)&&_t!=null)switch(ht){case"checked":break;case"value":break;case"defaultValue":Le=_t;default:M.hasOwnProperty(ht)||Ur(f,m,ht,null,M,_t)}}for(var ot in M){var ht=M[ot];if(_t=w[ot],M.hasOwnProperty(ot)&&(ht!=null||_t!=null))switch(ot){case"type":J=ht;break;case"name":Y=ht;break;case"checked":nt=ht;break;case"defaultChecked":bt=ht;break;case"value":ie=ht;break;case"defaultValue":ve=ht;break;case"children":case"dangerouslySetInnerHTML":if(ht!=null)throw Error(n(137,m));break;default:ht!==_t&&Ur(f,m,ot,ht,M,_t)}}gr(f,ie,ve,Le,nt,bt,J,Y);return;case"select":ht=ie=ve=ot=null;for(J in w)if(Le=w[J],w.hasOwnProperty(J)&&Le!=null)switch(J){case"value":break;case"multiple":ht=Le;default:M.hasOwnProperty(J)||Ur(f,m,J,null,M,Le)}for(Y in M)if(J=M[Y],Le=w[Y],M.hasOwnProperty(Y)&&(J!=null||Le!=null))switch(Y){case"value":ot=J;break;case"defaultValue":ve=J;break;case"multiple":ie=J;default:J!==Le&&Ur(f,m,Y,J,M,Le)}m=ve,w=ie,M=ht,ot!=null?rs(f,!!w,ot,!1):!!M!=!!w&&(m!=null?rs(f,!!w,m,!0):rs(f,!!w,w?[]:"",!1));return;case"textarea":ht=ot=null;for(ve in w)if(Y=w[ve],w.hasOwnProperty(ve)&&Y!=null&&!M.hasOwnProperty(ve))switch(ve){case"value":break;case"children":break;default:Ur(f,m,ve,null,M,Y)}for(ie in M)if(Y=M[ie],J=w[ie],M.hasOwnProperty(ie)&&(Y!=null||J!=null))switch(ie){case"value":ot=Y;break;case"defaultValue":ht=Y;break;case"children":break;case"dangerouslySetInnerHTML":if(Y!=null)throw Error(n(91));break;default:Y!==J&&Ur(f,m,ie,Y,M,J)}mi(f,ot,ht);return;case"option":for(var Bt in w)if(ot=w[Bt],w.hasOwnProperty(Bt)&&ot!=null&&!M.hasOwnProperty(Bt))switch(Bt){case"selected":f.selected=!1;break;default:Ur(f,m,Bt,null,M,ot)}for(Le in M)if(ot=M[Le],ht=w[Le],M.hasOwnProperty(Le)&&ot!==ht&&(ot!=null||ht!=null))switch(Le){case"selected":f.selected=ot&&typeof ot!="function"&&typeof ot!="symbol";break;default:Ur(f,m,Le,ot,M,ht)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Wt in w)ot=w[Wt],w.hasOwnProperty(Wt)&&ot!=null&&!M.hasOwnProperty(Wt)&&Ur(f,m,Wt,null,M,ot);for(nt in M)if(ot=M[nt],ht=w[nt],M.hasOwnProperty(nt)&&ot!==ht&&(ot!=null||ht!=null))switch(nt){case"children":case"dangerouslySetInnerHTML":if(ot!=null)throw Error(n(137,m));break;default:Ur(f,m,nt,ot,M,ht)}return;default:if(Us(m)){for(var Vr in w)ot=w[Vr],w.hasOwnProperty(Vr)&&ot!==void 0&&!M.hasOwnProperty(Vr)&&Zm(f,m,Vr,void 0,M,ot);for(bt in M)ot=M[bt],ht=w[bt],!M.hasOwnProperty(bt)||ot===ht||ot===void 0&&ht===void 0||Zm(f,m,bt,ot,M,ht);return}}for(var Qe in w)ot=w[Qe],w.hasOwnProperty(Qe)&&ot!=null&&!M.hasOwnProperty(Qe)&&Ur(f,m,Qe,null,M,ot);for(_t in M)ot=M[_t],ht=w[_t],!M.hasOwnProperty(_t)||ot===ht||ot==null&&ht==null||Ur(f,m,_t,ot,M,ht)}function nv(f){switch(f){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function pT(){if(typeof performance.getEntriesByType=="function"){for(var f=0,m=0,w=performance.getEntriesByType("resource"),M=0;M<w.length;M++){var Y=w[M],J=Y.transferSize,ie=Y.initiatorType,ve=Y.duration;if(J&&ve&&nv(ie)){for(ie=0,ve=Y.responseEnd,M+=1;M<w.length;M++){var Le=w[M],nt=Le.startTime;if(nt>ve)break;var bt=Le.transferSize,_t=Le.initiatorType;bt&&nv(_t)&&(Le=Le.responseEnd,ie+=bt*(Le<ve?1:(ve-nt)/(Le-nt)))}if(--M,m+=8*(J+ie)/(Y.duration/1e3),f++,10<f)break}}if(0<f)return m/f/1e6}return navigator.connection&&(f=navigator.connection.downlink,typeof f=="number")?f:5}var Jm=null,eg=null;function wd(f){return f.nodeType===9?f:f.ownerDocument}function sv(f){switch(f){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function av(f,m){if(f===0)switch(m){case"svg":return 1;case"math":return 2;default:return 0}return f===1&&m==="foreignObject"?0:f}function tg(f,m){return f==="textarea"||f==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.children=="bigint"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var rg=null;function mT(){var f=window.event;return f&&f.type==="popstate"?f===rg?!1:(rg=f,!0):(rg=null,!1)}var iv=typeof setTimeout=="function"?setTimeout:void 0,gT=typeof clearTimeout=="function"?clearTimeout:void 0,ov=typeof Promise=="function"?Promise:void 0,bT=typeof queueMicrotask=="function"?queueMicrotask:typeof ov<"u"?function(f){return ov.resolve(null).then(f).catch(xT)}:iv;function xT(f){setTimeout(function(){throw f})}function bo(f){return f==="head"}function lv(f,m){var w=m,M=0;do{var Y=w.nextSibling;if(f.removeChild(w),Y&&Y.nodeType===8)if(w=Y.data,w==="/$"||w==="/&"){if(M===0){f.removeChild(Y),Cc(m);return}M--}else if(w==="$"||w==="$?"||w==="$~"||w==="$!"||w==="&")M++;else if(w==="html")Yu(f.ownerDocument.documentElement);else if(w==="head"){w=f.ownerDocument.head,Yu(w);for(var J=w.firstChild;J;){var ie=J.nextSibling,ve=J.nodeName;J[Xe]||ve==="SCRIPT"||ve==="STYLE"||ve==="LINK"&&J.rel.toLowerCase()==="stylesheet"||w.removeChild(J),J=ie}}else w==="body"&&Yu(f.ownerDocument.body);w=Y}while(w);Cc(m)}function cv(f,m){var w=f;f=0;do{var M=w.nextSibling;if(w.nodeType===1?m?(w._stashedDisplay=w.style.display,w.style.display="none"):(w.style.display=w._stashedDisplay||"",w.getAttribute("style")===""&&w.removeAttribute("style")):w.nodeType===3&&(m?(w._stashedText=w.nodeValue,w.nodeValue=""):w.nodeValue=w._stashedText||""),M&&M.nodeType===8)if(w=M.data,w==="/$"){if(f===0)break;f--}else w!=="$"&&w!=="$?"&&w!=="$~"&&w!=="$!"||f++;w=M}while(w)}function ng(f){var m=f.firstChild;for(m&&m.nodeType===10&&(m=m.nextSibling);m;){var w=m;switch(m=m.nextSibling,w.nodeName){case"HTML":case"HEAD":case"BODY":ng(w),yt(w);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(w.rel.toLowerCase()==="stylesheet")continue}f.removeChild(w)}}function yT(f,m,w,M){for(;f.nodeType===1;){var Y=w;if(f.nodeName.toLowerCase()!==m.toLowerCase()){if(!M&&(f.nodeName!=="INPUT"||f.type!=="hidden"))break}else if(M){if(!f[Xe])switch(m){case"meta":if(!f.hasAttribute("itemprop"))break;return f;case"link":if(J=f.getAttribute("rel"),J==="stylesheet"&&f.hasAttribute("data-precedence"))break;if(J!==Y.rel||f.getAttribute("href")!==(Y.href==null||Y.href===""?null:Y.href)||f.getAttribute("crossorigin")!==(Y.crossOrigin==null?null:Y.crossOrigin)||f.getAttribute("title")!==(Y.title==null?null:Y.title))break;return f;case"style":if(f.hasAttribute("data-precedence"))break;return f;case"script":if(J=f.getAttribute("src"),(J!==(Y.src==null?null:Y.src)||f.getAttribute("type")!==(Y.type==null?null:Y.type)||f.getAttribute("crossorigin")!==(Y.crossOrigin==null?null:Y.crossOrigin))&&J&&f.hasAttribute("async")&&!f.hasAttribute("itemprop"))break;return f;default:return f}}else if(m==="input"&&f.type==="hidden"){var J=Y.name==null?null:""+Y.name;if(Y.type==="hidden"&&f.getAttribute("name")===J)return f}else return f;if(f=ua(f.nextSibling),f===null)break}return null}function vT(f,m,w){if(m==="")return null;for(;f.nodeType!==3;)if((f.nodeType!==1||f.nodeName!=="INPUT"||f.type!=="hidden")&&!w||(f=ua(f.nextSibling),f===null))return null;return f}function uv(f,m){for(;f.nodeType!==8;)if((f.nodeType!==1||f.nodeName!=="INPUT"||f.type!=="hidden")&&!m||(f=ua(f.nextSibling),f===null))return null;return f}function sg(f){return f.data==="$?"||f.data==="$~"}function ag(f){return f.data==="$!"||f.data==="$?"&&f.ownerDocument.readyState!=="loading"}function wT(f,m){var w=f.ownerDocument;if(f.data==="$~")f._reactRetry=m;else if(f.data!=="$?"||w.readyState!=="loading")m();else{var M=function(){m(),w.removeEventListener("DOMContentLoaded",M)};w.addEventListener("DOMContentLoaded",M),f._reactRetry=M}}function ua(f){for(;f!=null;f=f.nextSibling){var m=f.nodeType;if(m===1||m===3)break;if(m===8){if(m=f.data,m==="$"||m==="$!"||m==="$?"||m==="$~"||m==="&"||m==="F!"||m==="F")break;if(m==="/$"||m==="/&")return null}}return f}var ig=null;function fv(f){f=f.nextSibling;for(var m=0;f;){if(f.nodeType===8){var w=f.data;if(w==="/$"||w==="/&"){if(m===0)return ua(f.nextSibling);m--}else w!=="$"&&w!=="$!"&&w!=="$?"&&w!=="$~"&&w!=="&"||m++}f=f.nextSibling}return null}function hv(f){f=f.previousSibling;for(var m=0;f;){if(f.nodeType===8){var w=f.data;if(w==="$"||w==="$!"||w==="$?"||w==="$~"||w==="&"){if(m===0)return f;m--}else w!=="/$"&&w!=="/&"||m++}f=f.previousSibling}return null}function dv(f,m,w){switch(m=wd(w),f){case"html":if(f=m.documentElement,!f)throw Error(n(452));return f;case"head":if(f=m.head,!f)throw Error(n(453));return f;case"body":if(f=m.body,!f)throw Error(n(454));return f;default:throw Error(n(451))}}function Yu(f){for(var m=f.attributes;m.length;)f.removeAttributeNode(m[0]);yt(f)}var fa=new Map,pv=new Set;function _d(f){return typeof f.getRootNode=="function"?f.getRootNode():f.nodeType===9?f:f.ownerDocument}var Ii=k.d;k.d={f:_T,r:ST,D:TT,C:kT,L:ET,m:AT,X:NT,S:CT,M:RT};function _T(){var f=Ii.f(),m=dd();return f||m}function ST(f){var m=kt(f);m!==null&&m.tag===5&&m.type==="form"?My(m):Ii.r(f)}var kc=typeof document>"u"?null:document;function mv(f,m,w){var M=kc;if(M&&typeof m=="string"&&m){var Y=hn(m);Y='link[rel="'+f+'"][href="'+Y+'"]',typeof w=="string"&&(Y+='[crossorigin="'+w+'"]'),pv.has(Y)||(pv.add(Y),f={rel:f,crossOrigin:w,href:m},M.querySelector(Y)===null&&(m=M.createElement("link"),Yn(m,"link",f),Ke(m),M.head.appendChild(m)))}}function TT(f){Ii.D(f),mv("dns-prefetch",f,null)}function kT(f,m){Ii.C(f,m),mv("preconnect",f,m)}function ET(f,m,w){Ii.L(f,m,w);var M=kc;if(M&&f&&m){var Y='link[rel="preload"][as="'+hn(m)+'"]';m==="image"&&w&&w.imageSrcSet?(Y+='[imagesrcset="'+hn(w.imageSrcSet)+'"]',typeof w.imageSizes=="string"&&(Y+='[imagesizes="'+hn(w.imageSizes)+'"]')):Y+='[href="'+hn(f)+'"]';var J=Y;switch(m){case"style":J=Ec(f);break;case"script":J=Ac(f)}fa.has(J)||(f=p({rel:"preload",href:m==="image"&&w&&w.imageSrcSet?void 0:f,as:m},w),fa.set(J,f),M.querySelector(Y)!==null||m==="style"&&M.querySelector(Ku(J))||m==="script"&&M.querySelector(Qu(J))||(m=M.createElement("link"),Yn(m,"link",f),Ke(m),M.head.appendChild(m)))}}function AT(f,m){Ii.m(f,m);var w=kc;if(w&&f){var M=m&&typeof m.as=="string"?m.as:"script",Y='link[rel="modulepreload"][as="'+hn(M)+'"][href="'+hn(f)+'"]',J=Y;switch(M){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":J=Ac(f)}if(!fa.has(J)&&(f=p({rel:"modulepreload",href:f},m),fa.set(J,f),w.querySelector(Y)===null)){switch(M){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(w.querySelector(Qu(J)))return}M=w.createElement("link"),Yn(M,"link",f),Ke(M),w.head.appendChild(M)}}}function CT(f,m,w){Ii.S(f,m,w);var M=kc;if(M&&f){var Y=Ne(M).hoistableStyles,J=Ec(f);m=m||"default";var ie=Y.get(J);if(!ie){var ve={loading:0,preload:null};if(ie=M.querySelector(Ku(J)))ve.loading=5;else{f=p({rel:"stylesheet",href:f,"data-precedence":m},w),(w=fa.get(J))&&og(f,w);var Le=ie=M.createElement("link");Ke(Le),Yn(Le,"link",f),Le._p=new Promise(function(nt,bt){Le.onload=nt,Le.onerror=bt}),Le.addEventListener("load",function(){ve.loading|=1}),Le.addEventListener("error",function(){ve.loading|=2}),ve.loading|=4,Sd(ie,m,M)}ie={type:"stylesheet",instance:ie,count:1,state:ve},Y.set(J,ie)}}}function NT(f,m){Ii.X(f,m);var w=kc;if(w&&f){var M=Ne(w).hoistableScripts,Y=Ac(f),J=M.get(Y);J||(J=w.querySelector(Qu(Y)),J||(f=p({src:f,async:!0},m),(m=fa.get(Y))&&lg(f,m),J=w.createElement("script"),Ke(J),Yn(J,"link",f),w.head.appendChild(J)),J={type:"script",instance:J,count:1,state:null},M.set(Y,J))}}function RT(f,m){Ii.M(f,m);var w=kc;if(w&&f){var M=Ne(w).hoistableScripts,Y=Ac(f),J=M.get(Y);J||(J=w.querySelector(Qu(Y)),J||(f=p({src:f,async:!0,type:"module"},m),(m=fa.get(Y))&&lg(f,m),J=w.createElement("script"),Ke(J),Yn(J,"link",f),w.head.appendChild(J)),J={type:"script",instance:J,count:1,state:null},M.set(Y,J))}}function gv(f,m,w,M){var Y=(Y=W.current)?_d(Y):null;if(!Y)throw Error(n(446));switch(f){case"meta":case"title":return null;case"style":return typeof w.precedence=="string"&&typeof w.href=="string"?(m=Ec(w.href),w=Ne(Y).hoistableStyles,M=w.get(m),M||(M={type:"style",instance:null,count:0,state:null},w.set(m,M)),M):{type:"void",instance:null,count:0,state:null};case"link":if(w.rel==="stylesheet"&&typeof w.href=="string"&&typeof w.precedence=="string"){f=Ec(w.href);var J=Ne(Y).hoistableStyles,ie=J.get(f);if(ie||(Y=Y.ownerDocument||Y,ie={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},J.set(f,ie),(J=Y.querySelector(Ku(f)))&&!J._p&&(ie.instance=J,ie.state.loading=5),fa.has(f)||(w={rel:"preload",as:"style",href:w.href,crossOrigin:w.crossOrigin,integrity:w.integrity,media:w.media,hrefLang:w.hrefLang,referrerPolicy:w.referrerPolicy},fa.set(f,w),J||MT(Y,f,w,ie.state))),m&&M===null)throw Error(n(528,""));return ie}if(m&&M!==null)throw Error(n(529,""));return null;case"script":return m=w.async,w=w.src,typeof w=="string"&&m&&typeof m!="function"&&typeof m!="symbol"?(m=Ac(w),w=Ne(Y).hoistableScripts,M=w.get(m),M||(M={type:"script",instance:null,count:0,state:null},w.set(m,M)),M):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,f))}}function Ec(f){return'href="'+hn(f)+'"'}function Ku(f){return'link[rel="stylesheet"]['+f+"]"}function bv(f){return p({},f,{"data-precedence":f.precedence,precedence:null})}function MT(f,m,w,M){f.querySelector('link[rel="preload"][as="style"]['+m+"]")?M.loading=1:(m=f.createElement("link"),M.preload=m,m.addEventListener("load",function(){return M.loading|=1}),m.addEventListener("error",function(){return M.loading|=2}),Yn(m,"link",w),Ke(m),f.head.appendChild(m))}function Ac(f){return'[src="'+hn(f)+'"]'}function Qu(f){return"script[async]"+f}function xv(f,m,w){if(m.count++,m.instance===null)switch(m.type){case"style":var M=f.querySelector('style[data-href~="'+hn(w.href)+'"]');if(M)return m.instance=M,Ke(M),M;var Y=p({},w,{"data-href":w.href,"data-precedence":w.precedence,href:null,precedence:null});return M=(f.ownerDocument||f).createElement("style"),Ke(M),Yn(M,"style",Y),Sd(M,w.precedence,f),m.instance=M;case"stylesheet":Y=Ec(w.href);var J=f.querySelector(Ku(Y));if(J)return m.state.loading|=4,m.instance=J,Ke(J),J;M=bv(w),(Y=fa.get(Y))&&og(M,Y),J=(f.ownerDocument||f).createElement("link"),Ke(J);var ie=J;return ie._p=new Promise(function(ve,Le){ie.onload=ve,ie.onerror=Le}),Yn(J,"link",M),m.state.loading|=4,Sd(J,w.precedence,f),m.instance=J;case"script":return J=Ac(w.src),(Y=f.querySelector(Qu(J)))?(m.instance=Y,Ke(Y),Y):(M=w,(Y=fa.get(J))&&(M=p({},w),lg(M,Y)),f=f.ownerDocument||f,Y=f.createElement("script"),Ke(Y),Yn(Y,"link",M),f.head.appendChild(Y),m.instance=Y);case"void":return null;default:throw Error(n(443,m.type))}else m.type==="stylesheet"&&(m.state.loading&4)===0&&(M=m.instance,m.state.loading|=4,Sd(M,w.precedence,f));return m.instance}function Sd(f,m,w){for(var M=w.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),Y=M.length?M[M.length-1]:null,J=Y,ie=0;ie<M.length;ie++){var ve=M[ie];if(ve.dataset.precedence===m)J=ve;else if(J!==Y)break}J?J.parentNode.insertBefore(f,J.nextSibling):(m=w.nodeType===9?w.head:w,m.insertBefore(f,m.firstChild))}function og(f,m){f.crossOrigin==null&&(f.crossOrigin=m.crossOrigin),f.referrerPolicy==null&&(f.referrerPolicy=m.referrerPolicy),f.title==null&&(f.title=m.title)}function lg(f,m){f.crossOrigin==null&&(f.crossOrigin=m.crossOrigin),f.referrerPolicy==null&&(f.referrerPolicy=m.referrerPolicy),f.integrity==null&&(f.integrity=m.integrity)}var Td=null;function yv(f,m,w){if(Td===null){var M=new Map,Y=Td=new Map;Y.set(w,M)}else Y=Td,M=Y.get(w),M||(M=new Map,Y.set(w,M));if(M.has(f))return M;for(M.set(f,null),w=w.getElementsByTagName(f),Y=0;Y<w.length;Y++){var J=w[Y];if(!(J[Xe]||J[de]||f==="link"&&J.getAttribute("rel")==="stylesheet")&&J.namespaceURI!=="http://www.w3.org/2000/svg"){var ie=J.getAttribute(m)||"";ie=f+ie;var ve=M.get(ie);ve?ve.push(J):M.set(ie,[J])}}return M}function vv(f,m,w){f=f.ownerDocument||f,f.head.insertBefore(w,m==="title"?f.querySelector("head > title"):null)}function jT(f,m,w){if(w===1||m.itemProp!=null)return!1;switch(f){case"meta":case"title":return!0;case"style":if(typeof m.precedence!="string"||typeof m.href!="string"||m.href==="")break;return!0;case"link":if(typeof m.rel!="string"||typeof m.href!="string"||m.href===""||m.onLoad||m.onError)break;switch(m.rel){case"stylesheet":return f=m.disabled,typeof m.precedence=="string"&&f==null;default:return!0}case"script":if(m.async&&typeof m.async!="function"&&typeof m.async!="symbol"&&!m.onLoad&&!m.onError&&m.src&&typeof m.src=="string")return!0}return!1}function wv(f){return!(f.type==="stylesheet"&&(f.state.loading&3)===0)}function IT(f,m,w,M){if(w.type==="stylesheet"&&(typeof M.media!="string"||matchMedia(M.media).matches!==!1)&&(w.state.loading&4)===0){if(w.instance===null){var Y=Ec(M.href),J=m.querySelector(Ku(Y));if(J){m=J._p,m!==null&&typeof m=="object"&&typeof m.then=="function"&&(f.count++,f=kd.bind(f),m.then(f,f)),w.state.loading|=4,w.instance=J,Ke(J);return}J=m.ownerDocument||m,M=bv(M),(Y=fa.get(Y))&&og(M,Y),J=J.createElement("link"),Ke(J);var ie=J;ie._p=new Promise(function(ve,Le){ie.onload=ve,ie.onerror=Le}),Yn(J,"link",M),w.instance=J}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(w,m),(m=w.state.preload)&&(w.state.loading&3)===0&&(f.count++,w=kd.bind(f),m.addEventListener("load",w),m.addEventListener("error",w))}}var cg=0;function DT(f,m){return f.stylesheets&&f.count===0&&Ad(f,f.stylesheets),0<f.count||0<f.imgCount?function(w){var M=setTimeout(function(){if(f.stylesheets&&Ad(f,f.stylesheets),f.unsuspend){var J=f.unsuspend;f.unsuspend=null,J()}},6e4+m);0<f.imgBytes&&cg===0&&(cg=62500*pT());var Y=setTimeout(function(){if(f.waitingForImages=!1,f.count===0&&(f.stylesheets&&Ad(f,f.stylesheets),f.unsuspend)){var J=f.unsuspend;f.unsuspend=null,J()}},(f.imgBytes>cg?50:800)+m);return f.unsuspend=w,function(){f.unsuspend=null,clearTimeout(M),clearTimeout(Y)}}:null}function kd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ad(this,this.stylesheets);else if(this.unsuspend){var f=this.unsuspend;this.unsuspend=null,f()}}}var Ed=null;function Ad(f,m){f.stylesheets=null,f.unsuspend!==null&&(f.count++,Ed=new Map,m.forEach(OT,f),Ed=null,kd.call(f))}function OT(f,m){if(!(m.state.loading&4)){var w=Ed.get(f);if(w)var M=w.get(null);else{w=new Map,Ed.set(f,w);for(var Y=f.querySelectorAll("link[data-precedence],style[data-precedence]"),J=0;J<Y.length;J++){var ie=Y[J];(ie.nodeName==="LINK"||ie.getAttribute("media")!=="not all")&&(w.set(ie.dataset.precedence,ie),M=ie)}M&&w.set(null,M)}Y=m.instance,ie=Y.getAttribute("data-precedence"),J=w.get(ie)||M,J===M&&w.set(null,Y),w.set(ie,Y),this.count++,M=kd.bind(this),Y.addEventListener("load",M),Y.addEventListener("error",M),J?J.parentNode.insertBefore(Y,J.nextSibling):(f=f.nodeType===9?f.head:f,f.insertBefore(Y,f.firstChild)),m.state.loading|=4}}var Zu={$$typeof:T,Provider:null,Consumer:null,_currentValue:E,_currentValue2:E,_threadCount:0};function FT(f,m,w,M,Y,J,ie,ve,Le){this.tag=1,this.containerInfo=f,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jt(0),this.hiddenUpdates=jt(null),this.identifierPrefix=M,this.onUncaughtError=Y,this.onCaughtError=J,this.onRecoverableError=ie,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Le,this.incompleteTransitions=new Map}function _v(f,m,w,M,Y,J,ie,ve,Le,nt,bt,_t){return f=new FT(f,m,w,ie,Le,nt,bt,_t,ve),m=1,J===!0&&(m|=24),J=Hs(3,null,null,m),f.current=J,J.stateNode=f,m=zp(),m.refCount++,f.pooledCache=m,m.refCount++,J.memoizedState={element:M,isDehydrated:w,cache:m},Gp(J),f}function Sv(f){return f?(f=sc,f):sc}function Tv(f,m,w,M,Y,J){Y=Sv(Y),M.context===null?M.context=Y:M.pendingContext=Y,M=ao(m),M.payload={element:w},J=J===void 0?null:J,J!==null&&(M.callback=J),w=io(f,M,m),w!==null&&(Ms(w,f,m),Ru(w,f,m))}function kv(f,m){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var w=f.retryLane;f.retryLane=w!==0&&w<m?w:m}}function ug(f,m){kv(f,m),(f=f.alternate)&&kv(f,m)}function Ev(f){if(f.tag===13||f.tag===31){var m=ol(f,67108864);m!==null&&Ms(m,f,67108864),ug(f,67108864)}}function Av(f){if(f.tag===13||f.tag===31){var m=Xs();m=Ge(m);var w=ol(f,m);w!==null&&Ms(w,f,m),ug(f,m)}}var Cd=!0;function PT(f,m,w,M){var Y=S.T;S.T=null;var J=k.p;try{k.p=2,fg(f,m,w,M)}finally{k.p=J,S.T=Y}}function LT(f,m,w,M){var Y=S.T;S.T=null;var J=k.p;try{k.p=8,fg(f,m,w,M)}finally{k.p=J,S.T=Y}}function fg(f,m,w,M){if(Cd){var Y=hg(M);if(Y===null)Qm(f,m,M,Nd,w),Nv(f,M);else if(UT(Y,f,m,w,M))M.stopPropagation();else if(Nv(f,M),m&4&&-1<BT.indexOf(f)){for(;Y!==null;){var J=kt(Y);if(J!==null)switch(J.tag){case 3:if(J=J.stateNode,J.current.memoizedState.isDehydrated){var ie=Ae(J.pendingLanes);if(ie!==0){var ve=J;for(ve.pendingLanes|=2,ve.entangledLanes|=2;ie;){var Le=1<<31-Be(ie);ve.entanglements[1]|=Le,ie&=~Le}Za(J),(Dr&6)===0&&(fd=$e()+500,Gu(0))}}break;case 31:case 13:ve=ol(J,2),ve!==null&&Ms(ve,J,2),dd(),ug(J,2)}if(J=hg(M),J===null&&Qm(f,m,M,Nd,w),J===Y)break;Y=J}Y!==null&&M.stopPropagation()}else Qm(f,m,M,null,w)}}function hg(f){return f=$n(f),dg(f)}var Nd=null;function dg(f){if(Nd=null,f=St(f),f!==null){var m=i(f);if(m===null)f=null;else{var w=m.tag;if(w===13){if(f=a(m),f!==null)return f;f=null}else if(w===31){if(f=l(m),f!==null)return f;f=null}else if(w===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;f=null}else m!==f&&(f=null)}}return Nd=f,null}function Cv(f){switch(f){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(it()){case st:return 2;case et:return 8;case Ze:case gt:return 32;case mt:return 268435456;default:return 32}default:return 32}}var pg=!1,xo=null,yo=null,vo=null,Ju=new Map,ef=new Map,wo=[],BT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Nv(f,m){switch(f){case"focusin":case"focusout":xo=null;break;case"dragenter":case"dragleave":yo=null;break;case"mouseover":case"mouseout":vo=null;break;case"pointerover":case"pointerout":Ju.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":ef.delete(m.pointerId)}}function tf(f,m,w,M,Y,J){return f===null||f.nativeEvent!==J?(f={blockedOn:m,domEventName:w,eventSystemFlags:M,nativeEvent:J,targetContainers:[Y]},m!==null&&(m=kt(m),m!==null&&Ev(m)),f):(f.eventSystemFlags|=M,m=f.targetContainers,Y!==null&&m.indexOf(Y)===-1&&m.push(Y),f)}function UT(f,m,w,M,Y){switch(m){case"focusin":return xo=tf(xo,f,m,w,M,Y),!0;case"dragenter":return yo=tf(yo,f,m,w,M,Y),!0;case"mouseover":return vo=tf(vo,f,m,w,M,Y),!0;case"pointerover":var J=Y.pointerId;return Ju.set(J,tf(Ju.get(J)||null,f,m,w,M,Y)),!0;case"gotpointercapture":return J=Y.pointerId,ef.set(J,tf(ef.get(J)||null,f,m,w,M,Y)),!0}return!1}function Rv(f){var m=St(f.target);if(m!==null){var w=i(m);if(w!==null){if(m=w.tag,m===13){if(m=a(w),m!==null){f.blockedOn=m,ye(f.priority,function(){Av(w)});return}}else if(m===31){if(m=l(w),m!==null){f.blockedOn=m,ye(f.priority,function(){Av(w)});return}}else if(m===3&&w.stateNode.current.memoizedState.isDehydrated){f.blockedOn=w.tag===3?w.stateNode.containerInfo:null;return}}}f.blockedOn=null}function Rd(f){if(f.blockedOn!==null)return!1;for(var m=f.targetContainers;0<m.length;){var w=hg(f.nativeEvent);if(w===null){w=f.nativeEvent;var M=new w.constructor(w.type,w);Ha=M,w.target.dispatchEvent(M),Ha=null}else return m=kt(w),m!==null&&Ev(m),f.blockedOn=w,!1;m.shift()}return!0}function Mv(f,m,w){Rd(f)&&w.delete(m)}function VT(){pg=!1,xo!==null&&Rd(xo)&&(xo=null),yo!==null&&Rd(yo)&&(yo=null),vo!==null&&Rd(vo)&&(vo=null),Ju.forEach(Mv),ef.forEach(Mv)}function Md(f,m){f.blockedOn===m&&(f.blockedOn=null,pg||(pg=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,VT)))}var jd=null;function jv(f){jd!==f&&(jd=f,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){jd===f&&(jd=null);for(var m=0;m<f.length;m+=3){var w=f[m],M=f[m+1],Y=f[m+2];if(typeof M!="function"){if(dg(M||w)===null)continue;break}var J=kt(w);J!==null&&(f.splice(m,3),m-=3,hm(J,{pending:!0,data:Y,method:w.method,action:M},M,Y))}}))}function Cc(f){function m(Le){return Md(Le,f)}xo!==null&&Md(xo,f),yo!==null&&Md(yo,f),vo!==null&&Md(vo,f),Ju.forEach(m),ef.forEach(m);for(var w=0;w<wo.length;w++){var M=wo[w];M.blockedOn===f&&(M.blockedOn=null)}for(;0<wo.length&&(w=wo[0],w.blockedOn===null);)Rv(w),w.blockedOn===null&&wo.shift();if(w=(f.ownerDocument||f).$$reactFormReplay,w!=null)for(M=0;M<w.length;M+=3){var Y=w[M],J=w[M+1],ie=Y[be]||null;if(typeof J=="function")ie||jv(w);else if(ie){var ve=null;if(J&&J.hasAttribute("formAction")){if(Y=J,ie=J[be]||null)ve=ie.formAction;else if(dg(Y)!==null)continue}else ve=ie.action;typeof ve=="function"?w[M+1]=ve:(w.splice(M,3),M-=3),jv(w)}}}function Iv(){function f(J){J.canIntercept&&J.info==="react-transition"&&J.intercept({handler:function(){return new Promise(function(ie){return Y=ie})},focusReset:"manual",scroll:"manual"})}function m(){Y!==null&&(Y(),Y=null),M||setTimeout(w,20)}function w(){if(!M&&!navigation.transition){var J=navigation.currentEntry;J&&J.url!=null&&navigation.navigate(J.url,{state:J.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var M=!1,Y=null;return navigation.addEventListener("navigate",f),navigation.addEventListener("navigatesuccess",m),navigation.addEventListener("navigateerror",m),setTimeout(w,100),function(){M=!0,navigation.removeEventListener("navigate",f),navigation.removeEventListener("navigatesuccess",m),navigation.removeEventListener("navigateerror",m),Y!==null&&(Y(),Y=null)}}}function mg(f){this._internalRoot=f}Id.prototype.render=mg.prototype.render=function(f){var m=this._internalRoot;if(m===null)throw Error(n(409));var w=m.current,M=Xs();Tv(w,M,f,m,null,null)},Id.prototype.unmount=mg.prototype.unmount=function(){var f=this._internalRoot;if(f!==null){this._internalRoot=null;var m=f.containerInfo;Tv(f.current,2,null,f,null,null),dd(),m[xe]=null}};function Id(f){this._internalRoot=f}Id.prototype.unstable_scheduleHydration=function(f){if(f){var m=le();f={blockedOn:null,target:f,priority:m};for(var w=0;w<wo.length&&m!==0&&m<wo[w].priority;w++);wo.splice(w,0,f),w===0&&Rv(f)}};var Dv=t.version;if(Dv!=="19.2.3")throw Error(n(527,Dv,"19.2.3"));k.findDOMNode=function(f){var m=f._reactInternals;if(m===void 0)throw typeof f.render=="function"?Error(n(188)):(f=Object.keys(f).join(","),Error(n(268,f)));return f=o(m),f=f!==null?u(f):null,f=f===null?null:f.stateNode,f};var zT={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:S,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dd.isDisabled&&Dd.supportsFiber)try{Ee=Dd.inject(zT),Oe=Dd}catch{}}return nf.createRoot=function(f,m){if(!s(f))throw Error(n(299));var w=!1,M="",Y=Vy,J=zy,ie=Hy;return m!=null&&(m.unstable_strictMode===!0&&(w=!0),m.identifierPrefix!==void 0&&(M=m.identifierPrefix),m.onUncaughtError!==void 0&&(Y=m.onUncaughtError),m.onCaughtError!==void 0&&(J=m.onCaughtError),m.onRecoverableError!==void 0&&(ie=m.onRecoverableError)),m=_v(f,1,!1,null,null,w,M,null,Y,J,ie,Iv),f[xe]=m.current,Km(f),new mg(m)},nf.hydrateRoot=function(f,m,w){if(!s(f))throw Error(n(299));var M=!1,Y="",J=Vy,ie=zy,ve=Hy,Le=null;return w!=null&&(w.unstable_strictMode===!0&&(M=!0),w.identifierPrefix!==void 0&&(Y=w.identifierPrefix),w.onUncaughtError!==void 0&&(J=w.onUncaughtError),w.onCaughtError!==void 0&&(ie=w.onCaughtError),w.onRecoverableError!==void 0&&(ve=w.onRecoverableError),w.formState!==void 0&&(Le=w.formState)),m=_v(f,1,!0,m,w??null,M,Y,Le,J,ie,ve,Iv),m.context=Sv(null),w=m.current,M=Xs(),M=Ge(M),Y=ao(M),Y.callback=null,io(w,Y,M),w=M,m.current.lanes=w,Ct(m,w),Za(m),f[xe]=m.current,Km(f),new Id(m)},nf.version="19.2.3",nf}var $v;function QT(){if($v)return xg.exports;$v=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),xg.exports=KT(),xg.exports}var ZT=QT();/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ek=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,n)=>n?n.toUpperCase():e.toLowerCase()),qv=r=>{const t=ek(r);return t.charAt(0).toUpperCase()+t.slice(1)},V4=(...r)=>r.filter((t,e,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===e).join(" ").trim(),tk=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=_e.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:a,...l},c)=>_e.createElement("svg",{ref:c,...rk,width:t,height:t,stroke:r,strokeWidth:n?Number(e)*24/Number(t):e,className:V4("lucide",s),...!i&&!tk(l)&&{"aria-hidden":"true"},...l},[...a.map(([o,u])=>_e.createElement(o,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=(r,t)=>{const e=_e.forwardRef(({className:n,...s},i)=>_e.createElement(nk,{ref:i,iconNode:t,className:V4(`lucide-${JT(qv(r))}`,`lucide-${r}`,n),...s}));return e.displayName=qv(r),e};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],ak=Ot("activity",sk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],ok=Ot("arrow-down",ik);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],z4=Ot("arrow-left",lk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],uk=Ot("arrow-right",ck);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],F1=Ot("arrow-up-down",fk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],dk=Ot("arrow-up",hk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],mk=Ot("banknote",pk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],bk=Ot("building-2",gk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],jf=Ot("calendar-days",xk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Un=Ot("calendar",yk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],ru=Ot("car",vk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],_k=Ot("chart-column",wk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],Tk=Ot("chart-no-axes-column",Sk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Zd=Ot("check",kk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Zs=Ot("chevron-down",Ek);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ci=Ot("chevron-left",Ak);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Js=Ot("chevron-right",Ck);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Jd=Ot("chevron-up",Nk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],Mk=Ot("circle-arrow-down",Rk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ik=Ot("circle-check-big",jk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],W0=Ot("circle-check",Dk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]],Fk=Ot("circle-dollar-sign",Ok);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],H4=Ot("circle-plus",Pk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]],Bk=Ot("circle-stop",Lk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Vk=Ot("circle-x",Uk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Hk=Ot("circle",zk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],$4=Ot("clipboard-list",$k);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],qc=Ot("clock",qk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],Gv=Ot("coffee",Gk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],Xk=Ot("coins",Wk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],f0=Ot("credit-card",Yk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Wg=Ot("crown",Kk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Zk=Ot("database",Qk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],eE=Ot("dollar-sign",Jk);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],q4=Ot("download",tE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],nE=Ot("file-down",rE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],G4=Ot("file-text",sE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],W4=Ot("file-up",aE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],jo=Ot("gauge",iE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],X4=Ot("globe",oE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],P1=Ot("info",lE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]],uE=Ot("layout-list",cE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],_l=Ot("loader-circle",fE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Xg=Ot("lock",hE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Y4=Ot("log-out",dE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],If=Ot("map-pin",pE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=[["path",{d:"M18 8c0 3.613-3.869 7.429-5.393 8.795a1 1 0 0 1-1.214 0C9.87 15.429 6 11.613 6 8a6 6 0 0 1 12 0",key:"11u0oz"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.714 14h-3.71a1 1 0 0 0-.948.683l-2.004 6A1 1 0 0 0 3 22h18a1 1 0 0 0 .948-1.316l-2-6a1 1 0 0 0-.949-.684h-3.712",key:"q8zwxj"}]],Yg=Ot("map-pinned",mE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],bE=Ot("map",gE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],yE=Ot("message-circle",xE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],L1=Ot("message-square",vE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],_E=Ot("monitor",wE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],TE=Ot("navigation",SE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Wv=Ot("pen",kE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Xv=Ot("play",EE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],CE=Ot("qr-code",AE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],RE=Ot("save",NE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Yv=Ot("search",ME);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],B1=Ot("settings",jE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],DE=Ot("shield-alert",IE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],FE=Ot("shield-check",OE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],U1=Ot("shield",PE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],V1=Ot("skull",LE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Kg=Ot("smartphone",BE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],K4=Ot("sparkles",UE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],zE=Ot("square-check-big",VE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Io=Ot("target",HE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],qE=Ot("ticket",$E);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],WE=Ot("timer",GE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=[["path",{d:"M8 3.1V7a4 4 0 0 0 8 0V3.1",key:"1v71zp"}],["path",{d:"m9 15-1-1",key:"1yrq24"}],["path",{d:"m15 15 1-1",key:"1t0d6s"}],["path",{d:"M9 19c-2.8 0-5-2.2-5-5v-4a8 8 0 0 1 16 0v4c0 2.8-2.2 5-5 5Z",key:"1p0hjs"}],["path",{d:"m8 19-2 3",key:"13i0xs"}],["path",{d:"m16 19 2 3",key:"xo31yx"}]],YE=Ot("train-front",XE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],h0=Ot("trash-2",KE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],d0=Ot("trending-up",QE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],JE=Ot("triangle-alert",ZE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e9=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Fc=Ot("trophy",e9);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t9=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],r9=Ot("user-check",t9);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n9=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],s9=Ot("user-plus",n9);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a9=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],jl=Ot("user",a9);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i9=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Al=Ot("users",i9);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=[["path",{d:"M12 10v2.2l1.6 1",key:"n3r21l"}],["path",{d:"m16.13 7.66-.81-4.05a2 2 0 0 0-2-1.61h-2.68a2 2 0 0 0-2 1.61l-.78 4.05",key:"18k57s"}],["path",{d:"m7.88 16.36.8 4a2 2 0 0 0 2 1.61h2.72a2 2 0 0 0 2-1.61l.81-4.05",key:"16ny36"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}]],l9=Ot("watch",o9);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c9=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ba=Ot("x",c9);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u9=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],f9=Ot("zap",u9),h9=()=>{};var Kv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4=function(r){const t=[];let e=0;for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);s<128?t[e++]=s:s<2048?(t[e++]=s>>6|192,t[e++]=s&63|128):(s&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(r.charCodeAt(++n)&1023),t[e++]=s>>18|240,t[e++]=s>>12&63|128,t[e++]=s>>6&63|128,t[e++]=s&63|128):(t[e++]=s>>12|224,t[e++]=s>>6&63|128,t[e++]=s&63|128)}return t},d9=function(r){const t=[];let e=0,n=0;for(;e<r.length;){const s=r[e++];if(s<128)t[n++]=String.fromCharCode(s);else if(s>191&&s<224){const i=r[e++];t[n++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=r[e++],a=r[e++],l=r[e++],c=((s&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;t[n++]=String.fromCharCode(55296+(c>>10)),t[n++]=String.fromCharCode(56320+(c&1023))}else{const i=r[e++],a=r[e++];t[n++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return t.join("")},Z4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<r.length;s+=3){const i=r[s],a=s+1<r.length,l=a?r[s+1]:0,c=s+2<r.length,o=c?r[s+2]:0,u=i>>2,p=(i&3)<<4|l>>4;let h=(l&15)<<2|o>>6,d=o&63;c||(d=64,a||(h=64)),n.push(e[u],e[p],e[h],e[d])}return n.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(Q4(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):d9(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<r.length;){const i=e[r.charAt(s++)],l=s<r.length?e[r.charAt(s)]:0;++s;const o=s<r.length?e[r.charAt(s)]:64;++s;const p=s<r.length?e[r.charAt(s)]:64;if(++s,i==null||l==null||o==null||p==null)throw new p9;const h=i<<2|l>>4;if(n.push(h),o!==64){const d=l<<4&240|o>>2;if(n.push(d),p!==64){const x=o<<6&192|p;n.push(x)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class p9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const m9=function(r){const t=Q4(r);return Z4.encodeByteArray(t,!0)},p0=function(r){return m9(r).replace(/\./g,"")},J4=function(r){try{return Z4.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b9=()=>g9().__FIREBASE_DEFAULTS__,x9=()=>{if(typeof process>"u"||typeof Kv>"u")return;const r=Kv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},y9=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&J4(r[1]);return t&&JSON.parse(t)},X0=()=>{try{return h9()||b9()||x9()||y9()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},e3=r=>{var t,e;return(e=(t=X0())==null?void 0:t.emulatorHosts)==null?void 0:e[r]},v9=r=>{const t=e3(r);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),n]:[t.substring(0,e),n]},t3=()=>{var r;return(r=X0())==null?void 0:r.config},r3=r=>{var t;return(t=X0())==null?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function n3(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _9(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},n=t||"demo-project",s=r.iat||0,i=r.sub||r.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${n}`,aud:n,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...r};return[p0(JSON.stringify(e)),p0(JSON.stringify(a)),""].join(".")}const mf={};function S9(){const r={prod:[],emulator:[]};for(const t of Object.keys(mf))mf[t]?r.emulator.push(t):r.prod.push(t);return r}function T9(r){let t=document.getElementById(r),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),e=!0),{created:e,element:t}}let Qv=!1;function s3(r,t){if(typeof window>"u"||typeof document>"u"||!nu(window.location.host)||mf[r]===t||mf[r]||Qv)return;mf[r]=t;function e(h){return`__firebase__banner__${h}`}const n="__firebase__banner",i=S9().prod.length>0;function a(){const h=document.getElementById(n);h&&h.remove()}function l(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function c(h,d){h.setAttribute("width","24"),h.setAttribute("id",d),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function o(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{Qv=!0,a()},h}function u(h,d){h.setAttribute("id",d),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function p(){const h=T9(n),d=e("text"),x=document.getElementById(d)||document.createElement("span"),b=e("learnmore"),g=document.getElementById(b)||document.createElement("a"),v=e("preprendIcon"),y=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const T=h.element;l(T),u(g,b);const R=o();c(y,v),T.append(y,x,g,R),document.body.appendChild(T)}i?(x.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",d)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function k9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hs())}function E9(){var t;const r=(t=X0())==null?void 0:t.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function A9(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function C9(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function N9(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function R9(){const r=hs();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function M9(){return!E9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function j9(){try{return typeof indexedDB=="object"}catch{return!1}}function I9(){return new Promise((r,t)=>{try{let e=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),e||self.indexedDB.deleteDatabase(n),r(!0)},s.onupgradeneeded=()=>{e=!1},s.onerror=()=>{var i;t(((i=s.error)==null?void 0:i.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D9="FirebaseError";class Wi extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name=D9,Object.setPrototypeOf(this,Wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,th.prototype.create)}}class th{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){const n=e[0]||{},s=`${this.service}/${t}`,i=this.errors[t],a=i?O9(i,n):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new Wi(s,l,n)}}function O9(r,t){return r.replace(F9,(e,n)=>{const s=t[n];return s!=null?String(s):`<${n}?>`})}const F9=/\{\$([^}]+)}/g;function P9(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Il(r,t){if(r===t)return!0;const e=Object.keys(r),n=Object.keys(t);for(const s of e){if(!n.includes(s))return!1;const i=r[s],a=t[s];if(Zv(i)&&Zv(a)){if(!Il(i,a))return!1}else if(i!==a)return!1}for(const s of n)if(!e.includes(s))return!1;return!0}function Zv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(r){const t=[];for(const[e,n]of Object.entries(r))Array.isArray(n)?n.forEach(s=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function L9(r,t){const e=new B9(r,t);return e.subscribe.bind(e)}class B9{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(n=>{this.error(n)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,n){let s;if(t===void 0&&e===void 0&&n===void 0)throw new Error("Missing Observer.");U9(t,["next","error","complete"])?s=t:s={next:t,error:e,complete:n},s.next===void 0&&(s.next=_g),s.error===void 0&&(s.error=_g),s.complete===void 0&&(s.complete=_g);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function U9(r,t){if(typeof r!="object"||r===null)return!1;for(const e of t)if(e in r&&typeof r[e]=="function")return!0;return!1}function _g(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(r){return r&&r._delegate?r._delegate:r}class Dl{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const n=new w9;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:e});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),n=(t==null?void 0:t.optional)??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(s){if(n)return null;throw s}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(H9(t))try{this.getOrInitializeService({instanceIdentifier:vl})}catch{}for(const[e,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(e);try{const i=this.getOrInitializeService({instanceIdentifier:s});n.resolve(i)}catch{}}}}clearInstance(t=vl){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=vl){return this.instances.has(t)}getOptions(t=vl){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);n===l&&a.resolve(s)}return s}onInit(t,e){const n=this.normalizeInstanceIdentifier(e),s=this.onInitCallbacks.get(n)??new Set;s.add(t),this.onInitCallbacks.set(n,s);const i=this.instances.get(n);return i&&t(i,n),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const s of n)try{s(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:z9(t),options:e}),this.instances.set(t,n),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=vl){return this.component?this.component.multipleInstances?t:vl:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function z9(r){return r===vl?void 0:r}function H9(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new V9(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _r;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(_r||(_r={}));const q9={debug:_r.DEBUG,verbose:_r.VERBOSE,info:_r.INFO,warn:_r.WARN,error:_r.ERROR,silent:_r.SILENT},G9=_r.INFO,W9={[_r.DEBUG]:"log",[_r.VERBOSE]:"log",[_r.INFO]:"info",[_r.WARN]:"warn",[_r.ERROR]:"error"},X9=(r,t,...e)=>{if(t<r.logLevel)return;const n=new Date().toISOString(),s=W9[t];if(s)console[s](`[${n}]  ${r.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class z1{constructor(t){this.name=t,this._logLevel=G9,this._logHandler=X9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in _r))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?q9[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,_r.DEBUG,...t),this._logHandler(this,_r.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,_r.VERBOSE,...t),this._logHandler(this,_r.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,_r.INFO,...t),this._logHandler(this,_r.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,_r.WARN,...t),this._logHandler(this,_r.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,_r.ERROR,...t),this._logHandler(this,_r.ERROR,...t)}}const Y9=(r,t)=>t.some(e=>r instanceof e);let Jv,ew;function K9(){return Jv||(Jv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Q9(){return ew||(ew=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const a3=new WeakMap,Qg=new WeakMap,i3=new WeakMap,Sg=new WeakMap,H1=new WeakMap;function Z9(r){const t=new Promise((e,n)=>{const s=()=>{r.removeEventListener("success",i),r.removeEventListener("error",a)},i=()=>{e(Do(r.result)),s()},a=()=>{n(r.error),s()};r.addEventListener("success",i),r.addEventListener("error",a)});return t.then(e=>{e instanceof IDBCursor&&a3.set(e,r)}).catch(()=>{}),H1.set(t,r),t}function J9(r){if(Qg.has(r))return;const t=new Promise((e,n)=>{const s=()=>{r.removeEventListener("complete",i),r.removeEventListener("error",a),r.removeEventListener("abort",a)},i=()=>{e(),s()},a=()=>{n(r.error||new DOMException("AbortError","AbortError")),s()};r.addEventListener("complete",i),r.addEventListener("error",a),r.addEventListener("abort",a)});Qg.set(r,t)}let Zg={get(r,t,e){if(r instanceof IDBTransaction){if(t==="done")return Qg.get(r);if(t==="objectStoreNames")return r.objectStoreNames||i3.get(r);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Do(r[t])},set(r,t,e){return r[t]=e,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function e7(r){Zg=r(Zg)}function t7(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const n=r.call(Tg(this),t,...e);return i3.set(n,t.sort?t.sort():[t]),Do(n)}:Q9().includes(r)?function(...t){return r.apply(Tg(this),t),Do(a3.get(this))}:function(...t){return Do(r.apply(Tg(this),t))}}function r7(r){return typeof r=="function"?t7(r):(r instanceof IDBTransaction&&J9(r),Y9(r,K9())?new Proxy(r,Zg):r)}function Do(r){if(r instanceof IDBRequest)return Z9(r);if(Sg.has(r))return Sg.get(r);const t=r7(r);return t!==r&&(Sg.set(r,t),H1.set(t,r)),t}const Tg=r=>H1.get(r);function n7(r,t,{blocked:e,upgrade:n,blocking:s,terminated:i}={}){const a=indexedDB.open(r,t),l=Do(a);return n&&a.addEventListener("upgradeneeded",c=>{n(Do(a.result),c.oldVersion,c.newVersion,Do(a.transaction),c)}),e&&a.addEventListener("blocked",c=>e(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",o=>s(o.oldVersion,o.newVersion,o))}).catch(()=>{}),l}const s7=["get","getKey","getAll","getAllKeys","count"],a7=["put","add","delete","clear"],kg=new Map;function tw(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(kg.get(t))return kg.get(t);const e=t.replace(/FromIndex$/,""),n=t!==e,s=a7.includes(e);if(!(e in(n?IDBIndex:IDBObjectStore).prototype)||!(s||s7.includes(e)))return;const i=async function(a,...l){const c=this.transaction(a,s?"readwrite":"readonly");let o=c.store;return n&&(o=o.index(l.shift())),(await Promise.all([o[e](...l),s&&c.done]))[0]};return kg.set(t,i),i}e7(r=>({...r,get:(t,e,n)=>tw(t,e)||r.get(t,e,n),has:(t,e)=>!!tw(t,e)||r.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(o7(e)){const n=e.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(e=>e).join(" ")}}function o7(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Jg="@firebase/app",rw="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new z1("@firebase/app"),l7="@firebase/app-compat",c7="@firebase/analytics-compat",u7="@firebase/analytics",f7="@firebase/app-check-compat",h7="@firebase/app-check",d7="@firebase/auth",p7="@firebase/auth-compat",m7="@firebase/database",g7="@firebase/data-connect",b7="@firebase/database-compat",x7="@firebase/functions",y7="@firebase/functions-compat",v7="@firebase/installations",w7="@firebase/installations-compat",_7="@firebase/messaging",S7="@firebase/messaging-compat",T7="@firebase/performance",k7="@firebase/performance-compat",E7="@firebase/remote-config",A7="@firebase/remote-config-compat",C7="@firebase/storage",N7="@firebase/storage-compat",R7="@firebase/firestore",M7="@firebase/ai",j7="@firebase/firestore-compat",I7="firebase",D7="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1="[DEFAULT]",O7={[Jg]:"fire-core",[l7]:"fire-core-compat",[u7]:"fire-analytics",[c7]:"fire-analytics-compat",[h7]:"fire-app-check",[f7]:"fire-app-check-compat",[d7]:"fire-auth",[p7]:"fire-auth-compat",[m7]:"fire-rtdb",[g7]:"fire-data-connect",[b7]:"fire-rtdb-compat",[x7]:"fire-fn",[y7]:"fire-fn-compat",[v7]:"fire-iid",[w7]:"fire-iid-compat",[_7]:"fire-fcm",[S7]:"fire-fcm-compat",[T7]:"fire-perf",[k7]:"fire-perf-compat",[E7]:"fire-rc",[A7]:"fire-rc-compat",[C7]:"fire-gcs",[N7]:"fire-gcs-compat",[R7]:"fire-fst",[j7]:"fire-fst-compat",[M7]:"fire-vertex","fire-js":"fire-js",[I7]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0=new Map,F7=new Map,t1=new Map;function nw(r,t){try{r.container.addComponent(t)}catch(e){Vi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,e)}}function Gc(r){const t=r.name;if(t1.has(t))return Vi.debug(`There were multiple attempts to register component ${t}.`),!1;t1.set(t,r);for(const e of m0.values())nw(e,r);for(const e of F7.values())nw(e,r);return!0}function $1(r,t){const e=r.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),r.container.getProvider(t)}function ma(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P7={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Oo=new th("app","Firebase",P7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L7{constructor(t,e,n){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Dl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Oo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=D7;function o3(r,t={}){let e=r;typeof t!="object"&&(t={name:t});const n={name:e1,automaticDataCollectionEnabled:!0,...t},s=n.name;if(typeof s!="string"||!s)throw Oo.create("bad-app-name",{appName:String(s)});if(e||(e=t3()),!e)throw Oo.create("no-options");const i=m0.get(s);if(i){if(Il(e,i.options)&&Il(n,i.config))return i;throw Oo.create("duplicate-app",{appName:s})}const a=new $9(s);for(const c of t1.values())a.addComponent(c);const l=new L7(e,n,a);return m0.set(s,l),l}function l3(r=e1){const t=m0.get(r);if(!t&&r===e1&&t3())return o3();if(!t)throw Oo.create("no-app",{appName:r});return t}function Fo(r,t,e){let n=O7[r]??r;e&&(n+=`-${e}`);const s=n.match(/\s|\//),i=t.match(/\s|\//);if(s||i){const a=[`Unable to register library "${n}" with version "${t}":`];s&&a.push(`library name "${n}" contains illegal characters (whitespace or "/")`),s&&i&&a.push("and"),i&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Vi.warn(a.join(" "));return}Gc(new Dl(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B7="firebase-heartbeat-database",U7=1,Df="firebase-heartbeat-store";let Eg=null;function c3(){return Eg||(Eg=n7(B7,U7,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Df)}catch(e){console.warn(e)}}}}).catch(r=>{throw Oo.create("idb-open",{originalErrorMessage:r.message})})),Eg}async function V7(r){try{const e=(await c3()).transaction(Df),n=await e.objectStore(Df).get(u3(r));return await e.done,n}catch(t){if(t instanceof Wi)Vi.warn(t.message);else{const e=Oo.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Vi.warn(e.message)}}}async function sw(r,t){try{const n=(await c3()).transaction(Df,"readwrite");await n.objectStore(Df).put(t,u3(r)),await n.done}catch(e){if(e instanceof Wi)Vi.warn(e.message);else{const n=Oo.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});Vi.warn(n.message)}}}function u3(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z7=1024,H7=30;class $7{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new G7(e),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,e;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=aw();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>H7){const a=W7(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Vi.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=aw(),{heartbeatsToSend:n,unsentEntries:s}=q7(this._heartbeatsCache.heartbeats),i=p0(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Vi.warn(e),""}}}function aw(){return new Date().toISOString().substring(0,10)}function q7(r,t=z7){const e=[];let n=r.slice();for(const s of r){const i=e.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),iw(e)>t){i.dates.pop();break}}else if(e.push({agent:s.agent,dates:[s.date]}),iw(e)>t){e.pop();break}n=n.slice(1)}return{heartbeatsToSend:e,unsentEntries:n}}class G7{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return j9()?I9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await V7(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return sw(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return sw(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}else return}}function iw(r){return p0(JSON.stringify({version:2,heartbeats:r})).length}function W7(r){if(r.length===0)return-1;let t=0,e=r[0].date;for(let n=1;n<r.length;n++)r[n].date<e&&(e=r[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X7(r){Gc(new Dl("platform-logger",t=>new i7(t),"PRIVATE")),Gc(new Dl("heartbeat",t=>new $7(t),"PRIVATE")),Fo(Jg,rw,r),Fo(Jg,rw,"esm2020"),Fo("fire-js","")}X7("");function f3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Y7=f3,h3=new th("auth","Firebase",f3());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0=new z1("@firebase/auth");function K7(r,...t){g0.logLevel<=_r.WARN&&g0.warn(`Auth (${su}): ${r}`,...t)}function e0(r,...t){g0.logLevel<=_r.ERROR&&g0.error(`Auth (${su}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(r,...t){throw G1(r,...t)}function La(r,...t){return G1(r,...t)}function q1(r,t,e){const n={...Y7(),[t]:e};return new th("auth","Firebase",n).create(t,{appName:r.name})}function Po(r){return q1(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function d3(r,t,e){const n=e;if(!(t instanceof n))throw n.name!==t.constructor.name&&ui(r,"argument-error"),q1(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function G1(r,...t){if(typeof r!="string"){const e=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(e,...n)}return h3.create(r,...t)}function er(r,t,...e){if(!r)throw G1(t,...e)}function Oi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw e0(t),new Error(t)}function zi(r,t){r||Oi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function Q7(){return ow()==="http:"||ow()==="https:"}function ow(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Q7()||C9()||"connection"in navigator)?navigator.onLine:!0}function J7(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(t,e){this.shortDelay=t,this.longDelay=e,zi(e>t,"Short delay should be less than long delay!"),this.isMobile=k9()||N9()}get(){return Z7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(r,t){zi(r.emulator,"Emulator should always be set here");const{url:e}=r.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],rA=new nh(3e4,6e4);function X1(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function au(r,t,e,n,s={}){return m3(r,s,async()=>{let i={},a={};n&&(t==="GET"?a=n:i={body:JSON.stringify(n)});const l=rh({key:r.config.apiKey,...a}).slice(1),c=await r._getAdditionalHeaders();c["Content-Type"]="application/json",r.languageCode&&(c["X-Firebase-Locale"]=r.languageCode);const o={method:t,headers:c,...i};return A9()||(o.referrerPolicy="no-referrer"),r.emulatorConfig&&nu(r.emulatorConfig.host)&&(o.credentials="include"),p3.fetch()(await g3(r,r.config.apiHost,e,l),o)})}async function m3(r,t,e){r._canInitEmulator=!1;const n={...eA,...t};try{const s=new sA(r),i=await Promise.race([e(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw Od(r,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const l=i.ok?a.errorMessage:a.error.message,[c,o]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Od(r,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw Od(r,"email-already-in-use",a);if(c==="USER_DISABLED")throw Od(r,"user-disabled",a);const u=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw q1(r,u,o);ui(r,u)}}catch(s){if(s instanceof Wi)throw s;ui(r,"network-request-failed",{message:String(s)})}}async function nA(r,t,e,n,s={}){const i=await au(r,t,e,n,s);return"mfaPendingCredential"in i&&ui(r,"multi-factor-auth-required",{_serverResponse:i}),i}async function g3(r,t,e,n){const s=`${t}${e}?${n}`,i=r,a=i.config.emulator?W1(r.config,s):`${r.config.apiScheme}://${s}`;return tA.includes(e)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(a).toString():a}class sA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,n)=>{this.timer=setTimeout(()=>n(La(this.auth,"network-request-failed")),rA.get())})}}function Od(r,t,e){const n={appName:r.name};e.email&&(n.email=e.email),e.phoneNumber&&(n.phoneNumber=e.phoneNumber);const s=La(r,t,n);return s.customData._tokenResponse=e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aA(r,t){return au(r,"POST","/v1/accounts:delete",t)}async function b0(r,t){return au(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function iA(r,t=!1){const e=Rn(r),n=await e.getIdToken(t),s=Y1(n);er(s&&s.exp&&s.auth_time&&s.iat,e.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:n,authTime:gf(Ag(s.auth_time)),issuedAtTime:gf(Ag(s.iat)),expirationTime:gf(Ag(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Ag(r){return Number(r)*1e3}function Y1(r){const[t,e,n]=r.split(".");if(t===void 0||e===void 0||n===void 0)return e0("JWT malformed, contained fewer than 3 sections"),null;try{const s=J4(e);return s?JSON.parse(s):(e0("Failed to decode base64 JWT payload"),null)}catch(s){return e0("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function lw(r){const t=Y1(r);return er(t,"internal-error"),er(typeof t.exp<"u","internal-error"),er(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Of(r,t,e=!1){if(e)return t;try{return await t}catch(n){throw n instanceof Wi&&oA(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function oA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=gf(this.lastLoginAt),this.creationTime=gf(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x0(r){var p;const t=r.auth,e=await r.getIdToken(),n=await Of(r,b0(t,{idToken:e}));er(n==null?void 0:n.users.length,t,"internal-error");const s=n.users[0];r._notifyReloadListener(s);const i=(p=s.providerUserInfo)!=null&&p.length?b3(s.providerUserInfo):[],a=uA(r.providerData,i),l=r.isAnonymous,c=!(r.email&&s.passwordHash)&&!(a!=null&&a.length),o=l?c:!1,u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new n1(s.createdAt,s.lastLoginAt),isAnonymous:o};Object.assign(r,u)}async function cA(r){const t=Rn(r);await x0(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function uA(r,t){return[...r.filter(n=>!t.some(s=>s.providerId===n.providerId)),...t]}function b3(r){return r.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fA(r,t){const e=await m3(r,{},async()=>{const n=rh({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:i}=r.config,a=await g3(r,s,"/v1/token",`key=${i}`),l=await r._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:n};return r.emulatorConfig&&nu(r.emulatorConfig.host)&&(c.credentials="include"),p3.fetch()(a,c)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function hA(r,t){return au(r,"POST","/v2/accounts:revokeToken",X1(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){er(t.idToken,"internal-error"),er(typeof t.idToken<"u","internal-error"),er(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):lw(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){er(t.length!==0,"internal-error");const e=lw(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(er(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:n,refreshToken:s,expiresIn:i}=await fA(t,e);this.updateTokensAndExpiration(n,s,Number(i))}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,e){const{refreshToken:n,accessToken:s,expirationTime:i}=e,a=new Pc;return n&&(er(typeof n=="string","internal-error",{appName:t}),a.refreshToken=n),s&&(er(typeof s=="string","internal-error",{appName:t}),a.accessToken=s),i&&(er(typeof i=="number","internal-error",{appName:t}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Pc,this.toJSON())}_performRefresh(){return Oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function So(r,t){er(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Oa{constructor({uid:t,auth:e,stsTokenManager:n,...s}){this.providerId="firebase",this.proactiveRefresh=new lA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new n1(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const e=await Of(this,this.stsTokenManager.getToken(this.auth,t));return er(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return iA(this,t)}reload(){return cA(this)}_assign(t){this!==t&&(er(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Oa({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){er(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),e&&await x0(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ma(this.auth.app))return Promise.reject(Po(this.auth));const t=await this.getIdToken();return await Of(this,aA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const n=e.displayName??void 0,s=e.email??void 0,i=e.phoneNumber??void 0,a=e.photoURL??void 0,l=e.tenantId??void 0,c=e._redirectEventId??void 0,o=e.createdAt??void 0,u=e.lastLoginAt??void 0,{uid:p,emailVerified:h,isAnonymous:d,providerData:x,stsTokenManager:b}=e;er(p&&b,t,"internal-error");const g=Pc.fromJSON(this.name,b);er(typeof p=="string",t,"internal-error"),So(n,t.name),So(s,t.name),er(typeof h=="boolean",t,"internal-error"),er(typeof d=="boolean",t,"internal-error"),So(i,t.name),So(a,t.name),So(l,t.name),So(c,t.name),So(o,t.name),So(u,t.name);const v=new Oa({uid:p,auth:t,email:s,emailVerified:h,displayName:n,isAnonymous:d,photoURL:a,phoneNumber:i,tenantId:l,stsTokenManager:g,createdAt:o,lastLoginAt:u});return x&&Array.isArray(x)&&(v.providerData=x.map(y=>({...y}))),c&&(v._redirectEventId=c),v}static async _fromIdTokenResponse(t,e,n=!1){const s=new Pc;s.updateFromServerResponse(e);const i=new Oa({uid:e.localId,auth:t,stsTokenManager:s,isAnonymous:n});return await x0(i),i}static async _fromGetAccountInfoResponse(t,e,n){const s=e.users[0];er(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?b3(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new Pc;l.updateFromIdToken(n);const c=new Oa({uid:s.localId,auth:t,stsTokenManager:l,isAnonymous:a}),o={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new n1(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,o),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw=new Map;function Fi(r){zi(r instanceof Function,"Expected a class definition");let t=cw.get(r);return t?(zi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,cw.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}x3.type="NONE";const uw=x3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(r,t,e){return`firebase:${r}:${t}:${e}`}class Lc{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;const{config:s,name:i}=this.auth;this.fullUserKey=t0(this.userKey,s.apiKey,i),this.fullPersistenceKey=t0("persistence",s.apiKey,i),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await b0(this.auth,{idToken:t}).catch(()=>{});return e?Oa._fromGetAccountInfoResponse(this.auth,e,t):null}return Oa._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,n="authUser"){if(!e.length)return new Lc(Fi(uw),t,n);const s=(await Promise.all(e.map(async o=>{if(await o._isAvailable())return o}))).filter(o=>o);let i=s[0]||Fi(uw);const a=t0(n,t.config.apiKey,t.name);let l=null;for(const o of e)try{const u=await o._get(a);if(u){let p;if(typeof u=="string"){const h=await b0(t,{idToken:u}).catch(()=>{});if(!h)break;p=await Oa._fromGetAccountInfoResponse(t,h,u)}else p=Oa._fromJSON(t,u);o!==i&&(l=p),i=o;break}}catch{}const c=s.filter(o=>o._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Lc(i,t,n):(i=c[0],l&&await i._set(a,l.toJSON()),await Promise.all(e.map(async o=>{if(o!==i)try{await o._remove(a)}catch{}})),new Lc(i,t,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(_3(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(y3(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(T3(t))return"Blackberry";if(k3(t))return"Webos";if(v3(t))return"Safari";if((t.includes("chrome/")||w3(t))&&!t.includes("edge/"))return"Chrome";if(S3(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(e);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function y3(r=hs()){return/firefox\//i.test(r)}function v3(r=hs()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function w3(r=hs()){return/crios\//i.test(r)}function _3(r=hs()){return/iemobile/i.test(r)}function S3(r=hs()){return/android/i.test(r)}function T3(r=hs()){return/blackberry/i.test(r)}function k3(r=hs()){return/webos/i.test(r)}function K1(r=hs()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function dA(r=hs()){var t;return K1(r)&&!!((t=window.navigator)!=null&&t.standalone)}function pA(){return R9()&&document.documentMode===10}function E3(r=hs()){return K1(r)||S3(r)||k3(r)||T3(r)||/windows phone/i.test(r)||_3(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A3(r,t=[]){let e;switch(r){case"Browser":e=fw(hs());break;case"Worker":e=`${fw(hs())}-${r}`;break;default:e=r}const n=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${su}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const n=i=>new Promise((a,l)=>{try{const c=t(i);a(c)}catch(c){l(c)}});n.onAbort=e,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const n of this.queue)await n(t),n.onAbort&&e.push(n.onAbort)}catch(n){e.reverse();for(const s of e)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gA(r,t={}){return au(r,"GET","/v2/passwordPolicy",X1(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA=6;class xA{constructor(t){var n;const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??bA,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=t.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const n=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;n&&(e.meetsMinPasswordLength=t.length>=n),s&&(e.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let n;for(let s=0;s<t.length;s++)n=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(e,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,e,n,s,i){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(t,e,n,s){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hw(this),this.idTokenSubscription=new hw(this),this.beforeStateQueue=new mA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=h3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Fi(e)),this._initializationPromise=this.queue(async()=>{var n,s,i;if(!this._deleted&&(this.persistenceManager=await Lc.create(this,t),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await b0(this,{idToken:t}),n=await Oa._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(n)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var i;if(ma(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let n=e,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(i=this.redirectUser)==null?void 0:i._redirectEventId,l=n==null?void 0:n._redirectEventId,c=await this.tryRedirectSignIn(t);(!a||a===l)&&(c!=null&&c.user)&&(n=c.user,s=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(n)}catch(a){n=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return er(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await x0(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=J7()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ma(this.app))return Promise.reject(Po(this));const e=t?Rn(t):null;return e&&er(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&er(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ma(this.app)?Promise.reject(Po(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ma(this.app)?Promise.reject(Po(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await gA(this),e=new xA(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new th("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged(()=>{n(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(n.tenantId=this.tenantId),await hA(this,n)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,e){const n=await this.getOrInitRedirectPersistenceManager(e);return t===null?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Fi(t)||this._popupRedirectResolver;er(e,this,"argument-error"),this.redirectPersistenceManager=await Lc.create(this,[Fi(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,n;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)==null?void 0:e._redirectEventId)===t?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((e=this.currentUser)==null?void 0:e.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,s){if(this._deleted)return()=>{};const i=typeof e=="function"?e:e.next.bind(e);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(er(l,this,"internal-error"),l.then(()=>{a||i(this.currentUser)}),typeof e=="function"){const c=t.addObserver(e,n,s);return()=>{a=!0,c()}}else{const c=t.addObserver(e);return()=>{a=!0,c()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return er(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=A3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());e&&(t["X-Firebase-Client"]=e);const n=await this._getAppCheckToken();return n&&(t["X-Firebase-AppCheck"]=n),t}async _getAppCheckToken(){var e;if(ma(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:e.getToken());return t!=null&&t.error&&K7(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function iu(r){return Rn(r)}class hw{constructor(t){this.auth=t,this.observer=null,this.addObserver=L9(e=>this.observer=e)}get next(){return er(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Q1={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vA(r){Q1=r}function wA(r){return Q1.loadJS(r)}function _A(){return Q1.gapiScript}function SA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(r,t){const e=$1(r,"auth");if(e.isInitialized()){const s=e.getImmediate(),i=e.getOptions();if(Il(i,t??{}))return s;ui(s,"already-initialized")}return e.initialize({options:t})}function kA(r,t){const e=(t==null?void 0:t.persistence)||[],n=(Array.isArray(e)?e:[e]).map(Fi);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(n,t==null?void 0:t.popupRedirectResolver)}function EA(r,t,e){const n=iu(r);er(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const s=!1,i=C3(t),{host:a,port:l}=AA(t),c=l===null?"":`:${l}`,o={url:`${i}//${a}${c}/`},u=Object.freeze({host:a,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!n._canInitEmulator){er(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),er(Il(o,n.config.emulator)&&Il(u,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=o,n.emulatorConfig=u,n.settings.appVerificationDisabledForTesting=!0,nu(a)?(n3(`${i}//${a}${c}`),s3("Auth",!0)):CA()}function C3(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function AA(r){const t=C3(r),e=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!e)return{host:"",port:null};const n=e[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(n);if(s){const i=s[1];return{host:i,port:dw(n.substr(i.length+1))}}else{const[i,a]=n.split(":");return{host:i,port:dw(a)}}}function dw(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function CA(){function r(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Oi("not implemented")}_getIdTokenResponse(t){return Oi("not implemented")}_linkToIdToken(t,e){return Oi("not implemented")}_getReauthenticationResolver(t){return Oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bc(r,t){return nA(r,"POST","/v1/accounts:signInWithIdp",X1(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA="http://localhost";class Ol extends N3{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Ol(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):ui("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:n,signInMethod:s,...i}=e;if(!n||!s)return null;const a=new Ol(n,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(t){const e=this.buildRequest();return Bc(t,e)}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,Bc(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Bc(t,e)}buildRequest(){const t={requestUri:NA,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=rh(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh extends Y0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko extends sh{constructor(){super("facebook.com")}static credential(t){return Ol._fromParams({providerId:ko.PROVIDER_ID,signInMethod:ko.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ko.credentialFromTaggedObject(t)}static credentialFromError(t){return ko.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ko.credential(t.oauthAccessToken)}catch{return null}}}ko.FACEBOOK_SIGN_IN_METHOD="facebook.com";ko.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends sh{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Ol._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Di.credentialFromTaggedObject(t)}static credentialFromError(t){return Di.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:n}=t;if(!e&&!n)return null;try{return Di.credential(e,n)}catch{return null}}}Di.GOOGLE_SIGN_IN_METHOD="google.com";Di.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo extends sh{constructor(){super("github.com")}static credential(t){return Ol._fromParams({providerId:Eo.PROVIDER_ID,signInMethod:Eo.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Eo.credentialFromTaggedObject(t)}static credentialFromError(t){return Eo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Eo.credential(t.oauthAccessToken)}catch{return null}}}Eo.GITHUB_SIGN_IN_METHOD="github.com";Eo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao extends sh{constructor(){super("twitter.com")}static credential(t,e){return Ol._fromParams({providerId:Ao.PROVIDER_ID,signInMethod:Ao.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Ao.credentialFromTaggedObject(t)}static credentialFromError(t){return Ao.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:n}=t;if(!e||!n)return null;try{return Ao.credential(e,n)}catch{return null}}}Ao.TWITTER_SIGN_IN_METHOD="twitter.com";Ao.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,n,s=!1){const i=await Oa._fromIdTokenResponse(t,n,s),a=pw(n);return new Wc({user:i,providerId:a,_tokenResponse:n,operationType:e})}static async _forOperation(t,e,n){await t._updateTokensIfNecessary(n,!0);const s=pw(n);return new Wc({user:t,providerId:s,_tokenResponse:n,operationType:e})}}function pw(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0 extends Wi{constructor(t,e,n,s){super(e.code,e.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,y0.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,e,n,s){return new y0(t,e,n,s)}}function R3(r,t,e,n){return(t==="reauthenticate"?e._getReauthenticationResolver(r):e._getIdTokenResponse(r)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?y0._fromErrorAndOperation(r,i,t,n):i})}async function RA(r,t,e=!1){const n=await Of(r,t._linkToIdToken(r.auth,await r.getIdToken()),e);return Wc._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MA(r,t,e=!1){const{auth:n}=r;if(ma(n.app))return Promise.reject(Po(n));const s="reauthenticate";try{const i=await Of(r,R3(n,s,t,r),e);er(i.idToken,n,"internal-error");const a=Y1(i.idToken);er(a,n,"internal-error");const{sub:l}=a;return er(r.uid===l,n,"user-mismatch"),Wc._forOperation(r,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&ui(n,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jA(r,t,e=!1){if(ma(r.app))return Promise.reject(Po(r));const n="signIn",s=await R3(r,n,t),i=await Wc._fromIdTokenResponse(r,n,s);return e||await r._updateCurrentUser(i.user),i}function IA(r,t,e,n){return Rn(r).onIdTokenChanged(t,e,n)}function DA(r,t,e){return Rn(r).beforeAuthStateChanged(t,e)}function M3(r,t,e,n){return Rn(r).onAuthStateChanged(t,e,n)}function OA(r){return Rn(r).signOut()}const v0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(v0,"1"),this.storage.removeItem(v0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA=1e3,PA=10;class I3 extends j3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=E3(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const n=this.storage.getItem(e),s=this.localCache[e];n!==s&&t(e,s,n)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const n=t.key;e?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(n);!e&&this.localCache[n]===a||this.notifyListeners(n,a)},i=this.storage.getItem(n);pA()&&i!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,PA):s()}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const s of Array.from(n))s(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:n}),!0)})},FA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}I3.type="LOCAL";const LA=I3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3 extends j3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}D3.type="SESSION";const O3=D3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(s=>s.isListeningto(t));if(e)return e;const n=new K0(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:n,eventType:s,data:i}=e.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;e.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const l=Array.from(a).map(async o=>o(e.origin,i)),c=await BA(l);e.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:c})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}K0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(r="",t=10){let e="";for(let n=0;n<t;n++)e+=Math.floor(Math.random()*10);return r+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,n=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((l,c)=>{const o=Z1("",20);s.port1.start();const u=setTimeout(()=>{c(new Error("unsupported_event"))},n);a={messageChannel:s,onMessage(p){const h=p;if(h.data.eventId===o)switch(h.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(h.data.response);break;default:clearTimeout(u),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:o,data:e},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(){return window}function VA(r){ni().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F3(){return typeof ni().WorkerGlobalScope<"u"&&typeof ni().importScripts=="function"}async function zA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function HA(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function $A(){return F3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3="firebaseLocalStorageDb",qA=1,w0="firebaseLocalStorage",L3="fbase_key";class ah{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Q0(r,t){return r.transaction([w0],t?"readwrite":"readonly").objectStore(w0)}function GA(){const r=indexedDB.deleteDatabase(P3);return new ah(r).toPromise()}function s1(){const r=indexedDB.open(P3,qA);return new Promise((t,e)=>{r.addEventListener("error",()=>{e(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(w0,{keyPath:L3})}catch(s){e(s)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(w0)?t(n):(n.close(),await GA(),t(await s1()))})})}async function mw(r,t,e){const n=Q0(r,!0).put({[L3]:t,value:e});return new ah(n).toPromise()}async function WA(r,t){const e=Q0(r,!1).get(t),n=await new ah(e).toPromise();return n===void 0?null:n.value}function gw(r,t){const e=Q0(r,!0).delete(t);return new ah(e).toPromise()}const XA=800,YA=3;class B3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await s1(),this.db)}async _withRetries(t){let e=0;for(;;)try{const n=await this._openDb();return await t(n)}catch(n){if(e++>YA)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return F3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=K0._getInstance($A()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await zA(),!this.activeServiceWorker)return;this.sender=new UA(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(e=t[0])!=null&&e.fulfilled&&(n=t[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||HA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await s1();return await mw(t,v0,"1"),await gw(t,v0),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(n=>mw(n,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(n=>WA(n,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>gw(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const i=Q0(s,!1).getAll();return new ah(i).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],n=new Set;if(t.length!==0)for(const{fbase_key:s,value:i}of t)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),e.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),e.push(s));return e}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const s of Array.from(n))s(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}B3.type="LOCAL";const KA=B3;new nh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(r,t){return t?Fi(t):(er(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb extends N3{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Bc(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Bc(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Bc(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function QA(r){return jA(r.auth,new eb(r),r.bypassAuthState)}function ZA(r){const{auth:t,user:e}=r;return er(e,t,"internal-error"),MA(e,new eb(r),r.bypassAuthState)}async function JA(r){const{auth:t,user:e}=r;return er(e,t,"internal-error"),RA(e,new eb(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(t,e,n,s,i=!1){this.auth=t,this.resolver=n,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:n,postBody:s,tenantId:i,error:a,type:l}=t;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:e,sessionId:n,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(o){this.reject(o)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return QA;case"linkViaPopup":case"linkViaRedirect":return JA;case"reauthViaPopup":case"reauthViaRedirect":return ZA;default:ui(this.auth,"internal-error")}}resolve(t){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=new nh(2e3,1e4);async function tC(r,t,e){if(ma(r.app))return Promise.reject(La(r,"operation-not-supported-in-this-environment"));const n=iu(r);d3(r,t,Y0);const s=J1(n,e);return new Sl(n,"signInViaPopup",t,s).executeNotNull()}class Sl extends U3{constructor(t,e,n,s,i){super(t,e,s,i),this.provider=n,this.authWindow=null,this.pollId=null,Sl.currentPopupAction&&Sl.currentPopupAction.cancel(),Sl.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return er(t,this.auth,"internal-error"),t}async onExecution(){zi(this.filter.length===1,"Popup operations only handle one event");const t=Z1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(La(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(La(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Sl.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,n;if((n=(e=this.authWindow)==null?void 0:e.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(La(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,eC.get())};t()}}Sl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC="pendingRedirect",r0=new Map;class nC extends U3{constructor(t,e,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,n),this.eventId=null}async execute(){let t=r0.get(this.auth._key());if(!t){try{const n=await sC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(n)}catch(e){t=()=>Promise.reject(e)}r0.set(this.auth._key(),t)}return this.bypassAuthState||r0.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sC(r,t){const e=z3(t),n=V3(r);if(!await n._isAvailable())return!1;const s=await n._get(e)==="true";return await n._remove(e),s}async function aC(r,t){return V3(r)._set(z3(t),"true")}function iC(r,t){r0.set(r._key(),t)}function V3(r){return Fi(r._redirectPersistence)}function z3(r){return t0(rC,r.config.apiKey,r.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(r,t,e){return oC(r,t,e)}async function oC(r,t,e){if(ma(r.app))return Promise.reject(Po(r));const n=iu(r);d3(r,t,Y0),await n._initializationPromise;const s=J1(n,e);return await aC(s,n),s._openRedirect(n,t,"signInViaRedirect")}async function sf(r,t){return await iu(r)._initializationPromise,H3(r,t,!1)}async function H3(r,t,e=!1){if(ma(r.app))return Promise.reject(Po(r));const n=iu(r),s=J1(n,t),a=await new nC(n,s,e).execute();return a&&!e&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=600*1e3;class cC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(e=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!uC(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var n;if(t.error&&!$3(t)){const s=((n=t.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";e.onError(La(this.auth,s))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const n=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=lC&&this.cachedEventUids.clear(),this.cachedEventUids.has(xw(t))}saveEventToCache(t){this.cachedEventUids.add(xw(t)),this.lastProcessedEventTime=Date.now()}}function xw(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function $3({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function uC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $3(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fC(r,t={}){return au(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dC=/^https?/;async function pC(r){if(r.config.emulator)return;const{authorizedDomains:t}=await fC(r);for(const e of t)try{if(mC(e))return}catch{}ui(r,"unauthorized-domain")}function mC(r){const t=r1(),{protocol:e,hostname:n}=new URL(t);if(r.startsWith("chrome-extension://")){const a=new URL(r);return a.hostname===""&&n===""?e==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&a.hostname===n}if(!dC.test(e))return!1;if(hC.test(r))return n===r;const s=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=new nh(3e4,6e4);function yw(){const r=ni().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let e=0;e<r.CP.length;e++)r.CP[e]=null}}function bC(r){return new Promise((t,e)=>{var s,i,a;function n(){yw(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{yw(),e(La(r,"network-request-failed"))},timeout:gC.get()})}if((i=(s=ni().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)t(gapi.iframes.getContext());else if((a=ni().gapi)!=null&&a.load)n();else{const l=SA("iframefcb");return ni()[l]=()=>{gapi.load?n():e(La(r,"network-request-failed"))},wA(`${_A()}?onload=${l}`).catch(c=>e(c))}}).catch(t=>{throw n0=null,t})}let n0=null;function xC(r){return n0=n0||bC(r),n0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=new nh(5e3,15e3),vC="__/auth/iframe",wC="emulator/auth/iframe",_C={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TC(r){const t=r.config;er(t.authDomain,r,"auth-domain-config-required");const e=t.emulator?W1(t,wC):`https://${r.config.authDomain}/${vC}`,n={apiKey:t.apiKey,appName:r.name,v:su},s=SC.get(r.config.apiHost);s&&(n.eid=s);const i=r._getFrameworks();return i.length&&(n.fw=i.join(",")),`${e}?${rh(n).slice(1)}`}async function kC(r){const t=await xC(r),e=ni().gapi;return er(e,r,"internal-error"),t.open({where:document.body,url:TC(r),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_C,dontclear:!0},n=>new Promise(async(s,i)=>{await n.restyle({setHideOnLeave:!1});const a=La(r,"network-request-failed"),l=ni().setTimeout(()=>{i(a)},yC.get());function c(){ni().clearTimeout(l),s(n)}n.ping(c).then(c,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AC=500,CC=600,NC="_blank",RC="http://localhost";class vw{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function MC(r,t,e,n=AC,s=CC){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let l="";const c={...EC,width:n.toString(),height:s.toString(),top:i,left:a},o=hs().toLowerCase();e&&(l=w3(o)?NC:e),y3(o)&&(t=t||RC,c.scrollbars="yes");const u=Object.entries(c).reduce((h,[d,x])=>`${h}${d}=${x},`,"");if(dA(o)&&l!=="_self")return jC(t||"",l),new vw(null);const p=window.open(t||"",l,u);er(p,r,"popup-blocked");try{p.focus()}catch{}return new vw(p)}function jC(r,t){const e=document.createElement("a");e.href=r,e.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC="__/auth/handler",DC="emulator/auth/handler",OC=encodeURIComponent("fac");async function ww(r,t,e,n,s,i){er(r.config.authDomain,r,"auth-domain-config-required"),er(r.config.apiKey,r,"invalid-api-key");const a={apiKey:r.config.apiKey,appName:r.name,authType:e,redirectUrl:n,v:su,eventId:s};if(t instanceof Y0){t.setDefaultLanguage(r.languageCode),a.providerId=t.providerId||"",P9(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[u,p]of Object.entries({}))a[u]=p}if(t instanceof sh){const u=t.getScopes().filter(p=>p!=="");u.length>0&&(a.scopes=u.join(","))}r.tenantId&&(a.tid=r.tenantId);const l=a;for(const u of Object.keys(l))l[u]===void 0&&delete l[u];const c=await r._getAppCheckToken(),o=c?`#${OC}=${encodeURIComponent(c)}`:"";return`${FC(r)}?${rh(l).slice(1)}${o}`}function FC({config:r}){return r.emulator?W1(r,DC):`https://${r.authDomain}/${IC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg="webStorageSupport";class PC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=O3,this._completeRedirectFn=H3,this._overrideRedirectResult=iC}async _openPopup(t,e,n,s){var a;zi((a=this.eventManagers[t._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const i=await ww(t,e,n,r1(),s);return MC(t,i,Z1())}async _openRedirect(t,e,n,s){await this._originValidation(t);const i=await ww(t,e,n,r1(),s);return VA(i),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:s,promise:i}=this.eventManagers[e];return s?Promise.resolve(s):(zi(i,"If manager is not set, promise should be"),i)}const n=this.initAndGetManager(t);return this.eventManagers[e]={promise:n},n.catch(()=>{delete this.eventManagers[e]}),n}async initAndGetManager(t){const e=await kC(t),n=new cC(t);return e.register("authEvent",s=>(er(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:n.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=e,n}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Cg,{type:Cg},s=>{var a;const i=(a=s==null?void 0:s[0])==null?void 0:a[Cg];i!==void 0&&e(!!i),ui(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=pC(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return E3()||v3()||K1()}}const LC=PC;var _w="@firebase/auth",Sw="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(n=>{t((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){er(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function VC(r){Gc(new Dl("auth",(t,{options:e})=>{const n=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),i=t.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=n.options;er(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:a,authDomain:l,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:A3(r)},o=new yA(n,s,i,c);return kA(o,e),o},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider("auth-internal").initialize()})),Gc(new Dl("auth-internal",t=>{const e=iu(t.getProvider("auth").getImmediate());return(n=>new BC(n))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fo(_w,Sw,UC(r)),Fo(_w,Sw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=300,HC=r3("authIdTokenMaxAge")||zC;let Tw=null;const $C=r=>async t=>{const e=t&&await t.getIdTokenResult(),n=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(n&&n>HC)return;const s=e==null?void 0:e.token;Tw!==s&&(Tw=s,await fetch(r,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function qC(r=l3()){const t=$1(r,"auth");if(t.isInitialized())return t.getImmediate();const e=TA(r,{popupRedirectResolver:LC,persistence:[KA,LA,O3]}),n=r3("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(n,location.origin);if(location.origin===i.origin){const a=$C(i.toString());DA(e,a,()=>a(e.currentUser)),IA(e,l=>a(l))}}const s=e3("auth");return s&&EA(e,`http://${s}`),e}function GC(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}vA({loadJS(r){return new Promise((t,e)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=t,n.onerror=s=>{const i=La("internal-error");i.customData=s,e(i)},n.type="text/javascript",n.charset="UTF-8",GC().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});VC("Browser");var kw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Lo,q3;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(L,I){function O(){}O.prototype=I.prototype,L.F=I.prototype,L.prototype=new O,L.prototype.constructor=L,L.D=function(F,q,z){for(var N=Array(arguments.length-2),U=2;U<arguments.length;U++)N[U-2]=arguments[U];return I.prototype[q].apply(F,N)}}function e(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(n,e),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(L,I,O){O||(O=0);const F=Array(16);if(typeof I=="string")for(var q=0;q<16;++q)F[q]=I.charCodeAt(O++)|I.charCodeAt(O++)<<8|I.charCodeAt(O++)<<16|I.charCodeAt(O++)<<24;else for(q=0;q<16;++q)F[q]=I[O++]|I[O++]<<8|I[O++]<<16|I[O++]<<24;I=L.g[0],O=L.g[1],q=L.g[2];let z=L.g[3],N;N=I+(z^O&(q^z))+F[0]+3614090360&4294967295,I=O+(N<<7&4294967295|N>>>25),N=z+(q^I&(O^q))+F[1]+3905402710&4294967295,z=I+(N<<12&4294967295|N>>>20),N=q+(O^z&(I^O))+F[2]+606105819&4294967295,q=z+(N<<17&4294967295|N>>>15),N=O+(I^q&(z^I))+F[3]+3250441966&4294967295,O=q+(N<<22&4294967295|N>>>10),N=I+(z^O&(q^z))+F[4]+4118548399&4294967295,I=O+(N<<7&4294967295|N>>>25),N=z+(q^I&(O^q))+F[5]+1200080426&4294967295,z=I+(N<<12&4294967295|N>>>20),N=q+(O^z&(I^O))+F[6]+2821735955&4294967295,q=z+(N<<17&4294967295|N>>>15),N=O+(I^q&(z^I))+F[7]+4249261313&4294967295,O=q+(N<<22&4294967295|N>>>10),N=I+(z^O&(q^z))+F[8]+1770035416&4294967295,I=O+(N<<7&4294967295|N>>>25),N=z+(q^I&(O^q))+F[9]+2336552879&4294967295,z=I+(N<<12&4294967295|N>>>20),N=q+(O^z&(I^O))+F[10]+4294925233&4294967295,q=z+(N<<17&4294967295|N>>>15),N=O+(I^q&(z^I))+F[11]+2304563134&4294967295,O=q+(N<<22&4294967295|N>>>10),N=I+(z^O&(q^z))+F[12]+1804603682&4294967295,I=O+(N<<7&4294967295|N>>>25),N=z+(q^I&(O^q))+F[13]+4254626195&4294967295,z=I+(N<<12&4294967295|N>>>20),N=q+(O^z&(I^O))+F[14]+2792965006&4294967295,q=z+(N<<17&4294967295|N>>>15),N=O+(I^q&(z^I))+F[15]+1236535329&4294967295,O=q+(N<<22&4294967295|N>>>10),N=I+(q^z&(O^q))+F[1]+4129170786&4294967295,I=O+(N<<5&4294967295|N>>>27),N=z+(O^q&(I^O))+F[6]+3225465664&4294967295,z=I+(N<<9&4294967295|N>>>23),N=q+(I^O&(z^I))+F[11]+643717713&4294967295,q=z+(N<<14&4294967295|N>>>18),N=O+(z^I&(q^z))+F[0]+3921069994&4294967295,O=q+(N<<20&4294967295|N>>>12),N=I+(q^z&(O^q))+F[5]+3593408605&4294967295,I=O+(N<<5&4294967295|N>>>27),N=z+(O^q&(I^O))+F[10]+38016083&4294967295,z=I+(N<<9&4294967295|N>>>23),N=q+(I^O&(z^I))+F[15]+3634488961&4294967295,q=z+(N<<14&4294967295|N>>>18),N=O+(z^I&(q^z))+F[4]+3889429448&4294967295,O=q+(N<<20&4294967295|N>>>12),N=I+(q^z&(O^q))+F[9]+568446438&4294967295,I=O+(N<<5&4294967295|N>>>27),N=z+(O^q&(I^O))+F[14]+3275163606&4294967295,z=I+(N<<9&4294967295|N>>>23),N=q+(I^O&(z^I))+F[3]+4107603335&4294967295,q=z+(N<<14&4294967295|N>>>18),N=O+(z^I&(q^z))+F[8]+1163531501&4294967295,O=q+(N<<20&4294967295|N>>>12),N=I+(q^z&(O^q))+F[13]+2850285829&4294967295,I=O+(N<<5&4294967295|N>>>27),N=z+(O^q&(I^O))+F[2]+4243563512&4294967295,z=I+(N<<9&4294967295|N>>>23),N=q+(I^O&(z^I))+F[7]+1735328473&4294967295,q=z+(N<<14&4294967295|N>>>18),N=O+(z^I&(q^z))+F[12]+2368359562&4294967295,O=q+(N<<20&4294967295|N>>>12),N=I+(O^q^z)+F[5]+4294588738&4294967295,I=O+(N<<4&4294967295|N>>>28),N=z+(I^O^q)+F[8]+2272392833&4294967295,z=I+(N<<11&4294967295|N>>>21),N=q+(z^I^O)+F[11]+1839030562&4294967295,q=z+(N<<16&4294967295|N>>>16),N=O+(q^z^I)+F[14]+4259657740&4294967295,O=q+(N<<23&4294967295|N>>>9),N=I+(O^q^z)+F[1]+2763975236&4294967295,I=O+(N<<4&4294967295|N>>>28),N=z+(I^O^q)+F[4]+1272893353&4294967295,z=I+(N<<11&4294967295|N>>>21),N=q+(z^I^O)+F[7]+4139469664&4294967295,q=z+(N<<16&4294967295|N>>>16),N=O+(q^z^I)+F[10]+3200236656&4294967295,O=q+(N<<23&4294967295|N>>>9),N=I+(O^q^z)+F[13]+681279174&4294967295,I=O+(N<<4&4294967295|N>>>28),N=z+(I^O^q)+F[0]+3936430074&4294967295,z=I+(N<<11&4294967295|N>>>21),N=q+(z^I^O)+F[3]+3572445317&4294967295,q=z+(N<<16&4294967295|N>>>16),N=O+(q^z^I)+F[6]+76029189&4294967295,O=q+(N<<23&4294967295|N>>>9),N=I+(O^q^z)+F[9]+3654602809&4294967295,I=O+(N<<4&4294967295|N>>>28),N=z+(I^O^q)+F[12]+3873151461&4294967295,z=I+(N<<11&4294967295|N>>>21),N=q+(z^I^O)+F[15]+530742520&4294967295,q=z+(N<<16&4294967295|N>>>16),N=O+(q^z^I)+F[2]+3299628645&4294967295,O=q+(N<<23&4294967295|N>>>9),N=I+(q^(O|~z))+F[0]+4096336452&4294967295,I=O+(N<<6&4294967295|N>>>26),N=z+(O^(I|~q))+F[7]+1126891415&4294967295,z=I+(N<<10&4294967295|N>>>22),N=q+(I^(z|~O))+F[14]+2878612391&4294967295,q=z+(N<<15&4294967295|N>>>17),N=O+(z^(q|~I))+F[5]+4237533241&4294967295,O=q+(N<<21&4294967295|N>>>11),N=I+(q^(O|~z))+F[12]+1700485571&4294967295,I=O+(N<<6&4294967295|N>>>26),N=z+(O^(I|~q))+F[3]+2399980690&4294967295,z=I+(N<<10&4294967295|N>>>22),N=q+(I^(z|~O))+F[10]+4293915773&4294967295,q=z+(N<<15&4294967295|N>>>17),N=O+(z^(q|~I))+F[1]+2240044497&4294967295,O=q+(N<<21&4294967295|N>>>11),N=I+(q^(O|~z))+F[8]+1873313359&4294967295,I=O+(N<<6&4294967295|N>>>26),N=z+(O^(I|~q))+F[15]+4264355552&4294967295,z=I+(N<<10&4294967295|N>>>22),N=q+(I^(z|~O))+F[6]+2734768916&4294967295,q=z+(N<<15&4294967295|N>>>17),N=O+(z^(q|~I))+F[13]+1309151649&4294967295,O=q+(N<<21&4294967295|N>>>11),N=I+(q^(O|~z))+F[4]+4149444226&4294967295,I=O+(N<<6&4294967295|N>>>26),N=z+(O^(I|~q))+F[11]+3174756917&4294967295,z=I+(N<<10&4294967295|N>>>22),N=q+(I^(z|~O))+F[2]+718787259&4294967295,q=z+(N<<15&4294967295|N>>>17),N=O+(z^(q|~I))+F[9]+3951481745&4294967295,L.g[0]=L.g[0]+I&4294967295,L.g[1]=L.g[1]+(q+(N<<21&4294967295|N>>>11))&4294967295,L.g[2]=L.g[2]+q&4294967295,L.g[3]=L.g[3]+z&4294967295}n.prototype.v=function(L,I){I===void 0&&(I=L.length);const O=I-this.blockSize,F=this.C;let q=this.h,z=0;for(;z<I;){if(q==0)for(;z<=O;)s(this,L,z),z+=this.blockSize;if(typeof L=="string"){for(;z<I;)if(F[q++]=L.charCodeAt(z++),q==this.blockSize){s(this,F),q=0;break}}else for(;z<I;)if(F[q++]=L[z++],q==this.blockSize){s(this,F),q=0;break}}this.h=q,this.o+=I},n.prototype.A=function(){var L=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);L[0]=128;for(var I=1;I<L.length-8;++I)L[I]=0;I=this.o*8;for(var O=L.length-8;O<L.length;++O)L[O]=I&255,I/=256;for(this.v(L),L=Array(16),I=0,O=0;O<4;++O)for(let F=0;F<32;F+=8)L[I++]=this.g[O]>>>F&255;return L};function i(L,I){var O=l;return Object.prototype.hasOwnProperty.call(O,L)?O[L]:O[L]=I(L)}function a(L,I){this.h=I;const O=[];let F=!0;for(let q=L.length-1;q>=0;q--){const z=L[q]|0;F&&z==I||(O[q]=z,F=!1)}this.g=O}var l={};function c(L){return-128<=L&&L<128?i(L,function(I){return new a([I|0],I<0?-1:0)}):new a([L|0],L<0?-1:0)}function o(L){if(isNaN(L)||!isFinite(L))return p;if(L<0)return g(o(-L));const I=[];let O=1;for(let F=0;L>=O;F++)I[F]=L/O|0,O*=4294967296;return new a(I,0)}function u(L,I){if(L.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(L.charAt(0)=="-")return g(u(L.substring(1),I));if(L.indexOf("-")>=0)throw Error('number format error: interior "-" character');const O=o(Math.pow(I,8));let F=p;for(let z=0;z<L.length;z+=8){var q=Math.min(8,L.length-z);const N=parseInt(L.substring(z,z+q),I);q<8?(q=o(Math.pow(I,q)),F=F.j(q).add(o(N))):(F=F.j(O),F=F.add(o(N)))}return F}var p=c(0),h=c(1),d=c(16777216);r=a.prototype,r.m=function(){if(b(this))return-g(this).m();let L=0,I=1;for(let O=0;O<this.g.length;O++){const F=this.i(O);L+=(F>=0?F:4294967296+F)*I,I*=4294967296}return L},r.toString=function(L){if(L=L||10,L<2||36<L)throw Error("radix out of range: "+L);if(x(this))return"0";if(b(this))return"-"+g(this).toString(L);const I=o(Math.pow(L,6));var O=this;let F="";for(;;){const q=R(O,I).g;O=v(O,q.j(I));let z=((O.g.length>0?O.g[0]:O.h)>>>0).toString(L);if(O=q,x(O))return z+F;for(;z.length<6;)z="0"+z;F=z+F}},r.i=function(L){return L<0?0:L<this.g.length?this.g[L]:this.h};function x(L){if(L.h!=0)return!1;for(let I=0;I<L.g.length;I++)if(L.g[I]!=0)return!1;return!0}function b(L){return L.h==-1}r.l=function(L){return L=v(this,L),b(L)?-1:x(L)?0:1};function g(L){const I=L.g.length,O=[];for(let F=0;F<I;F++)O[F]=~L.g[F];return new a(O,~L.h).add(h)}r.abs=function(){return b(this)?g(this):this},r.add=function(L){const I=Math.max(this.g.length,L.g.length),O=[];let F=0;for(let q=0;q<=I;q++){let z=F+(this.i(q)&65535)+(L.i(q)&65535),N=(z>>>16)+(this.i(q)>>>16)+(L.i(q)>>>16);F=N>>>16,z&=65535,N&=65535,O[q]=N<<16|z}return new a(O,O[O.length-1]&-2147483648?-1:0)};function v(L,I){return L.add(g(I))}r.j=function(L){if(x(this)||x(L))return p;if(b(this))return b(L)?g(this).j(g(L)):g(g(this).j(L));if(b(L))return g(this.j(g(L)));if(this.l(d)<0&&L.l(d)<0)return o(this.m()*L.m());const I=this.g.length+L.g.length,O=[];for(var F=0;F<2*I;F++)O[F]=0;for(F=0;F<this.g.length;F++)for(let q=0;q<L.g.length;q++){const z=this.i(F)>>>16,N=this.i(F)&65535,U=L.i(q)>>>16,C=L.i(q)&65535;O[2*F+2*q]+=N*C,y(O,2*F+2*q),O[2*F+2*q+1]+=z*C,y(O,2*F+2*q+1),O[2*F+2*q+1]+=N*U,y(O,2*F+2*q+1),O[2*F+2*q+2]+=z*U,y(O,2*F+2*q+2)}for(L=0;L<I;L++)O[L]=O[2*L+1]<<16|O[2*L];for(L=I;L<2*I;L++)O[L]=0;return new a(O,0)};function y(L,I){for(;(L[I]&65535)!=L[I];)L[I+1]+=L[I]>>>16,L[I]&=65535,I++}function T(L,I){this.g=L,this.h=I}function R(L,I){if(x(I))throw Error("division by zero");if(x(L))return new T(p,p);if(b(L))return I=R(g(L),I),new T(g(I.g),g(I.h));if(b(I))return I=R(L,g(I)),new T(g(I.g),I.h);if(L.g.length>30){if(b(L)||b(I))throw Error("slowDivide_ only works with positive integers.");for(var O=h,F=I;F.l(L)<=0;)O=P(O),F=P(F);var q=H(O,1),z=H(F,1);for(F=H(F,2),O=H(O,2);!x(F);){var N=z.add(F);N.l(L)<=0&&(q=q.add(O),z=N),F=H(F,1),O=H(O,1)}return I=v(L,q.j(I)),new T(q,I)}for(q=p;L.l(I)>=0;){for(O=Math.max(1,Math.floor(L.m()/I.m())),F=Math.ceil(Math.log(O)/Math.LN2),F=F<=48?1:Math.pow(2,F-48),z=o(O),N=z.j(I);b(N)||N.l(L)>0;)O-=F,z=o(O),N=z.j(I);x(z)&&(z=h),q=q.add(z),L=v(L,N)}return new T(q,L)}r.B=function(L){return R(this,L).h},r.and=function(L){const I=Math.max(this.g.length,L.g.length),O=[];for(let F=0;F<I;F++)O[F]=this.i(F)&L.i(F);return new a(O,this.h&L.h)},r.or=function(L){const I=Math.max(this.g.length,L.g.length),O=[];for(let F=0;F<I;F++)O[F]=this.i(F)|L.i(F);return new a(O,this.h|L.h)},r.xor=function(L){const I=Math.max(this.g.length,L.g.length),O=[];for(let F=0;F<I;F++)O[F]=this.i(F)^L.i(F);return new a(O,this.h^L.h)};function P(L){const I=L.g.length+1,O=[];for(let F=0;F<I;F++)O[F]=L.i(F)<<1|L.i(F-1)>>>31;return new a(O,L.h)}function H(L,I){const O=I>>5;I%=32;const F=L.g.length-O,q=[];for(let z=0;z<F;z++)q[z]=I>0?L.i(z+O)>>>I|L.i(z+O+1)<<32-I:L.i(z+O);return new a(q,L.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,q3=n,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=o,a.fromString=u,Lo=a}).apply(typeof kw<"u"?kw:typeof self<"u"?self:typeof window<"u"?window:{});var Fd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var G3,of,W3,s0,a1,X3,Y3,K3;(function(){var r,t=Object.defineProperty;function e(X){X=[typeof globalThis=="object"&&globalThis,X,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fd=="object"&&Fd];for(var se=0;se<X.length;++se){var ce=X[se];if(ce&&ce.Math==Math)return ce}throw Error("Cannot find global object")}var n=e(this);function s(X,se){if(se)e:{var ce=n;X=X.split(".");for(var we=0;we<X.length-1;we++){var Je=X[we];if(!(Je in ce))break e;ce=ce[Je]}X=X[X.length-1],we=ce[X],se=se(we),se!=we&&se!=null&&t(ce,X,{configurable:!0,writable:!0,value:se})}}s("Symbol.dispose",function(X){return X||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(X){return X||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(X){return X||function(se){var ce=[],we;for(we in se)Object.prototype.hasOwnProperty.call(se,we)&&ce.push([we,se[we]]);return ce}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},a=this||self;function l(X){var se=typeof X;return se=="object"&&X!=null||se=="function"}function c(X,se,ce){return X.call.apply(X.bind,arguments)}function o(X,se,ce){return o=c,o.apply(null,arguments)}function u(X,se){var ce=Array.prototype.slice.call(arguments,1);return function(){var we=ce.slice();return we.push.apply(we,arguments),X.apply(this,we)}}function p(X,se){function ce(){}ce.prototype=se.prototype,X.Z=se.prototype,X.prototype=new ce,X.prototype.constructor=X,X.Ob=function(we,Je,ft){for(var It=Array(arguments.length-2),lr=2;lr<arguments.length;lr++)It[lr-2]=arguments[lr];return se.prototype[Je].apply(we,It)}}var h=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?X=>X&&AsyncContext.Snapshot.wrap(X):X=>X;function d(X){const se=X.length;if(se>0){const ce=Array(se);for(let we=0;we<se;we++)ce[we]=X[we];return ce}return[]}function x(X,se){for(let we=1;we<arguments.length;we++){const Je=arguments[we];var ce=typeof Je;if(ce=ce!="object"?ce:Je?Array.isArray(Je)?"array":ce:"null",ce=="array"||ce=="object"&&typeof Je.length=="number"){ce=X.length||0;const ft=Je.length||0;X.length=ce+ft;for(let It=0;It<ft;It++)X[ce+It]=Je[It]}else X.push(Je)}}class b{constructor(se,ce){this.i=se,this.j=ce,this.h=0,this.g=null}get(){let se;return this.h>0?(this.h--,se=this.g,this.g=se.next,se.next=null):se=this.i(),se}}function g(X){a.setTimeout(()=>{throw X},0)}function v(){var X=L;let se=null;return X.g&&(se=X.g,X.g=X.g.next,X.g||(X.h=null),se.next=null),se}class y{constructor(){this.h=this.g=null}add(se,ce){const we=T.get();we.set(se,ce),this.h?this.h.next=we:this.g=we,this.h=we}}var T=new b(()=>new R,X=>X.reset());class R{constructor(){this.next=this.g=this.h=null}set(se,ce){this.h=se,this.g=ce,this.next=null}reset(){this.next=this.g=this.h=null}}let P,H=!1,L=new y,I=()=>{const X=Promise.resolve(void 0);P=()=>{X.then(O)}};function O(){for(var X;X=v();){try{X.h.call(X.g)}catch(ce){g(ce)}var se=T;se.j(X),se.h<100&&(se.h++,X.next=se.g,se.g=X)}H=!1}function F(){this.u=this.u,this.C=this.C}F.prototype.u=!1,F.prototype.dispose=function(){this.u||(this.u=!0,this.N())},F.prototype[Symbol.dispose]=function(){this.dispose()},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(X,se){this.type=X,this.g=this.target=se,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var X=!1,se=Object.defineProperty({},"passive",{get:function(){X=!0}});try{const ce=()=>{};a.addEventListener("test",ce,se),a.removeEventListener("test",ce,se)}catch{}return X})();function N(X){return/^[\s\xa0]*$/.test(X)}function U(X,se){q.call(this,X?X.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,X&&this.init(X,se)}p(U,q),U.prototype.init=function(X,se){const ce=this.type=X.type,we=X.changedTouches&&X.changedTouches.length?X.changedTouches[0]:null;this.target=X.target||X.srcElement,this.g=se,se=X.relatedTarget,se||(ce=="mouseover"?se=X.fromElement:ce=="mouseout"&&(se=X.toElement)),this.relatedTarget=se,we?(this.clientX=we.clientX!==void 0?we.clientX:we.pageX,this.clientY=we.clientY!==void 0?we.clientY:we.pageY,this.screenX=we.screenX||0,this.screenY=we.screenY||0):(this.clientX=X.clientX!==void 0?X.clientX:X.pageX,this.clientY=X.clientY!==void 0?X.clientY:X.pageY,this.screenX=X.screenX||0,this.screenY=X.screenY||0),this.button=X.button,this.key=X.key||"",this.ctrlKey=X.ctrlKey,this.altKey=X.altKey,this.shiftKey=X.shiftKey,this.metaKey=X.metaKey,this.pointerId=X.pointerId||0,this.pointerType=X.pointerType,this.state=X.state,this.i=X,X.defaultPrevented&&U.Z.h.call(this)},U.prototype.h=function(){U.Z.h.call(this);const X=this.i;X.preventDefault?X.preventDefault():X.returnValue=!1};var C="closure_listenable_"+(Math.random()*1e6|0),S=0;function k(X,se,ce,we,Je){this.listener=X,this.proxy=null,this.src=se,this.type=ce,this.capture=!!we,this.ha=Je,this.key=++S,this.da=this.fa=!1}function E(X){X.da=!0,X.listener=null,X.proxy=null,X.src=null,X.ha=null}function A(X,se,ce){for(const we in X)se.call(ce,X[we],we,X)}function j(X,se){for(const ce in X)se.call(void 0,X[ce],ce,X)}function B(X){const se={};for(const ce in X)se[ce]=X[ce];return se}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Q(X,se){let ce,we;for(let Je=1;Je<arguments.length;Je++){we=arguments[Je];for(ce in we)X[ce]=we[ce];for(let ft=0;ft<D.length;ft++)ce=D[ft],Object.prototype.hasOwnProperty.call(we,ce)&&(X[ce]=we[ce])}}function K(X){this.src=X,this.g={},this.h=0}K.prototype.add=function(X,se,ce,we,Je){const ft=X.toString();X=this.g[ft],X||(X=this.g[ft]=[],this.h++);const It=W(X,se,we,Je);return It>-1?(se=X[It],ce||(se.fa=!1)):(se=new k(se,this.src,ft,!!we,Je),se.fa=ce,X.push(se)),se};function ee(X,se){const ce=se.type;if(ce in X.g){var we=X.g[ce],Je=Array.prototype.indexOf.call(we,se,void 0),ft;(ft=Je>=0)&&Array.prototype.splice.call(we,Je,1),ft&&(E(se),X.g[ce].length==0&&(delete X.g[ce],X.h--))}}function W(X,se,ce,we){for(let Je=0;Je<X.length;++Je){const ft=X[Je];if(!ft.da&&ft.listener==se&&ft.capture==!!ce&&ft.ha==we)return Je}return-1}var te="closure_lm_"+(Math.random()*1e6|0),G={};function V(X,se,ce,we,Je){if(Array.isArray(se)){for(let ft=0;ft<se.length;ft++)V(X,se[ft],ce,we,Je);return null}return ce=fe(ce),X&&X[C]?X.J(se,ce,l(we)?!!we.capture:!1,Je):Z(X,se,ce,!1,we,Je)}function Z(X,se,ce,we,Je,ft){if(!se)throw Error("Invalid event type");const It=l(Je)?!!Je.capture:!!Je;let lr=ge(X);if(lr||(X[te]=lr=new K(X)),ce=lr.add(se,ce,we,It,ft),ce.proxy)return ce;if(we=ae(),ce.proxy=we,we.src=X,we.listener=ce,X.addEventListener)z||(Je=It),Je===void 0&&(Je=!1),X.addEventListener(se.toString(),we,Je);else if(X.attachEvent)X.attachEvent(he(se.toString()),we);else if(X.addListener&&X.removeListener)X.addListener(we);else throw Error("addEventListener and attachEvent are unavailable.");return ce}function ae(){function X(ce){return se.call(X.src,X.listener,ce)}const se=Se;return X}function re(X,se,ce,we,Je){if(Array.isArray(se))for(var ft=0;ft<se.length;ft++)re(X,se[ft],ce,we,Je);else we=l(we)?!!we.capture:!!we,ce=fe(ce),X&&X[C]?(X=X.i,ft=String(se).toString(),ft in X.g&&(se=X.g[ft],ce=W(se,ce,we,Je),ce>-1&&(E(se[ce]),Array.prototype.splice.call(se,ce,1),se.length==0&&(delete X.g[ft],X.h--)))):X&&(X=ge(X))&&(se=X.g[se.toString()],X=-1,se&&(X=W(se,ce,we,Je)),(ce=X>-1?se[X]:null)&&oe(ce))}function oe(X){if(typeof X!="number"&&X&&!X.da){var se=X.src;if(se&&se[C])ee(se.i,X);else{var ce=X.type,we=X.proxy;se.removeEventListener?se.removeEventListener(ce,we,X.capture):se.detachEvent?se.detachEvent(he(ce),we):se.addListener&&se.removeListener&&se.removeListener(we),(ce=ge(se))?(ee(ce,X),ce.h==0&&(ce.src=null,se[te]=null)):E(X)}}}function he(X){return X in G?G[X]:G[X]="on"+X}function Se(X,se){if(X.da)X=!0;else{se=new U(se,this);const ce=X.listener,we=X.ha||X.src;X.fa&&oe(X),X=ce.call(we,se)}return X}function ge(X){return X=X[te],X instanceof K?X:null}var ne="__closure_events_fn_"+(Math.random()*1e9>>>0);function fe(X){return typeof X=="function"?X:(X[ne]||(X[ne]=function(se){return X.handleEvent(se)}),X[ne])}function pe(){F.call(this),this.i=new K(this),this.M=this,this.G=null}p(pe,F),pe.prototype[C]=!0,pe.prototype.removeEventListener=function(X,se,ce,we){re(this,X,se,ce,we)};function ke(X,se){var ce,we=X.G;if(we)for(ce=[];we;we=we.G)ce.push(we);if(X=X.M,we=se.type||se,typeof se=="string")se=new q(se,X);else if(se instanceof q)se.target=se.target||X;else{var Je=se;se=new q(we,X),Q(se,Je)}Je=!0;let ft,It;if(ce)for(It=ce.length-1;It>=0;It--)ft=se.g=ce[It],Je=Ce(ft,we,!0,se)&&Je;if(ft=se.g=X,Je=Ce(ft,we,!0,se)&&Je,Je=Ce(ft,we,!1,se)&&Je,ce)for(It=0;It<ce.length;It++)ft=se.g=ce[It],Je=Ce(ft,we,!1,se)&&Je}pe.prototype.N=function(){if(pe.Z.N.call(this),this.i){var X=this.i;for(const se in X.g){const ce=X.g[se];for(let we=0;we<ce.length;we++)E(ce[we]);delete X.g[se],X.h--}}this.G=null},pe.prototype.J=function(X,se,ce,we){return this.i.add(String(X),se,!1,ce,we)},pe.prototype.K=function(X,se,ce,we){return this.i.add(String(X),se,!0,ce,we)};function Ce(X,se,ce,we){if(se=X.i.g[String(se)],!se)return!0;se=se.concat();let Je=!0;for(let ft=0;ft<se.length;++ft){const It=se[ft];if(It&&!It.da&&It.capture==ce){const lr=It.listener,dn=It.ha||It.src;It.fa&&ee(X.i,It),Je=lr.call(dn,we)!==!1&&Je}}return Je&&!we.defaultPrevented}function Fe(X,se){if(typeof X!="function")if(X&&typeof X.handleEvent=="function")X=o(X.handleEvent,X);else throw Error("Invalid listener argument");return Number(se)>2147483647?-1:a.setTimeout(X,se||0)}function We(X){X.g=Fe(()=>{X.g=null,X.i&&(X.i=!1,We(X))},X.l);const se=X.h;X.h=null,X.m.apply(null,se)}class $e extends F{constructor(se,ce){super(),this.m=se,this.l=ce,this.h=null,this.i=!1,this.g=null}j(se){this.h=arguments,this.g?this.i=!0:We(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function it(X){F.call(this),this.h=X,this.g={}}p(it,F);var st=[];function et(X){A(X.g,function(se,ce){this.g.hasOwnProperty(ce)&&oe(se)},X),X.g={}}it.prototype.N=function(){it.Z.N.call(this),et(this)},it.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ze=a.JSON.stringify,gt=a.JSON.parse,mt=class{stringify(X){return a.JSON.stringify(X,void 0)}parse(X){return a.JSON.parse(X,void 0)}};function Me(){}function Ue(){}var Ee={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Oe(){q.call(this,"d")}p(Oe,q);function ct(){q.call(this,"c")}p(ct,q);var Be={},Ye=null;function je(){return Ye=Ye||new pe}Be.Ia="serverreachability";function He(X){q.call(this,Be.Ia,X)}p(He,q);function Te(X){const se=je();ke(se,new He(se))}Be.STAT_EVENT="statevent";function rt(X,se){q.call(this,Be.STAT_EVENT,X),this.stat=se}p(rt,q);function Re(X){const se=je();ke(se,new rt(se,X))}Be.Ja="timingevent";function Ae(X,se){q.call(this,Be.Ja,X),this.size=se}p(Ae,q);function at(X,se){if(typeof X!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){X()},se)}function pt(){this.g=!0}pt.prototype.ua=function(){this.g=!1};function lt(X,se,ce,we,Je,ft){X.info(function(){if(X.g)if(ft){var It="",lr=ft.split("&");for(let Ir=0;Ir<lr.length;Ir++){var dn=lr[Ir].split("=");if(dn.length>1){const Zr=dn[0];dn=dn[1];const na=Zr.split("_");It=na.length>=2&&na[1]=="type"?It+(Zr+"="+dn+"&"):It+(Zr+"=redacted&")}}}else It=null;else It=ft;return"XMLHTTP REQ ("+we+") [attempt "+Je+"]: "+se+`
`+ce+`
`+It})}function Rt(X,se,ce,we,Je,ft,It){X.info(function(){return"XMLHTTP RESP ("+we+") [ attempt "+Je+"]: "+se+`
`+ce+`
`+ft+" "+It})}function jt(X,se,ce,we){X.info(function(){return"XMLHTTP TEXT ("+se+"): "+Mt(X,ce)+(we?" "+we:"")})}function Ct(X,se){X.info(function(){return"TIMEOUT: "+se})}pt.prototype.info=function(){};function Mt(X,se){if(!X.g)return se;if(!se)return null;try{const ft=JSON.parse(se);if(ft){for(X=0;X<ft.length;X++)if(Array.isArray(ft[X])){var ce=ft[X];if(!(ce.length<2)){var we=ce[1];if(Array.isArray(we)&&!(we.length<1)){var Je=we[0];if(Je!="noop"&&Je!="stop"&&Je!="close")for(let It=1;It<we.length;It++)we[It]=""}}}}return Ze(ft)}catch{return se}}var Dt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Nt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ie;function Ge(){}p(Ge,Me),Ge.prototype.g=function(){return new XMLHttpRequest},Ie=new Ge;function ut(X){return encodeURIComponent(String(X))}function le(X){var se=1;X=X.split(":");const ce=[];for(;se>0&&X.length;)ce.push(X.shift()),se--;return X.length&&ce.push(X.join(":")),ce}function ye(X,se,ce,we){this.j=X,this.i=se,this.l=ce,this.S=we||1,this.V=new it(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ue}function ue(){this.i=null,this.g="",this.h=!1}var de={},be={};function xe(X,se,ce){X.M=1,X.A=ms(Xt(se)),X.u=ce,X.R=!0,De(X,null)}function De(X,se){X.F=Date.now(),Xe(X),X.B=Xt(X.A);var ce=X.B,we=X.S;Array.isArray(we)||(we=[String(we)]),Us(ce.i,"t",we),X.C=0,ce=X.j.L,X.h=new ue,X.g=Ch(X.j,ce?se:null,!X.u),X.P>0&&(X.O=new $e(o(X.Y,X,X.g),X.P)),se=X.V,ce=X.g,we=X.ba;var Je="readystatechange";Array.isArray(Je)||(Je&&(st[0]=Je.toString()),Je=st);for(let ft=0;ft<Je.length;ft++){const It=V(ce,Je[ft],we||se.handleEvent,!1,se.h||se);if(!It)break;se.g[It.key]=It}se=X.J?B(X.J):{},X.u?(X.v||(X.v="POST"),se["Content-Type"]="application/x-www-form-urlencoded",X.g.ea(X.B,X.v,X.u,se)):(X.v="GET",X.g.ea(X.B,X.v,null,se)),Te(),lt(X.i,X.v,X.B,X.l,X.S,X.u)}ye.prototype.ba=function(X){X=X.target;const se=this.O;se&&Ea(X)==3?se.j():this.Y(X)},ye.prototype.Y=function(X){try{if(X==this.g)e:{const lr=Ea(this.g),dn=this.g.ya(),Ir=this.g.ca();if(!(lr<3)&&(lr!=3||this.g&&(this.h.h||this.g.la()||qn(this.g)))){this.K||lr!=4||dn==7||(dn==8||Ir<=0?Te(3):Te(2)),St(this);var se=this.g.ca();this.X=se;var ce=Ve(this);if(this.o=se==200,Rt(this.i,this.v,this.B,this.l,this.S,lr,se),this.o){if(this.U&&!this.L){t:{if(this.g){var we,Je=this.g;if((we=Je.g?Je.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(we)){var ft=we;break t}}ft=null}if(X=ft)jt(this.i,this.l,X,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ne(this,X);else{this.o=!1,this.m=3,Re(12),me(this),kt(this);break e}}if(this.R){X=!0;let Zr;for(;!this.K&&this.C<ce.length;)if(Zr=qe(this,ce),Zr==be){lr==4&&(this.m=4,Re(14),X=!1),jt(this.i,this.l,null,"[Incomplete Response]");break}else if(Zr==de){this.m=4,Re(15),jt(this.i,this.l,ce,"[Invalid Chunk]"),X=!1;break}else jt(this.i,this.l,Zr,null),Ne(this,Zr);if(Pe(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),lr!=4||ce.length!=0||this.h.h||(this.m=1,Re(16),X=!1),this.o=this.o&&X,!X)jt(this.i,this.l,ce,"[Invalid Chunked Response]"),me(this),kt(this);else if(ce.length>0&&!this.W){this.W=!0;var It=this.j;It.g==this&&It.aa&&!It.P&&(It.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),yu(It),It.P=!0,Re(11))}}else jt(this.i,this.l,ce,null),Ne(this,ce);lr==4&&me(this),this.o&&!this.K&&(lr==4?Th(this.j,this):(this.o=!1,Xe(this)))}else bi(this.g),se==400&&ce.indexOf("Unknown SID")>0?(this.m=3,Re(12)):(this.m=0,Re(13)),me(this),kt(this)}}}catch{}finally{}};function Ve(X){if(!Pe(X))return X.g.la();const se=qn(X.g);if(se==="")return"";let ce="";const we=se.length,Je=Ea(X.g)==4;if(!X.h.i){if(typeof TextDecoder>"u")return me(X),kt(X),"";X.h.i=new a.TextDecoder}for(let ft=0;ft<we;ft++)X.h.h=!0,ce+=X.h.i.decode(se[ft],{stream:!(Je&&ft==we-1)});return se.length=0,X.h.g+=ce,X.C=0,X.h.g}function Pe(X){return X.g?X.v=="GET"&&X.M!=2&&X.j.Aa:!1}function qe(X,se){var ce=X.C,we=se.indexOf(`
`,ce);return we==-1?be:(ce=Number(se.substring(ce,we)),isNaN(ce)?de:(we+=1,we+ce>se.length?be:(se=se.slice(we,we+ce),X.C=we+ce,se)))}ye.prototype.cancel=function(){this.K=!0,me(this)};function Xe(X){X.T=Date.now()+X.H,yt(X,X.H)}function yt(X,se){if(X.D!=null)throw Error("WatchDog timer not null");X.D=at(o(X.aa,X),se)}function St(X){X.D&&(a.clearTimeout(X.D),X.D=null)}ye.prototype.aa=function(){this.D=null;const X=Date.now();X-this.T>=0?(Ct(this.i,this.B),this.M!=2&&(Te(),Re(17)),me(this),this.m=2,kt(this)):yt(this,this.T-X)};function kt(X){X.j.I==0||X.K||Th(X.j,X)}function me(X){St(X);var se=X.O;se&&typeof se.dispose=="function"&&se.dispose(),X.O=null,et(X.V),X.g&&(se=X.g,X.g=null,se.abort(),se.dispose())}function Ne(X,se){try{var ce=X.j;if(ce.I!=0&&(ce.g==X||At(ce.h,X))){if(!X.L&&At(ce.h,X)&&ce.I==3){try{var we=ce.Ba.g.parse(se)}catch{we=null}if(Array.isArray(we)&&we.length==3){var Je=we;if(Je[0]==0){e:if(!ce.v){if(ce.g)if(ce.g.F+3e3<X.F)Zl(ce),Zi(ce);else break e;nl(ce),Re(18)}}else ce.xa=Je[1],0<ce.xa-ce.K&&Je[2]<37500&&ce.F&&ce.A==0&&!ce.C&&(ce.C=at(o(ce.Va,ce),6e3));xt(ce.h)<=1&&ce.ta&&(ce.ta=void 0)}else Wa(ce,11)}else if((X.L||ce.g==X)&&Zl(ce),!N(se))for(Je=ce.Ba.g.parse(se),se=0;se<Je.length;se++){let Ir=Je[se];const Zr=Ir[0];if(!(Zr<=ce.K))if(ce.K=Zr,Ir=Ir[1],ce.I==2)if(Ir[0]=="c"){ce.M=Ir[1],ce.ba=Ir[2];const na=Ir[3];na!=null&&(ce.ka=na,ce.j.info("VER="+ce.ka));const Xa=Ir[4];Xa!=null&&(ce.za=Xa,ce.j.info("SVER="+ce.za));const Aa=Ir[5];Aa!=null&&typeof Aa=="number"&&Aa>0&&(we=1.5*Aa,ce.O=we,ce.j.info("backChannelRequestTimeoutMs_="+we)),we=ce;const Ca=X.g;if(Ca){const sl=Ca.g?Ca.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sl){var ft=we.h;ft.g||sl.indexOf("spdy")==-1&&sl.indexOf("quic")==-1&&sl.indexOf("h2")==-1||(ft.j=ft.l,ft.g=new Set,ft.h&&(Qt(ft,ft.h),ft.h=null))}if(we.G){const Jl=Ca.g?Ca.g.getResponseHeader("X-HTTP-Session-Id"):null;Jl&&(we.wa=Jl,fr(we.J,we.G,Jl))}}ce.I=3,ce.l&&ce.l.ra(),ce.aa&&(ce.T=Date.now()-X.F,ce.j.info("Handshake RTT: "+ce.T+"ms")),we=ce;var It=X;if(we.na=Ah(we,we.L?we.ba:null,we.W),It.L){qt(we.h,It);var lr=It,dn=we.O;dn&&(lr.H=dn),lr.D&&(St(lr),Xe(lr)),we.g=It}else _h(we);ce.i.length>0&&Ga(ce)}else Ir[0]!="stop"&&Ir[0]!="close"||Wa(ce,7);else ce.I==3&&(Ir[0]=="stop"||Ir[0]=="close"?Ir[0]=="stop"?Wa(ce,7):bu(ce):Ir[0]!="noop"&&ce.l&&ce.l.qa(Ir),ce.A=0)}}Te(4)}catch{}}var Ke=class{constructor(X,se){this.g=X,this.map=se}};function dt(X){this.l=X||10,a.PerformanceNavigationTiming?(X=a.performance.getEntriesByType("navigation"),X=X.length>0&&(X[0].nextHopProtocol=="hq"||X[0].nextHopProtocol=="h2")):X=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=X?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Et(X){return X.h?!0:X.g?X.g.size>=X.j:!1}function xt(X){return X.h?1:X.g?X.g.size:0}function At(X,se){return X.h?X.h==se:X.g?X.g.has(se):!1}function Qt(X,se){X.g?X.g.add(se):X.h=se}function qt(X,se){X.h&&X.h==se?X.h=null:X.g&&X.g.has(se)&&X.g.delete(se)}dt.prototype.cancel=function(){if(this.i=Gt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const X of this.g.values())X.cancel();this.g.clear()}};function Gt(X){if(X.h!=null)return X.i.concat(X.h.G);if(X.g!=null&&X.g.size!==0){let se=X.i;for(const ce of X.g.values())se=se.concat(ce.G);return se}return d(X.i)}var Ut=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jt(X,se){if(X){X=X.split("&");for(let ce=0;ce<X.length;ce++){const we=X[ce].indexOf("=");let Je,ft=null;we>=0?(Je=X[ce].substring(0,we),ft=X[ce].substring(we+1)):Je=X[ce],se(Je,ft?decodeURIComponent(ft.replace(/\+/g," ")):"")}}}function rr(X){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let se;X instanceof rr?(this.l=X.l,or(this,X.j),this.o=X.o,this.g=X.g,zr(this,X.u),this.h=X.h,fn(this,Vs(X.i)),this.m=X.m):X&&(se=String(X).match(Ut))?(this.l=!1,or(this,se[1]||"",!0),this.o=Hn(se[2]||""),this.g=Hn(se[3]||"",!0),zr(this,se[4]),this.h=Hn(se[5]||"",!0),fn(this,se[6]||"",!0),this.m=Hn(se[7]||"")):(this.l=!1,this.i=new rn(null,this.l))}rr.prototype.toString=function(){const X=[];var se=this.j;se&&X.push(ks(se,gr,!0),":");var ce=this.g;return(ce||se=="file")&&(X.push("//"),(se=this.o)&&X.push(ks(se,gr,!0),"@"),X.push(ut(ce).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),ce=this.u,ce!=null&&X.push(":",String(ce))),(ce=this.h)&&(this.g&&ce.charAt(0)!="/"&&X.push("/"),X.push(ks(ce,ce.charAt(0)=="/"?Es:mr,!0))),(ce=this.i.toString())&&X.push("?",ce),(ce=this.m)&&X.push("#",ks(ce,mi)),X.join("")},rr.prototype.resolve=function(X){const se=Xt(this);let ce=!!X.j;ce?or(se,X.j):ce=!!X.o,ce?se.o=X.o:ce=!!X.g,ce?se.g=X.g:ce=X.u!=null;var we=X.h;if(ce)zr(se,X.u);else if(ce=!!X.h){if(we.charAt(0)!="/")if(this.g&&!this.h)we="/"+we;else{var Je=se.h.lastIndexOf("/");Je!=-1&&(we=se.h.slice(0,Je+1)+we)}if(Je=we,Je==".."||Je==".")we="";else if(Je.indexOf("./")!=-1||Je.indexOf("/.")!=-1){we=Je.lastIndexOf("/",0)==0,Je=Je.split("/");const ft=[];for(let It=0;It<Je.length;){const lr=Je[It++];lr=="."?we&&It==Je.length&&ft.push(""):lr==".."?((ft.length>1||ft.length==1&&ft[0]!="")&&ft.pop(),we&&It==Je.length&&ft.push("")):(ft.push(lr),we=!0)}we=ft.join("/")}else we=Je}return ce?se.h=we:ce=X.i.toString()!=="",ce?fn(se,Vs(X.i)):ce=!!X.m,ce&&(se.m=X.m),se};function Xt(X){return new rr(X)}function or(X,se,ce){X.j=ce?Hn(se,!0):se,X.j&&(X.j=X.j.replace(/:$/,""))}function zr(X,se){if(se){if(se=Number(se),isNaN(se)||se<0)throw Error("Bad port number "+se);X.u=se}else X.u=null}function fn(X,se,ce){se instanceof rn?(X.i=se,Sa(X.i,X.l)):(ce||(se=ks(se,rs)),X.i=new rn(se,X.l))}function fr(X,se,ce){X.i.set(se,ce)}function ms(X){return fr(X,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),X}function Hn(X,se){return X?se?decodeURI(X.replace(/%25/g,"%2525")):decodeURIComponent(X):""}function ks(X,se,ce){return typeof X=="string"?(X=encodeURI(X).replace(se,hn),ce&&(X=X.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),X):null}function hn(X){return X=X.charCodeAt(0),"%"+(X>>4&15).toString(16)+(X&15).toString(16)}var gr=/[#\/\?@]/g,mr=/[#\?:]/g,Es=/[#\?]/g,rs=/[#\?@]/g,mi=/#/g;function rn(X,se){this.h=this.g=null,this.i=X||null,this.j=!!se}function Qr(X){X.g||(X.g=new Map,X.h=0,X.i&&Jt(X.i,function(se,ce){X.add(decodeURIComponent(se.replace(/\+/g," ")),ce)}))}r=rn.prototype,r.add=function(X,se){Qr(this),this.i=null,X=_a(this,X);let ce=this.g.get(X);return ce||this.g.set(X,ce=[]),ce.push(se),this.h+=1,this};function Bs(X,se){Qr(X),se=_a(X,se),X.g.has(se)&&(X.i=null,X.h-=X.g.get(se).length,X.g.delete(se))}function wa(X,se){return Qr(X),se=_a(X,se),X.g.has(se)}r.forEach=function(X,se){Qr(this),this.g.forEach(function(ce,we){ce.forEach(function(Je){X.call(se,Je,we,this)},this)},this)};function za(X,se){Qr(X);let ce=[];if(typeof se=="string")wa(X,se)&&(ce=ce.concat(X.g.get(_a(X,se))));else for(X=Array.from(X.g.values()),se=0;se<X.length;se++)ce=ce.concat(X[se]);return ce}r.set=function(X,se){return Qr(this),this.i=null,X=_a(this,X),wa(this,X)&&(this.h-=this.g.get(X).length),this.g.set(X,[se]),this.h+=1,this},r.get=function(X,se){return X?(X=za(this,X),X.length>0?String(X[0]):se):se};function Us(X,se,ce){Bs(X,se),ce.length>0&&(X.i=null,X.g.set(_a(X,se),d(ce)),X.h+=ce.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const X=[],se=Array.from(this.g.keys());for(let we=0;we<se.length;we++){var ce=se[we];const Je=ut(ce);ce=za(this,ce);for(let ft=0;ft<ce.length;ft++){let It=Je;ce[ft]!==""&&(It+="="+ut(ce[ft])),X.push(It)}}return this.i=X.join("&")};function Vs(X){const se=new rn;return se.i=X.i,X.g&&(se.g=new Map(X.g),se.h=X.h),se}function _a(X,se){return se=String(se),X.j&&(se=se.toLowerCase()),se}function Sa(X,se){se&&!X.j&&(Qr(X),X.i=null,X.g.forEach(function(ce,we){const Je=we.toLowerCase();we!=Je&&(Bs(this,we),Us(this,Je,ce))},X)),X.j=se}function gs(X,se){const ce=new pt;if(a.Image){const we=new Image;we.onload=u($n,ce,"TestLoadImage: loaded",!0,se,we),we.onerror=u($n,ce,"TestLoadImage: error",!1,se,we),we.onabort=u($n,ce,"TestLoadImage: abort",!1,se,we),we.ontimeout=u($n,ce,"TestLoadImage: timeout",!1,se,we),a.setTimeout(function(){we.ontimeout&&we.ontimeout()},1e4),we.src=X}else se(!1)}function Ha(X,se){const ce=new pt,we=new AbortController,Je=setTimeout(()=>{we.abort(),$n(ce,"TestPingServer: timeout",!1,se)},1e4);fetch(X,{signal:we.signal}).then(ft=>{clearTimeout(Je),ft.ok?$n(ce,"TestPingServer: ok",!0,se):$n(ce,"TestPingServer: server error",!1,se)}).catch(()=>{clearTimeout(Je),$n(ce,"TestPingServer: error",!1,se)})}function $n(X,se,ce,we,Je){try{Je&&(Je.onload=null,Je.onerror=null,Je.onabort=null,Je.ontimeout=null),we(ce)}catch{}}function Ta(){this.g=new mt}function bs(X){this.i=X.Sb||null,this.h=X.ab||!1}p(bs,Me),bs.prototype.g=function(){return new ta(this.i,this.h)};function ta(X,se){pe.call(this),this.H=X,this.o=se,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(ta,pe),r=ta.prototype,r.open=function(X,se){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=X,this.D=se,this.readyState=1,ka(this)},r.send=function(X){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const se={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};X&&(se.body=X),(this.H||a).fetch(new Request(this.D,se)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ki(this)),this.readyState=0},r.Pa=function(X){if(this.g&&(this.l=X,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=X.headers,this.readyState=2,ka(this)),this.g&&(this.readyState=3,ka(this),this.g)))if(this.responseType==="arraybuffer")X.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in X){if(this.j=X.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Yl(this)}else X.text().then(this.Oa.bind(this),this.ga.bind(this))};function Yl(X){X.j.read().then(X.Ma.bind(X)).catch(X.ga.bind(X))}r.Ma=function(X){if(this.g){if(this.o&&X.value)this.response.push(X.value);else if(!this.o){var se=X.value?X.value:new Uint8Array(0);(se=this.B.decode(se,{stream:!X.done}))&&(this.response=this.responseText+=se)}X.done?Ki(this):ka(this),this.readyState==3&&Yl(this)}},r.Oa=function(X){this.g&&(this.response=this.responseText=X,Ki(this))},r.Na=function(X){this.g&&(this.response=X,Ki(this))},r.ga=function(){this.g&&Ki(this)};function Ki(X){X.readyState=4,X.l=null,X.j=null,X.B=null,ka(X)}r.setRequestHeader=function(X,se){this.A.append(X,se)},r.getResponseHeader=function(X){return this.h&&this.h.get(X.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const X=[],se=this.h.entries();for(var ce=se.next();!ce.done;)ce=ce.value,X.push(ce[0]+": "+ce[1]),ce=se.next();return X.join(`\r
`)};function ka(X){X.onreadystatechange&&X.onreadystatechange.call(X)}Object.defineProperty(ta.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(X){this.m=X?"include":"same-origin"}});function ra(X){let se="";return A(X,function(ce,we){se+=we,se+=":",se+=ce,se+=`\r
`}),se}function Jo(X,se,ce){e:{for(we in ce){var we=!1;break e}we=!0}we||(ce=ra(ce),typeof X=="string"?ce!=null&&ut(ce):fr(X,se,ce))}function Lr(X){pe.call(this),this.headers=new Map,this.L=X||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Lr,pe);var $a=/^https?$/i,mu=["POST","PUT"];r=Lr.prototype,r.Fa=function(X){this.H=X},r.ea=function(X,se,ce,we){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+X);se=se?se.toUpperCase():"GET",this.D=X,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ie.g(),this.g.onreadystatechange=h(o(this.Ca,this));try{this.B=!0,this.g.open(se,String(X),!0),this.B=!1}catch(ft){el(this,ft);return}if(X=ce||"",ce=new Map(this.headers),we)if(Object.getPrototypeOf(we)===Object.prototype)for(var Je in we)ce.set(Je,we[Je]);else if(typeof we.keys=="function"&&typeof we.get=="function")for(const ft of we.keys())ce.set(ft,we.get(ft));else throw Error("Unknown input type for opt_headers: "+String(we));we=Array.from(ce.keys()).find(ft=>ft.toLowerCase()=="content-type"),Je=a.FormData&&X instanceof a.FormData,!(Array.prototype.indexOf.call(mu,se,void 0)>=0)||we||Je||ce.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ft,It]of ce)this.g.setRequestHeader(ft,It);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(X),this.v=!1}catch(ft){el(this,ft)}};function el(X,se){X.h=!1,X.g&&(X.j=!0,X.g.abort(),X.j=!1),X.l=se,X.o=5,gu(X),gi(X)}function gu(X){X.A||(X.A=!0,ke(X,"complete"),ke(X,"error"))}r.abort=function(X){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=X||7,ke(this,"complete"),ke(this,"abort"),gi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gi(this,!0)),Lr.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?tl(this):this.Xa())},r.Xa=function(){tl(this)};function tl(X){if(X.h&&typeof i<"u"){if(X.v&&Ea(X)==4)setTimeout(X.Ca.bind(X),0);else if(ke(X,"readystatechange"),Ea(X)==4){X.h=!1;try{const ft=X.ca();e:switch(ft){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var se=!0;break e;default:se=!1}var ce;if(!(ce=se)){var we;if(we=ft===0){let It=String(X.D).match(Ut)[1]||null;!It&&a.self&&a.self.location&&(It=a.self.location.protocol.slice(0,-1)),we=!$a.test(It?It.toLowerCase():"")}ce=we}if(ce)ke(X,"complete"),ke(X,"success");else{X.o=6;try{var Je=Ea(X)>2?X.g.statusText:""}catch{Je=""}X.l=Je+" ["+X.ca()+"]",gu(X)}}finally{gi(X)}}}}function gi(X,se){if(X.g){X.m&&(clearTimeout(X.m),X.m=null);const ce=X.g;X.g=null,se||ke(X,"ready");try{ce.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Ea(X){return X.g?X.g.readyState:0}r.ca=function(){try{return Ea(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(X){if(this.g){var se=this.g.responseText;return X&&se.indexOf(X)==0&&(se=se.substring(X.length)),gt(se)}};function qn(X){try{if(!X.g)return null;if("response"in X.g)return X.g.response;switch(X.F){case"":case"text":return X.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in X.g)return X.g.mozResponseArrayBuffer}return null}catch{return null}}function bi(X){const se={};X=(X.g&&Ea(X)>=2&&X.g.getAllResponseHeaders()||"").split(`\r
`);for(let we=0;we<X.length;we++){if(N(X[we]))continue;var ce=le(X[we]);const Je=ce[0];if(ce=ce[1],typeof ce!="string")continue;ce=ce.trim();const ft=se[Je]||[];se[Je]=ft,ft.push(ce)}j(se,function(we){return we.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function qa(X,se,ce){return ce&&ce.internalChannelParams&&ce.internalChannelParams[X]||se}function Qi(X){this.za=0,this.i=[],this.j=new pt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=qa("failFast",!1,X),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=qa("baseRetryDelayMs",5e3,X),this.Za=qa("retryDelaySeedMs",1e4,X),this.Ta=qa("forwardChannelMaxRetries",2,X),this.va=qa("forwardChannelRequestTimeoutMs",2e4,X),this.ma=X&&X.xmlHttpFactory||void 0,this.Ua=X&&X.Rb||void 0,this.Aa=X&&X.useFetchStreams||!1,this.O=void 0,this.L=X&&X.supportsCrossDomainXhr||!1,this.M="",this.h=new dt(X&&X.concurrentRequestLimit),this.Ba=new Ta,this.S=X&&X.fastHandshake||!1,this.R=X&&X.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=X&&X.Pb||!1,X&&X.ua&&this.j.ua(),X&&X.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&X&&X.detectBufferingProxy||!1,this.ia=void 0,X&&X.longPollingTimeout&&X.longPollingTimeout>0&&(this.ia=X.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Qi.prototype,r.ka=8,r.I=1,r.connect=function(X,se,ce,we){Re(0),this.W=X,this.H=se||{},ce&&we!==void 0&&(this.H.OSID=ce,this.H.OAID=we),this.F=this.X,this.J=Ah(this,null,this.W),Ga(this)};function bu(X){if(Kl(X),X.I==3){var se=X.V++,ce=Xt(X.J);if(fr(ce,"SID",X.M),fr(ce,"RID",se),fr(ce,"TYPE","terminate"),rl(X,ce),se=new ye(X,X.j,se),se.M=2,se.A=ms(Xt(ce)),ce=!1,a.navigator&&a.navigator.sendBeacon)try{ce=a.navigator.sendBeacon(se.A.toString(),"")}catch{}!ce&&a.Image&&(new Image().src=se.A,ce=!0),ce||(se.g=Ch(se.j,null),se.g.ea(se.A)),se.F=Date.now(),Xe(se)}Eh(X)}function Zi(X){X.g&&(yu(X),X.g.cancel(),X.g=null)}function Kl(X){Zi(X),X.v&&(a.clearTimeout(X.v),X.v=null),Zl(X),X.h.cancel(),X.m&&(typeof X.m=="number"&&a.clearTimeout(X.m),X.m=null)}function Ga(X){if(!Et(X.h)&&!X.m){X.m=!0;var se=X.Ea;P||I(),H||(P(),H=!0),L.add(se,X),X.D=0}}function Ql(X,se){return xt(X.h)>=X.h.j-(X.m?1:0)?!1:X.m?(X.i=se.G.concat(X.i),!0):X.I==1||X.I==2||X.D>=(X.Sa?0:X.Ta)?!1:(X.m=at(o(X.Ea,X,se),kh(X,X.D)),X.D++,!0)}r.Ea=function(X){if(this.m)if(this.m=null,this.I==1){if(!X){this.V=Math.floor(Math.random()*1e5),X=this.V++;const Je=new ye(this,this.j,X);let ft=this.o;if(this.U&&(ft?(ft=B(ft),Q(ft,this.U)):ft=this.U),this.u!==null||this.R||(Je.J=ft,ft=null),this.S)e:{for(var se=0,ce=0;ce<this.i.length;ce++){t:{var we=this.i[ce];if("__data__"in we.map&&(we=we.map.__data__,typeof we=="string")){we=we.length;break t}we=void 0}if(we===void 0)break;if(se+=we,se>4096){se=ce;break e}if(se===4096||ce===this.i.length-1){se=ce+1;break e}}se=1e3}else se=1e3;se=wh(this,Je,se),ce=Xt(this.J),fr(ce,"RID",X),fr(ce,"CVER",22),this.G&&fr(ce,"X-HTTP-Session-Id",this.G),rl(this,ce),ft&&(this.R?se="headers="+ut(ra(ft))+"&"+se:this.u&&Jo(ce,this.u,ft)),Qt(this.h,Je),this.Ra&&fr(ce,"TYPE","init"),this.S?(fr(ce,"$req",se),fr(ce,"SID","null"),Je.U=!0,xe(Je,ce,null)):xe(Je,ce,se),this.I=2}}else this.I==3&&(X?xu(this,X):this.i.length==0||Et(this.h)||xu(this))};function xu(X,se){var ce;se?ce=se.l:ce=X.V++;const we=Xt(X.J);fr(we,"SID",X.M),fr(we,"RID",ce),fr(we,"AID",X.K),rl(X,we),X.u&&X.o&&Jo(we,X.u,X.o),ce=new ye(X,X.j,ce,X.D+1),X.u===null&&(ce.J=X.o),se&&(X.i=se.G.concat(X.i)),se=wh(X,ce,1e3),ce.H=Math.round(X.va*.5)+Math.round(X.va*.5*Math.random()),Qt(X.h,ce),xe(ce,we,se)}function rl(X,se){X.H&&A(X.H,function(ce,we){fr(se,we,ce)}),X.l&&A({},function(ce,we){fr(se,we,ce)})}function wh(X,se,ce){ce=Math.min(X.i.length,ce);const we=X.l?o(X.l.Ka,X.l,X):null;e:{var Je=X.i;let lr=-1;for(;;){const dn=["count="+ce];lr==-1?ce>0?(lr=Je[0].g,dn.push("ofs="+lr)):lr=0:dn.push("ofs="+lr);let Ir=!0;for(let Zr=0;Zr<ce;Zr++){var ft=Je[Zr].g;const na=Je[Zr].map;if(ft-=lr,ft<0)lr=Math.max(0,Je[Zr].g-100),Ir=!1;else try{ft="req"+ft+"_"||"";try{var It=na instanceof Map?na:Object.entries(na);for(const[Xa,Aa]of It){let Ca=Aa;l(Aa)&&(Ca=Ze(Aa)),dn.push(ft+Xa+"="+encodeURIComponent(Ca))}}catch(Xa){throw dn.push(ft+"type="+encodeURIComponent("_badmap")),Xa}}catch{we&&we(na)}}if(Ir){It=dn.join("&");break e}}It=void 0}return X=X.i.splice(0,ce),se.G=X,It}function _h(X){if(!X.g&&!X.v){X.Y=1;var se=X.Da;P||I(),H||(P(),H=!0),L.add(se,X),X.A=0}}function nl(X){return X.g||X.v||X.A>=3?!1:(X.Y++,X.v=at(o(X.Da,X),kh(X,X.A)),X.A++,!0)}r.Da=function(){if(this.v=null,Sh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var X=4*this.T;this.j.info("BP detection timer enabled: "+X),this.B=at(o(this.Wa,this),X)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Re(10),Zi(this),Sh(this))};function yu(X){X.B!=null&&(a.clearTimeout(X.B),X.B=null)}function Sh(X){X.g=new ye(X,X.j,"rpc",X.Y),X.u===null&&(X.g.J=X.o),X.g.P=0;var se=Xt(X.na);fr(se,"RID","rpc"),fr(se,"SID",X.M),fr(se,"AID",X.K),fr(se,"CI",X.F?"0":"1"),!X.F&&X.ia&&fr(se,"TO",X.ia),fr(se,"TYPE","xmlhttp"),rl(X,se),X.u&&X.o&&Jo(se,X.u,X.o),X.O&&(X.g.H=X.O);var ce=X.g;X=X.ba,ce.M=1,ce.A=ms(Xt(se)),ce.u=null,ce.R=!0,De(ce,X)}r.Va=function(){this.C!=null&&(this.C=null,Zi(this),nl(this),Re(19))};function Zl(X){X.C!=null&&(a.clearTimeout(X.C),X.C=null)}function Th(X,se){var ce=null;if(X.g==se){Zl(X),yu(X),X.g=null;var we=2}else if(At(X.h,se))ce=se.G,qt(X.h,se),we=1;else return;if(X.I!=0){if(se.o)if(we==1){ce=se.u?se.u.length:0,se=Date.now()-se.F;var Je=X.D;we=je(),ke(we,new Ae(we,ce)),Ga(X)}else _h(X);else if(Je=se.m,Je==3||Je==0&&se.X>0||!(we==1&&Ql(X,se)||we==2&&nl(X)))switch(ce&&ce.length>0&&(se=X.h,se.i=se.i.concat(ce)),Je){case 1:Wa(X,5);break;case 4:Wa(X,10);break;case 3:Wa(X,6);break;default:Wa(X,2)}}}function kh(X,se){let ce=X.Qa+Math.floor(Math.random()*X.Za);return X.isActive()||(ce*=2),ce*se}function Wa(X,se){if(X.j.info("Error code "+se),se==2){var ce=o(X.bb,X),we=X.Ua;const Je=!we;we=new rr(we||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||or(we,"https"),ms(we),Je?gs(we.toString(),ce):Ha(we.toString(),ce)}else Re(2);X.I=0,X.l&&X.l.pa(se),Eh(X),Kl(X)}r.bb=function(X){X?(this.j.info("Successfully pinged google.com"),Re(2)):(this.j.info("Failed to ping google.com"),Re(1))};function Eh(X){if(X.I=0,X.ja=[],X.l){const se=Gt(X.h);(se.length!=0||X.i.length!=0)&&(x(X.ja,se),x(X.ja,X.i),X.h.i.length=0,d(X.i),X.i.length=0),X.l.oa()}}function Ah(X,se,ce){var we=ce instanceof rr?Xt(ce):new rr(ce);if(we.g!="")se&&(we.g=se+"."+we.g),zr(we,we.u);else{var Je=a.location;we=Je.protocol,se=se?se+"."+Je.hostname:Je.hostname,Je=+Je.port;const ft=new rr(null);we&&or(ft,we),se&&(ft.g=se),Je&&zr(ft,Je),ce&&(ft.h=ce),we=ft}return ce=X.G,se=X.wa,ce&&se&&fr(we,ce,se),fr(we,"VER",X.ka),rl(X,we),we}function Ch(X,se,ce){if(se&&!X.L)throw Error("Can't create secondary domain capable XhrIo object.");return se=X.Aa&&!X.ma?new Lr(new bs({ab:ce})):new Lr(X.ma),se.Fa(X.L),se}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Nh(){}r=Nh.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ji(){}Ji.prototype.g=function(X,se){return new xs(X,se)};function xs(X,se){pe.call(this),this.g=new Qi(se),this.l=X,this.h=se&&se.messageUrlParams||null,X=se&&se.messageHeaders||null,se&&se.clientProtocolHeaderRequired&&(X?X["X-Client-Protocol"]="webchannel":X={"X-Client-Protocol":"webchannel"}),this.g.o=X,X=se&&se.initMessageHeaders||null,se&&se.messageContentType&&(X?X["X-WebChannel-Content-Type"]=se.messageContentType:X={"X-WebChannel-Content-Type":se.messageContentType}),se&&se.sa&&(X?X["X-WebChannel-Client-Profile"]=se.sa:X={"X-WebChannel-Client-Profile":se.sa}),this.g.U=X,(X=se&&se.Qb)&&!N(X)&&(this.g.u=X),this.A=se&&se.supportsCrossDomainXhr||!1,this.v=se&&se.sendRawJson||!1,(se=se&&se.httpSessionIdParam)&&!N(se)&&(this.g.G=se,X=this.h,X!==null&&se in X&&(X=this.h,se in X&&delete X[se])),this.j=new xi(this)}p(xs,pe),xs.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},xs.prototype.close=function(){bu(this.g)},xs.prototype.o=function(X){var se=this.g;if(typeof X=="string"){var ce={};ce.__data__=X,X=ce}else this.v&&(ce={},ce.__data__=Ze(X),X=ce);se.i.push(new Ke(se.Ya++,X)),se.I==3&&Ga(se)},xs.prototype.N=function(){this.g.l=null,delete this.j,bu(this.g),delete this.g,xs.Z.N.call(this)};function Rh(X){Oe.call(this),X.__headers__&&(this.headers=X.__headers__,this.statusCode=X.__status__,delete X.__headers__,delete X.__status__);var se=X.__sm__;if(se){e:{for(const ce in se){X=ce;break e}X=void 0}(this.i=X)&&(X=this.i,se=se!==null&&X in se?se[X]:void 0),this.data=se}else this.data=X}p(Rh,Oe);function Mh(){ct.call(this),this.status=1}p(Mh,ct);function xi(X){this.g=X}p(xi,Nh),xi.prototype.ra=function(){ke(this.g,"a")},xi.prototype.qa=function(X){ke(this.g,new Rh(X))},xi.prototype.pa=function(X){ke(this.g,new Mh)},xi.prototype.oa=function(){ke(this.g,"b")},Ji.prototype.createWebChannel=Ji.prototype.g,xs.prototype.send=xs.prototype.o,xs.prototype.open=xs.prototype.m,xs.prototype.close=xs.prototype.close,K3=function(){return new Ji},Y3=function(){return je()},X3=Be,a1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Dt.NO_ERROR=0,Dt.TIMEOUT=8,Dt.HTTP_ERROR=6,s0=Dt,Nt.COMPLETE="complete",W3=Nt,Ue.EventType=Ee,Ee.OPEN="a",Ee.CLOSE="b",Ee.ERROR="c",Ee.MESSAGE="d",pe.prototype.listen=pe.prototype.J,of=Ue,Lr.prototype.listenOnce=Lr.prototype.K,Lr.prototype.getLastError=Lr.prototype.Ha,Lr.prototype.getLastErrorCode=Lr.prototype.ya,Lr.prototype.getStatus=Lr.prototype.ca,Lr.prototype.getResponseJson=Lr.prototype.La,Lr.prototype.getResponseText=Lr.prototype.la,Lr.prototype.send=Lr.prototype.ea,Lr.prototype.setWithCredentials=Lr.prototype.Fa,G3=Lr}).apply(typeof Fd<"u"?Fd:typeof self<"u"?self:typeof window<"u"?window:{});const Ew="@firebase/firestore",Aw="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}is.UNAUTHENTICATED=new is(null),is.GOOGLE_CREDENTIALS=new is("google-credentials-uid"),is.FIRST_PARTY=new is("first-party-uid"),is.MOCK_USER=new is("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ou="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=new z1("@firebase/firestore");function Rc(){return Fl.logLevel}function Lt(r,...t){if(Fl.logLevel<=_r.DEBUG){const e=t.map(tb);Fl.debug(`Firestore (${ou}): ${r}`,...e)}}function Hi(r,...t){if(Fl.logLevel<=_r.ERROR){const e=t.map(tb);Fl.error(`Firestore (${ou}): ${r}`,...e)}}function Xc(r,...t){if(Fl.logLevel<=_r.WARN){const e=t.map(tb);Fl.warn(`Firestore (${ou}): ${r}`,...e)}}function tb(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(r,t,e){let n="Unexpected state";typeof t=="string"?n=t:e=t,Q3(r,n,e)}function Q3(r,t,e){let n=`FIRESTORE (${ou}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(e!==void 0)try{n+=" CONTEXT: "+JSON.stringify(e)}catch{n+=" CONTEXT: "+e}throw Hi(n),new Error(n)}function Or(r,t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,r||Q3(t,s,n)}function ar(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ft extends Wi{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class WC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(is.UNAUTHENTICATED)))}shutdown(){}}class XC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class YC{constructor(t){this.t=t,this.currentUser=is.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Or(this.o===void 0,42304);let n=this.i;const s=c=>this.i!==n?(n=this.i,e(c)):Promise.resolve();let i=new Li;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Li,t.enqueueRetryable((()=>s(this.currentUser)))};const a=()=>{const c=i;t.enqueueRetryable((async()=>{await c.promise,await s(this.currentUser)}))},l=c=>{Lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((c=>l(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Li)}}),0),a()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((n=>this.i!==t?(Lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Or(typeof n.accessToken=="string",31837,{l:n}),new Z3(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Or(t===null||typeof t=="string",2055,{h:t}),new is(t)}}class KC{constructor(t,e,n){this.P=t,this.T=e,this.I=n,this.type="FirstParty",this.user=is.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class QC{constructor(t,e,n){this.P=t,this.T=e,this.I=n}getToken(){return Promise.resolve(new KC(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(is.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Cw{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZC{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ma(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Or(this.o===void 0,3512);const n=i=>{i.error!=null&&Lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,Lt("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?e(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable((()=>n(i)))};const s=i=>{Lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Cw(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Or(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new Cw(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let n=0;n<r;n++)e[n]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const s=JC(40);for(let i=0;i<s.length;++i)n.length<20&&s[i]<e&&(n+=t.charAt(s[i]%62))}return n}}function Sr(r,t){return r<t?-1:r>t?1:0}function i1(r,t){const e=Math.min(r.length,t.length);for(let n=0;n<e;n++){const s=r.charAt(n),i=t.charAt(n);if(s!==i)return Ng(s)===Ng(i)?Sr(s,i):Ng(s)?1:-1}return Sr(r.length,t.length)}const eN=55296,tN=57343;function Ng(r){const t=r.charCodeAt(0);return t>=eN&&t<=tN}function Yc(r,t,e){return r.length===t.length&&r.every(((n,s)=>e(n,t[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="__name__";class ti{constructor(t,e,n){e===void 0?e=0:e>t.length&&Kt(637,{offset:e,range:t.length}),n===void 0?n=t.length-e:n>t.length-e&&Kt(1746,{length:n,range:t.length-e}),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return ti.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof ti?t.forEach((n=>{e.push(n)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const i=ti.compareSegments(t.get(s),e.get(s));if(i!==0)return i}return Sr(t.length,e.length)}static compareSegments(t,e){const n=ti.isNumericId(t),s=ti.isNumericId(e);return n&&!s?-1:!n&&s?1:n&&s?ti.extractNumericId(t).compare(ti.extractNumericId(e)):i1(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Lo.fromString(t.substring(4,t.length-2))}}class Gr extends ti{construct(t,e,n){return new Gr(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const n of t){if(n.indexOf("//")>=0)throw new Ft(vt.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter((s=>s.length>0)))}return new Gr(e)}static emptyPath(){return new Gr([])}}const rN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zn extends ti{construct(t,e,n){return new Zn(t,e,n)}static isValidIdentifier(t){return rN.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Nw}static keyField(){return new Zn([Nw])}static fromServerFormat(t){const e=[];let n="",s=0;const i=()=>{if(n.length===0)throw new Ft(vt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""};let a=!1;for(;s<t.length;){const l=t[s];if(l==="\\"){if(s+1===t.length)throw new Ft(vt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const c=t[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Ft(vt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=c,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(n+=l,s++):(i(),s++)}if(i(),a)throw new Ft(vt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Zn(e)}static emptyPath(){return new Zn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(t){this.path=t}static fromPath(t){return new $t(Gr.fromString(t))}static fromName(t){return new $t(Gr.fromString(t).popFirst(5))}static empty(){return new $t(Gr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Gr.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Gr.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new $t(new Gr(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J3(r,t,e){if(!e)throw new Ft(vt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function nN(r,t,e,n){if(t===!0&&n===!0)throw new Ft(vt.INVALID_ARGUMENT,`${r} and ${e} cannot be used together.`)}function Rw(r){if(!$t.isDocumentKey(r))throw new Ft(vt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Mw(r){if($t.isDocumentKey(r))throw new Ft(vt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function e5(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Z0(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(n){return n.constructor?n.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Kt(12329,{type:typeof r})}function Ps(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new Ft(vt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Z0(r);throw new Ft(vt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return r}function sN(r,t){if(t<=0)throw new Ft(vt.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(r,t){const e={typeString:r};return t&&(e.value=t),e}function ih(r,t){if(!e5(r))throw new Ft(vt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const n in t)if(t[n]){const s=t[n].typeString,i="value"in t[n]?{value:t[n].value}:void 0;if(!(n in r)){e=`JSON missing required field: '${n}'`;break}const a=r[n];if(s&&typeof a!==s){e=`JSON field '${n}' must be a ${s}.`;break}if(i!==void 0&&a!==i.value){e=`Expected '${n}' field to equal '${i.value}'`;break}}if(e)throw new Ft(vt.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw=-62135596800,Iw=1e6;class Kr{static now(){return Kr.fromMillis(Date.now())}static fromDate(t){return Kr.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor((t-1e3*e)*Iw);return new Kr(e,n)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ft(vt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ft(vt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<jw)throw new Ft(vt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ft(vt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Iw}_compareTo(t){return this.seconds===t.seconds?Sr(this.nanoseconds,t.nanoseconds):Sr(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Kr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ih(t,Kr._jsonSchema))return new Kr(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-jw;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Kr._jsonSchemaVersion="firestore/timestamp/1.0",Kr._jsonSchema={type:Nn("string",Kr._jsonSchemaVersion),seconds:Nn("number"),nanoseconds:Nn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{static fromTimestamp(t){return new tr(t)}static min(){return new tr(new Kr(0,0))}static max(){return new tr(new Kr(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff=-1;function aN(r,t){const e=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,s=tr.fromTimestamp(n===1e9?new Kr(e+1,0):new Kr(e,n));return new zo(s,$t.empty(),t)}function iN(r){return new zo(r.readTime,r.key,Ff)}class zo{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new zo(tr.min(),$t.empty(),Ff)}static max(){return new zo(tr.max(),$t.empty(),Ff)}}function oN(r,t){let e=r.readTime.compareTo(t.readTime);return e!==0?e:(e=$t.comparator(r.documentKey,t.documentKey),e!==0?e:Sr(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lu(r){if(r.code!==vt.FAILED_PRECONDITION||r.message!==lN)throw r;Lt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Kt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Tt(((n,s)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(n,s)},this.catchCallback=i=>{this.wrapFailure(e,i).next(n,s)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof Tt?e:Tt.resolve(e)}catch(e){return Tt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):Tt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):Tt.reject(e)}static resolve(t){return new Tt(((e,n)=>{e(t)}))}static reject(t){return new Tt(((e,n)=>{n(t)}))}static waitFor(t){return new Tt(((e,n)=>{let s=0,i=0,a=!1;t.forEach((l=>{++s,l.next((()=>{++i,a&&i===s&&e()}),(c=>n(c)))})),a=!0,i===s&&e()}))}static or(t){let e=Tt.resolve(!1);for(const n of t)e=e.next((s=>s?Tt.resolve(s):n()));return e}static forEach(t,e){const n=[];return t.forEach(((s,i)=>{n.push(e.call(this,s,i))})),this.waitFor(n)}static mapArray(t,e){return new Tt(((n,s)=>{const i=t.length,a=new Array(i);let l=0;for(let c=0;c<i;c++){const o=c;e(t[o]).next((u=>{a[o]=u,++l,l===i&&n(a)}),(u=>s(u)))}}))}static doWhile(t,e){return new Tt(((n,s)=>{const i=()=>{t()===!0?e().next((()=>{i()}),s):n()};i()}))}}function uN(r){const t=r.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function cu(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>e.writeSequenceNumber(n))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}J0.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb=-1;function ep(r){return r==null}function _0(r){return r===0&&1/r==-1/0}function fN(r){return typeof r=="number"&&Number.isInteger(r)&&!_0(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t5="";function hN(r){let t="";for(let e=0;e<r.length;e++)t.length>0&&(t=Dw(t)),t=dN(r.get(e),t);return Dw(t)}function dN(r,t){let e=t;const n=r.length;for(let s=0;s<n;s++){const i=r.charAt(s);switch(i){case"\0":e+="";break;case t5:e+="";break;default:e+=i}}return e}function Dw(r){return r+t5+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(r){let t=0;for(const e in r)Object.prototype.hasOwnProperty.call(r,e)&&t++;return t}function Ko(r,t){for(const e in r)Object.prototype.hasOwnProperty.call(r,e)&&t(e,r[e])}function r5(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(t,e){this.comparator=t,this.root=e||Kn.EMPTY}insert(t,e){return new tn(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Kn.BLACK,null,null))}remove(t){return new tn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Kn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(n===0)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return e+n.left.size;s<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,n)=>(t(e,n),!1)))}toString(){const t=[];return this.inorderTraversal(((e,n)=>(t.push(`${e}:${n}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Pd(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Pd(this.root,t,this.comparator,!1)}getReverseIterator(){return new Pd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Pd(this.root,t,this.comparator,!0)}}class Pd{constructor(t,e,n,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=e?n(t.key,e):1,e&&s&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Kn{constructor(t,e,n,s,i){this.key=t,this.value=e,this.color=n??Kn.RED,this.left=s??Kn.EMPTY,this.right=i??Kn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,s,i){return new Kn(t??this.key,e??this.value,n??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let s=this;const i=n(t,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(t,e,n),null):i===0?s.copy(null,e,null,null,null):s.copy(null,null,null,null,s.right.insert(t,e,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Kn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,s=this;if(e(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,e),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),e(t,s.key)===0){if(s.right.isEmpty())return Kn.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,e))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Kn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Kn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Kt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Kt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Kt(27949);return t+(this.isRed()?0:1)}}Kn.EMPTY=null,Kn.RED=!0,Kn.BLACK=!1;Kn.EMPTY=new class{constructor(){this.size=0}get key(){throw Kt(57766)}get value(){throw Kt(16141)}get color(){throw Kt(16727)}get left(){throw Kt(29726)}get right(){throw Kt(36894)}copy(t,e,n,s,i){return this}insert(t,e,n){return new Kn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(t){this.comparator=t,this.data=new tn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,n)=>(t(e),!1)))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,t[1])>=0)return;e(s.key)}}forEachWhile(t,e){let n;for(n=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Fw(this.data.getIterator())}getIteratorFrom(t){return new Fw(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((n=>{e=e.add(n)})),e}isEqual(t){if(!(t instanceof On)||this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const s=e.getNext().key,i=n.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new On(this.comparator);return e.data=t,e}}class Fw{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(t){this.fields=t,t.sort(Zn.comparator)}static empty(){return new Qs([])}unionWith(t){let e=new On(Zn.comparator);for(const n of this.fields)e=e.add(n);for(const n of t)e=e.add(n);return new Qs(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Yc(this.fields,t.fields,((e,n)=>e.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new n5("Invalid base64 string: "+i):i}})(t);return new ts(e)}static fromUint8Array(t){const e=(function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i})(t);return new ts(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Sr(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ts.EMPTY_BYTE_STRING=new ts("");const pN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ho(r){if(Or(!!r,39018),typeof r=="string"){let t=0;const e=pN.exec(r);if(Or(!!e,46558,{timestamp:r}),e[1]){let s=e[1];s=(s+"000000000").substr(0,9),t=Number(s)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:xn(r.seconds),nanos:xn(r.nanos)}}function xn(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function $o(r){return typeof r=="string"?ts.fromBase64String(r):ts.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5="server_timestamp",a5="__type__",i5="__previous_value__",o5="__local_write_time__";function sb(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)==null?void 0:e.fields)||{})[a5])==null?void 0:n.stringValue)===s5}function tp(r){const t=r.mapValue.fields[i5];return sb(t)?tp(t):t}function Pf(r){const t=Ho(r.mapValue.fields[o5].timestampValue);return new Kr(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(t,e,n,s,i,a,l,c,o,u){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=o,this.isUsingEmulator=u}}const S0="(default)";class Lf{constructor(t,e){this.projectId=t,this.database=e||S0}static empty(){return new Lf("","")}get isDefaultDatabase(){return this.database===S0}isEqual(t){return t instanceof Lf&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l5="__type__",gN="__max__",Ld={mapValue:{}},c5="__vector__",T0="value";function qo(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?sb(r)?4:xN(r)?9007199254740991:bN(r)?10:11:Kt(28295,{value:r})}function fi(r,t){if(r===t)return!0;const e=qo(r);if(e!==qo(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Pf(r).isEqual(Pf(t));case 3:return(function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=Ho(s.timestampValue),l=Ho(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(s,i){return $o(s.bytesValue).isEqual($o(i.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(s,i){return xn(s.geoPointValue.latitude)===xn(i.geoPointValue.latitude)&&xn(s.geoPointValue.longitude)===xn(i.geoPointValue.longitude)})(r,t);case 2:return(function(s,i){if("integerValue"in s&&"integerValue"in i)return xn(s.integerValue)===xn(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=xn(s.doubleValue),l=xn(i.doubleValue);return a===l?_0(a)===_0(l):isNaN(a)&&isNaN(l)}return!1})(r,t);case 9:return Yc(r.arrayValue.values||[],t.arrayValue.values||[],fi);case 10:case 11:return(function(s,i){const a=s.mapValue.fields||{},l=i.mapValue.fields||{};if(Ow(a)!==Ow(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!fi(a[c],l[c])))return!1;return!0})(r,t);default:return Kt(52216,{left:r})}}function Bf(r,t){return(r.values||[]).find((e=>fi(e,t)))!==void 0}function Kc(r,t){if(r===t)return 0;const e=qo(r),n=qo(t);if(e!==n)return Sr(e,n);switch(e){case 0:case 9007199254740991:return 0;case 1:return Sr(r.booleanValue,t.booleanValue);case 2:return(function(i,a){const l=xn(i.integerValue||i.doubleValue),c=xn(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1})(r,t);case 3:return Pw(r.timestampValue,t.timestampValue);case 4:return Pw(Pf(r),Pf(t));case 5:return i1(r.stringValue,t.stringValue);case 6:return(function(i,a){const l=$o(i),c=$o(a);return l.compareTo(c)})(r.bytesValue,t.bytesValue);case 7:return(function(i,a){const l=i.split("/"),c=a.split("/");for(let o=0;o<l.length&&o<c.length;o++){const u=Sr(l[o],c[o]);if(u!==0)return u}return Sr(l.length,c.length)})(r.referenceValue,t.referenceValue);case 8:return(function(i,a){const l=Sr(xn(i.latitude),xn(a.latitude));return l!==0?l:Sr(xn(i.longitude),xn(a.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Lw(r.arrayValue,t.arrayValue);case 10:return(function(i,a){var h,d,x,b;const l=i.fields||{},c=a.fields||{},o=(h=l[T0])==null?void 0:h.arrayValue,u=(d=c[T0])==null?void 0:d.arrayValue,p=Sr(((x=o==null?void 0:o.values)==null?void 0:x.length)||0,((b=u==null?void 0:u.values)==null?void 0:b.length)||0);return p!==0?p:Lw(o,u)})(r.mapValue,t.mapValue);case 11:return(function(i,a){if(i===Ld.mapValue&&a===Ld.mapValue)return 0;if(i===Ld.mapValue)return 1;if(a===Ld.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),o=a.fields||{},u=Object.keys(o);c.sort(),u.sort();for(let p=0;p<c.length&&p<u.length;++p){const h=i1(c[p],u[p]);if(h!==0)return h;const d=Kc(l[c[p]],o[u[p]]);if(d!==0)return d}return Sr(c.length,u.length)})(r.mapValue,t.mapValue);default:throw Kt(23264,{he:e})}}function Pw(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Sr(r,t);const e=Ho(r),n=Ho(t),s=Sr(e.seconds,n.seconds);return s!==0?s:Sr(e.nanos,n.nanos)}function Lw(r,t){const e=r.values||[],n=t.values||[];for(let s=0;s<e.length&&s<n.length;++s){const i=Kc(e[s],n[s]);if(i)return i}return Sr(e.length,n.length)}function Qc(r){return o1(r)}function o1(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(e){const n=Ho(e);return`time(${n.seconds},${n.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(e){return $o(e).toBase64()})(r.bytesValue):"referenceValue"in r?(function(e){return $t.fromName(e).toString()})(r.referenceValue):"geoPointValue"in r?(function(e){return`geo(${e.latitude},${e.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(e){let n="[",s=!0;for(const i of e.values||[])s?s=!1:n+=",",n+=o1(i);return n+"]"})(r.arrayValue):"mapValue"in r?(function(e){const n=Object.keys(e.fields||{}).sort();let s="{",i=!0;for(const a of n)i?i=!1:s+=",",s+=`${a}:${o1(e.fields[a])}`;return s+"}"})(r.mapValue):Kt(61005,{value:r})}function a0(r){switch(qo(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=tp(r);return t?16+a0(t):16;case 5:return 2*r.stringValue.length;case 6:return $o(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((s,i)=>s+a0(i)),0)})(r.arrayValue);case 10:case 11:return(function(n){let s=0;return Ko(n.fields,((i,a)=>{s+=i.length+a0(a)})),s})(r.mapValue);default:throw Kt(13486,{value:r})}}function Bw(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function l1(r){return!!r&&"integerValue"in r}function ab(r){return!!r&&"arrayValue"in r}function Uw(r){return!!r&&"nullValue"in r}function Vw(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function i0(r){return!!r&&"mapValue"in r}function bN(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)==null?void 0:e.fields)||{})[l5])==null?void 0:n.stringValue)===c5}function bf(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Ko(r.mapValue.fields,((e,n)=>t.mapValue.fields[e]=bf(n))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(r.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=bf(r.arrayValue.values[e]);return t}return{...r}}function xN(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===gN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(t){this.value=t}static empty(){return new Os({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!i0(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=bf(e)}setAll(t){let e=Zn.emptyPath(),n={},s=[];t.forEach(((a,l)=>{if(!e.isImmediateParentOf(l)){const c=this.getFieldsMap(e);this.applyChanges(c,n,s),n={},s=[],e=l.popLast()}a?n[l.lastSegment()]=bf(a):s.push(l.lastSegment())}));const i=this.getFieldsMap(e);this.applyChanges(i,n,s)}delete(t){const e=this.field(t.popLast());i0(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return fi(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let s=e.mapValue.fields[t.get(n)];i0(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=s),e=s}return e.mapValue.fields}applyChanges(t,e,n){Ko(e,((s,i)=>t[s]=i));for(const s of n)delete t[s]}clone(){return new Os(bf(this.value))}}function u5(r){const t=[];return Ko(r.fields,((e,n)=>{const s=new Zn([e]);if(i0(n)){const i=u5(n.mapValue).fields;if(i.length===0)t.push(s);else for(const a of i)t.push(s.child(a))}else t.push(s)})),new Qs(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(t,e,n,s,i,a,l){this.key=t,this.documentType=e,this.version=n,this.readTime=s,this.createTime=i,this.data=a,this.documentState=l}static newInvalidDocument(t){return new ls(t,0,tr.min(),tr.min(),tr.min(),Os.empty(),0)}static newFoundDocument(t,e,n,s){return new ls(t,1,e,tr.min(),n,s,0)}static newNoDocument(t,e){return new ls(t,2,e,tr.min(),tr.min(),Os.empty(),0)}static newUnknownDocument(t,e){return new ls(t,3,e,tr.min(),tr.min(),Os.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(tr.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Os.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Os.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=tr.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ls&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ls(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(t,e){this.position=t,this.inclusive=e}}function zw(r,t,e){let n=0;for(let s=0;s<r.position.length;s++){const i=t[s],a=r.position[s];if(i.field.isKeyField()?n=$t.comparator($t.fromName(a.referenceValue),e.key):n=Kc(a,e.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function Hw(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let e=0;e<r.position.length;e++)if(!fi(r.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(t,e="asc"){this.field=t,this.dir=e}}function yN(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{}class Cn extends f5{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,n):new wN(t,e,n):e==="array-contains"?new TN(t,n):e==="in"?new kN(t,n):e==="not-in"?new EN(t,n):e==="array-contains-any"?new AN(t,n):new Cn(t,e,n)}static createKeyFieldInFilter(t,e,n){return e==="in"?new _N(t,n):new SN(t,n)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Kc(e,this.value)):e!==null&&qo(this.value)===qo(e)&&this.matchesComparison(Kc(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Kt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ua extends f5{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Ua(t,e)}matches(t){return h5(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function h5(r){return r.op==="and"}function d5(r){return vN(r)&&h5(r)}function vN(r){for(const t of r.filters)if(t instanceof Ua)return!1;return!0}function c1(r){if(r instanceof Cn)return r.field.canonicalString()+r.op.toString()+Qc(r.value);if(d5(r))return r.filters.map((t=>c1(t))).join(",");{const t=r.filters.map((e=>c1(e))).join(",");return`${r.op}(${t})`}}function p5(r,t){return r instanceof Cn?(function(n,s){return s instanceof Cn&&n.op===s.op&&n.field.isEqual(s.field)&&fi(n.value,s.value)})(r,t):r instanceof Ua?(function(n,s){return s instanceof Ua&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce(((i,a,l)=>i&&p5(a,s.filters[l])),!0):!1})(r,t):void Kt(19439)}function m5(r){return r instanceof Cn?(function(e){return`${e.field.canonicalString()} ${e.op} ${Qc(e.value)}`})(r):r instanceof Ua?(function(e){return e.op.toString()+" {"+e.getFilters().map(m5).join(" ,")+"}"})(r):"Filter"}class wN extends Cn{constructor(t,e,n){super(t,e,n),this.key=$t.fromName(n.referenceValue)}matches(t){const e=$t.comparator(t.key,this.key);return this.matchesComparison(e)}}class _N extends Cn{constructor(t,e){super(t,"in",e),this.keys=g5("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class SN extends Cn{constructor(t,e){super(t,"not-in",e),this.keys=g5("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function g5(r,t){var e;return(((e=t.arrayValue)==null?void 0:e.values)||[]).map((n=>$t.fromName(n.referenceValue)))}class TN extends Cn{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return ab(e)&&Bf(e.arrayValue,this.value)}}class kN extends Cn{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Bf(this.value.arrayValue,e)}}class EN extends Cn{constructor(t,e){super(t,"not-in",e)}matches(t){if(Bf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Bf(this.value.arrayValue,e)}}class AN extends Cn{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!ab(e)||!e.arrayValue.values)&&e.arrayValue.values.some((n=>Bf(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(t,e=null,n=[],s=[],i=null,a=null,l=null){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=s,this.limit=i,this.startAt=a,this.endAt=l,this.Te=null}}function $w(r,t=null,e=[],n=[],s=null,i=null,a=null){return new CN(r,t,e,n,s,i,a)}function ib(r){const t=ar(r);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((n=>c1(n))).join(","),e+="|ob:",e+=t.orderBy.map((n=>(function(i){return i.field.canonicalString()+i.dir})(n))).join(","),ep(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((n=>Qc(n))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((n=>Qc(n))).join(",")),t.Te=e}return t.Te}function ob(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<r.orderBy.length;e++)if(!yN(r.orderBy[e],t.orderBy[e]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let e=0;e<r.filters.length;e++)if(!p5(r.filters[e],t.filters[e]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Hw(r.startAt,t.startAt)&&Hw(r.endAt,t.endAt)}function u1(r){return $t.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(t,e=null,n=[],s=[],i=null,a="F",l=null,c=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=s,this.limit=i,this.limitType=a,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function NN(r,t,e,n,s,i,a,l){return new uu(r,t,e,n,s,i,a,l)}function rp(r){return new uu(r)}function qw(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function b5(r){return r.collectionGroup!==null}function xf(r){const t=ar(r);if(t.Ie===null){t.Ie=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new On(Zn.comparator);return a.filters.forEach((c=>{c.getFlattenedFilters().forEach((o=>{o.isInequality()&&(l=l.add(o.field))}))})),l})(t).forEach((i=>{e.has(i.canonicalString())||i.isKeyField()||t.Ie.push(new Uf(i,n))})),e.has(Zn.keyField().canonicalString())||t.Ie.push(new Uf(Zn.keyField(),n))}return t.Ie}function si(r){const t=ar(r);return t.Ee||(t.Ee=RN(t,xf(r))),t.Ee}function RN(r,t){if(r.limitType==="F")return $w(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new Uf(s.field,i)}));const e=r.endAt?new k0(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new k0(r.startAt.position,r.startAt.inclusive):null;return $w(r.path,r.collectionGroup,t,r.filters,r.limit,e,n)}}function f1(r,t){const e=r.filters.concat([t]);return new uu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),e,r.limit,r.limitType,r.startAt,r.endAt)}function E0(r,t,e){return new uu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,e,r.startAt,r.endAt)}function np(r,t){return ob(si(r),si(t))&&r.limitType===t.limitType}function x5(r){return`${ib(si(r))}|lt:${r.limitType}`}function Mc(r){return`Query(target=${(function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map((s=>m5(s))).join(", ")}]`),ep(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map((s=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(s))).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Qc(s))).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Qc(s))).join(",")),`Target(${n})`})(si(r))}; limitType=${r.limitType})`}function sp(r,t){return t.isFoundDocument()&&(function(n,s){const i=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):$t.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)})(r,t)&&(function(n,s){for(const i of xf(n))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0})(r,t)&&(function(n,s){for(const i of n.filters)if(!i.matches(s))return!1;return!0})(r,t)&&(function(n,s){return!(n.startAt&&!(function(a,l,c){const o=zw(a,l,c);return a.inclusive?o<=0:o<0})(n.startAt,xf(n),s)||n.endAt&&!(function(a,l,c){const o=zw(a,l,c);return a.inclusive?o>=0:o>0})(n.endAt,xf(n),s))})(r,t)}function MN(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function y5(r){return(t,e)=>{let n=!1;for(const s of xf(r)){const i=jN(s,t,e);if(i!==0)return i;n=n||s.field.isKeyField()}return 0}}function jN(r,t,e){const n=r.field.isKeyField()?$t.comparator(t.key,e.key):(function(i,a,l){const c=a.data.field(i),o=l.data.field(i);return c!==null&&o!==null?Kc(c,o):Kt(42886)})(r.field,t,e);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return Kt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(n!==void 0){for(const[s,i]of n)if(this.equalsFn(s,t))return i}}has(t){return this.get(t)!==void 0}set(t,e){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return this.inner[n]=[[t,e]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],t))return void(s[i]=[t,e]);s.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(n===void 0)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],t))return n.length===1?delete this.inner[e]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(t){Ko(this.inner,((e,n)=>{for(const[s,i]of n)t(s,i)}))}isEmpty(){return r5(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=new tn($t.comparator);function $i(){return IN}const v5=new tn($t.comparator);function lf(...r){let t=v5;for(const e of r)t=t.insert(e.key,e);return t}function w5(r){let t=v5;return r.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Tl(){return yf()}function _5(){return yf()}function yf(){return new Vl((r=>r.toString()),((r,t)=>r.isEqual(t)))}const DN=new tn($t.comparator),ON=new On($t.comparator);function Tr(...r){let t=ON;for(const e of r)t=t.add(e);return t}const FN=new On(Sr);function PN(){return FN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_0(t)?"-0":t}}function S5(r){return{integerValue:""+r}}function LN(r,t){return fN(t)?S5(t):lb(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(){this._=void 0}}function BN(r,t,e){return r instanceof Vf?(function(s,i){const a={fields:{[a5]:{stringValue:s5},[o5]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&sb(i)&&(i=tp(i)),i&&(a.fields[i5]=i),{mapValue:a}})(e,t):r instanceof zf?k5(r,t):r instanceof Hf?E5(r,t):(function(s,i){const a=T5(s,i),l=Gw(a)+Gw(s.Ae);return l1(a)&&l1(s.Ae)?S5(l):lb(s.serializer,l)})(r,t)}function UN(r,t,e){return r instanceof zf?k5(r,t):r instanceof Hf?E5(r,t):e}function T5(r,t){return r instanceof A0?(function(n){return l1(n)||(function(i){return!!i&&"doubleValue"in i})(n)})(t)?t:{integerValue:0}:null}class Vf extends ap{}class zf extends ap{constructor(t){super(),this.elements=t}}function k5(r,t){const e=A5(t);for(const n of r.elements)e.some((s=>fi(s,n)))||e.push(n);return{arrayValue:{values:e}}}class Hf extends ap{constructor(t){super(),this.elements=t}}function E5(r,t){let e=A5(t);for(const n of r.elements)e=e.filter((s=>!fi(s,n)));return{arrayValue:{values:e}}}class A0 extends ap{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function Gw(r){return xn(r.integerValue||r.doubleValue)}function A5(r){return ab(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(t,e){this.field=t,this.transform=e}}function zN(r,t){return r.field.isEqual(t.field)&&(function(n,s){return n instanceof zf&&s instanceof zf||n instanceof Hf&&s instanceof Hf?Yc(n.elements,s.elements,fi):n instanceof A0&&s instanceof A0?fi(n.Ae,s.Ae):n instanceof Vf&&s instanceof Vf})(r.transform,t.transform)}class HN{constructor(t,e){this.version=t,this.transformResults=e}}class Ls{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Ls}static exists(t){return new Ls(void 0,t)}static updateTime(t){return new Ls(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function o0(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class ip{}function C5(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new op(r.key,Ls.none()):new oh(r.key,r.data,Ls.none());{const e=r.data,n=Os.empty();let s=new On(Zn.comparator);for(let i of t.fields)if(!s.has(i)){let a=e.field(i);a===null&&i.length>1&&(i=i.popLast(),a=e.field(i)),a===null?n.delete(i):n.set(i,a),s=s.add(i)}return new Qo(r.key,n,new Qs(s.toArray()),Ls.none())}}function $N(r,t,e){r instanceof oh?(function(s,i,a){const l=s.value.clone(),c=Xw(s.fieldTransforms,i,a.transformResults);l.setAll(c),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()})(r,t,e):r instanceof Qo?(function(s,i,a){if(!o0(s.precondition,i))return void i.convertToUnknownDocument(a.version);const l=Xw(s.fieldTransforms,i,a.transformResults),c=i.data;c.setAll(N5(s)),c.setAll(l),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()})(r,t,e):(function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()})(0,t,e)}function vf(r,t,e,n){return r instanceof oh?(function(i,a,l,c){if(!o0(i.precondition,a))return l;const o=i.value.clone(),u=Yw(i.fieldTransforms,c,a);return o.setAll(u),a.convertToFoundDocument(a.version,o).setHasLocalMutations(),null})(r,t,e,n):r instanceof Qo?(function(i,a,l,c){if(!o0(i.precondition,a))return l;const o=Yw(i.fieldTransforms,c,a),u=a.data;return u.setAll(N5(i)),u.setAll(o),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((p=>p.field)))})(r,t,e,n):(function(i,a,l){return o0(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l})(r,t,e)}function qN(r,t){let e=null;for(const n of r.fieldTransforms){const s=t.data.field(n.field),i=T5(n.transform,s||null);i!=null&&(e===null&&(e=Os.empty()),e.set(n.field,i))}return e||null}function Ww(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&Yc(n,s,((i,a)=>zN(i,a)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class oh extends ip{constructor(t,e,n,s=[]){super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Qo extends ip{constructor(t,e,n,s,i=[]){super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function N5(r){const t=new Map;return r.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const n=r.data.field(e);t.set(e,n)}})),t}function Xw(r,t,e){const n=new Map;Or(r.length===e.length,32656,{Re:e.length,Ve:r.length});for(let s=0;s<e.length;s++){const i=r[s],a=i.transform,l=t.data.field(i.field);n.set(i.field,UN(a,l,e[s]))}return n}function Yw(r,t,e){const n=new Map;for(const s of r){const i=s.transform,a=e.data.field(s.field);n.set(s.field,BN(i,a,t))}return n}class op extends ip{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GN extends ip{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(t,e,n,s){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(t.key)&&$N(i,t,n[s])}}applyToLocalView(t,e){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(e=vf(n,t,e,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(e=vf(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const n=_5();return this.mutations.forEach((s=>{const i=t.get(s.key),a=i.overlayedDocument;let l=this.applyToLocalView(a,i.mutatedFields);l=e.has(s.key)?null:l;const c=C5(a,l);c!==null&&n.set(s.key,c),a.isValidDocument()||a.convertToNoDocument(tr.min())})),n}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Tr())}isEqual(t){return this.batchId===t.batchId&&Yc(this.mutations,t.mutations,((e,n)=>Ww(e,n)))&&Yc(this.baseMutations,t.baseMutations,((e,n)=>Ww(e,n)))}}class cb{constructor(t,e,n,s){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=s}static from(t,e,n){Or(t.mutations.length===n.length,58842,{me:t.mutations.length,fe:n.length});let s=(function(){return DN})();const i=t.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,n[a].version);return new cb(t,e,n,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tn,Ar;function KN(r){switch(r){case vt.OK:return Kt(64938);case vt.CANCELLED:case vt.UNKNOWN:case vt.DEADLINE_EXCEEDED:case vt.RESOURCE_EXHAUSTED:case vt.INTERNAL:case vt.UNAVAILABLE:case vt.UNAUTHENTICATED:return!1;case vt.INVALID_ARGUMENT:case vt.NOT_FOUND:case vt.ALREADY_EXISTS:case vt.PERMISSION_DENIED:case vt.FAILED_PRECONDITION:case vt.ABORTED:case vt.OUT_OF_RANGE:case vt.UNIMPLEMENTED:case vt.DATA_LOSS:return!0;default:return Kt(15467,{code:r})}}function R5(r){if(r===void 0)return Hi("GRPC error has no .code"),vt.UNKNOWN;switch(r){case Tn.OK:return vt.OK;case Tn.CANCELLED:return vt.CANCELLED;case Tn.UNKNOWN:return vt.UNKNOWN;case Tn.DEADLINE_EXCEEDED:return vt.DEADLINE_EXCEEDED;case Tn.RESOURCE_EXHAUSTED:return vt.RESOURCE_EXHAUSTED;case Tn.INTERNAL:return vt.INTERNAL;case Tn.UNAVAILABLE:return vt.UNAVAILABLE;case Tn.UNAUTHENTICATED:return vt.UNAUTHENTICATED;case Tn.INVALID_ARGUMENT:return vt.INVALID_ARGUMENT;case Tn.NOT_FOUND:return vt.NOT_FOUND;case Tn.ALREADY_EXISTS:return vt.ALREADY_EXISTS;case Tn.PERMISSION_DENIED:return vt.PERMISSION_DENIED;case Tn.FAILED_PRECONDITION:return vt.FAILED_PRECONDITION;case Tn.ABORTED:return vt.ABORTED;case Tn.OUT_OF_RANGE:return vt.OUT_OF_RANGE;case Tn.UNIMPLEMENTED:return vt.UNIMPLEMENTED;case Tn.DATA_LOSS:return vt.DATA_LOSS;default:return Kt(39323,{code:r})}}(Ar=Tn||(Tn={}))[Ar.OK=0]="OK",Ar[Ar.CANCELLED=1]="CANCELLED",Ar[Ar.UNKNOWN=2]="UNKNOWN",Ar[Ar.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ar[Ar.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ar[Ar.NOT_FOUND=5]="NOT_FOUND",Ar[Ar.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ar[Ar.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ar[Ar.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ar[Ar.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ar[Ar.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ar[Ar.ABORTED=10]="ABORTED",Ar[Ar.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ar[Ar.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ar[Ar.INTERNAL=13]="INTERNAL",Ar[Ar.UNAVAILABLE=14]="UNAVAILABLE",Ar[Ar.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=new Lo([4294967295,4294967295],0);function Kw(r){const t=QN().encode(r),e=new q3;return e.update(t),new Uint8Array(e.digest())}function Qw(r){const t=new DataView(r.buffer),e=t.getUint32(0,!0),n=t.getUint32(4,!0),s=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new Lo([e,n],0),new Lo([s,i],0)]}class ub{constructor(t,e,n){if(this.bitmap=t,this.padding=e,this.hashCount=n,e<0||e>=8)throw new cf(`Invalid padding: ${e}`);if(n<0)throw new cf(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new cf(`Invalid hash count: ${n}`);if(t.length===0&&e!==0)throw new cf(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Lo.fromNumber(this.ge)}ye(t,e,n){let s=t.add(e.multiply(Lo.fromNumber(n)));return s.compare(ZN)===1&&(s=new Lo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=Kw(t),[n,s]=Qw(e);for(let i=0;i<this.hashCount;i++){const a=this.ye(n,s,i);if(!this.we(a))return!1}return!0}static create(t,e,n){const s=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),a=new ub(i,s,e);return n.forEach((l=>a.insert(l))),a}insert(t){if(this.ge===0)return;const e=Kw(t),[n,s]=Qw(e);for(let i=0;i<this.hashCount;i++){const a=this.ye(n,s,i);this.Se(a)}}Se(t){const e=Math.floor(t/8),n=t%8;this.bitmap[e]|=1<<n}}class cf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(t,e,n,s,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,e,n){const s=new Map;return s.set(t,lh.createSynthesizedTargetChangeForCurrentChange(t,e,n)),new lp(tr.min(),s,new tn(Sr),$i(),Tr())}}class lh{constructor(t,e,n,s,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,e,n){return new lh(n,e,Tr(),Tr(),Tr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(t,e,n,s){this.be=t,this.removedTargetIds=e,this.key=n,this.De=s}}class M5{constructor(t,e){this.targetId=t,this.Ce=e}}class j5{constructor(t,e,n=ts.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=s}}class Zw{constructor(){this.ve=0,this.Fe=Jw(),this.Me=ts.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Tr(),e=Tr(),n=Tr();return this.Fe.forEach(((s,i)=>{switch(i){case 0:t=t.add(s);break;case 2:e=e.add(s);break;case 1:n=n.add(s);break;default:Kt(38017,{changeType:i})}})),new lh(this.Me,this.xe,t,e,n)}qe(){this.Oe=!1,this.Fe=Jw()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Or(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class JN{constructor(t){this.Ge=t,this.ze=new Map,this.je=$i(),this.Je=Bd(),this.He=Bd(),this.Ye=new tn(Sr)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const n=this.nt(e);switch(t.state){case 0:this.rt(e)&&n.Le(t.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(t.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(n.We(),n.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),n.Le(t.resumeToken));break;default:Kt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((n,s)=>{this.rt(s)&&e(s)}))}st(t){const e=t.targetId,n=t.Ce.count,s=this.ot(e);if(s){const i=s.target;if(u1(i))if(n===0){const a=new $t(i.path);this.et(e,a,ls.newNoDocument(a,tr.min()))}else Or(n===1,20013,{expectedCount:n});else{const a=this._t(e);if(a!==n){const l=this.ut(t),c=l?this.ct(l,t,a):1;if(c!==0){this.it(e);const o=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,o)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:n="",padding:s=0},hashCount:i=0}=e;let a,l;try{a=$o(n).toUint8Array()}catch(c){if(c instanceof n5)return Xc("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new ub(a,s,i)}catch(c){return Xc(c instanceof cf?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(t,e,n){return e.Ce.count===n-this.Pt(t,e.targetId)?0:2}Pt(t,e){const n=this.Ge.getRemoteKeysForTarget(e);let s=0;return n.forEach((i=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;t.mightContain(l)||(this.et(e,i,null),s++)})),s}Tt(t){const e=new Map;this.ze.forEach(((i,a)=>{const l=this.ot(a);if(l){if(i.current&&u1(l.target)){const c=new $t(l.target.path);this.It(c).has(a)||this.Et(a,c)||this.et(a,c,ls.newNoDocument(c,t))}i.Be&&(e.set(a,i.ke()),i.qe())}}));let n=Tr();this.He.forEach(((i,a)=>{let l=!0;a.forEachWhile((c=>{const o=this.ot(c);return!o||o.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(n=n.add(i))})),this.je.forEach(((i,a)=>a.setReadTime(t)));const s=new lp(t,e,this.Ye,this.je,n);return this.je=$i(),this.Je=Bd(),this.He=Bd(),this.Ye=new tn(Sr),s}Xe(t,e){if(!this.rt(t))return;const n=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,n),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,n){if(!this.rt(t))return;const s=this.nt(t);this.Et(t,e)?s.Qe(e,1):s.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),n&&(this.je=this.je.insert(e,n))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new Zw,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new On(Sr),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new On(Sr),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||Lt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Zw),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Bd(){return new tn($t.comparator)}function Jw(){return new tn($t.comparator)}const eR={asc:"ASCENDING",desc:"DESCENDING"},tR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rR={and:"AND",or:"OR"};class nR{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function h1(r,t){return r.useProto3Json||ep(t)?t:{value:t}}function C0(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function I5(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function sR(r,t){return C0(r,t.toTimestamp())}function ai(r){return Or(!!r,49232),tr.fromTimestamp((function(e){const n=Ho(e);return new Kr(n.seconds,n.nanos)})(r))}function fb(r,t){return d1(r,t).canonicalString()}function d1(r,t){const e=(function(s){return new Gr(["projects",s.projectId,"databases",s.database])})(r).child("documents");return t===void 0?e:e.child(t)}function D5(r){const t=Gr.fromString(r);return Or(B5(t),10190,{key:t.toString()}),t}function p1(r,t){return fb(r.databaseId,t.path)}function Rg(r,t){const e=D5(t);if(e.get(1)!==r.databaseId.projectId)throw new Ft(vt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+r.databaseId.projectId);if(e.get(3)!==r.databaseId.database)throw new Ft(vt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+r.databaseId.database);return new $t(F5(e))}function O5(r,t){return fb(r.databaseId,t)}function aR(r){const t=D5(r);return t.length===4?Gr.emptyPath():F5(t)}function m1(r){return new Gr(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function F5(r){return Or(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function e_(r,t,e){return{name:p1(r,t),fields:e.value.mapValue.fields}}function iR(r,t){let e;if("targetChange"in t){t.targetChange;const n=(function(o){return o==="NO_CHANGE"?0:o==="ADD"?1:o==="REMOVE"?2:o==="CURRENT"?3:o==="RESET"?4:Kt(39313,{state:o})})(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],i=(function(o,u){return o.useProto3Json?(Or(u===void 0||typeof u=="string",58123),ts.fromBase64String(u||"")):(Or(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),ts.fromUint8Array(u||new Uint8Array))})(r,t.targetChange.resumeToken),a=t.targetChange.cause,l=a&&(function(o){const u=o.code===void 0?vt.UNKNOWN:R5(o.code);return new Ft(u,o.message||"")})(a);e=new j5(n,s,i,l||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const s=Rg(r,n.document.name),i=ai(n.document.updateTime),a=n.document.createTime?ai(n.document.createTime):tr.min(),l=new Os({mapValue:{fields:n.document.fields}}),c=ls.newFoundDocument(s,i,a,l),o=n.targetIds||[],u=n.removedTargetIds||[];e=new l0(o,u,c.key,c)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const s=Rg(r,n.document),i=n.readTime?ai(n.readTime):tr.min(),a=ls.newNoDocument(s,i),l=n.removedTargetIds||[];e=new l0([],l,a.key,a)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const s=Rg(r,n.document),i=n.removedTargetIds||[];e=new l0([],i,s,null)}else{if(!("filter"in t))return Kt(11601,{Rt:t});{t.filter;const n=t.filter;n.targetId;const{count:s=0,unchangedNames:i}=n,a=new YN(s,i),l=n.targetId;e=new M5(l,a)}}return e}function oR(r,t){let e;if(t instanceof oh)e={update:e_(r,t.key,t.value)};else if(t instanceof op)e={delete:p1(r,t.key)};else if(t instanceof Qo)e={update:e_(r,t.key,t.data),updateMask:gR(t.fieldMask)};else{if(!(t instanceof GN))return Kt(16599,{Vt:t.type});e={verify:p1(r,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((n=>(function(i,a){const l=a.transform;if(l instanceof Vf)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof zf)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Hf)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof A0)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw Kt(20930,{transform:a.transform})})(0,n)))),t.precondition.isNone||(e.currentDocument=(function(s,i){return i.updateTime!==void 0?{updateTime:sR(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Kt(27497)})(r,t.precondition)),e}function lR(r,t){return r&&r.length>0?(Or(t!==void 0,14353),r.map((e=>(function(s,i){let a=s.updateTime?ai(s.updateTime):ai(i);return a.isEqual(tr.min())&&(a=ai(i)),new HN(a,s.transformResults||[])})(e,t)))):[]}function cR(r,t){return{documents:[O5(r,t.path)]}}function uR(r,t){const e={structuredQuery:{}},n=t.path;let s;t.collectionGroup!==null?(s=n,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=n.popLast(),e.structuredQuery.from=[{collectionId:n.lastSegment()}]),e.parent=O5(r,s);const i=(function(o){if(o.length!==0)return L5(Ua.create(o,"and"))})(t.filters);i&&(e.structuredQuery.where=i);const a=(function(o){if(o.length!==0)return o.map((u=>(function(h){return{field:jc(h.field),direction:dR(h.dir)}})(u)))})(t.orderBy);a&&(e.structuredQuery.orderBy=a);const l=h1(r,t.limit);return l!==null&&(e.structuredQuery.limit=l),t.startAt&&(e.structuredQuery.startAt=(function(o){return{before:o.inclusive,values:o.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(o){return{before:!o.inclusive,values:o.position}})(t.endAt)),{ft:e,parent:s}}function fR(r){let t=aR(r.parent);const e=r.structuredQuery,n=e.from?e.from.length:0;let s=null;if(n>0){Or(n===1,65062);const u=e.from[0];u.allDescendants?s=u.collectionId:t=t.child(u.collectionId)}let i=[];e.where&&(i=(function(p){const h=P5(p);return h instanceof Ua&&d5(h)?h.getFilters():[h]})(e.where));let a=[];e.orderBy&&(a=(function(p){return p.map((h=>(function(x){return new Uf(Ic(x.field),(function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(x.direction))})(h)))})(e.orderBy));let l=null;e.limit&&(l=(function(p){let h;return h=typeof p=="object"?p.value:p,ep(h)?null:h})(e.limit));let c=null;e.startAt&&(c=(function(p){const h=!!p.before,d=p.values||[];return new k0(d,h)})(e.startAt));let o=null;return e.endAt&&(o=(function(p){const h=!p.before,d=p.values||[];return new k0(d,h)})(e.endAt)),NN(t,s,a,i,l,"F",c,o)}function hR(r,t){const e=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Kt(28987,{purpose:s})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function P5(r){return r.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Ic(e.unaryFilter.field);return Cn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=Ic(e.unaryFilter.field);return Cn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ic(e.unaryFilter.field);return Cn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Ic(e.unaryFilter.field);return Cn.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Kt(61313);default:return Kt(60726)}})(r):r.fieldFilter!==void 0?(function(e){return Cn.create(Ic(e.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Kt(58110);default:return Kt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(e){return Ua.create(e.compositeFilter.filters.map((n=>P5(n))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Kt(1026)}})(e.compositeFilter.op))})(r):Kt(30097,{filter:r})}function dR(r){return eR[r]}function pR(r){return tR[r]}function mR(r){return rR[r]}function jc(r){return{fieldPath:r.canonicalString()}}function Ic(r){return Zn.fromServerFormat(r.fieldPath)}function L5(r){return r instanceof Cn?(function(e){if(e.op==="=="){if(Vw(e.value))return{unaryFilter:{field:jc(e.field),op:"IS_NAN"}};if(Uw(e.value))return{unaryFilter:{field:jc(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Vw(e.value))return{unaryFilter:{field:jc(e.field),op:"IS_NOT_NAN"}};if(Uw(e.value))return{unaryFilter:{field:jc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jc(e.field),op:pR(e.op),value:e.value}}})(r):r instanceof Ua?(function(e){const n=e.getFilters().map((s=>L5(s)));return n.length===1?n[0]:{compositeFilter:{op:mR(e.op),filters:n}}})(r):Kt(54877,{filter:r})}function gR(r){const t=[];return r.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function B5(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(t,e,n,s,i=tr.min(),a=tr.min(),l=ts.EMPTY_BYTE_STRING,c=null){this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(t){return new No(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new No(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new No(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new No(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(t){this.yt=t}}function xR(r){const t=fR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?E0(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(){this.Cn=new vR}addToCollectionParentIndex(t,e){return this.Cn.add(e),Tt.resolve()}getCollectionParents(t,e){return Tt.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return Tt.resolve()}deleteFieldIndex(t,e){return Tt.resolve()}deleteAllFieldIndexes(t){return Tt.resolve()}createTargetIndexes(t,e){return Tt.resolve()}getDocumentsMatchingTarget(t,e){return Tt.resolve(null)}getIndexType(t,e){return Tt.resolve(0)}getFieldIndexes(t,e){return Tt.resolve([])}getNextCollectionGroupToUpdate(t){return Tt.resolve(null)}getMinOffset(t,e){return Tt.resolve(zo.min())}getMinOffsetFromCollectionGroup(t,e){return Tt.resolve(zo.min())}updateCollectionGroup(t,e,n){return Tt.resolve()}updateIndexEntries(t,e){return Tt.resolve()}}class vR{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),s=this.index[e]||new On(Gr.comparator),i=!s.has(n);return this.index[e]=s.add(n),i}has(t){const e=t.lastSegment(),n=t.popLast(),s=this.index[e];return s&&s.has(n)}getEntries(t){return(this.index[t]||new On(Gr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},U5=41943040;class Is{static withCacheSize(t){return new Is(t,Is.DEFAULT_COLLECTION_PERCENTILE,Is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Is.DEFAULT_COLLECTION_PERCENTILE=10,Is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Is.DEFAULT=new Is(U5,Is.DEFAULT_COLLECTION_PERCENTILE,Is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Is.DISABLED=new Is(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Zc(0)}static cr(){return new Zc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_="LruGarbageCollector",wR=1048576;function n_([r,t],[e,n]){const s=Sr(r,e);return s===0?Sr(t,n):s}class _R{constructor(t){this.Ir=t,this.buffer=new On(n_),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const n=this.buffer.last();n_(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}}get maxValue(){return this.buffer.last()[0]}}class SR{constructor(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){Lt(r_,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){cu(e)?Lt(r_,"Ignoring IndexedDB error during garbage collection: ",e):await lu(e)}await this.Vr(3e5)}))}}class TR{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((n=>Math.floor(e/100*n)))}nthSequenceNumber(t,e){if(e===0)return Tt.resolve(J0.ce);const n=new _R(e);return this.mr.forEachTarget(t,(s=>n.Ar(s.sequenceNumber))).next((()=>this.mr.pr(t,(s=>n.Ar(s))))).next((()=>n.maxValue))}removeTargets(t,e,n){return this.mr.removeTargets(t,e,n)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(Lt("LruGarbageCollector","Garbage collection skipped; disabled"),Tt.resolve(t_)):this.getCacheSize(t).next((n=>n<this.params.cacheSizeCollectionThreshold?(Lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),t_):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let n,s,i,a,l,c,o;const u=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(Lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,a=Date.now(),this.nthSequenceNumber(t,s)))).next((p=>(n=p,l=Date.now(),this.removeTargets(t,n,e)))).next((p=>(i=p,c=Date.now(),this.removeOrphanedDocuments(t,n)))).next((p=>(o=Date.now(),Rc()<=_r.DEBUG&&Lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-u}ms
	Determined least recently used ${s} in `+(l-a)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${p} documents in `+(o-c)+`ms
Total Duration: ${o-u}ms`),Tt.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p}))))}}function kR(r,t){return new TR(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(){this.changes=new Vl((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,ls.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return n!==void 0?Tt.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(t,e,n,s){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=s}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next((s=>(n=s,this.remoteDocumentCache.getEntry(t,e)))).next((s=>(n!==null&&vf(n.mutation,s,Qs.empty(),Kr.now()),s)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((n=>this.getLocalViewOfDocuments(t,n,Tr()).next((()=>n))))}getLocalViewOfDocuments(t,e,n=Tr()){const s=Tl();return this.populateOverlays(t,s,e).next((()=>this.computeViews(t,e,s,n).next((i=>{let a=lf();return i.forEach(((l,c)=>{a=a.insert(l,c.overlayedDocument)})),a}))))}getOverlayedDocuments(t,e){const n=Tl();return this.populateOverlays(t,n,e).next((()=>this.computeViews(t,e,n,Tr())))}populateOverlays(t,e,n){const s=[];return n.forEach((i=>{e.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(t,s).next((i=>{i.forEach(((a,l)=>{e.set(a,l)}))}))}computeViews(t,e,n,s){let i=$i();const a=yf(),l=(function(){return yf()})();return e.forEach(((c,o)=>{const u=n.get(o.key);s.has(o.key)&&(u===void 0||u.mutation instanceof Qo)?i=i.insert(o.key,o):u!==void 0?(a.set(o.key,u.mutation.getFieldMask()),vf(u.mutation,o,u.mutation.getFieldMask(),Kr.now())):a.set(o.key,Qs.empty())})),this.recalculateAndSaveOverlays(t,i).next((c=>(c.forEach(((o,u)=>a.set(o,u))),e.forEach(((o,u)=>l.set(o,new AR(u,a.get(o)??null)))),l)))}recalculateAndSaveOverlays(t,e){const n=yf();let s=new tn(((a,l)=>a-l)),i=Tr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((a=>{for(const l of a)l.keys().forEach((c=>{const o=e.get(c);if(o===null)return;let u=n.get(c)||Qs.empty();u=l.applyToLocalView(o,u),n.set(c,u);const p=(s.get(l.batchId)||Tr()).add(c);s=s.insert(l.batchId,p)}))})).next((()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),o=c.key,u=c.value,p=_5();u.forEach((h=>{if(!i.has(h)){const d=C5(e.get(h),n.get(h));d!==null&&p.set(h,d),i=i.add(h)}})),a.push(this.documentOverlayCache.saveOverlays(t,o,p))}return Tt.waitFor(a)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((n=>this.recalculateAndSaveOverlays(t,n)))}getDocumentsMatchingQuery(t,e,n,s){return(function(a){return $t.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):b5(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n,s):this.getDocumentsMatchingCollectionQuery(t,e,n,s)}getNextDocuments(t,e,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,s).next((i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,s-i.size):Tt.resolve(Tl());let l=Ff,c=i;return a.next((o=>Tt.forEach(o,((u,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),i.get(u)?Tt.resolve():this.remoteDocumentCache.getEntry(t,u).next((h=>{c=c.insert(u,h)}))))).next((()=>this.populateOverlays(t,o,i))).next((()=>this.computeViews(t,c,o,Tr()))).next((u=>({batchId:l,changes:w5(u)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new $t(e)).next((n=>{let s=lf();return n.isFoundDocument()&&(s=s.insert(n.key,n)),s}))}getDocumentsMatchingCollectionGroupQuery(t,e,n,s){const i=e.collectionGroup;let a=lf();return this.indexManager.getCollectionParents(t,i).next((l=>Tt.forEach(l,(c=>{const o=(function(p,h){return new uu(h,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(e,c.child(i));return this.getDocumentsMatchingCollectionQuery(t,o,n,s).next((u=>{u.forEach(((p,h)=>{a=a.insert(p,h)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(t,e,n,s){let i;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId).next((a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n,i,s)))).next((a=>{i.forEach(((c,o)=>{const u=o.getKey();a.get(u)===null&&(a=a.insert(u,ls.newInvalidDocument(u)))}));let l=lf();return a.forEach(((c,o)=>{const u=i.get(c);u!==void 0&&vf(u.mutation,o,Qs.empty(),Kr.now()),sp(e,o)&&(l=l.insert(c,o))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return Tt.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(s){return{id:s.id,version:s.version,createTime:ai(s.createTime)}})(e)),Tt.resolve()}getNamedQuery(t,e){return Tt.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(s){return{name:s.name,query:xR(s.bundledQuery),readTime:ai(s.readTime)}})(e)),Tt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(){this.overlays=new tn($t.comparator),this.qr=new Map}getOverlay(t,e){return Tt.resolve(this.overlays.get(e))}getOverlays(t,e){const n=Tl();return Tt.forEach(e,(s=>this.getOverlay(t,s).next((i=>{i!==null&&n.set(s,i)})))).next((()=>n))}saveOverlays(t,e,n){return n.forEach(((s,i)=>{this.St(t,e,i)})),Tt.resolve()}removeOverlaysForBatchId(t,e,n){const s=this.qr.get(n);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(n)),Tt.resolve()}getOverlaysForCollection(t,e,n){const s=Tl(),i=e.length+1,a=new $t(e.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,o=c.getKey();if(!e.isPrefixOf(o.path))break;o.path.length===i&&c.largestBatchId>n&&s.set(c.getKey(),c)}return Tt.resolve(s)}getOverlaysForCollectionGroup(t,e,n,s){let i=new tn(((o,u)=>o-u));const a=this.overlays.getIterator();for(;a.hasNext();){const o=a.getNext().value;if(o.getKey().getCollectionGroup()===e&&o.largestBatchId>n){let u=i.get(o.largestBatchId);u===null&&(u=Tl(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}const l=Tl(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((o,u)=>l.set(o,u))),!(l.size()>=s)););return Tt.resolve(l)}St(t,e,n){const s=this.overlays.get(n.key);if(s!==null){const a=this.qr.get(s.largestBatchId).delete(n.key);this.qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new XN(e,n));let i=this.qr.get(e);i===void 0&&(i=Tr(),this.qr.set(e,i)),this.qr.set(e,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(){this.sessionToken=ts.EMPTY_BYTE_STRING}getSessionToken(t){return Tt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,Tt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(){this.Qr=new On(Ln.$r),this.Ur=new On(Ln.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const n=new Ln(t,e);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(t,e){t.forEach((n=>this.addReference(n,e)))}removeReference(t,e){this.Gr(new Ln(t,e))}zr(t,e){t.forEach((n=>this.removeReference(n,e)))}jr(t){const e=new $t(new Gr([])),n=new Ln(e,t),s=new Ln(e,t+1),i=[];return this.Ur.forEachInRange([n,s],(a=>{this.Gr(a),i.push(a.key)})),i}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new $t(new Gr([])),n=new Ln(e,t),s=new Ln(e,t+1);let i=Tr();return this.Ur.forEachInRange([n,s],(a=>{i=i.add(a.key)})),i}containsKey(t){const e=new Ln(t,0),n=this.Qr.firstAfterOrEqual(e);return n!==null&&t.isEqual(n.key)}}class Ln{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return $t.comparator(t.key,e.key)||Sr(t.Yr,e.Yr)}static Kr(t,e){return Sr(t.Yr,e.Yr)||$t.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new On(Ln.$r)}checkEmpty(t){return Tt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,n,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new WN(i,e,n,s);this.mutationQueue.push(a);for(const l of s)this.Zr=this.Zr.add(new Ln(l.key,i)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast());return Tt.resolve(a)}lookupMutationBatch(t,e){return Tt.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,s=this.ei(n),i=s<0?0:s;return Tt.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Tt.resolve(this.mutationQueue.length===0?nb:this.tr-1)}getAllMutationBatches(t){return Tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new Ln(e,0),s=new Ln(e,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,s],(a=>{const l=this.Xr(a.Yr);i.push(l)})),Tt.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new On(Sr);return e.forEach((s=>{const i=new Ln(s,0),a=new Ln(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,a],(l=>{n=n.add(l.Yr)}))})),Tt.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,s=n.length+1;let i=n;$t.isDocumentKey(i)||(i=i.child(""));const a=new Ln(new $t(i),0);let l=new On(Sr);return this.Zr.forEachWhile((c=>{const o=c.key.path;return!!n.isPrefixOf(o)&&(o.length===s&&(l=l.add(c.Yr)),!0)}),a),Tt.resolve(this.ti(l))}ti(t){const e=[];return t.forEach((n=>{const s=this.Xr(n);s!==null&&e.push(s)})),e}removeMutationBatch(t,e){Or(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return Tt.forEach(e.mutations,(s=>{const i=new Ln(s.key,e.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)})).next((()=>{this.Zr=n}))}ir(t){}containsKey(t,e){const n=new Ln(e,0),s=this.Zr.firstAfterOrEqual(n);return Tt.resolve(e.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,Tt.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(t){this.ri=t,this.docs=(function(){return new tn($t.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,s=this.docs.get(n),i=s?s.size:0,a=this.ri(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return Tt.resolve(n?n.document.mutableCopy():ls.newInvalidDocument(e))}getEntries(t,e){let n=$i();return e.forEach((s=>{const i=this.docs.get(s);n=n.insert(s,i?i.document.mutableCopy():ls.newInvalidDocument(s))})),Tt.resolve(n)}getDocumentsMatchingQuery(t,e,n,s){let i=$i();const a=e.path,l=new $t(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:o,value:{document:u}}=c.getNext();if(!a.isPrefixOf(o.path))break;o.path.length>a.length+1||oN(iN(u),n)<=0||(s.has(u.key)||sp(e,u))&&(i=i.insert(u.key,u.mutableCopy()))}return Tt.resolve(i)}getAllFromCollectionGroup(t,e,n,s){Kt(9500)}ii(t,e){return Tt.forEach(this.docs,(n=>e(n)))}newChangeBuffer(t){return new DR(this)}getSize(t){return Tt.resolve(this.size)}}class DR extends ER{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((n,s)=>{s.isValidDocument()?e.push(this.Nr.addEntry(t,s)):this.Nr.removeEntry(n)})),Tt.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(t){this.persistence=t,this.si=new Vl((e=>ib(e)),ob),this.lastRemoteSnapshotVersion=tr.min(),this.highestTargetId=0,this.oi=0,this._i=new hb,this.targetCount=0,this.ai=Zc.ur()}forEachTarget(t,e){return this.si.forEach(((n,s)=>e(s))),Tt.resolve()}getLastRemoteSnapshotVersion(t){return Tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Tt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Tt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.oi&&(this.oi=e),Tt.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new Zc(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,Tt.resolve()}updateTargetData(t,e){return this.Pr(e),Tt.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,Tt.resolve()}removeTargets(t,e,n){let s=0;const i=[];return this.si.forEach(((a,l)=>{l.sequenceNumber<=e&&n.get(l.targetId)===null&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(t,l.targetId)),s++)})),Tt.waitFor(i).next((()=>s))}getTargetCount(t){return Tt.resolve(this.targetCount)}getTargetData(t,e){const n=this.si.get(e)||null;return Tt.resolve(n)}addMatchingKeys(t,e,n){return this._i.Wr(e,n),Tt.resolve()}removeMatchingKeys(t,e,n){this._i.zr(e,n);const s=this.persistence.referenceDelegate,i=[];return s&&e.forEach((a=>{i.push(s.markPotentiallyOrphaned(t,a))})),Tt.waitFor(i)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),Tt.resolve()}getMatchingKeysForTargetId(t,e){const n=this._i.Hr(e);return Tt.resolve(n)}containsKey(t,e){return Tt.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(t,e){this.ui={},this.overlays={},this.ci=new J0(0),this.li=!1,this.li=!0,this.hi=new MR,this.referenceDelegate=t(this),this.Pi=new OR(this),this.indexManager=new yR,this.remoteDocumentCache=(function(s){return new IR(s)})((n=>this.referenceDelegate.Ti(n))),this.serializer=new bR(e),this.Ii=new NR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new RR,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.ui[t.toKey()];return n||(n=new jR(e,this.referenceDelegate),this.ui[t.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,n){Lt("MemoryPersistence","Starting transaction:",t);const s=new FR(this.ci.next());return this.referenceDelegate.Ei(),n(s).next((i=>this.referenceDelegate.di(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ai(t,e){return Tt.or(Object.values(this.ui).map((n=>()=>n.containsKey(t,e))))}}class FR extends cN{constructor(t){super(),this.currentSequenceNumber=t}}class db{constructor(t){this.persistence=t,this.Ri=new hb,this.Vi=null}static mi(t){return new db(t)}get fi(){if(this.Vi)return this.Vi;throw Kt(60996)}addReference(t,e,n){return this.Ri.addReference(n,e),this.fi.delete(n.toString()),Tt.resolve()}removeReference(t,e,n){return this.Ri.removeReference(n,e),this.fi.add(n.toString()),Tt.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),Tt.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((s=>this.fi.add(s.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next((s=>{s.forEach((i=>this.fi.add(i.toString())))})).next((()=>n.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Tt.forEach(this.fi,(n=>{const s=$t.fromPath(n);return this.gi(t,s).next((i=>{i||e.removeEntry(s,tr.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((n=>{n?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return Tt.or([()=>Tt.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class N0{constructor(t,e){this.persistence=t,this.pi=new Vl((n=>hN(n.path)),((n,s)=>n.isEqual(s))),this.garbageCollector=kR(this,e)}static mi(t,e){return new N0(t,e)}Ei(){}di(t){return Tt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((n=>e.next((s=>n+s))))}wr(t){let e=0;return this.pr(t,(n=>{e++})).next((()=>e))}pr(t,e){return Tt.forEach(this.pi,((n,s)=>this.br(t,n,s).next((i=>i?Tt.resolve():e(s)))))}removeTargets(t,e,n){return this.persistence.getTargetCache().removeTargets(t,e,n)}removeOrphanedDocuments(t,e){let n=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(t,(a=>this.br(t,a,e).next((l=>{l||(n++,i.removeEntry(a,tr.min()))})))).next((()=>i.apply(t))).next((()=>n))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),Tt.resolve()}removeTarget(t,e){const n=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,e,n){return this.pi.set(n,t.currentSequenceNumber),Tt.resolve()}removeReference(t,e,n){return this.pi.set(n,t.currentSequenceNumber),Tt.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),Tt.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=a0(t.data.value)),e}br(t,e,n){return Tt.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const s=this.pi.get(e);return Tt.resolve(s!==void 0&&s>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(t,e,n,s){this.targetId=t,this.fromCache=e,this.Es=n,this.ds=s}static As(t,e){let n=Tr(),s=Tr();for(const i of e.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new pb(t,e.fromCache,n,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return M9()?8:uN(hs())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,n,s){const i={result:null};return this.ys(t,e).next((a=>{i.result=a})).next((()=>{if(!i.result)return this.ws(t,e,s,n).next((a=>{i.result=a}))})).next((()=>{if(i.result)return;const a=new PR;return this.Ss(t,e,a).next((l=>{if(i.result=l,this.Vs)return this.bs(t,e,a,l.size)}))})).next((()=>i.result))}bs(t,e,n,s){return n.documentReadCount<this.fs?(Rc()<=_r.DEBUG&&Lt("QueryEngine","SDK will not create cache indexes for query:",Mc(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Tt.resolve()):(Rc()<=_r.DEBUG&&Lt("QueryEngine","Query:",Mc(e),"scans",n.documentReadCount,"local documents and returns",s,"documents as results."),n.documentReadCount>this.gs*s?(Rc()<=_r.DEBUG&&Lt("QueryEngine","The SDK decides to create cache indexes for query:",Mc(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,si(e))):Tt.resolve())}ys(t,e){if(qw(e))return Tt.resolve(null);let n=si(e);return this.indexManager.getIndexType(t,n).next((s=>s===0?null:(e.limit!==null&&s===1&&(e=E0(e,null,"F"),n=si(e)),this.indexManager.getDocumentsMatchingTarget(t,n).next((i=>{const a=Tr(...i);return this.ps.getDocuments(t,a).next((l=>this.indexManager.getMinOffset(t,n).next((c=>{const o=this.Ds(e,l);return this.Cs(e,o,a,c.readTime)?this.ys(t,E0(e,null,"F")):this.vs(t,o,e,c)}))))})))))}ws(t,e,n,s){return qw(e)||s.isEqual(tr.min())?Tt.resolve(null):this.ps.getDocuments(t,n).next((i=>{const a=this.Ds(e,i);return this.Cs(e,a,n,s)?Tt.resolve(null):(Rc()<=_r.DEBUG&&Lt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Mc(e)),this.vs(t,a,e,aN(s,Ff)).next((l=>l)))}))}Ds(t,e){let n=new On(y5(t));return e.forEach(((s,i)=>{sp(t,i)&&(n=n.add(i))})),n}Cs(t,e,n,s){if(t.limit===null)return!1;if(n.size!==e.size)return!0;const i=t.limitType==="F"?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(t,e,n){return Rc()<=_r.DEBUG&&Lt("QueryEngine","Using full collection scan to execute query:",Mc(e)),this.ps.getDocumentsMatchingQuery(t,e,zo.min(),n)}vs(t,e,n,s){return this.ps.getDocumentsMatchingQuery(t,n,s).next((i=>(e.forEach((a=>{i=i.insert(a.key,a)})),i)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb="LocalStore",BR=3e8;class UR{constructor(t,e,n,s){this.persistence=t,this.Fs=e,this.serializer=s,this.Ms=new tn(Sr),this.xs=new Vl((i=>ib(i)),ob),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(n)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new CR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function VR(r,t,e,n){return new UR(r,t,e,n)}async function z5(r,t){const e=ar(r);return await e.persistence.runTransaction("Handle user change","readonly",(n=>{let s;return e.mutationQueue.getAllMutationBatches(n).next((i=>(s=i,e.Bs(t),e.mutationQueue.getAllMutationBatches(n)))).next((i=>{const a=[],l=[];let c=Tr();for(const o of s){a.push(o.batchId);for(const u of o.mutations)c=c.add(u.key)}for(const o of i){l.push(o.batchId);for(const u of o.mutations)c=c.add(u.key)}return e.localDocuments.getDocuments(n,c).next((o=>({Ls:o,removedBatchIds:a,addedBatchIds:l})))}))}))}function zR(r,t){const e=ar(r);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const s=t.batch.keys(),i=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,c,o,u){const p=o.batch,h=p.keys();let d=Tt.resolve();return h.forEach((x=>{d=d.next((()=>u.getEntry(c,x))).next((b=>{const g=o.docVersions.get(x);Or(g!==null,48541),b.version.compareTo(g)<0&&(p.applyToRemoteDocument(b,o),b.isValidDocument()&&(b.setReadTime(o.commitVersion),u.addEntry(b)))}))})),d.next((()=>l.mutationQueue.removeMutationBatch(c,p)))})(e,n,t,i).next((()=>i.apply(n))).next((()=>e.mutationQueue.performConsistencyCheck(n))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(n,s,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(l){let c=Tr();for(let o=0;o<l.mutationResults.length;++o)l.mutationResults[o].transformResults.length>0&&(c=c.add(l.batch.mutations[o].key));return c})(t)))).next((()=>e.localDocuments.getDocuments(n,s)))}))}function H5(r){const t=ar(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function HR(r,t){const e=ar(r),n=t.snapshotVersion;let s=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const a=e.Ns.newChangeBuffer({trackRemovals:!0});s=e.Ms;const l=[];t.targetChanges.forEach(((u,p)=>{const h=s.get(p);if(!h)return;l.push(e.Pi.removeMatchingKeys(i,u.removedDocuments,p).next((()=>e.Pi.addMatchingKeys(i,u.addedDocuments,p))));let d=h.withSequenceNumber(i.currentSequenceNumber);t.targetMismatches.get(p)!==null?d=d.withResumeToken(ts.EMPTY_BYTE_STRING,tr.min()).withLastLimboFreeSnapshotVersion(tr.min()):u.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(u.resumeToken,n)),s=s.insert(p,d),(function(b,g,v){return b.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=BR?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0})(h,d,u)&&l.push(e.Pi.updateTargetData(i,d))}));let c=$i(),o=Tr();if(t.documentUpdates.forEach((u=>{t.resolvedLimboDocuments.has(u)&&l.push(e.persistence.referenceDelegate.updateLimboDocument(i,u))})),l.push($R(i,a,t.documentUpdates).next((u=>{c=u.ks,o=u.qs}))),!n.isEqual(tr.min())){const u=e.Pi.getLastRemoteSnapshotVersion(i).next((p=>e.Pi.setTargetsMetadata(i,i.currentSequenceNumber,n)));l.push(u)}return Tt.waitFor(l).next((()=>a.apply(i))).next((()=>e.localDocuments.getLocalViewOfDocuments(i,c,o))).next((()=>c))})).then((i=>(e.Ms=s,i)))}function $R(r,t,e){let n=Tr(),s=Tr();return e.forEach((i=>n=n.add(i))),t.getEntries(r,n).next((i=>{let a=$i();return e.forEach(((l,c)=>{const o=i.get(l);c.isFoundDocument()!==o.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(tr.min())?(t.removeEntry(l,c.readTime),a=a.insert(l,c)):!o.isValidDocument()||c.version.compareTo(o.version)>0||c.version.compareTo(o.version)===0&&o.hasPendingWrites?(t.addEntry(c),a=a.insert(l,c)):Lt(mb,"Ignoring outdated watch update for ",l,". Current version:",o.version," Watch version:",c.version)})),{ks:a,qs:s}}))}function qR(r,t){const e=ar(r);return e.persistence.runTransaction("Get next mutation batch","readonly",(n=>(t===void 0&&(t=nb),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t))))}function GR(r,t){const e=ar(r);return e.persistence.runTransaction("Allocate target","readwrite",(n=>{let s;return e.Pi.getTargetData(n,t).next((i=>i?(s=i,Tt.resolve(s)):e.Pi.allocateTargetId(n).next((a=>(s=new No(t,a,"TargetPurposeListen",n.currentSequenceNumber),e.Pi.addTargetData(n,s).next((()=>s)))))))})).then((n=>{const s=e.Ms.get(n.targetId);return(s===null||n.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(n.targetId,n),e.xs.set(t,n.targetId)),n}))}async function g1(r,t,e){const n=ar(r),s=n.Ms.get(t),i=e?"readwrite":"readwrite-primary";try{e||await n.persistence.runTransaction("Release target",i,(a=>n.persistence.referenceDelegate.removeTarget(a,s)))}catch(a){if(!cu(a))throw a;Lt(mb,`Failed to update sequence numbers for target ${t}: ${a}`)}n.Ms=n.Ms.remove(t),n.xs.delete(s.target)}function s_(r,t,e){const n=ar(r);let s=tr.min(),i=Tr();return n.persistence.runTransaction("Execute query","readwrite",(a=>(function(c,o,u){const p=ar(c),h=p.xs.get(u);return h!==void 0?Tt.resolve(p.Ms.get(h)):p.Pi.getTargetData(o,u)})(n,a,si(t)).next((l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(a,l.targetId).next((c=>{i=c}))})).next((()=>n.Fs.getDocumentsMatchingQuery(a,t,e?s:tr.min(),e?i:Tr()))).next((l=>(WR(n,MN(t),l),{documents:l,Qs:i})))))}function WR(r,t,e){let n=r.Os.get(t)||tr.min();e.forEach(((s,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)})),r.Os.set(t,n)}class a_{constructor(){this.activeTargetIds=PN()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class XR{constructor(){this.Mo=new a_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,n){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new a_,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_="ConnectivityMonitor";class o_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Lt(i_,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){Lt(i_,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ud=null;function b1(){return Ud===null?Ud=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ud++,"0x"+Ud.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg="RestConnection",KR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class QR{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${n}/databases/${s}`,this.Wo=this.databaseId.database===S0?`project_id=${n}`:`project_id=${n}&database_id=${s}`}Go(t,e,n,s,i){const a=b1(),l=this.zo(t,e.toUriEncodedString());Lt(Mg,`Sending RPC '${t}' ${a}:`,l,n);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:o}=new URL(l),u=nu(o);return this.Jo(t,l,c,n,u).then((p=>(Lt(Mg,`Received RPC '${t}' ${a}: `,p),p)),(p=>{throw Xc(Mg,`RPC '${t}' ${a} failed with error: `,p,"url: ",l,"request:",n),p}))}Ho(t,e,n,s,i,a){return this.Go(t,e,n,s,i)}jo(t,e,n){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ou})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((s,i)=>t[i]=s)),n&&n.headers.forEach(((s,i)=>t[i]=s))}zo(t,e){const n=KR[t];return`${this.Uo}/v1/${e}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss="WebChannelConnection";class JR extends QR{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,n,s,i){const a=b1();return new Promise(((l,c)=>{const o=new G3;o.setWithCredentials(!0),o.listenOnce(W3.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case s0.NO_ERROR:const p=o.getResponseJson();Lt(ss,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(p)),l(p);break;case s0.TIMEOUT:Lt(ss,`RPC '${t}' ${a} timed out`),c(new Ft(vt.DEADLINE_EXCEEDED,"Request time out"));break;case s0.HTTP_ERROR:const h=o.getStatus();if(Lt(ss,`RPC '${t}' ${a} failed with status:`,h,"response text:",o.getResponseText()),h>0){let d=o.getResponseJson();Array.isArray(d)&&(d=d[0]);const x=d==null?void 0:d.error;if(x&&x.status&&x.message){const b=(function(v){const y=v.toLowerCase().replace(/_/g,"-");return Object.values(vt).indexOf(y)>=0?y:vt.UNKNOWN})(x.status);c(new Ft(b,x.message))}else c(new Ft(vt.UNKNOWN,"Server responded with status "+o.getStatus()))}else c(new Ft(vt.UNAVAILABLE,"Connection failed."));break;default:Kt(9055,{l_:t,streamId:a,h_:o.getLastErrorCode(),P_:o.getLastError()})}}finally{Lt(ss,`RPC '${t}' ${a} completed.`)}}));const u=JSON.stringify(s);Lt(ss,`RPC '${t}' ${a} sending request:`,s),o.send(e,"POST",u,n,15)}))}T_(t,e,n){const s=b1(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=K3(),l=Y3(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},o=this.longPollingOptions.timeoutSeconds;o!==void 0&&(c.longPollingTimeout=Math.round(1e3*o)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,e,n),c.encodeInitMessageHeaders=!0;const u=i.join("");Lt(ss,`Creating RPC '${t}' stream ${s}: ${u}`,c);const p=a.createWebChannel(u,c);this.I_(p);let h=!1,d=!1;const x=new ZR({Yo:g=>{d?Lt(ss,`Not sending because RPC '${t}' stream ${s} is closed:`,g):(h||(Lt(ss,`Opening RPC '${t}' stream ${s} transport.`),p.open(),h=!0),Lt(ss,`RPC '${t}' stream ${s} sending:`,g),p.send(g))},Zo:()=>p.close()}),b=(g,v,y)=>{g.listen(v,(T=>{try{y(T)}catch(R){setTimeout((()=>{throw R}),0)}}))};return b(p,of.EventType.OPEN,(()=>{d||(Lt(ss,`RPC '${t}' stream ${s} transport opened.`),x.o_())})),b(p,of.EventType.CLOSE,(()=>{d||(d=!0,Lt(ss,`RPC '${t}' stream ${s} transport closed`),x.a_(),this.E_(p))})),b(p,of.EventType.ERROR,(g=>{d||(d=!0,Xc(ss,`RPC '${t}' stream ${s} transport errored. Name:`,g.name,"Message:",g.message),x.a_(new Ft(vt.UNAVAILABLE,"The operation could not be completed")))})),b(p,of.EventType.MESSAGE,(g=>{var v;if(!d){const y=g.data[0];Or(!!y,16349);const T=y,R=(T==null?void 0:T.error)||((v=T[0])==null?void 0:v.error);if(R){Lt(ss,`RPC '${t}' stream ${s} received error:`,R);const P=R.status;let H=(function(O){const F=Tn[O];if(F!==void 0)return R5(F)})(P),L=R.message;H===void 0&&(H=vt.INTERNAL,L="Unknown error status: "+P+" with message "+R.message),d=!0,x.a_(new Ft(H,L)),p.close()}else Lt(ss,`RPC '${t}' stream ${s} received:`,y),x.u_(y)}})),b(l,X3.STAT_EVENT,(g=>{g.stat===a1.PROXY?Lt(ss,`RPC '${t}' stream ${s} detected buffering proxy`):g.stat===a1.NOPROXY&&Lt(ss,`RPC '${t}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{x.__()}),0),x}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function jg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(r){return new nR(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(t,e,n=1e3,s=1.5,i=6e4){this.Mi=t,this.timerId=e,this.d_=n,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),s=Math.max(0,e-n);s>0&&Lt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_="PersistentStream";class q5{constructor(t,e,n,s,i,a,l,c){this.Mi=t,this.S_=n,this.b_=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new $5(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===vt.RESOURCE_EXHAUSTED?(Hi(e.toString()),Hi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===vt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,s])=>{this.D_===e&&this.G_(n,s)}),(n=>{t((()=>{const s=new Ft(vt.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(s)}))}))}G_(t,e){const n=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{n((()=>this.z_(s)))})),this.stream.onMessage((s=>{n((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return Lt(l_,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(Lt(l_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class eM extends q5{constructor(t,e,n,s,i,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,s,a),this.serializer=i}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=iR(this.serializer,t),n=(function(i){if(!("targetChange"in i))return tr.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?tr.min():a.readTime?ai(a.readTime):tr.min()})(t);return this.listener.H_(e,n)}Y_(t){const e={};e.database=m1(this.serializer),e.addTarget=(function(i,a){let l;const c=a.target;if(l=u1(c)?{documents:cR(i,c)}:{query:uR(i,c).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=I5(i,a.resumeToken);const o=h1(i,a.expectedCount);o!==null&&(l.expectedCount=o)}else if(a.snapshotVersion.compareTo(tr.min())>0){l.readTime=C0(i,a.snapshotVersion.toTimestamp());const o=h1(i,a.expectedCount);o!==null&&(l.expectedCount=o)}return l})(this.serializer,t);const n=hR(this.serializer,t);n&&(e.labels=n),this.q_(e)}Z_(t){const e={};e.database=m1(this.serializer),e.removeTarget=t,this.q_(e)}}class tM extends q5{constructor(t,e,n,s,i,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,s,a),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return Or(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Or(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Or(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=lR(t.writeResults,t.commitTime),n=ai(t.commitTime);return this.listener.na(n,e)}ra(){const t={};t.database=m1(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((n=>oR(this.serializer,n)))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{}class nM extends rM{constructor(t,e,n,s){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=n,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Ft(vt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,n,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,a])=>this.connection.Go(t,d1(e,n),s,i,a))).catch((i=>{throw i.name==="FirebaseError"?(i.code===vt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ft(vt.UNKNOWN,i.toString())}))}Ho(t,e,n,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Ho(t,d1(e,n),s,a,l,i))).catch((a=>{throw a.name==="FirebaseError"?(a.code===vt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ft(vt.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class sM{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Hi(e),this.aa=!1):Lt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl="RemoteStore";class aM{constructor(t,e,n,s,i){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((a=>{n.enqueueAndForget((async()=>{zl(this)&&(Lt(Pl,"Restarting streams for network reachability change."),await(async function(c){const o=ar(c);o.Ea.add(4),await ch(o),o.Ra.set("Unknown"),o.Ea.delete(4),await up(o)})(this))}))})),this.Ra=new sM(n,s)}}async function up(r){if(zl(r))for(const t of r.da)await t(!0)}async function ch(r){for(const t of r.da)await t(!1)}function G5(r,t){const e=ar(r);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),yb(e)?xb(e):fu(e).O_()&&bb(e,t))}function gb(r,t){const e=ar(r),n=fu(e);e.Ia.delete(t),n.O_()&&W5(e,t),e.Ia.size===0&&(n.O_()?n.L_():zl(e)&&e.Ra.set("Unknown"))}function bb(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(tr.min())>0){const e=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}fu(r).Y_(t)}function W5(r,t){r.Va.Ue(t),fu(r).Z_(t)}function xb(r){r.Va=new JN({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),fu(r).start(),r.Ra.ua()}function yb(r){return zl(r)&&!fu(r).x_()&&r.Ia.size>0}function zl(r){return ar(r).Ea.size===0}function X5(r){r.Va=void 0}async function iM(r){r.Ra.set("Online")}async function oM(r){r.Ia.forEach(((t,e)=>{bb(r,t)}))}async function lM(r,t){X5(r),yb(r)?(r.Ra.ha(t),xb(r)):r.Ra.set("Unknown")}async function cM(r,t,e){if(r.Ra.set("Online"),t instanceof j5&&t.state===2&&t.cause)try{await(async function(s,i){const a=i.cause;for(const l of i.targetIds)s.Ia.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s.Ia.delete(l),s.Va.removeTarget(l))})(r,t)}catch(n){Lt(Pl,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await R0(r,n)}else if(t instanceof l0?r.Va.Ze(t):t instanceof M5?r.Va.st(t):r.Va.tt(t),!e.isEqual(tr.min()))try{const n=await H5(r.localStore);e.compareTo(n)>=0&&await(function(i,a){const l=i.Va.Tt(a);return l.targetChanges.forEach(((c,o)=>{if(c.resumeToken.approximateByteSize()>0){const u=i.Ia.get(o);u&&i.Ia.set(o,u.withResumeToken(c.resumeToken,a))}})),l.targetMismatches.forEach(((c,o)=>{const u=i.Ia.get(c);if(!u)return;i.Ia.set(c,u.withResumeToken(ts.EMPTY_BYTE_STRING,u.snapshotVersion)),W5(i,c);const p=new No(u.target,c,o,u.sequenceNumber);bb(i,p)})),i.remoteSyncer.applyRemoteEvent(l)})(r,e)}catch(n){Lt(Pl,"Failed to raise snapshot:",n),await R0(r,n)}}async function R0(r,t,e){if(!cu(t))throw t;r.Ea.add(1),await ch(r),r.Ra.set("Offline"),e||(e=()=>H5(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{Lt(Pl,"Retrying IndexedDB access"),await e(),r.Ea.delete(1),await up(r)}))}function Y5(r,t){return t().catch((e=>R0(r,e,t)))}async function fp(r){const t=ar(r),e=Go(t);let n=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:nb;for(;uM(t);)try{const s=await qR(t.localStore,n);if(s===null){t.Ta.length===0&&e.L_();break}n=s.batchId,fM(t,s)}catch(s){await R0(t,s)}K5(t)&&Q5(t)}function uM(r){return zl(r)&&r.Ta.length<10}function fM(r,t){r.Ta.push(t);const e=Go(r);e.O_()&&e.X_&&e.ea(t.mutations)}function K5(r){return zl(r)&&!Go(r).x_()&&r.Ta.length>0}function Q5(r){Go(r).start()}async function hM(r){Go(r).ra()}async function dM(r){const t=Go(r);for(const e of r.Ta)t.ea(e.mutations)}async function pM(r,t,e){const n=r.Ta.shift(),s=cb.from(n,t,e);await Y5(r,(()=>r.remoteSyncer.applySuccessfulWrite(s))),await fp(r)}async function mM(r,t){t&&Go(r).X_&&await(async function(n,s){if((function(a){return KN(a)&&a!==vt.ABORTED})(s.code)){const i=n.Ta.shift();Go(n).B_(),await Y5(n,(()=>n.remoteSyncer.rejectFailedWrite(i.batchId,s))),await fp(n)}})(r,t),K5(r)&&Q5(r)}async function c_(r,t){const e=ar(r);e.asyncQueue.verifyOperationInProgress(),Lt(Pl,"RemoteStore received new credentials");const n=zl(e);e.Ea.add(3),await ch(e),n&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await up(e)}async function gM(r,t){const e=ar(r);t?(e.Ea.delete(2),await up(e)):t||(e.Ea.add(2),await ch(e),e.Ra.set("Unknown"))}function fu(r){return r.ma||(r.ma=(function(e,n,s){const i=ar(e);return i.sa(),new eM(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(r.datastore,r.asyncQueue,{Xo:iM.bind(null,r),t_:oM.bind(null,r),r_:lM.bind(null,r),H_:cM.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),yb(r)?xb(r):r.Ra.set("Unknown")):(await r.ma.stop(),X5(r))}))),r.ma}function Go(r){return r.fa||(r.fa=(function(e,n,s){const i=ar(e);return i.sa(),new tM(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:hM.bind(null,r),r_:mM.bind(null,r),ta:dM.bind(null,r),na:pM.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await fp(r)):(await r.fa.stop(),r.Ta.length>0&&(Lt(Pl,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(t,e,n,s,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=s,this.removalCallback=i,this.deferred=new Li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,n,s,i){const a=Date.now()+n,l=new vb(t,e,a,s,i);return l.start(n),l}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ft(vt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wb(r,t){if(Hi("AsyncQueue",`${t}: ${r}`),cu(r))return new Ft(vt.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{static emptySet(t){return new Uc(t.comparator)}constructor(t){this.comparator=t?(e,n)=>t(e,n)||$t.comparator(e.key,n.key):(e,n)=>$t.comparator(e.key,n.key),this.keyedMap=lf(),this.sortedSet=new tn(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,n)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Uc)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const s=e.getNext().key,i=n.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const n=new Uc;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(){this.ga=new tn($t.comparator)}track(t){const e=t.doc.key,n=this.ga.get(e);n?t.type!==0&&n.type===3?this.ga=this.ga.insert(e,t):t.type===3&&n.type!==1?this.ga=this.ga.insert(e,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.ga=this.ga.remove(e):t.type===1&&n.type===2?this.ga=this.ga.insert(e,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Kt(63341,{Rt:t,pa:n}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,n)=>{t.push(n)})),t}}class Jc{constructor(t,e,n,s,i,a,l,c,o){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=o}static fromInitialDocuments(t,e,n,s,i){const a=[];return e.forEach((l=>{a.push({type:0,doc:l})})),new Jc(t,e,Uc.emptySet(e),a,n,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&np(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let s=0;s<e.length;s++)if(e[s].type!==n[s].type||!e[s].doc.isEqual(n[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class xM{constructor(){this.queries=f_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,n){const s=ar(e),i=s.queries;s.queries=f_(),i.forEach(((a,l)=>{for(const c of l.Sa)c.onError(n)}))})(this,new Ft(vt.ABORTED,"Firestore shutting down"))}}function f_(){return new Vl((r=>x5(r)),np)}async function _b(r,t){const e=ar(r);let n=3;const s=t.query;let i=e.queries.get(s);i?!i.ba()&&t.Da()&&(n=2):(i=new bM,n=t.Da()?0:1);try{switch(n){case 0:i.wa=await e.onListen(s,!0);break;case 1:i.wa=await e.onListen(s,!1);break;case 2:await e.onFirstRemoteStoreListen(s)}}catch(a){const l=wb(a,`Initialization of query '${Mc(t.query)}' failed`);return void t.onError(l)}e.queries.set(s,i),i.Sa.push(t),t.va(e.onlineState),i.wa&&t.Fa(i.wa)&&Tb(e)}async function Sb(r,t){const e=ar(r),n=t.query;let s=3;const i=e.queries.get(n);if(i){const a=i.Sa.indexOf(t);a>=0&&(i.Sa.splice(a,1),i.Sa.length===0?s=t.Da()?0:1:!i.ba()&&t.Da()&&(s=2))}switch(s){case 0:return e.queries.delete(n),e.onUnlisten(n,!0);case 1:return e.queries.delete(n),e.onUnlisten(n,!1);case 2:return e.onLastRemoteStoreUnlisten(n);default:return}}function yM(r,t){const e=ar(r);let n=!1;for(const s of t){const i=s.query,a=e.queries.get(i);if(a){for(const l of a.Sa)l.Fa(s)&&(n=!0);a.wa=s}}n&&Tb(e)}function vM(r,t,e){const n=ar(r),s=n.queries.get(t);if(s)for(const i of s.Sa)i.onError(e);n.queries.delete(t)}function Tb(r){r.Ca.forEach((t=>{t.next()}))}var x1,h_;(h_=x1||(x1={})).Ma="default",h_.Cache="cache";class kb{constructor(t,e,n){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(t){if(!this.options.includeMetadataChanges){const n=[];for(const s of t.docChanges)s.type!==3&&n.push(s);t=new Jc(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const n=e!=="Offline";return(!this.options.qa||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Jc.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==x1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(t){this.key=t}}class J5{constructor(t){this.key=t}}class wM{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Tr(),this.mutatedKeys=Tr(),this.eu=y5(t),this.tu=new Uc(this.eu)}get nu(){return this.Ya}ru(t,e){const n=e?e.iu:new u_,s=e?e.tu:this.tu;let i=e?e.mutatedKeys:this.mutatedKeys,a=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,o=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(((u,p)=>{const h=s.get(u),d=sp(this.query,p)?p:null,x=!!h&&this.mutatedKeys.has(h.key),b=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let g=!1;h&&d?h.data.isEqual(d.data)?x!==b&&(n.track({type:3,doc:d}),g=!0):this.su(h,d)||(n.track({type:2,doc:d}),g=!0,(c&&this.eu(d,c)>0||o&&this.eu(d,o)<0)&&(l=!0)):!h&&d?(n.track({type:0,doc:d}),g=!0):h&&!d&&(n.track({type:1,doc:h}),g=!0,(c||o)&&(l=!0)),g&&(d?(a=a.add(d),i=b?i.add(u):i.delete(u)):(a=a.delete(u),i=i.delete(u)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const u=this.query.limitType==="F"?a.last():a.first();a=a.delete(u.key),i=i.delete(u.key),n.track({type:1,doc:u})}return{tu:a,iu:n,Cs:l,mutatedKeys:i}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n,s){const i=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const a=t.iu.ya();a.sort(((u,p)=>(function(d,x){const b=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Kt(20277,{Rt:g})}};return b(d)-b(x)})(u.type,p.type)||this.eu(u.doc,p.doc))),this.ou(n),s=s??!1;const l=e&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,o=c!==this.Za;return this.Za=c,a.length!==0||o?{snapshot:new Jc(this.query,t.tu,i,a,t.mutatedKeys,c===0,o,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new u_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Tr(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))}));const e=[];return t.forEach((n=>{this.Xa.has(n)||e.push(new J5(n))})),this.Xa.forEach((n=>{t.has(n)||e.push(new Z5(n))})),e}cu(t){this.Ya=t.Qs,this.Xa=Tr();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Jc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Eb="SyncEngine";class _M{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class SM{constructor(t){this.key=t,this.hu=!1}}class TM{constructor(t,e,n,s,i,a){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Vl((l=>x5(l)),np),this.Iu=new Map,this.Eu=new Set,this.du=new tn($t.comparator),this.Au=new Map,this.Ru=new hb,this.Vu={},this.mu=new Map,this.fu=Zc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function kM(r,t,e=!0){const n=a6(r);let s;const i=n.Tu.get(t);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await e6(n,t,e,!0),s}async function EM(r,t){const e=a6(r);await e6(e,t,!0,!1)}async function e6(r,t,e,n){const s=await GR(r.localStore,si(t)),i=s.targetId,a=r.sharedClientState.addLocalQueryTarget(i,e);let l;return n&&(l=await AM(r,t,i,a==="current",s.resumeToken)),r.isPrimaryClient&&e&&G5(r.remoteStore,s),l}async function AM(r,t,e,n,s){r.pu=(p,h,d)=>(async function(b,g,v,y){let T=g.view.ru(v);T.Cs&&(T=await s_(b.localStore,g.query,!1).then((({documents:L})=>g.view.ru(L,T))));const R=y&&y.targetChanges.get(g.targetId),P=y&&y.targetMismatches.get(g.targetId)!=null,H=g.view.applyChanges(T,b.isPrimaryClient,R,P);return p_(b,g.targetId,H.au),H.snapshot})(r,p,h,d);const i=await s_(r.localStore,t,!0),a=new wM(t,i.Qs),l=a.ru(i.documents),c=lh.createSynthesizedTargetChangeForCurrentChange(e,n&&r.onlineState!=="Offline",s),o=a.applyChanges(l,r.isPrimaryClient,c);p_(r,e,o.au);const u=new _M(t,e,a);return r.Tu.set(t,u),r.Iu.has(e)?r.Iu.get(e).push(t):r.Iu.set(e,[t]),o.snapshot}async function CM(r,t,e){const n=ar(r),s=n.Tu.get(t),i=n.Iu.get(s.targetId);if(i.length>1)return n.Iu.set(s.targetId,i.filter((a=>!np(a,t)))),void n.Tu.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await g1(n.localStore,s.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(s.targetId),e&&gb(n.remoteStore,s.targetId),y1(n,s.targetId)})).catch(lu)):(y1(n,s.targetId),await g1(n.localStore,s.targetId,!0))}async function NM(r,t){const e=ar(r),n=e.Tu.get(t),s=e.Iu.get(n.targetId);e.isPrimaryClient&&s.length===1&&(e.sharedClientState.removeLocalQueryTarget(n.targetId),gb(e.remoteStore,n.targetId))}async function RM(r,t,e){const n=PM(r);try{const s=await(function(a,l){const c=ar(a),o=Kr.now(),u=l.reduce(((d,x)=>d.add(x.key)),Tr());let p,h;return c.persistence.runTransaction("Locally write mutations","readwrite",(d=>{let x=$i(),b=Tr();return c.Ns.getEntries(d,u).next((g=>{x=g,x.forEach(((v,y)=>{y.isValidDocument()||(b=b.add(v))}))})).next((()=>c.localDocuments.getOverlayedDocuments(d,x))).next((g=>{p=g;const v=[];for(const y of l){const T=qN(y,p.get(y.key).overlayedDocument);T!=null&&v.push(new Qo(y.key,T,u5(T.value.mapValue),Ls.exists(!0)))}return c.mutationQueue.addMutationBatch(d,o,v,l)})).next((g=>{h=g;const v=g.applyToLocalDocumentSet(p,b);return c.documentOverlayCache.saveOverlays(d,g.batchId,v)}))})).then((()=>({batchId:h.batchId,changes:w5(p)})))})(n.localStore,t);n.sharedClientState.addPendingMutation(s.batchId),(function(a,l,c){let o=a.Vu[a.currentUser.toKey()];o||(o=new tn(Sr)),o=o.insert(l,c),a.Vu[a.currentUser.toKey()]=o})(n,s.batchId,e),await uh(n,s.changes),await fp(n.remoteStore)}catch(s){const i=wb(s,"Failed to persist write");e.reject(i)}}async function t6(r,t){const e=ar(r);try{const n=await HR(e.localStore,t);t.targetChanges.forEach(((s,i)=>{const a=e.Au.get(i);a&&(Or(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.hu=!0:s.modifiedDocuments.size>0?Or(a.hu,14607):s.removedDocuments.size>0&&(Or(a.hu,42227),a.hu=!1))})),await uh(e,n,t)}catch(n){await lu(n)}}function d_(r,t,e){const n=ar(r);if(n.isPrimaryClient&&e===0||!n.isPrimaryClient&&e===1){const s=[];n.Tu.forEach(((i,a)=>{const l=a.view.va(t);l.snapshot&&s.push(l.snapshot)})),(function(a,l){const c=ar(a);c.onlineState=l;let o=!1;c.queries.forEach(((u,p)=>{for(const h of p.Sa)h.va(l)&&(o=!0)})),o&&Tb(c)})(n.eventManager,t),s.length&&n.Pu.H_(s),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function MM(r,t,e){const n=ar(r);n.sharedClientState.updateQueryState(t,"rejected",e);const s=n.Au.get(t),i=s&&s.key;if(i){let a=new tn($t.comparator);a=a.insert(i,ls.newNoDocument(i,tr.min()));const l=Tr().add(i),c=new lp(tr.min(),new Map,new tn(Sr),a,l);await t6(n,c),n.du=n.du.remove(i),n.Au.delete(t),Ab(n)}else await g1(n.localStore,t,!1).then((()=>y1(n,t,e))).catch(lu)}async function jM(r,t){const e=ar(r),n=t.batch.batchId;try{const s=await zR(e.localStore,t);n6(e,n,null),r6(e,n),e.sharedClientState.updateMutationState(n,"acknowledged"),await uh(e,s)}catch(s){await lu(s)}}async function IM(r,t,e){const n=ar(r);try{const s=await(function(a,l){const c=ar(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",(o=>{let u;return c.mutationQueue.lookupMutationBatch(o,l).next((p=>(Or(p!==null,37113),u=p.keys(),c.mutationQueue.removeMutationBatch(o,p)))).next((()=>c.mutationQueue.performConsistencyCheck(o))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(o,u,l))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,u))).next((()=>c.localDocuments.getDocuments(o,u)))}))})(n.localStore,t);n6(n,t,e),r6(n,t),n.sharedClientState.updateMutationState(t,"rejected",e),await uh(n,s)}catch(s){await lu(s)}}function r6(r,t){(r.mu.get(t)||[]).forEach((e=>{e.resolve()})),r.mu.delete(t)}function n6(r,t,e){const n=ar(r);let s=n.Vu[n.currentUser.toKey()];if(s){const i=s.get(t);i&&(e?i.reject(e):i.resolve(),s=s.remove(t)),n.Vu[n.currentUser.toKey()]=s}}function y1(r,t,e=null){r.sharedClientState.removeLocalQueryTarget(t);for(const n of r.Iu.get(t))r.Tu.delete(n),e&&r.Pu.yu(n,e);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((n=>{r.Ru.containsKey(n)||s6(r,n)}))}function s6(r,t){r.Eu.delete(t.path.canonicalString());const e=r.du.get(t);e!==null&&(gb(r.remoteStore,e),r.du=r.du.remove(t),r.Au.delete(e),Ab(r))}function p_(r,t,e){for(const n of e)n instanceof Z5?(r.Ru.addReference(n.key,t),DM(r,n)):n instanceof J5?(Lt(Eb,"Document no longer in limbo: "+n.key),r.Ru.removeReference(n.key,t),r.Ru.containsKey(n.key)||s6(r,n.key)):Kt(19791,{wu:n})}function DM(r,t){const e=t.key,n=e.path.canonicalString();r.du.get(e)||r.Eu.has(n)||(Lt(Eb,"New document in limbo: "+e),r.Eu.add(n),Ab(r))}function Ab(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const e=new $t(Gr.fromString(t)),n=r.fu.next();r.Au.set(n,new SM(e)),r.du=r.du.insert(e,n),G5(r.remoteStore,new No(si(rp(e.path)),n,"TargetPurposeLimboResolution",J0.ce))}}async function uh(r,t,e){const n=ar(r),s=[],i=[],a=[];n.Tu.isEmpty()||(n.Tu.forEach(((l,c)=>{a.push(n.pu(c,t,e).then((o=>{var u;if((o||e)&&n.isPrimaryClient){const p=o?!o.fromCache:(u=e==null?void 0:e.targetChanges.get(c.targetId))==null?void 0:u.current;n.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(o){s.push(o);const p=pb.As(c.targetId,o);i.push(p)}})))})),await Promise.all(a),n.Pu.H_(s),await(async function(c,o){const u=ar(c);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>Tt.forEach(o,(h=>Tt.forEach(h.Es,(d=>u.persistence.referenceDelegate.addReference(p,h.targetId,d))).next((()=>Tt.forEach(h.ds,(d=>u.persistence.referenceDelegate.removeReference(p,h.targetId,d)))))))))}catch(p){if(!cu(p))throw p;Lt(mb,"Failed to update sequence numbers: "+p)}for(const p of o){const h=p.targetId;if(!p.fromCache){const d=u.Ms.get(h),x=d.snapshotVersion,b=d.withLastLimboFreeSnapshotVersion(x);u.Ms=u.Ms.insert(h,b)}}})(n.localStore,i))}async function OM(r,t){const e=ar(r);if(!e.currentUser.isEqual(t)){Lt(Eb,"User change. New user:",t.toKey());const n=await z5(e.localStore,t);e.currentUser=t,(function(i,a){i.mu.forEach((l=>{l.forEach((c=>{c.reject(new Ft(vt.CANCELLED,a))}))})),i.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await uh(e,n.Ls)}}function FM(r,t){const e=ar(r),n=e.Au.get(t);if(n&&n.hu)return Tr().add(n.key);{let s=Tr();const i=e.Iu.get(t);if(!i)return s;for(const a of i){const l=e.Tu.get(a);s=s.unionWith(l.view.nu)}return s}}function a6(r){const t=ar(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=t6.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=FM.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=MM.bind(null,t),t.Pu.H_=yM.bind(null,t.eventManager),t.Pu.yu=vM.bind(null,t.eventManager),t}function PM(r){const t=ar(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=jM.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=IM.bind(null,t),t}class M0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=cp(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return VR(this.persistence,new LR,t.initialUser,this.serializer)}Cu(t){return new V5(db.mi,this.serializer)}Du(t){return new XR}async terminate(){var t,e;(t=this.gcScheduler)==null||t.stop(),(e=this.indexBackfillerScheduler)==null||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}M0.provider={build:()=>new M0};class LM extends M0{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Or(this.persistence.referenceDelegate instanceof N0,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new SR(n,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Is.withCacheSize(this.cacheSizeBytes):Is.DEFAULT;return new V5((n=>N0.mi(n,e)),this.serializer)}}class v1{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>d_(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=OM.bind(null,this.syncEngine),await gM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new xM})()}createDatastore(t){const e=cp(t.databaseInfo.databaseId),n=(function(i){return new JR(i)})(t.databaseInfo);return(function(i,a,l,c){return new nM(i,a,l,c)})(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return(function(n,s,i,a,l){return new aM(n,s,i,a,l)})(this.localStore,this.datastore,t.asyncQueue,(e=>d_(this.syncEngine,e,0)),(function(){return o_.v()?new o_:new YR})())}createSyncEngine(t,e){return(function(s,i,a,l,c,o,u){const p=new TM(s,i,a,l,c,o);return u&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await(async function(s){const i=ar(s);Lt(Pl,"RemoteStore shutting down."),i.Ea.add(5),await ch(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),(t=this.datastore)==null||t.terminate(),(e=this.eventManager)==null||e.terminate()}}v1.provider={build:()=>new v1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Hi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo="FirestoreClient";class BM{constructor(t,e,n,s,i){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=s,this.user=is.UNAUTHENTICATED,this.clientId=rb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async a=>{Lt(Wo,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(n,(a=>(Lt(Wo,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const n=wb(e,"Failed to shutdown persistence");t.reject(n)}})),t.promise}}async function Ig(r,t){r.asyncQueue.verifyOperationInProgress(),Lt(Wo,"Initializing OfflineComponentProvider");const e=r.configuration;await t.initialize(e);let n=e.initialUser;r.setCredentialChangeListener((async s=>{n.isEqual(s)||(await z5(t.localStore,s),n=s)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function m_(r,t){r.asyncQueue.verifyOperationInProgress();const e=await UM(r);Lt(Wo,"Initializing OnlineComponentProvider"),await t.initialize(e,r.configuration),r.setCredentialChangeListener((n=>c_(t.remoteStore,n))),r.setAppCheckTokenChangeListener(((n,s)=>c_(t.remoteStore,s))),r._onlineComponents=t}async function UM(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Lt(Wo,"Using user provided OfflineComponentProvider");try{await Ig(r,r._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(s){return s.name==="FirebaseError"?s.code===vt.FAILED_PRECONDITION||s.code===vt.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(e))throw e;Xc("Error using user provided cache. Falling back to memory cache: "+e),await Ig(r,new M0)}}else Lt(Wo,"Using default OfflineComponentProvider"),await Ig(r,new LM(void 0));return r._offlineComponents}async function i6(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Lt(Wo,"Using user provided OnlineComponentProvider"),await m_(r,r._uninitializedComponentsProvider._online)):(Lt(Wo,"Using default OnlineComponentProvider"),await m_(r,new v1))),r._onlineComponents}function VM(r){return i6(r).then((t=>t.syncEngine))}async function j0(r){const t=await i6(r),e=t.eventManager;return e.onListen=kM.bind(null,t.syncEngine),e.onUnlisten=CM.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=EM.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=NM.bind(null,t.syncEngine),e}function zM(r,t,e={}){const n=new Li;return r.asyncQueue.enqueueAndForget((async()=>(function(i,a,l,c,o){const u=new Cb({next:h=>{u.Nu(),a.enqueueAndForget((()=>Sb(i,p)));const d=h.docs.has(l);!d&&h.fromCache?o.reject(new Ft(vt.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&h.fromCache&&c&&c.source==="server"?o.reject(new Ft(vt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):o.resolve(h)},error:h=>o.reject(h)}),p=new kb(rp(l.path),u,{includeMetadataChanges:!0,qa:!0});return _b(i,p)})(await j0(r),r.asyncQueue,t,e,n))),n.promise}function HM(r,t,e={}){const n=new Li;return r.asyncQueue.enqueueAndForget((async()=>(function(i,a,l,c,o){const u=new Cb({next:h=>{u.Nu(),a.enqueueAndForget((()=>Sb(i,p))),h.fromCache&&c.source==="server"?o.reject(new Ft(vt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):o.resolve(h)},error:h=>o.reject(h)}),p=new kb(l,u,{includeMetadataChanges:!0,qa:!0});return _b(i,p)})(await j0(r),r.asyncQueue,t,e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o6(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6="firestore.googleapis.com",b_=!0;class x_{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Ft(vt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=l6,this.ssl=b_}else this.host=t.host,this.ssl=t.ssl??b_;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=U5;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<wR)throw new Ft(vt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}nN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=o6(t.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new Ft(vt.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new Ft(vt.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new Ft(vt.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(n,s){return n.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class hp{constructor(t,e,n,s){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new x_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ft(vt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Ft(vt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new x_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new WC;switch(n.type){case"firstParty":return new QC(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ft(vt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const n=g_.get(e);n&&(Lt("ComponentProvider","Removing Datastore"),g_.delete(e),n.terminate())})(this),Promise.resolve()}}function $M(r,t,e,n={}){var o;r=Ps(r,hp);const s=nu(t),i=r._getSettings(),a={...i,emulatorOptions:r._getEmulatorOptions()},l=`${t}:${e}`;s&&(n3(`https://${l}`),s3("Firestore",!0)),i.host!==l6&&i.host!==l&&Xc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:l,ssl:s,emulatorOptions:n};if(!Il(c,a)&&(r._setSettings(c),n.mockUserToken)){let u,p;if(typeof n.mockUserToken=="string")u=n.mockUserToken,p=is.MOCK_USER;else{u=_9(n.mockUserToken,(o=r._app)==null?void 0:o.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new Ft(vt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new is(h)}r._authCredentials=new XC(new Z3(u,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new Xi(this.firestore,t,this._query)}}class cn{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bo(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new cn(this.firestore,t,this._key)}toJSON(){return{type:cn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,n){if(ih(e,cn._jsonSchema))return new cn(t,n||null,new $t(Gr.fromString(e.referencePath)))}}cn._jsonSchemaVersion="firestore/documentReference/1.0",cn._jsonSchema={type:Nn("string",cn._jsonSchemaVersion),referencePath:Nn("string")};class Bo extends Xi{constructor(t,e,n){super(t,e,rp(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new cn(this.firestore,null,new $t(t))}withConverter(t){return new Bo(this.firestore,t,this._path)}}function $r(r,t,...e){if(r=Rn(r),J3("collection","path",t),r instanceof hp){const n=Gr.fromString(t,...e);return Mw(n),new Bo(r,null,n)}{if(!(r instanceof cn||r instanceof Bo))throw new Ft(vt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(Gr.fromString(t,...e));return Mw(n),new Bo(r.firestore,null,n)}}function ir(r,t,...e){if(r=Rn(r),arguments.length===1&&(t=rb.newId()),J3("doc","path",t),r instanceof hp){const n=Gr.fromString(t,...e);return Rw(n),new cn(r,null,new $t(n))}{if(!(r instanceof cn||r instanceof Bo))throw new Ft(vt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(Gr.fromString(t,...e));return Rw(n),new cn(r.firestore,r instanceof Bo?r.converter:null,new $t(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="AsyncQueue";class v_{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new $5(this,"async_queue_retry"),this._c=()=>{const n=jg();n&&Lt(y_,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=t;const e=jg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=jg();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new Li;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!cu(t))throw t;Lt(y_,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((n=>{throw this.nc=n,this.rc=!1,Hi("INTERNAL UNHANDLED ERROR: ",w_(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=e,e}enqueueAfterDelay(t,e,n){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const s=vb.createAndSchedule(this,t,e,n,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&Kt(47125,{Pc:w_(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,n)=>e.targetTimeMs-n.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function w_(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(r){return(function(e,n){if(typeof e!="object"||e===null)return!1;const s=e;for(const i of n)if(i in s&&typeof s[i]=="function")return!0;return!1})(r,["next","error","complete"])}class qi extends hp{constructor(t,e,n,s){super(t,e,n,s),this.type="firestore",this._queue=new v_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new v_(t),this._firestoreClient=void 0,await t}}}function qM(r,t){const e=typeof r=="object"?r:l3(),n=typeof r=="string"?r:S0,s=$1(e,"firestore").getImmediate({identifier:n});if(!s._initialized){const i=v9("firestore");i&&$M(s,...i)}return s}function fh(r){if(r._terminated)throw new Ft(vt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||GM(r),r._firestoreClient}function GM(r){var n,s,i;const t=r._freezeSettings(),e=(function(l,c,o,u){return new mN(l,c,o,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,o6(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(r._databaseId,((n=r._app)==null?void 0:n.options.appId)||"",r._persistenceKey,t);r._componentsProvider||(s=t.localCache)!=null&&s._offlineComponentProvider&&((i=t.localCache)!=null&&i._onlineComponentProvider)&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new BM(r._authCredentials,r._appCheckCredentials,r._queue,e,r._componentsProvider&&(function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ga(ts.fromBase64String(t))}catch(e){throw new Ft(vt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new ga(ts.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ga._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ih(t,ga._jsonSchema))return ga.fromBase64String(t.bytes)}}ga._jsonSchemaVersion="firestore/bytes/1.0",ga._jsonSchema={type:Nn("string",ga._jsonSchemaVersion),bytes:Nn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new Ft(vt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ft(vt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ft(vt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Sr(this._lat,t._lat)||Sr(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ii._jsonSchemaVersion}}static fromJSON(t){if(ih(t,ii._jsonSchema))return new ii(t.latitude,t.longitude)}}ii._jsonSchemaVersion="firestore/geoPoint/1.0",ii._jsonSchema={type:Nn("string",ii._jsonSchemaVersion),latitude:Nn("number"),longitude:Nn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(n,s){if(n.length!==s.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==s[i])return!1;return!0})(this._values,t._values)}toJSON(){return{type:oi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ih(t,oi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new oi(t.vectorValues);throw new Ft(vt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}oi._jsonSchemaVersion="firestore/vectorValue/1.0",oi._jsonSchema={type:Nn("string",oi._jsonSchemaVersion),vectorValues:Nn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM=/^__.*__$/;class XM{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return this.fieldMask!==null?new Qo(t,this.data,this.fieldMask,e,this.fieldTransforms):new oh(t,this.data,e,this.fieldTransforms)}}class c6{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return new Qo(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function u6(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Kt(40011,{Ac:r})}}class Nb{constructor(t,e,n,s,i,a){this.settings=t,this.databaseId=e,this.serializer=n,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Nb({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var s;const e=(s=this.path)==null?void 0:s.child(t),n=this.Vc({path:e,fc:!1});return n.gc(t),n}yc(t){var s;const e=(s=this.path)==null?void 0:s.child(t),n=this.Vc({path:e,fc:!1});return n.Rc(),n}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return I0(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(u6(this.Ac)&&WM.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class YM{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=n||cp(t)}Cc(t,e,n,s=!1){return new Nb({Ac:t,methodName:e,Dc:n,path:Zn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pp(r){const t=r._freezeSettings(),e=cp(r._databaseId);return new YM(r._databaseId,!!t.ignoreUndefinedProperties,e)}function f6(r,t,e,n,s,i={}){const a=r.Cc(i.merge||i.mergeFields?2:0,t,e,s);Mb("Data must be an object, but it was:",a,n);const l=p6(n,a);let c,o;if(i.merge)c=new Qs(a.fieldMask),o=a.fieldTransforms;else if(i.mergeFields){const u=[];for(const p of i.mergeFields){const h=w1(t,p,e);if(!a.contains(h))throw new Ft(vt.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);g6(u,h)||u.push(h)}c=new Qs(u),o=a.fieldTransforms.filter((p=>c.covers(p.field)))}else c=null,o=a.fieldTransforms;return new XM(new Os(l),c,o)}class mp extends dp{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof mp}}class Rb extends dp{_toFieldTransform(t){return new VN(t.path,new Vf)}isEqual(t){return t instanceof Rb}}function h6(r,t,e,n){const s=r.Cc(1,t,e);Mb("Data must be an object, but it was:",s,n);const i=[],a=Os.empty();Ko(n,((c,o)=>{const u=jb(t,c,e);o=Rn(o);const p=s.yc(u);if(o instanceof mp)i.push(u);else{const h=dh(o,p);h!=null&&(i.push(u),a.set(u,h))}}));const l=new Qs(i);return new c6(a,l,s.fieldTransforms)}function d6(r,t,e,n,s,i){const a=r.Cc(1,t,e),l=[w1(t,n,e)],c=[s];if(i.length%2!=0)throw new Ft(vt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)l.push(w1(t,i[h])),c.push(i[h+1]);const o=[],u=Os.empty();for(let h=l.length-1;h>=0;--h)if(!g6(o,l[h])){const d=l[h];let x=c[h];x=Rn(x);const b=a.yc(d);if(x instanceof mp)o.push(d);else{const g=dh(x,b);g!=null&&(o.push(d),u.set(d,g))}}const p=new Qs(o);return new c6(u,p,a.fieldTransforms)}function KM(r,t,e,n=!1){return dh(e,r.Cc(n?4:3,t))}function dh(r,t){if(m6(r=Rn(r)))return Mb("Unsupported field value:",t,r),p6(r,t);if(r instanceof dp)return(function(n,s){if(!u6(s.Ac))throw s.Sc(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(s);i&&s.fieldTransforms.push(i)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(n,s){const i=[];let a=0;for(const l of n){let c=dh(l,s.wc(a));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),a++}return{arrayValue:{values:i}}})(r,t)}return(function(n,s){if((n=Rn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return LN(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Kr.fromDate(n);return{timestampValue:C0(s.serializer,i)}}if(n instanceof Kr){const i=new Kr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:C0(s.serializer,i)}}if(n instanceof ii)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ga)return{bytesValue:I5(s.serializer,n._byteString)};if(n instanceof cn){const i=s.databaseId,a=n.firestore._databaseId;if(!a.isEqual(i))throw s.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:fb(n.firestore._databaseId||s.databaseId,n._key.path)}}if(n instanceof oi)return(function(a,l){return{mapValue:{fields:{[l5]:{stringValue:c5},[T0]:{arrayValue:{values:a.toArray().map((o=>{if(typeof o!="number")throw l.Sc("VectorValues must only contain numeric values.");return lb(l.serializer,o)}))}}}}}})(n,s);throw s.Sc(`Unsupported field value: ${Z0(n)}`)})(r,t)}function p6(r,t){const e={};return r5(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ko(r,((n,s)=>{const i=dh(s,t.mc(n));i!=null&&(e[n]=i)})),{mapValue:{fields:e}}}function m6(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Kr||r instanceof ii||r instanceof ga||r instanceof cn||r instanceof dp||r instanceof oi)}function Mb(r,t,e){if(!m6(e)||!e5(e)){const n=Z0(e);throw n==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+n)}}function w1(r,t,e){if((t=Rn(t))instanceof hh)return t._internalPath;if(typeof t=="string")return jb(r,t);throw I0("Field path arguments must be of type string or ",r,!1,void 0,e)}const QM=new RegExp("[~\\*/\\[\\]]");function jb(r,t,e){if(t.search(QM)>=0)throw I0(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,e);try{return new hh(...t.split("."))._internalPath}catch{throw I0(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,e)}}function I0(r,t,e,n,s){const i=n&&!n.isEmpty(),a=s!==void 0;let l=`Function ${t}() called with invalid data`;e&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||a)&&(c+=" (found",i&&(c+=` in field ${n}`),a&&(c+=` in document ${s}`),c+=")"),new Ft(vt.INVALID_ARGUMENT,l+r+c)}function g6(r,t){return r.some((e=>e.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(t,e,n,s,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new ZM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(gp("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class ZM extends b6{data(){return super.data()}}function gp(r,t){return typeof t=="string"?jb(r,t):t instanceof hh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x6(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Ft(vt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ib{}class Db extends Ib{}function ln(r,t,...e){let n=[];t instanceof Ib&&n.push(t),n=n.concat(e),(function(i){const a=i.filter((c=>c instanceof Ob)).length,l=i.filter((c=>c instanceof bp)).length;if(a>1||a>0&&l>0)throw new Ft(vt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const s of n)r=s._apply(r);return r}class bp extends Db{constructor(t,e,n){super(),this._field=t,this._op=e,this._value=n,this.type="where"}static _create(t,e,n){return new bp(t,e,n)}_apply(t){const e=this._parse(t);return v6(t._query,e),new Xi(t.firestore,t.converter,f1(t._query,e))}_parse(t){const e=pp(t.firestore);return(function(i,a,l,c,o,u,p){let h;if(o.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Ft(vt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){T_(p,u);const x=[];for(const b of p)x.push(S_(c,i,b));h={arrayValue:{values:x}}}else h=S_(c,i,p)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||T_(p,u),h=KM(l,a,p,u==="in"||u==="not-in");return Cn.create(o,u,h)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function Va(r,t,e){const n=t,s=gp("where",r);return bp._create(s,n,e)}class Ob extends Ib{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Ob(t,e)}_parse(t){const e=this._queryConstraints.map((n=>n._parse(t))).filter((n=>n.getFilters().length>0));return e.length===1?e[0]:Ua.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(s,i){let a=s;const l=i.getFlattenedFilters();for(const c of l)v6(a,c),a=f1(a,c)})(t._query,e),new Xi(t.firestore,t.converter,f1(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Fb extends Db{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new Fb(t,e)}_apply(t){const e=(function(s,i,a){if(s.startAt!==null)throw new Ft(vt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Ft(vt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Uf(i,a)})(t._query,this._field,this._direction);return new Xi(t.firestore,t.converter,(function(s,i){const a=s.explicitOrderBy.concat([i]);return new uu(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(t._query,e))}}function Vn(r,t="asc"){const e=t,n=gp("orderBy",r);return Fb._create(n,e)}class Pb extends Db{constructor(t,e,n){super(),this.type=t,this._limit=e,this._limitType=n}static _create(t,e,n){return new Pb(t,e,n)}_apply(t){return new Xi(t.firestore,t.converter,E0(t._query,this._limit,this._limitType))}}function y6(r){return sN("limit",r),Pb._create("limit",r,"F")}function S_(r,t,e){if(typeof(e=Rn(e))=="string"){if(e==="")throw new Ft(vt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!b5(t)&&e.indexOf("/")!==-1)throw new Ft(vt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const n=t.path.child(Gr.fromString(e));if(!$t.isDocumentKey(n))throw new Ft(vt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Bw(r,new $t(n))}if(e instanceof cn)return Bw(r,e._key);throw new Ft(vt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Z0(e)}.`)}function T_(r,t){if(!Array.isArray(r)||r.length===0)throw new Ft(vt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function v6(r,t){const e=(function(s,i){for(const a of s)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null})(r.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new Ft(vt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Ft(vt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class JM{convertValue(t,e="none"){switch(qo(t)){case 0:return null;case 1:return t.booleanValue;case 2:return xn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes($o(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Kt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const n={};return Ko(t,((s,i)=>{n[s]=this.convertValue(i,e)})),n}convertVectorValue(t){var n,s,i;const e=(i=(s=(n=t.fields)==null?void 0:n[T0].arrayValue)==null?void 0:s.values)==null?void 0:i.map((a=>xn(a.doubleValue)));return new oi(e)}convertGeoPoint(t){return new ii(xn(t.latitude),xn(t.longitude))}convertArray(t,e){return(t.values||[]).map((n=>this.convertValue(n,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const n=tp(t);return n==null?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Pf(t));default:return null}}convertTimestamp(t){const e=Ho(t);return new Kr(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=Gr.fromString(t);Or(B5(n),9688,{name:t});const s=new Lf(n.get(1),n.get(3)),i=new $t(n.popFirst(5));return s.isEqual(e)||Hi(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w6(r,t,e){let n;return n=r?e&&(e.merge||e.mergeFields)?r.toFirestore(t,e):r.toFirestore(t):t,n}class uf{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Cl extends b6{constructor(t,e,n,s,i,a){super(t,e,n,s,a),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new c0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const n=this._document.data.field(gp("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ft(vt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Cl._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Cl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Cl._jsonSchema={type:Nn("string",Cl._jsonSchemaVersion),bundleSource:Nn("string","DocumentSnapshot"),bundleName:Nn("string"),bundle:Nn("string")};class c0 extends Cl{data(t={}){return super.data(t)}}class Nl{constructor(t,e,n,s){this._firestore=t,this._userDataWriter=e,this._snapshot=s,this.metadata=new uf(s.hasPendingWrites,s.fromCache),this.query=n}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((n=>{t.call(e,new c0(this._firestore,this._userDataWriter,n.key,n,new uf(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ft(vt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map((l=>{const c=new c0(s._firestore,s._userDataWriter,l.doc.key,l.doc,new uf(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}}))}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((l=>i||l.type!==3)).map((l=>{const c=new c0(s._firestore,s._userDataWriter,l.doc.key,l.doc,new uf(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let o=-1,u=-1;return l.type!==0&&(o=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),u=a.indexOf(l.doc.key)),{type:ej(l.type),doc:c,oldIndex:o,newIndex:u}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ft(vt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Nl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=rb.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],n=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(e.push(i._document),n.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function ej(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Kt(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(r){r=Ps(r,cn);const t=Ps(r.firestore,qi);return zM(fh(t),r._key).then((e=>_6(t,r,e)))}Nl._jsonSchemaVersion="firestore/querySnapshot/1.0",Nl._jsonSchema={type:Nn("string",Nl._jsonSchemaVersion),bundleSource:Nn("string","QuerySnapshot"),bundleName:Nn("string"),bundle:Nn("string")};class Lb extends JM{constructor(t){super(),this.firestore=t}convertBytes(t){return new ga(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new cn(this.firestore,null,e)}}function In(r){r=Ps(r,Xi);const t=Ps(r.firestore,qi),e=fh(t),n=new Lb(t);return x6(r._query),HM(e,r._query).then((s=>new Nl(t,n,r,s)))}function an(r,t,e){r=Ps(r,cn);const n=Ps(r.firestore,qi),s=w6(r.converter,t,e);return xp(n,[f6(pp(n),"setDoc",r._key,s,r.converter!==null,e).toMutation(r._key,Ls.none())])}function k_(r,t,e,...n){r=Ps(r,cn);const s=Ps(r.firestore,qi),i=pp(s);let a;return a=typeof(t=Rn(t))=="string"||t instanceof hh?d6(i,"updateDoc",r._key,t,e,n):h6(i,"updateDoc",r._key,t),xp(s,[a.toMutation(r._key,Ls.exists(!0))])}function D0(r){return xp(Ps(r.firestore,qi),[new op(r._key,Ls.none())])}function Fs(r,...t){var c,o,u;r=Rn(r);let e={includeMetadataChanges:!1,source:"default"},n=0;typeof t[n]!="object"||__(t[n])||(e=t[n++]);const s={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(__(t[n])){const p=t[n];t[n]=(c=p.next)==null?void 0:c.bind(p),t[n+1]=(o=p.error)==null?void 0:o.bind(p),t[n+2]=(u=p.complete)==null?void 0:u.bind(p)}let i,a,l;if(r instanceof cn)a=Ps(r.firestore,qi),l=rp(r._key.path),i={next:p=>{t[n]&&t[n](_6(a,r,p))},error:t[n+1],complete:t[n+2]};else{const p=Ps(r,Xi);a=Ps(p.firestore,qi),l=p._query;const h=new Lb(a);i={next:d=>{t[n]&&t[n](new Nl(a,h,p,d))},error:t[n+1],complete:t[n+2]},x6(r._query)}return(function(h,d,x,b){const g=new Cb(b),v=new kb(d,g,x);return h.asyncQueue.enqueueAndForget((async()=>_b(await j0(h),v))),()=>{g.Nu(),h.asyncQueue.enqueueAndForget((async()=>Sb(await j0(h),v)))}})(fh(a),l,s,i)}function xp(r,t){return(function(n,s){const i=new Li;return n.asyncQueue.enqueueAndForget((async()=>RM(await VM(n),s,i))),i.promise})(fh(r),t)}function _6(r,t,e){const n=e.docs.get(t._key),s=new Lb(r);return new Cl(r,s,t._key,n,new uf(e.hasPendingWrites,e.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=pp(t)}set(t,e,n){this._verifyNotCommitted();const s=Dg(t,this._firestore),i=w6(s.converter,e,n),a=f6(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,n);return this._mutations.push(a.toMutation(s._key,Ls.none())),this}update(t,e,n,...s){this._verifyNotCommitted();const i=Dg(t,this._firestore);let a;return a=typeof(e=Rn(e))=="string"||e instanceof hh?d6(this._dataReader,"WriteBatch.update",i._key,e,n,s):h6(this._dataReader,"WriteBatch.update",i._key,e),this._mutations.push(a.toMutation(i._key,Ls.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Dg(t,this._firestore);return this._mutations=this._mutations.concat(new op(e._key,Ls.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ft(vt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Dg(r,t){if((r=Rn(r)).firestore!==t)throw new Ft(vt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function E_(){return new Rb("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(r){return fh(r=Ps(r,qi)),new tj(r,(t=>xp(r,t)))}(function(t,e=!0){(function(s){ou=s})(su),Gc(new Dl("firestore",((n,{instanceIdentifier:s,options:i})=>{const a=n.getProvider("app").getImmediate(),l=new qi(new YC(n.getProvider("auth-internal")),new ZC(a,n.getProvider("app-check-internal")),(function(o,u){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new Ft(vt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lf(o.options.projectId,u)})(a,s),a);return i={useFetchStreams:e,...i},l._setSettings(i),l}),"PUBLIC").setMultipleInstances(!0)),Fo(Ew,Aw,t),Fo(Ew,Aw,"esm2020")})();var rj="firebase",nj="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fo(rj,nj,"app");const sj={apiKey:"AIzaSyA56mq9rGWxmLjvXZbXdJZpnYjXem4QHcY",authDomain:"pro-taxi-d3945.web.app",projectId:"pro-taxi-d3945",storageBucket:"pro-taxi-d3945.firebasestorage.app",messagingSenderId:"157292333890",appId:"1:157292333890:web:bee77cf89d2bd8b2c016db"},S6=o3(sj),pr=qC(S6),kl=new Di;kl.addScope("profile");kl.addScope("email");kl.setCustomParameters({prompt:"select_account"});const Pt=qM(S6),Og=!0;function A_(){return _.jsx("div",{className:"min-h-screen bg-[#0A0E14] text-gray-100 flex flex-col items-center justify-center p-4",children:_.jsxs("div",{className:"bg-[#1A222C] max-w-md w-full p-8 rounded-2xl shadow-2xl text-center border border-gray-800 relative overflow-hidden",children:[_.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-yellow-500 via-amber-500 to-yellow-600"}),_.jsx("div",{className:"flex justify-center mb-6",children:_.jsx("div",{className:"p-4 bg-yellow-500/10 rounded-full animate-pulse",children:_.jsx(DE,{className:"w-12 h-12 text-yellow-500"})})}),_.jsxs("h1",{className:"text-2xl font-bold mb-4 text-white tracking-wide",children:["Taxi Navigator",_.jsx("br",{}),"",_.jsx("br",{}),""]}),_.jsxs("div",{className:"text-gray-400 mb-6 leading-relaxed text-sm",children:[_.jsxs("p",{className:"mb-4",children:["",_.jsx("br",{}),""]}),_.jsx("div",{className:"bg-gray-800/50 rounded-lg p-3 mb-2 border border-gray-700",children:_.jsxs("p",{className:"text-white font-bold text-sm",children:["",_.jsx("br",{}),_.jsx("span",{className:"text-yellow-400",children:""}),_.jsx("br",{}),""]})})]}),_.jsxs("div",{className:"mb-6",children:[_.jsx("p",{className:"text-xs text-gray-500 mb-2",children:""}),_.jsxs("a",{href:"https://line.me/ti/g2/ZWvOSsjSGjcax8BIDbFpZyqxTJyeV5PbSrv8XA?utm_source=invitation&utm_medium=link_copy&utm_campaign=default",target:"_blank",rel:"noopener noreferrer",className:"group relative flex items-center justify-center gap-3 w-full py-3.5 px-4 bg-[#06C755] hover:bg-[#05b34c] rounded-xl transition-all duration-200 text-white shadow-lg shadow-green-900/20 active:scale-95 overflow-hidden",children:[_.jsx("div",{className:"absolute inset-0 bg-white/20 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700 skew-x-12"}),_.jsx(yE,{className:"w-5 h-5 flex-shrink-0 fill-white/20"}),_.jsxs("div",{className:"flex flex-col items-start text-left leading-tight z-10",children:[_.jsx("span",{className:"text-[10px] font-bold opacity-90",children:""}),_.jsx("span",{className:"text-sm font-bold",children:""})]})]})]}),_.jsxs("div",{className:"relative flex py-2 items-center mb-6",children:[_.jsx("div",{className:"flex-grow border-t border-gray-700"}),_.jsx("span",{className:"flex-shrink-0 mx-4 text-xs text-gray-500",children:""}),_.jsx("div",{className:"flex-grow border-t border-gray-700"})]}),_.jsxs("div",{className:"mb-8",children:[_.jsx("p",{className:"text-xs text-gray-500 mb-2",children:""}),_.jsxs("a",{href:"https://line.me/ti/p/R6x26rZ-xn",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 w-full py-3 px-4 bg-blue-600/10 hover:bg-blue-600/20 border border-blue-500/50 text-blue-400 rounded-xl transition-all duration-200 active:scale-95",children:[_.jsx(jl,{className:"w-4 h-4"}),_.jsx("span",{className:"text-sm font-bold",children:""})]})]}),_.jsxs("button",{onClick:()=>pr.signOut(),className:"flex items-center justify-center gap-2 w-full py-3 px-4 bg-gray-800 hover:bg-gray-700 rounded-xl transition-colors font-medium text-gray-400 border border-gray-700 hover:text-white text-sm",children:[_.jsx(Y4,{className:"w-4 h-4"}),""]})]})})}function aj({onBack:r}){const[t,e]=_e.useState([]),[n,s]=_e.useState(!0),i=async()=>{try{console.log("[AdminDashboard] Fetching users from Firestore...");const u=ln($r(Pt,"users")),p=await In(u),h=[];p.forEach(d=>{var x;try{const b=d.data(),g=((x=b.stats)==null?void 0:x.userName)||b.displayName||b.email||"",v={id:d.id,email:b.email||"",displayName:g,status:b.status||"pending",role:b.role||"user",createdAt:b.createdAt};console.log("[AdminDashboard] User found:",{id:d.id,email:v.email,displayName:v.displayName,status:v.status,role:v.role}),h.push(v)}catch(b){console.error("[AdminDashboard] Error processing user document:",d.id,b)}}),console.log("[AdminDashboard] Total users fetched:",h.length),e(h)}catch(u){console.error("[AdminDashboard] Error fetching users:",u),console.error("[AdminDashboard] Error details:",{code:u==null?void 0:u.code,message:u==null?void 0:u.message,stack:u==null?void 0:u.stack}),(u==null?void 0:u.code)===403||(u==null?void 0:u.code)==="permission-denied"?alert(`: 

Firebase ConsoleFirestore

: `+(u==null?void 0:u.code)):alert(`

: `+((u==null?void 0:u.message)||"Unknown error")+`

`)}finally{s(!1)}};_e.useEffect(()=>{i();const u=M3(pr,p=>{p&&(console.log("[AdminDashboard] Auth state changed, refetching users"),i())});return()=>u()},[]);const a=async(u,p)=>{if(window.confirm(` ${p} `))try{await k_(ir(Pt,"users",u),{status:p}),e(t.map(h=>h.id===u?{...h,status:p}:h))}catch(h){console.error("Error updating status:",h),alert("")}},l=async(u,p)=>{const h=p==="admin"?"user":"admin";if(window.confirm(` ${h} `))try{await k_(ir(Pt,"users",u),{role:h}),e(t.map(d=>d.id===u?{...d,role:h}:d))}catch(d){console.error("Error updating role:",d),alert("")}},c=async(u,p)=>{const h=`${p}

`;if(window.confirm(h)&&window.confirm(""))try{await D0(ir(Pt,"users",u)),console.log("[AdminDashboard] Deleted user document:",u);try{await D0(ir(Pt,"public_status",u)),console.log("[AdminDashboard] Deleted public_status document:",u)}catch(d){(d==null?void 0:d.code)!=="not-found"&&console.warn("[AdminDashboard] Error deleting public_status (may not exist):",d)}e(t.filter(d=>d.id!==u)),alert("")}catch(d){console.error("[AdminDashboard] Error deleting user:",d),(d==null?void 0:d.code)===403||(d==null?void 0:d.code)==="permission-denied"?alert(`: 

Firebase ConsoleFirestore`):alert(`

: ${(d==null?void 0:d.message)||"Unknown error"}`)}};if(n)return _.jsx("div",{className:"p-8 text-center text-gray-500",children:"..."});const o=t.filter(u=>u.role!=="admin");return _.jsx("div",{className:"min-h-screen bg-[#0A0E14] text-gray-100 p-4 md:p-8 pb-24",children:_.jsxs("div",{className:"max-w-4xl mx-auto",children:[_.jsx("div",{className:"flex items-center justify-between mb-8",children:_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-800 rounded-full transition-colors",children:_.jsx(z4,{className:"w-6 h-6"})}),_.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[_.jsx(Al,{className:"w-6 h-6 text-blue-400"}),""]})]})}),_.jsx("div",{className:"bg-[#1A222C] rounded-xl border border-gray-800 overflow-hidden",children:_.jsx("div",{className:"overflow-x-auto",children:_.jsxs("table",{className:"w-full text-left border-collapse",children:[_.jsx("thead",{children:_.jsxs("tr",{className:"bg-gray-800/50 border-b border-gray-700",children:[_.jsx("th",{className:"p-4 text-sm font-medium text-gray-400",children:""}),_.jsx("th",{className:"p-4 text-sm font-medium text-gray-400",children:""}),_.jsx("th",{className:"p-4 text-sm font-medium text-gray-400",children:""}),_.jsx("th",{className:"p-4 text-sm font-medium text-gray-400",children:""})]})}),_.jsx("tbody",{className:"divide-y divide-gray-800",children:o.length===0?_.jsx("tr",{children:_.jsx("td",{colSpan:4,className:"p-8 text-center text-gray-500",children:""})}):o.map(u=>_.jsxs("tr",{className:"hover:bg-gray-800/30 transition-colors",children:[_.jsxs("td",{className:"p-4",children:[_.jsx("div",{className:"font-medium text-white",children:u.displayName||u.email||""}),u.email&&u.displayName!==u.email&&_.jsx("div",{className:"text-sm text-gray-500",children:u.email})]}),_.jsx("td",{className:"p-4",children:_.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${u.status==="active"?"bg-green-500/10 text-green-400 border-green-500/20":u.status==="banned"?"bg-red-500/10 text-red-400 border-red-500/20":"bg-yellow-500/10 text-yellow-400 border-yellow-500/20"}`,children:u.status==="active"?"":u.status==="banned"?"":""})}),_.jsx("td",{className:"p-4",children:_.jsx("span",{className:"inline-flex items-center gap-1 text-sm text-gray-400",children:""})}),_.jsx("td",{className:"p-4",children:_.jsxs("div",{className:"flex items-center gap-2",children:[u.status!=="active"&&_.jsx("button",{onClick:()=>a(u.id,"active"),className:"p-1.5 bg-green-500/10 text-green-400 hover:bg-green-500/20 rounded border border-green-500/20",title:"",children:_.jsx(Ik,{className:"w-4 h-4"})}),u.status!=="banned"&&_.jsx("button",{onClick:()=>a(u.id,"banned"),className:"p-1.5 bg-red-500/10 text-red-400 hover:bg-red-500/20 rounded border border-red-500/20",title:"",children:_.jsx(Vk,{className:"w-4 h-4"})}),_.jsx("button",{onClick:()=>l(u.id,u.role),className:"p-1.5 bg-purple-500/10 text-purple-400 hover:bg-purple-500/20 rounded border border-purple-500/20",title:"",children:_.jsx(U1,{className:"w-4 h-4"})}),_.jsx("button",{onClick:()=>c(u.id,u.displayName||u.email),className:"p-1.5 bg-red-600/10 text-red-500 hover:bg-red-600/20 rounded border border-red-600/20",title:"",children:_.jsx(h0,{className:"w-4 h-4"})})]})})]},u.id))})]})})})]})})}const wf=["CASH","CARD","TICKET","QR","DIDI","NET","E_MONEY","TRANSPORT"],Vc=["FLOW","WAIT","APP","HIRE","RESERVE","WIRELESS"],xa={CASH:"",CARD:"",NET:"",E_MONEY:"",TRANSPORT:"",DIDI:"Didi",QR:"/QR",TICKET:""},ph={FLOW:"",WAIT:"",APP:"",HIRE:"",RESERVE:"",WIRELESS:""},qr=r=>`${Math.round(r).toLocaleString()}`,Uo=r=>{const t=r.toString().replace(/[^0-9]/g,"");return t===""?"":parseInt(t).toLocaleString()},An=r=>typeof r!="string"?r:parseInt(r.replace(/,/g,""))||0,T6=r=>{const t=r/1.1;return Math.round(t/10)*10},k6=r=>r-T6(r),zt=(r,t)=>{const e=new Date(r);return e.getHours()<t&&e.setDate(e.getDate()-1),e.toLocaleDateString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\//g,"/")},_1=(r,t)=>{const e=new Date(r),n=e.getHours(),s=String(e.getMinutes()).padStart(2,"0");return n<t?`${n+24}:${s}`:`${String(n).padStart(2,"0")}:${s}`},C_=r=>new Date(r).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),yr=(r,t,e=0)=>{const n=new Date(r);n.setHours(n.getHours()-e);let s,i;return t===0?(s=new Date(n.getFullYear(),n.getMonth(),1),i=new Date(n.getFullYear(),n.getMonth()+1,0)):n.getDate()>t?(s=new Date(n.getFullYear(),n.getMonth(),t+1),i=new Date(n.getFullYear(),n.getMonth()+1,t)):(s=new Date(n.getFullYear(),n.getMonth()-1,t+1),i=new Date(n.getFullYear(),n.getMonth(),t)),s.setHours(e,0,0,0),i.setHours(23,59,59,999),{start:s,end:i}},Yt=r=>r.toLocaleDateString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\//g,"/"),Bb=r=>{const t={};return r.forEach(e=>{const n=e.amount+e.toll,s=e.nonCashAmount;let i=0,a=0;e.paymentMethod==="CASH"?a=n:(i=s,a=n-s),i>0&&(t[e.paymentMethod]=(t[e.paymentMethod]||0)+i),a>0&&(t.CASH=(t.CASH||0)+a)}),t},ij=r=>{const t={:"1",:"2",:"3",:"4",:"5",:"6",:"7",:"8",:"9","":"0",:"10"};return r.replace(/([]+)(?=|$)/g,e=>{let n=e;for(const[s,i]of Object.entries(t))n=n.replace(new RegExp(s,"g"),i);return n})},oj=r=>r.replace(/[0-9]/g,t=>String.fromCharCode(t.charCodeAt(0)+65248)),N_=r=>{if(!r)return"";const t=r.address||{},e=t.city||t.town||t.village||"",n=t.city_district||"",s=e==="";let i="";const a=[t.neighbourhood,t.quarter,t.suburb,t.road];for(const c of a)if(c&&c!==e&&c!==n&&!/$/.test(c)){i=c;break}i||(i=t.suburb||t.road||"");let l=i.replace(/$/,"");return l=ij(l),l=l.replace(/[0-9]+/g,c=>oj(c)),s?l.trim():(e+(n&&n!==e?n:"")+l).trim()},E6=r=>{switch(r){case"CASH":return"bg-amber-400/10 text-amber-200 border-amber-400/30";case"CARD":return"bg-blue-400/10 text-blue-200 border-blue-400/30";case"NET":return"bg-purple-400/10 text-purple-200 border-purple-400/30";case"E_MONEY":return"bg-emerald-400/10 text-emerald-200 border-emerald-400/30";case"TRANSPORT":return"bg-cyan-400/10 text-cyan-200 border-cyan-400/30";case"DIDI":return"bg-orange-400/10 text-orange-200 border-orange-400/30";case"QR":return"bg-teal-400/10 text-teal-200 border-teal-400/30";case"TICKET":return"bg-rose-400/10 text-rose-200 border-rose-400/30";default:return"bg-gray-400/10 text-gray-200 border-gray-400/30"}},Vd=r=>{if(!r)return null;const t=r.trim();if(typeof navigator<"u"){const e=navigator.userAgent,n=/iPad|iPhone|iPod/.test(e),s=/Android/.test(e);if(n)return`comgooglemaps://?q=${encodeURIComponent(t)}`;if(s)return`geo:0,0?q=${encodeURIComponent(t)}`}return`https://maps.google.com/?q=${encodeURIComponent(t)}`},li=(r,t)=>{const e=new Map;r.forEach(s=>{const i=zt(s.timestamp,t);e.has(i)||e.set(i,[]),e.get(i).push(s)});const n=[];return e.forEach((s,i)=>{if(s.some(l=>{var c;return(c=l.remarks)==null?void 0:c.includes("")})){const l=s.filter(c=>{var o;return(o=c.remarks)==null?void 0:o.includes("")});n.push(...l)}else n.push(...s)}),n},_f=r=>{if(r==null)return r;if(Array.isArray(r))return r.map(t=>_f(t));if(typeof r=="object"){const t={};for(const e in r)r[e]!==void 0&&(t[e]=_f(r[e]));return t}return r},$f=(r,t,e)=>{const n=r.businessStartHour??9,{start:s,end:i}=yr(new Date,r.shimebiDay,n),a=new Date(i);r.shimebiDay!==0&&a.setDate(r.shimebiDay);const l=Yt(s),c=Yt(a),u=[...t,...(e==null?void 0:e.records)||[]].filter(x=>{const b=zt(x.timestamp,n);return b>=l&&b<=c}),p=li(u,n),h=p.reduce((x,b)=>x+b.amount,0),d=p.length;return{totalSales:h,totalRides:d,validRecords:p,startDateStr:l,endDateStr:c}},lj=r=>{if(!r)return null;const t=(e,n)=>Number.isFinite(Number(e))?Number(e):n;return{...r,dailyGoal:t(r.dailyGoal,5e4),plannedHours:t(r.plannedHours,12),totalRestMinutes:t(r.totalRestMinutes,0),startTime:t(r.startTime,Date.now()),startOdo:r.startOdo!==void 0?t(r.startOdo,0):void 0,records:(r.records||[]).map(e=>({...e,amount:t(e.amount,0),toll:t(e.toll,0),returnToll:e.returnToll!==void 0?t(e.returnToll,0):void 0,nonCashAmount:t(e.nonCashAmount,0),passengersMale:t(e.passengersMale,0),passengersFemale:t(e.passengersFemale,0),timestamp:t(e.timestamp,Date.now()),pickupCoords:e.pickupCoords||"",dropoffCoords:e.dropoffCoords||""}))}};var A6=U4();const qf=({record:r,index:t,isDetailed:e,customLabels:n,businessStartHour:s,onClick:i,isSlim:a=!1})=>{const c=(n||{})[r.paymentMethod]||xa[r.paymentMethod],o=r.amount+r.toll,u=`[${r.passengersMale||0}${r.passengersFemale||0}]`;if(a){const p=t%2===0,h=p?"bg-slate-800":"bg-slate-700",d=p?"hover:bg-slate-700":"hover:bg-slate-600",x="border-gray-700";return _.jsxs("tr",{className:`${h} border-b ${x}`,children:[_.jsx("td",{onClick:i,className:`py-2 px-2 border-r ${x} align-middle text-center cursor-pointer transition-colors ${d}`,children:_.jsx("div",{className:"flex items-center justify-center w-full",children:_.jsxs("div",{className:"relative w-full max-w-[135%] aspect-square flex items-center justify-center",style:{transform:"scale(1.5)"},children:[_.jsx(Hk,{className:"w-full h-full text-orange-500 fill-orange-500",style:{transform:"scale(0.5)",transformOrigin:"center"}}),_.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-white font-black text-base",style:{transform:"scale(0.7)"},children:t})]})})}),_.jsxs("td",{onClick:i,className:`py-2 px-1 border-r ${x} align-middle text-center w-[85px] cursor-pointer transition-colors ${d}`,children:[_.jsx("div",{className:"text-white font-black text-lg underline mb-1 whitespace-nowrap",children:_1(r.timestamp,s)}),_.jsxs("div",{className:"text-base font-black whitespace-nowrap",children:[_.jsx("span",{className:"text-blue-400",children:""}),r.passengersMale||0,":",_.jsx("span",{className:"text-red-400",children:""}),r.passengersFemale||0]})]}),_.jsxs("td",{className:`py-2 px-2 border-r ${x} align-top`,children:[_.jsx("div",{className:"text-white text-base font-bold mb-1 truncate",children:r.pickupCoords?_.jsx("a",{href:Vd(r.pickupCoords)||"#",target:"_blank",rel:"noreferrer",className:"underline hover:text-blue-400 transition-colors",children:r.pickupLocation||"---"}):_.jsx("span",{className:"underline",children:r.pickupLocation||"---"})}),_.jsx("div",{className:"border-b border-dotted border-gray-600 my-1 opacity-60"}),_.jsx("div",{className:"text-white text-base font-bold truncate text-right",children:r.dropoffCoords?_.jsx("a",{href:Vd(r.dropoffCoords)||"#",target:"_blank",rel:"noreferrer",className:"underline hover:text-blue-400 transition-colors",children:r.dropoffLocation||"---"}):_.jsx("span",{className:"underline",children:r.dropoffLocation||"---"})})]}),_.jsx("td",{className:"py-2 px-2 text-center align-middle w-[70px]",children:_.jsx("div",{className:"text-white font-black text-lg",children:o.toLocaleString()})})]})}return _.jsxs("div",{onClick:i,className:"bg-gray-800 p-5 rounded-[24px] border-2 border-blue-500 active:scale-[0.98] transition-all shadow-md flex flex-col gap-3 w-full relative overflow-hidden group cursor-pointer",children:[r.isBadCustomer&&_.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-10 pointer-events-none text-red-500/20",children:_.jsx(V1,{className:"w-16 h-16"})}),_.jsxs("div",{className:"flex justify-between items-start",children:[_.jsxs("div",{className:"flex flex-col gap-1",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("div",{className:"w-9 h-9 bg-gray-900 rounded-xl flex items-center justify-center text-base font-black text-amber-500 border border-gray-700 shadow-inner",children:t}),_.jsx("span",{className:"text-xl font-black text-gray-300 font-mono tracking-wide",children:_1(r.timestamp,s)})]}),_.jsx("div",{className:"ml-11",children:_.jsx("span",{className:"text-slate-400 text-lg font-black tracking-widest font-mono",children:u})})]}),_.jsxs("div",{className:"text-right",children:[_.jsx("span",{className:"text-[clamp(2.2rem,10vw,2.8rem)] font-black text-amber-500 leading-none block drop-shadow-md tracking-tighter",children:qr(o)}),r.toll>0&&_.jsxs("span",{className:"text-xs font-bold text-blue-400 bg-blue-900/30 px-2 py-0.5 rounded border border-blue-500/30 inline-block mt-1",children:["( ",r.toll,")"]}),(r.returnToll||0)>0&&_.jsxs("span",{className:"text-xs font-bold text-indigo-400 bg-indigo-900/30 px-2 py-0.5 rounded border border-indigo-500/30 inline-block mt-1 ml-1",children:["( ",r.returnToll,")"]})]})]}),_.jsxs("div",{className:"flex flex-col gap-2 my-1 pl-1 border-l-2 border-gray-700 ml-2 py-1",children:[_.jsxs("div",{className:"flex items-start gap-3",children:[_.jsx("div",{className:"mt-1.5 w-2.5 h-2.5 rounded-full bg-green-500 shadow-[0_0_8px_#22c55e] flex-shrink-0"}),_.jsxs("div",{className:"flex-1 flex items-center justify-between min-w-0",children:[_.jsx("span",{className:"text-lg font-black text-white leading-tight truncate",children:r.pickupLocation||"---"}),r.pickupCoords&&_.jsx("a",{href:Vd(r.pickupCoords)||"#",target:"_blank",rel:"noreferrer",onClick:p=>p.stopPropagation(),className:"p-2 bg-blue-500/10 text-blue-400 rounded-lg border border-blue-500/20 active:scale-90 ml-2",children:_.jsx(If,{size:14})})]})]}),_.jsxs("div",{className:"flex items-start gap-3",children:[_.jsx("div",{className:"mt-1.5 w-2.5 h-2.5 rounded-full bg-red-500 shadow-[0_0_8px_#ef4444] flex-shrink-0"}),_.jsxs("div",{className:"flex-1 flex items-center justify-between min-w-0",children:[_.jsx("span",{className:"text-lg font-black text-white leading-tight truncate",children:r.dropoffLocation||"---"}),r.dropoffCoords&&_.jsx("a",{href:Vd(r.dropoffCoords)||"#",target:"_blank",rel:"noreferrer",onClick:p=>p.stopPropagation(),className:"p-2 bg-blue-500/10 text-blue-400 rounded-lg border border-blue-500/20 active:scale-90 ml-2",children:_.jsx(Yg,{size:14})})]})]})]}),_.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-1",children:[_.jsx("span",{className:`text-xs font-black px-3 py-1.5 rounded-lg border flex-1 text-center whitespace-nowrap ${E6(r.paymentMethod)}`,children:c}),r.rideType!=="FLOW"&&_.jsx("span",{className:"text-xs font-black text-gray-300 px-3 py-1.5 rounded-lg bg-gray-800 border border-gray-700 whitespace-nowrap",children:ph[r.rideType]})]}),e&&r.remarks&&_.jsx("div",{className:"mt-2 pt-3 border-t border-gray-800/50 animate-in slide-in-from-top-2 duration-200",children:_.jsxs("div",{className:"bg-yellow-900/20 p-4 rounded-xl border border-yellow-700/30 flex items-start gap-3",children:[_.jsx(L1,{className:"w-5 h-5 text-yellow-500 mt-0.5 flex-shrink-0"}),_.jsx("p",{className:"text-base font-bold text-yellow-100 whitespace-pre-wrap leading-relaxed",children:r.remarks})]})})]})},Ub=r=>{const t={};return r.forEach(e=>{t[e.paymentMethod]=(t[e.paymentMethod]||0)+1}),t},cj=({method:r,className:t})=>{switch(r){case"CASH":return _.jsx(mk,{className:t});case"CARD":return _.jsx(f0,{className:t});case"DIDI":return _.jsx(Kg,{className:t});case"TICKET":return _.jsx(qE,{className:t});case"QR":return _.jsx(CE,{className:t});default:return _.jsx(f0,{className:t})}},Vb=({breakdown:r,counts:t,customLabels:e,enabledMethods:n})=>{const s=n||wf;let i=0,a=0;Object.keys(r).forEach(c=>{c!=="CASH"&&(i+=r[c])}),Object.keys(t).forEach(c=>{c!=="CASH"&&(a+=t[c])});const l=e||{};return _.jsxs("div",{className:"space-y-4",children:[i>0&&_.jsxs("div",{className:"bg-gradient-to-r from-indigo-900/60 to-blue-900/60 p-4 rounded-2xl border border-indigo-500/30 flex justify-between items-center shadow-lg",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"p-2 bg-indigo-500/20 rounded-full",children:_.jsx(Xk,{className:"w-6 h-6 text-indigo-300"})}),_.jsxs("div",{children:[_.jsx("span",{className:"text-xs font-bold text-indigo-200 block uppercase tracking-widest",children:""}),_.jsxs("span",{className:"text-sm font-medium text-indigo-400",children:[a,""]})]})]}),_.jsx("span",{className:"text-3xl font-black text-white tracking-tight",children:qr(i)})]}),_.jsxs("h4",{className:"text-xs font-black text-gray-500 uppercase px-2 tracking-widest flex items-center gap-2 mt-3",children:[_.jsx(f0,{className:"w-3 h-3"})," "]}),_.jsx("div",{className:"grid grid-cols-2 gap-3",children:s.map(c=>{const o=r[c]||0,u=t[c]||0;if(o===0&&u===0)return null;const p=l[c]||xa[c],h=E6(c);let d="bg-gray-900/50 border-gray-800";return h.includes("amber")||h.includes("yellow")?d="bg-amber-900/20 border-amber-500/30":h.includes("blue")||h.includes("sky")?d="bg-blue-900/20 border-blue-500/30":h.includes("green")||h.includes("emerald")?d="bg-green-900/20 border-green-500/30":h.includes("purple")||h.includes("indigo")?d="bg-purple-900/20 border-purple-500/30":(h.includes("pink")||h.includes("red"))&&(d="bg-pink-900/20 border-pink-500/30"),_.jsxs("div",{className:`${d} p-3 rounded-xl border flex flex-col justify-between shadow-sm`,children:[_.jsxs("div",{className:"flex justify-between items-start mb-2",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(cj,{method:c,className:"w-4 h-4 opacity-70"}),_.jsx("span",{className:"text-xs font-bold opacity-80 truncate max-w-[80px]",children:p})]}),_.jsxs("span",{className:"text-xs font-medium opacity-60",children:[u,""]})]}),_.jsx("div",{className:"text-right",children:_.jsx("span",{className:"text-xl font-black block tracking-tight",children:qr(o)})})]},c)})})]})},ri=({children:r,onClose:t})=>{const e=_e.useRef(t),n=_e.useRef(null),s=_e.useRef(null);_e.useEffect(()=>{e.current=t},[t]),_e.useEffect(()=>{const l=window.history.state;l!=null&&l.modal||window.history.pushState({modal:!0},"",window.location.href);const c=q=>{var z;(z=q.state)!=null&&z.modal||e.current()};window.addEventListener("popstate",c);const o=document.documentElement,u=o.style.overflow,p=o.style.overflowX,h=o.style.position,d=o.style.width,x=o.style.left,b=o.style.right,g=document.body.style.overflow,v=document.body.style.overflowX,y=document.body.style.touchAction,T=document.body.style.position,R=document.body.style.width,P=document.body.style.left,H=document.body.style.right;o.style.overflowX="hidden",o.style.width="100%",o.style.left="0",o.style.right="0",document.body.style.overflow="hidden",document.body.style.overflowX="hidden",document.body.style.touchAction="none",document.body.style.position="fixed",document.body.style.width="100%",document.body.style.left="0",document.body.style.right="0";let L=0,I=0;const O=q=>{const z=q.touches[0]||q.changedTouches[0];if(!z)return;const N=Math.abs(z.clientX-L),U=Math.abs(z.clientY-I);s.current&&s.current.contains(q.target)?N>U&&q.preventDefault():q.preventDefault()},F=q=>{q.touches[0]&&(L=q.touches[0].clientX,I=q.touches[0].clientY)};return n.current&&(n.current.addEventListener("touchstart",F,{passive:!0}),n.current.addEventListener("touchmove",O,{passive:!1})),()=>{window.removeEventListener("popstate",c),u?o.style.overflow=u:o.style.removeProperty("overflow"),p?o.style.overflowX=p:o.style.removeProperty("overflow-x"),h?o.style.position=h:o.style.removeProperty("position"),d?o.style.width=d:o.style.removeProperty("width"),x?o.style.left=x:o.style.removeProperty("left"),b?o.style.right=b:o.style.removeProperty("right"),g?document.body.style.overflow=g:document.body.style.removeProperty("overflow"),v?document.body.style.overflowX=v:document.body.style.removeProperty("overflow-x"),y?document.body.style.touchAction=y:document.body.style.removeProperty("touch-action"),T?document.body.style.position=T:document.body.style.removeProperty("position"),R?document.body.style.width=R:document.body.style.removeProperty("width"),P?document.body.style.left=P:document.body.style.removeProperty("left"),H?document.body.style.right=H:document.body.style.removeProperty("right"),n.current&&(n.current.removeEventListener("touchstart",F),n.current.removeEventListener("touchmove",O))}},[]);const i=l=>{l.target===l.currentTarget&&t()},a=l=>{l.currentTarget===l.target&&l.preventDefault()};return _.jsx("div",{ref:n,className:"fixed inset-0 z-[100] flex flex-col justify-end bg-black/80 backdrop-blur-sm animate-in fade-in duration-200",onClick:i,onTouchMove:a,style:{touchAction:"none",overflowX:"hidden",overflowY:"hidden",left:0,right:0,width:"100%",maxWidth:"100%",position:"fixed",transform:"translateX(0)",willChange:"transform",userSelect:"none",WebkitUserSelect:"none"},children:_.jsxs("div",{className:"relative w-full max-w-md mx-auto bg-[#131C2B] rounded-t-[32px] p-5 shadow-2xl border-t border-gray-700 flex flex-col max-h-[90vh]",onClick:l=>l.stopPropagation(),style:{touchAction:"none",overflowX:"hidden",left:0,right:0,width:"100%",maxWidth:"28rem",position:"relative",transform:"translateX(0)",boxSizing:"border-box",userSelect:"none",WebkitUserSelect:"none"},children:[_.jsx("div",{className:"w-12 h-1.5 bg-gray-700 rounded-full mx-auto mb-6 opacity-50 flex-shrink-0"}),_.jsx("div",{ref:s,className:"overflow-y-auto custom-scrollbar flex-1 pb-safe",style:{touchAction:"pan-y",overflowX:"hidden",width:"100%",maxWidth:"100%",boxSizing:"border-box"},children:_.jsx("div",{style:{width:"100%",maxWidth:"100%",boxSizing:"border-box"},children:r})})]})})},uj=({onClose:r})=>{const[t,e]=_e.useState("select"),[n,s]=_e.useState("digital"),[i,a]=_e.useState(new Date),[l,c]=_e.useState(window.innerHeight>window.innerWidth);_e.useEffect(()=>{const x=()=>c(window.innerHeight>window.innerWidth);return window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)},[]),_e.useEffect(()=>{const x=setInterval(()=>a(new Date),1e3);return()=>clearInterval(x)},[]);const o=_e.useMemo(()=>{const x=[{text:"text-cyan-400",shadow:"rgba(34,211,238,0.8)",border:"border-cyan-500/50",line:"bg-cyan-500"},{text:"text-fuchsia-400",shadow:"rgba(232,121,249,0.8)",border:"border-fuchsia-500/50",line:"bg-fuchsia-500"},{text:"text-lime-400",shadow:"rgba(163,230,53,0.8)",border:"border-lime-500/50",line:"bg-lime-500"},{text:"text-amber-400",shadow:"rgba(251,191,36,0.8)",border:"border-amber-500/50",line:"bg-amber-500"},{text:"text-rose-400",shadow:"rgba(251,113,133,0.8)",border:"border-rose-500/50",line:"bg-rose-500"}];return x[Math.floor(Math.random()*x.length)]},[]),u=x=>{s(x),e("view")},p=()=>_.jsxs("div",{className:"flex flex-col items-center justify-center h-full w-full bg-black font-mono animate-in zoom-in duration-300 p-4 relative overflow-hidden",children:[_.jsx("div",{className:`absolute inset-0 bg-[radial-gradient(circle_at_center,${o.shadow.replace("0.8","0.1")},transparent_70%)] pointer-events-none`}),_.jsx("div",{className:`absolute inset-6 border-2 ${o.border} opacity-50 rounded-3xl pointer-events-none`}),_.jsx("div",{className:`absolute top-6 left-1/2 -translate-x-1/2 w-1/4 h-1.5 ${o.line} shadow-[0_0_20px_${o.shadow}] rounded-b-full`}),_.jsx("div",{className:`absolute bottom-6 left-1/2 -translate-x-1/2 w-1/4 h-1.5 ${o.line} shadow-[0_0_20px_${o.shadow}] rounded-t-full`}),_.jsx("div",{className:`${o.text} text-[22vw] leading-none font-black tabular-nums tracking-tighter z-10`,style:{textShadow:`0 0 30px ${o.shadow}`},children:i.toLocaleTimeString("ja-JP",{hour12:!1})}),_.jsxs("div",{className:"mt-10 text-center space-y-4 z-10",children:[_.jsx("div",{className:`text-[5vw] font-bold ${o.text} opacity-90 tracking-widest uppercase`,children:i.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}),_.jsx("div",{className:`text-[6vw] font-black ${o.text} tracking-[0.2em] uppercase border-y-2 ${o.border} py-2 px-10 inline-block bg-black/50 backdrop-blur-sm`,children:i.toLocaleDateString("en-US",{weekday:"long"})})]})]}),h=()=>{let x=i.getHours();const b=x>=12?"PM":"AM";x=x%12,x=x||12;const g=String(x).padStart(2,"0"),v=String(i.getMinutes()).padStart(2,"0"),y=({num:T})=>_.jsxs("div",{className:`bg-[#1a1a1a] rounded-[12%] flex items-center justify-center relative overflow-hidden shadow-2xl ${l?"w-[75vw] h-[35vh]":"w-[40vw] h-[80vh]"} border-[1px] border-[#333]`,children:[_.jsx("span",{className:`font-sans font-bold text-[#d4d4d4] leading-none tracking-tighter scale-y-[1.3] ${l?"text-[32vh]":"text-[70vh]"} translate-y-[2%]`,children:T}),_.jsx("div",{className:"absolute top-1/2 left-0 w-full h-[2px] bg-[#000] z-20 shadow-[0_1px_2px_rgba(0,0,0,0.8)]"}),_.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/5 to-transparent pointer-events-none z-10"})]});return _.jsx("div",{className:"flex flex-col items-center justify-center h-full w-full bg-[#000000] animate-in fade-in duration-500",children:_.jsxs("div",{className:`flex ${l?"flex-col gap-6":"flex-row gap-6"} items-center justify-center w-full h-full p-6 relative`,children:[_.jsxs("div",{className:"relative",children:[_.jsx(y,{num:g}),_.jsx("div",{className:"absolute top-[8%] left-[8%] text-[#d4d4d4] font-bold text-[3vh] font-sans tracking-wider z-30 opacity-90",children:b})]}),_.jsx(y,{num:v})]})})},d=()=>{const x=i.getSeconds()/60,b=(x+i.getMinutes())/60,g=(b+i.getHours())/12;return _.jsx("div",{className:"flex items-center justify-center h-full bg-[#0d0d0d] animate-in spin-in-3 duration-500",children:_.jsxs("div",{className:"relative w-[85vw] h-[85vw] max-w-[600px] max-h-[600px] bg-[#1a1a1a] rounded-full shadow-[20px_20px_60px_#050505,-20px_-20px_60px_#2a2a2a] border-[8px] border-[#252525] flex items-center justify-center",children:[[...Array(60)].map((v,y)=>{const T=y%5===0;return _.jsx("div",{className:"absolute w-full h-full flex justify-center pt-4",style:{transform:`rotate(${y*6}deg)`},children:_.jsx("div",{className:`rounded-full ${T?"w-1.5 h-6 bg-gray-200 shadow-[0_0_8px_rgba(255,255,255,0.3)]":"w-0.5 h-2 bg-gray-600 opacity-50"}`})},y)}),_.jsxs("div",{className:"absolute inset-10 pointer-events-none",children:[_.jsx("span",{className:"absolute top-0 left-1/2 -translate-x-1/2 text-5xl font-bold text-gray-200",children:"12"}),_.jsx("span",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 text-5xl font-bold text-gray-200",children:"6"}),_.jsx("span",{className:"absolute left-0 top-1/2 -translate-y-1/2 text-5xl font-bold text-gray-200",children:"9"}),_.jsx("span",{className:"absolute right-0 top-1/2 -translate-y-1/2 text-5xl font-bold text-gray-200",children:"3"})]}),_.jsx("div",{className:"absolute w-3 h-[24%] bg-gray-200 rounded-full origin-bottom bottom-[50%] shadow-lg z-20",style:{transform:`rotate(${g*360}deg)`}}),_.jsx("div",{className:"absolute w-2 h-[34%] bg-gray-400 rounded-full origin-bottom bottom-[50%] shadow-lg z-30",style:{transform:`rotate(${b*360}deg)`}}),_.jsx("div",{className:"absolute w-1 h-[38%] bg-amber-600 rounded-full origin-bottom bottom-[50%] shadow-[0_0_10px_rgba(245,158,11,0.5)] z-40",style:{transform:`rotate(${x*360}deg)`}}),_.jsx("div",{className:"absolute w-5 h-5 bg-amber-600 rounded-full z-50 border-4 border-[#1a1a1a]"})]})})};return t==="select"?_.jsx("div",{className:"fixed inset-0 z-[9999] bg-black/95 backdrop-blur-md flex flex-col items-center justify-center p-6 animate-in fade-in duration-200",children:_.jsxs("div",{className:"w-full max-w-sm space-y-6",children:[_.jsxs("div",{className:"text-center space-y-2 mb-8",children:[_.jsx("h2",{className:"text-3xl font-black text-white tracking-tight",children:"CLOCK STYLE"}),_.jsx("p",{className:"text-gray-500 text-xs font-bold uppercase tracking-widest",children:"Select your favorite design"})]}),_.jsxs("button",{onClick:()=>u("digital"),className:"w-full bg-cyan-950/30 border border-cyan-800/50 p-5 rounded-3xl flex items-center gap-5 group active:scale-95 transition-all hover:bg-cyan-900/40 hover:border-cyan-500/50",children:[_.jsx("div",{className:"p-4 bg-cyan-500/10 rounded-2xl text-cyan-400 group-hover:text-white group-hover:bg-cyan-500 transition-all shadow-[0_0_15px_rgba(34,211,238,0.1)]",children:_.jsx(_E,{className:"w-8 h-8"})}),_.jsxs("div",{className:"text-left",children:[_.jsx("span",{className:"block text-xl font-black text-white group-hover:text-cyan-100 transition-colors",children:"CYBER DIGITAL"}),_.jsx("span",{className:"text-xs text-cyan-600 font-bold uppercase tracking-wider group-hover:text-cyan-300",children:"Neon Random Color"})]})]}),_.jsxs("button",{onClick:()=>u("analog"),className:"w-full bg-gray-900 border border-gray-800 p-5 rounded-3xl flex items-center gap-5 group active:scale-95 transition-all hover:bg-gray-800 hover:border-gray-600",children:[_.jsx("div",{className:"p-4 bg-gray-800 rounded-2xl text-gray-400 group-hover:text-white group-hover:bg-gray-600 transition-all",children:_.jsx(l9,{className:"w-8 h-8"})}),_.jsxs("div",{className:"text-left",children:[_.jsx("span",{className:"block text-xl font-black text-white",children:"DARK ANALOG"}),_.jsx("span",{className:"text-xs text-gray-500 font-bold uppercase tracking-wider group-hover:text-gray-300",children:"Modern & Chic"})]})]}),_.jsxs("button",{onClick:()=>u("fliqlo"),className:"w-full bg-stone-950 border border-stone-800 p-5 rounded-3xl flex items-center gap-5 group active:scale-95 transition-all hover:bg-stone-900 hover:border-stone-600",children:[_.jsx("div",{className:"p-4 bg-stone-900 rounded-2xl text-stone-400 group-hover:text-white group-hover:bg-stone-700 transition-all",children:_.jsx(qc,{className:"w-8 h-8"})}),_.jsxs("div",{className:"text-left",children:[_.jsx("span",{className:"block text-xl font-black text-white",children:"FLIQLO STYLE"}),_.jsx("span",{className:"text-xs text-stone-600 font-bold uppercase tracking-wider group-hover:text-stone-400",children:"Retro Flip Clock"})]})]}),_.jsx("button",{onClick:r,className:"mt-10 py-4 w-full text-gray-600 font-bold text-sm tracking-widest hover:text-white transition-colors uppercase",children:"Close"})]})}):_.jsxs("div",{className:"fixed inset-0 z-[9999] cursor-pointer bg-black overflow-hidden",onClick:r,children:[n==="digital"&&_.jsx(p,{}),n==="analog"&&_.jsx(d,{}),n==="fliqlo"&&_.jsx(h,{}),_.jsx("div",{className:"absolute bottom-8 w-full text-center pointer-events-none opacity-0 hover:opacity-50 transition-opacity duration-1000 animate-[pulse_4s_infinite]",children:_.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.5em] text-white/30 bg-black/40 px-6 py-2 rounded-full backdrop-blur-md",children:"Tap to Close"})})]})},fj=["toppo2000@gmail.com","admin-user@gmail.com"],hj=({user:r,date:t,onClose:e})=>{const[n,s]=_e.useState({records:[],total:0}),[i,a]=_e.useState(!0);return _e.useEffect(()=>{let l=null,c=!1;return(async()=>{try{const p=Date.now()-1440*60*1e3;l=Fs(ir(Pt,"public_status",r.uid),async h=>{if(!c)if(h.exists()){const x=h.data().records||[];try{const b=$r(Pt,"public_status",r.uid,"history"),g=ln(b,Va("timestamp",">=",p),Vn("timestamp","desc")),v=await In(g),y=[];v.forEach(H=>{y.push(H.data())});const T=new Map;[...x,...y].forEach(H=>{H&&typeof H.timestamp=="number"&&H.timestamp>p&&T.set(H.id,H)});const R=Array.from(T.values()).sort((H,L)=>L.timestamp-H.timestamp),P=R.reduce((H,L)=>H+(L.amount||0),0);c||(s({records:R,total:P}),a(!1))}catch(b){console.error("[ColleagueDetailModal] Subcollection error:",b);const g=x.filter(y=>y&&typeof y.timestamp=="number"&&y.timestamp>p).sort((y,T)=>T.timestamp-y.timestamp),v=g.reduce((y,T)=>y+(T.amount||0),0);c||(s({records:g,total:v}),a(!1))}}else c||(s({records:[],total:0}),a(!1))},h=>{console.error("[ColleagueDetailModal] Snapshot error:",h),c||(a(!1),s({records:[],total:0}))})}catch(u){console.error("[ColleagueDetailModal] Load error:",u),c||(a(!1),s({records:[],total:0}))}})(),()=>{c=!0,l&&l()}},[r.uid]),A6.createPortal(_.jsxs("div",{className:"fixed inset-0 z-[9999] flex flex-col justify-end bg-black/80 backdrop-blur-sm animate-in fade-in duration-200",children:[_.jsx("div",{className:"absolute inset-0",onClick:e}),_.jsxs("div",{className:"relative w-full max-w-md mx-auto bg-gray-800 rounded-t-[32px] p-6 text-white h-[85vh] flex flex-col shadow-2xl animate-in slide-in-from-bottom-10 duration-300 border-t-2 border-orange-500",children:[_.jsxs("div",{className:"flex justify-between items-center mb-6 flex-shrink-0",children:[_.jsx("div",{children:_.jsxs("h2",{className:"text-xl font-black flex items-center gap-2",children:[r.name," ",_.jsx("span",{className:"text-xs font-normal text-gray-400 bg-gray-800 px-2 py-1 rounded-full",children:t})]})}),_.jsx("button",{onClick:e,className:"p-3 bg-gray-800 rounded-full text-gray-400 hover:text-white active:scale-95 transition-transform",children:_.jsx(ba,{className:"w-6 h-6"})})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6 flex-shrink-0",children:[_.jsxs("div",{className:"bg-gray-700 p-4 rounded-2xl border-2 border-orange-500 text-center",children:[_.jsx("p",{className:"text-xs text-gray-500 font-bold uppercase tracking-widest mb-1",children:""}),_.jsx("p",{className:"text-2xl font-black text-amber-500",children:qr(n.total)})]}),_.jsxs("div",{className:"bg-gray-700 p-4 rounded-2xl border-2 border-orange-500 text-center",children:[_.jsx("p",{className:"text-xs text-gray-500 font-bold uppercase tracking-widest mb-1",children:""}),_.jsxs("p",{className:"text-2xl font-black text-white",children:[n.records.length," ",_.jsx("span",{className:"text-sm text-gray-500",children:""})]})]})]}),_.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 pb-safe pr-1 custom-scrollbar",children:i?_.jsx("div",{className:"text-center text-gray-500 py-10 font-bold",children:"..."}):n.records.length===0?_.jsx("div",{className:"text-center text-gray-500 py-10 font-bold",children:""}):n.records.map((l,c)=>_.jsx("div",{className:"opacity-100",children:_.jsx(qf,{record:l,index:n.records.length-c,isDetailed:!0,customLabels:{},businessStartHour:r.businessStartHour||9,onClick:()=>{}})},l.id||c))})]})]}),document.body)},S1=({followingUsers:r})=>{var x,b;const[t,e]=_e.useState([]),[n,s]=_e.useState(null),i=12,a=(x=pr.currentUser)==null?void 0:x.uid,l=((b=pr.currentUser)==null?void 0:b.email)||"",c=fj.includes(l);_e.useEffect(()=>{let g=null;if(c){const v=ln($r(Pt,"public_status"));g=Fs(v,y=>{const T=[];y.forEach(H=>{const L=H.data();L.status||console.warn("[ColleagueStatusList] Missing status field for user:",L.uid,L.name,"data:",L),T.push(L)});const R=Date.now(),P=zt(R,i);T.sort((H,L)=>{const O=(H.startTime?zt(H.startTime,i):"")===P||H.sales>0&&H.lastUpdated>R-12*36e5,q=(L.startTime?zt(L.startTime,i):"")===P||L.sales>0&&L.lastUpdated>R-12*36e5;return O&&!q?-1:!O&&q?1:L.sales-H.sales}),e(T)},y=>{console.error("[ColleagueStatusList] Snapshot error:",y)})}else{const v=new Set([...r||[],a].filter(Boolean));if(v.size===0){e([]);return}const y=[],T=new Map;v.forEach(P=>{const H=Fs(ir(Pt,"public_status",P),L=>{if(L.exists()){const I=L.data();if(I.status||console.warn("[ColleagueStatusList] Missing status field for user:",P,I.name,"data:",I),P!==a){const O=I.visibilityMode||"PUBLIC";if(O==="PRIVATE"){T.delete(P),R(T);return}if(O==="CUSTOM"&&!(I.allowedViewers&&I.allowedViewers.includes(a||""))){T.delete(P),R(T);return}}T.set(P,I)}else T.delete(P);R(T)},L=>{console.error(`[ColleagueStatusList] Error watching user ${P}:`,L)});y.push(H)});const R=P=>{const H=Array.from(P.values()),L=Date.now(),I=zt(L,i);H.sort((O,F)=>{const z=(O.startTime?zt(O.startTime,i):"")===I||O.sales>0&&O.lastUpdated>L-12*36e5,U=(F.startTime?zt(F.startTime,i):"")===I||F.sales>0&&F.lastUpdated>L-12*36e5;return z&&!U?-1:!z&&U?1:F.sales-O.sales}),e(H)};g=()=>{y.forEach(P=>P())}}return()=>{g&&g()}},[r,a,c]);const o=g=>g?new Date(g).toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit"}):"--:--",u=zt(Date.now(),i),p=(g,v)=>{if(g.status)switch(g.status){case"riding":return _.jsx("span",{className:"text-red-400 font-black text-sm whitespace-nowrap",children:""});case"active":return _.jsx("span",{className:"text-blue-400 font-black text-sm whitespace-nowrap",children:""});case"break":return _.jsx("span",{className:"text-amber-500 font-black text-sm whitespace-nowrap",children:""});case"completed":case"offline":return _.jsx("span",{className:"text-white font-black tracking-tighter whitespace-nowrap text-sm",children:o(g.plannedEndTime)});default:return _.jsx("span",{className:"text-blue-400 font-black text-sm whitespace-nowrap",children:""})}return v?_.jsx("span",{className:"text-blue-400 font-black text-sm whitespace-nowrap",children:""}):_.jsx("span",{className:"text-gray-500 font-bold text-sm whitespace-nowrap",children:""})},h=g=>{const y=(g.records||[]).some(P=>{var H;return P&&!((H=P.remarks)!=null&&H.includes(""))}),R=(g.topRecords||[]).length>0;return y||R},d=t.filter(g=>{if(g.uid===a)return!0;if(!r.includes(g.uid))return!1;if(c)return!!h(g);const v=g.visibilityMode||"PUBLIC";return!(v==="PRIVATE"||v==="CUSTOM"&&!(g.allowedViewers&&g.allowedViewers.includes(a||""))||!h(g))});return d.length===0?null:_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"rounded-2xl overflow-hidden mb-4 shadow-xl animate-in fade-in slide-in-from-bottom-4 font-sans border-2 border-orange-500",children:[_.jsxs("div",{className:"bg-gray-800 px-3 py-2.5 text-center border-b border-orange-500/30 relative",children:[_.jsx("div",{className:"absolute top-0 left-0 w-full h-0.5 bg-gradient-to-r from-transparent via-amber-500/50 to-transparent"}),_.jsxs("div",{className:"text-gray-200 font-black text-sm tracking-wide flex items-center justify-center gap-2",children:[" ",_.jsxs("span",{className:"text-xs font-normal text-gray-400",children:["(",u,")"]})]}),_.jsx("div",{className:"text-gray-500 text-[10px] font-bold mt-0.5",children:""})]}),_.jsx("div",{className:"overflow-x-auto bg-gray-800",children:_.jsxs("table",{className:"w-full text-center border-collapse",children:[_.jsx("thead",{children:_.jsxs("tr",{className:"bg-gray-700 text-xs uppercase tracking-wider border-b border-orange-500/30",children:[_.jsx("th",{className:"py-2 px-1 font-bold border-r border-gray-700/50 w-[20%] text-pink-300",children:""}),_.jsx("th",{className:"py-2 px-1 font-bold border-r border-gray-700/50 text-blue-300",children:""}),_.jsx("th",{className:"py-2 px-1 font-bold border-r border-gray-700/50 text-green-300",children:""}),_.jsx("th",{className:"py-2 px-1 font-bold border-r border-gray-700/50 text-yellow-300",children:""}),_.jsx("th",{className:"py-2 px-1 font-bold border-r border-gray-700/50 text-orange-300",children:""}),_.jsx("th",{className:"py-2 px-2 font-bold text-cyan-300",children:""})]})}),_.jsx("tbody",{className:"text-sm text-gray-200",children:d.map((g,v)=>{const y=g.uid===a,R=(g.startTime?zt(g.startTime,i):"")===u||g.sales>0&&g.lastUpdated>Date.now()-12*36e5,P=y?"bg-emerald-500/10 shadow-[inset_3px_0_0_#10b981] border-t border-b border-emerald-500/20":v%2===0?"bg-blue-500/05":"bg-purple-500/05",H="text-base font-bold text-white",L="text-sm font-black text-white";return _.jsxs("tr",{className:`${P} border-b border-gray-700/30 cursor-pointer hover:bg-white/5 active:bg-white/10 transition-colors`,onClick:()=>s(g),children:[_.jsxs("td",{className:`py-2 px-1 text-left truncate max-w-[80px] border-r border-gray-700/30 ${H}`,children:[g.name,c&&g.visibilityMode==="PRIVATE"&&!y&&_.jsx("span",{className:"text-[9px] text-red-400 block leading-none font-black scale-75 origin-left",children:"[]"})]}),_.jsx("td",{className:`py-2 px-1 tracking-tighter border-r border-gray-700/30 ${L}`,children:R?o(g.startTime):""}),_.jsx("td",{className:"py-2 px-1 font-medium tracking-tighter border-r border-gray-700/30",children:p(g,R)}),_.jsx("td",{className:`py-2 px-1 border-r border-gray-700/30 ${L}`,children:R?g.rideCount:0}),_.jsx("td",{className:`py-2 px-1 border-r border-gray-700/30 ${L}`,children:R?g.dispatchCount??"-":0}),_.jsx("td",{className:"py-2 px-2 text-right tracking-tight text-sm font-black text-white",children:(R?g.sales:0).toLocaleString()})]},g.uid)})})]})})]}),n&&_.jsx(hj,{user:n,date:u,onClose:()=>s(null)})]})},dj="/assets/top-DERP1E77.png",pj=["toppo2000@gmail.com","admin-user@gmail.com"],R_=({progress:r,color:t})=>{const e=t==="amber",n=e?"bg-amber-500 shadow-[0_0_15px_#F59E0B]":"bg-blue-500 shadow-[0_0_15px_#3B82F6]",s=e?"border-amber-400/40":"border-blue-400/40";return _.jsx("div",{className:`w-full bg-[#05080C] border-2 ${s} rounded-full h-8 p-1 overflow-hidden shadow-[inset_0_2px_10px_rgba(0,0,0,0.8)]`,children:_.jsx("div",{className:`h-full transition-all duration-1000 ease-out rounded-full ${n}`,style:{width:`${Math.min(100,r)}%`}})})},mj=({shift:r,stats:t,breakState:e,onStart:n,onEnd:s,onAdd:i,onEdit:a,onUpdateGoal:l,onUpdateShiftGoal:c,onAddRestMinutes:o,onToggleBreak:u,setBreakState:p,onShiftEdit:h,onUpdateStartOdo:d})=>{const[x,b]=_e.useState(t.defaultDailyGoal.toLocaleString()),[g,v]=_e.useState(12),[y,T]=_e.useState(!1),[R,P]=_e.useState(!1),[H,L]=_e.useState(t.monthlyGoal.toLocaleString()),[I,O]=_e.useState((r==null?void 0:r.dailyGoal.toLocaleString())||t.defaultDailyGoal.toLocaleString()),[F,q]=_e.useState(!0),[z,N]=_e.useState(!1),[U,C]=_e.useState(!1),[S,k]=_e.useState(Date.now()),[E,A]=_e.useState(!1),[j,B]=_e.useState(""),[D,Q]=_e.useState(!1),[K,ee]=_e.useState(!1),[W,te]=_e.useState(!1),[G,V]=_e.useState(0),Z=_e.useRef(null);_e.useEffect(()=>{const Te=setInterval(()=>k(Date.now()),1e3);return()=>clearInterval(Te)},[]),_e.useEffect(()=>{r?r.startOdo&&B(r.startOdo.toString()):b(t.defaultDailyGoal.toLocaleString())},[t.defaultDailyGoal,r]),_e.useEffect(()=>(e.isActive&&e.startTime?(V(Date.now()-e.startTime),Z.current=window.setInterval(()=>{e.startTime&&V(Date.now()-e.startTime)},1e3)):(Z.current&&clearInterval(Z.current),V(0)),()=>{Z.current&&clearInterval(Z.current)}),[e]);const ae=()=>{if(!j){Q(!0);return}n(An(x),g,Number(j))},re=()=>{Q(!1),n(An(x),g)},oe=()=>{d&&j&&(d(Number(j)),ee(!1))},he=()=>{const Te=Math.floor(G/6e4);Te>0&&o(Te),p({isActive:!1,startTime:null})},Se=()=>{const Te=Math.floor(G/6e4);i(`: ${Te}`),setTimeout(()=>{p({isActive:!1,startTime:null})},100)},ge=Te=>{const rt=Math.floor(Te/1e3),Re=Math.floor(rt/3600),Ae=Math.floor(rt%3600/60),at=rt%60;return`${String(Re).padStart(2,"0")}:${String(Ae).padStart(2,"0")}:${String(at).padStart(2,"0")}`},ne=_e.useMemo(()=>(r==null?void 0:r.records)||[],[r]),fe=_e.useMemo(()=>ne.reduce((Te,rt)=>Te+rt.amount,0),[ne]),pe=_e.useMemo(()=>T6(fe),[fe]),ke=_e.useMemo(()=>Bb(ne),[ne]),Ce=_e.useMemo(()=>Ub(ne),[ne]),Fe=_e.useMemo(()=>r?(S-r.startTime)/6e4:0,[r,S]),We=_e.useMemo(()=>{if(!r)return"";const Te=S-r.startTime,rt=Math.floor(Te/(1e3*60*60)),Re=Math.floor(Te%(1e3*60*60)/(1e3*60));return`${rt}${String(Re).padStart(2,"0")}`},[r,S]),$e=_e.useMemo(()=>Fe<=0?0:fe/Fe*60,[fe,Fe]),it=_e.useMemo(()=>r?Math.max(0,r.dailyGoal-fe):0,[r,fe]),st=_e.useMemo(()=>{if(!r||!r.plannedHours||r.plannedHours===0)return 0;const Te=(S-r.startTime)/(1e3*60*60),Re=r.dailyGoal/r.plannedHours*Te;return fe-Re},[r,S,fe]),et=r?fe/(r.dailyGoal||1)*100:0,Ze=_e.useMemo(()=>F?[...ne].reverse():[...ne],[ne,F]),gt=_e.useMemo(()=>yr(new Date,t.shimebiDay,t.businessStartHour),[t.shimebiDay,t.businessStartHour]),mt=zt(Date.now(),t.businessStartHour),Me=_e.useMemo(()=>t.dutyDays?t.dutyDays.filter(Te=>Te>=mt&&Te<=Yt(gt.end)).length:0,[t.dutyDays,mt,gt.end]),Ue=_e.useMemo(()=>{const Te=Math.max(0,t.monthlyGoal-t.totalSales);return Me<=0?0:Te/Me},[t.monthlyGoal,t.totalSales,Me]),Ee=_e.useMemo(()=>t.dutyDays?t.dutyDays.filter(Te=>Te<=mt&&Te>=Yt(gt.start)).length:0,[t.dutyDays,mt,gt.start]),Oe=_e.useMemo(()=>t.dutyDays?t.dutyDays.filter(Te=>Te>=Yt(gt.start)&&Te<=Yt(gt.end)).length:0,[t.dutyDays,gt]),ct=_e.useMemo(()=>Ee<=0?0:t.totalSales/Ee*Oe,[t.totalSales,Ee,Oe]),Be=_e.useMemo(()=>Ee<=0?0:t.totalSales/Ee,[t.totalSales,Ee]),Ye=_e.useMemo(()=>r?r.startTime+r.plannedHours*36e5:null,[r]),je=Array.from({length:21},(Te,rt)=>rt+4),He=()=>{var Ae;const Te=((Ae=pr.currentUser)==null?void 0:Ae.email)||"";if(pj.includes(Te))return _.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-purple-500/10 border border-purple-500/30 rounded-full text-[10px] font-black text-purple-400 uppercase tracking-widest shadow-[0_0_10px_rgba(168,85,247,0.2)]",children:[_.jsx(FE,{size:12}),_.jsx("span",{children:""})]});const Re=t.visibilityMode||"PUBLIC";return Re==="PUBLIC"?_.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-green-500/10 border border-green-500/30 rounded-full text-[10px] font-black text-green-400 uppercase tracking-widest shadow-[0_0_10px_rgba(34,197,94,0.2)]",children:[_.jsx(X4,{size:12}),_.jsx("span",{children:""})]}):Re==="PRIVATE"?_.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-red-500/10 border border-red-500/30 rounded-full text-[10px] font-black text-red-400 uppercase tracking-widest shadow-[0_0_10px_rgba(239,68,68,0.2)]",children:[_.jsx(Xg,{size:12}),_.jsx("span",{children:""})]}):Re==="CUSTOM"?_.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-blue-500/10 border border-blue-500/30 rounded-full text-[10px] font-black text-blue-400 uppercase tracking-widest shadow-[0_0_10px_rgba(59,130,246,0.2)]",children:[_.jsx(Al,{size:12}),_.jsx("span",{children:""})]}):null};return _.jsxs("div",{className:"p-4 pb-32 space-y-5 w-full max-w-full overflow-hidden",children:[E&&A6.createPortal(_.jsx(uj,{onClose:()=>A(!1)}),document.body),D&&_.jsx(ri,{onClose:()=>Q(!1),children:_.jsxs("div",{className:"space-y-6 pb-4 text-center",children:[_.jsx("div",{className:"flex justify-center mb-4",children:_.jsx("div",{className:"bg-amber-500/10 p-4 rounded-full",children:_.jsx(ru,{className:"w-12 h-12 text-amber-500"})})}),_.jsx("h3",{className:"text-xl font-black text-white",children:""}),_.jsxs("p",{className:"text-gray-300 font-bold",children:["ODO",_.jsx("br",{}),""]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[_.jsx("button",{onClick:()=>Q(!1),className:"bg-gray-700 text-white py-4 rounded-2xl font-black text-lg shadow-lg active:scale-95 transition-transform",children:""}),_.jsx("button",{onClick:re,className:"bg-amber-500 text-black py-4 rounded-2xl font-black text-lg shadow-lg active:scale-95 transition-transform",children:""})]})]})}),K&&_.jsx(ri,{onClose:()=>ee(!1),children:_.jsxs("div",{className:"space-y-6 pb-4 text-center",children:[_.jsx("h3",{className:"text-xl font-black text-white",children:""}),_.jsxs("div",{className:"flex items-center bg-gray-800 rounded-2xl p-5 border-2 border-blue-500 focus-within:border-blue-400 transition-all shadow-inner",children:[_.jsx(jo,{className:"text-gray-500 w-8 h-8 mr-3"}),_.jsx("input",{type:"number",inputMode:"numeric",value:j,onChange:Te=>B(Te.target.value),placeholder:"ODO",className:"bg-transparent text-white text-[clamp(1.5rem,8vw,2.5rem)] font-black w-full outline-none text-center placeholder-gray-700"}),_.jsx("span",{className:"text-gray-500 font-bold ml-2",children:"km"})]}),_.jsx("button",{onClick:oe,className:"w-full bg-amber-500 text-black py-4 rounded-2xl font-black text-xl shadow-xl active:scale-95 transition-transform",children:""})]})}),r&&_.jsxs("div",{className:"flex justify-between items-end px-2 mb-2",children:[_.jsxs("div",{className:"flex flex-col cursor-pointer active:scale-95 transition-transform",onClick:()=>A(!0),children:[_.jsx("span",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest",children:"Current Time"}),_.jsx("span",{className:"text-3xl font-black text-white leading-none font-mono",children:new Date(S).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("button",{onClick:()=>ee(!0),className:"bg-gray-800 p-2 rounded-full border border-gray-700 text-gray-400 active:scale-95 transition-transform hover:text-white hover:border-gray-500",children:_.jsx(jo,{size:20})}),_.jsx(He,{})]})]}),!r&&_.jsxs("div",{className:"bg-gray-800 rounded-[28px] px-5 py-6 border-2 border-blue-500 shadow-2xl animate-in fade-in duration-300 space-y-6 w-full",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[_.jsx(Un,{className:"w-6 h-6 text-amber-500"}),_.jsx("span",{className:"text-lg font-black tracking-widest uppercase text-gray-400 whitespace-nowrap",children:""})]}),_.jsx("div",{className:"bg-indigo-500/10 border border-indigo-500/30 px-3 py-1.5 rounded-full min-w-0 flex-shrink",children:_.jsxs("span",{className:"text-xs font-black text-indigo-400 uppercase tracking-tighter whitespace-nowrap block truncate",children:[Yt(gt.start),"  ",Yt(gt.end)]})})]}),_.jsxs("div",{className:"flex justify-between items-end gap-2 w-full",children:[_.jsxs("div",{className:"flex-1 min-w-0 flex items-baseline text-white font-black tracking-tighter leading-none overflow-hidden",children:[_.jsx("span",{className:"text-[clamp(1.8rem,8vw,2.5rem)] mr-1 flex-shrink-0",children:""}),_.jsx("span",{className:"text-[clamp(2.5rem,12vw,4rem)] min-w-0 truncate",children:Math.round(t.totalSales).toLocaleString()})]}),_.jsxs("div",{className:"text-right flex-shrink-0",children:[_.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-1 whitespace-nowrap",children:""}),_.jsxs("p",{className:"text-[clamp(1.8rem,8vw,2.5rem)] font-black text-amber-500 leading-none whitespace-nowrap",children:[Me," ",_.jsx("span",{className:"text-lg font-bold",children:""})]})]})]}),_.jsxs("div",{className:"bg-gray-800 rounded-2xl p-4 border-2 border-blue-500 flex justify-between items-center shadow-inner gap-3 cursor-pointer active:scale-95 transition-transform hover:border-blue-400",onClick:()=>te(!0),children:[_.jsxs("div",{className:"min-w-0",children:[_.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-1 whitespace-nowrap",children:" (1)"}),_.jsx("p",{className:"text-[clamp(1.6rem,8vw,2.2rem)] font-black text-white leading-none truncate",children:qr(Ue)})]}),_.jsx(d0,{className:"w-8 h-8 text-amber-500/10 flex-shrink-0"})]}),_.jsxs("div",{className:"space-y-3",children:[_.jsx(R_,{progress:t.totalSales/(t.monthlyGoal||1)*100,color:"blue"}),_.jsxs("div",{onClick:()=>{L(t.monthlyGoal.toLocaleString()),T(!0)},className:"flex justify-between items-center text-base font-black text-gray-400 cursor-pointer active:scale-95 gap-3",children:[_.jsxs("span",{className:"whitespace-nowrap",children:[Math.round(t.totalSales/(t.monthlyGoal||1)*100),"% "]}),_.jsx("span",{className:"flex items-center gap-1 uppercase underline underline-offset-4 decoration-amber-500/50 decoration-2 truncate min-w-0 justify-end",children:_.jsxs("span",{className:"truncate",children:[" ",qr(t.monthlyGoal)]})})]})]})]}),!r&&_.jsx(S1,{followingUsers:t.followingUsers||[]}),y&&_.jsx(ri,{onClose:()=>T(!1),children:_.jsxs("div",{className:"space-y-6 pb-4 text-center",children:[_.jsx("h3",{className:"text-xl font-black text-white",children:""}),_.jsxs("div",{className:"bg-gray-800 p-5 rounded-2xl border-2 border-blue-500 flex items-center shadow-inner",children:[_.jsx("span",{className:"text-blue-400 font-black mr-2 text-3xl",children:""}),_.jsx("input",{type:"text",inputMode:"numeric",value:H,onChange:Te=>L(Uo(Te.target.value)),className:"bg-transparent text-white text-[clamp(2.2rem,10vw,3.5rem)] font-black w-full outline-none",autoFocus:!0})]}),_.jsx("button",{onClick:()=>{l(An(H)),T(!1)},className:"w-full bg-blue-600 py-4 rounded-2xl font-black text-xl text-white shadow-xl active:scale-95 transition-transform",children:""})]})}),R&&_.jsx(ri,{onClose:()=>P(!1),children:_.jsxs("div",{className:"space-y-6 pb-4 text-center",children:[_.jsx("h3",{className:"text-xl font-black text-white",children:""}),_.jsxs("div",{className:"bg-gray-900 p-5 rounded-2xl border-2 border-gray-700 flex items-center shadow-inner",children:[_.jsx("span",{className:"text-amber-500 font-black mr-2 text-3xl",children:""}),_.jsx("input",{type:"text",inputMode:"numeric",value:I,onChange:Te=>O(Uo(Te.target.value)),className:"bg-transparent text-white text-[clamp(2.2rem,10vw,3.5rem)] font-black w-full outline-none",autoFocus:!0})]}),_.jsx("button",{onClick:()=>{c(An(I)),P(!1)},className:"w-full bg-amber-500 text-black py-4 rounded-2xl font-black text-xl shadow-xl active:scale-95 transition-transform",children:""})]})}),W&&_.jsx(ri,{onClose:()=>te(!1),children:_.jsxs("div",{className:"space-y-6 pb-4",children:[_.jsxs("div",{className:"text-center mb-6",children:[_.jsx("div",{className:"flex justify-center mb-4",children:_.jsx("div",{className:"bg-amber-500/10 p-4 rounded-full",children:_.jsx(Io,{className:"w-12 h-12 text-amber-500"})})}),_.jsx("h3",{className:"text-2xl font-black text-white mb-2",children:""}),_.jsx("p",{className:"text-sm text-gray-400 font-bold",children:""})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"bg-gradient-to-br from-blue-500/20 to-indigo-500/20 rounded-2xl p-5 border-2 border-blue-500/50 shadow-lg",children:[_.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[_.jsx(d0,{className:"w-6 h-6 text-blue-400 flex-shrink-0"}),_.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:""})]}),_.jsxs("div",{className:"flex items-baseline text-white font-black leading-none",children:[_.jsx("span",{className:"text-2xl mr-1 text-blue-400",children:""}),_.jsx("span",{className:"text-[clamp(2rem,10vw,3rem)]",children:Math.round(ct).toLocaleString()})]}),_.jsx("p",{className:"text-[10px] text-gray-500 font-bold mt-2 leading-tight",children:"    "})]}),_.jsxs("div",{className:"bg-gradient-to-br from-amber-500/20 to-orange-500/20 rounded-2xl p-5 border-2 border-amber-500/50 shadow-lg",children:[_.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[_.jsx(Un,{className:"w-6 h-6 text-amber-400 flex-shrink-0"}),_.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:""})]}),_.jsxs("div",{className:"flex items-baseline text-white font-black leading-none",children:[_.jsx("span",{className:"text-2xl mr-1 text-amber-400",children:""}),_.jsx("span",{className:"text-[clamp(2rem,10vw,3rem)]",children:Math.round(Be).toLocaleString()})]}),_.jsx("p",{className:"text-[10px] text-gray-500 font-bold mt-2 leading-tight",children:"  "})]}),_.jsxs("div",{className:"bg-gradient-to-br from-red-500/20 to-pink-500/20 rounded-2xl p-5 border-2 border-red-500/50 shadow-lg",children:[_.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[_.jsx(Io,{className:"w-6 h-6 text-red-400 flex-shrink-0"}),_.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:""})]}),_.jsxs("div",{className:"flex items-baseline text-white font-black leading-none",children:[_.jsx("span",{className:"text-2xl mr-1 text-red-400",children:""}),_.jsx("span",{className:"text-[clamp(2rem,10vw,3rem)]",children:Ue>0?Math.round(Ue).toLocaleString():"---"})]}),_.jsx("p",{className:"text-[10px] text-gray-500 font-bold mt-2 leading-tight",children:" -  "})]})]}),_.jsx("button",{onClick:()=>te(!1),className:"w-full bg-amber-500 text-black py-4 rounded-2xl font-black text-xl shadow-xl active:scale-95 transition-transform mt-6",children:""})]})}),r?_.jsxs("div",{className:"space-y-5 w-full",children:[_.jsxs("div",{className:"bg-gray-800 rounded-[28px] p-5 border-2 border-blue-500 shadow-2xl w-full",children:[_.jsxs("div",{className:"flex justify-between items-start mb-5 gap-3",children:[_.jsxs("div",{className:"flex flex-col min-w-0 cursor-pointer active:opacity-70 transition-opacity",onClick:h,children:[_.jsxs("div",{className:"flex items-center gap-2 whitespace-nowrap",children:[_.jsxs("span",{className:"text-lg font-black text-gray-400 uppercase flex items-center gap-2",children:[_.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full animate-pulse shadow-[0_0_12px_#22C55E]"})," "]}),_.jsx("span",{className:"text-base font-bold text-white/90 font-mono underline decoration-dotted decoration-gray-600 underline-offset-4",children:We})]}),_.jsxs("span",{className:"text-xs text-gray-600 font-bold mt-1 tracking-widest uppercase truncate",children:[mt," (",Ye?C_(Ye):"",")"]})]}),_.jsx("button",{onClick:s,className:"bg-red-500/10 text-red-500 text-sm font-black py-2.5 px-5 rounded-full border border-red-500/30 active:scale-95 shadow-sm whitespace-nowrap flex-shrink-0",children:""})]}),_.jsxs("div",{className:"mb-6",children:[_.jsxs("div",{className:"flex items-baseline text-white font-black tracking-tighter leading-none min-w-0 w-full overflow-hidden",children:[_.jsx("span",{className:"text-[clamp(2.2rem,8vw,3rem)] mr-1 text-amber-500 font-black flex-shrink-0",children:""}),_.jsx("span",{className:"text-[clamp(3.5rem,12vw,5.5rem)] min-w-0 truncate",children:fe.toLocaleString()})]}),_.jsxs("div",{className:"mt-3 text-lg font-black text-gray-500 flex flex-wrap items-center gap-x-4 gap-y-2",children:[_.jsxs("span",{className:"flex items-center gap-2 overflow-hidden min-w-0",children:[_.jsx("span",{className:"text-[10px] bg-gray-800 px-2 py-1 rounded text-gray-400 font-black uppercase tracking-tighter whitespace-nowrap flex-shrink-0",children:""}),_.jsx("span",{className:"truncate",children:qr(pe)})]}),_.jsxs("span",{className:"flex items-center gap-2 overflow-hidden min-w-0",children:[_.jsx("span",{className:"text-[10px] bg-gray-800 px-2 py-1 rounded text-gray-400 font-black uppercase tracking-tighter whitespace-nowrap flex-shrink-0",children:""}),_.jsxs("span",{className:`truncate font-black ${st>=0?"text-green-500":"text-red-500"}`,children:[st>=0?"+":"",Math.round(st).toLocaleString()]})]})]})]}),_.jsxs("div",{className:"space-y-3",children:[_.jsx(R_,{progress:et,color:"amber"}),_.jsxs("div",{onClick:()=>{O(r.dailyGoal.toLocaleString()),P(!0)},className:"flex justify-between items-center text-sm font-black text-gray-500 active:scale-95 gap-3",children:[_.jsxs("span",{className:"whitespace-nowrap flex-shrink-0",children:[Math.round(et),"% "]}),_.jsx("span",{className:"flex items-center gap-1 uppercase underline decoration-amber-500/50 decoration-2 underline-offset-4 truncate min-w-0 justify-end",children:_.jsxs("span",{className:"truncate",children:[" ",qr(r.dailyGoal)]})})]})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-6 mb-6",children:[_.jsxs("div",{className:"bg-gray-800 rounded-2xl p-3 flex flex-col items-center justify-center border-2 border-blue-400 shadow-inner min-h-[110px]",children:[_.jsx(WE,{className:"w-6 h-6 text-blue-400 mb-2"}),_.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase mb-1 tracking-widest whitespace-nowrap",children:""}),_.jsxs("p",{className:"text-[clamp(1.4rem,6vw,2rem)] font-black text-white leading-none truncate w-full text-center",children:["",Math.round($e).toLocaleString()]})]}),_.jsxs("div",{className:"bg-gray-800 rounded-2xl p-3 flex flex-col items-center justify-center border-2 border-amber-400 shadow-inner min-h-[110px]",children:[_.jsx($4,{className:"w-6 h-6 text-amber-400 mb-2"}),_.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase mb-1 tracking-widest whitespace-nowrap",children:""}),_.jsxs("p",{className:"text-[clamp(1.8rem,7vw,2.5rem)] font-black text-white leading-none whitespace-nowrap",children:[ne.length,_.jsx("span",{className:"text-sm font-bold text-gray-400 ml-1",children:""})]})]}),_.jsxs("div",{className:"bg-gray-800 rounded-2xl p-3 flex flex-col items-center justify-center border-2 border-red-500 shadow-inner min-h-[110px] cursor-pointer active:scale-95 transition-transform hover:border-red-400",onClick:()=>te(!0),children:[_.jsx(jf,{className:"w-6 h-6 text-red-500 mb-2"}),_.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase mb-1 tracking-widest whitespace-nowrap",children:" / "}),_.jsx("p",{className:"text-[clamp(1.4rem,6vw,2rem)] font-black text-white leading-none truncate w-full text-center",children:Ue>0?`${Math.round(Ue).toLocaleString()}`:"---"})]}),_.jsxs("div",{className:"bg-gray-800 rounded-2xl p-3 flex flex-col items-center justify-center border-2 border-red-500 shadow-inner min-h-[110px] cursor-pointer active:bg-gray-700 transition-colors",onClick:()=>{O(r.dailyGoal.toLocaleString()),P(!0)},children:[_.jsx(Io,{className:"w-6 h-6 text-red-500 mb-2"}),_.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase mb-1 tracking-widest whitespace-nowrap",children:""}),_.jsxs("p",{className:"text-[clamp(1.4rem,6vw,2rem)] font-black text-white leading-none truncate w-full text-center",children:["",it.toLocaleString()]})]})]}),e.isActive?_.jsxs("div",{className:"bg-gray-800 rounded-2xl p-5 border-2 border-blue-500 shadow-2xl mb-4 animate-in fade-in",children:[_.jsxs("div",{className:"flex flex-col items-center mb-5",children:[_.jsxs("span",{className:"text-indigo-400 font-black uppercase tracking-widest text-sm flex items-center gap-2 mb-2",children:[_.jsx(Gv,{className:"w-5 h-5 animate-bounce"})," "]}),_.jsx("span",{className:"text-5xl font-black text-white font-mono tracking-wider",children:ge(G)})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[_.jsxs("button",{onClick:Se,className:"bg-green-600 text-white py-4 rounded-xl font-black text-sm active:scale-95 shadow-lg flex flex-col items-center justify-center gap-1 leading-none",children:[_.jsx(Xv,{className:"w-6 h-6"})," ()"]}),_.jsxs("button",{onClick:he,className:"bg-gray-800 text-gray-300 py-4 rounded-xl font-black text-sm active:scale-95 shadow-lg border border-gray-700 flex flex-col items-center justify-center gap-1 leading-none",children:[_.jsx(Bk,{className:"w-6 h-6 text-gray-500"})," ()"]})]})]}):_.jsxs("div",{className:"flex gap-3 h-20",children:[_.jsxs("button",{onClick:u,className:"w-1/3 bg-gray-800 text-indigo-300 rounded-[24px] flex flex-col items-center justify-center gap-1 shadow-lg active:scale-95 transition-transform border-2 border-indigo-300",children:[_.jsx(Gv,{className:"w-6 h-6"}),_.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:""})]}),_.jsxs("button",{onClick:()=>i(),className:"flex-1 bg-[#EAB308] text-black rounded-[24px] font-black text-2xl flex items-center justify-center gap-3 shadow-xl active:scale-95 transition-transform",children:[_.jsx(Xv,{className:"w-8 h-8"})," "]})]})]}),_.jsxs("div",{className:"space-y-4 w-full",children:[_.jsx(S1,{followingUsers:t.followingUsers||[]}),_.jsx("div",{className:"flex flex-col gap-3",children:_.jsxs("h3",{className:"text-lg font-black px-2 text-white flex justify-between items-center tracking-tight italic uppercase flex-wrap gap-2",children:[_.jsx("span",{className:"whitespace-nowrap",children:""}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{onClick:()=>C(!U),className:`text-[10px] px-3 py-1.5 rounded-full flex items-center gap-1.5 font-black active:scale-95 shadow-sm border transition-all whitespace-nowrap ${U?"bg-amber-500 text-black border-amber-400":"bg-gray-800 text-gray-400 border-gray-700"}`,children:""}),_.jsxs("button",{onClick:()=>N(!z),className:`text-[10px] px-3 py-1.5 rounded-full flex items-center gap-1.5 font-black active:scale-95 shadow-sm border transition-all whitespace-nowrap ${z?"bg-amber-500 text-black border-amber-400":"bg-gray-800 text-gray-400 border-gray-700"}`,children:[_.jsx(uE,{className:"w-3.5 h-3.5"})," "]}),_.jsxs("button",{onClick:()=>q(!F),className:"text-[10px] bg-gray-800 text-gray-400 px-3 py-1.5 rounded-full flex items-center gap-1.5 font-black active:scale-95 shadow-sm border border-gray-700 whitespace-nowrap",children:[_.jsx(F1,{className:"w-3.5 h-3.5"})," ",F?"":""]})]})]})}),U?_.jsx("div",{className:"bg-gray-900 rounded-lg border border-gray-700 overflow-hidden shadow-sm",children:_.jsxs("table",{className:"w-full border-collapse",children:[_.jsx("thead",{children:_.jsxs("tr",{className:"bg-orange-500 text-white",children:[_.jsx("th",{className:"py-2 px-2 border-r border-orange-600 text-center text-base font-black w-[50px]",children:""}),_.jsx("th",{className:"py-2 px-2 border-r border-orange-600 text-center text-base font-black w-[85px]",children:""}),_.jsx("th",{className:"py-2 px-2 border-r border-orange-600 text-center text-base font-black flex-1",children:"/"}),_.jsx("th",{className:"py-2 px-2 text-center text-base font-black w-[70px]",children:""})]})}),_.jsx("tbody",{children:Ze.length===0?_.jsx("tr",{children:_.jsx("td",{colSpan:4,className:"p-8 text-center text-gray-400 font-black uppercase tracking-widest text-sm",children:""})}):Ze.map((Te,rt)=>{const Re=F?ne.length-rt:rt+1;return _.jsx(qf,{record:Te,index:Re,isDetailed:z,isSlim:U,customLabels:t.customPaymentLabels||{},businessStartHour:t.businessStartHour,onClick:()=>a(Te)},Te.id)})})]})}):_.jsx("div",{className:"space-y-3 w-full",children:Ze.length===0?_.jsx("div",{className:"bg-gray-800 p-8 rounded-[28px] border-2 border-blue-500 text-center text-gray-600 font-black uppercase tracking-widest text-sm",children:""}):Ze.map((Te,rt)=>{const Re=F?ne.length-rt:rt+1;return _.jsxs("div",{className:"relative",children:[Te.amount===0&&_.jsx("div",{className:"absolute -top-2 -right-1 z-10",children:_.jsx("span",{className:"bg-red-500 text-white text-[10px] font-black px-2 py-1 rounded-full shadow-lg border border-red-400 animate-pulse",children:""})}),_.jsx("div",{className:Te.amount===0?"ring-2 ring-red-500 ring-offset-2 ring-offset-[#0A0E14] rounded-[24px]":"",children:_.jsx(qf,{record:Te,index:Re,isDetailed:z,isSlim:U,customLabels:t.customPaymentLabels||{},businessStartHour:t.businessStartHour,onClick:()=>a(Te)})})]},Te.id)})}),ne.length>0&&_.jsx("div",{className:"mt-4",children:_.jsx(Vb,{breakdown:ke,counts:Ce,customLabels:t.customPaymentLabels||{},enabledMethods:t.enabledPaymentMethods})})]})]}):_.jsxs("div",{className:"bg-gray-800 rounded-[32px] p-6 border-2 border-blue-500 text-center space-y-6 shadow-2xl relative overflow-hidden",children:[_.jsxs("div",{className:"relative w-40 h-40 mx-auto mb-2 animate-floating z-10",children:[_.jsx("div",{className:"absolute inset-0 bg-amber-500 rounded-full blur-[50px] opacity-20 mix-blend-screen animate-pulse"}),_.jsx("img",{src:dj,alt:"Taxi",className:"w-full h-full object-contain",style:{filter:"brightness(1.05) saturate(1.2) drop-shadow(0 0 10px rgba(245, 158, 11, 0.5))"}})]}),_.jsxs("div",{className:"space-y-2 relative z-10",children:[_.jsx("h3",{className:"text-[clamp(2.2rem,10vw,3rem)] font-black text-white tracking-tight",children:""}),_.jsx("p",{className:"text-lg text-gray-500 font-black uppercase tracking-widest",children:mt})]}),_.jsxs("div",{className:"space-y-1",children:[_.jsx("p",{className:"text-[18px] font-black text-gray-500 uppercase tracking-widest text-left pl-1",children:""}),_.jsxs("div",{className:"flex items-center bg-gray-800 rounded-2xl p-5 border-2 border-blue-500 focus-within:border-blue-400 transition-all shadow-inner",children:[_.jsx("span",{className:"text-amber-500 font-black text-3xl mr-2",children:""}),_.jsx("input",{type:"text",inputMode:"numeric",value:x,onChange:Te=>b(Uo(Te.target.value)),className:"bg-transparent text-white text-[clamp(2.2rem,10vw,3.5rem)] font-black w-full outline-none text-center"})]})]}),_.jsxs("div",{className:"space-y-1",children:[_.jsx("p",{className:"text-[18px] font-black text-gray-500 uppercase tracking-widest text-left pl-1",children:""}),_.jsxs("div",{className:"flex items-center bg-gray-800 rounded-2xl p-5 border-2 border-blue-500 focus-within:border-blue-400 transition-all shadow-inner",children:[_.jsx(jo,{className:"text-gray-500 w-8 h-8 mr-3"}),_.jsx("input",{type:"number",inputMode:"numeric",value:j,onChange:Te=>B(Te.target.value),placeholder:"ODO",className:"bg-transparent text-white text-[clamp(1.5rem,8vw,2.5rem)] font-black w-full outline-none text-center placeholder-gray-700"}),_.jsx("span",{className:"text-gray-500 font-bold ml-2",children:"km"})]})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsx("p",{className:"text-[18px] font-black text-gray-400 uppercase tracking-widest",children:""}),_.jsx("div",{className:"grid grid-cols-4 gap-3",children:[8,10,12,14].map(Te=>_.jsxs("button",{onClick:()=>v(Te),className:`py-3 rounded-xl font-black text-xl border-2 transition-all ${g===Te?"bg-amber-500 border-amber-400 text-black":"bg-gray-800 border-gray-700 text-gray-500"}`,children:[Te,"h"]},Te))}),_.jsxs("div",{className:"relative",children:[_.jsx("select",{value:g,onChange:Te=>v(parseInt(Te.target.value)),className:"w-full bg-gray-800 border-2 border-blue-500 rounded-2xl p-4 text-white text-lg font-black appearance-none focus:border-blue-400 outline-none",children:je.map(Te=>_.jsxs("option",{value:Te,children:[Te," "]},Te))}),_.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-500",children:_.jsx(Zs,{className:"w-5 h-5"})})]}),_.jsxs("div",{className:"bg-gray-800 p-4 rounded-2xl flex items-center justify-between border-2 border-blue-500",children:[_.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase whitespace-nowrap",children:""}),_.jsx("span",{className:"text-xl font-black text-white",children:C_(Date.now()+g*36e5)})]})]}),_.jsx("button",{onClick:ae,className:"w-full bg-[#EAB308] text-black py-5 rounded-2xl font-black text-2xl shadow-xl active:scale-95 transition-transform",children:"   "})]})]})};function zd(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Fg={exports:{}};/*! ExcelJS 19-10-2023 */var M_;function gj(){return M_||(M_=1,(function(r,t){(function(e){r.exports=e()})((function(){return(function e(n,s,i){function a(o,u){if(!s[o]){if(!n[o]){var p=typeof zd=="function"&&zd;if(!u&&p)return p(o,!0);if(l)return l(o,!0);var h=new Error("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var d=s[o]={exports:{}};n[o][0].call(d.exports,(function(x){return a(n[o][1][x]||x)}),d,d.exports,e,n,s,i)}return s[o].exports}for(var l=typeof zd=="function"&&zd,c=0;c<i.length;c++)a(i[c]);return a})({1:[function(e,n,s){const i=e("fs"),a=e("fast-csv"),l=e("dayjs/plugin/customParseFormat"),c=e("dayjs/plugin/utc"),o=e("dayjs").extend(l).extend(c),u=e("../utils/stream-buf"),{fs:{exists:p}}=e("../utils/utils"),h={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};n.exports=class{constructor(d){this.workbook=d,this.worksheet=null}async readFile(d,x){if(x=x||{},!await p(d))throw new Error("File not found: "+d);const b=i.createReadStream(d),g=await this.read(b,x);return b.close(),g}read(d,x){return x=x||{},new Promise((b,g)=>{const v=this.workbook.addWorksheet(x.sheetName),y=x.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],T=x.map||function(P){if(P==="")return null;const H=Number(P);if(!Number.isNaN(H)&&H!==1/0)return H;const L=y.reduce((O,F)=>{if(O)return O;const q=o(P,F,!0);return q.isValid()?q:null},null);if(L)return new Date(L.valueOf());const I=h[P];return I!==void 0?I:P},R=a.parse(x.parserOptions).on("data",P=>{v.addRow(P.map(T))}).on("end",()=>{R.emit("worksheet",v)});R.on("worksheet",b).on("error",g),d.pipe(R)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(d,x){return new Promise((b,g)=>{x=x||{};const v=this.workbook.getWorksheet(x.sheetName||x.sheetId),y=a.format(x.formatterOptions);d.on("finish",()=>{b()}),y.on("error",g),y.pipe(d);const{dateFormat:T,dateUTC:R}=x,P=x.map||(I=>{if(I){if(I.text||I.hyperlink)return I.hyperlink||I.text||"";if(I.formula||I.result)return I.result||"";if(I instanceof Date)return T?R?o.utc(I).format(T):o(I).format(T):R?o.utc(I).format():o(I).format();if(I.error)return I.error;if(typeof I=="object")return JSON.stringify(I)}return I}),H=x.includeEmptyRows===void 0||x.includeEmptyRows;let L=1;v&&v.eachRow((I,O)=>{if(H)for(;L++<O-1;)y.write([]);const{values:F}=I;F.shift(),y.write(F.map(P)),L=O}),y.end()})}writeFile(d,x){const b={encoding:(x=x||{}).encoding||"utf8"},g=i.createWriteStream(d,b);return this.write(g,x)}async writeBuffer(d){const x=new u;return await this.write(x,d),x.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(e,n,s){const i=e("../utils/col-cache");class a{constructor(c,o){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=c,o)if(typeof o=="string"){const p=i.decodeAddress(o);this.nativeCol=p.col+u,this.nativeColOff=0,this.nativeRow=p.row+u,this.nativeRowOff=0}else o.nativeCol!==void 0?(this.nativeCol=o.nativeCol||0,this.nativeColOff=o.nativeColOff||0,this.nativeRow=o.nativeRow||0,this.nativeRowOff=o.nativeRowOff||0):o.col!==void 0?(this.col=o.col+u,this.row=o.row+u):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(c){return c instanceof a||c==null?c:new a(c)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(c){this.nativeCol=Math.floor(c),this.nativeColOff=Math.floor((c-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(c){this.nativeRow=Math.floor(c),this.nativeRowOff=Math.floor((c-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(c){this.nativeCol=c.nativeCol,this.nativeColOff=c.nativeColOff,this.nativeRow=c.nativeRow,this.nativeRowOff=c.nativeRowOff}}n.exports=a},{"../utils/col-cache":19}],3:[function(e,n,s){const i=e("../utils/col-cache"),a=e("../utils/under-dash"),l=e("./enums"),{slideFormula:c}=e("../utils/shared-formula"),o=e("./note");class u{constructor(d,x,b){if(!d||!x)throw new Error("A Cell needs a Row");this._row=d,this._column=x,i.validateAddress(b),this._address=b,this._value=p.create(u.Types.Null,this),this.style=this._mergeStyle(d.style,x.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(d){this.style.numFmt=d}get font(){return this.style.font}set font(d){this.style.font=d}get alignment(){return this.style.alignment}set alignment(d){this.style.alignment=d}get border(){return this.style.border}set border(d){this.style.border=d}get fill(){return this.style.fill}set fill(d){this.style.fill=d}get protection(){return this.style.protection}set protection(d){this.style.protection=d}_mergeStyle(d,x,b){const g=d&&d.numFmt||x&&x.numFmt;g&&(b.numFmt=g);const v=d&&d.font||x&&x.font;v&&(b.font=v);const y=d&&d.alignment||x&&x.alignment;y&&(b.alignment=y);const T=d&&d.border||x&&x.border;T&&(b.border=T);const R=d&&d.fill||x&&x.fill;R&&(b.fill=R);const P=d&&d.protection||x&&x.protection;return P&&(b.protection=P),b}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===u.Types.Merge}merge(d,x){this._value.release(),this._value=p.create(u.Types.Merge,this,d),x||(this.style=d.style)}unmerge(){this.type===u.Types.Merge&&(this._value.release(),this._value=p.create(u.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(d){return this._value.type===u.Types.Merge&&this._value.isMergedTo(d)}get master(){return this.type===u.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===u.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(d){this.type!==u.Types.Merge?(this._value.release(),this._value=p.create(p.getType(d),this,d)):this._value.master.value=d}get note(){return this._comment&&this._comment.note}set note(d){this._comment=new o(d)}get text(){return this._value.toString()}get html(){return a.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(d){this.type===u.Types.String&&(this._value=p.create(u.Types.Hyperlink,this,{text:this._value.value,hyperlink:d}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:d}=this._row;return{sheetName:d.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(d){this.names=[d]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(d){const{definedNames:x}=this.workbook;x.removeAllNames(this.fullAddress),d.forEach(b=>{x.addEx(this.fullAddress,b)})}addName(d){this.workbook.definedNames.addEx(this.fullAddress,d)}removeName(d){this.workbook.definedNames.removeEx(this.fullAddress,d)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(d){this._dataValidations.add(this.address,d)}get model(){const{model:d}=this._value;return d.style=this.style,this._comment&&(d.comment=this._comment.model),d}set model(d){if(this._value.release(),this._value=p.create(d.type,this),this._value.model=d,d.comment)switch(d.comment.type){case"note":this._comment=o.fromModel(d.comment)}d.style?this.style=d.style:this.style={}}}u.Types=l.ValueType;const p={getType:h=>h==null?u.Types.Null:h instanceof String||typeof h=="string"?u.Types.String:typeof h=="number"?u.Types.Number:typeof h=="boolean"?u.Types.Boolean:h instanceof Date?u.Types.Date:h.text&&h.hyperlink?u.Types.Hyperlink:h.formula||h.sharedFormula?u.Types.Formula:h.richText?u.Types.RichText:h.sharedString?u.Types.SharedString:h.error?u.Types.Error:u.Types.JSON,types:[{t:u.Types.Null,f:class{constructor(h){this.model={address:h.address,type:u.Types.Null}}get value(){return null}set value(h){}get type(){return u.Types.Null}get effectiveType(){return u.Types.Null}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return""}release(){}toString(){return""}}},{t:u.Types.Number,f:class{constructor(h,d){this.model={address:h.address,type:u.Types.Number,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.Number}get effectiveType(){return u.Types.Number}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.String,f:class{constructor(h,d){this.model={address:h.address,type:u.Types.String,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.String}get effectiveType(){return u.Types.String}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:u.Types.Date,f:class{constructor(h,d){this.model={address:h.address,type:u.Types.Date,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.Date}get effectiveType(){return u.Types.Date}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.Hyperlink,f:class{constructor(h,d){this.model={address:h.address,type:u.Types.Hyperlink,text:d?d.text:void 0,hyperlink:d?d.hyperlink:void 0},d&&d.tooltip&&(this.model.tooltip=d.tooltip)}get value(){const h={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(h.tooltip=this.model.tooltip),h}set value(h){this.model={text:h.text,hyperlink:h.hyperlink},h.tooltip&&(this.model.tooltip=h.tooltip)}get text(){return this.model.text}set text(h){this.model.text=h}get hyperlink(){return this.model.hyperlink}set hyperlink(h){this.model.hyperlink=h}get type(){return u.Types.Hyperlink}get effectiveType(){return u.Types.Hyperlink}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:u.Types.Formula,f:class{constructor(h,d){this.cell=h,this.model={address:h.address,type:u.Types.Formula,shareType:d?d.shareType:void 0,ref:d?d.ref:void 0,formula:d?d.formula:void 0,sharedFormula:d?d.sharedFormula:void 0,result:d?d.result:void 0}}_copyModel(h){const d={},x=b=>{const g=h[b];g&&(d[b]=g)};return x("formula"),x("result"),x("ref"),x("shareType"),x("sharedFormula"),d}get value(){return this._copyModel(this.model)}set value(h){this.model=this._copyModel(h)}validate(h){switch(p.getType(h)){case u.Types.Null:case u.Types.String:case u.Types.Number:case u.Types.Date:break;case u.Types.Hyperlink:case u.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(h){this.model.formula=h}get formulaType(){return this.model.formula?l.FormulaType.Master:this.model.sharedFormula?l.FormulaType.Shared:l.FormulaType.None}get result(){return this.model.result}set result(h){this.model.result=h}get type(){return u.Types.Formula}get effectiveType(){const h=this.model.result;return h==null?l.ValueType.Null:h instanceof String||typeof h=="string"?l.ValueType.String:typeof h=="number"?l.ValueType.Number:h instanceof Date?l.ValueType.Date:h.text&&h.hyperlink?l.ValueType.Hyperlink:h.formula?l.ValueType.Formula:l.ValueType.Null}get address(){return this.model.address}set address(h){this.model.address=h}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:h}=this.cell,d=h.findCell(this.model.sharedFormula);this._translatedFormula=d&&c(d.formula,d.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:u.Types.Merge,f:class{constructor(h,d){this.model={address:h.address,type:u.Types.Merge,master:d?d.address:void 0},this._master=d,d&&d.addMergeRef()}get value(){return this._master.value}set value(h){h instanceof u?(this._master&&this._master.releaseMergeRef(),h.addMergeRef(),this._master=h):this._master.value=h}isMergedTo(h){return h===this._master}get master(){return this._master}get type(){return u.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:u.Types.JSON,f:class{constructor(h,d){this.model={address:h.address,type:u.Types.String,value:JSON.stringify(d),rawValue:d}}get value(){return this.model.rawValue}set value(h){this.model.rawValue=h,this.model.value=JSON.stringify(h)}get type(){return u.Types.String}get effectiveType(){return u.Types.String}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:u.Types.SharedString,f:class{constructor(h,d){this.model={address:h.address,type:u.Types.SharedString,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.SharedString}get effectiveType(){return u.Types.SharedString}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.RichText,f:class{constructor(h,d){this.model={address:h.address,type:u.Types.String,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}toString(){return this.model.value.richText.map(h=>h.text).join("")}get type(){return u.Types.RichText}get effectiveType(){return u.Types.RichText}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:u.Types.Boolean,f:class{constructor(h,d){this.model={address:h.address,type:u.Types.Boolean,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.Boolean}get effectiveType(){return u.Types.Boolean}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.Error,f:class{constructor(h,d){this.model={address:h.address,type:u.Types.Error,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.Error}get effectiveType(){return u.Types.Error}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((h,d)=>(h[d.t]=d.f,h),[]),create(h,d,x){const b=this.types[h];if(!b)throw new Error("Could not create Value of type "+h);return new b(d,x)}};n.exports=u},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(e,n,s){const i=e("../utils/under-dash"),a=e("./enums"),l=e("../utils/col-cache");class c{constructor(u,p,h){this._worksheet=u,this._number=p,h!==!1&&(this.defn=h)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return l.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(u){u?(this.key=u.key,this.width=u.width!==void 0?u.width:9,this.outlineLevel=u.outlineLevel,u.style?this.style=u.style:this.style={},this.header=u.header,this._hidden=!!u.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(u){u!==void 0?(this._header=u,this.headers.forEach((p,h)=>{this._worksheet.getCell(h+1,this.number).value=p})):this._header=void 0}get key(){return this._key}set key(u){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=u,u&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(u){this._hidden=u}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(u){this._outlineLevel=u}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(u){return this.width===u.width&&this.hidden===u.hidden&&this.outlineLevel===u.outlineLevel&&i.isEqual(this.style,u.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const u=this.style;return!u||!(u.font||u.numFmt||u.alignment||u.border||u.fill||u.protection)}get headerCount(){return this.headers.length}eachCell(u,p){const h=this.number;p||(p=u,u=null),this._worksheet.eachRow(u,(d,x)=>{p(d.getCell(h),x)})}get values(){const u=[];return this.eachCell((p,h)=>{p&&p.type!==a.ValueType.Null&&(u[h]=p.value)}),u}set values(u){if(!u)return;const p=this.number;let h=0;u.hasOwnProperty("0")&&(h=1),u.forEach((d,x)=>{this._worksheet.getCell(x+h,p).value=d})}_applyStyle(u,p){return this.style[u]=p,this.eachCell(h=>{h[u]=p}),p}get numFmt(){return this.style.numFmt}set numFmt(u){this._applyStyle("numFmt",u)}get font(){return this.style.font}set font(u){this._applyStyle("font",u)}get alignment(){return this.style.alignment}set alignment(u){this._applyStyle("alignment",u)}get protection(){return this.style.protection}set protection(u){this._applyStyle("protection",u)}get border(){return this.style.border}set border(u){this._applyStyle("border",u)}get fill(){return this.style.fill}set fill(u){this._applyStyle("fill",u)}static toModel(u){const p=[];let h=null;return u&&u.forEach((d,x)=>{d.isDefault?h&&(h=null):h&&d.equivalentTo(h)?h.max=x+1:(h={min:x+1,max:x+1,width:d.width!==void 0?d.width:9,style:d.style,isCustomWidth:d.isCustomWidth,hidden:d.hidden,outlineLevel:d.outlineLevel,collapsed:d.collapsed},p.push(h))}),p.length?p:void 0}static fromModel(u,p){const h=[];let d=1,x=0;for(p=(p=p||[]).sort((function(b,g){return b.min-g.min}));x<p.length;){const b=p[x++];for(;d<b.min;)h.push(new c(u,d++));for(;d<=b.max;)h.push(new c(u,d++,b))}return h.length?h:null}}n.exports=c},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(e,n,s){n.exports=class{constructor(i){this.model=i||{}}add(i,a){return this.model[i]=a}find(i){return this.model[i]}remove(i){this.model[i]=void 0}}},{}],6:[function(e,n,s){const i=e("../utils/under-dash"),a=e("../utils/col-cache"),l=e("../utils/cell-matrix"),c=e("./range"),o=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;n.exports=class{constructor(){this.matrixMap={}}getMatrix(u){return this.matrixMap[u]||(this.matrixMap[u]=new l)}add(u,p){const h=a.decodeEx(u);this.addEx(h,p)}addEx(u,p){const h=this.getMatrix(p);if(u.top)for(let d=u.left;d<=u.right;d++)for(let x=u.top;x<=u.bottom;x++){const b={sheetName:u.sheetName,address:a.n2l(d)+x,row:x,col:d};h.addCellEx(b)}else h.addCellEx(u)}remove(u,p){const h=a.decodeEx(u);this.removeEx(h,p)}removeEx(u,p){this.getMatrix(p).removeCellEx(u)}removeAllNames(u){i.each(this.matrixMap,p=>{p.removeCellEx(u)})}forEach(u){i.each(this.matrixMap,(p,h)=>{p.forEach(d=>{u(h,d)})})}getNames(u){return this.getNamesEx(a.decodeEx(u))}getNamesEx(u){return i.map(this.matrixMap,(p,h)=>p.findCellEx(u)&&h).filter(Boolean)}_explore(u,p){p.mark=!1;const{sheetName:h}=p,d=new c(p.row,p.col,p.row,p.col,h);let x,b;function g(y,T){const R=u.findCellAt(h,y,p.col);return!(!R||!R.mark)&&(d[T]=y,R.mark=!1,!0)}for(b=p.row-1;g(b,"top");b--);for(b=p.row+1;g(b,"bottom");b++);function v(y,T){const R=[];for(b=d.top;b<=d.bottom;b++){const P=u.findCellAt(h,b,y);if(!P||!P.mark)return!1;R.push(P)}d[T]=y;for(let P=0;P<R.length;P++)R[P].mark=!1;return!0}for(x=p.col-1;v(x,"left");x--);for(x=p.col+1;v(x,"right");x++);return d}getRanges(u,p){return(p=p||this.matrixMap[u])?(p.forEach(h=>{h.mark=!0}),{name:u,ranges:p.map(h=>h.mark&&this._explore(p,h)).filter(Boolean).map(h=>h.$shortRange)}):{name:u,ranges:[]}}normaliseMatrix(u,p){u.forEachInSheet(p,(h,d,x)=>{h&&(h.row===d&&h.col===x||(h.row=d,h.col=x,h.address=a.n2l(x)+d))})}spliceRows(u,p,h,d){i.each(this.matrixMap,x=>{x.spliceRows(u,p,h,d),this.normaliseMatrix(x,u)})}spliceColumns(u,p,h,d){i.each(this.matrixMap,x=>{x.spliceColumns(u,p,h,d),this.normaliseMatrix(x,u)})}get model(){return i.map(this.matrixMap,(u,p)=>this.getRanges(p,u)).filter(u=>u.ranges.length)}set model(u){const p=this.matrixMap={};u.forEach(h=>{const d=p[h.name]=new l;h.ranges.forEach(x=>{o.test(x.split("!").pop()||"")&&d.addCell(x)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(e,n,s){n.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(e,n,s){const i=e("../utils/col-cache"),a=e("./anchor");n.exports=class{constructor(l,c){this.worksheet=l,this.model=c}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(l){let{type:c,imageId:o,range:u,hyperlinks:p}=l;if(this.type=c,this.imageId=o,c==="image")if(typeof u=="string"){const h=i.decode(u);this.range={tl:new a(this.worksheet,{col:h.left,row:h.top},-1),br:new a(this.worksheet,{col:h.right,row:h.bottom},0),editAs:"oneCell"}}else this.range={tl:new a(this.worksheet,u.tl,0),br:u.br&&new a(this.worksheet,u.br,0),ext:u.ext,editAs:u.editAs,hyperlinks:p||u.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(e,n,s){const i=e("../utils/under-dash");class a{constructor(c){this.note=c}get model(){let c=null;switch(typeof this.note){case"string":c={type:"note",note:{texts:[{text:this.note}]}};break;default:c={type:"note",note:this.note}}return i.deepMerge({},a.DEFAULT_CONFIGS,c)}set model(c){const{note:o}=c,{texts:u}=o;u.length===1&&Object.keys(u[0]).length===1?this.note=u[0].text:this.note=o}static fromModel(c){const o=new a;return o.model=c,o}}a.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},n.exports=a},{"../utils/under-dash":26}],10:[function(e,n,s){const i=e("../utils/col-cache");class a{constructor(){this.decode(arguments)}setTLBR(c,o,u,p,h){if(arguments.length<4){const d=i.decodeAddress(c),x=i.decodeAddress(o);this.model={top:Math.min(d.row,x.row),left:Math.min(d.col,x.col),bottom:Math.max(d.row,x.row),right:Math.max(d.col,x.col),sheetName:u},this.setTLBR(d.row,d.col,x.row,x.col,h)}else this.model={top:Math.min(c,u),left:Math.min(o,p),bottom:Math.max(c,u),right:Math.max(o,p),sheetName:h}}decode(c){switch(c.length){case 5:this.setTLBR(c[0],c[1],c[2],c[3],c[4]);break;case 4:this.setTLBR(c[0],c[1],c[2],c[3]);break;case 3:this.setTLBR(c[0],c[1],c[2]);break;case 2:this.setTLBR(c[0],c[1]);break;case 1:{const o=c[0];if(o instanceof a)this.model={top:o.model.top,left:o.model.left,bottom:o.model.bottom,right:o.model.right,sheetName:o.sheetName};else if(o instanceof Array)this.decode(o);else if(o.top&&o.left&&o.bottom&&o.right)this.model={top:o.top,left:o.left,bottom:o.bottom,right:o.right,sheetName:o.sheetName};else{const u=i.decodeEx(o);u.top?this.model={top:u.top,left:u.left,bottom:u.bottom,right:u.right,sheetName:u.sheetName}:this.model={top:u.row,left:u.col,bottom:u.row,right:u.col,sheetName:u.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+c.length)}}get top(){return this.model.top||1}set top(c){this.model.top=c}get left(){return this.model.left||1}set left(c){this.model.left=c}get bottom(){return this.model.bottom||1}set bottom(c){this.model.bottom=c}get right(){return this.model.right||1}set right(c){this.model.right=c}get sheetName(){return this.model.sheetName}set sheetName(c){this.model.sheetName=c}get _serialisedSheetName(){const{sheetName:c}=this.model;return c?/^[a-zA-Z0-9]*$/.test(c)?c+"!":`'${c}'!`:""}expand(c,o,u,p){(!this.model.top||c<this.top)&&(this.top=c),(!this.model.left||o<this.left)&&(this.left=o),(!this.model.bottom||u>this.bottom)&&(this.bottom=u),(!this.model.right||p>this.right)&&(this.right=p)}expandRow(c){if(c){const{dimensions:o,number:u}=c;o&&this.expand(u,o.min,u,o.max)}}expandToAddress(c){const o=i.decodeEx(c);this.expand(o.row,o.col,o.row,o.col)}get tl(){return i.n2l(this.left)+this.top}get $t$l(){return`$${i.n2l(this.left)}$${this.top}`}get br(){return i.n2l(this.right)+this.bottom}get $b$r(){return`$${i.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(c){return(!c.sheetName||!this.sheetName||c.sheetName===this.sheetName)&&!(c.bottom<this.top)&&!(c.top>this.bottom)&&!(c.right<this.left)&&!(c.left>this.right)}contains(c){const o=i.decodeEx(c);return this.containsEx(o)}containsEx(c){return(!c.sheetName||!this.sheetName||c.sheetName===this.sheetName)&&c.row>=this.top&&c.row<=this.bottom&&c.col>=this.left&&c.col<=this.right}forEachAddress(c){for(let o=this.left;o<=this.right;o++)for(let u=this.top;u<=this.bottom;u++)c(i.encodeAddress(u,o),u,o)}}n.exports=a},{"../utils/col-cache":19}],11:[function(e,n,s){const i=e("../utils/under-dash"),a=e("./enums"),l=e("../utils/col-cache"),c=e("./cell");n.exports=class{constructor(o,u){this._worksheet=o,this._number=u,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(o){return this._cells[o-1]}getCellEx(o){let u=this._cells[o.col-1];if(!u){const p=this._worksheet.getColumn(o.col);u=new c(this,p,o.address),this._cells[o.col-1]=u}return u}getCell(o){if(typeof o=="string"){const u=this._worksheet.getColumnKey(o);o=u?u.number:l.l2n(o)}return this._cells[o-1]||this.getCellEx({address:l.encodeAddress(this._number,o),row:this._number,col:o})}splice(o,u){const p=o+u;for(var h=arguments.length,d=new Array(h>2?h-2:0),x=2;x<h;x++)d[x-2]=arguments[x];const b=d.length-u,g=this._cells.length;let v,y,T;if(b<0)for(v=o+d.length;v<=g;v++)T=this._cells[v-1],y=this._cells[v-b-1],y?(T=this.getCell(v),T.value=y.value,T.style=y.style,T._comment=y._comment):T&&(T.value=null,T.style={},T._comment=void 0);else if(b>0)for(v=g;v>=p;v--)y=this._cells[v-1],y?(T=this.getCell(v+b),T.value=y.value,T.style=y.style,T._comment=y._comment):this._cells[v+b-1]=void 0;for(v=0;v<d.length;v++)T=this.getCell(o+v),T.value=d[v],T.style={},T._comment=void 0}eachCell(o,u){if(u||(u=o,o=null),o&&o.includeEmpty){const p=this._cells.length;for(let h=1;h<=p;h++)u(this.getCell(h),h)}else this._cells.forEach((p,h)=>{p&&p.type!==a.ValueType.Null&&u(p,h+1)})}addPageBreak(o,u){const p=this._worksheet,h=Math.max(0,o-1)||0,d=Math.max(0,u-1)||16838,x={id:this._number,max:d,man:1};h&&(x.min=h),p.rowBreaks.push(x)}get values(){const o=[];return this._cells.forEach(u=>{u&&u.type!==a.ValueType.Null&&(o[u.col]=u.value)}),o}set values(o){if(this._cells=[],o)if(o instanceof Array){let u=0;o.hasOwnProperty("0")&&(u=1),o.forEach((p,h)=>{p!==void 0&&(this.getCellEx({address:l.encodeAddress(this._number,h+u),row:this._number,col:h+u}).value=p)})}else this._worksheet.eachColumnKey((u,p)=>{o[p]!==void 0&&(this.getCellEx({address:l.encodeAddress(this._number,u.number),row:this._number,col:u.number}).value=o[p])})}get hasValues(){return i.some(this._cells,o=>o&&o.type!==a.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let o=0;return this.eachCell(()=>{o++}),o}get dimensions(){let o=0,u=0;return this._cells.forEach(p=>{p&&p.type!==a.ValueType.Null&&((!o||o>p.col)&&(o=p.col),u<p.col&&(u=p.col))}),o>0?{min:o,max:u}:null}_applyStyle(o,u){return this.style[o]=u,this._cells.forEach(p=>{p&&(p[o]=u)}),u}get numFmt(){return this.style.numFmt}set numFmt(o){this._applyStyle("numFmt",o)}get font(){return this.style.font}set font(o){this._applyStyle("font",o)}get alignment(){return this.style.alignment}set alignment(o){this._applyStyle("alignment",o)}get protection(){return this.style.protection}set protection(o){this._applyStyle("protection",o)}get border(){return this.style.border}set border(o){this._applyStyle("border",o)}get fill(){return this.style.fill}set fill(o){this._applyStyle("fill",o)}get hidden(){return!!this._hidden}set hidden(o){this._hidden=o}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(o){this._outlineLevel=o}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const o=[];let u=0,p=0;return this._cells.forEach(h=>{if(h){const d=h.model;d&&((!u||u>h.col)&&(u=h.col),p<h.col&&(p=h.col),o.push(d))}}),this.height||o.length?{cells:o,number:this.number,min:u,max:p,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(o){if(o.number!==this._number)throw new Error("Invalid row number in model");let u;this._cells=[],o.cells.forEach(p=>{switch(p.type){case c.Types.Merge:break;default:{let h;if(p.address)h=l.decodeAddress(p.address);else if(u){const{row:d}=u,x=u.col+1;h={row:d,col:x,address:l.encodeAddress(d,x),$col$row:`$${l.n2l(x)}$${d}`}}u=h,this.getCellEx(h).model=p;break}}}),o.height?this.height=o.height:delete this.height,this.hidden=o.hidden,this.outlineLevel=o.outlineLevel||0,this.style=o.style&&JSON.parse(JSON.stringify(o.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(e,n,s){const i=e("../utils/col-cache");class a{constructor(c,o,u){this.table=c,this.column=o,this.index=u}_set(c,o){this.table.cacheState(),this.column[c]=o}get name(){return this.column.name}set name(c){this._set("name",c)}get filterButton(){return this.column.filterButton}set filterButton(c){this.column.filterButton=c}get style(){return this.column.style}set style(c){this.column.style=c}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(c){this._set("totalsRowLabel",c)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(c){this._set("totalsRowFunction",c)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(c){this._set("totalsRowResult",c)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(c){this._set("totalsRowFormula",c)}}n.exports=class{constructor(l,c){this.worksheet=l,c&&(this.table=c,this.validate(),this.store())}getFormula(l){switch(l.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${l.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${l.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${l.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${l.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${l.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${l.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${l.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${l.name}])`;case"custom":return l.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+l.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:l}=this,c=(b,g,v)=>{b[g]===void 0&&(b[g]=v)};c(l,"headerRow",!0),c(l,"totalsRow",!1),c(l,"style",{}),c(l.style,"theme","TableStyleMedium2"),c(l.style,"showFirstColumn",!1),c(l.style,"showLastColumn",!1),c(l.style,"showRowStripes",!1),c(l.style,"showColumnStripes",!1);const o=(b,g)=>{if(!b)throw new Error(g)};o(l.ref,"Table must have ref"),o(l.columns,"Table must have column definitions"),o(l.rows,"Table must have row definitions"),l.tl=i.decodeAddress(l.ref);const{row:u,col:p}=l.tl;o(u>0,"Table must be on valid row"),o(p>0,"Table must be on valid col");const{width:h,filterHeight:d,tableHeight:x}=this;l.autoFilterRef=i.encode(u,p,u+d-1,p+h-1),l.tableRef=i.encode(u,p,u+x-1,p+h-1),l.columns.forEach((b,g)=>{o(b.name,`Column ${g} must have a name`),g===0?c(b,"totalsRowLabel","Total"):(c(b,"totalsRowFunction","none"),b.totalsRowFormula=this.getFormula(b))})}store(){const l=(d,x)=>{x&&Object.keys(x).forEach(b=>{d[b]=x[b]})},{worksheet:c,table:o}=this,{row:u,col:p}=o.tl;let h=0;if(o.headerRow){const d=c.getRow(u+h++);o.columns.forEach((x,b)=>{const{style:g,name:v}=x,y=d.getCell(p+b);y.value=v,l(y,g)})}if(o.rows.forEach(d=>{const x=c.getRow(u+h++);d.forEach((b,g)=>{const v=x.getCell(p+g);v.value=b,l(v,o.columns[g].style)})}),o.totalsRow){const d=c.getRow(u+h++);o.columns.forEach((x,b)=>{const g=d.getCell(p+b);if(b===0)g.value=x.totalsRowLabel;else{const v=this.getFormula(x);g.value=v?{formula:x.totalsRowFormula,result:x.totalsRowResult}:null}l(g,x.style)})}}load(l){const{table:c}=this,{row:o,col:u}=c.tl;let p=0;if(c.headerRow){const h=l.getRow(o+p++);c.columns.forEach((d,x)=>{h.getCell(u+x).value=d.name})}if(c.rows.forEach(h=>{const d=l.getRow(o+p++);h.forEach((x,b)=>{d.getCell(u+b).value=x})}),c.totalsRow){const h=l.getRow(o+p++);c.columns.forEach((d,x)=>{const b=h.getCell(u+x);x===0?b.value=d.totalsRowLabel:this.getFormula(d)&&(b.value={formula:d.totalsRowFormula,result:d.totalsRowResult})})}}get model(){return this.table}set model(l){this.table=l}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const l=i.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let c=0;c<this._cache.tableHeight;c++){const o=this.worksheet.getRow(l.row+c);for(let u=0;u<this._cache.width;u++)o.getCell(l.col+u).value=null}else{for(let c=this.tableHeight;c<this._cache.tableHeight;c++){const o=this.worksheet.getRow(l.row+c);for(let u=0;u<this._cache.width;u++)o.getCell(l.col+u).value=null}for(let c=0;c<this.tableHeight;c++){const o=this.worksheet.getRow(l.row+c);for(let u=this.width;u<this._cache.width;u++)o.getCell(l.col+u).value=null}}this.store()}addRow(l,c){this.cacheState(),c===void 0?this.table.rows.push(l):this.table.rows.splice(c,0,l)}removeRows(l){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(l,c)}getColumn(l){const c=this.table.columns[l];return new a(this,c,l)}addColumn(l,c,o){this.cacheState(),o===void 0?(this.table.columns.push(l),this.table.rows.forEach((u,p)=>{u.push(c[p])})):(this.table.columns.splice(o,0,l),this.table.rows.forEach((u,p)=>{u.splice(o,0,c[p])}))}removeColumns(l){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(l,c),this.table.rows.forEach(o=>{o.splice(l,c)})}_assign(l,c,o){this.cacheState(),l[c]=o}get ref(){return this.table.ref}set ref(l){this._assign(this.table,"ref",l)}get name(){return this.table.name}set name(l){this.table.name=l}get displayName(){return this.table.displyName||this.table.name}set displayNamename(l){this.table.displayName=l}get headerRow(){return this.table.headerRow}set headerRow(l){this._assign(this.table,"headerRow",l)}get totalsRow(){return this.table.totalsRow}set totalsRow(l){this._assign(this.table,"totalsRow",l)}get theme(){return this.table.style.name}set theme(l){this.table.style.name=l}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(l){this.table.style.showFirstColumn=l}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(l){this.table.style.showLastColumn=l}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(l){this.table.style.showRowStripes=l}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(l){this.table.style.showColumnStripes=l}}},{"../utils/col-cache":19}],13:[function(e,n,s){const i=e("./worksheet"),a=e("./defined-names"),l=e("../xlsx/xlsx"),c=e("../csv/csv");n.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new a}get xlsx(){return this._xlsx||(this._xlsx=new l(this)),this._xlsx}get csv(){return this._csv||(this._csv=new c(this)),this._csv}get nextId(){for(let o=1;o<this._worksheets.length;o++)if(!this._worksheets[o])return o;return this._worksheets.length||1}addWorksheet(o,u){const p=this.nextId;u&&(typeof u=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),u={properties:{tabColor:{argb:u}}}):(u.argb||u.theme||u.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),u={properties:{tabColor:u}}));const h=this._worksheets.reduce((b,g)=>(g&&g.orderNo)>b?g.orderNo:b,0),d=Object.assign({},u,{id:p,name:o,orderNo:h+1,workbook:this}),x=new i(d);return this._worksheets[p]=x,x}removeWorksheetEx(o){delete this._worksheets[o.id]}removeWorksheet(o){const u=this.getWorksheet(o);u&&u.destroy()}getWorksheet(o){return o===void 0?this._worksheets.find(Boolean):typeof o=="number"?this._worksheets[o]:typeof o=="string"?this._worksheets.find(u=>u&&u.name===o):void 0}get worksheets(){return this._worksheets.slice(1).sort((o,u)=>o.orderNo-u.orderNo).filter(Boolean)}eachSheet(o){this.worksheets.forEach(u=>{o(u,u.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(o){const u=this.media.length;return this.media.push(Object.assign({},o,{type:"image"})),u}getImage(o){return this.media[o]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(o=>o.model),sheets:this.worksheets.map(o=>o.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(o){this.creator=o.creator,this.lastModifiedBy=o.lastModifiedBy,this.lastPrinted=o.lastPrinted,this.created=o.created,this.modified=o.modified,this.company=o.company,this.manager=o.manager,this.title=o.title,this.subject=o.subject,this.keywords=o.keywords,this.category=o.category,this.description=o.description,this.language=o.language,this.revision=o.revision,this.contentStatus=o.contentStatus,this.properties=o.properties,this.calcProperties=o.calcProperties,this._worksheets=[],o.worksheets.forEach(u=>{const{id:p,name:h,state:d}=u,x=o.sheets&&o.sheets.findIndex(b=>b.id===p);(this._worksheets[p]=new i({id:p,name:h,orderNo:x,state:d,workbook:this})).model=u}),this._definedNames.model=o.definedNames,this.views=o.views,this._themes=o.themes,this.media=o.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(e,n,s){const i=e("../utils/under-dash"),a=e("../utils/col-cache"),l=e("./range"),c=e("./row"),o=e("./column"),u=e("./enums"),p=e("./image"),h=e("./table"),d=e("./data-validations"),x=e("../utils/encryptor"),{copyStyle:b}=e("../utils/copy-style");n.exports=class{constructor(g){g=g||{},this._workbook=g.workbook,this.id=g.id,this.orderNo=g.orderNo,this.name=g.name,this.state=g.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},g.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!g.pageSetup||!g.pageSetup.fitToWidth&&!g.pageSetup.fitToHeight||g.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},g.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},g.headerFooter),this.dataValidations=new d,this.views=g.views||[],this.autoFilter=g.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(g){if(g===void 0&&(g="sheet"+this.id),this._name!==g){if(typeof g!="string")throw new Error("The name has to be a string.");if(g==="")throw new Error("The name can't be empty.");if(g==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(g))throw new Error(`Worksheet name ${g} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(g))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+g);if(g&&g.length>31&&(console.warn(`Worksheet name ${g} exceeds 31 chars. This will be truncated`),g=g.substring(0,31)),this._workbook._worksheets.find(v=>v&&v.name.toLowerCase()===g.toLowerCase()))throw new Error("Worksheet name already exists: "+g);this._name=g}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const g=new l;return this._rows.forEach(v=>{if(v){const y=v.dimensions;y&&g.expand(v.number,y.min,v.number,y.max)}}),g}get columns(){return this._columns}set columns(g){this._headerRowCount=g.reduce((T,R)=>{const P=(R.header?1:R.headers&&R.headers.length)||0;return Math.max(T,P)},0);let v=1;const y=this._columns=[];g.forEach(T=>{const R=new o(this,v++,!1);y.push(R),R.defn=T})}getColumnKey(g){return this._keys[g]}setColumnKey(g,v){this._keys[g]=v}deleteColumnKey(g){delete this._keys[g]}eachColumnKey(g){i.each(this._keys,g)}getColumn(g){if(typeof g=="string"){const v=this._keys[g];if(v)return v;g=a.l2n(g)}if(this._columns||(this._columns=[]),g>this._columns.length){let v=this._columns.length+1;for(;v<=g;)this._columns.push(new o(this,v++))}return this._columns[g-1]}spliceColumns(g,v){const y=this._rows.length;for(var T=arguments.length,R=new Array(T>2?T-2:0),P=2;P<T;P++)R[P-2]=arguments[P];if(R.length>0)for(let O=0;O<y;O++){const F=[g,v];R.forEach(z=>{F.push(z[O]||null)});const q=this.getRow(O+1);q.splice.apply(q,F)}else this._rows.forEach(O=>{O&&O.splice(g,v)});const H=R.length-v,L=g+v,I=this._columns.length;if(H<0)for(let O=g+R.length;O<=I;O++)this.getColumn(O).defn=this.getColumn(O-H).defn;else if(H>0)for(let O=I;O>=L;O--)this.getColumn(O+H).defn=this.getColumn(O).defn;for(let O=g;O<g+R.length;O++)this.getColumn(O).defn=null;this.workbook.definedNames.spliceColumns(this.name,g,v,R.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let g=0;return this.eachRow(v=>{g=Math.max(g,v.cellCount)}),g}get actualColumnCount(){const g=[];let v=0;return this.eachRow(y=>{y.eachCell(T=>{let{col:R}=T;g[R]||(g[R]=!0,v++)})}),v}_commitRow(){}get _lastRowNumber(){const g=this._rows;let v=g.length;for(;v>0&&g[v-1]===void 0;)v--;return v}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(g){return this._rows[g-1]}findRows(g,v){return this._rows.slice(g-1,g-1+v)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let g=0;return this.eachRow(()=>{g++}),g}getRow(g){let v=this._rows[g-1];return v||(v=this._rows[g-1]=new c(this,g)),v}getRows(g,v){if(v<1)return;const y=[];for(let T=g;T<g+v;T++)y.push(this.getRow(T));return y}addRow(g){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const y=this._nextRow,T=this.getRow(y);return T.values=g,this._setStyleOption(y,v[0]==="i"?v:"n"),T}addRows(g){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const y=[];return g.forEach(T=>{y.push(this.addRow(T,v))}),y}insertRow(g,v){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(g,0,v),this._setStyleOption(g,y),this.getRow(g)}insertRows(g,v){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(g,0,...v),y!=="n")for(let T=0;T<v.length;T++)y[0]==="o"&&this.findRow(v.length+g+T)!==void 0?this._copyStyle(v.length+g+T,g+T,y[1]==="+"):y[0]==="i"&&this.findRow(g-1)!==void 0&&this._copyStyle(g-1,g+T,y[1]==="+");return this.getRows(g,v.length)}_setStyleOption(g){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";v[0]==="o"&&this.findRow(g+1)!==void 0?this._copyStyle(g+1,g,v[1]==="+"):v[0]==="i"&&this.findRow(g-1)!==void 0&&this._copyStyle(g-1,g,v[1]==="+")}_copyStyle(g,v){let y=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const T=this.getRow(g),R=this.getRow(v);R.style=b(T.style),T.eachCell({includeEmpty:y},(P,H)=>{R.getCell(H).style=b(P.style)}),R.height=T.height}duplicateRow(g,v){let y=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const T=this._rows[g-1],R=new Array(v).fill(T.values);this.spliceRows(g+1,y?0:v,...R);for(let P=0;P<v;P++){const H=this._rows[g+P];H.style=T.style,H.height=T.height,T.eachCell({includeEmpty:!0},(L,I)=>{H.getCell(I).style=L.style})}}spliceRows(g,v){const y=g+v;for(var T=arguments.length,R=new Array(T>2?T-2:0),P=2;P<T;P++)R[P-2]=arguments[P];const H=R.length,L=H-v,I=this._rows.length;let O,F;if(L<0)for(g===I&&(this._rows[I-1]=void 0),O=y;O<=I;O++)if(F=this._rows[O-1],F){const q=this.getRow(O+L);q.values=F.values,q.style=F.style,q.height=F.height,F.eachCell({includeEmpty:!0},(z,N)=>{q.getCell(N).style=z.style}),this._rows[O-1]=void 0}else this._rows[O+L-1]=void 0;else if(L>0)for(O=I;O>=y;O--)if(F=this._rows[O-1],F){const q=this.getRow(O+L);q.values=F.values,q.style=F.style,q.height=F.height,F.eachCell({includeEmpty:!0},(z,N)=>{if(q.getCell(N).style=z.style,z._value.constructor.name==="MergeValue"){const U=this.getRow(z._row._number+H).getCell(N),C=z._value._master,S=this.getRow(C._row._number+H).getCell(C._column._number);U.merge(S)}})}else this._rows[O+L-1]=void 0;for(O=0;O<H;O++){const q=this.getRow(g+O);q.style={},q.values=R[O]}this.workbook.definedNames.spliceRows(this.name,g,v,H)}eachRow(g,v){if(v||(v=g,g=void 0),g&&g.includeEmpty){const y=this._rows.length;for(let T=1;T<=y;T++)v(this.getRow(T),T)}else this._rows.forEach(y=>{y&&y.hasValues&&v(y,y.number)})}getSheetValues(){const g=[];return this._rows.forEach(v=>{v&&(g[v.number]=v.values)}),g}findCell(g,v){const y=a.getAddress(g,v),T=this._rows[y.row-1];return T?T.findCell(y.col):void 0}getCell(g,v){const y=a.getAddress(g,v);return this.getRow(y.row).getCellEx(y)}mergeCells(){for(var g=arguments.length,v=new Array(g),y=0;y<g;y++)v[y]=arguments[y];const T=new l(v);this._mergeCellsInternal(T)}mergeCellsWithoutStyle(){for(var g=arguments.length,v=new Array(g),y=0;y<g;y++)v[y]=arguments[y];const T=new l(v);this._mergeCellsInternal(T,!0)}_mergeCellsInternal(g,v){i.each(this._merges,T=>{if(T.intersects(g))throw new Error("Cannot merge already merged cells")});const y=this.getCell(g.top,g.left);for(let T=g.top;T<=g.bottom;T++)for(let R=g.left;R<=g.right;R++)(T>g.top||R>g.left)&&this.getCell(T,R).merge(y,v);this._merges[y.address]=g}_unMergeMaster(g){const v=this._merges[g.address];if(v){for(let y=v.top;y<=v.bottom;y++)for(let T=v.left;T<=v.right;T++)this.getCell(y,T).unmerge();delete this._merges[g.address]}}get hasMerges(){return i.some(this._merges,Boolean)}unMergeCells(){for(var g=arguments.length,v=new Array(g),y=0;y<g;y++)v[y]=arguments[y];const T=new l(v);for(let R=T.top;R<=T.bottom;R++)for(let P=T.left;P<=T.right;P++){const H=this.findCell(R,P);H&&(H.type===u.ValueType.Merge?this._unMergeMaster(H.master):this._merges[H.address]&&this._unMergeMaster(H))}}fillFormula(g,v,y){let T=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const R=a.decode(g),{top:P,left:H,bottom:L,right:I}=R,O=I-H+1,F=a.encodeAddress(P,H),q=T==="shared";let z;z=typeof y=="function"?y:Array.isArray(y)?Array.isArray(y[0])?(U,C)=>y[U-P][C-H]:(U,C)=>y[(U-P)*O+(C-H)]:()=>{};let N=!0;for(let U=P;U<=L;U++)for(let C=H;C<=I;C++)N?(this.getCell(U,C).value={shareType:T,formula:v,ref:g,result:z(U,C)},N=!1):this.getCell(U,C).value=q?{sharedFormula:F,result:z(U,C)}:z(U,C)}addImage(g,v){const y={type:"image",imageId:g,range:v};this._media.push(new p(this,y))}getImages(){return this._media.filter(g=>g.type==="image")}addBackgroundImage(g){const v={type:"background",imageId:g};this._media.push(new p(this,v))}getBackgroundImageId(){const g=this._media.find(v=>v.type==="background");return g&&g.imageId}protect(g,v){return new Promise(y=>{this.sheetProtection={sheet:!0},v&&"spinCount"in v&&(v.spinCount=Number.isFinite(v.spinCount)?Math.round(Math.max(0,v.spinCount)):1e5),g&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=x.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=v&&"spinCount"in v?v.spinCount:1e5,this.sheetProtection.hashValue=x.convertPasswordToHash(g,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),v&&(this.sheetProtection=Object.assign(this.sheetProtection,v),!g&&"spinCount"in v&&delete this.sheetProtection.spinCount),y()})}unprotect(){this.sheetProtection=null}addTable(g){const v=new h(this,g);return this.tables[g.name]=v,v}getTable(g){return this.tables[g]}removeTable(g){delete this.tables[g]}getTables(){return Object.values(this.tables)}addConditionalFormatting(g){this.conditionalFormattings.push(g)}removeConditionalFormatting(g){typeof g=="number"?this.conditionalFormattings.splice(g,1):this.conditionalFormattings=g instanceof Function?this.conditionalFormattings.filter(g):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(g){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=g}get model(){const g={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(T=>T.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(T=>T.model),conditionalFormattings:this.conditionalFormattings};g.cols=o.toModel(this.columns);const v=g.rows=[],y=g.dimensions=new l;return this._rows.forEach(T=>{const R=T&&T.model;R&&(y.expand(R.number,R.min,R.number,R.max),v.push(R))}),g.merges=[],i.each(this._merges,T=>{g.merges.push(T.range)}),g}_parseRows(g){this._rows=[],g.rows.forEach(v=>{const y=new c(this,v.number);this._rows[y.number-1]=y,y.model=v})}_parseMergeCells(g){i.each(g.mergeCells,v=>{this.mergeCellsWithoutStyle(v)})}set model(g){this.name=g.name,this._columns=o.fromModel(this,g.cols),this._parseRows(g),this._parseMergeCells(g),this.dataValidations=new d(g.dataValidations),this.properties=g.properties,this.pageSetup=g.pageSetup,this.headerFooter=g.headerFooter,this.views=g.views,this.autoFilter=g.autoFilter,this._media=g.media.map(v=>new p(this,v)),this.sheetProtection=g.sheetProtection,this.tables=g.tables.reduce((v,y)=>{const T=new h;return T.model=y,v[y.name]=T,v},{}),this.conditionalFormattings=g.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(e,n,s){e("core-js/modules/es.promise"),e("core-js/modules/es.promise.finally"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.values"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.async-iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.find-index"),e("core-js/modules/es.array.find"),e("core-js/modules/es.string.from-code-point"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.number.is-nan"),e("regenerator-runtime/runtime");const i={Workbook:e("./doc/workbook")},a=e("./doc/enums");Object.keys(a).forEach(l=>{i[l]=a[l]}),n.exports=i},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(e,n,s){const i=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");s.bufferToString=function(a){return typeof a=="string"?a:i?i.decode(a):a.toString()}},{}],17:[function(e,n,s){const i=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:a}=e("buffer");s.stringToBuffer=function(l){return typeof l!="string"?l:i?a.from(i.encode(l).buffer):a.from(l)}},{buffer:220}],18:[function(e,n,s){const i=e("./under-dash"),a=e("./col-cache");n.exports=class{constructor(l){this.template=l,this.sheets={}}addCell(l){this.addCellEx(a.decodeEx(l))}getCell(l){return this.findCellEx(a.decodeEx(l),!0)}findCell(l){return this.findCellEx(a.decodeEx(l),!1)}findCellAt(l,c,o){const u=this.sheets[l],p=u&&u[c];return p&&p[o]}addCellEx(l){if(l.top)for(let c=l.top;c<=l.bottom;c++)for(let o=l.left;o<=l.right;o++)this.getCellAt(l.sheetName,c,o);else this.findCellEx(l,!0)}getCellEx(l){return this.findCellEx(l,!0)}findCellEx(l,c){const o=this.findSheet(l,c),u=this.findSheetRow(o,l,c);return this.findRowCell(u,l,c)}getCellAt(l,c,o){const u=this.sheets[l]||(this.sheets[l]=[]),p=u[c]||(u[c]=[]);return p[o]||(p[o]={sheetName:l,address:a.n2l(o)+c,row:c,col:o})}removeCellEx(l){const c=this.findSheet(l);if(!c)return;const o=this.findSheetRow(c,l);o&&delete o[l.col]}forEachInSheet(l,c){const o=this.sheets[l];o&&o.forEach((u,p)=>{u&&u.forEach((h,d)=>{h&&c(h,p,d)})})}forEach(l){i.each(this.sheets,(c,o)=>{this.forEachInSheet(o,l)})}map(l){const c=[];return this.forEach(o=>{c.push(l(o))}),c}findSheet(l,c){const o=l.sheetName;return this.sheets[o]?this.sheets[o]:c?this.sheets[o]=[]:void 0}findSheetRow(l,c,o){const{row:u}=c;return l&&l[u]?l[u]:o?l[u]=[]:void 0}findRowCell(l,c,o){const{col:u}=c;return l&&l[u]?l[u]:o?l[u]=this.template?Object.assign(c,JSON.parse(JSON.stringify(this.template))):c:void 0}spliceRows(l,c,o,u){const p=this.sheets[l];if(p){const h=[];for(let d=0;d<u;d++)h.push([]);p.splice(c,o,...h)}}spliceColumns(l,c,o,u){const p=this.sheets[l];if(p){const h=[];for(let d=0;d<u;d++)h.push(null);i.each(p,d=>{d.splice(c,o,...h)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(e,n,s){const i=/^[A-Z]+\d+$/,a={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:l=>l<=26?1:l<=676?2:3,_fill(l){let c,o,u,p,h,d=1;if(l>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&l>=1){for(;d<=26;)c=this._dictionary[d-1],this._n2l[d]=c,this._l2n[c]=d,d++;this._l2nFill=1}if(this._l2nFill<2&&l>=2){for(d=27;d<=702;)o=d-27,u=o%26,p=Math.floor(o/26),c=this._dictionary[p]+this._dictionary[u],this._n2l[d]=c,this._l2n[c]=d,d++;this._l2nFill=2}if(this._l2nFill<3&&l>=3){for(d=703;d<=16384;)o=d-703,u=o%26,p=Math.floor(o/26)%26,h=Math.floor(o/676),c=this._dictionary[h]+this._dictionary[p]+this._dictionary[u],this._n2l[d]=c,this._l2n[c]=d,d++;this._l2nFill=3}},l2n(l){if(this._l2n[l]||this._fill(l.length),!this._l2n[l])throw new Error("Out of bounds. Invalid column letter: "+l);return this._l2n[l]},n2l(l){if(l<1||l>16384)throw new Error(l+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[l]||this._fill(this._level(l)),this._n2l[l]},_hash:{},validateAddress(l){if(!i.test(l))throw new Error("Invalid Address: "+l);return!0},decodeAddress(l){const c=l.length<5&&this._hash[l];if(c)return c;let o=!1,u="",p=0,h=!1,d="",x=0;for(let g,v=0;v<l.length;v++)if(g=l.charCodeAt(v),!h&&g>=65&&g<=90)o=!0,u+=l[v],p=26*p+g-64;else if(g>=48&&g<=57)h=!0,d+=l[v],x=10*x+g-48;else if(h&&o&&g!==36)break;if(o){if(p>16384)throw new Error("Out of bounds. Invalid column letter: "+u)}else p=void 0;h||(x=void 0);const b={address:l=u+d,col:p,row:x,$col$row:`$${u}$${d}`};return p<=100&&x<=100&&(this._hash[l]=b,this._hash[b.$col$row]=b),b},getAddress(l,c){if(c){const o=this.n2l(c)+l;return this.decodeAddress(o)}return this.decodeAddress(l)},decode(l){const c=l.split(":");if(c.length===2){const o=this.decodeAddress(c[0]),u=this.decodeAddress(c[1]),p={top:Math.min(o.row,u.row),left:Math.min(o.col,u.col),bottom:Math.max(o.row,u.row),right:Math.max(o.col,u.col)};return p.tl=this.n2l(p.left)+p.top,p.br=this.n2l(p.right)+p.bottom,p.dimensions=`${p.tl}:${p.br}`,p}return this.decodeAddress(l)},decodeEx(l){const c=l.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),o=c[1]||c[2],u=c[3],p=u.split(":");if(p.length>1){let d=this.decodeAddress(p[0]),x=this.decodeAddress(p[1]);const b=Math.min(d.row,x.row),g=Math.min(d.col,x.col),v=Math.max(d.row,x.row),y=Math.max(d.col,x.col);return d=this.n2l(g)+b,x=this.n2l(y)+v,{top:b,left:g,bottom:v,right:y,sheetName:o,tl:{address:d,col:g,row:b,$col$row:`$${this.n2l(g)}$${b}`,sheetName:o},br:{address:x,col:y,row:v,$col$row:`$${this.n2l(y)}$${v}`,sheetName:o},dimensions:`${d}:${x}`}}if(u.startsWith("#"))return o?{sheetName:o,error:u}:{error:u};const h=this.decodeAddress(u);return o?{sheetName:o,...h}:h},encodeAddress:(l,c)=>a.n2l(c)+l,encode(){switch(arguments.length){case 2:return a.encodeAddress(arguments[0],arguments[1]);case 4:return`${a.encodeAddress(arguments[0],arguments[1])}:${a.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(l,c){const[o,u,,p,h]=l,[d,x]=c;return d>=o&&d<=p&&x>=u&&x<=h}};n.exports=a},{}],20:[function(e,n,s){const i=(l,c)=>({...l,...c.reduce((o,u)=>(l[u]&&(o[u]={...l[u]}),o),{})}),a=function(l,c,o){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];l[o]&&(c[o]=i(l[o],u))};s.copyStyle=l=>{if(!l)return l;if(c=l,Object.keys(c).length===0)return{};var c;const o={...l};return a(l,o,"font",["color"]),a(l,o,"alignment"),a(l,o,"protection"),l.border&&(a(l,o,"border"),a(l.border,o.border,"top",["color"]),a(l.border,o.border,"left",["color"]),a(l.border,o.border,"bottom",["color"]),a(l.border,o.border,"right",["color"]),a(l.border,o.border,"diagonal",["color"])),l.fill&&(a(l,o,"fill",["fgColor","bgColor","center"]),l.fill.stops&&(o.fill.stops=l.fill.stops.map(u=>i(u,["color"])))),o}},{}],21:[function(e,n,s){(function(i){(function(){const a=e("crypto"),l={hash(c){const o=a.createHash(c);for(var u=arguments.length,p=new Array(u>1?u-1:0),h=1;h<u;h++)p[h-1]=arguments[h];return o.update(i.concat(p)),o.digest()},convertPasswordToHash(c,o,u,p){if(o=o.toLowerCase(),a.getHashes().indexOf(o)<0)throw new Error(`Hash algorithm '${o}' not supported!`);const h=i.from(c,"utf16le");let d=this.hash(o,i.from(u,"base64"),h);for(let x=0;x<p;x++){const b=i.alloc(4);b.writeUInt32LE(x,0),d=this.hash(o,d,b)}return d.toString("base64")},randomBytes:c=>a.randomBytes(c)};n.exports=l}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(e,n,s){const{SaxesParser:i}=e("saxes"),{PassThrough:a}=e("readable-stream"),{bufferToString:l}=e("./browser-buffer-decode");n.exports=async function*(c){c.pipe&&!c[Symbol.asyncIterator]&&(c=c.pipe(new a));const o=new i;let u;o.on("error",h=>{u=h});let p=[];o.on("opentag",h=>p.push({eventType:"opentag",value:h})),o.on("text",h=>p.push({eventType:"text",value:h})),o.on("closetag",h=>p.push({eventType:"closetag",value:h}));for await(const h of c){if(o.write(l(h)),u)throw u;yield p,p=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(e,n,s){const i=e("./col-cache"),a=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,l=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;n.exports={slideFormula:function(c,o,u){const p=i.decode(o),h=i.decode(u);return c.replace(a,(d,x,b,g,v)=>{if(v)return d;const y=l.exec(g);if(y){const T=y[1],R=y[2].toUpperCase(),P=y[3],H=y[4];if(R.length>3||R.length===3&&R>"XFD")return d;let L=i.l2n(R),I=parseInt(H,10);return T||(L+=h.col-p.col),P||(I+=h.row-p.row),(x||"")+(T||"")+i.n2l(L)+(P||"")+I}return d})}}},{"./col-cache":19}],24:[function(e,n,s){(function(i,a){(function(){const l=e("readable-stream"),c=e("./utils"),o=e("./string-buf");class u{constructor(g,v){this._data=g,this._encoding=v}get length(){return this.toBuffer().length}copy(g,v,y,T){return this.toBuffer().copy(g,v,y,T)}toBuffer(){return this._buffer||(this._buffer=a.from(this._data,this._encoding)),this._buffer}}class p{constructor(g){this._data=g}get length(){return this._data.length}copy(g,v,y,T){return this._data._buf.copy(g,v,y,T)}toBuffer(){return this._data.toBuffer()}}class h{constructor(g){this._data=g}get length(){return this._data.length}copy(g,v,y,T){this._data.copy(g,v,y,T)}toBuffer(){return this._data}}class d{constructor(g){this.size=g,this.buffer=a.alloc(g),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const g=a.alloc(this.iWrite-this.iRead);return this.buffer.copy(g,0,this.iRead,this.iWrite),g}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(g){let v;return g===0?null:g===void 0||g>=this.length?(v=this.toBuffer(),this.iRead=this.iWrite,v):(v=a.alloc(g),this.buffer.copy(v,0,this.iRead,g),this.iRead+=g,v)}write(g,v,y){const T=Math.min(y,this.size-this.iWrite);return g.copy(this.buffer,this.iWrite,v,v+T),this.iWrite+=T,T}}const x=function(b){b=b||{},this.bufSize=b.bufSize||1048576,this.buffers=[],this.batch=b.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};c.inherits(x,l.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return a.concat(this.buffers.map(b=>b.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const g=this.buffers[this.buffers.length-1];if(!g.full)return g}const b=new d(this.bufSize);return this.buffers.push(b),b},async _pipe(b){await Promise.all(this.pipes.map((function(g){return new Promise(v=>{g.write(b.toBuffer(),()=>{v()})})})))},_writeToBuffers(b){let g=0;const v=b.length;for(;g<v;)g+=this._getWritableBuffer().write(b,g,v-g)},async write(b,g,v){let y;if(g instanceof Function&&(v=g,g="utf8"),v=v||c.nop,b instanceof o)y=new p(b);else if(b instanceof a)y=new h(b);else{if(!(typeof b=="string"||b instanceof String||b instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");y=new u(b,g)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(y);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(y),i.nextTick(v)):(await this._pipe(y),v());else this.paused||this.emit("data",y.toBuffer()),this._writeToBuffers(y),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(b,g,v){const y=T=>{T?v(T):(this._flush(),this.pipes.forEach(R=>{R.end()}),this.emit("finish"))};b?this.write(b,g,y):y()},read(b){let g;if(b){for(g=[];b&&this.buffers.length&&!this.buffers[0].eod;){const v=this.buffers[0],y=v.read(b);b-=y.length,g.push(y),v.eod&&v.full&&this.buffers.shift()}return a.concat(g)}return g=this.buffers.map(v=>v.toBuffer()).filter(Boolean),this.buffers=[],a.concat(g)},setEncoding(b){this.encoding=b},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(b){this.pipes.push(b),!this.paused&&this.buffers.length&&this.end()},unpipe(b){this.pipes=this.pipes.filter(g=>g!==b)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),n.exports=x}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(e,n,s){(function(i){(function(){n.exports=class{constructor(a){this._buf=i.alloc(a&&a.size||16384),this._encoding=a&&a.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=i.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(a){a=a||0,this._buffer=void 0,this._inPos=a}_grow(a){let l=2*this._buf.length;for(;l<a;)l*=2;const c=i.alloc(l);this._buf.copy(c,0),this._buf=c}addText(a){this._buffer=void 0;let l=this._inPos+this._buf.write(a,this._inPos,this._encoding);for(;l>=this._buf.length-4;)this._grow(this._inPos+a.length),l=this._inPos+this._buf.write(a,this._inPos,this._encoding);this._inPos=l}addStringBuf(a){a.length&&(this._buffer=void 0,this.length+a.length>this.capacity&&this._grow(this.length+a.length),a._buf.copy(this._buf,this._inPos,0,a.length),this._inPos+=a.length)}}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],26:[function(e,n,s){const{toString:i}=Object.prototype,a=/["&<>]/,l={each:function(c,o){c&&(Array.isArray(c)?c.forEach(o):Object.keys(c).forEach(u=>{o(c[u],u)}))},some:function(c,o){return!!c&&(Array.isArray(c)?c.some(o):Object.keys(c).some(u=>o(c[u],u)))},every:function(c,o){return!c||(Array.isArray(c)?c.every(o):Object.keys(c).every(u=>o(c[u],u)))},map:function(c,o){return c?Array.isArray(c)?c.map(o):Object.keys(c).map(u=>o(c[u],u)):[]},keyBy:(c,o)=>c.reduce((u,p)=>(u[p[o]]=p,u),{}),isEqual:function(c,o){const u=typeof c,p=typeof o,h=Array.isArray(c),d=Array.isArray(o);let x;if(u!==p)return!1;switch(typeof c){case"object":if(h||d)return!(!h||!d)&&c.length===o.length&&c.every((b,g)=>{const v=o[g];return l.isEqual(b,v)});if(c===null||o===null)return c===o;if(x=Object.keys(c),Object.keys(o).length!==x.length)return!1;for(const b of x)if(!o.hasOwnProperty(b))return!1;return l.every(c,(b,g)=>{const v=o[g];return l.isEqual(b,v)});default:return c===o}},escapeHtml(c){const o=a.exec(c);if(!o)return c;let u="",p="",h=0,d=o.index;for(;d<c.length;d++){switch(c.charAt(d)){case'"':p="&quot;";break;case"&":p="&amp;";break;case"'":p="&apos;";break;case"<":p="&lt;";break;case">":p="&gt;";break;default:continue}h!==d&&(u+=c.substring(h,d)),h=d+1,u+=p}return h!==d?u+c.substring(h,d):u},strcmp:(c,o)=>c<o?-1:c>o?1:0,isUndefined:c=>i.call(c)==="[object Undefined]",isObject:c=>i.call(c)==="[object Object]",deepMerge(){const c=arguments[0]||{},{length:o}=arguments;let u,p,h;function d(x,b){u=c[b],h=Array.isArray(x),l.isObject(x)||h?(h?(h=!1,p=u&&Array.isArray(u)?u:[]):p=u&&l.isObject(u)?u:{},c[b]=l.deepMerge(p,x)):l.isUndefined(x)||(c[b]=x)}for(let x=0;x<o;x++)l.each(arguments[x],d);return c}};n.exports=l},{}],27:[function(e,n,s){(function(i,a){(function(){const l=e("fs"),c=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,o={nop(){},promiseImmediate:u=>new Promise(p=>{i.setImmediate?a(()=>{p(u)}):setTimeout(()=>{p(u)},1)}),inherits:function(u,p,h,d){u.super_=p,d||(d=h,h=null),h&&Object.keys(h).forEach(b=>{Object.defineProperty(u,b,Object.getOwnPropertyDescriptor(h,b))});const x={constructor:{value:u,enumerable:!1,writable:!1,configurable:!0}};d&&Object.keys(d).forEach(b=>{x[b]=Object.getOwnPropertyDescriptor(d,b)}),u.prototype=Object.create(p.prototype,x)},dateToExcel:(u,p)=>25569+u.getTime()/864e5-(p?1462:0),excelToDate(u,p){const h=Math.round(24*(u-25569+(p?1462:0))*3600*1e3);return new Date(h)},parsePath(u){const p=u.lastIndexOf("/");return{path:u.substring(0,p),name:u.substring(p+1)}},getRelsPath(u){const p=o.parsePath(u);return`${p.path}/_rels/${p.name}.rels`},xmlEncode(u){const p=c.exec(u);if(!p)return u;let h="",d="",x=0,b=p.index;for(;b<u.length;b++){const g=u.charCodeAt(b);switch(g){case 34:d="&quot;";break;case 38:d="&amp;";break;case 39:d="&apos;";break;case 60:d="&lt;";break;case 62:d="&gt;";break;case 127:d="";break;default:if(g<=31&&(g<=8||g>=11&&g!==13)){d="";break}continue}x!==b&&(h+=u.substring(x,b)),x=b+1,d&&(h+=d)}return x!==b?h+u.substring(x,b):h},xmlDecode:u=>u.replace(/&([a-z]*);/g,p=>{switch(p){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return p}}),validInt(u){const p=parseInt(u,10);return Number.isNaN(p)?0:p},isDateFmt(u){return u?(u=(u=u.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:u=>new Promise(p=>{l.access(u,l.constants.F_OK,h=>{p(!h)})})},toIsoDateString:u=>u.toIsoString().subsstr(0,10),parseBoolean:u=>u===!0||u==="true"||u===1||u==="1"};n.exports=o}).call(this)}).call(this,typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{fs:216,timers:523}],28:[function(e,n,s){const i=e("./under-dash"),a=e("./utils");function l(u,p,h){u.push(` ${p}="${a.xmlEncode(h.toString())}"`)}function c(u,p){if(p){const h=[];i.each(p,(d,x)=>{d!==void 0&&l(h,x,d)}),u.push(h.join(""))}}class o{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(p){const h=this._xml;h.push("<?xml"),c(h,p),h.push(`?>
`)}openNode(p,h){const d=this.tos,x=this._xml;d&&this.open&&x.push(">"),this._stack.push(p),x.push("<"),x.push(p),c(x,h),this.leaf=!0,this.open=!0}addAttribute(p,h){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");h!==void 0&&l(this._xml,p,h)}addAttributes(p){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");c(this._xml,p)}writeText(p){const h=this._xml;this.open&&(h.push(">"),this.open=!1),this.leaf=!1,h.push(a.xmlEncode(p.toString()))}writeXml(p){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(p)}closeNode(){const p=this._stack.pop(),h=this._xml;this.leaf?h.push("/>"):(h.push("</"),h.push(p),h.push(">")),this.open=!1,this.leaf=!1}leafNode(p,h,d){this.openNode(p,h),d!==void 0&&this.writeText(d),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const p=this._rollbacks.pop();this._xml.length>p.xml&&this._xml.splice(p.xml,this._xml.length-p.xml),this._stack.length>p.stack&&this._stack.splice(p.stack,this._stack.length-p.stack),this.leaf=p.leaf,this.open=p.open}get xml(){return this.closeAll(),this._xml.join("")}}o.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},n.exports=o},{"./under-dash":26,"./utils":27}],29:[function(e,n,s){(function(i){(function(){const a=e("events"),l=e("jszip"),c=e("./stream-buf"),{stringToBuffer:o}=e("./browser-buffer-encode");class u extends a.EventEmitter{constructor(h){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},h),this.zip=new l,this.stream=new c}append(h,d){d.hasOwnProperty("base64")&&d.base64?this.zip.file(d.name,h,{base64:!0}):(i.browser&&typeof h=="string"&&(h=o(h)),this.zip.file(d.name,h))}async finalize(){const h=await this.zip.generateAsync(this.options);this.stream.end(h),this.emit("finish")}read(h){return this.stream.read(h)}setEncoding(h){return this.stream.setEncoding(h)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(h,d){return this.stream.pipe(h,d)}unpipe(h){return this.stream.unpipe(h)}unshift(h){return this.stream.unshift(h)}wrap(h){return this.stream.wrap(h)}}n.exports={ZipWriter:u}}).call(this)}).call(this,e("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(e,n,s){n.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},28:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy""m""d""',"zh-cn":'yyyy""m""d""',"ja-jp":'yyyy""m""d""',"ko-kr":'yyyy"" mm"" dd""'},32:{"zh-tw":'hh""mm""',"zh-cn":'h""mm""',"ja-jp":'h""mm""',"ko-kr":'h"" mm""'},33:{"zh-tw":'hh""mm""ss""',"zh-cn":'h""mm""ss""',"ja-jp":'h""mm""ss""',"ko-kr":'h"" mm"" ss""'},34:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},51:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},52:{"zh-tw":'/ hh""mm""',"zh-cn":'yyyy""m""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'m""d""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},55:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},58:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(e,n,s){n.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(e,n,s){const i=e("../../utils/parse-sax"),a=e("../../utils/xml-stream");class l{prepare(){}render(){}parseOpen(o){}parseText(o){}parseClose(o){}reconcile(o,u){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(o=>{o instanceof l?o.reset():o.xform&&o.xform.reset()})}mergeModel(o){this.model=Object.assign(this.model||{},o)}async parse(o){for await(const u of o)for(const{eventType:p,value:h}of u)if(p==="opentag")this.parseOpen(h);else if(p==="text")this.parseText(h);else if(p==="closetag"&&!this.parseClose(h.name))return this.model;return this.model}async parseStream(o){return this.parse(i(o))}get xml(){return this.toXml(this.model)}toXml(o){const u=new a;return this.render(u,o),u.xml}static toAttribute(o,u){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(o===void 0){if(p)return u}else if(p||o!==u)return o.toString()}static toStringAttribute(o,u){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return l.toAttribute(o,u,p)}static toStringValue(o,u){return o===void 0?u:o}static toBoolAttribute(o,u){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(o===void 0){if(p)return u}else if(p||o!==u)return o?"1":"0"}static toBoolValue(o,u){return o===void 0?u:o==="1"}static toIntAttribute(o,u){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return l.toAttribute(o,u,p)}static toIntValue(o,u){return o===void 0?u:parseInt(o,10)}static toFloatAttribute(o,u){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return l.toAttribute(o,u,p)}static toFloatValue(o,u){return o===void 0?u:parseFloat(o)}}n.exports=l},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(e,n,s){const i=e("../base-xform"),a=e("../../../utils/col-cache");function l(o){try{return a.decodeEx(o),!0}catch{return!1}}function c(o){const u=[];let p=!1,h="";return o.split(",").forEach(d=>{if(!d)return;const x=(d.match(/'/g)||[]).length;if(!x)return void(p?h+=d+",":l(d)&&u.push(d));const b=x%2==0;!p&&b&&l(d)?u.push(d):p&&!b?(p=!1,l(h+d)&&u.push(h+d),h=""):(p=!0,h+=d+",")}),u}n.exports=class extends i{render(o,u){o.openNode("definedName",{name:u.name,localSheetId:u.localSheetId}),o.writeText(u.ranges.join(",")),o.closeNode()}parseOpen(o){switch(o.name){case"definedName":return this._parsedName=o.attributes.name,this._parsedLocalSheetId=o.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(o){this._parsedText.push(o)}parseClose(){return this.model={name:this._parsedName,ranges:c(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(e,n,s){const i=e("../../../utils/utils"),a=e("../base-xform");n.exports=class extends a{render(l,c){l.leafNode("sheet",{sheetId:c.id,name:c.name,state:c.state,"r:id":c.rId})}parseOpen(l){return l.name==="sheet"&&(this.model={name:i.xmlDecode(l.attributes.name),id:parseInt(l.attributes.sheetId,10),state:l.attributes.state,rId:l.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{render(a,l){a.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:l.fullCalcOnLoad?1:void 0})}parseOpen(a){return a.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{render(a,l){a.leafNode("workbookPr",{date1904:l.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(a){return a.name==="workbookPr"&&(this.model={date1904:a.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{render(a,l){const c={xWindow:l.x||0,yWindow:l.y||0,windowWidth:l.width||12e3,windowHeight:l.height||24e3,firstSheet:l.firstSheet,activeTab:l.activeTab};l.visibility&&l.visibility!=="visible"&&(c.visibility=l.visibility),a.leafNode("workbookView",c)}parseOpen(a){if(a.name==="workbookView"){const l=this.model={},c=function(u,p,h){const d=p!==void 0?l[u]=p:h;d!==void 0&&(l[u]=d)},o=function(u,p,h){const d=p!==void 0?l[u]=parseInt(p,10):h;d!==void 0&&(l[u]=d)};return o("x",a.attributes.xWindow,0),o("y",a.attributes.yWindow,0),o("width",a.attributes.windowWidth,25e3),o("height",a.attributes.windowHeight,1e4),c("visibility",a.attributes.visibility,"visible"),o("activeTab",a.attributes.activeTab,void 0),o("firstSheet",a.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(e,n,s){const i=e("../../../utils/under-dash"),a=e("../../../utils/col-cache"),l=e("../../../utils/xml-stream"),c=e("../base-xform"),o=e("../static-xform"),u=e("../list-xform"),p=e("./defined-name-xform"),h=e("./sheet-xform"),d=e("./workbook-view-xform"),x=e("./workbook-properties-xform"),b=e("./workbook-calc-properties-xform");class g extends c{constructor(){super(),this.map={fileVersion:g.STATIC_XFORMS.fileVersion,workbookPr:new x,bookViews:new u({tag:"bookViews",count:!1,childXform:new d}),sheets:new u({tag:"sheets",count:!1,childXform:new h}),definedNames:new u({tag:"definedNames",count:!1,childXform:new p}),calcPr:new b}}prepare(y){y.sheets=y.worksheets;const T=[];let R=0;y.sheets.forEach(P=>{if(P.pageSetup&&P.pageSetup.printArea&&P.pageSetup.printArea.split("&&").forEach(H=>{const L=H.split(":"),I={name:"_xlnm.Print_Area",ranges:[`'${P.name}'!$${L[0]}:$${L[1]}`],localSheetId:R};T.push(I)}),P.pageSetup&&(P.pageSetup.printTitlesRow||P.pageSetup.printTitlesColumn)){const H=[];if(P.pageSetup.printTitlesColumn){const I=P.pageSetup.printTitlesColumn.split(":");H.push(`'${P.name}'!$${I[0]}:$${I[1]}`)}if(P.pageSetup.printTitlesRow){const I=P.pageSetup.printTitlesRow.split(":");H.push(`'${P.name}'!$${I[0]}:$${I[1]}`)}const L={name:"_xlnm.Print_Titles",ranges:H,localSheetId:R};T.push(L)}R++}),T.length&&(y.definedNames=y.definedNames.concat(T)),(y.media||[]).forEach((P,H)=>{P.name=P.type+(H+1)})}render(y,T){y.openXml(l.StdDocAttributes),y.openNode("workbook",g.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(y),this.map.workbookPr.render(y,T.properties),this.map.bookViews.render(y,T.views),this.map.sheets.render(y,T.sheets),this.map.definedNames.render(y,T.definedNames),this.map.calcPr.render(y,T.calcProperties),y.closeNode()}parseOpen(y){if(this.parser)return this.parser.parseOpen(y),!0;switch(y.name){case"workbook":return!0;default:return this.parser=this.map[y.name],this.parser&&this.parser.parseOpen(y),!0}}parseText(y){this.parser&&this.parser.parseText(y)}parseClose(y){if(this.parser)return this.parser.parseClose(y)||(this.parser=void 0),!0;switch(y){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(y){const T=(y.workbookRels||[]).reduce((I,O)=>(I[O.Id]=O,I),{}),R=[];let P,H=0;(y.sheets||[]).forEach(I=>{const O=T[I.rId];O&&(P=y.worksheetHash["xl/"+O.Target.replace(/^(\s|\/xl\/)+/,"")],P&&(P.name=I.name,P.id=I.id,P.state=I.state,R[H++]=P))});const L=[];i.each(y.definedNames,I=>{if(I.name==="_xlnm.Print_Area"){if(P=R[I.localSheetId],P){P.pageSetup||(P.pageSetup={});const O=a.decodeEx(I.ranges[0]);P.pageSetup.printArea=P.pageSetup.printArea?`${P.pageSetup.printArea}&&${O.dimensions}`:O.dimensions}}else if(I.name==="_xlnm.Print_Titles"){if(P=R[I.localSheetId],P){P.pageSetup||(P.pageSetup={});const O=I.ranges.join(","),F=/\$/g,q=/\$\d+:\$\d+/,z=O.match(q);if(z&&z.length){const C=z[0];P.pageSetup.printTitlesRow=C.replace(F,"")}const N=/\$[A-Z]+:\$[A-Z]+/,U=O.match(N);if(U&&U.length){const C=U[0];P.pageSetup.printTitlesColumn=C.replace(F,"")}}}else L.push(I)}),y.definedNames=L,y.media.forEach((I,O)=>{I.index=O})}}g.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},g.STATIC_XFORMS={fileVersion:new o({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},n.exports=g},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(e,n,s){const i=e("../strings/rich-text-xform"),a=e("../../../utils/utils"),l=e("../base-xform"),c=n.exports=function(o){this.model=o};a.inherits(c,l,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new i),this._richTextXform},render(o,u){u=u||this.model,o.openNode("comment",{ref:u.ref,authorId:0}),o.openNode("text"),u&&u.note&&u.note.texts&&u.note.texts.forEach(p=>{this.richTextXform.render(o,p)}),o.closeNode(),o.closeNode()},parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"comment":return this.model={type:"note",note:{texts:[]},...o.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(o),!0;default:return!1}},parseText(o){this.parser&&this.parser.parseText(o)},parseClose(o){switch(o){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(o),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(e,n,s){const i=e("../../../utils/xml-stream"),a=e("../../../utils/utils"),l=e("../base-xform"),c=e("./comment-xform"),o=n.exports=function(){this.map={comment:new c}};a.inherits(o,l,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(u,p){p=p||this.model,u.openXml(i.StdDocAttributes),u.openNode("comments",o.COMMENTS_ATTRIBUTES),u.openNode("authors"),u.leafNode("author",null,"Author"),u.closeNode(),u.openNode("commentList"),p.comments.forEach(h=>{this.map.comment.render(u,h)}),u.closeNode(),u.closeNode()},parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(u),!0;default:return!1}},parseText(u){this.parser&&this.parser.parseText(u)},parseClose(u){switch(u){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(u),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(e,n,s){const i=e("../../base-xform");n.exports=class extends i{constructor(a){super(),this._model=a}get tag(){return this._model&&this._model.tag}render(a,l,c){(l===c[2]||this.tag==="x:SizeWithCells"&&l===c[1])&&a.leafNode(this.tag)}parseOpen(a){switch(a.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(e,n,s){const i=e("../../base-xform");n.exports=class extends i{constructor(a){super(),this._model=a}get tag(){return this._model&&this._model.tag}render(a,l){a.leafNode(this.tag,null,l)}parseOpen(a){switch(a.name){case this.tag:return this.text="",!0;default:return!1}}parseText(a){this.text=a}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"x:Anchor"}getAnchorRect(a){const l=Math.floor(a.left),c=Math.floor(68*(a.left-l)),o=Math.floor(a.top),u=Math.floor(18*(a.top-o)),p=Math.floor(a.right),h=Math.floor(68*(a.right-p)),d=Math.floor(a.bottom);return[l,c,o,u,p,h,d,Math.floor(18*(a.bottom-d))]}getDefaultRect(a){const l=a.col,c=Math.max(a.row-2,0);return[l,6,c,14,l+2,2,c+4,16]}render(a,l){const c=l.anchor?this.getAnchorRect(l.anchor):this.getDefaultRect(l.refAddress);a.leafNode("x:Anchor",null,c.join(", "))}parseOpen(a){switch(a.name){case this.tag:return this.text="",!0;default:return!1}}parseText(a){this.text=a}parseClose(){return!1}}},{"../base-xform":32}],44:[function(e,n,s){const i=e("../base-xform"),a=e("./vml-anchor-xform"),l=e("./style/vml-protection-xform"),c=e("./style/vml-position-xform"),o=["twoCells","oneCells","absolute"];n.exports=class extends i{constructor(){super(),this.map={"x:Anchor":new a,"x:Locked":new l({tag:"x:Locked"}),"x:LockText":new l({tag:"x:LockText"}),"x:SizeWithCells":new c({tag:"x:SizeWithCells"}),"x:MoveWithCells":new c({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(u,p){const{protection:h,editAs:d}=p.note;u.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(u,d,o),this.map["x:SizeWithCells"].render(u,d,o),this.map["x:Anchor"].render(u,p),this.map["x:Locked"].render(u,h.locked),u.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(u,h.lockText),u.leafNode("x:Row",null,p.refAddress.row-1),u.leafNode("x:Column",null,p.refAddress.col-1),u.closeNode()}parseOpen(u){switch(u.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){const u=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),p=Object.keys(u).length;this.model.editAs=o[p],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(e,n,s){const i=e("../../../utils/xml-stream"),a=e("../base-xform"),l=e("./vml-shape-xform");class c extends a{constructor(){super(),this.map={"v:shape":new l}}get tag(){return"xml"}render(u,p){u.openXml(i.StdDocAttributes),u.openNode(this.tag,c.DRAWING_ATTRIBUTES),u.openNode("o:shapelayout",{"v:ext":"edit"}),u.leafNode("o:idmap",{"v:ext":"edit",data:1}),u.closeNode(),u.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),u.leafNode("v:stroke",{joinstyle:"miter"}),u.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),u.closeNode(),p.comments.forEach((h,d)=>{this.map["v:shape"].render(u,h,d)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(u){case this.tag:return!1;default:return!0}}reconcile(u,p){u.anchors.forEach(h=>{h.br?this.map["xdr:twoCellAnchor"].reconcile(h,p):this.map["xdr:oneCellAnchor"].reconcile(h,p)})}}c.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},n.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(e,n,s){const i=e("../base-xform"),a=e("./vml-textbox-xform"),l=e("./vml-client-data-xform");class c extends i{constructor(){super(),this.map={"v:textbox":new a,"x:ClientData":new l}}get tag(){return"v:shape"}render(u,p,h){u.openNode("v:shape",c.V_SHAPE_ATTRIBUTES(p,h)),u.leafNode("v:fill",{color2:"infoBackground [80]"}),u.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),u.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(u,p),this.map["x:ClientData"].render(u,p),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset(),this.model={margins:{insetmode:u.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}c.V_SHAPE_ATTRIBUTES=(o,u)=>({id:"_x0000_s"+(1025+u),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":o.note.margins&&o.note.margins.insetmode}),n.exports=c},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"v:textbox"}conversionUnit(a,l,c){return`${parseFloat(a)*l.toFixed(2)}${c}`}reverseConversionUnit(a){return(a||"").split(",").map(l=>Number(parseFloat(this.conversionUnit(parseFloat(l),.1,"")).toFixed(2)))}render(a,l){const c={style:"mso-direction-alt:auto"};if(l&&l.note){let{inset:o}=l.note&&l.note.margins;Array.isArray(o)&&(o=o.map(u=>this.conversionUnit(u,10,"mm")).join(",")),o&&(c.inset=o)}a.openNode("v:textbox",c),a.leafNode("div",{style:"text-align:left"}),a.closeNode()}parseOpen(a){switch(a.name){case this.tag:return this.model={inset:this.reverseConversionUnit(a.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(a){switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(e,n,s){const i=e("./base-xform");n.exports=class extends i{createNewModel(a){return{}}parseOpen(a){return this.parser=this.parser||this.map[a.name],this.parser?(this.parser.parseOpen(a),!0):a.name===this.tag&&(this.model=this.createNewModel(a),!0)}parseText(a){this.parser&&this.parser.parseText(a)}onParserClose(a,l){this.model[a]=l.model}parseClose(a){return this.parser?(this.parser.parseClose(a)||(this.onParserClose(a,this.parser),this.parser=void 0),!0):a!==this.tag}}},{"./base-xform":32}],49:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{render(a,l){a.openNode("HeadingPairs"),a.openNode("vt:vector",{size:2,baseType:"variant"}),a.openNode("vt:variant"),a.leafNode("vt:lpstr",void 0,"Worksheets"),a.closeNode(),a.openNode("vt:variant"),a.leafNode("vt:i4",void 0,l.length),a.closeNode(),a.closeNode(),a.closeNode()}parseOpen(a){return a.name==="HeadingPairs"}parseText(){}parseClose(a){return a!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{render(a,l){a.openNode("TitlesOfParts"),a.openNode("vt:vector",{size:l.length,baseType:"lpstr"}),l.forEach(c=>{a.leafNode("vt:lpstr",void 0,c.name)}),a.closeNode(),a.closeNode()}parseOpen(a){return a.name==="TitlesOfParts"}parseText(){}parseClose(a){return a!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(e,n,s){const i=e("../../../utils/xml-stream"),a=e("../base-xform"),l=e("../simple/string-xform"),c=e("./app-heading-pairs-xform"),o=e("./app-titles-of-parts-xform");class u extends a{constructor(){super(),this.map={Company:new l({tag:"Company"}),Manager:new l({tag:"Manager"}),HeadingPairs:new c,TitleOfParts:new o}}render(h,d){h.openXml(i.StdDocAttributes),h.openNode("Properties",u.PROPERTY_ATTRIBUTES),h.leafNode("Application",void 0,"Microsoft Excel"),h.leafNode("DocSecurity",void 0,"0"),h.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(h,d.worksheets),this.map.TitleOfParts.render(h,d.worksheets),this.map.Company.render(h,d.company||""),this.map.Manager.render(h,d.manager),h.leafNode("LinksUpToDate",void 0,"false"),h.leafNode("SharedDoc",void 0,"false"),h.leafNode("HyperlinksChanged",void 0,"false"),h.leafNode("AppVersion",void 0,"16.0300"),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"Properties":return!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}u.DateFormat=function(p){return p.toISOString().replace(/[.]\d{3,6}/,"")},u.DateAttrs={"xsi:type":"dcterms:W3CDTF"},u.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},n.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(e,n,s){const i=e("../../../utils/xml-stream"),a=e("../base-xform");class l extends a{render(o,u){o.openXml(i.StdDocAttributes),o.openNode("Types",l.PROPERTY_ATTRIBUTES);const p={};(u.media||[]).forEach(h=>{if(h.type==="image"){const d=h.extension;p[d]||(p[d]=!0,o.leafNode("Default",{Extension:d,ContentType:"image/"+d}))}}),o.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),o.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),o.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),u.worksheets.forEach(h=>{const d=`/xl/worksheets/sheet${h.id}.xml`;o.leafNode("Override",{PartName:d,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),o.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),o.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),u.sharedStrings&&u.sharedStrings.count&&o.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),u.tables&&u.tables.forEach(h=>{o.leafNode("Override",{PartName:"/xl/tables/"+h.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),u.drawings&&u.drawings.forEach(h=>{o.leafNode("Override",{PartName:`/xl/drawings/${h.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),u.commentRefs&&(o.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),u.commentRefs.forEach(h=>{let{commentName:d}=h;o.leafNode("Override",{PartName:`/xl/${d}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),o.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),o.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),o.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}l.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},n.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(e,n,s){const i=e("../../../utils/xml-stream"),a=e("../base-xform"),l=e("../simple/date-xform"),c=e("../simple/string-xform"),o=e("../simple/integer-xform");class u extends a{constructor(){super(),this.map={"dc:creator":new c({tag:"dc:creator"}),"dc:title":new c({tag:"dc:title"}),"dc:subject":new c({tag:"dc:subject"}),"dc:description":new c({tag:"dc:description"}),"dc:identifier":new c({tag:"dc:identifier"}),"dc:language":new c({tag:"dc:language"}),"cp:keywords":new c({tag:"cp:keywords"}),"cp:category":new c({tag:"cp:category"}),"cp:lastModifiedBy":new c({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new l({tag:"cp:lastPrinted",format:u.DateFormat}),"cp:revision":new o({tag:"cp:revision"}),"cp:version":new c({tag:"cp:version"}),"cp:contentStatus":new c({tag:"cp:contentStatus"}),"cp:contentType":new c({tag:"cp:contentType"}),"dcterms:created":new l({tag:"dcterms:created",attrs:u.DateAttrs,format:u.DateFormat}),"dcterms:modified":new l({tag:"dcterms:modified",attrs:u.DateAttrs,format:u.DateFormat})}}render(h,d){h.openXml(i.StdDocAttributes),h.openNode("cp:coreProperties",u.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(h,d.creator),this.map["dc:title"].render(h,d.title),this.map["dc:subject"].render(h,d.subject),this.map["dc:description"].render(h,d.description),this.map["dc:identifier"].render(h,d.identifier),this.map["dc:language"].render(h,d.language),this.map["cp:keywords"].render(h,d.keywords),this.map["cp:category"].render(h,d.category),this.map["cp:lastModifiedBy"].render(h,d.lastModifiedBy),this.map["cp:lastPrinted"].render(h,d.lastPrinted),this.map["cp:revision"].render(h,d.revision),this.map["cp:version"].render(h,d.version),this.map["cp:contentStatus"].render(h,d.contentStatus),this.map["cp:contentType"].render(h,d.contentType),this.map["dcterms:created"].render(h,d.created),this.map["dcterms:modified"].render(h,d.modified),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[h.name],this.parser)return this.parser.parseOpen(h),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(h))}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+h)}}}u.DateFormat=function(p){return p.toISOString().replace(/[.]\d{3}/,"")},u.DateAttrs={"xsi:type":"dcterms:W3CDTF"},u.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},n.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{render(a,l){a.leafNode("Relationship",l)}parseOpen(a){switch(a.name){case"Relationship":return this.model=a.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(e,n,s){const i=e("../../../utils/xml-stream"),a=e("../base-xform"),l=e("./relationship-xform");class c extends a{constructor(){super(),this.map={Relationship:new l}}render(u,p){p=p||this._values,u.openXml(i.StdDocAttributes),u.openNode("Relationships",c.RELATIONSHIPS_ATTRIBUTES),p.forEach(h=>{this.map.Relationship.render(u,h)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[u.name],this.parser)return this.parser.parseOpen(u),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(u))}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(u){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+u)}}}c.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},n.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:this.reset(),this.model={range:{editAs:a.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[a.name],this.parser&&this.parser.parseOpen(a)}return!0}parseText(a){this.parser&&this.parser.parseText(a)}reconcilePicture(a,l){if(a&&a.rId){const c=l.rels[a.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(c){const o=c[1],u=l.mediaIndex[o];return l.media[u]}}}}},{"../base-xform":32}],57:[function(e,n,s){const i=e("../base-xform"),a=e("./blip-xform");n.exports=class extends i{constructor(){super(),this.map={"a:blip":new a}}get tag(){return"xdr:blipFill"}render(l,c){l.openNode(this.tag),this.map["a:blip"].render(l,c),l.openNode("a:stretch"),l.leafNode("a:fillRect"),l.closeNode(),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"a:blip"}render(a,l){a.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":l.rId,cstate:"print"})}parseOpen(a){switch(a.name){case this.tag:return this.model={rId:a.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(a){switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"xdr:cNvPicPr"}render(a){a.openNode(this.tag),a.leafNode("a:picLocks",{noChangeAspect:"1"}),a.closeNode()}parseOpen(a){switch(a.name){case this.tag:default:return!0}}parseText(){}parseClose(a){switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(e,n,s){const i=e("../base-xform"),a=e("./hlink-click-xform"),l=e("./ext-lst-xform");n.exports=class extends i{constructor(){super(),this.map={"a:hlinkClick":new a,"a:extLst":new l}}get tag(){return"xdr:cNvPr"}render(c,o){c.openNode(this.tag,{id:o.index,name:"Picture "+o.index}),this.map["a:hlinkClick"].render(c,o),this.map["a:extLst"].render(c,o),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset();break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(){}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(e,n,s){const i=e("../base-xform"),a=e("../simple/integer-xform");n.exports=class extends i{constructor(l){super(),this.tag=l.tag,this.map={"xdr:col":new a({tag:"xdr:col",zero:!0}),"xdr:colOff":new a({tag:"xdr:colOff",zero:!0}),"xdr:row":new a({tag:"xdr:row",zero:!0}),"xdr:rowOff":new a({tag:"xdr:rowOff",zero:!0})}}render(l,c){l.openNode(this.tag),this.map["xdr:col"].render(l,c.nativeCol),this.map["xdr:colOff"].render(l,c.nativeColOff),this.map["xdr:row"].render(l,c.nativeRow),this.map["xdr:rowOff"].render(l,c.nativeRowOff),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(e,n,s){const i=e("../../../utils/col-cache"),a=e("../../../utils/xml-stream"),l=e("../base-xform"),c=e("./two-cell-anchor-xform"),o=e("./one-cell-anchor-xform");class u extends l{constructor(){super(),this.map={"xdr:twoCellAnchor":new c,"xdr:oneCellAnchor":new o}}prepare(h){h.anchors.forEach((d,x)=>{d.anchorType=(function(b){return(typeof b.range=="string"?i.decode(b.range):b.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"})(d),this.map[d.anchorType].prepare(d,{index:x})})}get tag(){return"xdr:wsDr"}render(h,d){h.openXml(a.StdDocAttributes),h.openNode(this.tag,u.DRAWING_ATTRIBUTES),d.anchors.forEach(x=>{this.map[x.anchorType].render(h,x)}),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h)}return!0}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(h){case this.tag:return!1;default:return!0}}reconcile(h,d){h.anchors.forEach(x=>{x.br?this.map["xdr:twoCellAnchor"].reconcile(x,d):this.map["xdr:oneCellAnchor"].reconcile(x,d)})}}u.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},n.exports=u},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"a:extLst"}render(a){a.openNode(this.tag),a.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),a.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),a.closeNode(),a.closeNode()}parseOpen(a){switch(a.name){case this.tag:default:return!0}}parseText(){}parseClose(a){switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{constructor(a){super(),this.tag=a.tag,this.map={}}render(a,l){a.openNode(this.tag);const c=Math.floor(9525*l.width),o=Math.floor(9525*l.height);a.addAttribute("cx",c),a.addAttribute("cy",o),a.closeNode()}parseOpen(a){return a.name===this.tag&&(this.model={width:parseInt(a.attributes.cx||"0",10)/9525,height:parseInt(a.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"a:hlinkClick"}render(a,l){l.hyperlinks&&l.hyperlinks.rId&&a.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":l.hyperlinks.rId,tooltip:l.hyperlinks.tooltip})}parseOpen(a){switch(a.name){case this.tag:return this.model={hyperlinks:{rId:a.attributes["r:id"],tooltip:a.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(e,n,s){const i=e("../base-xform"),a=e("./c-nv-pr-xform"),l=e("./c-nv-pic-pr-xform");n.exports=class extends i{constructor(){super(),this.map={"xdr:cNvPr":new a,"xdr:cNvPicPr":new l}}get tag(){return"xdr:nvPicPr"}render(c,o){c.openNode(this.tag),this.map["xdr:cNvPr"].render(c,o),this.map["xdr:cNvPicPr"].render(c,o),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset();break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(){}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(e,n,s){const i=e("./base-cell-anchor-xform"),a=e("../static-xform"),l=e("./cell-position-xform"),c=e("./ext-xform"),o=e("./pic-xform");n.exports=class extends i{constructor(){super(),this.map={"xdr:from":new l({tag:"xdr:from"}),"xdr:ext":new c({tag:"xdr:ext"}),"xdr:pic":new o,"xdr:clientData":new a({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(u,p){this.map["xdr:pic"].prepare(u.picture,p)}render(u,p){u.openNode(this.tag,{editAs:p.range.editAs||"oneCell"}),this.map["xdr:from"].render(u,p.range.tl),this.map["xdr:ext"].render(u,p.range.ext),this.map["xdr:pic"].render(u,p.picture),this.map["xdr:clientData"].render(u,{}),u.closeNode()}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(u,p){u.medium=this.reconcilePicture(u.picture,p)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(e,n,s){const i=e("../base-xform"),a=e("../static-xform"),l=e("./blip-fill-xform"),c=e("./nv-pic-pr-xform"),o=e("./sp-pr");n.exports=class extends i{constructor(){super(),this.map={"xdr:nvPicPr":new c,"xdr:blipFill":new l,"xdr:spPr":new a(o)}}get tag(){return"xdr:pic"}prepare(u,p){u.index=p.index+1}render(u,p){u.openNode(this.tag),this.map["xdr:nvPicPr"].render(u,p),this.map["xdr:blipFill"].render(u,p),this.map["xdr:spPr"].render(u,p),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset();break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(){}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(u){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(e,n,s){n.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(e,n,s){const i=e("./base-cell-anchor-xform"),a=e("../static-xform"),l=e("./cell-position-xform"),c=e("./pic-xform");n.exports=class extends i{constructor(){super(),this.map={"xdr:from":new l({tag:"xdr:from"}),"xdr:to":new l({tag:"xdr:to"}),"xdr:pic":new c,"xdr:clientData":new a({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(o,u){this.map["xdr:pic"].prepare(o.picture,u)}render(o,u){o.openNode(this.tag,{editAs:u.range.editAs||"oneCell"}),this.map["xdr:from"].render(o,u.range.tl),this.map["xdr:to"].render(o,u.range.br),this.map["xdr:pic"].render(o,u.picture),this.map["xdr:clientData"].render(o,{}),o.closeNode()}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(o,u){o.medium=this.reconcilePicture(o.picture,u)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(e,n,s){const i=e("./base-xform");n.exports=class extends i{constructor(a){super(),this.tag=a.tag,this.always=!!a.always,this.count=a.count,this.empty=a.empty,this.$count=a.$count||"count",this.$=a.$,this.childXform=a.childXform,this.maxItems=a.maxItems}prepare(a,l){const{childXform:c}=this;a&&a.forEach((o,u)=>{l.index=u,c.prepare(o,l)})}render(a,l){if(this.always||l&&l.length){a.openNode(this.tag,this.$),this.count&&a.addAttribute(this.$count,l&&l.length||0);const{childXform:c}=this;(l||[]).forEach((o,u)=>{c.render(a,o,u)}),a.closeNode()}else this.empty&&a.leafNode(this.tag)}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(a)&&(this.parser=this.childXform,!0)}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser){if(!this.parser.parseClose(a)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(a,l){if(a){const{childXform:c}=this;a.forEach(o=>{c.reconcile(o,l)})}}}},{"./base-xform":32}],72:[function(e,n,s){const i=e("../../../utils/col-cache"),a=e("../base-xform");n.exports=class extends a{get tag(){return"autoFilter"}render(l,c){if(c)if(typeof c=="string")l.leafNode("autoFilter",{ref:c});else{const o=function(h){return typeof h=="string"?h:i.getAddress(h.row,h.column).address},u=o(c.from),p=o(c.to);u&&p&&l.leafNode("autoFilter",{ref:`${u}:${p}`})}}parseOpen(l){l.name==="autoFilter"&&(this.model=l.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(e,n,s){const i=e("../../../utils/utils"),a=e("../base-xform"),l=e("../../../doc/range"),c=e("../../../doc/enums"),o=e("../strings/rich-text-xform");function u(p){if(p==null)return c.ValueType.Null;if(p instanceof String||typeof p=="string")return c.ValueType.String;if(typeof p=="number")return c.ValueType.Number;if(typeof p=="boolean")return c.ValueType.Boolean;if(p instanceof Date)return c.ValueType.Date;if(p.text&&p.hyperlink)return c.ValueType.Hyperlink;if(p.formula)return c.ValueType.Formula;if(p.error)return c.ValueType.Error;throw new Error("I could not understand type of value")}n.exports=class extends a{constructor(){super(),this.richTextXForm=new o}get tag(){return"c"}prepare(p,h){const d=h.styles.addStyleModel(p.style||{},(function(x){switch(x.type){case c.ValueType.Formula:return u(x.result);default:return x.type}})(p));switch(d&&(p.styleId=d),p.comment&&h.comments.push({...p.comment,ref:p.address}),p.type){case c.ValueType.String:case c.ValueType.RichText:h.sharedStrings&&(p.ssId=h.sharedStrings.add(p.value));break;case c.ValueType.Date:h.date1904&&(p.date1904=!0);break;case c.ValueType.Hyperlink:h.sharedStrings&&p.text!==void 0&&p.text!==null&&(p.ssId=h.sharedStrings.add(p.text)),h.hyperlinks.push({address:p.address,target:p.hyperlink,tooltip:p.tooltip});break;case c.ValueType.Merge:h.merges.add(p);break;case c.ValueType.Formula:if(h.date1904&&(p.date1904=!0),p.shareType==="shared"&&(p.si=h.siFormulae++),p.formula)h.formulae[p.address]=p;else if(p.sharedFormula){const x=h.formulae[p.sharedFormula];if(!x)throw new Error("Shared Formula master must exist above and or left of clone for cell "+p.address);x.si===void 0?(x.shareType="shared",x.si=h.siFormulae++,x.range=new l(x.address,p.address)):x.range&&x.range.expandToAddress(p.address),p.si=x.si}}}renderFormula(p,h){let d=null;switch(h.shareType){case"shared":d={t:"shared",ref:h.ref||h.range.range,si:h.si};break;case"array":d={t:"array",ref:h.ref};break;default:h.si!==void 0&&(d={t:"shared",si:h.si})}switch(u(h.result)){case c.ValueType.Null:p.leafNode("f",d,h.formula);break;case c.ValueType.String:p.addAttribute("t","str"),p.leafNode("f",d,h.formula),p.leafNode("v",null,h.result);break;case c.ValueType.Number:p.leafNode("f",d,h.formula),p.leafNode("v",null,h.result);break;case c.ValueType.Boolean:p.addAttribute("t","b"),p.leafNode("f",d,h.formula),p.leafNode("v",null,h.result?1:0);break;case c.ValueType.Error:p.addAttribute("t","e"),p.leafNode("f",d,h.formula),p.leafNode("v",null,h.result.error);break;case c.ValueType.Date:p.leafNode("f",d,h.formula),p.leafNode("v",null,i.dateToExcel(h.result,h.date1904));break;default:throw new Error("I could not understand type of value")}}render(p,h){if(h.type!==c.ValueType.Null||h.styleId){switch(p.openNode("c"),p.addAttribute("r",h.address),h.styleId&&p.addAttribute("s",h.styleId),h.type){case c.ValueType.Null:break;case c.ValueType.Number:p.leafNode("v",null,h.value);break;case c.ValueType.Boolean:p.addAttribute("t","b"),p.leafNode("v",null,h.value?"1":"0");break;case c.ValueType.Error:p.addAttribute("t","e"),p.leafNode("v",null,h.value.error);break;case c.ValueType.String:case c.ValueType.RichText:h.ssId!==void 0?(p.addAttribute("t","s"),p.leafNode("v",null,h.ssId)):h.value&&h.value.richText?(p.addAttribute("t","inlineStr"),p.openNode("is"),h.value.richText.forEach(d=>{this.richTextXForm.render(p,d)}),p.closeNode("is")):(p.addAttribute("t","str"),p.leafNode("v",null,h.value));break;case c.ValueType.Date:p.leafNode("v",null,i.dateToExcel(h.value,h.date1904));break;case c.ValueType.Hyperlink:h.ssId!==void 0?(p.addAttribute("t","s"),p.leafNode("v",null,h.ssId)):(p.addAttribute("t","str"),p.leafNode("v",null,h.text));break;case c.ValueType.Formula:this.renderFormula(p,h);break;case c.ValueType.Merge:}p.closeNode()}}parseOpen(p){if(this.parser)return this.parser.parseOpen(p),!0;switch(p.name){case"c":return this.model={address:p.attributes.r},this.t=p.attributes.t,p.attributes.s&&(this.model.styleId=parseInt(p.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=p.attributes.si,this.model.shareType=p.attributes.t,this.model.ref=p.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(p),!0;default:return!1}}parseText(p){if(this.parser)this.parser.parseText(p);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+p:p;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+p:p:this.model.value=this.model.value?this.model.value+p:p}}parseClose(p){switch(p){case"c":{const{model:h}=this;if(h.formula||h.shareType)h.type=c.ValueType.Formula,h.value&&(this.t==="str"?h.result=i.xmlDecode(h.value):this.t==="b"?h.result=parseInt(h.value,10)!==0:this.t==="e"?h.result={error:h.value}:h.result=parseFloat(h.value),h.value=void 0);else if(h.value!==void 0)switch(this.t){case"s":h.type=c.ValueType.String,h.value=parseInt(h.value,10);break;case"str":h.type=c.ValueType.String,h.value=i.xmlDecode(h.value);break;case"inlineStr":h.type=c.ValueType.String;break;case"b":h.type=c.ValueType.Boolean,h.value=parseInt(h.value,10)!==0;break;case"e":h.type=c.ValueType.Error,h.value={error:h.value};break;default:h.type=c.ValueType.Number,h.value=parseFloat(h.value)}else h.styleId?h.type=c.ValueType.Null:h.type=c.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(p),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(p),!0)}}reconcile(p,h){const d=p.styleId&&h.styles&&h.styles.getStyleModel(p.styleId);switch(d&&(p.style=d),p.styleId!==void 0&&(p.styleId=void 0),p.type){case c.ValueType.String:typeof p.value=="number"&&h.sharedStrings&&(p.value=h.sharedStrings.getString(p.value)),p.value.richText&&(p.type=c.ValueType.RichText);break;case c.ValueType.Number:d&&i.isDateFmt(d.numFmt)&&(p.type=c.ValueType.Date,p.value=i.excelToDate(p.value,h.date1904));break;case c.ValueType.Formula:p.result!==void 0&&d&&i.isDateFmt(d.numFmt)&&(p.result=i.excelToDate(p.result,h.date1904)),p.shareType==="shared"&&(p.ref?h.formulae[p.si]=p.address:(p.sharedFormula=h.formulae[p.si],delete p.shareType),delete p.si)}const x=h.hyperlinkMap[p.address];x&&(p.type===c.ValueType.Formula?(p.text=p.result,p.result=void 0):(p.text=p.value,p.value=void 0),p.type=c.ValueType.Hyperlink,p.hyperlink=x);const b=h.commentsMap&&h.commentsMap[p.address];b&&(p.comment=b)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(e,n,s){const i=e("../../base-xform");n.exports=class extends i{get tag(){return"x14:cfIcon"}render(a,l){a.leafNode(this.tag,{iconSet:l.iconSet,iconId:l.iconId})}parseOpen(a){let{attributes:l}=a;this.model={iconSet:l.iconSet,iconId:i.toIntValue(l.iconId)}}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],75:[function(e,n,s){const{v4:i}=e("uuid"),a=e("../../base-xform"),l=e("../../composite-xform"),c=e("./databar-ext-xform"),o=e("./icon-set-ext-xform"),u={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class p extends l{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new c,"x14:iconSet":this.iconSetXform=new o}}get tag(){return"x14:cfRule"}static isExt(d){return d.type==="dataBar"?c.isExt(d):!(d.type!=="iconSet"||!d.custom&&!u[d.iconSet])}prepare(d){p.isExt(d)&&(d.x14Id=`{${i()}}`.toUpperCase())}render(d,x){if(p.isExt(x))switch(x.type){case"dataBar":this.renderDataBar(d,x);break;case"iconSet":this.renderIconSet(d,x)}}renderDataBar(d,x){d.openNode(this.tag,{type:"dataBar",id:x.x14Id}),this.databarXform.render(d,x),d.closeNode()}renderIconSet(d,x){d.openNode(this.tag,{type:"iconSet",priority:x.priority,id:x.x14Id||`{${i()}}`}),this.iconSetXform.render(d,x),d.closeNode()}createNewModel(d){let{attributes:x}=d;return{type:x.type,x14Id:x.id,priority:a.toIntValue(x.priority)}}onParserClose(d,x){Object.assign(this.model,x.model)}}n.exports=p},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(e,n,s){const i=e("../../composite-xform"),a=e("./f-ext-xform");n.exports=class extends i{constructor(){super(),this.map={"xm:f":this.fExtXform=new a}}get tag(){return"x14:cfvo"}render(l,c){l.openNode(this.tag,{type:c.type}),c.value!==void 0&&this.fExtXform.render(l,c.value),l.closeNode()}createNewModel(l){return{type:l.attributes.type}}onParserClose(l,c){switch(l){case"xm:f":this.model.value=c.model?parseFloat(c.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(e,n,s){const i=e("../../composite-xform"),a=e("./sqref-ext-xform"),l=e("./cf-rule-ext-xform");n.exports=class extends i{constructor(){super(),this.map={"xm:sqref":this.sqRef=new a,"x14:cfRule":this.cfRule=new l}}get tag(){return"x14:conditionalFormatting"}prepare(c,o){c.rules.forEach(u=>{this.cfRule.prepare(u,o)})}render(c,o){o.rules.some(l.isExt)&&(c.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),o.rules.filter(l.isExt).forEach(u=>this.cfRule.render(c,u)),this.sqRef.render(c,o.ref),c.closeNode())}createNewModel(){return{rules:[]}}onParserClose(c,o){switch(c){case"xm:sqref":this.model.ref=o.model;break;case"x14:cfRule":this.model.rules.push(o.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(e,n,s){const i=e("../../composite-xform"),a=e("./cf-rule-ext-xform"),l=e("./conditional-formatting-ext-xform");n.exports=class extends i{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new l}}get tag(){return"x14:conditionalFormattings"}hasContent(c){return c.hasExtContent===void 0&&(c.hasExtContent=c.some(o=>o.rules.some(a.isExt))),c.hasExtContent}prepare(c,o){c.forEach(u=>{this.cfXform.prepare(u,o)})}render(c,o){this.hasContent(o)&&(c.openNode(this.tag),o.forEach(u=>this.cfXform.render(c,u)),c.closeNode())}createNewModel(){return[]}onParserClose(c,o){this.model.push(o.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(e,n,s){const i=e("../../base-xform"),a=e("../../composite-xform"),l=e("../../style/color-xform"),c=e("./cfvo-ext-xform");n.exports=class extends a{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new c,"x14:borderColor":this.borderColorXform=new l("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new l("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new l("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new l("x14:axisColor")}}static isExt(o){return!o.gradient}get tag(){return"x14:dataBar"}render(o,u){o.openNode(this.tag,{minLength:i.toIntAttribute(u.minLength,0,!0),maxLength:i.toIntAttribute(u.maxLength,100,!0),border:i.toBoolAttribute(u.border,!1),gradient:i.toBoolAttribute(u.gradient,!0),negativeBarColorSameAsPositive:i.toBoolAttribute(u.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:i.toBoolAttribute(u.negativeBarBorderColorSameAsPositive,!0),axisPosition:i.toAttribute(u.axisPosition,"auto"),direction:i.toAttribute(u.direction,"leftToRight")}),u.cfvo.forEach(p=>{this.cfvoXform.render(o,p)}),this.borderColorXform.render(o,u.borderColor),this.negativeBorderColorXform.render(o,u.negativeBorderColor),this.negativeFillColorXform.render(o,u.negativeFillColor),this.axisColorXform.render(o,u.axisColor),o.closeNode()}createNewModel(o){let{attributes:u}=o;return{cfvo:[],minLength:i.toIntValue(u.minLength,0),maxLength:i.toIntValue(u.maxLength,100),border:i.toBoolValue(u.border,!1),gradient:i.toBoolValue(u.gradient,!0),negativeBarColorSameAsPositive:i.toBoolValue(u.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:i.toBoolValue(u.negativeBarBorderColorSameAsPositive,!0),axisPosition:i.toStringValue(u.axisPosition,"auto"),direction:i.toStringValue(u.direction,"leftToRight")}}onParserClose(o,u){const[,p]=o.split(":");switch(p){case"cfvo":this.model.cfvo.push(u.model);break;default:this.model[p]=u.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(e,n,s){const i=e("../../base-xform");n.exports=class extends i{get tag(){return"xm:f"}render(a,l){a.leafNode(this.tag,null,l)}parseOpen(){this.model=""}parseText(a){this.model+=a}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],81:[function(e,n,s){const i=e("../../base-xform"),a=e("../../composite-xform"),l=e("./cfvo-ext-xform"),c=e("./cf-icon-ext-xform");n.exports=class extends a{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new l,"x14:cfIcon":this.cfIconXform=new c}}get tag(){return"x14:iconSet"}render(o,u){o.openNode(this.tag,{iconSet:i.toStringAttribute(u.iconSet),reverse:i.toBoolAttribute(u.reverse,!1),showValue:i.toBoolAttribute(u.showValue,!0),custom:i.toBoolAttribute(u.icons,!1)}),u.cfvo.forEach(p=>{this.cfvoXform.render(o,p)}),u.icons&&u.icons.forEach((p,h)=>{p.iconId=h,this.cfIconXform.render(o,p)}),o.closeNode()}createNewModel(o){let{attributes:u}=o;return{cfvo:[],iconSet:i.toStringValue(u.iconSet,"3TrafficLights"),reverse:i.toBoolValue(u.reverse,!1),showValue:i.toBoolValue(u.showValue,!0)}}onParserClose(o,u){const[,p]=o.split(":");switch(p){case"cfvo":this.model.cfvo.push(u.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(u.model);break;default:this.model[p]=u.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(e,n,s){const i=e("../../base-xform");n.exports=class extends i{get tag(){return"xm:sqref"}render(a,l){a.leafNode(this.tag,null,l)}parseOpen(){this.model=""}parseText(a){this.model+=a}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],83:[function(e,n,s){const i=e("../../base-xform"),a=e("../../composite-xform"),l=e("../../../../doc/range"),c=e("./databar-xform"),o=e("./ext-lst-ref-xform"),u=e("./formula-xform"),p=e("./color-scale-xform"),h=e("./icon-set-xform"),d={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},x=g=>{const{type:v,operator:y}=g;switch(v){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:v};default:return{type:v,operator:y}}};class b extends a{constructor(){super(),this.map={dataBar:this.databarXform=new c,extLst:this.extLstRefXform=new o,formula:this.formulaXform=new u,colorScale:this.colorScaleXform=new p,iconSet:this.iconSetXform=new h}}get tag(){return"cfRule"}static isPrimitive(v){return v.type!=="iconSet"||!v.custom&&!d[v.iconSet]}render(v,y){switch(y.type){case"expression":this.renderExpression(v,y);break;case"cellIs":this.renderCellIs(v,y);break;case"top10":this.renderTop10(v,y);break;case"aboveAverage":this.renderAboveAverage(v,y);break;case"dataBar":this.renderDataBar(v,y);break;case"colorScale":this.renderColorScale(v,y);break;case"iconSet":this.renderIconSet(v,y);break;case"containsText":this.renderText(v,y);break;case"timePeriod":this.renderTimePeriod(v,y)}}renderExpression(v,y){v.openNode(this.tag,{type:"expression",dxfId:y.dxfId,priority:y.priority}),this.formulaXform.render(v,y.formulae[0]),v.closeNode()}renderCellIs(v,y){v.openNode(this.tag,{type:"cellIs",dxfId:y.dxfId,priority:y.priority,operator:y.operator}),y.formulae.forEach(T=>{this.formulaXform.render(v,T)}),v.closeNode()}renderTop10(v,y){v.leafNode(this.tag,{type:"top10",dxfId:y.dxfId,priority:y.priority,percent:i.toBoolAttribute(y.percent,!1),bottom:i.toBoolAttribute(y.bottom,!1),rank:i.toIntValue(y.rank,10,!0)})}renderAboveAverage(v,y){v.leafNode(this.tag,{type:"aboveAverage",dxfId:y.dxfId,priority:y.priority,aboveAverage:i.toBoolAttribute(y.aboveAverage,!0)})}renderDataBar(v,y){v.openNode(this.tag,{type:"dataBar",priority:y.priority}),this.databarXform.render(v,y),this.extLstRefXform.render(v,y),v.closeNode()}renderColorScale(v,y){v.openNode(this.tag,{type:"colorScale",priority:y.priority}),this.colorScaleXform.render(v,y),v.closeNode()}renderIconSet(v,y){b.isPrimitive(y)&&(v.openNode(this.tag,{type:"iconSet",priority:y.priority}),this.iconSetXform.render(v,y),v.closeNode())}renderText(v,y){v.openNode(this.tag,{type:y.operator,dxfId:y.dxfId,priority:y.priority,operator:i.toStringAttribute(y.operator,"containsText")});const T=(R=>{if(R.formulae&&R.formulae[0])return R.formulae[0];const P=new l(R.ref),{tl:H}=P;switch(R.operator){case"containsText":return`NOT(ISERROR(SEARCH("${R.text}",${H})))`;case"containsBlanks":return`LEN(TRIM(${H}))=0`;case"notContainsBlanks":return`LEN(TRIM(${H}))>0`;case"containsErrors":return`ISERROR(${H})`;case"notContainsErrors":return`NOT(ISERROR(${H}))`;default:return}})(y);T&&this.formulaXform.render(v,T),v.closeNode()}renderTimePeriod(v,y){v.openNode(this.tag,{type:"timePeriod",dxfId:y.dxfId,priority:y.priority,timePeriod:y.timePeriod});const T=(R=>{if(R.formulae&&R.formulae[0])return R.formulae[0];const P=new l(R.ref),{tl:H}=P;switch(R.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${H},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${H},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${H},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${H},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${H},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${H},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${H},1)=TODAY()-1`;case"today":return`FLOOR(${H},1)=TODAY()`;case"tomorrow":return`FLOOR(${H},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${H},1)<=6,FLOOR(${H},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${H})=MONTH(EDATE(TODAY(),0-1)),YEAR(${H})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${H})=MONTH(TODAY()),YEAR(${H})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${H})=MONTH(EDATE(TODAY(),0+1)),YEAR(${H})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(y);T&&this.formulaXform.render(v,T),v.closeNode()}createNewModel(v){let{attributes:y}=v;return{...x(y),dxfId:i.toIntValue(y.dxfId),priority:i.toIntValue(y.priority),timePeriod:y.timePeriod,percent:i.toBoolValue(y.percent),bottom:i.toBoolValue(y.bottom),rank:i.toIntValue(y.rank),aboveAverage:i.toBoolValue(y.aboveAverage)}}onParserClose(v,y){switch(v){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,y.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(y.model)}}}n.exports=b},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(e,n,s){const i=e("../../base-xform");n.exports=class extends i{get tag(){return"cfvo"}render(a,l){a.leafNode(this.tag,{type:l.type,val:l.value})}parseOpen(a){this.model={type:a.attributes.type,value:i.toFloatValue(a.attributes.val)}}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],85:[function(e,n,s){const i=e("../../composite-xform"),a=e("../../style/color-xform"),l=e("./cfvo-xform");n.exports=class extends i{constructor(){super(),this.map={cfvo:this.cfvoXform=new l,color:this.colorXform=new a}}get tag(){return"colorScale"}render(c,o){c.openNode(this.tag),o.cfvo.forEach(u=>{this.cfvoXform.render(c,u)}),o.color.forEach(u=>{this.colorXform.render(c,u)}),c.closeNode()}createNewModel(c){return{cfvo:[],color:[]}}onParserClose(c,o){this.model[c].push(o.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(e,n,s){const i=e("../../composite-xform"),a=e("./cf-rule-xform");n.exports=class extends i{constructor(){super(),this.map={cfRule:new a}}get tag(){return"conditionalFormatting"}render(l,c){c.rules.some(a.isPrimitive)&&(l.openNode(this.tag,{sqref:c.ref}),c.rules.forEach(o=>{a.isPrimitive(o)&&(o.ref=c.ref,this.map.cfRule.render(l,o))}),l.closeNode())}createNewModel(l){let{attributes:c}=l;return{ref:c.sqref,rules:[]}}onParserClose(l,c){this.model.rules.push(c.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(e,n,s){const i=e("../../base-xform"),a=e("./conditional-formatting-xform");n.exports=class extends i{constructor(){super(),this.cfXform=new a}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(l,c){let o=l.reduce((u,p)=>Math.max(u,...p.rules.map(h=>h.priority||0)),1);l.forEach(u=>{u.rules.forEach(p=>{p.priority||(p.priority=o++),p.style&&(p.dxfId=c.styles.addDxfStyle(p.style))})})}render(l,c){c.forEach(o=>{this.cfXform.render(l,o)})}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(l),!0;default:return!1}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){return!!this.parser&&(!!this.parser.parseClose(l)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(l,c){l.forEach(o=>{o.rules.forEach(u=>{u.dxfId!==void 0&&(u.style=c.styles.getDxfStyle(u.dxfId),delete u.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(e,n,s){const i=e("../../composite-xform"),a=e("../../style/color-xform"),l=e("./cfvo-xform");n.exports=class extends i{constructor(){super(),this.map={cfvo:this.cfvoXform=new l,color:this.colorXform=new a}}get tag(){return"dataBar"}render(c,o){c.openNode(this.tag),o.cfvo.forEach(u=>{this.cfvoXform.render(c,u)}),this.colorXform.render(c,o.color),c.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(c,o){switch(c){case"cfvo":this.model.cfvo.push(o.model);break;case"color":this.model.color=o.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(e,n,s){const i=e("../../base-xform"),a=e("../../composite-xform");class l extends i{get tag(){return"x14:id"}render(u,p){u.leafNode(this.tag,null,p)}parseOpen(){this.model=""}parseText(u){this.model+=u}parseClose(u){return u!==this.tag}}class c extends a{constructor(){super(),this.map={"x14:id":this.idXform=new l}}get tag(){return"ext"}render(u,p){u.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(u,p.x14Id),u.closeNode()}createNewModel(){return{}}onParserClose(u,p){this.model.x14Id=p.model}}n.exports=class extends a{constructor(){super(),this.map={ext:new c}}get tag(){return"extLst"}render(o,u){o.openNode(this.tag),this.map.ext.render(o,u),o.closeNode()}createNewModel(){return{}}onParserClose(o,u){Object.assign(this.model,u.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(e,n,s){const i=e("../../base-xform");n.exports=class extends i{get tag(){return"formula"}render(a,l){a.leafNode(this.tag,null,l)}parseOpen(){this.model=""}parseText(a){this.model+=a}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],91:[function(e,n,s){const i=e("../../base-xform"),a=e("../../composite-xform"),l=e("./cfvo-xform");n.exports=class extends a{constructor(){super(),this.map={cfvo:this.cfvoXform=new l}}get tag(){return"iconSet"}render(c,o){c.openNode(this.tag,{iconSet:i.toStringAttribute(o.iconSet,"3TrafficLights"),reverse:i.toBoolAttribute(o.reverse,!1),showValue:i.toBoolAttribute(o.showValue,!0)}),o.cfvo.forEach(u=>{this.cfvoXform.render(c,u)}),c.closeNode()}createNewModel(c){let{attributes:o}=c;return{iconSet:i.toStringValue(o.iconSet,"3TrafficLights"),reverse:i.toBoolValue(o.reverse),showValue:i.toBoolValue(o.showValue),cfvo:[]}}onParserClose(c,o){this.model[c].push(o.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(e,n,s){const i=e("../../../utils/utils"),a=e("../base-xform");n.exports=class extends a{get tag(){return"col"}prepare(l,c){const o=c.styles.addStyleModel(l.style||{});o&&(l.styleId=o)}render(l,c){l.openNode("col"),l.addAttribute("min",c.min),l.addAttribute("max",c.max),c.width&&l.addAttribute("width",c.width),c.styleId&&l.addAttribute("style",c.styleId),c.hidden&&l.addAttribute("hidden","1"),c.bestFit&&l.addAttribute("bestFit","1"),c.outlineLevel&&l.addAttribute("outlineLevel",c.outlineLevel),c.collapsed&&l.addAttribute("collapsed","1"),l.addAttribute("customWidth","1"),l.closeNode()}parseOpen(l){if(l.name==="col"){const c=this.model={min:parseInt(l.attributes.min||"0",10),max:parseInt(l.attributes.max||"0",10),width:l.attributes.width===void 0?void 0:parseFloat(l.attributes.width||"0")};return l.attributes.style&&(c.styleId=parseInt(l.attributes.style,10)),i.parseBoolean(l.attributes.hidden)&&(c.hidden=!0),i.parseBoolean(l.attributes.bestFit)&&(c.bestFit=!0),l.attributes.outlineLevel&&(c.outlineLevel=parseInt(l.attributes.outlineLevel,10)),i.parseBoolean(l.attributes.collapsed)&&(c.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(l,c){l.styleId&&(l.style=c.styles.getStyleModel(l.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(e,n,s){const i=e("../../../utils/under-dash"),a=e("../../../utils/utils"),l=e("../../../utils/col-cache"),c=e("../base-xform"),o=e("../../../doc/range");function u(h,d,x,b){const g=d[x];g!==void 0?h[x]=g:b!==void 0&&(h[x]=b)}function p(h,d,x,b){const g=d[x];g!==void 0&&(h[x]=a.parseBoolean(g))}n.exports=class extends c{get tag(){return"dataValidations"}render(h,d){const x=(function(b){const g=i.map(b,(T,R)=>({address:R,dataValidation:T,marked:!1})).sort((T,R)=>i.strcmp(T.address,R.address)),v=i.keyBy(g,"address"),y=(T,R,P)=>{for(let H=0;H<R;H++){const L=l.encodeAddress(T.row+H,P);if(!b[L]||!i.isEqual(b[T.address],b[L]))return!1}return!0};return g.map(T=>{if(!T.marked){const R=l.decodeEx(T.address);if(R.dimensions)return v[R.dimensions].marked=!0,{...T.dataValidation,sqref:T.address};let P=1,H=l.encodeAddress(R.row+P,R.col);for(;b[H]&&i.isEqual(T.dataValidation,b[H]);)P++,H=l.encodeAddress(R.row+P,R.col);let L=1;for(;y(R,P,R.col+L);)L++;for(let I=0;I<P;I++)for(let O=0;O<L;O++)H=l.encodeAddress(R.row+I,R.col+O),v[H].marked=!0;if(P>1||L>1){const I=R.row+(P-1),O=R.col+(L-1);return{...T.dataValidation,sqref:`${T.address}:${l.encodeAddress(I,O)}`}}return{...T.dataValidation,sqref:T.address}}return null}).filter(Boolean)})(d);x.length&&(h.openNode("dataValidations",{count:x.length}),x.forEach(b=>{h.openNode("dataValidation"),b.type!=="any"&&(h.addAttribute("type",b.type),b.operator&&b.type!=="list"&&b.operator!=="between"&&h.addAttribute("operator",b.operator),b.allowBlank&&h.addAttribute("allowBlank","1")),b.showInputMessage&&h.addAttribute("showInputMessage","1"),b.promptTitle&&h.addAttribute("promptTitle",b.promptTitle),b.prompt&&h.addAttribute("prompt",b.prompt),b.showErrorMessage&&h.addAttribute("showErrorMessage","1"),b.errorStyle&&h.addAttribute("errorStyle",b.errorStyle),b.errorTitle&&h.addAttribute("errorTitle",b.errorTitle),b.error&&h.addAttribute("error",b.error),h.addAttribute("sqref",b.sqref),(b.formulae||[]).forEach((g,v)=>{h.openNode("formula"+(v+1)),b.type==="date"?h.writeText(a.dateToExcel(new Date(g))):h.writeText(g),h.closeNode()}),h.closeNode()}),h.closeNode())}parseOpen(h){switch(h.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=h.attributes.sqref;const d={type:h.attributes.type||"any",formulae:[]};switch(h.attributes.type&&p(d,h.attributes,"allowBlank"),p(d,h.attributes,"showInputMessage"),p(d,h.attributes,"showErrorMessage"),d.type){case"any":case"list":case"custom":break;default:u(d,h.attributes,"operator","between")}return u(d,h.attributes,"promptTitle"),u(d,h.attributes,"prompt"),u(d,h.attributes,"errorStyle"),u(d,h.attributes,"errorTitle"),u(d,h.attributes,"error"),this._dataValidation=d,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(h){this._formula&&this._formula.push(h)}parseClose(h){switch(h){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(d=>{d.includes(":")?new o(d).forEachAddress(x=>{this.model[x]=this._dataValidation}):this.model[d]=this._dataValidation}),!0;case"formula1":case"formula2":{let d=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":d=parseInt(d,10);break;case"decimal":d=parseFloat(d);break;case"date":d=a.excelToDate(parseFloat(d))}return this._dataValidation.formulae.push(d),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"dimension"}render(a,l){l&&a.leafNode("dimension",{ref:l})}parseOpen(a){return a.name==="dimension"&&(this.model=a.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"drawing"}render(a,l){l&&a.leafNode(this.tag,{"r:id":l.rId})}parseOpen(a){switch(a.name){case this.tag:return this.model={rId:a.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(e,n,s){const i=e("../composite-xform"),a=e("./cf-ext/conditional-formattings-ext-xform");class l extends i{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new a}}get tag(){return"ext"}hasContent(o){return this.conditionalFormattings.hasContent(o.conditionalFormattings)}prepare(o,u){this.conditionalFormattings.prepare(o.conditionalFormattings,u)}render(o,u){o.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(o,u.conditionalFormattings),o.closeNode()}createNewModel(){return{}}onParserClose(o,u){this.model[o]=u.model}}n.exports=class extends i{constructor(){super(),this.map={ext:this.ext=new l}}get tag(){return"extLst"}prepare(c,o){this.ext.prepare(c,o)}hasContent(c){return this.ext.hasContent(c)}render(c,o){this.hasContent(o)&&(c.openNode("extLst"),this.ext.render(c,o),c.closeNode())}createNewModel(){return{}}onParserClose(c,o){Object.assign(this.model,o.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"headerFooter"}render(a,l){if(l){a.addRollback();let c=!1;a.openNode("headerFooter"),l.differentFirst&&(a.addAttribute("differentFirst","1"),c=!0),l.differentOddEven&&(a.addAttribute("differentOddEven","1"),c=!0),l.oddHeader&&typeof l.oddHeader=="string"&&(a.leafNode("oddHeader",null,l.oddHeader),c=!0),l.oddFooter&&typeof l.oddFooter=="string"&&(a.leafNode("oddFooter",null,l.oddFooter),c=!0),l.evenHeader&&typeof l.evenHeader=="string"&&(a.leafNode("evenHeader",null,l.evenHeader),c=!0),l.evenFooter&&typeof l.evenFooter=="string"&&(a.leafNode("evenFooter",null,l.evenFooter),c=!0),l.firstHeader&&typeof l.firstHeader=="string"&&(a.leafNode("firstHeader",null,l.firstHeader),c=!0),l.firstFooter&&typeof l.firstFooter=="string"&&(a.leafNode("firstFooter",null,l.firstFooter),c=!0),c?(a.closeNode(),a.commit()):a.rollback()}}parseOpen(a){switch(a.name){case"headerFooter":return this.model={},a.attributes.differentFirst&&(this.model.differentFirst=parseInt(a.attributes.differentFirst,0)===1),a.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(a.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(a){switch(this.currentNode){case"oddHeader":this.model.oddHeader=a;break;case"oddFooter":this.model.oddFooter=a;break;case"evenHeader":this.model.evenHeader=a;break;case"evenFooter":this.model.evenFooter=a;break;case"firstHeader":this.model.firstHeader=a;break;case"firstFooter":this.model.firstFooter=a}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"hyperlink"}render(a,l){this.isInternalLink(l)?a.leafNode("hyperlink",{ref:l.address,"r:id":l.rId,tooltip:l.tooltip,location:l.target}):a.leafNode("hyperlink",{ref:l.address,"r:id":l.rId,tooltip:l.tooltip})}parseOpen(a){return a.name==="hyperlink"&&(this.model={address:a.attributes.ref,rId:a.attributes["r:id"],tooltip:a.attributes.tooltip},a.attributes.location&&(this.model.target=a.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(a){return a.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(a.target)}}},{"../base-xform":32}],99:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"mergeCell"}render(a,l){a.leafNode("mergeCell",{ref:l})}parseOpen(a){return a.name==="mergeCell"&&(this.model=a.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(e,n,s){const i=e("../../../utils/under-dash"),a=e("../../../doc/range"),l=e("../../../utils/col-cache"),c=e("../../../doc/enums");n.exports=class{constructor(){this.merges={}}add(o){if(this.merges[o.master])this.merges[o.master].expandToAddress(o.address);else{const u=`${o.master}:${o.address}`;this.merges[o.master]=new a(u)}}get mergeCells(){return i.map(this.merges,o=>o.range)}reconcile(o,u){i.each(o,p=>{const h=l.decode(p);for(let d=h.top;d<=h.bottom;d++){const x=u[d-1];for(let b=h.left;b<=h.right;b++){const g=x.cells[b-1];g?g.type===c.ValueType.Merge&&(g.master=h.tl):x.cells[b]={type:c.ValueType.Null,address:l.encodeAddress(d,b)}}}})}getMasterAddress(o){const u=this.hash[o];return u&&u.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(e,n,s){const i=e("../base-xform"),a=l=>l!==void 0;n.exports=class extends i{get tag(){return"outlinePr"}render(l,c){return!(!c||!a(c.summaryBelow)&&!a(c.summaryRight))&&(l.leafNode(this.tag,{summaryBelow:a(c.summaryBelow)?Number(c.summaryBelow):void 0,summaryRight:a(c.summaryRight)?Number(c.summaryRight):void 0}),!0)}parseOpen(l){return l.name===this.tag&&(this.model={summaryBelow:a(l.attributes.summaryBelow)?!!Number(l.attributes.summaryBelow):void 0,summaryRight:a(l.attributes.summaryRight)?!!Number(l.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"brk"}render(a,l){a.leafNode("brk",l)}parseOpen(a){return a.name==="brk"&&(this.model=a.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(e,n,s){const i=e("../../../utils/under-dash"),a=e("../base-xform");n.exports=class extends a{get tag(){return"pageMargins"}render(l,c){if(c){const o={left:c.left,right:c.right,top:c.top,bottom:c.bottom,header:c.header,footer:c.footer};i.some(o,u=>u!==void 0)&&l.leafNode(this.tag,o)}}parseOpen(l){switch(l.name){case this.tag:return this.model={left:parseFloat(l.attributes.left||.7),right:parseFloat(l.attributes.right||.7),top:parseFloat(l.attributes.top||.75),bottom:parseFloat(l.attributes.bottom||.75),header:parseFloat(l.attributes.header||.3),footer:parseFloat(l.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"pageSetUpPr"}render(a,l){return!(!l||!l.fitToPage)&&(a.leafNode(this.tag,{fitToPage:l.fitToPage?"1":void 0}),!0)}parseOpen(a){return a.name===this.tag&&(this.model={fitToPage:a.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(e,n,s){const i=e("../../../utils/under-dash"),a=e("../base-xform");function l(p){return p?"1":void 0}function c(p){switch(p){case"overThenDown":return p;default:return}}function o(p){switch(p){case"atEnd":case"asDisplyed":return p;default:return}}function u(p){switch(p){case"dash":case"blank":case"NA":return p;default:return}}n.exports=class extends a{get tag(){return"pageSetup"}render(p,h){if(h){const d={paperSize:h.paperSize,orientation:h.orientation,horizontalDpi:h.horizontalDpi,verticalDpi:h.verticalDpi,pageOrder:c(h.pageOrder),blackAndWhite:l(h.blackAndWhite),draft:l(h.draft),cellComments:o(h.cellComments),errors:u(h.errors),scale:h.scale,fitToWidth:h.fitToWidth,fitToHeight:h.fitToHeight,firstPageNumber:h.firstPageNumber,useFirstPageNumber:l(h.firstPageNumber),usePrinterDefaults:l(h.usePrinterDefaults),copies:h.copies};i.some(d,x=>x!==void 0)&&p.leafNode(this.tag,d)}}parseOpen(p){switch(p.name){case this.tag:return this.model={paperSize:(h=p.attributes.paperSize,h!==void 0?parseInt(h,10):void 0),orientation:p.attributes.orientation||"portrait",horizontalDpi:parseInt(p.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(p.attributes.verticalDpi||"4294967295",10),pageOrder:p.attributes.pageOrder||"downThenOver",blackAndWhite:p.attributes.blackAndWhite==="1",draft:p.attributes.draft==="1",cellComments:p.attributes.cellComments||"None",errors:p.attributes.errors||"displayed",scale:parseInt(p.attributes.scale||"100",10),fitToWidth:parseInt(p.attributes.fitToWidth||"1",10),fitToHeight:parseInt(p.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(p.attributes.firstPageNumber||"1",10),useFirstPageNumber:p.attributes.useFirstPageNumber==="1",usePrinterDefaults:p.attributes.usePrinterDefaults==="1",copies:parseInt(p.attributes.copies||"1",10)},!0;default:return!1}var h}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"picture"}render(a,l){l&&a.leafNode(this.tag,{"r:id":l.rId})}parseOpen(a){switch(a.name){case this.tag:return this.model={rId:a.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(e,n,s){const i=e("../../../utils/under-dash"),a=e("../base-xform");function l(c){return c?"1":void 0}n.exports=class extends a{get tag(){return"printOptions"}render(c,o){if(o){const u={headings:l(o.showRowColHeaders),gridLines:l(o.showGridLines),horizontalCentered:l(o.horizontalCentered),verticalCentered:l(o.verticalCentered)};i.some(u,p=>p!==void 0)&&c.leafNode(this.tag,u)}}parseOpen(c){switch(c.name){case this.tag:return this.model={showRowColHeaders:c.attributes.headings==="1",showGridLines:c.attributes.gridLines==="1",horizontalCentered:c.attributes.horizontalCentered==="1",verticalCentered:c.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(e,n,s){const i=e("./page-breaks-xform"),a=e("../list-xform");n.exports=class extends a{constructor(){super({tag:"rowBreaks",count:!0,childXform:new i})}render(l,c){if(c&&c.length){l.openNode(this.tag,this.$),this.count&&(l.addAttribute(this.$count,c.length),l.addAttribute("manualBreakCount",c.length));const{childXform:o}=this;c.forEach(u=>{o.render(l,u)}),l.closeNode()}else this.empty&&l.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(e,n,s){const i=e("../base-xform"),a=e("../../../utils/utils"),l=e("./cell-xform");n.exports=class extends i{constructor(c){super(),this.maxItems=c&&c.maxItems,this.map={c:new l}}get tag(){return"row"}prepare(c,o){const u=o.styles.addStyleModel(c.style);u&&(c.styleId=u);const p=this.map.c;c.cells.forEach(h=>{p.prepare(h,o)})}render(c,o,u){c.openNode("row"),c.addAttribute("r",o.number),o.height&&(c.addAttribute("ht",o.height),c.addAttribute("customHeight","1")),o.hidden&&c.addAttribute("hidden","1"),o.min>0&&o.max>0&&o.min<=o.max&&c.addAttribute("spans",`${o.min}:${o.max}`),o.styleId&&(c.addAttribute("s",o.styleId),c.addAttribute("customFormat","1")),c.addAttribute("x14ac:dyDescent","0.25"),o.outlineLevel&&c.addAttribute("outlineLevel",o.outlineLevel),o.collapsed&&c.addAttribute("collapsed","1");const p=this.map.c;o.cells.forEach(h=>{p.render(c,h,u)}),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;if(c.name==="row"){this.numRowsSeen+=1;const o=c.attributes.spans?c.attributes.spans.split(":").map(p=>parseInt(p,10)):[void 0,void 0],u=this.model={number:parseInt(c.attributes.r,10),min:o[0],max:o[1],cells:[]};return c.attributes.s&&(u.styleId=parseInt(c.attributes.s,10)),a.parseBoolean(c.attributes.hidden)&&(u.hidden=!0),a.parseBoolean(c.attributes.bestFit)&&(u.bestFit=!0),c.attributes.ht&&(u.height=parseFloat(c.attributes.ht)),c.attributes.outlineLevel&&(u.outlineLevel=parseInt(c.attributes.outlineLevel,10)),a.parseBoolean(c.attributes.collapsed)&&(u.collapsed=!0),!0}return this.parser=this.map[c.name],!!this.parser&&(this.parser.parseOpen(c),!0)}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser){if(!this.parser.parseClose(c)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(c,o){c.style=c.styleId?o.styles.getStyleModel(c.styleId):{},c.styleId!==void 0&&(c.styleId=void 0);const u=this.map.c;c.cells.forEach(p=>{u.reconcile(p,o)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(e,n,s){const i=e("../../../utils/under-dash"),a=e("../base-xform");n.exports=class extends a{get tag(){return"sheetFormatPr"}render(l,c){if(c){const o={defaultRowHeight:c.defaultRowHeight,outlineLevelRow:c.outlineLevelRow,outlineLevelCol:c.outlineLevelCol,"x14ac:dyDescent":c.dyDescent};c.defaultColWidth&&(o.defaultColWidth=c.defaultColWidth),c.defaultRowHeight&&c.defaultRowHeight===15||(o.customHeight="1"),i.some(o,u=>u!==void 0)&&l.leafNode("sheetFormatPr",o)}}parseOpen(l){return l.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(l.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(l.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(l.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(l.attributes.outlineLevelCol||"0",10)},l.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(l.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(e,n,s){const i=e("../base-xform"),a=e("../style/color-xform"),l=e("./page-setup-properties-xform"),c=e("./outline-properties-xform");n.exports=class extends i{constructor(){super(),this.map={tabColor:new a("tabColor"),pageSetUpPr:new l,outlinePr:new c}}get tag(){return"sheetPr"}render(o,u){if(u){o.addRollback(),o.openNode("sheetPr");let p=!1;p=this.map.tabColor.render(o,u.tabColor)||p,p=this.map.pageSetUpPr.render(o,u.pageSetup)||p,p=this.map.outlinePr.render(o,u.outlineProperties)||p,p?(o.closeNode(),o.commit()):o.rollback()}}parseOpen(o){return this.parser?(this.parser.parseOpen(o),!0):o.name===this.tag?(this.reset(),!0):!!this.map[o.name]&&(this.parser=this.map[o.name],this.parser.parseOpen(o),!0)}parseText(o){return!!this.parser&&(this.parser.parseText(o),!0)}parseClose(o){return this.parser?(this.parser.parseClose(o)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(e,n,s){const i=e("../../../utils/under-dash"),a=e("../base-xform");function l(o,u){return o?u:void 0}function c(o,u){return o===u||void 0}n.exports=class extends a{get tag(){return"sheetProtection"}render(o,u){if(u){const p={sheet:l(u.sheet,"1"),selectLockedCells:u.selectLockedCells===!1?"1":void 0,selectUnlockedCells:u.selectUnlockedCells===!1?"1":void 0,formatCells:l(u.formatCells,"0"),formatColumns:l(u.formatColumns,"0"),formatRows:l(u.formatRows,"0"),insertColumns:l(u.insertColumns,"0"),insertRows:l(u.insertRows,"0"),insertHyperlinks:l(u.insertHyperlinks,"0"),deleteColumns:l(u.deleteColumns,"0"),deleteRows:l(u.deleteRows,"0"),sort:l(u.sort,"0"),autoFilter:l(u.autoFilter,"0"),pivotTables:l(u.pivotTables,"0")};u.sheet&&(p.algorithmName=u.algorithmName,p.hashValue=u.hashValue,p.saltValue=u.saltValue,p.spinCount=u.spinCount,p.objects=l(u.objects===!1,"1"),p.scenarios=l(u.scenarios===!1,"1")),i.some(p,h=>h!==void 0)&&o.leafNode(this.tag,p)}}parseOpen(o){switch(o.name){case this.tag:return this.model={sheet:c(o.attributes.sheet,"1"),objects:o.attributes.objects!=="1"&&void 0,scenarios:o.attributes.scenarios!=="1"&&void 0,selectLockedCells:o.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:o.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:c(o.attributes.formatCells,"0"),formatColumns:c(o.attributes.formatColumns,"0"),formatRows:c(o.attributes.formatRows,"0"),insertColumns:c(o.attributes.insertColumns,"0"),insertRows:c(o.attributes.insertRows,"0"),insertHyperlinks:c(o.attributes.insertHyperlinks,"0"),deleteColumns:c(o.attributes.deleteColumns,"0"),deleteRows:c(o.attributes.deleteRows,"0"),sort:c(o.attributes.sort,"0"),autoFilter:c(o.attributes.autoFilter,"0"),pivotTables:c(o.attributes.pivotTables,"0")},o.attributes.algorithmName&&(this.model.algorithmName=o.attributes.algorithmName,this.model.hashValue=o.attributes.hashValue,this.model.saltValue=o.attributes.saltValue,this.model.spinCount=parseInt(o.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(e,n,s){const i=e("../../../utils/col-cache"),a=e("../base-xform"),l={frozen:"frozen",frozenSplit:"frozen",split:"split"};n.exports=class extends a{get tag(){return"sheetView"}prepare(c){switch(c.state){case"frozen":case"split":break;default:c.state="normal"}}render(c,o){c.openNode("sheetView",{workbookViewId:o.workbookViewId||0});const u=function(b,g,v){v&&c.addAttribute(b,g)};let p,h,d,x;switch(u("rightToLeft","1",o.rightToLeft===!0),u("tabSelected","1",o.tabSelected),u("showRuler","0",o.showRuler===!1),u("showRowColHeaders","0",o.showRowColHeaders===!1),u("showGridLines","0",o.showGridLines===!1),u("zoomScale",o.zoomScale,o.zoomScale),u("zoomScaleNormal",o.zoomScaleNormal,o.zoomScaleNormal),u("view",o.style,o.style),o.state){case"frozen":h=o.xSplit||0,d=o.ySplit||0,p=o.topLeftCell||i.getAddress(d+1,h+1).address,x=(o.xSplit&&o.ySplit?"bottomRight":o.xSplit&&"topRight")||"bottomLeft",c.leafNode("pane",{xSplit:o.xSplit||void 0,ySplit:o.ySplit||void 0,topLeftCell:p,activePane:x,state:"frozen"}),c.leafNode("selection",{pane:x,activeCell:o.activeCell,sqref:o.activeCell});break;case"split":o.activePane==="topLeft"&&(o.activePane=void 0),c.leafNode("pane",{xSplit:o.xSplit||void 0,ySplit:o.ySplit||void 0,topLeftCell:o.topLeftCell,activePane:o.activePane}),c.leafNode("selection",{pane:o.activePane,activeCell:o.activeCell,sqref:o.activeCell});break;case"normal":o.activeCell&&c.leafNode("selection",{activeCell:o.activeCell,sqref:o.activeCell})}c.closeNode()}parseOpen(c){switch(c.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(c.attributes.workbookViewId,10),rightToLeft:c.attributes.rightToLeft==="1",tabSelected:c.attributes.tabSelected==="1",showRuler:c.attributes.showRuler!=="0",showRowColHeaders:c.attributes.showRowColHeaders!=="0",showGridLines:c.attributes.showGridLines!=="0",zoomScale:parseInt(c.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(c.attributes.zoomScaleNormal||"100",10),style:c.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(c.attributes.xSplit||"0",10),ySplit:parseInt(c.attributes.ySplit||"0",10),topLeftCell:c.attributes.topLeftCell,activePane:c.attributes.activePane||"topLeft",state:c.attributes.state},!0;case"selection":{const o=c.attributes.pane||"topLeft";return this.selections[o]={pane:o,activeCell:c.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(c){let o,u;switch(c){case"sheetView":return this.sheetView&&this.pane?(o=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:l[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(o.activePane=this.pane.activePane),u=this.selections[this.pane.activePane],u&&u.activeCell&&(o.activeCell=u.activeCell),this.sheetView.style&&(o.style=this.sheetView.style)):(o=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},u=this.selections.topLeft,u&&u.activeCell&&(o.activeCell=u.activeCell),this.sheetView.style&&(o.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"tablePart"}render(a,l){l&&a.leafNode(this.tag,{"r:id":l.rId})}parseOpen(a){switch(a.name){case this.tag:return this.model={rId:a.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(e,n,s){const i=e("../../../utils/under-dash"),a=e("../../../utils/col-cache"),l=e("../../../utils/xml-stream"),c=e("../../rel-type"),o=e("./merges"),u=e("../base-xform"),p=e("../list-xform"),h=e("./row-xform"),d=e("./col-xform"),x=e("./dimension-xform"),b=e("./hyperlink-xform"),g=e("./merge-cell-xform"),v=e("./data-validations-xform"),y=e("./sheet-properties-xform"),T=e("./sheet-format-properties-xform"),R=e("./sheet-view-xform"),P=e("./sheet-protection-xform"),H=e("./page-margins-xform"),L=e("./page-setup-xform"),I=e("./print-options-xform"),O=e("./auto-filter-xform"),F=e("./picture-xform"),q=e("./drawing-xform"),z=e("./table-part-xform"),N=e("./row-breaks-xform"),U=e("./header-footer-xform"),C=e("./cf/conditional-formattings-xform"),S=e("./ext-lst-xform"),k=(A,j)=>{if(!j||!j.length)return A;if(!A||!A.length)return j;const B={},D={};return A.forEach(Q=>{B[Q.ref]=Q,Q.rules.forEach(K=>{const{x14Id:ee}=K;ee&&(D[ee]=K)})}),j.forEach(Q=>{Q.rules.forEach(K=>{const ee=D[K.x14Id];ee?((W,te)=>{Object.keys(te).forEach(G=>{const V=W[G],Z=te[G];V===void 0&&Z!==void 0&&(W[G]=Z)})})(ee,K):B[Q.ref]?B[Q.ref].rules.push(K):A.push({ref:Q.ref,rules:[K]})})}),A};class E extends u{constructor(j){super();const{maxRows:B,maxCols:D,ignoreNodes:Q}=j||{};this.ignoreNodes=Q||[],this.map={sheetPr:new y,dimension:new x,sheetViews:new p({tag:"sheetViews",count:!1,childXform:new R}),sheetFormatPr:new T,cols:new p({tag:"cols",count:!1,childXform:new d}),sheetData:new p({tag:"sheetData",count:!1,empty:!0,childXform:new h({maxItems:D}),maxItems:B}),autoFilter:new O,mergeCells:new p({tag:"mergeCells",count:!0,childXform:new g}),rowBreaks:new N,hyperlinks:new p({tag:"hyperlinks",count:!1,childXform:new b}),pageMargins:new H,dataValidations:new v,pageSetup:new L,headerFooter:new U,printOptions:new I,picture:new F,drawing:new q,sheetProtection:new P,tableParts:new p({tag:"tableParts",count:!0,childXform:new z}),conditionalFormatting:new C,extLst:new S}}prepare(j,B){B.merges=new o,j.hyperlinks=B.hyperlinks=[],j.comments=B.comments=[],B.formulae={},B.siFormulae=0,this.map.cols.prepare(j.cols,B),this.map.sheetData.prepare(j.rows,B),this.map.conditionalFormatting.prepare(j.conditionalFormattings,B),j.mergeCells=B.merges.mergeCells;const D=j.rels=[];function Q(W){return"rId"+(W.length+1)}if(j.hyperlinks.forEach(W=>{const te=Q(D);W.rId=te,D.push({Id:te,Type:c.Hyperlink,Target:W.target,TargetMode:"External"})}),j.comments.length>0){const W={Id:Q(D),Type:c.Comments,Target:`../comments${j.id}.xml`};D.push(W);const te={Id:Q(D),Type:c.VmlDrawing,Target:`../drawings/vmlDrawing${j.id}.vml`};D.push(te),j.comments.forEach(G=>{G.refAddress=a.decodeAddress(G.ref)}),B.commentRefs.push({commentName:"comments"+j.id,vmlDrawing:"vmlDrawing"+j.id})}const K=[];let ee;j.media.forEach(W=>{if(W.type==="background"){const te=Q(D);ee=B.media[W.imageId],D.push({Id:te,Type:c.Image,Target:`../media/${ee.name}.${ee.extension}`}),j.background={rId:te},j.image=B.media[W.imageId]}else if(W.type==="image"){let{drawing:te}=j;ee=B.media[W.imageId],te||(te=j.drawing={rId:Q(D),name:"drawing"+ ++B.drawingsCount,anchors:[],rels:[]},B.drawings.push(te),D.push({Id:te.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${te.name}.xml`}));let G=this.preImageId===W.imageId?K[W.imageId]:K[te.rels.length];G||(G=Q(te.rels),K[te.rels.length]=G,te.rels.push({Id:G,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${ee.name}.${ee.extension}`}));const V={picture:{rId:G},range:W.range};if(W.hyperlinks&&W.hyperlinks.hyperlink){const Z=Q(te.rels);K[te.rels.length]=Z,V.picture.hyperlinks={tooltip:W.hyperlinks.tooltip,rId:Z},te.rels.push({Id:Z,Type:c.Hyperlink,Target:W.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=W.imageId,te.anchors.push(V)}}),j.tables.forEach(W=>{const te=Q(D);W.rId=te,D.push({Id:te,Type:c.Table,Target:"../tables/"+W.target}),W.columns.forEach(G=>{const{style:V}=G;V&&(G.dxfId=B.styles.addDxfStyle(V))})}),this.map.extLst.prepare(j,B)}render(j,B){j.openXml(l.StdDocAttributes),j.openNode("worksheet",E.WORKSHEET_ATTRIBUTES);const D=B.properties?{defaultRowHeight:B.properties.defaultRowHeight,dyDescent:B.properties.dyDescent,outlineLevelCol:B.properties.outlineLevelCol,outlineLevelRow:B.properties.outlineLevelRow}:void 0;B.properties&&B.properties.defaultColWidth&&(D.defaultColWidth=B.properties.defaultColWidth);const Q={outlineProperties:B.properties&&B.properties.outlineProperties,tabColor:B.properties&&B.properties.tabColor,pageSetup:B.pageSetup&&B.pageSetup.fitToPage?{fitToPage:B.pageSetup.fitToPage}:void 0},K=B.pageSetup&&B.pageSetup.margins,ee={showRowColHeaders:B.pageSetup&&B.pageSetup.showRowColHeaders,showGridLines:B.pageSetup&&B.pageSetup.showGridLines,horizontalCentered:B.pageSetup&&B.pageSetup.horizontalCentered,verticalCentered:B.pageSetup&&B.pageSetup.verticalCentered},W=B.sheetProtection;this.map.sheetPr.render(j,Q),this.map.dimension.render(j,B.dimensions),this.map.sheetViews.render(j,B.views),this.map.sheetFormatPr.render(j,D),this.map.cols.render(j,B.cols),this.map.sheetData.render(j,B.rows),this.map.sheetProtection.render(j,W),this.map.autoFilter.render(j,B.autoFilter),this.map.mergeCells.render(j,B.mergeCells),this.map.conditionalFormatting.render(j,B.conditionalFormattings),this.map.dataValidations.render(j,B.dataValidations),this.map.hyperlinks.render(j,B.hyperlinks),this.map.printOptions.render(j,ee),this.map.pageMargins.render(j,K),this.map.pageSetup.render(j,B.pageSetup),this.map.headerFooter.render(j,B.headerFooter),this.map.rowBreaks.render(j,B.rowBreaks),this.map.drawing.render(j,B.drawing),this.map.picture.render(j,B.background),this.map.tableParts.render(j,B.tables),this.map.extLst.render(j,B),B.rels&&B.rels.forEach(te=>{te.Type===c.VmlDrawing&&j.leafNode("legacyDrawing",{"r:id":te.Id})}),j.closeNode()}parseOpen(j){return this.parser?(this.parser.parseOpen(j),!0):j.name==="worksheet"?(i.each(this.map,B=>{B.reset()}),!0):(this.map[j.name]&&!this.ignoreNodes.includes(j.name)&&(this.parser=this.map[j.name],this.parser.parseOpen(j)),!0)}parseText(j){this.parser&&this.parser.parseText(j)}parseClose(j){if(this.parser)return this.parser.parseClose(j)||(this.parser=void 0),!0;switch(j){case"worksheet":{const B=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(B.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(B.outlineProperties=this.map.sheetPr.model.outlineProperties);const D={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},Q=Object.assign(D,this.map.pageSetup.model,this.map.printOptions.model),K=k(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:B,views:this.map.sheetViews.model,pageSetup:Q,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:K},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(j,B){const D=(j.relationships||[]).reduce((K,ee)=>{if(K[ee.Id]=ee,ee.Type===c.Comments&&(j.comments=B.comments[ee.Target].comments),ee.Type===c.VmlDrawing&&j.comments&&j.comments.length){const W=B.vmlDrawings[ee.Target].comments;j.comments.forEach((te,G)=>{te.note=Object.assign({},te.note,W[G])})}return K},{});if(B.commentsMap=(j.comments||[]).reduce((K,ee)=>(ee.ref&&(K[ee.ref]=ee),K),{}),B.hyperlinkMap=(j.hyperlinks||[]).reduce((K,ee)=>(ee.rId&&(K[ee.address]=D[ee.rId].Target),K),{}),B.formulae={},j.rows=j.rows&&j.rows.filter(Boolean)||[],j.rows.forEach(K=>{K.cells=K.cells&&K.cells.filter(Boolean)||[]}),this.map.cols.reconcile(j.cols,B),this.map.sheetData.reconcile(j.rows,B),this.map.conditionalFormatting.reconcile(j.conditionalFormattings,B),j.media=[],j.drawing){const K=D[j.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(K){const ee=K[1];B.drawings[ee].anchors.forEach(W=>{if(W.medium){const te={type:"image",imageId:W.medium.index,range:W.range,hyperlinks:W.picture.hyperlinks};j.media.push(te)}})}}const Q=j.background&&D[j.background.rId];if(Q){const K=Q.Target.split("/media/")[1],ee=B.mediaIndex&&B.mediaIndex[K];ee!==void 0&&j.media.push({type:"background",imageId:ee})}j.tables=(j.tables||[]).map(K=>{const ee=D[K.rId];return B.tables[ee.Target]}),delete j.relationships,delete j.hyperlinks,delete j.comments}}E.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},n.exports=E},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{constructor(a){super(),this.tag=a.tag,this.attr=a.attr}render(a,l){l&&(a.openNode(this.tag),a.closeNode())}parseOpen(a){a.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{constructor(a){super(),this.tag=a.tag,this.attr=a.attr,this.attrs=a.attrs,this._format=a.format||function(l){try{return Number.isNaN(l.getTime())?"":l.toISOString()}catch{return""}},this._parse=a.parse||function(l){return new Date(l)}}render(a,l){l&&(a.openNode(this.tag),this.attrs&&a.addAttributes(this.attrs),this.attr?a.addAttribute(this.attr,this._format(l)):a.writeText(this._format(l)),a.closeNode())}parseOpen(a){a.name===this.tag&&(this.attr?this.model=this._parse(a.attributes[this.attr]):this.text=[])}parseText(a){this.attr||this.text.push(a)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{constructor(a){super(),this.tag=a.tag,this.attr=a.attr,this.attrs=a.attrs,this.zero=a.zero}render(a,l){(l||this.zero)&&(a.openNode(this.tag),this.attrs&&a.addAttributes(this.attrs),this.attr?a.addAttribute(this.attr,l):a.writeText(l),a.closeNode())}parseOpen(a){return a.name===this.tag&&(this.attr?this.model=parseInt(a.attributes[this.attr],10):this.text=[],!0)}parseText(a){this.attr||this.text.push(a)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{constructor(a){super(),this.tag=a.tag,this.attr=a.attr,this.attrs=a.attrs}render(a,l){l!==void 0&&(a.openNode(this.tag),this.attrs&&a.addAttributes(this.attrs),this.attr?a.addAttribute(this.attr,l):a.writeText(l),a.closeNode())}parseOpen(a){a.name===this.tag&&(this.attr?this.model=a.attributes[this.attr]:this.text=[])}parseText(a){this.attr||this.text.push(a)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(e,n,s){const i=e("./base-xform"),a=e("../../utils/xml-stream");n.exports=class extends i{constructor(l){super(),this._model=l}render(l){if(!this._xml){const c=new a;(function o(u,p){u.openNode(p.tag,p.$),p.c&&p.c.forEach(h=>{o(u,h)}),p.t&&u.writeText(p.t),u.closeNode()})(c,this._model),this._xml=c.xml}l.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(l){switch(l){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(e,n,s){const i=e("./text-xform"),a=e("./rich-text-xform"),l=e("../base-xform");n.exports=class extends l{constructor(){super(),this.map={r:new a,t:new i}}get tag(){return"rPh"}render(c,o){if(c.openNode(this.tag,{sb:o.sb||0,eb:o.eb||0}),o&&o.hasOwnProperty("richText")&&o.richText){const{r:u}=this.map;o.richText.forEach(p=>{u.render(c,p)})}else o&&this.map.t.render(c,o.text);c.closeNode()}parseOpen(c){const{name:o}=c;return this.parser?(this.parser.parseOpen(c),!0):o===this.tag?(this.model={sb:parseInt(c.attributes.sb,10),eb:parseInt(c.attributes.eb,10)},!0):(this.parser=this.map[o],!!this.parser&&(this.parser.parseOpen(c),!0))}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser){if(!this.parser.parseClose(c)){switch(c){case"r":{let o=this.model.richText;o||(o=this.model.richText=[]),o.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(c){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(e,n,s){const i=e("./text-xform"),a=e("../style/font-xform"),l=e("../base-xform");class c extends l{constructor(u){super(),this.model=u}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new i)}get fontXform(){return this._fontXform||(this._fontXform=new a(c.FONT_OPTIONS))}render(u,p){p=p||this.model,u.openNode("r"),p.font&&this.fontXform.render(u,p.font),this.textXform.render(u,p.text),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(u),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){switch(u){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(u),!0}}}c.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},n.exports=c},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(e,n,s){const i=e("./text-xform"),a=e("./rich-text-xform"),l=e("./phonetic-text-xform"),c=e("../base-xform");n.exports=class extends c{constructor(o){super(),this.model=o,this.map={r:new a,t:new i,rPh:new l}}get tag(){return"si"}render(o,u){o.openNode(this.tag),u&&u.hasOwnProperty("richText")&&u.richText?u.richText.length?u.richText.forEach(p=>{this.map.r.render(o,p)}):this.map.t.render(o,""):u!=null&&this.map.t.render(o,u),o.closeNode()}parseOpen(o){const{name:u}=o;return this.parser?(this.parser.parseOpen(o),!0):u===this.tag?(this.model={},!0):(this.parser=this.map[u],!!this.parser&&(this.parser.parseOpen(o),!0))}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser){if(!this.parser.parseClose(o)){switch(o){case"r":{let u=this.model.richText;u||(u=this.model.richText=[]),u.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(e,n,s){const i=e("../../../utils/xml-stream"),a=e("../base-xform"),l=e("./shared-string-xform");n.exports=class extends a{constructor(c){super(),this.model=c||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new l)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(c){return this.model.values[c]}add(c){return c.richText?this.addRichText(c):this.addText(c)}addText(c){let o=this.hash[c];return o===void 0&&(o=this.hash[c]=this.model.values.length,this.model.values.push(c)),this.model.count++,o}addRichText(c){const o=this.sharedStringXform.toXml(c);let u=this.rich[o];return u===void 0&&(u=this.rich[o]=this.model.values.length,this.model.values.push(c)),this.model.count++,u}render(c,o){o=o||this._values,c.openXml(i.StdDocAttributes),c.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:o.count,uniqueCount:o.values.length});const u=this.sharedStringXform;o.values.forEach(p=>{u.render(c,p)}),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(c),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(c))}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(c){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+c)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"t"}render(a,l){a.openNode("t"),/^\s|\n|\s$/.test(l)&&a.addAttribute("xml:space","preserve"),a.writeText(l),a.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(a,l)=>String.fromCharCode(parseInt(l,16)))}parseOpen(a){switch(a.name){case"t":return this._text=[],!0;default:return!1}}parseText(a){this._text.push(a)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(e,n,s){const i=e("../../../doc/enums"),a=e("../../../utils/utils"),l=e("../base-xform"),c={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((u,p)=>(u[p]=!0,u),{}),horizontal(u){return this.horizontalValues[u]?u:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((u,p)=>(u[p]=!0,u),{}),vertical(u){return u==="middle"?"center":this.verticalValues[u]?u:void 0},wrapText:u=>!!u||void 0,shrinkToFit:u=>!!u||void 0,textRotation(u){switch(u){case"vertical":return u;default:return(u=a.validInt(u))>=-90&&u<=90?u:void 0}},indent:u=>(u=a.validInt(u),Math.max(0,u)),readingOrder(u){switch(u){case"ltr":return i.ReadingOrder.LeftToRight;case"rtl":return i.ReadingOrder.RightToLeft;default:return}}},o={toXml(u){if(u=c.textRotation(u)){if(u==="vertical")return 255;const p=Math.round(u);if(p>=0&&p<=90)return p;if(p<0&&p>=-90)return 90-p}},toModel(u){const p=a.validInt(u);if(p!==void 0){if(p===255)return"vertical";if(p>=0&&p<=90)return p;if(p>90&&p<=180)return 90-p}}};n.exports=class extends l{get tag(){return"alignment"}render(u,p){u.addRollback(),u.openNode("alignment");let h=!1;function d(x,b){b&&(u.addAttribute(x,b),h=!0)}d("horizontal",c.horizontal(p.horizontal)),d("vertical",c.vertical(p.vertical)),d("wrapText",!!c.wrapText(p.wrapText)&&"1"),d("shrinkToFit",!!c.shrinkToFit(p.shrinkToFit)&&"1"),d("indent",c.indent(p.indent)),d("textRotation",o.toXml(p.textRotation)),d("readingOrder",c.readingOrder(p.readingOrder)),u.closeNode(),h?u.commit():u.rollback()}parseOpen(u){const p={};let h=!1;function d(x,b,g){x&&(p[b]=g,h=!0)}d(u.attributes.horizontal,"horizontal",u.attributes.horizontal),d(u.attributes.vertical,"vertical",u.attributes.vertical==="center"?"middle":u.attributes.vertical),d(u.attributes.wrapText,"wrapText",a.parseBoolean(u.attributes.wrapText)),d(u.attributes.shrinkToFit,"shrinkToFit",a.parseBoolean(u.attributes.shrinkToFit)),d(u.attributes.indent,"indent",parseInt(u.attributes.indent,10)),d(u.attributes.textRotation,"textRotation",o.toModel(u.attributes.textRotation)),d(u.attributes.readingOrder,"readingOrder",u.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=h?p:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(e,n,s){const i=e("../base-xform"),a=e("../../../utils/utils"),l=e("./color-xform");class c extends i{constructor(u){super(),this.name=u,this.map={color:new l}}get tag(){return this.name}render(u,p,h){const d=p&&p.color||h||this.defaultColor;u.openNode(this.name),p&&p.style&&(u.addAttribute("style",p.style),d&&this.map.color.render(u,d)),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.name:{const{style:p}=u.attributes;return this.model=p?{style:p}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.parser=void 0),!0):(u===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(u){return c.validStyleValues[u]}}c.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((o,u)=>(o[u]=!0,o),{}),n.exports=class extends i{constructor(){super(),this.map={top:new c("top"),left:new c("left"),bottom:new c("bottom"),right:new c("right"),diagonal:new c("diagonal")}}render(o,u){const{color:p}=u;function h(d,x){d&&!d.color&&u.color&&(d={...d,color:u.color}),x.render(o,d,p)}o.openNode("border"),u.diagonal&&u.diagonal.style&&(u.diagonal.up&&o.addAttribute("diagonalUp","1"),u.diagonal.down&&o.addAttribute("diagonalDown","1")),h(u.left,this.map.left),h(u.right,this.map.right),h(u.top,this.map.top),h(u.bottom,this.map.bottom),h(u.diagonal,this.map.diagonal),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"border":return this.reset(),this.diagonalUp=a.parseBoolean(o.attributes.diagonalUp),this.diagonalDown=a.parseBoolean(o.attributes.diagonalDown),!0;default:return this.parser=this.map[o.name],!!this.parser&&(this.parser.parseOpen(o),!0)}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;if(o==="border"){const u=this.model={},p=function(h,d,x){d&&(x&&Object.assign(d,x),u[h]=d)};p("left",this.map.left.model),p("right",this.map.right.model),p("top",this.map.top.model),p("bottom",this.map.bottom.model),p("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{constructor(a){super(),this.name=a||"color"}get tag(){return this.name}render(a,l){return!!l&&(a.openNode(this.name),l.argb?a.addAttribute("rgb",l.argb):l.theme!==void 0?(a.addAttribute("theme",l.theme),l.tint!==void 0&&a.addAttribute("tint",l.tint)):l.indexed!==void 0?a.addAttribute("indexed",l.indexed):a.addAttribute("auto","1"),a.closeNode(),!0)}parseOpen(a){return a.name===this.name&&(a.attributes.rgb?this.model={argb:a.attributes.rgb}:a.attributes.theme?(this.model={theme:parseInt(a.attributes.theme,10)},a.attributes.tint&&(this.model.tint=parseFloat(a.attributes.tint))):a.attributes.indexed?this.model={indexed:parseInt(a.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(e,n,s){const i=e("../base-xform"),a=e("./alignment-xform"),l=e("./border-xform"),c=e("./fill-xform"),o=e("./font-xform"),u=e("./numfmt-xform"),p=e("./protection-xform");n.exports=class extends i{constructor(){super(),this.map={alignment:new a,border:new l,fill:new c,font:new o,numFmt:new u,protection:new p}}get tag(){return"dxf"}render(h,d){if(h.openNode(this.tag),d.font&&this.map.font.render(h,d.font),d.numFmt&&d.numFmtId){const x={id:d.numFmtId,formatCode:d.numFmt};this.map.numFmt.render(h,x)}d.fill&&this.map.fill.render(h,d.fill),d.alignment&&this.map.alignment.render(h,d.alignment),d.border&&this.map.border.render(h,d.border),d.protection&&this.map.protection.render(h,d.protection),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h),!0}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return this.parser?(this.parser.parseClose(h)||(this.parser=void 0),!0):h!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(e,n,s){const i=e("../base-xform"),a=e("./color-xform");class l extends i{constructor(){super(),this.map={color:new a}}get tag(){return"stop"}render(h,d){h.openNode("stop"),h.addAttribute("position",d.position),this.map.color.render(h,d.color),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"stop":return this.model={position:parseFloat(h.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(h),!0;default:return!1}}parseText(){}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class c extends i{constructor(){super(),this.map={fgColor:new a("fgColor"),bgColor:new a("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(h,d){h.openNode("patternFill"),h.addAttribute("patternType",d.pattern),d.fgColor&&this.map.fgColor.render(h,d.fgColor),d.bgColor&&this.map.bgColor.render(h,d.bgColor),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"patternFill":return this.model={type:"pattern",pattern:h.attributes.patternType},!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.parser.model&&(this.model[h]=this.parser.model),this.parser=void 0),!0)}}class o extends i{constructor(){super(),this.map={stop:new l}}get name(){return"gradient"}get tag(){return"gradientFill"}render(h,d){switch(h.openNode("gradientFill"),d.gradient){case"angle":h.addAttribute("degree",d.degree);break;case"path":h.addAttribute("type","path"),d.center.left&&(h.addAttribute("left",d.center.left),d.center.right===void 0&&h.addAttribute("right",d.center.left)),d.center.right&&h.addAttribute("right",d.center.right),d.center.top&&(h.addAttribute("top",d.center.top),d.center.bottom===void 0&&h.addAttribute("bottom",d.center.top)),d.center.bottom&&h.addAttribute("bottom",d.center.bottom)}const x=this.map.stop;d.stops.forEach(b=>{x.render(h,b)}),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"gradientFill":{const d=this.model={stops:[]};return h.attributes.degree?(d.gradient="angle",d.degree=parseInt(h.attributes.degree,10)):h.attributes.type==="path"&&(d.gradient="path",d.center={left:h.attributes.left?parseFloat(h.attributes.left):0,top:h.attributes.top?parseFloat(h.attributes.top):0},h.attributes.right!==h.attributes.left&&(d.center.right=h.attributes.right?parseFloat(h.attributes.right):0),h.attributes.bottom!==h.attributes.top&&(d.center.bottom=h.attributes.bottom?parseFloat(h.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(h),!0;default:return!1}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class u extends i{constructor(){super(),this.map={patternFill:new c,gradientFill:new o}}get tag(){return"fill"}render(h,d){switch(h.addRollback(),h.openNode("fill"),d.type){case"pattern":this.map.patternFill.render(h,d);break;case"gradient":this.map.gradientFill.render(h,d);break;default:return void h.rollback()}h.closeNode(),h.commit()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"fill":return this.model={},!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(h){return u.validPatternValues[h]}}u.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((p,h)=>(p[h]=!0,p),{}),u.StopXform=l,u.PatternFillXform=c,u.GradientFillXform=o,n.exports=u},{"../base-xform":32,"./color-xform":128}],131:[function(e,n,s){const i=e("./color-xform"),a=e("../simple/boolean-xform"),l=e("../simple/integer-xform"),c=e("../simple/string-xform"),o=e("./underline-xform"),u=e("../../../utils/under-dash"),p=e("../base-xform");class h extends p{constructor(x){super(),this.options=x||h.OPTIONS,this.map={b:{prop:"bold",xform:new a({tag:"b",attr:"val"})},i:{prop:"italic",xform:new a({tag:"i",attr:"val"})},u:{prop:"underline",xform:new o},charset:{prop:"charset",xform:new l({tag:"charset",attr:"val"})},color:{prop:"color",xform:new i},condense:{prop:"condense",xform:new a({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new a({tag:"extend",attr:"val"})},family:{prop:"family",xform:new l({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new a({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new c({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new c({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new a({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new a({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new l({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new c({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(x,b){const{map:g}=this;x.openNode(this.options.tagName),u.each(this.map,(v,y)=>{g[y].xform.render(x,b[v.prop])}),x.closeNode()}parseOpen(x){if(this.parser)return this.parser.parseOpen(x),!0;if(this.map[x.name])return this.parser=this.map[x.name].xform,this.parser.parseOpen(x);switch(x.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(x){this.parser&&this.parser.parseText(x)}parseClose(x){if(this.parser&&!this.parser.parseClose(x)){const b=this.map[x];return this.parser.model&&(this.model[b.prop]=this.parser.model),this.parser=void 0,!0}switch(x){case this.options.tagName:return!1;default:return!0}}}h.OPTIONS={tagName:"font",fontNameTag:"name"},n.exports=h},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(e,n,s){const i=e("../../../utils/under-dash"),a=e("../../defaultnumformats"),l=e("../base-xform"),c=(function(){const u={};return i.each(a,(p,h)=>{p.f&&(u[p.f]=parseInt(h,10))}),u})();class o extends l{constructor(p,h){super(),this.id=p,this.formatCode=h}get tag(){return"numFmt"}render(p,h){p.leafNode("numFmt",{numFmtId:h.id,formatCode:h.formatCode})}parseOpen(p){switch(p.name){case"numFmt":return this.model={id:parseInt(p.attributes.numFmtId,10),formatCode:p.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}o.getDefaultFmtId=function(u){return c[u]},o.getDefaultFmtCode=function(u){return a[u]&&a[u].f},n.exports=o},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(e,n,s){const i=e("../base-xform"),a={boolean:(l,c)=>l===void 0?c:l};n.exports=class extends i{get tag(){return"protection"}render(l,c){l.addRollback(),l.openNode("protection");let o=!1;function u(p,h){h!==void 0&&(l.addAttribute(p,h),o=!0)}u("locked",a.boolean(c.locked,!0)?void 0:"0"),u("hidden",a.boolean(c.hidden,!1)?"1":void 0),l.closeNode(),o?l.commit():l.rollback()}parseOpen(l){const c={locked:l.attributes.locked!=="0",hidden:l.attributes.hidden==="1"},o=!c.locked||c.hidden;this.model=o?c:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(e,n,s){const i=e("../base-xform"),a=e("./alignment-xform"),l=e("./protection-xform");n.exports=class extends i{constructor(c){super(),this.xfId=!(!c||!c.xfId),this.map={alignment:new a,protection:new l}}get tag(){return"xf"}render(c,o){c.openNode("xf",{numFmtId:o.numFmtId||0,fontId:o.fontId||0,fillId:o.fillId||0,borderId:o.borderId||0}),this.xfId&&c.addAttribute("xfId",o.xfId||0),o.numFmtId&&c.addAttribute("applyNumberFormat","1"),o.fontId&&c.addAttribute("applyFont","1"),o.fillId&&c.addAttribute("applyFill","1"),o.borderId&&c.addAttribute("applyBorder","1"),o.alignment&&c.addAttribute("applyAlignment","1"),o.protection&&c.addAttribute("applyProtection","1"),o.alignment&&this.map.alignment.render(c,o.alignment),o.protection&&this.map.protection.render(c,o.protection),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"xf":return this.model={numFmtId:parseInt(c.attributes.numFmtId,10),fontId:parseInt(c.attributes.fontId,10),fillId:parseInt(c.attributes.fillId,10),borderId:parseInt(c.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(c.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(c),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){return this.parser?(this.parser.parseClose(c)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):c!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(e,n,s){const i=e("../../../doc/enums"),a=e("../../../utils/xml-stream"),l=e("../base-xform"),c=e("../static-xform"),o=e("../list-xform"),u=e("./font-xform"),p=e("./fill-xform"),h=e("./border-xform"),d=e("./numfmt-xform"),x=e("./style-xform"),b=e("./dxf-xform");class g extends l{constructor(y){super(),this.map={numFmts:new o({tag:"numFmts",count:!0,childXform:new d}),fonts:new o({tag:"fonts",count:!0,childXform:new u,$:{"x14ac:knownFonts":1}}),fills:new o({tag:"fills",count:!0,childXform:new p}),borders:new o({tag:"borders",count:!0,childXform:new h}),cellStyleXfs:new o({tag:"cellStyleXfs",count:!0,childXform:new x}),cellXfs:new o({tag:"cellXfs",count:!0,childXform:new x({xfId:!0})}),dxfs:new o({tag:"dxfs",always:!0,count:!0,childXform:new b}),numFmt:new d,font:new u,fill:new p,border:new h,style:new x({xfId:!0}),cellStyles:g.STATIC_XFORMS.cellStyles,tableStyles:g.STATIC_XFORMS.tableStyles,extLst:g.STATIC_XFORMS.extLst},y&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(y,T){T=T||this.model,y.openXml(a.StdDocAttributes),y.openNode("styleSheet",g.STYLESHEET_ATTRIBUTES),this.index?(T.numFmts&&T.numFmts.length&&(y.openNode("numFmts",{count:T.numFmts.length}),T.numFmts.forEach(R=>{y.writeXml(R)}),y.closeNode()),T.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),y.openNode("fonts",{count:T.fonts.length,"x14ac:knownFonts":1}),T.fonts.forEach(R=>{y.writeXml(R)}),y.closeNode(),y.openNode("fills",{count:T.fills.length}),T.fills.forEach(R=>{y.writeXml(R)}),y.closeNode(),y.openNode("borders",{count:T.borders.length}),T.borders.forEach(R=>{y.writeXml(R)}),y.closeNode(),this.map.cellStyleXfs.render(y,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),y.openNode("cellXfs",{count:T.styles.length}),T.styles.forEach(R=>{y.writeXml(R)}),y.closeNode()):(this.map.numFmts.render(y,T.numFmts),this.map.fonts.render(y,T.fonts),this.map.fills.render(y,T.fills),this.map.borders.render(y,T.borders),this.map.cellStyleXfs.render(y,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(y,T.styles)),g.STATIC_XFORMS.cellStyles.render(y),this.map.dxfs.render(y,T.dxfs),g.STATIC_XFORMS.tableStyles.render(y),g.STATIC_XFORMS.extLst.render(y),y.closeNode()}parseOpen(y){if(this.parser)return this.parser.parseOpen(y),!0;switch(y.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[y.name],this.parser&&this.parser.parseOpen(y),!0}}parseText(y){this.parser&&this.parser.parseText(y)}parseClose(y){if(this.parser)return this.parser.parseClose(y)||(this.parser=void 0),!0;switch(y){case"styleSheet":{this.model={};const T=(R,P)=>{P.model&&P.model.length&&(this.model[R]=P.model)};if(T("numFmts",this.map.numFmts),T("fonts",this.map.fonts),T("fills",this.map.fills),T("borders",this.map.borders),T("styles",this.map.cellXfs),T("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const R=this.index.numFmt;this.model.numFmts.forEach(P=>{R[P.id]=P.formatCode})}return!1}default:return!0}}addStyleModel(y,T){if(!y)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(y))return this.weakMap.get(y);const R={};if(T=T||i.ValueType.Number,y.numFmt)R.numFmtId=this._addNumFmtStr(y.numFmt);else switch(T){case i.ValueType.Number:R.numFmtId=this._addNumFmtStr("General");break;case i.ValueType.Date:R.numFmtId=this._addNumFmtStr("mm-dd-yy")}y.font&&(R.fontId=this._addFont(y.font)),y.border&&(R.borderId=this._addBorder(y.border)),y.fill&&(R.fillId=this._addFill(y.fill)),y.alignment&&(R.alignment=y.alignment),y.protection&&(R.protection=y.protection);const P=this._addStyle(R);return this.weakMap&&this.weakMap.set(y,P),P}getStyleModel(y){const T=this.model.styles[y];if(!T)return null;let R=this.index.model[y];if(R)return R;if(R=this.index.model[y]={},T.numFmtId){const H=this.index.numFmt[T.numFmtId]||d.getDefaultFmtCode(T.numFmtId);H&&(R.numFmt=H)}function P(H,L,I){if(I||I===0){const O=L[I];O&&(R[H]=O)}}return P("font",this.model.fonts,T.fontId),P("border",this.model.borders,T.borderId),P("fill",this.model.fills,T.fillId),T.alignment&&(R.alignment=T.alignment),T.protection&&(R.protection=T.protection),R}addDxfStyle(y){return y.numFmt&&(y.numFmtId=this._addNumFmtStr(y.numFmt)),this.model.dxfs.push(y),this.model.dxfs.length-1}getDxfStyle(y){return this.model.dxfs[y]}_addStyle(y){const T=this.map.style.toXml(y);let R=this.index.style[T];return R===void 0&&(R=this.index.style[T]=this.model.styles.length,this.model.styles.push(T)),R}_addNumFmtStr(y){let T=d.getDefaultFmtId(y);if(T!==void 0||(T=this.index.numFmt[y],T!==void 0))return T;T=this.index.numFmt[y]=164+this.model.numFmts.length;const R=this.map.numFmt.toXml({id:T,formatCode:y});return this.model.numFmts.push(R),T}_addFont(y){const T=this.map.font.toXml(y);let R=this.index.font[T];return R===void 0&&(R=this.index.font[T]=this.model.fonts.length,this.model.fonts.push(T)),R}_addBorder(y){const T=this.map.border.toXml(y);let R=this.index.border[T];return R===void 0&&(R=this.index.border[T]=this.model.borders.length,this.model.borders.push(T)),R}_addFill(y){const T=this.map.fill.toXml(y);let R=this.index.fill[T];return R===void 0&&(R=this.index.fill[T]=this.model.fills.length,this.model.fills.push(T)),R}}g.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},g.STATIC_XFORMS={cellStyles:new c({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new c({tag:"dxfs",$:{count:0}}),tableStyles:new c({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new c({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},g.Mock=class extends g{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(v){return v.autodrain(),Promise.resolve()}addStyleModel(v,y){switch(y){case i.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){const v={numFmtId:d.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(v)}return this._dateStyleId}getStyleModel(){return{}}},n.exports=g},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(e,n,s){const i=e("../base-xform");class a extends i{constructor(c){super(),this.model=c}get tag(){return"u"}render(c,o){if((o=o||this.model)===!0)c.leafNode("u");else{const u=a.Attributes[o];u&&c.leafNode("u",u)}}parseOpen(c){c.name==="u"&&(this.model=c.attributes.val||!0)}parseText(){}parseClose(){return!1}}a.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},n.exports=a},{"../base-xform":32}],137:[function(e,n,s){const i=e("../base-xform"),a=e("./filter-column-xform");n.exports=class extends i{constructor(){super(),this.map={filterColumn:new a}}get tag(){return"autoFilter"}prepare(l){l.columns.forEach((c,o)=>{this.map.filterColumn.prepare(c,{index:o})})}render(l,c){return l.openNode(this.tag,{ref:c.autoFilterRef}),c.columns.forEach(o=>{this.map.filterColumn.render(l,o)}),l.closeNode(),!0}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:return this.model={autoFilterRef:l.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[l.name],this.parser)return this.parseOpen(l),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(l))}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(l){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+l)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"customFilter"}render(a,l){a.leafNode(this.tag,{val:l.val,operator:l.operator})}parseOpen(a){return a.name===this.tag&&(this.model={val:a.attributes.val,operator:a.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(e,n,s){const i=e("../base-xform"),a=e("../list-xform"),l=e("./custom-filter-xform"),c=e("./filter-xform");n.exports=class extends i{constructor(){super(),this.map={customFilters:new a({tag:"customFilters",count:!1,empty:!0,childXform:new l}),filters:new a({tag:"filters",count:!1,empty:!0,childXform:new c})}}get tag(){return"filterColumn"}prepare(o,u){o.colId=u.index.toString()}render(o,u){return u.customFilters?(o.openNode(this.tag,{colId:u.colId,hiddenButton:u.filterButton?"0":"1"}),this.map.customFilters.render(o,u.customFilters),o.closeNode(),!0):(o.leafNode(this.tag,{colId:u.colId,hiddenButton:u.filterButton?"0":"1"}),!0)}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;const{attributes:u}=o;switch(o.name){case this.tag:return this.model={filterButton:u.hiddenButton==="0"},!0;default:if(this.parser=this.map[o.name],this.parser)return this.parseOpen(o),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(o))}}parseText(){}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"filter"}render(a,l){a.leafNode(this.tag,{val:l.val})}parseOpen(a){return a.name===this.tag&&(this.model={val:a.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"tableColumn"}prepare(a,l){a.id=l.index+1}render(a,l){return a.leafNode(this.tag,{id:l.id.toString(),name:l.name,totalsRowLabel:l.totalsRowLabel,totalsRowFunction:l.totalsRowFunction,dxfId:l.dxfId}),!0}parseOpen(a){if(a.name===this.tag){const{attributes:l}=a;return this.model={name:l.name,totalsRowLabel:l.totalsRowLabel,totalsRowFunction:l.totalsRowFunction,dxfId:l.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"tableStyleInfo"}render(a,l){return a.leafNode(this.tag,{name:l.theme?l.theme:void 0,showFirstColumn:l.showFirstColumn?"1":"0",showLastColumn:l.showLastColumn?"1":"0",showRowStripes:l.showRowStripes?"1":"0",showColumnStripes:l.showColumnStripes?"1":"0"}),!0}parseOpen(a){if(a.name===this.tag){const{attributes:l}=a;return this.model={theme:l.name?l.name:null,showFirstColumn:l.showFirstColumn==="1",showLastColumn:l.showLastColumn==="1",showRowStripes:l.showRowStripes==="1",showColumnStripes:l.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(e,n,s){const i=e("../../../utils/xml-stream"),a=e("../base-xform"),l=e("../list-xform"),c=e("./auto-filter-xform"),o=e("./table-column-xform"),u=e("./table-style-info-xform");class p extends a{constructor(){super(),this.map={autoFilter:new c,tableColumns:new l({tag:"tableColumns",count:!0,empty:!0,childXform:new o}),tableStyleInfo:new u}}prepare(d,x){this.map.autoFilter.prepare(d),this.map.tableColumns.prepare(d.columns,x)}get tag(){return"table"}render(d,x){d.openXml(i.StdDocAttributes),d.openNode(this.tag,{...p.TABLE_ATTRIBUTES,id:x.id,name:x.name,displayName:x.displayName||x.name,ref:x.tableRef,totalsRowCount:x.totalsRow?"1":void 0,totalsRowShown:x.totalsRow?void 0:"1",headerRowCount:x.headerRow?"1":"0"}),this.map.autoFilter.render(d,x),this.map.tableColumns.render(d,x.columns),this.map.tableStyleInfo.render(d,x.style),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;const{name:x,attributes:b}=d;switch(x){case this.tag:this.reset(),this.model={name:b.name,displayName:b.displayName||b.name,tableRef:b.ref,totalsRow:b.totalsRowCount==="1",headerRow:b.headerRowCount==="1"};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((x,b)=>{this.model.columns[b].filterButton=x.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(d,x){d.columns.forEach(b=>{b.dxfId!==void 0&&(b.style=x.styles.getDxfStyle(b.dxfId))})}}p.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},n.exports=p},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(e,n,s){(function(i,a){(function(){const l=e("fs"),c=e("jszip"),{PassThrough:o}=e("readable-stream"),u=e("../utils/zip-stream"),p=e("../utils/stream-buf"),h=e("../utils/utils"),d=e("../utils/xml-stream"),{bufferToString:x}=e("../utils/browser-buffer-decode"),b=e("./xform/style/styles-xform"),g=e("./xform/core/core-xform"),v=e("./xform/strings/shared-strings-xform"),y=e("./xform/core/relationships-xform"),T=e("./xform/core/content-types-xform"),R=e("./xform/core/app-xform"),P=e("./xform/book/workbook-xform"),H=e("./xform/sheet/worksheet-xform"),L=e("./xform/drawing/drawing-xform"),I=e("./xform/table/table-xform"),O=e("./xform/comment/comments-xform"),F=e("./xform/comment/vml-notes-xform"),q=e("./xml/theme1");class z{constructor(U){this.workbook=U}async readFile(U,C){if(!await h.fs.exists(U))throw new Error("File not found: "+U);const S=l.createReadStream(U);try{const k=await this.read(S,C);return S.close(),k}catch(k){throw S.close(),k}}parseRels(U){return new y().parseStream(U)}parseWorkbook(U){return new P().parseStream(U)}parseSharedStrings(U){return new v().parseStream(U)}reconcile(U,C){const S=new P,k=new H(C),E=new L,A=new I;S.reconcile(U);const j={media:U.media,mediaIndex:U.mediaIndex};Object.keys(U.drawings).forEach(Q=>{const K=U.drawings[Q],ee=U.drawingRels[Q];ee&&(j.rels=ee.reduce((W,te)=>(W[te.Id]=te,W),{}),(K.anchors||[]).forEach(W=>{const te=W.picture&&W.picture.hyperlinks;te&&j.rels[te.rId]&&(te.hyperlink=j.rels[te.rId].Target,delete te.rId)}),E.reconcile(K,j))});const B={styles:U.styles};Object.values(U.tables).forEach(Q=>{A.reconcile(Q,B)});const D={styles:U.styles,sharedStrings:U.sharedStrings,media:U.media,mediaIndex:U.mediaIndex,date1904:U.properties&&U.properties.date1904,drawings:U.drawings,comments:U.comments,tables:U.tables,vmlDrawings:U.vmlDrawings};U.worksheets.forEach(Q=>{Q.relationships=U.worksheetRels[Q.sheetNo],k.reconcile(Q,D)}),delete U.worksheetHash,delete U.worksheetRels,delete U.globalRels,delete U.sharedStrings,delete U.workbookRels,delete U.sheetDefs,delete U.styles,delete U.mediaIndex,delete U.drawings,delete U.drawingRels,delete U.vmlDrawings}async _processWorksheetEntry(U,C,S,k,E){const A=new H(k),j=await A.parseStream(U);j.sheetNo=S,C.worksheetHash[E]=j,C.worksheets.push(j)}async _processCommentEntry(U,C,S){const k=new O,E=await k.parseStream(U);C.comments[`../${S}.xml`]=E}async _processTableEntry(U,C,S){const k=new I,E=await k.parseStream(U);C.tables[`../tables/${S}.xml`]=E}async _processWorksheetRelsEntry(U,C,S){const k=new y,E=await k.parseStream(U);C.worksheetRels[S]=E}async _processMediaEntry(U,C,S){const k=S.lastIndexOf(".");if(k>=1){const E=S.substr(k+1),A=S.substr(0,k);await new Promise((j,B)=>{const D=new p;D.on("finish",()=>{C.mediaIndex[S]=C.media.length,C.mediaIndex[A]=C.media.length;const Q={type:"image",name:A,extension:E,buffer:D.toBuffer()};C.media.push(Q),j()}),U.on("error",Q=>{B(Q)}),U.pipe(D)})}}async _processDrawingEntry(U,C,S){const k=new L,E=await k.parseStream(U);C.drawings[S]=E}async _processDrawingRelsEntry(U,C,S){const k=new y,E=await k.parseStream(U);C.drawingRels[S]=E}async _processVmlDrawingEntry(U,C,S){const k=new F,E=await k.parseStream(U);C.vmlDrawings[`../drawings/${S}.vml`]=E}async _processThemeEntry(U,C,S){await new Promise((k,E)=>{const A=new p;U.on("error",E),A.on("error",E),A.on("finish",()=>{C.themes[S]=A.read().toString(),k()}),U.pipe(A)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(U,C){!U[Symbol.asyncIterator]&&U.pipe&&(U=U.pipe(new o));const S=[];for await(const k of U)S.push(k);return this.load(a.concat(S),C)}async load(U,C){let S;S=C&&C.base64?a.from(U.toString(),"base64"):U;const k={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},E=await c.loadAsync(S);for(const A of Object.values(E.files))if(!A.dir){let j,B=A.name;if(B[0]==="/"&&(B=B.substr(1)),B.match(/xl\/media\//)||B.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))j=new o,j.write(await A.async("nodebuffer"));else{let D;j=new o({writableObjectMode:!0,readableObjectMode:!0}),D=i.browser?x(await A.async("nodebuffer")):await A.async("string");const Q=16384;for(let K=0;K<D.length;K+=Q)j.write(D.substring(K,K+Q))}switch(j.end(),B){case"_rels/.rels":k.globalRels=await this.parseRels(j);break;case"xl/workbook.xml":{const D=await this.parseWorkbook(j);k.sheets=D.sheets,k.definedNames=D.definedNames,k.views=D.views,k.properties=D.properties,k.calcProperties=D.calcProperties;break}case"xl/_rels/workbook.xml.rels":k.workbookRels=await this.parseRels(j);break;case"xl/sharedStrings.xml":k.sharedStrings=new v,await k.sharedStrings.parseStream(j);break;case"xl/styles.xml":k.styles=new b,await k.styles.parseStream(j);break;case"docProps/app.xml":{const D=new R,Q=await D.parseStream(j);k.company=Q.company,k.manager=Q.manager;break}case"docProps/core.xml":{const D=new g,Q=await D.parseStream(j);Object.assign(k,Q);break}default:{let D=B.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(D){await this._processWorksheetEntry(j,k,D[1],C,B);break}if(D=B.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),D){await this._processWorksheetRelsEntry(j,k,D[1]);break}if(D=B.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),D){await this._processThemeEntry(j,k,D[1]);break}if(D=B.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),D){await this._processMediaEntry(j,k,D[1]);break}if(D=B.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),D){await this._processDrawingEntry(j,k,D[1]);break}if(D=B.match(/xl\/(comments\d+)[.]xml/),D){await this._processCommentEntry(j,k,D[1]);break}if(D=B.match(/xl\/tables\/(table\d+)[.]xml/),D){await this._processTableEntry(j,k,D[1]);break}if(D=B.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),D){await this._processDrawingRelsEntry(j,k,D[1]);break}if(D=B.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),D){await this._processVmlDrawingEntry(j,k,D[1]);break}}}}return this.reconcile(k,C),this.workbook.model=k,this.workbook}async addMedia(U,C){await Promise.all(C.media.map(async S=>{if(S.type==="image"){const k=`xl/media/${S.name}.${S.extension}`;if(S.filename){const E=await(function(A,j){return new Promise((B,D)=>{l.readFile(A,j,(Q,K)=>{Q?D(Q):B(K)})})})(S.filename);return U.append(E,{name:k})}if(S.buffer)return U.append(S.buffer,{name:k});if(S.base64){const E=S.base64,A=E.substring(E.indexOf(",")+1);return U.append(A,{name:k,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(U,C){const S=new L,k=new y;C.worksheets.forEach(E=>{const{drawing:A}=E;if(A){S.prepare(A,{});let j=S.toXml(A);U.append(j,{name:`xl/drawings/${A.name}.xml`}),j=k.toXml(A.rels),U.append(j,{name:`xl/drawings/_rels/${A.name}.xml.rels`})}})}addTables(U,C){const S=new I;C.worksheets.forEach(k=>{const{tables:E}=k;E.forEach(A=>{S.prepare(A,{});const j=S.toXml(A);U.append(j,{name:"xl/tables/"+A.target})})})}async addContentTypes(U,C){const S=new T().toXml(C);U.append(S,{name:"[Content_Types].xml"})}async addApp(U,C){const S=new R().toXml(C);U.append(S,{name:"docProps/app.xml"})}async addCore(U,C){const S=new g;U.append(S.toXml(C),{name:"docProps/core.xml"})}async addThemes(U,C){const S=C.themes||{theme1:q};Object.keys(S).forEach(k=>{const E=S[k],A=`xl/theme/${k}.xml`;U.append(E,{name:A})})}async addOfficeRels(U){const C=new y().toXml([{Id:"rId1",Type:z.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:z.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:z.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);U.append(C,{name:"_rels/.rels"})}async addWorkbookRels(U,C){let S=1;const k=[{Id:"rId"+S++,Type:z.RelType.Styles,Target:"styles.xml"},{Id:"rId"+S++,Type:z.RelType.Theme,Target:"theme/theme1.xml"}];C.sharedStrings.count&&k.push({Id:"rId"+S++,Type:z.RelType.SharedStrings,Target:"sharedStrings.xml"}),C.worksheets.forEach(A=>{A.rId="rId"+S++,k.push({Id:A.rId,Type:z.RelType.Worksheet,Target:`worksheets/sheet${A.id}.xml`})});const E=new y().toXml(k);U.append(E,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(U,C){C.sharedStrings&&C.sharedStrings.count&&U.append(C.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(U,C){const{xml:S}=C.styles;S&&U.append(S,{name:"xl/styles.xml"})}async addWorkbook(U,C){const S=new P;U.append(S.toXml(C),{name:"xl/workbook.xml"})}async addWorksheets(U,C){const S=new H,k=new y,E=new O,A=new F;C.worksheets.forEach(j=>{let B=new d;S.render(B,j),U.append(B.xml,{name:`xl/worksheets/sheet${j.id}.xml`}),j.rels&&j.rels.length&&(B=new d,k.render(B,j.rels),U.append(B.xml,{name:`xl/worksheets/_rels/sheet${j.id}.xml.rels`})),j.comments.length>0&&(B=new d,E.render(B,j),U.append(B.xml,{name:`xl/comments${j.id}.xml`}),B=new d,A.render(B,j),U.append(B.xml,{name:`xl/drawings/vmlDrawing${j.id}.vml`}))})}_finalize(U){return new Promise((C,S)=>{U.on("finish",()=>{C(this)}),U.on("error",S),U.finalize()})}prepareModel(U,C){U.creator=U.creator||"ExcelJS",U.lastModifiedBy=U.lastModifiedBy||"ExcelJS",U.created=U.created||new Date,U.modified=U.modified||new Date,U.useSharedStrings=C.useSharedStrings===void 0||C.useSharedStrings,U.useStyles=C.useStyles===void 0||C.useStyles,U.sharedStrings=new v,U.styles=U.useStyles?new b(!0):new b.Mock;const S=new P,k=new H;S.prepare(U);const E={sharedStrings:U.sharedStrings,styles:U.styles,date1904:U.properties.date1904,drawingsCount:0,media:U.media};E.drawings=U.drawings=[],E.commentRefs=U.commentRefs=[];let A=0;U.tables=[],U.worksheets.forEach(j=>{j.tables.forEach(B=>{A++,B.target=`table${A}.xml`,B.id=A,U.tables.push(B)}),k.prepare(j,E)})}async write(U,C){C=C||{};const{model:S}=this.workbook,k=new u.ZipWriter(C.zip);return k.pipe(U),this.prepareModel(S,C),await this.addContentTypes(k,S),await this.addOfficeRels(k,S),await this.addWorkbookRels(k,S),await this.addWorksheets(k,S),await this.addSharedStrings(k,S),await this.addDrawings(k,S),await this.addTables(k,S),await Promise.all([this.addThemes(k,S),this.addStyles(k,S)]),await this.addMedia(k,S),await Promise.all([this.addApp(k,S),this.addCore(k,S)]),await this.addWorkbook(k,S),this._finalize(k)}writeFile(U,C){const S=l.createWriteStream(U);return new Promise((k,E)=>{S.on("finish",()=>{k()}),S.on("error",A=>{E(A)}),this.write(S,C).then(()=>{S.end()}).catch(A=>{E(A)})})}async writeBuffer(U){const C=new p;return await this.write(C,U),C.read()}}z.RelType=e("./rel-type"),n.exports=z}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(e,n,s){n.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(e,n,s){(function(i){(function(){Object.defineProperty(s,"__esModule",{value:!0}),s.CsvFormatterStream=void 0;const a=e("stream"),l=e("./formatter");class c extends a.Transform{constructor(u){super({writableObjectMode:u.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=u,this.rowFormatter=new l.RowFormatter(u),this.hasWrittenBOM=!u.writeBOM}transform(u){return this.rowFormatter.rowTransform=u,this}_transform(u,p,h){let d=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(u,(x,b)=>x?(d=!0,h(x)):(b&&b.forEach(g=>{this.push(i.from(g,"utf8"))}),d=!0,h()))}catch(x){if(d)throw x;h(x)}}_flush(u){this.rowFormatter.finish((p,h)=>p?u(p):(h&&h.forEach(d=>{this.push(i.from(d,"utf8"))}),u()))}}s.CsvFormatterStream=c}).call(this)}).call(this,e("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.FormatterOptions=void 0,s.FormatterOptions=class{constructor(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var a;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,i||{}),(i==null?void 0:i.quoteHeaders)===void 0&&(this.quoteHeaders=this.quoteColumns),(i==null?void 0:i.quote)===!0?this.quote='"':(i==null?void 0:i.quote)===!1&&(this.quote=""),typeof(i==null?void 0:i.escape)!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((a=i.writeHeaders)===null||a===void 0||a),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(e,n,s){var i=function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(s,"__esModule",{value:!0}),s.FieldFormatter=void 0;const a=i(e("lodash.isboolean")),l=i(e("lodash.isnil")),c=i(e("lodash.escaperegexp"));s.FieldFormatter=class{constructor(o){this._headers=null,this.formatterOptions=o,o.headers!==null&&(this.headers=o.headers),this.REPLACE_REGEXP=new RegExp(o.quote,"g");const u=`[${o.delimiter}${c.default(o.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(u)}set headers(o){this._headers=o}shouldQuote(o,u){const p=u?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return a.default(p)?p:Array.isArray(p)?p[o]:this._headers!==null&&p[this._headers[o]]}format(o,u,p){const h=(""+(l.default(o)?"":o)).replace(/\0/g,""),{formatterOptions:d}=this;return d.quote!==""&&h.indexOf(d.quote)!==-1?this.quoteField(h.replace(this.REPLACE_REGEXP,d.escapedQuote)):h.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(u,p)?this.quoteField(h):h}quoteField(o){const{quote:u}=this.formatterOptions;return`${u}${o}${u}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(e,n,s){var i=function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(s,"__esModule",{value:!0}),s.RowFormatter=void 0;const a=i(e("lodash.isfunction")),l=i(e("lodash.isequal")),c=e("./FieldFormatter"),o=e("../types");class u{constructor(h){this.rowCount=0,this.formatterOptions=h,this.fieldFormatter=new c.FieldFormatter(h),this.headers=h.headers,this.shouldWriteHeaders=h.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),h.transform&&(this.rowTransform=h.transform)}static isRowHashArray(h){return!!Array.isArray(h)&&Array.isArray(h[0])&&h[0].length===2}static isRowArray(h){return Array.isArray(h)&&!this.isRowHashArray(h)}static gatherHeaders(h){return u.isRowHashArray(h)?h.map(d=>d[0]):Array.isArray(h)?h:Object.keys(h)}static createTransform(h){return o.isSyncTransform(h)?(d,x)=>{let b=null;try{b=h(d)}catch(g){return x(g)}return x(null,b)}:(d,x)=>{h(d,x)}}set rowTransform(h){if(!a.default(h))throw new TypeError("The transform should be a function");this._rowTransform=u.createTransform(h)}format(h,d){this.callTransformer(h,(x,b)=>{if(x)return d(x);if(!h)return d(null);const g=[];if(b){const{shouldFormatColumns:v,headers:y}=this.checkHeaders(b);if(this.shouldWriteHeaders&&y&&!this.hasWrittenHeaders&&(g.push(this.formatColumns(y,!0)),this.hasWrittenHeaders=!0),v){const T=this.gatherColumns(b);g.push(this.formatColumns(T,!1))}}return d(null,g)})}finish(h){const d=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return h(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));d.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&d.push(this.formatterOptions.rowDelimiter),h(null,d)}checkHeaders(h){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const d=u.gatherHeaders(h);return this.headers=d,this.fieldFormatter.headers=d,this.shouldWriteHeaders?{shouldFormatColumns:!l.default(d,h),headers:d}:{shouldFormatColumns:!0,headers:null}}gatherColumns(h){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(h)?u.isRowHashArray(h)?this.headers.map((d,x)=>{const b=h[x];return b?b[1]:""}):u.isRowArray(h)&&!this.shouldWriteHeaders?h:this.headers.map((d,x)=>h[x]):this.headers.map(d=>h[d])}callTransformer(h,d){return this._rowTransform?this._rowTransform(h,d):d(null,h)}formatColumns(h,d){const x=h.map((g,v)=>this.fieldFormatter.format(g,v,d)).join(this.formatterOptions.delimiter),{rowCount:b}=this;return this.rowCount+=1,b?[this.formatterOptions.rowDelimiter,x].join(""):x}}s.RowFormatter=u},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.FieldFormatter=s.RowFormatter=void 0;var i=e("./RowFormatter");Object.defineProperty(s,"RowFormatter",{enumerable:!0,get:function(){return i.RowFormatter}});var a=e("./FieldFormatter");Object.defineProperty(s,"FieldFormatter",{enumerable:!0,get:function(){return a.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(e,n,s){(function(i){(function(){var a=Object.create?function(v,y,T,R){R===void 0&&(R=T),Object.defineProperty(v,R,{enumerable:!0,get:function(){return y[T]}})}:function(v,y,T,R){R===void 0&&(R=T),v[R]=y[T]},l=Object.create?function(v,y){Object.defineProperty(v,"default",{enumerable:!0,value:y})}:function(v,y){v.default=y},c=function(v){if(v&&v.__esModule)return v;var y={};if(v!=null)for(var T in v)T!=="default"&&Object.prototype.hasOwnProperty.call(v,T)&&a(y,v,T);return l(y,v),y},o=function(v,y){for(var T in v)T==="default"||Object.prototype.hasOwnProperty.call(y,T)||a(y,v,T)};Object.defineProperty(s,"__esModule",{value:!0}),s.writeToPath=s.writeToString=s.writeToBuffer=s.writeToStream=s.write=s.format=s.FormatterOptions=s.CsvFormatterStream=void 0;const u=e("util"),p=e("stream"),h=c(e("fs")),d=e("./FormatterOptions"),x=e("./CsvFormatterStream");o(e("./types"),s);var b=e("./CsvFormatterStream");Object.defineProperty(s,"CsvFormatterStream",{enumerable:!0,get:function(){return b.CsvFormatterStream}});var g=e("./FormatterOptions");Object.defineProperty(s,"FormatterOptions",{enumerable:!0,get:function(){return g.FormatterOptions}}),s.format=v=>new x.CsvFormatterStream(new d.FormatterOptions(v)),s.write=(v,y)=>{const T=s.format(y),R=u.promisify((P,H)=>{T.write(P,void 0,H)});return v.reduce((P,H)=>P.then(()=>R(H)),Promise.resolve()).then(()=>T.end()).catch(P=>{T.emit("error",P)}),T},s.writeToStream=(v,y,T)=>s.write(y,T).pipe(v),s.writeToBuffer=function(v){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const T=[],R=new p.Writable({write(P,H,L){T.push(P),L()}});return new Promise((P,H)=>{R.on("error",H).on("finish",()=>P(i.concat(T))),s.write(v,y).pipe(R)})},s.writeToString=(v,y)=>s.writeToBuffer(v,y).then(T=>T.toString()),s.writeToPath=(v,y,T)=>{const R=h.createWriteStream(v,{encoding:"utf8"});return s.write(y,T).pipe(R)}}).call(this)}).call(this,e("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.isSyncTransform=void 0,s.isSyncTransform=i=>i.length===1},{}],153:[function(e,n,s){(function(i){(function(){Object.defineProperty(s,"__esModule",{value:!0}),s.CsvParserStream=void 0;const a=e("string_decoder"),l=e("stream"),c=e("./transforms"),o=e("./parser");class u extends l.Transform{constructor(h){super({objectMode:h.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=h,this.parser=new o.Parser(h),this.headerTransformer=new c.HeaderTransformer(h),this.decoder=new a.StringDecoder(h.encoding),this.rowTransformerValidator=new c.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(h){return this.rowTransformerValidator.rowTransform=h,this}validate(h){return this.rowTransformerValidator.rowValidator=h,this}emit(h){if(h==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var d=arguments.length,x=new Array(d>1?d-1:0),b=1;b<d;b++)x[b-1]=arguments[b];return super.emit(h,...x)}_transform(h,d,x){if(this.hasHitRowLimit)return x();const b=u.wrapDoneCallback(x);try{const{lines:g}=this,v=g+this.decoder.write(h),y=this.parse(v,!0);return this.processRows(y,b)}catch(g){return b(g)}}_flush(h){const d=u.wrapDoneCallback(h);if(this.hasHitRowLimit)return d();try{const x=this.lines+this.decoder.end(),b=this.parse(x,!1);return this.processRows(b,d)}catch(x){return d(x)}}parse(h,d){if(!h)return[];const{line:x,rows:b}=this.parser.parse(h,d);return this.lines=x,b}processRows(h,d){const x=h.length,b=g=>{const v=R=>R?d(R):g%100!=0?b(g+1):void i(()=>b(g+1));if(this.checkAndEmitHeaders(),g>=x||this.hasHitRowLimit)return d();if(this.parsedLineCount+=1,this.shouldSkipLine)return v();const y=h[g];this.rowCount+=1,this.parsedRowCount+=1;const T=this.rowCount;return this.transformRow(y,(R,P)=>{if(R)return this.rowCount-=1,v(R);if(!P)return v(new Error("expected transform result"));if(P.isValid){if(P.row)return this.pushRow(P.row,v)}else this.emit("data-invalid",P.row,T,P.reason);return v()})};b(0)}transformRow(h,d){try{this.headerTransformer.transform(h,(x,b)=>x?d(x):b?b.isValid?b.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(b.row,d):this.skipRow(d):(this.rowCount-=1,this.parsedRowCount-=1,d(null,{row:null,isValid:!0})):this.shouldEmitRows?d(null,{isValid:!1,row:h}):this.skipRow(d):d(new Error("Expected result from header transform")))}catch(x){d(x)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(h){return this.rowCount-=1,h(null,{row:null,isValid:!0})}pushRow(h,d){try{this.parserOptions.objectMode?this.push(h):this.push(JSON.stringify(h)),d()}catch(x){d(x)}}static wrapDoneCallback(h){let d=!1;return function(x){if(x){if(d)throw x;return d=!0,void h(x)}for(var b=arguments.length,g=new Array(b>1?b-1:0),v=1;v<b;v++)g[v-1]=arguments[v];h(...g)}}}s.CsvParserStream=u}).call(this)}).call(this,e("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(e,n,s){var i=function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(s,"__esModule",{value:!0}),s.ParserOptions=void 0;const a=i(e("lodash.escaperegexp")),l=i(e("lodash.isnil"));s.ParserOptions=class{constructor(c){var o;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,c||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=a.default(this.delimiter),this.escapeChar=(o=this.escape)!==null&&o!==void 0?o:this.quote,this.supportsComments=!l.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(e,n,s){var i=Object.create?function(b,g,v,y){y===void 0&&(y=v),Object.defineProperty(b,y,{enumerable:!0,get:function(){return g[v]}})}:function(b,g,v,y){y===void 0&&(y=v),b[y]=g[v]},a=Object.create?function(b,g){Object.defineProperty(b,"default",{enumerable:!0,value:g})}:function(b,g){b.default=g},l=function(b){if(b&&b.__esModule)return b;var g={};if(b!=null)for(var v in b)v!=="default"&&Object.prototype.hasOwnProperty.call(b,v)&&i(g,b,v);return a(g,b),g},c=function(b,g){for(var v in b)v==="default"||Object.prototype.hasOwnProperty.call(g,v)||i(g,b,v)};Object.defineProperty(s,"__esModule",{value:!0}),s.parseString=s.parseFile=s.parseStream=s.parse=s.ParserOptions=s.CsvParserStream=void 0;const o=l(e("fs")),u=e("stream"),p=e("./ParserOptions"),h=e("./CsvParserStream");c(e("./types"),s);var d=e("./CsvParserStream");Object.defineProperty(s,"CsvParserStream",{enumerable:!0,get:function(){return d.CsvParserStream}});var x=e("./ParserOptions");Object.defineProperty(s,"ParserOptions",{enumerable:!0,get:function(){return x.ParserOptions}}),s.parse=b=>new h.CsvParserStream(new p.ParserOptions(b)),s.parseStream=(b,g)=>b.pipe(new h.CsvParserStream(new p.ParserOptions(g))),s.parseFile=function(b){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return o.createReadStream(b).pipe(new h.CsvParserStream(new p.ParserOptions(g)))},s.parseString=(b,g)=>{const v=new u.Readable;return v.push(b),v.push(null),v.pipe(new h.CsvParserStream(new p.ParserOptions(g)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.Parser=void 0;const i=e("./Scanner"),a=e("./RowParser"),l=e("./Token");class c{constructor(u){this.parserOptions=u,this.rowParser=new a.RowParser(this.parserOptions)}static removeBOM(u){return u&&u.charCodeAt(0)===65279?u.slice(1):u}parse(u,p){const h=new i.Scanner({line:c.removeBOM(u),parserOptions:this.parserOptions,hasMoreData:p});return this.parserOptions.supportsComments?this.parseWithComments(h):this.parseWithoutComments(h)}parseWithoutComments(u){const p=[];let h=!0;for(;h;)h=this.parseRow(u,p);return{line:u.line,rows:p}}parseWithComments(u){const{parserOptions:p}=this,h=[];for(let d=u.nextCharacterToken;d!==null;d=u.nextCharacterToken)if(l.Token.isTokenComment(d,p)){if(u.advancePastLine()===null)return{line:u.lineFromCursor,rows:h};if(!u.hasMoreCharacters)return{line:u.lineFromCursor,rows:h};u.truncateToCursor()}else if(!this.parseRow(u,h))break;return{line:u.line,rows:h}}parseRow(u,p){if(!u.nextNonSpaceToken)return!1;const h=this.rowParser.parse(u);return h!==null&&(this.parserOptions.ignoreEmpty&&a.RowParser.isEmptyRow(h)||p.push(h),!0)}}s.Parser=c},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.RowParser=void 0;const i=e("./column"),a=e("./Token");s.RowParser=class{constructor(l){this.parserOptions=l,this.columnParser=new i.ColumnParser(l)}static isEmptyRow(l){return l.join("").replace(/\s+/g,"")===""}parse(l){const{parserOptions:c}=this,{hasMoreData:o}=l,u=l,p=[];let h=this.getStartToken(u,p);for(;h;){if(a.Token.isTokenRowDelimiter(h))return u.advancePastToken(h),!u.hasMoreCharacters&&a.Token.isTokenCarriageReturn(h,c)&&o?null:(u.truncateToCursor(),p);if(!this.shouldSkipColumnParse(u,h,p)){const d=this.columnParser.parse(u);if(d===null)return null;p.push(d)}h=u.nextNonSpaceToken}return o?null:(u.truncateToCursor(),p)}getStartToken(l,c){const o=l.nextNonSpaceToken;return o!==null&&a.Token.isTokenDelimiter(o,this.parserOptions)?(c.push(""),l.nextNonSpaceToken):o}shouldSkipColumnParse(l,c,o){const{parserOptions:u}=this;if(a.Token.isTokenDelimiter(c,u)){l.advancePastToken(c);const p=l.nextCharacterToken;if(!l.hasMoreCharacters||p!==null&&a.Token.isTokenRowDelimiter(p)||p!==null&&a.Token.isTokenDelimiter(p,u))return o.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.Scanner=void 0;const i=e("./Token"),a=/((?:\r\n)|\n|\r)/;s.Scanner=class{constructor(l){this.cursor=0,this.line=l.line,this.lineLength=this.line.length,this.parserOptions=l.parserOptions,this.hasMoreData=l.hasMoreData,this.cursor=l.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:l}=this,c=this.parserOptions.NEXT_TOKEN_REGEXP;if(l.search(c)===-1)return null;const o=c.exec(l);if(o==null)return null;const u=o[1],p=this.cursor+(o.index||0);return new i.Token({token:u,startCursor:p,endCursor:p+u.length-1})}get nextCharacterToken(){const{cursor:l,lineLength:c}=this;return c<=l?null:new i.Token({token:this.line[l],startCursor:l,endCursor:l})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const l=a.exec(this.lineFromCursor);return l?(this.cursor+=(l.index||0)+l[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(l){return this.cursor=l,this}advanceToToken(l){return this.cursor=l.startCursor,this}advancePastToken(l){return this.cursor=l.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.Token=void 0,s.Token=class{constructor(i){this.token=i.token,this.startCursor=i.startCursor,this.endCursor=i.endCursor}static isTokenRowDelimiter(i){const a=i.token;return a==="\r"||a===`
`||a===`\r
`}static isTokenCarriageReturn(i,a){return i.token===a.carriageReturn}static isTokenComment(i,a){return a.supportsComments&&!!i&&i.token===a.comment}static isTokenEscapeCharacter(i,a){return i.token===a.escapeChar}static isTokenQuote(i,a){return i.token===a.quote}static isTokenDelimiter(i,a){return i.token===a.delimiter}}},{}],160:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.ColumnFormatter=void 0,s.ColumnFormatter=class{constructor(i){i.trim?this.format=a=>a.trim():i.ltrim?this.format=a=>a.trimLeft():i.rtrim?this.format=a=>a.trimRight():this.format=a=>a}}},{}],161:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.ColumnParser=void 0;const i=e("./NonQuotedColumnParser"),a=e("./QuotedColumnParser"),l=e("../Token");s.ColumnParser=class{constructor(c){this.parserOptions=c,this.quotedColumnParser=new a.QuotedColumnParser(c),this.nonQuotedColumnParser=new i.NonQuotedColumnParser(c)}parse(c){const{nextNonSpaceToken:o}=c;return o!==null&&l.Token.isTokenQuote(o,this.parserOptions)?(c.advanceToToken(o),this.quotedColumnParser.parse(c)):this.nonQuotedColumnParser.parse(c)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.NonQuotedColumnParser=void 0;const i=e("./ColumnFormatter"),a=e("../Token");s.NonQuotedColumnParser=class{constructor(l){this.parserOptions=l,this.columnFormatter=new i.ColumnFormatter(l)}parse(l){if(!l.hasMoreCharacters)return null;const{parserOptions:c}=this,o=[];let u=l.nextCharacterToken;for(;u&&!a.Token.isTokenDelimiter(u,c)&&!a.Token.isTokenRowDelimiter(u);u=l.nextCharacterToken)o.push(u.token),l.advancePastToken(u);return this.columnFormatter.format(o.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.QuotedColumnParser=void 0;const i=e("./ColumnFormatter"),a=e("../Token");s.QuotedColumnParser=class{constructor(l){this.parserOptions=l,this.columnFormatter=new i.ColumnFormatter(l)}parse(l){if(!l.hasMoreCharacters)return null;const c=l.cursor,{foundClosingQuote:o,col:u}=this.gatherDataBetweenQuotes(l);if(!o){if(l.advanceTo(c),!l.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${l.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(l),u}gatherDataBetweenQuotes(l){const{parserOptions:c}=this;let o=!1,u=!1;const p=[];let h=l.nextCharacterToken;for(;!u&&h!==null;h=l.nextCharacterToken){const d=a.Token.isTokenQuote(h,c);if(!o&&d)o=!0;else if(o)if(a.Token.isTokenEscapeCharacter(h,c)){l.advancePastToken(h);const x=l.nextCharacterToken;x!==null&&(a.Token.isTokenQuote(x,c)||a.Token.isTokenEscapeCharacter(x,c))?(p.push(x.token),h=x):d?u=!0:p.push(h.token)}else d?u=!0:p.push(h.token);l.advancePastToken(h)}return{col:this.columnFormatter.format(p.join("")),foundClosingQuote:u}}checkForMalformedColumn(l){const{parserOptions:c}=this,{nextNonSpaceToken:o}=l;if(o){const u=a.Token.isTokenDelimiter(o,c),p=a.Token.isTokenRowDelimiter(o);if(!u&&!p){const h=l.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${c.escapedDelimiter}' OR new line got: '${o.token}'. at '${h}`)}l.advanceToToken(o)}else l.hasMoreData||l.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.ColumnFormatter=s.QuotedColumnParser=s.NonQuotedColumnParser=s.ColumnParser=void 0;var i=e("./ColumnParser");Object.defineProperty(s,"ColumnParser",{enumerable:!0,get:function(){return i.ColumnParser}});var a=e("./NonQuotedColumnParser");Object.defineProperty(s,"NonQuotedColumnParser",{enumerable:!0,get:function(){return a.NonQuotedColumnParser}});var l=e("./QuotedColumnParser");Object.defineProperty(s,"QuotedColumnParser",{enumerable:!0,get:function(){return l.QuotedColumnParser}});var c=e("./ColumnFormatter");Object.defineProperty(s,"ColumnFormatter",{enumerable:!0,get:function(){return c.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.QuotedColumnParser=s.NonQuotedColumnParser=s.ColumnParser=s.Token=s.Scanner=s.RowParser=s.Parser=void 0;var i=e("./Parser");Object.defineProperty(s,"Parser",{enumerable:!0,get:function(){return i.Parser}});var a=e("./RowParser");Object.defineProperty(s,"RowParser",{enumerable:!0,get:function(){return a.RowParser}});var l=e("./Scanner");Object.defineProperty(s,"Scanner",{enumerable:!0,get:function(){return l.Scanner}});var c=e("./Token");Object.defineProperty(s,"Token",{enumerable:!0,get:function(){return c.Token}});var o=e("./column");Object.defineProperty(s,"ColumnParser",{enumerable:!0,get:function(){return o.ColumnParser}}),Object.defineProperty(s,"NonQuotedColumnParser",{enumerable:!0,get:function(){return o.NonQuotedColumnParser}}),Object.defineProperty(s,"QuotedColumnParser",{enumerable:!0,get:function(){return o.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(e,n,s){var i=function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(s,"__esModule",{value:!0}),s.HeaderTransformer=void 0;const a=i(e("lodash.isundefined")),l=i(e("lodash.isfunction")),c=i(e("lodash.uniq")),o=i(e("lodash.groupby"));s.HeaderTransformer=class{constructor(u){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=u,u.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(u.headers)?this.setHeaders(u.headers):l.default(u.headers)&&(this.headersTransform=u.headers)}transform(u,p){return this.shouldMapRow(u)?p(null,this.processRow(u)):p(null,{row:null,isValid:!0})}shouldMapRow(u){const{parserOptions:p}=this;if(!this.headersTransform&&p.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(u)){if(this.headersTransform)this.setHeaders(this.headersTransform(u));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(u)}return!1}return!0}processRow(u){if(!this.headers)return{row:u,isValid:!0};const{parserOptions:p}=this;if(!p.discardUnmappedColumns&&u.length>this.headersLength){if(!p.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${u.length}`);return{row:u,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${u.length}`}}return p.strictColumnHandling&&u.length<this.headersLength?{row:u,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${u.length}`}:{row:this.mapHeaders(u),isValid:!0}}mapHeaders(u){const p={},{headers:h,headersLength:d}=this;for(let x=0;x<d;x+=1){const b=h[x];if(!a.default(b)){const g=u[x];a.default(g)?p[b]="":p[b]=g}}return p}setHeaders(u){var p;const h=u.filter(d=>!!d);if(c.default(h).length!==h.length){const d=o.default(h),x=Object.keys(d).filter(b=>d[b].length>1);throw new Error("Duplicate headers found "+JSON.stringify(x))}this.headers=u,this.receivedHeaders=!0,this.headersLength=((p=this.headers)===null||p===void 0?void 0:p.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(e,n,s){var i=function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(s,"__esModule",{value:!0}),s.RowTransformerValidator=void 0;const a=i(e("lodash.isfunction")),l=e("../types");class c{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(u){return l.isSyncTransform(u)?(p,h)=>{let d=null;try{d=u(p)}catch(x){return h(x)}return h(null,d)}:u}static createValidator(u){return l.isSyncValidate(u)?(p,h)=>{h(null,{row:p,isValid:u(p)})}:(p,h)=>{u(p,(d,x,b)=>d?h(d):h(null,x?{row:p,isValid:x,reason:b}:{row:p,isValid:!1,reason:b}))}}set rowTransform(u){if(!a.default(u))throw new TypeError("The transform should be a function");this._rowTransform=c.createTransform(u)}set rowValidator(u){if(!a.default(u))throw new TypeError("The validate should be a function");this._rowValidator=c.createValidator(u)}transformAndValidate(u,p){return this.callTransformer(u,(h,d)=>h?p(h):d?this.callValidator(d,(x,b)=>x?p(x):b&&!b.isValid?p(null,{row:d,isValid:!1,reason:b.reason}):p(null,{row:d,isValid:!0})):p(null,{row:null,isValid:!0}))}callTransformer(u,p){return this._rowTransform?this._rowTransform(u,p):p(null,u)}callValidator(u,p){return this._rowValidator?this._rowValidator(u,p):p(null,{row:u,isValid:!0})}}s.RowTransformerValidator=c},{"../types":169,"lodash.isfunction":446}],168:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.HeaderTransformer=s.RowTransformerValidator=void 0;var i=e("./RowTransformerValidator");Object.defineProperty(s,"RowTransformerValidator",{enumerable:!0,get:function(){return i.RowTransformerValidator}});var a=e("./HeaderTransformer");Object.defineProperty(s,"HeaderTransformer",{enumerable:!0,get:function(){return a.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.isSyncValidate=s.isSyncTransform=void 0,s.isSyncTransform=i=>i.length===1,s.isSyncValidate=i=>i.length===1},{}],170:[function(e,n,s){const i=s;i.bignum=e("bn.js"),i.define=e("./asn1/api").define,i.base=e("./asn1/base"),i.constants=e("./asn1/constants"),i.decoders=e("./asn1/decoders"),i.encoders=e("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(e,n,s){const i=e("./encoders"),a=e("./decoders"),l=e("inherits");function c(o,u){this.name=o,this.body=u,this.decoders={},this.encoders={}}s.define=function(o,u){return new c(o,u)},c.prototype._createNamed=function(o){const u=this.name;function p(h){this._initNamed(h,u)}return l(p,o),p.prototype._initNamed=function(h,d){o.call(this,h,d)},new p(this)},c.prototype._getDecoder=function(o){return o=o||"der",this.decoders.hasOwnProperty(o)||(this.decoders[o]=this._createNamed(a[o])),this.decoders[o]},c.prototype.decode=function(o,u,p){return this._getDecoder(u).decode(o,p)},c.prototype._getEncoder=function(o){return o=o||"der",this.encoders.hasOwnProperty(o)||(this.encoders[o]=this._createNamed(i[o])),this.encoders[o]},c.prototype.encode=function(o,u,p){return this._getEncoder(u).encode(o,p)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(e,n,s){const i=e("inherits"),a=e("../base/reporter").Reporter,l=e("safer-buffer").Buffer;function c(u,p){a.call(this,p),l.isBuffer(u)?(this.base=u,this.offset=0,this.length=u.length):this.error("Input not Buffer")}function o(u,p){if(Array.isArray(u))this.length=0,this.value=u.map((function(h){return o.isEncoderBuffer(h)||(h=new o(h,p)),this.length+=h.length,h}),this);else if(typeof u=="number"){if(!(0<=u&&u<=255))return p.error("non-byte EncoderBuffer value");this.value=u,this.length=1}else if(typeof u=="string")this.value=u,this.length=l.byteLength(u);else{if(!l.isBuffer(u))return p.error("Unsupported type: "+typeof u);this.value=u,this.length=u.length}}i(c,a),s.DecoderBuffer=c,c.isDecoderBuffer=function(u){return u instanceof c?!0:typeof u=="object"&&l.isBuffer(u.base)&&u.constructor.name==="DecoderBuffer"&&typeof u.offset=="number"&&typeof u.length=="number"&&typeof u.save=="function"&&typeof u.restore=="function"&&typeof u.isEmpty=="function"&&typeof u.readUInt8=="function"&&typeof u.skip=="function"&&typeof u.raw=="function"},c.prototype.save=function(){return{offset:this.offset,reporter:a.prototype.save.call(this)}},c.prototype.restore=function(u){const p=new c(this.base);return p.offset=u.offset,p.length=this.offset,this.offset=u.offset,a.prototype.restore.call(this,u.reporter),p},c.prototype.isEmpty=function(){return this.offset===this.length},c.prototype.readUInt8=function(u){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(u||"DecoderBuffer overrun")},c.prototype.skip=function(u,p){if(!(this.offset+u<=this.length))return this.error(p||"DecoderBuffer overrun");const h=new c(this.base);return h._reporterState=this._reporterState,h.offset=this.offset,h.length=this.offset+u,this.offset+=u,h},c.prototype.raw=function(u){return this.base.slice(u?u.offset:this.offset,this.length)},s.EncoderBuffer=o,o.isEncoderBuffer=function(u){return u instanceof o?!0:typeof u=="object"&&u.constructor.name==="EncoderBuffer"&&typeof u.length=="number"&&typeof u.join=="function"},o.prototype.join=function(u,p){return u||(u=l.alloc(this.length)),p||(p=0),this.length===0||(Array.isArray(this.value)?this.value.forEach((function(h){h.join(u,p),p+=h.length})):(typeof this.value=="number"?u[p]=this.value:typeof this.value=="string"?u.write(this.value,p):l.isBuffer(this.value)&&this.value.copy(u,p),p+=this.length)),u}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(e,n,s){const i=s;i.Reporter=e("./reporter").Reporter,i.DecoderBuffer=e("./buffer").DecoderBuffer,i.EncoderBuffer=e("./buffer").EncoderBuffer,i.Node=e("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(e,n,s){const i=e("../base/reporter").Reporter,a=e("../base/buffer").EncoderBuffer,l=e("../base/buffer").DecoderBuffer,c=e("minimalistic-assert"),o=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],u=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(o);function p(d,x,b){const g={};this._baseState=g,g.name=b,g.enc=d,g.parent=x||null,g.children=null,g.tag=null,g.args=null,g.reverseArgs=null,g.choice=null,g.optional=!1,g.any=!1,g.obj=!1,g.use=null,g.useDecoder=null,g.key=null,g.default=null,g.explicit=null,g.implicit=null,g.contains=null,g.parent||(g.children=[],this._wrap())}n.exports=p;const h=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];p.prototype.clone=function(){const d=this._baseState,x={};h.forEach((function(g){x[g]=d[g]}));const b=new this.constructor(x.parent);return b._baseState=x,b},p.prototype._wrap=function(){const d=this._baseState;u.forEach((function(x){this[x]=function(){const b=new this.constructor(this);return d.children.push(b),b[x].apply(b,arguments)}}),this)},p.prototype._init=function(d){const x=this._baseState;c(x.parent===null),d.call(this),x.children=x.children.filter((function(b){return b._baseState.parent===this}),this),c.equal(x.children.length,1,"Root node can have only one child")},p.prototype._useArgs=function(d){const x=this._baseState,b=d.filter((function(g){return g instanceof this.constructor}),this);d=d.filter((function(g){return!(g instanceof this.constructor)}),this),b.length!==0&&(c(x.children===null),x.children=b,b.forEach((function(g){g._baseState.parent=this}),this)),d.length!==0&&(c(x.args===null),x.args=d,x.reverseArgs=d.map((function(g){if(typeof g!="object"||g.constructor!==Object)return g;const v={};return Object.keys(g).forEach((function(y){y==(0|y)&&(y|=0);const T=g[y];v[T]=y})),v})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(d){p.prototype[d]=function(){const x=this._baseState;throw new Error(d+" not implemented for encoding: "+x.enc)}})),o.forEach((function(d){p.prototype[d]=function(){const x=this._baseState,b=Array.prototype.slice.call(arguments);return c(x.tag===null),x.tag=d,this._useArgs(b),this}})),p.prototype.use=function(d){c(d);const x=this._baseState;return c(x.use===null),x.use=d,this},p.prototype.optional=function(){return this._baseState.optional=!0,this},p.prototype.def=function(d){const x=this._baseState;return c(x.default===null),x.default=d,x.optional=!0,this},p.prototype.explicit=function(d){const x=this._baseState;return c(x.explicit===null&&x.implicit===null),x.explicit=d,this},p.prototype.implicit=function(d){const x=this._baseState;return c(x.explicit===null&&x.implicit===null),x.implicit=d,this},p.prototype.obj=function(){const d=this._baseState,x=Array.prototype.slice.call(arguments);return d.obj=!0,x.length!==0&&this._useArgs(x),this},p.prototype.key=function(d){const x=this._baseState;return c(x.key===null),x.key=d,this},p.prototype.any=function(){return this._baseState.any=!0,this},p.prototype.choice=function(d){const x=this._baseState;return c(x.choice===null),x.choice=d,this._useArgs(Object.keys(d).map((function(b){return d[b]}))),this},p.prototype.contains=function(d){const x=this._baseState;return c(x.use===null),x.contains=d,this},p.prototype._decode=function(d,x){const b=this._baseState;if(b.parent===null)return d.wrapResult(b.children[0]._decode(d,x));let g,v=b.default,y=!0,T=null;if(b.key!==null&&(T=d.enterKey(b.key)),b.optional){let R=null;if(b.explicit!==null?R=b.explicit:b.implicit!==null?R=b.implicit:b.tag!==null&&(R=b.tag),R!==null||b.any){if(y=this._peekTag(d,R,b.any),d.isError(y))return y}else{const P=d.save();try{b.choice===null?this._decodeGeneric(b.tag,d,x):this._decodeChoice(d,x),y=!0}catch{y=!1}d.restore(P)}}if(b.obj&&y&&(g=d.enterObject()),y){if(b.explicit!==null){const P=this._decodeTag(d,b.explicit);if(d.isError(P))return P;d=P}const R=d.offset;if(b.use===null&&b.choice===null){let P;b.any&&(P=d.save());const H=this._decodeTag(d,b.implicit!==null?b.implicit:b.tag,b.any);if(d.isError(H))return H;b.any?v=d.raw(P):d=H}if(x&&x.track&&b.tag!==null&&x.track(d.path(),R,d.length,"tagged"),x&&x.track&&b.tag!==null&&x.track(d.path(),d.offset,d.length,"content"),b.any||(v=b.choice===null?this._decodeGeneric(b.tag,d,x):this._decodeChoice(d,x)),d.isError(v))return v;if(b.any||b.choice!==null||b.children===null||b.children.forEach((function(P){P._decode(d,x)})),b.contains&&(b.tag==="octstr"||b.tag==="bitstr")){const P=new l(v);v=this._getUse(b.contains,d._reporterState.obj)._decode(P,x)}}return b.obj&&y&&(v=d.leaveObject(g)),b.key===null||v===null&&y!==!0?T!==null&&d.exitKey(T):d.leaveKey(T,b.key,v),v},p.prototype._decodeGeneric=function(d,x,b){const g=this._baseState;return d==="seq"||d==="set"?null:d==="seqof"||d==="setof"?this._decodeList(x,d,g.args[0],b):/str$/.test(d)?this._decodeStr(x,d,b):d==="objid"&&g.args?this._decodeObjid(x,g.args[0],g.args[1],b):d==="objid"?this._decodeObjid(x,null,null,b):d==="gentime"||d==="utctime"?this._decodeTime(x,d,b):d==="null_"?this._decodeNull(x,b):d==="bool"?this._decodeBool(x,b):d==="objDesc"?this._decodeStr(x,d,b):d==="int"||d==="enum"?this._decodeInt(x,g.args&&g.args[0],b):g.use!==null?this._getUse(g.use,x._reporterState.obj)._decode(x,b):x.error("unknown tag: "+d)},p.prototype._getUse=function(d,x){const b=this._baseState;return b.useDecoder=this._use(d,x),c(b.useDecoder._baseState.parent===null),b.useDecoder=b.useDecoder._baseState.children[0],b.implicit!==b.useDecoder._baseState.implicit&&(b.useDecoder=b.useDecoder.clone(),b.useDecoder._baseState.implicit=b.implicit),b.useDecoder},p.prototype._decodeChoice=function(d,x){const b=this._baseState;let g=null,v=!1;return Object.keys(b.choice).some((function(y){const T=d.save(),R=b.choice[y];try{const P=R._decode(d,x);if(d.isError(P))return!1;g={type:y,value:P},v=!0}catch{return d.restore(T),!1}return!0}),this),v?g:d.error("Choice not matched")},p.prototype._createEncoderBuffer=function(d){return new a(d,this.reporter)},p.prototype._encode=function(d,x,b){const g=this._baseState;if(g.default!==null&&g.default===d)return;const v=this._encodeValue(d,x,b);return v===void 0||this._skipDefault(v,x,b)?void 0:v},p.prototype._encodeValue=function(d,x,b){const g=this._baseState;if(g.parent===null)return g.children[0]._encode(d,x||new i);let v=null;if(this.reporter=x,g.optional&&d===void 0){if(g.default===null)return;d=g.default}let y=null,T=!1;if(g.any)v=this._createEncoderBuffer(d);else if(g.choice)v=this._encodeChoice(d,x);else if(g.contains)y=this._getUse(g.contains,b)._encode(d,x),T=!0;else if(g.children)y=g.children.map((function(R){if(R._baseState.tag==="null_")return R._encode(null,x,d);if(R._baseState.key===null)return x.error("Child should have a key");const P=x.enterKey(R._baseState.key);if(typeof d!="object")return x.error("Child expected, but input is not object");const H=R._encode(d[R._baseState.key],x,d);return x.leaveKey(P),H}),this).filter((function(R){return R})),y=this._createEncoderBuffer(y);else if(g.tag==="seqof"||g.tag==="setof"){if(!g.args||g.args.length!==1)return x.error("Too many args for : "+g.tag);if(!Array.isArray(d))return x.error("seqof/setof, but data is not Array");const R=this.clone();R._baseState.implicit=null,y=this._createEncoderBuffer(d.map((function(P){const H=this._baseState;return this._getUse(H.args[0],d)._encode(P,x)}),R))}else g.use!==null?v=this._getUse(g.use,b)._encode(d,x):(y=this._encodePrimitive(g.tag,d),T=!0);if(!g.any&&g.choice===null){const R=g.implicit!==null?g.implicit:g.tag,P=g.implicit===null?"universal":"context";R===null?g.use===null&&x.error("Tag could be omitted only for .use()"):g.use===null&&(v=this._encodeComposite(R,T,P,y))}return g.explicit!==null&&(v=this._encodeComposite(g.explicit,!1,"context",v)),v},p.prototype._encodeChoice=function(d,x){const b=this._baseState,g=b.choice[d.type];return g||c(!1,d.type+" not found in "+JSON.stringify(Object.keys(b.choice))),g._encode(d.value,x)},p.prototype._encodePrimitive=function(d,x){const b=this._baseState;if(/str$/.test(d))return this._encodeStr(x,d);if(d==="objid"&&b.args)return this._encodeObjid(x,b.reverseArgs[0],b.args[1]);if(d==="objid")return this._encodeObjid(x,null,null);if(d==="gentime"||d==="utctime")return this._encodeTime(x,d);if(d==="null_")return this._encodeNull();if(d==="int"||d==="enum")return this._encodeInt(x,b.args&&b.reverseArgs[0]);if(d==="bool")return this._encodeBool(x);if(d==="objDesc")return this._encodeStr(x,d);throw new Error("Unsupported tag: "+d)},p.prototype._isNumstr=function(d){return/^[0-9 ]*$/.test(d)},p.prototype._isPrintstr=function(d){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(d)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(e,n,s){const i=e("inherits");function a(c){this._reporterState={obj:null,path:[],options:c||{},errors:[]}}function l(c,o){this.path=c,this.rethrow(o)}s.Reporter=a,a.prototype.isError=function(c){return c instanceof l},a.prototype.save=function(){const c=this._reporterState;return{obj:c.obj,pathLen:c.path.length}},a.prototype.restore=function(c){const o=this._reporterState;o.obj=c.obj,o.path=o.path.slice(0,c.pathLen)},a.prototype.enterKey=function(c){return this._reporterState.path.push(c)},a.prototype.exitKey=function(c){const o=this._reporterState;o.path=o.path.slice(0,c-1)},a.prototype.leaveKey=function(c,o,u){const p=this._reporterState;this.exitKey(c),p.obj!==null&&(p.obj[o]=u)},a.prototype.path=function(){return this._reporterState.path.join("/")},a.prototype.enterObject=function(){const c=this._reporterState,o=c.obj;return c.obj={},o},a.prototype.leaveObject=function(c){const o=this._reporterState,u=o.obj;return o.obj=c,u},a.prototype.error=function(c){let o;const u=this._reporterState,p=c instanceof l;if(o=p?c:new l(u.path.map((function(h){return"["+JSON.stringify(h)+"]"})).join(""),c.message||c,c.stack),!u.options.partial)throw o;return p||u.errors.push(o),o},a.prototype.wrapResult=function(c){const o=this._reporterState;return o.options.partial?{result:this.isError(c)?null:c,errors:o.errors}:c},i(l,Error),l.prototype.rethrow=function(c){if(this.message=c+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,l),!this.stack)try{throw new Error(this.message)}catch(o){this.stack=o.stack}return this}},{inherits:440}],176:[function(e,n,s){function i(a){const l={};return Object.keys(a).forEach((function(c){(0|c)==c&&(c|=0);const o=a[c];l[o]=c})),l}s.tagClass={0:"universal",1:"application",2:"context",3:"private"},s.tagClassByName=i(s.tagClass),s.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},s.tagByName=i(s.tag)},{}],177:[function(e,n,s){const i=s;i._reverse=function(a){const l={};return Object.keys(a).forEach((function(c){(0|c)==c&&(c|=0);const o=a[c];l[o]=c})),l},i.der=e("./der")},{"./der":176}],178:[function(e,n,s){const i=e("inherits"),a=e("bn.js"),l=e("../base/buffer").DecoderBuffer,c=e("../base/node"),o=e("../constants/der");function u(x){this.enc="der",this.name=x.name,this.entity=x,this.tree=new p,this.tree._init(x.body)}function p(x){c.call(this,"der",x)}function h(x,b){let g=x.readUInt8(b);if(x.isError(g))return g;const v=o.tagClass[g>>6],y=(32&g)==0;if((31&g)==31){let T=g;for(g=0;(128&T)==128;){if(T=x.readUInt8(b),x.isError(T))return T;g<<=7,g|=127&T}}else g&=31;return{cls:v,primitive:y,tag:g,tagStr:o.tag[g]}}function d(x,b,g){let v=x.readUInt8(g);if(x.isError(v))return v;if(!b&&v===128)return null;if((128&v)==0)return v;const y=127&v;if(y>4)return x.error("length octect is too long");v=0;for(let T=0;T<y;T++){v<<=8;const R=x.readUInt8(g);if(x.isError(R))return R;v|=R}return v}n.exports=u,u.prototype.decode=function(x,b){return l.isDecoderBuffer(x)||(x=new l(x,b)),this.tree._decode(x,b)},i(p,c),p.prototype._peekTag=function(x,b,g){if(x.isEmpty())return!1;const v=x.save(),y=h(x,'Failed to peek tag: "'+b+'"');return x.isError(y)?y:(x.restore(v),y.tag===b||y.tagStr===b||y.tagStr+"of"===b||g)},p.prototype._decodeTag=function(x,b,g){const v=h(x,'Failed to decode tag of "'+b+'"');if(x.isError(v))return v;let y=d(x,v.primitive,'Failed to get length of "'+b+'"');if(x.isError(y))return y;if(!g&&v.tag!==b&&v.tagStr!==b&&v.tagStr+"of"!==b)return x.error('Failed to match tag: "'+b+'"');if(v.primitive||y!==null)return x.skip(y,'Failed to match body of: "'+b+'"');const T=x.save(),R=this._skipUntilEnd(x,'Failed to skip indefinite length body: "'+this.tag+'"');return x.isError(R)?R:(y=x.offset-T.offset,x.restore(T),x.skip(y,'Failed to match body of: "'+b+'"'))},p.prototype._skipUntilEnd=function(x,b){for(;;){const g=h(x,b);if(x.isError(g))return g;const v=d(x,g.primitive,b);if(x.isError(v))return v;let y;if(y=g.primitive||v!==null?x.skip(v):this._skipUntilEnd(x,b),x.isError(y))return y;if(g.tagStr==="end")break}},p.prototype._decodeList=function(x,b,g,v){const y=[];for(;!x.isEmpty();){const T=this._peekTag(x,"end");if(x.isError(T))return T;const R=g.decode(x,"der",v);if(x.isError(R)&&T)break;y.push(R)}return y},p.prototype._decodeStr=function(x,b){if(b==="bitstr"){const g=x.readUInt8();return x.isError(g)?g:{unused:g,data:x.raw()}}if(b==="bmpstr"){const g=x.raw();if(g.length%2==1)return x.error("Decoding of string type: bmpstr length mismatch");let v="";for(let y=0;y<g.length/2;y++)v+=String.fromCharCode(g.readUInt16BE(2*y));return v}if(b==="numstr"){const g=x.raw().toString("ascii");return this._isNumstr(g)?g:x.error("Decoding of string type: numstr unsupported characters")}if(b==="octstr"||b==="objDesc")return x.raw();if(b==="printstr"){const g=x.raw().toString("ascii");return this._isPrintstr(g)?g:x.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(b)?x.raw().toString():x.error("Decoding of string type: "+b+" unsupported")},p.prototype._decodeObjid=function(x,b,g){let v;const y=[];let T=0,R=0;for(;!x.isEmpty();)R=x.readUInt8(),T<<=7,T|=127&R,(128&R)==0&&(y.push(T),T=0);128&R&&y.push(T);const P=y[0]/40|0,H=y[0]%40;if(v=g?y:[P,H].concat(y.slice(1)),b){let L=b[v.join(" ")];L===void 0&&(L=b[v.join(".")]),L!==void 0&&(v=L)}return v},p.prototype._decodeTime=function(x,b){const g=x.raw().toString();let v,y,T,R,P,H;if(b==="gentime")v=0|g.slice(0,4),y=0|g.slice(4,6),T=0|g.slice(6,8),R=0|g.slice(8,10),P=0|g.slice(10,12),H=0|g.slice(12,14);else{if(b!=="utctime")return x.error("Decoding "+b+" time is not supported yet");v=0|g.slice(0,2),y=0|g.slice(2,4),T=0|g.slice(4,6),R=0|g.slice(6,8),P=0|g.slice(8,10),H=0|g.slice(10,12),v=v<70?2e3+v:1900+v}return Date.UTC(v,y-1,T,R,P,H,0)},p.prototype._decodeNull=function(){return null},p.prototype._decodeBool=function(x){const b=x.readUInt8();return x.isError(b)?b:b!==0},p.prototype._decodeInt=function(x,b){const g=x.raw();let v=new a(g);return b&&(v=b[v.toString(10)]||v),v},p.prototype._use=function(x,b){return typeof x=="function"&&(x=x(b)),x._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(e,n,s){const i=s;i.der=e("./der"),i.pem=e("./pem")},{"./der":178,"./pem":180}],180:[function(e,n,s){const i=e("inherits"),a=e("safer-buffer").Buffer,l=e("./der");function c(o){l.call(this,o),this.enc="pem"}i(c,l),n.exports=c,c.prototype.decode=function(o,u){const p=o.toString().split(/[\r\n]+/g),h=u.label.toUpperCase(),d=/^-----(BEGIN|END) ([^-]+)-----$/;let x=-1,b=-1;for(let y=0;y<p.length;y++){const T=p[y].match(d);if(T!==null&&T[2]===h){if(x!==-1){if(T[1]!=="END")break;b=y;break}if(T[1]!=="BEGIN")break;x=y}}if(x===-1||b===-1)throw new Error("PEM section not found for: "+h);const g=p.slice(x+1,b).join("");g.replace(/[^a-z0-9+/=]+/gi,"");const v=a.from(g,"base64");return l.prototype.decode.call(this,v,u)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(e,n,s){const i=e("inherits"),a=e("safer-buffer").Buffer,l=e("../base/node"),c=e("../constants/der");function o(h){this.enc="der",this.name=h.name,this.entity=h,this.tree=new u,this.tree._init(h.body)}function u(h){l.call(this,"der",h)}function p(h){return h<10?"0"+h:h}n.exports=o,o.prototype.encode=function(h,d){return this.tree._encode(h,d).join()},i(u,l),u.prototype._encodeComposite=function(h,d,x,b){const g=(function(T,R,P,H){let L;if(T==="seqof"?T="seq":T==="setof"&&(T="set"),c.tagByName.hasOwnProperty(T))L=c.tagByName[T];else{if(typeof T!="number"||(0|T)!==T)return H.error("Unknown tag: "+T);L=T}return L>=31?H.error("Multi-octet tag encoding unsupported"):(R||(L|=32),L|=c.tagClassByName[P||"universal"]<<6,L)})(h,d,x,this.reporter);if(b.length<128){const T=a.alloc(2);return T[0]=g,T[1]=b.length,this._createEncoderBuffer([T,b])}let v=1;for(let T=b.length;T>=256;T>>=8)v++;const y=a.alloc(2+v);y[0]=g,y[1]=128|v;for(let T=1+v,R=b.length;R>0;T--,R>>=8)y[T]=255&R;return this._createEncoderBuffer([y,b])},u.prototype._encodeStr=function(h,d){if(d==="bitstr")return this._createEncoderBuffer([0|h.unused,h.data]);if(d==="bmpstr"){const x=a.alloc(2*h.length);for(let b=0;b<h.length;b++)x.writeUInt16BE(h.charCodeAt(b),2*b);return this._createEncoderBuffer(x)}return d==="numstr"?this._isNumstr(h)?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: numstr supports only digits and space"):d==="printstr"?this._isPrintstr(h)?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(d)||d==="objDesc"?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: "+d+" unsupported")},u.prototype._encodeObjid=function(h,d,x){if(typeof h=="string"){if(!d)return this.reporter.error("string objid given, but no values map found");if(!d.hasOwnProperty(h))return this.reporter.error("objid not found in values map");h=d[h].split(/[\s.]+/g);for(let y=0;y<h.length;y++)h[y]|=0}else if(Array.isArray(h)){h=h.slice();for(let y=0;y<h.length;y++)h[y]|=0}if(!Array.isArray(h))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(h));if(!x){if(h[1]>=40)return this.reporter.error("Second objid identifier OOB");h.splice(0,2,40*h[0]+h[1])}let b=0;for(let y=0;y<h.length;y++){let T=h[y];for(b++;T>=128;T>>=7)b++}const g=a.alloc(b);let v=g.length-1;for(let y=h.length-1;y>=0;y--){let T=h[y];for(g[v--]=127&T;(T>>=7)>0;)g[v--]=128|127&T}return this._createEncoderBuffer(g)},u.prototype._encodeTime=function(h,d){let x;const b=new Date(h);return d==="gentime"?x=[p(b.getUTCFullYear()),p(b.getUTCMonth()+1),p(b.getUTCDate()),p(b.getUTCHours()),p(b.getUTCMinutes()),p(b.getUTCSeconds()),"Z"].join(""):d==="utctime"?x=[p(b.getUTCFullYear()%100),p(b.getUTCMonth()+1),p(b.getUTCDate()),p(b.getUTCHours()),p(b.getUTCMinutes()),p(b.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+d+" time is not supported yet"),this._encodeStr(x,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(h,d){if(typeof h=="string"){if(!d)return this.reporter.error("String int or enum given, but no values map");if(!d.hasOwnProperty(h))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(h));h=d[h]}if(typeof h!="number"&&!a.isBuffer(h)){const g=h.toArray();!h.sign&&128&g[0]&&g.unshift(0),h=a.from(g)}if(a.isBuffer(h)){let g=h.length;h.length===0&&g++;const v=a.alloc(g);return h.copy(v),h.length===0&&(v[0]=0),this._createEncoderBuffer(v)}if(h<128)return this._createEncoderBuffer(h);if(h<256)return this._createEncoderBuffer([0,h]);let x=1;for(let g=h;g>=256;g>>=8)x++;const b=new Array(x);for(let g=b.length-1;g>=0;g--)b[g]=255&h,h>>=8;return 128&b[0]&&b.unshift(0),this._createEncoderBuffer(a.from(b))},u.prototype._encodeBool=function(h){return this._createEncoderBuffer(h?255:0)},u.prototype._use=function(h,d){return typeof h=="function"&&(h=h(d)),h._getEncoder("der").tree},u.prototype._skipDefault=function(h,d,x){const b=this._baseState;let g;if(b.default===null)return!1;const v=h.join();if(b.defaultBuffer===void 0&&(b.defaultBuffer=this._encodeValue(b.default,d,x).join()),v.length!==b.defaultBuffer.length)return!1;for(g=0;g<v.length;g++)if(v[g]!==b.defaultBuffer[g])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(e,n,s){const i=s;i.der=e("./der"),i.pem=e("./pem")},{"./der":181,"./pem":183}],183:[function(e,n,s){const i=e("inherits"),a=e("./der");function l(c){a.call(this,c),this.enc="pem"}i(l,a),n.exports=l,l.prototype.encode=function(c,o){const u=a.prototype.encode.call(this,c).toString("base64"),p=["-----BEGIN "+o.label+"-----"];for(let h=0;h<u.length;h+=64)p.push(u.slice(h,h+64));return p.push("-----END "+o.label+"-----"),p.join(`
`)}},{"./der":181,inherits:440}],184:[function(e,n,s){(function(i,a){function l(N,U){if(!N)throw new Error(U||"Assertion failed")}function c(N,U){N.super_=U;var C=function(){};C.prototype=U.prototype,N.prototype=new C,N.prototype.constructor=N}function o(N,U,C){if(o.isBN(N))return N;this.negative=0,this.words=null,this.length=0,this.red=null,N!==null&&(U!=="le"&&U!=="be"||(C=U,U=10),this._init(N||0,U||10,C||"be"))}var u;typeof i=="object"?i.exports=o:(void 0).BN=o,o.BN=o,o.wordSize=26;try{u=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function p(N,U){var C=N.charCodeAt(U);return C>=65&&C<=70?C-55:C>=97&&C<=102?C-87:C-48&15}function h(N,U,C){var S=p(N,C);return C-1>=U&&(S|=p(N,C-1)<<4),S}function d(N,U,C,S){for(var k=0,E=Math.min(N.length,C),A=U;A<E;A++){var j=N.charCodeAt(A)-48;k*=S,k+=j>=49?j-49+10:j>=17?j-17+10:j}return k}o.isBN=function(N){return N instanceof o||N!==null&&typeof N=="object"&&N.constructor.wordSize===o.wordSize&&Array.isArray(N.words)},o.max=function(N,U){return N.cmp(U)>0?N:U},o.min=function(N,U){return N.cmp(U)<0?N:U},o.prototype._init=function(N,U,C){if(typeof N=="number")return this._initNumber(N,U,C);if(typeof N=="object")return this._initArray(N,U,C);U==="hex"&&(U=16),l(U===(0|U)&&U>=2&&U<=36);var S=0;(N=N.toString().replace(/\s+/g,""))[0]==="-"&&(S++,this.negative=1),S<N.length&&(U===16?this._parseHex(N,S,C):(this._parseBase(N,U,S),C==="le"&&this._initArray(this.toArray(),U,C)))},o.prototype._initNumber=function(N,U,C){N<0&&(this.negative=1,N=-N),N<67108864?(this.words=[67108863&N],this.length=1):N<4503599627370496?(this.words=[67108863&N,N/67108864&67108863],this.length=2):(l(N<9007199254740992),this.words=[67108863&N,N/67108864&67108863,1],this.length=3),C==="le"&&this._initArray(this.toArray(),U,C)},o.prototype._initArray=function(N,U,C){if(l(typeof N.length=="number"),N.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(N.length/3),this.words=new Array(this.length);for(var S=0;S<this.length;S++)this.words[S]=0;var k,E,A=0;if(C==="be")for(S=N.length-1,k=0;S>=0;S-=3)E=N[S]|N[S-1]<<8|N[S-2]<<16,this.words[k]|=E<<A&67108863,this.words[k+1]=E>>>26-A&67108863,(A+=24)>=26&&(A-=26,k++);else if(C==="le")for(S=0,k=0;S<N.length;S+=3)E=N[S]|N[S+1]<<8|N[S+2]<<16,this.words[k]|=E<<A&67108863,this.words[k+1]=E>>>26-A&67108863,(A+=24)>=26&&(A-=26,k++);return this.strip()},o.prototype._parseHex=function(N,U,C){this.length=Math.ceil((N.length-U)/6),this.words=new Array(this.length);for(var S=0;S<this.length;S++)this.words[S]=0;var k,E=0,A=0;if(C==="be")for(S=N.length-1;S>=U;S-=2)k=h(N,U,S)<<E,this.words[A]|=67108863&k,E>=18?(E-=18,A+=1,this.words[A]|=k>>>26):E+=8;else for(S=(N.length-U)%2==0?U+1:U;S<N.length;S+=2)k=h(N,U,S)<<E,this.words[A]|=67108863&k,E>=18?(E-=18,A+=1,this.words[A]|=k>>>26):E+=8;this.strip()},o.prototype._parseBase=function(N,U,C){this.words=[0],this.length=1;for(var S=0,k=1;k<=67108863;k*=U)S++;S--,k=k/U|0;for(var E=N.length-C,A=E%S,j=Math.min(E,E-A)+C,B=0,D=C;D<j;D+=S)B=d(N,D,D+S,U),this.imuln(k),this.words[0]+B<67108864?this.words[0]+=B:this._iaddn(B);if(A!==0){var Q=1;for(B=d(N,D,N.length,U),D=0;D<A;D++)Q*=U;this.imuln(Q),this.words[0]+B<67108864?this.words[0]+=B:this._iaddn(B)}this.strip()},o.prototype.copy=function(N){N.words=new Array(this.length);for(var U=0;U<this.length;U++)N.words[U]=this.words[U];N.length=this.length,N.negative=this.negative,N.red=this.red},o.prototype.clone=function(){var N=new o(null);return this.copy(N),N},o.prototype._expand=function(N){for(;this.length<N;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var x=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function v(N,U,C){C.negative=U.negative^N.negative;var S=N.length+U.length|0;C.length=S,S=S-1|0;var k=0|N.words[0],E=0|U.words[0],A=k*E,j=67108863&A,B=A/67108864|0;C.words[0]=j;for(var D=1;D<S;D++){for(var Q=B>>>26,K=67108863&B,ee=Math.min(D,U.length-1),W=Math.max(0,D-N.length+1);W<=ee;W++){var te=D-W|0;Q+=(A=(k=0|N.words[te])*(E=0|U.words[W])+K)/67108864|0,K=67108863&A}C.words[D]=0|K,B=0|Q}return B!==0?C.words[D]=0|B:C.length--,C.strip()}o.prototype.toString=function(N,U){var C;if(U=0|U||1,(N=N||10)===16||N==="hex"){C="";for(var S=0,k=0,E=0;E<this.length;E++){var A=this.words[E],j=(16777215&(A<<S|k)).toString(16);C=(k=A>>>24-S&16777215)!==0||E!==this.length-1?x[6-j.length]+j+C:j+C,(S+=2)>=26&&(S-=26,E--)}for(k!==0&&(C=k.toString(16)+C);C.length%U!=0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}if(N===(0|N)&&N>=2&&N<=36){var B=b[N],D=g[N];C="";var Q=this.clone();for(Q.negative=0;!Q.isZero();){var K=Q.modn(D).toString(N);C=(Q=Q.idivn(D)).isZero()?K+C:x[B-K.length]+K+C}for(this.isZero()&&(C="0"+C);C.length%U!=0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}l(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var N=this.words[0];return this.length===2?N+=67108864*this.words[1]:this.length===3&&this.words[2]===1?N+=4503599627370496+67108864*this.words[1]:this.length>2&&l(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-N:N},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(N,U){return l(u!==void 0),this.toArrayLike(u,N,U)},o.prototype.toArray=function(N,U){return this.toArrayLike(Array,N,U)},o.prototype.toArrayLike=function(N,U,C){var S=this.byteLength(),k=C||Math.max(1,S);l(S<=k,"byte array longer than desired length"),l(k>0,"Requested array length <= 0"),this.strip();var E,A,j=U==="le",B=new N(k),D=this.clone();if(j){for(A=0;!D.isZero();A++)E=D.andln(255),D.iushrn(8),B[A]=E;for(;A<k;A++)B[A]=0}else{for(A=0;A<k-S;A++)B[A]=0;for(A=0;!D.isZero();A++)E=D.andln(255),D.iushrn(8),B[k-A-1]=E}return B},Math.clz32?o.prototype._countBits=function(N){return 32-Math.clz32(N)}:o.prototype._countBits=function(N){var U=N,C=0;return U>=4096&&(C+=13,U>>>=13),U>=64&&(C+=7,U>>>=7),U>=8&&(C+=4,U>>>=4),U>=2&&(C+=2,U>>>=2),C+U},o.prototype._zeroBits=function(N){if(N===0)return 26;var U=N,C=0;return(8191&U)==0&&(C+=13,U>>>=13),(127&U)==0&&(C+=7,U>>>=7),(15&U)==0&&(C+=4,U>>>=4),(3&U)==0&&(C+=2,U>>>=2),(1&U)==0&&C++,C},o.prototype.bitLength=function(){var N=this.words[this.length-1],U=this._countBits(N);return 26*(this.length-1)+U},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var N=0,U=0;U<this.length;U++){var C=this._zeroBits(this.words[U]);if(N+=C,C!==26)break}return N},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(N){return this.negative!==0?this.abs().inotn(N).iaddn(1):this.clone()},o.prototype.fromTwos=function(N){return this.testn(N-1)?this.notn(N).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(N){for(;this.length<N.length;)this.words[this.length++]=0;for(var U=0;U<N.length;U++)this.words[U]=this.words[U]|N.words[U];return this.strip()},o.prototype.ior=function(N){return l((this.negative|N.negative)==0),this.iuor(N)},o.prototype.or=function(N){return this.length>N.length?this.clone().ior(N):N.clone().ior(this)},o.prototype.uor=function(N){return this.length>N.length?this.clone().iuor(N):N.clone().iuor(this)},o.prototype.iuand=function(N){var U;U=this.length>N.length?N:this;for(var C=0;C<U.length;C++)this.words[C]=this.words[C]&N.words[C];return this.length=U.length,this.strip()},o.prototype.iand=function(N){return l((this.negative|N.negative)==0),this.iuand(N)},o.prototype.and=function(N){return this.length>N.length?this.clone().iand(N):N.clone().iand(this)},o.prototype.uand=function(N){return this.length>N.length?this.clone().iuand(N):N.clone().iuand(this)},o.prototype.iuxor=function(N){var U,C;this.length>N.length?(U=this,C=N):(U=N,C=this);for(var S=0;S<C.length;S++)this.words[S]=U.words[S]^C.words[S];if(this!==U)for(;S<U.length;S++)this.words[S]=U.words[S];return this.length=U.length,this.strip()},o.prototype.ixor=function(N){return l((this.negative|N.negative)==0),this.iuxor(N)},o.prototype.xor=function(N){return this.length>N.length?this.clone().ixor(N):N.clone().ixor(this)},o.prototype.uxor=function(N){return this.length>N.length?this.clone().iuxor(N):N.clone().iuxor(this)},o.prototype.inotn=function(N){l(typeof N=="number"&&N>=0);var U=0|Math.ceil(N/26),C=N%26;this._expand(U),C>0&&U--;for(var S=0;S<U;S++)this.words[S]=67108863&~this.words[S];return C>0&&(this.words[S]=~this.words[S]&67108863>>26-C),this.strip()},o.prototype.notn=function(N){return this.clone().inotn(N)},o.prototype.setn=function(N,U){l(typeof N=="number"&&N>=0);var C=N/26|0,S=N%26;return this._expand(C+1),this.words[C]=U?this.words[C]|1<<S:this.words[C]&~(1<<S),this.strip()},o.prototype.iadd=function(N){var U,C,S;if(this.negative!==0&&N.negative===0)return this.negative=0,U=this.isub(N),this.negative^=1,this._normSign();if(this.negative===0&&N.negative!==0)return N.negative=0,U=this.isub(N),N.negative=1,U._normSign();this.length>N.length?(C=this,S=N):(C=N,S=this);for(var k=0,E=0;E<S.length;E++)U=(0|C.words[E])+(0|S.words[E])+k,this.words[E]=67108863&U,k=U>>>26;for(;k!==0&&E<C.length;E++)U=(0|C.words[E])+k,this.words[E]=67108863&U,k=U>>>26;if(this.length=C.length,k!==0)this.words[this.length]=k,this.length++;else if(C!==this)for(;E<C.length;E++)this.words[E]=C.words[E];return this},o.prototype.add=function(N){var U;return N.negative!==0&&this.negative===0?(N.negative=0,U=this.sub(N),N.negative^=1,U):N.negative===0&&this.negative!==0?(this.negative=0,U=N.sub(this),this.negative=1,U):this.length>N.length?this.clone().iadd(N):N.clone().iadd(this)},o.prototype.isub=function(N){if(N.negative!==0){N.negative=0;var U=this.iadd(N);return N.negative=1,U._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(N),this.negative=1,this._normSign();var C,S,k=this.cmp(N);if(k===0)return this.negative=0,this.length=1,this.words[0]=0,this;k>0?(C=this,S=N):(C=N,S=this);for(var E=0,A=0;A<S.length;A++)E=(U=(0|C.words[A])-(0|S.words[A])+E)>>26,this.words[A]=67108863&U;for(;E!==0&&A<C.length;A++)E=(U=(0|C.words[A])+E)>>26,this.words[A]=67108863&U;if(E===0&&A<C.length&&C!==this)for(;A<C.length;A++)this.words[A]=C.words[A];return this.length=Math.max(this.length,A),C!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(N){return this.clone().isub(N)};var y=function(N,U,C){var S,k,E,A=N.words,j=U.words,B=C.words,D=0,Q=0|A[0],K=8191&Q,ee=Q>>>13,W=0|A[1],te=8191&W,G=W>>>13,V=0|A[2],Z=8191&V,ae=V>>>13,re=0|A[3],oe=8191&re,he=re>>>13,Se=0|A[4],ge=8191&Se,ne=Se>>>13,fe=0|A[5],pe=8191&fe,ke=fe>>>13,Ce=0|A[6],Fe=8191&Ce,We=Ce>>>13,$e=0|A[7],it=8191&$e,st=$e>>>13,et=0|A[8],Ze=8191&et,gt=et>>>13,mt=0|A[9],Me=8191&mt,Ue=mt>>>13,Ee=0|j[0],Oe=8191&Ee,ct=Ee>>>13,Be=0|j[1],Ye=8191&Be,je=Be>>>13,He=0|j[2],Te=8191&He,rt=He>>>13,Re=0|j[3],Ae=8191&Re,at=Re>>>13,pt=0|j[4],lt=8191&pt,Rt=pt>>>13,jt=0|j[5],Ct=8191&jt,Mt=jt>>>13,Dt=0|j[6],Nt=8191&Dt,Ie=Dt>>>13,Ge=0|j[7],ut=8191&Ge,le=Ge>>>13,ye=0|j[8],ue=8191&ye,de=ye>>>13,be=0|j[9],xe=8191&be,De=be>>>13;C.negative=N.negative^U.negative,C.length=19;var Ve=(D+(S=Math.imul(K,Oe))|0)+((8191&(k=(k=Math.imul(K,ct))+Math.imul(ee,Oe)|0))<<13)|0;D=((E=Math.imul(ee,ct))+(k>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,S=Math.imul(te,Oe),k=(k=Math.imul(te,ct))+Math.imul(G,Oe)|0,E=Math.imul(G,ct);var Pe=(D+(S=S+Math.imul(K,Ye)|0)|0)+((8191&(k=(k=k+Math.imul(K,je)|0)+Math.imul(ee,Ye)|0))<<13)|0;D=((E=E+Math.imul(ee,je)|0)+(k>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,S=Math.imul(Z,Oe),k=(k=Math.imul(Z,ct))+Math.imul(ae,Oe)|0,E=Math.imul(ae,ct),S=S+Math.imul(te,Ye)|0,k=(k=k+Math.imul(te,je)|0)+Math.imul(G,Ye)|0,E=E+Math.imul(G,je)|0;var qe=(D+(S=S+Math.imul(K,Te)|0)|0)+((8191&(k=(k=k+Math.imul(K,rt)|0)+Math.imul(ee,Te)|0))<<13)|0;D=((E=E+Math.imul(ee,rt)|0)+(k>>>13)|0)+(qe>>>26)|0,qe&=67108863,S=Math.imul(oe,Oe),k=(k=Math.imul(oe,ct))+Math.imul(he,Oe)|0,E=Math.imul(he,ct),S=S+Math.imul(Z,Ye)|0,k=(k=k+Math.imul(Z,je)|0)+Math.imul(ae,Ye)|0,E=E+Math.imul(ae,je)|0,S=S+Math.imul(te,Te)|0,k=(k=k+Math.imul(te,rt)|0)+Math.imul(G,Te)|0,E=E+Math.imul(G,rt)|0;var Xe=(D+(S=S+Math.imul(K,Ae)|0)|0)+((8191&(k=(k=k+Math.imul(K,at)|0)+Math.imul(ee,Ae)|0))<<13)|0;D=((E=E+Math.imul(ee,at)|0)+(k>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,S=Math.imul(ge,Oe),k=(k=Math.imul(ge,ct))+Math.imul(ne,Oe)|0,E=Math.imul(ne,ct),S=S+Math.imul(oe,Ye)|0,k=(k=k+Math.imul(oe,je)|0)+Math.imul(he,Ye)|0,E=E+Math.imul(he,je)|0,S=S+Math.imul(Z,Te)|0,k=(k=k+Math.imul(Z,rt)|0)+Math.imul(ae,Te)|0,E=E+Math.imul(ae,rt)|0,S=S+Math.imul(te,Ae)|0,k=(k=k+Math.imul(te,at)|0)+Math.imul(G,Ae)|0,E=E+Math.imul(G,at)|0;var yt=(D+(S=S+Math.imul(K,lt)|0)|0)+((8191&(k=(k=k+Math.imul(K,Rt)|0)+Math.imul(ee,lt)|0))<<13)|0;D=((E=E+Math.imul(ee,Rt)|0)+(k>>>13)|0)+(yt>>>26)|0,yt&=67108863,S=Math.imul(pe,Oe),k=(k=Math.imul(pe,ct))+Math.imul(ke,Oe)|0,E=Math.imul(ke,ct),S=S+Math.imul(ge,Ye)|0,k=(k=k+Math.imul(ge,je)|0)+Math.imul(ne,Ye)|0,E=E+Math.imul(ne,je)|0,S=S+Math.imul(oe,Te)|0,k=(k=k+Math.imul(oe,rt)|0)+Math.imul(he,Te)|0,E=E+Math.imul(he,rt)|0,S=S+Math.imul(Z,Ae)|0,k=(k=k+Math.imul(Z,at)|0)+Math.imul(ae,Ae)|0,E=E+Math.imul(ae,at)|0,S=S+Math.imul(te,lt)|0,k=(k=k+Math.imul(te,Rt)|0)+Math.imul(G,lt)|0,E=E+Math.imul(G,Rt)|0;var St=(D+(S=S+Math.imul(K,Ct)|0)|0)+((8191&(k=(k=k+Math.imul(K,Mt)|0)+Math.imul(ee,Ct)|0))<<13)|0;D=((E=E+Math.imul(ee,Mt)|0)+(k>>>13)|0)+(St>>>26)|0,St&=67108863,S=Math.imul(Fe,Oe),k=(k=Math.imul(Fe,ct))+Math.imul(We,Oe)|0,E=Math.imul(We,ct),S=S+Math.imul(pe,Ye)|0,k=(k=k+Math.imul(pe,je)|0)+Math.imul(ke,Ye)|0,E=E+Math.imul(ke,je)|0,S=S+Math.imul(ge,Te)|0,k=(k=k+Math.imul(ge,rt)|0)+Math.imul(ne,Te)|0,E=E+Math.imul(ne,rt)|0,S=S+Math.imul(oe,Ae)|0,k=(k=k+Math.imul(oe,at)|0)+Math.imul(he,Ae)|0,E=E+Math.imul(he,at)|0,S=S+Math.imul(Z,lt)|0,k=(k=k+Math.imul(Z,Rt)|0)+Math.imul(ae,lt)|0,E=E+Math.imul(ae,Rt)|0,S=S+Math.imul(te,Ct)|0,k=(k=k+Math.imul(te,Mt)|0)+Math.imul(G,Ct)|0,E=E+Math.imul(G,Mt)|0;var kt=(D+(S=S+Math.imul(K,Nt)|0)|0)+((8191&(k=(k=k+Math.imul(K,Ie)|0)+Math.imul(ee,Nt)|0))<<13)|0;D=((E=E+Math.imul(ee,Ie)|0)+(k>>>13)|0)+(kt>>>26)|0,kt&=67108863,S=Math.imul(it,Oe),k=(k=Math.imul(it,ct))+Math.imul(st,Oe)|0,E=Math.imul(st,ct),S=S+Math.imul(Fe,Ye)|0,k=(k=k+Math.imul(Fe,je)|0)+Math.imul(We,Ye)|0,E=E+Math.imul(We,je)|0,S=S+Math.imul(pe,Te)|0,k=(k=k+Math.imul(pe,rt)|0)+Math.imul(ke,Te)|0,E=E+Math.imul(ke,rt)|0,S=S+Math.imul(ge,Ae)|0,k=(k=k+Math.imul(ge,at)|0)+Math.imul(ne,Ae)|0,E=E+Math.imul(ne,at)|0,S=S+Math.imul(oe,lt)|0,k=(k=k+Math.imul(oe,Rt)|0)+Math.imul(he,lt)|0,E=E+Math.imul(he,Rt)|0,S=S+Math.imul(Z,Ct)|0,k=(k=k+Math.imul(Z,Mt)|0)+Math.imul(ae,Ct)|0,E=E+Math.imul(ae,Mt)|0,S=S+Math.imul(te,Nt)|0,k=(k=k+Math.imul(te,Ie)|0)+Math.imul(G,Nt)|0,E=E+Math.imul(G,Ie)|0;var me=(D+(S=S+Math.imul(K,ut)|0)|0)+((8191&(k=(k=k+Math.imul(K,le)|0)+Math.imul(ee,ut)|0))<<13)|0;D=((E=E+Math.imul(ee,le)|0)+(k>>>13)|0)+(me>>>26)|0,me&=67108863,S=Math.imul(Ze,Oe),k=(k=Math.imul(Ze,ct))+Math.imul(gt,Oe)|0,E=Math.imul(gt,ct),S=S+Math.imul(it,Ye)|0,k=(k=k+Math.imul(it,je)|0)+Math.imul(st,Ye)|0,E=E+Math.imul(st,je)|0,S=S+Math.imul(Fe,Te)|0,k=(k=k+Math.imul(Fe,rt)|0)+Math.imul(We,Te)|0,E=E+Math.imul(We,rt)|0,S=S+Math.imul(pe,Ae)|0,k=(k=k+Math.imul(pe,at)|0)+Math.imul(ke,Ae)|0,E=E+Math.imul(ke,at)|0,S=S+Math.imul(ge,lt)|0,k=(k=k+Math.imul(ge,Rt)|0)+Math.imul(ne,lt)|0,E=E+Math.imul(ne,Rt)|0,S=S+Math.imul(oe,Ct)|0,k=(k=k+Math.imul(oe,Mt)|0)+Math.imul(he,Ct)|0,E=E+Math.imul(he,Mt)|0,S=S+Math.imul(Z,Nt)|0,k=(k=k+Math.imul(Z,Ie)|0)+Math.imul(ae,Nt)|0,E=E+Math.imul(ae,Ie)|0,S=S+Math.imul(te,ut)|0,k=(k=k+Math.imul(te,le)|0)+Math.imul(G,ut)|0,E=E+Math.imul(G,le)|0;var Ne=(D+(S=S+Math.imul(K,ue)|0)|0)+((8191&(k=(k=k+Math.imul(K,de)|0)+Math.imul(ee,ue)|0))<<13)|0;D=((E=E+Math.imul(ee,de)|0)+(k>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,S=Math.imul(Me,Oe),k=(k=Math.imul(Me,ct))+Math.imul(Ue,Oe)|0,E=Math.imul(Ue,ct),S=S+Math.imul(Ze,Ye)|0,k=(k=k+Math.imul(Ze,je)|0)+Math.imul(gt,Ye)|0,E=E+Math.imul(gt,je)|0,S=S+Math.imul(it,Te)|0,k=(k=k+Math.imul(it,rt)|0)+Math.imul(st,Te)|0,E=E+Math.imul(st,rt)|0,S=S+Math.imul(Fe,Ae)|0,k=(k=k+Math.imul(Fe,at)|0)+Math.imul(We,Ae)|0,E=E+Math.imul(We,at)|0,S=S+Math.imul(pe,lt)|0,k=(k=k+Math.imul(pe,Rt)|0)+Math.imul(ke,lt)|0,E=E+Math.imul(ke,Rt)|0,S=S+Math.imul(ge,Ct)|0,k=(k=k+Math.imul(ge,Mt)|0)+Math.imul(ne,Ct)|0,E=E+Math.imul(ne,Mt)|0,S=S+Math.imul(oe,Nt)|0,k=(k=k+Math.imul(oe,Ie)|0)+Math.imul(he,Nt)|0,E=E+Math.imul(he,Ie)|0,S=S+Math.imul(Z,ut)|0,k=(k=k+Math.imul(Z,le)|0)+Math.imul(ae,ut)|0,E=E+Math.imul(ae,le)|0,S=S+Math.imul(te,ue)|0,k=(k=k+Math.imul(te,de)|0)+Math.imul(G,ue)|0,E=E+Math.imul(G,de)|0;var Ke=(D+(S=S+Math.imul(K,xe)|0)|0)+((8191&(k=(k=k+Math.imul(K,De)|0)+Math.imul(ee,xe)|0))<<13)|0;D=((E=E+Math.imul(ee,De)|0)+(k>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,S=Math.imul(Me,Ye),k=(k=Math.imul(Me,je))+Math.imul(Ue,Ye)|0,E=Math.imul(Ue,je),S=S+Math.imul(Ze,Te)|0,k=(k=k+Math.imul(Ze,rt)|0)+Math.imul(gt,Te)|0,E=E+Math.imul(gt,rt)|0,S=S+Math.imul(it,Ae)|0,k=(k=k+Math.imul(it,at)|0)+Math.imul(st,Ae)|0,E=E+Math.imul(st,at)|0,S=S+Math.imul(Fe,lt)|0,k=(k=k+Math.imul(Fe,Rt)|0)+Math.imul(We,lt)|0,E=E+Math.imul(We,Rt)|0,S=S+Math.imul(pe,Ct)|0,k=(k=k+Math.imul(pe,Mt)|0)+Math.imul(ke,Ct)|0,E=E+Math.imul(ke,Mt)|0,S=S+Math.imul(ge,Nt)|0,k=(k=k+Math.imul(ge,Ie)|0)+Math.imul(ne,Nt)|0,E=E+Math.imul(ne,Ie)|0,S=S+Math.imul(oe,ut)|0,k=(k=k+Math.imul(oe,le)|0)+Math.imul(he,ut)|0,E=E+Math.imul(he,le)|0,S=S+Math.imul(Z,ue)|0,k=(k=k+Math.imul(Z,de)|0)+Math.imul(ae,ue)|0,E=E+Math.imul(ae,de)|0;var dt=(D+(S=S+Math.imul(te,xe)|0)|0)+((8191&(k=(k=k+Math.imul(te,De)|0)+Math.imul(G,xe)|0))<<13)|0;D=((E=E+Math.imul(G,De)|0)+(k>>>13)|0)+(dt>>>26)|0,dt&=67108863,S=Math.imul(Me,Te),k=(k=Math.imul(Me,rt))+Math.imul(Ue,Te)|0,E=Math.imul(Ue,rt),S=S+Math.imul(Ze,Ae)|0,k=(k=k+Math.imul(Ze,at)|0)+Math.imul(gt,Ae)|0,E=E+Math.imul(gt,at)|0,S=S+Math.imul(it,lt)|0,k=(k=k+Math.imul(it,Rt)|0)+Math.imul(st,lt)|0,E=E+Math.imul(st,Rt)|0,S=S+Math.imul(Fe,Ct)|0,k=(k=k+Math.imul(Fe,Mt)|0)+Math.imul(We,Ct)|0,E=E+Math.imul(We,Mt)|0,S=S+Math.imul(pe,Nt)|0,k=(k=k+Math.imul(pe,Ie)|0)+Math.imul(ke,Nt)|0,E=E+Math.imul(ke,Ie)|0,S=S+Math.imul(ge,ut)|0,k=(k=k+Math.imul(ge,le)|0)+Math.imul(ne,ut)|0,E=E+Math.imul(ne,le)|0,S=S+Math.imul(oe,ue)|0,k=(k=k+Math.imul(oe,de)|0)+Math.imul(he,ue)|0,E=E+Math.imul(he,de)|0;var Et=(D+(S=S+Math.imul(Z,xe)|0)|0)+((8191&(k=(k=k+Math.imul(Z,De)|0)+Math.imul(ae,xe)|0))<<13)|0;D=((E=E+Math.imul(ae,De)|0)+(k>>>13)|0)+(Et>>>26)|0,Et&=67108863,S=Math.imul(Me,Ae),k=(k=Math.imul(Me,at))+Math.imul(Ue,Ae)|0,E=Math.imul(Ue,at),S=S+Math.imul(Ze,lt)|0,k=(k=k+Math.imul(Ze,Rt)|0)+Math.imul(gt,lt)|0,E=E+Math.imul(gt,Rt)|0,S=S+Math.imul(it,Ct)|0,k=(k=k+Math.imul(it,Mt)|0)+Math.imul(st,Ct)|0,E=E+Math.imul(st,Mt)|0,S=S+Math.imul(Fe,Nt)|0,k=(k=k+Math.imul(Fe,Ie)|0)+Math.imul(We,Nt)|0,E=E+Math.imul(We,Ie)|0,S=S+Math.imul(pe,ut)|0,k=(k=k+Math.imul(pe,le)|0)+Math.imul(ke,ut)|0,E=E+Math.imul(ke,le)|0,S=S+Math.imul(ge,ue)|0,k=(k=k+Math.imul(ge,de)|0)+Math.imul(ne,ue)|0,E=E+Math.imul(ne,de)|0;var xt=(D+(S=S+Math.imul(oe,xe)|0)|0)+((8191&(k=(k=k+Math.imul(oe,De)|0)+Math.imul(he,xe)|0))<<13)|0;D=((E=E+Math.imul(he,De)|0)+(k>>>13)|0)+(xt>>>26)|0,xt&=67108863,S=Math.imul(Me,lt),k=(k=Math.imul(Me,Rt))+Math.imul(Ue,lt)|0,E=Math.imul(Ue,Rt),S=S+Math.imul(Ze,Ct)|0,k=(k=k+Math.imul(Ze,Mt)|0)+Math.imul(gt,Ct)|0,E=E+Math.imul(gt,Mt)|0,S=S+Math.imul(it,Nt)|0,k=(k=k+Math.imul(it,Ie)|0)+Math.imul(st,Nt)|0,E=E+Math.imul(st,Ie)|0,S=S+Math.imul(Fe,ut)|0,k=(k=k+Math.imul(Fe,le)|0)+Math.imul(We,ut)|0,E=E+Math.imul(We,le)|0,S=S+Math.imul(pe,ue)|0,k=(k=k+Math.imul(pe,de)|0)+Math.imul(ke,ue)|0,E=E+Math.imul(ke,de)|0;var At=(D+(S=S+Math.imul(ge,xe)|0)|0)+((8191&(k=(k=k+Math.imul(ge,De)|0)+Math.imul(ne,xe)|0))<<13)|0;D=((E=E+Math.imul(ne,De)|0)+(k>>>13)|0)+(At>>>26)|0,At&=67108863,S=Math.imul(Me,Ct),k=(k=Math.imul(Me,Mt))+Math.imul(Ue,Ct)|0,E=Math.imul(Ue,Mt),S=S+Math.imul(Ze,Nt)|0,k=(k=k+Math.imul(Ze,Ie)|0)+Math.imul(gt,Nt)|0,E=E+Math.imul(gt,Ie)|0,S=S+Math.imul(it,ut)|0,k=(k=k+Math.imul(it,le)|0)+Math.imul(st,ut)|0,E=E+Math.imul(st,le)|0,S=S+Math.imul(Fe,ue)|0,k=(k=k+Math.imul(Fe,de)|0)+Math.imul(We,ue)|0,E=E+Math.imul(We,de)|0;var Qt=(D+(S=S+Math.imul(pe,xe)|0)|0)+((8191&(k=(k=k+Math.imul(pe,De)|0)+Math.imul(ke,xe)|0))<<13)|0;D=((E=E+Math.imul(ke,De)|0)+(k>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,S=Math.imul(Me,Nt),k=(k=Math.imul(Me,Ie))+Math.imul(Ue,Nt)|0,E=Math.imul(Ue,Ie),S=S+Math.imul(Ze,ut)|0,k=(k=k+Math.imul(Ze,le)|0)+Math.imul(gt,ut)|0,E=E+Math.imul(gt,le)|0,S=S+Math.imul(it,ue)|0,k=(k=k+Math.imul(it,de)|0)+Math.imul(st,ue)|0,E=E+Math.imul(st,de)|0;var qt=(D+(S=S+Math.imul(Fe,xe)|0)|0)+((8191&(k=(k=k+Math.imul(Fe,De)|0)+Math.imul(We,xe)|0))<<13)|0;D=((E=E+Math.imul(We,De)|0)+(k>>>13)|0)+(qt>>>26)|0,qt&=67108863,S=Math.imul(Me,ut),k=(k=Math.imul(Me,le))+Math.imul(Ue,ut)|0,E=Math.imul(Ue,le),S=S+Math.imul(Ze,ue)|0,k=(k=k+Math.imul(Ze,de)|0)+Math.imul(gt,ue)|0,E=E+Math.imul(gt,de)|0;var Gt=(D+(S=S+Math.imul(it,xe)|0)|0)+((8191&(k=(k=k+Math.imul(it,De)|0)+Math.imul(st,xe)|0))<<13)|0;D=((E=E+Math.imul(st,De)|0)+(k>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,S=Math.imul(Me,ue),k=(k=Math.imul(Me,de))+Math.imul(Ue,ue)|0,E=Math.imul(Ue,de);var Ut=(D+(S=S+Math.imul(Ze,xe)|0)|0)+((8191&(k=(k=k+Math.imul(Ze,De)|0)+Math.imul(gt,xe)|0))<<13)|0;D=((E=E+Math.imul(gt,De)|0)+(k>>>13)|0)+(Ut>>>26)|0,Ut&=67108863;var Jt=(D+(S=Math.imul(Me,xe))|0)+((8191&(k=(k=Math.imul(Me,De))+Math.imul(Ue,xe)|0))<<13)|0;return D=((E=Math.imul(Ue,De))+(k>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,B[0]=Ve,B[1]=Pe,B[2]=qe,B[3]=Xe,B[4]=yt,B[5]=St,B[6]=kt,B[7]=me,B[8]=Ne,B[9]=Ke,B[10]=dt,B[11]=Et,B[12]=xt,B[13]=At,B[14]=Qt,B[15]=qt,B[16]=Gt,B[17]=Ut,B[18]=Jt,D!==0&&(B[19]=D,C.length++),C};function T(N,U,C){return new R().mulp(N,U,C)}function R(N,U){this.x=N,this.y=U}Math.imul||(y=v),o.prototype.mulTo=function(N,U){var C=this.length+N.length;return this.length===10&&N.length===10?y(this,N,U):C<63?v(this,N,U):C<1024?(function(S,k,E){E.negative=k.negative^S.negative,E.length=S.length+k.length;for(var A=0,j=0,B=0;B<E.length-1;B++){var D=j;j=0;for(var Q=67108863&A,K=Math.min(B,k.length-1),ee=Math.max(0,B-S.length+1);ee<=K;ee++){var W=B-ee,te=(0|S.words[W])*(0|k.words[ee]),G=67108863&te;Q=67108863&(G=G+Q|0),j+=(D=(D=D+(te/67108864|0)|0)+(G>>>26)|0)>>>26,D&=67108863}E.words[B]=Q,A=D,D=j}return A!==0?E.words[B]=A:E.length--,E.strip()})(this,N,U):T(this,N,U)},R.prototype.makeRBT=function(N){for(var U=new Array(N),C=o.prototype._countBits(N)-1,S=0;S<N;S++)U[S]=this.revBin(S,C,N);return U},R.prototype.revBin=function(N,U,C){if(N===0||N===C-1)return N;for(var S=0,k=0;k<U;k++)S|=(1&N)<<U-k-1,N>>=1;return S},R.prototype.permute=function(N,U,C,S,k,E){for(var A=0;A<E;A++)S[A]=U[N[A]],k[A]=C[N[A]]},R.prototype.transform=function(N,U,C,S,k,E){this.permute(E,N,U,C,S,k);for(var A=1;A<k;A<<=1)for(var j=A<<1,B=Math.cos(2*Math.PI/j),D=Math.sin(2*Math.PI/j),Q=0;Q<k;Q+=j)for(var K=B,ee=D,W=0;W<A;W++){var te=C[Q+W],G=S[Q+W],V=C[Q+W+A],Z=S[Q+W+A],ae=K*V-ee*Z;Z=K*Z+ee*V,V=ae,C[Q+W]=te+V,S[Q+W]=G+Z,C[Q+W+A]=te-V,S[Q+W+A]=G-Z,W!==j&&(ae=B*K-D*ee,ee=B*ee+D*K,K=ae)}},R.prototype.guessLen13b=function(N,U){var C=1|Math.max(U,N),S=1&C,k=0;for(C=C/2|0;C;C>>>=1)k++;return 1<<k+1+S},R.prototype.conjugate=function(N,U,C){if(!(C<=1))for(var S=0;S<C/2;S++){var k=N[S];N[S]=N[C-S-1],N[C-S-1]=k,k=U[S],U[S]=-U[C-S-1],U[C-S-1]=-k}},R.prototype.normalize13b=function(N,U){for(var C=0,S=0;S<U/2;S++){var k=8192*Math.round(N[2*S+1]/U)+Math.round(N[2*S]/U)+C;N[S]=67108863&k,C=k<67108864?0:k/67108864|0}return N},R.prototype.convert13b=function(N,U,C,S){for(var k=0,E=0;E<U;E++)k+=0|N[E],C[2*E]=8191&k,k>>>=13,C[2*E+1]=8191&k,k>>>=13;for(E=2*U;E<S;++E)C[E]=0;l(k===0),l((-8192&k)==0)},R.prototype.stub=function(N){for(var U=new Array(N),C=0;C<N;C++)U[C]=0;return U},R.prototype.mulp=function(N,U,C){var S=2*this.guessLen13b(N.length,U.length),k=this.makeRBT(S),E=this.stub(S),A=new Array(S),j=new Array(S),B=new Array(S),D=new Array(S),Q=new Array(S),K=new Array(S),ee=C.words;ee.length=S,this.convert13b(N.words,N.length,A,S),this.convert13b(U.words,U.length,D,S),this.transform(A,E,j,B,S,k),this.transform(D,E,Q,K,S,k);for(var W=0;W<S;W++){var te=j[W]*Q[W]-B[W]*K[W];B[W]=j[W]*K[W]+B[W]*Q[W],j[W]=te}return this.conjugate(j,B,S),this.transform(j,B,ee,E,S,k),this.conjugate(ee,E,S),this.normalize13b(ee,S),C.negative=N.negative^U.negative,C.length=N.length+U.length,C.strip()},o.prototype.mul=function(N){var U=new o(null);return U.words=new Array(this.length+N.length),this.mulTo(N,U)},o.prototype.mulf=function(N){var U=new o(null);return U.words=new Array(this.length+N.length),T(this,N,U)},o.prototype.imul=function(N){return this.clone().mulTo(N,this)},o.prototype.imuln=function(N){l(typeof N=="number"),l(N<67108864);for(var U=0,C=0;C<this.length;C++){var S=(0|this.words[C])*N,k=(67108863&S)+(67108863&U);U>>=26,U+=S/67108864|0,U+=k>>>26,this.words[C]=67108863&k}return U!==0&&(this.words[C]=U,this.length++),this},o.prototype.muln=function(N){return this.clone().imuln(N)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(N){var U=(function(E){for(var A=new Array(E.bitLength()),j=0;j<A.length;j++){var B=j/26|0,D=j%26;A[j]=(E.words[B]&1<<D)>>>D}return A})(N);if(U.length===0)return new o(1);for(var C=this,S=0;S<U.length&&U[S]===0;S++,C=C.sqr());if(++S<U.length)for(var k=C.sqr();S<U.length;S++,k=k.sqr())U[S]!==0&&(C=C.mul(k));return C},o.prototype.iushln=function(N){l(typeof N=="number"&&N>=0);var U,C=N%26,S=(N-C)/26,k=67108863>>>26-C<<26-C;if(C!==0){var E=0;for(U=0;U<this.length;U++){var A=this.words[U]&k,j=(0|this.words[U])-A<<C;this.words[U]=j|E,E=A>>>26-C}E&&(this.words[U]=E,this.length++)}if(S!==0){for(U=this.length-1;U>=0;U--)this.words[U+S]=this.words[U];for(U=0;U<S;U++)this.words[U]=0;this.length+=S}return this.strip()},o.prototype.ishln=function(N){return l(this.negative===0),this.iushln(N)},o.prototype.iushrn=function(N,U,C){var S;l(typeof N=="number"&&N>=0),S=U?(U-U%26)/26:0;var k=N%26,E=Math.min((N-k)/26,this.length),A=67108863^67108863>>>k<<k,j=C;if(S-=E,S=Math.max(0,S),j){for(var B=0;B<E;B++)j.words[B]=this.words[B];j.length=E}if(E!==0)if(this.length>E)for(this.length-=E,B=0;B<this.length;B++)this.words[B]=this.words[B+E];else this.words[0]=0,this.length=1;var D=0;for(B=this.length-1;B>=0&&(D!==0||B>=S);B--){var Q=0|this.words[B];this.words[B]=D<<26-k|Q>>>k,D=Q&A}return j&&D!==0&&(j.words[j.length++]=D),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(N,U,C){return l(this.negative===0),this.iushrn(N,U,C)},o.prototype.shln=function(N){return this.clone().ishln(N)},o.prototype.ushln=function(N){return this.clone().iushln(N)},o.prototype.shrn=function(N){return this.clone().ishrn(N)},o.prototype.ushrn=function(N){return this.clone().iushrn(N)},o.prototype.testn=function(N){l(typeof N=="number"&&N>=0);var U=N%26,C=(N-U)/26,S=1<<U;return!(this.length<=C)&&!!(this.words[C]&S)},o.prototype.imaskn=function(N){l(typeof N=="number"&&N>=0);var U=N%26,C=(N-U)/26;if(l(this.negative===0,"imaskn works only with positive numbers"),this.length<=C)return this;if(U!==0&&C++,this.length=Math.min(C,this.length),U!==0){var S=67108863^67108863>>>U<<U;this.words[this.length-1]&=S}return this.strip()},o.prototype.maskn=function(N){return this.clone().imaskn(N)},o.prototype.iaddn=function(N){return l(typeof N=="number"),l(N<67108864),N<0?this.isubn(-N):this.negative!==0?this.length===1&&(0|this.words[0])<N?(this.words[0]=N-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(N),this.negative=1,this):this._iaddn(N)},o.prototype._iaddn=function(N){this.words[0]+=N;for(var U=0;U<this.length&&this.words[U]>=67108864;U++)this.words[U]-=67108864,U===this.length-1?this.words[U+1]=1:this.words[U+1]++;return this.length=Math.max(this.length,U+1),this},o.prototype.isubn=function(N){if(l(typeof N=="number"),l(N<67108864),N<0)return this.iaddn(-N);if(this.negative!==0)return this.negative=0,this.iaddn(N),this.negative=1,this;if(this.words[0]-=N,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var U=0;U<this.length&&this.words[U]<0;U++)this.words[U]+=67108864,this.words[U+1]-=1;return this.strip()},o.prototype.addn=function(N){return this.clone().iaddn(N)},o.prototype.subn=function(N){return this.clone().isubn(N)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(N,U,C){var S,k,E=N.length+C;this._expand(E);var A=0;for(S=0;S<N.length;S++){k=(0|this.words[S+C])+A;var j=(0|N.words[S])*U;A=((k-=67108863&j)>>26)-(j/67108864|0),this.words[S+C]=67108863&k}for(;S<this.length-C;S++)A=(k=(0|this.words[S+C])+A)>>26,this.words[S+C]=67108863&k;if(A===0)return this.strip();for(l(A===-1),A=0,S=0;S<this.length;S++)A=(k=-(0|this.words[S])+A)>>26,this.words[S]=67108863&k;return this.negative=1,this.strip()},o.prototype._wordDiv=function(N,U){var C=(this.length,N.length),S=this.clone(),k=N,E=0|k.words[k.length-1];(C=26-this._countBits(E))!==0&&(k=k.ushln(C),S.iushln(C),E=0|k.words[k.length-1]);var A,j=S.length-k.length;if(U!=="mod"){(A=new o(null)).length=j+1,A.words=new Array(A.length);for(var B=0;B<A.length;B++)A.words[B]=0}var D=S.clone()._ishlnsubmul(k,1,j);D.negative===0&&(S=D,A&&(A.words[j]=1));for(var Q=j-1;Q>=0;Q--){var K=67108864*(0|S.words[k.length+Q])+(0|S.words[k.length+Q-1]);for(K=Math.min(K/E|0,67108863),S._ishlnsubmul(k,K,Q);S.negative!==0;)K--,S.negative=0,S._ishlnsubmul(k,1,Q),S.isZero()||(S.negative^=1);A&&(A.words[Q]=K)}return A&&A.strip(),S.strip(),U!=="div"&&C!==0&&S.iushrn(C),{div:A||null,mod:S}},o.prototype.divmod=function(N,U,C){return l(!N.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:this.negative!==0&&N.negative===0?(E=this.neg().divmod(N,U),U!=="mod"&&(S=E.div.neg()),U!=="div"&&(k=E.mod.neg(),C&&k.negative!==0&&k.iadd(N)),{div:S,mod:k}):this.negative===0&&N.negative!==0?(E=this.divmod(N.neg(),U),U!=="mod"&&(S=E.div.neg()),{div:S,mod:E.mod}):(this.negative&N.negative)!=0?(E=this.neg().divmod(N.neg(),U),U!=="div"&&(k=E.mod.neg(),C&&k.negative!==0&&k.isub(N)),{div:E.div,mod:k}):N.length>this.length||this.cmp(N)<0?{div:new o(0),mod:this}:N.length===1?U==="div"?{div:this.divn(N.words[0]),mod:null}:U==="mod"?{div:null,mod:new o(this.modn(N.words[0]))}:{div:this.divn(N.words[0]),mod:new o(this.modn(N.words[0]))}:this._wordDiv(N,U);var S,k,E},o.prototype.div=function(N){return this.divmod(N,"div",!1).div},o.prototype.mod=function(N){return this.divmod(N,"mod",!1).mod},o.prototype.umod=function(N){return this.divmod(N,"mod",!0).mod},o.prototype.divRound=function(N){var U=this.divmod(N);if(U.mod.isZero())return U.div;var C=U.div.negative!==0?U.mod.isub(N):U.mod,S=N.ushrn(1),k=N.andln(1),E=C.cmp(S);return E<0||k===1&&E===0?U.div:U.div.negative!==0?U.div.isubn(1):U.div.iaddn(1)},o.prototype.modn=function(N){l(N<=67108863);for(var U=(1<<26)%N,C=0,S=this.length-1;S>=0;S--)C=(U*C+(0|this.words[S]))%N;return C},o.prototype.idivn=function(N){l(N<=67108863);for(var U=0,C=this.length-1;C>=0;C--){var S=(0|this.words[C])+67108864*U;this.words[C]=S/N|0,U=S%N}return this.strip()},o.prototype.divn=function(N){return this.clone().idivn(N)},o.prototype.egcd=function(N){l(N.negative===0),l(!N.isZero());var U=this,C=N.clone();U=U.negative!==0?U.umod(N):U.clone();for(var S=new o(1),k=new o(0),E=new o(0),A=new o(1),j=0;U.isEven()&&C.isEven();)U.iushrn(1),C.iushrn(1),++j;for(var B=C.clone(),D=U.clone();!U.isZero();){for(var Q=0,K=1;(U.words[0]&K)==0&&Q<26;++Q,K<<=1);if(Q>0)for(U.iushrn(Q);Q-- >0;)(S.isOdd()||k.isOdd())&&(S.iadd(B),k.isub(D)),S.iushrn(1),k.iushrn(1);for(var ee=0,W=1;(C.words[0]&W)==0&&ee<26;++ee,W<<=1);if(ee>0)for(C.iushrn(ee);ee-- >0;)(E.isOdd()||A.isOdd())&&(E.iadd(B),A.isub(D)),E.iushrn(1),A.iushrn(1);U.cmp(C)>=0?(U.isub(C),S.isub(E),k.isub(A)):(C.isub(U),E.isub(S),A.isub(k))}return{a:E,b:A,gcd:C.iushln(j)}},o.prototype._invmp=function(N){l(N.negative===0),l(!N.isZero());var U=this,C=N.clone();U=U.negative!==0?U.umod(N):U.clone();for(var S,k=new o(1),E=new o(0),A=C.clone();U.cmpn(1)>0&&C.cmpn(1)>0;){for(var j=0,B=1;(U.words[0]&B)==0&&j<26;++j,B<<=1);if(j>0)for(U.iushrn(j);j-- >0;)k.isOdd()&&k.iadd(A),k.iushrn(1);for(var D=0,Q=1;(C.words[0]&Q)==0&&D<26;++D,Q<<=1);if(D>0)for(C.iushrn(D);D-- >0;)E.isOdd()&&E.iadd(A),E.iushrn(1);U.cmp(C)>=0?(U.isub(C),k.isub(E)):(C.isub(U),E.isub(k))}return(S=U.cmpn(1)===0?k:E).cmpn(0)<0&&S.iadd(N),S},o.prototype.gcd=function(N){if(this.isZero())return N.abs();if(N.isZero())return this.abs();var U=this.clone(),C=N.clone();U.negative=0,C.negative=0;for(var S=0;U.isEven()&&C.isEven();S++)U.iushrn(1),C.iushrn(1);for(;;){for(;U.isEven();)U.iushrn(1);for(;C.isEven();)C.iushrn(1);var k=U.cmp(C);if(k<0){var E=U;U=C,C=E}else if(k===0||C.cmpn(1)===0)break;U.isub(C)}return C.iushln(S)},o.prototype.invm=function(N){return this.egcd(N).a.umod(N)},o.prototype.isEven=function(){return(1&this.words[0])==0},o.prototype.isOdd=function(){return(1&this.words[0])==1},o.prototype.andln=function(N){return this.words[0]&N},o.prototype.bincn=function(N){l(typeof N=="number");var U=N%26,C=(N-U)/26,S=1<<U;if(this.length<=C)return this._expand(C+1),this.words[C]|=S,this;for(var k=S,E=C;k!==0&&E<this.length;E++){var A=0|this.words[E];k=(A+=k)>>>26,A&=67108863,this.words[E]=A}return k!==0&&(this.words[E]=k,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(N){var U,C=N<0;if(this.negative!==0&&!C)return-1;if(this.negative===0&&C)return 1;if(this.strip(),this.length>1)U=1;else{C&&(N=-N),l(N<=67108863,"Number is too big");var S=0|this.words[0];U=S===N?0:S<N?-1:1}return this.negative!==0?0|-U:U},o.prototype.cmp=function(N){if(this.negative!==0&&N.negative===0)return-1;if(this.negative===0&&N.negative!==0)return 1;var U=this.ucmp(N);return this.negative!==0?0|-U:U},o.prototype.ucmp=function(N){if(this.length>N.length)return 1;if(this.length<N.length)return-1;for(var U=0,C=this.length-1;C>=0;C--){var S=0|this.words[C],k=0|N.words[C];if(S!==k){S<k?U=-1:S>k&&(U=1);break}}return U},o.prototype.gtn=function(N){return this.cmpn(N)===1},o.prototype.gt=function(N){return this.cmp(N)===1},o.prototype.gten=function(N){return this.cmpn(N)>=0},o.prototype.gte=function(N){return this.cmp(N)>=0},o.prototype.ltn=function(N){return this.cmpn(N)===-1},o.prototype.lt=function(N){return this.cmp(N)===-1},o.prototype.lten=function(N){return this.cmpn(N)<=0},o.prototype.lte=function(N){return this.cmp(N)<=0},o.prototype.eqn=function(N){return this.cmpn(N)===0},o.prototype.eq=function(N){return this.cmp(N)===0},o.red=function(N){return new q(N)},o.prototype.toRed=function(N){return l(!this.red,"Already a number in reduction context"),l(this.negative===0,"red works only with positives"),N.convertTo(this)._forceRed(N)},o.prototype.fromRed=function(){return l(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(N){return this.red=N,this},o.prototype.forceRed=function(N){return l(!this.red,"Already a number in reduction context"),this._forceRed(N)},o.prototype.redAdd=function(N){return l(this.red,"redAdd works only with red numbers"),this.red.add(this,N)},o.prototype.redIAdd=function(N){return l(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,N)},o.prototype.redSub=function(N){return l(this.red,"redSub works only with red numbers"),this.red.sub(this,N)},o.prototype.redISub=function(N){return l(this.red,"redISub works only with red numbers"),this.red.isub(this,N)},o.prototype.redShl=function(N){return l(this.red,"redShl works only with red numbers"),this.red.shl(this,N)},o.prototype.redMul=function(N){return l(this.red,"redMul works only with red numbers"),this.red._verify2(this,N),this.red.mul(this,N)},o.prototype.redIMul=function(N){return l(this.red,"redMul works only with red numbers"),this.red._verify2(this,N),this.red.imul(this,N)},o.prototype.redSqr=function(){return l(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return l(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return l(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return l(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return l(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(N){return l(this.red&&!N.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,N)};var P={k256:null,p224:null,p192:null,p25519:null};function H(N,U){this.name=N,this.p=new o(U,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function L(){H.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function I(){H.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function O(){H.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function F(){H.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function q(N){if(typeof N=="string"){var U=o._prime(N);this.m=U.p,this.prime=U}else l(N.gtn(1),"modulus must be greater than 1"),this.m=N,this.prime=null}function z(N){q.call(this,N),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}H.prototype._tmp=function(){var N=new o(null);return N.words=new Array(Math.ceil(this.n/13)),N},H.prototype.ireduce=function(N){var U,C=N;do this.split(C,this.tmp),U=(C=(C=this.imulK(C)).iadd(this.tmp)).bitLength();while(U>this.n);var S=U<this.n?-1:C.ucmp(this.p);return S===0?(C.words[0]=0,C.length=1):S>0?C.isub(this.p):C.strip!==void 0?C.strip():C._strip(),C},H.prototype.split=function(N,U){N.iushrn(this.n,0,U)},H.prototype.imulK=function(N){return N.imul(this.k)},c(L,H),L.prototype.split=function(N,U){for(var C=Math.min(N.length,9),S=0;S<C;S++)U.words[S]=N.words[S];if(U.length=C,N.length<=9)return N.words[0]=0,void(N.length=1);var k=N.words[9];for(U.words[U.length++]=4194303&k,S=10;S<N.length;S++){var E=0|N.words[S];N.words[S-10]=(4194303&E)<<4|k>>>22,k=E}k>>>=22,N.words[S-10]=k,k===0&&N.length>10?N.length-=10:N.length-=9},L.prototype.imulK=function(N){N.words[N.length]=0,N.words[N.length+1]=0,N.length+=2;for(var U=0,C=0;C<N.length;C++){var S=0|N.words[C];U+=977*S,N.words[C]=67108863&U,U=64*S+(U/67108864|0)}return N.words[N.length-1]===0&&(N.length--,N.words[N.length-1]===0&&N.length--),N},c(I,H),c(O,H),c(F,H),F.prototype.imulK=function(N){for(var U=0,C=0;C<N.length;C++){var S=19*(0|N.words[C])+U,k=67108863&S;S>>>=26,N.words[C]=k,U=S}return U!==0&&(N.words[N.length++]=U),N},o._prime=function(N){if(P[N])return P[N];var U;if(N==="k256")U=new L;else if(N==="p224")U=new I;else if(N==="p192")U=new O;else{if(N!=="p25519")throw new Error("Unknown prime "+N);U=new F}return P[N]=U,U},q.prototype._verify1=function(N){l(N.negative===0,"red works only with positives"),l(N.red,"red works only with red numbers")},q.prototype._verify2=function(N,U){l((N.negative|U.negative)==0,"red works only with positives"),l(N.red&&N.red===U.red,"red works only with red numbers")},q.prototype.imod=function(N){return this.prime?this.prime.ireduce(N)._forceRed(this):N.umod(this.m)._forceRed(this)},q.prototype.neg=function(N){return N.isZero()?N.clone():this.m.sub(N)._forceRed(this)},q.prototype.add=function(N,U){this._verify2(N,U);var C=N.add(U);return C.cmp(this.m)>=0&&C.isub(this.m),C._forceRed(this)},q.prototype.iadd=function(N,U){this._verify2(N,U);var C=N.iadd(U);return C.cmp(this.m)>=0&&C.isub(this.m),C},q.prototype.sub=function(N,U){this._verify2(N,U);var C=N.sub(U);return C.cmpn(0)<0&&C.iadd(this.m),C._forceRed(this)},q.prototype.isub=function(N,U){this._verify2(N,U);var C=N.isub(U);return C.cmpn(0)<0&&C.iadd(this.m),C},q.prototype.shl=function(N,U){return this._verify1(N),this.imod(N.ushln(U))},q.prototype.imul=function(N,U){return this._verify2(N,U),this.imod(N.imul(U))},q.prototype.mul=function(N,U){return this._verify2(N,U),this.imod(N.mul(U))},q.prototype.isqr=function(N){return this.imul(N,N.clone())},q.prototype.sqr=function(N){return this.mul(N,N)},q.prototype.sqrt=function(N){if(N.isZero())return N.clone();var U=this.m.andln(3);if(l(U%2==1),U===3){var C=this.m.add(new o(1)).iushrn(2);return this.pow(N,C)}for(var S=this.m.subn(1),k=0;!S.isZero()&&S.andln(1)===0;)k++,S.iushrn(1);l(!S.isZero());var E=new o(1).toRed(this),A=E.redNeg(),j=this.m.subn(1).iushrn(1),B=this.m.bitLength();for(B=new o(2*B*B).toRed(this);this.pow(B,j).cmp(A)!==0;)B.redIAdd(A);for(var D=this.pow(B,S),Q=this.pow(N,S.addn(1).iushrn(1)),K=this.pow(N,S),ee=k;K.cmp(E)!==0;){for(var W=K,te=0;W.cmp(E)!==0;te++)W=W.redSqr();l(te<ee);var G=this.pow(D,new o(1).iushln(ee-te-1));Q=Q.redMul(G),D=G.redSqr(),K=K.redMul(D),ee=te}return Q},q.prototype.invm=function(N){var U=N._invmp(this.m);return U.negative!==0?(U.negative=0,this.imod(U).redNeg()):this.imod(U)},q.prototype.pow=function(N,U){if(U.isZero())return new o(1).toRed(this);if(U.cmpn(1)===0)return N.clone();var C=new Array(16);C[0]=new o(1).toRed(this),C[1]=N;for(var S=2;S<C.length;S++)C[S]=this.mul(C[S-1],N);var k=C[0],E=0,A=0,j=U.bitLength()%26;for(j===0&&(j=26),S=U.length-1;S>=0;S--){for(var B=U.words[S],D=j-1;D>=0;D--){var Q=B>>D&1;k!==C[0]&&(k=this.sqr(k)),Q!==0||E!==0?(E<<=1,E|=Q,(++A===4||S===0&&D===0)&&(k=this.mul(k,C[E]),A=0,E=0)):A=0}j=26}return k},q.prototype.convertTo=function(N){var U=N.umod(this.m);return U===N?U.clone():U},q.prototype.convertFrom=function(N){var U=N.clone();return U.red=null,U},o.mont=function(N){return new z(N)},c(z,q),z.prototype.convertTo=function(N){return this.imod(N.ushln(this.shift))},z.prototype.convertFrom=function(N){var U=this.imod(N.mul(this.rinv));return U.red=null,U},z.prototype.imul=function(N,U){if(N.isZero()||U.isZero())return N.words[0]=0,N.length=1,N;var C=N.imul(U),S=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=C.isub(S).iushrn(this.shift),E=k;return k.cmp(this.m)>=0?E=k.isub(this.m):k.cmpn(0)<0&&(E=k.iadd(this.m)),E._forceRed(this)},z.prototype.mul=function(N,U){if(N.isZero()||U.isZero())return new o(0)._forceRed(this);var C=N.mul(U),S=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=C.isub(S).iushrn(this.shift),E=k;return k.cmp(this.m)>=0?E=k.isub(this.m):k.cmpn(0)<0&&(E=k.iadd(this.m)),E._forceRed(this)},z.prototype.invm=function(N){return this.imod(N._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],185:[function(e,n,s){s.byteLength=function(d){var x=p(d),b=x[0],g=x[1];return 3*(b+g)/4-g},s.toByteArray=function(d){var x,b,g=p(d),v=g[0],y=g[1],T=new l((function(H,L,I){return 3*(L+I)/4-I})(0,v,y)),R=0,P=y>0?v-4:v;for(b=0;b<P;b+=4)x=a[d.charCodeAt(b)]<<18|a[d.charCodeAt(b+1)]<<12|a[d.charCodeAt(b+2)]<<6|a[d.charCodeAt(b+3)],T[R++]=x>>16&255,T[R++]=x>>8&255,T[R++]=255&x;return y===2&&(x=a[d.charCodeAt(b)]<<2|a[d.charCodeAt(b+1)]>>4,T[R++]=255&x),y===1&&(x=a[d.charCodeAt(b)]<<10|a[d.charCodeAt(b+1)]<<4|a[d.charCodeAt(b+2)]>>2,T[R++]=x>>8&255,T[R++]=255&x),T},s.fromByteArray=function(d){for(var x,b=d.length,g=b%3,v=[],y=0,T=b-g;y<T;y+=16383)v.push(h(d,y,y+16383>T?T:y+16383));return g===1?(x=d[b-1],v.push(i[x>>2]+i[x<<4&63]+"==")):g===2&&(x=(d[b-2]<<8)+d[b-1],v.push(i[x>>10]+i[x>>4&63]+i[x<<2&63]+"=")),v.join("")};for(var i=[],a=[],l=typeof Uint8Array<"u"?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,u=c.length;o<u;++o)i[o]=c[o],a[c.charCodeAt(o)]=o;function p(d){var x=d.length;if(x%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var b=d.indexOf("=");return b===-1&&(b=x),[b,b===x?0:4-b%4]}function h(d,x,b){for(var g,v,y=[],T=x;T<b;T+=3)g=(d[T]<<16&16711680)+(d[T+1]<<8&65280)+(255&d[T+2]),y.push(i[(v=g)>>18&63]+i[v>>12&63]+i[v>>6&63]+i[63&v]);return y.join("")}a[45]=62,a[95]=63},{}],186:[function(e,n,s){(function(i,a){function l(C,S){if(!C)throw new Error(S||"Assertion failed")}function c(C,S){C.super_=S;var k=function(){};k.prototype=S.prototype,C.prototype=new k,C.prototype.constructor=C}function o(C,S,k){if(o.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,C!==null&&(S!=="le"&&S!=="be"||(k=S,S=10),this._init(C||0,S||10,k||"be"))}var u;typeof i=="object"?i.exports=o:(void 0).BN=o,o.BN=o,o.wordSize=26;try{u=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function p(C,S){var k=C.charCodeAt(S);return k>=48&&k<=57?k-48:k>=65&&k<=70?k-55:k>=97&&k<=102?k-87:void l(!1,"Invalid character in "+C)}function h(C,S,k){var E=p(C,k);return k-1>=S&&(E|=p(C,k-1)<<4),E}function d(C,S,k,E){for(var A=0,j=0,B=Math.min(C.length,k),D=S;D<B;D++){var Q=C.charCodeAt(D)-48;A*=E,j=Q>=49?Q-49+10:Q>=17?Q-17+10:Q,l(Q>=0&&j<E,"Invalid character"),A+=j}return A}function x(C,S){C.words=S.words,C.length=S.length,C.negative=S.negative,C.red=S.red}if(o.isBN=function(C){return C instanceof o||C!==null&&typeof C=="object"&&C.constructor.wordSize===o.wordSize&&Array.isArray(C.words)},o.max=function(C,S){return C.cmp(S)>0?C:S},o.min=function(C,S){return C.cmp(S)<0?C:S},o.prototype._init=function(C,S,k){if(typeof C=="number")return this._initNumber(C,S,k);if(typeof C=="object")return this._initArray(C,S,k);S==="hex"&&(S=16),l(S===(0|S)&&S>=2&&S<=36);var E=0;(C=C.toString().replace(/\s+/g,""))[0]==="-"&&(E++,this.negative=1),E<C.length&&(S===16?this._parseHex(C,E,k):(this._parseBase(C,S,E),k==="le"&&this._initArray(this.toArray(),S,k)))},o.prototype._initNumber=function(C,S,k){C<0&&(this.negative=1,C=-C),C<67108864?(this.words=[67108863&C],this.length=1):C<4503599627370496?(this.words=[67108863&C,C/67108864&67108863],this.length=2):(l(C<9007199254740992),this.words=[67108863&C,C/67108864&67108863,1],this.length=3),k==="le"&&this._initArray(this.toArray(),S,k)},o.prototype._initArray=function(C,S,k){if(l(typeof C.length=="number"),C.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(C.length/3),this.words=new Array(this.length);for(var E=0;E<this.length;E++)this.words[E]=0;var A,j,B=0;if(k==="be")for(E=C.length-1,A=0;E>=0;E-=3)j=C[E]|C[E-1]<<8|C[E-2]<<16,this.words[A]|=j<<B&67108863,this.words[A+1]=j>>>26-B&67108863,(B+=24)>=26&&(B-=26,A++);else if(k==="le")for(E=0,A=0;E<C.length;E+=3)j=C[E]|C[E+1]<<8|C[E+2]<<16,this.words[A]|=j<<B&67108863,this.words[A+1]=j>>>26-B&67108863,(B+=24)>=26&&(B-=26,A++);return this._strip()},o.prototype._parseHex=function(C,S,k){this.length=Math.ceil((C.length-S)/6),this.words=new Array(this.length);for(var E=0;E<this.length;E++)this.words[E]=0;var A,j=0,B=0;if(k==="be")for(E=C.length-1;E>=S;E-=2)A=h(C,S,E)<<j,this.words[B]|=67108863&A,j>=18?(j-=18,B+=1,this.words[B]|=A>>>26):j+=8;else for(E=(C.length-S)%2==0?S+1:S;E<C.length;E+=2)A=h(C,S,E)<<j,this.words[B]|=67108863&A,j>=18?(j-=18,B+=1,this.words[B]|=A>>>26):j+=8;this._strip()},o.prototype._parseBase=function(C,S,k){this.words=[0],this.length=1;for(var E=0,A=1;A<=67108863;A*=S)E++;E--,A=A/S|0;for(var j=C.length-k,B=j%E,D=Math.min(j,j-B)+k,Q=0,K=k;K<D;K+=E)Q=d(C,K,K+E,S),this.imuln(A),this.words[0]+Q<67108864?this.words[0]+=Q:this._iaddn(Q);if(B!==0){var ee=1;for(Q=d(C,K,C.length,S),K=0;K<B;K++)ee*=S;this.imuln(ee),this.words[0]+Q<67108864?this.words[0]+=Q:this._iaddn(Q)}this._strip()},o.prototype.copy=function(C){C.words=new Array(this.length);for(var S=0;S<this.length;S++)C.words[S]=this.words[S];C.length=this.length,C.negative=this.negative,C.red=this.red},o.prototype._move=function(C){x(C,this)},o.prototype.clone=function(){var C=new o(null);return this.copy(C),C},o.prototype._expand=function(C){for(;this.length<C;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=b}catch{o.prototype.inspect=b}else o.prototype.inspect=b;function b(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(C,S){var k;if(S=0|S||1,(C=C||10)===16||C==="hex"){k="";for(var E=0,A=0,j=0;j<this.length;j++){var B=this.words[j],D=(16777215&(B<<E|A)).toString(16);A=B>>>24-E&16777215,(E+=2)>=26&&(E-=26,j--),k=A!==0||j!==this.length-1?g[6-D.length]+D+k:D+k}for(A!==0&&(k=A.toString(16)+k);k.length%S!=0;)k="0"+k;return this.negative!==0&&(k="-"+k),k}if(C===(0|C)&&C>=2&&C<=36){var Q=v[C],K=y[C];k="";var ee=this.clone();for(ee.negative=0;!ee.isZero();){var W=ee.modrn(K).toString(C);k=(ee=ee.idivn(K)).isZero()?W+k:g[Q-W.length]+W+k}for(this.isZero()&&(k="0"+k);k.length%S!=0;)k="0"+k;return this.negative!==0&&(k="-"+k),k}l(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var C=this.words[0];return this.length===2?C+=67108864*this.words[1]:this.length===3&&this.words[2]===1?C+=4503599627370496+67108864*this.words[1]:this.length>2&&l(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-C:C},o.prototype.toJSON=function(){return this.toString(16,2)},u&&(o.prototype.toBuffer=function(C,S){return this.toArrayLike(u,C,S)}),o.prototype.toArray=function(C,S){return this.toArrayLike(Array,C,S)};function T(C,S,k){k.negative=S.negative^C.negative;var E=C.length+S.length|0;k.length=E,E=E-1|0;var A=0|C.words[0],j=0|S.words[0],B=A*j,D=67108863&B,Q=B/67108864|0;k.words[0]=D;for(var K=1;K<E;K++){for(var ee=Q>>>26,W=67108863&Q,te=Math.min(K,S.length-1),G=Math.max(0,K-C.length+1);G<=te;G++){var V=K-G|0;ee+=(B=(A=0|C.words[V])*(j=0|S.words[G])+W)/67108864|0,W=67108863&B}k.words[K]=0|W,Q=0|ee}return Q!==0?k.words[K]=0|Q:k.length--,k._strip()}o.prototype.toArrayLike=function(C,S,k){this._strip();var E=this.byteLength(),A=k||Math.max(1,E);l(E<=A,"byte array longer than desired length"),l(A>0,"Requested array length <= 0");var j=(function(B,D){return B.allocUnsafe?B.allocUnsafe(D):new B(D)})(C,A);return this["_toArrayLike"+(S==="le"?"LE":"BE")](j,E),j},o.prototype._toArrayLikeLE=function(C,S){for(var k=0,E=0,A=0,j=0;A<this.length;A++){var B=this.words[A]<<j|E;C[k++]=255&B,k<C.length&&(C[k++]=B>>8&255),k<C.length&&(C[k++]=B>>16&255),j===6?(k<C.length&&(C[k++]=B>>24&255),E=0,j=0):(E=B>>>24,j+=2)}if(k<C.length)for(C[k++]=E;k<C.length;)C[k++]=0},o.prototype._toArrayLikeBE=function(C,S){for(var k=C.length-1,E=0,A=0,j=0;A<this.length;A++){var B=this.words[A]<<j|E;C[k--]=255&B,k>=0&&(C[k--]=B>>8&255),k>=0&&(C[k--]=B>>16&255),j===6?(k>=0&&(C[k--]=B>>24&255),E=0,j=0):(E=B>>>24,j+=2)}if(k>=0)for(C[k--]=E;k>=0;)C[k--]=0},Math.clz32?o.prototype._countBits=function(C){return 32-Math.clz32(C)}:o.prototype._countBits=function(C){var S=C,k=0;return S>=4096&&(k+=13,S>>>=13),S>=64&&(k+=7,S>>>=7),S>=8&&(k+=4,S>>>=4),S>=2&&(k+=2,S>>>=2),k+S},o.prototype._zeroBits=function(C){if(C===0)return 26;var S=C,k=0;return(8191&S)==0&&(k+=13,S>>>=13),(127&S)==0&&(k+=7,S>>>=7),(15&S)==0&&(k+=4,S>>>=4),(3&S)==0&&(k+=2,S>>>=2),(1&S)==0&&k++,k},o.prototype.bitLength=function(){var C=this.words[this.length-1],S=this._countBits(C);return 26*(this.length-1)+S},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var C=0,S=0;S<this.length;S++){var k=this._zeroBits(this.words[S]);if(C+=k,k!==26)break}return C},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(C){return this.negative!==0?this.abs().inotn(C).iaddn(1):this.clone()},o.prototype.fromTwos=function(C){return this.testn(C-1)?this.notn(C).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(C){for(;this.length<C.length;)this.words[this.length++]=0;for(var S=0;S<C.length;S++)this.words[S]=this.words[S]|C.words[S];return this._strip()},o.prototype.ior=function(C){return l((this.negative|C.negative)==0),this.iuor(C)},o.prototype.or=function(C){return this.length>C.length?this.clone().ior(C):C.clone().ior(this)},o.prototype.uor=function(C){return this.length>C.length?this.clone().iuor(C):C.clone().iuor(this)},o.prototype.iuand=function(C){var S;S=this.length>C.length?C:this;for(var k=0;k<S.length;k++)this.words[k]=this.words[k]&C.words[k];return this.length=S.length,this._strip()},o.prototype.iand=function(C){return l((this.negative|C.negative)==0),this.iuand(C)},o.prototype.and=function(C){return this.length>C.length?this.clone().iand(C):C.clone().iand(this)},o.prototype.uand=function(C){return this.length>C.length?this.clone().iuand(C):C.clone().iuand(this)},o.prototype.iuxor=function(C){var S,k;this.length>C.length?(S=this,k=C):(S=C,k=this);for(var E=0;E<k.length;E++)this.words[E]=S.words[E]^k.words[E];if(this!==S)for(;E<S.length;E++)this.words[E]=S.words[E];return this.length=S.length,this._strip()},o.prototype.ixor=function(C){return l((this.negative|C.negative)==0),this.iuxor(C)},o.prototype.xor=function(C){return this.length>C.length?this.clone().ixor(C):C.clone().ixor(this)},o.prototype.uxor=function(C){return this.length>C.length?this.clone().iuxor(C):C.clone().iuxor(this)},o.prototype.inotn=function(C){l(typeof C=="number"&&C>=0);var S=0|Math.ceil(C/26),k=C%26;this._expand(S),k>0&&S--;for(var E=0;E<S;E++)this.words[E]=67108863&~this.words[E];return k>0&&(this.words[E]=~this.words[E]&67108863>>26-k),this._strip()},o.prototype.notn=function(C){return this.clone().inotn(C)},o.prototype.setn=function(C,S){l(typeof C=="number"&&C>=0);var k=C/26|0,E=C%26;return this._expand(k+1),this.words[k]=S?this.words[k]|1<<E:this.words[k]&~(1<<E),this._strip()},o.prototype.iadd=function(C){var S,k,E;if(this.negative!==0&&C.negative===0)return this.negative=0,S=this.isub(C),this.negative^=1,this._normSign();if(this.negative===0&&C.negative!==0)return C.negative=0,S=this.isub(C),C.negative=1,S._normSign();this.length>C.length?(k=this,E=C):(k=C,E=this);for(var A=0,j=0;j<E.length;j++)S=(0|k.words[j])+(0|E.words[j])+A,this.words[j]=67108863&S,A=S>>>26;for(;A!==0&&j<k.length;j++)S=(0|k.words[j])+A,this.words[j]=67108863&S,A=S>>>26;if(this.length=k.length,A!==0)this.words[this.length]=A,this.length++;else if(k!==this)for(;j<k.length;j++)this.words[j]=k.words[j];return this},o.prototype.add=function(C){var S;return C.negative!==0&&this.negative===0?(C.negative=0,S=this.sub(C),C.negative^=1,S):C.negative===0&&this.negative!==0?(this.negative=0,S=C.sub(this),this.negative=1,S):this.length>C.length?this.clone().iadd(C):C.clone().iadd(this)},o.prototype.isub=function(C){if(C.negative!==0){C.negative=0;var S=this.iadd(C);return C.negative=1,S._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(C),this.negative=1,this._normSign();var k,E,A=this.cmp(C);if(A===0)return this.negative=0,this.length=1,this.words[0]=0,this;A>0?(k=this,E=C):(k=C,E=this);for(var j=0,B=0;B<E.length;B++)j=(S=(0|k.words[B])-(0|E.words[B])+j)>>26,this.words[B]=67108863&S;for(;j!==0&&B<k.length;B++)j=(S=(0|k.words[B])+j)>>26,this.words[B]=67108863&S;if(j===0&&B<k.length&&k!==this)for(;B<k.length;B++)this.words[B]=k.words[B];return this.length=Math.max(this.length,B),k!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(C){return this.clone().isub(C)};var R=function(C,S,k){var E,A,j,B=C.words,D=S.words,Q=k.words,K=0,ee=0|B[0],W=8191&ee,te=ee>>>13,G=0|B[1],V=8191&G,Z=G>>>13,ae=0|B[2],re=8191&ae,oe=ae>>>13,he=0|B[3],Se=8191&he,ge=he>>>13,ne=0|B[4],fe=8191&ne,pe=ne>>>13,ke=0|B[5],Ce=8191&ke,Fe=ke>>>13,We=0|B[6],$e=8191&We,it=We>>>13,st=0|B[7],et=8191&st,Ze=st>>>13,gt=0|B[8],mt=8191&gt,Me=gt>>>13,Ue=0|B[9],Ee=8191&Ue,Oe=Ue>>>13,ct=0|D[0],Be=8191&ct,Ye=ct>>>13,je=0|D[1],He=8191&je,Te=je>>>13,rt=0|D[2],Re=8191&rt,Ae=rt>>>13,at=0|D[3],pt=8191&at,lt=at>>>13,Rt=0|D[4],jt=8191&Rt,Ct=Rt>>>13,Mt=0|D[5],Dt=8191&Mt,Nt=Mt>>>13,Ie=0|D[6],Ge=8191&Ie,ut=Ie>>>13,le=0|D[7],ye=8191&le,ue=le>>>13,de=0|D[8],be=8191&de,xe=de>>>13,De=0|D[9],Ve=8191&De,Pe=De>>>13;k.negative=C.negative^S.negative,k.length=19;var qe=(K+(E=Math.imul(W,Be))|0)+((8191&(A=(A=Math.imul(W,Ye))+Math.imul(te,Be)|0))<<13)|0;K=((j=Math.imul(te,Ye))+(A>>>13)|0)+(qe>>>26)|0,qe&=67108863,E=Math.imul(V,Be),A=(A=Math.imul(V,Ye))+Math.imul(Z,Be)|0,j=Math.imul(Z,Ye);var Xe=(K+(E=E+Math.imul(W,He)|0)|0)+((8191&(A=(A=A+Math.imul(W,Te)|0)+Math.imul(te,He)|0))<<13)|0;K=((j=j+Math.imul(te,Te)|0)+(A>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,E=Math.imul(re,Be),A=(A=Math.imul(re,Ye))+Math.imul(oe,Be)|0,j=Math.imul(oe,Ye),E=E+Math.imul(V,He)|0,A=(A=A+Math.imul(V,Te)|0)+Math.imul(Z,He)|0,j=j+Math.imul(Z,Te)|0;var yt=(K+(E=E+Math.imul(W,Re)|0)|0)+((8191&(A=(A=A+Math.imul(W,Ae)|0)+Math.imul(te,Re)|0))<<13)|0;K=((j=j+Math.imul(te,Ae)|0)+(A>>>13)|0)+(yt>>>26)|0,yt&=67108863,E=Math.imul(Se,Be),A=(A=Math.imul(Se,Ye))+Math.imul(ge,Be)|0,j=Math.imul(ge,Ye),E=E+Math.imul(re,He)|0,A=(A=A+Math.imul(re,Te)|0)+Math.imul(oe,He)|0,j=j+Math.imul(oe,Te)|0,E=E+Math.imul(V,Re)|0,A=(A=A+Math.imul(V,Ae)|0)+Math.imul(Z,Re)|0,j=j+Math.imul(Z,Ae)|0;var St=(K+(E=E+Math.imul(W,pt)|0)|0)+((8191&(A=(A=A+Math.imul(W,lt)|0)+Math.imul(te,pt)|0))<<13)|0;K=((j=j+Math.imul(te,lt)|0)+(A>>>13)|0)+(St>>>26)|0,St&=67108863,E=Math.imul(fe,Be),A=(A=Math.imul(fe,Ye))+Math.imul(pe,Be)|0,j=Math.imul(pe,Ye),E=E+Math.imul(Se,He)|0,A=(A=A+Math.imul(Se,Te)|0)+Math.imul(ge,He)|0,j=j+Math.imul(ge,Te)|0,E=E+Math.imul(re,Re)|0,A=(A=A+Math.imul(re,Ae)|0)+Math.imul(oe,Re)|0,j=j+Math.imul(oe,Ae)|0,E=E+Math.imul(V,pt)|0,A=(A=A+Math.imul(V,lt)|0)+Math.imul(Z,pt)|0,j=j+Math.imul(Z,lt)|0;var kt=(K+(E=E+Math.imul(W,jt)|0)|0)+((8191&(A=(A=A+Math.imul(W,Ct)|0)+Math.imul(te,jt)|0))<<13)|0;K=((j=j+Math.imul(te,Ct)|0)+(A>>>13)|0)+(kt>>>26)|0,kt&=67108863,E=Math.imul(Ce,Be),A=(A=Math.imul(Ce,Ye))+Math.imul(Fe,Be)|0,j=Math.imul(Fe,Ye),E=E+Math.imul(fe,He)|0,A=(A=A+Math.imul(fe,Te)|0)+Math.imul(pe,He)|0,j=j+Math.imul(pe,Te)|0,E=E+Math.imul(Se,Re)|0,A=(A=A+Math.imul(Se,Ae)|0)+Math.imul(ge,Re)|0,j=j+Math.imul(ge,Ae)|0,E=E+Math.imul(re,pt)|0,A=(A=A+Math.imul(re,lt)|0)+Math.imul(oe,pt)|0,j=j+Math.imul(oe,lt)|0,E=E+Math.imul(V,jt)|0,A=(A=A+Math.imul(V,Ct)|0)+Math.imul(Z,jt)|0,j=j+Math.imul(Z,Ct)|0;var me=(K+(E=E+Math.imul(W,Dt)|0)|0)+((8191&(A=(A=A+Math.imul(W,Nt)|0)+Math.imul(te,Dt)|0))<<13)|0;K=((j=j+Math.imul(te,Nt)|0)+(A>>>13)|0)+(me>>>26)|0,me&=67108863,E=Math.imul($e,Be),A=(A=Math.imul($e,Ye))+Math.imul(it,Be)|0,j=Math.imul(it,Ye),E=E+Math.imul(Ce,He)|0,A=(A=A+Math.imul(Ce,Te)|0)+Math.imul(Fe,He)|0,j=j+Math.imul(Fe,Te)|0,E=E+Math.imul(fe,Re)|0,A=(A=A+Math.imul(fe,Ae)|0)+Math.imul(pe,Re)|0,j=j+Math.imul(pe,Ae)|0,E=E+Math.imul(Se,pt)|0,A=(A=A+Math.imul(Se,lt)|0)+Math.imul(ge,pt)|0,j=j+Math.imul(ge,lt)|0,E=E+Math.imul(re,jt)|0,A=(A=A+Math.imul(re,Ct)|0)+Math.imul(oe,jt)|0,j=j+Math.imul(oe,Ct)|0,E=E+Math.imul(V,Dt)|0,A=(A=A+Math.imul(V,Nt)|0)+Math.imul(Z,Dt)|0,j=j+Math.imul(Z,Nt)|0;var Ne=(K+(E=E+Math.imul(W,Ge)|0)|0)+((8191&(A=(A=A+Math.imul(W,ut)|0)+Math.imul(te,Ge)|0))<<13)|0;K=((j=j+Math.imul(te,ut)|0)+(A>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,E=Math.imul(et,Be),A=(A=Math.imul(et,Ye))+Math.imul(Ze,Be)|0,j=Math.imul(Ze,Ye),E=E+Math.imul($e,He)|0,A=(A=A+Math.imul($e,Te)|0)+Math.imul(it,He)|0,j=j+Math.imul(it,Te)|0,E=E+Math.imul(Ce,Re)|0,A=(A=A+Math.imul(Ce,Ae)|0)+Math.imul(Fe,Re)|0,j=j+Math.imul(Fe,Ae)|0,E=E+Math.imul(fe,pt)|0,A=(A=A+Math.imul(fe,lt)|0)+Math.imul(pe,pt)|0,j=j+Math.imul(pe,lt)|0,E=E+Math.imul(Se,jt)|0,A=(A=A+Math.imul(Se,Ct)|0)+Math.imul(ge,jt)|0,j=j+Math.imul(ge,Ct)|0,E=E+Math.imul(re,Dt)|0,A=(A=A+Math.imul(re,Nt)|0)+Math.imul(oe,Dt)|0,j=j+Math.imul(oe,Nt)|0,E=E+Math.imul(V,Ge)|0,A=(A=A+Math.imul(V,ut)|0)+Math.imul(Z,Ge)|0,j=j+Math.imul(Z,ut)|0;var Ke=(K+(E=E+Math.imul(W,ye)|0)|0)+((8191&(A=(A=A+Math.imul(W,ue)|0)+Math.imul(te,ye)|0))<<13)|0;K=((j=j+Math.imul(te,ue)|0)+(A>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,E=Math.imul(mt,Be),A=(A=Math.imul(mt,Ye))+Math.imul(Me,Be)|0,j=Math.imul(Me,Ye),E=E+Math.imul(et,He)|0,A=(A=A+Math.imul(et,Te)|0)+Math.imul(Ze,He)|0,j=j+Math.imul(Ze,Te)|0,E=E+Math.imul($e,Re)|0,A=(A=A+Math.imul($e,Ae)|0)+Math.imul(it,Re)|0,j=j+Math.imul(it,Ae)|0,E=E+Math.imul(Ce,pt)|0,A=(A=A+Math.imul(Ce,lt)|0)+Math.imul(Fe,pt)|0,j=j+Math.imul(Fe,lt)|0,E=E+Math.imul(fe,jt)|0,A=(A=A+Math.imul(fe,Ct)|0)+Math.imul(pe,jt)|0,j=j+Math.imul(pe,Ct)|0,E=E+Math.imul(Se,Dt)|0,A=(A=A+Math.imul(Se,Nt)|0)+Math.imul(ge,Dt)|0,j=j+Math.imul(ge,Nt)|0,E=E+Math.imul(re,Ge)|0,A=(A=A+Math.imul(re,ut)|0)+Math.imul(oe,Ge)|0,j=j+Math.imul(oe,ut)|0,E=E+Math.imul(V,ye)|0,A=(A=A+Math.imul(V,ue)|0)+Math.imul(Z,ye)|0,j=j+Math.imul(Z,ue)|0;var dt=(K+(E=E+Math.imul(W,be)|0)|0)+((8191&(A=(A=A+Math.imul(W,xe)|0)+Math.imul(te,be)|0))<<13)|0;K=((j=j+Math.imul(te,xe)|0)+(A>>>13)|0)+(dt>>>26)|0,dt&=67108863,E=Math.imul(Ee,Be),A=(A=Math.imul(Ee,Ye))+Math.imul(Oe,Be)|0,j=Math.imul(Oe,Ye),E=E+Math.imul(mt,He)|0,A=(A=A+Math.imul(mt,Te)|0)+Math.imul(Me,He)|0,j=j+Math.imul(Me,Te)|0,E=E+Math.imul(et,Re)|0,A=(A=A+Math.imul(et,Ae)|0)+Math.imul(Ze,Re)|0,j=j+Math.imul(Ze,Ae)|0,E=E+Math.imul($e,pt)|0,A=(A=A+Math.imul($e,lt)|0)+Math.imul(it,pt)|0,j=j+Math.imul(it,lt)|0,E=E+Math.imul(Ce,jt)|0,A=(A=A+Math.imul(Ce,Ct)|0)+Math.imul(Fe,jt)|0,j=j+Math.imul(Fe,Ct)|0,E=E+Math.imul(fe,Dt)|0,A=(A=A+Math.imul(fe,Nt)|0)+Math.imul(pe,Dt)|0,j=j+Math.imul(pe,Nt)|0,E=E+Math.imul(Se,Ge)|0,A=(A=A+Math.imul(Se,ut)|0)+Math.imul(ge,Ge)|0,j=j+Math.imul(ge,ut)|0,E=E+Math.imul(re,ye)|0,A=(A=A+Math.imul(re,ue)|0)+Math.imul(oe,ye)|0,j=j+Math.imul(oe,ue)|0,E=E+Math.imul(V,be)|0,A=(A=A+Math.imul(V,xe)|0)+Math.imul(Z,be)|0,j=j+Math.imul(Z,xe)|0;var Et=(K+(E=E+Math.imul(W,Ve)|0)|0)+((8191&(A=(A=A+Math.imul(W,Pe)|0)+Math.imul(te,Ve)|0))<<13)|0;K=((j=j+Math.imul(te,Pe)|0)+(A>>>13)|0)+(Et>>>26)|0,Et&=67108863,E=Math.imul(Ee,He),A=(A=Math.imul(Ee,Te))+Math.imul(Oe,He)|0,j=Math.imul(Oe,Te),E=E+Math.imul(mt,Re)|0,A=(A=A+Math.imul(mt,Ae)|0)+Math.imul(Me,Re)|0,j=j+Math.imul(Me,Ae)|0,E=E+Math.imul(et,pt)|0,A=(A=A+Math.imul(et,lt)|0)+Math.imul(Ze,pt)|0,j=j+Math.imul(Ze,lt)|0,E=E+Math.imul($e,jt)|0,A=(A=A+Math.imul($e,Ct)|0)+Math.imul(it,jt)|0,j=j+Math.imul(it,Ct)|0,E=E+Math.imul(Ce,Dt)|0,A=(A=A+Math.imul(Ce,Nt)|0)+Math.imul(Fe,Dt)|0,j=j+Math.imul(Fe,Nt)|0,E=E+Math.imul(fe,Ge)|0,A=(A=A+Math.imul(fe,ut)|0)+Math.imul(pe,Ge)|0,j=j+Math.imul(pe,ut)|0,E=E+Math.imul(Se,ye)|0,A=(A=A+Math.imul(Se,ue)|0)+Math.imul(ge,ye)|0,j=j+Math.imul(ge,ue)|0,E=E+Math.imul(re,be)|0,A=(A=A+Math.imul(re,xe)|0)+Math.imul(oe,be)|0,j=j+Math.imul(oe,xe)|0;var xt=(K+(E=E+Math.imul(V,Ve)|0)|0)+((8191&(A=(A=A+Math.imul(V,Pe)|0)+Math.imul(Z,Ve)|0))<<13)|0;K=((j=j+Math.imul(Z,Pe)|0)+(A>>>13)|0)+(xt>>>26)|0,xt&=67108863,E=Math.imul(Ee,Re),A=(A=Math.imul(Ee,Ae))+Math.imul(Oe,Re)|0,j=Math.imul(Oe,Ae),E=E+Math.imul(mt,pt)|0,A=(A=A+Math.imul(mt,lt)|0)+Math.imul(Me,pt)|0,j=j+Math.imul(Me,lt)|0,E=E+Math.imul(et,jt)|0,A=(A=A+Math.imul(et,Ct)|0)+Math.imul(Ze,jt)|0,j=j+Math.imul(Ze,Ct)|0,E=E+Math.imul($e,Dt)|0,A=(A=A+Math.imul($e,Nt)|0)+Math.imul(it,Dt)|0,j=j+Math.imul(it,Nt)|0,E=E+Math.imul(Ce,Ge)|0,A=(A=A+Math.imul(Ce,ut)|0)+Math.imul(Fe,Ge)|0,j=j+Math.imul(Fe,ut)|0,E=E+Math.imul(fe,ye)|0,A=(A=A+Math.imul(fe,ue)|0)+Math.imul(pe,ye)|0,j=j+Math.imul(pe,ue)|0,E=E+Math.imul(Se,be)|0,A=(A=A+Math.imul(Se,xe)|0)+Math.imul(ge,be)|0,j=j+Math.imul(ge,xe)|0;var At=(K+(E=E+Math.imul(re,Ve)|0)|0)+((8191&(A=(A=A+Math.imul(re,Pe)|0)+Math.imul(oe,Ve)|0))<<13)|0;K=((j=j+Math.imul(oe,Pe)|0)+(A>>>13)|0)+(At>>>26)|0,At&=67108863,E=Math.imul(Ee,pt),A=(A=Math.imul(Ee,lt))+Math.imul(Oe,pt)|0,j=Math.imul(Oe,lt),E=E+Math.imul(mt,jt)|0,A=(A=A+Math.imul(mt,Ct)|0)+Math.imul(Me,jt)|0,j=j+Math.imul(Me,Ct)|0,E=E+Math.imul(et,Dt)|0,A=(A=A+Math.imul(et,Nt)|0)+Math.imul(Ze,Dt)|0,j=j+Math.imul(Ze,Nt)|0,E=E+Math.imul($e,Ge)|0,A=(A=A+Math.imul($e,ut)|0)+Math.imul(it,Ge)|0,j=j+Math.imul(it,ut)|0,E=E+Math.imul(Ce,ye)|0,A=(A=A+Math.imul(Ce,ue)|0)+Math.imul(Fe,ye)|0,j=j+Math.imul(Fe,ue)|0,E=E+Math.imul(fe,be)|0,A=(A=A+Math.imul(fe,xe)|0)+Math.imul(pe,be)|0,j=j+Math.imul(pe,xe)|0;var Qt=(K+(E=E+Math.imul(Se,Ve)|0)|0)+((8191&(A=(A=A+Math.imul(Se,Pe)|0)+Math.imul(ge,Ve)|0))<<13)|0;K=((j=j+Math.imul(ge,Pe)|0)+(A>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,E=Math.imul(Ee,jt),A=(A=Math.imul(Ee,Ct))+Math.imul(Oe,jt)|0,j=Math.imul(Oe,Ct),E=E+Math.imul(mt,Dt)|0,A=(A=A+Math.imul(mt,Nt)|0)+Math.imul(Me,Dt)|0,j=j+Math.imul(Me,Nt)|0,E=E+Math.imul(et,Ge)|0,A=(A=A+Math.imul(et,ut)|0)+Math.imul(Ze,Ge)|0,j=j+Math.imul(Ze,ut)|0,E=E+Math.imul($e,ye)|0,A=(A=A+Math.imul($e,ue)|0)+Math.imul(it,ye)|0,j=j+Math.imul(it,ue)|0,E=E+Math.imul(Ce,be)|0,A=(A=A+Math.imul(Ce,xe)|0)+Math.imul(Fe,be)|0,j=j+Math.imul(Fe,xe)|0;var qt=(K+(E=E+Math.imul(fe,Ve)|0)|0)+((8191&(A=(A=A+Math.imul(fe,Pe)|0)+Math.imul(pe,Ve)|0))<<13)|0;K=((j=j+Math.imul(pe,Pe)|0)+(A>>>13)|0)+(qt>>>26)|0,qt&=67108863,E=Math.imul(Ee,Dt),A=(A=Math.imul(Ee,Nt))+Math.imul(Oe,Dt)|0,j=Math.imul(Oe,Nt),E=E+Math.imul(mt,Ge)|0,A=(A=A+Math.imul(mt,ut)|0)+Math.imul(Me,Ge)|0,j=j+Math.imul(Me,ut)|0,E=E+Math.imul(et,ye)|0,A=(A=A+Math.imul(et,ue)|0)+Math.imul(Ze,ye)|0,j=j+Math.imul(Ze,ue)|0,E=E+Math.imul($e,be)|0,A=(A=A+Math.imul($e,xe)|0)+Math.imul(it,be)|0,j=j+Math.imul(it,xe)|0;var Gt=(K+(E=E+Math.imul(Ce,Ve)|0)|0)+((8191&(A=(A=A+Math.imul(Ce,Pe)|0)+Math.imul(Fe,Ve)|0))<<13)|0;K=((j=j+Math.imul(Fe,Pe)|0)+(A>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,E=Math.imul(Ee,Ge),A=(A=Math.imul(Ee,ut))+Math.imul(Oe,Ge)|0,j=Math.imul(Oe,ut),E=E+Math.imul(mt,ye)|0,A=(A=A+Math.imul(mt,ue)|0)+Math.imul(Me,ye)|0,j=j+Math.imul(Me,ue)|0,E=E+Math.imul(et,be)|0,A=(A=A+Math.imul(et,xe)|0)+Math.imul(Ze,be)|0,j=j+Math.imul(Ze,xe)|0;var Ut=(K+(E=E+Math.imul($e,Ve)|0)|0)+((8191&(A=(A=A+Math.imul($e,Pe)|0)+Math.imul(it,Ve)|0))<<13)|0;K=((j=j+Math.imul(it,Pe)|0)+(A>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,E=Math.imul(Ee,ye),A=(A=Math.imul(Ee,ue))+Math.imul(Oe,ye)|0,j=Math.imul(Oe,ue),E=E+Math.imul(mt,be)|0,A=(A=A+Math.imul(mt,xe)|0)+Math.imul(Me,be)|0,j=j+Math.imul(Me,xe)|0;var Jt=(K+(E=E+Math.imul(et,Ve)|0)|0)+((8191&(A=(A=A+Math.imul(et,Pe)|0)+Math.imul(Ze,Ve)|0))<<13)|0;K=((j=j+Math.imul(Ze,Pe)|0)+(A>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,E=Math.imul(Ee,be),A=(A=Math.imul(Ee,xe))+Math.imul(Oe,be)|0,j=Math.imul(Oe,xe);var rr=(K+(E=E+Math.imul(mt,Ve)|0)|0)+((8191&(A=(A=A+Math.imul(mt,Pe)|0)+Math.imul(Me,Ve)|0))<<13)|0;K=((j=j+Math.imul(Me,Pe)|0)+(A>>>13)|0)+(rr>>>26)|0,rr&=67108863;var Xt=(K+(E=Math.imul(Ee,Ve))|0)+((8191&(A=(A=Math.imul(Ee,Pe))+Math.imul(Oe,Ve)|0))<<13)|0;return K=((j=Math.imul(Oe,Pe))+(A>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,Q[0]=qe,Q[1]=Xe,Q[2]=yt,Q[3]=St,Q[4]=kt,Q[5]=me,Q[6]=Ne,Q[7]=Ke,Q[8]=dt,Q[9]=Et,Q[10]=xt,Q[11]=At,Q[12]=Qt,Q[13]=qt,Q[14]=Gt,Q[15]=Ut,Q[16]=Jt,Q[17]=rr,Q[18]=Xt,K!==0&&(Q[19]=K,k.length++),k};function P(C,S,k){k.negative=S.negative^C.negative,k.length=C.length+S.length;for(var E=0,A=0,j=0;j<k.length-1;j++){var B=A;A=0;for(var D=67108863&E,Q=Math.min(j,S.length-1),K=Math.max(0,j-C.length+1);K<=Q;K++){var ee=j-K,W=(0|C.words[ee])*(0|S.words[K]),te=67108863&W;D=67108863&(te=te+D|0),A+=(B=(B=B+(W/67108864|0)|0)+(te>>>26)|0)>>>26,B&=67108863}k.words[j]=D,E=B,B=A}return E!==0?k.words[j]=E:k.length--,k._strip()}function H(C,S,k){return P(C,S,k)}Math.imul||(R=T),o.prototype.mulTo=function(C,S){var k=this.length+C.length;return this.length===10&&C.length===10?R(this,C,S):k<63?T(this,C,S):k<1024?P(this,C,S):H(this,C,S)},o.prototype.mul=function(C){var S=new o(null);return S.words=new Array(this.length+C.length),this.mulTo(C,S)},o.prototype.mulf=function(C){var S=new o(null);return S.words=new Array(this.length+C.length),H(this,C,S)},o.prototype.imul=function(C){return this.clone().mulTo(C,this)},o.prototype.imuln=function(C){var S=C<0;S&&(C=-C),l(typeof C=="number"),l(C<67108864);for(var k=0,E=0;E<this.length;E++){var A=(0|this.words[E])*C,j=(67108863&A)+(67108863&k);k>>=26,k+=A/67108864|0,k+=j>>>26,this.words[E]=67108863&j}return k!==0&&(this.words[E]=k,this.length++),S?this.ineg():this},o.prototype.muln=function(C){return this.clone().imuln(C)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(C){var S=(function(j){for(var B=new Array(j.bitLength()),D=0;D<B.length;D++){var Q=D/26|0,K=D%26;B[D]=j.words[Q]>>>K&1}return B})(C);if(S.length===0)return new o(1);for(var k=this,E=0;E<S.length&&S[E]===0;E++,k=k.sqr());if(++E<S.length)for(var A=k.sqr();E<S.length;E++,A=A.sqr())S[E]!==0&&(k=k.mul(A));return k},o.prototype.iushln=function(C){l(typeof C=="number"&&C>=0);var S,k=C%26,E=(C-k)/26,A=67108863>>>26-k<<26-k;if(k!==0){var j=0;for(S=0;S<this.length;S++){var B=this.words[S]&A,D=(0|this.words[S])-B<<k;this.words[S]=D|j,j=B>>>26-k}j&&(this.words[S]=j,this.length++)}if(E!==0){for(S=this.length-1;S>=0;S--)this.words[S+E]=this.words[S];for(S=0;S<E;S++)this.words[S]=0;this.length+=E}return this._strip()},o.prototype.ishln=function(C){return l(this.negative===0),this.iushln(C)},o.prototype.iushrn=function(C,S,k){var E;l(typeof C=="number"&&C>=0),E=S?(S-S%26)/26:0;var A=C%26,j=Math.min((C-A)/26,this.length),B=67108863^67108863>>>A<<A,D=k;if(E-=j,E=Math.max(0,E),D){for(var Q=0;Q<j;Q++)D.words[Q]=this.words[Q];D.length=j}if(j!==0)if(this.length>j)for(this.length-=j,Q=0;Q<this.length;Q++)this.words[Q]=this.words[Q+j];else this.words[0]=0,this.length=1;var K=0;for(Q=this.length-1;Q>=0&&(K!==0||Q>=E);Q--){var ee=0|this.words[Q];this.words[Q]=K<<26-A|ee>>>A,K=ee&B}return D&&K!==0&&(D.words[D.length++]=K),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(C,S,k){return l(this.negative===0),this.iushrn(C,S,k)},o.prototype.shln=function(C){return this.clone().ishln(C)},o.prototype.ushln=function(C){return this.clone().iushln(C)},o.prototype.shrn=function(C){return this.clone().ishrn(C)},o.prototype.ushrn=function(C){return this.clone().iushrn(C)},o.prototype.testn=function(C){l(typeof C=="number"&&C>=0);var S=C%26,k=(C-S)/26,E=1<<S;return!(this.length<=k)&&!!(this.words[k]&E)},o.prototype.imaskn=function(C){l(typeof C=="number"&&C>=0);var S=C%26,k=(C-S)/26;if(l(this.negative===0,"imaskn works only with positive numbers"),this.length<=k)return this;if(S!==0&&k++,this.length=Math.min(k,this.length),S!==0){var E=67108863^67108863>>>S<<S;this.words[this.length-1]&=E}return this._strip()},o.prototype.maskn=function(C){return this.clone().imaskn(C)},o.prototype.iaddn=function(C){return l(typeof C=="number"),l(C<67108864),C<0?this.isubn(-C):this.negative!==0?this.length===1&&(0|this.words[0])<=C?(this.words[0]=C-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(C),this.negative=1,this):this._iaddn(C)},o.prototype._iaddn=function(C){this.words[0]+=C;for(var S=0;S<this.length&&this.words[S]>=67108864;S++)this.words[S]-=67108864,S===this.length-1?this.words[S+1]=1:this.words[S+1]++;return this.length=Math.max(this.length,S+1),this},o.prototype.isubn=function(C){if(l(typeof C=="number"),l(C<67108864),C<0)return this.iaddn(-C);if(this.negative!==0)return this.negative=0,this.iaddn(C),this.negative=1,this;if(this.words[0]-=C,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var S=0;S<this.length&&this.words[S]<0;S++)this.words[S]+=67108864,this.words[S+1]-=1;return this._strip()},o.prototype.addn=function(C){return this.clone().iaddn(C)},o.prototype.subn=function(C){return this.clone().isubn(C)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(C,S,k){var E,A,j=C.length+k;this._expand(j);var B=0;for(E=0;E<C.length;E++){A=(0|this.words[E+k])+B;var D=(0|C.words[E])*S;B=((A-=67108863&D)>>26)-(D/67108864|0),this.words[E+k]=67108863&A}for(;E<this.length-k;E++)B=(A=(0|this.words[E+k])+B)>>26,this.words[E+k]=67108863&A;if(B===0)return this._strip();for(l(B===-1),B=0,E=0;E<this.length;E++)B=(A=-(0|this.words[E])+B)>>26,this.words[E]=67108863&A;return this.negative=1,this._strip()},o.prototype._wordDiv=function(C,S){var k=(this.length,C.length),E=this.clone(),A=C,j=0|A.words[A.length-1];(k=26-this._countBits(j))!==0&&(A=A.ushln(k),E.iushln(k),j=0|A.words[A.length-1]);var B,D=E.length-A.length;if(S!=="mod"){(B=new o(null)).length=D+1,B.words=new Array(B.length);for(var Q=0;Q<B.length;Q++)B.words[Q]=0}var K=E.clone()._ishlnsubmul(A,1,D);K.negative===0&&(E=K,B&&(B.words[D]=1));for(var ee=D-1;ee>=0;ee--){var W=67108864*(0|E.words[A.length+ee])+(0|E.words[A.length+ee-1]);for(W=Math.min(W/j|0,67108863),E._ishlnsubmul(A,W,ee);E.negative!==0;)W--,E.negative=0,E._ishlnsubmul(A,1,ee),E.isZero()||(E.negative^=1);B&&(B.words[ee]=W)}return B&&B._strip(),E._strip(),S!=="div"&&k!==0&&E.iushrn(k),{div:B||null,mod:E}},o.prototype.divmod=function(C,S,k){return l(!C.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:this.negative!==0&&C.negative===0?(j=this.neg().divmod(C,S),S!=="mod"&&(E=j.div.neg()),S!=="div"&&(A=j.mod.neg(),k&&A.negative!==0&&A.iadd(C)),{div:E,mod:A}):this.negative===0&&C.negative!==0?(j=this.divmod(C.neg(),S),S!=="mod"&&(E=j.div.neg()),{div:E,mod:j.mod}):(this.negative&C.negative)!=0?(j=this.neg().divmod(C.neg(),S),S!=="div"&&(A=j.mod.neg(),k&&A.negative!==0&&A.isub(C)),{div:j.div,mod:A}):C.length>this.length||this.cmp(C)<0?{div:new o(0),mod:this}:C.length===1?S==="div"?{div:this.divn(C.words[0]),mod:null}:S==="mod"?{div:null,mod:new o(this.modrn(C.words[0]))}:{div:this.divn(C.words[0]),mod:new o(this.modrn(C.words[0]))}:this._wordDiv(C,S);var E,A,j},o.prototype.div=function(C){return this.divmod(C,"div",!1).div},o.prototype.mod=function(C){return this.divmod(C,"mod",!1).mod},o.prototype.umod=function(C){return this.divmod(C,"mod",!0).mod},o.prototype.divRound=function(C){var S=this.divmod(C);if(S.mod.isZero())return S.div;var k=S.div.negative!==0?S.mod.isub(C):S.mod,E=C.ushrn(1),A=C.andln(1),j=k.cmp(E);return j<0||A===1&&j===0?S.div:S.div.negative!==0?S.div.isubn(1):S.div.iaddn(1)},o.prototype.modrn=function(C){var S=C<0;S&&(C=-C),l(C<=67108863);for(var k=(1<<26)%C,E=0,A=this.length-1;A>=0;A--)E=(k*E+(0|this.words[A]))%C;return S?-E:E},o.prototype.modn=function(C){return this.modrn(C)},o.prototype.idivn=function(C){var S=C<0;S&&(C=-C),l(C<=67108863);for(var k=0,E=this.length-1;E>=0;E--){var A=(0|this.words[E])+67108864*k;this.words[E]=A/C|0,k=A%C}return this._strip(),S?this.ineg():this},o.prototype.divn=function(C){return this.clone().idivn(C)},o.prototype.egcd=function(C){l(C.negative===0),l(!C.isZero());var S=this,k=C.clone();S=S.negative!==0?S.umod(C):S.clone();for(var E=new o(1),A=new o(0),j=new o(0),B=new o(1),D=0;S.isEven()&&k.isEven();)S.iushrn(1),k.iushrn(1),++D;for(var Q=k.clone(),K=S.clone();!S.isZero();){for(var ee=0,W=1;(S.words[0]&W)==0&&ee<26;++ee,W<<=1);if(ee>0)for(S.iushrn(ee);ee-- >0;)(E.isOdd()||A.isOdd())&&(E.iadd(Q),A.isub(K)),E.iushrn(1),A.iushrn(1);for(var te=0,G=1;(k.words[0]&G)==0&&te<26;++te,G<<=1);if(te>0)for(k.iushrn(te);te-- >0;)(j.isOdd()||B.isOdd())&&(j.iadd(Q),B.isub(K)),j.iushrn(1),B.iushrn(1);S.cmp(k)>=0?(S.isub(k),E.isub(j),A.isub(B)):(k.isub(S),j.isub(E),B.isub(A))}return{a:j,b:B,gcd:k.iushln(D)}},o.prototype._invmp=function(C){l(C.negative===0),l(!C.isZero());var S=this,k=C.clone();S=S.negative!==0?S.umod(C):S.clone();for(var E,A=new o(1),j=new o(0),B=k.clone();S.cmpn(1)>0&&k.cmpn(1)>0;){for(var D=0,Q=1;(S.words[0]&Q)==0&&D<26;++D,Q<<=1);if(D>0)for(S.iushrn(D);D-- >0;)A.isOdd()&&A.iadd(B),A.iushrn(1);for(var K=0,ee=1;(k.words[0]&ee)==0&&K<26;++K,ee<<=1);if(K>0)for(k.iushrn(K);K-- >0;)j.isOdd()&&j.iadd(B),j.iushrn(1);S.cmp(k)>=0?(S.isub(k),A.isub(j)):(k.isub(S),j.isub(A))}return(E=S.cmpn(1)===0?A:j).cmpn(0)<0&&E.iadd(C),E},o.prototype.gcd=function(C){if(this.isZero())return C.abs();if(C.isZero())return this.abs();var S=this.clone(),k=C.clone();S.negative=0,k.negative=0;for(var E=0;S.isEven()&&k.isEven();E++)S.iushrn(1),k.iushrn(1);for(;;){for(;S.isEven();)S.iushrn(1);for(;k.isEven();)k.iushrn(1);var A=S.cmp(k);if(A<0){var j=S;S=k,k=j}else if(A===0||k.cmpn(1)===0)break;S.isub(k)}return k.iushln(E)},o.prototype.invm=function(C){return this.egcd(C).a.umod(C)},o.prototype.isEven=function(){return(1&this.words[0])==0},o.prototype.isOdd=function(){return(1&this.words[0])==1},o.prototype.andln=function(C){return this.words[0]&C},o.prototype.bincn=function(C){l(typeof C=="number");var S=C%26,k=(C-S)/26,E=1<<S;if(this.length<=k)return this._expand(k+1),this.words[k]|=E,this;for(var A=E,j=k;A!==0&&j<this.length;j++){var B=0|this.words[j];A=(B+=A)>>>26,B&=67108863,this.words[j]=B}return A!==0&&(this.words[j]=A,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(C){var S,k=C<0;if(this.negative!==0&&!k)return-1;if(this.negative===0&&k)return 1;if(this._strip(),this.length>1)S=1;else{k&&(C=-C),l(C<=67108863,"Number is too big");var E=0|this.words[0];S=E===C?0:E<C?-1:1}return this.negative!==0?0|-S:S},o.prototype.cmp=function(C){if(this.negative!==0&&C.negative===0)return-1;if(this.negative===0&&C.negative!==0)return 1;var S=this.ucmp(C);return this.negative!==0?0|-S:S},o.prototype.ucmp=function(C){if(this.length>C.length)return 1;if(this.length<C.length)return-1;for(var S=0,k=this.length-1;k>=0;k--){var E=0|this.words[k],A=0|C.words[k];if(E!==A){E<A?S=-1:E>A&&(S=1);break}}return S},o.prototype.gtn=function(C){return this.cmpn(C)===1},o.prototype.gt=function(C){return this.cmp(C)===1},o.prototype.gten=function(C){return this.cmpn(C)>=0},o.prototype.gte=function(C){return this.cmp(C)>=0},o.prototype.ltn=function(C){return this.cmpn(C)===-1},o.prototype.lt=function(C){return this.cmp(C)===-1},o.prototype.lten=function(C){return this.cmpn(C)<=0},o.prototype.lte=function(C){return this.cmp(C)<=0},o.prototype.eqn=function(C){return this.cmpn(C)===0},o.prototype.eq=function(C){return this.cmp(C)===0},o.red=function(C){return new N(C)},o.prototype.toRed=function(C){return l(!this.red,"Already a number in reduction context"),l(this.negative===0,"red works only with positives"),C.convertTo(this)._forceRed(C)},o.prototype.fromRed=function(){return l(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(C){return this.red=C,this},o.prototype.forceRed=function(C){return l(!this.red,"Already a number in reduction context"),this._forceRed(C)},o.prototype.redAdd=function(C){return l(this.red,"redAdd works only with red numbers"),this.red.add(this,C)},o.prototype.redIAdd=function(C){return l(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,C)},o.prototype.redSub=function(C){return l(this.red,"redSub works only with red numbers"),this.red.sub(this,C)},o.prototype.redISub=function(C){return l(this.red,"redISub works only with red numbers"),this.red.isub(this,C)},o.prototype.redShl=function(C){return l(this.red,"redShl works only with red numbers"),this.red.shl(this,C)},o.prototype.redMul=function(C){return l(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.mul(this,C)},o.prototype.redIMul=function(C){return l(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.imul(this,C)},o.prototype.redSqr=function(){return l(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return l(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return l(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return l(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return l(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(C){return l(this.red&&!C.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,C)};var L={k256:null,p224:null,p192:null,p25519:null};function I(C,S){this.name=C,this.p=new o(S,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function O(){I.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function F(){I.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function q(){I.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function z(){I.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function N(C){if(typeof C=="string"){var S=o._prime(C);this.m=S.p,this.prime=S}else l(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function U(C){N.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}I.prototype._tmp=function(){var C=new o(null);return C.words=new Array(Math.ceil(this.n/13)),C},I.prototype.ireduce=function(C){var S,k=C;do this.split(k,this.tmp),S=(k=(k=this.imulK(k)).iadd(this.tmp)).bitLength();while(S>this.n);var E=S<this.n?-1:k.ucmp(this.p);return E===0?(k.words[0]=0,k.length=1):E>0?k.isub(this.p):k.strip!==void 0?k.strip():k._strip(),k},I.prototype.split=function(C,S){C.iushrn(this.n,0,S)},I.prototype.imulK=function(C){return C.imul(this.k)},c(O,I),O.prototype.split=function(C,S){for(var k=Math.min(C.length,9),E=0;E<k;E++)S.words[E]=C.words[E];if(S.length=k,C.length<=9)return C.words[0]=0,void(C.length=1);var A=C.words[9];for(S.words[S.length++]=4194303&A,E=10;E<C.length;E++){var j=0|C.words[E];C.words[E-10]=(4194303&j)<<4|A>>>22,A=j}A>>>=22,C.words[E-10]=A,A===0&&C.length>10?C.length-=10:C.length-=9},O.prototype.imulK=function(C){C.words[C.length]=0,C.words[C.length+1]=0,C.length+=2;for(var S=0,k=0;k<C.length;k++){var E=0|C.words[k];S+=977*E,C.words[k]=67108863&S,S=64*E+(S/67108864|0)}return C.words[C.length-1]===0&&(C.length--,C.words[C.length-1]===0&&C.length--),C},c(F,I),c(q,I),c(z,I),z.prototype.imulK=function(C){for(var S=0,k=0;k<C.length;k++){var E=19*(0|C.words[k])+S,A=67108863&E;E>>>=26,C.words[k]=A,S=E}return S!==0&&(C.words[C.length++]=S),C},o._prime=function(C){if(L[C])return L[C];var S;if(C==="k256")S=new O;else if(C==="p224")S=new F;else if(C==="p192")S=new q;else{if(C!=="p25519")throw new Error("Unknown prime "+C);S=new z}return L[C]=S,S},N.prototype._verify1=function(C){l(C.negative===0,"red works only with positives"),l(C.red,"red works only with red numbers")},N.prototype._verify2=function(C,S){l((C.negative|S.negative)==0,"red works only with positives"),l(C.red&&C.red===S.red,"red works only with red numbers")},N.prototype.imod=function(C){return this.prime?this.prime.ireduce(C)._forceRed(this):(x(C,C.umod(this.m)._forceRed(this)),C)},N.prototype.neg=function(C){return C.isZero()?C.clone():this.m.sub(C)._forceRed(this)},N.prototype.add=function(C,S){this._verify2(C,S);var k=C.add(S);return k.cmp(this.m)>=0&&k.isub(this.m),k._forceRed(this)},N.prototype.iadd=function(C,S){this._verify2(C,S);var k=C.iadd(S);return k.cmp(this.m)>=0&&k.isub(this.m),k},N.prototype.sub=function(C,S){this._verify2(C,S);var k=C.sub(S);return k.cmpn(0)<0&&k.iadd(this.m),k._forceRed(this)},N.prototype.isub=function(C,S){this._verify2(C,S);var k=C.isub(S);return k.cmpn(0)<0&&k.iadd(this.m),k},N.prototype.shl=function(C,S){return this._verify1(C),this.imod(C.ushln(S))},N.prototype.imul=function(C,S){return this._verify2(C,S),this.imod(C.imul(S))},N.prototype.mul=function(C,S){return this._verify2(C,S),this.imod(C.mul(S))},N.prototype.isqr=function(C){return this.imul(C,C.clone())},N.prototype.sqr=function(C){return this.mul(C,C)},N.prototype.sqrt=function(C){if(C.isZero())return C.clone();var S=this.m.andln(3);if(l(S%2==1),S===3){var k=this.m.add(new o(1)).iushrn(2);return this.pow(C,k)}for(var E=this.m.subn(1),A=0;!E.isZero()&&E.andln(1)===0;)A++,E.iushrn(1);l(!E.isZero());var j=new o(1).toRed(this),B=j.redNeg(),D=this.m.subn(1).iushrn(1),Q=this.m.bitLength();for(Q=new o(2*Q*Q).toRed(this);this.pow(Q,D).cmp(B)!==0;)Q.redIAdd(B);for(var K=this.pow(Q,E),ee=this.pow(C,E.addn(1).iushrn(1)),W=this.pow(C,E),te=A;W.cmp(j)!==0;){for(var G=W,V=0;G.cmp(j)!==0;V++)G=G.redSqr();l(V<te);var Z=this.pow(K,new o(1).iushln(te-V-1));ee=ee.redMul(Z),K=Z.redSqr(),W=W.redMul(K),te=V}return ee},N.prototype.invm=function(C){var S=C._invmp(this.m);return S.negative!==0?(S.negative=0,this.imod(S).redNeg()):this.imod(S)},N.prototype.pow=function(C,S){if(S.isZero())return new o(1).toRed(this);if(S.cmpn(1)===0)return C.clone();var k=new Array(16);k[0]=new o(1).toRed(this),k[1]=C;for(var E=2;E<k.length;E++)k[E]=this.mul(k[E-1],C);var A=k[0],j=0,B=0,D=S.bitLength()%26;for(D===0&&(D=26),E=S.length-1;E>=0;E--){for(var Q=S.words[E],K=D-1;K>=0;K--){var ee=Q>>K&1;A!==k[0]&&(A=this.sqr(A)),ee!==0||j!==0?(j<<=1,j|=ee,(++B===4||E===0&&K===0)&&(A=this.mul(A,k[j]),B=0,j=0)):B=0}D=26}return A},N.prototype.convertTo=function(C){var S=C.umod(this.m);return S===C?S.clone():S},N.prototype.convertFrom=function(C){var S=C.clone();return S.red=null,S},o.mont=function(C){return new U(C)},c(U,N),U.prototype.convertTo=function(C){return this.imod(C.ushln(this.shift))},U.prototype.convertFrom=function(C){var S=this.imod(C.mul(this.rinv));return S.red=null,S},U.prototype.imul=function(C,S){if(C.isZero()||S.isZero())return C.words[0]=0,C.length=1,C;var k=C.imul(S),E=k.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=k.isub(E).iushrn(this.shift),j=A;return A.cmp(this.m)>=0?j=A.isub(this.m):A.cmpn(0)<0&&(j=A.iadd(this.m)),j._forceRed(this)},U.prototype.mul=function(C,S){if(C.isZero()||S.isZero())return new o(0)._forceRed(this);var k=C.mul(S),E=k.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=k.isub(E).iushrn(this.shift),j=A;return A.cmp(this.m)>=0?j=A.isub(this.m):A.cmpn(0)<0&&(j=A.iadd(this.m)),j._forceRed(this)},U.prototype.invm=function(C){return this.imod(C._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],187:[function(e,n,s){var i;function a(c){this.rand=c}if(n.exports=function(c){return i||(i=new a(null)),i.generate(c)},n.exports.Rand=a,a.prototype.generate=function(c){return this._rand(c)},a.prototype._rand=function(c){if(this.rand.getBytes)return this.rand.getBytes(c);for(var o=new Uint8Array(c),u=0;u<o.length;u++)o[u]=this.rand.getByte();return o},typeof self=="object")self.crypto&&self.crypto.getRandomValues?a.prototype._rand=function(c){var o=new Uint8Array(c);return self.crypto.getRandomValues(o),o}:self.msCrypto&&self.msCrypto.getRandomValues?a.prototype._rand=function(c){var o=new Uint8Array(c);return self.msCrypto.getRandomValues(o),o}:typeof window=="object"&&(a.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var l=e("crypto");if(typeof l.randomBytes!="function")throw new Error("Not supported");a.prototype._rand=function(c){return l.randomBytes(c)}}catch{}},{crypto:188}],188:[function(e,n,s){},{}],189:[function(e,n,s){var i=e("safe-buffer").Buffer;function a(h){i.isBuffer(h)||(h=i.from(h));for(var d=h.length/4|0,x=new Array(d),b=0;b<d;b++)x[b]=h.readUInt32BE(4*b);return x}function l(h){for(;0<h.length;h++)h[0]=0}function c(h,d,x,b,g){for(var v,y,T,R,P=x[0],H=x[1],L=x[2],I=x[3],O=h[0]^d[0],F=h[1]^d[1],q=h[2]^d[2],z=h[3]^d[3],N=4,U=1;U<g;U++)v=P[O>>>24]^H[F>>>16&255]^L[q>>>8&255]^I[255&z]^d[N++],y=P[F>>>24]^H[q>>>16&255]^L[z>>>8&255]^I[255&O]^d[N++],T=P[q>>>24]^H[z>>>16&255]^L[O>>>8&255]^I[255&F]^d[N++],R=P[z>>>24]^H[O>>>16&255]^L[F>>>8&255]^I[255&q]^d[N++],O=v,F=y,q=T,z=R;return v=(b[O>>>24]<<24|b[F>>>16&255]<<16|b[q>>>8&255]<<8|b[255&z])^d[N++],y=(b[F>>>24]<<24|b[q>>>16&255]<<16|b[z>>>8&255]<<8|b[255&O])^d[N++],T=(b[q>>>24]<<24|b[z>>>16&255]<<16|b[O>>>8&255]<<8|b[255&F])^d[N++],R=(b[z>>>24]<<24|b[O>>>16&255]<<16|b[F>>>8&255]<<8|b[255&q])^d[N++],[v>>>=0,y>>>=0,T>>>=0,R>>>=0]}var o=[0,1,2,4,8,16,32,64,128,27,54],u=(function(){for(var h=new Array(256),d=0;d<256;d++)h[d]=d<128?d<<1:d<<1^283;for(var x=[],b=[],g=[[],[],[],[]],v=[[],[],[],[]],y=0,T=0,R=0;R<256;++R){var P=T^T<<1^T<<2^T<<3^T<<4;P=P>>>8^255&P^99,x[y]=P,b[P]=y;var H=h[y],L=h[H],I=h[L],O=257*h[P]^16843008*P;g[0][y]=O<<24|O>>>8,g[1][y]=O<<16|O>>>16,g[2][y]=O<<8|O>>>24,g[3][y]=O,O=16843009*I^65537*L^257*H^16843008*y,v[0][P]=O<<24|O>>>8,v[1][P]=O<<16|O>>>16,v[2][P]=O<<8|O>>>24,v[3][P]=O,y===0?y=T=1:(y=H^h[h[h[I^H]]],T^=h[h[T]])}return{SBOX:x,INV_SBOX:b,SUB_MIX:g,INV_SUB_MIX:v}})();function p(h){this._key=a(h),this._reset()}p.blockSize=16,p.keySize=32,p.prototype.blockSize=p.blockSize,p.prototype.keySize=p.keySize,p.prototype._reset=function(){for(var h=this._key,d=h.length,x=d+6,b=4*(x+1),g=[],v=0;v<d;v++)g[v]=h[v];for(v=d;v<b;v++){var y=g[v-1];v%d==0?(y=y<<8|y>>>24,y=u.SBOX[y>>>24]<<24|u.SBOX[y>>>16&255]<<16|u.SBOX[y>>>8&255]<<8|u.SBOX[255&y],y^=o[v/d|0]<<24):d>6&&v%d==4&&(y=u.SBOX[y>>>24]<<24|u.SBOX[y>>>16&255]<<16|u.SBOX[y>>>8&255]<<8|u.SBOX[255&y]),g[v]=g[v-d]^y}for(var T=[],R=0;R<b;R++){var P=b-R,H=g[P-(R%4?0:4)];T[R]=R<4||P<=4?H:u.INV_SUB_MIX[0][u.SBOX[H>>>24]]^u.INV_SUB_MIX[1][u.SBOX[H>>>16&255]]^u.INV_SUB_MIX[2][u.SBOX[H>>>8&255]]^u.INV_SUB_MIX[3][u.SBOX[255&H]]}this._nRounds=x,this._keySchedule=g,this._invKeySchedule=T},p.prototype.encryptBlockRaw=function(h){return c(h=a(h),this._keySchedule,u.SUB_MIX,u.SBOX,this._nRounds)},p.prototype.encryptBlock=function(h){var d=this.encryptBlockRaw(h),x=i.allocUnsafe(16);return x.writeUInt32BE(d[0],0),x.writeUInt32BE(d[1],4),x.writeUInt32BE(d[2],8),x.writeUInt32BE(d[3],12),x},p.prototype.decryptBlock=function(h){var d=(h=a(h))[1];h[1]=h[3],h[3]=d;var x=c(h,this._invKeySchedule,u.INV_SUB_MIX,u.INV_SBOX,this._nRounds),b=i.allocUnsafe(16);return b.writeUInt32BE(x[0],0),b.writeUInt32BE(x[3],4),b.writeUInt32BE(x[2],8),b.writeUInt32BE(x[1],12),b},p.prototype.scrub=function(){l(this._keySchedule),l(this._invKeySchedule),l(this._key)},n.exports.AES=p},{"safe-buffer":494}],190:[function(e,n,s){var i=e("./aes"),a=e("safe-buffer").Buffer,l=e("cipher-base"),c=e("inherits"),o=e("./ghash"),u=e("buffer-xor"),p=e("./incr32");function h(d,x,b,g){l.call(this);var v=a.alloc(4,0);this._cipher=new i.AES(x);var y=this._cipher.encryptBlock(v);this._ghash=new o(y),b=(function(T,R,P){if(R.length===12)return T._finID=a.concat([R,a.from([0,0,0,1])]),a.concat([R,a.from([0,0,0,2])]);var H=new o(P),L=R.length,I=L%16;H.update(R),I&&(I=16-I,H.update(a.alloc(I,0))),H.update(a.alloc(8,0));var O=8*L,F=a.alloc(8);F.writeUIntBE(O,0,8),H.update(F),T._finID=H.state;var q=a.from(T._finID);return p(q),q})(this,b,y),this._prev=a.from(b),this._cache=a.allocUnsafe(0),this._secCache=a.allocUnsafe(0),this._decrypt=g,this._alen=0,this._len=0,this._mode=d,this._authTag=null,this._called=!1}c(h,l),h.prototype._update=function(d){if(!this._called&&this._alen){var x=16-this._alen%16;x<16&&(x=a.alloc(x,0),this._ghash.update(x))}this._called=!0;var b=this._mode.encrypt(this,d);return this._decrypt?this._ghash.update(d):this._ghash.update(b),this._len+=d.length,b},h.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var d=u(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&(function(x,b){var g=0;x.length!==b.length&&g++;for(var v=Math.min(x.length,b.length),y=0;y<v;++y)g+=x[y]^b[y];return g})(d,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=d,this._cipher.scrub()},h.prototype.getAuthTag=function(){if(this._decrypt||!a.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},h.prototype.setAuthTag=function(d){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=d},h.prototype.setAAD=function(d){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(d),this._alen+=d.length},n.exports=h},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(e,n,s){var i=e("./encrypter"),a=e("./decrypter"),l=e("./modes/list.json");s.createCipher=s.Cipher=i.createCipher,s.createCipheriv=s.Cipheriv=i.createCipheriv,s.createDecipher=s.Decipher=a.createDecipher,s.createDecipheriv=s.Decipheriv=a.createDecipheriv,s.listCiphers=s.getCiphers=function(){return Object.keys(l)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(e,n,s){var i=e("./authCipher"),a=e("safe-buffer").Buffer,l=e("./modes"),c=e("./streamCipher"),o=e("cipher-base"),u=e("./aes"),p=e("evp_bytestokey");function h(b,g,v){o.call(this),this._cache=new d,this._last=void 0,this._cipher=new u.AES(g),this._prev=a.from(v),this._mode=b,this._autopadding=!0}function d(){this.cache=a.allocUnsafe(0)}function x(b,g,v){var y=l[b.toLowerCase()];if(!y)throw new TypeError("invalid suite type");if(typeof v=="string"&&(v=a.from(v)),y.mode!=="GCM"&&v.length!==y.iv)throw new TypeError("invalid iv length "+v.length);if(typeof g=="string"&&(g=a.from(g)),g.length!==y.key/8)throw new TypeError("invalid key length "+g.length);return y.type==="stream"?new c(y.module,g,v,!0):y.type==="auth"?new i(y.module,g,v,!0):new h(y.module,g,v)}e("inherits")(h,o),h.prototype._update=function(b){var g,v;this._cache.add(b);for(var y=[];g=this._cache.get(this._autopadding);)v=this._mode.decrypt(this,g),y.push(v);return a.concat(y)},h.prototype._final=function(){var b=this._cache.flush();if(this._autopadding)return(function(g){var v=g[15];if(v<1||v>16)throw new Error("unable to decrypt data");for(var y=-1;++y<v;)if(g[y+(16-v)]!==v)throw new Error("unable to decrypt data");if(v!==16)return g.slice(0,16-v)})(this._mode.decrypt(this,b));if(b)throw new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(b){return this._autopadding=!!b,this},d.prototype.add=function(b){this.cache=a.concat([this.cache,b])},d.prototype.get=function(b){var g;if(b){if(this.cache.length>16)return g=this.cache.slice(0,16),this.cache=this.cache.slice(16),g}else if(this.cache.length>=16)return g=this.cache.slice(0,16),this.cache=this.cache.slice(16),g;return null},d.prototype.flush=function(){if(this.cache.length)return this.cache},s.createDecipher=function(b,g){var v=l[b.toLowerCase()];if(!v)throw new TypeError("invalid suite type");var y=p(g,!1,v.key,v.iv);return x(b,y.key,y.iv)},s.createDecipheriv=x},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(e,n,s){var i=e("./modes"),a=e("./authCipher"),l=e("safe-buffer").Buffer,c=e("./streamCipher"),o=e("cipher-base"),u=e("./aes"),p=e("evp_bytestokey");function h(g,v,y){o.call(this),this._cache=new x,this._cipher=new u.AES(v),this._prev=l.from(y),this._mode=g,this._autopadding=!0}e("inherits")(h,o),h.prototype._update=function(g){var v,y;this._cache.add(g);for(var T=[];v=this._cache.get();)y=this._mode.encrypt(this,v),T.push(y);return l.concat(T)};var d=l.alloc(16,16);function x(){this.cache=l.allocUnsafe(0)}function b(g,v,y){var T=i[g.toLowerCase()];if(!T)throw new TypeError("invalid suite type");if(typeof v=="string"&&(v=l.from(v)),v.length!==T.key/8)throw new TypeError("invalid key length "+v.length);if(typeof y=="string"&&(y=l.from(y)),T.mode!=="GCM"&&y.length!==T.iv)throw new TypeError("invalid iv length "+y.length);return T.type==="stream"?new c(T.module,v,y):T.type==="auth"?new a(T.module,v,y):new h(T.module,v,y)}h.prototype._final=function(){var g=this._cache.flush();if(this._autopadding)return g=this._mode.encrypt(this,g),this._cipher.scrub(),g;if(!g.equals(d))throw this._cipher.scrub(),new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(g){return this._autopadding=!!g,this},x.prototype.add=function(g){this.cache=l.concat([this.cache,g])},x.prototype.get=function(){if(this.cache.length>15){var g=this.cache.slice(0,16);return this.cache=this.cache.slice(16),g}return null},x.prototype.flush=function(){for(var g=16-this.cache.length,v=l.allocUnsafe(g),y=-1;++y<g;)v.writeUInt8(g,y);return l.concat([this.cache,v])},s.createCipheriv=b,s.createCipher=function(g,v){var y=i[g.toLowerCase()];if(!y)throw new TypeError("invalid suite type");var T=p(v,!1,y.key,y.iv);return b(g,T.key,T.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(e,n,s){var i=e("safe-buffer").Buffer,a=i.alloc(16,0);function l(o){var u=i.allocUnsafe(16);return u.writeUInt32BE(o[0]>>>0,0),u.writeUInt32BE(o[1]>>>0,4),u.writeUInt32BE(o[2]>>>0,8),u.writeUInt32BE(o[3]>>>0,12),u}function c(o){this.h=o,this.state=i.alloc(16,0),this.cache=i.allocUnsafe(0)}c.prototype.ghash=function(o){for(var u=-1;++u<o.length;)this.state[u]^=o[u];this._multiply()},c.prototype._multiply=function(){for(var o,u,p,h=[(o=this.h).readUInt32BE(0),o.readUInt32BE(4),o.readUInt32BE(8),o.readUInt32BE(12)],d=[0,0,0,0],x=-1;++x<128;){for((this.state[~~(x/8)]&1<<7-x%8)!=0&&(d[0]^=h[0],d[1]^=h[1],d[2]^=h[2],d[3]^=h[3]),p=(1&h[3])!=0,u=3;u>0;u--)h[u]=h[u]>>>1|(1&h[u-1])<<31;h[0]=h[0]>>>1,p&&(h[0]=h[0]^225<<24)}this.state=l(d)},c.prototype.update=function(o){var u;for(this.cache=i.concat([this.cache,o]);this.cache.length>=16;)u=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(u)},c.prototype.final=function(o,u){return this.cache.length&&this.ghash(i.concat([this.cache,a],16)),this.ghash(l([0,o,0,u])),this.state},n.exports=c},{"safe-buffer":494}],195:[function(e,n,s){n.exports=function(i){for(var a,l=i.length;l--;){if((a=i.readUInt8(l))!==255){a++,i.writeUInt8(a,l);break}i.writeUInt8(0,l)}}},{}],196:[function(e,n,s){var i=e("buffer-xor");s.encrypt=function(a,l){var c=i(l,a._prev);return a._prev=a._cipher.encryptBlock(c),a._prev},s.decrypt=function(a,l){var c=a._prev;a._prev=l;var o=a._cipher.decryptBlock(l);return i(o,c)}},{"buffer-xor":219}],197:[function(e,n,s){var i=e("safe-buffer").Buffer,a=e("buffer-xor");function l(c,o,u){var p=o.length,h=a(o,c._cache);return c._cache=c._cache.slice(p),c._prev=i.concat([c._prev,u?o:h]),h}s.encrypt=function(c,o,u){for(var p,h=i.allocUnsafe(0);o.length;){if(c._cache.length===0&&(c._cache=c._cipher.encryptBlock(c._prev),c._prev=i.allocUnsafe(0)),!(c._cache.length<=o.length)){h=i.concat([h,l(c,o,u)]);break}p=c._cache.length,h=i.concat([h,l(c,o.slice(0,p),u)]),o=o.slice(p)}return h}},{"buffer-xor":219,"safe-buffer":494}],198:[function(e,n,s){var i=e("safe-buffer").Buffer;function a(c,o,u){for(var p,h,d=-1,x=0;++d<8;)p=o&1<<7-d?128:0,x+=(128&(h=c._cipher.encryptBlock(c._prev)[0]^p))>>d%8,c._prev=l(c._prev,u?p:h);return x}function l(c,o){var u=c.length,p=-1,h=i.allocUnsafe(c.length);for(c=i.concat([c,i.from([o])]);++p<u;)h[p]=c[p]<<1|c[p+1]>>7;return h}s.encrypt=function(c,o,u){for(var p=o.length,h=i.allocUnsafe(p),d=-1;++d<p;)h[d]=a(c,o[d],u);return h}},{"safe-buffer":494}],199:[function(e,n,s){var i=e("safe-buffer").Buffer;function a(l,c,o){var u=l._cipher.encryptBlock(l._prev)[0]^c;return l._prev=i.concat([l._prev.slice(1),i.from([o?c:u])]),u}s.encrypt=function(l,c,o){for(var u=c.length,p=i.allocUnsafe(u),h=-1;++h<u;)p[h]=a(l,c[h],o);return p}},{"safe-buffer":494}],200:[function(e,n,s){var i=e("buffer-xor"),a=e("safe-buffer").Buffer,l=e("../incr32");function c(o){var u=o._cipher.encryptBlockRaw(o._prev);return l(o._prev),u}s.encrypt=function(o,u){var p=Math.ceil(u.length/16),h=o._cache.length;o._cache=a.concat([o._cache,a.allocUnsafe(16*p)]);for(var d=0;d<p;d++){var x=c(o),b=h+16*d;o._cache.writeUInt32BE(x[0],b+0),o._cache.writeUInt32BE(x[1],b+4),o._cache.writeUInt32BE(x[2],b+8),o._cache.writeUInt32BE(x[3],b+12)}var g=o._cache.slice(0,u.length);return o._cache=o._cache.slice(u.length),i(u,g)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(e,n,s){s.encrypt=function(i,a){return i._cipher.encryptBlock(a)},s.decrypt=function(i,a){return i._cipher.decryptBlock(a)}},{}],202:[function(e,n,s){var i={ECB:e("./ecb"),CBC:e("./cbc"),CFB:e("./cfb"),CFB8:e("./cfb8"),CFB1:e("./cfb1"),OFB:e("./ofb"),CTR:e("./ctr"),GCM:e("./ctr")},a=e("./list.json");for(var l in a)a[l].module=i[a[l].mode];n.exports=a},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(e,n,s){n.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(e,n,s){(function(i){(function(){var a=e("buffer-xor");function l(c){return c._prev=c._cipher.encryptBlock(c._prev),c._prev}s.encrypt=function(c,o){for(;c._cache.length<o.length;)c._cache=i.concat([c._cache,l(c)]);var u=c._cache.slice(0,o.length);return c._cache=c._cache.slice(o.length),a(o,u)}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(e,n,s){var i=e("./aes"),a=e("safe-buffer").Buffer,l=e("cipher-base");function c(o,u,p,h){l.call(this),this._cipher=new i.AES(u),this._prev=a.from(p),this._cache=a.allocUnsafe(0),this._secCache=a.allocUnsafe(0),this._decrypt=h,this._mode=o}e("inherits")(c,l),c.prototype._update=function(o){return this._mode.encrypt(this,o,this._decrypt)},c.prototype._final=function(){this._cipher.scrub()},n.exports=c},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(e,n,s){var i=e("browserify-des"),a=e("browserify-aes/browser"),l=e("browserify-aes/modes"),c=e("browserify-des/modes"),o=e("evp_bytestokey");function u(h,d,x){if(h=h.toLowerCase(),l[h])return a.createCipheriv(h,d,x);if(c[h])return new i({key:d,iv:x,mode:h});throw new TypeError("invalid suite type")}function p(h,d,x){if(h=h.toLowerCase(),l[h])return a.createDecipheriv(h,d,x);if(c[h])return new i({key:d,iv:x,mode:h,decrypt:!0});throw new TypeError("invalid suite type")}s.createCipher=s.Cipher=function(h,d){var x,b;if(h=h.toLowerCase(),l[h])x=l[h].key,b=l[h].iv;else{if(!c[h])throw new TypeError("invalid suite type");x=8*c[h].key,b=c[h].iv}var g=o(d,!1,x,b);return u(h,g.key,g.iv)},s.createCipheriv=s.Cipheriv=u,s.createDecipher=s.Decipher=function(h,d){var x,b;if(h=h.toLowerCase(),l[h])x=l[h].key,b=l[h].iv;else{if(!c[h])throw new TypeError("invalid suite type");x=8*c[h].key,b=c[h].iv}var g=o(d,!1,x,b);return p(h,g.key,g.iv)},s.createDecipheriv=s.Decipheriv=p,s.listCiphers=s.getCiphers=function(){return Object.keys(c).concat(a.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(e,n,s){var i=e("cipher-base"),a=e("des.js"),l=e("inherits"),c=e("safe-buffer").Buffer,o={"des-ede3-cbc":a.CBC.instantiate(a.EDE),"des-ede3":a.EDE,"des-ede-cbc":a.CBC.instantiate(a.EDE),"des-ede":a.EDE,"des-cbc":a.CBC.instantiate(a.DES),"des-ecb":a.DES};function u(p){i.call(this);var h,d=p.mode.toLowerCase(),x=o[d];h=p.decrypt?"decrypt":"encrypt";var b=p.key;c.isBuffer(b)||(b=c.from(b)),d!=="des-ede"&&d!=="des-ede-cbc"||(b=c.concat([b,b.slice(0,8)]));var g=p.iv;c.isBuffer(g)||(g=c.from(g)),this._des=x.create({key:b,iv:g,type:h})}o.des=o["des-cbc"],o.des3=o["des-ede3-cbc"],n.exports=u,l(u,i),u.prototype._update=function(p){return c.from(this._des.update(p))},u.prototype._final=function(){return c.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(e,n,s){s["des-ecb"]={key:8,iv:0},s["des-cbc"]=s.des={key:8,iv:8},s["des-ede3-cbc"]=s.des3={key:24,iv:8},s["des-ede3"]={key:24,iv:0},s["des-ede-cbc"]={key:16,iv:8},s["des-ede"]={key:16,iv:0}},{}],209:[function(e,n,s){(function(i){(function(){var a=e("bn.js"),l=e("randombytes");function c(u){var p,h=u.modulus.byteLength();do p=new a(l(h));while(p.cmp(u.modulus)>=0||!p.umod(u.prime1)||!p.umod(u.prime2));return p}function o(u,p){var h=(function(L){var I=c(L);return{blinder:I.toRed(a.mont(L.modulus)).redPow(new a(L.publicExponent)).fromRed(),unblinder:I.invm(L.modulus)}})(p),d=p.modulus.byteLength(),x=new a(u).mul(h.blinder).umod(p.modulus),b=x.toRed(a.mont(p.prime1)),g=x.toRed(a.mont(p.prime2)),v=p.coefficient,y=p.prime1,T=p.prime2,R=b.redPow(p.exponent1).fromRed(),P=g.redPow(p.exponent2).fromRed(),H=R.isub(P).imul(v).umod(y).imul(T);return P.iadd(H).imul(h.unblinder).umod(p.modulus).toArrayLike(i,"be",d)}o.getr=c,n.exports=o}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(e,n,s){n.exports=e("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(e,n,s){n.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(e,n,s){n.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(e,n,s){var i=e("safe-buffer").Buffer,a=e("create-hash"),l=e("readable-stream"),c=e("inherits"),o=e("./sign"),u=e("./verify"),p=e("./algorithms.json");function h(g){l.Writable.call(this);var v=p[g];if(!v)throw new Error("Unknown message digest");this._hashType=v.hash,this._hash=a(v.hash),this._tag=v.id,this._signType=v.sign}function d(g){l.Writable.call(this);var v=p[g];if(!v)throw new Error("Unknown message digest");this._hash=a(v.hash),this._tag=v.id,this._signType=v.sign}function x(g){return new h(g)}function b(g){return new d(g)}Object.keys(p).forEach((function(g){p[g].id=i.from(p[g].id,"hex"),p[g.toLowerCase()]=p[g]})),c(h,l.Writable),h.prototype._write=function(g,v,y){this._hash.update(g),y()},h.prototype.update=function(g,v){return typeof g=="string"&&(g=i.from(g,v)),this._hash.update(g),this},h.prototype.sign=function(g,v){this.end();var y=this._hash.digest(),T=o(y,g,this._hashType,this._signType,this._tag);return v?T.toString(v):T},c(d,l.Writable),d.prototype._write=function(g,v,y){this._hash.update(g),y()},d.prototype.update=function(g,v){return typeof g=="string"&&(g=i.from(g,v)),this._hash.update(g),this},d.prototype.verify=function(g,v,y){typeof v=="string"&&(v=i.from(v,y)),this.end();var T=this._hash.digest();return u(v,T,g,this._signType,this._tag)},n.exports={Sign:x,Verify:b,createSign:x,createVerify:b}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(e,n,s){var i=e("safe-buffer").Buffer,a=e("create-hmac"),l=e("browserify-rsa"),c=e("elliptic").ec,o=e("bn.js"),u=e("parse-asn1"),p=e("./curves.json");function h(g,v,y,T){if((g=i.from(g.toArray())).length<v.byteLength()){var R=i.alloc(v.byteLength()-g.length);g=i.concat([R,g])}var P=y.length,H=(function(O,F){O=(O=d(O,F)).mod(F);var q=i.from(O.toArray());if(q.length<F.byteLength()){var z=i.alloc(F.byteLength()-q.length);q=i.concat([z,q])}return q})(y,v),L=i.alloc(P);L.fill(1);var I=i.alloc(P);return I=a(T,I).update(L).update(i.from([0])).update(g).update(H).digest(),L=a(T,I).update(L).digest(),{k:I=a(T,I).update(L).update(i.from([1])).update(g).update(H).digest(),v:L=a(T,I).update(L).digest()}}function d(g,v){var y=new o(g),T=(g.length<<3)-v.bitLength();return T>0&&y.ishrn(T),y}function x(g,v,y){var T,R;do{for(T=i.alloc(0);8*T.length<g.bitLength();)v.v=a(y,v.k).update(v.v).digest(),T=i.concat([T,v.v]);R=d(T,g),v.k=a(y,v.k).update(v.v).update(i.from([0])).digest(),v.v=a(y,v.k).update(v.v).digest()}while(R.cmp(g)!==-1);return R}function b(g,v,y,T){return g.toRed(o.mont(y)).redPow(v).fromRed().mod(T)}n.exports=function(g,v,y,T,R){var P=u(v);if(P.curve){if(T!=="ecdsa"&&T!=="ecdsa/rsa")throw new Error("wrong private key type");return(function(O,F){var q=p[F.curve.join(".")];if(!q)throw new Error("unknown curve "+F.curve.join("."));var z=new c(q).keyFromPrivate(F.privateKey).sign(O);return i.from(z.toDER())})(g,P)}if(P.type==="dsa"){if(T!=="dsa")throw new Error("wrong private key type");return(function(O,F,q){for(var z,N=F.params.priv_key,U=F.params.p,C=F.params.q,S=F.params.g,k=new o(0),E=d(O,C).mod(C),A=!1,j=h(N,C,O,q);A===!1;)z=x(C,j,q),k=b(S,z,U,C),(A=z.invm(C).imul(E.add(N.mul(k))).mod(C)).cmpn(0)===0&&(A=!1,k=new o(0));return(function(B,D){B=B.toArray(),D=D.toArray(),128&B[0]&&(B=[0].concat(B)),128&D[0]&&(D=[0].concat(D));var Q=[48,B.length+D.length+4,2,B.length];return Q=Q.concat(B,[2,D.length],D),i.from(Q)})(k,A)})(g,P,y)}if(T!=="rsa"&&T!=="ecdsa/rsa")throw new Error("wrong private key type");g=i.concat([R,g]);for(var H=P.modulus.byteLength(),L=[0,1];g.length+L.length+1<H;)L.push(255);L.push(0);for(var I=-1;++I<g.length;)L.push(g[I]);return l(L,P)},n.exports.getKey=h,n.exports.makeKey=x},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(e,n,s){var i=e("safe-buffer").Buffer,a=e("bn.js"),l=e("elliptic").ec,c=e("parse-asn1"),o=e("./curves.json");function u(p,h){if(p.cmpn(0)<=0)throw new Error("invalid sig");if(p.cmp(h)>=h)throw new Error("invalid sig")}n.exports=function(p,h,d,x,b){var g=c(d);if(g.type==="ec"){if(x!=="ecdsa"&&x!=="ecdsa/rsa")throw new Error("wrong public key type");return(function(L,I,O){var F=o[O.data.algorithm.curve.join(".")];if(!F)throw new Error("unknown curve "+O.data.algorithm.curve.join("."));var q=new l(F),z=O.data.subjectPrivateKey.data;return q.verify(I,L,z)})(p,h,g)}if(g.type==="dsa"){if(x!=="dsa")throw new Error("wrong public key type");return(function(L,I,O){var F=O.data.p,q=O.data.q,z=O.data.g,N=O.data.pub_key,U=c.signature.decode(L,"der"),C=U.s,S=U.r;u(C,q),u(S,q);var k=a.mont(F),E=C.invm(q);return z.toRed(k).redPow(new a(I).mul(E).mod(q)).fromRed().mul(N.toRed(k).redPow(S.mul(E).mod(q)).fromRed()).mod(F).mod(q).cmp(S)===0})(p,h,g)}if(x!=="rsa"&&x!=="ecdsa/rsa")throw new Error("wrong public key type");h=i.concat([b,h]);for(var v=g.modulus.byteLength(),y=[1],T=0;h.length+y.length+2<v;)y.push(255),T++;y.push(0);for(var R=-1;++R<h.length;)y.push(h[R]);y=i.from(y);var P=a.mont(g.modulus);p=(p=new a(p).toRed(P)).redPow(new a(g.publicExponent)),p=i.from(p.fromRed().toArray());var H=T<8?1:0;for(v=Math.min(p.length,y.length),p.length!==y.length&&(H=1),R=-1;++R<v;)H|=p[R]^y[R];return H===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(e,n,s){},{}],217:[function(e,n,s){var i=e("buffer"),a=i.Buffer;function l(o,u){for(var p in o)u[p]=o[p]}function c(o,u,p){return a(o,u,p)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?n.exports=i:(l(i,s),s.Buffer=c),l(a,c),c.from=function(o,u,p){if(typeof o=="number")throw new TypeError("Argument must not be a number");return a(o,u,p)},c.alloc=function(o,u,p){if(typeof o!="number")throw new TypeError("Argument must be a number");var h=a(o);return u!==void 0?typeof p=="string"?h.fill(u,p):h.fill(u):h.fill(0),h},c.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return a(o)},c.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return i.SlowBuffer(o)}},{buffer:220}],218:[function(e,n,s){var i=e("safe-buffer").Buffer,a=i.isEncoding||function(g){switch((g=""+g)&&g.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function l(g){var v;switch(this.encoding=(function(y){var T=(function(R){if(!R)return"utf8";for(var P;;)switch(R){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return R;default:if(P)return;R=(""+R).toLowerCase(),P=!0}})(y);if(typeof T!="string"&&(i.isEncoding===a||!a(y)))throw new Error("Unknown encoding: "+y);return T||y})(g),this.encoding){case"utf16le":this.text=u,this.end=p,v=4;break;case"utf8":this.fillLast=o,v=4;break;case"base64":this.text=h,this.end=d,v=3;break;default:return this.write=x,void(this.end=b)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(v)}function c(g){return g<=127?0:g>>5==6?2:g>>4==14?3:g>>3==30?4:g>>6==2?-1:-2}function o(g){var v=this.lastTotal-this.lastNeed,y=(function(T,R,P){if((192&R[0])!=128)return T.lastNeed=0,"";if(T.lastNeed>1&&R.length>1){if((192&R[1])!=128)return T.lastNeed=1,"";if(T.lastNeed>2&&R.length>2&&(192&R[2])!=128)return T.lastNeed=2,""}})(this,g);return y!==void 0?y:this.lastNeed<=g.length?(g.copy(this.lastChar,v,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(g.copy(this.lastChar,v,0,g.length),void(this.lastNeed-=g.length))}function u(g,v){if((g.length-v)%2==0){var y=g.toString("utf16le",v);if(y){var T=y.charCodeAt(y.length-1);if(T>=55296&&T<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=g[g.length-2],this.lastChar[1]=g[g.length-1],y.slice(0,-1)}return y}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=g[g.length-1],g.toString("utf16le",v,g.length-1)}function p(g){var v=g&&g.length?this.write(g):"";if(this.lastNeed){var y=this.lastTotal-this.lastNeed;return v+this.lastChar.toString("utf16le",0,y)}return v}function h(g,v){var y=(g.length-v)%3;return y===0?g.toString("base64",v):(this.lastNeed=3-y,this.lastTotal=3,y===1?this.lastChar[0]=g[g.length-1]:(this.lastChar[0]=g[g.length-2],this.lastChar[1]=g[g.length-1]),g.toString("base64",v,g.length-y))}function d(g){var v=g&&g.length?this.write(g):"";return this.lastNeed?v+this.lastChar.toString("base64",0,3-this.lastNeed):v}function x(g){return g.toString(this.encoding)}function b(g){return g&&g.length?this.write(g):""}s.StringDecoder=l,l.prototype.write=function(g){if(g.length===0)return"";var v,y;if(this.lastNeed){if((v=this.fillLast(g))===void 0)return"";y=this.lastNeed,this.lastNeed=0}else y=0;return y<g.length?v?v+this.text(g,y):this.text(g,y):v||""},l.prototype.end=function(g){var v=g&&g.length?this.write(g):"";return this.lastNeed?v+"":v},l.prototype.text=function(g,v){var y=(function(R,P,H){var L=P.length-1;if(L<H)return 0;var I=c(P[L]);return I>=0?(I>0&&(R.lastNeed=I-1),I):--L<H||I===-2?0:(I=c(P[L]))>=0?(I>0&&(R.lastNeed=I-2),I):--L<H||I===-2?0:(I=c(P[L]))>=0?(I>0&&(I===2?I=0:R.lastNeed=I-3),I):0})(this,g,v);if(!this.lastNeed)return g.toString("utf8",v);this.lastTotal=y;var T=g.length-(y-this.lastNeed);return g.copy(this.lastChar,0,T),g.toString("utf8",v,T)},l.prototype.fillLast=function(g){if(this.lastNeed<=g.length)return g.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);g.copy(this.lastChar,this.lastTotal-this.lastNeed,0,g.length),this.lastNeed-=g.length}},{"safe-buffer":217}],219:[function(e,n,s){(function(i){(function(){n.exports=function(a,l){for(var c=Math.min(a.length,l.length),o=new i(c),u=0;u<c;++u)o[u]=a[u]^l[u];return o}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],220:[function(e,n,s){(function(i){(function(){var a=e("base64-js"),l=e("ieee754");s.Buffer=o,s.SlowBuffer=function(G){return+G!=G&&(G=0),o.alloc(+G)},s.INSPECT_MAX_BYTES=50;function c(G){if(G>2147483647)throw new RangeError('The value "'+G+'" is invalid for option "size"');var V=new Uint8Array(G);return V.__proto__=o.prototype,V}function o(G,V,Z){if(typeof G=="number"){if(typeof V=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(G)}return u(G,V,Z)}function u(G,V,Z){if(typeof G=="string")return(function(oe,he){if(typeof he=="string"&&he!==""||(he="utf8"),!o.isEncoding(he))throw new TypeError("Unknown encoding: "+he);var Se=0|b(oe,he),ge=c(Se),ne=ge.write(oe,he);return ne!==Se&&(ge=ge.slice(0,ne)),ge})(G,V);if(ArrayBuffer.isView(G))return d(G);if(G==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof G);if(W(G,ArrayBuffer)||G&&W(G.buffer,ArrayBuffer))return(function(oe,he,Se){if(he<0||oe.byteLength<he)throw new RangeError('"offset" is outside of buffer bounds');if(oe.byteLength<he+(Se||0))throw new RangeError('"length" is outside of buffer bounds');var ge;return ge=he===void 0&&Se===void 0?new Uint8Array(oe):Se===void 0?new Uint8Array(oe,he):new Uint8Array(oe,he,Se),ge.__proto__=o.prototype,ge})(G,V,Z);if(typeof G=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var ae=G.valueOf&&G.valueOf();if(ae!=null&&ae!==G)return o.from(ae,V,Z);var re=(function(oe){if(o.isBuffer(oe)){var he=0|x(oe.length),Se=c(he);return Se.length===0||oe.copy(Se,0,0,he),Se}if(oe.length!==void 0)return typeof oe.length!="number"||te(oe.length)?c(0):d(oe);if(oe.type==="Buffer"&&Array.isArray(oe.data))return d(oe.data)})(G);if(re)return re;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof G[Symbol.toPrimitive]=="function")return o.from(G[Symbol.toPrimitive]("string"),V,Z);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof G)}function p(G){if(typeof G!="number")throw new TypeError('"size" argument must be of type number');if(G<0)throw new RangeError('The value "'+G+'" is invalid for option "size"')}function h(G){return p(G),c(G<0?0:0|x(G))}function d(G){for(var V=G.length<0?0:0|x(G.length),Z=c(V),ae=0;ae<V;ae+=1)Z[ae]=255&G[ae];return Z}function x(G){if(G>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|G}function b(G,V){if(o.isBuffer(G))return G.length;if(ArrayBuffer.isView(G)||W(G,ArrayBuffer))return G.byteLength;if(typeof G!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof G);var Z=G.length,ae=arguments.length>2&&arguments[2]===!0;if(!ae&&Z===0)return 0;for(var re=!1;;)switch(V){case"ascii":case"latin1":case"binary":return Z;case"utf8":case"utf-8":return Q(G).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Z;case"hex":return Z>>>1;case"base64":return K(G).length;default:if(re)return ae?-1:Q(G).length;V=(""+V).toLowerCase(),re=!0}}function g(G,V,Z){var ae=!1;if((V===void 0||V<0)&&(V=0),V>this.length||((Z===void 0||Z>this.length)&&(Z=this.length),Z<=0)||(Z>>>=0)<=(V>>>=0))return"";for(G||(G="utf8");;)switch(G){case"hex":return U(this,V,Z);case"utf8":case"utf-8":return q(this,V,Z);case"ascii":return z(this,V,Z);case"latin1":case"binary":return N(this,V,Z);case"base64":return F(this,V,Z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,V,Z);default:if(ae)throw new TypeError("Unknown encoding: "+G);G=(G+"").toLowerCase(),ae=!0}}function v(G,V,Z){var ae=G[V];G[V]=G[Z],G[Z]=ae}function y(G,V,Z,ae,re){if(G.length===0)return-1;if(typeof Z=="string"?(ae=Z,Z=0):Z>2147483647?Z=2147483647:Z<-2147483648&&(Z=-2147483648),te(Z=+Z)&&(Z=re?0:G.length-1),Z<0&&(Z=G.length+Z),Z>=G.length){if(re)return-1;Z=G.length-1}else if(Z<0){if(!re)return-1;Z=0}if(typeof V=="string"&&(V=o.from(V,ae)),o.isBuffer(V))return V.length===0?-1:T(G,V,Z,ae,re);if(typeof V=="number")return V&=255,typeof Uint8Array.prototype.indexOf=="function"?re?Uint8Array.prototype.indexOf.call(G,V,Z):Uint8Array.prototype.lastIndexOf.call(G,V,Z):T(G,[V],Z,ae,re);throw new TypeError("val must be string, number or Buffer")}function T(G,V,Z,ae,re){var oe,he=1,Se=G.length,ge=V.length;if(ae!==void 0&&((ae=String(ae).toLowerCase())==="ucs2"||ae==="ucs-2"||ae==="utf16le"||ae==="utf-16le")){if(G.length<2||V.length<2)return-1;he=2,Se/=2,ge/=2,Z/=2}function ne(Ce,Fe){return he===1?Ce[Fe]:Ce.readUInt16BE(Fe*he)}if(re){var fe=-1;for(oe=Z;oe<Se;oe++)if(ne(G,oe)===ne(V,fe===-1?0:oe-fe)){if(fe===-1&&(fe=oe),oe-fe+1===ge)return fe*he}else fe!==-1&&(oe-=oe-fe),fe=-1}else for(Z+ge>Se&&(Z=Se-ge),oe=Z;oe>=0;oe--){for(var pe=!0,ke=0;ke<ge;ke++)if(ne(G,oe+ke)!==ne(V,ke)){pe=!1;break}if(pe)return oe}return-1}function R(G,V,Z,ae){Z=Number(Z)||0;var re=G.length-Z;ae?(ae=Number(ae))>re&&(ae=re):ae=re;var oe=V.length;ae>oe/2&&(ae=oe/2);for(var he=0;he<ae;++he){var Se=parseInt(V.substr(2*he,2),16);if(te(Se))return he;G[Z+he]=Se}return he}function P(G,V,Z,ae){return ee(Q(V,G.length-Z),G,Z,ae)}function H(G,V,Z,ae){return ee((function(re){for(var oe=[],he=0;he<re.length;++he)oe.push(255&re.charCodeAt(he));return oe})(V),G,Z,ae)}function L(G,V,Z,ae){return H(G,V,Z,ae)}function I(G,V,Z,ae){return ee(K(V),G,Z,ae)}function O(G,V,Z,ae){return ee((function(re,oe){for(var he,Se,ge,ne=[],fe=0;fe<re.length&&!((oe-=2)<0);++fe)he=re.charCodeAt(fe),Se=he>>8,ge=he%256,ne.push(ge),ne.push(Se);return ne})(V,G.length-Z),G,Z,ae)}function F(G,V,Z){return V===0&&Z===G.length?a.fromByteArray(G):a.fromByteArray(G.slice(V,Z))}function q(G,V,Z){Z=Math.min(G.length,Z);for(var ae=[],re=V;re<Z;){var oe,he,Se,ge,ne=G[re],fe=null,pe=ne>239?4:ne>223?3:ne>191?2:1;if(re+pe<=Z)switch(pe){case 1:ne<128&&(fe=ne);break;case 2:(192&(oe=G[re+1]))==128&&(ge=(31&ne)<<6|63&oe)>127&&(fe=ge);break;case 3:oe=G[re+1],he=G[re+2],(192&oe)==128&&(192&he)==128&&(ge=(15&ne)<<12|(63&oe)<<6|63&he)>2047&&(ge<55296||ge>57343)&&(fe=ge);break;case 4:oe=G[re+1],he=G[re+2],Se=G[re+3],(192&oe)==128&&(192&he)==128&&(192&Se)==128&&(ge=(15&ne)<<18|(63&oe)<<12|(63&he)<<6|63&Se)>65535&&ge<1114112&&(fe=ge)}fe===null?(fe=65533,pe=1):fe>65535&&(fe-=65536,ae.push(fe>>>10&1023|55296),fe=56320|1023&fe),ae.push(fe),re+=pe}return(function(ke){var Ce=ke.length;if(Ce<=4096)return String.fromCharCode.apply(String,ke);for(var Fe="",We=0;We<Ce;)Fe+=String.fromCharCode.apply(String,ke.slice(We,We+=4096));return Fe})(ae)}s.kMaxLength=2147483647,o.TYPED_ARRAY_SUPPORT=(function(){try{var G=new Uint8Array(1);return G.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},G.foo()===42}catch{return!1}})(),o.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),o.poolSize=8192,o.from=function(G,V,Z){return u(G,V,Z)},o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,o.alloc=function(G,V,Z){return(function(ae,re,oe){return p(ae),ae<=0?c(ae):re!==void 0?typeof oe=="string"?c(ae).fill(re,oe):c(ae).fill(re):c(ae)})(G,V,Z)},o.allocUnsafe=function(G){return h(G)},o.allocUnsafeSlow=function(G){return h(G)},o.isBuffer=function(G){return G!=null&&G._isBuffer===!0&&G!==o.prototype},o.compare=function(G,V){if(W(G,Uint8Array)&&(G=o.from(G,G.offset,G.byteLength)),W(V,Uint8Array)&&(V=o.from(V,V.offset,V.byteLength)),!o.isBuffer(G)||!o.isBuffer(V))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(G===V)return 0;for(var Z=G.length,ae=V.length,re=0,oe=Math.min(Z,ae);re<oe;++re)if(G[re]!==V[re]){Z=G[re],ae=V[re];break}return Z<ae?-1:ae<Z?1:0},o.isEncoding=function(G){switch(String(G).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(G,V){if(!Array.isArray(G))throw new TypeError('"list" argument must be an Array of Buffers');if(G.length===0)return o.alloc(0);var Z;if(V===void 0)for(V=0,Z=0;Z<G.length;++Z)V+=G[Z].length;var ae=o.allocUnsafe(V),re=0;for(Z=0;Z<G.length;++Z){var oe=G[Z];if(W(oe,Uint8Array)&&(oe=o.from(oe)),!o.isBuffer(oe))throw new TypeError('"list" argument must be an Array of Buffers');oe.copy(ae,re),re+=oe.length}return ae},o.byteLength=b,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var G=this.length;if(G%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var V=0;V<G;V+=2)v(this,V,V+1);return this},o.prototype.swap32=function(){var G=this.length;if(G%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var V=0;V<G;V+=4)v(this,V,V+3),v(this,V+1,V+2);return this},o.prototype.swap64=function(){var G=this.length;if(G%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var V=0;V<G;V+=8)v(this,V,V+7),v(this,V+1,V+6),v(this,V+2,V+5),v(this,V+3,V+4);return this},o.prototype.toString=function(){var G=this.length;return G===0?"":arguments.length===0?q(this,0,G):g.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(G){if(!o.isBuffer(G))throw new TypeError("Argument must be a Buffer");return this===G||o.compare(this,G)===0},o.prototype.inspect=function(){var G="",V=s.INSPECT_MAX_BYTES;return G=this.toString("hex",0,V).replace(/(.{2})/g,"$1 ").trim(),this.length>V&&(G+=" ... "),"<Buffer "+G+">"},o.prototype.compare=function(G,V,Z,ae,re){if(W(G,Uint8Array)&&(G=o.from(G,G.offset,G.byteLength)),!o.isBuffer(G))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof G);if(V===void 0&&(V=0),Z===void 0&&(Z=G?G.length:0),ae===void 0&&(ae=0),re===void 0&&(re=this.length),V<0||Z>G.length||ae<0||re>this.length)throw new RangeError("out of range index");if(ae>=re&&V>=Z)return 0;if(ae>=re)return-1;if(V>=Z)return 1;if(this===G)return 0;for(var oe=(re>>>=0)-(ae>>>=0),he=(Z>>>=0)-(V>>>=0),Se=Math.min(oe,he),ge=this.slice(ae,re),ne=G.slice(V,Z),fe=0;fe<Se;++fe)if(ge[fe]!==ne[fe]){oe=ge[fe],he=ne[fe];break}return oe<he?-1:he<oe?1:0},o.prototype.includes=function(G,V,Z){return this.indexOf(G,V,Z)!==-1},o.prototype.indexOf=function(G,V,Z){return y(this,G,V,Z,!0)},o.prototype.lastIndexOf=function(G,V,Z){return y(this,G,V,Z,!1)},o.prototype.write=function(G,V,Z,ae){if(V===void 0)ae="utf8",Z=this.length,V=0;else if(Z===void 0&&typeof V=="string")ae=V,Z=this.length,V=0;else{if(!isFinite(V))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");V>>>=0,isFinite(Z)?(Z>>>=0,ae===void 0&&(ae="utf8")):(ae=Z,Z=void 0)}var re=this.length-V;if((Z===void 0||Z>re)&&(Z=re),G.length>0&&(Z<0||V<0)||V>this.length)throw new RangeError("Attempt to write outside buffer bounds");ae||(ae="utf8");for(var oe=!1;;)switch(ae){case"hex":return R(this,G,V,Z);case"utf8":case"utf-8":return P(this,G,V,Z);case"ascii":return H(this,G,V,Z);case"latin1":case"binary":return L(this,G,V,Z);case"base64":return I(this,G,V,Z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,G,V,Z);default:if(oe)throw new TypeError("Unknown encoding: "+ae);ae=(""+ae).toLowerCase(),oe=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function z(G,V,Z){var ae="";Z=Math.min(G.length,Z);for(var re=V;re<Z;++re)ae+=String.fromCharCode(127&G[re]);return ae}function N(G,V,Z){var ae="";Z=Math.min(G.length,Z);for(var re=V;re<Z;++re)ae+=String.fromCharCode(G[re]);return ae}function U(G,V,Z){var ae=G.length;(!V||V<0)&&(V=0),(!Z||Z<0||Z>ae)&&(Z=ae);for(var re="",oe=V;oe<Z;++oe)re+=D(G[oe]);return re}function C(G,V,Z){for(var ae=G.slice(V,Z),re="",oe=0;oe<ae.length;oe+=2)re+=String.fromCharCode(ae[oe]+256*ae[oe+1]);return re}function S(G,V,Z){if(G%1!=0||G<0)throw new RangeError("offset is not uint");if(G+V>Z)throw new RangeError("Trying to access beyond buffer length")}function k(G,V,Z,ae,re,oe){if(!o.isBuffer(G))throw new TypeError('"buffer" argument must be a Buffer instance');if(V>re||V<oe)throw new RangeError('"value" argument is out of bounds');if(Z+ae>G.length)throw new RangeError("Index out of range")}function E(G,V,Z,ae,re,oe){if(Z+ae>G.length)throw new RangeError("Index out of range");if(Z<0)throw new RangeError("Index out of range")}function A(G,V,Z,ae,re){return V=+V,Z>>>=0,re||E(G,0,Z,4),l.write(G,V,Z,ae,23,4),Z+4}function j(G,V,Z,ae,re){return V=+V,Z>>>=0,re||E(G,0,Z,8),l.write(G,V,Z,ae,52,8),Z+8}o.prototype.slice=function(G,V){var Z=this.length;(G=~~G)<0?(G+=Z)<0&&(G=0):G>Z&&(G=Z),(V=V===void 0?Z:~~V)<0?(V+=Z)<0&&(V=0):V>Z&&(V=Z),V<G&&(V=G);var ae=this.subarray(G,V);return ae.__proto__=o.prototype,ae},o.prototype.readUIntLE=function(G,V,Z){G>>>=0,V>>>=0,Z||S(G,V,this.length);for(var ae=this[G],re=1,oe=0;++oe<V&&(re*=256);)ae+=this[G+oe]*re;return ae},o.prototype.readUIntBE=function(G,V,Z){G>>>=0,V>>>=0,Z||S(G,V,this.length);for(var ae=this[G+--V],re=1;V>0&&(re*=256);)ae+=this[G+--V]*re;return ae},o.prototype.readUInt8=function(G,V){return G>>>=0,V||S(G,1,this.length),this[G]},o.prototype.readUInt16LE=function(G,V){return G>>>=0,V||S(G,2,this.length),this[G]|this[G+1]<<8},o.prototype.readUInt16BE=function(G,V){return G>>>=0,V||S(G,2,this.length),this[G]<<8|this[G+1]},o.prototype.readUInt32LE=function(G,V){return G>>>=0,V||S(G,4,this.length),(this[G]|this[G+1]<<8|this[G+2]<<16)+16777216*this[G+3]},o.prototype.readUInt32BE=function(G,V){return G>>>=0,V||S(G,4,this.length),16777216*this[G]+(this[G+1]<<16|this[G+2]<<8|this[G+3])},o.prototype.readIntLE=function(G,V,Z){G>>>=0,V>>>=0,Z||S(G,V,this.length);for(var ae=this[G],re=1,oe=0;++oe<V&&(re*=256);)ae+=this[G+oe]*re;return ae>=(re*=128)&&(ae-=Math.pow(2,8*V)),ae},o.prototype.readIntBE=function(G,V,Z){G>>>=0,V>>>=0,Z||S(G,V,this.length);for(var ae=V,re=1,oe=this[G+--ae];ae>0&&(re*=256);)oe+=this[G+--ae]*re;return oe>=(re*=128)&&(oe-=Math.pow(2,8*V)),oe},o.prototype.readInt8=function(G,V){return G>>>=0,V||S(G,1,this.length),128&this[G]?-1*(255-this[G]+1):this[G]},o.prototype.readInt16LE=function(G,V){G>>>=0,V||S(G,2,this.length);var Z=this[G]|this[G+1]<<8;return 32768&Z?4294901760|Z:Z},o.prototype.readInt16BE=function(G,V){G>>>=0,V||S(G,2,this.length);var Z=this[G+1]|this[G]<<8;return 32768&Z?4294901760|Z:Z},o.prototype.readInt32LE=function(G,V){return G>>>=0,V||S(G,4,this.length),this[G]|this[G+1]<<8|this[G+2]<<16|this[G+3]<<24},o.prototype.readInt32BE=function(G,V){return G>>>=0,V||S(G,4,this.length),this[G]<<24|this[G+1]<<16|this[G+2]<<8|this[G+3]},o.prototype.readFloatLE=function(G,V){return G>>>=0,V||S(G,4,this.length),l.read(this,G,!0,23,4)},o.prototype.readFloatBE=function(G,V){return G>>>=0,V||S(G,4,this.length),l.read(this,G,!1,23,4)},o.prototype.readDoubleLE=function(G,V){return G>>>=0,V||S(G,8,this.length),l.read(this,G,!0,52,8)},o.prototype.readDoubleBE=function(G,V){return G>>>=0,V||S(G,8,this.length),l.read(this,G,!1,52,8)},o.prototype.writeUIntLE=function(G,V,Z,ae){G=+G,V>>>=0,Z>>>=0,ae||k(this,G,V,Z,Math.pow(2,8*Z)-1,0);var re=1,oe=0;for(this[V]=255&G;++oe<Z&&(re*=256);)this[V+oe]=G/re&255;return V+Z},o.prototype.writeUIntBE=function(G,V,Z,ae){G=+G,V>>>=0,Z>>>=0,ae||k(this,G,V,Z,Math.pow(2,8*Z)-1,0);var re=Z-1,oe=1;for(this[V+re]=255&G;--re>=0&&(oe*=256);)this[V+re]=G/oe&255;return V+Z},o.prototype.writeUInt8=function(G,V,Z){return G=+G,V>>>=0,Z||k(this,G,V,1,255,0),this[V]=255&G,V+1},o.prototype.writeUInt16LE=function(G,V,Z){return G=+G,V>>>=0,Z||k(this,G,V,2,65535,0),this[V]=255&G,this[V+1]=G>>>8,V+2},o.prototype.writeUInt16BE=function(G,V,Z){return G=+G,V>>>=0,Z||k(this,G,V,2,65535,0),this[V]=G>>>8,this[V+1]=255&G,V+2},o.prototype.writeUInt32LE=function(G,V,Z){return G=+G,V>>>=0,Z||k(this,G,V,4,4294967295,0),this[V+3]=G>>>24,this[V+2]=G>>>16,this[V+1]=G>>>8,this[V]=255&G,V+4},o.prototype.writeUInt32BE=function(G,V,Z){return G=+G,V>>>=0,Z||k(this,G,V,4,4294967295,0),this[V]=G>>>24,this[V+1]=G>>>16,this[V+2]=G>>>8,this[V+3]=255&G,V+4},o.prototype.writeIntLE=function(G,V,Z,ae){if(G=+G,V>>>=0,!ae){var re=Math.pow(2,8*Z-1);k(this,G,V,Z,re-1,-re)}var oe=0,he=1,Se=0;for(this[V]=255&G;++oe<Z&&(he*=256);)G<0&&Se===0&&this[V+oe-1]!==0&&(Se=1),this[V+oe]=(G/he>>0)-Se&255;return V+Z},o.prototype.writeIntBE=function(G,V,Z,ae){if(G=+G,V>>>=0,!ae){var re=Math.pow(2,8*Z-1);k(this,G,V,Z,re-1,-re)}var oe=Z-1,he=1,Se=0;for(this[V+oe]=255&G;--oe>=0&&(he*=256);)G<0&&Se===0&&this[V+oe+1]!==0&&(Se=1),this[V+oe]=(G/he>>0)-Se&255;return V+Z},o.prototype.writeInt8=function(G,V,Z){return G=+G,V>>>=0,Z||k(this,G,V,1,127,-128),G<0&&(G=255+G+1),this[V]=255&G,V+1},o.prototype.writeInt16LE=function(G,V,Z){return G=+G,V>>>=0,Z||k(this,G,V,2,32767,-32768),this[V]=255&G,this[V+1]=G>>>8,V+2},o.prototype.writeInt16BE=function(G,V,Z){return G=+G,V>>>=0,Z||k(this,G,V,2,32767,-32768),this[V]=G>>>8,this[V+1]=255&G,V+2},o.prototype.writeInt32LE=function(G,V,Z){return G=+G,V>>>=0,Z||k(this,G,V,4,2147483647,-2147483648),this[V]=255&G,this[V+1]=G>>>8,this[V+2]=G>>>16,this[V+3]=G>>>24,V+4},o.prototype.writeInt32BE=function(G,V,Z){return G=+G,V>>>=0,Z||k(this,G,V,4,2147483647,-2147483648),G<0&&(G=4294967295+G+1),this[V]=G>>>24,this[V+1]=G>>>16,this[V+2]=G>>>8,this[V+3]=255&G,V+4},o.prototype.writeFloatLE=function(G,V,Z){return A(this,G,V,!0,Z)},o.prototype.writeFloatBE=function(G,V,Z){return A(this,G,V,!1,Z)},o.prototype.writeDoubleLE=function(G,V,Z){return j(this,G,V,!0,Z)},o.prototype.writeDoubleBE=function(G,V,Z){return j(this,G,V,!1,Z)},o.prototype.copy=function(G,V,Z,ae){if(!o.isBuffer(G))throw new TypeError("argument should be a Buffer");if(Z||(Z=0),ae||ae===0||(ae=this.length),V>=G.length&&(V=G.length),V||(V=0),ae>0&&ae<Z&&(ae=Z),ae===Z||G.length===0||this.length===0)return 0;if(V<0)throw new RangeError("targetStart out of bounds");if(Z<0||Z>=this.length)throw new RangeError("Index out of range");if(ae<0)throw new RangeError("sourceEnd out of bounds");ae>this.length&&(ae=this.length),G.length-V<ae-Z&&(ae=G.length-V+Z);var re=ae-Z;if(this===G&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(V,Z,ae);else if(this===G&&Z<V&&V<ae)for(var oe=re-1;oe>=0;--oe)G[oe+V]=this[oe+Z];else Uint8Array.prototype.set.call(G,this.subarray(Z,ae),V);return re},o.prototype.fill=function(G,V,Z,ae){if(typeof G=="string"){if(typeof V=="string"?(ae=V,V=0,Z=this.length):typeof Z=="string"&&(ae=Z,Z=this.length),ae!==void 0&&typeof ae!="string")throw new TypeError("encoding must be a string");if(typeof ae=="string"&&!o.isEncoding(ae))throw new TypeError("Unknown encoding: "+ae);if(G.length===1){var re=G.charCodeAt(0);(ae==="utf8"&&re<128||ae==="latin1")&&(G=re)}}else typeof G=="number"&&(G&=255);if(V<0||this.length<V||this.length<Z)throw new RangeError("Out of range index");if(Z<=V)return this;var oe;if(V>>>=0,Z=Z===void 0?this.length:Z>>>0,G||(G=0),typeof G=="number")for(oe=V;oe<Z;++oe)this[oe]=G;else{var he=o.isBuffer(G)?G:o.from(G,ae),Se=he.length;if(Se===0)throw new TypeError('The value "'+G+'" is invalid for argument "value"');for(oe=0;oe<Z-V;++oe)this[oe+V]=he[oe%Se]}return this};var B=/[^+/0-9A-Za-z-_]/g;function D(G){return G<16?"0"+G.toString(16):G.toString(16)}function Q(G,V){var Z;V=V||1/0;for(var ae=G.length,re=null,oe=[],he=0;he<ae;++he){if((Z=G.charCodeAt(he))>55295&&Z<57344){if(!re){if(Z>56319){(V-=3)>-1&&oe.push(239,191,189);continue}if(he+1===ae){(V-=3)>-1&&oe.push(239,191,189);continue}re=Z;continue}if(Z<56320){(V-=3)>-1&&oe.push(239,191,189),re=Z;continue}Z=65536+(re-55296<<10|Z-56320)}else re&&(V-=3)>-1&&oe.push(239,191,189);if(re=null,Z<128){if((V-=1)<0)break;oe.push(Z)}else if(Z<2048){if((V-=2)<0)break;oe.push(Z>>6|192,63&Z|128)}else if(Z<65536){if((V-=3)<0)break;oe.push(Z>>12|224,Z>>6&63|128,63&Z|128)}else{if(!(Z<1114112))throw new Error("Invalid code point");if((V-=4)<0)break;oe.push(Z>>18|240,Z>>12&63|128,Z>>6&63|128,63&Z|128)}}return oe}function K(G){return a.toByteArray((function(V){if((V=(V=V.split("=")[0]).trim().replace(B,"")).length<2)return"";for(;V.length%4!=0;)V+="=";return V})(G))}function ee(G,V,Z,ae){for(var re=0;re<ae&&!(re+Z>=V.length||re>=G.length);++re)V[re+Z]=G[re];return re}function W(G,V){return G instanceof V||G!=null&&G.constructor!=null&&G.constructor.name!=null&&G.constructor.name===V.name}function te(G){return G!=G}}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(e,n,s){var i=e("safe-buffer").Buffer,a=e("stream").Transform,l=e("string_decoder").StringDecoder;function c(o){a.call(this),this.hashMode=typeof o=="string",this.hashMode?this[o]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}e("inherits")(c,a),c.prototype.update=function(o,u,p){typeof o=="string"&&(o=i.from(o,u));var h=this._update(o);return this.hashMode?this:(p&&(h=this._toString(h,p)),h)},c.prototype.setAutoPadding=function(){},c.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},c.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},c.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},c.prototype._transform=function(o,u,p){var h;try{this.hashMode?this._update(o):this.push(this._update(o))}catch(d){h=d}finally{p(h)}},c.prototype._flush=function(o){var u;try{this.push(this.__final())}catch(p){u=p}o(u)},c.prototype._finalOrDigest=function(o){var u=this.__final()||i.alloc(0);return o&&(u=this._toString(u,o,!0)),u},c.prototype._toString=function(o,u,p){if(this._decoder||(this._decoder=new l(u),this._encoding=u),this._encoding!==u)throw new Error("can't switch encodings");var h=this._decoder.write(o);return p&&(h+=this._decoder.end()),h},n.exports=c},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(e,n,s){var i=e("../internals/is-callable"),a=e("../internals/try-to-string"),l=TypeError;n.exports=function(c){if(i(c))return c;throw new l(a(c)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(e,n,s){var i=e("../internals/is-constructor"),a=e("../internals/try-to-string"),l=TypeError;n.exports=function(c){if(i(c))return c;throw new l(a(c)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(e,n,s){var i=e("../internals/is-callable"),a=String,l=TypeError;n.exports=function(c){if(typeof c=="object"||i(c))return c;throw new l("Can't set "+a(c)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(e,n,s){var i=e("../internals/well-known-symbol"),a=e("../internals/object-create"),l=e("../internals/object-define-property").f,c=i("unscopables"),o=Array.prototype;o[c]===void 0&&l(o,c,{configurable:!0,value:a(null)}),n.exports=function(u){o[c][u]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(e,n,s){var i=e("../internals/object-is-prototype-of"),a=TypeError;n.exports=function(l,c){if(i(c,l))return l;throw new a("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(e,n,s){var i=e("../internals/is-object"),a=String,l=TypeError;n.exports=function(c){if(i(c))return c;throw new l(a(c)+" is not an object")}},{"../internals/is-object":289}],228:[function(e,n,s){var i=e("../internals/to-indexed-object"),a=e("../internals/to-absolute-index"),l=e("../internals/length-of-array-like"),c=function(o){return function(u,p,h){var d,x=i(u),b=l(x),g=a(h,b);if(o&&p!=p){for(;b>g;)if((d=x[g++])!=d)return!0}else for(;b>g;g++)if((o||g in x)&&x[g]===p)return o||g||0;return!o&&-1}};n.exports={includes:c(!0),indexOf:c(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(e,n,s){var i=e("../internals/function-bind-context"),a=e("../internals/function-uncurry-this"),l=e("../internals/indexed-object"),c=e("../internals/to-object"),o=e("../internals/length-of-array-like"),u=e("../internals/array-species-create"),p=a([].push),h=function(d){var x=d===1,b=d===2,g=d===3,v=d===4,y=d===6,T=d===7,R=d===5||y;return function(P,H,L,I){for(var O,F,q=c(P),z=l(q),N=i(H,L),U=o(z),C=0,S=I||u,k=x?S(P,U):b||T?S(P,0):void 0;U>C;C++)if((R||C in z)&&(F=N(O=z[C],C,q),d))if(x)k[C]=F;else if(F)switch(d){case 3:return!0;case 5:return O;case 6:return C;case 2:p(k,O)}else switch(d){case 4:return!1;case 7:p(k,O)}return y?-1:g||v?v:k}};n.exports={forEach:h(0),map:h(1),filter:h(2),some:h(3),every:h(4),find:h(5),findIndex:h(6),filterReject:h(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(e,n,s){var i=e("../internals/to-absolute-index"),a=e("../internals/length-of-array-like"),l=e("../internals/create-property"),c=Array,o=Math.max;n.exports=function(u,p,h){for(var d=a(u),x=i(p,d),b=i(h===void 0?d:h,d),g=c(o(b-x,0)),v=0;x<b;x++,v++)l(g,v,u[x]);return g.length=v,g}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(e,n,s){var i=e("../internals/function-uncurry-this");n.exports=i([].slice)},{"../internals/function-uncurry-this":268}],232:[function(e,n,s){var i=e("../internals/is-array"),a=e("../internals/is-constructor"),l=e("../internals/is-object"),c=e("../internals/well-known-symbol")("species"),o=Array;n.exports=function(u){var p;return i(u)&&(p=u.constructor,(a(p)&&(p===o||i(p.prototype))||l(p)&&(p=p[c])===null)&&(p=void 0)),p===void 0?o:p}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(e,n,s){var i=e("../internals/array-species-constructor");n.exports=function(a,l){return new(i(a))(l===0?0:l)}},{"../internals/array-species-constructor":232}],234:[function(e,n,s){var i=e("../internals/well-known-symbol")("iterator"),a=!1;try{var l=0,c={next:function(){return{done:!!l++}},return:function(){a=!0}};c[i]=function(){return this},Array.from(c,(function(){throw 2}))}catch{}n.exports=function(o,u){try{if(!u&&!a)return!1}catch{return!1}var p=!1;try{var h={};h[i]=function(){return{next:function(){return{done:p=!0}}}},o(h)}catch{}return p}},{"../internals/well-known-symbol":357}],235:[function(e,n,s){var i=e("../internals/function-uncurry-this"),a=i({}.toString),l=i("".slice);n.exports=function(c){return l(a(c),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(e,n,s){var i=e("../internals/to-string-tag-support"),a=e("../internals/is-callable"),l=e("../internals/classof-raw"),c=e("../internals/well-known-symbol")("toStringTag"),o=Object,u=l((function(){return arguments})())==="Arguments";n.exports=i?l:function(p){var h,d,x;return p===void 0?"Undefined":p===null?"Null":typeof(d=(function(b,g){try{return b[g]}catch{}})(h=o(p),c))=="string"?d:u?l(h):(x=l(h))==="Object"&&a(h.callee)?"Arguments":x}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(e,n,s){var i=e("../internals/has-own-property"),a=e("../internals/own-keys"),l=e("../internals/object-get-own-property-descriptor"),c=e("../internals/object-define-property");n.exports=function(o,u,p){for(var h=a(u),d=c.f,x=l.f,b=0;b<h.length;b++){var g=h[b];i(o,g)||p&&i(p,g)||d(o,g,x(u,g))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(e,n,s){var i=e("../internals/well-known-symbol")("match");n.exports=function(a){var l=/./;try{"/./"[a](l)}catch{try{return l[i]=!1,"/./"[a](l)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(e,n,s){var i=e("../internals/fails");n.exports=!i((function(){function a(){}return a.prototype.constructor=null,Object.getPrototypeOf(new a)!==a.prototype}))},{"../internals/fails":260}],240:[function(e,n,s){n.exports=function(i,a){return{value:i,done:a}}},{}],241:[function(e,n,s){var i=e("../internals/descriptors"),a=e("../internals/object-define-property"),l=e("../internals/create-property-descriptor");n.exports=i?function(c,o,u){return a.f(c,o,l(1,u))}:function(c,o,u){return c[o]=u,c}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(e,n,s){n.exports=function(i,a){return{enumerable:!(1&i),configurable:!(2&i),writable:!(4&i),value:a}}},{}],243:[function(e,n,s){var i=e("../internals/to-property-key"),a=e("../internals/object-define-property"),l=e("../internals/create-property-descriptor");n.exports=function(c,o,u){var p=i(o);p in c?a.f(c,p,l(0,u)):c[p]=u}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(e,n,s){var i=e("../internals/make-built-in"),a=e("../internals/object-define-property");n.exports=function(l,c,o){return o.get&&i(o.get,c,{getter:!0}),o.set&&i(o.set,c,{setter:!0}),a.f(l,c,o)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(e,n,s){var i=e("../internals/is-callable"),a=e("../internals/object-define-property"),l=e("../internals/make-built-in"),c=e("../internals/define-global-property");n.exports=function(o,u,p,h){h||(h={});var d=h.enumerable,x=h.name!==void 0?h.name:u;if(i(p)&&l(p,x,h),h.global)d?o[u]=p:c(u,p);else{try{h.unsafe?o[u]&&(d=!0):delete o[u]}catch{}d?o[u]=p:a.f(o,u,{value:p,enumerable:!1,configurable:!h.nonConfigurable,writable:!h.nonWritable})}return o}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(e,n,s){var i=e("../internals/global"),a=Object.defineProperty;n.exports=function(l,c){try{a(i,l,{value:c,configurable:!0,writable:!0})}catch{i[l]=c}return c}},{"../internals/global":274}],247:[function(e,n,s){var i=e("../internals/fails");n.exports=!i((function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}))},{"../internals/fails":260}],248:[function(e,n,s){var i=typeof document=="object"&&document.all,a=i===void 0&&i!==void 0;n.exports={all:i,IS_HTMLDDA:a}},{}],249:[function(e,n,s){var i=e("../internals/global"),a=e("../internals/is-object"),l=i.document,c=a(l)&&a(l.createElement);n.exports=function(o){return c?l.createElement(o):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(e,n,s){var i=e("../internals/engine-is-deno"),a=e("../internals/engine-is-node");n.exports=!i&&!a&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(e,n,s){n.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(e,n,s){var i=e("../internals/engine-user-agent");n.exports=/ipad|iphone|ipod/i.test(i)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(e,n,s){var i=e("../internals/engine-user-agent");n.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(i)},{"../internals/engine-user-agent":256}],254:[function(e,n,s){var i=e("../internals/global"),a=e("../internals/classof-raw");n.exports=a(i.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(e,n,s){var i=e("../internals/engine-user-agent");n.exports=/web0s(?!.*chrome)/i.test(i)},{"../internals/engine-user-agent":256}],256:[function(e,n,s){n.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(e,n,s){var i,a,l=e("../internals/global"),c=e("../internals/engine-user-agent"),o=l.process,u=l.Deno,p=o&&o.versions||u&&u.version,h=p&&p.v8;h&&(a=(i=h.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!a&&c&&(!(i=c.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=c.match(/Chrome\/(\d+)/))&&(a=+i[1]),n.exports=a},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(e,n,s){n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(e,n,s){var i=e("../internals/global"),a=e("../internals/object-get-own-property-descriptor").f,l=e("../internals/create-non-enumerable-property"),c=e("../internals/define-built-in"),o=e("../internals/define-global-property"),u=e("../internals/copy-constructor-properties"),p=e("../internals/is-forced");n.exports=function(h,d){var x,b,g,v,y,T=h.target,R=h.global,P=h.stat;if(x=R?i:P?i[T]||o(T,{}):(i[T]||{}).prototype)for(b in d){if(v=d[b],g=h.dontCallGetSet?(y=a(x,b))&&y.value:x[b],!p(R?b:T+(P?".":"#")+b,h.forced)&&g!==void 0){if(typeof v==typeof g)continue;u(v,g)}(h.sham||g&&g.sham)&&l(v,"sham",!0),c(x,b,v,h)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(e,n,s){n.exports=function(i){try{return!!i()}catch{return!0}}},{}],261:[function(e,n,s){var i=e("../internals/function-bind-native"),a=Function.prototype,l=a.apply,c=a.call;n.exports=typeof Reflect=="object"&&Reflect.apply||(i?c.bind(l):function(){return c.apply(l,arguments)})},{"../internals/function-bind-native":263}],262:[function(e,n,s){var i=e("../internals/function-uncurry-this-clause"),a=e("../internals/a-callable"),l=e("../internals/function-bind-native"),c=i(i.bind);n.exports=function(o,u){return a(o),u===void 0?o:l?c(o,u):function(){return o.apply(u,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(e,n,s){var i=e("../internals/fails");n.exports=!i((function(){var a=(function(){}).bind();return typeof a!="function"||a.hasOwnProperty("prototype")}))},{"../internals/fails":260}],264:[function(e,n,s){var i=e("../internals/function-bind-native"),a=Function.prototype.call;n.exports=i?a.bind(a):function(){return a.apply(a,arguments)}},{"../internals/function-bind-native":263}],265:[function(e,n,s){var i=e("../internals/descriptors"),a=e("../internals/has-own-property"),l=Function.prototype,c=i&&Object.getOwnPropertyDescriptor,o=a(l,"name"),u=o&&(function(){}).name==="something",p=o&&(!i||i&&c(l,"name").configurable);n.exports={EXISTS:o,PROPER:u,CONFIGURABLE:p}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(e,n,s){var i=e("../internals/function-uncurry-this"),a=e("../internals/a-callable");n.exports=function(l,c,o){try{return i(a(Object.getOwnPropertyDescriptor(l,c)[o]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(e,n,s){var i=e("../internals/classof-raw"),a=e("../internals/function-uncurry-this");n.exports=function(l){if(i(l)==="Function")return a(l)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(e,n,s){var i=e("../internals/function-bind-native"),a=Function.prototype,l=a.call,c=i&&a.bind.bind(l,l);n.exports=i?c:function(o){return function(){return l.apply(o,arguments)}}},{"../internals/function-bind-native":263}],269:[function(e,n,s){var i=e("../internals/global"),a=e("../internals/is-callable"),l=function(c){return a(c)?c:void 0};n.exports=function(c,o){return arguments.length<2?l(i[c]):i[c]&&i[c][o]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(e,n,s){var i=e("../internals/classof"),a=e("../internals/get-method"),l=e("../internals/is-null-or-undefined"),c=e("../internals/iterators"),o=e("../internals/well-known-symbol")("iterator");n.exports=function(u){if(!l(u))return a(u,o)||a(u,"@@iterator")||c[i(u)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(e,n,s){var i=e("../internals/function-call"),a=e("../internals/a-callable"),l=e("../internals/an-object"),c=e("../internals/try-to-string"),o=e("../internals/get-iterator-method"),u=TypeError;n.exports=function(p,h){var d=arguments.length<2?o(p):h;if(a(d))return l(i(d,p));throw new u(c(p)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(e,n,s){var i=e("../internals/function-uncurry-this"),a=e("../internals/is-array"),l=e("../internals/is-callable"),c=e("../internals/classof-raw"),o=e("../internals/to-string"),u=i([].push);n.exports=function(p){if(l(p))return p;if(a(p)){for(var h=p.length,d=[],x=0;x<h;x++){var b=p[x];typeof b=="string"?u(d,b):typeof b!="number"&&c(b)!=="Number"&&c(b)!=="String"||u(d,o(b))}var g=d.length,v=!0;return function(y,T){if(v)return v=!1,T;if(a(this))return T;for(var R=0;R<g;R++)if(d[R]===y)return T}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(e,n,s){var i=e("../internals/a-callable"),a=e("../internals/is-null-or-undefined");n.exports=function(l,c){var o=l[c];return a(o)?void 0:i(o)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(e,n,s){(function(i){(function(){var a=function(l){return l&&l.Math===Math&&l};n.exports=a(typeof globalThis=="object"&&globalThis)||a(typeof window=="object"&&window)||a(typeof self=="object"&&self)||a(typeof i=="object"&&i)||(function(){return this})()||this||Function("return this")()}).call(this)}).call(this,typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(e,n,s){var i=e("../internals/function-uncurry-this"),a=e("../internals/to-object"),l=i({}.hasOwnProperty);n.exports=Object.hasOwn||function(c,o){return l(a(c),o)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(e,n,s){n.exports={}},{}],277:[function(e,n,s){n.exports=function(i,a){try{arguments.length===1?console.error(i):console.error(i,a)}catch{}}},{}],278:[function(e,n,s){var i=e("../internals/get-built-in");n.exports=i("document","documentElement")},{"../internals/get-built-in":269}],279:[function(e,n,s){var i=e("../internals/descriptors"),a=e("../internals/fails"),l=e("../internals/document-create-element");n.exports=!i&&!a((function(){return Object.defineProperty(l("div"),"a",{get:function(){return 7}}).a!==7}))},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(e,n,s){var i=e("../internals/function-uncurry-this"),a=e("../internals/fails"),l=e("../internals/classof-raw"),c=Object,o=i("".split);n.exports=a((function(){return!c("z").propertyIsEnumerable(0)}))?function(u){return l(u)==="String"?o(u,""):c(u)}:c},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(e,n,s){var i=e("../internals/function-uncurry-this"),a=e("../internals/is-callable"),l=e("../internals/shared-store"),c=i(Function.toString);a(l.inspectSource)||(l.inspectSource=function(o){return c(o)}),n.exports=l.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(e,n,s){var i,a,l,c=e("../internals/weak-map-basic-detection"),o=e("../internals/global"),u=e("../internals/is-object"),p=e("../internals/create-non-enumerable-property"),h=e("../internals/has-own-property"),d=e("../internals/shared-store"),x=e("../internals/shared-key"),b=e("../internals/hidden-keys"),g=o.TypeError,v=o.WeakMap;if(c||d.state){var y=d.state||(d.state=new v);y.get=y.get,y.has=y.has,y.set=y.set,i=function(R,P){if(y.has(R))throw new g("Object already initialized");return P.facade=R,y.set(R,P),P},a=function(R){return y.get(R)||{}},l=function(R){return y.has(R)}}else{var T=x("state");b[T]=!0,i=function(R,P){if(h(R,T))throw new g("Object already initialized");return P.facade=R,p(R,T,P),P},a=function(R){return h(R,T)?R[T]:{}},l=function(R){return h(R,T)}}n.exports={set:i,get:a,has:l,enforce:function(R){return l(R)?a(R):i(R,{})},getterFor:function(R){return function(P){var H;if(!u(P)||(H=a(P)).type!==R)throw new g("Incompatible receiver, "+R+" required");return H}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(e,n,s){var i=e("../internals/well-known-symbol"),a=e("../internals/iterators"),l=i("iterator"),c=Array.prototype;n.exports=function(o){return o!==void 0&&(a.Array===o||c[l]===o)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(e,n,s){var i=e("../internals/classof-raw");n.exports=Array.isArray||function(a){return i(a)==="Array"}},{"../internals/classof-raw":235}],285:[function(e,n,s){var i=e("../internals/document-all"),a=i.all;n.exports=i.IS_HTMLDDA?function(l){return typeof l=="function"||l===a}:function(l){return typeof l=="function"}},{"../internals/document-all":248}],286:[function(e,n,s){var i=e("../internals/function-uncurry-this"),a=e("../internals/fails"),l=e("../internals/is-callable"),c=e("../internals/classof"),o=e("../internals/get-built-in"),u=e("../internals/inspect-source"),p=function(){},h=[],d=o("Reflect","construct"),x=/^\s*(?:class|function)\b/,b=i(x.exec),g=!x.test(p),v=function(T){if(!l(T))return!1;try{return d(p,h,T),!0}catch{return!1}},y=function(T){if(!l(T))return!1;switch(c(T)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return g||!!b(x,u(T))}catch{return!0}};y.sham=!0,n.exports=!d||a((function(){var T;return v(v.call)||!v(Object)||!v((function(){T=!0}))||T}))?y:v},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(e,n,s){var i=e("../internals/fails"),a=e("../internals/is-callable"),l=/#|\.prototype\./,c=function(d,x){var b=u[o(d)];return b===h||b!==p&&(a(x)?i(x):!!x)},o=c.normalize=function(d){return String(d).replace(l,".").toLowerCase()},u=c.data={},p=c.NATIVE="N",h=c.POLYFILL="P";n.exports=c},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(e,n,s){n.exports=function(i){return i==null}},{}],289:[function(e,n,s){var i=e("../internals/is-callable"),a=e("../internals/document-all"),l=a.all;n.exports=a.IS_HTMLDDA?function(c){return typeof c=="object"?c!==null:i(c)||c===l}:function(c){return typeof c=="object"?c!==null:i(c)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(e,n,s){n.exports=!1},{}],291:[function(e,n,s){var i=e("../internals/is-object"),a=e("../internals/classof-raw"),l=e("../internals/well-known-symbol")("match");n.exports=function(c){var o;return i(c)&&((o=c[l])!==void 0?!!o:a(c)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(e,n,s){var i=e("../internals/get-built-in"),a=e("../internals/is-callable"),l=e("../internals/object-is-prototype-of"),c=e("../internals/use-symbol-as-uid"),o=Object;n.exports=c?function(u){return typeof u=="symbol"}:function(u){var p=i("Symbol");return a(p)&&l(p.prototype,o(u))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(e,n,s){var i=e("../internals/function-bind-context"),a=e("../internals/function-call"),l=e("../internals/an-object"),c=e("../internals/try-to-string"),o=e("../internals/is-array-iterator-method"),u=e("../internals/length-of-array-like"),p=e("../internals/object-is-prototype-of"),h=e("../internals/get-iterator"),d=e("../internals/get-iterator-method"),x=e("../internals/iterator-close"),b=TypeError,g=function(y,T){this.stopped=y,this.result=T},v=g.prototype;n.exports=function(y,T,R){var P,H,L,I,O,F,q,z=R&&R.that,N=!(!R||!R.AS_ENTRIES),U=!(!R||!R.IS_RECORD),C=!(!R||!R.IS_ITERATOR),S=!(!R||!R.INTERRUPTED),k=i(T,z),E=function(j){return P&&x(P,"normal",j),new g(!0,j)},A=function(j){return N?(l(j),S?k(j[0],j[1],E):k(j[0],j[1])):S?k(j,E):k(j)};if(U)P=y.iterator;else if(C)P=y;else{if(!(H=d(y)))throw new b(c(y)+" is not iterable");if(o(H)){for(L=0,I=u(y);I>L;L++)if((O=A(y[L]))&&p(v,O))return O;return new g(!1)}P=h(y,H)}for(F=U?y.next:P.next;!(q=a(F,P)).done;){try{O=A(q.value)}catch(j){x(P,"throw",j)}if(typeof O=="object"&&O&&p(v,O))return O}return new g(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(e,n,s){var i=e("../internals/function-call"),a=e("../internals/an-object"),l=e("../internals/get-method");n.exports=function(c,o,u){var p,h;a(c);try{if(!(p=l(c,"return"))){if(o==="throw")throw u;return u}p=i(p,c)}catch(d){h=!0,p=d}if(o==="throw")throw u;if(h)throw p;return a(p),u}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(e,n,s){var i=e("../internals/iterators-core").IteratorPrototype,a=e("../internals/object-create"),l=e("../internals/create-property-descriptor"),c=e("../internals/set-to-string-tag"),o=e("../internals/iterators"),u=function(){return this};n.exports=function(p,h,d,x){var b=h+" Iterator";return p.prototype=a(i,{next:l(+!x,d)}),c(p,b,!1,!0),o[b]=u,p}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/function-call"),l=e("../internals/is-pure"),c=e("../internals/function-name"),o=e("../internals/is-callable"),u=e("../internals/iterator-create-constructor"),p=e("../internals/object-get-prototype-of"),h=e("../internals/object-set-prototype-of"),d=e("../internals/set-to-string-tag"),x=e("../internals/create-non-enumerable-property"),b=e("../internals/define-built-in"),g=e("../internals/well-known-symbol"),v=e("../internals/iterators"),y=e("../internals/iterators-core"),T=c.PROPER,R=c.CONFIGURABLE,P=y.IteratorPrototype,H=y.BUGGY_SAFARI_ITERATORS,L=g("iterator"),I=function(){return this};n.exports=function(O,F,q,z,N,U,C){u(q,F,z);var S,k,E,A=function(W){if(W===N&&K)return K;if(!H&&W&&W in D)return D[W];switch(W){case"keys":case"values":case"entries":return function(){return new q(this,W)}}return function(){return new q(this)}},j=F+" Iterator",B=!1,D=O.prototype,Q=D[L]||D["@@iterator"]||N&&D[N],K=!H&&Q||A(N),ee=F==="Array"&&D.entries||Q;if(ee&&(S=p(ee.call(new O)))!==Object.prototype&&S.next&&(l||p(S)===P||(h?h(S,P):o(S[L])||b(S,L,I)),d(S,j,!0,!0),l&&(v[j]=I)),T&&N==="values"&&Q&&Q.name!=="values"&&(!l&&R?x(D,"name","values"):(B=!0,K=function(){return a(Q,this)})),N)if(k={values:A("values"),keys:U?K:A("keys"),entries:A("entries")},C)for(E in k)(H||B||!(E in D))&&b(D,E,k[E]);else i({target:F,proto:!0,forced:H||B},k);return l&&!C||D[L]===K||b(D,L,K,{name:N}),v[F]=K,k}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(e,n,s){var i,a,l,c=e("../internals/fails"),o=e("../internals/is-callable"),u=e("../internals/is-object"),p=e("../internals/object-create"),h=e("../internals/object-get-prototype-of"),d=e("../internals/define-built-in"),x=e("../internals/well-known-symbol"),b=e("../internals/is-pure"),g=x("iterator"),v=!1;[].keys&&("next"in(l=[].keys())?(a=h(h(l)))!==Object.prototype&&(i=a):v=!0),!u(i)||c((function(){var y={};return i[g].call(y)!==y}))?i={}:b&&(i=p(i)),o(i[g])||d(i,g,(function(){return this})),n.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:v}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(e,n,s){arguments[4][276][0].apply(s,arguments)},{dup:276}],299:[function(e,n,s){var i=e("../internals/to-length");n.exports=function(a){return i(a.length)}},{"../internals/to-length":343}],300:[function(e,n,s){var i=e("../internals/function-uncurry-this"),a=e("../internals/fails"),l=e("../internals/is-callable"),c=e("../internals/has-own-property"),o=e("../internals/descriptors"),u=e("../internals/function-name").CONFIGURABLE,p=e("../internals/inspect-source"),h=e("../internals/internal-state"),d=h.enforce,x=h.get,b=String,g=Object.defineProperty,v=i("".slice),y=i("".replace),T=i([].join),R=o&&!a((function(){return g((function(){}),"length",{value:8}).length!==8})),P=String(String).split("String"),H=n.exports=function(L,I,O){v(b(I),0,7)==="Symbol("&&(I="["+y(b(I),/^Symbol\(([^)]*)\)/,"$1")+"]"),O&&O.getter&&(I="get "+I),O&&O.setter&&(I="set "+I),(!c(L,"name")||u&&L.name!==I)&&(o?g(L,"name",{value:I,configurable:!0}):L.name=I),R&&O&&c(O,"arity")&&L.length!==O.arity&&g(L,"length",{value:O.arity});try{O&&c(O,"constructor")&&O.constructor?o&&g(L,"prototype",{writable:!1}):L.prototype&&(L.prototype=void 0)}catch{}var F=d(L);return c(F,"source")||(F.source=T(P,typeof I=="string"?I:"")),L};Function.prototype.toString=H((function(){return l(this)&&x(this).source||p(this)}),"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(e,n,s){var i=Math.ceil,a=Math.floor;n.exports=Math.trunc||function(l){var c=+l;return(c>0?a:i)(c)}},{}],302:[function(e,n,s){var i,a,l,c,o,u=e("../internals/global"),p=e("../internals/function-bind-context"),h=e("../internals/object-get-own-property-descriptor").f,d=e("../internals/task").set,x=e("../internals/queue"),b=e("../internals/engine-is-ios"),g=e("../internals/engine-is-ios-pebble"),v=e("../internals/engine-is-webos-webkit"),y=e("../internals/engine-is-node"),T=u.MutationObserver||u.WebKitMutationObserver,R=u.document,P=u.process,H=u.Promise,L=h(u,"queueMicrotask"),I=L&&L.value;if(!I){var O=new x,F=function(){var q,z;for(y&&(q=P.domain)&&q.exit();z=O.get();)try{z()}catch(N){throw O.head&&i(),N}q&&q.enter()};b||y||v||!T||!R?!g&&H&&H.resolve?((c=H.resolve(void 0)).constructor=H,o=p(c.then,c),i=function(){o(F)}):y?i=function(){P.nextTick(F)}:(d=p(d,u),i=function(){d(F)}):(a=!0,l=R.createTextNode(""),new T(F).observe(l,{characterData:!0}),i=function(){l.data=a=!a}),I=function(q){O.head||i(),O.add(q)}}n.exports=I},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(e,n,s){var i=e("../internals/a-callable"),a=TypeError,l=function(c){var o,u;this.promise=new c((function(p,h){if(o!==void 0||u!==void 0)throw new a("Bad Promise constructor");o=p,u=h})),this.resolve=i(o),this.reject=i(u)};n.exports.f=function(c){return new l(c)}},{"../internals/a-callable":222}],304:[function(e,n,s){var i=e("../internals/is-regexp"),a=TypeError;n.exports=function(l){if(i(l))throw new a("The method doesn't accept regular expressions");return l}},{"../internals/is-regexp":291}],305:[function(e,n,s){var i=e("../internals/descriptors"),a=e("../internals/function-uncurry-this"),l=e("../internals/function-call"),c=e("../internals/fails"),o=e("../internals/object-keys"),u=e("../internals/object-get-own-property-symbols"),p=e("../internals/object-property-is-enumerable"),h=e("../internals/to-object"),d=e("../internals/indexed-object"),x=Object.assign,b=Object.defineProperty,g=a([].concat);n.exports=!x||c((function(){if(i&&x({b:1},x(b({},"a",{enumerable:!0,get:function(){b(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var v={},y={},T=Symbol("assign detection");return v[T]=7,"abcdefghijklmnopqrst".split("").forEach((function(R){y[R]=R})),x({},v)[T]!==7||o(x({},y)).join("")!=="abcdefghijklmnopqrst"}))?function(v,y){for(var T=h(v),R=arguments.length,P=1,H=u.f,L=p.f;R>P;)for(var I,O=d(arguments[P++]),F=H?g(o(O),H(O)):o(O),q=F.length,z=0;q>z;)I=F[z++],i&&!l(L,O,I)||(T[I]=O[I]);return T}:x},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(e,n,s){var i,a=e("../internals/an-object"),l=e("../internals/object-define-properties"),c=e("../internals/enum-bug-keys"),o=e("../internals/hidden-keys"),u=e("../internals/html"),p=e("../internals/document-create-element"),h=e("../internals/shared-key"),d=h("IE_PROTO"),x=function(){},b=function(y){return"<script>"+y+"<\/script>"},g=function(y){y.write(b("")),y.close();var T=y.parentWindow.Object;return y=null,T},v=function(){try{i=new ActiveXObject("htmlfile")}catch{}var y,T;v=typeof document<"u"?document.domain&&i?g(i):((T=p("iframe")).style.display="none",u.appendChild(T),T.src="javascript:",(y=T.contentWindow.document).open(),y.write(b("document.F=Object")),y.close(),y.F):g(i);for(var R=c.length;R--;)delete v.prototype[c[R]];return v()};o[d]=!0,n.exports=Object.create||function(y,T){var R;return y!==null?(x.prototype=a(y),R=new x,x.prototype=null,R[d]=y):R=v(),T===void 0?R:l.f(R,T)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(e,n,s){var i=e("../internals/descriptors"),a=e("../internals/v8-prototype-define-bug"),l=e("../internals/object-define-property"),c=e("../internals/an-object"),o=e("../internals/to-indexed-object"),u=e("../internals/object-keys");s.f=i&&!a?Object.defineProperties:function(p,h){c(p);for(var d,x=o(h),b=u(h),g=b.length,v=0;g>v;)l.f(p,d=b[v++],x[d]);return p}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(e,n,s){var i=e("../internals/descriptors"),a=e("../internals/ie8-dom-define"),l=e("../internals/v8-prototype-define-bug"),c=e("../internals/an-object"),o=e("../internals/to-property-key"),u=TypeError,p=Object.defineProperty,h=Object.getOwnPropertyDescriptor;s.f=i?l?function(d,x,b){if(c(d),x=o(x),c(b),typeof d=="function"&&x==="prototype"&&"value"in b&&"writable"in b&&!b.writable){var g=h(d,x);g&&g.writable&&(d[x]=b.value,b={configurable:"configurable"in b?b.configurable:g.configurable,enumerable:"enumerable"in b?b.enumerable:g.enumerable,writable:!1})}return p(d,x,b)}:p:function(d,x,b){if(c(d),x=o(x),c(b),a)try{return p(d,x,b)}catch{}if("get"in b||"set"in b)throw new u("Accessors not supported");return"value"in b&&(d[x]=b.value),d}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(e,n,s){var i=e("../internals/descriptors"),a=e("../internals/function-call"),l=e("../internals/object-property-is-enumerable"),c=e("../internals/create-property-descriptor"),o=e("../internals/to-indexed-object"),u=e("../internals/to-property-key"),p=e("../internals/has-own-property"),h=e("../internals/ie8-dom-define"),d=Object.getOwnPropertyDescriptor;s.f=i?d:function(x,b){if(x=o(x),b=u(b),h)try{return d(x,b)}catch{}if(p(x,b))return c(!a(l.f,x,b),x[b])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(e,n,s){var i=e("../internals/classof-raw"),a=e("../internals/to-indexed-object"),l=e("../internals/object-get-own-property-names").f,c=e("../internals/array-slice-simple"),o=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];n.exports.f=function(u){return o&&i(u)==="Window"?(function(p){try{return l(p)}catch{return c(o)}})(u):l(a(u))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(e,n,s){var i=e("../internals/object-keys-internal"),a=e("../internals/enum-bug-keys").concat("length","prototype");s.f=Object.getOwnPropertyNames||function(l){return i(l,a)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(e,n,s){s.f=Object.getOwnPropertySymbols},{}],313:[function(e,n,s){var i=e("../internals/has-own-property"),a=e("../internals/is-callable"),l=e("../internals/to-object"),c=e("../internals/shared-key"),o=e("../internals/correct-prototype-getter"),u=c("IE_PROTO"),p=Object,h=p.prototype;n.exports=o?p.getPrototypeOf:function(d){var x=l(d);if(i(x,u))return x[u];var b=x.constructor;return a(b)&&x instanceof b?b.prototype:x instanceof p?h:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(e,n,s){var i=e("../internals/function-uncurry-this");n.exports=i({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(e,n,s){var i=e("../internals/function-uncurry-this"),a=e("../internals/has-own-property"),l=e("../internals/to-indexed-object"),c=e("../internals/array-includes").indexOf,o=e("../internals/hidden-keys"),u=i([].push);n.exports=function(p,h){var d,x=l(p),b=0,g=[];for(d in x)!a(o,d)&&a(x,d)&&u(g,d);for(;h.length>b;)a(x,d=h[b++])&&(~c(g,d)||u(g,d));return g}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(e,n,s){var i=e("../internals/object-keys-internal"),a=e("../internals/enum-bug-keys");n.exports=Object.keys||function(l){return i(l,a)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(e,n,s){var i={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,l=a&&!i.call({1:2},1);s.f=l?function(c){var o=a(this,c);return!!o&&o.enumerable}:i},{}],318:[function(e,n,s){var i=e("../internals/function-uncurry-this-accessor"),a=e("../internals/an-object"),l=e("../internals/a-possible-prototype");n.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var c,o=!1,u={};try{(c=i(Object.prototype,"__proto__","set"))(u,[]),o=u instanceof Array}catch{}return function(p,h){return a(p),l(h),o?c(p,h):p.__proto__=h,p}})():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(e,n,s){var i=e("../internals/descriptors"),a=e("../internals/fails"),l=e("../internals/function-uncurry-this"),c=e("../internals/object-get-prototype-of"),o=e("../internals/object-keys"),u=e("../internals/to-indexed-object"),p=l(e("../internals/object-property-is-enumerable").f),h=l([].push),d=i&&a((function(){var b=Object.create(null);return b[2]=2,!p(b,2)})),x=function(b){return function(g){for(var v,y=u(g),T=o(y),R=d&&c(y)===null,P=T.length,H=0,L=[];P>H;)v=T[H++],i&&!(R?v in y:p(y,v))||h(L,b?[v,y[v]]:y[v]);return L}};n.exports={entries:x(!0),values:x(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(e,n,s){var i=e("../internals/function-call"),a=e("../internals/is-callable"),l=e("../internals/is-object"),c=TypeError;n.exports=function(o,u){var p,h;if(u==="string"&&a(p=o.toString)&&!l(h=i(p,o))||a(p=o.valueOf)&&!l(h=i(p,o))||u!=="string"&&a(p=o.toString)&&!l(h=i(p,o)))return h;throw new c("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(e,n,s){var i=e("../internals/get-built-in"),a=e("../internals/function-uncurry-this"),l=e("../internals/object-get-own-property-names"),c=e("../internals/object-get-own-property-symbols"),o=e("../internals/an-object"),u=a([].concat);n.exports=i("Reflect","ownKeys")||function(p){var h=l.f(o(p)),d=c.f;return d?u(h,d(p)):h}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(e,n,s){var i=e("../internals/global");n.exports=i},{"../internals/global":274}],323:[function(e,n,s){n.exports=function(i){try{return{error:!1,value:i()}}catch(a){return{error:!0,value:a}}}},{}],324:[function(e,n,s){var i=e("../internals/global"),a=e("../internals/promise-native-constructor"),l=e("../internals/is-callable"),c=e("../internals/is-forced"),o=e("../internals/inspect-source"),u=e("../internals/well-known-symbol"),p=e("../internals/engine-is-browser"),h=e("../internals/engine-is-deno"),d=e("../internals/is-pure"),x=e("../internals/engine-v8-version"),b=a&&a.prototype,g=u("species"),v=!1,y=l(i.PromiseRejectionEvent),T=c("Promise",(function(){var R=o(a),P=R!==String(a);if(!P&&x===66||d&&(!b.catch||!b.finally))return!0;if(!x||x<51||!/native code/.test(R)){var H=new a((function(I){I(1)})),L=function(I){I((function(){}),(function(){}))};if((H.constructor={})[g]=L,!(v=H.then((function(){}))instanceof L))return!0}return!P&&(p||h)&&!y}));n.exports={CONSTRUCTOR:T,REJECTION_EVENT:y,SUBCLASSING:v}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(e,n,s){var i=e("../internals/global");n.exports=i.Promise},{"../internals/global":274}],326:[function(e,n,s){var i=e("../internals/an-object"),a=e("../internals/is-object"),l=e("../internals/new-promise-capability");n.exports=function(c,o){if(i(c),a(o)&&o.constructor===c)return o;var u=l.f(c);return(0,u.resolve)(o),u.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(e,n,s){var i=e("../internals/promise-native-constructor"),a=e("../internals/check-correctness-of-iteration"),l=e("../internals/promise-constructor-detection").CONSTRUCTOR;n.exports=l||!a((function(c){i.all(c).then(void 0,(function(){}))}))},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(e,n,s){var i=function(){this.head=null,this.tail=null};i.prototype={add:function(a){var l={item:a,next:null},c=this.tail;c?c.next=l:this.head=l,this.tail=l},get:function(){var a=this.head;if(a)return(this.head=a.next)===null&&(this.tail=null),a.item}},n.exports=i},{}],329:[function(e,n,s){var i=e("../internals/is-null-or-undefined"),a=TypeError;n.exports=function(l){if(i(l))throw new a("Can't call method on "+l);return l}},{"../internals/is-null-or-undefined":288}],330:[function(e,n,s){var i=e("../internals/get-built-in"),a=e("../internals/define-built-in-accessor"),l=e("../internals/well-known-symbol"),c=e("../internals/descriptors"),o=l("species");n.exports=function(u){var p=i(u);c&&p&&!p[o]&&a(p,o,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(e,n,s){var i=e("../internals/object-define-property").f,a=e("../internals/has-own-property"),l=e("../internals/well-known-symbol")("toStringTag");n.exports=function(c,o,u){c&&!u&&(c=c.prototype),c&&!a(c,l)&&i(c,l,{configurable:!0,value:o})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(e,n,s){var i=e("../internals/shared"),a=e("../internals/uid"),l=i("keys");n.exports=function(c){return l[c]||(l[c]=a(c))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(e,n,s){var i=e("../internals/global"),a=e("../internals/define-global-property"),l=i["__core-js_shared__"]||a("__core-js_shared__",{});n.exports=l},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(e,n,s){var i=e("../internals/is-pure"),a=e("../internals/shared-store");(n.exports=function(l,c){return a[l]||(a[l]=c!==void 0?c:{})})("versions",[]).push({version:"3.33.0",mode:i?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(e,n,s){var i=e("../internals/an-object"),a=e("../internals/a-constructor"),l=e("../internals/is-null-or-undefined"),c=e("../internals/well-known-symbol")("species");n.exports=function(o,u){var p,h=i(o).constructor;return h===void 0||l(p=i(h)[c])?u:a(p)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(e,n,s){var i=e("../internals/engine-v8-version"),a=e("../internals/fails"),l=e("../internals/global").String;n.exports=!!Object.getOwnPropertySymbols&&!a((function(){var c=Symbol("symbol detection");return!l(c)||!(Object(c)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(e,n,s){var i=e("../internals/function-call"),a=e("../internals/get-built-in"),l=e("../internals/well-known-symbol"),c=e("../internals/define-built-in");n.exports=function(){var o=a("Symbol"),u=o&&o.prototype,p=u&&u.valueOf,h=l("toPrimitive");u&&!u[h]&&c(u,h,(function(d){return i(p,this)}),{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(e,n,s){var i=e("../internals/symbol-constructor-detection");n.exports=i&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(e,n,s){var i,a,l,c,o=e("../internals/global"),u=e("../internals/function-apply"),p=e("../internals/function-bind-context"),h=e("../internals/is-callable"),d=e("../internals/has-own-property"),x=e("../internals/fails"),b=e("../internals/html"),g=e("../internals/array-slice"),v=e("../internals/document-create-element"),y=e("../internals/validate-arguments-length"),T=e("../internals/engine-is-ios"),R=e("../internals/engine-is-node"),P=o.setImmediate,H=o.clearImmediate,L=o.process,I=o.Dispatch,O=o.Function,F=o.MessageChannel,q=o.String,z=0,N={};x((function(){i=o.location}));var U=function(E){if(d(N,E)){var A=N[E];delete N[E],A()}},C=function(E){return function(){U(E)}},S=function(E){U(E.data)},k=function(E){o.postMessage(q(E),i.protocol+"//"+i.host)};P&&H||(P=function(E){y(arguments.length,1);var A=h(E)?E:O(E),j=g(arguments,1);return N[++z]=function(){u(A,void 0,j)},a(z),z},H=function(E){delete N[E]},R?a=function(E){L.nextTick(C(E))}:I&&I.now?a=function(E){I.now(C(E))}:F&&!T?(c=(l=new F).port2,l.port1.onmessage=S,a=p(c.postMessage,c)):o.addEventListener&&h(o.postMessage)&&!o.importScripts&&i&&i.protocol!=="file:"&&!x(k)?(a=k,o.addEventListener("message",S,!1)):a="onreadystatechange"in v("script")?function(E){b.appendChild(v("script")).onreadystatechange=function(){b.removeChild(this),U(E)}}:function(E){setTimeout(C(E),0)}),n.exports={set:P,clear:H}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(e,n,s){var i=e("../internals/to-integer-or-infinity"),a=Math.max,l=Math.min;n.exports=function(c,o){var u=i(c);return u<0?a(u+o,0):l(u,o)}},{"../internals/to-integer-or-infinity":342}],341:[function(e,n,s){var i=e("../internals/indexed-object"),a=e("../internals/require-object-coercible");n.exports=function(l){return i(a(l))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(e,n,s){var i=e("../internals/math-trunc");n.exports=function(a){var l=+a;return l!=l||l===0?0:i(l)}},{"../internals/math-trunc":301}],343:[function(e,n,s){var i=e("../internals/to-integer-or-infinity"),a=Math.min;n.exports=function(l){return l>0?a(i(l),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(e,n,s){var i=e("../internals/require-object-coercible"),a=Object;n.exports=function(l){return a(i(l))}},{"../internals/require-object-coercible":329}],345:[function(e,n,s){var i=e("../internals/function-call"),a=e("../internals/is-object"),l=e("../internals/is-symbol"),c=e("../internals/get-method"),o=e("../internals/ordinary-to-primitive"),u=e("../internals/well-known-symbol"),p=TypeError,h=u("toPrimitive");n.exports=function(d,x){if(!a(d)||l(d))return d;var b,g=c(d,h);if(g){if(x===void 0&&(x="default"),b=i(g,d,x),!a(b)||l(b))return b;throw new p("Can't convert object to primitive value")}return x===void 0&&(x="number"),o(d,x)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(e,n,s){var i=e("../internals/to-primitive"),a=e("../internals/is-symbol");n.exports=function(l){var c=i(l,"string");return a(c)?c:c+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(e,n,s){var i={};i[e("../internals/well-known-symbol")("toStringTag")]="z",n.exports=String(i)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(e,n,s){var i=e("../internals/classof"),a=String;n.exports=function(l){if(i(l)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return a(l)}},{"../internals/classof":236}],349:[function(e,n,s){var i=String;n.exports=function(a){try{return i(a)}catch{return"Object"}}},{}],350:[function(e,n,s){var i=e("../internals/function-uncurry-this"),a=0,l=Math.random(),c=i(1 .toString);n.exports=function(o){return"Symbol("+(o===void 0?"":o)+")_"+c(++a+l,36)}},{"../internals/function-uncurry-this":268}],351:[function(e,n,s){var i=e("../internals/symbol-constructor-detection");n.exports=i&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(e,n,s){var i=e("../internals/descriptors"),a=e("../internals/fails");n.exports=i&&a((function(){return Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype!==42}))},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(e,n,s){var i=TypeError;n.exports=function(a,l){if(a<l)throw new i("Not enough arguments");return a}},{}],354:[function(e,n,s){var i=e("../internals/global"),a=e("../internals/is-callable"),l=i.WeakMap;n.exports=a(l)&&/native code/.test(String(l))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(e,n,s){var i=e("../internals/path"),a=e("../internals/has-own-property"),l=e("../internals/well-known-symbol-wrapped"),c=e("../internals/object-define-property").f;n.exports=function(o){var u=i.Symbol||(i.Symbol={});a(u,o)||c(u,o,{value:l.f(o)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(e,n,s){var i=e("../internals/well-known-symbol");s.f=i},{"../internals/well-known-symbol":357}],357:[function(e,n,s){var i=e("../internals/global"),a=e("../internals/shared"),l=e("../internals/has-own-property"),c=e("../internals/uid"),o=e("../internals/symbol-constructor-detection"),u=e("../internals/use-symbol-as-uid"),p=i.Symbol,h=a("wks"),d=u?p.for||p:p&&p.withoutSetter||c;n.exports=function(x){return l(h,x)||(h[x]=o&&l(p,x)?p[x]:d("Symbol."+x)),h[x]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/array-iteration").findIndex,l=e("../internals/add-to-unscopables"),c=!0;"findIndex"in[]&&Array(1).findIndex((function(){c=!1})),i({target:"Array",proto:!0,forced:c},{findIndex:function(o){return a(this,o,arguments.length>1?arguments[1]:void 0)}}),l("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/array-iteration").find,l=e("../internals/add-to-unscopables"),c=!0;"find"in[]&&Array(1).find((function(){c=!1})),i({target:"Array",proto:!0,forced:c},{find:function(o){return a(this,o,arguments.length>1?arguments[1]:void 0)}}),l("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/array-includes").includes,l=e("../internals/fails"),c=e("../internals/add-to-unscopables");i({target:"Array",proto:!0,forced:l((function(){return!Array(1).includes()}))},{includes:function(o){return a(this,o,arguments.length>1?arguments[1]:void 0)}}),c("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(e,n,s){var i=e("../internals/to-indexed-object"),a=e("../internals/add-to-unscopables"),l=e("../internals/iterators"),c=e("../internals/internal-state"),o=e("../internals/object-define-property").f,u=e("../internals/iterator-define"),p=e("../internals/create-iter-result-object"),h=e("../internals/is-pure"),d=e("../internals/descriptors"),x=c.set,b=c.getterFor("Array Iterator");n.exports=u(Array,"Array",(function(v,y){x(this,{type:"Array Iterator",target:i(v),index:0,kind:y})}),(function(){var v=b(this),y=v.target,T=v.kind,R=v.index++;if(!y||R>=y.length)return v.target=void 0,p(void 0,!0);switch(T){case"keys":return p(R,!1);case"values":return p(y[R],!1)}return p([R,y[R]],!1)}),"values");var g=l.Arguments=l.Array;if(a("keys"),a("values"),a("entries"),!h&&d&&g.name!=="values")try{o(g,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/get-built-in"),l=e("../internals/function-apply"),c=e("../internals/function-call"),o=e("../internals/function-uncurry-this"),u=e("../internals/fails"),p=e("../internals/is-callable"),h=e("../internals/is-symbol"),d=e("../internals/array-slice"),x=e("../internals/get-json-replacer-function"),b=e("../internals/symbol-constructor-detection"),g=String,v=a("JSON","stringify"),y=o(/./.exec),T=o("".charAt),R=o("".charCodeAt),P=o("".replace),H=o(1 .toString),L=/[\uD800-\uDFFF]/g,I=/^[\uD800-\uDBFF]$/,O=/^[\uDC00-\uDFFF]$/,F=!b||u((function(){var U=a("Symbol")("stringify detection");return v([U])!=="[null]"||v({a:U})!=="{}"||v(Object(U))!=="{}"})),q=u((function(){return v("\uDF06\uD834")!=='"\\udf06\\ud834"'||v("\uDEAD")!=='"\\udead"'})),z=function(U,C){var S=d(arguments),k=x(C);if(p(k)||U!==void 0&&!h(U))return S[1]=function(E,A){if(p(k)&&(A=c(k,this,g(E),A)),!h(A))return A},l(v,null,S)},N=function(U,C,S){var k=T(S,C-1),E=T(S,C+1);return y(I,U)&&!y(O,E)||y(O,U)&&!y(I,k)?"\\u"+H(R(U,0),16):U};v&&i({target:"JSON",stat:!0,arity:3,forced:F||q},{stringify:function(U,C,S){var k=d(arguments),E=l(F?z:v,null,k);return q&&typeof E=="string"?P(E,L,N):E}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(e,n,s){e("../internals/export")({target:"Number",stat:!0},{isNaN:function(i){return i!=i}})},{"../internals/export":259}],364:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/object-assign");i({target:"Object",stat:!0,arity:2,forced:Object.assign!==a},{assign:a})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/symbol-constructor-detection"),l=e("../internals/fails"),c=e("../internals/object-get-own-property-symbols"),o=e("../internals/to-object");i({target:"Object",stat:!0,forced:!a||l((function(){c.f(1)}))},{getOwnPropertySymbols:function(u){var p=c.f;return p?p(o(u)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/to-object"),l=e("../internals/object-keys");i({target:"Object",stat:!0,forced:e("../internals/fails")((function(){l(1)}))},{keys:function(c){return l(a(c))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/object-to-array").values;i({target:"Object",stat:!0},{values:function(l){return a(l)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/function-call"),l=e("../internals/a-callable"),c=e("../internals/new-promise-capability"),o=e("../internals/perform"),u=e("../internals/iterate");i({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{all:function(p){var h=this,d=c.f(h),x=d.resolve,b=d.reject,g=o((function(){var v=l(h.resolve),y=[],T=0,R=1;u(p,(function(P){var H=T++,L=!1;R++,a(v,h,P).then((function(I){L||(L=!0,y[H]=I,--R||x(y))}),b)})),--R||x(y)}));return g.error&&b(g.value),d.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/is-pure"),l=e("../internals/promise-constructor-detection").CONSTRUCTOR,c=e("../internals/promise-native-constructor"),o=e("../internals/get-built-in"),u=e("../internals/is-callable"),p=e("../internals/define-built-in"),h=c&&c.prototype;if(i({target:"Promise",proto:!0,forced:l,real:!0},{catch:function(x){return this.then(void 0,x)}}),!a&&u(c)){var d=o("Promise").prototype.catch;h.catch!==d&&p(h,"catch",d,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(e,n,s){var i,a,l,c=e("../internals/export"),o=e("../internals/is-pure"),u=e("../internals/engine-is-node"),p=e("../internals/global"),h=e("../internals/function-call"),d=e("../internals/define-built-in"),x=e("../internals/object-set-prototype-of"),b=e("../internals/set-to-string-tag"),g=e("../internals/set-species"),v=e("../internals/a-callable"),y=e("../internals/is-callable"),T=e("../internals/is-object"),R=e("../internals/an-instance"),P=e("../internals/species-constructor"),H=e("../internals/task").set,L=e("../internals/microtask"),I=e("../internals/host-report-errors"),O=e("../internals/perform"),F=e("../internals/queue"),q=e("../internals/internal-state"),z=e("../internals/promise-native-constructor"),N=e("../internals/promise-constructor-detection"),U=e("../internals/new-promise-capability"),C=N.CONSTRUCTOR,S=N.REJECTION_EVENT,k=N.SUBCLASSING,E=q.getterFor("Promise"),A=q.set,j=z&&z.prototype,B=z,D=j,Q=p.TypeError,K=p.document,ee=p.process,W=U.f,te=W,G=!!(K&&K.createEvent&&p.dispatchEvent),V=function(pe){var ke;return!(!T(pe)||!y(ke=pe.then))&&ke},Z=function(pe,ke){var Ce,Fe,We,$e=ke.value,it=ke.state===1,st=it?pe.ok:pe.fail,et=pe.resolve,Ze=pe.reject,gt=pe.domain;try{st?(it||(ke.rejection===2&&Se(ke),ke.rejection=1),st===!0?Ce=$e:(gt&&gt.enter(),Ce=st($e),gt&&(gt.exit(),We=!0)),Ce===pe.promise?Ze(new Q("Promise-chain cycle")):(Fe=V(Ce))?h(Fe,Ce,et,Ze):et(Ce)):Ze($e)}catch(mt){gt&&!We&&gt.exit(),Ze(mt)}},ae=function(pe,ke){pe.notified||(pe.notified=!0,L((function(){for(var Ce,Fe=pe.reactions;Ce=Fe.get();)Z(Ce,pe);pe.notified=!1,ke&&!pe.rejection&&oe(pe)})))},re=function(pe,ke,Ce){var Fe,We;G?((Fe=K.createEvent("Event")).promise=ke,Fe.reason=Ce,Fe.initEvent(pe,!1,!0),p.dispatchEvent(Fe)):Fe={promise:ke,reason:Ce},!S&&(We=p["on"+pe])?We(Fe):pe==="unhandledrejection"&&I("Unhandled promise rejection",Ce)},oe=function(pe){h(H,p,(function(){var ke,Ce=pe.facade,Fe=pe.value;if(he(pe)&&(ke=O((function(){u?ee.emit("unhandledRejection",Fe,Ce):re("unhandledrejection",Ce,Fe)})),pe.rejection=u||he(pe)?2:1,ke.error))throw ke.value}))},he=function(pe){return pe.rejection!==1&&!pe.parent},Se=function(pe){h(H,p,(function(){var ke=pe.facade;u?ee.emit("rejectionHandled",ke):re("rejectionhandled",ke,pe.value)}))},ge=function(pe,ke,Ce){return function(Fe){pe(ke,Fe,Ce)}},ne=function(pe,ke,Ce){pe.done||(pe.done=!0,Ce&&(pe=Ce),pe.value=ke,pe.state=2,ae(pe,!0))},fe=function(pe,ke,Ce){if(!pe.done){pe.done=!0,Ce&&(pe=Ce);try{if(pe.facade===ke)throw new Q("Promise can't be resolved itself");var Fe=V(ke);Fe?L((function(){var We={done:!1};try{h(Fe,ke,ge(fe,We,pe),ge(ne,We,pe))}catch($e){ne(We,$e,pe)}})):(pe.value=ke,pe.state=1,ae(pe,!1))}catch(We){ne({done:!1},We,pe)}}};if(C&&(D=(B=function(pe){R(this,D),v(pe),h(i,this);var ke=E(this);try{pe(ge(fe,ke),ge(ne,ke))}catch(Ce){ne(ke,Ce)}}).prototype,(i=function(pe){A(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new F,rejection:!1,state:0,value:void 0})}).prototype=d(D,"then",(function(pe,ke){var Ce=E(this),Fe=W(P(this,B));return Ce.parent=!0,Fe.ok=!y(pe)||pe,Fe.fail=y(ke)&&ke,Fe.domain=u?ee.domain:void 0,Ce.state===0?Ce.reactions.add(Fe):L((function(){Z(Fe,Ce)})),Fe.promise})),a=function(){var pe=new i,ke=E(pe);this.promise=pe,this.resolve=ge(fe,ke),this.reject=ge(ne,ke)},U.f=W=function(pe){return pe===B||pe===void 0?new a(pe):te(pe)},!o&&y(z)&&j!==Object.prototype)){l=j.then,k||d(j,"then",(function(pe,ke){var Ce=this;return new B((function(Fe,We){h(l,Ce,Fe,We)})).then(pe,ke)}),{unsafe:!0});try{delete j.constructor}catch{}x&&x(j,D)}c({global:!0,constructor:!0,wrap:!0,forced:C},{Promise:B}),b(B,"Promise",!1,!0),g("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/is-pure"),l=e("../internals/promise-native-constructor"),c=e("../internals/fails"),o=e("../internals/get-built-in"),u=e("../internals/is-callable"),p=e("../internals/species-constructor"),h=e("../internals/promise-resolve"),d=e("../internals/define-built-in"),x=l&&l.prototype;if(i({target:"Promise",proto:!0,real:!0,forced:!!l&&c((function(){x.finally.call({then:function(){}},(function(){}))}))},{finally:function(g){var v=p(this,o("Promise")),y=u(g);return this.then(y?function(T){return h(v,g()).then((function(){return T}))}:g,y?function(T){return h(v,g()).then((function(){throw T}))}:g)}}),!a&&u(l)){var b=o("Promise").prototype.finally;x.finally!==b&&d(x,"finally",b,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(e,n,s){e("../modules/es.promise.constructor"),e("../modules/es.promise.all"),e("../modules/es.promise.catch"),e("../modules/es.promise.race"),e("../modules/es.promise.reject"),e("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/function-call"),l=e("../internals/a-callable"),c=e("../internals/new-promise-capability"),o=e("../internals/perform"),u=e("../internals/iterate");i({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{race:function(p){var h=this,d=c.f(h),x=d.reject,b=o((function(){var g=l(h.resolve);u(p,(function(v){a(g,h,v).then(d.resolve,x)}))}));return b.error&&x(b.value),d.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/function-call"),l=e("../internals/new-promise-capability");i({target:"Promise",stat:!0,forced:e("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(c){var o=l.f(this);return a(o.reject,void 0,c),o.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/get-built-in"),l=e("../internals/is-pure"),c=e("../internals/promise-native-constructor"),o=e("../internals/promise-constructor-detection").CONSTRUCTOR,u=e("../internals/promise-resolve"),p=a("Promise"),h=l&&!o;i({target:"Promise",stat:!0,forced:l||o},{resolve:function(d){return u(h&&this===p?c:this,d)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/function-uncurry-this"),l=e("../internals/to-absolute-index"),c=RangeError,o=String.fromCharCode,u=String.fromCodePoint,p=a([].join);i({target:"String",stat:!0,arity:1,forced:!!u&&u.length!==1},{fromCodePoint:function(h){for(var d,x=[],b=arguments.length,g=0;b>g;){if(d=+arguments[g++],l(d,1114111)!==d)throw new c(d+" is not a valid code point");x[g]=d<65536?o(d):o(55296+((d-=65536)>>10),d%1024+56320)}return p(x,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/function-uncurry-this"),l=e("../internals/not-a-regexp"),c=e("../internals/require-object-coercible"),o=e("../internals/to-string"),u=e("../internals/correct-is-regexp-logic"),p=a("".indexOf);i({target:"String",proto:!0,forced:!u("includes")},{includes:function(h){return!!~p(o(c(this)),o(l(h)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(e,n,s){e("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/global"),l=e("../internals/function-call"),c=e("../internals/function-uncurry-this"),o=e("../internals/is-pure"),u=e("../internals/descriptors"),p=e("../internals/symbol-constructor-detection"),h=e("../internals/fails"),d=e("../internals/has-own-property"),x=e("../internals/object-is-prototype-of"),b=e("../internals/an-object"),g=e("../internals/to-indexed-object"),v=e("../internals/to-property-key"),y=e("../internals/to-string"),T=e("../internals/create-property-descriptor"),R=e("../internals/object-create"),P=e("../internals/object-keys"),H=e("../internals/object-get-own-property-names"),L=e("../internals/object-get-own-property-names-external"),I=e("../internals/object-get-own-property-symbols"),O=e("../internals/object-get-own-property-descriptor"),F=e("../internals/object-define-property"),q=e("../internals/object-define-properties"),z=e("../internals/object-property-is-enumerable"),N=e("../internals/define-built-in"),U=e("../internals/define-built-in-accessor"),C=e("../internals/shared"),S=e("../internals/shared-key"),k=e("../internals/hidden-keys"),E=e("../internals/uid"),A=e("../internals/well-known-symbol"),j=e("../internals/well-known-symbol-wrapped"),B=e("../internals/well-known-symbol-define"),D=e("../internals/symbol-define-to-primitive"),Q=e("../internals/set-to-string-tag"),K=e("../internals/internal-state"),ee=e("../internals/array-iteration").forEach,W=S("hidden"),te=K.set,G=K.getterFor("Symbol"),V=Object.prototype,Z=a.Symbol,ae=Z&&Z.prototype,re=a.RangeError,oe=a.TypeError,he=a.QObject,Se=O.f,ge=F.f,ne=L.f,fe=z.f,pe=c([].push),ke=C("symbols"),Ce=C("op-symbols"),Fe=C("wks"),We=!he||!he.prototype||!he.prototype.findChild,$e=function(Ee,Oe,ct){var Be=Se(V,Oe);Be&&delete V[Oe],ge(Ee,Oe,ct),Be&&Ee!==V&&ge(V,Oe,Be)},it=u&&h((function(){return R(ge({},"a",{get:function(){return ge(this,"a",{value:7}).a}})).a!==7}))?$e:ge,st=function(Ee,Oe){var ct=ke[Ee]=R(ae);return te(ct,{type:"Symbol",tag:Ee,description:Oe}),u||(ct.description=Oe),ct},et=function(Ee,Oe,ct){Ee===V&&et(Ce,Oe,ct),b(Ee);var Be=v(Oe);return b(ct),d(ke,Be)?(ct.enumerable?(d(Ee,W)&&Ee[W][Be]&&(Ee[W][Be]=!1),ct=R(ct,{enumerable:T(0,!1)})):(d(Ee,W)||ge(Ee,W,T(1,{})),Ee[W][Be]=!0),it(Ee,Be,ct)):ge(Ee,Be,ct)},Ze=function(Ee,Oe){b(Ee);var ct=g(Oe),Be=P(ct).concat(Ue(ct));return ee(Be,(function(Ye){u&&!l(gt,ct,Ye)||et(Ee,Ye,ct[Ye])})),Ee},gt=function(Ee){var Oe=v(Ee),ct=l(fe,this,Oe);return!(this===V&&d(ke,Oe)&&!d(Ce,Oe))&&(!(ct||!d(this,Oe)||!d(ke,Oe)||d(this,W)&&this[W][Oe])||ct)},mt=function(Ee,Oe){var ct=g(Ee),Be=v(Oe);if(ct!==V||!d(ke,Be)||d(Ce,Be)){var Ye=Se(ct,Be);return!Ye||!d(ke,Be)||d(ct,W)&&ct[W][Be]||(Ye.enumerable=!0),Ye}},Me=function(Ee){var Oe=ne(g(Ee)),ct=[];return ee(Oe,(function(Be){d(ke,Be)||d(k,Be)||pe(ct,Be)})),ct},Ue=function(Ee){var Oe=Ee===V,ct=ne(Oe?Ce:g(Ee)),Be=[];return ee(ct,(function(Ye){!d(ke,Ye)||Oe&&!d(V,Ye)||pe(Be,ke[Ye])})),Be};p||(N(ae=(Z=function(){if(x(ae,this))throw new oe("Symbol is not a constructor");var Ee=arguments.length&&arguments[0]!==void 0?y(arguments[0]):void 0,Oe=E(Ee),ct=function(Be){this===V&&l(ct,Ce,Be),d(this,W)&&d(this[W],Oe)&&(this[W][Oe]=!1);var Ye=T(1,Be);try{it(this,Oe,Ye)}catch(je){if(!(je instanceof re))throw je;$e(this,Oe,Ye)}};return u&&We&&it(V,Oe,{configurable:!0,set:ct}),st(Oe,Ee)}).prototype,"toString",(function(){return G(this).tag})),N(Z,"withoutSetter",(function(Ee){return st(E(Ee),Ee)})),z.f=gt,F.f=et,q.f=Ze,O.f=mt,H.f=L.f=Me,I.f=Ue,j.f=function(Ee){return st(A(Ee),Ee)},u&&(U(ae,"description",{configurable:!0,get:function(){return G(this).description}}),o||N(V,"propertyIsEnumerable",gt,{unsafe:!0}))),i({global:!0,constructor:!0,wrap:!0,forced:!p,sham:!p},{Symbol:Z}),ee(P(Fe),(function(Ee){B(Ee)})),i({target:"Symbol",stat:!0,forced:!p},{useSetter:function(){We=!0},useSimple:function(){We=!1}}),i({target:"Object",stat:!0,forced:!p,sham:!u},{create:function(Ee,Oe){return Oe===void 0?R(Ee):Ze(R(Ee),Oe)},defineProperty:et,defineProperties:Ze,getOwnPropertyDescriptor:mt}),i({target:"Object",stat:!0,forced:!p},{getOwnPropertyNames:Me}),D(),Q(Z,"Symbol"),k[W]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/get-built-in"),l=e("../internals/has-own-property"),c=e("../internals/to-string"),o=e("../internals/shared"),u=e("../internals/symbol-registry-detection"),p=o("string-to-symbol-registry"),h=o("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!u},{for:function(d){var x=c(d);if(l(p,x))return p[x];var b=a("Symbol")(x);return p[x]=b,h[b]=x,b}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(e,n,s){e("../modules/es.symbol.constructor"),e("../modules/es.symbol.for"),e("../modules/es.symbol.key-for"),e("../modules/es.json.stringify"),e("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/has-own-property"),l=e("../internals/is-symbol"),c=e("../internals/try-to-string"),o=e("../internals/shared"),u=e("../internals/symbol-registry-detection"),p=o("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!u},{keyFor:function(h){if(!l(h))throw new TypeError(c(h)+" is not a symbol");if(a(p,h))return p[h]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(e,n,s){function i(a){return Object.prototype.toString.call(a)}s.isArray=function(a){return Array.isArray?Array.isArray(a):i(a)==="[object Array]"},s.isBoolean=function(a){return typeof a=="boolean"},s.isNull=function(a){return a===null},s.isNullOrUndefined=function(a){return a==null},s.isNumber=function(a){return typeof a=="number"},s.isString=function(a){return typeof a=="string"},s.isSymbol=function(a){return typeof a=="symbol"},s.isUndefined=function(a){return a===void 0},s.isRegExp=function(a){return i(a)==="[object RegExp]"},s.isObject=function(a){return typeof a=="object"&&a!==null},s.isDate=function(a){return i(a)==="[object Date]"},s.isError=function(a){return i(a)==="[object Error]"||a instanceof Error},s.isFunction=function(a){return typeof a=="function"},s.isPrimitive=function(a){return a===null||typeof a=="boolean"||typeof a=="number"||typeof a=="string"||typeof a=="symbol"||a===void 0},s.isBuffer=e("buffer").Buffer.isBuffer},{buffer:220}],384:[function(e,n,s){(function(i){(function(){var a=e("elliptic"),l=e("bn.js");n.exports=function(p){return new o(p)};var c={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function o(p){this.curveType=c[p],this.curveType||(this.curveType={name:p}),this.curve=new a.ec(this.curveType.name),this.keys=void 0}function u(p,h,d){Array.isArray(p)||(p=p.toArray());var x=new i(p);if(d&&x.length<d){var b=new i(d-x.length);b.fill(0),x=i.concat([b,x])}return h?x.toString(h):x}c.p224=c.secp224r1,c.p256=c.secp256r1=c.prime256v1,c.p192=c.secp192r1=c.prime192v1,c.p384=c.secp384r1,c.p521=c.secp521r1,o.prototype.generateKeys=function(p,h){return this.keys=this.curve.genKeyPair(),this.getPublicKey(p,h)},o.prototype.computeSecret=function(p,h,d){return h=h||"utf8",i.isBuffer(p)||(p=new i(p,h)),u(this.curve.keyFromPublic(p).getPublic().mul(this.keys.getPrivate()).getX(),d,this.curveType.byteLength)},o.prototype.getPublicKey=function(p,h){var d=this.keys.getPublic(h==="compressed",!0);return h==="hybrid"&&(d[d.length-1]%2?d[0]=7:d[0]=6),u(d,p)},o.prototype.getPrivateKey=function(p){return u(this.keys.getPrivate(),p)},o.prototype.setPublicKey=function(p,h){return h=h||"utf8",i.isBuffer(p)||(p=new i(p,h)),this.keys._importPublic(p),this},o.prototype.setPrivateKey=function(p,h){h=h||"utf8",i.isBuffer(p)||(p=new i(p,h));var d=new l(p);return d=d.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(d),this}}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(e,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],386:[function(e,n,s){var i=e("inherits"),a=e("md5.js"),l=e("ripemd160"),c=e("sha.js"),o=e("cipher-base");function u(p){o.call(this,"digest"),this._hash=p}i(u,o),u.prototype._update=function(p){this._hash.update(p)},u.prototype._final=function(){return this._hash.digest()},n.exports=function(p){return(p=p.toLowerCase())==="md5"?new a:p==="rmd160"||p==="ripemd160"?new l:new u(c(p))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(e,n,s){var i=e("md5.js");n.exports=function(a){return new i().update(a).digest()}},{"md5.js":450}],388:[function(e,n,s){var i=e("inherits"),a=e("./legacy"),l=e("cipher-base"),c=e("safe-buffer").Buffer,o=e("create-hash/md5"),u=e("ripemd160"),p=e("sha.js"),h=c.alloc(128);function d(x,b){l.call(this,"digest"),typeof b=="string"&&(b=c.from(b));var g=x==="sha512"||x==="sha384"?128:64;this._alg=x,this._key=b,b.length>g?b=(x==="rmd160"?new u:p(x)).update(b).digest():b.length<g&&(b=c.concat([b,h],g));for(var v=this._ipad=c.allocUnsafe(g),y=this._opad=c.allocUnsafe(g),T=0;T<g;T++)v[T]=54^b[T],y[T]=92^b[T];this._hash=x==="rmd160"?new u:p(x),this._hash.update(v)}i(d,l),d.prototype._update=function(x){this._hash.update(x)},d.prototype._final=function(){var x=this._hash.digest();return(this._alg==="rmd160"?new u:p(this._alg)).update(this._opad).update(x).digest()},n.exports=function(x,b){return(x=x.toLowerCase())==="rmd160"||x==="ripemd160"?new d("rmd160",b):x==="md5"?new a(o,b):new d(x,b)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(e,n,s){var i=e("inherits"),a=e("safe-buffer").Buffer,l=e("cipher-base"),c=a.alloc(128);function o(u,p){l.call(this,"digest"),typeof p=="string"&&(p=a.from(p)),this._alg=u,this._key=p,p.length>64?p=u(p):p.length<64&&(p=a.concat([p,c],64));for(var h=this._ipad=a.allocUnsafe(64),d=this._opad=a.allocUnsafe(64),x=0;x<64;x++)h[x]=54^p[x],d[x]=92^p[x];this._hash=[h]}i(o,l),o.prototype._update=function(u){this._hash.push(u)},o.prototype._final=function(){var u=this._alg(a.concat(this._hash));return this._alg(a.concat([this._opad,u]))},n.exports=o},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(e,n,s){s.randomBytes=s.rng=s.pseudoRandomBytes=s.prng=e("randombytes"),s.createHash=s.Hash=e("create-hash"),s.createHmac=s.Hmac=e("create-hmac");var i=e("browserify-sign/algos"),a=Object.keys(i),l=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(a);s.getHashes=function(){return l};var c=e("pbkdf2");s.pbkdf2=c.pbkdf2,s.pbkdf2Sync=c.pbkdf2Sync;var o=e("browserify-cipher");s.Cipher=o.Cipher,s.createCipher=o.createCipher,s.Cipheriv=o.Cipheriv,s.createCipheriv=o.createCipheriv,s.Decipher=o.Decipher,s.createDecipher=o.createDecipher,s.Decipheriv=o.Decipheriv,s.createDecipheriv=o.createDecipheriv,s.getCiphers=o.getCiphers,s.listCiphers=o.listCiphers;var u=e("diffie-hellman");s.DiffieHellmanGroup=u.DiffieHellmanGroup,s.createDiffieHellmanGroup=u.createDiffieHellmanGroup,s.getDiffieHellman=u.getDiffieHellman,s.createDiffieHellman=u.createDiffieHellman,s.DiffieHellman=u.DiffieHellman;var p=e("browserify-sign");s.createSign=p.createSign,s.Sign=p.Sign,s.createVerify=p.createVerify,s.Verify=p.Verify,s.createECDH=e("create-ecdh");var h=e("public-encrypt");s.publicEncrypt=h.publicEncrypt,s.privateEncrypt=h.privateEncrypt,s.publicDecrypt=h.publicDecrypt,s.privateDecrypt=h.privateDecrypt;var d=e("randomfill");s.randomFill=d.randomFill,s.randomFillSync=d.randomFillSync,s.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},s.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(e,n,s){(function(i,a){typeof s=="object"&&n!==void 0?n.exports=a():(i=typeof globalThis<"u"?globalThis:i||self).dayjs=a()})(void 0,(function(){var i=6e4,a=36e5,l="millisecond",c="second",o="minute",u="hour",p="day",h="week",d="month",x="quarter",b="year",g="date",v="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,T=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,R={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(S){var k=["th","st","nd","rd"],E=S%100;return"["+S+(k[(E-20)%10]||k[E]||k[0])+"]"}},P=function(S,k,E){var A=String(S);return!A||A.length>=k?S:""+Array(k+1-A.length).join(E)+S},H={s:P,z:function(S){var k=-S.utcOffset(),E=Math.abs(k),A=Math.floor(E/60),j=E%60;return(k<=0?"+":"-")+P(A,2,"0")+":"+P(j,2,"0")},m:function S(k,E){if(k.date()<E.date())return-S(E,k);var A=12*(E.year()-k.year())+(E.month()-k.month()),j=k.clone().add(A,d),B=E-j<0,D=k.clone().add(A+(B?-1:1),d);return+(-(A+(E-j)/(B?j-D:D-j))||0)},a:function(S){return S<0?Math.ceil(S)||0:Math.floor(S)},p:function(S){return{M:d,y:b,w:h,d:p,D:g,h:u,m:o,s:c,ms:l,Q:x}[S]||String(S||"").toLowerCase().replace(/s$/,"")},u:function(S){return S===void 0}},L="en",I={};I[L]=R;var O="$isDayjsObject",F=function(S){return S instanceof U||!(!S||!S[O])},q=function S(k,E,A){var j;if(!k)return L;if(typeof k=="string"){var B=k.toLowerCase();I[B]&&(j=B),E&&(I[B]=E,j=B);var D=k.split("-");if(!j&&D.length>1)return S(D[0])}else{var Q=k.name;I[Q]=k,j=Q}return!A&&j&&(L=j),j||!A&&L},z=function(S,k){if(F(S))return S.clone();var E=typeof k=="object"?k:{};return E.date=S,E.args=arguments,new U(E)},N=H;N.l=q,N.i=F,N.w=function(S,k){return z(S,{locale:k.$L,utc:k.$u,x:k.$x,$offset:k.$offset})};var U=(function(){function S(E){this.$L=q(E.locale,null,!0),this.parse(E),this.$x=this.$x||E.x||{},this[O]=!0}var k=S.prototype;return k.parse=function(E){this.$d=(function(A){var j=A.date,B=A.utc;if(j===null)return new Date(NaN);if(N.u(j))return new Date;if(j instanceof Date)return new Date(j);if(typeof j=="string"&&!/Z$/i.test(j)){var D=j.match(y);if(D){var Q=D[2]-1||0,K=(D[7]||"0").substring(0,3);return B?new Date(Date.UTC(D[1],Q,D[3]||1,D[4]||0,D[5]||0,D[6]||0,K)):new Date(D[1],Q,D[3]||1,D[4]||0,D[5]||0,D[6]||0,K)}}return new Date(j)})(E),this.init()},k.init=function(){var E=this.$d;this.$y=E.getFullYear(),this.$M=E.getMonth(),this.$D=E.getDate(),this.$W=E.getDay(),this.$H=E.getHours(),this.$m=E.getMinutes(),this.$s=E.getSeconds(),this.$ms=E.getMilliseconds()},k.$utils=function(){return N},k.isValid=function(){return this.$d.toString()!==v},k.isSame=function(E,A){var j=z(E);return this.startOf(A)<=j&&j<=this.endOf(A)},k.isAfter=function(E,A){return z(E)<this.startOf(A)},k.isBefore=function(E,A){return this.endOf(A)<z(E)},k.$g=function(E,A,j){return N.u(E)?this[A]:this.set(j,E)},k.unix=function(){return Math.floor(this.valueOf()/1e3)},k.valueOf=function(){return this.$d.getTime()},k.startOf=function(E,A){var j=this,B=!!N.u(A)||A,D=N.p(E),Q=function(ae,re){var oe=N.w(j.$u?Date.UTC(j.$y,re,ae):new Date(j.$y,re,ae),j);return B?oe:oe.endOf(p)},K=function(ae,re){return N.w(j.toDate()[ae].apply(j.toDate("s"),(B?[0,0,0,0]:[23,59,59,999]).slice(re)),j)},ee=this.$W,W=this.$M,te=this.$D,G="set"+(this.$u?"UTC":"");switch(D){case b:return B?Q(1,0):Q(31,11);case d:return B?Q(1,W):Q(0,W+1);case h:var V=this.$locale().weekStart||0,Z=(ee<V?ee+7:ee)-V;return Q(B?te-Z:te+(6-Z),W);case p:case g:return K(G+"Hours",0);case u:return K(G+"Minutes",1);case o:return K(G+"Seconds",2);case c:return K(G+"Milliseconds",3);default:return this.clone()}},k.endOf=function(E){return this.startOf(E,!1)},k.$set=function(E,A){var j,B=N.p(E),D="set"+(this.$u?"UTC":""),Q=(j={},j[p]=D+"Date",j[g]=D+"Date",j[d]=D+"Month",j[b]=D+"FullYear",j[u]=D+"Hours",j[o]=D+"Minutes",j[c]=D+"Seconds",j[l]=D+"Milliseconds",j)[B],K=B===p?this.$D+(A-this.$W):A;if(B===d||B===b){var ee=this.clone().set(g,1);ee.$d[Q](K),ee.init(),this.$d=ee.set(g,Math.min(this.$D,ee.daysInMonth())).$d}else Q&&this.$d[Q](K);return this.init(),this},k.set=function(E,A){return this.clone().$set(E,A)},k.get=function(E){return this[N.p(E)]()},k.add=function(E,A){var j,B=this;E=Number(E);var D=N.p(A),Q=function(W){var te=z(B);return N.w(te.date(te.date()+Math.round(W*E)),B)};if(D===d)return this.set(d,this.$M+E);if(D===b)return this.set(b,this.$y+E);if(D===p)return Q(1);if(D===h)return Q(7);var K=(j={},j[o]=i,j[u]=a,j[c]=1e3,j)[D]||1,ee=this.$d.getTime()+E*K;return N.w(ee,this)},k.subtract=function(E,A){return this.add(-1*E,A)},k.format=function(E){var A=this,j=this.$locale();if(!this.isValid())return j.invalidDate||v;var B=E||"YYYY-MM-DDTHH:mm:ssZ",D=N.z(this),Q=this.$H,K=this.$m,ee=this.$M,W=j.weekdays,te=j.months,G=j.meridiem,V=function(re,oe,he,Se){return re&&(re[oe]||re(A,B))||he[oe].slice(0,Se)},Z=function(re){return N.s(Q%12||12,re,"0")},ae=G||function(re,oe,he){var Se=re<12?"AM":"PM";return he?Se.toLowerCase():Se};return B.replace(T,(function(re,oe){return oe||(function(he){switch(he){case"YY":return String(A.$y).slice(-2);case"YYYY":return N.s(A.$y,4,"0");case"M":return ee+1;case"MM":return N.s(ee+1,2,"0");case"MMM":return V(j.monthsShort,ee,te,3);case"MMMM":return V(te,ee);case"D":return A.$D;case"DD":return N.s(A.$D,2,"0");case"d":return String(A.$W);case"dd":return V(j.weekdaysMin,A.$W,W,2);case"ddd":return V(j.weekdaysShort,A.$W,W,3);case"dddd":return W[A.$W];case"H":return String(Q);case"HH":return N.s(Q,2,"0");case"h":return Z(1);case"hh":return Z(2);case"a":return ae(Q,K,!0);case"A":return ae(Q,K,!1);case"m":return String(K);case"mm":return N.s(K,2,"0");case"s":return String(A.$s);case"ss":return N.s(A.$s,2,"0");case"SSS":return N.s(A.$ms,3,"0");case"Z":return D}return null})(re)||D.replace(":","")}))},k.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},k.diff=function(E,A,j){var B,D=this,Q=N.p(A),K=z(E),ee=(K.utcOffset()-this.utcOffset())*i,W=this-K,te=function(){return N.m(D,K)};switch(Q){case b:B=te()/12;break;case d:B=te();break;case x:B=te()/3;break;case h:B=(W-ee)/6048e5;break;case p:B=(W-ee)/864e5;break;case u:B=W/a;break;case o:B=W/i;break;case c:B=W/1e3;break;default:B=W}return j?B:N.a(B)},k.daysInMonth=function(){return this.endOf(d).$D},k.$locale=function(){return I[this.$L]},k.locale=function(E,A){if(!E)return this.$L;var j=this.clone(),B=q(E,A,!0);return B&&(j.$L=B),j},k.clone=function(){return N.w(this.$d,this)},k.toDate=function(){return new Date(this.valueOf())},k.toJSON=function(){return this.isValid()?this.toISOString():null},k.toISOString=function(){return this.$d.toISOString()},k.toString=function(){return this.$d.toUTCString()},S})(),C=U.prototype;return z.prototype=C,[["$ms",l],["$s",c],["$m",o],["$H",u],["$W",p],["$M",d],["$y",b],["$D",g]].forEach((function(S){C[S[1]]=function(k){return this.$g(k,S[0],S[1])}})),z.extend=function(S,k){return S.$i||(S(k,U,z),S.$i=!0),z},z.locale=q,z.isDayjs=F,z.unix=function(S){return z(1e3*S)},z.en=I[L],z.Ls=I,z.p={},z}))},{}],392:[function(e,n,s){(function(i,a){typeof s=="object"&&n!==void 0?n.exports=a():(i=typeof globalThis<"u"?globalThis:i||self).dayjs_plugin_customParseFormat=a()})(void 0,(function(){var i={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},a=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,l=/\d\d/,c=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,u={},p=function(y){return(y=+y)+(y>68?1900:2e3)},h=function(y){return function(T){this[y]=+T}},d=[/[+-]\d\d:?(\d\d)?|Z/,function(y){(this.zone||(this.zone={})).offset=(function(T){if(!T||T==="Z")return 0;var R=T.match(/([+-]|\d\d)/g),P=60*R[1]+(+R[2]||0);return P===0?0:R[0]==="+"?-P:P})(y)}],x=function(y){var T=u[y];return T&&(T.indexOf?T:T.s.concat(T.f))},b=function(y,T){var R,P=u.meridiem;if(P){for(var H=1;H<=24;H+=1)if(y.indexOf(P(H,0,T))>-1){R=H>12;break}}else R=y===(T?"pm":"PM");return R},g={A:[o,function(y){this.afternoon=b(y,!1)}],a:[o,function(y){this.afternoon=b(y,!0)}],S:[/\d/,function(y){this.milliseconds=100*+y}],SS:[l,function(y){this.milliseconds=10*+y}],SSS:[/\d{3}/,function(y){this.milliseconds=+y}],s:[c,h("seconds")],ss:[c,h("seconds")],m:[c,h("minutes")],mm:[c,h("minutes")],H:[c,h("hours")],h:[c,h("hours")],HH:[c,h("hours")],hh:[c,h("hours")],D:[c,h("day")],DD:[l,h("day")],Do:[o,function(y){var T=u.ordinal,R=y.match(/\d+/);if(this.day=R[0],T)for(var P=1;P<=31;P+=1)T(P).replace(/\[|\]/g,"")===y&&(this.day=P)}],M:[c,h("month")],MM:[l,h("month")],MMM:[o,function(y){var T=x("months"),R=(x("monthsShort")||T.map((function(P){return P.slice(0,3)}))).indexOf(y)+1;if(R<1)throw new Error;this.month=R%12||R}],MMMM:[o,function(y){var T=x("months").indexOf(y)+1;if(T<1)throw new Error;this.month=T%12||T}],Y:[/[+-]?\d+/,h("year")],YY:[l,function(y){this.year=p(y)}],YYYY:[/\d{4}/,h("year")],Z:d,ZZ:d};function v(y){var T,R;T=y,R=u&&u.formats;for(var P=(y=T.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(z,N,U){var C=U&&U.toUpperCase();return N||R[U]||i[U]||R[C].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(S,k,E){return k||E.slice(1)}))}))).match(a),H=P.length,L=0;L<H;L+=1){var I=P[L],O=g[I],F=O&&O[0],q=O&&O[1];P[L]=q?{regex:F,parser:q}:I.replace(/^\[|\]$/g,"")}return function(z){for(var N={},U=0,C=0;U<H;U+=1){var S=P[U];if(typeof S=="string")C+=S.length;else{var k=S.regex,E=S.parser,A=z.slice(C),j=k.exec(A)[0];E.call(N,j),z=z.replace(j,"")}}return(function(B){var D=B.afternoon;if(D!==void 0){var Q=B.hours;D?Q<12&&(B.hours+=12):Q===12&&(B.hours=0),delete B.afternoon}})(N),N}}return function(y,T,R){R.p.customParseFormat=!0,y&&y.parseTwoDigitYear&&(p=y.parseTwoDigitYear);var P=T.prototype,H=P.parse;P.parse=function(L){var I=L.date,O=L.utc,F=L.args;this.$u=O;var q=F[1];if(typeof q=="string"){var z=F[2]===!0,N=F[3]===!0,U=z||N,C=F[2];N&&(C=F[2]),u=this.$locale(),!z&&C&&(u=R.Ls[C]),this.$d=(function(A,j,B){try{if(["x","X"].indexOf(j)>-1)return new Date((j==="X"?1e3:1)*A);var D=v(j)(A),Q=D.year,K=D.month,ee=D.day,W=D.hours,te=D.minutes,G=D.seconds,V=D.milliseconds,Z=D.zone,ae=new Date,re=ee||(Q||K?1:ae.getDate()),oe=Q||ae.getFullYear(),he=0;Q&&!K||(he=K>0?K-1:ae.getMonth());var Se=W||0,ge=te||0,ne=G||0,fe=V||0;return Z?new Date(Date.UTC(oe,he,re,Se,ge,ne,fe+60*Z.offset*1e3)):B?new Date(Date.UTC(oe,he,re,Se,ge,ne,fe)):new Date(oe,he,re,Se,ge,ne,fe)}catch{return new Date("")}})(I,q,O),this.init(),C&&C!==!0&&(this.$L=this.locale(C).$L),U&&I!=this.format(q)&&(this.$d=new Date("")),u={}}else if(q instanceof Array)for(var S=q.length,k=1;k<=S;k+=1){F[1]=q[k-1];var E=R.apply(this,F);if(E.isValid()){this.$d=E.$d,this.$L=E.$L,this.init();break}k===S&&(this.$d=new Date(""))}else H.call(this,L)}}}))},{}],393:[function(e,n,s){(function(i,a){typeof s=="object"&&n!==void 0?n.exports=a():(i=typeof globalThis<"u"?globalThis:i||self).dayjs_plugin_utc=a()})(void 0,(function(){var i="minute",a=/[+-]\d\d(?::?\d\d)?/g,l=/([+-]|\d\d)/g;return function(c,o,u){var p=o.prototype;u.utc=function(y){var T={date:y,utc:!0,args:arguments};return new o(T)},p.utc=function(y){var T=u(this.toDate(),{locale:this.$L,utc:!0});return y?T.add(this.utcOffset(),i):T},p.local=function(){return u(this.toDate(),{locale:this.$L,utc:!1})};var h=p.parse;p.parse=function(y){y.utc&&(this.$u=!0),this.$utils().u(y.$offset)||(this.$offset=y.$offset),h.call(this,y)};var d=p.init;p.init=function(){if(this.$u){var y=this.$d;this.$y=y.getUTCFullYear(),this.$M=y.getUTCMonth(),this.$D=y.getUTCDate(),this.$W=y.getUTCDay(),this.$H=y.getUTCHours(),this.$m=y.getUTCMinutes(),this.$s=y.getUTCSeconds(),this.$ms=y.getUTCMilliseconds()}else d.call(this)};var x=p.utcOffset;p.utcOffset=function(y,T){var R=this.$utils().u;if(R(y))return this.$u?0:R(this.$offset)?x.call(this):this.$offset;if(typeof y=="string"&&(y=(function(I){I===void 0&&(I="");var O=I.match(a);if(!O)return null;var F=(""+O[0]).match(l)||["-",0,0],q=F[0],z=60*+F[1]+ +F[2];return z===0?0:q==="+"?z:-z})(y))===null)return this;var P=Math.abs(y)<=16?60*y:y,H=this;if(T)return H.$offset=P,H.$u=y===0,H;if(y!==0){var L=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(H=this.local().add(P+L,i)).$offset=P,H.$x.$localOffset=L}else H=this.utc();return H};var b=p.format;p.format=function(y){var T=y||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return b.call(this,T)},p.valueOf=function(){var y=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*y},p.isUTC=function(){return!!this.$u},p.toISOString=function(){return this.toDate().toISOString()},p.toString=function(){return this.toDate().toUTCString()};var g=p.toDate;p.toDate=function(y){return y==="s"&&this.$offset?u(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():g.call(this)};var v=p.diff;p.diff=function(y,T,R){if(y&&this.$u===y.$u)return v.call(this,y,T,R);var P=this.local(),H=u(y).local();return v.call(P,H,T,R)}}}))},{}],394:[function(e,n,s){s.utils=e("./des/utils"),s.Cipher=e("./des/cipher"),s.DES=e("./des/des"),s.CBC=e("./des/cbc"),s.EDE=e("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(e,n,s){var i=e("minimalistic-assert"),a=e("inherits"),l={};function c(o){i.equal(o.length,8,"Invalid IV length"),this.iv=new Array(8);for(var u=0;u<this.iv.length;u++)this.iv[u]=o[u]}s.instantiate=function(o){function u(x){o.call(this,x),this._cbcInit()}a(u,o);for(var p=Object.keys(l),h=0;h<p.length;h++){var d=p[h];u.prototype[d]=l[d]}return u.create=function(x){return new u(x)},u},l._cbcInit=function(){var o=new c(this.options.iv);this._cbcState=o},l._update=function(o,u,p,h){var d=this._cbcState,x=this.constructor.super_.prototype,b=d.iv;if(this.type==="encrypt"){for(var g=0;g<this.blockSize;g++)b[g]^=o[u+g];for(x._update.call(this,b,0,p,h),g=0;g<this.blockSize;g++)b[g]=p[h+g]}else{for(x._update.call(this,o,u,p,h),g=0;g<this.blockSize;g++)p[h+g]^=b[g];for(g=0;g<this.blockSize;g++)b[g]=o[u+g]}}},{inherits:440,"minimalistic-assert":453}],396:[function(e,n,s){var i=e("minimalistic-assert");function a(l){this.options=l,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=l.padding!==!1}n.exports=a,a.prototype._init=function(){},a.prototype.update=function(l){return l.length===0?[]:this.type==="decrypt"?this._updateDecrypt(l):this._updateEncrypt(l)},a.prototype._buffer=function(l,c){for(var o=Math.min(this.buffer.length-this.bufferOff,l.length-c),u=0;u<o;u++)this.buffer[this.bufferOff+u]=l[c+u];return this.bufferOff+=o,o},a.prototype._flushBuffer=function(l,c){return this._update(this.buffer,0,l,c),this.bufferOff=0,this.blockSize},a.prototype._updateEncrypt=function(l){var c=0,o=0,u=(this.bufferOff+l.length)/this.blockSize|0,p=new Array(u*this.blockSize);this.bufferOff!==0&&(c+=this._buffer(l,c),this.bufferOff===this.buffer.length&&(o+=this._flushBuffer(p,o)));for(var h=l.length-(l.length-c)%this.blockSize;c<h;c+=this.blockSize)this._update(l,c,p,o),o+=this.blockSize;for(;c<l.length;c++,this.bufferOff++)this.buffer[this.bufferOff]=l[c];return p},a.prototype._updateDecrypt=function(l){for(var c=0,o=0,u=Math.ceil((this.bufferOff+l.length)/this.blockSize)-1,p=new Array(u*this.blockSize);u>0;u--)c+=this._buffer(l,c),o+=this._flushBuffer(p,o);return c+=this._buffer(l,c),p},a.prototype.final=function(l){var c,o;return l&&(c=this.update(l)),o=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),c?c.concat(o):o},a.prototype._pad=function(l,c){if(c===0)return!1;for(;c<l.length;)l[c++]=0;return!0},a.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var l=new Array(this.blockSize);return this._update(this.buffer,0,l,0),l},a.prototype._unpad=function(l){return l},a.prototype._finalDecrypt=function(){i.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var l=new Array(this.blockSize);return this._flushBuffer(l,0),this._unpad(l)}},{"minimalistic-assert":453}],397:[function(e,n,s){var i=e("minimalistic-assert"),a=e("inherits"),l=e("./utils"),c=e("./cipher");function o(){this.tmp=new Array(2),this.keys=null}function u(h){c.call(this,h);var d=new o;this._desState=d,this.deriveKeys(d,h.key)}a(u,c),n.exports=u,u.create=function(h){return new u(h)};var p=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];u.prototype.deriveKeys=function(h,d){h.keys=new Array(32),i.equal(d.length,this.blockSize,"Invalid key length");var x=l.readUInt32BE(d,0),b=l.readUInt32BE(d,4);l.pc1(x,b,h.tmp,0),x=h.tmp[0],b=h.tmp[1];for(var g=0;g<h.keys.length;g+=2){var v=p[g>>>1];x=l.r28shl(x,v),b=l.r28shl(b,v),l.pc2(x,b,h.keys,g)}},u.prototype._update=function(h,d,x,b){var g=this._desState,v=l.readUInt32BE(h,d),y=l.readUInt32BE(h,d+4);l.ip(v,y,g.tmp,0),v=g.tmp[0],y=g.tmp[1],this.type==="encrypt"?this._encrypt(g,v,y,g.tmp,0):this._decrypt(g,v,y,g.tmp,0),v=g.tmp[0],y=g.tmp[1],l.writeUInt32BE(x,v,b),l.writeUInt32BE(x,y,b+4)},u.prototype._pad=function(h,d){if(this.padding===!1)return!1;for(var x=h.length-d,b=d;b<h.length;b++)h[b]=x;return!0},u.prototype._unpad=function(h){if(this.padding===!1)return h;for(var d=h[h.length-1],x=h.length-d;x<h.length;x++)i.equal(h[x],d);return h.slice(0,h.length-d)},u.prototype._encrypt=function(h,d,x,b,g){for(var v=d,y=x,T=0;T<h.keys.length;T+=2){var R=h.keys[T],P=h.keys[T+1];l.expand(y,h.tmp,0),R^=h.tmp[0],P^=h.tmp[1];var H=l.substitute(R,P),L=y;y=(v^l.permute(H))>>>0,v=L}l.rip(y,v,b,g)},u.prototype._decrypt=function(h,d,x,b,g){for(var v=x,y=d,T=h.keys.length-2;T>=0;T-=2){var R=h.keys[T],P=h.keys[T+1];l.expand(v,h.tmp,0),R^=h.tmp[0],P^=h.tmp[1];var H=l.substitute(R,P),L=v;v=(y^l.permute(H))>>>0,y=L}l.rip(v,y,b,g)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(e,n,s){var i=e("minimalistic-assert"),a=e("inherits"),l=e("./cipher"),c=e("./des");function o(p,h){i.equal(h.length,24,"Invalid key length");var d=h.slice(0,8),x=h.slice(8,16),b=h.slice(16,24);this.ciphers=p==="encrypt"?[c.create({type:"encrypt",key:d}),c.create({type:"decrypt",key:x}),c.create({type:"encrypt",key:b})]:[c.create({type:"decrypt",key:b}),c.create({type:"encrypt",key:x}),c.create({type:"decrypt",key:d})]}function u(p){l.call(this,p);var h=new o(this.type,this.options.key);this._edeState=h}a(u,l),n.exports=u,u.create=function(p){return new u(p)},u.prototype._update=function(p,h,d,x){var b=this._edeState;b.ciphers[0]._update(p,h,d,x),b.ciphers[1]._update(d,x,d,x),b.ciphers[2]._update(d,x,d,x)},u.prototype._pad=c.prototype._pad,u.prototype._unpad=c.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(e,n,s){s.readUInt32BE=function(c,o){return(c[0+o]<<24|c[1+o]<<16|c[2+o]<<8|c[3+o])>>>0},s.writeUInt32BE=function(c,o,u){c[0+u]=o>>>24,c[1+u]=o>>>16&255,c[2+u]=o>>>8&255,c[3+u]=255&o},s.ip=function(c,o,u,p){for(var h=0,d=0,x=6;x>=0;x-=2){for(var b=0;b<=24;b+=8)h<<=1,h|=o>>>b+x&1;for(b=0;b<=24;b+=8)h<<=1,h|=c>>>b+x&1}for(x=6;x>=0;x-=2){for(b=1;b<=25;b+=8)d<<=1,d|=o>>>b+x&1;for(b=1;b<=25;b+=8)d<<=1,d|=c>>>b+x&1}u[p+0]=h>>>0,u[p+1]=d>>>0},s.rip=function(c,o,u,p){for(var h=0,d=0,x=0;x<4;x++)for(var b=24;b>=0;b-=8)h<<=1,h|=o>>>b+x&1,h<<=1,h|=c>>>b+x&1;for(x=4;x<8;x++)for(b=24;b>=0;b-=8)d<<=1,d|=o>>>b+x&1,d<<=1,d|=c>>>b+x&1;u[p+0]=h>>>0,u[p+1]=d>>>0},s.pc1=function(c,o,u,p){for(var h=0,d=0,x=7;x>=5;x--){for(var b=0;b<=24;b+=8)h<<=1,h|=o>>b+x&1;for(b=0;b<=24;b+=8)h<<=1,h|=c>>b+x&1}for(b=0;b<=24;b+=8)h<<=1,h|=o>>b+x&1;for(x=1;x<=3;x++){for(b=0;b<=24;b+=8)d<<=1,d|=o>>b+x&1;for(b=0;b<=24;b+=8)d<<=1,d|=c>>b+x&1}for(b=0;b<=24;b+=8)d<<=1,d|=c>>b+x&1;u[p+0]=h>>>0,u[p+1]=d>>>0},s.r28shl=function(c,o){return c<<o&268435455|c>>>28-o};var i=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];s.pc2=function(c,o,u,p){for(var h=0,d=0,x=i.length>>>1,b=0;b<x;b++)h<<=1,h|=c>>>i[b]&1;for(b=x;b<i.length;b++)d<<=1,d|=o>>>i[b]&1;u[p+0]=h>>>0,u[p+1]=d>>>0},s.expand=function(c,o,u){var p=0,h=0;p=(1&c)<<5|c>>>27;for(var d=23;d>=15;d-=4)p<<=6,p|=c>>>d&63;for(d=11;d>=3;d-=4)h|=c>>>d&63,h<<=6;h|=(31&c)<<1|c>>>31,o[u+0]=p>>>0,o[u+1]=h>>>0};var a=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];s.substitute=function(c,o){for(var u=0,p=0;p<4;p++)u<<=4,u|=a[64*p+(c>>>18-6*p&63)];for(p=0;p<4;p++)u<<=4,u|=a[256+64*p+(o>>>18-6*p&63)];return u>>>0};var l=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];s.permute=function(c){for(var o=0,u=0;u<l.length;u++)o<<=1,o|=c>>>l[u]&1;return o>>>0},s.padSplit=function(c,o,u){for(var p=c.toString(2);p.length<o;)p="0"+p;for(var h=[],d=0;d<o;d+=u)h.push(p.slice(d,d+u));return h.join(" ")}},{}],400:[function(e,n,s){(function(i){(function(){var a=e("./lib/generatePrime"),l=e("./lib/primes.json"),c=e("./lib/dh"),o={binary:!0,hex:!0,base64:!0};s.DiffieHellmanGroup=s.createDiffieHellmanGroup=s.getDiffieHellman=function(u){var p=new i(l[u].prime,"hex"),h=new i(l[u].gen,"hex");return new c(p,h)},s.createDiffieHellman=s.DiffieHellman=function u(p,h,d,x){return i.isBuffer(h)||o[h]===void 0?u(p,"binary",h,d):(h=h||"binary",x=x||"binary",d=d||new i([2]),i.isBuffer(d)||(d=new i(d,x)),typeof p=="number"?new c(a(p,d),d,!0):(i.isBuffer(p)||(p=new i(p,h)),new c(p,d,!0)))}}).call(this)}).call(this,e("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(e,n,s){(function(i){(function(){var a=e("bn.js"),l=new(e("miller-rabin")),c=new a(24),o=new a(11),u=new a(10),p=new a(3),h=new a(7),d=e("./generatePrime"),x=e("randombytes");function b(R,P){return P=P||"utf8",i.isBuffer(R)||(R=new i(R,P)),this._pub=new a(R),this}function g(R,P){return P=P||"utf8",i.isBuffer(R)||(R=new i(R,P)),this._priv=new a(R),this}n.exports=y;var v={};function y(R,P,H){this.setGenerator(P),this.__prime=new a(R),this._prime=a.mont(this.__prime),this._primeLen=R.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,H?(this.setPublicKey=b,this.setPrivateKey=g):this._primeCode=8}function T(R,P){var H=new i(R.toArray());return P?H.toString(P):H}Object.defineProperty(y.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=(function(R,P){var H=P.toString("hex"),L=[H,R.toString(16)].join("_");if(L in v)return v[L];var I,O=0;if(R.isEven()||!d.simpleSieve||!d.fermatTest(R)||!l.test(R))return O+=1,O+=H==="02"||H==="05"?8:4,v[L]=O,O;switch(l.test(R.shrn(1))||(O+=2),H){case"02":R.mod(c).cmp(o)&&(O+=8);break;case"05":(I=R.mod(u)).cmp(p)&&I.cmp(h)&&(O+=8);break;default:O+=4}return v[L]=O,O})(this.__prime,this.__gen)),this._primeCode}}),y.prototype.generateKeys=function(){return this._priv||(this._priv=new a(x(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},y.prototype.computeSecret=function(R){var P=(R=(R=new a(R)).toRed(this._prime)).redPow(this._priv).fromRed(),H=new i(P.toArray()),L=this.getPrime();if(H.length<L.length){var I=new i(L.length-H.length);I.fill(0),H=i.concat([I,H])}return H},y.prototype.getPublicKey=function(R){return T(this._pub,R)},y.prototype.getPrivateKey=function(R){return T(this._priv,R)},y.prototype.getPrime=function(R){return T(this.__prime,R)},y.prototype.getGenerator=function(R){return T(this._gen,R)},y.prototype.setGenerator=function(R,P){return P=P||"utf8",i.isBuffer(R)||(R=new i(R,P)),this.__gen=R,this._gen=new a(R),this}}).call(this)}).call(this,e("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(e,n,s){var i=e("randombytes");n.exports=R,R.simpleSieve=y,R.fermatTest=T;var a=e("bn.js"),l=new a(24),c=new(e("miller-rabin")),o=new a(1),u=new a(2),p=new a(5),h=(new a(16),new a(8),new a(10)),d=new a(3),x=(new a(7),new a(11)),b=new a(4),g=(new a(12),null);function v(){if(g!==null)return g;var P=[];P[0]=2;for(var H=1,L=3;L<1048576;L+=2){for(var I=Math.ceil(Math.sqrt(L)),O=0;O<H&&P[O]<=I&&L%P[O]!=0;O++);H!==O&&P[O]<=I||(P[H++]=L)}return g=P,P}function y(P){for(var H=v(),L=0;L<H.length;L++)if(P.modn(H[L])===0)return P.cmpn(H[L])===0;return!0}function T(P){var H=a.mont(P);return u.toRed(H).redPow(P.subn(1)).fromRed().cmpn(1)===0}function R(P,H){if(P<16)return new a(H===2||H===5?[140,123]:[140,39]);var L,I;for(H=new a(H);;){for(L=new a(i(Math.ceil(P/8)));L.bitLength()>P;)L.ishrn(1);if(L.isEven()&&L.iadd(o),L.testn(1)||L.iadd(u),H.cmp(u)){if(!H.cmp(p))for(;L.mod(h).cmp(d);)L.iadd(b)}else for(;L.mod(l).cmp(x);)L.iadd(b);if(y(I=L.shrn(1))&&y(L)&&T(I)&&T(L)&&c.test(I)&&c.test(L))return L}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(e,n,s){n.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(e,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],405:[function(e,n,s){var i=s;i.version=e("../package.json").version,i.utils=e("./elliptic/utils"),i.rand=e("brorand"),i.curve=e("./elliptic/curve"),i.curves=e("./elliptic/curves"),i.ec=e("./elliptic/ec"),i.eddsa=e("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(e,n,s){var i=e("bn.js"),a=e("../utils"),l=a.getNAF,c=a.getJSF,o=a.assert;function u(h,d){this.type=h,this.p=new i(d.p,16),this.red=d.prime?i.red(d.prime):i.mont(this.p),this.zero=new i(0).toRed(this.red),this.one=new i(1).toRed(this.red),this.two=new i(2).toRed(this.red),this.n=d.n&&new i(d.n,16),this.g=d.g&&this.pointFromJSON(d.g,d.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var x=this.n&&this.p.div(this.n);!x||x.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function p(h,d){this.curve=h,this.type=d,this.precomputed=null}n.exports=u,u.prototype.point=function(){throw new Error("Not implemented")},u.prototype.validate=function(){throw new Error("Not implemented")},u.prototype._fixedNafMul=function(h,d){o(h.precomputed);var x=h._getDoubles(),b=l(d,1,this._bitLength),g=(1<<x.step+1)-(x.step%2==0?2:1);g/=3;var v,y,T=[];for(v=0;v<b.length;v+=x.step){y=0;for(var R=v+x.step-1;R>=v;R--)y=(y<<1)+b[R];T.push(y)}for(var P=this.jpoint(null,null,null),H=this.jpoint(null,null,null),L=g;L>0;L--){for(v=0;v<T.length;v++)(y=T[v])===L?H=H.mixedAdd(x.points[v]):y===-L&&(H=H.mixedAdd(x.points[v].neg()));P=P.add(H)}return P.toP()},u.prototype._wnafMul=function(h,d){var x=4,b=h._getNAFPoints(x);x=b.wnd;for(var g=b.points,v=l(d,x,this._bitLength),y=this.jpoint(null,null,null),T=v.length-1;T>=0;T--){for(var R=0;T>=0&&v[T]===0;T--)R++;if(T>=0&&R++,y=y.dblp(R),T<0)break;var P=v[T];o(P!==0),y=h.type==="affine"?P>0?y.mixedAdd(g[P-1>>1]):y.mixedAdd(g[-P-1>>1].neg()):P>0?y.add(g[P-1>>1]):y.add(g[-P-1>>1].neg())}return h.type==="affine"?y.toP():y},u.prototype._wnafMulAdd=function(h,d,x,b,g){var v,y,T,R=this._wnafT1,P=this._wnafT2,H=this._wnafT3,L=0;for(v=0;v<b;v++){var I=(T=d[v])._getNAFPoints(h);R[v]=I.wnd,P[v]=I.points}for(v=b-1;v>=1;v-=2){var O=v-1,F=v;if(R[O]===1&&R[F]===1){var q=[d[O],null,null,d[F]];d[O].y.cmp(d[F].y)===0?(q[1]=d[O].add(d[F]),q[2]=d[O].toJ().mixedAdd(d[F].neg())):d[O].y.cmp(d[F].y.redNeg())===0?(q[1]=d[O].toJ().mixedAdd(d[F]),q[2]=d[O].add(d[F].neg())):(q[1]=d[O].toJ().mixedAdd(d[F]),q[2]=d[O].toJ().mixedAdd(d[F].neg()));var z=[-3,-1,-5,-7,0,7,5,1,3],N=c(x[O],x[F]);for(L=Math.max(N[0].length,L),H[O]=new Array(L),H[F]=new Array(L),y=0;y<L;y++){var U=0|N[0][y],C=0|N[1][y];H[O][y]=z[3*(U+1)+(C+1)],H[F][y]=0,P[O]=q}}else H[O]=l(x[O],R[O],this._bitLength),H[F]=l(x[F],R[F],this._bitLength),L=Math.max(H[O].length,L),L=Math.max(H[F].length,L)}var S=this.jpoint(null,null,null),k=this._wnafT4;for(v=L;v>=0;v--){for(var E=0;v>=0;){var A=!0;for(y=0;y<b;y++)k[y]=0|H[y][v],k[y]!==0&&(A=!1);if(!A)break;E++,v--}if(v>=0&&E++,S=S.dblp(E),v<0)break;for(y=0;y<b;y++){var j=k[y];j!==0&&(j>0?T=P[y][j-1>>1]:j<0&&(T=P[y][-j-1>>1].neg()),S=T.type==="affine"?S.mixedAdd(T):S.add(T))}}for(v=0;v<b;v++)P[v]=null;return g?S:S.toP()},u.BasePoint=p,p.prototype.eq=function(){throw new Error("Not implemented")},p.prototype.validate=function(){return this.curve.validate(this)},u.prototype.decodePoint=function(h,d){h=a.toArray(h,d);var x=this.p.byteLength();if((h[0]===4||h[0]===6||h[0]===7)&&h.length-1==2*x)return h[0]===6?o(h[h.length-1]%2==0):h[0]===7&&o(h[h.length-1]%2==1),this.point(h.slice(1,1+x),h.slice(1+x,1+2*x));if((h[0]===2||h[0]===3)&&h.length-1===x)return this.pointFromX(h.slice(1,1+x),h[0]===3);throw new Error("Unknown point format")},p.prototype.encodeCompressed=function(h){return this.encode(h,!0)},p.prototype._encode=function(h){var d=this.curve.p.byteLength(),x=this.getX().toArray("be",d);return h?[this.getY().isEven()?2:3].concat(x):[4].concat(x,this.getY().toArray("be",d))},p.prototype.encode=function(h,d){return a.encode(this._encode(d),h)},p.prototype.precompute=function(h){if(this.precomputed)return this;var d={doubles:null,naf:null,beta:null};return d.naf=this._getNAFPoints(8),d.doubles=this._getDoubles(4,h),d.beta=this._getBeta(),this.precomputed=d,this},p.prototype._hasDoubles=function(h){if(!this.precomputed)return!1;var d=this.precomputed.doubles;return!!d&&d.points.length>=Math.ceil((h.bitLength()+1)/d.step)},p.prototype._getDoubles=function(h,d){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var x=[this],b=this,g=0;g<d;g+=h){for(var v=0;v<h;v++)b=b.dbl();x.push(b)}return{step:h,points:x}},p.prototype._getNAFPoints=function(h){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var d=[this],x=(1<<h)-1,b=x===1?null:this.dbl(),g=1;g<x;g++)d[g]=d[g-1].add(b);return{wnd:h,points:d}},p.prototype._getBeta=function(){return null},p.prototype.dblp=function(h){for(var d=this,x=0;x<h;x++)d=d.dbl();return d}},{"../utils":419,"bn.js":420}],407:[function(e,n,s){var i=e("../utils"),a=e("bn.js"),l=e("inherits"),c=e("./base"),o=i.assert;function u(h){this.twisted=(0|h.a)!=1,this.mOneA=this.twisted&&(0|h.a)==-1,this.extended=this.mOneA,c.call(this,"edwards",h),this.a=new a(h.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new a(h.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new a(h.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),o(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|h.c)==1}function p(h,d,x,b,g){c.BasePoint.call(this,h,"projective"),d===null&&x===null&&b===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new a(d,16),this.y=new a(x,16),this.z=b?new a(b,16):this.curve.one,this.t=g&&new a(g,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}l(u,c),n.exports=u,u.prototype._mulA=function(h){return this.mOneA?h.redNeg():this.a.redMul(h)},u.prototype._mulC=function(h){return this.oneC?h:this.c.redMul(h)},u.prototype.jpoint=function(h,d,x,b){return this.point(h,d,x,b)},u.prototype.pointFromX=function(h,d){(h=new a(h,16)).red||(h=h.toRed(this.red));var x=h.redSqr(),b=this.c2.redSub(this.a.redMul(x)),g=this.one.redSub(this.c2.redMul(this.d).redMul(x)),v=b.redMul(g.redInvm()),y=v.redSqrt();if(y.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");var T=y.fromRed().isOdd();return(d&&!T||!d&&T)&&(y=y.redNeg()),this.point(h,y)},u.prototype.pointFromY=function(h,d){(h=new a(h,16)).red||(h=h.toRed(this.red));var x=h.redSqr(),b=x.redSub(this.c2),g=x.redMul(this.d).redMul(this.c2).redSub(this.a),v=b.redMul(g.redInvm());if(v.cmp(this.zero)===0){if(d)throw new Error("invalid point");return this.point(this.zero,h)}var y=v.redSqrt();if(y.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");return y.fromRed().isOdd()!==d&&(y=y.redNeg()),this.point(y,h)},u.prototype.validate=function(h){if(h.isInfinity())return!0;h.normalize();var d=h.x.redSqr(),x=h.y.redSqr(),b=d.redMul(this.a).redAdd(x),g=this.c2.redMul(this.one.redAdd(this.d.redMul(d).redMul(x)));return b.cmp(g)===0},l(p,c.BasePoint),u.prototype.pointFromJSON=function(h){return p.fromJSON(this,h)},u.prototype.point=function(h,d,x,b){return new p(this,h,d,x,b)},p.fromJSON=function(h,d){return new p(h,d[0],d[1],d[2])},p.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},p.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},p.prototype._extDbl=function(){var h=this.x.redSqr(),d=this.y.redSqr(),x=this.z.redSqr();x=x.redIAdd(x);var b=this.curve._mulA(h),g=this.x.redAdd(this.y).redSqr().redISub(h).redISub(d),v=b.redAdd(d),y=v.redSub(x),T=b.redSub(d),R=g.redMul(y),P=v.redMul(T),H=g.redMul(T),L=y.redMul(v);return this.curve.point(R,P,L,H)},p.prototype._projDbl=function(){var h,d,x,b,g,v,y=this.x.redAdd(this.y).redSqr(),T=this.x.redSqr(),R=this.y.redSqr();if(this.curve.twisted){var P=(b=this.curve._mulA(T)).redAdd(R);this.zOne?(h=y.redSub(T).redSub(R).redMul(P.redSub(this.curve.two)),d=P.redMul(b.redSub(R)),x=P.redSqr().redSub(P).redSub(P)):(g=this.z.redSqr(),v=P.redSub(g).redISub(g),h=y.redSub(T).redISub(R).redMul(v),d=P.redMul(b.redSub(R)),x=P.redMul(v))}else b=T.redAdd(R),g=this.curve._mulC(this.z).redSqr(),v=b.redSub(g).redSub(g),h=this.curve._mulC(y.redISub(b)).redMul(v),d=this.curve._mulC(b).redMul(T.redISub(R)),x=b.redMul(v);return this.curve.point(h,d,x)},p.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},p.prototype._extAdd=function(h){var d=this.y.redSub(this.x).redMul(h.y.redSub(h.x)),x=this.y.redAdd(this.x).redMul(h.y.redAdd(h.x)),b=this.t.redMul(this.curve.dd).redMul(h.t),g=this.z.redMul(h.z.redAdd(h.z)),v=x.redSub(d),y=g.redSub(b),T=g.redAdd(b),R=x.redAdd(d),P=v.redMul(y),H=T.redMul(R),L=v.redMul(R),I=y.redMul(T);return this.curve.point(P,H,I,L)},p.prototype._projAdd=function(h){var d,x,b=this.z.redMul(h.z),g=b.redSqr(),v=this.x.redMul(h.x),y=this.y.redMul(h.y),T=this.curve.d.redMul(v).redMul(y),R=g.redSub(T),P=g.redAdd(T),H=this.x.redAdd(this.y).redMul(h.x.redAdd(h.y)).redISub(v).redISub(y),L=b.redMul(R).redMul(H);return this.curve.twisted?(d=b.redMul(P).redMul(y.redSub(this.curve._mulA(v))),x=R.redMul(P)):(d=b.redMul(P).redMul(y.redSub(v)),x=this.curve._mulC(R).redMul(P)),this.curve.point(L,d,x)},p.prototype.add=function(h){return this.isInfinity()?h:h.isInfinity()?this:this.curve.extended?this._extAdd(h):this._projAdd(h)},p.prototype.mul=function(h){return this._hasDoubles(h)?this.curve._fixedNafMul(this,h):this.curve._wnafMul(this,h)},p.prototype.mulAdd=function(h,d,x){return this.curve._wnafMulAdd(1,[this,d],[h,x],2,!1)},p.prototype.jmulAdd=function(h,d,x){return this.curve._wnafMulAdd(1,[this,d],[h,x],2,!0)},p.prototype.normalize=function(){if(this.zOne)return this;var h=this.z.redInvm();return this.x=this.x.redMul(h),this.y=this.y.redMul(h),this.t&&(this.t=this.t.redMul(h)),this.z=this.curve.one,this.zOne=!0,this},p.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},p.prototype.getX=function(){return this.normalize(),this.x.fromRed()},p.prototype.getY=function(){return this.normalize(),this.y.fromRed()},p.prototype.eq=function(h){return this===h||this.getX().cmp(h.getX())===0&&this.getY().cmp(h.getY())===0},p.prototype.eqXToP=function(h){var d=h.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(d)===0)return!0;for(var x=h.clone(),b=this.curve.redN.redMul(this.z);;){if(x.iadd(this.curve.n),x.cmp(this.curve.p)>=0)return!1;if(d.redIAdd(b),this.x.cmp(d)===0)return!0}},p.prototype.toP=p.prototype.normalize,p.prototype.mixedAdd=p.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(e,n,s){var i=s;i.base=e("./base"),i.short=e("./short"),i.mont=e("./mont"),i.edwards=e("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(e,n,s){var i=e("bn.js"),a=e("inherits"),l=e("./base"),c=e("../utils");function o(p){l.call(this,"mont",p),this.a=new i(p.a,16).toRed(this.red),this.b=new i(p.b,16).toRed(this.red),this.i4=new i(4).toRed(this.red).redInvm(),this.two=new i(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(p,h,d){l.BasePoint.call(this,p,"projective"),h===null&&d===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new i(h,16),this.z=new i(d,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}a(o,l),n.exports=o,o.prototype.validate=function(p){var h=p.normalize().x,d=h.redSqr(),x=d.redMul(h).redAdd(d.redMul(this.a)).redAdd(h);return x.redSqrt().redSqr().cmp(x)===0},a(u,l.BasePoint),o.prototype.decodePoint=function(p,h){return this.point(c.toArray(p,h),1)},o.prototype.point=function(p,h){return new u(this,p,h)},o.prototype.pointFromJSON=function(p){return u.fromJSON(this,p)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(p,h){return new u(p,h[0],h[1]||p.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.z.cmpn(0)===0},u.prototype.dbl=function(){var p=this.x.redAdd(this.z).redSqr(),h=this.x.redSub(this.z).redSqr(),d=p.redSub(h),x=p.redMul(h),b=d.redMul(h.redAdd(this.curve.a24.redMul(d)));return this.curve.point(x,b)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(p,h){var d=this.x.redAdd(this.z),x=this.x.redSub(this.z),b=p.x.redAdd(p.z),g=p.x.redSub(p.z).redMul(d),v=b.redMul(x),y=h.z.redMul(g.redAdd(v).redSqr()),T=h.x.redMul(g.redISub(v).redSqr());return this.curve.point(y,T)},u.prototype.mul=function(p){for(var h=p.clone(),d=this,x=this.curve.point(null,null),b=[];h.cmpn(0)!==0;h.iushrn(1))b.push(h.andln(1));for(var g=b.length-1;g>=0;g--)b[g]===0?(d=d.diffAdd(x,this),x=x.dbl()):(x=d.diffAdd(x,this),d=d.dbl());return x},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(p){return this.getX().cmp(p.getX())===0},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(e,n,s){var i=e("../utils"),a=e("bn.js"),l=e("inherits"),c=e("./base"),o=i.assert;function u(d){c.call(this,"short",d),this.a=new a(d.a,16).toRed(this.red),this.b=new a(d.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(d),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function p(d,x,b,g){c.BasePoint.call(this,d,"affine"),x===null&&b===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new a(x,16),this.y=new a(b,16),g&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function h(d,x,b,g){c.BasePoint.call(this,d,"jacobian"),x===null&&b===null&&g===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new a(0)):(this.x=new a(x,16),this.y=new a(b,16),this.z=new a(g,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}l(u,c),n.exports=u,u.prototype._getEndomorphism=function(d){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var x,b;if(d.beta)x=new a(d.beta,16).toRed(this.red);else{var g=this._getEndoRoots(this.p);x=(x=g[0].cmp(g[1])<0?g[0]:g[1]).toRed(this.red)}if(d.lambda)b=new a(d.lambda,16);else{var v=this._getEndoRoots(this.n);this.g.mul(v[0]).x.cmp(this.g.x.redMul(x))===0?b=v[0]:(b=v[1],o(this.g.mul(b).x.cmp(this.g.x.redMul(x))===0))}return{beta:x,lambda:b,basis:d.basis?d.basis.map((function(y){return{a:new a(y.a,16),b:new a(y.b,16)}})):this._getEndoBasis(b)}}},u.prototype._getEndoRoots=function(d){var x=d===this.p?this.red:a.mont(d),b=new a(2).toRed(x).redInvm(),g=b.redNeg(),v=new a(3).toRed(x).redNeg().redSqrt().redMul(b);return[g.redAdd(v).fromRed(),g.redSub(v).fromRed()]},u.prototype._getEndoBasis=function(d){for(var x,b,g,v,y,T,R,P,H,L=this.n.ushrn(Math.floor(this.n.bitLength()/2)),I=d,O=this.n.clone(),F=new a(1),q=new a(0),z=new a(0),N=new a(1),U=0;I.cmpn(0)!==0;){var C=O.div(I);P=O.sub(C.mul(I)),H=z.sub(C.mul(F));var S=N.sub(C.mul(q));if(!g&&P.cmp(L)<0)x=R.neg(),b=F,g=P.neg(),v=H;else if(g&&++U==2)break;R=P,O=I,I=P,z=F,F=H,N=q,q=S}y=P.neg(),T=H;var k=g.sqr().add(v.sqr());return y.sqr().add(T.sqr()).cmp(k)>=0&&(y=x,T=b),g.negative&&(g=g.neg(),v=v.neg()),y.negative&&(y=y.neg(),T=T.neg()),[{a:g,b:v},{a:y,b:T}]},u.prototype._endoSplit=function(d){var x=this.endo.basis,b=x[0],g=x[1],v=g.b.mul(d).divRound(this.n),y=b.b.neg().mul(d).divRound(this.n),T=v.mul(b.a),R=y.mul(g.a),P=v.mul(b.b),H=y.mul(g.b);return{k1:d.sub(T).sub(R),k2:P.add(H).neg()}},u.prototype.pointFromX=function(d,x){(d=new a(d,16)).red||(d=d.toRed(this.red));var b=d.redSqr().redMul(d).redIAdd(d.redMul(this.a)).redIAdd(this.b),g=b.redSqrt();if(g.redSqr().redSub(b).cmp(this.zero)!==0)throw new Error("invalid point");var v=g.fromRed().isOdd();return(x&&!v||!x&&v)&&(g=g.redNeg()),this.point(d,g)},u.prototype.validate=function(d){if(d.inf)return!0;var x=d.x,b=d.y,g=this.a.redMul(x),v=x.redSqr().redMul(x).redIAdd(g).redIAdd(this.b);return b.redSqr().redISub(v).cmpn(0)===0},u.prototype._endoWnafMulAdd=function(d,x,b){for(var g=this._endoWnafT1,v=this._endoWnafT2,y=0;y<d.length;y++){var T=this._endoSplit(x[y]),R=d[y],P=R._getBeta();T.k1.negative&&(T.k1.ineg(),R=R.neg(!0)),T.k2.negative&&(T.k2.ineg(),P=P.neg(!0)),g[2*y]=R,g[2*y+1]=P,v[2*y]=T.k1,v[2*y+1]=T.k2}for(var H=this._wnafMulAdd(1,g,v,2*y,b),L=0;L<2*y;L++)g[L]=null,v[L]=null;return H},l(p,c.BasePoint),u.prototype.point=function(d,x,b){return new p(this,d,x,b)},u.prototype.pointFromJSON=function(d,x){return p.fromJSON(this,d,x)},p.prototype._getBeta=function(){if(this.curve.endo){var d=this.precomputed;if(d&&d.beta)return d.beta;var x=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(d){var b=this.curve,g=function(v){return b.point(v.x.redMul(b.endo.beta),v.y)};d.beta=x,x.precomputed={beta:null,naf:d.naf&&{wnd:d.naf.wnd,points:d.naf.points.map(g)},doubles:d.doubles&&{step:d.doubles.step,points:d.doubles.points.map(g)}}}return x}},p.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},p.fromJSON=function(d,x,b){typeof x=="string"&&(x=JSON.parse(x));var g=d.point(x[0],x[1],b);if(!x[2])return g;function v(T){return d.point(T[0],T[1],b)}var y=x[2];return g.precomputed={beta:null,doubles:y.doubles&&{step:y.doubles.step,points:[g].concat(y.doubles.points.map(v))},naf:y.naf&&{wnd:y.naf.wnd,points:[g].concat(y.naf.points.map(v))}},g},p.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},p.prototype.isInfinity=function(){return this.inf},p.prototype.add=function(d){if(this.inf)return d;if(d.inf)return this;if(this.eq(d))return this.dbl();if(this.neg().eq(d))return this.curve.point(null,null);if(this.x.cmp(d.x)===0)return this.curve.point(null,null);var x=this.y.redSub(d.y);x.cmpn(0)!==0&&(x=x.redMul(this.x.redSub(d.x).redInvm()));var b=x.redSqr().redISub(this.x).redISub(d.x),g=x.redMul(this.x.redSub(b)).redISub(this.y);return this.curve.point(b,g)},p.prototype.dbl=function(){if(this.inf)return this;var d=this.y.redAdd(this.y);if(d.cmpn(0)===0)return this.curve.point(null,null);var x=this.curve.a,b=this.x.redSqr(),g=d.redInvm(),v=b.redAdd(b).redIAdd(b).redIAdd(x).redMul(g),y=v.redSqr().redISub(this.x.redAdd(this.x)),T=v.redMul(this.x.redSub(y)).redISub(this.y);return this.curve.point(y,T)},p.prototype.getX=function(){return this.x.fromRed()},p.prototype.getY=function(){return this.y.fromRed()},p.prototype.mul=function(d){return d=new a(d,16),this.isInfinity()?this:this._hasDoubles(d)?this.curve._fixedNafMul(this,d):this.curve.endo?this.curve._endoWnafMulAdd([this],[d]):this.curve._wnafMul(this,d)},p.prototype.mulAdd=function(d,x,b){var g=[this,x],v=[d,b];return this.curve.endo?this.curve._endoWnafMulAdd(g,v):this.curve._wnafMulAdd(1,g,v,2)},p.prototype.jmulAdd=function(d,x,b){var g=[this,x],v=[d,b];return this.curve.endo?this.curve._endoWnafMulAdd(g,v,!0):this.curve._wnafMulAdd(1,g,v,2,!0)},p.prototype.eq=function(d){return this===d||this.inf===d.inf&&(this.inf||this.x.cmp(d.x)===0&&this.y.cmp(d.y)===0)},p.prototype.neg=function(d){if(this.inf)return this;var x=this.curve.point(this.x,this.y.redNeg());if(d&&this.precomputed){var b=this.precomputed,g=function(v){return v.neg()};x.precomputed={naf:b.naf&&{wnd:b.naf.wnd,points:b.naf.points.map(g)},doubles:b.doubles&&{step:b.doubles.step,points:b.doubles.points.map(g)}}}return x},p.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},l(h,c.BasePoint),u.prototype.jpoint=function(d,x,b){return new h(this,d,x,b)},h.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var d=this.z.redInvm(),x=d.redSqr(),b=this.x.redMul(x),g=this.y.redMul(x).redMul(d);return this.curve.point(b,g)},h.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},h.prototype.add=function(d){if(this.isInfinity())return d;if(d.isInfinity())return this;var x=d.z.redSqr(),b=this.z.redSqr(),g=this.x.redMul(x),v=d.x.redMul(b),y=this.y.redMul(x.redMul(d.z)),T=d.y.redMul(b.redMul(this.z)),R=g.redSub(v),P=y.redSub(T);if(R.cmpn(0)===0)return P.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var H=R.redSqr(),L=H.redMul(R),I=g.redMul(H),O=P.redSqr().redIAdd(L).redISub(I).redISub(I),F=P.redMul(I.redISub(O)).redISub(y.redMul(L)),q=this.z.redMul(d.z).redMul(R);return this.curve.jpoint(O,F,q)},h.prototype.mixedAdd=function(d){if(this.isInfinity())return d.toJ();if(d.isInfinity())return this;var x=this.z.redSqr(),b=this.x,g=d.x.redMul(x),v=this.y,y=d.y.redMul(x).redMul(this.z),T=b.redSub(g),R=v.redSub(y);if(T.cmpn(0)===0)return R.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var P=T.redSqr(),H=P.redMul(T),L=b.redMul(P),I=R.redSqr().redIAdd(H).redISub(L).redISub(L),O=R.redMul(L.redISub(I)).redISub(v.redMul(H)),F=this.z.redMul(T);return this.curve.jpoint(I,O,F)},h.prototype.dblp=function(d){if(d===0)return this;if(this.isInfinity())return this;if(!d)return this.dbl();var x;if(this.curve.zeroA||this.curve.threeA){var b=this;for(x=0;x<d;x++)b=b.dbl();return b}var g=this.curve.a,v=this.curve.tinv,y=this.x,T=this.y,R=this.z,P=R.redSqr().redSqr(),H=T.redAdd(T);for(x=0;x<d;x++){var L=y.redSqr(),I=H.redSqr(),O=I.redSqr(),F=L.redAdd(L).redIAdd(L).redIAdd(g.redMul(P)),q=y.redMul(I),z=F.redSqr().redISub(q.redAdd(q)),N=q.redISub(z),U=F.redMul(N);U=U.redIAdd(U).redISub(O);var C=H.redMul(R);x+1<d&&(P=P.redMul(O)),y=z,R=C,H=U}return this.curve.jpoint(y,H.redMul(v),R)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},h.prototype._zeroDbl=function(){var d,x,b;if(this.zOne){var g=this.x.redSqr(),v=this.y.redSqr(),y=v.redSqr(),T=this.x.redAdd(v).redSqr().redISub(g).redISub(y);T=T.redIAdd(T);var R=g.redAdd(g).redIAdd(g),P=R.redSqr().redISub(T).redISub(T),H=y.redIAdd(y);H=(H=H.redIAdd(H)).redIAdd(H),d=P,x=R.redMul(T.redISub(P)).redISub(H),b=this.y.redAdd(this.y)}else{var L=this.x.redSqr(),I=this.y.redSqr(),O=I.redSqr(),F=this.x.redAdd(I).redSqr().redISub(L).redISub(O);F=F.redIAdd(F);var q=L.redAdd(L).redIAdd(L),z=q.redSqr(),N=O.redIAdd(O);N=(N=N.redIAdd(N)).redIAdd(N),d=z.redISub(F).redISub(F),x=q.redMul(F.redISub(d)).redISub(N),b=(b=this.y.redMul(this.z)).redIAdd(b)}return this.curve.jpoint(d,x,b)},h.prototype._threeDbl=function(){var d,x,b;if(this.zOne){var g=this.x.redSqr(),v=this.y.redSqr(),y=v.redSqr(),T=this.x.redAdd(v).redSqr().redISub(g).redISub(y);T=T.redIAdd(T);var R=g.redAdd(g).redIAdd(g).redIAdd(this.curve.a),P=R.redSqr().redISub(T).redISub(T);d=P;var H=y.redIAdd(y);H=(H=H.redIAdd(H)).redIAdd(H),x=R.redMul(T.redISub(P)).redISub(H),b=this.y.redAdd(this.y)}else{var L=this.z.redSqr(),I=this.y.redSqr(),O=this.x.redMul(I),F=this.x.redSub(L).redMul(this.x.redAdd(L));F=F.redAdd(F).redIAdd(F);var q=O.redIAdd(O),z=(q=q.redIAdd(q)).redAdd(q);d=F.redSqr().redISub(z),b=this.y.redAdd(this.z).redSqr().redISub(I).redISub(L);var N=I.redSqr();N=(N=(N=N.redIAdd(N)).redIAdd(N)).redIAdd(N),x=F.redMul(q.redISub(d)).redISub(N)}return this.curve.jpoint(d,x,b)},h.prototype._dbl=function(){var d=this.curve.a,x=this.x,b=this.y,g=this.z,v=g.redSqr().redSqr(),y=x.redSqr(),T=b.redSqr(),R=y.redAdd(y).redIAdd(y).redIAdd(d.redMul(v)),P=x.redAdd(x),H=(P=P.redIAdd(P)).redMul(T),L=R.redSqr().redISub(H.redAdd(H)),I=H.redISub(L),O=T.redSqr();O=(O=(O=O.redIAdd(O)).redIAdd(O)).redIAdd(O);var F=R.redMul(I).redISub(O),q=b.redAdd(b).redMul(g);return this.curve.jpoint(L,F,q)},h.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var d=this.x.redSqr(),x=this.y.redSqr(),b=this.z.redSqr(),g=x.redSqr(),v=d.redAdd(d).redIAdd(d),y=v.redSqr(),T=this.x.redAdd(x).redSqr().redISub(d).redISub(g),R=(T=(T=(T=T.redIAdd(T)).redAdd(T).redIAdd(T)).redISub(y)).redSqr(),P=g.redIAdd(g);P=(P=(P=P.redIAdd(P)).redIAdd(P)).redIAdd(P);var H=v.redIAdd(T).redSqr().redISub(y).redISub(R).redISub(P),L=x.redMul(H);L=(L=L.redIAdd(L)).redIAdd(L);var I=this.x.redMul(R).redISub(L);I=(I=I.redIAdd(I)).redIAdd(I);var O=this.y.redMul(H.redMul(P.redISub(H)).redISub(T.redMul(R)));O=(O=(O=O.redIAdd(O)).redIAdd(O)).redIAdd(O);var F=this.z.redAdd(T).redSqr().redISub(b).redISub(R);return this.curve.jpoint(I,O,F)},h.prototype.mul=function(d,x){return d=new a(d,x),this.curve._wnafMul(this,d)},h.prototype.eq=function(d){if(d.type==="affine")return this.eq(d.toJ());if(this===d)return!0;var x=this.z.redSqr(),b=d.z.redSqr();if(this.x.redMul(b).redISub(d.x.redMul(x)).cmpn(0)!==0)return!1;var g=x.redMul(this.z),v=b.redMul(d.z);return this.y.redMul(v).redISub(d.y.redMul(g)).cmpn(0)===0},h.prototype.eqXToP=function(d){var x=this.z.redSqr(),b=d.toRed(this.curve.red).redMul(x);if(this.x.cmp(b)===0)return!0;for(var g=d.clone(),v=this.curve.redN.redMul(x);;){if(g.iadd(this.curve.n),g.cmp(this.curve.p)>=0)return!1;if(b.redIAdd(v),this.x.cmp(b)===0)return!0}},h.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},h.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(e,n,s){var i,a=s,l=e("hash.js"),c=e("./curve"),o=e("./utils").assert;function u(h){h.type==="short"?this.curve=new c.short(h):h.type==="edwards"?this.curve=new c.edwards(h):this.curve=new c.mont(h),this.g=this.curve.g,this.n=this.curve.n,this.hash=h.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function p(h,d){Object.defineProperty(a,h,{configurable:!0,enumerable:!0,get:function(){var x=new u(d);return Object.defineProperty(a,h,{configurable:!0,enumerable:!0,value:x}),x}})}a.PresetCurve=u,p("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:l.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),p("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:l.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),p("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:l.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),p("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:l.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),p("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:l.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),p("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:l.sha256,gRed:!1,g:["9"]}),p("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:l.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{i=e("./precomputed/secp256k1")}catch{i=void 0}p("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:l.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",i]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(e,n,s){var i=e("bn.js"),a=e("hmac-drbg"),l=e("../utils"),c=e("../curves"),o=e("brorand"),u=l.assert,p=e("./key"),h=e("./signature");function d(x){if(!(this instanceof d))return new d(x);typeof x=="string"&&(u(Object.prototype.hasOwnProperty.call(c,x),"Unknown curve "+x),x=c[x]),x instanceof c.PresetCurve&&(x={curve:x}),this.curve=x.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=x.curve.g,this.g.precompute(x.curve.n.bitLength()+1),this.hash=x.hash||x.curve.hash}n.exports=d,d.prototype.keyPair=function(x){return new p(this,x)},d.prototype.keyFromPrivate=function(x,b){return p.fromPrivate(this,x,b)},d.prototype.keyFromPublic=function(x,b){return p.fromPublic(this,x,b)},d.prototype.genKeyPair=function(x){x||(x={});for(var b=new a({hash:this.hash,pers:x.pers,persEnc:x.persEnc||"utf8",entropy:x.entropy||o(this.hash.hmacStrength),entropyEnc:x.entropy&&x.entropyEnc||"utf8",nonce:this.n.toArray()}),g=this.n.byteLength(),v=this.n.sub(new i(2));;){var y=new i(b.generate(g));if(!(y.cmp(v)>0))return y.iaddn(1),this.keyFromPrivate(y)}},d.prototype._truncateToN=function(x,b){var g=8*x.byteLength()-this.n.bitLength();return g>0&&(x=x.ushrn(g)),!b&&x.cmp(this.n)>=0?x.sub(this.n):x},d.prototype.sign=function(x,b,g,v){typeof g=="object"&&(v=g,g=null),v||(v={}),b=this.keyFromPrivate(b,g),x=this._truncateToN(new i(x,16));for(var y=this.n.byteLength(),T=b.getPrivate().toArray("be",y),R=x.toArray("be",y),P=new a({hash:this.hash,entropy:T,nonce:R,pers:v.pers,persEnc:v.persEnc||"utf8"}),H=this.n.sub(new i(1)),L=0;;L++){var I=v.k?v.k(L):new i(P.generate(this.n.byteLength()));if(!((I=this._truncateToN(I,!0)).cmpn(1)<=0||I.cmp(H)>=0)){var O=this.g.mul(I);if(!O.isInfinity()){var F=O.getX(),q=F.umod(this.n);if(q.cmpn(0)!==0){var z=I.invm(this.n).mul(q.mul(b.getPrivate()).iadd(x));if((z=z.umod(this.n)).cmpn(0)!==0){var N=(O.getY().isOdd()?1:0)|(F.cmp(q)!==0?2:0);return v.canonical&&z.cmp(this.nh)>0&&(z=this.n.sub(z),N^=1),new h({r:q,s:z,recoveryParam:N})}}}}}},d.prototype.verify=function(x,b,g,v){x=this._truncateToN(new i(x,16)),g=this.keyFromPublic(g,v);var y=(b=new h(b,"hex")).r,T=b.s;if(y.cmpn(1)<0||y.cmp(this.n)>=0||T.cmpn(1)<0||T.cmp(this.n)>=0)return!1;var R,P=T.invm(this.n),H=P.mul(x).umod(this.n),L=P.mul(y).umod(this.n);return this.curve._maxwellTrick?!(R=this.g.jmulAdd(H,g.getPublic(),L)).isInfinity()&&R.eqXToP(y):!(R=this.g.mulAdd(H,g.getPublic(),L)).isInfinity()&&R.getX().umod(this.n).cmp(y)===0},d.prototype.recoverPubKey=function(x,b,g,v){u((3&g)===g,"The recovery param is more than two bits"),b=new h(b,v);var y=this.n,T=new i(x),R=b.r,P=b.s,H=1&g,L=g>>1;if(R.cmp(this.curve.p.umod(this.curve.n))>=0&&L)throw new Error("Unable to find sencond key candinate");R=L?this.curve.pointFromX(R.add(this.curve.n),H):this.curve.pointFromX(R,H);var I=b.r.invm(y),O=y.sub(T).mul(I).umod(y),F=P.mul(I).umod(y);return this.g.mulAdd(O,R,F)},d.prototype.getKeyRecoveryParam=function(x,b,g,v){if((b=new h(b,v)).recoveryParam!==null)return b.recoveryParam;for(var y=0;y<4;y++){var T;try{T=this.recoverPubKey(x,b,y)}catch{continue}if(T.eq(g))return y}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(e,n,s){var i=e("bn.js"),a=e("../utils").assert;function l(c,o){this.ec=c,this.priv=null,this.pub=null,o.priv&&this._importPrivate(o.priv,o.privEnc),o.pub&&this._importPublic(o.pub,o.pubEnc)}n.exports=l,l.fromPublic=function(c,o,u){return o instanceof l?o:new l(c,{pub:o,pubEnc:u})},l.fromPrivate=function(c,o,u){return o instanceof l?o:new l(c,{priv:o,privEnc:u})},l.prototype.validate=function(){var c=this.getPublic();return c.isInfinity()?{result:!1,reason:"Invalid public key"}:c.validate()?c.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},l.prototype.getPublic=function(c,o){return typeof c=="string"&&(o=c,c=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),o?this.pub.encode(o,c):this.pub},l.prototype.getPrivate=function(c){return c==="hex"?this.priv.toString(16,2):this.priv},l.prototype._importPrivate=function(c,o){this.priv=new i(c,o||16),this.priv=this.priv.umod(this.ec.curve.n)},l.prototype._importPublic=function(c,o){if(c.x||c.y)return this.ec.curve.type==="mont"?a(c.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||a(c.x&&c.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(c.x,c.y));this.pub=this.ec.curve.decodePoint(c,o)},l.prototype.derive=function(c){return c.validate()||a(c.validate(),"public point not validated"),c.mul(this.priv).getX()},l.prototype.sign=function(c,o,u){return this.ec.sign(c,this,o,u)},l.prototype.verify=function(c,o){return this.ec.verify(c,o,this)},l.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(e,n,s){var i=e("bn.js"),a=e("../utils"),l=a.assert;function c(d,x){if(d instanceof c)return d;this._importDER(d,x)||(l(d.r&&d.s,"Signature without r or s"),this.r=new i(d.r,16),this.s=new i(d.s,16),d.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=d.recoveryParam)}function o(){this.place=0}function u(d,x){var b=d[x.place++];if(!(128&b))return b;var g=15&b;if(g===0||g>4)return!1;for(var v=0,y=0,T=x.place;y<g;y++,T++)v<<=8,v|=d[T],v>>>=0;return!(v<=127)&&(x.place=T,v)}function p(d){for(var x=0,b=d.length-1;!d[x]&&!(128&d[x+1])&&x<b;)x++;return x===0?d:d.slice(x)}function h(d,x){if(x<128)d.push(x);else{var b=1+(Math.log(x)/Math.LN2>>>3);for(d.push(128|b);--b;)d.push(x>>>(b<<3)&255);d.push(x)}}n.exports=c,c.prototype._importDER=function(d,x){d=a.toArray(d,x);var b=new o;if(d[b.place++]!==48)return!1;var g=u(d,b);if(g===!1||g+b.place!==d.length||d[b.place++]!==2)return!1;var v=u(d,b);if(v===!1)return!1;var y=d.slice(b.place,v+b.place);if(b.place+=v,d[b.place++]!==2)return!1;var T=u(d,b);if(T===!1||d.length!==T+b.place)return!1;var R=d.slice(b.place,T+b.place);if(y[0]===0){if(!(128&y[1]))return!1;y=y.slice(1)}if(R[0]===0){if(!(128&R[1]))return!1;R=R.slice(1)}return this.r=new i(y),this.s=new i(R),this.recoveryParam=null,!0},c.prototype.toDER=function(d){var x=this.r.toArray(),b=this.s.toArray();for(128&x[0]&&(x=[0].concat(x)),128&b[0]&&(b=[0].concat(b)),x=p(x),b=p(b);!(b[0]||128&b[1]);)b=b.slice(1);var g=[2];h(g,x.length),(g=g.concat(x)).push(2),h(g,b.length);var v=g.concat(b),y=[48];return h(y,v.length),y=y.concat(v),a.encode(y,d)}},{"../utils":419,"bn.js":420}],415:[function(e,n,s){var i=e("hash.js"),a=e("../curves"),l=e("../utils"),c=l.assert,o=l.parseBytes,u=e("./key"),p=e("./signature");function h(d){if(c(d==="ed25519","only tested with ed25519 so far"),!(this instanceof h))return new h(d);d=a[d].curve,this.curve=d,this.g=d.g,this.g.precompute(d.n.bitLength()+1),this.pointClass=d.point().constructor,this.encodingLength=Math.ceil(d.n.bitLength()/8),this.hash=i.sha512}n.exports=h,h.prototype.sign=function(d,x){d=o(d);var b=this.keyFromSecret(x),g=this.hashInt(b.messagePrefix(),d),v=this.g.mul(g),y=this.encodePoint(v),T=this.hashInt(y,b.pubBytes(),d).mul(b.priv()),R=g.add(T).umod(this.curve.n);return this.makeSignature({R:v,S:R,Rencoded:y})},h.prototype.verify=function(d,x,b){d=o(d),x=this.makeSignature(x);var g=this.keyFromPublic(b),v=this.hashInt(x.Rencoded(),g.pubBytes(),d),y=this.g.mul(x.S());return x.R().add(g.pub().mul(v)).eq(y)},h.prototype.hashInt=function(){for(var d=this.hash(),x=0;x<arguments.length;x++)d.update(arguments[x]);return l.intFromLE(d.digest()).umod(this.curve.n)},h.prototype.keyFromPublic=function(d){return u.fromPublic(this,d)},h.prototype.keyFromSecret=function(d){return u.fromSecret(this,d)},h.prototype.makeSignature=function(d){return d instanceof p?d:new p(this,d)},h.prototype.encodePoint=function(d){var x=d.getY().toArray("le",this.encodingLength);return x[this.encodingLength-1]|=d.getX().isOdd()?128:0,x},h.prototype.decodePoint=function(d){var x=(d=l.parseBytes(d)).length-1,b=d.slice(0,x).concat(-129&d[x]),g=(128&d[x])!=0,v=l.intFromLE(b);return this.curve.pointFromY(v,g)},h.prototype.encodeInt=function(d){return d.toArray("le",this.encodingLength)},h.prototype.decodeInt=function(d){return l.intFromLE(d)},h.prototype.isPoint=function(d){return d instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(e,n,s){var i=e("../utils"),a=i.assert,l=i.parseBytes,c=i.cachedProperty;function o(u,p){this.eddsa=u,this._secret=l(p.secret),u.isPoint(p.pub)?this._pub=p.pub:this._pubBytes=l(p.pub)}o.fromPublic=function(u,p){return p instanceof o?p:new o(u,{pub:p})},o.fromSecret=function(u,p){return p instanceof o?p:new o(u,{secret:p})},o.prototype.secret=function(){return this._secret},c(o,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),c(o,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),c(o,"privBytes",(function(){var u=this.eddsa,p=this.hash(),h=u.encodingLength-1,d=p.slice(0,u.encodingLength);return d[0]&=248,d[h]&=127,d[h]|=64,d})),c(o,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),c(o,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),c(o,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),o.prototype.sign=function(u){return a(this._secret,"KeyPair can only verify"),this.eddsa.sign(u,this)},o.prototype.verify=function(u,p){return this.eddsa.verify(u,p,this)},o.prototype.getSecret=function(u){return a(this._secret,"KeyPair is public only"),i.encode(this.secret(),u)},o.prototype.getPublic=function(u){return i.encode(this.pubBytes(),u)},n.exports=o},{"../utils":419}],417:[function(e,n,s){var i=e("bn.js"),a=e("../utils"),l=a.assert,c=a.cachedProperty,o=a.parseBytes;function u(p,h){this.eddsa=p,typeof h!="object"&&(h=o(h)),Array.isArray(h)&&(h={R:h.slice(0,p.encodingLength),S:h.slice(p.encodingLength)}),l(h.R&&h.S,"Signature without R or S"),p.isPoint(h.R)&&(this._R=h.R),h.S instanceof i&&(this._S=h.S),this._Rencoded=Array.isArray(h.R)?h.R:h.Rencoded,this._Sencoded=Array.isArray(h.S)?h.S:h.Sencoded}c(u,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),c(u,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),c(u,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),c(u,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),u.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},u.prototype.toHex=function(){return a.encode(this.toBytes(),"hex").toUpperCase()},n.exports=u},{"../utils":419,"bn.js":420}],418:[function(e,n,s){n.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(e,n,s){var i=s,a=e("bn.js"),l=e("minimalistic-assert"),c=e("minimalistic-crypto-utils");i.assert=l,i.toArray=c.toArray,i.zero2=c.zero2,i.toHex=c.toHex,i.encode=c.encode,i.getNAF=function(o,u,p){var h=new Array(Math.max(o.bitLength(),p)+1);h.fill(0);for(var d=1<<u+1,x=o.clone(),b=0;b<h.length;b++){var g,v=x.andln(d-1);x.isOdd()?(g=v>(d>>1)-1?(d>>1)-v:v,x.isubn(g)):g=0,h[b]=g,x.iushrn(1)}return h},i.getJSF=function(o,u){var p=[[],[]];o=o.clone(),u=u.clone();for(var h,d=0,x=0;o.cmpn(-d)>0||u.cmpn(-x)>0;){var b,g,v=o.andln(3)+d&3,y=u.andln(3)+x&3;v===3&&(v=-1),y===3&&(y=-1),b=(1&v)==0?0:(h=o.andln(7)+d&7)!==3&&h!==5||y!==2?v:-v,p[0].push(b),g=(1&y)==0?0:(h=u.andln(7)+x&7)!==3&&h!==5||v!==2?y:-y,p[1].push(g),2*d===b+1&&(d=1-d),2*x===g+1&&(x=1-x),o.iushrn(1),u.iushrn(1)}return p},i.cachedProperty=function(o,u,p){var h="_"+u;o.prototype[u]=function(){return this[h]!==void 0?this[h]:this[h]=p.call(this)}},i.parseBytes=function(o){return typeof o=="string"?i.toArray(o,"hex"):o},i.intFromLE=function(o){return new a(o,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(e,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],421:[function(e,n,s){n.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(e,n,s){var i=Object.create||function(I){var O=function(){};return O.prototype=I,new O},a=Object.keys||function(I){var O=[];for(var F in I)Object.prototype.hasOwnProperty.call(I,F)&&O.push(F);return F},l=Function.prototype.bind||function(I){var O=this;return function(){return O.apply(I,arguments)}};function c(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=i(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}n.exports=c,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._maxListeners=void 0;var o,u=10;try{var p={};Object.defineProperty&&Object.defineProperty(p,"x",{value:0}),o=p.x===0}catch{o=!1}function h(I){return I._maxListeners===void 0?c.defaultMaxListeners:I._maxListeners}function d(I,O,F){if(O)I.call(F);else for(var q=I.length,z=L(I,q),N=0;N<q;++N)z[N].call(F)}function x(I,O,F,q){if(O)I.call(F,q);else for(var z=I.length,N=L(I,z),U=0;U<z;++U)N[U].call(F,q)}function b(I,O,F,q,z){if(O)I.call(F,q,z);else for(var N=I.length,U=L(I,N),C=0;C<N;++C)U[C].call(F,q,z)}function g(I,O,F,q,z,N){if(O)I.call(F,q,z,N);else for(var U=I.length,C=L(I,U),S=0;S<U;++S)C[S].call(F,q,z,N)}function v(I,O,F,q){if(O)I.apply(F,q);else for(var z=I.length,N=L(I,z),U=0;U<z;++U)N[U].apply(F,q)}function y(I,O,F,q){var z,N,U;if(typeof F!="function")throw new TypeError('"listener" argument must be a function');if((N=I._events)?(N.newListener&&(I.emit("newListener",O,F.listener?F.listener:F),N=I._events),U=N[O]):(N=I._events=i(null),I._eventsCount=0),U){if(typeof U=="function"?U=N[O]=q?[F,U]:[U,F]:q?U.unshift(F):U.push(F),!U.warned&&(z=h(I))&&z>0&&U.length>z){U.warned=!0;var C=new Error("Possible EventEmitter memory leak detected. "+U.length+' "'+String(O)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');C.name="MaxListenersExceededWarning",C.emitter=I,C.type=O,C.count=U.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",C.name,C.message)}}else U=N[O]=F,++I._eventsCount;return I}function T(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var I=new Array(arguments.length),O=0;O<I.length;++O)I[O]=arguments[O];this.listener.apply(this.target,I)}}function R(I,O,F){var q={fired:!1,wrapFn:void 0,target:I,type:O,listener:F},z=l.call(T,q);return z.listener=F,q.wrapFn=z,z}function P(I,O,F){var q=I._events;if(!q)return[];var z=q[O];return z?typeof z=="function"?F?[z.listener||z]:[z]:F?(function(N){for(var U=new Array(N.length),C=0;C<U.length;++C)U[C]=N[C].listener||N[C];return U})(z):L(z,z.length):[]}function H(I){var O=this._events;if(O){var F=O[I];if(typeof F=="function")return 1;if(F)return F.length}return 0}function L(I,O){for(var F=new Array(O),q=0;q<O;++q)F[q]=I[q];return F}o?Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(I){if(typeof I!="number"||I<0||I!=I)throw new TypeError('"defaultMaxListeners" must be a positive number');u=I}}):c.defaultMaxListeners=u,c.prototype.setMaxListeners=function(I){if(typeof I!="number"||I<0||isNaN(I))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=I,this},c.prototype.getMaxListeners=function(){return h(this)},c.prototype.emit=function(I){var O,F,q,z,N,U,C=I==="error";if(U=this._events)C=C&&U.error==null;else if(!C)return!1;if(C){if(arguments.length>1&&(O=arguments[1]),O instanceof Error)throw O;var S=new Error('Unhandled "error" event. ('+O+")");throw S.context=O,S}if(!(F=U[I]))return!1;var k=typeof F=="function";switch(q=arguments.length){case 1:d(F,k,this);break;case 2:x(F,k,this,arguments[1]);break;case 3:b(F,k,this,arguments[1],arguments[2]);break;case 4:g(F,k,this,arguments[1],arguments[2],arguments[3]);break;default:for(z=new Array(q-1),N=1;N<q;N++)z[N-1]=arguments[N];v(F,k,this,z)}return!0},c.prototype.addListener=function(I,O){return y(this,I,O,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(I,O){return y(this,I,O,!0)},c.prototype.once=function(I,O){if(typeof O!="function")throw new TypeError('"listener" argument must be a function');return this.on(I,R(this,I,O)),this},c.prototype.prependOnceListener=function(I,O){if(typeof O!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(I,R(this,I,O)),this},c.prototype.removeListener=function(I,O){var F,q,z,N,U;if(typeof O!="function")throw new TypeError('"listener" argument must be a function');if(!(q=this._events))return this;if(!(F=q[I]))return this;if(F===O||F.listener===O)--this._eventsCount==0?this._events=i(null):(delete q[I],q.removeListener&&this.emit("removeListener",I,F.listener||O));else if(typeof F!="function"){for(z=-1,N=F.length-1;N>=0;N--)if(F[N]===O||F[N].listener===O){U=F[N].listener,z=N;break}if(z<0)return this;z===0?F.shift():(function(C,S){for(var k=S,E=k+1,A=C.length;E<A;k+=1,E+=1)C[k]=C[E];C.pop()})(F,z),F.length===1&&(q[I]=F[0]),q.removeListener&&this.emit("removeListener",I,U||O)}return this},c.prototype.removeAllListeners=function(I){var O,F,q;if(!(F=this._events))return this;if(!F.removeListener)return arguments.length===0?(this._events=i(null),this._eventsCount=0):F[I]&&(--this._eventsCount==0?this._events=i(null):delete F[I]),this;if(arguments.length===0){var z,N=a(F);for(q=0;q<N.length;++q)(z=N[q])!=="removeListener"&&this.removeAllListeners(z);return this.removeAllListeners("removeListener"),this._events=i(null),this._eventsCount=0,this}if(typeof(O=F[I])=="function")this.removeListener(I,O);else if(O)for(q=O.length-1;q>=0;q--)this.removeListener(I,O[q]);return this},c.prototype.listeners=function(I){return P(this,I,!0)},c.prototype.rawListeners=function(I){return P(this,I,!1)},c.listenerCount=function(I,O){return typeof I.listenerCount=="function"?I.listenerCount(O):H.call(I,O)},c.prototype.listenerCount=H,c.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(e,n,s){var i=e("safe-buffer").Buffer,a=e("md5.js");n.exports=function(l,c,o,u){if(i.isBuffer(l)||(l=i.from(l,"binary")),c&&(i.isBuffer(c)||(c=i.from(c,"binary")),c.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var p=o/8,h=i.alloc(p),d=i.alloc(u||0),x=i.alloc(0);p>0||u>0;){var b=new a;b.update(x),b.update(l),c&&b.update(c),x=b.digest();var g=0;if(p>0){var v=h.length-p;g=Math.min(p,x.length),x.copy(h,v,0,g),p-=g}if(g<x.length&&u>0){var y=d.length-u,T=Math.min(u,x.length-g);x.copy(d,y,g,g+T),u-=T}}return x.fill(0),{key:h,iv:d}}},{"md5.js":450,"safe-buffer":494}],424:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.CsvParserStream=s.ParserOptions=s.parseFile=s.parseStream=s.parseString=s.parse=s.FormatterOptions=s.CsvFormatterStream=s.writeToPath=s.writeToString=s.writeToBuffer=s.writeToStream=s.write=s.format=void 0;var i=e("@fast-csv/format");Object.defineProperty(s,"format",{enumerable:!0,get:function(){return i.format}}),Object.defineProperty(s,"write",{enumerable:!0,get:function(){return i.write}}),Object.defineProperty(s,"writeToStream",{enumerable:!0,get:function(){return i.writeToStream}}),Object.defineProperty(s,"writeToBuffer",{enumerable:!0,get:function(){return i.writeToBuffer}}),Object.defineProperty(s,"writeToString",{enumerable:!0,get:function(){return i.writeToString}}),Object.defineProperty(s,"writeToPath",{enumerable:!0,get:function(){return i.writeToPath}}),Object.defineProperty(s,"CsvFormatterStream",{enumerable:!0,get:function(){return i.CsvFormatterStream}}),Object.defineProperty(s,"FormatterOptions",{enumerable:!0,get:function(){return i.FormatterOptions}});var a=e("@fast-csv/parse");Object.defineProperty(s,"parse",{enumerable:!0,get:function(){return a.parse}}),Object.defineProperty(s,"parseString",{enumerable:!0,get:function(){return a.parseString}}),Object.defineProperty(s,"parseStream",{enumerable:!0,get:function(){return a.parseStream}}),Object.defineProperty(s,"parseFile",{enumerable:!0,get:function(){return a.parseFile}}),Object.defineProperty(s,"ParserOptions",{enumerable:!0,get:function(){return a.ParserOptions}}),Object.defineProperty(s,"CsvParserStream",{enumerable:!0,get:function(){return a.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(e,n,s){var i=e("safe-buffer").Buffer,a=e("readable-stream").Transform;function l(c){a.call(this),this._block=i.allocUnsafe(c),this._blockSize=c,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}e("inherits")(l,a),l.prototype._transform=function(c,o,u){var p=null;try{this.update(c,o)}catch(h){p=h}u(p)},l.prototype._flush=function(c){var o=null;try{this.push(this.digest())}catch(u){o=u}c(o)},l.prototype.update=function(c,o){if((function(b,g){if(!i.isBuffer(b)&&typeof b!="string")throw new TypeError(g+" must be a string or a buffer")})(c,"Data"),this._finalized)throw new Error("Digest already called");i.isBuffer(c)||(c=i.from(c,o));for(var u=this._block,p=0;this._blockOffset+c.length-p>=this._blockSize;){for(var h=this._blockOffset;h<this._blockSize;)u[h++]=c[p++];this._update(),this._blockOffset=0}for(;p<c.length;)u[this._blockOffset++]=c[p++];for(var d=0,x=8*c.length;x>0;++d)this._length[d]+=x,(x=this._length[d]/4294967296|0)>0&&(this._length[d]-=4294967296*x);return this},l.prototype._update=function(){throw new Error("_update is not implemented")},l.prototype.digest=function(c){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var o=this._digest();c!==void 0&&(o=o.toString(c)),this._block.fill(0),this._blockOffset=0;for(var u=0;u<4;++u)this._length[u]=0;return o},l.prototype._digest=function(){throw new Error("_digest is not implemented")},n.exports=l},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(e,n,s){var i=s;i.utils=e("./hash/utils"),i.common=e("./hash/common"),i.sha=e("./hash/sha"),i.ripemd=e("./hash/ripemd"),i.hmac=e("./hash/hmac"),i.sha1=i.sha.sha1,i.sha256=i.sha.sha256,i.sha224=i.sha.sha224,i.sha384=i.sha.sha384,i.sha512=i.sha.sha512,i.ripemd160=i.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(e,n,s){var i=e("./utils"),a=e("minimalistic-assert");function l(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}s.BlockHash=l,l.prototype.update=function(c,o){if(c=i.toArray(c,o),this.pending?this.pending=this.pending.concat(c):this.pending=c,this.pendingTotal+=c.length,this.pending.length>=this._delta8){var u=(c=this.pending).length%this._delta8;this.pending=c.slice(c.length-u,c.length),this.pending.length===0&&(this.pending=null),c=i.join32(c,0,c.length-u,this.endian);for(var p=0;p<c.length;p+=this._delta32)this._update(c,p,p+this._delta32)}return this},l.prototype.digest=function(c){return this.update(this._pad()),a(this.pending===null),this._digest(c)},l.prototype._pad=function(){var c=this.pendingTotal,o=this._delta8,u=o-(c+this.padLength)%o,p=new Array(u+this.padLength);p[0]=128;for(var h=1;h<u;h++)p[h]=0;if(c<<=3,this.endian==="big"){for(var d=8;d<this.padLength;d++)p[h++]=0;p[h++]=0,p[h++]=0,p[h++]=0,p[h++]=0,p[h++]=c>>>24&255,p[h++]=c>>>16&255,p[h++]=c>>>8&255,p[h++]=255&c}else for(p[h++]=255&c,p[h++]=c>>>8&255,p[h++]=c>>>16&255,p[h++]=c>>>24&255,p[h++]=0,p[h++]=0,p[h++]=0,p[h++]=0,d=8;d<this.padLength;d++)p[h++]=0;return p}},{"./utils":437,"minimalistic-assert":453}],428:[function(e,n,s){var i=e("./utils"),a=e("minimalistic-assert");function l(c,o,u){if(!(this instanceof l))return new l(c,o,u);this.Hash=c,this.blockSize=c.blockSize/8,this.outSize=c.outSize/8,this.inner=null,this.outer=null,this._init(i.toArray(o,u))}n.exports=l,l.prototype._init=function(c){c.length>this.blockSize&&(c=new this.Hash().update(c).digest()),a(c.length<=this.blockSize);for(var o=c.length;o<this.blockSize;o++)c.push(0);for(o=0;o<c.length;o++)c[o]^=54;for(this.inner=new this.Hash().update(c),o=0;o<c.length;o++)c[o]^=106;this.outer=new this.Hash().update(c)},l.prototype.update=function(c,o){return this.inner.update(c,o),this},l.prototype.digest=function(c){return this.outer.update(this.inner.digest()),this.outer.digest(c)}},{"./utils":437,"minimalistic-assert":453}],429:[function(e,n,s){var i=e("./utils"),a=e("./common"),l=i.rotl32,c=i.sum32,o=i.sum32_3,u=i.sum32_4,p=a.BlockHash;function h(){if(!(this instanceof h))return new h;p.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function d(R,P,H,L){return R<=15?P^H^L:R<=31?P&H|~P&L:R<=47?(P|~H)^L:R<=63?P&L|H&~L:P^(H|~L)}function x(R){return R<=15?0:R<=31?1518500249:R<=47?1859775393:R<=63?2400959708:2840853838}function b(R){return R<=15?1352829926:R<=31?1548603684:R<=47?1836072691:R<=63?2053994217:0}i.inherits(h,p),s.ripemd160=h,h.blockSize=512,h.outSize=160,h.hmacStrength=192,h.padLength=64,h.prototype._update=function(R,P){for(var H=this.h[0],L=this.h[1],I=this.h[2],O=this.h[3],F=this.h[4],q=H,z=L,N=I,U=O,C=F,S=0;S<80;S++){var k=c(l(u(H,d(S,L,I,O),R[g[S]+P],x(S)),y[S]),F);H=F,F=O,O=l(I,10),I=L,L=k,k=c(l(u(q,d(79-S,z,N,U),R[v[S]+P],b(S)),T[S]),C),q=C,C=U,U=l(N,10),N=z,z=k}k=o(this.h[1],I,U),this.h[1]=o(this.h[2],O,C),this.h[2]=o(this.h[3],F,q),this.h[3]=o(this.h[4],H,z),this.h[4]=o(this.h[0],L,N),this.h[0]=k},h.prototype._digest=function(R){return R==="hex"?i.toHex32(this.h,"little"):i.split32(this.h,"little")};var g=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],v=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],T=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(e,n,s){s.sha1=e("./sha/1"),s.sha224=e("./sha/224"),s.sha256=e("./sha/256"),s.sha384=e("./sha/384"),s.sha512=e("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(e,n,s){var i=e("../utils"),a=e("../common"),l=e("./common"),c=i.rotl32,o=i.sum32,u=i.sum32_5,p=l.ft_1,h=a.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];function x(){if(!(this instanceof x))return new x;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}i.inherits(x,h),n.exports=x,x.blockSize=512,x.outSize=160,x.hmacStrength=80,x.padLength=64,x.prototype._update=function(b,g){for(var v=this.W,y=0;y<16;y++)v[y]=b[g+y];for(;y<v.length;y++)v[y]=c(v[y-3]^v[y-8]^v[y-14]^v[y-16],1);var T=this.h[0],R=this.h[1],P=this.h[2],H=this.h[3],L=this.h[4];for(y=0;y<v.length;y++){var I=~~(y/20),O=u(c(T,5),p(I,R,P,H),L,v[y],d[I]);L=H,H=P,P=c(R,30),R=T,T=O}this.h[0]=o(this.h[0],T),this.h[1]=o(this.h[1],R),this.h[2]=o(this.h[2],P),this.h[3]=o(this.h[3],H),this.h[4]=o(this.h[4],L)},x.prototype._digest=function(b){return b==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(e,n,s){var i=e("../utils"),a=e("./256");function l(){if(!(this instanceof l))return new l;a.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}i.inherits(l,a),n.exports=l,l.blockSize=512,l.outSize=224,l.hmacStrength=192,l.padLength=64,l.prototype._digest=function(c){return c==="hex"?i.toHex32(this.h.slice(0,7),"big"):i.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(e,n,s){var i=e("../utils"),a=e("../common"),l=e("./common"),c=e("minimalistic-assert"),o=i.sum32,u=i.sum32_4,p=i.sum32_5,h=l.ch32,d=l.maj32,x=l.s0_256,b=l.s1_256,g=l.g0_256,v=l.g1_256,y=a.BlockHash,T=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function R(){if(!(this instanceof R))return new R;y.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=T,this.W=new Array(64)}i.inherits(R,y),n.exports=R,R.blockSize=512,R.outSize=256,R.hmacStrength=192,R.padLength=64,R.prototype._update=function(P,H){for(var L=this.W,I=0;I<16;I++)L[I]=P[H+I];for(;I<L.length;I++)L[I]=u(v(L[I-2]),L[I-7],g(L[I-15]),L[I-16]);var O=this.h[0],F=this.h[1],q=this.h[2],z=this.h[3],N=this.h[4],U=this.h[5],C=this.h[6],S=this.h[7];for(c(this.k.length===L.length),I=0;I<L.length;I++){var k=p(S,b(N),h(N,U,C),this.k[I],L[I]),E=o(x(O),d(O,F,q));S=C,C=U,U=N,N=o(z,k),z=q,q=F,F=O,O=o(k,E)}this.h[0]=o(this.h[0],O),this.h[1]=o(this.h[1],F),this.h[2]=o(this.h[2],q),this.h[3]=o(this.h[3],z),this.h[4]=o(this.h[4],N),this.h[5]=o(this.h[5],U),this.h[6]=o(this.h[6],C),this.h[7]=o(this.h[7],S)},R.prototype._digest=function(P){return P==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(e,n,s){var i=e("../utils"),a=e("./512");function l(){if(!(this instanceof l))return new l;a.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}i.inherits(l,a),n.exports=l,l.blockSize=1024,l.outSize=384,l.hmacStrength=192,l.padLength=128,l.prototype._digest=function(c){return c==="hex"?i.toHex32(this.h.slice(0,12),"big"):i.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(e,n,s){var i=e("../utils"),a=e("../common"),l=e("minimalistic-assert"),c=i.rotr64_hi,o=i.rotr64_lo,u=i.shr64_hi,p=i.shr64_lo,h=i.sum64,d=i.sum64_hi,x=i.sum64_lo,b=i.sum64_4_hi,g=i.sum64_4_lo,v=i.sum64_5_hi,y=i.sum64_5_lo,T=a.BlockHash,R=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function P(){if(!(this instanceof P))return new P;T.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=R,this.W=new Array(160)}function H(E,A,j,B,D){var Q=E&j^~E&D;return Q<0&&(Q+=4294967296),Q}function L(E,A,j,B,D,Q){var K=A&B^~A&Q;return K<0&&(K+=4294967296),K}function I(E,A,j,B,D){var Q=E&j^E&D^j&D;return Q<0&&(Q+=4294967296),Q}function O(E,A,j,B,D,Q){var K=A&B^A&Q^B&Q;return K<0&&(K+=4294967296),K}function F(E,A){var j=c(E,A,28)^c(A,E,2)^c(A,E,7);return j<0&&(j+=4294967296),j}function q(E,A){var j=o(E,A,28)^o(A,E,2)^o(A,E,7);return j<0&&(j+=4294967296),j}function z(E,A){var j=c(E,A,14)^c(E,A,18)^c(A,E,9);return j<0&&(j+=4294967296),j}function N(E,A){var j=o(E,A,14)^o(E,A,18)^o(A,E,9);return j<0&&(j+=4294967296),j}function U(E,A){var j=c(E,A,1)^c(E,A,8)^u(E,A,7);return j<0&&(j+=4294967296),j}function C(E,A){var j=o(E,A,1)^o(E,A,8)^p(E,A,7);return j<0&&(j+=4294967296),j}function S(E,A){var j=c(E,A,19)^c(A,E,29)^u(E,A,6);return j<0&&(j+=4294967296),j}function k(E,A){var j=o(E,A,19)^o(A,E,29)^p(E,A,6);return j<0&&(j+=4294967296),j}i.inherits(P,T),n.exports=P,P.blockSize=1024,P.outSize=512,P.hmacStrength=192,P.padLength=128,P.prototype._prepareBlock=function(E,A){for(var j=this.W,B=0;B<32;B++)j[B]=E[A+B];for(;B<j.length;B+=2){var D=S(j[B-4],j[B-3]),Q=k(j[B-4],j[B-3]),K=j[B-14],ee=j[B-13],W=U(j[B-30],j[B-29]),te=C(j[B-30],j[B-29]),G=j[B-32],V=j[B-31];j[B]=b(D,Q,K,ee,W,te,G,V),j[B+1]=g(D,Q,K,ee,W,te,G,V)}},P.prototype._update=function(E,A){this._prepareBlock(E,A);var j=this.W,B=this.h[0],D=this.h[1],Q=this.h[2],K=this.h[3],ee=this.h[4],W=this.h[5],te=this.h[6],G=this.h[7],V=this.h[8],Z=this.h[9],ae=this.h[10],re=this.h[11],oe=this.h[12],he=this.h[13],Se=this.h[14],ge=this.h[15];l(this.k.length===j.length);for(var ne=0;ne<j.length;ne+=2){var fe=Se,pe=ge,ke=z(V,Z),Ce=N(V,Z),Fe=H(V,Z,ae,re,oe),We=L(V,Z,ae,re,oe,he),$e=this.k[ne],it=this.k[ne+1],st=j[ne],et=j[ne+1],Ze=v(fe,pe,ke,Ce,Fe,We,$e,it,st,et),gt=y(fe,pe,ke,Ce,Fe,We,$e,it,st,et);fe=F(B,D),pe=q(B,D),ke=I(B,D,Q,K,ee),Ce=O(B,D,Q,K,ee,W);var mt=d(fe,pe,ke,Ce),Me=x(fe,pe,ke,Ce);Se=oe,ge=he,oe=ae,he=re,ae=V,re=Z,V=d(te,G,Ze,gt),Z=x(G,G,Ze,gt),te=ee,G=W,ee=Q,W=K,Q=B,K=D,B=d(Ze,gt,mt,Me),D=x(Ze,gt,mt,Me)}h(this.h,0,B,D),h(this.h,2,Q,K),h(this.h,4,ee,W),h(this.h,6,te,G),h(this.h,8,V,Z),h(this.h,10,ae,re),h(this.h,12,oe,he),h(this.h,14,Se,ge)},P.prototype._digest=function(E){return E==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(e,n,s){var i=e("../utils").rotr32;function a(o,u,p){return o&u^~o&p}function l(o,u,p){return o&u^o&p^u&p}function c(o,u,p){return o^u^p}s.ft_1=function(o,u,p,h){return o===0?a(u,p,h):o===1||o===3?c(u,p,h):o===2?l(u,p,h):void 0},s.ch32=a,s.maj32=l,s.p32=c,s.s0_256=function(o){return i(o,2)^i(o,13)^i(o,22)},s.s1_256=function(o){return i(o,6)^i(o,11)^i(o,25)},s.g0_256=function(o){return i(o,7)^i(o,18)^o>>>3},s.g1_256=function(o){return i(o,17)^i(o,19)^o>>>10}},{"../utils":437}],437:[function(e,n,s){var i=e("minimalistic-assert"),a=e("inherits");function l(p,h){return(64512&p.charCodeAt(h))==55296&&!(h<0||h+1>=p.length)&&(64512&p.charCodeAt(h+1))==56320}function c(p){return(p>>>24|p>>>8&65280|p<<8&16711680|(255&p)<<24)>>>0}function o(p){return p.length===1?"0"+p:p}function u(p){return p.length===7?"0"+p:p.length===6?"00"+p:p.length===5?"000"+p:p.length===4?"0000"+p:p.length===3?"00000"+p:p.length===2?"000000"+p:p.length===1?"0000000"+p:p}s.inherits=a,s.toArray=function(p,h){if(Array.isArray(p))return p.slice();if(!p)return[];var d=[];if(typeof p=="string")if(h){if(h==="hex")for((p=p.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(p="0"+p),b=0;b<p.length;b+=2)d.push(parseInt(p[b]+p[b+1],16))}else for(var x=0,b=0;b<p.length;b++){var g=p.charCodeAt(b);g<128?d[x++]=g:g<2048?(d[x++]=g>>6|192,d[x++]=63&g|128):l(p,b)?(g=65536+((1023&g)<<10)+(1023&p.charCodeAt(++b)),d[x++]=g>>18|240,d[x++]=g>>12&63|128,d[x++]=g>>6&63|128,d[x++]=63&g|128):(d[x++]=g>>12|224,d[x++]=g>>6&63|128,d[x++]=63&g|128)}else for(b=0;b<p.length;b++)d[b]=0|p[b];return d},s.toHex=function(p){for(var h="",d=0;d<p.length;d++)h+=o(p[d].toString(16));return h},s.htonl=c,s.toHex32=function(p,h){for(var d="",x=0;x<p.length;x++){var b=p[x];h==="little"&&(b=c(b)),d+=u(b.toString(16))}return d},s.zero2=o,s.zero8=u,s.join32=function(p,h,d,x){var b=d-h;i(b%4==0);for(var g=new Array(b/4),v=0,y=h;v<g.length;v++,y+=4){var T;T=x==="big"?p[y]<<24|p[y+1]<<16|p[y+2]<<8|p[y+3]:p[y+3]<<24|p[y+2]<<16|p[y+1]<<8|p[y],g[v]=T>>>0}return g},s.split32=function(p,h){for(var d=new Array(4*p.length),x=0,b=0;x<p.length;x++,b+=4){var g=p[x];h==="big"?(d[b]=g>>>24,d[b+1]=g>>>16&255,d[b+2]=g>>>8&255,d[b+3]=255&g):(d[b+3]=g>>>24,d[b+2]=g>>>16&255,d[b+1]=g>>>8&255,d[b]=255&g)}return d},s.rotr32=function(p,h){return p>>>h|p<<32-h},s.rotl32=function(p,h){return p<<h|p>>>32-h},s.sum32=function(p,h){return p+h>>>0},s.sum32_3=function(p,h,d){return p+h+d>>>0},s.sum32_4=function(p,h,d,x){return p+h+d+x>>>0},s.sum32_5=function(p,h,d,x,b){return p+h+d+x+b>>>0},s.sum64=function(p,h,d,x){var b=p[h],g=x+p[h+1]>>>0,v=(g<x?1:0)+d+b;p[h]=v>>>0,p[h+1]=g},s.sum64_hi=function(p,h,d,x){return(h+x>>>0<h?1:0)+p+d>>>0},s.sum64_lo=function(p,h,d,x){return h+x>>>0},s.sum64_4_hi=function(p,h,d,x,b,g,v,y){var T=0,R=h;return T+=(R=R+x>>>0)<h?1:0,T+=(R=R+g>>>0)<g?1:0,p+d+b+v+(T+=(R=R+y>>>0)<y?1:0)>>>0},s.sum64_4_lo=function(p,h,d,x,b,g,v,y){return h+x+g+y>>>0},s.sum64_5_hi=function(p,h,d,x,b,g,v,y,T,R){var P=0,H=h;return P+=(H=H+x>>>0)<h?1:0,P+=(H=H+g>>>0)<g?1:0,P+=(H=H+y>>>0)<y?1:0,p+d+b+v+T+(P+=(H=H+R>>>0)<R?1:0)>>>0},s.sum64_5_lo=function(p,h,d,x,b,g,v,y,T,R){return h+x+g+y+R>>>0},s.rotr64_hi=function(p,h,d){return(h<<32-d|p>>>d)>>>0},s.rotr64_lo=function(p,h,d){return(p<<32-d|h>>>d)>>>0},s.shr64_hi=function(p,h,d){return p>>>d},s.shr64_lo=function(p,h,d){return(p<<32-d|h>>>d)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(e,n,s){var i=e("hash.js"),a=e("minimalistic-crypto-utils"),l=e("minimalistic-assert");function c(o){if(!(this instanceof c))return new c(o);this.hash=o.hash,this.predResist=!!o.predResist,this.outLen=this.hash.outSize,this.minEntropy=o.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var u=a.toArray(o.entropy,o.entropyEnc||"hex"),p=a.toArray(o.nonce,o.nonceEnc||"hex"),h=a.toArray(o.pers,o.persEnc||"hex");l(u.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(u,p,h)}n.exports=c,c.prototype._init=function(o,u,p){var h=o.concat(u).concat(p);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var d=0;d<this.V.length;d++)this.K[d]=0,this.V[d]=1;this._update(h),this._reseed=1,this.reseedInterval=281474976710656},c.prototype._hmac=function(){return new i.hmac(this.hash,this.K)},c.prototype._update=function(o){var u=this._hmac().update(this.V).update([0]);o&&(u=u.update(o)),this.K=u.digest(),this.V=this._hmac().update(this.V).digest(),o&&(this.K=this._hmac().update(this.V).update([1]).update(o).digest(),this.V=this._hmac().update(this.V).digest())},c.prototype.reseed=function(o,u,p,h){typeof u!="string"&&(h=p,p=u,u=null),o=a.toArray(o,u),p=a.toArray(p,h),l(o.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(o.concat(p||[])),this._reseed=1},c.prototype.generate=function(o,u,p,h){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof u!="string"&&(h=p,p=u,u=null),p&&(p=a.toArray(p,h||"hex"),this._update(p));for(var d=[];d.length<o;)this.V=this._hmac().update(this.V).digest(),d=d.concat(this.V);var x=d.slice(0,o);return this._update(p),this._reseed++,a.encode(x,u)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(e,n,s){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */s.read=function(i,a,l,c,o){var u,p,h=8*o-c-1,d=(1<<h)-1,x=d>>1,b=-7,g=l?o-1:0,v=l?-1:1,y=i[a+g];for(g+=v,u=y&(1<<-b)-1,y>>=-b,b+=h;b>0;u=256*u+i[a+g],g+=v,b-=8);for(p=u&(1<<-b)-1,u>>=-b,b+=c;b>0;p=256*p+i[a+g],g+=v,b-=8);if(u===0)u=1-x;else{if(u===d)return p?NaN:1/0*(y?-1:1);p+=Math.pow(2,c),u-=x}return(y?-1:1)*p*Math.pow(2,u-c)},s.write=function(i,a,l,c,o,u){var p,h,d,x=8*u-o-1,b=(1<<x)-1,g=b>>1,v=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=c?0:u-1,T=c?1:-1,R=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(h=isNaN(a)?1:0,p=b):(p=Math.floor(Math.log(a)/Math.LN2),a*(d=Math.pow(2,-p))<1&&(p--,d*=2),(a+=p+g>=1?v/d:v*Math.pow(2,1-g))*d>=2&&(p++,d/=2),p+g>=b?(h=0,p=b):p+g>=1?(h=(a*d-1)*Math.pow(2,o),p+=g):(h=a*Math.pow(2,g-1)*Math.pow(2,o),p=0));o>=8;i[l+y]=255&h,y+=T,h/=256,o-=8);for(p=p<<o|h,x+=o;x>0;i[l+y]=255&p,y+=T,p/=256,x-=8);i[l+y-T]|=128*R}},{}],440:[function(e,n,s){typeof Object.create=="function"?n.exports=function(i,a){a&&(i.super_=a,i.prototype=Object.create(a.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}))}:n.exports=function(i,a){if(a){i.super_=a;var l=function(){};l.prototype=a.prototype,i.prototype=new l,i.prototype.constructor=i}}},{}],441:[function(e,n,s){(function(i,a,l,c,o,u,p,h){(function(){/*!

		JSZip v3.10.1 - A JavaScript class for generating and reading zip files
		<http://stuartk.com/jszip>

		(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
		Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

		JSZip uses the library pako released under the MIT license :
		https://github.com/nodeca/pako/blob/main/LICENSE
		*/(function(d){typeof s=="object"&&n!==void 0?n.exports=d():(typeof window<"u"?window:a!==void 0?a:typeof self<"u"?self:this).JSZip=d()})((function(){return(function d(x,b,g){function v(R,P){if(!b[R]){if(!x[R]){var H=typeof e=="function"&&e;if(!P&&H)return H(R,!0);if(y)return y(R,!0);var L=new Error("Cannot find module '"+R+"'");throw L.code="MODULE_NOT_FOUND",L}var I=b[R]={exports:{}};x[R][0].call(I.exports,(function(O){return v(x[R][1][O]||O)}),I,I.exports,d,x,b,g)}return b[R].exports}for(var y=typeof e=="function"&&e,T=0;T<g.length;T++)v(g[T]);return v})({1:[function(d,x,b){var g=d("./utils"),v=d("./support"),y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";b.encode=function(T){for(var R,P,H,L,I,O,F,q=[],z=0,N=T.length,U=N,C=g.getTypeOf(T)!=="string";z<T.length;)U=N-z,H=C?(R=T[z++],P=z<N?T[z++]:0,z<N?T[z++]:0):(R=T.charCodeAt(z++),P=z<N?T.charCodeAt(z++):0,z<N?T.charCodeAt(z++):0),L=R>>2,I=(3&R)<<4|P>>4,O=1<U?(15&P)<<2|H>>6:64,F=2<U?63&H:64,q.push(y.charAt(L)+y.charAt(I)+y.charAt(O)+y.charAt(F));return q.join("")},b.decode=function(T){var R,P,H,L,I,O,F=0,q=0,z="data:";if(T.substr(0,z.length)===z)throw new Error("Invalid base64 input, it looks like a data url.");var N,U=3*(T=T.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(T.charAt(T.length-1)===y.charAt(64)&&U--,T.charAt(T.length-2)===y.charAt(64)&&U--,U%1!=0)throw new Error("Invalid base64 input, bad content length.");for(N=v.uint8array?new Uint8Array(0|U):new Array(0|U);F<T.length;)R=y.indexOf(T.charAt(F++))<<2|(L=y.indexOf(T.charAt(F++)))>>4,P=(15&L)<<4|(I=y.indexOf(T.charAt(F++)))>>2,H=(3&I)<<6|(O=y.indexOf(T.charAt(F++))),N[q++]=R,I!==64&&(N[q++]=P),O!==64&&(N[q++]=H);return N}},{"./support":30,"./utils":32}],2:[function(d,x,b){var g=d("./external"),v=d("./stream/DataWorker"),y=d("./stream/Crc32Probe"),T=d("./stream/DataLengthProbe");function R(P,H,L,I,O){this.compressedSize=P,this.uncompressedSize=H,this.crc32=L,this.compression=I,this.compressedContent=O}R.prototype={getContentWorker:function(){var P=new v(g.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new T("data_length")),H=this;return P.on("end",(function(){if(this.streamInfo.data_length!==H.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),P},getCompressedWorker:function(){return new v(g.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},R.createWorkerFrom=function(P,H,L){return P.pipe(new y).pipe(new T("uncompressedSize")).pipe(H.compressWorker(L)).pipe(new T("compressedSize")).withStreamInfo("compression",H)},x.exports=R},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(d,x,b){var g=d("./stream/GenericWorker");b.STORE={magic:"\0\0",compressWorker:function(){return new g("STORE compression")},uncompressWorker:function(){return new g("STORE decompression")}},b.DEFLATE=d("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(d,x,b){var g=d("./utils"),v=(function(){for(var y,T=[],R=0;R<256;R++){y=R;for(var P=0;P<8;P++)y=1&y?3988292384^y>>>1:y>>>1;T[R]=y}return T})();x.exports=function(y,T){return y!==void 0&&y.length?g.getTypeOf(y)!=="string"?(function(R,P,H,L){var I=v,O=0+H;R^=-1;for(var F=0;F<O;F++)R=R>>>8^I[255&(R^P[F])];return-1^R})(0|T,y,y.length):(function(R,P,H,L){var I=v,O=0+H;R^=-1;for(var F=0;F<O;F++)R=R>>>8^I[255&(R^P.charCodeAt(F))];return-1^R})(0|T,y,y.length):0}},{"./utils":32}],5:[function(d,x,b){b.base64=!1,b.binary=!1,b.dir=!1,b.createFolders=!0,b.date=null,b.compression=null,b.compressionOptions=null,b.comment=null,b.unixPermissions=null,b.dosPermissions=null},{}],6:[function(d,x,b){var g;g=typeof Promise<"u"?Promise:d("lie"),x.exports={Promise:g}},{lie:37}],7:[function(d,x,b){var g=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",v=d("pako"),y=d("./utils"),T=d("./stream/GenericWorker"),R=g?"uint8array":"array";function P(H,L){T.call(this,"FlateWorker/"+H),this._pako=null,this._pakoAction=H,this._pakoOptions=L,this.meta={}}b.magic="\b\0",y.inherits(P,T),P.prototype.processChunk=function(H){this.meta=H.meta,this._pako===null&&this._createPako(),this._pako.push(y.transformTo(R,H.data),!1)},P.prototype.flush=function(){T.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},P.prototype.cleanUp=function(){T.prototype.cleanUp.call(this),this._pako=null},P.prototype._createPako=function(){this._pako=new v[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var H=this;this._pako.onData=function(L){H.push({data:L,meta:H.meta})}},b.compressWorker=function(H){return new P("Deflate",H)},b.uncompressWorker=function(){return new P("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(d,x,b){function g(I,O){var F,q="";for(F=0;F<O;F++)q+=String.fromCharCode(255&I),I>>>=8;return q}function v(I,O,F,q,z,N){var U,C,S=I.file,k=I.compression,E=N!==R.utf8encode,A=y.transformTo("string",N(S.name)),j=y.transformTo("string",R.utf8encode(S.name)),B=S.comment,D=y.transformTo("string",N(B)),Q=y.transformTo("string",R.utf8encode(B)),K=j.length!==S.name.length,ee=Q.length!==B.length,W="",te="",G="",V=S.dir,Z=S.date,ae={crc32:0,compressedSize:0,uncompressedSize:0};O&&!F||(ae.crc32=I.crc32,ae.compressedSize=I.compressedSize,ae.uncompressedSize=I.uncompressedSize);var re=0;O&&(re|=8),E||!K&&!ee||(re|=2048);var oe=0,he=0;V&&(oe|=16),z==="UNIX"?(he=798,oe|=(function(ge,ne){var fe=ge;return ge||(fe=ne?16893:33204),(65535&fe)<<16})(S.unixPermissions,V)):(he=20,oe|=(function(ge){return 63&(ge||0)})(S.dosPermissions)),U=Z.getUTCHours(),U<<=6,U|=Z.getUTCMinutes(),U<<=5,U|=Z.getUTCSeconds()/2,C=Z.getUTCFullYear()-1980,C<<=4,C|=Z.getUTCMonth()+1,C<<=5,C|=Z.getUTCDate(),K&&(te=g(1,1)+g(P(A),4)+j,W+="up"+g(te.length,2)+te),ee&&(G=g(1,1)+g(P(D),4)+Q,W+="uc"+g(G.length,2)+G);var Se="";return Se+=`
\0`,Se+=g(re,2),Se+=k.magic,Se+=g(U,2),Se+=g(C,2),Se+=g(ae.crc32,4),Se+=g(ae.compressedSize,4),Se+=g(ae.uncompressedSize,4),Se+=g(A.length,2),Se+=g(W.length,2),{fileRecord:H.LOCAL_FILE_HEADER+Se+A+W,dirRecord:H.CENTRAL_FILE_HEADER+g(he,2)+Se+g(D.length,2)+"\0\0\0\0"+g(oe,4)+g(q,4)+A+W+D}}var y=d("../utils"),T=d("../stream/GenericWorker"),R=d("../utf8"),P=d("../crc32"),H=d("../signature");function L(I,O,F,q){T.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=O,this.zipPlatform=F,this.encodeFileName=q,this.streamFiles=I,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}y.inherits(L,T),L.prototype.push=function(I){var O=I.meta.percent||0,F=this.entriesCount,q=this._sources.length;this.accumulate?this.contentBuffer.push(I):(this.bytesWritten+=I.data.length,T.prototype.push.call(this,{data:I.data,meta:{currentFile:this.currentFile,percent:F?(O+100*(F-q-1))/F:100}}))},L.prototype.openedSource=function(I){this.currentSourceOffset=this.bytesWritten,this.currentFile=I.file.name;var O=this.streamFiles&&!I.file.dir;if(O){var F=v(I,O,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:F.fileRecord,meta:{percent:0}})}else this.accumulate=!0},L.prototype.closedSource=function(I){this.accumulate=!1;var O=this.streamFiles&&!I.file.dir,F=v(I,O,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(F.dirRecord),O)this.push({data:(function(q){return H.DATA_DESCRIPTOR+g(q.crc32,4)+g(q.compressedSize,4)+g(q.uncompressedSize,4)})(I),meta:{percent:100}});else for(this.push({data:F.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},L.prototype.flush=function(){for(var I=this.bytesWritten,O=0;O<this.dirRecords.length;O++)this.push({data:this.dirRecords[O],meta:{percent:100}});var F=this.bytesWritten-I,q=(function(z,N,U,C,S){var k=y.transformTo("string",S(C));return H.CENTRAL_DIRECTORY_END+"\0\0\0\0"+g(z,2)+g(z,2)+g(N,4)+g(U,4)+g(k.length,2)+k})(this.dirRecords.length,F,I,this.zipComment,this.encodeFileName);this.push({data:q,meta:{percent:100}})},L.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},L.prototype.registerPrevious=function(I){this._sources.push(I);var O=this;return I.on("data",(function(F){O.processChunk(F)})),I.on("end",(function(){O.closedSource(O.previous.streamInfo),O._sources.length?O.prepareNextSource():O.end()})),I.on("error",(function(F){O.error(F)})),this},L.prototype.resume=function(){return!!T.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},L.prototype.error=function(I){var O=this._sources;if(!T.prototype.error.call(this,I))return!1;for(var F=0;F<O.length;F++)try{O[F].error(I)}catch{}return!0},L.prototype.lock=function(){T.prototype.lock.call(this);for(var I=this._sources,O=0;O<I.length;O++)I[O].lock()},x.exports=L},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(d,x,b){var g=d("../compressions"),v=d("./ZipFileWorker");b.generateWorker=function(y,T,R){var P=new v(T.streamFiles,R,T.platform,T.encodeFileName),H=0;try{y.forEach((function(L,I){H++;var O=(function(N,U){var C=N||U,S=g[C];if(!S)throw new Error(C+" is not a valid compression method !");return S})(I.options.compression,T.compression),F=I.options.compressionOptions||T.compressionOptions||{},q=I.dir,z=I.date;I._compressWorker(O,F).withStreamInfo("file",{name:L,dir:q,date:z,comment:I.comment||"",unixPermissions:I.unixPermissions,dosPermissions:I.dosPermissions}).pipe(P)})),P.entriesCount=H}catch(L){P.error(L)}return P}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(d,x,b){function g(){if(!(this instanceof g))return new g;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var v=new g;for(var y in this)typeof this[y]!="function"&&(v[y]=this[y]);return v}}(g.prototype=d("./object")).loadAsync=d("./load"),g.support=d("./support"),g.defaults=d("./defaults"),g.version="3.10.1",g.loadAsync=function(v,y){return new g().loadAsync(v,y)},g.external=d("./external"),x.exports=g},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(d,x,b){var g=d("./utils"),v=d("./external"),y=d("./utf8"),T=d("./zipEntries"),R=d("./stream/Crc32Probe"),P=d("./nodejsUtils");function H(L){return new v.Promise((function(I,O){var F=L.decompressed.getContentWorker().pipe(new R);F.on("error",(function(q){O(q)})).on("end",(function(){F.streamInfo.crc32!==L.decompressed.crc32?O(new Error("Corrupted zip : CRC32 mismatch")):I()})).resume()}))}x.exports=function(L,I){var O=this;return I=g.extend(I||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:y.utf8decode}),P.isNode&&P.isStream(L)?v.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):g.prepareContent("the loaded zip file",L,!0,I.optimizedBinaryString,I.base64).then((function(F){var q=new T(I);return q.load(F),q})).then((function(F){var q=[v.Promise.resolve(F)],z=F.files;if(I.checkCRC32)for(var N=0;N<z.length;N++)q.push(H(z[N]));return v.Promise.all(q)})).then((function(F){for(var q=F.shift(),z=q.files,N=0;N<z.length;N++){var U=z[N],C=U.fileNameStr,S=g.resolve(U.fileNameStr);O.file(S,U.decompressed,{binary:!0,optimizedBinaryString:!0,date:U.date,dir:U.dir,comment:U.fileCommentStr.length?U.fileCommentStr:null,unixPermissions:U.unixPermissions,dosPermissions:U.dosPermissions,createFolders:I.createFolders}),U.dir||(O.file(S).unsafeOriginalName=C)}return q.zipComment.length&&(O.comment=q.zipComment),O}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(d,x,b){var g=d("../utils"),v=d("../stream/GenericWorker");function y(T,R){v.call(this,"Nodejs stream input adapter for "+T),this._upstreamEnded=!1,this._bindStream(R)}g.inherits(y,v),y.prototype._bindStream=function(T){var R=this;(this._stream=T).pause(),T.on("data",(function(P){R.push({data:P,meta:{percent:0}})})).on("error",(function(P){R.isPaused?this.generatedError=P:R.error(P)})).on("end",(function(){R.isPaused?R._upstreamEnded=!0:R.end()}))},y.prototype.pause=function(){return!!v.prototype.pause.call(this)&&(this._stream.pause(),!0)},y.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},x.exports=y},{"../stream/GenericWorker":28,"../utils":32}],13:[function(d,x,b){var g=d("readable-stream").Readable;function v(y,T,R){g.call(this,T),this._helper=y;var P=this;y.on("data",(function(H,L){P.push(H)||P._helper.pause(),R&&R(L)})).on("error",(function(H){P.emit("error",H)})).on("end",(function(){P.push(null)}))}d("../utils").inherits(v,g),v.prototype._read=function(){this._helper.resume()},x.exports=v},{"../utils":32,"readable-stream":16}],14:[function(d,x,b){x.exports={isNode:l!==void 0,newBufferFrom:function(g,v){if(l.from&&l.from!==Uint8Array.from)return l.from(g,v);if(typeof g=="number")throw new Error('The "data" argument must not be a number');return new l(g,v)},allocBuffer:function(g){if(l.alloc)return l.alloc(g);var v=new l(g);return v.fill(0),v},isBuffer:function(g){return l.isBuffer(g)},isStream:function(g){return g&&typeof g.on=="function"&&typeof g.pause=="function"&&typeof g.resume=="function"}}},{}],15:[function(d,x,b){function g(S,k,E){var A,j=y.getTypeOf(k),B=y.extend(E||{},P);B.date=B.date||new Date,B.compression!==null&&(B.compression=B.compression.toUpperCase()),typeof B.unixPermissions=="string"&&(B.unixPermissions=parseInt(B.unixPermissions,8)),B.unixPermissions&&16384&B.unixPermissions&&(B.dir=!0),B.dosPermissions&&16&B.dosPermissions&&(B.dir=!0),B.dir&&(S=z(S)),B.createFolders&&(A=q(S))&&N.call(this,A,!0);var D=j==="string"&&B.binary===!1&&B.base64===!1;E&&E.binary!==void 0||(B.binary=!D),(k instanceof H&&k.uncompressedSize===0||B.dir||!k||k.length===0)&&(B.base64=!1,B.binary=!0,k="",B.compression="STORE",j="string");var Q;Q=k instanceof H||k instanceof T?k:O.isNode&&O.isStream(k)?new F(S,k):y.prepareContent(S,k,B.binary,B.optimizedBinaryString,B.base64);var K=new L(S,Q,B);this.files[S]=K}var v=d("./utf8"),y=d("./utils"),T=d("./stream/GenericWorker"),R=d("./stream/StreamHelper"),P=d("./defaults"),H=d("./compressedObject"),L=d("./zipObject"),I=d("./generate"),O=d("./nodejsUtils"),F=d("./nodejs/NodejsStreamInputAdapter"),q=function(S){S.slice(-1)==="/"&&(S=S.substring(0,S.length-1));var k=S.lastIndexOf("/");return 0<k?S.substring(0,k):""},z=function(S){return S.slice(-1)!=="/"&&(S+="/"),S},N=function(S,k){return k=k!==void 0?k:P.createFolders,S=z(S),this.files[S]||g.call(this,S,null,{dir:!0,createFolders:k}),this.files[S]};function U(S){return Object.prototype.toString.call(S)==="[object RegExp]"}var C={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(S){var k,E,A;for(k in this.files)A=this.files[k],(E=k.slice(this.root.length,k.length))&&k.slice(0,this.root.length)===this.root&&S(E,A)},filter:function(S){var k=[];return this.forEach((function(E,A){S(E,A)&&k.push(A)})),k},file:function(S,k,E){if(arguments.length!==1)return S=this.root+S,g.call(this,S,k,E),this;if(U(S)){var A=S;return this.filter((function(B,D){return!D.dir&&A.test(B)}))}var j=this.files[this.root+S];return j&&!j.dir?j:null},folder:function(S){if(!S)return this;if(U(S))return this.filter((function(j,B){return B.dir&&S.test(j)}));var k=this.root+S,E=N.call(this,k),A=this.clone();return A.root=E.name,A},remove:function(S){S=this.root+S;var k=this.files[S];if(k||(S.slice(-1)!=="/"&&(S+="/"),k=this.files[S]),k&&!k.dir)delete this.files[S];else for(var E=this.filter((function(j,B){return B.name.slice(0,S.length)===S})),A=0;A<E.length;A++)delete this.files[E[A].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(S){var k,E={};try{if((E=y.extend(S||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:v.utf8encode})).type=E.type.toLowerCase(),E.compression=E.compression.toUpperCase(),E.type==="binarystring"&&(E.type="string"),!E.type)throw new Error("No output type specified.");y.checkSupport(E.type),E.platform!=="darwin"&&E.platform!=="freebsd"&&E.platform!=="linux"&&E.platform!=="sunos"||(E.platform="UNIX"),E.platform==="win32"&&(E.platform="DOS");var A=E.comment||this.comment||"";k=I.generateWorker(this,E,A)}catch(j){(k=new T("error")).error(j)}return new R(k,E.type||"string",E.mimeType)},generateAsync:function(S,k){return this.generateInternalStream(S).accumulate(k)},generateNodeStream:function(S,k){return(S=S||{}).type||(S.type="nodebuffer"),this.generateInternalStream(S).toNodejsStream(k)}};x.exports=C},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(d,x,b){x.exports=d("stream")},{stream:void 0}],17:[function(d,x,b){var g=d("./DataReader");function v(y){g.call(this,y);for(var T=0;T<this.data.length;T++)y[T]=255&y[T]}d("../utils").inherits(v,g),v.prototype.byteAt=function(y){return this.data[this.zero+y]},v.prototype.lastIndexOfSignature=function(y){for(var T=y.charCodeAt(0),R=y.charCodeAt(1),P=y.charCodeAt(2),H=y.charCodeAt(3),L=this.length-4;0<=L;--L)if(this.data[L]===T&&this.data[L+1]===R&&this.data[L+2]===P&&this.data[L+3]===H)return L-this.zero;return-1},v.prototype.readAndCheckSignature=function(y){var T=y.charCodeAt(0),R=y.charCodeAt(1),P=y.charCodeAt(2),H=y.charCodeAt(3),L=this.readData(4);return T===L[0]&&R===L[1]&&P===L[2]&&H===L[3]},v.prototype.readData=function(y){if(this.checkOffset(y),y===0)return[];var T=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,T},x.exports=v},{"../utils":32,"./DataReader":18}],18:[function(d,x,b){var g=d("../utils");function v(y){this.data=y,this.length=y.length,this.index=0,this.zero=0}v.prototype={checkOffset:function(y){this.checkIndex(this.index+y)},checkIndex:function(y){if(this.length<this.zero+y||y<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+y+"). Corrupted zip ?")},setIndex:function(y){this.checkIndex(y),this.index=y},skip:function(y){this.setIndex(this.index+y)},byteAt:function(){},readInt:function(y){var T,R=0;for(this.checkOffset(y),T=this.index+y-1;T>=this.index;T--)R=(R<<8)+this.byteAt(T);return this.index+=y,R},readString:function(y){return g.transformTo("string",this.readData(y))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var y=this.readInt(4);return new Date(Date.UTC(1980+(y>>25&127),(y>>21&15)-1,y>>16&31,y>>11&31,y>>5&63,(31&y)<<1))}},x.exports=v},{"../utils":32}],19:[function(d,x,b){var g=d("./Uint8ArrayReader");function v(y){g.call(this,y)}d("../utils").inherits(v,g),v.prototype.readData=function(y){this.checkOffset(y);var T=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,T},x.exports=v},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(d,x,b){var g=d("./DataReader");function v(y){g.call(this,y)}d("../utils").inherits(v,g),v.prototype.byteAt=function(y){return this.data.charCodeAt(this.zero+y)},v.prototype.lastIndexOfSignature=function(y){return this.data.lastIndexOf(y)-this.zero},v.prototype.readAndCheckSignature=function(y){return y===this.readData(4)},v.prototype.readData=function(y){this.checkOffset(y);var T=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,T},x.exports=v},{"../utils":32,"./DataReader":18}],21:[function(d,x,b){var g=d("./ArrayReader");function v(y){g.call(this,y)}d("../utils").inherits(v,g),v.prototype.readData=function(y){if(this.checkOffset(y),y===0)return new Uint8Array(0);var T=this.data.subarray(this.zero+this.index,this.zero+this.index+y);return this.index+=y,T},x.exports=v},{"../utils":32,"./ArrayReader":17}],22:[function(d,x,b){var g=d("../utils"),v=d("../support"),y=d("./ArrayReader"),T=d("./StringReader"),R=d("./NodeBufferReader"),P=d("./Uint8ArrayReader");x.exports=function(H){var L=g.getTypeOf(H);return g.checkSupport(L),L!=="string"||v.uint8array?L==="nodebuffer"?new R(H):v.uint8array?new P(g.transformTo("uint8array",H)):new y(g.transformTo("array",H)):new T(H)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(d,x,b){b.LOCAL_FILE_HEADER="PK",b.CENTRAL_FILE_HEADER="PK",b.CENTRAL_DIRECTORY_END="PK",b.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",b.ZIP64_CENTRAL_DIRECTORY_END="PK",b.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(d,x,b){var g=d("./GenericWorker"),v=d("../utils");function y(T){g.call(this,"ConvertWorker to "+T),this.destType=T}v.inherits(y,g),y.prototype.processChunk=function(T){this.push({data:v.transformTo(this.destType,T.data),meta:T.meta})},x.exports=y},{"../utils":32,"./GenericWorker":28}],25:[function(d,x,b){var g=d("./GenericWorker"),v=d("../crc32");function y(){g.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}d("../utils").inherits(y,g),y.prototype.processChunk=function(T){this.streamInfo.crc32=v(T.data,this.streamInfo.crc32||0),this.push(T)},x.exports=y},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(d,x,b){var g=d("../utils"),v=d("./GenericWorker");function y(T){v.call(this,"DataLengthProbe for "+T),this.propName=T,this.withStreamInfo(T,0)}g.inherits(y,v),y.prototype.processChunk=function(T){if(T){var R=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=R+T.data.length}v.prototype.processChunk.call(this,T)},x.exports=y},{"../utils":32,"./GenericWorker":28}],27:[function(d,x,b){var g=d("../utils"),v=d("./GenericWorker");function y(T){v.call(this,"DataWorker");var R=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,T.then((function(P){R.dataIsReady=!0,R.data=P,R.max=P&&P.length||0,R.type=g.getTypeOf(P),R.isPaused||R._tickAndRepeat()}),(function(P){R.error(P)}))}g.inherits(y,v),y.prototype.cleanUp=function(){v.prototype.cleanUp.call(this),this.data=null},y.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,g.delay(this._tickAndRepeat,[],this)),!0)},y.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(g.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},y.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var T=null,R=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":T=this.data.substring(this.index,R);break;case"uint8array":T=this.data.subarray(this.index,R);break;case"array":case"nodebuffer":T=this.data.slice(this.index,R)}return this.index=R,this.push({data:T,meta:{percent:this.max?this.index/this.max*100:0}})},x.exports=y},{"../utils":32,"./GenericWorker":28}],28:[function(d,x,b){function g(v){this.name=v||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}g.prototype={push:function(v){this.emit("data",v)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(v){this.emit("error",v)}return!0},error:function(v){return!this.isFinished&&(this.isPaused?this.generatedError=v:(this.isFinished=!0,this.emit("error",v),this.previous&&this.previous.error(v),this.cleanUp()),!0)},on:function(v,y){return this._listeners[v].push(y),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(v,y){if(this._listeners[v])for(var T=0;T<this._listeners[v].length;T++)this._listeners[v][T].call(this,y)},pipe:function(v){return v.registerPrevious(this)},registerPrevious:function(v){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=v.streamInfo,this.mergeStreamInfo(),this.previous=v;var y=this;return v.on("data",(function(T){y.processChunk(T)})),v.on("end",(function(){y.end()})),v.on("error",(function(T){y.error(T)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var v=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),v=!0),this.previous&&this.previous.resume(),!v},flush:function(){},processChunk:function(v){this.push(v)},withStreamInfo:function(v,y){return this.extraStreamInfo[v]=y,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var v in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,v)&&(this.streamInfo[v]=this.extraStreamInfo[v])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var v="Worker "+this.name;return this.previous?this.previous+" -> "+v:v}},x.exports=g},{}],29:[function(d,x,b){var g=d("../utils"),v=d("./ConvertWorker"),y=d("./GenericWorker"),T=d("../base64"),R=d("../support"),P=d("../external"),H=null;if(R.nodestream)try{H=d("../nodejs/NodejsStreamOutputAdapter")}catch{}function L(I,O,F){var q=O;switch(O){case"blob":case"arraybuffer":q="uint8array";break;case"base64":q="string"}try{this._internalType=q,this._outputType=O,this._mimeType=F,g.checkSupport(q),this._worker=I.pipe(new v(q)),I.lock()}catch(z){this._worker=new y("error"),this._worker.error(z)}}L.prototype={accumulate:function(I){return(function(O,F){return new P.Promise((function(q,z){var N=[],U=O._internalType,C=O._outputType,S=O._mimeType;O.on("data",(function(k,E){N.push(k),F&&F(E)})).on("error",(function(k){N=[],z(k)})).on("end",(function(){try{var k=(function(E,A,j){switch(E){case"blob":return g.newBlob(g.transformTo("arraybuffer",A),j);case"base64":return T.encode(A);default:return g.transformTo(E,A)}})(C,(function(E,A){var j,B=0,D=null,Q=0;for(j=0;j<A.length;j++)Q+=A[j].length;switch(E){case"string":return A.join("");case"array":return Array.prototype.concat.apply([],A);case"uint8array":for(D=new Uint8Array(Q),j=0;j<A.length;j++)D.set(A[j],B),B+=A[j].length;return D;case"nodebuffer":return l.concat(A);default:throw new Error("concat : unsupported type '"+E+"'")}})(U,N),S);q(k)}catch(E){z(E)}N=[]})).resume()}))})(this,I)},on:function(I,O){var F=this;return I==="data"?this._worker.on(I,(function(q){O.call(F,q.data,q.meta)})):this._worker.on(I,(function(){g.delay(O,arguments,F)})),this},resume:function(){return g.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(I){if(g.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new H(this,{objectMode:this._outputType!=="nodebuffer"},I)}},x.exports=L},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(d,x,b){if(b.base64=!0,b.array=!0,b.string=!0,b.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",b.nodebuffer=l!==void 0,b.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")b.blob=!1;else{var g=new ArrayBuffer(0);try{b.blob=new Blob([g],{type:"application/zip"}).size===0}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);v.append(g),b.blob=v.getBlob("application/zip").size===0}catch{b.blob=!1}}}try{b.nodestream=!!d("readable-stream").Readable}catch{b.nodestream=!1}},{"readable-stream":16}],31:[function(d,x,b){for(var g=d("./utils"),v=d("./support"),y=d("./nodejsUtils"),T=d("./stream/GenericWorker"),R=new Array(256),P=0;P<256;P++)R[P]=252<=P?6:248<=P?5:240<=P?4:224<=P?3:192<=P?2:1;function H(){T.call(this,"utf-8 decode"),this.leftOver=null}function L(){T.call(this,"utf-8 encode")}R[254]=R[254]=1,b.utf8encode=function(I){return v.nodebuffer?y.newBufferFrom(I,"utf-8"):(function(O){var F,q,z,N,U,C=O.length,S=0;for(N=0;N<C;N++)(64512&(q=O.charCodeAt(N)))==55296&&N+1<C&&(64512&(z=O.charCodeAt(N+1)))==56320&&(q=65536+(q-55296<<10)+(z-56320),N++),S+=q<128?1:q<2048?2:q<65536?3:4;for(F=v.uint8array?new Uint8Array(S):new Array(S),N=U=0;U<S;N++)(64512&(q=O.charCodeAt(N)))==55296&&N+1<C&&(64512&(z=O.charCodeAt(N+1)))==56320&&(q=65536+(q-55296<<10)+(z-56320),N++),q<128?F[U++]=q:(q<2048?F[U++]=192|q>>>6:(q<65536?F[U++]=224|q>>>12:(F[U++]=240|q>>>18,F[U++]=128|q>>>12&63),F[U++]=128|q>>>6&63),F[U++]=128|63&q);return F})(I)},b.utf8decode=function(I){return v.nodebuffer?g.transformTo("nodebuffer",I).toString("utf-8"):(function(O){var F,q,z,N,U=O.length,C=new Array(2*U);for(F=q=0;F<U;)if((z=O[F++])<128)C[q++]=z;else if(4<(N=R[z]))C[q++]=65533,F+=N-1;else{for(z&=N===2?31:N===3?15:7;1<N&&F<U;)z=z<<6|63&O[F++],N--;1<N?C[q++]=65533:z<65536?C[q++]=z:(z-=65536,C[q++]=55296|z>>10&1023,C[q++]=56320|1023&z)}return C.length!==q&&(C.subarray?C=C.subarray(0,q):C.length=q),g.applyFromCharCode(C)})(I=g.transformTo(v.uint8array?"uint8array":"array",I))},g.inherits(H,T),H.prototype.processChunk=function(I){var O=g.transformTo(v.uint8array?"uint8array":"array",I.data);if(this.leftOver&&this.leftOver.length){if(v.uint8array){var F=O;(O=new Uint8Array(F.length+this.leftOver.length)).set(this.leftOver,0),O.set(F,this.leftOver.length)}else O=this.leftOver.concat(O);this.leftOver=null}var q=(function(N,U){var C;for((U=U||N.length)>N.length&&(U=N.length),C=U-1;0<=C&&(192&N[C])==128;)C--;return C<0||C===0?U:C+R[N[C]]>U?C:U})(O),z=O;q!==O.length&&(v.uint8array?(z=O.subarray(0,q),this.leftOver=O.subarray(q,O.length)):(z=O.slice(0,q),this.leftOver=O.slice(q,O.length))),this.push({data:b.utf8decode(z),meta:I.meta})},H.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:b.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},b.Utf8DecodeWorker=H,g.inherits(L,T),L.prototype.processChunk=function(I){this.push({data:b.utf8encode(I.data),meta:I.meta})},b.Utf8EncodeWorker=L},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(d,x,b){var g=d("./support"),v=d("./base64"),y=d("./nodejsUtils"),T=d("./external");function R(F){return F}function P(F,q){for(var z=0;z<F.length;++z)q[z]=255&F.charCodeAt(z);return q}d("setimmediate"),b.newBlob=function(F,q){b.checkSupport("blob");try{return new Blob([F],{type:q})}catch{try{var z=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return z.append(F),z.getBlob(q)}catch{throw new Error("Bug : can't construct the Blob.")}}};var H={stringifyByChunk:function(F,q,z){var N=[],U=0,C=F.length;if(C<=z)return String.fromCharCode.apply(null,F);for(;U<C;)q==="array"||q==="nodebuffer"?N.push(String.fromCharCode.apply(null,F.slice(U,Math.min(U+z,C)))):N.push(String.fromCharCode.apply(null,F.subarray(U,Math.min(U+z,C)))),U+=z;return N.join("")},stringifyByChar:function(F){for(var q="",z=0;z<F.length;z++)q+=String.fromCharCode(F[z]);return q},applyCanBeUsed:{uint8array:(function(){try{return g.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return g.nodebuffer&&String.fromCharCode.apply(null,y.allocBuffer(1)).length===1}catch{return!1}})()}};function L(F){var q=65536,z=b.getTypeOf(F),N=!0;if(z==="uint8array"?N=H.applyCanBeUsed.uint8array:z==="nodebuffer"&&(N=H.applyCanBeUsed.nodebuffer),N)for(;1<q;)try{return H.stringifyByChunk(F,z,q)}catch{q=Math.floor(q/2)}return H.stringifyByChar(F)}function I(F,q){for(var z=0;z<F.length;z++)q[z]=F[z];return q}b.applyFromCharCode=L;var O={};O.string={string:R,array:function(F){return P(F,new Array(F.length))},arraybuffer:function(F){return O.string.uint8array(F).buffer},uint8array:function(F){return P(F,new Uint8Array(F.length))},nodebuffer:function(F){return P(F,y.allocBuffer(F.length))}},O.array={string:L,array:R,arraybuffer:function(F){return new Uint8Array(F).buffer},uint8array:function(F){return new Uint8Array(F)},nodebuffer:function(F){return y.newBufferFrom(F)}},O.arraybuffer={string:function(F){return L(new Uint8Array(F))},array:function(F){return I(new Uint8Array(F),new Array(F.byteLength))},arraybuffer:R,uint8array:function(F){return new Uint8Array(F)},nodebuffer:function(F){return y.newBufferFrom(new Uint8Array(F))}},O.uint8array={string:L,array:function(F){return I(F,new Array(F.length))},arraybuffer:function(F){return F.buffer},uint8array:R,nodebuffer:function(F){return y.newBufferFrom(F)}},O.nodebuffer={string:L,array:function(F){return I(F,new Array(F.length))},arraybuffer:function(F){return O.nodebuffer.uint8array(F).buffer},uint8array:function(F){return I(F,new Uint8Array(F.length))},nodebuffer:R},b.transformTo=function(F,q){if(q=q||"",!F)return q;b.checkSupport(F);var z=b.getTypeOf(q);return O[z][F](q)},b.resolve=function(F){for(var q=F.split("/"),z=[],N=0;N<q.length;N++){var U=q[N];U==="."||U===""&&N!==0&&N!==q.length-1||(U===".."?z.pop():z.push(U))}return z.join("/")},b.getTypeOf=function(F){return typeof F=="string"?"string":Object.prototype.toString.call(F)==="[object Array]"?"array":g.nodebuffer&&y.isBuffer(F)?"nodebuffer":g.uint8array&&F instanceof Uint8Array?"uint8array":g.arraybuffer&&F instanceof ArrayBuffer?"arraybuffer":void 0},b.checkSupport=function(F){if(!g[F.toLowerCase()])throw new Error(F+" is not supported by this platform")},b.MAX_VALUE_16BITS=65535,b.MAX_VALUE_32BITS=-1,b.pretty=function(F){var q,z,N="";for(z=0;z<(F||"").length;z++)N+="\\x"+((q=F.charCodeAt(z))<16?"0":"")+q.toString(16).toUpperCase();return N},b.delay=function(F,q,z){h((function(){F.apply(z||null,q||[])}))},b.inherits=function(F,q){function z(){}z.prototype=q.prototype,F.prototype=new z},b.extend=function(){var F,q,z={};for(F=0;F<arguments.length;F++)for(q in arguments[F])Object.prototype.hasOwnProperty.call(arguments[F],q)&&z[q]===void 0&&(z[q]=arguments[F][q]);return z},b.prepareContent=function(F,q,z,N,U){return T.Promise.resolve(q).then((function(C){return g.blob&&(C instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(C))!==-1)&&typeof FileReader<"u"?new T.Promise((function(S,k){var E=new FileReader;E.onload=function(A){S(A.target.result)},E.onerror=function(A){k(A.target.error)},E.readAsArrayBuffer(C)})):C})).then((function(C){var S=b.getTypeOf(C);return S?(S==="arraybuffer"?C=b.transformTo("uint8array",C):S==="string"&&(U?C=v.decode(C):z&&N!==!0&&(C=(function(k){return P(k,g.uint8array?new Uint8Array(k.length):new Array(k.length))})(C))),C):T.Promise.reject(new Error("Can't read the data of '"+F+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(d,x,b){var g=d("./reader/readerFor"),v=d("./utils"),y=d("./signature"),T=d("./zipEntry"),R=d("./support");function P(H){this.files=[],this.loadOptions=H}P.prototype={checkSignature:function(H){if(!this.reader.readAndCheckSignature(H)){this.reader.index-=4;var L=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+v.pretty(L)+", expected "+v.pretty(H)+")")}},isSignature:function(H,L){var I=this.reader.index;this.reader.setIndex(H);var O=this.reader.readString(4)===L;return this.reader.setIndex(I),O},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var H=this.reader.readData(this.zipCommentLength),L=R.uint8array?"uint8array":"array",I=v.transformTo(L,H);this.zipComment=this.loadOptions.decodeFileName(I)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var H,L,I,O=this.zip64EndOfCentralSize-44;0<O;)H=this.reader.readInt(2),L=this.reader.readInt(4),I=this.reader.readData(L),this.zip64ExtensibleData[H]={id:H,length:L,value:I}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var H,L;for(H=0;H<this.files.length;H++)L=this.files[H],this.reader.setIndex(L.localHeaderOffset),this.checkSignature(y.LOCAL_FILE_HEADER),L.readLocalPart(this.reader),L.handleUTF8(),L.processAttributes()},readCentralDir:function(){var H;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(y.CENTRAL_FILE_HEADER);)(H=new T({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(H);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var H=this.reader.lastIndexOfSignature(y.CENTRAL_DIRECTORY_END);if(H<0)throw this.isSignature(0,y.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(H);var L=H;if(this.checkSignature(y.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===v.MAX_VALUE_16BITS||this.diskWithCentralDirStart===v.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===v.MAX_VALUE_16BITS||this.centralDirRecords===v.MAX_VALUE_16BITS||this.centralDirSize===v.MAX_VALUE_32BITS||this.centralDirOffset===v.MAX_VALUE_32BITS){if(this.zip64=!0,(H=this.reader.lastIndexOfSignature(y.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(H),this.checkSignature(y.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,y.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(y.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(y.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var I=this.centralDirOffset+this.centralDirSize;this.zip64&&(I+=20,I+=12+this.zip64EndOfCentralSize);var O=L-I;if(0<O)this.isSignature(L,y.CENTRAL_FILE_HEADER)||(this.reader.zero=O);else if(O<0)throw new Error("Corrupted zip: missing "+Math.abs(O)+" bytes.")},prepareReader:function(H){this.reader=g(H)},load:function(H){this.prepareReader(H),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},x.exports=P},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(d,x,b){var g=d("./reader/readerFor"),v=d("./utils"),y=d("./compressedObject"),T=d("./crc32"),R=d("./utf8"),P=d("./compressions"),H=d("./support");function L(I,O){this.options=I,this.loadOptions=O}L.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(I){var O,F;if(I.skip(22),this.fileNameLength=I.readInt(2),F=I.readInt(2),this.fileName=I.readData(this.fileNameLength),I.skip(F),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((O=(function(q){for(var z in P)if(Object.prototype.hasOwnProperty.call(P,z)&&P[z].magic===q)return P[z];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+v.pretty(this.compressionMethod)+" unknown (inner file : "+v.transformTo("string",this.fileName)+")");this.decompressed=new y(this.compressedSize,this.uncompressedSize,this.crc32,O,I.readData(this.compressedSize))},readCentralPart:function(I){this.versionMadeBy=I.readInt(2),I.skip(2),this.bitFlag=I.readInt(2),this.compressionMethod=I.readString(2),this.date=I.readDate(),this.crc32=I.readInt(4),this.compressedSize=I.readInt(4),this.uncompressedSize=I.readInt(4);var O=I.readInt(2);if(this.extraFieldsLength=I.readInt(2),this.fileCommentLength=I.readInt(2),this.diskNumberStart=I.readInt(2),this.internalFileAttributes=I.readInt(2),this.externalFileAttributes=I.readInt(4),this.localHeaderOffset=I.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");I.skip(O),this.readExtraFields(I),this.parseZIP64ExtraField(I),this.fileComment=I.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var I=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),I==0&&(this.dosPermissions=63&this.externalFileAttributes),I==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var I=g(this.extraFields[1].value);this.uncompressedSize===v.MAX_VALUE_32BITS&&(this.uncompressedSize=I.readInt(8)),this.compressedSize===v.MAX_VALUE_32BITS&&(this.compressedSize=I.readInt(8)),this.localHeaderOffset===v.MAX_VALUE_32BITS&&(this.localHeaderOffset=I.readInt(8)),this.diskNumberStart===v.MAX_VALUE_32BITS&&(this.diskNumberStart=I.readInt(4))}},readExtraFields:function(I){var O,F,q,z=I.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});I.index+4<z;)O=I.readInt(2),F=I.readInt(2),q=I.readData(F),this.extraFields[O]={id:O,length:F,value:q};I.setIndex(z)},handleUTF8:function(){var I=H.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=R.utf8decode(this.fileName),this.fileCommentStr=R.utf8decode(this.fileComment);else{var O=this.findExtraFieldUnicodePath();if(O!==null)this.fileNameStr=O;else{var F=v.transformTo(I,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(F)}var q=this.findExtraFieldUnicodeComment();if(q!==null)this.fileCommentStr=q;else{var z=v.transformTo(I,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(z)}}},findExtraFieldUnicodePath:function(){var I=this.extraFields[28789];if(I){var O=g(I.value);return O.readInt(1)!==1||T(this.fileName)!==O.readInt(4)?null:R.utf8decode(O.readData(I.length-5))}return null},findExtraFieldUnicodeComment:function(){var I=this.extraFields[25461];if(I){var O=g(I.value);return O.readInt(1)!==1||T(this.fileComment)!==O.readInt(4)?null:R.utf8decode(O.readData(I.length-5))}return null}},x.exports=L},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(d,x,b){function g(O,F,q){this.name=O,this.dir=q.dir,this.date=q.date,this.comment=q.comment,this.unixPermissions=q.unixPermissions,this.dosPermissions=q.dosPermissions,this._data=F,this._dataBinary=q.binary,this.options={compression:q.compression,compressionOptions:q.compressionOptions}}var v=d("./stream/StreamHelper"),y=d("./stream/DataWorker"),T=d("./utf8"),R=d("./compressedObject"),P=d("./stream/GenericWorker");g.prototype={internalStream:function(O){var F=null,q="string";try{if(!O)throw new Error("No output type specified.");var z=(q=O.toLowerCase())==="string"||q==="text";q!=="binarystring"&&q!=="text"||(q="string"),F=this._decompressWorker();var N=!this._dataBinary;N&&!z&&(F=F.pipe(new T.Utf8EncodeWorker)),!N&&z&&(F=F.pipe(new T.Utf8DecodeWorker))}catch(U){(F=new P("error")).error(U)}return new v(F,q,"")},async:function(O,F){return this.internalStream(O).accumulate(F)},nodeStream:function(O,F){return this.internalStream(O||"nodebuffer").toNodejsStream(F)},_compressWorker:function(O,F){if(this._data instanceof R&&this._data.compression.magic===O.magic)return this._data.getCompressedWorker();var q=this._decompressWorker();return this._dataBinary||(q=q.pipe(new T.Utf8EncodeWorker)),R.createWorkerFrom(q,O,F)},_decompressWorker:function(){return this._data instanceof R?this._data.getContentWorker():this._data instanceof P?this._data:new y(this._data)}};for(var H=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],L=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},I=0;I<H.length;I++)g.prototype[H[I]]=L;x.exports=g},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(d,x,b){(function(g){var v,y,T=g.MutationObserver||g.WebKitMutationObserver;if(T){var R=0,P=new T(O),H=g.document.createTextNode("");P.observe(H,{characterData:!0}),v=function(){H.data=R=++R%2}}else if(g.setImmediate||g.MessageChannel===void 0)v="document"in g&&"onreadystatechange"in g.document.createElement("script")?function(){var F=g.document.createElement("script");F.onreadystatechange=function(){O(),F.onreadystatechange=null,F.parentNode.removeChild(F),F=null},g.document.documentElement.appendChild(F)}:function(){setTimeout(O,0)};else{var L=new g.MessageChannel;L.port1.onmessage=O,v=function(){L.port2.postMessage(0)}}var I=[];function O(){var F,q;y=!0;for(var z=I.length;z;){for(q=I,I=[],F=-1;++F<z;)q[F]();z=I.length}y=!1}x.exports=function(F){I.push(F)!==1||y||v()}}).call(this,a!==void 0?a:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(d,x,b){var g=d("immediate");function v(){}var y={},T=["REJECTED"],R=["FULFILLED"],P=["PENDING"];function H(z){if(typeof z!="function")throw new TypeError("resolver must be a function");this.state=P,this.queue=[],this.outcome=void 0,z!==v&&F(this,z)}function L(z,N,U){this.promise=z,typeof N=="function"&&(this.onFulfilled=N,this.callFulfilled=this.otherCallFulfilled),typeof U=="function"&&(this.onRejected=U,this.callRejected=this.otherCallRejected)}function I(z,N,U){g((function(){var C;try{C=N(U)}catch(S){return y.reject(z,S)}C===z?y.reject(z,new TypeError("Cannot resolve promise with itself")):y.resolve(z,C)}))}function O(z){var N=z&&z.then;if(z&&(typeof z=="object"||typeof z=="function")&&typeof N=="function")return function(){N.apply(z,arguments)}}function F(z,N){var U=!1;function C(E){U||(U=!0,y.reject(z,E))}function S(E){U||(U=!0,y.resolve(z,E))}var k=q((function(){N(S,C)}));k.status==="error"&&C(k.value)}function q(z,N){var U={};try{U.value=z(N),U.status="success"}catch(C){U.status="error",U.value=C}return U}(x.exports=H).prototype.finally=function(z){if(typeof z!="function")return this;var N=this.constructor;return this.then((function(U){return N.resolve(z()).then((function(){return U}))}),(function(U){return N.resolve(z()).then((function(){throw U}))}))},H.prototype.catch=function(z){return this.then(null,z)},H.prototype.then=function(z,N){if(typeof z!="function"&&this.state===R||typeof N!="function"&&this.state===T)return this;var U=new this.constructor(v);return this.state!==P?I(U,this.state===R?z:N,this.outcome):this.queue.push(new L(U,z,N)),U},L.prototype.callFulfilled=function(z){y.resolve(this.promise,z)},L.prototype.otherCallFulfilled=function(z){I(this.promise,this.onFulfilled,z)},L.prototype.callRejected=function(z){y.reject(this.promise,z)},L.prototype.otherCallRejected=function(z){I(this.promise,this.onRejected,z)},y.resolve=function(z,N){var U=q(O,N);if(U.status==="error")return y.reject(z,U.value);var C=U.value;if(C)F(z,C);else{z.state=R,z.outcome=N;for(var S=-1,k=z.queue.length;++S<k;)z.queue[S].callFulfilled(N)}return z},y.reject=function(z,N){z.state=T,z.outcome=N;for(var U=-1,C=z.queue.length;++U<C;)z.queue[U].callRejected(N);return z},H.resolve=function(z){return z instanceof this?z:y.resolve(new this(v),z)},H.reject=function(z){var N=new this(v);return y.reject(N,z)},H.all=function(z){var N=this;if(Object.prototype.toString.call(z)!=="[object Array]")return this.reject(new TypeError("must be an array"));var U=z.length,C=!1;if(!U)return this.resolve([]);for(var S=new Array(U),k=0,E=-1,A=new this(v);++E<U;)j(z[E],E);return A;function j(B,D){N.resolve(B).then((function(Q){S[D]=Q,++k!==U||C||(C=!0,y.resolve(A,S))}),(function(Q){C||(C=!0,y.reject(A,Q))}))}},H.race=function(z){if(Object.prototype.toString.call(z)!=="[object Array]")return this.reject(new TypeError("must be an array"));var N=z.length,U=!1;if(!N)return this.resolve([]);for(var C,S=-1,k=new this(v);++S<N;)C=z[S],this.resolve(C).then((function(E){U||(U=!0,y.resolve(k,E))}),(function(E){U||(U=!0,y.reject(k,E))}));return k}},{immediate:36}],38:[function(d,x,b){var g={};(0,d("./lib/utils/common").assign)(g,d("./lib/deflate"),d("./lib/inflate"),d("./lib/zlib/constants")),x.exports=g},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(d,x,b){var g=d("./zlib/deflate"),v=d("./utils/common"),y=d("./utils/strings"),T=d("./zlib/messages"),R=d("./zlib/zstream"),P=Object.prototype.toString;function H(I){if(!(this instanceof H))return new H(I);this.options=v.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},I||{});var O=this.options;O.raw&&0<O.windowBits?O.windowBits=-O.windowBits:O.gzip&&0<O.windowBits&&O.windowBits<16&&(O.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new R,this.strm.avail_out=0;var F=g.deflateInit2(this.strm,O.level,O.method,O.windowBits,O.memLevel,O.strategy);if(F!==0)throw new Error(T[F]);if(O.header&&g.deflateSetHeader(this.strm,O.header),O.dictionary){var q;if(q=typeof O.dictionary=="string"?y.string2buf(O.dictionary):P.call(O.dictionary)==="[object ArrayBuffer]"?new Uint8Array(O.dictionary):O.dictionary,(F=g.deflateSetDictionary(this.strm,q))!==0)throw new Error(T[F]);this._dict_set=!0}}function L(I,O){var F=new H(O);if(F.push(I,!0),F.err)throw F.msg||T[F.err];return F.result}H.prototype.push=function(I,O){var F,q,z=this.strm,N=this.options.chunkSize;if(this.ended)return!1;q=O===~~O?O:O===!0?4:0,typeof I=="string"?z.input=y.string2buf(I):P.call(I)==="[object ArrayBuffer]"?z.input=new Uint8Array(I):z.input=I,z.next_in=0,z.avail_in=z.input.length;do{if(z.avail_out===0&&(z.output=new v.Buf8(N),z.next_out=0,z.avail_out=N),(F=g.deflate(z,q))!==1&&F!==0)return this.onEnd(F),!(this.ended=!0);z.avail_out!==0&&(z.avail_in!==0||q!==4&&q!==2)||(this.options.to==="string"?this.onData(y.buf2binstring(v.shrinkBuf(z.output,z.next_out))):this.onData(v.shrinkBuf(z.output,z.next_out)))}while((0<z.avail_in||z.avail_out===0)&&F!==1);return q===4?(F=g.deflateEnd(this.strm),this.onEnd(F),this.ended=!0,F===0):q!==2||(this.onEnd(0),!(z.avail_out=0))},H.prototype.onData=function(I){this.chunks.push(I)},H.prototype.onEnd=function(I){I===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=v.flattenChunks(this.chunks)),this.chunks=[],this.err=I,this.msg=this.strm.msg},b.Deflate=H,b.deflate=L,b.deflateRaw=function(I,O){return(O=O||{}).raw=!0,L(I,O)},b.gzip=function(I,O){return(O=O||{}).gzip=!0,L(I,O)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(d,x,b){var g=d("./zlib/inflate"),v=d("./utils/common"),y=d("./utils/strings"),T=d("./zlib/constants"),R=d("./zlib/messages"),P=d("./zlib/zstream"),H=d("./zlib/gzheader"),L=Object.prototype.toString;function I(F){if(!(this instanceof I))return new I(F);this.options=v.assign({chunkSize:16384,windowBits:0,to:""},F||{});var q=this.options;q.raw&&0<=q.windowBits&&q.windowBits<16&&(q.windowBits=-q.windowBits,q.windowBits===0&&(q.windowBits=-15)),!(0<=q.windowBits&&q.windowBits<16)||F&&F.windowBits||(q.windowBits+=32),15<q.windowBits&&q.windowBits<48&&(15&q.windowBits)==0&&(q.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new P,this.strm.avail_out=0;var z=g.inflateInit2(this.strm,q.windowBits);if(z!==T.Z_OK)throw new Error(R[z]);this.header=new H,g.inflateGetHeader(this.strm,this.header)}function O(F,q){var z=new I(q);if(z.push(F,!0),z.err)throw z.msg||R[z.err];return z.result}I.prototype.push=function(F,q){var z,N,U,C,S,k,E=this.strm,A=this.options.chunkSize,j=this.options.dictionary,B=!1;if(this.ended)return!1;N=q===~~q?q:q===!0?T.Z_FINISH:T.Z_NO_FLUSH,typeof F=="string"?E.input=y.binstring2buf(F):L.call(F)==="[object ArrayBuffer]"?E.input=new Uint8Array(F):E.input=F,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new v.Buf8(A),E.next_out=0,E.avail_out=A),(z=g.inflate(E,T.Z_NO_FLUSH))===T.Z_NEED_DICT&&j&&(k=typeof j=="string"?y.string2buf(j):L.call(j)==="[object ArrayBuffer]"?new Uint8Array(j):j,z=g.inflateSetDictionary(this.strm,k)),z===T.Z_BUF_ERROR&&B===!0&&(z=T.Z_OK,B=!1),z!==T.Z_STREAM_END&&z!==T.Z_OK)return this.onEnd(z),!(this.ended=!0);E.next_out&&(E.avail_out!==0&&z!==T.Z_STREAM_END&&(E.avail_in!==0||N!==T.Z_FINISH&&N!==T.Z_SYNC_FLUSH)||(this.options.to==="string"?(U=y.utf8border(E.output,E.next_out),C=E.next_out-U,S=y.buf2string(E.output,U),E.next_out=C,E.avail_out=A-C,C&&v.arraySet(E.output,E.output,U,C,0),this.onData(S)):this.onData(v.shrinkBuf(E.output,E.next_out)))),E.avail_in===0&&E.avail_out===0&&(B=!0)}while((0<E.avail_in||E.avail_out===0)&&z!==T.Z_STREAM_END);return z===T.Z_STREAM_END&&(N=T.Z_FINISH),N===T.Z_FINISH?(z=g.inflateEnd(this.strm),this.onEnd(z),this.ended=!0,z===T.Z_OK):N!==T.Z_SYNC_FLUSH||(this.onEnd(T.Z_OK),!(E.avail_out=0))},I.prototype.onData=function(F){this.chunks.push(F)},I.prototype.onEnd=function(F){F===T.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=v.flattenChunks(this.chunks)),this.chunks=[],this.err=F,this.msg=this.strm.msg},b.Inflate=I,b.inflate=O,b.inflateRaw=function(F,q){return(q=q||{}).raw=!0,O(F,q)},b.ungzip=O},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(d,x,b){var g=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";b.assign=function(T){for(var R=Array.prototype.slice.call(arguments,1);R.length;){var P=R.shift();if(P){if(typeof P!="object")throw new TypeError(P+"must be non-object");for(var H in P)P.hasOwnProperty(H)&&(T[H]=P[H])}}return T},b.shrinkBuf=function(T,R){return T.length===R?T:T.subarray?T.subarray(0,R):(T.length=R,T)};var v={arraySet:function(T,R,P,H,L){if(R.subarray&&T.subarray)T.set(R.subarray(P,P+H),L);else for(var I=0;I<H;I++)T[L+I]=R[P+I]},flattenChunks:function(T){var R,P,H,L,I,O;for(R=H=0,P=T.length;R<P;R++)H+=T[R].length;for(O=new Uint8Array(H),R=L=0,P=T.length;R<P;R++)I=T[R],O.set(I,L),L+=I.length;return O}},y={arraySet:function(T,R,P,H,L){for(var I=0;I<H;I++)T[L+I]=R[P+I]},flattenChunks:function(T){return[].concat.apply([],T)}};b.setTyped=function(T){T?(b.Buf8=Uint8Array,b.Buf16=Uint16Array,b.Buf32=Int32Array,b.assign(b,v)):(b.Buf8=Array,b.Buf16=Array,b.Buf32=Array,b.assign(b,y))},b.setTyped(g)},{}],42:[function(d,x,b){var g=d("./common"),v=!0,y=!0;try{String.fromCharCode.apply(null,[0])}catch{v=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{y=!1}for(var T=new g.Buf8(256),R=0;R<256;R++)T[R]=252<=R?6:248<=R?5:240<=R?4:224<=R?3:192<=R?2:1;function P(H,L){if(L<65537&&(H.subarray&&y||!H.subarray&&v))return String.fromCharCode.apply(null,g.shrinkBuf(H,L));for(var I="",O=0;O<L;O++)I+=String.fromCharCode(H[O]);return I}T[254]=T[254]=1,b.string2buf=function(H){var L,I,O,F,q,z=H.length,N=0;for(F=0;F<z;F++)(64512&(I=H.charCodeAt(F)))==55296&&F+1<z&&(64512&(O=H.charCodeAt(F+1)))==56320&&(I=65536+(I-55296<<10)+(O-56320),F++),N+=I<128?1:I<2048?2:I<65536?3:4;for(L=new g.Buf8(N),F=q=0;q<N;F++)(64512&(I=H.charCodeAt(F)))==55296&&F+1<z&&(64512&(O=H.charCodeAt(F+1)))==56320&&(I=65536+(I-55296<<10)+(O-56320),F++),I<128?L[q++]=I:(I<2048?L[q++]=192|I>>>6:(I<65536?L[q++]=224|I>>>12:(L[q++]=240|I>>>18,L[q++]=128|I>>>12&63),L[q++]=128|I>>>6&63),L[q++]=128|63&I);return L},b.buf2binstring=function(H){return P(H,H.length)},b.binstring2buf=function(H){for(var L=new g.Buf8(H.length),I=0,O=L.length;I<O;I++)L[I]=H.charCodeAt(I);return L},b.buf2string=function(H,L){var I,O,F,q,z=L||H.length,N=new Array(2*z);for(I=O=0;I<z;)if((F=H[I++])<128)N[O++]=F;else if(4<(q=T[F]))N[O++]=65533,I+=q-1;else{for(F&=q===2?31:q===3?15:7;1<q&&I<z;)F=F<<6|63&H[I++],q--;1<q?N[O++]=65533:F<65536?N[O++]=F:(F-=65536,N[O++]=55296|F>>10&1023,N[O++]=56320|1023&F)}return P(N,O)},b.utf8border=function(H,L){var I;for((L=L||H.length)>H.length&&(L=H.length),I=L-1;0<=I&&(192&H[I])==128;)I--;return I<0||I===0?L:I+T[H[I]]>L?I:L}},{"./common":41}],43:[function(d,x,b){x.exports=function(g,v,y,T){for(var R=65535&g|0,P=g>>>16&65535|0,H=0;y!==0;){for(y-=H=2e3<y?2e3:y;P=P+(R=R+v[T++]|0)|0,--H;);R%=65521,P%=65521}return R|P<<16|0}},{}],44:[function(d,x,b){x.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(d,x,b){var g=(function(){for(var v,y=[],T=0;T<256;T++){v=T;for(var R=0;R<8;R++)v=1&v?3988292384^v>>>1:v>>>1;y[T]=v}return y})();x.exports=function(v,y,T,R){var P=g,H=R+T;v^=-1;for(var L=R;L<H;L++)v=v>>>8^P[255&(v^y[L])];return-1^v}},{}],46:[function(d,x,b){var g,v=d("../utils/common"),y=d("./trees"),T=d("./adler32"),R=d("./crc32"),P=d("./messages"),H=-2,L=258,I=262,O=113;function F(W,te){return W.msg=P[te],te}function q(W){return(W<<1)-(4<W?9:0)}function z(W){for(var te=W.length;0<=--te;)W[te]=0}function N(W){var te=W.state,G=te.pending;G>W.avail_out&&(G=W.avail_out),G!==0&&(v.arraySet(W.output,te.pending_buf,te.pending_out,G,W.next_out),W.next_out+=G,te.pending_out+=G,W.total_out+=G,W.avail_out-=G,te.pending-=G,te.pending===0&&(te.pending_out=0))}function U(W,te){y._tr_flush_block(W,0<=W.block_start?W.block_start:-1,W.strstart-W.block_start,te),W.block_start=W.strstart,N(W.strm)}function C(W,te){W.pending_buf[W.pending++]=te}function S(W,te){W.pending_buf[W.pending++]=te>>>8&255,W.pending_buf[W.pending++]=255&te}function k(W,te){var G,V,Z=W.max_chain_length,ae=W.strstart,re=W.prev_length,oe=W.nice_match,he=W.strstart>W.w_size-I?W.strstart-(W.w_size-I):0,Se=W.window,ge=W.w_mask,ne=W.prev,fe=W.strstart+L,pe=Se[ae+re-1],ke=Se[ae+re];W.prev_length>=W.good_match&&(Z>>=2),oe>W.lookahead&&(oe=W.lookahead);do if(Se[(G=te)+re]===ke&&Se[G+re-1]===pe&&Se[G]===Se[ae]&&Se[++G]===Se[ae+1]){ae+=2,G++;do;while(Se[++ae]===Se[++G]&&Se[++ae]===Se[++G]&&Se[++ae]===Se[++G]&&Se[++ae]===Se[++G]&&Se[++ae]===Se[++G]&&Se[++ae]===Se[++G]&&Se[++ae]===Se[++G]&&Se[++ae]===Se[++G]&&ae<fe);if(V=L-(fe-ae),ae=fe-L,re<V){if(W.match_start=te,oe<=(re=V))break;pe=Se[ae+re-1],ke=Se[ae+re]}}while((te=ne[te&ge])>he&&--Z!=0);return re<=W.lookahead?re:W.lookahead}function E(W){var te,G,V,Z,ae,re,oe,he,Se,ge,ne=W.w_size;do{if(Z=W.window_size-W.lookahead-W.strstart,W.strstart>=ne+(ne-I)){for(v.arraySet(W.window,W.window,ne,ne,0),W.match_start-=ne,W.strstart-=ne,W.block_start-=ne,te=G=W.hash_size;V=W.head[--te],W.head[te]=ne<=V?V-ne:0,--G;);for(te=G=ne;V=W.prev[--te],W.prev[te]=ne<=V?V-ne:0,--G;);Z+=ne}if(W.strm.avail_in===0)break;if(re=W.strm,oe=W.window,he=W.strstart+W.lookahead,ge=void 0,(Se=Z)<(ge=re.avail_in)&&(ge=Se),G=ge===0?0:(re.avail_in-=ge,v.arraySet(oe,re.input,re.next_in,ge,he),re.state.wrap===1?re.adler=T(re.adler,oe,ge,he):re.state.wrap===2&&(re.adler=R(re.adler,oe,ge,he)),re.next_in+=ge,re.total_in+=ge,ge),W.lookahead+=G,W.lookahead+W.insert>=3)for(ae=W.strstart-W.insert,W.ins_h=W.window[ae],W.ins_h=(W.ins_h<<W.hash_shift^W.window[ae+1])&W.hash_mask;W.insert&&(W.ins_h=(W.ins_h<<W.hash_shift^W.window[ae+3-1])&W.hash_mask,W.prev[ae&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=ae,ae++,W.insert--,!(W.lookahead+W.insert<3)););}while(W.lookahead<I&&W.strm.avail_in!==0)}function A(W,te){for(var G,V;;){if(W.lookahead<I){if(E(W),W.lookahead<I&&te===0)return 1;if(W.lookahead===0)break}if(G=0,W.lookahead>=3&&(W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+3-1])&W.hash_mask,G=W.prev[W.strstart&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=W.strstart),G!==0&&W.strstart-G<=W.w_size-I&&(W.match_length=k(W,G)),W.match_length>=3)if(V=y._tr_tally(W,W.strstart-W.match_start,W.match_length-3),W.lookahead-=W.match_length,W.match_length<=W.max_lazy_match&&W.lookahead>=3){for(W.match_length--;W.strstart++,W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+3-1])&W.hash_mask,G=W.prev[W.strstart&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=W.strstart,--W.match_length!=0;);W.strstart++}else W.strstart+=W.match_length,W.match_length=0,W.ins_h=W.window[W.strstart],W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+1])&W.hash_mask;else V=y._tr_tally(W,0,W.window[W.strstart]),W.lookahead--,W.strstart++;if(V&&(U(W,!1),W.strm.avail_out===0))return 1}return W.insert=W.strstart<2?W.strstart:2,te===4?(U(W,!0),W.strm.avail_out===0?3:4):W.last_lit&&(U(W,!1),W.strm.avail_out===0)?1:2}function j(W,te){for(var G,V,Z;;){if(W.lookahead<I){if(E(W),W.lookahead<I&&te===0)return 1;if(W.lookahead===0)break}if(G=0,W.lookahead>=3&&(W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+3-1])&W.hash_mask,G=W.prev[W.strstart&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=W.strstart),W.prev_length=W.match_length,W.prev_match=W.match_start,W.match_length=2,G!==0&&W.prev_length<W.max_lazy_match&&W.strstart-G<=W.w_size-I&&(W.match_length=k(W,G),W.match_length<=5&&(W.strategy===1||W.match_length===3&&4096<W.strstart-W.match_start)&&(W.match_length=2)),W.prev_length>=3&&W.match_length<=W.prev_length){for(Z=W.strstart+W.lookahead-3,V=y._tr_tally(W,W.strstart-1-W.prev_match,W.prev_length-3),W.lookahead-=W.prev_length-1,W.prev_length-=2;++W.strstart<=Z&&(W.ins_h=(W.ins_h<<W.hash_shift^W.window[W.strstart+3-1])&W.hash_mask,G=W.prev[W.strstart&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=W.strstart),--W.prev_length!=0;);if(W.match_available=0,W.match_length=2,W.strstart++,V&&(U(W,!1),W.strm.avail_out===0))return 1}else if(W.match_available){if((V=y._tr_tally(W,0,W.window[W.strstart-1]))&&U(W,!1),W.strstart++,W.lookahead--,W.strm.avail_out===0)return 1}else W.match_available=1,W.strstart++,W.lookahead--}return W.match_available&&(V=y._tr_tally(W,0,W.window[W.strstart-1]),W.match_available=0),W.insert=W.strstart<2?W.strstart:2,te===4?(U(W,!0),W.strm.avail_out===0?3:4):W.last_lit&&(U(W,!1),W.strm.avail_out===0)?1:2}function B(W,te,G,V,Z){this.good_length=W,this.max_lazy=te,this.nice_length=G,this.max_chain=V,this.func=Z}function D(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new v.Buf16(1146),this.dyn_dtree=new v.Buf16(122),this.bl_tree=new v.Buf16(78),z(this.dyn_ltree),z(this.dyn_dtree),z(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new v.Buf16(16),this.heap=new v.Buf16(573),z(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new v.Buf16(573),z(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Q(W){var te;return W&&W.state?(W.total_in=W.total_out=0,W.data_type=2,(te=W.state).pending=0,te.pending_out=0,te.wrap<0&&(te.wrap=-te.wrap),te.status=te.wrap?42:O,W.adler=te.wrap===2?0:1,te.last_flush=0,y._tr_init(te),0):F(W,H)}function K(W){var te=Q(W);return te===0&&(function(G){G.window_size=2*G.w_size,z(G.head),G.max_lazy_match=g[G.level].max_lazy,G.good_match=g[G.level].good_length,G.nice_match=g[G.level].nice_length,G.max_chain_length=g[G.level].max_chain,G.strstart=0,G.block_start=0,G.lookahead=0,G.insert=0,G.match_length=G.prev_length=2,G.match_available=0,G.ins_h=0})(W.state),te}function ee(W,te,G,V,Z,ae){if(!W)return H;var re=1;if(te===-1&&(te=6),V<0?(re=0,V=-V):15<V&&(re=2,V-=16),Z<1||9<Z||G!==8||V<8||15<V||te<0||9<te||ae<0||4<ae)return F(W,H);V===8&&(V=9);var oe=new D;return(W.state=oe).strm=W,oe.wrap=re,oe.gzhead=null,oe.w_bits=V,oe.w_size=1<<oe.w_bits,oe.w_mask=oe.w_size-1,oe.hash_bits=Z+7,oe.hash_size=1<<oe.hash_bits,oe.hash_mask=oe.hash_size-1,oe.hash_shift=~~((oe.hash_bits+3-1)/3),oe.window=new v.Buf8(2*oe.w_size),oe.head=new v.Buf16(oe.hash_size),oe.prev=new v.Buf16(oe.w_size),oe.lit_bufsize=1<<Z+6,oe.pending_buf_size=4*oe.lit_bufsize,oe.pending_buf=new v.Buf8(oe.pending_buf_size),oe.d_buf=1*oe.lit_bufsize,oe.l_buf=3*oe.lit_bufsize,oe.level=te,oe.strategy=ae,oe.method=G,K(W)}g=[new B(0,0,0,0,(function(W,te){var G=65535;for(G>W.pending_buf_size-5&&(G=W.pending_buf_size-5);;){if(W.lookahead<=1){if(E(W),W.lookahead===0&&te===0)return 1;if(W.lookahead===0)break}W.strstart+=W.lookahead,W.lookahead=0;var V=W.block_start+G;if((W.strstart===0||W.strstart>=V)&&(W.lookahead=W.strstart-V,W.strstart=V,U(W,!1),W.strm.avail_out===0)||W.strstart-W.block_start>=W.w_size-I&&(U(W,!1),W.strm.avail_out===0))return 1}return W.insert=0,te===4?(U(W,!0),W.strm.avail_out===0?3:4):(W.strstart>W.block_start&&(U(W,!1),W.strm.avail_out),1)})),new B(4,4,8,4,A),new B(4,5,16,8,A),new B(4,6,32,32,A),new B(4,4,16,16,j),new B(8,16,32,32,j),new B(8,16,128,128,j),new B(8,32,128,256,j),new B(32,128,258,1024,j),new B(32,258,258,4096,j)],b.deflateInit=function(W,te){return ee(W,te,8,15,8,0)},b.deflateInit2=ee,b.deflateReset=K,b.deflateResetKeep=Q,b.deflateSetHeader=function(W,te){return W&&W.state?W.state.wrap!==2?H:(W.state.gzhead=te,0):H},b.deflate=function(W,te){var G,V,Z,ae;if(!W||!W.state||5<te||te<0)return W?F(W,H):H;if(V=W.state,!W.output||!W.input&&W.avail_in!==0||V.status===666&&te!==4)return F(W,W.avail_out===0?-5:H);if(V.strm=W,G=V.last_flush,V.last_flush=te,V.status===42)if(V.wrap===2)W.adler=0,C(V,31),C(V,139),C(V,8),V.gzhead?(C(V,(V.gzhead.text?1:0)+(V.gzhead.hcrc?2:0)+(V.gzhead.extra?4:0)+(V.gzhead.name?8:0)+(V.gzhead.comment?16:0)),C(V,255&V.gzhead.time),C(V,V.gzhead.time>>8&255),C(V,V.gzhead.time>>16&255),C(V,V.gzhead.time>>24&255),C(V,V.level===9?2:2<=V.strategy||V.level<2?4:0),C(V,255&V.gzhead.os),V.gzhead.extra&&V.gzhead.extra.length&&(C(V,255&V.gzhead.extra.length),C(V,V.gzhead.extra.length>>8&255)),V.gzhead.hcrc&&(W.adler=R(W.adler,V.pending_buf,V.pending,0)),V.gzindex=0,V.status=69):(C(V,0),C(V,0),C(V,0),C(V,0),C(V,0),C(V,V.level===9?2:2<=V.strategy||V.level<2?4:0),C(V,3),V.status=O);else{var re=8+(V.w_bits-8<<4)<<8;re|=(2<=V.strategy||V.level<2?0:V.level<6?1:V.level===6?2:3)<<6,V.strstart!==0&&(re|=32),re+=31-re%31,V.status=O,S(V,re),V.strstart!==0&&(S(V,W.adler>>>16),S(V,65535&W.adler)),W.adler=1}if(V.status===69)if(V.gzhead.extra){for(Z=V.pending;V.gzindex<(65535&V.gzhead.extra.length)&&(V.pending!==V.pending_buf_size||(V.gzhead.hcrc&&V.pending>Z&&(W.adler=R(W.adler,V.pending_buf,V.pending-Z,Z)),N(W),Z=V.pending,V.pending!==V.pending_buf_size));)C(V,255&V.gzhead.extra[V.gzindex]),V.gzindex++;V.gzhead.hcrc&&V.pending>Z&&(W.adler=R(W.adler,V.pending_buf,V.pending-Z,Z)),V.gzindex===V.gzhead.extra.length&&(V.gzindex=0,V.status=73)}else V.status=73;if(V.status===73)if(V.gzhead.name){Z=V.pending;do{if(V.pending===V.pending_buf_size&&(V.gzhead.hcrc&&V.pending>Z&&(W.adler=R(W.adler,V.pending_buf,V.pending-Z,Z)),N(W),Z=V.pending,V.pending===V.pending_buf_size)){ae=1;break}ae=V.gzindex<V.gzhead.name.length?255&V.gzhead.name.charCodeAt(V.gzindex++):0,C(V,ae)}while(ae!==0);V.gzhead.hcrc&&V.pending>Z&&(W.adler=R(W.adler,V.pending_buf,V.pending-Z,Z)),ae===0&&(V.gzindex=0,V.status=91)}else V.status=91;if(V.status===91)if(V.gzhead.comment){Z=V.pending;do{if(V.pending===V.pending_buf_size&&(V.gzhead.hcrc&&V.pending>Z&&(W.adler=R(W.adler,V.pending_buf,V.pending-Z,Z)),N(W),Z=V.pending,V.pending===V.pending_buf_size)){ae=1;break}ae=V.gzindex<V.gzhead.comment.length?255&V.gzhead.comment.charCodeAt(V.gzindex++):0,C(V,ae)}while(ae!==0);V.gzhead.hcrc&&V.pending>Z&&(W.adler=R(W.adler,V.pending_buf,V.pending-Z,Z)),ae===0&&(V.status=103)}else V.status=103;if(V.status===103&&(V.gzhead.hcrc?(V.pending+2>V.pending_buf_size&&N(W),V.pending+2<=V.pending_buf_size&&(C(V,255&W.adler),C(V,W.adler>>8&255),W.adler=0,V.status=O)):V.status=O),V.pending!==0){if(N(W),W.avail_out===0)return V.last_flush=-1,0}else if(W.avail_in===0&&q(te)<=q(G)&&te!==4)return F(W,-5);if(V.status===666&&W.avail_in!==0)return F(W,-5);if(W.avail_in!==0||V.lookahead!==0||te!==0&&V.status!==666){var oe=V.strategy===2?(function(he,Se){for(var ge;;){if(he.lookahead===0&&(E(he),he.lookahead===0)){if(Se===0)return 1;break}if(he.match_length=0,ge=y._tr_tally(he,0,he.window[he.strstart]),he.lookahead--,he.strstart++,ge&&(U(he,!1),he.strm.avail_out===0))return 1}return he.insert=0,Se===4?(U(he,!0),he.strm.avail_out===0?3:4):he.last_lit&&(U(he,!1),he.strm.avail_out===0)?1:2})(V,te):V.strategy===3?(function(he,Se){for(var ge,ne,fe,pe,ke=he.window;;){if(he.lookahead<=L){if(E(he),he.lookahead<=L&&Se===0)return 1;if(he.lookahead===0)break}if(he.match_length=0,he.lookahead>=3&&0<he.strstart&&(ne=ke[fe=he.strstart-1])===ke[++fe]&&ne===ke[++fe]&&ne===ke[++fe]){pe=he.strstart+L;do;while(ne===ke[++fe]&&ne===ke[++fe]&&ne===ke[++fe]&&ne===ke[++fe]&&ne===ke[++fe]&&ne===ke[++fe]&&ne===ke[++fe]&&ne===ke[++fe]&&fe<pe);he.match_length=L-(pe-fe),he.match_length>he.lookahead&&(he.match_length=he.lookahead)}if(he.match_length>=3?(ge=y._tr_tally(he,1,he.match_length-3),he.lookahead-=he.match_length,he.strstart+=he.match_length,he.match_length=0):(ge=y._tr_tally(he,0,he.window[he.strstart]),he.lookahead--,he.strstart++),ge&&(U(he,!1),he.strm.avail_out===0))return 1}return he.insert=0,Se===4?(U(he,!0),he.strm.avail_out===0?3:4):he.last_lit&&(U(he,!1),he.strm.avail_out===0)?1:2})(V,te):g[V.level].func(V,te);if(oe!==3&&oe!==4||(V.status=666),oe===1||oe===3)return W.avail_out===0&&(V.last_flush=-1),0;if(oe===2&&(te===1?y._tr_align(V):te!==5&&(y._tr_stored_block(V,0,0,!1),te===3&&(z(V.head),V.lookahead===0&&(V.strstart=0,V.block_start=0,V.insert=0))),N(W),W.avail_out===0))return V.last_flush=-1,0}return te!==4?0:V.wrap<=0?1:(V.wrap===2?(C(V,255&W.adler),C(V,W.adler>>8&255),C(V,W.adler>>16&255),C(V,W.adler>>24&255),C(V,255&W.total_in),C(V,W.total_in>>8&255),C(V,W.total_in>>16&255),C(V,W.total_in>>24&255)):(S(V,W.adler>>>16),S(V,65535&W.adler)),N(W),0<V.wrap&&(V.wrap=-V.wrap),V.pending!==0?0:1)},b.deflateEnd=function(W){var te;return W&&W.state?(te=W.state.status)!==42&&te!==69&&te!==73&&te!==91&&te!==103&&te!==O&&te!==666?F(W,H):(W.state=null,te===O?F(W,-3):0):H},b.deflateSetDictionary=function(W,te){var G,V,Z,ae,re,oe,he,Se,ge=te.length;if(!W||!W.state||(ae=(G=W.state).wrap)===2||ae===1&&G.status!==42||G.lookahead)return H;for(ae===1&&(W.adler=T(W.adler,te,ge,0)),G.wrap=0,ge>=G.w_size&&(ae===0&&(z(G.head),G.strstart=0,G.block_start=0,G.insert=0),Se=new v.Buf8(G.w_size),v.arraySet(Se,te,ge-G.w_size,G.w_size,0),te=Se,ge=G.w_size),re=W.avail_in,oe=W.next_in,he=W.input,W.avail_in=ge,W.next_in=0,W.input=te,E(G);G.lookahead>=3;){for(V=G.strstart,Z=G.lookahead-2;G.ins_h=(G.ins_h<<G.hash_shift^G.window[V+3-1])&G.hash_mask,G.prev[V&G.w_mask]=G.head[G.ins_h],G.head[G.ins_h]=V,V++,--Z;);G.strstart=V,G.lookahead=2,E(G)}return G.strstart+=G.lookahead,G.block_start=G.strstart,G.insert=G.lookahead,G.lookahead=0,G.match_length=G.prev_length=2,G.match_available=0,W.next_in=oe,W.input=he,W.avail_in=re,G.wrap=ae,0},b.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(d,x,b){x.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(d,x,b){x.exports=function(g,v){var y,T,R,P,H,L,I,O,F,q,z,N,U,C,S,k,E,A,j,B,D,Q,K,ee,W;y=g.state,T=g.next_in,ee=g.input,R=T+(g.avail_in-5),P=g.next_out,W=g.output,H=P-(v-g.avail_out),L=P+(g.avail_out-257),I=y.dmax,O=y.wsize,F=y.whave,q=y.wnext,z=y.window,N=y.hold,U=y.bits,C=y.lencode,S=y.distcode,k=(1<<y.lenbits)-1,E=(1<<y.distbits)-1;e:do{U<15&&(N+=ee[T++]<<U,U+=8,N+=ee[T++]<<U,U+=8),A=C[N&k];t:for(;;){if(N>>>=j=A>>>24,U-=j,(j=A>>>16&255)==0)W[P++]=65535&A;else{if(!(16&j)){if((64&j)==0){A=C[(65535&A)+(N&(1<<j)-1)];continue t}if(32&j){y.mode=12;break e}g.msg="invalid literal/length code",y.mode=30;break e}B=65535&A,(j&=15)&&(U<j&&(N+=ee[T++]<<U,U+=8),B+=N&(1<<j)-1,N>>>=j,U-=j),U<15&&(N+=ee[T++]<<U,U+=8,N+=ee[T++]<<U,U+=8),A=S[N&E];r:for(;;){if(N>>>=j=A>>>24,U-=j,!(16&(j=A>>>16&255))){if((64&j)==0){A=S[(65535&A)+(N&(1<<j)-1)];continue r}g.msg="invalid distance code",y.mode=30;break e}if(D=65535&A,U<(j&=15)&&(N+=ee[T++]<<U,(U+=8)<j&&(N+=ee[T++]<<U,U+=8)),I<(D+=N&(1<<j)-1)){g.msg="invalid distance too far back",y.mode=30;break e}if(N>>>=j,U-=j,(j=P-H)<D){if(F<(j=D-j)&&y.sane){g.msg="invalid distance too far back",y.mode=30;break e}if(K=z,(Q=0)===q){if(Q+=O-j,j<B){for(B-=j;W[P++]=z[Q++],--j;);Q=P-D,K=W}}else if(q<j){if(Q+=O+q-j,(j-=q)<B){for(B-=j;W[P++]=z[Q++],--j;);if(Q=0,q<B){for(B-=j=q;W[P++]=z[Q++],--j;);Q=P-D,K=W}}}else if(Q+=q-j,j<B){for(B-=j;W[P++]=z[Q++],--j;);Q=P-D,K=W}for(;2<B;)W[P++]=K[Q++],W[P++]=K[Q++],W[P++]=K[Q++],B-=3;B&&(W[P++]=K[Q++],1<B&&(W[P++]=K[Q++]))}else{for(Q=P-D;W[P++]=W[Q++],W[P++]=W[Q++],W[P++]=W[Q++],2<(B-=3););B&&(W[P++]=W[Q++],1<B&&(W[P++]=W[Q++]))}break}}break}}while(T<R&&P<L);T-=B=U>>3,N&=(1<<(U-=B<<3))-1,g.next_in=T,g.next_out=P,g.avail_in=T<R?R-T+5:5-(T-R),g.avail_out=P<L?L-P+257:257-(P-L),y.hold=N,y.bits=U}},{}],49:[function(d,x,b){var g=d("../utils/common"),v=d("./adler32"),y=d("./crc32"),T=d("./inffast"),R=d("./inftrees"),P=-2;function H(k){return(k>>>24&255)+(k>>>8&65280)+((65280&k)<<8)+((255&k)<<24)}function L(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new g.Buf16(320),this.work=new g.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function I(k){var E;return k&&k.state?(E=k.state,k.total_in=k.total_out=E.total=0,k.msg="",E.wrap&&(k.adler=1&E.wrap),E.mode=1,E.last=0,E.havedict=0,E.dmax=32768,E.head=null,E.hold=0,E.bits=0,E.lencode=E.lendyn=new g.Buf32(852),E.distcode=E.distdyn=new g.Buf32(592),E.sane=1,E.back=-1,0):P}function O(k){var E;return k&&k.state?((E=k.state).wsize=0,E.whave=0,E.wnext=0,I(k)):P}function F(k,E){var A,j;return k&&k.state?(j=k.state,E<0?(A=0,E=-E):(A=1+(E>>4),E<48&&(E&=15)),E&&(E<8||15<E)?P:(j.window!==null&&j.wbits!==E&&(j.window=null),j.wrap=A,j.wbits=E,O(k))):P}function q(k,E){var A,j;return k?(j=new L,(k.state=j).window=null,(A=F(k,E))!==0&&(k.state=null),A):P}var z,N,U=!0;function C(k){if(U){var E;for(z=new g.Buf32(512),N=new g.Buf32(32),E=0;E<144;)k.lens[E++]=8;for(;E<256;)k.lens[E++]=9;for(;E<280;)k.lens[E++]=7;for(;E<288;)k.lens[E++]=8;for(R(1,k.lens,0,288,z,0,k.work,{bits:9}),E=0;E<32;)k.lens[E++]=5;R(2,k.lens,0,32,N,0,k.work,{bits:5}),U=!1}k.lencode=z,k.lenbits=9,k.distcode=N,k.distbits=5}function S(k,E,A,j){var B,D=k.state;return D.window===null&&(D.wsize=1<<D.wbits,D.wnext=0,D.whave=0,D.window=new g.Buf8(D.wsize)),j>=D.wsize?(g.arraySet(D.window,E,A-D.wsize,D.wsize,0),D.wnext=0,D.whave=D.wsize):(j<(B=D.wsize-D.wnext)&&(B=j),g.arraySet(D.window,E,A-j,B,D.wnext),(j-=B)?(g.arraySet(D.window,E,A-j,j,0),D.wnext=j,D.whave=D.wsize):(D.wnext+=B,D.wnext===D.wsize&&(D.wnext=0),D.whave<D.wsize&&(D.whave+=B))),0}b.inflateReset=O,b.inflateReset2=F,b.inflateResetKeep=I,b.inflateInit=function(k){return q(k,15)},b.inflateInit2=q,b.inflate=function(k,E){var A,j,B,D,Q,K,ee,W,te,G,V,Z,ae,re,oe,he,Se,ge,ne,fe,pe,ke,Ce,Fe,We=0,$e=new g.Buf8(4),it=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!k||!k.state||!k.output||!k.input&&k.avail_in!==0)return P;(A=k.state).mode===12&&(A.mode=13),Q=k.next_out,B=k.output,ee=k.avail_out,D=k.next_in,j=k.input,K=k.avail_in,W=A.hold,te=A.bits,G=K,V=ee,ke=0;e:for(;;)switch(A.mode){case 1:if(A.wrap===0){A.mode=13;break}for(;te<16;){if(K===0)break e;K--,W+=j[D++]<<te,te+=8}if(2&A.wrap&&W===35615){$e[A.check=0]=255&W,$e[1]=W>>>8&255,A.check=y(A.check,$e,2,0),te=W=0,A.mode=2;break}if(A.flags=0,A.head&&(A.head.done=!1),!(1&A.wrap)||(((255&W)<<8)+(W>>8))%31){k.msg="incorrect header check",A.mode=30;break}if((15&W)!=8){k.msg="unknown compression method",A.mode=30;break}if(te-=4,pe=8+(15&(W>>>=4)),A.wbits===0)A.wbits=pe;else if(pe>A.wbits){k.msg="invalid window size",A.mode=30;break}A.dmax=1<<pe,k.adler=A.check=1,A.mode=512&W?10:12,te=W=0;break;case 2:for(;te<16;){if(K===0)break e;K--,W+=j[D++]<<te,te+=8}if(A.flags=W,(255&A.flags)!=8){k.msg="unknown compression method",A.mode=30;break}if(57344&A.flags){k.msg="unknown header flags set",A.mode=30;break}A.head&&(A.head.text=W>>8&1),512&A.flags&&($e[0]=255&W,$e[1]=W>>>8&255,A.check=y(A.check,$e,2,0)),te=W=0,A.mode=3;case 3:for(;te<32;){if(K===0)break e;K--,W+=j[D++]<<te,te+=8}A.head&&(A.head.time=W),512&A.flags&&($e[0]=255&W,$e[1]=W>>>8&255,$e[2]=W>>>16&255,$e[3]=W>>>24&255,A.check=y(A.check,$e,4,0)),te=W=0,A.mode=4;case 4:for(;te<16;){if(K===0)break e;K--,W+=j[D++]<<te,te+=8}A.head&&(A.head.xflags=255&W,A.head.os=W>>8),512&A.flags&&($e[0]=255&W,$e[1]=W>>>8&255,A.check=y(A.check,$e,2,0)),te=W=0,A.mode=5;case 5:if(1024&A.flags){for(;te<16;){if(K===0)break e;K--,W+=j[D++]<<te,te+=8}A.length=W,A.head&&(A.head.extra_len=W),512&A.flags&&($e[0]=255&W,$e[1]=W>>>8&255,A.check=y(A.check,$e,2,0)),te=W=0}else A.head&&(A.head.extra=null);A.mode=6;case 6:if(1024&A.flags&&(K<(Z=A.length)&&(Z=K),Z&&(A.head&&(pe=A.head.extra_len-A.length,A.head.extra||(A.head.extra=new Array(A.head.extra_len)),g.arraySet(A.head.extra,j,D,Z,pe)),512&A.flags&&(A.check=y(A.check,j,Z,D)),K-=Z,D+=Z,A.length-=Z),A.length))break e;A.length=0,A.mode=7;case 7:if(2048&A.flags){if(K===0)break e;for(Z=0;pe=j[D+Z++],A.head&&pe&&A.length<65536&&(A.head.name+=String.fromCharCode(pe)),pe&&Z<K;);if(512&A.flags&&(A.check=y(A.check,j,Z,D)),K-=Z,D+=Z,pe)break e}else A.head&&(A.head.name=null);A.length=0,A.mode=8;case 8:if(4096&A.flags){if(K===0)break e;for(Z=0;pe=j[D+Z++],A.head&&pe&&A.length<65536&&(A.head.comment+=String.fromCharCode(pe)),pe&&Z<K;);if(512&A.flags&&(A.check=y(A.check,j,Z,D)),K-=Z,D+=Z,pe)break e}else A.head&&(A.head.comment=null);A.mode=9;case 9:if(512&A.flags){for(;te<16;){if(K===0)break e;K--,W+=j[D++]<<te,te+=8}if(W!==(65535&A.check)){k.msg="header crc mismatch",A.mode=30;break}te=W=0}A.head&&(A.head.hcrc=A.flags>>9&1,A.head.done=!0),k.adler=A.check=0,A.mode=12;break;case 10:for(;te<32;){if(K===0)break e;K--,W+=j[D++]<<te,te+=8}k.adler=A.check=H(W),te=W=0,A.mode=11;case 11:if(A.havedict===0)return k.next_out=Q,k.avail_out=ee,k.next_in=D,k.avail_in=K,A.hold=W,A.bits=te,2;k.adler=A.check=1,A.mode=12;case 12:if(E===5||E===6)break e;case 13:if(A.last){W>>>=7&te,te-=7&te,A.mode=27;break}for(;te<3;){if(K===0)break e;K--,W+=j[D++]<<te,te+=8}switch(A.last=1&W,te-=1,3&(W>>>=1)){case 0:A.mode=14;break;case 1:if(C(A),A.mode=20,E!==6)break;W>>>=2,te-=2;break e;case 2:A.mode=17;break;case 3:k.msg="invalid block type",A.mode=30}W>>>=2,te-=2;break;case 14:for(W>>>=7&te,te-=7&te;te<32;){if(K===0)break e;K--,W+=j[D++]<<te,te+=8}if((65535&W)!=(W>>>16^65535)){k.msg="invalid stored block lengths",A.mode=30;break}if(A.length=65535&W,te=W=0,A.mode=15,E===6)break e;case 15:A.mode=16;case 16:if(Z=A.length){if(K<Z&&(Z=K),ee<Z&&(Z=ee),Z===0)break e;g.arraySet(B,j,D,Z,Q),K-=Z,D+=Z,ee-=Z,Q+=Z,A.length-=Z;break}A.mode=12;break;case 17:for(;te<14;){if(K===0)break e;K--,W+=j[D++]<<te,te+=8}if(A.nlen=257+(31&W),W>>>=5,te-=5,A.ndist=1+(31&W),W>>>=5,te-=5,A.ncode=4+(15&W),W>>>=4,te-=4,286<A.nlen||30<A.ndist){k.msg="too many length or distance symbols",A.mode=30;break}A.have=0,A.mode=18;case 18:for(;A.have<A.ncode;){for(;te<3;){if(K===0)break e;K--,W+=j[D++]<<te,te+=8}A.lens[it[A.have++]]=7&W,W>>>=3,te-=3}for(;A.have<19;)A.lens[it[A.have++]]=0;if(A.lencode=A.lendyn,A.lenbits=7,Ce={bits:A.lenbits},ke=R(0,A.lens,0,19,A.lencode,0,A.work,Ce),A.lenbits=Ce.bits,ke){k.msg="invalid code lengths set",A.mode=30;break}A.have=0,A.mode=19;case 19:for(;A.have<A.nlen+A.ndist;){for(;he=(We=A.lencode[W&(1<<A.lenbits)-1])>>>16&255,Se=65535&We,!((oe=We>>>24)<=te);){if(K===0)break e;K--,W+=j[D++]<<te,te+=8}if(Se<16)W>>>=oe,te-=oe,A.lens[A.have++]=Se;else{if(Se===16){for(Fe=oe+2;te<Fe;){if(K===0)break e;K--,W+=j[D++]<<te,te+=8}if(W>>>=oe,te-=oe,A.have===0){k.msg="invalid bit length repeat",A.mode=30;break}pe=A.lens[A.have-1],Z=3+(3&W),W>>>=2,te-=2}else if(Se===17){for(Fe=oe+3;te<Fe;){if(K===0)break e;K--,W+=j[D++]<<te,te+=8}te-=oe,pe=0,Z=3+(7&(W>>>=oe)),W>>>=3,te-=3}else{for(Fe=oe+7;te<Fe;){if(K===0)break e;K--,W+=j[D++]<<te,te+=8}te-=oe,pe=0,Z=11+(127&(W>>>=oe)),W>>>=7,te-=7}if(A.have+Z>A.nlen+A.ndist){k.msg="invalid bit length repeat",A.mode=30;break}for(;Z--;)A.lens[A.have++]=pe}}if(A.mode===30)break;if(A.lens[256]===0){k.msg="invalid code -- missing end-of-block",A.mode=30;break}if(A.lenbits=9,Ce={bits:A.lenbits},ke=R(1,A.lens,0,A.nlen,A.lencode,0,A.work,Ce),A.lenbits=Ce.bits,ke){k.msg="invalid literal/lengths set",A.mode=30;break}if(A.distbits=6,A.distcode=A.distdyn,Ce={bits:A.distbits},ke=R(2,A.lens,A.nlen,A.ndist,A.distcode,0,A.work,Ce),A.distbits=Ce.bits,ke){k.msg="invalid distances set",A.mode=30;break}if(A.mode=20,E===6)break e;case 20:A.mode=21;case 21:if(6<=K&&258<=ee){k.next_out=Q,k.avail_out=ee,k.next_in=D,k.avail_in=K,A.hold=W,A.bits=te,T(k,V),Q=k.next_out,B=k.output,ee=k.avail_out,D=k.next_in,j=k.input,K=k.avail_in,W=A.hold,te=A.bits,A.mode===12&&(A.back=-1);break}for(A.back=0;he=(We=A.lencode[W&(1<<A.lenbits)-1])>>>16&255,Se=65535&We,!((oe=We>>>24)<=te);){if(K===0)break e;K--,W+=j[D++]<<te,te+=8}if(he&&(240&he)==0){for(ge=oe,ne=he,fe=Se;he=(We=A.lencode[fe+((W&(1<<ge+ne)-1)>>ge)])>>>16&255,Se=65535&We,!(ge+(oe=We>>>24)<=te);){if(K===0)break e;K--,W+=j[D++]<<te,te+=8}W>>>=ge,te-=ge,A.back+=ge}if(W>>>=oe,te-=oe,A.back+=oe,A.length=Se,he===0){A.mode=26;break}if(32&he){A.back=-1,A.mode=12;break}if(64&he){k.msg="invalid literal/length code",A.mode=30;break}A.extra=15&he,A.mode=22;case 22:if(A.extra){for(Fe=A.extra;te<Fe;){if(K===0)break e;K--,W+=j[D++]<<te,te+=8}A.length+=W&(1<<A.extra)-1,W>>>=A.extra,te-=A.extra,A.back+=A.extra}A.was=A.length,A.mode=23;case 23:for(;he=(We=A.distcode[W&(1<<A.distbits)-1])>>>16&255,Se=65535&We,!((oe=We>>>24)<=te);){if(K===0)break e;K--,W+=j[D++]<<te,te+=8}if((240&he)==0){for(ge=oe,ne=he,fe=Se;he=(We=A.distcode[fe+((W&(1<<ge+ne)-1)>>ge)])>>>16&255,Se=65535&We,!(ge+(oe=We>>>24)<=te);){if(K===0)break e;K--,W+=j[D++]<<te,te+=8}W>>>=ge,te-=ge,A.back+=ge}if(W>>>=oe,te-=oe,A.back+=oe,64&he){k.msg="invalid distance code",A.mode=30;break}A.offset=Se,A.extra=15&he,A.mode=24;case 24:if(A.extra){for(Fe=A.extra;te<Fe;){if(K===0)break e;K--,W+=j[D++]<<te,te+=8}A.offset+=W&(1<<A.extra)-1,W>>>=A.extra,te-=A.extra,A.back+=A.extra}if(A.offset>A.dmax){k.msg="invalid distance too far back",A.mode=30;break}A.mode=25;case 25:if(ee===0)break e;if(Z=V-ee,A.offset>Z){if((Z=A.offset-Z)>A.whave&&A.sane){k.msg="invalid distance too far back",A.mode=30;break}ae=Z>A.wnext?(Z-=A.wnext,A.wsize-Z):A.wnext-Z,Z>A.length&&(Z=A.length),re=A.window}else re=B,ae=Q-A.offset,Z=A.length;for(ee<Z&&(Z=ee),ee-=Z,A.length-=Z;B[Q++]=re[ae++],--Z;);A.length===0&&(A.mode=21);break;case 26:if(ee===0)break e;B[Q++]=A.length,ee--,A.mode=21;break;case 27:if(A.wrap){for(;te<32;){if(K===0)break e;K--,W|=j[D++]<<te,te+=8}if(V-=ee,k.total_out+=V,A.total+=V,V&&(k.adler=A.check=A.flags?y(A.check,B,V,Q-V):v(A.check,B,V,Q-V)),V=ee,(A.flags?W:H(W))!==A.check){k.msg="incorrect data check",A.mode=30;break}te=W=0}A.mode=28;case 28:if(A.wrap&&A.flags){for(;te<32;){if(K===0)break e;K--,W+=j[D++]<<te,te+=8}if(W!==(4294967295&A.total)){k.msg="incorrect length check",A.mode=30;break}te=W=0}A.mode=29;case 29:ke=1;break e;case 30:ke=-3;break e;case 31:return-4;case 32:default:return P}return k.next_out=Q,k.avail_out=ee,k.next_in=D,k.avail_in=K,A.hold=W,A.bits=te,(A.wsize||V!==k.avail_out&&A.mode<30&&(A.mode<27||E!==4))&&S(k,k.output,k.next_out,V-k.avail_out)?(A.mode=31,-4):(G-=k.avail_in,V-=k.avail_out,k.total_in+=G,k.total_out+=V,A.total+=V,A.wrap&&V&&(k.adler=A.check=A.flags?y(A.check,B,V,k.next_out-V):v(A.check,B,V,k.next_out-V)),k.data_type=A.bits+(A.last?64:0)+(A.mode===12?128:0)+(A.mode===20||A.mode===15?256:0),(G==0&&V===0||E===4)&&ke===0&&(ke=-5),ke)},b.inflateEnd=function(k){if(!k||!k.state)return P;var E=k.state;return E.window&&(E.window=null),k.state=null,0},b.inflateGetHeader=function(k,E){var A;return k&&k.state?(2&(A=k.state).wrap)==0?P:((A.head=E).done=!1,0):P},b.inflateSetDictionary=function(k,E){var A,j=E.length;return k&&k.state?(A=k.state).wrap!==0&&A.mode!==11?P:A.mode===11&&v(1,E,j,0)!==A.check?-3:S(k,E,j,j)?(A.mode=31,-4):(A.havedict=1,0):P},b.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(d,x,b){var g=d("../utils/common"),v=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],y=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],T=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],R=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];x.exports=function(P,H,L,I,O,F,q,z){var N,U,C,S,k,E,A,j,B,D=z.bits,Q=0,K=0,ee=0,W=0,te=0,G=0,V=0,Z=0,ae=0,re=0,oe=null,he=0,Se=new g.Buf16(16),ge=new g.Buf16(16),ne=null,fe=0;for(Q=0;Q<=15;Q++)Se[Q]=0;for(K=0;K<I;K++)Se[H[L+K]]++;for(te=D,W=15;1<=W&&Se[W]===0;W--);if(W<te&&(te=W),W===0)return O[F++]=20971520,O[F++]=20971520,z.bits=1,0;for(ee=1;ee<W&&Se[ee]===0;ee++);for(te<ee&&(te=ee),Q=Z=1;Q<=15;Q++)if(Z<<=1,(Z-=Se[Q])<0)return-1;if(0<Z&&(P===0||W!==1))return-1;for(ge[1]=0,Q=1;Q<15;Q++)ge[Q+1]=ge[Q]+Se[Q];for(K=0;K<I;K++)H[L+K]!==0&&(q[ge[H[L+K]]++]=K);if(E=P===0?(oe=ne=q,19):P===1?(oe=v,he-=257,ne=y,fe-=257,256):(oe=T,ne=R,-1),Q=ee,k=F,V=K=re=0,C=-1,S=(ae=1<<(G=te))-1,P===1&&852<ae||P===2&&592<ae)return 1;for(;;){for(A=Q-V,B=q[K]<E?(j=0,q[K]):q[K]>E?(j=ne[fe+q[K]],oe[he+q[K]]):(j=96,0),N=1<<Q-V,ee=U=1<<G;O[k+(re>>V)+(U-=N)]=A<<24|j<<16|B|0,U!==0;);for(N=1<<Q-1;re&N;)N>>=1;if(N!==0?(re&=N-1,re+=N):re=0,K++,--Se[Q]==0){if(Q===W)break;Q=H[L+q[K]]}if(te<Q&&(re&S)!==C){for(V===0&&(V=te),k+=ee,Z=1<<(G=Q-V);G+V<W&&!((Z-=Se[G+V])<=0);)G++,Z<<=1;if(ae+=1<<G,P===1&&852<ae||P===2&&592<ae)return 1;O[C=re&S]=te<<24|G<<16|k-F|0}}return re!==0&&(O[k+re]=Q-V<<24|64<<16|0),z.bits=te,0}},{"../utils/common":41}],51:[function(d,x,b){x.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(d,x,b){var g=d("../utils/common");function v(ne){for(var fe=ne.length;0<=--fe;)ne[fe]=0}var y=256,T=286,R=30,P=15,H=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],L=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],F=new Array(576);v(F);var q=new Array(60);v(q);var z=new Array(512);v(z);var N=new Array(256);v(N);var U=new Array(29);v(U);var C,S,k,E=new Array(R);function A(ne,fe,pe,ke,Ce){this.static_tree=ne,this.extra_bits=fe,this.extra_base=pe,this.elems=ke,this.max_length=Ce,this.has_stree=ne&&ne.length}function j(ne,fe){this.dyn_tree=ne,this.max_code=0,this.stat_desc=fe}function B(ne){return ne<256?z[ne]:z[256+(ne>>>7)]}function D(ne,fe){ne.pending_buf[ne.pending++]=255&fe,ne.pending_buf[ne.pending++]=fe>>>8&255}function Q(ne,fe,pe){ne.bi_valid>16-pe?(ne.bi_buf|=fe<<ne.bi_valid&65535,D(ne,ne.bi_buf),ne.bi_buf=fe>>16-ne.bi_valid,ne.bi_valid+=pe-16):(ne.bi_buf|=fe<<ne.bi_valid&65535,ne.bi_valid+=pe)}function K(ne,fe,pe){Q(ne,pe[2*fe],pe[2*fe+1])}function ee(ne,fe){for(var pe=0;pe|=1&ne,ne>>>=1,pe<<=1,0<--fe;);return pe>>>1}function W(ne,fe,pe){var ke,Ce,Fe=new Array(16),We=0;for(ke=1;ke<=P;ke++)Fe[ke]=We=We+pe[ke-1]<<1;for(Ce=0;Ce<=fe;Ce++){var $e=ne[2*Ce+1];$e!==0&&(ne[2*Ce]=ee(Fe[$e]++,$e))}}function te(ne){var fe;for(fe=0;fe<T;fe++)ne.dyn_ltree[2*fe]=0;for(fe=0;fe<R;fe++)ne.dyn_dtree[2*fe]=0;for(fe=0;fe<19;fe++)ne.bl_tree[2*fe]=0;ne.dyn_ltree[512]=1,ne.opt_len=ne.static_len=0,ne.last_lit=ne.matches=0}function G(ne){8<ne.bi_valid?D(ne,ne.bi_buf):0<ne.bi_valid&&(ne.pending_buf[ne.pending++]=ne.bi_buf),ne.bi_buf=0,ne.bi_valid=0}function V(ne,fe,pe,ke){var Ce=2*fe,Fe=2*pe;return ne[Ce]<ne[Fe]||ne[Ce]===ne[Fe]&&ke[fe]<=ke[pe]}function Z(ne,fe,pe){for(var ke=ne.heap[pe],Ce=pe<<1;Ce<=ne.heap_len&&(Ce<ne.heap_len&&V(fe,ne.heap[Ce+1],ne.heap[Ce],ne.depth)&&Ce++,!V(fe,ke,ne.heap[Ce],ne.depth));)ne.heap[pe]=ne.heap[Ce],pe=Ce,Ce<<=1;ne.heap[pe]=ke}function ae(ne,fe,pe){var ke,Ce,Fe,We,$e=0;if(ne.last_lit!==0)for(;ke=ne.pending_buf[ne.d_buf+2*$e]<<8|ne.pending_buf[ne.d_buf+2*$e+1],Ce=ne.pending_buf[ne.l_buf+$e],$e++,ke===0?K(ne,Ce,fe):(K(ne,(Fe=N[Ce])+y+1,fe),(We=H[Fe])!==0&&Q(ne,Ce-=U[Fe],We),K(ne,Fe=B(--ke),pe),(We=L[Fe])!==0&&Q(ne,ke-=E[Fe],We)),$e<ne.last_lit;);K(ne,256,fe)}function re(ne,fe){var pe,ke,Ce,Fe=fe.dyn_tree,We=fe.stat_desc.static_tree,$e=fe.stat_desc.has_stree,it=fe.stat_desc.elems,st=-1;for(ne.heap_len=0,ne.heap_max=573,pe=0;pe<it;pe++)Fe[2*pe]!==0?(ne.heap[++ne.heap_len]=st=pe,ne.depth[pe]=0):Fe[2*pe+1]=0;for(;ne.heap_len<2;)Fe[2*(Ce=ne.heap[++ne.heap_len]=st<2?++st:0)]=1,ne.depth[Ce]=0,ne.opt_len--,$e&&(ne.static_len-=We[2*Ce+1]);for(fe.max_code=st,pe=ne.heap_len>>1;1<=pe;pe--)Z(ne,Fe,pe);for(Ce=it;pe=ne.heap[1],ne.heap[1]=ne.heap[ne.heap_len--],Z(ne,Fe,1),ke=ne.heap[1],ne.heap[--ne.heap_max]=pe,ne.heap[--ne.heap_max]=ke,Fe[2*Ce]=Fe[2*pe]+Fe[2*ke],ne.depth[Ce]=(ne.depth[pe]>=ne.depth[ke]?ne.depth[pe]:ne.depth[ke])+1,Fe[2*pe+1]=Fe[2*ke+1]=Ce,ne.heap[1]=Ce++,Z(ne,Fe,1),2<=ne.heap_len;);ne.heap[--ne.heap_max]=ne.heap[1],(function(et,Ze){var gt,mt,Me,Ue,Ee,Oe,ct=Ze.dyn_tree,Be=Ze.max_code,Ye=Ze.stat_desc.static_tree,je=Ze.stat_desc.has_stree,He=Ze.stat_desc.extra_bits,Te=Ze.stat_desc.extra_base,rt=Ze.stat_desc.max_length,Re=0;for(Ue=0;Ue<=P;Ue++)et.bl_count[Ue]=0;for(ct[2*et.heap[et.heap_max]+1]=0,gt=et.heap_max+1;gt<573;gt++)rt<(Ue=ct[2*ct[2*(mt=et.heap[gt])+1]+1]+1)&&(Ue=rt,Re++),ct[2*mt+1]=Ue,Be<mt||(et.bl_count[Ue]++,Ee=0,Te<=mt&&(Ee=He[mt-Te]),Oe=ct[2*mt],et.opt_len+=Oe*(Ue+Ee),je&&(et.static_len+=Oe*(Ye[2*mt+1]+Ee)));if(Re!==0){do{for(Ue=rt-1;et.bl_count[Ue]===0;)Ue--;et.bl_count[Ue]--,et.bl_count[Ue+1]+=2,et.bl_count[rt]--,Re-=2}while(0<Re);for(Ue=rt;Ue!==0;Ue--)for(mt=et.bl_count[Ue];mt!==0;)Be<(Me=et.heap[--gt])||(ct[2*Me+1]!==Ue&&(et.opt_len+=(Ue-ct[2*Me+1])*ct[2*Me],ct[2*Me+1]=Ue),mt--)}})(ne,fe),W(Fe,st,ne.bl_count)}function oe(ne,fe,pe){var ke,Ce,Fe=-1,We=fe[1],$e=0,it=7,st=4;for(We===0&&(it=138,st=3),fe[2*(pe+1)+1]=65535,ke=0;ke<=pe;ke++)Ce=We,We=fe[2*(ke+1)+1],++$e<it&&Ce===We||($e<st?ne.bl_tree[2*Ce]+=$e:Ce!==0?(Ce!==Fe&&ne.bl_tree[2*Ce]++,ne.bl_tree[32]++):$e<=10?ne.bl_tree[34]++:ne.bl_tree[36]++,Fe=Ce,st=($e=0)===We?(it=138,3):Ce===We?(it=6,3):(it=7,4))}function he(ne,fe,pe){var ke,Ce,Fe=-1,We=fe[1],$e=0,it=7,st=4;for(We===0&&(it=138,st=3),ke=0;ke<=pe;ke++)if(Ce=We,We=fe[2*(ke+1)+1],!(++$e<it&&Ce===We)){if($e<st)for(;K(ne,Ce,ne.bl_tree),--$e!=0;);else Ce!==0?(Ce!==Fe&&(K(ne,Ce,ne.bl_tree),$e--),K(ne,16,ne.bl_tree),Q(ne,$e-3,2)):$e<=10?(K(ne,17,ne.bl_tree),Q(ne,$e-3,3)):(K(ne,18,ne.bl_tree),Q(ne,$e-11,7));Fe=Ce,st=($e=0)===We?(it=138,3):Ce===We?(it=6,3):(it=7,4)}}v(E);var Se=!1;function ge(ne,fe,pe,ke){Q(ne,0+(ke?1:0),3),(function(Ce,Fe,We,$e){G(Ce),D(Ce,We),D(Ce,~We),g.arraySet(Ce.pending_buf,Ce.window,Fe,We,Ce.pending),Ce.pending+=We})(ne,fe,pe)}b._tr_init=function(ne){Se||((function(){var fe,pe,ke,Ce,Fe,We=new Array(16);for(Ce=ke=0;Ce<28;Ce++)for(U[Ce]=ke,fe=0;fe<1<<H[Ce];fe++)N[ke++]=Ce;for(N[ke-1]=Ce,Ce=Fe=0;Ce<16;Ce++)for(E[Ce]=Fe,fe=0;fe<1<<L[Ce];fe++)z[Fe++]=Ce;for(Fe>>=7;Ce<R;Ce++)for(E[Ce]=Fe<<7,fe=0;fe<1<<L[Ce]-7;fe++)z[256+Fe++]=Ce;for(pe=0;pe<=P;pe++)We[pe]=0;for(fe=0;fe<=143;)F[2*fe+1]=8,fe++,We[8]++;for(;fe<=255;)F[2*fe+1]=9,fe++,We[9]++;for(;fe<=279;)F[2*fe+1]=7,fe++,We[7]++;for(;fe<=287;)F[2*fe+1]=8,fe++,We[8]++;for(W(F,287,We),fe=0;fe<R;fe++)q[2*fe+1]=5,q[2*fe]=ee(fe,5);C=new A(F,H,257,T,P),S=new A(q,L,0,R,P),k=new A(new Array(0),I,0,19,7)})(),Se=!0),ne.l_desc=new j(ne.dyn_ltree,C),ne.d_desc=new j(ne.dyn_dtree,S),ne.bl_desc=new j(ne.bl_tree,k),ne.bi_buf=0,ne.bi_valid=0,te(ne)},b._tr_stored_block=ge,b._tr_flush_block=function(ne,fe,pe,ke){var Ce,Fe,We=0;0<ne.level?(ne.strm.data_type===2&&(ne.strm.data_type=(function($e){var it,st=4093624447;for(it=0;it<=31;it++,st>>>=1)if(1&st&&$e.dyn_ltree[2*it]!==0)return 0;if($e.dyn_ltree[18]!==0||$e.dyn_ltree[20]!==0||$e.dyn_ltree[26]!==0)return 1;for(it=32;it<y;it++)if($e.dyn_ltree[2*it]!==0)return 1;return 0})(ne)),re(ne,ne.l_desc),re(ne,ne.d_desc),We=(function($e){var it;for(oe($e,$e.dyn_ltree,$e.l_desc.max_code),oe($e,$e.dyn_dtree,$e.d_desc.max_code),re($e,$e.bl_desc),it=18;3<=it&&$e.bl_tree[2*O[it]+1]===0;it--);return $e.opt_len+=3*(it+1)+5+5+4,it})(ne),Ce=ne.opt_len+3+7>>>3,(Fe=ne.static_len+3+7>>>3)<=Ce&&(Ce=Fe)):Ce=Fe=pe+5,pe+4<=Ce&&fe!==-1?ge(ne,fe,pe,ke):ne.strategy===4||Fe===Ce?(Q(ne,2+(ke?1:0),3),ae(ne,F,q)):(Q(ne,4+(ke?1:0),3),(function($e,it,st,et){var Ze;for(Q($e,it-257,5),Q($e,st-1,5),Q($e,et-4,4),Ze=0;Ze<et;Ze++)Q($e,$e.bl_tree[2*O[Ze]+1],3);he($e,$e.dyn_ltree,it-1),he($e,$e.dyn_dtree,st-1)})(ne,ne.l_desc.max_code+1,ne.d_desc.max_code+1,We+1),ae(ne,ne.dyn_ltree,ne.dyn_dtree)),te(ne),ke&&G(ne)},b._tr_tally=function(ne,fe,pe){return ne.pending_buf[ne.d_buf+2*ne.last_lit]=fe>>>8&255,ne.pending_buf[ne.d_buf+2*ne.last_lit+1]=255&fe,ne.pending_buf[ne.l_buf+ne.last_lit]=255&pe,ne.last_lit++,fe===0?ne.dyn_ltree[2*pe]++:(ne.matches++,fe--,ne.dyn_ltree[2*(N[pe]+y+1)]++,ne.dyn_dtree[2*B(fe)]++),ne.last_lit===ne.lit_bufsize-1},b._tr_align=function(ne){Q(ne,2,3),K(ne,256,F),(function(fe){fe.bi_valid===16?(D(fe,fe.bi_buf),fe.bi_buf=0,fe.bi_valid=0):8<=fe.bi_valid&&(fe.pending_buf[fe.pending++]=255&fe.bi_buf,fe.bi_buf>>=8,fe.bi_valid-=8)})(ne)}},{"../utils/common":41}],53:[function(d,x,b){x.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(d,x,b){(function(g){(function(v,y){if(!v.setImmediate){var T,R,P,H,L=1,I={},O=!1,F=v.document,q=Object.getPrototypeOf&&Object.getPrototypeOf(v);q=q&&q.setTimeout?q:v,T={}.toString.call(v.process)==="[object process]"?function(C){i.nextTick((function(){N(C)}))}:(function(){if(v.postMessage&&!v.importScripts){var C=!0,S=v.onmessage;return v.onmessage=function(){C=!1},v.postMessage("","*"),v.onmessage=S,C}})()?(H="setImmediate$"+Math.random()+"$",v.addEventListener?v.addEventListener("message",U,!1):v.attachEvent("onmessage",U),function(C){v.postMessage(H+C,"*")}):v.MessageChannel?((P=new MessageChannel).port1.onmessage=function(C){N(C.data)},function(C){P.port2.postMessage(C)}):F&&"onreadystatechange"in F.createElement("script")?(R=F.documentElement,function(C){var S=F.createElement("script");S.onreadystatechange=function(){N(C),S.onreadystatechange=null,R.removeChild(S),S=null},R.appendChild(S)}):function(C){setTimeout(N,0,C)},q.setImmediate=function(C){typeof C!="function"&&(C=new Function(""+C));for(var S=new Array(arguments.length-1),k=0;k<S.length;k++)S[k]=arguments[k+1];var E={callback:C,args:S};return I[L]=E,T(L),L++},q.clearImmediate=z}function z(C){delete I[C]}function N(C){if(O)setTimeout(N,0,C);else{var S=I[C];if(S){O=!0;try{(function(k){var E=k.callback,A=k.args;switch(A.length){case 0:E();break;case 1:E(A[0]);break;case 2:E(A[0],A[1]);break;case 3:E(A[0],A[1],A[2]);break;default:E.apply(void 0,A)}})(S)}finally{z(C),O=!1}}}}function U(C){C.source===v&&typeof C.data=="string"&&C.data.indexOf(H)===0&&N(+C.data.slice(H.length))}})(typeof self>"u"?g===void 0?this:g:self)}).call(this,a!==void 0?a:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)}))}).call(this)}).call(this,e("_process"),typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(e,n,s){(function(i){(function(){var a=/[\\^$.*+?()[\]{}|]/g,l=RegExp(a.source),c=typeof i=="object"&&i&&i.Object===Object&&i,o=typeof self=="object"&&self&&self.Object===Object&&self,u=c||o||Function("return this")(),p=Object.prototype.toString,h=u.Symbol,d=h?h.prototype:void 0,x=d?d.toString:void 0;function b(g){if(typeof g=="string")return g;if((function(y){return typeof y=="symbol"||(function(T){return!!T&&typeof T=="object"})(y)&&p.call(y)=="[object Symbol]"})(g))return x?x.call(g):"";var v=g+"";return v=="0"&&1/g==-1/0?"-0":v}n.exports=function(g){var v;return(g=(v=g)==null?"":b(v))&&l.test(g)?g.replace(a,"\\$&"):g}}).call(this)}).call(this,typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(e,n,s){(function(i){(function(){var a="[object Arguments]",l="[object Map]",c="[object Object]",o="[object Set]",u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,p=/^\w*$/,h=/^\./,d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,x=/\\(\\)?/g,b=/^\[object .+?Constructor\]$/,g=/^(?:0|[1-9]\d*)$/,v={};v["[object Float32Array]"]=v["[object Float64Array]"]=v["[object Int8Array]"]=v["[object Int16Array]"]=v["[object Int32Array]"]=v["[object Uint8Array]"]=v["[object Uint8ClampedArray]"]=v["[object Uint16Array]"]=v["[object Uint32Array]"]=!0,v[a]=v["[object Array]"]=v["[object ArrayBuffer]"]=v["[object Boolean]"]=v["[object DataView]"]=v["[object Date]"]=v["[object Error]"]=v["[object Function]"]=v[l]=v["[object Number]"]=v[c]=v["[object RegExp]"]=v[o]=v["[object String]"]=v["[object WeakMap]"]=!1;var y=typeof i=="object"&&i&&i.Object===Object&&i,T=typeof self=="object"&&self&&self.Object===Object&&self,R=y||T||Function("return this")(),P=typeof s=="object"&&s&&!s.nodeType&&s,H=P&&typeof n=="object"&&n&&!n.nodeType&&n,L=H&&H.exports===P&&y.process,I=(function(){try{return L&&L.binding("util")}catch{}})(),O=I&&I.isTypedArray;function F(me,Ne,Ke,dt){for(var Et=-1,xt=me?me.length:0;++Et<xt;){var At=me[Et];Ne(dt,At,Ke(At),me)}return dt}function q(me,Ne){for(var Ke=-1,dt=me?me.length:0;++Ke<dt;)if(Ne(me[Ke],Ke,me))return!0;return!1}function z(me){var Ne=!1;if(me!=null&&typeof me.toString!="function")try{Ne=!!(me+"")}catch{}return Ne}function N(me){var Ne=-1,Ke=Array(me.size);return me.forEach((function(dt,Et){Ke[++Ne]=[Et,dt]})),Ke}function U(me){var Ne=-1,Ke=Array(me.size);return me.forEach((function(dt){Ke[++Ne]=dt})),Ke}var C,S,k,E=Array.prototype,A=Function.prototype,j=Object.prototype,B=R["__core-js_shared__"],D=(C=/[^.]+$/.exec(B&&B.keys&&B.keys.IE_PROTO||""))?"Symbol(src)_1."+C:"",Q=A.toString,K=j.hasOwnProperty,ee=j.toString,W=RegExp("^"+Q.call(K).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),te=R.Symbol,G=R.Uint8Array,V=j.propertyIsEnumerable,Z=E.splice,ae=(S=Object.keys,k=Object,function(me){return S(k(me))}),re=lt(R,"DataView"),oe=lt(R,"Map"),he=lt(R,"Promise"),Se=lt(R,"Set"),ge=lt(R,"WeakMap"),ne=lt(Object,"create"),fe=Ge(re),pe=Ge(oe),ke=Ge(he),Ce=Ge(Se),Fe=Ge(ge),We=te?te.prototype:void 0,$e=We?We.valueOf:void 0,it=We?We.toString:void 0;function st(me){var Ne=-1,Ke=me?me.length:0;for(this.clear();++Ne<Ke;){var dt=me[Ne];this.set(dt[0],dt[1])}}function et(me){var Ne=-1,Ke=me?me.length:0;for(this.clear();++Ne<Ke;){var dt=me[Ne];this.set(dt[0],dt[1])}}function Ze(me){var Ne=-1,Ke=me?me.length:0;for(this.clear();++Ne<Ke;){var dt=me[Ne];this.set(dt[0],dt[1])}}function gt(me){var Ne=-1,Ke=me?me.length:0;for(this.__data__=new Ze;++Ne<Ke;)this.add(me[Ne])}function mt(me){this.__data__=new et(me)}function Me(me,Ne){var Ke=be(me)||de(me)?(function(At,Qt){for(var qt=-1,Gt=Array(At);++qt<At;)Gt[qt]=Qt(qt);return Gt})(me.length,String):[],dt=Ke.length,Et=!!dt;for(var xt in me)!K.call(me,xt)||Et&&(xt=="length"||jt(xt,dt))||Ke.push(xt);return Ke}function Ue(me,Ne){for(var Ke=me.length;Ke--;)if(ue(me[Ke][0],Ne))return Ke;return-1}function Ee(me,Ne,Ke,dt){return ct(me,(function(Et,xt,At){Ne(dt,Et,Ke(Et),At)})),dt}st.prototype.clear=function(){this.__data__=ne?ne(null):{}},st.prototype.delete=function(me){return this.has(me)&&delete this.__data__[me]},st.prototype.get=function(me){var Ne=this.__data__;if(ne){var Ke=Ne[me];return Ke==="__lodash_hash_undefined__"?void 0:Ke}return K.call(Ne,me)?Ne[me]:void 0},st.prototype.has=function(me){var Ne=this.__data__;return ne?Ne[me]!==void 0:K.call(Ne,me)},st.prototype.set=function(me,Ne){return this.__data__[me]=ne&&Ne===void 0?"__lodash_hash_undefined__":Ne,this},et.prototype.clear=function(){this.__data__=[]},et.prototype.delete=function(me){var Ne=this.__data__,Ke=Ue(Ne,me);return!(Ke<0)&&(Ke==Ne.length-1?Ne.pop():Z.call(Ne,Ke,1),!0)},et.prototype.get=function(me){var Ne=this.__data__,Ke=Ue(Ne,me);return Ke<0?void 0:Ne[Ke][1]},et.prototype.has=function(me){return Ue(this.__data__,me)>-1},et.prototype.set=function(me,Ne){var Ke=this.__data__,dt=Ue(Ke,me);return dt<0?Ke.push([me,Ne]):Ke[dt][1]=Ne,this},Ze.prototype.clear=function(){this.__data__={hash:new st,map:new(oe||et),string:new st}},Ze.prototype.delete=function(me){return pt(this,me).delete(me)},Ze.prototype.get=function(me){return pt(this,me).get(me)},Ze.prototype.has=function(me){return pt(this,me).has(me)},Ze.prototype.set=function(me,Ne){return pt(this,me).set(me,Ne),this},gt.prototype.add=gt.prototype.push=function(me){return this.__data__.set(me,"__lodash_hash_undefined__"),this},gt.prototype.has=function(me){return this.__data__.has(me)},mt.prototype.clear=function(){this.__data__=new et},mt.prototype.delete=function(me){return this.__data__.delete(me)},mt.prototype.get=function(me){return this.__data__.get(me)},mt.prototype.has=function(me){return this.__data__.has(me)},mt.prototype.set=function(me,Ne){var Ke=this.__data__;if(Ke instanceof et){var dt=Ke.__data__;if(!oe||dt.length<199)return dt.push([me,Ne]),this;Ke=this.__data__=new Ze(dt)}return Ke.set(me,Ne),this};var Oe,ct=(Oe=function(me,Ne){return me&&Be(me,Ne,St)},function(me,Ne){if(me==null)return me;if(!xe(me))return Oe(me,Ne);for(var Ke=me.length,dt=-1,Et=Object(me);++dt<Ke&&Ne(Et[dt],dt,Et)!==!1;);return me}),Be=(function(me){return function(Ne,Ke,dt){for(var Et=-1,xt=Object(Ne),At=dt(Ne),Qt=At.length;Qt--;){var qt=At[++Et];if(Ke(xt[qt],qt,xt)===!1)break}return Ne}})();function Ye(me,Ne){for(var Ke=0,dt=(Ne=Ct(Ne,me)?[Ne]:Ae(Ne)).length;me!=null&&Ke<dt;)me=me[Ie(Ne[Ke++])];return Ke&&Ke==dt?me:void 0}function je(me,Ne){return me!=null&&Ne in Object(me)}function He(me,Ne,Ke,dt,Et){return me===Ne||(me==null||Ne==null||!Pe(me)&&!qe(Ne)?me!=me&&Ne!=Ne:(function(xt,At,Qt,qt,Gt,Ut){var Jt=be(xt),rr=be(At),Xt="[object Array]",or="[object Array]";Jt||(Xt=(Xt=Rt(xt))==a?c:Xt),rr||(or=(or=Rt(At))==a?c:or);var zr=Xt==c&&!z(xt),fn=or==c&&!z(At),fr=Xt==or;if(fr&&!zr)return Ut||(Ut=new mt),Jt||yt(xt)?at(xt,At,Qt,qt,Gt,Ut):(function(gr,mr,Es,rs,mi,rn,Qr){switch(Es){case"[object DataView]":if(gr.byteLength!=mr.byteLength||gr.byteOffset!=mr.byteOffset)return!1;gr=gr.buffer,mr=mr.buffer;case"[object ArrayBuffer]":return!(gr.byteLength!=mr.byteLength||!rs(new G(gr),new G(mr)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ue(+gr,+mr);case"[object Error]":return gr.name==mr.name&&gr.message==mr.message;case"[object RegExp]":case"[object String]":return gr==mr+"";case l:var Bs=N;case o:var wa=2&rn;if(Bs||(Bs=U),gr.size!=mr.size&&!wa)return!1;var za=Qr.get(gr);if(za)return za==mr;rn|=1,Qr.set(gr,mr);var Us=at(Bs(gr),Bs(mr),rs,mi,rn,Qr);return Qr.delete(gr),Us;case"[object Symbol]":if($e)return $e.call(gr)==$e.call(mr)}return!1})(xt,At,Xt,Qt,qt,Gt,Ut);if(!(2&Gt)){var ms=zr&&K.call(xt,"__wrapped__"),Hn=fn&&K.call(At,"__wrapped__");if(ms||Hn){var ks=ms?xt.value():xt,hn=Hn?At.value():At;return Ut||(Ut=new mt),Qt(ks,hn,qt,Gt,Ut)}}return fr?(Ut||(Ut=new mt),(function(gr,mr,Es,rs,mi,rn){var Qr=2&mi,Bs=St(gr),wa=Bs.length,za=St(mr).length;if(wa!=za&&!Qr)return!1;for(var Us=wa;Us--;){var Vs=Bs[Us];if(!(Qr?Vs in mr:K.call(mr,Vs)))return!1}var _a=rn.get(gr);if(_a&&rn.get(mr))return _a==mr;var Sa=!0;rn.set(gr,mr),rn.set(mr,gr);for(var gs=Qr;++Us<wa;){Vs=Bs[Us];var Ha=gr[Vs],$n=mr[Vs];if(rs)var Ta=Qr?rs($n,Ha,Vs,mr,gr,rn):rs(Ha,$n,Vs,gr,mr,rn);if(!(Ta===void 0?Ha===$n||Es(Ha,$n,rs,mi,rn):Ta)){Sa=!1;break}gs||(gs=Vs=="constructor")}if(Sa&&!gs){var bs=gr.constructor,ta=mr.constructor;bs==ta||!("constructor"in gr)||!("constructor"in mr)||typeof bs=="function"&&bs instanceof bs&&typeof ta=="function"&&ta instanceof ta||(Sa=!1)}return rn.delete(gr),rn.delete(mr),Sa})(xt,At,Qt,qt,Gt,Ut)):!1})(me,Ne,He,Ke,dt,Et))}function Te(me){return!(!Pe(me)||(function(Ne){return!!D&&D in Ne})(me))&&(De(me)||z(me)?W:b).test(Ge(me))}function rt(me){return typeof me=="function"?me:me==null?kt:typeof me=="object"?be(me)?(function(dt,Et){return Ct(dt)&&Mt(Et)?Dt(Ie(dt),Et):function(xt){var At=(function(Qt,qt,Gt){var Ut=Qt==null?void 0:Ye(Qt,qt);return Ut===void 0?Gt:Ut})(xt,dt);return At===void 0&&At===Et?(function(Qt,qt){return Qt!=null&&(function(Gt,Ut,Jt){Ut=Ct(Ut,Gt)?[Ut]:Ae(Ut);for(var rr,Xt=-1,or=Ut.length;++Xt<or;){var zr=Ie(Ut[Xt]);if(!(rr=Gt!=null&&Jt(Gt,zr)))break;Gt=Gt[zr]}return rr||!!(or=Gt?Gt.length:0)&&Ve(or)&&jt(zr,or)&&(be(Gt)||de(Gt))})(Qt,qt,je)})(xt,dt):He(Et,At,void 0,3)}})(me[0],me[1]):(function(dt){var Et=(function(xt){for(var At=St(xt),Qt=At.length;Qt--;){var qt=At[Qt],Gt=xt[qt];At[Qt]=[qt,Gt,Mt(Gt)]}return At})(dt);return Et.length==1&&Et[0][2]?Dt(Et[0][0],Et[0][1]):function(xt){return xt===dt||(function(At,Qt,qt,Gt){var Ut=qt.length,Jt=Ut;if(At==null)return!Jt;for(At=Object(At);Ut--;){var rr=qt[Ut];if(rr[2]?rr[1]!==At[rr[0]]:!(rr[0]in At))return!1}for(;++Ut<Jt;){var Xt=(rr=qt[Ut])[0],or=At[Xt],zr=rr[1];if(rr[2]){if(or===void 0&&!(Xt in At))return!1}else{var fn=new mt,fr;if(!(fr===void 0?He(zr,or,Gt,3,fn):fr))return!1}}return!0})(xt,dt,Et)}})(me):Ct(Ne=me)?(Ke=Ie(Ne),function(dt){return dt==null?void 0:dt[Ke]}):(function(dt){return function(Et){return Ye(Et,dt)}})(Ne);var Ne,Ke}function Re(me){if(Ke=(Ne=me)&&Ne.constructor,dt=typeof Ke=="function"&&Ke.prototype||j,Ne!==dt)return ae(me);var Ne,Ke,dt,Et=[];for(var xt in Object(me))K.call(me,xt)&&xt!="constructor"&&Et.push(xt);return Et}function Ae(me){return be(me)?me:Nt(me)}function at(me,Ne,Ke,dt,Et,xt){var At=2&Et,Qt=me.length,qt=Ne.length;if(Qt!=qt&&!(At&&qt>Qt))return!1;var Gt=xt.get(me);if(Gt&&xt.get(Ne))return Gt==Ne;var Ut=-1,Jt=!0,rr=1&Et?new gt:void 0;for(xt.set(me,Ne),xt.set(Ne,me);++Ut<Qt;){var Xt=me[Ut],or=Ne[Ut];if(dt)var zr=At?dt(or,Xt,Ut,Ne,me,xt):dt(Xt,or,Ut,me,Ne,xt);if(zr!==void 0){if(zr)continue;Jt=!1;break}if(rr){if(!q(Ne,(function(fn,fr){if(!rr.has(fr)&&(Xt===fn||Ke(Xt,fn,dt,Et,xt)))return rr.add(fr)}))){Jt=!1;break}}else if(Xt!==or&&!Ke(Xt,or,dt,Et,xt)){Jt=!1;break}}return xt.delete(me),xt.delete(Ne),Jt}function pt(me,Ne){var Ke,dt,Et=me.__data__;return((dt=typeof(Ke=Ne))=="string"||dt=="number"||dt=="symbol"||dt=="boolean"?Ke!=="__proto__":Ke===null)?Et[typeof Ne=="string"?"string":"hash"]:Et.map}function lt(me,Ne){var Ke=(function(dt,Et){return dt==null?void 0:dt[Et]})(me,Ne);return Te(Ke)?Ke:void 0}var Rt=function(me){return ee.call(me)};function jt(me,Ne){return!!(Ne=Ne??9007199254740991)&&(typeof me=="number"||g.test(me))&&me>-1&&me%1==0&&me<Ne}function Ct(me,Ne){if(be(me))return!1;var Ke=typeof me;return!(Ke!="number"&&Ke!="symbol"&&Ke!="boolean"&&me!=null&&!Xe(me))||p.test(me)||!u.test(me)||Ne!=null&&me in Object(Ne)}function Mt(me){return me==me&&!Pe(me)}function Dt(me,Ne){return function(Ke){return Ke!=null&&Ke[me]===Ne&&(Ne!==void 0||me in Object(Ke))}}(re&&Rt(new re(new ArrayBuffer(1)))!="[object DataView]"||oe&&Rt(new oe)!=l||he&&Rt(he.resolve())!="[object Promise]"||Se&&Rt(new Se)!=o||ge&&Rt(new ge)!="[object WeakMap]")&&(Rt=function(me){var Ne=ee.call(me),Ke=Ne==c?me.constructor:void 0,dt=Ke?Ge(Ke):void 0;if(dt)switch(dt){case fe:return"[object DataView]";case pe:return l;case ke:return"[object Promise]";case Ce:return o;case Fe:return"[object WeakMap]"}return Ne});var Nt=ye((function(me){var Ne;me=(Ne=me)==null?"":(function(dt){if(typeof dt=="string")return dt;if(Xe(dt))return it?it.call(dt):"";var Et=dt+"";return Et=="0"&&1/dt==-1/0?"-0":Et})(Ne);var Ke=[];return h.test(me)&&Ke.push(""),me.replace(d,(function(dt,Et,xt,At){Ke.push(xt?At.replace(x,"$1"):Et||dt)})),Ke}));function Ie(me){if(typeof me=="string"||Xe(me))return me;var Ne=me+"";return Ne=="0"&&1/me==-1/0?"-0":Ne}function Ge(me){if(me!=null){try{return Q.call(me)}catch{}try{return me+""}catch{}}return""}var ut,le=(ut=function(me,Ne,Ke){K.call(me,Ke)?me[Ke].push(Ne):me[Ke]=[Ne]},function(me,Ne){var Ke=be(me)?F:Ee,dt={};return Ke(me,ut,rt(Ne),dt)});function ye(me,Ne){if(typeof me!="function"||Ne&&typeof Ne!="function")throw new TypeError("Expected a function");var Ke=function(){var dt=arguments,Et=Ne?Ne.apply(this,dt):dt[0],xt=Ke.cache;if(xt.has(Et))return xt.get(Et);var At=me.apply(this,dt);return Ke.cache=xt.set(Et,At),At};return Ke.cache=new(ye.Cache||Ze),Ke}function ue(me,Ne){return me===Ne||me!=me&&Ne!=Ne}function de(me){return(function(Ne){return qe(Ne)&&xe(Ne)})(me)&&K.call(me,"callee")&&(!V.call(me,"callee")||ee.call(me)==a)}ye.Cache=Ze;var be=Array.isArray;function xe(me){return me!=null&&Ve(me.length)&&!De(me)}function De(me){var Ne=Pe(me)?ee.call(me):"";return Ne=="[object Function]"||Ne=="[object GeneratorFunction]"}function Ve(me){return typeof me=="number"&&me>-1&&me%1==0&&me<=9007199254740991}function Pe(me){var Ne=typeof me;return!!me&&(Ne=="object"||Ne=="function")}function qe(me){return!!me&&typeof me=="object"}function Xe(me){return typeof me=="symbol"||qe(me)&&ee.call(me)=="[object Symbol]"}var yt=O?(function(me){return function(Ne){return me(Ne)}})(O):function(me){return qe(me)&&Ve(me.length)&&!!v[ee.call(me)]};function St(me){return xe(me)?Me(me):Re(me)}function kt(me){return me}n.exports=le}).call(this)}).call(this,typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(e,n,s){var i=Object.prototype.toString;n.exports=function(a){return a===!0||a===!1||(function(l){return!!l&&typeof l=="object"})(a)&&i.call(a)=="[object Boolean]"}},{}],445:[function(e,n,s){(function(i){(function(){var a="[object Arguments]",l="[object Map]",c="[object Object]",o="[object Set]",u=/^\[object .+?Constructor\]$/,p=/^(?:0|[1-9]\d*)$/,h={};h["[object Float32Array]"]=h["[object Float64Array]"]=h["[object Int8Array]"]=h["[object Int16Array]"]=h["[object Int32Array]"]=h["[object Uint8Array]"]=h["[object Uint8ClampedArray]"]=h["[object Uint16Array]"]=h["[object Uint32Array]"]=!0,h[a]=h["[object Array]"]=h["[object ArrayBuffer]"]=h["[object Boolean]"]=h["[object DataView]"]=h["[object Date]"]=h["[object Error]"]=h["[object Function]"]=h[l]=h["[object Number]"]=h[c]=h["[object RegExp]"]=h[o]=h["[object String]"]=h["[object WeakMap]"]=!1;var d=typeof i=="object"&&i&&i.Object===Object&&i,x=typeof self=="object"&&self&&self.Object===Object&&self,b=d||x||Function("return this")(),g=typeof s=="object"&&s&&!s.nodeType&&s,v=g&&typeof n=="object"&&n&&!n.nodeType&&n,y=v&&v.exports===g,T=y&&d.process,R=(function(){try{return T&&T.binding&&T.binding("util")}catch{}})(),P=R&&R.isTypedArray;function H(Ie,Ge){for(var ut=-1,le=Ie==null?0:Ie.length;++ut<le;)if(Ge(Ie[ut],ut,Ie))return!0;return!1}function L(Ie){var Ge=-1,ut=Array(Ie.size);return Ie.forEach((function(le,ye){ut[++Ge]=[ye,le]})),ut}function I(Ie){var Ge=-1,ut=Array(Ie.size);return Ie.forEach((function(le){ut[++Ge]=le})),ut}var O,F,q,z=Array.prototype,N=Function.prototype,U=Object.prototype,C=b["__core-js_shared__"],S=N.toString,k=U.hasOwnProperty,E=(O=/[^.]+$/.exec(C&&C.keys&&C.keys.IE_PROTO||""))?"Symbol(src)_1."+O:"",A=U.toString,j=RegExp("^"+S.call(k).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),B=y?b.Buffer:void 0,D=b.Symbol,Q=b.Uint8Array,K=U.propertyIsEnumerable,ee=z.splice,W=D?D.toStringTag:void 0,te=Object.getOwnPropertySymbols,G=B?B.isBuffer:void 0,V=(F=Object.keys,q=Object,function(Ie){return F(q(Ie))}),Z=je(b,"DataView"),ae=je(b,"Map"),re=je(b,"Promise"),oe=je(b,"Set"),he=je(b,"WeakMap"),Se=je(Object,"create"),ge=Re(Z),ne=Re(ae),fe=Re(re),pe=Re(oe),ke=Re(he),Ce=D?D.prototype:void 0,Fe=Ce?Ce.valueOf:void 0;function We(Ie){var Ge=-1,ut=Ie==null?0:Ie.length;for(this.clear();++Ge<ut;){var le=Ie[Ge];this.set(le[0],le[1])}}function $e(Ie){var Ge=-1,ut=Ie==null?0:Ie.length;for(this.clear();++Ge<ut;){var le=Ie[Ge];this.set(le[0],le[1])}}function it(Ie){var Ge=-1,ut=Ie==null?0:Ie.length;for(this.clear();++Ge<ut;){var le=Ie[Ge];this.set(le[0],le[1])}}function st(Ie){var Ge=-1,ut=Ie==null?0:Ie.length;for(this.__data__=new it;++Ge<ut;)this.add(Ie[Ge])}function et(Ie){var Ge=this.__data__=new $e(Ie);this.size=Ge.size}function Ze(Ie,Ge){var ut=pt(Ie),le=!ut&&at(Ie),ye=!ut&&!le&&lt(Ie),ue=!ut&&!le&&!ye&&Dt(Ie),de=ut||le||ye||ue,be=de?(function(Ve,Pe){for(var qe=-1,Xe=Array(Ve);++qe<Ve;)Xe[qe]=Pe(qe);return Xe})(Ie.length,String):[],xe=be.length;for(var De in Ie)!k.call(Ie,De)||de&&(De=="length"||ye&&(De=="offset"||De=="parent")||ue&&(De=="buffer"||De=="byteLength"||De=="byteOffset")||rt(De,xe))||be.push(De);return be}function gt(Ie,Ge){for(var ut=Ie.length;ut--;)if(Ae(Ie[ut][0],Ge))return ut;return-1}function mt(Ie){return Ie==null?Ie===void 0?"[object Undefined]":"[object Null]":W&&W in Object(Ie)?(function(Ge){var ut=k.call(Ge,W),le=Ge[W];try{Ge[W]=void 0;var ye=!0}catch{}var ue=A.call(Ge);return ye&&(ut?Ge[W]=le:delete Ge[W]),ue})(Ie):(function(Ge){return A.call(Ge)})(Ie)}function Me(Ie){return Mt(Ie)&&mt(Ie)==a}function Ue(Ie,Ge,ut,le,ye){return Ie===Ge||(Ie==null||Ge==null||!Mt(Ie)&&!Mt(Ge)?Ie!=Ie&&Ge!=Ge:(function(ue,de,be,xe,De,Ve){var Pe=pt(ue),qe=pt(de),Xe=Pe?"[object Array]":Te(ue),yt=qe?"[object Array]":Te(de),St=(Xe=Xe==a?c:Xe)==c,kt=(yt=yt==a?c:yt)==c,me=Xe==yt;if(me&&lt(ue)){if(!lt(de))return!1;Pe=!0,St=!1}if(me&&!St)return Ve||(Ve=new et),Pe||Dt(ue)?ct(ue,de,be,xe,De,Ve):(function(xt,At,Qt,qt,Gt,Ut,Jt){switch(Qt){case"[object DataView]":if(xt.byteLength!=At.byteLength||xt.byteOffset!=At.byteOffset)return!1;xt=xt.buffer,At=At.buffer;case"[object ArrayBuffer]":return!(xt.byteLength!=At.byteLength||!Ut(new Q(xt),new Q(At)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ae(+xt,+At);case"[object Error]":return xt.name==At.name&&xt.message==At.message;case"[object RegExp]":case"[object String]":return xt==At+"";case l:var rr=L;case o:var Xt=1&qt;if(rr||(rr=I),xt.size!=At.size&&!Xt)return!1;var or=Jt.get(xt);if(or)return or==At;qt|=2,Jt.set(xt,At);var zr=ct(rr(xt),rr(At),qt,Gt,Ut,Jt);return Jt.delete(xt),zr;case"[object Symbol]":if(Fe)return Fe.call(xt)==Fe.call(At)}return!1})(ue,de,Xe,be,xe,De,Ve);if(!(1&be)){var Ne=St&&k.call(ue,"__wrapped__"),Ke=kt&&k.call(de,"__wrapped__");if(Ne||Ke){var dt=Ne?ue.value():ue,Et=Ke?de.value():de;return Ve||(Ve=new et),De(dt,Et,be,xe,Ve)}}return me?(Ve||(Ve=new et),(function(xt,At,Qt,qt,Gt,Ut){var Jt=1&Qt,rr=Be(xt),Xt=rr.length,or=Be(At).length;if(Xt!=or&&!Jt)return!1;for(var zr=Xt;zr--;){var fn=rr[zr];if(!(Jt?fn in At:k.call(At,fn)))return!1}var fr=Ut.get(xt);if(fr&&Ut.get(At))return fr==At;var ms=!0;Ut.set(xt,At),Ut.set(At,xt);for(var Hn=Jt;++zr<Xt;){fn=rr[zr];var ks=xt[fn],hn=At[fn];if(qt)var gr=Jt?qt(hn,ks,fn,At,xt,Ut):qt(ks,hn,fn,xt,At,Ut);if(!(gr===void 0?ks===hn||Gt(ks,hn,Qt,qt,Ut):gr)){ms=!1;break}Hn||(Hn=fn=="constructor")}if(ms&&!Hn){var mr=xt.constructor,Es=At.constructor;mr==Es||!("constructor"in xt)||!("constructor"in At)||typeof mr=="function"&&mr instanceof mr&&typeof Es=="function"&&Es instanceof Es||(ms=!1)}return Ut.delete(xt),Ut.delete(At),ms})(ue,de,be,xe,De,Ve)):!1})(Ie,Ge,ut,le,Ue,ye))}function Ee(Ie){return!(!Ct(Ie)||(function(Ge){return!!E&&E in Ge})(Ie))&&(Rt(Ie)?j:u).test(Re(Ie))}function Oe(Ie){if(ut=(Ge=Ie)&&Ge.constructor,le=typeof ut=="function"&&ut.prototype||U,Ge!==le)return V(Ie);var Ge,ut,le,ye=[];for(var ue in Object(Ie))k.call(Ie,ue)&&ue!="constructor"&&ye.push(ue);return ye}function ct(Ie,Ge,ut,le,ye,ue){var de=1&ut,be=Ie.length,xe=Ge.length;if(be!=xe&&!(de&&xe>be))return!1;var De=ue.get(Ie);if(De&&ue.get(Ge))return De==Ge;var Ve=-1,Pe=!0,qe=2&ut?new st:void 0;for(ue.set(Ie,Ge),ue.set(Ge,Ie);++Ve<be;){var Xe=Ie[Ve],yt=Ge[Ve];if(le)var St=de?le(yt,Xe,Ve,Ge,Ie,ue):le(Xe,yt,Ve,Ie,Ge,ue);if(St!==void 0){if(St)continue;Pe=!1;break}if(qe){if(!H(Ge,(function(kt,me){if(Ne=me,!qe.has(Ne)&&(Xe===kt||ye(Xe,kt,ut,le,ue)))return qe.push(me);var Ne}))){Pe=!1;break}}else if(Xe!==yt&&!ye(Xe,yt,ut,le,ue)){Pe=!1;break}}return ue.delete(Ie),ue.delete(Ge),Pe}function Be(Ie){return(function(Ge,ut,le){var ye=ut(Ge);return pt(Ge)?ye:(function(ue,de){for(var be=-1,xe=de.length,De=ue.length;++be<xe;)ue[De+be]=de[be];return ue})(ye,le(Ge))})(Ie,Nt,He)}function Ye(Ie,Ge){var ut,le,ye=Ie.__data__;return((le=typeof(ut=Ge))=="string"||le=="number"||le=="symbol"||le=="boolean"?ut!=="__proto__":ut===null)?ye[typeof Ge=="string"?"string":"hash"]:ye.map}function je(Ie,Ge){var ut=(function(le,ye){return le==null?void 0:le[ye]})(Ie,Ge);return Ee(ut)?ut:void 0}We.prototype.clear=function(){this.__data__=Se?Se(null):{},this.size=0},We.prototype.delete=function(Ie){var Ge=this.has(Ie)&&delete this.__data__[Ie];return this.size-=Ge?1:0,Ge},We.prototype.get=function(Ie){var Ge=this.__data__;if(Se){var ut=Ge[Ie];return ut==="__lodash_hash_undefined__"?void 0:ut}return k.call(Ge,Ie)?Ge[Ie]:void 0},We.prototype.has=function(Ie){var Ge=this.__data__;return Se?Ge[Ie]!==void 0:k.call(Ge,Ie)},We.prototype.set=function(Ie,Ge){var ut=this.__data__;return this.size+=this.has(Ie)?0:1,ut[Ie]=Se&&Ge===void 0?"__lodash_hash_undefined__":Ge,this},$e.prototype.clear=function(){this.__data__=[],this.size=0},$e.prototype.delete=function(Ie){var Ge=this.__data__,ut=gt(Ge,Ie);return!(ut<0)&&(ut==Ge.length-1?Ge.pop():ee.call(Ge,ut,1),--this.size,!0)},$e.prototype.get=function(Ie){var Ge=this.__data__,ut=gt(Ge,Ie);return ut<0?void 0:Ge[ut][1]},$e.prototype.has=function(Ie){return gt(this.__data__,Ie)>-1},$e.prototype.set=function(Ie,Ge){var ut=this.__data__,le=gt(ut,Ie);return le<0?(++this.size,ut.push([Ie,Ge])):ut[le][1]=Ge,this},it.prototype.clear=function(){this.size=0,this.__data__={hash:new We,map:new(ae||$e),string:new We}},it.prototype.delete=function(Ie){var Ge=Ye(this,Ie).delete(Ie);return this.size-=Ge?1:0,Ge},it.prototype.get=function(Ie){return Ye(this,Ie).get(Ie)},it.prototype.has=function(Ie){return Ye(this,Ie).has(Ie)},it.prototype.set=function(Ie,Ge){var ut=Ye(this,Ie),le=ut.size;return ut.set(Ie,Ge),this.size+=ut.size==le?0:1,this},st.prototype.add=st.prototype.push=function(Ie){return this.__data__.set(Ie,"__lodash_hash_undefined__"),this},st.prototype.has=function(Ie){return this.__data__.has(Ie)},et.prototype.clear=function(){this.__data__=new $e,this.size=0},et.prototype.delete=function(Ie){var Ge=this.__data__,ut=Ge.delete(Ie);return this.size=Ge.size,ut},et.prototype.get=function(Ie){return this.__data__.get(Ie)},et.prototype.has=function(Ie){return this.__data__.has(Ie)},et.prototype.set=function(Ie,Ge){var ut=this.__data__;if(ut instanceof $e){var le=ut.__data__;if(!ae||le.length<199)return le.push([Ie,Ge]),this.size=++ut.size,this;ut=this.__data__=new it(le)}return ut.set(Ie,Ge),this.size=ut.size,this};var He=te?function(Ie){return Ie==null?[]:(Ie=Object(Ie),(function(Ge,ut){for(var le=-1,ye=Ge==null?0:Ge.length,ue=0,de=[];++le<ye;){var be=Ge[le];ut(be,le,Ge)&&(de[ue++]=be)}return de})(te(Ie),(function(Ge){return K.call(Ie,Ge)})))}:function(){return[]},Te=mt;function rt(Ie,Ge){return!!(Ge=Ge??9007199254740991)&&(typeof Ie=="number"||p.test(Ie))&&Ie>-1&&Ie%1==0&&Ie<Ge}function Re(Ie){if(Ie!=null){try{return S.call(Ie)}catch{}try{return Ie+""}catch{}}return""}function Ae(Ie,Ge){return Ie===Ge||Ie!=Ie&&Ge!=Ge}(Z&&Te(new Z(new ArrayBuffer(1)))!="[object DataView]"||ae&&Te(new ae)!=l||re&&Te(re.resolve())!="[object Promise]"||oe&&Te(new oe)!=o||he&&Te(new he)!="[object WeakMap]")&&(Te=function(Ie){var Ge=mt(Ie),ut=Ge==c?Ie.constructor:void 0,le=ut?Re(ut):"";if(le)switch(le){case ge:return"[object DataView]";case ne:return l;case fe:return"[object Promise]";case pe:return o;case ke:return"[object WeakMap]"}return Ge});var at=Me((function(){return arguments})())?Me:function(Ie){return Mt(Ie)&&k.call(Ie,"callee")&&!K.call(Ie,"callee")},pt=Array.isArray,lt=G||function(){return!1};function Rt(Ie){if(!Ct(Ie))return!1;var Ge=mt(Ie);return Ge=="[object Function]"||Ge=="[object GeneratorFunction]"||Ge=="[object AsyncFunction]"||Ge=="[object Proxy]"}function jt(Ie){return typeof Ie=="number"&&Ie>-1&&Ie%1==0&&Ie<=9007199254740991}function Ct(Ie){var Ge=typeof Ie;return Ie!=null&&(Ge=="object"||Ge=="function")}function Mt(Ie){return Ie!=null&&typeof Ie=="object"}var Dt=P?(function(Ie){return function(Ge){return Ie(Ge)}})(P):function(Ie){return Mt(Ie)&&jt(Ie.length)&&!!h[mt(Ie)]};function Nt(Ie){return(Ge=Ie)!=null&&jt(Ge.length)&&!Rt(Ge)?Ze(Ie):Oe(Ie);var Ge}n.exports=function(Ie,Ge){return Ue(Ie,Ge)}}).call(this)}).call(this,typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(e,n,s){(function(i){(function(){var a=typeof i=="object"&&i&&i.Object===Object&&i,l=typeof self=="object"&&self&&self.Object===Object&&self,c=a||l||Function("return this")(),o=Object.prototype,u=o.hasOwnProperty,p=o.toString,h=c.Symbol,d=h?h.toStringTag:void 0;function x(b){return b==null?b===void 0?"[object Undefined]":"[object Null]":d&&d in Object(b)?(function(g){var v=u.call(g,d),y=g[d];try{g[d]=void 0;var T=!0}catch{}var R=p.call(g);return T&&(v?g[d]=y:delete g[d]),R})(b):(function(g){return p.call(g)})(b)}n.exports=function(b){if(!(function(v){var y=typeof v;return v!=null&&(y=="object"||y=="function")})(b))return!1;var g=x(b);return g=="[object Function]"||g=="[object GeneratorFunction]"||g=="[object AsyncFunction]"||g=="[object Proxy]"}}).call(this)}).call(this,typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(e,n,s){n.exports=function(i){return i==null}},{}],448:[function(e,n,s){n.exports=function(i){return i===void 0}},{}],449:[function(e,n,s){(function(i){(function(){var a=/^\[object .+?Constructor\]$/,l=typeof i=="object"&&i&&i.Object===Object&&i,c=typeof self=="object"&&self&&self.Object===Object&&self,o=l||c||Function("return this")();function u(D,Q){return!!(D&&D.length)&&(function(K,ee,W){if(ee!=ee)return(function(V,Z,ae,re){for(var oe=V.length,he=ae+-1;++he<oe;)if(Z(V[he],he,V))return he;return-1})(K,p,W);for(var te=W-1,G=K.length;++te<G;)if(K[te]===ee)return te;return-1})(D,Q,0)>-1}function p(D){return D!=D}function h(D,Q){return D.has(Q)}function d(D){var Q=-1,K=Array(D.size);return D.forEach((function(ee){K[++Q]=ee})),K}var x,b=Array.prototype,g=Function.prototype,v=Object.prototype,y=o["__core-js_shared__"],T=(x=/[^.]+$/.exec(y&&y.keys&&y.keys.IE_PROTO||""))?"Symbol(src)_1."+x:"",R=g.toString,P=v.hasOwnProperty,H=v.toString,L=RegExp("^"+R.call(P).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),I=b.splice,O=j(o,"Map"),F=j(o,"Set"),q=j(Object,"create");function z(D){var Q=-1,K=D?D.length:0;for(this.clear();++Q<K;){var ee=D[Q];this.set(ee[0],ee[1])}}function N(D){var Q=-1,K=D?D.length:0;for(this.clear();++Q<K;){var ee=D[Q];this.set(ee[0],ee[1])}}function U(D){var Q=-1,K=D?D.length:0;for(this.clear();++Q<K;){var ee=D[Q];this.set(ee[0],ee[1])}}function C(D){var Q=-1,K=D?D.length:0;for(this.__data__=new U;++Q<K;)this.add(D[Q])}function S(D,Q){for(var K,ee,W=D.length;W--;)if((K=D[W][0])===(ee=Q)||K!=K&&ee!=ee)return W;return-1}function k(D){return!(!B(D)||(Q=D,T&&T in Q))&&((function(K){var ee=B(K)?H.call(K):"";return ee=="[object Function]"||ee=="[object GeneratorFunction]"})(D)||(function(K){var ee=!1;if(K!=null&&typeof K.toString!="function")try{ee=!!(K+"")}catch{}return ee})(D)?L:a).test((function(K){if(K!=null){try{return R.call(K)}catch{}try{return K+""}catch{}}return""})(D));var Q}z.prototype.clear=function(){this.__data__=q?q(null):{}},z.prototype.delete=function(D){return this.has(D)&&delete this.__data__[D]},z.prototype.get=function(D){var Q=this.__data__;if(q){var K=Q[D];return K==="__lodash_hash_undefined__"?void 0:K}return P.call(Q,D)?Q[D]:void 0},z.prototype.has=function(D){var Q=this.__data__;return q?Q[D]!==void 0:P.call(Q,D)},z.prototype.set=function(D,Q){return this.__data__[D]=q&&Q===void 0?"__lodash_hash_undefined__":Q,this},N.prototype.clear=function(){this.__data__=[]},N.prototype.delete=function(D){var Q=this.__data__,K=S(Q,D);return!(K<0)&&(K==Q.length-1?Q.pop():I.call(Q,K,1),!0)},N.prototype.get=function(D){var Q=this.__data__,K=S(Q,D);return K<0?void 0:Q[K][1]},N.prototype.has=function(D){return S(this.__data__,D)>-1},N.prototype.set=function(D,Q){var K=this.__data__,ee=S(K,D);return ee<0?K.push([D,Q]):K[ee][1]=Q,this},U.prototype.clear=function(){this.__data__={hash:new z,map:new(O||N),string:new z}},U.prototype.delete=function(D){return A(this,D).delete(D)},U.prototype.get=function(D){return A(this,D).get(D)},U.prototype.has=function(D){return A(this,D).has(D)},U.prototype.set=function(D,Q){return A(this,D).set(D,Q),this},C.prototype.add=C.prototype.push=function(D){return this.__data__.set(D,"__lodash_hash_undefined__"),this},C.prototype.has=function(D){return this.__data__.has(D)};var E=F&&1/d(new F([,-0]))[1]==1/0?function(D){return new F(D)}:function(){};function A(D,Q){var K,ee,W=D.__data__;return((ee=typeof(K=Q))=="string"||ee=="number"||ee=="symbol"||ee=="boolean"?K!=="__proto__":K===null)?W[typeof Q=="string"?"string":"hash"]:W.map}function j(D,Q){var K=(function(ee,W){return ee==null?void 0:ee[W]})(D,Q);return k(K)?K:void 0}function B(D){var Q=typeof D;return!!D&&(Q=="object"||Q=="function")}n.exports=function(D){return D&&D.length?(function(Q,K,ee){var W=-1,te=u,G=Q.length,V=!0,Z=[],ae=Z;if(G>=200){var re=E(Q);if(re)return d(re);V=!1,te=h,ae=new C}else ae=Z;e:for(;++W<G;){var oe=Q[W],he=oe;if(oe=oe!==0?oe:0,V&&he==he){for(var Se=ae.length;Se--;)if(ae[Se]===he)continue e;Z.push(oe)}else te(ae,he,ee)||(ae!==Z&&ae.push(he),Z.push(oe))}return Z})(D):[]}}).call(this)}).call(this,typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(e,n,s){var i=e("inherits"),a=e("hash-base"),l=e("safe-buffer").Buffer,c=new Array(16);function o(){a.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function u(b,g){return b<<g|b>>>32-g}function p(b,g,v,y,T,R,P){return u(b+(g&v|~g&y)+T+R|0,P)+g|0}function h(b,g,v,y,T,R,P){return u(b+(g&y|v&~y)+T+R|0,P)+g|0}function d(b,g,v,y,T,R,P){return u(b+(g^v^y)+T+R|0,P)+g|0}function x(b,g,v,y,T,R,P){return u(b+(v^(g|~y))+T+R|0,P)+g|0}i(o,a),o.prototype._update=function(){for(var b=c,g=0;g<16;++g)b[g]=this._block.readInt32LE(4*g);var v=this._a,y=this._b,T=this._c,R=this._d;v=p(v,y,T,R,b[0],3614090360,7),R=p(R,v,y,T,b[1],3905402710,12),T=p(T,R,v,y,b[2],606105819,17),y=p(y,T,R,v,b[3],3250441966,22),v=p(v,y,T,R,b[4],4118548399,7),R=p(R,v,y,T,b[5],1200080426,12),T=p(T,R,v,y,b[6],2821735955,17),y=p(y,T,R,v,b[7],4249261313,22),v=p(v,y,T,R,b[8],1770035416,7),R=p(R,v,y,T,b[9],2336552879,12),T=p(T,R,v,y,b[10],4294925233,17),y=p(y,T,R,v,b[11],2304563134,22),v=p(v,y,T,R,b[12],1804603682,7),R=p(R,v,y,T,b[13],4254626195,12),T=p(T,R,v,y,b[14],2792965006,17),v=h(v,y=p(y,T,R,v,b[15],1236535329,22),T,R,b[1],4129170786,5),R=h(R,v,y,T,b[6],3225465664,9),T=h(T,R,v,y,b[11],643717713,14),y=h(y,T,R,v,b[0],3921069994,20),v=h(v,y,T,R,b[5],3593408605,5),R=h(R,v,y,T,b[10],38016083,9),T=h(T,R,v,y,b[15],3634488961,14),y=h(y,T,R,v,b[4],3889429448,20),v=h(v,y,T,R,b[9],568446438,5),R=h(R,v,y,T,b[14],3275163606,9),T=h(T,R,v,y,b[3],4107603335,14),y=h(y,T,R,v,b[8],1163531501,20),v=h(v,y,T,R,b[13],2850285829,5),R=h(R,v,y,T,b[2],4243563512,9),T=h(T,R,v,y,b[7],1735328473,14),v=d(v,y=h(y,T,R,v,b[12],2368359562,20),T,R,b[5],4294588738,4),R=d(R,v,y,T,b[8],2272392833,11),T=d(T,R,v,y,b[11],1839030562,16),y=d(y,T,R,v,b[14],4259657740,23),v=d(v,y,T,R,b[1],2763975236,4),R=d(R,v,y,T,b[4],1272893353,11),T=d(T,R,v,y,b[7],4139469664,16),y=d(y,T,R,v,b[10],3200236656,23),v=d(v,y,T,R,b[13],681279174,4),R=d(R,v,y,T,b[0],3936430074,11),T=d(T,R,v,y,b[3],3572445317,16),y=d(y,T,R,v,b[6],76029189,23),v=d(v,y,T,R,b[9],3654602809,4),R=d(R,v,y,T,b[12],3873151461,11),T=d(T,R,v,y,b[15],530742520,16),v=x(v,y=d(y,T,R,v,b[2],3299628645,23),T,R,b[0],4096336452,6),R=x(R,v,y,T,b[7],1126891415,10),T=x(T,R,v,y,b[14],2878612391,15),y=x(y,T,R,v,b[5],4237533241,21),v=x(v,y,T,R,b[12],1700485571,6),R=x(R,v,y,T,b[3],2399980690,10),T=x(T,R,v,y,b[10],4293915773,15),y=x(y,T,R,v,b[1],2240044497,21),v=x(v,y,T,R,b[8],1873313359,6),R=x(R,v,y,T,b[15],4264355552,10),T=x(T,R,v,y,b[6],2734768916,15),y=x(y,T,R,v,b[13],1309151649,21),v=x(v,y,T,R,b[4],4149444226,6),R=x(R,v,y,T,b[11],3174756917,10),T=x(T,R,v,y,b[2],718787259,15),y=x(y,T,R,v,b[9],3951481745,21),this._a=this._a+v|0,this._b=this._b+y|0,this._c=this._c+T|0,this._d=this._d+R|0},o.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var b=l.allocUnsafe(16);return b.writeInt32LE(this._a,0),b.writeInt32LE(this._b,4),b.writeInt32LE(this._c,8),b.writeInt32LE(this._d,12),b},n.exports=o},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(e,n,s){var i=e("bn.js"),a=e("brorand");function l(c){this.rand=c||new a.Rand}n.exports=l,l.create=function(c){return new l(c)},l.prototype._randbelow=function(c){var o=c.bitLength(),u=Math.ceil(o/8);do var p=new i(this.rand.generate(u));while(p.cmp(c)>=0);return p},l.prototype._randrange=function(c,o){var u=o.sub(c);return c.add(this._randbelow(u))},l.prototype.test=function(c,o,u){var p=c.bitLength(),h=i.mont(c),d=new i(1).toRed(h);o||(o=Math.max(1,p/48|0));for(var x=c.subn(1),b=0;!x.testn(b);b++);for(var g=c.shrn(b),v=x.toRed(h);o>0;o--){var y=this._randrange(new i(2),x);u&&u(y);var T=y.toRed(h).redPow(g);if(T.cmp(d)!==0&&T.cmp(v)!==0){for(var R=1;R<b;R++){if((T=T.redSqr()).cmp(d)===0)return!1;if(T.cmp(v)===0)break}if(R===b)return!1}}return!0},l.prototype.getDivisor=function(c,o){var u=c.bitLength(),p=i.mont(c),h=new i(1).toRed(p);o||(o=Math.max(1,u/48|0));for(var d=c.subn(1),x=0;!d.testn(x);x++);for(var b=c.shrn(x),g=d.toRed(p);o>0;o--){var v=this._randrange(new i(2),d),y=c.gcd(v);if(y.cmpn(1)!==0)return y;var T=v.toRed(p).redPow(b);if(T.cmp(h)!==0&&T.cmp(g)!==0){for(var R=1;R<x;R++){if((T=T.redSqr()).cmp(h)===0)return T.fromRed().subn(1).gcd(c);if(T.cmp(g)===0)break}if(R===x)return(T=T.redSqr()).fromRed().subn(1).gcd(c)}}return!1}},{"bn.js":452,brorand:187}],452:[function(e,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],453:[function(e,n,s){function i(a,l){if(!a)throw new Error(l||"Assertion failed")}n.exports=i,i.equal=function(a,l,c){if(a!=l)throw new Error(c||"Assertion failed: "+a+" != "+l)}},{}],454:[function(e,n,s){var i=s;function a(c){return c.length===1?"0"+c:c}function l(c){for(var o="",u=0;u<c.length;u++)o+=a(c[u].toString(16));return o}i.toArray=function(c,o){if(Array.isArray(c))return c.slice();if(!c)return[];var u=[];if(typeof c!="string"){for(var p=0;p<c.length;p++)u[p]=0|c[p];return u}if(o==="hex")for((c=c.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(c="0"+c),p=0;p<c.length;p+=2)u.push(parseInt(c[p]+c[p+1],16));else for(p=0;p<c.length;p++){var h=c.charCodeAt(p),d=h>>8,x=255&h;d?u.push(d,x):u.push(x)}return u},i.zero2=a,i.toHex=l,i.encode=function(c,o){return o==="hex"?l(c):c}},{}],455:[function(e,n,s){n.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(e,n,s){var i=e("asn1.js");s.certificate=e("./certificate");var a=i.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));s.RSAPrivateKey=a;var l=i.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));s.RSAPublicKey=l;var c=i.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(o),this.key("subjectPublicKey").bitstr())}));s.PublicKey=c;var o=i.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),u=i.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(o),this.key("subjectPrivateKey").octstr())}));s.PrivateKey=u;var p=i.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));s.EncryptedPrivateKey=p;var h=i.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));s.DSAPrivateKey=h,s.DSAparam=i.define("DSAparam",(function(){this.int()}));var d=i.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(x),this.key("publicKey").optional().explicit(1).bitstr())}));s.ECPrivateKey=d;var x=i.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));s.signature=i.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},{"./certificate":457,"asn1.js":170}],457:[function(e,n,s){var i=e("asn1.js"),a=i.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),l=i.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),c=i.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),o=i.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(c),this.key("subjectPublicKey").bitstr())})),u=i.define("RelativeDistinguishedName",(function(){this.setof(l)})),p=i.define("RDNSequence",(function(){this.seqof(u)})),h=i.define("Name",(function(){this.choice({rdnSequence:this.use(p)})})),d=i.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(a),this.key("notAfter").use(a))})),x=i.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),b=i.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(c),this.key("issuer").use(h),this.key("validity").use(d),this.key("subject").use(h),this.key("subjectPublicKeyInfo").use(o),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(x).optional())})),g=i.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(b),this.key("signatureAlgorithm").use(c),this.key("signatureValue").bitstr())}));n.exports=g},{"asn1.js":170}],458:[function(e,n,s){var i=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,a=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,l=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,c=e("evp_bytestokey"),o=e("browserify-aes"),u=e("safe-buffer").Buffer;n.exports=function(p,h){var d,x=p.toString(),b=x.match(i);if(b){var g="aes"+b[1],v=u.from(b[2],"hex"),y=u.from(b[3].replace(/[\r\n]/g,""),"base64"),T=c(h,v.slice(0,8),parseInt(b[1],10)).key,R=[],P=o.createDecipheriv(g,T,v);R.push(P.update(y)),R.push(P.final()),d=u.concat(R)}else{var H=x.match(l);d=u.from(H[2].replace(/[\r\n]/g,""),"base64")}return{tag:x.match(a)[1],data:d}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(e,n,s){var i=e("./asn1"),a=e("./aesid.json"),l=e("./fixProc"),c=e("browserify-aes"),o=e("pbkdf2"),u=e("safe-buffer").Buffer;function p(h){var d;typeof h!="object"||u.isBuffer(h)||(d=h.passphrase,h=h.key),typeof h=="string"&&(h=u.from(h));var x,b,g=l(h,d),v=g.tag,y=g.data;switch(v){case"CERTIFICATE":b=i.certificate.decode(y,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(b||(b=i.PublicKey.decode(y,"der")),x=b.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPublicKey.decode(b.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return b.subjectPrivateKey=b.subjectPublicKey,{type:"ec",data:b};case"1.2.840.10040.4.1":return b.algorithm.params.pub_key=i.DSAparam.decode(b.subjectPublicKey.data,"der"),{type:"dsa",data:b.algorithm.params};default:throw new Error("unknown key id "+x)}case"ENCRYPTED PRIVATE KEY":y=(function(T,R){var P=T.algorithm.decrypt.kde.kdeparams.salt,H=parseInt(T.algorithm.decrypt.kde.kdeparams.iters.toString(),10),L=a[T.algorithm.decrypt.cipher.algo.join(".")],I=T.algorithm.decrypt.cipher.iv,O=T.subjectPrivateKey,F=parseInt(L.split("-")[1],10)/8,q=o.pbkdf2Sync(R,P,H,F,"sha1"),z=c.createDecipheriv(L,q,I),N=[];return N.push(z.update(O)),N.push(z.final()),u.concat(N)})(y=i.EncryptedPrivateKey.decode(y,"der"),d);case"PRIVATE KEY":switch(x=(b=i.PrivateKey.decode(y,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPrivateKey.decode(b.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:b.algorithm.curve,privateKey:i.ECPrivateKey.decode(b.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return b.algorithm.params.priv_key=i.DSAparam.decode(b.subjectPrivateKey,"der"),{type:"dsa",params:b.algorithm.params};default:throw new Error("unknown key id "+x)}case"RSA PUBLIC KEY":return i.RSAPublicKey.decode(y,"der");case"RSA PRIVATE KEY":return i.RSAPrivateKey.decode(y,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:i.DSAPrivateKey.decode(y,"der")};case"EC PRIVATE KEY":return{curve:(y=i.ECPrivateKey.decode(y,"der")).parameters.value,privateKey:y.privateKey};default:throw new Error("unknown key type "+v)}}n.exports=p,p.signature=i.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(e,n,s){s.pbkdf2=e("./lib/async"),s.pbkdf2Sync=e("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(e,n,s){(function(i){(function(){var a,l,c=e("safe-buffer").Buffer,o=e("./precondition"),u=e("./default-encoding"),p=e("./sync"),h=e("./to-buffer"),d=i.crypto&&i.crypto.subtle,x={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},b=[];function g(){return l||(l=i.process&&i.process.nextTick?i.process.nextTick:i.queueMicrotask?i.queueMicrotask:i.setImmediate?i.setImmediate:i.setTimeout)}function v(y,T,R,P,H){return d.importKey("raw",y,{name:"PBKDF2"},!1,["deriveBits"]).then((function(L){return d.deriveBits({name:"PBKDF2",salt:T,iterations:R,hash:{name:H}},L,P<<3)})).then((function(L){return c.from(L)}))}n.exports=function(y,T,R,P,H,L){typeof H=="function"&&(L=H,H=void 0);var I=x[(H=H||"sha1").toLowerCase()];if(I&&typeof i.Promise=="function"){if(o(R,P),y=h(y,u,"Password"),T=h(T,u,"Salt"),typeof L!="function")throw new Error("No callback provided to pbkdf2");(function(O,F){O.then((function(q){g()((function(){F(null,q)}))}),(function(q){g()((function(){F(q)}))}))})((function(O){if(i.process&&!i.process.browser||!d||!d.importKey||!d.deriveBits)return Promise.resolve(!1);if(b[O]!==void 0)return b[O];var F=v(a=a||c.alloc(8),a,10,128,O).then((function(){return!0})).catch((function(){return!1}));return b[O]=F,F})(I).then((function(O){return O?v(y,T,R,P,I):p(y,T,R,P,H)})),L)}else g()((function(){var O;try{O=p(y,T,R,P,H)}catch(F){return L(F)}L(null,O)}))}}).call(this)}).call(this,typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(e,n,s){(function(i,a){(function(){var l;a.process&&a.process.browser?l="utf-8":a.process&&a.process.version?l=parseInt(i.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":l="utf-8",n.exports=l}).call(this)}).call(this,e("_process"),typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(e,n,s){var i=Math.pow(2,30)-1;n.exports=function(a,l){if(typeof a!="number")throw new TypeError("Iterations not a number");if(a<0)throw new TypeError("Bad iterations");if(typeof l!="number")throw new TypeError("Key length not a number");if(l<0||l>i||l!=l)throw new TypeError("Bad key length")}},{}],464:[function(e,n,s){var i=e("create-hash/md5"),a=e("ripemd160"),l=e("sha.js"),c=e("safe-buffer").Buffer,o=e("./precondition"),u=e("./default-encoding"),p=e("./to-buffer"),h=c.alloc(128),d={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function x(b,g,v){var y=(function(I){function O(F){return l(I).update(F).digest()}return I==="rmd160"||I==="ripemd160"?function(F){return new a().update(F).digest()}:I==="md5"?i:O})(b),T=b==="sha512"||b==="sha384"?128:64;g.length>T?g=y(g):g.length<T&&(g=c.concat([g,h],T));for(var R=c.allocUnsafe(T+d[b]),P=c.allocUnsafe(T+d[b]),H=0;H<T;H++)R[H]=54^g[H],P[H]=92^g[H];var L=c.allocUnsafe(T+v+4);R.copy(L,0,0,T),this.ipad1=L,this.ipad2=R,this.opad=P,this.alg=b,this.blocksize=T,this.hash=y,this.size=d[b]}x.prototype.run=function(b,g){return b.copy(g,this.blocksize),this.hash(g).copy(this.opad,this.blocksize),this.hash(this.opad)},n.exports=function(b,g,v,y,T){o(v,y);var R=new x(T=T||"sha1",b=p(b,u,"Password"),(g=p(g,u,"Salt")).length),P=c.allocUnsafe(y),H=c.allocUnsafe(g.length+4);g.copy(H,0,0,g.length);for(var L=0,I=d[T],O=Math.ceil(y/I),F=1;F<=O;F++){H.writeUInt32BE(F,g.length);for(var q=R.run(H,R.ipad1),z=q,N=1;N<v;N++){z=R.run(z,R.ipad2);for(var U=0;U<I;U++)q[U]^=z[U]}q.copy(P,L),L+=I}return P}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(e,n,s){var i=e("safe-buffer").Buffer;n.exports=function(a,l,c){if(i.isBuffer(a))return a;if(typeof a=="string")return i.from(a,l);if(ArrayBuffer.isView(a))return i.from(a.buffer);throw new TypeError(c+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(e,n,s){(function(i){(function(){i===void 0||!i.version||i.version.indexOf("v0.")===0||i.version.indexOf("v1.")===0&&i.version.indexOf("v1.8.")!==0?n.exports={nextTick:function(a,l,c,o){if(typeof a!="function")throw new TypeError('"callback" argument must be a function');var u,p,h=arguments.length;switch(h){case 0:case 1:return i.nextTick(a);case 2:return i.nextTick((function(){a.call(null,l)}));case 3:return i.nextTick((function(){a.call(null,l,c)}));case 4:return i.nextTick((function(){a.call(null,l,c,o)}));default:for(u=new Array(h-1),p=0;p<u.length;)u[p++]=arguments[p];return i.nextTick((function(){a.apply(null,u)}))}}}:n.exports=i}).call(this)}).call(this,e("_process"))},{_process:467}],467:[function(e,n,s){var i,a,l=n.exports={};function c(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function u(T){if(i===setTimeout)return setTimeout(T,0);if((i===c||!i)&&setTimeout)return i=setTimeout,setTimeout(T,0);try{return i(T,0)}catch{try{return i.call(null,T,0)}catch{return i.call(this,T,0)}}}(function(){try{i=typeof setTimeout=="function"?setTimeout:c}catch{i=c}try{a=typeof clearTimeout=="function"?clearTimeout:o}catch{a=o}})();var p,h=[],d=!1,x=-1;function b(){d&&p&&(d=!1,p.length?h=p.concat(h):x=-1,h.length&&g())}function g(){if(!d){var T=u(b);d=!0;for(var R=h.length;R;){for(p=h,h=[];++x<R;)p&&p[x].run();x=-1,R=h.length}p=null,d=!1,(function(P){if(a===clearTimeout)return clearTimeout(P);if((a===o||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(P);try{a(P)}catch{try{return a.call(null,P)}catch{return a.call(this,P)}}})(T)}}function v(T,R){this.fun=T,this.array=R}function y(){}l.nextTick=function(T){var R=new Array(arguments.length-1);if(arguments.length>1)for(var P=1;P<arguments.length;P++)R[P-1]=arguments[P];h.push(new v(T,R)),h.length!==1||d||u(g)},v.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=y,l.addListener=y,l.once=y,l.off=y,l.removeListener=y,l.removeAllListeners=y,l.emit=y,l.prependListener=y,l.prependOnceListener=y,l.listeners=function(T){return[]},l.binding=function(T){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(T){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},{}],468:[function(e,n,s){s.publicEncrypt=e("./publicEncrypt"),s.privateDecrypt=e("./privateDecrypt"),s.privateEncrypt=function(i,a){return s.publicEncrypt(i,a,!0)},s.publicDecrypt=function(i,a){return s.privateDecrypt(i,a,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(e,n,s){var i=e("create-hash"),a=e("safe-buffer").Buffer;function l(c){var o=a.allocUnsafe(4);return o.writeUInt32BE(c,0),o}n.exports=function(c,o){for(var u,p=a.alloc(0),h=0;p.length<o;)u=l(h++),p=a.concat([p,i("sha1").update(c).update(u).digest()]);return p.slice(0,o)}},{"create-hash":386,"safe-buffer":494}],470:[function(e,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],471:[function(e,n,s){var i=e("parse-asn1"),a=e("./mgf"),l=e("./xor"),c=e("bn.js"),o=e("browserify-rsa"),u=e("create-hash"),p=e("./withPublic"),h=e("safe-buffer").Buffer;n.exports=function(d,x,b){var g;g=d.padding?d.padding:b?1:4;var v,y=i(d),T=y.modulus.byteLength();if(x.length>T||new c(x).cmp(y.modulus)>=0)throw new Error("decryption error");v=b?p(new c(x),y):o(x,y);var R=h.alloc(T-v.length);if(v=h.concat([R,v],T),g===4)return(function(P,H){var L=P.modulus.byteLength(),I=u("sha1").update(h.alloc(0)).digest(),O=I.length;if(H[0]!==0)throw new Error("decryption error");var F=H.slice(1,O+1),q=H.slice(O+1),z=l(F,a(q,O)),N=l(q,a(z,L-O-1));if((function(C,S){C=h.from(C),S=h.from(S);var k=0,E=C.length;C.length!==S.length&&(k++,E=Math.min(C.length,S.length));for(var A=-1;++A<E;)k+=C[A]^S[A];return k})(I,N.slice(0,O)))throw new Error("decryption error");for(var U=O;N[U]===0;)U++;if(N[U++]!==1)throw new Error("decryption error");return N.slice(U)})(y,v);if(g===1)return(function(P,H,L){for(var I=H.slice(0,2),O=2,F=0;H[O++]!==0;)if(O>=H.length){F++;break}var q=H.slice(2,O-1);if((I.toString("hex")!=="0002"&&!L||I.toString("hex")!=="0001"&&L)&&F++,q.length<8&&F++,F)throw new Error("decryption error");return H.slice(O)})(0,v,b);if(g===3)return v;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(e,n,s){var i=e("parse-asn1"),a=e("randombytes"),l=e("create-hash"),c=e("./mgf"),o=e("./xor"),u=e("bn.js"),p=e("./withPublic"),h=e("browserify-rsa"),d=e("safe-buffer").Buffer;n.exports=function(x,b,g){var v;v=x.padding?x.padding:g?1:4;var y,T=i(x);if(v===4)y=(function(R,P){var H=R.modulus.byteLength(),L=P.length,I=l("sha1").update(d.alloc(0)).digest(),O=I.length,F=2*O;if(L>H-F-2)throw new Error("message too long");var q=d.alloc(H-L-F-2),z=H-O-1,N=a(O),U=o(d.concat([I,q,d.alloc(1,1),P],z),c(N,z)),C=o(N,c(U,O));return new u(d.concat([d.alloc(1),C,U],H))})(T,b);else if(v===1)y=(function(R,P,H){var L,I=P.length,O=R.modulus.byteLength();if(I>O-11)throw new Error("message too long");return L=H?d.alloc(O-I-3,255):(function(F){for(var q,z=d.allocUnsafe(F),N=0,U=a(2*F),C=0;N<F;)C===U.length&&(U=a(2*F),C=0),(q=U[C++])&&(z[N++]=q);return z})(O-I-3),new u(d.concat([d.from([0,H?1:2]),L,d.alloc(1),P],O))})(T,b,g);else{if(v!==3)throw new Error("unknown padding");if((y=new u(b)).cmp(T.modulus)>=0)throw new Error("data too long for modulus")}return g?h(y,T):p(y,T)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(e,n,s){var i=e("bn.js"),a=e("safe-buffer").Buffer;n.exports=function(l,c){return a.from(l.toRed(i.mont(c.modulus)).redPow(new i(c.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(e,n,s){n.exports=function(i,a){for(var l=i.length,c=-1;++c<l;)i[c]^=a[c];return i}},{}],475:[function(e,n,s){(function(i,a){(function(){var l=e("safe-buffer").Buffer,c=a.crypto||a.msCrypto;c&&c.getRandomValues?n.exports=function(o,u){if(o>4294967295)throw new RangeError("requested too many random bytes");var p=l.allocUnsafe(o);if(o>0)if(o>65536)for(var h=0;h<o;h+=65536)c.getRandomValues(p.slice(h,h+65536));else c.getRandomValues(p);return typeof u=="function"?i.nextTick((function(){u(null,p)})):p}:n.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,e("_process"),typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(e,n,s){(function(i,a){(function(){function l(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var c=e("safe-buffer"),o=e("randombytes"),u=c.Buffer,p=c.kMaxLength,h=a.crypto||a.msCrypto,d=Math.pow(2,32)-1;function x(v,y){if(typeof v!="number"||v!=v)throw new TypeError("offset must be a number");if(v>d||v<0)throw new TypeError("offset must be a uint32");if(v>p||v>y)throw new RangeError("offset out of range")}function b(v,y,T){if(typeof v!="number"||v!=v)throw new TypeError("size must be a number");if(v>d||v<0)throw new TypeError("size must be a uint32");if(v+y>T||v>p)throw new RangeError("buffer too small")}function g(v,y,T,R){if(i.browser){var P=v.buffer,H=new Uint8Array(P,y,T);return h.getRandomValues(H),R?void i.nextTick((function(){R(null,v)})):v}if(!R)return o(T).copy(v,y),v;o(T,(function(L,I){if(L)return R(L);I.copy(v,y),R(null,v)}))}h&&h.getRandomValues||!i.browser?(s.randomFill=function(v,y,T,R){if(!(u.isBuffer(v)||v instanceof a.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof y=="function")R=y,y=0,T=v.length;else if(typeof T=="function")R=T,T=v.length-y;else if(typeof R!="function")throw new TypeError('"cb" argument must be a function');return x(y,v.length),b(T,y,v.length),g(v,y,T,R)},s.randomFillSync=function(v,y,T){if(y===void 0&&(y=0),!(u.isBuffer(v)||v instanceof a.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return x(y,v.length),T===void 0&&(T=v.length-y),b(T,y,v.length),g(v,y,T)}):(s.randomFill=l,s.randomFillSync=l)}).call(this)}).call(this,e("_process"),typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(e,n,s){var i={};function a(c,o,u){u||(u=Error);var p=(function(h){var d,x;function b(g,v,y){return h.call(this,(function(T,R,P){return typeof o=="string"?o:o(T,R,P)})(g,v,y))||this}return x=h,(d=b).prototype=Object.create(x.prototype),d.prototype.constructor=d,d.__proto__=x,b})(u);p.prototype.name=u.name,p.prototype.code=c,i[c]=p}function l(c,o){if(Array.isArray(c)){var u=c.length;return c=c.map((function(p){return String(p)})),u>2?"one of ".concat(o," ").concat(c.slice(0,u-1).join(", "),", or ")+c[u-1]:u===2?"one of ".concat(o," ").concat(c[0]," or ").concat(c[1]):"of ".concat(o," ").concat(c[0])}return"of ".concat(o," ").concat(String(c))}a("ERR_INVALID_OPT_VALUE",(function(c,o){return'The value "'+o+'" is invalid for option "'+c+'"'}),TypeError),a("ERR_INVALID_ARG_TYPE",(function(c,o,u){var p,h,d;if(typeof o=="string"&&(h="not ",o.substr(0,h.length)===h)?(p="must not be",o=o.replace(/^not /,"")):p="must be",(function(b,g,v){return(v===void 0||v>b.length)&&(v=b.length),b.substring(v-g.length,v)===g})(c," argument"))d="The ".concat(c," ").concat(p," ").concat(l(o,"type"));else{var x=(function(b,g,v){return typeof v!="number"&&(v=0),!(v+g.length>b.length)&&b.indexOf(g,v)!==-1})(c,".")?"property":"argument";d='The "'.concat(c,'" ').concat(x," ").concat(p," ").concat(l(o,"type"))}return d+=". Received type ".concat(typeof u)}),TypeError),a("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),a("ERR_METHOD_NOT_IMPLEMENTED",(function(c){return"The "+c+" method is not implemented"})),a("ERR_STREAM_PREMATURE_CLOSE","Premature close"),a("ERR_STREAM_DESTROYED",(function(c){return"Cannot call "+c+" after a stream was destroyed"})),a("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),a("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),a("ERR_STREAM_WRITE_AFTER_END","write after end"),a("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),a("ERR_UNKNOWN_ENCODING",(function(c){return"Unknown encoding: "+c}),TypeError),a("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),n.exports.codes=i},{}],478:[function(e,n,s){(function(i){(function(){var a=Object.keys||function(b){var g=[];for(var v in b)g.push(v);return g};n.exports=h;var l=e("./_stream_readable"),c=e("./_stream_writable");e("inherits")(h,l);for(var o=a(c.prototype),u=0;u<o.length;u++){var p=o[u];h.prototype[p]||(h.prototype[p]=c.prototype[p])}function h(b){if(!(this instanceof h))return new h(b);l.call(this,b),c.call(this,b),this.allowHalfOpen=!0,b&&(b.readable===!1&&(this.readable=!1),b.writable===!1&&(this.writable=!1),b.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",d)))}function d(){this._writableState.ended||i.nextTick(x,this)}function x(b){b.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(h.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(b){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=b,this._writableState.destroyed=b)}})}).call(this)}).call(this,e("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(e,n,s){n.exports=a;var i=e("./_stream_transform");function a(l){if(!(this instanceof a))return new a(l);i.call(this,l)}e("inherits")(a,i),a.prototype._transform=function(l,c,o){o(null,l)}},{"./_stream_transform":481,inherits:440}],480:[function(e,n,s){(function(i,a){(function(){var l;n.exports=z,z.ReadableState=q,e("events").EventEmitter;var c=function(G,V){return G.listeners(V).length},o=e("./internal/streams/stream"),u=e("buffer").Buffer,p=(a!==void 0?a:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},h,d=e("util");h=d&&d.debuglog?d.debuglog("stream"):function(){};var x,b,g,v=e("./internal/streams/buffer_list"),y=e("./internal/streams/destroy"),T=e("./internal/streams/state").getHighWaterMark,R=e("../errors").codes,P=R.ERR_INVALID_ARG_TYPE,H=R.ERR_STREAM_PUSH_AFTER_EOF,L=R.ERR_METHOD_NOT_IMPLEMENTED,I=R.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(z,o);var O=y.errorOrDestroy,F=["error","close","destroy","pause","resume"];function q(G,V,Z){l=l||e("./_stream_duplex"),G=G||{},typeof Z!="boolean"&&(Z=V instanceof l),this.objectMode=!!G.objectMode,Z&&(this.objectMode=this.objectMode||!!G.readableObjectMode),this.highWaterMark=T(this,G,"readableHighWaterMark",Z),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=G.emitClose!==!1,this.autoDestroy=!!G.autoDestroy,this.destroyed=!1,this.defaultEncoding=G.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,G.encoding&&(x||(x=e("string_decoder/").StringDecoder),this.decoder=new x(G.encoding),this.encoding=G.encoding)}function z(G){if(l=l||e("./_stream_duplex"),!(this instanceof z))return new z(G);var V=this instanceof l;this._readableState=new q(G,this,V),this.readable=!0,G&&(typeof G.read=="function"&&(this._read=G.read),typeof G.destroy=="function"&&(this._destroy=G.destroy)),o.call(this)}function N(G,V,Z,ae,re){h("readableAddChunk",V);var oe,he=G._readableState;if(V===null)he.reading=!1,(function(Se,ge){if(h("onEofChunk"),!ge.ended){if(ge.decoder){var ne=ge.decoder.end();ne&&ne.length&&(ge.buffer.push(ne),ge.length+=ge.objectMode?1:ne.length)}ge.ended=!0,ge.sync?S(Se):(ge.needReadable=!1,ge.emittedReadable||(ge.emittedReadable=!0,k(Se)))}})(G,he);else if(re||(oe=(function(Se,ge){var ne;fe=ge,u.isBuffer(fe)||fe instanceof p||typeof ge=="string"||ge===void 0||Se.objectMode||(ne=new P("chunk",["string","Buffer","Uint8Array"],ge));var fe;return ne})(he,V)),oe)O(G,oe);else if(he.objectMode||V&&V.length>0)if(typeof V=="string"||he.objectMode||Object.getPrototypeOf(V)===u.prototype||(V=(function(Se){return u.from(Se)})(V)),ae)he.endEmitted?O(G,new I):U(G,he,V,!0);else if(he.ended)O(G,new H);else{if(he.destroyed)return!1;he.reading=!1,he.decoder&&!Z?(V=he.decoder.write(V),he.objectMode||V.length!==0?U(G,he,V,!1):E(G,he)):U(G,he,V,!1)}else ae||(he.reading=!1,E(G,he));return!he.ended&&(he.length<he.highWaterMark||he.length===0)}function U(G,V,Z,ae){V.flowing&&V.length===0&&!V.sync?(V.awaitDrain=0,G.emit("data",Z)):(V.length+=V.objectMode?1:Z.length,ae?V.buffer.unshift(Z):V.buffer.push(Z),V.needReadable&&S(G)),E(G,V)}Object.defineProperty(z.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(G){this._readableState&&(this._readableState.destroyed=G)}}),z.prototype.destroy=y.destroy,z.prototype._undestroy=y.undestroy,z.prototype._destroy=function(G,V){V(G)},z.prototype.push=function(G,V){var Z,ae=this._readableState;return ae.objectMode?Z=!0:typeof G=="string"&&((V=V||ae.defaultEncoding)!==ae.encoding&&(G=u.from(G,V),V=""),Z=!0),N(this,G,V,!1,Z)},z.prototype.unshift=function(G){return N(this,G,null,!0,!1)},z.prototype.isPaused=function(){return this._readableState.flowing===!1},z.prototype.setEncoding=function(G){x||(x=e("string_decoder/").StringDecoder);var V=new x(G);this._readableState.decoder=V,this._readableState.encoding=this._readableState.decoder.encoding;for(var Z=this._readableState.buffer.head,ae="";Z!==null;)ae+=V.write(Z.data),Z=Z.next;return this._readableState.buffer.clear(),ae!==""&&this._readableState.buffer.push(ae),this._readableState.length=ae.length,this};function C(G,V){return G<=0||V.length===0&&V.ended?0:V.objectMode?1:G!=G?V.flowing&&V.length?V.buffer.head.data.length:V.length:(G>V.highWaterMark&&(V.highWaterMark=(function(Z){return Z>=1073741824?Z=1073741824:(Z--,Z|=Z>>>1,Z|=Z>>>2,Z|=Z>>>4,Z|=Z>>>8,Z|=Z>>>16,Z++),Z})(G)),G<=V.length?G:V.ended?V.length:(V.needReadable=!0,0))}function S(G){var V=G._readableState;h("emitReadable",V.needReadable,V.emittedReadable),V.needReadable=!1,V.emittedReadable||(h("emitReadable",V.flowing),V.emittedReadable=!0,i.nextTick(k,G))}function k(G){var V=G._readableState;h("emitReadable_",V.destroyed,V.length,V.ended),V.destroyed||!V.length&&!V.ended||(G.emit("readable"),V.emittedReadable=!1),V.needReadable=!V.flowing&&!V.ended&&V.length<=V.highWaterMark,Q(G)}function E(G,V){V.readingMore||(V.readingMore=!0,i.nextTick(A,G,V))}function A(G,V){for(;!V.reading&&!V.ended&&(V.length<V.highWaterMark||V.flowing&&V.length===0);){var Z=V.length;if(h("maybeReadMore read 0"),G.read(0),Z===V.length)break}V.readingMore=!1}function j(G){var V=G._readableState;V.readableListening=G.listenerCount("readable")>0,V.resumeScheduled&&!V.paused?V.flowing=!0:G.listenerCount("data")>0&&G.resume()}function B(G){h("readable nexttick read 0"),G.read(0)}function D(G,V){h("resume",V.reading),V.reading||G.read(0),V.resumeScheduled=!1,G.emit("resume"),Q(G),V.flowing&&!V.reading&&G.read(0)}function Q(G){var V=G._readableState;for(h("flow",V.flowing);V.flowing&&G.read()!==null;);}function K(G,V){return V.length===0?null:(V.objectMode?Z=V.buffer.shift():!G||G>=V.length?(Z=V.decoder?V.buffer.join(""):V.buffer.length===1?V.buffer.first():V.buffer.concat(V.length),V.buffer.clear()):Z=V.buffer.consume(G,V.decoder),Z);var Z}function ee(G){var V=G._readableState;h("endReadable",V.endEmitted),V.endEmitted||(V.ended=!0,i.nextTick(W,V,G))}function W(G,V){if(h("endReadableNT",G.endEmitted,G.length),!G.endEmitted&&G.length===0&&(G.endEmitted=!0,V.readable=!1,V.emit("end"),G.autoDestroy)){var Z=V._writableState;(!Z||Z.autoDestroy&&Z.finished)&&V.destroy()}}function te(G,V){for(var Z=0,ae=G.length;Z<ae;Z++)if(G[Z]===V)return Z;return-1}z.prototype.read=function(G){h("read",G),G=parseInt(G,10);var V=this._readableState,Z=G;if(G!==0&&(V.emittedReadable=!1),G===0&&V.needReadable&&((V.highWaterMark!==0?V.length>=V.highWaterMark:V.length>0)||V.ended))return h("read: emitReadable",V.length,V.ended),V.length===0&&V.ended?ee(this):S(this),null;if((G=C(G,V))===0&&V.ended)return V.length===0&&ee(this),null;var ae,re=V.needReadable;return h("need readable",re),(V.length===0||V.length-G<V.highWaterMark)&&h("length less than watermark",re=!0),V.ended||V.reading?h("reading or ended",re=!1):re&&(h("do read"),V.reading=!0,V.sync=!0,V.length===0&&(V.needReadable=!0),this._read(V.highWaterMark),V.sync=!1,V.reading||(G=C(Z,V))),(ae=G>0?K(G,V):null)===null?(V.needReadable=V.length<=V.highWaterMark,G=0):(V.length-=G,V.awaitDrain=0),V.length===0&&(V.ended||(V.needReadable=!0),Z!==G&&V.ended&&ee(this)),ae!==null&&this.emit("data",ae),ae},z.prototype._read=function(G){O(this,new L("_read()"))},z.prototype.pipe=function(G,V){var Z=this,ae=this._readableState;switch(ae.pipesCount){case 0:ae.pipes=G;break;case 1:ae.pipes=[ae.pipes,G];break;default:ae.pipes.push(G)}ae.pipesCount+=1,h("pipe count=%d opts=%j",ae.pipesCount,V);var re=(!V||V.end!==!1)&&G!==i.stdout&&G!==i.stderr?he:Ce;function oe(Fe,We){h("onunpipe"),Fe===Z&&We&&We.hasUnpiped===!1&&(We.hasUnpiped=!0,h("cleanup"),G.removeListener("close",pe),G.removeListener("finish",ke),G.removeListener("drain",Se),G.removeListener("error",fe),G.removeListener("unpipe",oe),Z.removeListener("end",he),Z.removeListener("end",Ce),Z.removeListener("data",ne),ge=!0,!ae.awaitDrain||G._writableState&&!G._writableState.needDrain||Se())}function he(){h("onend"),G.end()}ae.endEmitted?i.nextTick(re):Z.once("end",re),G.on("unpipe",oe);var Se=(function(Fe){return function(){var We=Fe._readableState;h("pipeOnDrain",We.awaitDrain),We.awaitDrain&&We.awaitDrain--,We.awaitDrain===0&&c(Fe,"data")&&(We.flowing=!0,Q(Fe))}})(Z);G.on("drain",Se);var ge=!1;function ne(Fe){h("ondata");var We=G.write(Fe);h("dest.write",We),We===!1&&((ae.pipesCount===1&&ae.pipes===G||ae.pipesCount>1&&te(ae.pipes,G)!==-1)&&!ge&&(h("false write response, pause",ae.awaitDrain),ae.awaitDrain++),Z.pause())}function fe(Fe){h("onerror",Fe),Ce(),G.removeListener("error",fe),c(G,"error")===0&&O(G,Fe)}function pe(){G.removeListener("finish",ke),Ce()}function ke(){h("onfinish"),G.removeListener("close",pe),Ce()}function Ce(){h("unpipe"),Z.unpipe(G)}return Z.on("data",ne),(function(Fe,We,$e){if(typeof Fe.prependListener=="function")return Fe.prependListener(We,$e);Fe._events&&Fe._events[We]?Array.isArray(Fe._events[We])?Fe._events[We].unshift($e):Fe._events[We]=[$e,Fe._events[We]]:Fe.on(We,$e)})(G,"error",fe),G.once("close",pe),G.once("finish",ke),G.emit("pipe",Z),ae.flowing||(h("pipe resume"),Z.resume()),G},z.prototype.unpipe=function(G){var V=this._readableState,Z={hasUnpiped:!1};if(V.pipesCount===0)return this;if(V.pipesCount===1)return G&&G!==V.pipes||(G||(G=V.pipes),V.pipes=null,V.pipesCount=0,V.flowing=!1,G&&G.emit("unpipe",this,Z)),this;if(!G){var ae=V.pipes,re=V.pipesCount;V.pipes=null,V.pipesCount=0,V.flowing=!1;for(var oe=0;oe<re;oe++)ae[oe].emit("unpipe",this,{hasUnpiped:!1});return this}var he=te(V.pipes,G);return he===-1||(V.pipes.splice(he,1),V.pipesCount-=1,V.pipesCount===1&&(V.pipes=V.pipes[0]),G.emit("unpipe",this,Z)),this},z.prototype.on=function(G,V){var Z=o.prototype.on.call(this,G,V),ae=this._readableState;return G==="data"?(ae.readableListening=this.listenerCount("readable")>0,ae.flowing!==!1&&this.resume()):G==="readable"&&(ae.endEmitted||ae.readableListening||(ae.readableListening=ae.needReadable=!0,ae.flowing=!1,ae.emittedReadable=!1,h("on readable",ae.length,ae.reading),ae.length?S(this):ae.reading||i.nextTick(B,this))),Z},z.prototype.addListener=z.prototype.on,z.prototype.removeListener=function(G,V){var Z=o.prototype.removeListener.call(this,G,V);return G==="readable"&&i.nextTick(j,this),Z},z.prototype.removeAllListeners=function(G){var V=o.prototype.removeAllListeners.apply(this,arguments);return G!=="readable"&&G!==void 0||i.nextTick(j,this),V},z.prototype.resume=function(){var G=this._readableState;return G.flowing||(h("resume"),G.flowing=!G.readableListening,(function(V,Z){Z.resumeScheduled||(Z.resumeScheduled=!0,i.nextTick(D,V,Z))})(this,G)),G.paused=!1,this},z.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},z.prototype.wrap=function(G){var V=this,Z=this._readableState,ae=!1;for(var re in G.on("end",(function(){if(h("wrapped end"),Z.decoder&&!Z.ended){var he=Z.decoder.end();he&&he.length&&V.push(he)}V.push(null)})),G.on("data",(function(he){h("wrapped data"),Z.decoder&&(he=Z.decoder.write(he)),Z.objectMode&&he==null||(Z.objectMode||he&&he.length)&&(V.push(he)||(ae=!0,G.pause()))})),G)this[re]===void 0&&typeof G[re]=="function"&&(this[re]=(function(he){return function(){return G[he].apply(G,arguments)}})(re));for(var oe=0;oe<F.length;oe++)G.on(F[oe],this.emit.bind(this,F[oe]));return this._read=function(he){h("wrapped _read",he),ae&&(ae=!1,G.resume())},this},typeof Symbol=="function"&&(z.prototype[Symbol.asyncIterator]=function(){return b===void 0&&(b=e("./internal/streams/async_iterator")),b(this)}),Object.defineProperty(z.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(z.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(z.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(G){this._readableState&&(this._readableState.flowing=G)}}),z._fromList=K,Object.defineProperty(z.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(z.from=function(G,V){return g===void 0&&(g=e("./internal/streams/from")),g(z,G,V)})}).call(this)}).call(this,e("_process"),typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(e,n,s){n.exports=h;var i=e("../errors").codes,a=i.ERR_METHOD_NOT_IMPLEMENTED,l=i.ERR_MULTIPLE_CALLBACK,c=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=i.ERR_TRANSFORM_WITH_LENGTH_0,u=e("./_stream_duplex");function p(b,g){var v=this._transformState;v.transforming=!1;var y=v.writecb;if(y===null)return this.emit("error",new l);v.writechunk=null,v.writecb=null,g!=null&&this.push(g),y(b);var T=this._readableState;T.reading=!1,(T.needReadable||T.length<T.highWaterMark)&&this._read(T.highWaterMark)}function h(b){if(!(this instanceof h))return new h(b);u.call(this,b),this._transformState={afterTransform:p.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,b&&(typeof b.transform=="function"&&(this._transform=b.transform),typeof b.flush=="function"&&(this._flush=b.flush)),this.on("prefinish",d)}function d(){var b=this;typeof this._flush!="function"||this._readableState.destroyed?x(this,null,null):this._flush((function(g,v){x(b,g,v)}))}function x(b,g,v){if(g)return b.emit("error",g);if(v!=null&&b.push(v),b._writableState.length)throw new o;if(b._transformState.transforming)throw new c;return b.push(null)}e("inherits")(h,u),h.prototype.push=function(b,g){return this._transformState.needTransform=!1,u.prototype.push.call(this,b,g)},h.prototype._transform=function(b,g,v){v(new a("_transform()"))},h.prototype._write=function(b,g,v){var y=this._transformState;if(y.writecb=v,y.writechunk=b,y.writeencoding=g,!y.transforming){var T=this._readableState;(y.needTransform||T.needReadable||T.length<T.highWaterMark)&&this._read(T.highWaterMark)}},h.prototype._read=function(b){var g=this._transformState;g.writechunk===null||g.transforming?g.needTransform=!0:(g.transforming=!0,this._transform(g.writechunk,g.writeencoding,g.afterTransform))},h.prototype._destroy=function(b,g){u.prototype._destroy.call(this,b,(function(v){g(v)}))}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(e,n,s){(function(i,a){(function(){function l(A){var j=this;this.next=null,this.entry=null,this.finish=function(){(function(B,D,Q){var K=B.entry;for(B.entry=null;K;){var ee=K.callback;D.pendingcb--,ee(Q),K=K.next}D.corkedRequestsFree.next=B})(j,A)}}var c;n.exports=z,z.WritableState=q;var o={deprecate:e("util-deprecate")},u=e("./internal/streams/stream"),p=e("buffer").Buffer,h=(a!==void 0?a:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},d,x=e("./internal/streams/destroy"),b=e("./internal/streams/state").getHighWaterMark,g=e("../errors").codes,v=g.ERR_INVALID_ARG_TYPE,y=g.ERR_METHOD_NOT_IMPLEMENTED,T=g.ERR_MULTIPLE_CALLBACK,R=g.ERR_STREAM_CANNOT_PIPE,P=g.ERR_STREAM_DESTROYED,H=g.ERR_STREAM_NULL_VALUES,L=g.ERR_STREAM_WRITE_AFTER_END,I=g.ERR_UNKNOWN_ENCODING,O=x.errorOrDestroy;function F(){}function q(A,j,B){c=c||e("./_stream_duplex"),A=A||{},typeof B!="boolean"&&(B=j instanceof c),this.objectMode=!!A.objectMode,B&&(this.objectMode=this.objectMode||!!A.writableObjectMode),this.highWaterMark=b(this,A,"writableHighWaterMark",B),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var D=A.decodeStrings===!1;this.decodeStrings=!D,this.defaultEncoding=A.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Q){(function(K,ee){var W=K._writableState,te=W.sync,G=W.writecb;if(typeof G!="function")throw new T;if((function(Z){Z.writing=!1,Z.writecb=null,Z.length-=Z.writelen,Z.writelen=0})(W),ee)(function(Z,ae,re,oe,he){--ae.pendingcb,re?(i.nextTick(he,oe),i.nextTick(E,Z,ae),Z._writableState.errorEmitted=!0,O(Z,oe)):(he(oe),Z._writableState.errorEmitted=!0,O(Z,oe),E(Z,ae))})(K,W,te,ee,G);else{var V=S(W)||K.destroyed;V||W.corked||W.bufferProcessing||!W.bufferedRequest||C(K,W),te?i.nextTick(U,K,W,V,G):U(K,W,V,G)}})(j,Q)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=A.emitClose!==!1,this.autoDestroy=!!A.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new l(this)}function z(A){var j=this instanceof(c=c||e("./_stream_duplex"));if(!j&&!d.call(z,this))return new z(A);this._writableState=new q(A,this,j),this.writable=!0,A&&(typeof A.write=="function"&&(this._write=A.write),typeof A.writev=="function"&&(this._writev=A.writev),typeof A.destroy=="function"&&(this._destroy=A.destroy),typeof A.final=="function"&&(this._final=A.final)),u.call(this)}function N(A,j,B,D,Q,K,ee){j.writelen=D,j.writecb=ee,j.writing=!0,j.sync=!0,j.destroyed?j.onwrite(new P("write")):B?A._writev(Q,j.onwrite):A._write(Q,K,j.onwrite),j.sync=!1}function U(A,j,B,D){B||(function(Q,K){K.length===0&&K.needDrain&&(K.needDrain=!1,Q.emit("drain"))})(A,j),j.pendingcb--,D(),E(A,j)}function C(A,j){j.bufferProcessing=!0;var B=j.bufferedRequest;if(A._writev&&B&&B.next){var D=j.bufferedRequestCount,Q=new Array(D),K=j.corkedRequestsFree;K.entry=B;for(var ee=0,W=!0;B;)Q[ee]=B,B.isBuf||(W=!1),B=B.next,ee+=1;Q.allBuffers=W,N(A,j,!0,j.length,Q,"",K.finish),j.pendingcb++,j.lastBufferedRequest=null,K.next?(j.corkedRequestsFree=K.next,K.next=null):j.corkedRequestsFree=new l(j),j.bufferedRequestCount=0}else{for(;B;){var te=B.chunk,G=B.encoding,V=B.callback;if(N(A,j,!1,j.objectMode?1:te.length,te,G,V),B=B.next,j.bufferedRequestCount--,j.writing)break}B===null&&(j.lastBufferedRequest=null)}j.bufferedRequest=B,j.bufferProcessing=!1}function S(A){return A.ending&&A.length===0&&A.bufferedRequest===null&&!A.finished&&!A.writing}function k(A,j){A._final((function(B){j.pendingcb--,B&&O(A,B),j.prefinished=!0,A.emit("prefinish"),E(A,j)}))}function E(A,j){var B=S(j);if(B&&((function(Q,K){K.prefinished||K.finalCalled||(typeof Q._final!="function"||K.destroyed?(K.prefinished=!0,Q.emit("prefinish")):(K.pendingcb++,K.finalCalled=!0,i.nextTick(k,Q,K)))})(A,j),j.pendingcb===0&&(j.finished=!0,A.emit("finish"),j.autoDestroy))){var D=A._readableState;(!D||D.autoDestroy&&D.endEmitted)&&A.destroy()}return B}e("inherits")(z,u),q.prototype.getBuffer=function(){for(var A=this.bufferedRequest,j=[];A;)j.push(A),A=A.next;return j},(function(){try{Object.defineProperty(q.prototype,"buffer",{get:o.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(z,Symbol.hasInstance,{value:function(A){return!!d.call(this,A)||this===z&&A&&A._writableState instanceof q}})):d=function(A){return A instanceof this},z.prototype.pipe=function(){O(this,new R)},z.prototype.write=function(A,j,B){var D,Q=this._writableState,K=!1,ee=!Q.objectMode&&(D=A,p.isBuffer(D)||D instanceof h);return ee&&!p.isBuffer(A)&&(A=(function(W){return p.from(W)})(A)),typeof j=="function"&&(B=j,j=null),ee?j="buffer":j||(j=Q.defaultEncoding),typeof B!="function"&&(B=F),Q.ending?(function(W,te){var G=new L;O(W,G),i.nextTick(te,G)})(this,B):(ee||(function(W,te,G,V){var Z;return G===null?Z=new H:typeof G=="string"||te.objectMode||(Z=new v("chunk",["string","Buffer"],G)),!Z||(O(W,Z),i.nextTick(V,Z),!1)})(this,Q,A,B))&&(Q.pendingcb++,K=(function(W,te,G,V,Z,ae){if(!G){var re=(function(ge,ne,fe){return ge.objectMode||ge.decodeStrings===!1||typeof ne!="string"||(ne=p.from(ne,fe)),ne})(te,V,Z);V!==re&&(G=!0,Z="buffer",V=re)}var oe=te.objectMode?1:V.length;te.length+=oe;var he=te.length<te.highWaterMark;if(he||(te.needDrain=!0),te.writing||te.corked){var Se=te.lastBufferedRequest;te.lastBufferedRequest={chunk:V,encoding:Z,isBuf:G,callback:ae,next:null},Se?Se.next=te.lastBufferedRequest:te.bufferedRequest=te.lastBufferedRequest,te.bufferedRequestCount+=1}else N(W,te,!1,oe,V,Z,ae);return he})(this,Q,ee,A,j,B)),K},z.prototype.cork=function(){this._writableState.corked++},z.prototype.uncork=function(){var A=this._writableState;A.corked&&(A.corked--,A.writing||A.corked||A.bufferProcessing||!A.bufferedRequest||C(this,A))},z.prototype.setDefaultEncoding=function(A){if(typeof A=="string"&&(A=A.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((A+"").toLowerCase())>-1))throw new I(A);return this._writableState.defaultEncoding=A,this},Object.defineProperty(z.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(z.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),z.prototype._write=function(A,j,B){B(new y("_write()"))},z.prototype._writev=null,z.prototype.end=function(A,j,B){var D=this._writableState;return typeof A=="function"?(B=A,A=null,j=null):typeof j=="function"&&(B=j,j=null),A!=null&&this.write(A,j),D.corked&&(D.corked=1,this.uncork()),D.ending||(function(Q,K,ee){K.ending=!0,E(Q,K),ee&&(K.finished?i.nextTick(ee):Q.once("finish",ee)),K.ended=!0,Q.writable=!1})(this,D,B),this},Object.defineProperty(z.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(z.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(A){this._writableState&&(this._writableState.destroyed=A)}}),z.prototype.destroy=x.destroy,z.prototype._undestroy=x.undestroy,z.prototype._destroy=function(A,j){j(A)}}).call(this)}).call(this,e("_process"),typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(e,n,s){(function(i){(function(){var a;function l(P,H,L){return(H=(function(I){var O=(function(F,q){if(typeof F!="object"||F===null)return F;var z=F[Symbol.toPrimitive];if(z!==void 0){var N=z.call(F,q);if(typeof N!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return(q==="string"?String:Number)(F)})(I,"string");return typeof O=="symbol"?O:String(O)})(H))in P?Object.defineProperty(P,H,{value:L,enumerable:!0,configurable:!0,writable:!0}):P[H]=L,P}var c=e("./end-of-stream"),o=Symbol("lastResolve"),u=Symbol("lastReject"),p=Symbol("error"),h=Symbol("ended"),d=Symbol("lastPromise"),x=Symbol("handlePromise"),b=Symbol("stream");function g(P,H){return{value:P,done:H}}function v(P){var H=P[o];if(H!==null){var L=P[b].read();L!==null&&(P[d]=null,P[o]=null,P[u]=null,H(g(L,!1)))}}function y(P){i.nextTick(v,P)}var T=Object.getPrototypeOf((function(){})),R=Object.setPrototypeOf((l(a={get stream(){return this[b]},next:function(){var P=this,H=this[p];if(H!==null)return Promise.reject(H);if(this[h])return Promise.resolve(g(void 0,!0));if(this[b].destroyed)return new Promise((function(F,q){i.nextTick((function(){P[p]?q(P[p]):F(g(void 0,!0))}))}));var L,I=this[d];if(I)L=new Promise((function(F,q){return function(z,N){F.then((function(){q[h]?z(g(void 0,!0)):q[x](z,N)}),N)}})(I,this));else{var O=this[b].read();if(O!==null)return Promise.resolve(g(O,!1));L=new Promise(this[x])}return this[d]=L,L}},Symbol.asyncIterator,(function(){return this})),l(a,"return",(function(){var P=this;return new Promise((function(H,L){P[b].destroy(null,(function(I){I?L(I):H(g(void 0,!0))}))}))})),a),T);n.exports=function(P){var H,L=Object.create(R,(l(H={},b,{value:P,writable:!0}),l(H,o,{value:null,writable:!0}),l(H,u,{value:null,writable:!0}),l(H,p,{value:null,writable:!0}),l(H,h,{value:P._readableState.endEmitted,writable:!0}),l(H,x,{value:function(I,O){var F=L[b].read();F?(L[d]=null,L[o]=null,L[u]=null,I(g(F,!1))):(L[o]=I,L[u]=O)},writable:!0}),H));return L[d]=null,c(P,(function(I){if(I&&I.code!=="ERR_STREAM_PREMATURE_CLOSE"){var O=L[u];return O!==null&&(L[d]=null,L[o]=null,L[u]=null,O(I)),void(L[p]=I)}var F=L[o];F!==null&&(L[d]=null,L[o]=null,L[u]=null,F(g(void 0,!0))),L[h]=!0})),P.on("readable",y.bind(null,L)),L}}).call(this)}).call(this,e("_process"))},{"./end-of-stream":486,_process:467}],484:[function(e,n,s){function i(d,x){var b=Object.keys(d);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(d);x&&(g=g.filter((function(v){return Object.getOwnPropertyDescriptor(d,v).enumerable}))),b.push.apply(b,g)}return b}function a(d){for(var x=1;x<arguments.length;x++){var b=arguments[x]!=null?arguments[x]:{};x%2?i(Object(b),!0).forEach((function(g){l(d,g,b[g])})):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(b)):i(Object(b)).forEach((function(g){Object.defineProperty(d,g,Object.getOwnPropertyDescriptor(b,g))}))}return d}function l(d,x,b){return(x=o(x))in d?Object.defineProperty(d,x,{value:b,enumerable:!0,configurable:!0,writable:!0}):d[x]=b,d}function c(d,x){for(var b=0;b<x.length;b++){var g=x[b];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(d,o(g.key),g)}}function o(d){var x=(function(b,g){if(typeof b!="object"||b===null)return b;var v=b[Symbol.toPrimitive];if(v!==void 0){var y=v.call(b,g);if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(g==="string"?String:Number)(b)})(d,"string");return typeof x=="symbol"?x:String(x)}var u=e("buffer").Buffer,p=e("util").inspect,h=p&&p.custom||"inspect";n.exports=(function(){function d(){(function(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")})(this,d),this.head=null,this.tail=null,this.length=0}var x,b;return x=d,(b=[{key:"push",value:function(g){var v={data:g,next:null};this.length>0?this.tail.next=v:this.head=v,this.tail=v,++this.length}},{key:"unshift",value:function(g){var v={data:g,next:this.head};this.length===0&&(this.tail=v),this.head=v,++this.length}},{key:"shift",value:function(){if(this.length!==0){var g=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,g}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(g){if(this.length===0)return"";for(var v=this.head,y=""+v.data;v=v.next;)y+=g+v.data;return y}},{key:"concat",value:function(g){if(this.length===0)return u.alloc(0);for(var v,y,T,R=u.allocUnsafe(g>>>0),P=this.head,H=0;P;)v=P.data,y=R,T=H,u.prototype.copy.call(v,y,T),H+=P.data.length,P=P.next;return R}},{key:"consume",value:function(g,v){var y;return g<this.head.data.length?(y=this.head.data.slice(0,g),this.head.data=this.head.data.slice(g)):y=g===this.head.data.length?this.shift():v?this._getString(g):this._getBuffer(g),y}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(g){var v=this.head,y=1,T=v.data;for(g-=T.length;v=v.next;){var R=v.data,P=g>R.length?R.length:g;if(P===R.length?T+=R:T+=R.slice(0,g),(g-=P)==0){P===R.length?(++y,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=R.slice(P));break}++y}return this.length-=y,T}},{key:"_getBuffer",value:function(g){var v=u.allocUnsafe(g),y=this.head,T=1;for(y.data.copy(v),g-=y.data.length;y=y.next;){var R=y.data,P=g>R.length?R.length:g;if(R.copy(v,v.length-g,0,P),(g-=P)==0){P===R.length?(++T,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=R.slice(P));break}++T}return this.length-=T,v}},{key:h,value:function(g,v){return p(this,a(a({},v),{},{depth:0,customInspect:!1}))}}])&&c(x.prototype,b),Object.defineProperty(x,"prototype",{writable:!1}),d})()},{buffer:220,util:188}],485:[function(e,n,s){(function(i){(function(){function a(o,u){c(o,u),l(o)}function l(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}function c(o,u){o.emit("error",u)}n.exports={destroy:function(o,u){var p=this,h=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return h||d?(u?u(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(c,this,o)):i.nextTick(c,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,(function(x){!u&&x?p._writableState?p._writableState.errorEmitted?i.nextTick(l,p):(p._writableState.errorEmitted=!0,i.nextTick(a,p,x)):i.nextTick(a,p,x):u?(i.nextTick(l,p),u(x)):i.nextTick(l,p)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(o,u){var p=o._readableState,h=o._writableState;p&&p.autoDestroy||h&&h.autoDestroy?o.destroy(u):o.emit("error",u)}}}).call(this)}).call(this,e("_process"))},{_process:467}],486:[function(e,n,s){var i=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function a(){}n.exports=function l(c,o,u){if(typeof o=="function")return l(c,null,o);o||(o={}),u=(function(P){var H=!1;return function(){if(!H){H=!0;for(var L=arguments.length,I=new Array(L),O=0;O<L;O++)I[O]=arguments[O];P.apply(this,I)}}})(u||a);var p=o.readable||o.readable!==!1&&c.readable,h=o.writable||o.writable!==!1&&c.writable,d=function(){c.writable||b()},x=c._writableState&&c._writableState.finished,b=function(){h=!1,x=!0,p||u.call(c)},g=c._readableState&&c._readableState.endEmitted,v=function(){p=!1,g=!0,h||u.call(c)},y=function(P){u.call(c,P)},T=function(){var P;return p&&!g?(c._readableState&&c._readableState.ended||(P=new i),u.call(c,P)):h&&!x?(c._writableState&&c._writableState.ended||(P=new i),u.call(c,P)):void 0},R=function(){c.req.on("finish",b)};return(function(P){return P.setHeader&&typeof P.abort=="function"})(c)?(c.on("complete",b),c.on("abort",T),c.req?R():c.on("request",R)):h&&!c._writableState&&(c.on("end",d),c.on("close",d)),c.on("end",v),c.on("finish",b),o.error!==!1&&c.on("error",y),c.on("close",T),function(){c.removeListener("complete",b),c.removeListener("abort",T),c.removeListener("request",R),c.req&&c.req.removeListener("finish",b),c.removeListener("end",d),c.removeListener("close",d),c.removeListener("finish",b),c.removeListener("end",v),c.removeListener("error",y),c.removeListener("close",T)}}},{"../../../errors":477}],487:[function(e,n,s){n.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(e,n,s){var i,a=e("../../../errors").codes,l=a.ERR_MISSING_ARGS,c=a.ERR_STREAM_DESTROYED;function o(x){if(x)throw x}function u(x,b,g,v){v=(function(R){var P=!1;return function(){P||(P=!0,R.apply(void 0,arguments))}})(v);var y=!1;x.on("close",(function(){y=!0})),i===void 0&&(i=e("./end-of-stream")),i(x,{readable:b,writable:g},(function(R){if(R)return v(R);y=!0,v()}));var T=!1;return function(R){if(!y&&!T)return T=!0,(function(P){return P.setHeader&&typeof P.abort=="function"})(x)?x.abort():typeof x.destroy=="function"?x.destroy():void v(R||new c("pipe"))}}function p(x){x()}function h(x,b){return x.pipe(b)}function d(x){return x.length?typeof x[x.length-1]!="function"?o:x.pop():o}n.exports=function(){for(var x=arguments.length,b=new Array(x),g=0;g<x;g++)b[g]=arguments[g];var v,y=d(b);if(Array.isArray(b[0])&&(b=b[0]),b.length<2)throw new l("streams");var T=b.map((function(R,P){var H=P<b.length-1;return u(R,H,P>0,(function(L){v||(v=L),L&&T.forEach(p),H||(T.forEach(p),y(v))}))}));return b.reduce(h)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(e,n,s){var i=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;n.exports={getHighWaterMark:function(a,l,c,o){var u=(function(p,h,d){return p.highWaterMark!=null?p.highWaterMark:h?p[d]:null})(l,o,c);if(u!=null){if(!isFinite(u)||Math.floor(u)!==u||u<0)throw new i(o?c:"highWaterMark",u);return Math.floor(u)}return a.objectMode?16:16384}}},{"../../../errors":477}],490:[function(e,n,s){n.exports=e("events").EventEmitter},{events:422}],491:[function(e,n,s){(s=n.exports=e("./lib/_stream_readable.js")).Stream=s,s.Readable=s,s.Writable=e("./lib/_stream_writable.js"),s.Duplex=e("./lib/_stream_duplex.js"),s.Transform=e("./lib/_stream_transform.js"),s.PassThrough=e("./lib/_stream_passthrough.js"),s.finished=e("./lib/internal/streams/end-of-stream.js"),s.pipeline=e("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(e,n,s){var i=(function(a){var l=Object.prototype,c=l.hasOwnProperty,o=Object.defineProperty||function(E,A,j){E[A]=j.value},u=typeof Symbol=="function"?Symbol:{},p=u.iterator||"@@iterator",h=u.asyncIterator||"@@asyncIterator",d=u.toStringTag||"@@toStringTag";function x(E,A,j){return Object.defineProperty(E,A,{value:j,enumerable:!0,configurable:!0,writable:!0}),E[A]}try{x({},"")}catch{x=function(A,j,B){return A[j]=B}}function b(E,A,j,B){var D=A&&A.prototype instanceof y?A:y,Q=Object.create(D.prototype),K=new C(B||[]);return o(Q,"_invoke",{value:q(E,j,K)}),Q}function g(E,A,j){try{return{type:"normal",arg:E.call(A,j)}}catch(B){return{type:"throw",arg:B}}}a.wrap=b;var v={};function y(){}function T(){}function R(){}var P={};x(P,p,(function(){return this}));var H=Object.getPrototypeOf,L=H&&H(H(S([])));L&&L!==l&&c.call(L,p)&&(P=L);var I=R.prototype=y.prototype=Object.create(P);function O(E){["next","throw","return"].forEach((function(A){x(E,A,(function(j){return this._invoke(A,j)}))}))}function F(E,A){var j;o(this,"_invoke",{value:function(B,D){function Q(){return new A((function(K,ee){(function W(te,G,V,Z){var ae=g(E[te],E,G);if(ae.type!=="throw"){var re=ae.arg,oe=re.value;return oe&&typeof oe=="object"&&c.call(oe,"__await")?A.resolve(oe.__await).then((function(he){W("next",he,V,Z)}),(function(he){W("throw",he,V,Z)})):A.resolve(oe).then((function(he){re.value=he,V(re)}),(function(he){return W("throw",he,V,Z)}))}Z(ae.arg)})(B,D,K,ee)}))}return j=j?j.then(Q,Q):Q()}})}function q(E,A,j){var B="suspendedStart";return function(D,Q){if(B==="executing")throw new Error("Generator is already running");if(B==="completed"){if(D==="throw")throw Q;return k()}for(j.method=D,j.arg=Q;;){var K=j.delegate;if(K){var ee=z(K,j);if(ee){if(ee===v)continue;return ee}}if(j.method==="next")j.sent=j._sent=j.arg;else if(j.method==="throw"){if(B==="suspendedStart")throw B="completed",j.arg;j.dispatchException(j.arg)}else j.method==="return"&&j.abrupt("return",j.arg);B="executing";var W=g(E,A,j);if(W.type==="normal"){if(B=j.done?"completed":"suspendedYield",W.arg===v)continue;return{value:W.arg,done:j.done}}W.type==="throw"&&(B="completed",j.method="throw",j.arg=W.arg)}}}function z(E,A){var j=A.method,B=E.iterator[j];if(B===void 0)return A.delegate=null,j==="throw"&&E.iterator.return&&(A.method="return",A.arg=void 0,z(E,A),A.method==="throw")||j!=="return"&&(A.method="throw",A.arg=new TypeError("The iterator does not provide a '"+j+"' method")),v;var D=g(B,E.iterator,A.arg);if(D.type==="throw")return A.method="throw",A.arg=D.arg,A.delegate=null,v;var Q=D.arg;return Q?Q.done?(A[E.resultName]=Q.value,A.next=E.nextLoc,A.method!=="return"&&(A.method="next",A.arg=void 0),A.delegate=null,v):Q:(A.method="throw",A.arg=new TypeError("iterator result is not an object"),A.delegate=null,v)}function N(E){var A={tryLoc:E[0]};1 in E&&(A.catchLoc=E[1]),2 in E&&(A.finallyLoc=E[2],A.afterLoc=E[3]),this.tryEntries.push(A)}function U(E){var A=E.completion||{};A.type="normal",delete A.arg,E.completion=A}function C(E){this.tryEntries=[{tryLoc:"root"}],E.forEach(N,this),this.reset(!0)}function S(E){if(E){var A=E[p];if(A)return A.call(E);if(typeof E.next=="function")return E;if(!isNaN(E.length)){var j=-1,B=function D(){for(;++j<E.length;)if(c.call(E,j))return D.value=E[j],D.done=!1,D;return D.value=void 0,D.done=!0,D};return B.next=B}}return{next:k}}function k(){return{value:void 0,done:!0}}return T.prototype=R,o(I,"constructor",{value:R,configurable:!0}),o(R,"constructor",{value:T,configurable:!0}),T.displayName=x(R,d,"GeneratorFunction"),a.isGeneratorFunction=function(E){var A=typeof E=="function"&&E.constructor;return!!A&&(A===T||(A.displayName||A.name)==="GeneratorFunction")},a.mark=function(E){return Object.setPrototypeOf?Object.setPrototypeOf(E,R):(E.__proto__=R,x(E,d,"GeneratorFunction")),E.prototype=Object.create(I),E},a.awrap=function(E){return{__await:E}},O(F.prototype),x(F.prototype,h,(function(){return this})),a.AsyncIterator=F,a.async=function(E,A,j,B,D){D===void 0&&(D=Promise);var Q=new F(b(E,A,j,B),D);return a.isGeneratorFunction(A)?Q:Q.next().then((function(K){return K.done?K.value:Q.next()}))},O(I),x(I,d,"Generator"),x(I,p,(function(){return this})),x(I,"toString",(function(){return"[object Generator]"})),a.keys=function(E){var A=Object(E),j=[];for(var B in A)j.push(B);return j.reverse(),function D(){for(;j.length;){var Q=j.pop();if(Q in A)return D.value=Q,D.done=!1,D}return D.done=!0,D}},a.values=S,C.prototype={constructor:C,reset:function(E){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(U),!E)for(var A in this)A.charAt(0)==="t"&&c.call(this,A)&&!isNaN(+A.slice(1))&&(this[A]=void 0)},stop:function(){this.done=!0;var E=this.tryEntries[0].completion;if(E.type==="throw")throw E.arg;return this.rval},dispatchException:function(E){if(this.done)throw E;var A=this;function j(W,te){return Q.type="throw",Q.arg=E,A.next=W,te&&(A.method="next",A.arg=void 0),!!te}for(var B=this.tryEntries.length-1;B>=0;--B){var D=this.tryEntries[B],Q=D.completion;if(D.tryLoc==="root")return j("end");if(D.tryLoc<=this.prev){var K=c.call(D,"catchLoc"),ee=c.call(D,"finallyLoc");if(K&&ee){if(this.prev<D.catchLoc)return j(D.catchLoc,!0);if(this.prev<D.finallyLoc)return j(D.finallyLoc)}else if(K){if(this.prev<D.catchLoc)return j(D.catchLoc,!0)}else{if(!ee)throw new Error("try statement without catch or finally");if(this.prev<D.finallyLoc)return j(D.finallyLoc)}}}},abrupt:function(E,A){for(var j=this.tryEntries.length-1;j>=0;--j){var B=this.tryEntries[j];if(B.tryLoc<=this.prev&&c.call(B,"finallyLoc")&&this.prev<B.finallyLoc){var D=B;break}}D&&(E==="break"||E==="continue")&&D.tryLoc<=A&&A<=D.finallyLoc&&(D=null);var Q=D?D.completion:{};return Q.type=E,Q.arg=A,D?(this.method="next",this.next=D.finallyLoc,v):this.complete(Q)},complete:function(E,A){if(E.type==="throw")throw E.arg;return E.type==="break"||E.type==="continue"?this.next=E.arg:E.type==="return"?(this.rval=this.arg=E.arg,this.method="return",this.next="end"):E.type==="normal"&&A&&(this.next=A),v},finish:function(E){for(var A=this.tryEntries.length-1;A>=0;--A){var j=this.tryEntries[A];if(j.finallyLoc===E)return this.complete(j.completion,j.afterLoc),U(j),v}},catch:function(E){for(var A=this.tryEntries.length-1;A>=0;--A){var j=this.tryEntries[A];if(j.tryLoc===E){var B=j.completion;if(B.type==="throw"){var D=B.arg;U(j)}return D}}throw new Error("illegal catch attempt")},delegateYield:function(E,A,j){return this.delegate={iterator:S(E),resultName:A,nextLoc:j},this.method==="next"&&(this.arg=void 0),v}},a})(typeof n=="object"?n.exports:{});try{regeneratorRuntime=i}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},{}],493:[function(e,n,s){var i=e("buffer").Buffer,a=e("inherits"),l=e("hash-base"),c=new Array(16),o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],p=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],h=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],d=[0,1518500249,1859775393,2400959708,2840853838],x=[1352829926,1548603684,1836072691,2053994217,0];function b(){l.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function g(H,L){return H<<L|H>>>32-L}function v(H,L,I,O,F,q,z,N){return g(H+(L^I^O)+q+z|0,N)+F|0}function y(H,L,I,O,F,q,z,N){return g(H+(L&I|~L&O)+q+z|0,N)+F|0}function T(H,L,I,O,F,q,z,N){return g(H+((L|~I)^O)+q+z|0,N)+F|0}function R(H,L,I,O,F,q,z,N){return g(H+(L&O|I&~O)+q+z|0,N)+F|0}function P(H,L,I,O,F,q,z,N){return g(H+(L^(I|~O))+q+z|0,N)+F|0}a(b,l),b.prototype._update=function(){for(var H=c,L=0;L<16;++L)H[L]=this._block.readInt32LE(4*L);for(var I=0|this._a,O=0|this._b,F=0|this._c,q=0|this._d,z=0|this._e,N=0|this._a,U=0|this._b,C=0|this._c,S=0|this._d,k=0|this._e,E=0;E<80;E+=1){var A,j;E<16?(A=v(I,O,F,q,z,H[o[E]],d[0],p[E]),j=P(N,U,C,S,k,H[u[E]],x[0],h[E])):E<32?(A=y(I,O,F,q,z,H[o[E]],d[1],p[E]),j=R(N,U,C,S,k,H[u[E]],x[1],h[E])):E<48?(A=T(I,O,F,q,z,H[o[E]],d[2],p[E]),j=T(N,U,C,S,k,H[u[E]],x[2],h[E])):E<64?(A=R(I,O,F,q,z,H[o[E]],d[3],p[E]),j=y(N,U,C,S,k,H[u[E]],x[3],h[E])):(A=P(I,O,F,q,z,H[o[E]],d[4],p[E]),j=v(N,U,C,S,k,H[u[E]],x[4],h[E])),I=z,z=q,q=g(F,10),F=O,O=A,N=k,k=S,S=g(C,10),C=U,U=j}var B=this._b+F+S|0;this._b=this._c+q+k|0,this._c=this._d+z+N|0,this._d=this._e+I+U|0,this._e=this._a+O+C|0,this._a=B},b.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var H=i.alloc?i.alloc(20):new i(20);return H.writeInt32LE(this._a,0),H.writeInt32LE(this._b,4),H.writeInt32LE(this._c,8),H.writeInt32LE(this._d,12),H.writeInt32LE(this._e,16),H},n.exports=b},{buffer:220,"hash-base":425,inherits:440}],494:[function(e,n,s){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var i=e("buffer"),a=i.Buffer;function l(o,u){for(var p in o)u[p]=o[p]}function c(o,u,p){return a(o,u,p)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?n.exports=i:(l(i,s),s.Buffer=c),c.prototype=Object.create(a.prototype),l(a,c),c.from=function(o,u,p){if(typeof o=="number")throw new TypeError("Argument must not be a number");return a(o,u,p)},c.alloc=function(o,u,p){if(typeof o!="number")throw new TypeError("Argument must be a number");var h=a(o);return u!==void 0?typeof p=="string"?h.fill(u,p):h.fill(u):h.fill(0),h},c.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return a(o)},c.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return i.SlowBuffer(o)}},{buffer:220}],495:[function(e,n,s){(function(i){(function(){var a,l=e("buffer"),c=l.Buffer,o={};for(a in l)l.hasOwnProperty(a)&&a!=="SlowBuffer"&&a!=="Buffer"&&(o[a]=l[a]);var u=o.Buffer={};for(a in c)c.hasOwnProperty(a)&&a!=="allocUnsafe"&&a!=="allocUnsafeSlow"&&(u[a]=c[a]);if(o.Buffer.prototype=c.prototype,u.from&&u.from!==Uint8Array.from||(u.from=function(p,h,d){if(typeof p=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof p);if(p&&p.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p);return c(p,h,d)}),u.alloc||(u.alloc=function(p,h,d){if(typeof p!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof p);if(p<0||p>=2*(1<<30))throw new RangeError('The value "'+p+'" is invalid for option "size"');var x=c(p);return h&&h.length!==0?typeof d=="string"?x.fill(h,d):x.fill(h):x.fill(0),x}),!o.kStringMaxLength)try{o.kStringMaxLength=i.binding("buffer").kStringMaxLength}catch{}o.constants||(o.constants={MAX_LENGTH:o.kMaxLength},o.kStringMaxLength&&(o.constants.MAX_STRING_LENGTH=o.kStringMaxLength)),n.exports=o}).call(this)}).call(this,e("_process"))},{_process:467,buffer:220}],496:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0});const i=e("xmlchars/xml/1.0/ed5"),a=e("xmlchars/xml/1.1/ed2"),l=e("xmlchars/xmlns/1.0/ed3");var c=i.isS,o=i.isChar,u=i.isNameStartChar,p=i.isNameChar,h=i.S_LIST,d=i.NAME_RE,x=a.isChar,b=l.isNCNameStartChar,g=l.isNCNameChar,v=l.NC_NAME_RE;const y="http://www.w3.org/XML/1998/namespace",T="http://www.w3.org/2000/xmlns/",R={__proto__:null,xml:y,xmlns:T},P={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},H=S=>S===34||S===39,L=[34,39],I=[...L,91,62],O=[...L,60,93],F=[61,63,...h],q=[...h,62,38,60];function z(S,k,E){switch(k){case"xml":E!==y&&S.fail(`xml prefix must be bound to ${y}.`);break;case"xmlns":E!==T&&S.fail(`xmlns prefix must be bound to ${T}.`)}switch(E){case T:S.fail(k===""?`the default namespace may not be set to ${E}.`:`may not assign a prefix (even "xmlns") to the URI ${T}.`);break;case y:switch(k){case"xml":break;case"":S.fail(`the default namespace may not be set to ${E}.`);break;default:S.fail("may not assign the xml namespace to another prefix.")}}}const N=S=>v.test(S),U=S=>d.test(S);s.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const C={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};s.SaxesParser=class{constructor(S){this.opt=S??{},this.fragmentOpt=!!this.opt.fragment;const k=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,k){this.nameStartCheck=b,this.nameCheck=g,this.isName=N,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},R);const E=this.opt.additionalNamespaces;E!=null&&((function(A,j){for(const B of Object.keys(j))z(A,B,j[B])})(this,E),Object.assign(this.ns,E))}else this.nameStartCheck=u,this.nameCheck=p,this.isName=U,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var S;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:k}=this;this.state=k?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=k,this.xmlDeclPossible=!k,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:E}=this.opt;if(E===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");E="1.0"}this.setXMLVersion(E),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(P),(S=this.readyHandler)===null||S===void 0||S.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(S,k){this[C[S]]=k}off(S){this[C[S]]=void 0}makeError(S){var k;let E=(k=this.fileName)!==null&&k!==void 0?k:"";return this.trackPosition&&(E.length>0&&(E+=":"),E+=`${this.line}:${this.column}`),E.length>0&&(E+=": "),new Error(E+S)}fail(S){const k=this.makeError(S),E=this.errorHandler;if(E===void 0)throw k;return E(k),this}write(S){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let k=!1;S===null?(k=!0,S=""):typeof S=="object"&&(S=S.toString()),this.carriedFromPrevious!==void 0&&(S=`${this.carriedFromPrevious}${S}`,this.carriedFromPrevious=void 0);let E=S.length;const A=S.charCodeAt(E-1);!k&&(A===13||A>=55296&&A<=56319)&&(this.carriedFromPrevious=S[E-1],E--,S=S.slice(0,E));const{stateTable:j}=this;for(this.chunk=S,this.i=0;this.i<E;)j[this.state].call(this);return this.chunkPosition+=E,k?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:S,i:k}=this;if(this.prevI=k,this.i=k+1,k>=S.length)return-1;const E=S.charCodeAt(k);if(this.column++,E<55296){if(E>=32||E===9)return E;switch(E){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return S.charCodeAt(k+1)===10&&(this.i=k+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),E}}if(E>56319)return E>=57344&&E<=65533||this.fail("disallowed character."),E;const A=65536+1024*(E-55296)+(S.charCodeAt(k+1)-56320);return this.i=k+2,A>1114111&&this.fail("disallowed character."),A}getCode11(){const{chunk:S,i:k}=this;if(this.prevI=k,this.i=k+1,k>=S.length)return-1;const E=S.charCodeAt(k);if(this.column++,E<55296){if(E>31&&E<127||E>159&&E!==8232||E===9)return E;switch(E){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const j=S.charCodeAt(k+1);j!==10&&j!==133||(this.i=k+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),E}}if(E>56319)return E>=57344&&E<=65533||this.fail("disallowed character."),E;const A=65536+1024*(E-55296)+(S.charCodeAt(k+1)-56320);return this.i=k+2,A>1114111&&this.fail("disallowed character."),A}getCodeNorm(){const S=this.getCode();return S===-2?10:S}unget(){this.i=this.prevI,this.column--}captureTo(S){let{i:k}=this;const{chunk:E}=this;for(;;){const A=this.getCode(),j=A===-2,B=j?10:A;if(B===-1||S.includes(B))return this.text+=E.slice(k,this.prevI),B;j&&(this.text+=E.slice(k,this.prevI)+`
`,k=this.i)}}captureToChar(S){let{i:k}=this;const{chunk:E}=this;for(;;){let A=this.getCode();switch(A){case-2:this.text+=E.slice(k,this.prevI)+`
`,k=this.i,A=10;break;case-1:return this.text+=E.slice(k),!1}if(A===S)return this.text+=E.slice(k,this.prevI),!0}}captureNameChars(){const{chunk:S,i:k}=this;for(;;){const E=this.getCode();if(E===-1)return this.name+=S.slice(k),-1;if(!p(E))return this.name+=S.slice(k,this.prevI),E===-2?10:E}}skipSpaces(){for(;;){const S=this.getCodeNorm();if(S===-1||!c(S))return S}}setXMLVersion(S){this.currentXMLVersion=S,S==="1.0"?(this.isChar=o,this.getCode=this.getCode10):(this.isChar=x,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const S=this.i,k=this.skipSpaces();switch(this.prevI!==S&&(this.xmlDeclPossible=!1),k){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var S;const k=this.captureTo(I);switch(k){case 62:(S=this.doctypeHandler)===null||S===void 0||S.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(k),k===91?this.state=4:H(k)&&(this.state=3,this.q=k)}}sDoctypeQuote(){const S=this.q;this.captureToChar(S)&&(this.text+=String.fromCodePoint(S),this.q=null,this.state=2)}sDTD(){const S=this.captureTo(O);S!==-1&&(this.text+=String.fromCodePoint(S),S===93?this.state=2:S===60?this.state=6:H(S)&&(this.state=5,this.q=S))}sDTDQuoted(){const S=this.q;this.captureToChar(S)&&(this.text+=String.fromCodePoint(S),this.state=4,this.q=null)}sDTDOpenWaka(){const S=this.getCodeNorm();switch(this.text+=String.fromCodePoint(S),S){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const S=String.fromCodePoint(this.getCodeNorm()),k=this.openWakaBang+=S;this.text+=S,k!=="-"&&(this.state=k==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const S=this.getCodeNorm();this.text+=String.fromCodePoint(S),this.state=S===45?10:8}sDTDCommentEnded(){const S=this.getCodeNorm();this.text+=String.fromCodePoint(S),S===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const S=this.getCodeNorm();this.text+=String.fromCodePoint(S),S===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:S}=this;const{chunk:k}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=k.slice(S,this.prevI)+`
`,S=this.i;break;case 59:{const{entityReturnState:E}=this,A=this.entity+k.slice(S,this.prevI);let j;this.state=E,A===""?(this.fail("empty entity name."),j="&;"):(j=this.parseEntity(A),this.entity=""),E===13&&this.textHandler===void 0||(this.text+=j);break e}case-1:this.entity+=k.slice(S);break e}}sOpenWaka(){const S=this.getCode();if(u(S))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(S){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var S;const k=this.getCodeNorm();k===45?(this.state=19,(S=this.commentHandler)===null||S===void 0||S.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(k),this.state=17)}sCommentEnded(){const S=this.getCodeNorm();S!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(S),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const S=this.getCodeNorm();S===93?this.state=22:(this.text+="]"+String.fromCodePoint(S),this.state=20)}sCDataEnding2(){var S;const k=this.getCodeNorm();switch(k){case 62:(S=this.cdataHandler)===null||S===void 0||S.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(k),this.state=20}}sPIFirstChar(){const S=this.getCodeNorm();this.nameStartCheck(S)?(this.piTarget+=String.fromCodePoint(S),this.state=24):S===63||c(S)?(this.fail("processing instruction without a target."),this.state=S===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(S),this.state=24)}sPIRest(){const{chunk:S,i:k}=this;for(;;){const E=this.getCodeNorm();if(E===-1)return void(this.piTarget+=S.slice(k));if(!this.nameCheck(E)){this.piTarget+=S.slice(k,this.prevI);const A=E===63;A||c(E)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=A?33:27):this.state=A?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(E));break}}}sPIBody(){if(this.text.length===0){const S=this.getCodeNorm();S===63?this.state=26:c(S)||(this.text=String.fromCodePoint(S))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var S;const k=this.getCodeNorm();if(k===62){const{piTarget:E}=this;E.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(S=this.piHandler)===null||S===void 0||S.call(this,{target:E,body:this.text}),this.piTarget=this.text="",this.state=13}else k===63?this.text+="?":(this.text+="?"+String.fromCodePoint(k),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const S=this.skipSpaces();S!==63?S!==-1&&(this.state=28,this.name=String.fromCodePoint(S)):this.state=33}sXMLDeclName(){const S=this.captureTo(F);if(S===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(c(S)||S===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=S===61?30:29}}sXMLDeclEq(){const S=this.getCodeNorm();if(S===63)return this.state=33,void this.fail("XML declaration is incomplete.");c(S)||(S!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const S=this.getCodeNorm();if(S===63)return this.state=33,void this.fail("XML declaration is incomplete.");c(S)||(H(S)?this.q=S:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const S=this.captureTo([this.q,63]);if(S===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(S===-1)return;const k=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const E=k;this.xmlDecl.version=E,/^1\.[0-9]+$/.test(E)?this.opt.forceXMLVersion||this.setXMLVersion(E):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(k)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=k;break;case"standalone":k!=="yes"&&k!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=k}this.name="",this.state=32}sXMLDeclSeparator(){const S=this.getCodeNorm();S!==63?(c(S)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var S;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(S=this.xmldeclHandler)===null||S===void 0||S.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var S;const k=this.captureNameChars();if(k===-1)return;const E=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=E.ns=Object.create(null)),(S=this.openTagStartHandler)===null||S===void 0||S.call(this,E),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),k){case 62:this.openTag();break;case 47:this.state=35;break;default:c(k)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const S=this.skipSpaces();S!==-1&&(u(S)?(this.unget(),this.state=37):S===62?this.openTag():S===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const S=this.captureNameChars();S===61?this.state=39:c(S)?this.state=38:S===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):S!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const S=this.skipSpaces();switch(S){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",S===62?this.openTag():u(S)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const S=this.getCodeNorm();H(S)?(this.q=S,this.state=40):c(S)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:S,chunk:k}=this;let{i:E}=this;for(;;)switch(this.getCode()){case S:return this.pushAttrib(this.name,this.text+k.slice(E,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=k.slice(E,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=k.slice(E,this.prevI)+" ",E=this.i;break;case 60:return this.text+=k.slice(E,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=k.slice(E))}}sAttribValueClosed(){const S=this.getCodeNorm();c(S)?this.state=36:S===62?this.openTag():S===47?this.state=35:u(S)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const S=this.captureTo(q);switch(S){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",S===62?this.openTag():this.state=36}}sCloseTag(){const S=this.captureNameChars();S===62?this.closeTag():c(S)?this.state=44:S!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:S,forbiddenState:k}=this;const{chunk:E,textHandler:A}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,A!==void 0){const{text:j}=this,B=E.slice(S,this.prevI);j.length!==0?(A(j+B),this.text=""):B.length!==0&&A(B)}k=0;break e;case 38:this.state=14,this.entityReturnState=13,A!==void 0&&(this.text+=E.slice(S,this.prevI)),k=0;break e;case 93:switch(k){case 0:k=1;break;case 1:k=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:k===2&&this.fail('the string "]]>" is disallowed in char data.'),k=0;break;case-2:A!==void 0&&(this.text+=E.slice(S,this.prevI)+`
`),S=this.i,k=0;break;case-1:A!==void 0&&(this.text+=E.slice(S));break e;default:k=0}this.forbiddenState=k}handleTextOutsideRoot(){let{i:S}=this;const{chunk:k,textHandler:E}=this;let A=!1;e:for(;;){const j=this.getCode();switch(j){case 60:if(this.state=15,E!==void 0){const{text:B}=this,D=k.slice(S,this.prevI);B.length!==0?(E(B+D),this.text=""):D.length!==0&&E(D)}break e;case 38:this.state=14,this.entityReturnState=13,E!==void 0&&(this.text+=k.slice(S,this.prevI)),A=!0;break e;case-2:E!==void 0&&(this.text+=k.slice(S,this.prevI)+`
`),S=this.i;break;case-1:E!==void 0&&(this.text+=k.slice(S));break e;default:c(j)||(A=!0)}}A&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(S,k){var E;const{prefix:A,local:j}=this.qname(S),B={name:S,prefix:A,local:j,value:k};if(this.attribList.push(B),(E=this.attributeHandler)===null||E===void 0||E.call(this,B),A==="xmlns"){const D=k.trim();this.currentXMLVersion==="1.0"&&D===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[j]=D,z(this,j,D)}else if(S==="xmlns"){const D=k.trim();this.topNS[""]=D,z(this,"",D)}}pushAttribPlain(S,k){var E;const A={name:S,value:k};this.attribList.push(A),(E=this.attributeHandler)===null||E===void 0||E.call(this,A)}end(){var S,k;this.sawRoot||this.fail("document must contain a root element.");const{tags:E}=this;for(;E.length>0;){const j=E.pop();this.fail("unclosed tag: "+j.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:A}=this;return A.length!==0&&((S=this.textHandler)===null||S===void 0||S.call(this,A),this.text=""),this._closed=!0,(k=this.endHandler)===null||k===void 0||k.call(this),this._init(),this}resolve(S){var k,E;let A=this.topNS[S];if(A!==void 0)return A;const{tags:j}=this;for(let B=j.length-1;B>=0;B--)if(A=j[B].ns[S],A!==void 0)return A;return A=this.ns[S],A!==void 0?A:(E=(k=this.opt).resolvePrefix)===null||E===void 0?void 0:E.call(k,S)}qname(S){const k=S.indexOf(":");if(k===-1)return{prefix:"",local:S};const E=S.slice(k+1),A=S.slice(0,k);return(A===""||E===""||E.includes(":"))&&this.fail(`malformed name: ${S}.`),{prefix:A,local:E}}processAttribsNS(){var S;const{attribList:k}=this,E=this.tag;{const{prefix:B,local:D}=this.qname(E.name);E.prefix=B,E.local=D;const Q=E.uri=(S=this.resolve(B))!==null&&S!==void 0?S:"";B!==""&&(B==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),Q===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(B)}.`),E.uri=B))}if(k.length===0)return;const{attributes:A}=E,j=new Set;for(const B of k){const{name:D,prefix:Q,local:K}=B;let ee,W;Q===""?(ee=D==="xmlns"?T:"",W=D):(ee=this.resolve(Q),ee===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(Q)}.`),ee=Q),W=`{${ee}}${K}`),j.has(W)&&this.fail(`duplicate attribute: ${W}.`),j.add(W),B.uri=ee,A[D]=B}this.attribList=[]}processAttribsPlain(){const{attribList:S}=this,k=this.tag.attributes;for(const{name:E,value:A}of S)k[E]!==void 0&&this.fail(`duplicate attribute: ${E}.`),k[E]=A;this.attribList=[]}openTag(){var S;this.processAttribs();const{tags:k}=this,E=this.tag;E.isSelfClosing=!1,(S=this.openTagHandler)===null||S===void 0||S.call(this,E),k.push(E),this.state=13,this.name=""}openSelfClosingTag(){var S,k,E;this.processAttribs();const{tags:A}=this,j=this.tag;j.isSelfClosing=!0,(S=this.openTagHandler)===null||S===void 0||S.call(this,j),(k=this.closeTagHandler)===null||k===void 0||k.call(this,j),(this.tag=(E=A[A.length-1])!==null&&E!==void 0?E:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:S,name:k}=this;if(this.state=13,this.name="",k==="")return this.fail("weird empty close tag."),void(this.text+="</>");const E=this.closeTagHandler;let A=S.length;for(;A-- >0;){const j=this.tag=S.pop();if(this.topNS=j.ns,E==null||E(j),j.name===k)break;this.fail("unexpected close tag.")}A===0?this.closedRoot=!0:A<0&&(this.fail(`unmatched closing tag: ${k}.`),this.text+=`</${k}>`)}parseEntity(S){if(S[0]!=="#"){const E=this.ENTITIES[S];return E!==void 0?E:(this.fail(this.isName(S)?"undefined entity.":"disallowed character in entity name."),`&${S};`)}let k=NaN;return S[1]==="x"&&/^#x[0-9a-f]+$/i.test(S)?k=parseInt(S.slice(2),16):/^#[0-9]+$/.test(S)&&(k=parseInt(S.slice(1),10)),this.isChar(k)?String.fromCodePoint(k):(this.fail("malformed character entity."),`&${S};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(e,n,s){var i=e("safe-buffer").Buffer;function a(l,c){this._block=i.alloc(l),this._finalSize=c,this._blockSize=l,this._len=0}a.prototype.update=function(l,c){typeof l=="string"&&(c=c||"utf8",l=i.from(l,c));for(var o=this._block,u=this._blockSize,p=l.length,h=this._len,d=0;d<p;){for(var x=h%u,b=Math.min(p-d,u-x),g=0;g<b;g++)o[x+g]=l[d+g];d+=b,(h+=b)%u==0&&this._update(o)}return this._len+=p,this},a.prototype.digest=function(l){var c=this._len%this._blockSize;this._block[c]=128,this._block.fill(0,c+1),c>=this._finalSize&&(this._update(this._block),this._block.fill(0));var o=8*this._len;if(o<=4294967295)this._block.writeUInt32BE(o,this._blockSize-4);else{var u=(4294967295&o)>>>0,p=(o-u)/4294967296;this._block.writeUInt32BE(p,this._blockSize-8),this._block.writeUInt32BE(u,this._blockSize-4)}this._update(this._block);var h=this._hash();return l?h.toString(l):h},a.prototype._update=function(){throw new Error("_update must be implemented by subclass")},n.exports=a},{"safe-buffer":494}],498:[function(e,n,s){var i=n.exports=function(a){a=a.toLowerCase();var l=i[a];if(!l)throw new Error(a+" is not supported (we accept pull requests)");return new l};i.sha=e("./sha"),i.sha1=e("./sha1"),i.sha224=e("./sha224"),i.sha256=e("./sha256"),i.sha384=e("./sha384"),i.sha512=e("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(e,n,s){var i=e("inherits"),a=e("./hash"),l=e("safe-buffer").Buffer,c=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function u(){this.init(),this._w=o,a.call(this,64,56)}function p(d){return d<<30|d>>>2}function h(d,x,b,g){return d===0?x&b|~x&g:d===2?x&b|x&g|b&g:x^b^g}i(u,a),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(d){for(var x,b=this._w,g=0|this._a,v=0|this._b,y=0|this._c,T=0|this._d,R=0|this._e,P=0;P<16;++P)b[P]=d.readInt32BE(4*P);for(;P<80;++P)b[P]=b[P-3]^b[P-8]^b[P-14]^b[P-16];for(var H=0;H<80;++H){var L=~~(H/20),I=0|((x=g)<<5|x>>>27)+h(L,v,y,T)+R+b[H]+c[L];R=T,T=y,y=p(v),v=g,g=I}this._a=g+this._a|0,this._b=v+this._b|0,this._c=y+this._c|0,this._d=T+this._d|0,this._e=R+this._e|0},u.prototype._hash=function(){var d=l.allocUnsafe(20);return d.writeInt32BE(0|this._a,0),d.writeInt32BE(0|this._b,4),d.writeInt32BE(0|this._c,8),d.writeInt32BE(0|this._d,12),d.writeInt32BE(0|this._e,16),d},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(e,n,s){var i=e("inherits"),a=e("./hash"),l=e("safe-buffer").Buffer,c=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function u(){this.init(),this._w=o,a.call(this,64,56)}function p(x){return x<<5|x>>>27}function h(x){return x<<30|x>>>2}function d(x,b,g,v){return x===0?b&g|~b&v:x===2?b&g|b&v|g&v:b^g^v}i(u,a),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(x){for(var b,g=this._w,v=0|this._a,y=0|this._b,T=0|this._c,R=0|this._d,P=0|this._e,H=0;H<16;++H)g[H]=x.readInt32BE(4*H);for(;H<80;++H)g[H]=(b=g[H-3]^g[H-8]^g[H-14]^g[H-16])<<1|b>>>31;for(var L=0;L<80;++L){var I=~~(L/20),O=p(v)+d(I,y,T,R)+P+g[L]+c[I]|0;P=R,R=T,T=h(y),y=v,v=O}this._a=v+this._a|0,this._b=y+this._b|0,this._c=T+this._c|0,this._d=R+this._d|0,this._e=P+this._e|0},u.prototype._hash=function(){var x=l.allocUnsafe(20);return x.writeInt32BE(0|this._a,0),x.writeInt32BE(0|this._b,4),x.writeInt32BE(0|this._c,8),x.writeInt32BE(0|this._d,12),x.writeInt32BE(0|this._e,16),x},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(e,n,s){var i=e("inherits"),a=e("./sha256"),l=e("./hash"),c=e("safe-buffer").Buffer,o=new Array(64);function u(){this.init(),this._w=o,l.call(this,64,56)}i(u,a),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var p=c.allocUnsafe(28);return p.writeInt32BE(this._a,0),p.writeInt32BE(this._b,4),p.writeInt32BE(this._c,8),p.writeInt32BE(this._d,12),p.writeInt32BE(this._e,16),p.writeInt32BE(this._f,20),p.writeInt32BE(this._g,24),p},n.exports=u},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(e,n,s){var i=e("inherits"),a=e("./hash"),l=e("safe-buffer").Buffer,c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],o=new Array(64);function u(){this.init(),this._w=o,a.call(this,64,56)}function p(g,v,y){return y^g&(v^y)}function h(g,v,y){return g&v|y&(g|v)}function d(g){return(g>>>2|g<<30)^(g>>>13|g<<19)^(g>>>22|g<<10)}function x(g){return(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7)}function b(g){return(g>>>7|g<<25)^(g>>>18|g<<14)^g>>>3}i(u,a),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},u.prototype._update=function(g){for(var v,y=this._w,T=0|this._a,R=0|this._b,P=0|this._c,H=0|this._d,L=0|this._e,I=0|this._f,O=0|this._g,F=0|this._h,q=0;q<16;++q)y[q]=g.readInt32BE(4*q);for(;q<64;++q)y[q]=0|(((v=y[q-2])>>>17|v<<15)^(v>>>19|v<<13)^v>>>10)+y[q-7]+b(y[q-15])+y[q-16];for(var z=0;z<64;++z){var N=F+x(L)+p(L,I,O)+c[z]+y[z]|0,U=d(T)+h(T,R,P)|0;F=O,O=I,I=L,L=H+N|0,H=P,P=R,R=T,T=N+U|0}this._a=T+this._a|0,this._b=R+this._b|0,this._c=P+this._c|0,this._d=H+this._d|0,this._e=L+this._e|0,this._f=I+this._f|0,this._g=O+this._g|0,this._h=F+this._h|0},u.prototype._hash=function(){var g=l.allocUnsafe(32);return g.writeInt32BE(this._a,0),g.writeInt32BE(this._b,4),g.writeInt32BE(this._c,8),g.writeInt32BE(this._d,12),g.writeInt32BE(this._e,16),g.writeInt32BE(this._f,20),g.writeInt32BE(this._g,24),g.writeInt32BE(this._h,28),g},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(e,n,s){var i=e("inherits"),a=e("./sha512"),l=e("./hash"),c=e("safe-buffer").Buffer,o=new Array(160);function u(){this.init(),this._w=o,l.call(this,128,112)}i(u,a),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var p=c.allocUnsafe(48);function h(d,x,b){p.writeInt32BE(d,b),p.writeInt32BE(x,b+4)}return h(this._ah,this._al,0),h(this._bh,this._bl,8),h(this._ch,this._cl,16),h(this._dh,this._dl,24),h(this._eh,this._el,32),h(this._fh,this._fl,40),p},n.exports=u},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(e,n,s){var i=e("inherits"),a=e("./hash"),l=e("safe-buffer").Buffer,c=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],o=new Array(160);function u(){this.init(),this._w=o,a.call(this,128,112)}function p(R,P,H){return H^R&(P^H)}function h(R,P,H){return R&P|H&(R|P)}function d(R,P){return(R>>>28|P<<4)^(P>>>2|R<<30)^(P>>>7|R<<25)}function x(R,P){return(R>>>14|P<<18)^(R>>>18|P<<14)^(P>>>9|R<<23)}function b(R,P){return(R>>>1|P<<31)^(R>>>8|P<<24)^R>>>7}function g(R,P){return(R>>>1|P<<31)^(R>>>8|P<<24)^(R>>>7|P<<25)}function v(R,P){return(R>>>19|P<<13)^(P>>>29|R<<3)^R>>>6}function y(R,P){return(R>>>19|P<<13)^(P>>>29|R<<3)^(R>>>6|P<<26)}function T(R,P){return R>>>0<P>>>0?1:0}i(u,a),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},u.prototype._update=function(R){for(var P=this._w,H=0|this._ah,L=0|this._bh,I=0|this._ch,O=0|this._dh,F=0|this._eh,q=0|this._fh,z=0|this._gh,N=0|this._hh,U=0|this._al,C=0|this._bl,S=0|this._cl,k=0|this._dl,E=0|this._el,A=0|this._fl,j=0|this._gl,B=0|this._hl,D=0;D<32;D+=2)P[D]=R.readInt32BE(4*D),P[D+1]=R.readInt32BE(4*D+4);for(;D<160;D+=2){var Q=P[D-30],K=P[D-30+1],ee=b(Q,K),W=g(K,Q),te=v(Q=P[D-4],K=P[D-4+1]),G=y(K,Q),V=P[D-14],Z=P[D-14+1],ae=P[D-32],re=P[D-32+1],oe=W+Z|0,he=ee+V+T(oe,W)|0;he=(he=he+te+T(oe=oe+G|0,G)|0)+ae+T(oe=oe+re|0,re)|0,P[D]=he,P[D+1]=oe}for(var Se=0;Se<160;Se+=2){he=P[Se],oe=P[Se+1];var ge=h(H,L,I),ne=h(U,C,S),fe=d(H,U),pe=d(U,H),ke=x(F,E),Ce=x(E,F),Fe=c[Se],We=c[Se+1],$e=p(F,q,z),it=p(E,A,j),st=B+Ce|0,et=N+ke+T(st,B)|0;et=(et=(et=et+$e+T(st=st+it|0,it)|0)+Fe+T(st=st+We|0,We)|0)+he+T(st=st+oe|0,oe)|0;var Ze=pe+ne|0,gt=fe+ge+T(Ze,pe)|0;N=z,B=j,z=q,j=A,q=F,A=E,F=O+et+T(E=k+st|0,k)|0,O=I,k=S,I=L,S=C,L=H,C=U,H=et+gt+T(U=st+Ze|0,st)|0}this._al=this._al+U|0,this._bl=this._bl+C|0,this._cl=this._cl+S|0,this._dl=this._dl+k|0,this._el=this._el+E|0,this._fl=this._fl+A|0,this._gl=this._gl+j|0,this._hl=this._hl+B|0,this._ah=this._ah+H+T(this._al,U)|0,this._bh=this._bh+L+T(this._bl,C)|0,this._ch=this._ch+I+T(this._cl,S)|0,this._dh=this._dh+O+T(this._dl,k)|0,this._eh=this._eh+F+T(this._el,E)|0,this._fh=this._fh+q+T(this._fl,A)|0,this._gh=this._gh+z+T(this._gl,j)|0,this._hh=this._hh+N+T(this._hl,B)|0},u.prototype._hash=function(){var R=l.allocUnsafe(64);function P(H,L,I){R.writeInt32BE(H,I),R.writeInt32BE(L,I+4)}return P(this._ah,this._al,0),P(this._bh,this._bl,8),P(this._ch,this._cl,16),P(this._dh,this._dl,24),P(this._eh,this._el,32),P(this._fh,this._fl,40),P(this._gh,this._gl,48),P(this._hh,this._hl,56),R},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(e,n,s){n.exports=a;var i=e("events").EventEmitter;function a(){i.call(this)}e("inherits")(a,i),a.Readable=e("readable-stream/readable.js"),a.Writable=e("readable-stream/writable.js"),a.Duplex=e("readable-stream/duplex.js"),a.Transform=e("readable-stream/transform.js"),a.PassThrough=e("readable-stream/passthrough.js"),a.Stream=a,a.prototype.pipe=function(l,c){var o=this;function u(v){l.writable&&l.write(v)===!1&&o.pause&&o.pause()}function p(){o.readable&&o.resume&&o.resume()}o.on("data",u),l.on("drain",p),l._isStdio||c&&c.end===!1||(o.on("end",d),o.on("close",x));var h=!1;function d(){h||(h=!0,l.end())}function x(){h||(h=!0,typeof l.destroy=="function"&&l.destroy())}function b(v){if(g(),i.listenerCount(this,"error")===0)throw v}function g(){o.removeListener("data",u),l.removeListener("drain",p),o.removeListener("end",d),o.removeListener("close",x),o.removeListener("error",b),l.removeListener("error",b),o.removeListener("end",g),o.removeListener("close",g),l.removeListener("close",g)}return o.on("error",b),l.on("error",b),o.on("end",g),o.on("close",g),l.on("close",g),l.emit("pipe",o),l}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(e,n,s){var i={}.toString;n.exports=Array.isArray||function(a){return i.call(a)=="[object Array]"}},{}],507:[function(e,n,s){n.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(e,n,s){var i=e("process-nextick-args"),a=Object.keys||function(g){var v=[];for(var y in g)v.push(y);return v};n.exports=d;var l=Object.create(e("core-util-is"));l.inherits=e("inherits");var c=e("./_stream_readable"),o=e("./_stream_writable");l.inherits(d,c);for(var u=a(o.prototype),p=0;p<u.length;p++){var h=u[p];d.prototype[h]||(d.prototype[h]=o.prototype[h])}function d(g){if(!(this instanceof d))return new d(g);c.call(this,g),o.call(this,g),g&&g.readable===!1&&(this.readable=!1),g&&g.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,g&&g.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",x)}function x(){this.allowHalfOpen||this._writableState.ended||i.nextTick(b,this)}function b(g){g.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(g){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=g,this._writableState.destroyed=g)}}),d.prototype._destroy=function(g,v){this.push(null),this.end(),i.nextTick(v,g)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(e,n,s){n.exports=l;var i=e("./_stream_transform"),a=Object.create(e("core-util-is"));function l(c){if(!(this instanceof l))return new l(c);i.call(this,c)}a.inherits=e("inherits"),a.inherits(l,i),l.prototype._transform=function(c,o,u){u(null,c)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(e,n,s){(function(i,a){(function(){var l=e("process-nextick-args");n.exports=H;var c,o=e("isarray");H.ReadableState=P,e("events").EventEmitter;var u=function(B,D){return B.listeners(D).length},p=e("./internal/streams/stream"),h=e("safe-buffer").Buffer,d=(a!==void 0?a:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},x=Object.create(e("core-util-is"));x.inherits=e("inherits");var b=e("util"),g=void 0;g=b&&b.debuglog?b.debuglog("stream"):function(){};var v,y=e("./internal/streams/BufferList"),T=e("./internal/streams/destroy");x.inherits(H,p);var R=["error","close","destroy","pause","resume"];function P(B,D){B=B||{};var Q=D instanceof(c=c||e("./_stream_duplex"));this.objectMode=!!B.objectMode,Q&&(this.objectMode=this.objectMode||!!B.readableObjectMode);var K=B.highWaterMark,ee=B.readableHighWaterMark,W=this.objectMode?16:16384;this.highWaterMark=K||K===0?K:Q&&(ee||ee===0)?ee:W,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=B.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,B.encoding&&(v||(v=e("string_decoder/").StringDecoder),this.decoder=new v(B.encoding),this.encoding=B.encoding)}function H(B){if(c=c||e("./_stream_duplex"),!(this instanceof H))return new H(B);this._readableState=new P(B,this),this.readable=!0,B&&(typeof B.read=="function"&&(this._read=B.read),typeof B.destroy=="function"&&(this._destroy=B.destroy)),p.call(this)}function L(B,D,Q,K,ee){var W,te=B._readableState;return D===null?(te.reading=!1,(function(G,V){if(!V.ended){if(V.decoder){var Z=V.decoder.end();Z&&Z.length&&(V.buffer.push(Z),V.length+=V.objectMode?1:Z.length)}V.ended=!0,F(G)}})(B,te)):(ee||(W=(function(G,V){var Z;ae=V,h.isBuffer(ae)||ae instanceof d||typeof V=="string"||V===void 0||G.objectMode||(Z=new TypeError("Invalid non-string/buffer chunk"));var ae;return Z})(te,D)),W?B.emit("error",W):te.objectMode||D&&D.length>0?(typeof D=="string"||te.objectMode||Object.getPrototypeOf(D)===h.prototype||(D=(function(G){return h.from(G)})(D)),K?te.endEmitted?B.emit("error",new Error("stream.unshift() after end event")):I(B,te,D,!0):te.ended?B.emit("error",new Error("stream.push() after EOF")):(te.reading=!1,te.decoder&&!Q?(D=te.decoder.write(D),te.objectMode||D.length!==0?I(B,te,D,!1):z(B,te)):I(B,te,D,!1))):K||(te.reading=!1)),(function(G){return!G.ended&&(G.needReadable||G.length<G.highWaterMark||G.length===0)})(te)}function I(B,D,Q,K){D.flowing&&D.length===0&&!D.sync?(B.emit("data",Q),B.read(0)):(D.length+=D.objectMode?1:Q.length,K?D.buffer.unshift(Q):D.buffer.push(Q),D.needReadable&&F(B)),z(B,D)}Object.defineProperty(H.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(B){this._readableState&&(this._readableState.destroyed=B)}}),H.prototype.destroy=T.destroy,H.prototype._undestroy=T.undestroy,H.prototype._destroy=function(B,D){this.push(null),D(B)},H.prototype.push=function(B,D){var Q,K=this._readableState;return K.objectMode?Q=!0:typeof B=="string"&&((D=D||K.defaultEncoding)!==K.encoding&&(B=h.from(B,D),D=""),Q=!0),L(this,B,D,!1,Q)},H.prototype.unshift=function(B){return L(this,B,null,!0,!1)},H.prototype.isPaused=function(){return this._readableState.flowing===!1},H.prototype.setEncoding=function(B){return v||(v=e("string_decoder/").StringDecoder),this._readableState.decoder=new v(B),this._readableState.encoding=B,this};function O(B,D){return B<=0||D.length===0&&D.ended?0:D.objectMode?1:B!=B?D.flowing&&D.length?D.buffer.head.data.length:D.length:(B>D.highWaterMark&&(D.highWaterMark=(function(Q){return Q>=8388608?Q=8388608:(Q--,Q|=Q>>>1,Q|=Q>>>2,Q|=Q>>>4,Q|=Q>>>8,Q|=Q>>>16,Q++),Q})(B)),B<=D.length?B:D.ended?D.length:(D.needReadable=!0,0))}function F(B){var D=B._readableState;D.needReadable=!1,D.emittedReadable||(g("emitReadable",D.flowing),D.emittedReadable=!0,D.sync?l.nextTick(q,B):q(B))}function q(B){g("emit readable"),B.emit("readable"),S(B)}function z(B,D){D.readingMore||(D.readingMore=!0,l.nextTick(N,B,D))}function N(B,D){for(var Q=D.length;!D.reading&&!D.flowing&&!D.ended&&D.length<D.highWaterMark&&(g("maybeReadMore read 0"),B.read(0),Q!==D.length);)Q=D.length;D.readingMore=!1}function U(B){g("readable nexttick read 0"),B.read(0)}function C(B,D){D.reading||(g("resume read 0"),B.read(0)),D.resumeScheduled=!1,D.awaitDrain=0,B.emit("resume"),S(B),D.flowing&&!D.reading&&B.read(0)}function S(B){var D=B._readableState;for(g("flow",D.flowing);D.flowing&&B.read()!==null;);}function k(B,D){return D.length===0?null:(D.objectMode?Q=D.buffer.shift():!B||B>=D.length?(Q=D.decoder?D.buffer.join(""):D.buffer.length===1?D.buffer.head.data:D.buffer.concat(D.length),D.buffer.clear()):Q=(function(K,ee,W){var te;return K<ee.head.data.length?(te=ee.head.data.slice(0,K),ee.head.data=ee.head.data.slice(K)):te=K===ee.head.data.length?ee.shift():W?(function(G,V){var Z=V.head,ae=1,re=Z.data;for(G-=re.length;Z=Z.next;){var oe=Z.data,he=G>oe.length?oe.length:G;if(he===oe.length?re+=oe:re+=oe.slice(0,G),(G-=he)===0){he===oe.length?(++ae,Z.next?V.head=Z.next:V.head=V.tail=null):(V.head=Z,Z.data=oe.slice(he));break}++ae}return V.length-=ae,re})(K,ee):(function(G,V){var Z=h.allocUnsafe(G),ae=V.head,re=1;for(ae.data.copy(Z),G-=ae.data.length;ae=ae.next;){var oe=ae.data,he=G>oe.length?oe.length:G;if(oe.copy(Z,Z.length-G,0,he),(G-=he)===0){he===oe.length?(++re,ae.next?V.head=ae.next:V.head=V.tail=null):(V.head=ae,ae.data=oe.slice(he));break}++re}return V.length-=re,Z})(K,ee),te})(B,D.buffer,D.decoder),Q);var Q}function E(B){var D=B._readableState;if(D.length>0)throw new Error('"endReadable()" called on non-empty stream');D.endEmitted||(D.ended=!0,l.nextTick(A,D,B))}function A(B,D){B.endEmitted||B.length!==0||(B.endEmitted=!0,D.readable=!1,D.emit("end"))}function j(B,D){for(var Q=0,K=B.length;Q<K;Q++)if(B[Q]===D)return Q;return-1}H.prototype.read=function(B){g("read",B),B=parseInt(B,10);var D=this._readableState,Q=B;if(B!==0&&(D.emittedReadable=!1),B===0&&D.needReadable&&(D.length>=D.highWaterMark||D.ended))return g("read: emitReadable",D.length,D.ended),D.length===0&&D.ended?E(this):F(this),null;if((B=O(B,D))===0&&D.ended)return D.length===0&&E(this),null;var K,ee=D.needReadable;return g("need readable",ee),(D.length===0||D.length-B<D.highWaterMark)&&g("length less than watermark",ee=!0),D.ended||D.reading?g("reading or ended",ee=!1):ee&&(g("do read"),D.reading=!0,D.sync=!0,D.length===0&&(D.needReadable=!0),this._read(D.highWaterMark),D.sync=!1,D.reading||(B=O(Q,D))),(K=B>0?k(B,D):null)===null?(D.needReadable=!0,B=0):D.length-=B,D.length===0&&(D.ended||(D.needReadable=!0),Q!==B&&D.ended&&E(this)),K!==null&&this.emit("data",K),K},H.prototype._read=function(B){this.emit("error",new Error("_read() is not implemented"))},H.prototype.pipe=function(B,D){var Q=this,K=this._readableState;switch(K.pipesCount){case 0:K.pipes=B;break;case 1:K.pipes=[K.pipes,B];break;default:K.pipes.push(B)}K.pipesCount+=1,g("pipe count=%d opts=%j",K.pipesCount,D);var ee=(!D||D.end!==!1)&&B!==i.stdout&&B!==i.stderr?te:Se;function W(ge,ne){g("onunpipe"),ge===Q&&ne&&ne.hasUnpiped===!1&&(ne.hasUnpiped=!0,g("cleanup"),B.removeListener("close",oe),B.removeListener("finish",he),B.removeListener("drain",G),B.removeListener("error",re),B.removeListener("unpipe",W),Q.removeListener("end",te),Q.removeListener("end",Se),Q.removeListener("data",ae),V=!0,!K.awaitDrain||B._writableState&&!B._writableState.needDrain||G())}function te(){g("onend"),B.end()}K.endEmitted?l.nextTick(ee):Q.once("end",ee),B.on("unpipe",W);var G=(function(ge){return function(){var ne=ge._readableState;g("pipeOnDrain",ne.awaitDrain),ne.awaitDrain&&ne.awaitDrain--,ne.awaitDrain===0&&u(ge,"data")&&(ne.flowing=!0,S(ge))}})(Q);B.on("drain",G);var V=!1,Z=!1;function ae(ge){g("ondata"),Z=!1,B.write(ge)!==!1||Z||((K.pipesCount===1&&K.pipes===B||K.pipesCount>1&&j(K.pipes,B)!==-1)&&!V&&(g("false write response, pause",K.awaitDrain),K.awaitDrain++,Z=!0),Q.pause())}function re(ge){g("onerror",ge),Se(),B.removeListener("error",re),u(B,"error")===0&&B.emit("error",ge)}function oe(){B.removeListener("finish",he),Se()}function he(){g("onfinish"),B.removeListener("close",oe),Se()}function Se(){g("unpipe"),Q.unpipe(B)}return Q.on("data",ae),(function(ge,ne,fe){if(typeof ge.prependListener=="function")return ge.prependListener(ne,fe);ge._events&&ge._events[ne]?o(ge._events[ne])?ge._events[ne].unshift(fe):ge._events[ne]=[fe,ge._events[ne]]:ge.on(ne,fe)})(B,"error",re),B.once("close",oe),B.once("finish",he),B.emit("pipe",Q),K.flowing||(g("pipe resume"),Q.resume()),B},H.prototype.unpipe=function(B){var D=this._readableState,Q={hasUnpiped:!1};if(D.pipesCount===0)return this;if(D.pipesCount===1)return B&&B!==D.pipes||(B||(B=D.pipes),D.pipes=null,D.pipesCount=0,D.flowing=!1,B&&B.emit("unpipe",this,Q)),this;if(!B){var K=D.pipes,ee=D.pipesCount;D.pipes=null,D.pipesCount=0,D.flowing=!1;for(var W=0;W<ee;W++)K[W].emit("unpipe",this,{hasUnpiped:!1});return this}var te=j(D.pipes,B);return te===-1||(D.pipes.splice(te,1),D.pipesCount-=1,D.pipesCount===1&&(D.pipes=D.pipes[0]),B.emit("unpipe",this,Q)),this},H.prototype.on=function(B,D){var Q=p.prototype.on.call(this,B,D);if(B==="data")this._readableState.flowing!==!1&&this.resume();else if(B==="readable"){var K=this._readableState;K.endEmitted||K.readableListening||(K.readableListening=K.needReadable=!0,K.emittedReadable=!1,K.reading?K.length&&F(this):l.nextTick(U,this))}return Q},H.prototype.addListener=H.prototype.on,H.prototype.resume=function(){var B=this._readableState;return B.flowing||(g("resume"),B.flowing=!0,(function(D,Q){Q.resumeScheduled||(Q.resumeScheduled=!0,l.nextTick(C,D,Q))})(this,B)),this},H.prototype.pause=function(){return g("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(g("pause"),this._readableState.flowing=!1,this.emit("pause")),this},H.prototype.wrap=function(B){var D=this,Q=this._readableState,K=!1;for(var ee in B.on("end",(function(){if(g("wrapped end"),Q.decoder&&!Q.ended){var te=Q.decoder.end();te&&te.length&&D.push(te)}D.push(null)})),B.on("data",(function(te){g("wrapped data"),Q.decoder&&(te=Q.decoder.write(te)),Q.objectMode&&te==null||(Q.objectMode||te&&te.length)&&(D.push(te)||(K=!0,B.pause()))})),B)this[ee]===void 0&&typeof B[ee]=="function"&&(this[ee]=(function(te){return function(){return B[te].apply(B,arguments)}})(ee));for(var W=0;W<R.length;W++)B.on(R[W],this.emit.bind(this,R[W]));return this._read=function(te){g("wrapped _read",te),K&&(K=!1,B.resume())},this},Object.defineProperty(H.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),H._fromList=k}).call(this)}).call(this,e("_process"),typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(e,n,s){n.exports=c;var i=e("./_stream_duplex"),a=Object.create(e("core-util-is"));function l(p,h){var d=this._transformState;d.transforming=!1;var x=d.writecb;if(!x)return this.emit("error",new Error("write callback called multiple times"));d.writechunk=null,d.writecb=null,h!=null&&this.push(h),x(p);var b=this._readableState;b.reading=!1,(b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}function c(p){if(!(this instanceof c))return new c(p);i.call(this,p),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,p&&(typeof p.transform=="function"&&(this._transform=p.transform),typeof p.flush=="function"&&(this._flush=p.flush)),this.on("prefinish",o)}function o(){var p=this;typeof this._flush=="function"?this._flush((function(h,d){u(p,h,d)})):u(this,null,null)}function u(p,h,d){if(h)return p.emit("error",h);if(d!=null&&p.push(d),p._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(p._transformState.transforming)throw new Error("Calling transform done when still transforming");return p.push(null)}a.inherits=e("inherits"),a.inherits(c,i),c.prototype.push=function(p,h){return this._transformState.needTransform=!1,i.prototype.push.call(this,p,h)},c.prototype._transform=function(p,h,d){throw new Error("_transform() is not implemented")},c.prototype._write=function(p,h,d){var x=this._transformState;if(x.writecb=d,x.writechunk=p,x.writeencoding=h,!x.transforming){var b=this._readableState;(x.needTransform||b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}},c.prototype._read=function(p){var h=this._transformState;h.writechunk!==null&&h.writecb&&!h.transforming?(h.transforming=!0,this._transform(h.writechunk,h.writeencoding,h.afterTransform)):h.needTransform=!0},c.prototype._destroy=function(p,h){var d=this;i.prototype._destroy.call(this,p,(function(x){h(x),d.emit("close")}))}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(e,n,s){(function(i,a,l){(function(){var c=e("process-nextick-args");function o(z){var N=this;this.next=null,this.entry=null,this.finish=function(){(function(U,C,S){var k=U.entry;for(U.entry=null;k;){var E=k.callback;C.pendingcb--,E(S),k=k.next}C.corkedRequestsFree.next=U})(N,z)}}n.exports=P;var u,p=!i.browser&&["v0.10","v0.9."].indexOf(i.version.slice(0,5))>-1?l:c.nextTick;P.WritableState=R;var h=Object.create(e("core-util-is"));h.inherits=e("inherits");var d={deprecate:e("util-deprecate")},x=e("./internal/streams/stream"),b=e("safe-buffer").Buffer,g=(a!==void 0?a:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},v,y=e("./internal/streams/destroy");function T(){}function R(z,N){u=u||e("./_stream_duplex"),z=z||{};var U=N instanceof u;this.objectMode=!!z.objectMode,U&&(this.objectMode=this.objectMode||!!z.writableObjectMode);var C=z.highWaterMark,S=z.writableHighWaterMark,k=this.objectMode?16:16384;this.highWaterMark=C||C===0?C:U&&(S||S===0)?S:k,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var E=z.decodeStrings===!1;this.decodeStrings=!E,this.defaultEncoding=z.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(A){(function(j,B){var D=j._writableState,Q=D.sync,K=D.writecb;if((function(W){W.writing=!1,W.writecb=null,W.length-=W.writelen,W.writelen=0})(D),B)(function(W,te,G,V,Z){--te.pendingcb,G?(c.nextTick(Z,V),c.nextTick(q,W,te),W._writableState.errorEmitted=!0,W.emit("error",V)):(Z(V),W._writableState.errorEmitted=!0,W.emit("error",V),q(W,te))})(j,D,Q,B,K);else{var ee=O(D);ee||D.corked||D.bufferProcessing||!D.bufferedRequest||I(j,D),Q?p(L,j,D,ee,K):L(j,D,ee,K)}})(N,A)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function P(z){if(u=u||e("./_stream_duplex"),!(v.call(P,this)||this instanceof u))return new P(z);this._writableState=new R(z,this),this.writable=!0,z&&(typeof z.write=="function"&&(this._write=z.write),typeof z.writev=="function"&&(this._writev=z.writev),typeof z.destroy=="function"&&(this._destroy=z.destroy),typeof z.final=="function"&&(this._final=z.final)),x.call(this)}function H(z,N,U,C,S,k,E){N.writelen=C,N.writecb=E,N.writing=!0,N.sync=!0,U?z._writev(S,N.onwrite):z._write(S,k,N.onwrite),N.sync=!1}function L(z,N,U,C){U||(function(S,k){k.length===0&&k.needDrain&&(k.needDrain=!1,S.emit("drain"))})(z,N),N.pendingcb--,C(),q(z,N)}function I(z,N){N.bufferProcessing=!0;var U=N.bufferedRequest;if(z._writev&&U&&U.next){var C=N.bufferedRequestCount,S=new Array(C),k=N.corkedRequestsFree;k.entry=U;for(var E=0,A=!0;U;)S[E]=U,U.isBuf||(A=!1),U=U.next,E+=1;S.allBuffers=A,H(z,N,!0,N.length,S,"",k.finish),N.pendingcb++,N.lastBufferedRequest=null,k.next?(N.corkedRequestsFree=k.next,k.next=null):N.corkedRequestsFree=new o(N),N.bufferedRequestCount=0}else{for(;U;){var j=U.chunk,B=U.encoding,D=U.callback;if(H(z,N,!1,N.objectMode?1:j.length,j,B,D),U=U.next,N.bufferedRequestCount--,N.writing)break}U===null&&(N.lastBufferedRequest=null)}N.bufferedRequest=U,N.bufferProcessing=!1}function O(z){return z.ending&&z.length===0&&z.bufferedRequest===null&&!z.finished&&!z.writing}function F(z,N){z._final((function(U){N.pendingcb--,U&&z.emit("error",U),N.prefinished=!0,z.emit("prefinish"),q(z,N)}))}function q(z,N){var U=O(N);return U&&((function(C,S){S.prefinished||S.finalCalled||(typeof C._final=="function"?(S.pendingcb++,S.finalCalled=!0,c.nextTick(F,C,S)):(S.prefinished=!0,C.emit("prefinish")))})(z,N),N.pendingcb===0&&(N.finished=!0,z.emit("finish"))),U}h.inherits(P,x),R.prototype.getBuffer=function(){for(var z=this.bufferedRequest,N=[];z;)N.push(z),z=z.next;return N},(function(){try{Object.defineProperty(R.prototype,"buffer",{get:d.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(v=Function.prototype[Symbol.hasInstance],Object.defineProperty(P,Symbol.hasInstance,{value:function(z){return!!v.call(this,z)||this===P&&z&&z._writableState instanceof R}})):v=function(z){return z instanceof this},P.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},P.prototype.write=function(z,N,U){var C,S=this._writableState,k=!1,E=!S.objectMode&&(C=z,b.isBuffer(C)||C instanceof g);return E&&!b.isBuffer(z)&&(z=(function(A){return b.from(A)})(z)),typeof N=="function"&&(U=N,N=null),E?N="buffer":N||(N=S.defaultEncoding),typeof U!="function"&&(U=T),S.ended?(function(A,j){var B=new Error("write after end");A.emit("error",B),c.nextTick(j,B)})(this,U):(E||(function(A,j,B,D){var Q=!0,K=!1;return B===null?K=new TypeError("May not write null values to stream"):typeof B=="string"||B===void 0||j.objectMode||(K=new TypeError("Invalid non-string/buffer chunk")),K&&(A.emit("error",K),c.nextTick(D,K),Q=!1),Q})(this,S,z,U))&&(S.pendingcb++,k=(function(A,j,B,D,Q,K){if(!B){var ee=(function(V,Z,ae){return V.objectMode||V.decodeStrings===!1||typeof Z!="string"||(Z=b.from(Z,ae)),Z})(j,D,Q);D!==ee&&(B=!0,Q="buffer",D=ee)}var W=j.objectMode?1:D.length;j.length+=W;var te=j.length<j.highWaterMark;if(te||(j.needDrain=!0),j.writing||j.corked){var G=j.lastBufferedRequest;j.lastBufferedRequest={chunk:D,encoding:Q,isBuf:B,callback:K,next:null},G?G.next=j.lastBufferedRequest:j.bufferedRequest=j.lastBufferedRequest,j.bufferedRequestCount+=1}else H(A,j,!1,W,D,Q,K);return te})(this,S,E,z,N,U)),k},P.prototype.cork=function(){this._writableState.corked++},P.prototype.uncork=function(){var z=this._writableState;z.corked&&(z.corked--,z.writing||z.corked||z.bufferProcessing||!z.bufferedRequest||I(this,z))},P.prototype.setDefaultEncoding=function(z){if(typeof z=="string"&&(z=z.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((z+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+z);return this._writableState.defaultEncoding=z,this},Object.defineProperty(P.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),P.prototype._write=function(z,N,U){U(new Error("_write() is not implemented"))},P.prototype._writev=null,P.prototype.end=function(z,N,U){var C=this._writableState;typeof z=="function"?(U=z,z=null,N=null):typeof N=="function"&&(U=N,N=null),z!=null&&this.write(z,N),C.corked&&(C.corked=1,this.uncork()),C.ending||(function(S,k,E){k.ending=!0,q(S,k),E&&(k.finished?c.nextTick(E):S.once("finish",E)),k.ended=!0,S.writable=!1})(this,C,U)},Object.defineProperty(P.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(z){this._writableState&&(this._writableState.destroyed=z)}}),P.prototype.destroy=y.destroy,P.prototype._undestroy=y.undestroy,P.prototype._destroy=function(z,N){this.end(),N(z)}}).call(this)}).call(this,e("_process"),typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(e,n,s){var i=e("safe-buffer").Buffer,a=e("util");n.exports=(function(){function l(){(function(c,o){if(!(c instanceof o))throw new TypeError("Cannot call a class as a function")})(this,l),this.head=null,this.tail=null,this.length=0}return l.prototype.push=function(c){var o={data:c,next:null};this.length>0?this.tail.next=o:this.head=o,this.tail=o,++this.length},l.prototype.unshift=function(c){var o={data:c,next:this.head};this.length===0&&(this.tail=o),this.head=o,++this.length},l.prototype.shift=function(){if(this.length!==0){var c=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,c}},l.prototype.clear=function(){this.head=this.tail=null,this.length=0},l.prototype.join=function(c){if(this.length===0)return"";for(var o=this.head,u=""+o.data;o=o.next;)u+=c+o.data;return u},l.prototype.concat=function(c){if(this.length===0)return i.alloc(0);for(var o,u,p,h=i.allocUnsafe(c>>>0),d=this.head,x=0;d;)o=d.data,u=h,p=x,o.copy(u,p),x+=d.data.length,d=d.next;return h},l})(),a&&a.inspect&&a.inspect.custom&&(n.exports.prototype[a.inspect.custom]=function(){var l=a.inspect({length:this.length});return this.constructor.name+" "+l})},{"safe-buffer":520,util:188}],514:[function(e,n,s){var i=e("process-nextick-args");function a(l,c){l.emit("error",c)}n.exports={destroy:function(l,c){var o=this,u=this._readableState&&this._readableState.destroyed,p=this._writableState&&this._writableState.destroyed;return u||p?(c?c(l):l&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(a,this,l)):i.nextTick(a,this,l)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(l||null,(function(h){!c&&h?o._writableState?o._writableState.errorEmitted||(o._writableState.errorEmitted=!0,i.nextTick(a,o,h)):i.nextTick(a,o,h):c&&c(h)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(e,n,s){arguments[4][490][0].apply(s,arguments)},{dup:490,events:422}],516:[function(e,n,s){n.exports=e("./readable").PassThrough},{"./readable":517}],517:[function(e,n,s){(s=n.exports=e("./lib/_stream_readable.js")).Stream=s,s.Readable=s,s.Writable=e("./lib/_stream_writable.js"),s.Duplex=e("./lib/_stream_duplex.js"),s.Transform=e("./lib/_stream_transform.js"),s.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(e,n,s){n.exports=e("./readable").Transform},{"./readable":517}],519:[function(e,n,s){n.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(e,n,s){arguments[4][217][0].apply(s,arguments)},{buffer:220,dup:217}],521:[function(e,n,s){arguments[4][218][0].apply(s,arguments)},{dup:218,"safe-buffer":520}],522:[function(e,n,s){arguments[4][218][0].apply(s,arguments)},{dup:218,"safe-buffer":494}],523:[function(e,n,s){(function(i,a){(function(){var l=e("process/browser.js").nextTick,c=Function.prototype.apply,o=Array.prototype.slice,u={},p=0;function h(d,x){this._id=d,this._clearFn=x}s.setTimeout=function(){return new h(c.call(setTimeout,window,arguments),clearTimeout)},s.setInterval=function(){return new h(c.call(setInterval,window,arguments),clearInterval)},s.clearTimeout=s.clearInterval=function(d){d.close()},h.prototype.unref=h.prototype.ref=function(){},h.prototype.close=function(){this._clearFn.call(window,this._id)},s.enroll=function(d,x){clearTimeout(d._idleTimeoutId),d._idleTimeout=x},s.unenroll=function(d){clearTimeout(d._idleTimeoutId),d._idleTimeout=-1},s._unrefActive=s.active=function(d){clearTimeout(d._idleTimeoutId);var x=d._idleTimeout;x>=0&&(d._idleTimeoutId=setTimeout((function(){d._onTimeout&&d._onTimeout()}),x))},s.setImmediate=typeof i=="function"?i:function(d){var x=p++,b=!(arguments.length<2)&&o.call(arguments,1);return u[x]=!0,l((function(){u[x]&&(b?d.apply(null,b):d.call(null),s.clearImmediate(x))})),x},s.clearImmediate=typeof a=="function"?a:function(d){delete u[d]}}).call(this)}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(e,n,s){(function(i){(function(){function a(l){try{if(!i.localStorage)return!1}catch{return!1}var c=i.localStorage[l];return c!=null&&String(c).toLowerCase()==="true"}n.exports=function(l,c){if(a("noDeprecation"))return l;var o=!1;return function(){if(!o){if(a("throwDeprecation"))throw new Error(c);a("traceDeprecation")?console.trace(c):console.warn(c),o=!0}return l.apply(this,arguments)}}}).call(this)}).call(this,typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(e,n,s){typeof Object.create=="function"?n.exports=function(i,a){i.super_=a,i.prototype=Object.create(a.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}})}:n.exports=function(i,a){i.super_=a;var l=function(){};l.prototype=a.prototype,i.prototype=new l,i.prototype.constructor=i}},{}],526:[function(e,n,s){n.exports=function(i){return i&&typeof i=="object"&&typeof i.copy=="function"&&typeof i.fill=="function"&&typeof i.readUInt8=="function"}},{}],527:[function(e,n,s){(function(i,a){(function(){var l=/%[sdj%]/g;s.format=function(S){if(!R(S)){for(var k=[],E=0;E<arguments.length;E++)k.push(u(arguments[E]));return k.join(" ")}E=1;for(var A=arguments,j=A.length,B=String(S).replace(l,(function(Q){if(Q==="%%")return"%";if(E>=j)return Q;switch(Q){case"%s":return String(A[E++]);case"%d":return Number(A[E++]);case"%j":try{return JSON.stringify(A[E++])}catch{return"[Circular]"}default:return Q}})),D=A[E];E<j;D=A[++E])y(D)||!L(D)?B+=" "+D:B+=" "+u(D);return B},s.deprecate=function(S,k){if(P(a.process))return function(){return s.deprecate(S,k).apply(this,arguments)};if(i.noDeprecation===!0)return S;var E=!1;return function(){if(!E){if(i.throwDeprecation)throw new Error(k);i.traceDeprecation?console.trace(k):console.error(k),E=!0}return S.apply(this,arguments)}};var c,o={};function u(S,k){var E={seen:[],stylize:h};return arguments.length>=3&&(E.depth=arguments[2]),arguments.length>=4&&(E.colors=arguments[3]),v(k)?E.showHidden=k:k&&s._extend(E,k),P(E.showHidden)&&(E.showHidden=!1),P(E.depth)&&(E.depth=2),P(E.colors)&&(E.colors=!1),P(E.customInspect)&&(E.customInspect=!0),E.colors&&(E.stylize=p),d(E,S,E.depth)}function p(S,k){var E=u.styles[k];return E?"\x1B["+u.colors[E][0]+"m"+S+"\x1B["+u.colors[E][1]+"m":S}function h(S,k){return S}function d(S,k,E){if(S.customInspect&&k&&F(k.inspect)&&k.inspect!==s.inspect&&(!k.constructor||k.constructor.prototype!==k)){var A=k.inspect(E,S);return R(A)||(A=d(S,A,E)),A}var j=(function(G,V){if(P(V))return G.stylize("undefined","undefined");if(R(V)){var Z="'"+JSON.stringify(V).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return G.stylize(Z,"string")}if(T(V))return G.stylize(""+V,"number");if(v(V))return G.stylize(""+V,"boolean");if(y(V))return G.stylize("null","null")})(S,k);if(j)return j;var B=Object.keys(k),D=(function(G){var V={};return G.forEach((function(Z,ae){V[Z]=!0})),V})(B);if(S.showHidden&&(B=Object.getOwnPropertyNames(k)),O(k)&&(B.indexOf("message")>=0||B.indexOf("description")>=0))return x(k);if(B.length===0){if(F(k)){var Q=k.name?": "+k.name:"";return S.stylize("[Function"+Q+"]","special")}if(H(k))return S.stylize(RegExp.prototype.toString.call(k),"regexp");if(I(k))return S.stylize(Date.prototype.toString.call(k),"date");if(O(k))return x(k)}var K,ee="",W=!1,te=["{","}"];return g(k)&&(W=!0,te=["[","]"]),F(k)&&(ee=" [Function"+(k.name?": "+k.name:"")+"]"),H(k)&&(ee=" "+RegExp.prototype.toString.call(k)),I(k)&&(ee=" "+Date.prototype.toUTCString.call(k)),O(k)&&(ee=" "+x(k)),B.length!==0||W&&k.length!=0?E<0?H(k)?S.stylize(RegExp.prototype.toString.call(k),"regexp"):S.stylize("[Object]","special"):(S.seen.push(k),K=W?(function(G,V,Z,ae,re){for(var oe=[],he=0,Se=V.length;he<Se;++he)C(V,String(he))?oe.push(b(G,V,Z,ae,String(he),!0)):oe.push("");return re.forEach((function(ge){ge.match(/^\d+$/)||oe.push(b(G,V,Z,ae,ge,!0))})),oe})(S,k,E,D,B):B.map((function(G){return b(S,k,E,D,G,W)})),S.seen.pop(),(function(G,V,Z){return G.reduce((function(ae,re){return re.indexOf(`
`)>=0,ae+re.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?Z[0]+(V===""?"":V+`
 `)+" "+G.join(`,
  `)+" "+Z[1]:Z[0]+V+" "+G.join(", ")+" "+Z[1]})(K,ee,te)):te[0]+ee+te[1]}function x(S){return"["+Error.prototype.toString.call(S)+"]"}function b(S,k,E,A,j,B){var D,Q,K;if((K=Object.getOwnPropertyDescriptor(k,j)||{value:k[j]}).get?Q=K.set?S.stylize("[Getter/Setter]","special"):S.stylize("[Getter]","special"):K.set&&(Q=S.stylize("[Setter]","special")),C(A,j)||(D="["+j+"]"),Q||(S.seen.indexOf(K.value)<0?(Q=y(E)?d(S,K.value,null):d(S,K.value,E-1)).indexOf(`
`)>-1&&(Q=B?Q.split(`
`).map((function(ee){return"  "+ee})).join(`
`).substr(2):`
`+Q.split(`
`).map((function(ee){return"   "+ee})).join(`
`)):Q=S.stylize("[Circular]","special")),P(D)){if(B&&j.match(/^\d+$/))return Q;(D=JSON.stringify(""+j)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(D=D.substr(1,D.length-2),D=S.stylize(D,"name")):(D=D.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),D=S.stylize(D,"string"))}return D+": "+Q}function g(S){return Array.isArray(S)}function v(S){return typeof S=="boolean"}function y(S){return S===null}function T(S){return typeof S=="number"}function R(S){return typeof S=="string"}function P(S){return S===void 0}function H(S){return L(S)&&q(S)==="[object RegExp]"}function L(S){return typeof S=="object"&&S!==null}function I(S){return L(S)&&q(S)==="[object Date]"}function O(S){return L(S)&&(q(S)==="[object Error]"||S instanceof Error)}function F(S){return typeof S=="function"}function q(S){return Object.prototype.toString.call(S)}function z(S){return S<10?"0"+S.toString(10):S.toString(10)}s.debuglog=function(S){if(P(c)&&(c=i.env.NODE_DEBUG||""),S=S.toUpperCase(),!o[S])if(new RegExp("\\b"+S+"\\b","i").test(c)){var k=i.pid;o[S]=function(){var E=s.format.apply(s,arguments);console.error("%s %d: %s",S,k,E)}}else o[S]=function(){};return o[S]},s.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},s.isArray=g,s.isBoolean=v,s.isNull=y,s.isNullOrUndefined=function(S){return S==null},s.isNumber=T,s.isString=R,s.isSymbol=function(S){return typeof S=="symbol"},s.isUndefined=P,s.isRegExp=H,s.isObject=L,s.isDate=I,s.isError=O,s.isFunction=F,s.isPrimitive=function(S){return S===null||typeof S=="boolean"||typeof S=="number"||typeof S=="string"||typeof S=="symbol"||S===void 0},s.isBuffer=e("./support/isBuffer");var N=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function U(){var S=new Date,k=[z(S.getHours()),z(S.getMinutes()),z(S.getSeconds())].join(":");return[S.getDate(),N[S.getMonth()],k].join(" ")}function C(S,k){return Object.prototype.hasOwnProperty.call(S,k)}s.log=function(){console.log("%s - %s",U(),s.format.apply(s,arguments))},s.inherits=e("inherits"),s._extend=function(S,k){if(!k||!L(k))return S;for(var E=Object.keys(k),A=E.length;A--;)S[E[A]]=k[E[A]];return S}}).call(this)}).call(this,e("_process"),typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"v1",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(s,"v3",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(s,"v4",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(s,"v5",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(s,"NIL",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(s,"version",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(s,"validate",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(s,"stringify",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(s,"parse",{enumerable:!0,get:function(){return d.default}});var i=x(e("./v1.js")),a=x(e("./v3.js")),l=x(e("./v4.js")),c=x(e("./v5.js")),o=x(e("./nil.js")),u=x(e("./version.js")),p=x(e("./validate.js")),h=x(e("./stringify.js")),d=x(e("./parse.js"));function x(b){return b&&b.__esModule?b:{default:b}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(e,n,s){function i(d){return 14+(d+64>>>9<<4)+1}function a(d,x){const b=(65535&d)+(65535&x);return(d>>16)+(x>>16)+(b>>16)<<16|65535&b}function l(d,x,b,g,v,y){return a((T=a(a(x,d),a(g,y)))<<(R=v)|T>>>32-R,b);var T,R}function c(d,x,b,g,v,y,T){return l(x&b|~x&g,d,x,v,y,T)}function o(d,x,b,g,v,y,T){return l(x&g|b&~g,d,x,v,y,T)}function u(d,x,b,g,v,y,T){return l(x^b^g,d,x,v,y,T)}function p(d,x,b,g,v,y,T){return l(b^(x|~g),d,x,v,y,T)}Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var h=function(d){if(typeof d=="string"){const x=unescape(encodeURIComponent(d));d=new Uint8Array(x.length);for(let b=0;b<x.length;++b)d[b]=x.charCodeAt(b)}return(function(x){const b=[],g=32*x.length;for(let v=0;v<g;v+=8){const y=x[v>>5]>>>v%32&255,T=parseInt("0123456789abcdef".charAt(y>>>4&15)+"0123456789abcdef".charAt(15&y),16);b.push(T)}return b})((function(x,b){x[b>>5]|=128<<b%32,x[i(b)-1]=b;let g=1732584193,v=-271733879,y=-1732584194,T=271733878;for(let R=0;R<x.length;R+=16){const P=g,H=v,L=y,I=T;g=c(g,v,y,T,x[R],7,-680876936),T=c(T,g,v,y,x[R+1],12,-389564586),y=c(y,T,g,v,x[R+2],17,606105819),v=c(v,y,T,g,x[R+3],22,-1044525330),g=c(g,v,y,T,x[R+4],7,-176418897),T=c(T,g,v,y,x[R+5],12,1200080426),y=c(y,T,g,v,x[R+6],17,-1473231341),v=c(v,y,T,g,x[R+7],22,-45705983),g=c(g,v,y,T,x[R+8],7,1770035416),T=c(T,g,v,y,x[R+9],12,-1958414417),y=c(y,T,g,v,x[R+10],17,-42063),v=c(v,y,T,g,x[R+11],22,-1990404162),g=c(g,v,y,T,x[R+12],7,1804603682),T=c(T,g,v,y,x[R+13],12,-40341101),y=c(y,T,g,v,x[R+14],17,-1502002290),v=c(v,y,T,g,x[R+15],22,1236535329),g=o(g,v,y,T,x[R+1],5,-165796510),T=o(T,g,v,y,x[R+6],9,-1069501632),y=o(y,T,g,v,x[R+11],14,643717713),v=o(v,y,T,g,x[R],20,-373897302),g=o(g,v,y,T,x[R+5],5,-701558691),T=o(T,g,v,y,x[R+10],9,38016083),y=o(y,T,g,v,x[R+15],14,-660478335),v=o(v,y,T,g,x[R+4],20,-405537848),g=o(g,v,y,T,x[R+9],5,568446438),T=o(T,g,v,y,x[R+14],9,-1019803690),y=o(y,T,g,v,x[R+3],14,-187363961),v=o(v,y,T,g,x[R+8],20,1163531501),g=o(g,v,y,T,x[R+13],5,-1444681467),T=o(T,g,v,y,x[R+2],9,-51403784),y=o(y,T,g,v,x[R+7],14,1735328473),v=o(v,y,T,g,x[R+12],20,-1926607734),g=u(g,v,y,T,x[R+5],4,-378558),T=u(T,g,v,y,x[R+8],11,-2022574463),y=u(y,T,g,v,x[R+11],16,1839030562),v=u(v,y,T,g,x[R+14],23,-35309556),g=u(g,v,y,T,x[R+1],4,-1530992060),T=u(T,g,v,y,x[R+4],11,1272893353),y=u(y,T,g,v,x[R+7],16,-155497632),v=u(v,y,T,g,x[R+10],23,-1094730640),g=u(g,v,y,T,x[R+13],4,681279174),T=u(T,g,v,y,x[R],11,-358537222),y=u(y,T,g,v,x[R+3],16,-722521979),v=u(v,y,T,g,x[R+6],23,76029189),g=u(g,v,y,T,x[R+9],4,-640364487),T=u(T,g,v,y,x[R+12],11,-421815835),y=u(y,T,g,v,x[R+15],16,530742520),v=u(v,y,T,g,x[R+2],23,-995338651),g=p(g,v,y,T,x[R],6,-198630844),T=p(T,g,v,y,x[R+7],10,1126891415),y=p(y,T,g,v,x[R+14],15,-1416354905),v=p(v,y,T,g,x[R+5],21,-57434055),g=p(g,v,y,T,x[R+12],6,1700485571),T=p(T,g,v,y,x[R+3],10,-1894986606),y=p(y,T,g,v,x[R+10],15,-1051523),v=p(v,y,T,g,x[R+1],21,-2054922799),g=p(g,v,y,T,x[R+8],6,1873313359),T=p(T,g,v,y,x[R+15],10,-30611744),y=p(y,T,g,v,x[R+6],15,-1560198380),v=p(v,y,T,g,x[R+13],21,1309151649),g=p(g,v,y,T,x[R+4],6,-145523070),T=p(T,g,v,y,x[R+11],10,-1120210379),y=p(y,T,g,v,x[R+2],15,718787259),v=p(v,y,T,g,x[R+9],21,-343485551),g=a(g,P),v=a(v,H),y=a(y,L),T=a(T,I)}return[g,v,y,T]})((function(x){if(x.length===0)return[];const b=8*x.length,g=new Uint32Array(i(b));for(let v=0;v<b;v+=8)g[v>>5]|=(255&x[v/8])<<v%32;return g})(d),8*d.length))};s.default=h},{}],530:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,s.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i,a=(i=e("./validate.js"))&&i.__esModule?i:{default:i},l=function(c){if(!(0,a.default)(c))throw TypeError("Invalid UUID");let o;const u=new Uint8Array(16);return u[0]=(o=parseInt(c.slice(0,8),16))>>>24,u[1]=o>>>16&255,u[2]=o>>>8&255,u[3]=255&o,u[4]=(o=parseInt(c.slice(9,13),16))>>>8,u[5]=255&o,u[6]=(o=parseInt(c.slice(14,18),16))>>>8,u[7]=255&o,u[8]=(o=parseInt(c.slice(19,23),16))>>>8,u[9]=255&o,u[10]=(o=parseInt(c.slice(24,36),16))/1099511627776&255,u[11]=o/4294967296&255,u[12]=o>>>24&255,u[13]=o>>>16&255,u[14]=o>>>8&255,u[15]=255&o,u};s.default=l},{"./validate.js":541}],532:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,s.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(e,n,s){let i;Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(){if(!i&&(i=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!i))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(a)};const a=new Uint8Array(16)},{}],534:[function(e,n,s){function i(c,o,u,p){switch(c){case 0:return o&u^~o&p;case 1:return o^u^p;case 2:return o&u^o&p^u&p;case 3:return o^u^p}}function a(c,o){return c<<o|c>>>32-o}Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=function(c){const o=[1518500249,1859775393,2400959708,3395469782],u=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof c=="string"){const x=unescape(encodeURIComponent(c));c=[];for(let b=0;b<x.length;++b)c.push(x.charCodeAt(b))}else Array.isArray(c)||(c=Array.prototype.slice.call(c));c.push(128);const p=c.length/4+2,h=Math.ceil(p/16),d=new Array(h);for(let x=0;x<h;++x){const b=new Uint32Array(16);for(let g=0;g<16;++g)b[g]=c[64*x+4*g]<<24|c[64*x+4*g+1]<<16|c[64*x+4*g+2]<<8|c[64*x+4*g+3];d[x]=b}d[h-1][14]=8*(c.length-1)/Math.pow(2,32),d[h-1][14]=Math.floor(d[h-1][14]),d[h-1][15]=8*(c.length-1)&4294967295;for(let x=0;x<h;++x){const b=new Uint32Array(80);for(let P=0;P<16;++P)b[P]=d[x][P];for(let P=16;P<80;++P)b[P]=a(b[P-3]^b[P-8]^b[P-14]^b[P-16],1);let g=u[0],v=u[1],y=u[2],T=u[3],R=u[4];for(let P=0;P<80;++P){const H=Math.floor(P/20),L=a(g,5)+i(H,v,y,T)+R+o[H]+b[P]>>>0;R=T,T=y,y=a(v,30)>>>0,v=g,g=L}u[0]=u[0]+g>>>0,u[1]=u[1]+v>>>0,u[2]=u[2]+y>>>0,u[3]=u[3]+T>>>0,u[4]=u[4]+R>>>0}return[u[0]>>24&255,u[0]>>16&255,u[0]>>8&255,255&u[0],u[1]>>24&255,u[1]>>16&255,u[1]>>8&255,255&u[1],u[2]>>24&255,u[2]>>16&255,u[2]>>8&255,255&u[2],u[3]>>24&255,u[3]>>16&255,u[3]>>8&255,255&u[3],u[4]>>24&255,u[4]>>16&255,u[4]>>8&255,255&u[4]]};s.default=l},{}],535:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i,a=(i=e("./validate.js"))&&i.__esModule?i:{default:i};const l=[];for(let o=0;o<256;++o)l.push((o+256).toString(16).substr(1));var c=function(o){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const p=(l[o[u+0]]+l[o[u+1]]+l[o[u+2]]+l[o[u+3]]+"-"+l[o[u+4]]+l[o[u+5]]+"-"+l[o[u+6]]+l[o[u+7]]+"-"+l[o[u+8]]+l[o[u+9]]+"-"+l[o[u+10]]+l[o[u+11]]+l[o[u+12]]+l[o[u+13]]+l[o[u+14]]+l[o[u+15]]).toLowerCase();if(!(0,a.default)(p))throw TypeError("Stringified UUID is invalid");return p};s.default=c},{"./validate.js":541}],536:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=l(e("./rng.js")),a=l(e("./stringify.js"));function l(d){return d&&d.__esModule?d:{default:d}}let c,o,u=0,p=0;var h=function(d,x,b){let g=x&&b||0;const v=x||new Array(16);let y=(d=d||{}).node||c,T=d.clockseq!==void 0?d.clockseq:o;if(y==null||T==null){const O=d.random||(d.rng||i.default)();y==null&&(y=c=[1|O[0],O[1],O[2],O[3],O[4],O[5]]),T==null&&(T=o=16383&(O[6]<<8|O[7]))}let R=d.msecs!==void 0?d.msecs:Date.now(),P=d.nsecs!==void 0?d.nsecs:p+1;const H=R-u+(P-p)/1e4;if(H<0&&d.clockseq===void 0&&(T=T+1&16383),(H<0||R>u)&&d.nsecs===void 0&&(P=0),P>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=R,p=P,o=T,R+=122192928e5;const L=(1e4*(268435455&R)+P)%4294967296;v[g++]=L>>>24&255,v[g++]=L>>>16&255,v[g++]=L>>>8&255,v[g++]=255&L;const I=R/4294967296*1e4&268435455;v[g++]=I>>>8&255,v[g++]=255&I,v[g++]=I>>>24&15|16,v[g++]=I>>>16&255,v[g++]=T>>>8|128,v[g++]=255&T;for(let O=0;O<6;++O)v[g+O]=y[O];return x||(0,a.default)(v)};s.default=h},{"./rng.js":533,"./stringify.js":535}],537:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=l(e("./v35.js")),a=l(e("./md5.js"));function l(o){return o&&o.__esModule?o:{default:o}}var c=(0,i.default)("v3",48,a.default);s.default=c},{"./md5.js":529,"./v35.js":538}],538:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(u,p,h){function d(x,b,g,v){if(typeof x=="string"&&(x=(function(T){T=unescape(encodeURIComponent(T));const R=[];for(let P=0;P<T.length;++P)R.push(T.charCodeAt(P));return R})(x)),typeof b=="string"&&(b=(0,a.default)(b)),b.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let y=new Uint8Array(16+x.length);if(y.set(b),y.set(x,b.length),y=h(y),y[6]=15&y[6]|p,y[8]=63&y[8]|128,g){v=v||0;for(let T=0;T<16;++T)g[v+T]=y[T];return g}return(0,i.default)(y)}try{d.name=u}catch{}return d.DNS=c,d.URL=o,d},s.URL=s.DNS=void 0;var i=l(e("./stringify.js")),a=l(e("./parse.js"));function l(u){return u&&u.__esModule?u:{default:u}}const c="6ba7b810-9dad-11d1-80b4-00c04fd430c8";s.DNS=c;const o="6ba7b811-9dad-11d1-80b4-00c04fd430c8";s.URL=o},{"./parse.js":531,"./stringify.js":535}],539:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=l(e("./rng.js")),a=l(e("./stringify.js"));function l(o){return o&&o.__esModule?o:{default:o}}var c=function(o,u,p){const h=(o=o||{}).random||(o.rng||i.default)();if(h[6]=15&h[6]|64,h[8]=63&h[8]|128,u){p=p||0;for(let d=0;d<16;++d)u[p+d]=h[d];return u}return(0,a.default)(h)};s.default=c},{"./rng.js":533,"./stringify.js":535}],540:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=l(e("./v35.js")),a=l(e("./sha1.js"));function l(o){return o&&o.__esModule?o:{default:o}}var c=(0,i.default)("v5",80,a.default);s.default=c},{"./sha1.js":534,"./v35.js":538}],541:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i,a=(i=e("./regex.js"))&&i.__esModule?i:{default:i},l=function(c){return typeof c=="string"&&a.default.test(c)};s.default=l},{"./regex.js":532}],542:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i,a=(i=e("./validate.js"))&&i.__esModule?i:{default:i},l=function(c){if(!(0,a.default)(c))throw TypeError("Invalid UUID");return parseInt(c.substr(14,1),16)};s.default=l},{"./validate.js":541}],543:[function(e,n,s){/**
* Character classes and associated utilities for the 5th edition of XML 1.0.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(s,"__esModule",{value:!0}),s.CHAR=`	
\r ---`,s.S=` 	\r
`,s.NAME_START_CHAR=":A-Z_a-z-----------",s.NAME_CHAR="-"+s.NAME_START_CHAR+".0-9--",s.CHAR_RE=new RegExp("^["+s.CHAR+"]$","u"),s.S_RE=new RegExp("^["+s.S+"]+$","u"),s.NAME_START_CHAR_RE=new RegExp("^["+s.NAME_START_CHAR+"]$","u"),s.NAME_CHAR_RE=new RegExp("^["+s.NAME_CHAR+"]$","u"),s.NAME_RE=new RegExp("^["+s.NAME_START_CHAR+"]["+s.NAME_CHAR+"]*$","u"),s.NMTOKEN_RE=new RegExp("^["+s.NAME_CHAR+"]+$","u");function i(a){return a>=65&&a<=90||a>=97&&a<=122||a===58||a===95||a===8204||a===8205||a>=192&&a<=214||a>=216&&a<=246||a>=248&&a<=767||a>=880&&a<=893||a>=895&&a<=8191||a>=8304&&a<=8591||a>=11264&&a<=12271||a>=12289&&a<=55295||a>=63744&&a<=64975||a>=65008&&a<=65533||a>=65536&&a<=983039}s.S_LIST=[32,10,13,9],s.isChar=function(a){return a>=32&&a<=55295||a===10||a===13||a===9||a>=57344&&a<=65533||a>=65536&&a<=1114111},s.isS=function(a){return a===32||a===10||a===13||a===9},s.isNameStartChar=i,s.isNameChar=function(a){return i(a)||a>=48&&a<=57||a===45||a===46||a===183||a>=768&&a<=879||a>=8255&&a<=8256}},{}],544:[function(e,n,s){/**
* Character classes and associated utilities for the 2nd edition of XML 1.1.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(s,"__esModule",{value:!0}),s.CHAR="---",s.RESTRICTED_CHAR="-\b\v\f---",s.S=` 	\r
`,s.NAME_START_CHAR=":A-Z_a-z-----------",s.NAME_CHAR="-"+s.NAME_START_CHAR+".0-9--",s.CHAR_RE=new RegExp("^["+s.CHAR+"]$","u"),s.RESTRICTED_CHAR_RE=new RegExp("^["+s.RESTRICTED_CHAR+"]$","u"),s.S_RE=new RegExp("^["+s.S+"]+$","u"),s.NAME_START_CHAR_RE=new RegExp("^["+s.NAME_START_CHAR+"]$","u"),s.NAME_CHAR_RE=new RegExp("^["+s.NAME_CHAR+"]$","u"),s.NAME_RE=new RegExp("^["+s.NAME_START_CHAR+"]["+s.NAME_CHAR+"]*$","u"),s.NMTOKEN_RE=new RegExp("^["+s.NAME_CHAR+"]+$","u");function i(a){return a>=65&&a<=90||a>=97&&a<=122||a===58||a===95||a===8204||a===8205||a>=192&&a<=214||a>=216&&a<=246||a>=248&&a<=767||a>=880&&a<=893||a>=895&&a<=8191||a>=8304&&a<=8591||a>=11264&&a<=12271||a>=12289&&a<=55295||a>=63744&&a<=64975||a>=65008&&a<=65533||a>=65536&&a<=983039}s.S_LIST=[32,10,13,9],s.isChar=function(a){return a>=1&&a<=55295||a>=57344&&a<=65533||a>=65536&&a<=1114111},s.isRestrictedChar=function(a){return a>=1&&a<=8||a===11||a===12||a>=14&&a<=31||a>=127&&a<=132||a>=134&&a<=159},s.isCharAndNotRestricted=function(a){return a===9||a===10||a===13||a>31&&a<127||a===133||a>159&&a<=55295||a>=57344&&a<=65533||a>=65536&&a<=1114111},s.isS=function(a){return a===32||a===10||a===13||a===9},s.isNameStartChar=i,s.isNameChar=function(a){return i(a)||a>=48&&a<=57||a===45||a===46||a===183||a>=768&&a<=879||a>=8255&&a<=8256}},{}],545:[function(e,n,s){/**
* Character class utilities for XML NS 1.0 edition 3.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/function i(a){return a>=65&&a<=90||a===95||a>=97&&a<=122||a>=192&&a<=214||a>=216&&a<=246||a>=248&&a<=767||a>=880&&a<=893||a>=895&&a<=8191||a>=8204&&a<=8205||a>=8304&&a<=8591||a>=11264&&a<=12271||a>=12289&&a<=55295||a>=63744&&a<=64975||a>=65008&&a<=65533||a>=65536&&a<=983039}Object.defineProperty(s,"__esModule",{value:!0}),s.NC_NAME_START_CHAR="A-Z_a-z------------",s.NC_NAME_CHAR="-"+s.NC_NAME_START_CHAR+".0-9--",s.NC_NAME_START_CHAR_RE=new RegExp("^["+s.NC_NAME_START_CHAR+"]$","u"),s.NC_NAME_CHAR_RE=new RegExp("^["+s.NC_NAME_CHAR+"]$","u"),s.NC_NAME_RE=new RegExp("^["+s.NC_NAME_START_CHAR+"]["+s.NC_NAME_CHAR+"]*$","u"),s.isNCNameStartChar=i,s.isNCNameChar=function(a){return i(a)||a===45||a===46||a>=48&&a<=57||a===183||a>=768&&a<=879||a>=8255&&a<=8256}},{}]},{},[15])(15)}))})(Fg)),Fg.exports}var bj=gj();const C6=L4(bj);var u0={exports:{}},xj=u0.exports,j_;function yj(){return j_||(j_=1,(function(r,t){(function(e,n){n()})(xj,function(){function e(o,u){return typeof u>"u"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(o.type)?new Blob(["\uFEFF",o],{type:o.type}):o}function n(o,u,p){var h=new XMLHttpRequest;h.open("GET",o),h.responseType="blob",h.onload=function(){c(h.response,u,p)},h.onerror=function(){console.error("could not download file")},h.send()}function s(o){var u=new XMLHttpRequest;u.open("HEAD",o,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function i(o){try{o.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),o.dispatchEvent(u)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof dr=="object"&&dr.global===dr?dr:void 0,l=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(o,u,p){var h=a.URL||a.webkitURL,d=document.createElement("a");u=u||o.name||"download",d.download=u,d.rel="noopener",typeof o=="string"?(d.href=o,d.origin===location.origin?i(d):s(d.href)?n(o,u,p):i(d,d.target="_blank")):(d.href=h.createObjectURL(o),setTimeout(function(){h.revokeObjectURL(d.href)},4e4),setTimeout(function(){i(d)},0))}:"msSaveOrOpenBlob"in navigator?function(o,u,p){if(u=u||o.name||"download",typeof o!="string")navigator.msSaveOrOpenBlob(e(o,p),u);else if(s(o))n(o,u,p);else{var h=document.createElement("a");h.href=o,h.target="_blank",setTimeout(function(){i(h)})}}:function(o,u,p,h){if(h=h||open("","_blank"),h&&(h.document.title=h.document.body.innerText="downloading..."),typeof o=="string")return n(o,u,p);var d=o.type==="application/octet-stream",x=/constructor/i.test(a.HTMLElement)||a.safari,b=/CriOS\/[\d]+/.test(navigator.userAgent);if((b||d&&x||l)&&typeof FileReader<"u"){var g=new FileReader;g.onloadend=function(){var T=g.result;T=b?T:T.replace(/^data:[^;]*;/,"data:attachment/file;"),h?h.location.href=T:location=T,h=null},g.readAsDataURL(o)}else{var v=a.URL||a.webkitURL,y=v.createObjectURL(o);h?h.location=y:location.href=y,h=null,setTimeout(function(){v.revokeObjectURL(y)},4e4)}});a.saveAs=c.saveAs=c,r.exports=c})})(u0)),u0.exports}var N6=yj();const R6=({records:r,customLabels:t,startTime:e,endTime:n,totalRestMinutes:s,enabledMethods:i,startOdo:a,endOdo:l})=>{const c=r.reduce((N,U)=>N+U.amount,0),o=k6(c),u=Bb(r),p=Ub(r),h=u.CASH||0,d=e||(r.length>0?Math.min(...r.map(N=>N.timestamp)):0),x=n||(r.length>0?Math.max(...r.map(N=>N.timestamp)):0),b=x-d,g=Math.floor(b/36e5),v=Math.floor(b%36e5/6e4),y=d&&x?`${g}${String(v).padStart(2,"0")}`:"----",T=Math.floor((s||0)/60),R=(s||0)%60,P=`${T}${String(R).padStart(2,"0")}`,H=r.reduce((N,U)=>N+(U.passengersMale||0),0),L=r.reduce((N,U)=>N+(U.passengersFemale||0),0),I=H+L,O=r.reduce((N,U)=>N+U.toll,0),F=r.reduce((N,U)=>N+(U.returnToll||0),0),q=a&&l&&l>a?l-a:0,z=t||{};return _.jsxs("div",{className:"w-full space-y-6",children:[_.jsxs("div",{className:"text-center py-8 bg-gray-800 rounded-[32px] border-2 border-blue-500 shadow-2xl relative overflow-hidden group",children:[_.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-amber-500 to-transparent opacity-50"}),_.jsx("p",{className:"text-sm font-black text-amber-500 uppercase tracking-[0.3em] mb-2 opacity-80",children:" ()"}),_.jsxs("div",{className:"flex items-baseline justify-center gap-2 mb-2",children:[_.jsx("span",{className:"text-6xl font-black text-amber-600/80",children:""}),_.jsx("span",{className:"text-7xl font-black text-amber-500 leading-none tracking-tighter drop-shadow-[0_4px_10px_rgba(245,158,11,0.3)]",children:c.toLocaleString()})]}),_.jsxs("div",{className:"flex flex-col items-center gap-1 mb-8",children:[_.jsxs("p",{className:"text-xl font-bold text-gray-400",children:["( ",qr(o),")"]}),_.jsxs("p",{className:"text-xl font-bold text-gray-400",children:["() ",qr(c-o)]})]}),_.jsxs("div",{className:"bg-gray-800 mx-6 p-5 rounded-3xl border-2 border-blue-500 flex flex-col items-center gap-2 shadow-inner",children:[_.jsx("span",{className:"text-sm text-gray-400 font-bold uppercase tracking-widest flex items-center gap-1",children:" ()"}),_.jsx("span",{className:"text-5xl font-black text-white tracking-tight",children:qr(h)})]})]}),O>0&&_.jsxs("div",{className:"bg-gradient-to-r from-orange-900/60 to-red-900/60 p-4 rounded-2xl border border-orange-500/30 flex justify-between items-center shadow-lg",children:[_.jsx("div",{children:_.jsx("span",{className:"text-xl font-bold text-orange-200 block uppercase tracking-widest",children:" "})}),_.jsx("span",{className:"text-3xl font-black text-white tracking-tight",children:qr(O)})]}),F>0&&_.jsxs("div",{className:"bg-gradient-to-r from-indigo-900/60 to-blue-900/60 p-4 rounded-2xl border border-indigo-500/30 flex justify-between items-center shadow-lg",children:[_.jsx("div",{children:_.jsx("span",{className:"text-xl font-bold text-indigo-200 block uppercase tracking-widest",children:""})}),_.jsx("span",{className:"text-3xl font-black text-white tracking-tight",children:qr(F)})]}),_.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[_.jsxs("div",{className:"bg-gray-800 p-2 rounded-3xl border-2 border-blue-500 flex flex-col items-center justify-center min-h-[100px] shadow-lg",children:[_.jsx("span",{className:"text-[12px] text-gray-500 font-black tracking-widest uppercase mb-1",children:""}),_.jsxs("span",{className:"text-2xl font-black text-white leading-none",children:[r.length,_.jsx("span",{className:"text-xs text-gray-600 ml-1",children:""})]})]}),_.jsxs("div",{className:"bg-gray-800 p-2 rounded-3xl border-2 border-blue-500 flex flex-col items-center justify-center min-h-[100px] shadow-lg",children:[_.jsx("span",{className:"text-[12px] text-gray-500 font-black tracking-widest uppercase mb-1",children:""}),_.jsx("span",{className:"text-[clamp(0.8rem,3.2vw,1.2rem)] font-black text-white leading-none whitespace-nowrap",children:y})]}),_.jsxs("div",{className:"bg-gray-800 p-2 rounded-3xl border-2 border-blue-500 flex flex-col items-center justify-center min-h-[100px] shadow-lg",children:[_.jsx("span",{className:"text-[12px] text-gray-500 font-black tracking-widest uppercase mb-1",children:""}),_.jsx("span",{className:"text-[clamp(0.8rem,3.2vw,1.2rem)] font-black text-white leading-none whitespace-nowrap",children:P})]})]}),(a||l)&&_.jsxs("div",{className:"grid grid-cols-3 gap-2 px-1",children:[_.jsxs("div",{className:"bg-gray-800 p-3 rounded-2xl text-center border-2 border-blue-500 flex flex-col items-center justify-center shadow-lg",children:[_.jsxs("span",{className:"text-[12px] text-gray-500 font-bold uppercase mb-1 flex items-center gap-1",children:[_.jsx(jo,{className:"w-3 h-3"}),"ODO"]}),_.jsx("span",{className:"text-lg font-black text-white",children:a?a.toLocaleString():"---"})]}),_.jsxs("div",{className:"bg-gray-800 p-3 rounded-2xl text-center border-2 border-blue-500 flex flex-col items-center justify-center shadow-lg",children:[_.jsxs("span",{className:"text-[12px] text-gray-500 font-bold uppercase mb-1 flex items-center gap-1",children:[_.jsx(jo,{className:"w-3 h-3"}),"ODO"]}),_.jsx("span",{className:`text-lg font-black ${l?"text-amber-500":"text-gray-600"}`,children:l?l.toLocaleString():"---"})]}),_.jsxs("div",{className:"bg-gray-800 p-3 rounded-2xl text-center border-2 border-blue-500 flex flex-col items-center justify-center shadow-lg",children:[_.jsx("span",{className:"text-[12px] text-gray-500 font-bold uppercase mb-1",children:""}),_.jsxs("span",{className:"text-lg font-black text-blue-400",children:[q.toLocaleString()," ",_.jsx("span",{className:"text-xs text-gray-500",children:"km"})]})]})]}),_.jsxs("div",{className:"bg-gray-800 p-6 rounded-[32px] border-2 border-blue-500 flex justify-around items-center",children:[_.jsxs("div",{className:"text-center",children:[_.jsx("span",{className:"text-sm font-bold text-blue-400 block mb-2 uppercase tracking-widest",children:""}),_.jsxs("span",{className:"text-4xl font-black text-white",children:[H,_.jsx("span",{className:"text-lg text-gray-600 ml-1",children:""})]})]}),_.jsxs("div",{className:"text-center",children:[_.jsx("span",{className:"text-sm font-bold text-pink-400 block mb-2 uppercase tracking-widest",children:""}),_.jsxs("span",{className:"text-4xl font-black text-white",children:[L,_.jsx("span",{className:"text-lg text-gray-600 ml-1",children:""})]})]}),_.jsx("div",{className:"w-px h-12 bg-gray-800"}),_.jsxs("div",{className:"text-center",children:[_.jsx("span",{className:"text-sm font-bold text-gray-400 block mb-2 uppercase tracking-widest",children:""}),_.jsxs("span",{className:"text-5xl font-black text-white",children:[I,_.jsx("span",{className:"text-lg text-gray-600 ml-1",children:""})]})]})]}),_.jsx("div",{className:"bg-gray-800 p-6 rounded-[32px] border-2 border-blue-500 shadow-2xl",children:_.jsx(Vb,{breakdown:u,counts:p,customLabels:z,enabledMethods:i})})]})},vj=({date:r,records:t,meta:e,customLabels:n,businessStartHour:s,onBack:i,isMe:a,onUpdateMetadata:l,onEditRecord:c})=>{const[o,u]=_e.useState(!1),[p,h]=_e.useState(!0),[d,x]=_e.useState(!1),b=_e.useMemo(()=>{const y=[...t];return p?y.sort((T,R)=>R.timestamp-T.timestamp):y.sort((T,R)=>T.timestamp-R.timestamp)},[t,p]),g=n||{},v=async()=>{const y=t.map(ge=>ge.timestamp),T=y.length>0?Math.min(...y):0,R=y.length>0?Math.max(...y):0,P=e.totalRestMinutes||0,H=e.startOdo||0,L=e.endOdo||0,I=L>H?L-H:0,O=R&&T?R-T-P*60*1e3:0,F=t.reduce((ge,ne)=>ge+ne.amount,0),q=Math.max(O/(1e3*60*60),.1),z=F>0?Math.round(F/q):0,N=ge=>ge?new Date(ge).toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit"}):"",U=ge=>{if(ge<=0)return"";const ne=Math.floor(ge/36e5),fe=Math.floor(ge%36e5/6e4);return`${String(ne).padStart(2,"0")}:${String(fe).padStart(2,"0")}`},C=new Date(r),S=`${C.getFullYear()}`,k=`${C.getMonth()+1}`,E=`${C.getDate()}`,A=new C6.Workbook,j=A.addWorksheet("",{views:[{state:"frozen",ySplit:5,activeCell:"A6"}]});j.addRow(["","","","","","","","",S,k,E,N(Date.now())]),j.addRow([]),j.addRow(["","",""," ","","","","","","","","","","","","","","","",""]),j.addRow(["","","",N(T),N(R),U(O),z.toLocaleString()]),j.addRow(["","","","","","","","","","","","","","","","","","B","A",""]);for(let ge=0;ge<30;ge++){const ne=t[ge];let fe=[];if(ne){const pe=new Date(ne.timestamp),ke=ne.amount+ne.toll+(ne.returnToll||0),Ce=ne.paymentMethod;let Fe="",We="",$e="";Ce==="CARD"?Fe=ke:Ce==="NET"||Ce==="TICKET"?We=ke:(Ce==="TRANSPORT"||Ce!=="CASH")&&($e=ke),fe=[ge+1,pe.getHours(),pe.getMinutes(),ne.pickupLocation||"","",ne.dropoffLocation||"",ne.passengersMale||"",ne.passengersFemale||ne.passagersFemale||0,ne.amount,ne.toll>0?ne.toll:"",(ne.returnToll||0)>0?ne.returnToll||0:"",ne.remarks||"",Fe,We,$e,ph[ne.rideType]||"",ge+1,"","",""]}else fe=[ge+1,"","","","","","","","","","","","","","","",ge+1,"","",""];j.addRow(fe)}j.addRow([" ","","","","","",0,0,0,0,0,"",0,0,0,"","","","",""]),j.addRow(["","","",""," ",H||""," ","",L||""," ",I||"","","",0,"",0,"","",0,""]),j.addRow(["","","","","","","","","","","","","B km","","km","","","","",""]),j.addRow(["","","","",I||"0","0",t.length,0,0,"","","","A km","","km","","","","",""]);for(let ge=6;ge<=35;ge++)j.getCell(`T${ge}`).value={formula:`SUM(G${ge}:H${ge})`};j.getCell("G36").value={formula:"SUM(G6:G35)"},j.getCell("H36").value={formula:"SUM(H6:H35)"},j.getCell("I36").value={formula:"SUM(I6:I35)"},j.getCell("J36").value={formula:"SUM(J6:J35)"},j.getCell("K36").value={formula:"SUM(K6:K35)"},j.getCell("M36").value={formula:"SUM(M6:M35)"},j.getCell("N36").value={formula:"SUM(N6:N35)"},j.getCell("O36").value={formula:"SUM(O6:O35)"},j.getCell("T36").value={formula:"SUM(T6:T35)"},j.getCell("N37").value={formula:"SUM(I6:I35)"},j.getCell("P37").value={formula:"M36+N36+O36"},j.getCell("S37").value={formula:"(I36+J36+K36)-(M36+N36+O36)"},j.getCell("Q38").value={formula:"P38/N38"},j.getCell("Q38").numFmt="0%",j.getCell("H39").value={formula:"G36+H36"},j.getCell("I39").value={formula:"SUM(I6:I35)"},j.getCell("Q39").value={formula:"P39/N39"},j.getCell("Q39").numFmt="0%";const B={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},D={bottom:{style:"double"}},Q={name:"Meiryo",size:10},K={name:"Meiryo",size:10,bold:!0},ee={name:"Meiryo",size:11,bold:!0},W={name:"Meiryo",size:16,bold:!0},te={type:"pattern",pattern:"solid",fgColor:{argb:"E2EFDA"}},G={type:"pattern",pattern:"solid",fgColor:{argb:"FFF2CC"}},V={type:"pattern",pattern:"solid",fgColor:{argb:"FFCC99"}},Z={type:"pattern",pattern:"solid",fgColor:{argb:"F2F2F2"}},ae={type:"pattern",pattern:"solid",fgColor:{argb:"FFFFCC"}};j.mergeCells("D1:F1"),j.mergeCells("G3:H3"),j.mergeCells("B4:C4"),j.mergeCells("G4:H4"),j.mergeCells("A36:C36"),j.mergeCells("G37:H37"),j.eachRow((ge,ne)=>{ge.eachCell((fe,pe)=>{var ke;if(fe.font=Q,fe.alignment={vertical:"middle",horizontal:"center"},ne===1)pe>=9&&pe<=12&&(fe.font=ee),pe>=4&&pe<=12&&(fe.border=D);else if(ne!==2){if(ne===3)pe>=10&&pe<=20||pe===9||pe<=3||([4,5,6,7].includes(pe)&&(fe.fill=te),fe.border=B);else if(ne===4)pe>=10||pe===9||pe<=1||(pe===2&&(fe.fill=te),fe.border=B);else if(ne===5)fe.fill=te,fe.font=K,fe.border=B;else if(ne>=6&&ne<=35){if(fe.border=B,(pe===1||pe===17)&&(fe.fill=Z),pe===16){const Ce=((ke=fe.value)==null?void 0:ke.toString())||"";Ce!==""&&Ce!==""&&(fe.fill=ae)}[4,5,6,12].includes(pe)?fe.alignment={vertical:"middle",horizontal:"left",wrapText:!0}:[9,10,11,13,14,15].includes(pe)&&(fe.alignment={vertical:"middle",horizontal:"right"},fe.numFmt="#,##0")}else if(ne===36)fe.fill=V,fe.font=K,fe.border=B,[7,8,9,10,11,13,14,15].includes(pe)&&(fe.alignment={vertical:"middle",horizontal:"right"},fe.numFmt="#,##0");else if(ne>=37&&!(pe<=3)){fe.border=B;const Ce=ne===37&&[14,16,19].includes(pe)||ne===39&&[8,9].includes(pe),Fe=ne===37&&[6,9,11].includes(pe)||ne===39&&pe===5;Ce||Fe?(fe.alignment={vertical:"middle",horizontal:"right"},fe.numFmt="#,##0"):(ne===37&&[4,5,7,10,13,15,18].includes(pe)||ne===38&&[4,5,6,7,8,9,13,15].includes(pe)||ne===39&&[13,15].includes(pe))&&(fe.fill=G)}}})});const re=j.getCell("D1");re.font=W,re.alignment={vertical:"middle",horizontal:"center"},re.border={bottom:{style:"double"}},j.getRow(1).height=45,j.getRow(36).height=30,[{c:1,w:4.38},{c:2,w:3},{c:3,w:3},{c:4,w:10.75},{c:5,w:10.75},{c:6,w:10.75},{c:7,w:4.13},{c:8,w:4.13},{c:9,w:7.5},{c:10,w:6.25},{c:11,w:6.25},{c:12,w:10.75},{c:13,w:8.13},{c:14,w:8.13},{c:15,w:8.13},{c:16,w:8.13},{c:17,w:4.38},{c:18,w:7.5},{c:19,w:7.5},{c:20,w:6}].forEach(ge=>{j.getColumn(ge.c).width=ge.w});const he=await A.xlsx.writeBuffer(),Se=new Blob([he],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});N6.saveAs(Se,`_${r.replace(/\//g,"-")}.xlsx`)};return _.jsxs("div",{className:"p-4 pb-28 space-y-5 animate-in slide-in-from-right duration-300 w-full overflow-hidden bg-[#0A0E14] min-h-screen",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("button",{onClick:i,className:"p-2.5 bg-gray-800 rounded-full active:scale-90 shadow-lg border border-gray-700 flex-shrink-0",children:_.jsx(z4,{className:"w-5 h-5"})}),_.jsx("h2",{className:"text-[clamp(1.6rem,7vw,2.2rem)] font-black text-white truncate",children:r}),_.jsxs("button",{onClick:v,className:"ml-auto flex items-center gap-2 bg-blue-900/30 text-blue-400 px-3 py-2 rounded-xl font-bold border border-blue-500/30 active:scale-95 transition-all",children:[_.jsx(nE,{className:"w-4 h-4"}),_.jsx("span",{className:"text-xs",children:"EXCEL"})]})]}),_.jsx(R6,{records:b,customLabels:g,totalRestMinutes:e.totalRestMinutes,enabledMethods:Object.keys(xa),startOdo:e.startOdo,endOdo:e.endOdo}),a&&l&&_.jsxs("div",{className:"bg-gray-800 p-6 rounded-[32px] border-2 border-blue-500 shadow-2xl space-y-4 animate-in fade-in duration-500",children:[_.jsxs("div",{className:"flex items-center gap-2 px-1",children:[_.jsx(jo,{className:"w-5 h-5 text-amber-500"}),_.jsx("h3",{className:"text-xs font-black text-gray-500 uppercase tracking-[0.2em]",children:""})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{className:"space-y-1.5",children:[_.jsx("label",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest px-1 block",children:" ODO (km)"}),_.jsx("input",{type:"number",inputMode:"numeric",value:e.startOdo||"",onChange:y=>l(r,{startOdo:y.target.value===""?void 0:Number(y.target.value)}),placeholder:"---",className:"w-full bg-gray-950 border-2 border-gray-800 rounded-2xl p-3 text-white text-xl font-black outline-none focus:border-amber-500 transition-all shadow-inner"})]}),_.jsxs("div",{className:"space-y-1.5",children:[_.jsx("label",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest px-1 block",children:" ODO (km)"}),_.jsx("input",{type:"number",inputMode:"numeric",value:e.endOdo||"",onChange:y=>l(r,{endOdo:y.target.value===""?void 0:Number(y.target.value)}),placeholder:"---",className:"w-full bg-gray-950 border-2 border-gray-800 rounded-2xl p-3 text-white text-xl font-black outline-none focus:border-amber-500 transition-all shadow-inner"})]})]}),_.jsx("p",{className:"text-[10px] text-gray-600 font-bold px-1 italic",children:""})]}),_.jsxs("section",{className:"space-y-4",children:[_.jsxs("div",{className:"flex justify-between items-center px-1 flex-wrap gap-4",children:[_.jsxs("h3",{className:"text-xs font-black text-gray-500 uppercase tracking-widest flex items-center gap-2",children:[_.jsx(Io,{className:"w-4 h-4"})," "]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{onClick:()=>x(!d),className:`text-[12px] px-3 py-1.5 rounded-full flex items-center gap-1.5 font-black active:scale-95 shadow-sm border transition-all whitespace-nowrap ${d?"bg-amber-500 text-black border-amber-400":"bg-gray-800 text-gray-400 border-gray-700"}`,children:""}),_.jsx("button",{onClick:()=>u(!o),className:`text-[12px] px-3 py-1.5 rounded-full flex items-center gap-1.5 font-black active:scale-95 shadow-sm border transition-all whitespace-nowrap ${o?"bg-amber-500 text-black border-amber-400":"bg-gray-800 text-gray-400 border-gray-700"}`,children:""}),_.jsx("button",{onClick:()=>h(!p),className:"text-[12px] bg-gray-800 text-gray-400 px-3 py-1.5 rounded-full flex items-center gap-1.5 font-black active:scale-95 shadow-sm border border-gray-700 whitespace-nowrap",children:_.jsx(F1,{className:"w-3.5 h-3.5"})})]})]}),d?_.jsxs("div",{className:"bg-gray-800 rounded-lg border-2 border-blue-500 overflow-hidden shadow-sm",children:[_.jsxs("table",{className:"w-full border-collapse",children:[_.jsx("thead",{children:_.jsxs("tr",{className:"bg-orange-500 text-white",children:[_.jsx("th",{className:"py-2 px-2 border-r border-orange-600 text-center text-base font-black w-[60px]",children:""}),_.jsx("th",{className:"py-2 px-2 border-r border-orange-600 text-center text-base font-black w-[95px]",children:""}),_.jsx("th",{className:"py-2 px-2 border-r border-orange-600 text-center text-base font-black flex-1",children:"/"}),_.jsx("th",{className:"py-2 px-2 text-center text-base font-black w-[75px]",children:""})]})}),_.jsx("tbody",{children:b.length===0?_.jsx("tr",{children:_.jsx("td",{colSpan:4,className:"p-8 text-center text-gray-400 font-black uppercase tracking-widest text-sm",children:""})}):b.slice(0,200).map((y,T)=>_.jsx(qf,{record:y,index:p?b.length-T:T+1,isDetailed:o,isSlim:d,customLabels:g,businessStartHour:s,onClick:()=>{a&&c&&c(y)}},y.id))})]}),b.length>200&&_.jsx("p",{className:"text-center text-gray-400 text-[10px] py-2 italic bg-gray-900",children:"200"})]}):_.jsxs("div",{className:"space-y-3",children:[b.length===0?_.jsx("div",{className:"text-center py-10 text-gray-600 font-bold",children:""}):b.slice(0,200).map((y,T)=>_.jsxs("div",{className:"relative",children:[y.amount===0&&_.jsx("div",{className:"absolute -top-2 -right-1 z-10",children:_.jsx("span",{className:"bg-red-500 text-white text-[10px] font-black px-2 py-1 rounded-full shadow-lg border border-red-400 animate-pulse",children:""})}),_.jsx("div",{className:y.amount===0?"ring-2 ring-red-500 ring-offset-2 ring-offset-[#0A0E14] rounded-[24px]":"",children:_.jsx(qf,{record:y,index:p?b.length-T:T+1,isDetailed:o,isSlim:d,customLabels:g,businessStartHour:s,onClick:()=>{a&&c&&c(y)}})})]},y.id)),b.length>200&&_.jsx("p",{className:"text-center text-gray-600 text-[10px] py-2 italic",children:"200"})]})]}),a&&l&&_.jsx("section",{className:"space-y-5 pt-5 border-t border-gray-800",children:_.jsxs("div",{className:"bg-gray-800 p-4 rounded-[28px] border-2 border-blue-500 space-y-4 shadow-2xl",children:[_.jsxs("h3",{className:"text-xs font-black text-gray-500 uppercase tracking-widest flex items-center gap-2",children:[_.jsx(B1,{className:"w-4 h-4"})," "]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-xs font-bold text-gray-400 block mb-2 uppercase tracking-widest",children:""}),_.jsx("select",{value:e.attributedMonth||r.split("/").slice(0,2).join("-"),onChange:y=>l(r,{attributedMonth:y.target.value}),className:"w-full bg-gray-950 border-2 border-gray-800 rounded-xl p-3 text-white text-base font-black outline-none focus:border-amber-500 appearance-none",children:Array.from({length:12}).map((y,T)=>{const R=new Date;R.setMonth(R.getMonth()-6+T);const P=`${R.getFullYear()}-${String(R.getMonth()+1).padStart(2,"0")}`;return _.jsxs("option",{value:P,children:[R.getFullYear()," ",R.getMonth()+1,""]},`${P}-${T}`)})})]}),_.jsxs("div",{children:[_.jsxs("label",{className:"text-xs font-bold text-gray-400 block mb-2 flex items-center gap-2 uppercase tracking-widest",children:[_.jsx(L1,{className:"w-4 h-4"})," "]}),_.jsx("textarea",{value:e.memo,onChange:y=>l(r,{memo:y.target.value}),placeholder:"...",className:"w-full bg-gray-950 border-2 border-gray-800 rounded-xl p-3 text-white text-base min-h-[100px] outline-none focus:border-amber-500 shadow-inner"})]})]})})]})},I_=r=>r.rideType!=="FLOW"&&r.rideType!=="WAIT",wj=({displayMonth:r,setCurrentMonth:t,monthData:e,dailyGroups:n,customLabels:s,onSelectDay:i,isMe:a,userName:l,history:c,shimebiDay:o,businessStartHour:u,monthsData:p})=>{const[h,d]=_e.useState(!0),x=`${r.getFullYear()} ${r.getMonth()+1}`,[b,g]=_e.useState("monthly"),[v,y]=_e.useState(new Date),[T,R]=_e.useState(!1);B4.useEffect(()=>{y(new Date(r))},[r]);const P=k=>{const{end:E}=yr(k,o,u);return E},H=k=>{const E=new Date(v);b==="monthly"?E.setMonth(E.getMonth()+k):E.setFullYear(E.getFullYear()+k),y(E)},L=_e.useMemo(()=>{const E=P(v).getFullYear(),A=[];let j=0,B=0,D=0,Q=0;const K=p||{},ee=c||[];for(let W=0;W<12;W++){const te=new Date(E,W,o===0?28:o),{start:G,end:V}=yr(te,o,u),Z=new Date(V);o!==0&&Z.setDate(o);const ae=`${E}-${String(W+1).padStart(2,"0")}`,re=K[ae];let oe=[],he=0,Se=0,ge=0,ne=0;const fe=Yt(G),pe=Yt(Z),ke=ee.filter(Fe=>{const We=zt(Fe.timestamp,u);return We>=fe&&We<=pe});oe=li(ke,u),he=new Set(oe.map(Fe=>zt(Fe.timestamp,u))).size,Se=oe.length,ge=oe.filter(I_).length,ne=(re==null?void 0:re.sales)??oe.reduce((Fe,We)=>Fe+We.amount,0),j+=he,B+=Se,D+=ge,Q+=ne,A.push({label:`${W+1}`,fullLabel:`${E}${W+1}`,referenceDate:te,dutyDays:he,count:Se,dispatch:ge,sales:ne,records:oe})}return{yearLabel:`${E}`,periodLabel:`${o===0?E:E-1}${o===0?1:12}  ${E}12`,months:A,totals:{dutyDays:j,count:B,dispatch:D,sales:Q}}},[c,p,v,o,u]),I=_e.useMemo(()=>{const{start:k,end:E}=yr(v,o,u),A=new Date(E);o!==0&&A.getDate()!==o&&A.setDate(o);const j=Yt(k),B=Yt(A),D=P(v),Q=`${D.getFullYear()}-${String(D.getMonth()+1).padStart(2,"0")}`;(p||{})[Q];const W=(c||[]).filter(ae=>{const re=zt(ae.timestamp,u);return re>=j&&re<=B}),te=li(W,u),G=[],V=new Date(k);for(;V<=A;)G.push(new Date(V)),V.setDate(V.getDate()+1);const Z=G.map(ae=>{const re=Yt(ae),oe=te.filter(ge=>zt(ge.timestamp,u)===re);let he="",Se="";if(oe.length>0){const ge=[...oe].sort((fe,pe)=>fe.timestamp-pe.timestamp),ne=fe=>new Date(fe).toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit"});he=ne(ge[0].timestamp),Se=ne(ge[ge.length-1].timestamp)}return{dateStr:re,dateLabel:`${ae.getMonth()+1}/${ae.getDate()}`,weekDay:ae.getDay(),startTimeStr:he,endTimeStr:Se,count:oe.length,dispatch:oe.filter(I_).length,sales:oe.reduce((ge,ne)=>ge+ne.amount,0),hasData:oe.length>0,records:oe}});return{monthLabel:`${P(v).getFullYear()} ${P(v).getMonth()+1}`,periodLabel:`${j}  ${B}`,rows:Z,totals:{workDays:Z.filter(ae=>ae.hasData).length,count:Z.reduce((ae,re)=>ae+re.count,0),dispatch:Z.reduce((ae,re)=>ae+re.dispatch,0),sales:Z.reduce((ae,re)=>ae+re.sales,0)}}},[c,p,v,o,u]),O=["","","","","","",""],F=["text-red-400","text-gray-300","text-gray-300","text-gray-300","text-gray-300","text-gray-300","text-blue-400"],q=_e.useMemo(()=>[...n].sort((k,E)=>h?E[0].localeCompare(k[0]):k[0].localeCompare(E[0])),[n,h]),z=e.reduce((k,E)=>k+E.amount,0),N=k6(z),U=Bb(e),C=Ub(e);e.length>0&&Math.round(z/e.length);const S=s||{};return _.jsxs("div",{className:"space-y-5 animate-in slide-in-from-right duration-300",children:[!a&&l&&_.jsxs("div",{className:"bg-blue-900/20 border border-blue-500/30 p-3 rounded-xl flex items-center justify-center gap-2 mb-2",children:[_.jsx(jl,{className:"w-4 h-4 text-blue-400"}),_.jsxs("span",{className:"text-blue-200 font-bold",children:[l," "]})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"flex bg-gray-800 p-1.5 rounded-2xl border-2 border-blue-500 shadow-sm",children:[_.jsxs("button",{onClick:()=>{g("monthly"),R(!0)},className:`flex-1 py-3 rounded-xl font-black transition-all flex items-center justify-center gap-2 text-sm whitespace-nowrap ${b==="monthly"?"bg-gray-700 text-amber-500 shadow-md border-2 border-amber-500":"text-gray-500"}`,children:[_.jsx(Un,{className:"w-4 h-4"})," "]}),_.jsxs("button",{onClick:()=>{g("yearly"),R(!0)},className:`flex-1 py-3 rounded-xl font-black transition-all flex items-center justify-center gap-2 text-sm whitespace-nowrap ${b==="yearly"?"bg-gray-700 text-blue-400 shadow-md border-2 border-blue-400":"text-gray-500"}`,children:[_.jsx(Zk,{className:"w-4 h-4"})," "]})]}),_.jsxs("div",{className:"space-y-0",children:[_.jsx("div",{onClick:()=>R(!T),className:`rounded-t-2xl p-4 text-center shadow-lg cursor-pointer active:brightness-95 transition-all ${b==="monthly"?"bg-[#EAB308]":"bg-[#CC6600]"}`,children:_.jsxs("div",{className:`flex justify-between items-center ${b==="monthly"?"text-black":"text-white"}`,children:[_.jsx("button",{onClick:k=>{k.stopPropagation(),H(-1)},className:"p-1 hover:bg-black/10 rounded-full active:scale-90",children:_.jsx(ci,{className:"w-6 h-6"})}),_.jsxs("div",{className:"flex flex-col items-center",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"text-xl font-black tracking-tighter",children:b==="monthly"?I.monthLabel:`${L.yearLabel} `}),T?_.jsx(Jd,{size:20}):_.jsx(Zs,{size:20})]}),_.jsx("span",{className:`text-xs font-bold opacity-80 ${b==="yearly"&&"text-orange-100"}`,children:b==="monthly"?I.periodLabel:L.periodLabel})]}),_.jsx("div",{className:"flex gap-2",children:_.jsx("button",{onClick:k=>{k.stopPropagation(),H(1)},className:"p-1 hover:bg-black/10 rounded-full active:scale-90",children:_.jsx(Js,{className:"w-6 h-6"})})})]})}),_.jsx("div",{className:`bg-gray-800 rounded-b-2xl overflow-hidden border-x-2 border-b-2 border-blue-500 shadow-2xl transition-all duration-300 ${T?"max-h-[2000px] opacity-100":"max-h-0 opacity-0"}`,children:_.jsx("div",{className:"overflow-x-auto",children:b==="monthly"?_.jsxs("table",{className:"w-full text-center text-base",children:[_.jsx("thead",{children:_.jsxs("tr",{className:"bg-[#0f371d] text-white text-sm border-b border-green-800/50",children:[_.jsx("th",{className:"py-3 px-1 font-bold w-[12%]",children:""}),_.jsx("th",{className:"py-3 px-1 font-bold w-[10%]",children:""}),_.jsx("th",{className:"py-3 px-1 font-bold w-[15%]",children:""}),_.jsx("th",{className:"py-3 px-1 font-bold w-[15%]",children:""}),_.jsx("th",{className:"py-3 px-1 font-bold w-[12%]",children:""}),_.jsx("th",{className:"py-3 px-1 font-bold w-[12%]",children:""}),_.jsx("th",{className:"py-3 px-2 font-bold w-[24%] text-right",children:""})]})}),_.jsxs("tbody",{className:"text-gray-300 font-medium text-base",children:[I.rows.map((k,E)=>_.jsxs("tr",{className:`${E%2===0?"bg-[#1A222C]":"bg-[#151b24]"} border-b border-gray-800/50 hover:bg-white/5 cursor-pointer`,onClick:()=>k.hasData&&i(k.dateStr),children:[_.jsx("td",{className:`py-3 px-1 font-bold border-r border-gray-800/50 ${F[k.weekDay]} ${k.hasData&&"underline decoration-amber-500/50"}`,children:k.dateLabel}),_.jsx("td",{className:`py-3 px-1 font-bold border-r border-gray-800/50 ${F[k.weekDay]}`,children:O[k.weekDay]}),_.jsx("td",{className:`py-3 px-1 font-mono tracking-tighter border-r border-gray-800/50 ${k.hasData?"text-white":"text-gray-600"}`,children:k.startTimeStr}),_.jsx("td",{className:`py-3 px-1 font-mono tracking-tighter border-r border-gray-800/50 ${k.hasData?"text-white":"text-gray-600"}`,children:k.endTimeStr}),_.jsx("td",{className:`py-3 px-1 font-bold border-r border-gray-800/50 ${k.hasData?"text-white":"text-gray-600"}`,children:k.hasData?k.count:"-"}),_.jsx("td",{className:`py-3 px-1 font-bold border-r border-gray-800/50 ${k.hasData?"text-white":"text-gray-600"}`,children:k.hasData?k.dispatch:"-"}),_.jsx("td",{className:`py-3 px-2 text-right font-mono font-black tracking-tight ${k.sales>0?"text-amber-400":"text-gray-700"}`,children:k.sales>0?k.sales.toLocaleString():"-"})]},E)),_.jsxs("tr",{className:"bg-[#EAB308] text-black font-black border-t-2 border-amber-600 text-lg",children:[_.jsx("td",{className:"py-3 px-1",colSpan:2,children:""}),_.jsxs("td",{className:"py-3 px-1 text-base",colSpan:2,children:[I.totals.workDays,""]}),_.jsx("td",{className:"py-3 px-1",children:I.totals.count}),_.jsx("td",{className:"py-3 px-1",children:I.totals.dispatch}),_.jsx("td",{className:"py-3 px-2 text-right",children:I.totals.sales.toLocaleString()})]})]})]}):_.jsxs("table",{className:"w-full text-center text-base",children:[_.jsx("thead",{children:_.jsxs("tr",{className:"bg-[#004d00] text-white text-sm border-b border-green-800/50",children:[_.jsx("th",{className:"py-3 px-2 font-bold w-[28%] whitespace-nowrap",children:""}),_.jsx("th",{className:"py-3 px-2 font-bold w-[15%]",children:""}),_.jsx("th",{className:"py-3 px-2 font-bold w-[15%]",children:""}),_.jsx("th",{className:"py-3 px-2 font-bold w-[15%]",children:""}),_.jsx("th",{className:"py-3 px-2 font-bold w-[27%] text-right",children:""})]})}),_.jsxs("tbody",{className:"text-gray-200 font-medium text-base",children:[L.months.map((k,E)=>_.jsxs("tr",{className:`${E%2===0?"bg-[#1A222C]":"bg-[#151b24]"} border-b border-gray-800/50 hover:bg-white/5 cursor-pointer`,onClick:()=>{k.sales>0&&(t(k.referenceDate),g("monthly"),R(!0))},children:[_.jsx("td",{className:"py-3 px-2 font-bold text-blue-400 border-r border-gray-800/50 underline decoration-blue-500/30 whitespace-nowrap",children:k.fullLabel}),_.jsx("td",{className:"py-3 px-2 font-bold border-r border-gray-800/50",children:k.sales>0?k.dutyDays:"-"}),_.jsx("td",{className:"py-3 px-2 font-bold border-r border-gray-800/50",children:k.sales>0?k.count:"-"}),_.jsx("td",{className:"py-3 px-2 font-bold border-r border-gray-800/50",children:k.sales>0?k.dispatch:"-"}),_.jsx("td",{className:`py-3 px-2 text-right font-mono font-black tracking-tight ${k.sales>0?"text-white":"text-gray-700"}`,children:k.sales>0?k.sales.toLocaleString():"-"})]},E)),_.jsxs("tr",{className:"bg-[#FFE4B5] text-black font-black border-t-2 border-orange-400 text-lg",children:[_.jsx("td",{className:"py-3 px-2",children:""}),_.jsx("td",{className:"py-3 px-2",children:L.totals.dutyDays}),_.jsx("td",{className:"py-3 px-2",children:L.totals.count.toLocaleString()}),_.jsx("td",{className:"py-3 px-2",children:L.totals.dispatch}),_.jsx("td",{className:"py-3 px-2 text-right",children:L.totals.sales.toLocaleString()})]})]})]})})})]})]}),_.jsxs("div",{className:"flex items-center justify-between bg-gray-800 rounded-[24px] p-2 border-2 border-blue-500 shadow-inner",children:[_.jsx("button",{onClick:()=>t(new Date(new Date(r).setMonth(r.getMonth()-1))),className:"p-3 text-gray-400 active:scale-90 flex-shrink-0",children:_.jsx(ci,{className:"w-7 h-7"})}),_.jsx("span",{className:"font-black text-[clamp(1.4rem,6vw,2rem)] text-white tracking-tight whitespace-nowrap",children:x}),_.jsx("button",{onClick:()=>t(new Date(new Date(r).setMonth(r.getMonth()+1))),className:"p-3 text-gray-400 active:scale-90 flex-shrink-0",children:_.jsx(Js,{className:"w-7 h-7"})})]}),_.jsxs("section",{className:"space-y-6",children:[_.jsxs("div",{className:"bg-[#1A222C] rounded-[32px] border border-gray-800 shadow-2xl relative overflow-hidden p-6",children:[_.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-amber-500 to-transparent opacity-50"}),_.jsx("p",{className:"text-sm font-black text-amber-500 uppercase tracking-[0.3em] mb-4 text-center",children:" ()"}),_.jsx("div",{className:"text-center mb-4",children:_.jsx("span",{className:"text-[clamp(2.5rem,12vw,5.5rem)] font-black text-amber-500 leading-none tracking-tighter",children:qr(z)})}),_.jsxs("div",{className:"flex flex-col items-center gap-1.5",children:[_.jsxs("p",{className:"text-base font-bold text-gray-400",children:["( ",qr(N),")"]}),_.jsxs("p",{className:"text-base font-bold text-gray-400",children:[" ",qr(z-N)]})]})]}),_.jsx("div",{className:"bg-[#1A222C] p-6 rounded-[32px] border border-gray-800 shadow-2xl",children:_.jsx(Vb,{breakdown:U,counts:C,customLabels:S,enabledMethods:Object.keys(xa)})})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("h3",{className:"text-xs font-black text-gray-500 uppercase px-1 tracking-widest flex justify-between items-center italic flex-wrap gap-2",children:[_.jsx("span",{children:""}),_.jsxs("button",{onClick:()=>d(!h),className:"text-[12px] bg-gray-800 text-gray-400 px-3 py-1.5 rounded-full flex items-center gap-2 font-black active:scale-95 shadow-sm border border-gray-700 whitespace-nowrap",children:[_.jsx(F1,{className:"w-3.5 h-3.5"}),""]})]}),_.jsx("div",{className:"space-y-3",children:q.length>0?q.slice(0,100).map(([k,E])=>_.jsxs("div",{onClick:()=>i(k),className:"bg-[#1A222C] rounded-[24px] p-4 border border-gray-800 flex justify-between items-center active:bg-gray-800 transition-all shadow-md group cursor-pointer gap-3 w-full",children:[_.jsxs("div",{className:"z-10 overflow-hidden min-w-0 flex-1",children:[_.jsx("p",{className:"font-black text-white text-[clamp(1.2rem,6vw,1.6rem)] tracking-tight truncate",children:k}),_.jsx("div",{className:"flex gap-2 mt-1 items-center",children:_.jsxs("p",{className:"text-[12px] text-gray-400 font-black uppercase tracking-widest whitespace-nowrap",children:[E.length,""]})})]}),_.jsxs("div",{className:"text-right flex items-center gap-2 flex-shrink-0",children:[_.jsx("p",{className:"font-black text-amber-500 text-[clamp(1.4rem,7vw,2rem)] truncate leading-tight",children:qr(E.reduce((A,j)=>A+j.amount,0))}),_.jsx(Js,{className:"w-5 h-5 text-gray-700"})]})]},k)):_.jsx("p",{className:"text-center text-gray-600 font-bold py-10 italic uppercase tracking-widest",children:"No Data in this period"})})]})]})},_j=["toppo2000@gmail.com","admin-user@gmail.com"],Sj=({history:r,dayMetadata:t,customPaymentLabels:e,businessStartHour:n,shimebiDay:s,onEditRecord:i,onUpdateMetadata:a,stats:l,initialTargetDate:c,onClearTargetDate:o})=>{var W,te;const[u,p]=_e.useState((W=pr.currentUser)==null?void 0:W.uid),[h,d]=_e.useState(!0),[x,b]=_e.useState([]),[g,v]=_e.useState(null),[y,T]=_e.useState([]),[R,P]=_e.useState({}),[H,L]=_e.useState({}),[I,O]=_e.useState(()=>{const{end:G}=yr(new Date,s,n);return G}),[F,q]=_e.useState(null),z=_e.useRef(null),N=(te=pr.currentUser)==null?void 0:te.uid,U=u===N,C=x.find(G=>G.uid===u)||null,S=U?n:(C==null?void 0:C.businessStartHour)||9;_e.useEffect(()=>{const G=ln($r(Pt,"public_status"),Vn("lastUpdated","desc"),y6(50)),V=Fs(G,Z=>{const ae=[];Z.forEach(re=>{const oe=re.data();ae.push({uid:re.id,...oe}),re.id===N&&A(oe.months||{})}),b(ae)});return()=>V()},[N]),_e.useEffect(()=>{(async()=>{if(!u)return;d(U),v(C);const{start:V,end:Z}=yr(I,s,S);try{let ae=[];const re=V.getTime(),oe=Z.getTime();try{const ge=$r(Pt,"public_status",u,"history"),ne=ln(ge,Va("timestamp",">=",re),Va("timestamp","<=",oe),Vn("timestamp","asc")),fe=await In(ne);fe.empty||(fe.forEach(pe=>{ae.push(pe.data())}),console.log(`[HistoryView] Loaded ${ae.length} records from subcollection for period ${Yt(V)} - ${Yt(Z)}`))}catch(ge){if((ge==null?void 0:ge.code)==="failed-precondition"){console.log("[HistoryView] Index not available, loading all records and filtering...");try{const ne=$r(Pt,"public_status",u,"history"),fe=ln(ne,Vn("timestamp","asc"));(await In(fe)).forEach(ke=>{const Ce=ke.data();Ce.timestamp>=re&&Ce.timestamp<=oe&&ae.push(Ce)}),console.log(`[HistoryView] Loaded ${ae.length} records from subcollection (with client-side filtering)`)}catch{console.log("[HistoryView] Subcollection not available, falling back to array field")}}else console.log("[HistoryView] Subcollection not available, falling back to array field")}T(ae);const he=await Ds(ir(Pt,"public_status",u));if(he.exists()){const ge=he.data();L(ge.months||{})}else L({});const Se=await Ds(ir(Pt,"users",u));if(Se.exists()){const ge=Se.data();P(ge.dayMetadata||{})}else P({})}catch(ae){console.error(":",ae)}})()},[u,I,s,S,x]),_e.useEffect(()=>{if(c){const G=c.toString();if(z.current===G)return;if(typeof c=="string"){const V=new Date(c),{end:Z}=yr(V,s,n);O(new Date(Z)),q(c)}else if(c instanceof Date){const{end:V}=yr(c,s,n);O(new Date(V)),q(null)}z.current=G,o&&o()}},[c,s,n,o]);const k=_e.useMemo(()=>{var Z;const G=(Z=pr.currentUser)==null?void 0:Z.email,V=G&&_j.includes(G);return x.filter(ae=>{if(ae.uid===N||V)return!0;const re=ae.visibilityMode||"PUBLIC";return re==="PRIVATE"?!1:re==="CUSTOM"?ae.allowedViewers&&ae.allowedViewers.includes(N):!0}).sort((ae,re)=>ae.uid===N?-1:re.uid===N?1:0)},[x,N]),[E,A]=_e.useState({}),j=U?r:y,B=U?e:{},D=U?t:R,Q=U?E:H,K=_e.useMemo(()=>{const G=j||[],V=new Map;return G.forEach(Z=>V.set(Z.id,Z)),Array.from(V.values()).sort((Z,ae)=>Z.timestamp-ae.timestamp)},[j]),ee=()=>{if(F)try{const Z=D[F]||{memo:"",attributedMonth:"",totalRestMinutes:0},ae=j||[],re=ae.filter(oe=>{try{return zt(oe.timestamp,S)===F}catch(he){return console.error("[HistoryView] Error filtering record:",he,oe),!1}});return console.log("[HistoryView] Rendering DailyDetailView:",{selectedDay:F,recordsCount:re.length,meta:Z,isViewingMe:U,targetHistoryLength:ae.length}),_.jsx("div",{className:"w-full bg-[#0A0E14] min-h-screen",children:_.jsx(vj,{date:F,records:re,meta:Z,customLabels:B,businessStartHour:S,onBack:()=>q(null),isMe:U,onUpdateMetadata:U?a:void 0,onEditRecord:U?i:void 0})})}catch(Z){return console.error("[HistoryView] Error rendering DailyDetailView:",Z),_.jsxs("div",{className:"p-4 text-center text-red-400",children:[_.jsxs("p",{children:[": ",String(Z)]}),_.jsx("button",{onClick:()=>q(null),className:"mt-4 px-4 py-2 bg-gray-800 rounded-lg",children:""})]})}const{monthData:G,dailyGroups:V}=(()=>{const Z=new Date(I.getFullYear(),I.getMonth(),s===0?28:s),{start:ae,end:re}=yr(Z,s,S),oe=new Date(re);s!==0&&oe.setDate(s);const he=Yt(ae),Se=Yt(oe),ne=(j||[]).filter(pe=>{const ke=zt(pe.timestamp,S);return ke>=he&&ke<=Se}),fe={};return ne.forEach(pe=>{const ke=zt(pe.timestamp,S);fe[ke]||(fe[ke]=[]),fe[ke].push(pe)}),{monthData:ne,dailyGroups:Object.entries(fe)}})();return _.jsx("div",{className:"p-4 pb-32 w-full overflow-hidden",children:_.jsx(wj,{displayMonth:I,setCurrentMonth:O,monthData:G,dailyGroups:V,customLabels:B,onSelectDay:q,isMe:U,userName:g==null?void 0:g.name,history:K,shimebiDay:s,businessStartHour:S,monthsData:Q})})};return _.jsxs("div",{className:"w-full min-h-screen bg-[#0A0E14]",children:[!F&&_.jsx("div",{className:"p-4 pb-0",children:_.jsxs("div",{className:"relative",children:[_.jsx("select",{value:u||"",onChange:G=>p(G.target.value),className:"w-full appearance-none bg-gray-900 border border-gray-800 text-white font-bold py-3 px-4 rounded-2xl shadow-sm focus:outline-none focus:ring-2 focus:ring-amber-500/50",children:k.map(G=>{var V;return _.jsx("option",{value:G.uid,children:G.uid===((V=pr.currentUser)==null?void 0:V.uid)?` (${l.userName})`:G.name||""},G.uid)})}),_.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-gray-400",children:_.jsx(Zs,{className:"w-5 h-5"})})]})}),ee()]})},Tj=["toppo2000@gmail.com","admin-user@gmail.com"],kj=({text:r,isScrolling:t,cardId:e,onAnimationComplete:n})=>{const s=_e.useRef(null),i=_e.useRef(null),[a,l]=_e.useState(!1),c=_e.useRef(null);return _e.useEffect(()=>{if(s.current&&i.current){const o=s.current.scrollWidth,u=i.current.clientWidth;l(o>u)}},[r]),_e.useEffect(()=>{if(!a||!t){s.current&&(s.current.style.transition="",s.current.style.transform=""),c.current&&(clearTimeout(c.current),c.current=null);return}if(s.current&&i.current){const o=s.current.scrollWidth,u=i.current.clientWidth,p=o-u;p>0&&(s.current.style.transition="transform 1.33s linear",s.current.style.transform=`translateX(-${p}px)`,c.current=setTimeout(()=>{s.current&&(s.current.style.transition="transform 0.3s ease-out",s.current.style.transform="",n(e))},1330))}return()=>{c.current&&clearTimeout(c.current)}},[t,a,e,n]),_.jsx("div",{ref:i,className:"overflow-hidden flex-1 min-w-0 opacity-70",children:_.jsx("span",{ref:s,className:"whitespace-nowrap inline-block",children:r})})},Ej=({history:r,stats:t,onNavigateToHistory:e})=>{var I,O;const[n,s]=_e.useState("allTime"),[i,a]=_e.useState([]),[l,c]=_e.useState(new Date),[o,u]=_e.useState([]),[p,h]=_e.useState({}),d=t.businessStartHour??9,x=t.shimebiDay??20,b=(I=pr.currentUser)==null?void 0:I.uid,g=((O=pr.currentUser)==null?void 0:O.email)||"",v=Tj.includes(g);_e.useEffect(()=>{const F=Fs($r(Pt,"public_status"),q=>{const z=q.docs.map(N=>({...N.data(),uid:N.id}));a(z)});return()=>F()},[]);const y=F=>{if(F.uid===b||v)return!0;if(!t.followingUsers.includes(F.uid))return!1;const q=F.visibilityMode||"PUBLIC";return q==="PRIVATE"?!1:q==="CUSTOM"?F.allowedViewers&&F.allowedViewers.includes(b||""):!0},[T,R]=_e.useState([]);_e.useEffect(()=>{const F=async()=>{try{let q=[];for(const N of i.filter(y)){let U=[];try{const k=$r(Pt,"public_status",N.uid,"history"),E=ln(k,Vn("amount","desc"),y6(100)),A=await In(E),j=[];A.forEach(B=>{var Q;const D=B.data();(Q=D.remarks)!=null&&Q.includes("")||j.push(D)}),U=j.sort((B,D)=>D.amount-B.amount).slice(0,20)}catch(k){console.warn(`[AnalysisView] Failed to load records from subcollection for user ${N.uid}:`,k),N.topRecords&&Array.isArray(N.topRecords)&&N.topRecords.length>0?U=N.topRecords:N.history&&Array.isArray(N.history)&&N.history.length>0&&(U=N.history.filter(E=>{var A;return!((A=E.remarks)!=null&&A.includes(""))}).sort((E,A)=>A.amount-E.amount).slice(0,20))}const C=N.name||"Unknown",S=N.uid===b;Array.isArray(U)&&U.forEach(k=>{q.push({...k,userName:C,isMe:S})})}const z=q.sort((N,U)=>U.amount-N.amount).slice(0,20);R(z)}catch(q){console.error("[AnalysisView] Error loading all-time ranking:",q),R([])}};i.length>0?F():R([])},[i,b,t.followingUsers,v]);const P=_e.useMemo(()=>[...i].filter(y).sort((F,q)=>(q.monthlyTotal||0)-(F.monthlyTotal||0)).map((F,q)=>({uid:F.uid,rank:q+1,name:F.name||"Unknown",amount:F.monthlyTotal||0,monthlyGoal:F.monthlyGoal||1e6,rideCount:F.rideCount||0,isMe:F.uid===b})),[i,b,t.followingUsers,v]);_e.useEffect(()=>{n==="daily"&&(async()=>{try{const q=zt(l.getTime(),d),z=[],N=new Date(l);N.setHours(d,0,0,0);const U=new Date(N);U.setDate(U.getDate()+1);const C=N.getTime(),S=U.getTime()-1;for(const k of i.filter(y))try{const E=$r(Pt,"public_status",k.uid,"history"),A=ln(E,Va("timestamp",">=",C),Va("timestamp","<=",S),Vn("timestamp","asc")),j=await In(A);let B=0;if(j.empty){const Q=(k.history||[]).filter(ee=>zt(ee.timestamp,d)===q);B=li(Q,d).reduce((ee,W)=>ee+(W.amount||0),0)}else{const D=[];j.forEach(K=>{const ee=K.data();zt(ee.timestamp,d)===q&&D.push(ee)}),console.log(`[AnalysisView] User ${k.uid}, date ${q}: Found ${D.length} records:`,D.map(K=>{var ee;return{id:K.id,amount:K.amount,isSimple:(ee=K.remarks)==null?void 0:ee.includes("")}}));const Q=li(D,d);console.log(`[AnalysisView] User ${k.uid}, date ${q}: After filtering: ${Q.length} records, total:`,Q.reduce((K,ee)=>K+ee.amount,0)),B=Q.reduce((K,ee)=>K+(ee.amount||0),0)}B>0&&z.push({uid:k.uid,rank:0,name:k.name||"Unknown",amount:B,isMe:k.uid===b})}catch(E){if((E==null?void 0:E.code)==="failed-precondition"){const j=(k.history||[]).filter(Q=>zt(Q.timestamp,d)===q),D=li(j,d).reduce((Q,K)=>Q+(K.amount||0),0);D>0&&z.push({uid:k.uid,rank:0,name:k.name||"Unknown",amount:D,isMe:k.uid===b})}}z.sort((k,E)=>E.amount-k.amount),z.forEach((k,E)=>{k.rank=E+1}),u(z)}catch(q){console.error(":",q)}})()},[n,l,i,d,b,t.followingUsers,v]);const H=F=>{const q=new Date(l);q.setDate(q.getDate()+F),c(q)},L=new Date;return _e.useMemo(()=>{const{start:F,end:q}=yr(L,x,d),z=new Date(q);x!==0&&z.setDate(x);const N=Yt(F),U=Yt(z),C=r.filter(re=>{const oe=zt(re.timestamp,d);return oe>=N&&oe<=U}),S=C.reduce((re,oe)=>re+oe.amount,0),k=C.length,E=k>0?S/k:0,A=C.filter(re=>re.isBadCustomer).length;let j=0,B=0;C.forEach(re=>{j+=re.passengersMale||0,B+=re.passengersFemale||0});const D=j+B,Q={};let K=0;C.forEach(re=>{const oe=re.amount+re.toll;Q[re.paymentMethod]=(Q[re.paymentMethod]||0)+oe,K+=oe});const ee=Object.entries(Q).sort(([,re],[,oe])=>oe-re).map(([re,oe])=>({method:re,amount:oe,percent:K>0?oe/K*100:0})),W=Array(8).fill(0);C.forEach(re=>{W[Math.floor(new Date(re.timestamp).getHours()/3)]+=re.amount});const te=Math.max(...W,1),G=W.map((re,oe)=>({label:["0-3","3-6","6-9","9-12","12-15","15-18","18-21","21-24"][oe],value:re,percent:re/te*100})),V=Array(7).fill(0);C.forEach(re=>{V[new Date(re.timestamp).getDay()]+=re.amount});const Z=Math.max(...V,1),ae=V.map((re,oe)=>({value:re,percent:re/Z*100}));return{totalSales:S,count:k,avg:E,badCustomers:A,badCustomerRate:k>0?A/k*100:0,gender:{male:j,female:B,total:D,malePer:D>0?j/D*100:0,femalePer:D>0?B/D*100:0},paymentData:ee,hourlyData:G,dayOfWeekData:ae,records:C}},[r,L,x,d]),_.jsx("div",{className:"p-4 pb-32 space-y-8 w-full overflow-hidden animate-in fade-in duration-500 bg-[#0A0E14] min-h-screen",children:_.jsxs("section",{className:"space-y-4",children:[_.jsx("div",{className:"sticky top-0 z-20 bg-[#0A0E14] pb-2",children:_.jsxs("h2",{className:"text-2xl font-black text-white mb-3 tracking-tight flex items-center gap-2",children:[_.jsx(Fc,{className:"w-6 h-6 text-[#EAB308]"}),_.jsx("span",{className:"bg-gradient-to-r from-amber-400 to-yellow-300 bg-clip-text text-transparent",children:""})]})}),_.jsxs("div",{className:"flex gap-2 sticky top-16 z-10",children:[_.jsxs("button",{onClick:()=>s("allTime"),className:`flex-1 py-3 rounded-2xl font-black transition-all flex items-center justify-center gap-2 text-sm shadow-lg border-2 whitespace-nowrap ${n==="allTime"?"bg-[#EAB308] text-black border-[#EAB308] scale-[1.02] shadow-[#EAB308]/50":"bg-gray-800/80 text-gray-300 border-gray-700 hover:bg-gray-700 hover:border-gray-600"}`,children:[_.jsx(Fc,{className:"w-4 h-4"})," "]}),_.jsxs("button",{onClick:()=>s("monthly"),className:`flex-1 py-3 rounded-2xl font-black transition-all flex items-center justify-center gap-2 text-sm shadow-lg border-2 whitespace-nowrap ${n==="monthly"?"bg-blue-500 text-white border-blue-500 scale-[1.02] shadow-blue-500/50":"bg-gray-800/80 text-gray-300 border-gray-700 hover:bg-gray-700 hover:border-gray-600"}`,children:[_.jsx(Wg,{className:"w-4 h-4"})," Rank"]}),_.jsxs("button",{onClick:()=>s("daily"),className:`flex-1 py-3 rounded-2xl font-black transition-all flex items-center justify-center gap-2 text-sm shadow-lg border-2 whitespace-nowrap ${n==="daily"?"bg-purple-500 text-white border-purple-500 scale-[1.02] shadow-purple-500/50":"bg-gray-800/80 text-gray-300 border-gray-700 hover:bg-gray-700 hover:border-gray-600"}`,children:[_.jsx(Un,{className:"w-4 h-4"})," Rank"]})]}),n==="daily"&&_.jsx("div",{className:"bg-gray-800 rounded-2xl p-4 border border-gray-700",children:_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("button",{onClick:()=>H(-1),className:"p-2 rounded-xl bg-gray-700 hover:bg-gray-600 transition-colors",children:_.jsx(ci,{className:"w-5 h-5 text-white"})}),_.jsx("div",{className:"flex-1 text-center",children:_.jsx("input",{type:"date",value:Yt(l).replace(/\//g,"-"),onChange:F=>c(new Date(F.target.value)),className:"bg-gray-900 border border-gray-700 rounded-xl px-4 py-2 text-white font-black text-center focus:outline-none focus:border-blue-500"})}),_.jsx("button",{onClick:()=>H(1),className:"p-2 rounded-xl bg-gray-700 hover:bg-gray-600 transition-colors",children:_.jsx(Js,{className:"w-5 h-5 text-white"})})]})}),_.jsxs("div",{className:"space-y-3 min-h-[300px]",children:[n==="allTime"&&(T.length>0?T.map((F,q)=>{const z=`${F.id}-${q}`,N=`${F.pickupLocation||"---"}  ${F.dropoffLocation||"---"}`,U=p[z]||!1;return _.jsx("div",{onClick:()=>{h(C=>({...C,[z]:!C[z]}))},className:"cursor-pointer",children:_.jsxs("div",{className:`group relative overflow-hidden bg-gray-800 border-2 ${F.isMe?"border-amber-500 bg-amber-900/10":"border-blue-500"} rounded-2xl p-4 flex items-center gap-4 transition-all hover:border-blue-400`,children:[_.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center font-black text-lg flex-shrink-0 ${q===0?"bg-gradient-to-br from-amber-300 to-amber-600 text-black shadow-lg shadow-amber-500/30":q===1?"bg-gradient-to-br from-gray-300 to-gray-500 text-black":q===2?"bg-gradient-to-br from-orange-700 to-orange-900 text-white border border-white/20":"bg-gradient-to-br from-gray-600 to-gray-800 text-gray-300"}`,children:q+1}),_.jsxs("div",{className:"flex-1 min-w-0 z-10",children:[_.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[_.jsx("span",{className:`text-[2.2rem] font-black tracking-tighter ${F.isMe?"text-amber-500":"text-white"}`,children:qr(F.amount)}),_.jsx("span",{className:"text-[15px] font-bold text-gray-500 uppercase",children:Yt(new Date(F.timestamp))})]}),_.jsxs("div",{className:"flex items-center gap-2 text-lg font-bold text-gray-400",children:[_.jsx("span",{className:`px-1.5 py-0.5 rounded text-[15px] uppercase border ${F.isMe?"bg-amber-500/20 text-amber-400 border-amber-500/30":"bg-gray-800 border-gray-700"}`,children:F.userName}),_.jsx(kj,{text:N,isScrolling:U,cardId:z,onAnimationComplete:C=>{h(S=>({...S,[C]:!1}))}})]})]}),F.isMe&&_.jsx("div",{className:"absolute inset-0 bg-amber-500/5 pointer-events-none"})]})},z)}):_.jsxs("div",{className:"text-center py-12 text-gray-600 font-bold bg-gray-800 rounded-3xl border-2 border-blue-500",children:[_.jsx(Fc,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),_.jsx("p",{children:""})]})),n==="monthly"&&(P.length>0?P.map((F,q)=>_.jsxs("div",{className:`group relative overflow-hidden bg-gray-800 border-2 ${F.isMe?"border-blue-500 bg-blue-900/10":"border-blue-500"} rounded-2xl p-4 flex items-center justify-between transition-all hover:border-blue-400`,children:[_.jsxs("div",{className:"flex items-center gap-4 z-10",children:[_.jsxs("div",{className:`text-xl font-black italic w-6 text-center ${q<3?"text-white drop-shadow-md":"text-gray-600"}`,children:["#",F.rank]}),_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:`text-sm font-bold ${F.isMe?"text-blue-400":"text-gray-200"}`,children:F.name}),F.isMe&&_.jsx("span",{className:"text-[9px] bg-blue-500 text-white px-1.5 rounded font-black",children:"YOU"})]}),_.jsx("div",{className:"text-[10px] text-gray-500 font-mono mt-0.5 flex gap-2",children:_.jsxs("span",{children:[F.rideCount,""]})})]})]}),_.jsx("div",{className:"text-right z-10",children:_.jsx("p",{className:"text-lg font-black text-white tracking-tight",children:qr(F.amount)})}),_.jsx("div",{className:"absolute inset-y-0 left-0 bg-white/5 z-0 transition-all duration-1000 origin-left",style:{width:`${Math.min(100,F.monthlyGoal>0?F.amount/F.monthlyGoal*100:0)}%`}})]},F.uid)):_.jsxs("div",{className:"text-center py-12 text-gray-600 font-bold bg-gray-900/50 rounded-3xl border border-gray-800",children:[_.jsx(Wg,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),_.jsx("p",{children:""})]})),n==="daily"&&(o.length>0?o.map((F,q)=>{var z;return _.jsxs("div",{className:`group relative overflow-hidden bg-gray-800 border-2 ${F.isMe?"border-orange-500 bg-orange-900/10":"border-blue-500"} rounded-2xl p-4 flex items-center justify-between transition-all hover:border-blue-400`,children:[_.jsxs("div",{className:"flex items-center gap-4 z-10",children:[_.jsxs("div",{className:`text-xl font-black italic w-6 text-center ${q<3?"text-white drop-shadow-md":"text-gray-600"}`,children:["#",F.rank]}),_.jsx("div",{children:_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:`text-sm font-bold ${F.isMe?"text-orange-400":"text-gray-200"}`,children:F.name}),F.isMe&&_.jsx("span",{className:"text-[9px] bg-orange-500 text-white px-1.5 rounded font-black",children:"YOU"})]})})]}),_.jsx("div",{className:"text-right z-10",children:_.jsx("p",{className:"text-lg font-black text-white tracking-tight",children:qr(F.amount)})}),o.length>0&&_.jsx("div",{className:"absolute inset-y-0 left-0 bg-white/5 z-0 transition-all duration-1000 origin-left",style:{width:`${Math.min(100,F.amount/(((z=o[0])==null?void 0:z.amount)||1)*100)}%`}})]},F.uid)}):_.jsxs("div",{className:"text-center py-12 text-gray-600 font-bold bg-gray-800 rounded-3xl border-2 border-blue-500",children:[_.jsx(Un,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),_.jsx("p",{children:""})]}))]})]})})},Aj=r=>{switch(r){case"CASH":return"bg-amber-400";case"CARD":return"bg-blue-400";case"NET":return"bg-purple-400";case"E_MONEY":return"bg-emerald-400";case"TRANSPORT":return"bg-cyan-400";case"DIDI":return"bg-orange-400";case"QR":return"bg-teal-400";case"TICKET":return"bg-rose-400";default:return"bg-gray-400"}},Cj=({history:r,stats:t})=>{const[e,n]=_e.useState(new Date),s=t.businessStartHour??9,i=t.shimebiDay??20,a=u=>{const p=new Date(e);p.setMonth(p.getMonth()+u),n(p)},l=_e.useMemo(()=>{const{end:u}=yr(e,i,s);return`${u.getFullYear()} ${u.getMonth()+1}`},[e,i,s]),c=_e.useMemo(()=>{const{start:u,end:p}=yr(e,i,s),h=new Date(p);i!==0&&h.setDate(i);const d=Yt(u),x=Yt(h),b=r.filter(S=>{const k=zt(S.timestamp,s);return k>=d&&k<=x}),g=b.reduce((S,k)=>S+k.amount,0),v=b.length,y=v>0?g/v:0,T=b.filter(S=>S.isBadCustomer).length;let R=0,P=0;b.forEach(S=>{R+=S.passengersMale||0,P+=S.passengersFemale||0});const H=R+P,L={};let I=0;b.forEach(S=>{const k=S.amount+S.toll;L[S.paymentMethod]=(L[S.paymentMethod]||0)+k,I+=k});const O=Object.entries(L).sort(([,S],[,k])=>k-S).map(([S,k])=>({method:S,amount:k,percent:I>0?k/I*100:0})),F=Array(8).fill(0);b.forEach(S=>{const k=new Date(S.timestamp).getHours(),E=Math.floor(k/3);E>=0&&E<8&&(F[E]+=S.amount)});const q=Math.max(...F,1),z=F.map((S,k)=>({label:["0-3","3-6","6-9","9-12","12-15","15-18","18-21","21-24"][k],value:S,percent:q>0?S/q*100:0})),N=Array(7).fill(0);b.forEach(S=>{const k=new Date(S.timestamp).getDay();N[k]+=S.amount});const U=Math.max(...N,1),C=N.map((S,k)=>({value:S,percent:U>0?S/U*100:0}));return{totalSales:g,count:v,avg:y,badCustomers:T,badCustomerRate:v>0?T/v*100:0,gender:{male:R,female:P,total:H,malePer:H>0?R/H*100:0,femalePer:H>0?P/H*100:0},paymentData:O,hourlyData:z,dayOfWeekData:C,records:b}},[r,e,i,s]),o=["","","","","","",""];return _.jsx("div",{className:"p-4 pb-32 space-y-5 w-full overflow-hidden animate-in fade-in duration-500",children:_.jsxs("section",{className:"space-y-5",children:[_.jsxs("div",{className:"flex items-center justify-between px-1",children:[_.jsxs("h3",{className:"text-lg font-black text-white flex items-center gap-2 italic uppercase tracking-tighter",children:[_.jsx(ak,{className:"w-5 h-5 text-indigo-500"})," "]}),_.jsxs("div",{className:"flex items-center bg-gray-800 rounded-full border-2 border-blue-500 p-1",children:[_.jsx("button",{onClick:()=>a(-1),className:"p-2 hover:bg-gray-800 rounded-full text-gray-400 active:scale-90 transition-all",children:_.jsx(ci,{className:"w-4 h-4"})}),_.jsx("span",{className:"text-xs font-black text-white px-2 tabular-nums",children:l}),_.jsx("button",{onClick:()=>a(1),className:"p-2 hover:bg-gray-800 rounded-full text-gray-400 active:scale-90 transition-all",children:_.jsx(Js,{className:"w-4 h-4"})})]})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[_.jsxs("div",{className:"col-span-2 bg-gray-800 p-5 rounded-[28px] border-2 border-blue-500 shadow-xl relative overflow-hidden",children:[_.jsxs("p",{className:"text-xs font-black text-gray-500 uppercase tracking-widest mb-1 flex items-center gap-1.5",children:[_.jsx(Fk,{className:"w-4 h-4 text-amber-500"})," "]}),_.jsx("p",{className:"text-[clamp(2.5rem,10vw,3.5rem)] font-black text-white leading-none tracking-tighter",children:qr(c.totalSales)}),_.jsx("div",{className:"absolute top-4 right-4 opacity-10",children:_.jsx(Tk,{className:"w-24 h-24 text-white"})})]}),_.jsxs("div",{className:"bg-gray-800 p-4 rounded-[24px] border-2 border-blue-500 flex flex-col justify-center min-h-[100px]",children:[_.jsx("p",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest mb-1",children:""}),_.jsx("p",{className:"text-xl font-black text-indigo-300 tracking-tight",children:qr(Math.round(c.avg))})]}),_.jsxs("div",{className:"bg-gray-800 p-4 rounded-[24px] border-2 border-blue-500 flex flex-col justify-center min-h-[100px]",children:[_.jsx("p",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest mb-1",children:""}),_.jsxs("p",{className:"text-xl font-black text-white tracking-tight",children:[c.count,_.jsx("span",{className:"text-sm text-gray-500 ml-1",children:""})]})]})]}),_.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[_.jsx("div",{className:"bg-gray-800 p-4 rounded-[24px] border-2 border-blue-500 flex items-center justify-between",children:_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"p-2 bg-red-900/20 rounded-xl border border-red-900/30",children:_.jsx(V1,{className:"w-5 h-5 text-red-500"})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest",children:""}),_.jsxs("p",{className:"text-lg font-black text-white",children:[c.badCustomerRate.toFixed(1),"%",_.jsxs("span",{className:"text-[10px] text-gray-500",children:[" (",c.badCustomers,")"]})]})]})]})}),_.jsxs("div",{className:"bg-gray-800 p-5 rounded-[24px] border-2 border-blue-500 space-y-3",children:[_.jsx("div",{className:"flex justify-between items-center text-xs font-bold text-gray-400",children:_.jsxs("span",{className:"flex items-center gap-1.5",children:[_.jsx(Al,{className:"w-4 h-4 text-pink-400"}),"  ( ",c.gender.total,")"]})}),_.jsxs("div",{className:"h-6 w-full flex rounded-full overflow-hidden bg-gray-900 border border-gray-800",children:[_.jsx("div",{className:"h-full bg-blue-500 flex items-center justify-center text-[10px] font-black text-white",style:{width:`${c.gender.malePer}%`},children:c.gender.malePer>10&&`${Math.round(c.gender.malePer)}%`}),_.jsx("div",{className:"h-full bg-pink-500 flex items-center justify-center text-[10px] font-black text-white",style:{width:`${c.gender.femalePer}%`},children:c.gender.femalePer>10&&`${Math.round(c.gender.femalePer)}%`})]})]})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_.jsxs("div",{className:"bg-gray-800 p-5 rounded-[28px] border-2 border-blue-500 shadow-lg space-y-4",children:[_.jsxs("h4",{className:"text-xs font-black text-gray-500 uppercase tracking-widest flex items-center gap-2",children:[_.jsx(f0,{className:"w-4 h-4 text-emerald-500"})," "]}),_.jsx("div",{className:"space-y-3",children:c.paymentData.slice(0,4).map(u=>_.jsxs("div",{className:"space-y-1",children:[_.jsxs("div",{className:"flex justify-between text-[10px] font-bold",children:[_.jsx("span",{className:"text-gray-300",children:xa[u.method]||u.method}),_.jsxs("span",{className:"text-gray-500",children:[Math.round(u.percent),"%"]})]}),_.jsx("div",{className:"h-2 w-full bg-gray-900 rounded-full overflow-hidden",children:_.jsx("div",{className:`h-full ${Aj(u.method)}`,style:{width:`${u.percent}%`}})})]},u.method))})]}),_.jsxs("div",{className:"bg-[#1A222C] p-5 rounded-[28px] border border-gray-800 shadow-lg space-y-6",children:[_.jsxs("div",{className:"space-y-3",children:[_.jsxs("h4",{className:"text-xs font-black text-gray-500 uppercase tracking-widest flex items-center gap-2",children:[_.jsx(qc,{className:"w-4 h-4 text-amber-500"})," "]}),_.jsx("div",{className:"h-24 flex items-end gap-1",children:c.hourlyData.map((u,p)=>_.jsxs("div",{className:"flex-1 flex flex-col items-center gap-1",children:[_.jsx("div",{className:"w-full bg-gray-800/50 rounded-t-sm relative group",style:{height:"100%"},children:_.jsx("div",{className:"absolute bottom-0 w-full bg-amber-500 rounded-t-sm transition-all duration-500",style:{height:`${u.percent}%`}})}),_.jsx("span",{className:"text-[9px] font-bold text-gray-400",children:u.label})]},p))})]}),_.jsxs("div",{className:"space-y-3 pt-2 border-t border-gray-800/50",children:[_.jsxs("h4",{className:"text-xs font-black text-gray-500 uppercase tracking-widest flex items-center gap-2",children:[_.jsx(Un,{className:"w-4 h-4 text-blue-500"})," "]}),_.jsx("div",{className:"flex justify-between gap-1 h-16 items-end",children:o.map((u,p)=>{const h=c.dayOfWeekData[p],d=p===0?"bg-red-500":p===6?"bg-blue-500":"bg-green-500";return _.jsxs("div",{className:"flex-1 flex flex-col items-center gap-1",children:[_.jsx("div",{className:`w-1.5 rounded-full ${d}/40 transition-all duration-500`,style:{height:`${Math.max(10,h.percent)}%`},children:_.jsx("div",{className:`w-full h-full ${d} opacity-80`})}),_.jsx("span",{className:`text-[9px] font-bold ${p===0||p===6?"text-white":"text-gray-600"}`,children:u})]},u)})})]})]})]})]})})},af=({page:r,title:t,children:e})=>_.jsxs("div",{className:"mb-12 animate-in fade-in slide-in-from-bottom-8 duration-1000",children:[_.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[_.jsxs("div",{className:"bg-amber-500 text-black font-black px-3 py-1 rounded-full text-sm italic",children:["PAGE ",r]}),_.jsx("h3",{className:"text-xl font-black text-white italic tracking-tighter",children:t})]}),_.jsx("div",{className:"bg-[#1A222C] rounded-[40px] border-4 border-gray-800 overflow-hidden shadow-[0_0_30px_rgba(245,158,11,0.1)]",children:e})]}),gn=({char:r,text:t,side:e="left"})=>_.jsxs("div",{className:`flex flex-col ${e==="right"?"items-end":"items-start"} mb-4`,children:[_.jsxs("div",{className:`flex items-center gap-2 mb-1 ${e==="right"?"flex-row-reverse":""}`,children:[_.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center border-2 ${r==="kenji"?"bg-gray-700 border-gray-500":"bg-amber-500 border-white shadow-[0_0_10px_#f59e0b]"}`,children:r==="kenji"?_.jsx(jl,{size:16,className:"text-white"}):_.jsx(f9,{size:16,className:"text-black"})}),_.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:r==="kenji"?"Kenji":"Navi-Chan"})]}),_.jsx("div",{className:`max-w-[85%] p-4 rounded-[20px] font-bold text-sm leading-relaxed shadow-lg ${r==="kenji"?"bg-gray-800 text-gray-100 rounded-tl-none border border-gray-700":"bg-gradient-to-br from-amber-500 to-yellow-600 text-black rounded-tr-none shadow-[4px_4px_0px_#78350f]"}`,children:t})]}),Nj=()=>_.jsxs("div",{className:"p-4 pb-32 max-w-md mx-auto",children:[_.jsxs("div",{className:"text-center py-10 space-y-2",children:[_.jsx("h1",{className:"text-5xl font-black italic text-transparent bg-clip-text bg-gradient-to-b from-yellow-200 via-amber-500 to-amber-700 filter drop-shadow-lg",children:""}),_.jsx("h2",{className:"text-2xl font-black text-white tracking-[0.3em] uppercase",children:"TAXI-NAVIGATOR"}),_.jsx("div",{className:"h-1 w-24 bg-amber-500 mx-auto rounded-full"}),_.jsx("p",{className:"text-gray-500 font-bold text-xs pt-2",children:""})]}),_.jsx(af,{page:1,title:"",children:_.jsxs("div",{className:"p-6 space-y-6",children:[_.jsxs("div",{className:"bg-gray-950/80 p-6 rounded-3xl border border-dashed border-gray-700 relative text-center",children:[_.jsx(Kg,{className:"w-16 h-16 text-gray-700 mx-auto mb-2 opacity-20"}),_.jsxs("p",{className:"text-xs font-bold text-gray-500 leading-relaxed italic",children:["...",_.jsx("br",{}),""]})]}),_.jsx(gn,{char:"kenji",text:""}),_.jsx(gn,{char:"kenji",text:""}),_.jsx("div",{className:"py-4 flex justify-center",children:_.jsxs("div",{className:"relative",children:[_.jsx("div",{className:"absolute inset-0 bg-amber-500 blur-2xl opacity-40 animate-pulse"}),_.jsx(Kg,{size:80,className:"relative text-amber-500 animate-bounce"}),_.jsx(K4,{className:"absolute -top-4 -right-4 text-white animate-spin"})]})}),_.jsx(gn,{char:"navi",side:"right",text:" "}),_.jsx(gn,{char:"kenji",text:" "}),_.jsx(gn,{char:"navi",side:"right",text:"TAXI-NAVIGATOR "})]})}),_.jsx(af,{page:2,title:"GPS",children:_.jsxs("div",{className:"p-6 space-y-6 bg-gradient-to-b from-transparent to-green-900/10",children:[_.jsxs("div",{className:"flex justify-around py-4",children:[_.jsx(If,{className:"text-green-500 animate-pulse",size:40}),_.jsx(TE,{className:"text-blue-500 animate-bounce",size:40})]}),_.jsx(gn,{char:"kenji",text:"3,400..."}),_.jsx(gn,{char:"navi",side:"right",text:" GPS"}),_.jsx("div",{className:"bg-gray-950 p-4 rounded-2xl border-2 border-amber-500/50 shadow-inner text-center font-black text-amber-500",children:"[  ]"}),_.jsx(gn,{char:"kenji",text:" "}),_.jsx(gn,{char:"navi",side:"right",text:" "})]})}),_.jsx(af,{page:3,title:"",children:_.jsxs("div",{className:"p-6 space-y-6",children:[_.jsx(gn,{char:"kenji",text:""}),_.jsxs("div",{className:"bg-[#0A0E14] p-5 rounded-3xl border-2 border-gray-800 shadow-2xl space-y-2",children:[_.jsxs("div",{className:"flex justify-between text-[10px] font-black text-gray-500 uppercase tracking-widest",children:[_.jsx("span",{children:"Today's Sales"}),_.jsx("span",{children:"Next Goal"})]}),_.jsxs("div",{className:"flex justify-between items-baseline",children:[_.jsx("span",{className:"text-3xl font-black text-white italic",children:"28,500"}),_.jsx("span",{className:"text-lg font-black text-amber-500",children:" 21,500"})]}),_.jsx("div",{className:"w-full h-2 bg-gray-800 rounded-full overflow-hidden",children:_.jsx("div",{className:"w-[60%] h-full bg-amber-500 shadow-[0_0_10px_#f59e0b]"})})]}),_.jsx(gn,{char:"navi",side:"right",text:" "}),_.jsx(gn,{char:"kenji",text:" "})]})}),_.jsx(af,{page:4,title:"",children:_.jsxs("div",{className:"p-6 space-y-6 bg-gradient-to-b from-transparent to-blue-900/10",children:[_.jsx(gn,{char:"kenji",text:""}),_.jsx("div",{className:"flex justify-center py-4",children:_.jsx("div",{className:"relative p-4 bg-gray-900 rounded-full border-4 border-blue-500/30",children:_.jsx(If,{className:"text-blue-400",size:48})})}),_.jsx(gn,{char:"navi",side:"right",text:""}),_.jsx(gn,{char:"kenji",text:" Google"}),_.jsx(gn,{char:"kenji",text:""})]})}),_.jsx(af,{page:5,title:"",children:_.jsxs("div",{className:"p-6 space-y-6",children:[_.jsx(gn,{char:"kenji",text:" ..."}),_.jsx(gn,{char:"navi",side:"right",text:" "}),_.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[_.jsxs("div",{className:"bg-gray-950 p-4 rounded-2xl border border-gray-800",children:[_.jsx("p",{className:"text-[10px] text-gray-500 font-bold mb-1 uppercase",children:""}),_.jsx("p",{className:"text-xl font-black text-white",children:"58,200"})]}),_.jsxs("div",{className:"bg-gray-950 p-4 rounded-2xl border border-gray-800",children:[_.jsx("p",{className:"text-[10px] text-gray-500 font-bold mb-1 uppercase",children:""}),_.jsx("p",{className:"text-xl font-black text-white",children:"24"})]})]}),_.jsx(gn,{char:"kenji",text:" "}),_.jsx(gn,{char:"navi",side:"right",text:" "}),_.jsx(gn,{char:"kenji",text:" "})]})}),_.jsxs("div",{className:"text-center py-12 space-y-6",children:[_.jsx(W0,{className:"w-20 h-20 text-green-500 mx-auto animate-bounce"}),_.jsx("div",{className:"space-y-2",children:_.jsxs("p",{className:"text-2xl font-black text-white italic tracking-tighter",children:["TAXI-NAVIGATOR",_.jsx("br",{}),""]})}),_.jsx("div",{className:"pt-4 italic font-black text-gray-500 text-sm tracking-widest",children:"- FIN -"})]}),_.jsxs("div",{className:"flex flex-col items-center text-gray-500 gap-2 animate-pulse",children:[_.jsx(Mk,{size:32}),_.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest",children:"Scroll to explore"})]})]}),Rj=r=>{r.getFullYear();const t=r.getMonth()+1,e=r.getDate(),n=r.getDay();if(n===0||t===1&&e===1||t===2&&e===11||t===4&&e===29||t===5&&e===3||t===5&&e===4||t===5&&e===5||t===8&&e===11||t===11&&e===3||t===11&&e===23||t===12&&e===23)return!0;if(t===1&&n===1){const s=e<=7?e:0;if(s>0&&e>=s&&e<s+7)return!0}if(t===7&&n===1){const s=e<=7?e:0;if(s>0&&e>=s+14&&e<s+21)return!0}if(t===9&&n===1){const s=e<=7?e:0;if(s>0&&e>=s+14&&e<s+21)return!0}if(t===10&&n===1){const s=e<=7?e:0;if(s>0&&e>=s+7&&e<s+14)return!0}return!1},Mj=r=>{const t=r.getMonth()+1,e=r.getDate();return t===1&&e===1?"":t===1&&r.getDay()===1&&e>=8&&e<=14?"":t===2&&e===11?"":t===4&&e===29?"":t===5&&e===3?"":t===5&&e===4?"":t===5&&e===5?"":t===7&&r.getDay()===1&&e>=15&&e<=21?"":t===8&&e===11?"":t===9&&r.getDay()===1&&e>=15&&e<=21?"":t===10&&r.getDay()===1&&e>=8&&e<=14?"":t===11&&e===3?"":t===11&&e===23?"":t===12&&e===23?"":""},jj=({history:r,dayMetadata:t,businessStartHour:e,shimebiDay:n,monthlyStats:s})=>{const[i,a]=_e.useState(new Date),[l,c]=_e.useState(new Date().getFullYear()),[o,u]=_e.useState(new Date().getMonth()+1),p=_e.useMemo(()=>{const O={};return(r||[]).forEach(F=>{const q=zt(F.timestamp,e);O[q]||(O[q]={records:[],total:0}),O[q].records.push(F),O[q].total+=F.amount}),O},[r,e]),h=_e.useMemo(()=>{const O=i.getFullYear(),F=i.getMonth(),q=new Date(O,F,1),z=new Date(q);z.setDate(z.getDate()-q.getDay());const N=[],U=new Date(z);for(let C=0;C<42;C++){const S=Yt(U);N.push({date:new Date(U),isCurrentMonth:U.getMonth()===F,dateStr:S}),U.setDate(U.getDate()+1)}return N},[i]),d=_e.useCallback(O=>{a(F=>{const q=new Date(F);return q.setMonth(q.getMonth()+O),q})},[]),x=_e.useCallback(O=>{c(O);const F=new Date(i);F.setFullYear(O),a(F)},[i]),b=_e.useCallback(O=>{u(O);const F=new Date(i);F.setMonth(O-1),a(F)},[i]),g=_e.useCallback(async(O,F,q)=>{const z=F.map(st=>st.timestamp),N=z.length>0?Math.min(...z):0,U=z.length>0?Math.max(...z):0,C=q.totalRestMinutes||0,S=q.startOdo||0,k=q.endOdo||0,E=k>S?k-S:0,A=U&&N?U-N-C*60*1e3:0,j=F.reduce((st,et)=>st+et.amount,0),B=Math.max(A/(1e3*60*60),.1),D=j>0?Math.round(j/B):0,Q=st=>st?new Date(st).toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit"}):"",K=st=>{if(st<=0)return"";const et=Math.floor(st/36e5),Ze=Math.floor(st%36e5/6e4);return`${String(et).padStart(2,"0")}:${String(Ze).padStart(2,"0")}`},ee=new Date(O),W=`${ee.getFullYear()}`,te=`${ee.getMonth()+1}`,G=`${ee.getDate()}`,V=new C6.Workbook,Z=V.addWorksheet("",{views:[{state:"frozen",ySplit:5,activeCell:"A6"}]});Z.addRow(["","","","","","","","",W,te,G,Q(Date.now())]),Z.addRow([]),Z.addRow(["","",""," ","","","","","","","","","","","","","","","",""]),Z.addRow(["","","",Q(N),Q(U),K(A),D.toLocaleString()]),Z.addRow(["","","","","","","","","","","","","","","","","","B","A",""]);for(let st=0;st<30;st++){const et=F[st];let Ze=[];if(et){const gt=new Date(et.timestamp),mt=et.amount+et.toll+(et.returnToll||0),Me=et.paymentMethod;let Ue="",Ee="",Oe="";Me==="CARD"?Ue=mt:Me==="NET"||Me==="TICKET"?Ee=mt:(Me==="TRANSPORT"||Me!=="CASH")&&(Oe=mt),Ze=[st+1,gt.getHours(),gt.getMinutes(),et.pickupLocation||"","",et.dropoffLocation||"",et.passengersMale||"",et.passengersFemale||et.passagersFemale||0,et.amount,et.toll>0?et.toll:"",(et.returnToll||0)>0?et.returnToll||0:"",et.remarks||"",Ue,Ee,Oe,ph[et.rideType]||"",st+1,"","",""]}else Ze=[st+1,"","","","","","","","","","","","","","","",st+1,"","",""];Z.addRow(Ze)}Z.addRow([" ","","","","","",0,0,0,0,0,"",0,0,0,"","","","",""]),Z.addRow(["","","",""," ",S||""," ","",k||""," ",E||"","","",0,"",0,"","",0,""]),Z.addRow(["","","","","","","","","","","","","B km","","km","","","","",""]),Z.addRow(["","","","",E||"0","0",F.length,0,0,"","","","A km","","km","","","","",""]);for(let st=6;st<=35;st++)Z.getCell(`T${st}`).value={formula:`SUM(G${st}:H${st})`};Z.getCell("G36").value={formula:"SUM(G6:G35)"},Z.getCell("H36").value={formula:"SUM(H6:H35)"},Z.getCell("I36").value={formula:"SUM(I6:I35)"},Z.getCell("J36").value={formula:"SUM(J6:J35)"},Z.getCell("K36").value={formula:"SUM(K6:K35)"},Z.getCell("M36").value={formula:"SUM(M6:M35)"},Z.getCell("N36").value={formula:"SUM(N6:N35)"},Z.getCell("O36").value={formula:"SUM(O6:O35)"},Z.getCell("T36").value={formula:"SUM(T6:T35)"},Z.getCell("N37").value={formula:"SUM(I6:I35)"},Z.getCell("P37").value={formula:"M36+N36+O36"},Z.getCell("S37").value={formula:"(I36+J36+K36)-(M36+N36+O36)"},Z.getCell("Q38").value={formula:"P38/N38"},Z.getCell("Q38").numFmt="0%",Z.getCell("H39").value={formula:"G36+H36"},Z.getCell("I39").value={formula:"SUM(I6:I35)"},Z.getCell("Q39").value={formula:"P39/N39"},Z.getCell("Q39").numFmt="0%";const ae={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},re={bottom:{style:"double"}},oe={name:"Meiryo",size:10},he={name:"Meiryo",size:10,bold:!0},Se={name:"Meiryo",size:11,bold:!0},ge={name:"Meiryo",size:16,bold:!0},ne={type:"pattern",pattern:"solid",fgColor:{argb:"E2EFDA"}},fe={type:"pattern",pattern:"solid",fgColor:{argb:"FFF2CC"}},pe={type:"pattern",pattern:"solid",fgColor:{argb:"FFCC99"}},ke={type:"pattern",pattern:"solid",fgColor:{argb:"F2F2F2"}},Ce={type:"pattern",pattern:"solid",fgColor:{argb:"FFFFCC"}};Z.mergeCells("D1:F1"),Z.mergeCells("G3:H3"),Z.mergeCells("B4:C4"),Z.mergeCells("G4:H4"),Z.mergeCells("A36:C36"),Z.mergeCells("G37:H37"),Z.eachRow((st,et)=>{st.eachCell((Ze,gt)=>{var mt;if(Ze.font=oe,Ze.alignment={vertical:"middle",horizontal:"center"},et===1)gt>=9&&gt<=12&&(Ze.font=Se),gt>=4&&gt<=12&&(Ze.border=re);else if(et!==2){if(et===3)gt>=10&&gt<=20||gt===9||gt<=3||([4,5,6,7].includes(gt)&&(Ze.fill=ne),Ze.border=ae);else if(et===4)gt>=10||gt===9||gt<=1||(gt===2&&(Ze.fill=ne),Ze.border=ae);else if(et===5)Ze.fill=ne,Ze.font=he,Ze.border=ae;else if(et>=6&&et<=35){if(Ze.border=ae,(gt===1||gt===17)&&(Ze.fill=ke),gt===16){const Me=((mt=Ze.value)==null?void 0:mt.toString())||"";Me!==""&&Me!==""&&(Ze.fill=Ce)}[4,5,6,12].includes(gt)?Ze.alignment={vertical:"middle",horizontal:"left",wrapText:!0}:[9,10,11,13,14,15].includes(gt)&&(Ze.alignment={vertical:"middle",horizontal:"right"},Ze.numFmt="#,##0")}else if(et===36)Ze.fill=pe,Ze.font=he,Ze.border=ae,[7,8,9,10,11,13,14,15].includes(gt)&&(Ze.alignment={vertical:"middle",horizontal:"right"},Ze.numFmt="#,##0");else if(et>=37&&!(gt<=3)){Ze.border=ae;const Me=et===37&&[14,16,19].includes(gt)||et===39&&[8,9].includes(gt),Ue=et===37&&[6,9,11].includes(gt)||et===39&&gt===5;Me||Ue?(Ze.alignment={vertical:"middle",horizontal:"right"},Ze.numFmt="#,##0"):(et===37&&[4,5,7,10,13,15,18].includes(gt)||et===38&&[4,5,6,7,8,9,13,15].includes(gt)||et===39&&[13,15].includes(gt))&&(Ze.fill=fe)}}})});const Fe=Z.getCell("D1");Fe.font=ge,Fe.alignment={vertical:"middle",horizontal:"center"},Fe.border={bottom:{style:"double"}},Z.getRow(1).height=45,Z.getRow(36).height=30,[{c:1,w:4.38},{c:2,w:3},{c:3,w:3},{c:4,w:10.75},{c:5,w:10.75},{c:6,w:10.75},{c:7,w:4.13},{c:8,w:4.13},{c:9,w:7.5},{c:10,w:6.25},{c:11,w:6.25},{c:12,w:10.75},{c:13,w:8.13},{c:14,w:8.13},{c:15,w:8.13},{c:16,w:8.13},{c:17,w:4.38},{c:18,w:7.5},{c:19,w:7.5},{c:20,w:6}].forEach(st=>{Z.getColumn(st.c).width=st.w});const $e=await V.xlsx.writeBuffer(),it=new Blob([$e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});N6.saveAs(it,`_${O.replace(/\//g,"-")}.xlsx`)},[]);_e.useMemo(()=>{const O=new Date().getFullYear(),F=[];for(let q=O-5;q<=O+1;q++)F.push(q);return F},[]),_e.useMemo(()=>Array.from({length:12},(O,F)=>F+1),[]),_e.useMemo(()=>{const O=i.getFullYear(),F=i.getMonth();return Object.entries(p).reduce((q,[z,N])=>{const[U,C]=z.split("/").map(Number);return U===O&&C===F+1?q+N.total:q},0)},[p,i]);const v=["","","","","","",""];_e.useMemo(()=>`${i.getFullYear()} / ${String(i.getMonth()+1).padStart(2,"0")}`,[i]);const y=_e.useMemo(()=>{const O=i.getFullYear(),F=i.getMonth();return Object.entries(p).reduce((q,[z,N])=>{const U=new Date(z.replace(/\//g,"-"));return U.getFullYear()===O&&U.getMonth()===F?q+N.total:q},0)},[p,i]),R=["January","February","March","April","May","June","July","August","September","October","November","December"][i.getMonth()],H=`${i.getFullYear()-2018}`,L=new Date().getDate(),I=i.getMonth()===new Date().getMonth()&&i.getFullYear()===new Date().getFullYear();return _.jsx("div",{className:"w-full min-h-screen bg-white p-6",children:_.jsxs("div",{className:"max-w-6xl mx-auto",children:[_.jsx("div",{className:"mb-6",children:_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"text-4xl font-black text-gray-900",children:["",y.toLocaleString()]}),_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("button",{onClick:()=>d(-1),className:"p-2 text-gray-600 hover:text-gray-900 active:scale-90",children:_.jsx(ci,{className:"w-6 h-6"})}),_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("div",{className:"text-7xl font-black text-gray-900 leading-none",children:I?L:1}),_.jsxs("div",{className:"flex flex-col",children:[_.jsx("div",{className:"text-xl font-semibold text-gray-900",children:R}),_.jsxs("div",{className:"text-xs text-gray-700 mt-1",children:[H," ",i.getFullYear()]})]})]}),_.jsx("button",{onClick:()=>d(1),className:"p-2 text-gray-600 hover:text-gray-900 active:scale-90",children:_.jsx(Js,{className:"w-6 h-6"})})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("select",{value:i.getFullYear(),onChange:O=>x(parseInt(O.target.value)),className:"px-3 py-2 border border-gray-300 rounded-md bg-white text-gray-900 font-semibold cursor-pointer",children:Array.from({length:10},(O,F)=>new Date().getFullYear()-5+F).map(O=>_.jsxs("option",{value:O,children:[O,""]},O))}),_.jsx("select",{value:i.getMonth()+1,onChange:O=>b(parseInt(O.target.value)),className:"px-3 py-2 border border-gray-300 rounded-md bg-white text-gray-900 font-semibold cursor-pointer",children:Array.from({length:12},(O,F)=>F+1).map(O=>_.jsxs("option",{value:O,children:[O,""]},O))})]})]})}),_.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[_.jsx("div",{className:"grid grid-cols-7 border-b border-gray-200",children:v.map((O,F)=>{let q="bg-gray-900",z="text-white";return F===0?(q="bg-red-700",z="text-white"):F===6&&(q="bg-blue-700",z="text-white"),_.jsx("div",{className:`p-3 text-center text-2xl font-bold ${z} ${q}`,children:O},O)})}),_.jsx("div",{className:"grid grid-cols-7 border-t border-gray-200",children:h.map(({date:O,isCurrentMonth:F,dateStr:q},z)=>{const N=O.getDay(),U=Rj(O),C=U?Mj(O):"",S=p[q],k=S&&S.total>0;let E="text-gray-900",A="bg-white";return F?N===0||U?E="text-red-600":N===6&&(E="text-blue-600"):E="text-gray-400",k&&(A="bg-yellow-50"),_.jsxs("div",{className:`min-h-[100px] border-r border-b border-gray-200 p-2 ${A} ${F?"":"opacity-50"} ${k?"cursor-pointer hover:bg-amber-300 transition-colors":""}`,onClick:()=>{if(k&&S.records.length>0){const j=t[q]||{memo:"",attributedMonth:"",totalRestMinutes:0};g(q,S.records,j)}},children:[_.jsx("div",{className:`text-base font-black ${E}`,children:O.getDate()}),C&&_.jsx("div",{className:"text-xs text-red-600 font-semibold mt-1",children:C}),k&&_.jsxs("div",{className:"mt-2 flex items-start justify-between",children:[_.jsxs("div",{className:"flex-1",children:[_.jsxs("div",{className:"text-lg font-black text-amber-700 leading-tight",children:["",S.total.toLocaleString()]}),_.jsxs("div",{className:"text-lg font-black text-gray-700 mt-1",children:[S.records.length,""]})]}),_.jsx("div",{className:"flex-shrink-0 ml-2",children:_.jsx(q4,{className:"w-4 h-4 text-amber-600"})})]})]},z)})})]})]})})},Ij=({label:r,value:t,colorClass:e,onChange:n,onConfirm:s})=>{const i=c=>{const o=t.replace(/,/g,""),u=o==="0"?c:o+c;n(Uo(u))},a=()=>{const c=t.replace(/,/g,""),o=c.length<=1?"0":c.slice(0,-1);n(Uo(o))},l=()=>{n("0")};return _.jsxs("div",{className:"space-y-5 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[_.jsxs("div",{className:"flex flex-col space-y-2",children:[_.jsxs("span",{className:"text-lg font-bold ml-2 uppercase tracking-widest text-gray-400",children:[r,""]}),_.jsx("div",{className:`rounded-3xl p-5 flex items-center justify-end border min-h-[80px] shadow-inner overflow-hidden ${e.replace("text-","border-").split(" ")[0]} bg-[#1A2536]`,children:_.jsxs("span",{className:`text-[clamp(3rem,12vw,4.5rem)] font-black tracking-tighter truncate w-full text-right ${e}`,children:["",t]})})]}),_.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[["7","8","9","DEL","4","5","6","C","1","2","3","000"].map(c=>_.jsx("button",{onClick:()=>{c==="DEL"?a():c==="C"?l():i(c.toString())},className:`h-16 rounded-2xl text-3xl font-bold flex items-center justify-center active:scale-95 transition-all shadow-md ${c==="DEL"||c==="C"?"bg-red-600/90 text-white":"bg-[#2D3848] text-white"}`,children:c==="DEL"?"":c},c)),_.jsxs("div",{className:"col-span-4 grid grid-cols-3 gap-3",children:[_.jsx("button",{onClick:()=>i("0"),className:"h-16 rounded-2xl text-3xl font-bold bg-[#2D3848] text-white flex items-center justify-center active:scale-95 shadow-md",children:"0"}),_.jsx("button",{onClick:()=>i("20"),className:"h-16 rounded-2xl text-3xl font-bold bg-[#2D3848] text-white flex items-center justify-center active:scale-95 shadow-md",children:"20"}),_.jsx("button",{onClick:()=>i("00"),className:"h-16 rounded-2xl text-3xl font-bold bg-[#2D3848] text-white flex items-center justify-center active:scale-95 shadow-md",children:"00"})]}),_.jsxs("button",{onClick:s,className:"col-span-4 h-20 bg-green-600 hover:bg-green-500 text-white rounded-3xl text-3xl font-black shadow-xl active:scale-95 flex items-center justify-center gap-3 mt-2",children:[_.jsx(Zd,{className:"w-10 h-10"})," "]})]})]})},Dj=[{id:"osaka_station",name:"",triggers:["3","",""],options:["",""]},{id:"shin_osaka",name:"",triggers:["","",""],options:["","",""]},{id:"kita_sinchi",name:"",triggers:["","","",""],options:["","","","","","",""]},{id:"minami",name:"",triggers:["","","",""],options:["","",""]},{id:"test",name:"",triggers:["",""],options:["","","","","","",""]}],Oj=r=>{if(!r)return null;for(const t of Dj)if(t.triggers.some(e=>r.includes(e)))return t;return null},Fj=[{name:"",keywords:["",""]},{name:"",keywords:["",""]},{name:"NCB",keywords:["",""]},{name:"",keywords:["",""]},{name:"",keywords:["",""]},{name:"",keywords:["",""]},{name:"",keywords:["",""]},{name:"",keywords:["",""]},{name:"",keywords:["",""]},{name:"",keywords:["Zentis",""]},{name:"",keywords:["","3"]},{name:"",keywords:["",""]},{name:"",keywords:["",""]}],Pj=r=>{const t=Fj.find(e=>e.keywords.some(n=>r.includes(n)));return t?t.name:null},Lj=({initialData:r,enabledMethods:t,enabledRideTypes:e,customLabels:n,onClose:s,onSave:i,onDelete:a,businessStartHour:l,followingUsers:c=[],shift:o,history:u=[],monthlyStats:p})=>{const h=_e.useRef((r==null?void 0:r.id)||Math.random().toString(36).substr(2,9)),[d,x]=_e.useState(null),[b,g]=_e.useState(r!=null&&r.amount?r.amount.toLocaleString():"0"),[v,y]=_e.useState(r!=null&&r.toll?r.toll.toLocaleString():"0"),[T,R]=_e.useState(r!=null&&r.returnToll?r.returnToll.toLocaleString():"0"),[P,H]=_e.useState((r==null?void 0:r.paymentMethod)||t[0]||"CASH"),L=e&&e.length>0?e:Vc,[I,O]=_e.useState((r==null?void 0:r.rideType)||L[0]),[F,q]=_e.useState(r!=null&&r.nonCashAmount?r.nonCashAmount.toLocaleString():"0"),[z,N]=_e.useState((r==null?void 0:r.pickupLocation)||""),[U,C]=_e.useState((r==null?void 0:r.dropoffLocation)||""),[S,k]=_e.useState((r==null?void 0:r.pickupCoords)||""),[E,A]=_e.useState((r==null?void 0:r.dropoffCoords)||""),[j,B]=_e.useState((r==null?void 0:r.passengersMale)??0),[D,Q]=_e.useState((r==null?void 0:r.passengersFemale)??0),[K,ee]=_e.useState((r==null?void 0:r.remarks)||""),[W,te]=_e.useState((r==null?void 0:r.isBadCustomer)||!1),[G,V]=_e.useState(null),[Z,ae]=_e.useState(!1),[re,oe]=_e.useState(!1),[he,Se]=_e.useState(!1),[ge,ne]=_e.useState(Date.now()),[fe,pe]=_e.useState(null),[ke,Ce]=_e.useState(null);_e.useEffect(()=>{const Re=setInterval(()=>{ne(Date.now())},1e3);return()=>clearInterval(Re)},[]);const Fe=_e.useMemo(()=>{const Re=n[P]||xa[P];return Re?Re.includes(""):!1},[P,n]),We=Re=>{ee(Re)},$e=_e.useRef(null),it=_e.useRef(null),st=_e.useRef(null),et=async(Re,Ae)=>{const[at,pt,lt]=Ze.split("-").map(Number),[Rt,jt]=mt.split(":").map(Number),Ct=new Date(at,pt-1,lt,Rt,jt).getTime();await i(An(b),An(v),P,I,An(F),Ct,Re,U,Ae,E,j,D,K,W,An(T),h.current,!0)},[Ze,gt]=_e.useState(()=>{const Re=r!=null&&r.timestamp?new Date(r.timestamp):new Date,Ae=Re.getTimezoneOffset()*6e4;return new Date(Re.getTime()-Ae).toISOString().split("T")[0]}),[mt,Me]=_e.useState(()=>(r!=null&&r.timestamp?new Date(r.timestamp):new Date).toTimeString().split(" ")[0].slice(0,5)),Ue=_e.useMemo(()=>{if(!Ze||!mt)return"";const[Re,Ae,at]=Ze.split("-").map(Number),[pt,lt]=mt.split(":").map(Number),Rt=new Date(Re,Ae-1,at,pt,lt),jt=zt(Rt.getTime(),l),Ct=_1(Rt.getTime(),l);return`${jt} ${Ct}`},[Ze,mt,l]);_e.useEffect(()=>{d||setTimeout(()=>{var Re;(Re=$e.current)==null||Re.scrollIntoView({behavior:"auto",block:"start"})},50)},[]),_e.useEffect(()=>{d===null&&(st.current==="amount"||st.current==="toll")&&setTimeout(()=>{var Re;(Re=it.current)==null||Re.scrollIntoView({behavior:"auto",block:"start"})},50),st.current=d},[d]),_e.useEffect(()=>{!(r!=null&&r.id)&&z===""&&Ee("pickup")},[]),_e.useEffect(()=>{if(P!=="CASH"&&d!=="nonCash"){const Re=An(b),Ae=An(v);q((Re+Ae).toLocaleString())}},[b,v,P]);const Ee=async Re=>{V(Re);try{const Ae=await new Promise((Mt,Dt)=>{navigator.geolocation.getCurrentPosition(Mt,Dt,{timeout:1e4,enableHighAccuracy:!0})}),{latitude:at,longitude:pt}=Ae.coords,lt=`${at},${pt}`,Rt=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${at}&lon=${pt}&zoom=18&addressdetails=1`,{headers:{"Accept-Language":"ja"}});if(!Rt.ok)throw new Error("Network error");const jt=await Rt.json(),Ct=N_(jt);if(Ct){if(Re==="pickup"){N(Ct),k(lt);const Mt=Pj(Ct),Dt=Oj(Ct);Mt?(Ce(Mt),Dt&&pe(Dt)):Dt?pe(Dt):et(Ct,lt)}else Re==="dropoff"&&(C(Ct),A(lt));return Ct}}catch(Ae){console.error("Geolocation failed",Ae)}finally{V(null)}return""},Oe=async()=>{const Re=await Ee("stopover");Re&&ee(Ae=>{var lt;return Ae.includes("()")?((lt=Ae.split("()")[1].split("").pop())==null?void 0:lt.trim())===Re?Ae:Ae+`${Re}`:(Ae.trim()?Ae.trim()+`
`:"")+`()${Re}`})},ct=async()=>{if(he)return;Se(!0);let Re=U,Ae=E;if(!(r!=null&&r.id)&&!Re){V("dropoff");try{const Ge=await new Promise((ue,de)=>navigator.geolocation.getCurrentPosition(ue,de));Ae=`${Ge.coords.latitude},${Ge.coords.longitude}`;const le=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${Ge.coords.latitude}&lon=${Ge.coords.longitude}&zoom=18&addressdetails=1`,{headers:{"Accept-Language":"ja"}})).json(),ye=N_(le);ye&&(Re=ye)}catch(Ge){console.error(Ge)}V(null)}const at=An(b),pt=An(v),lt=An(T),Rt=P!=="CASH"?An(F):0,[jt,Ct,Mt]=Ze.split("-").map(Number),[Dt,Nt]=mt.split(":").map(Number),Ie=new Date(jt,Ct-1,Mt,Dt,Nt).getTime();await i(at,pt,P,I,Rt,Ie,z,Re,S,Ae,j,D,K,W,lt,h.current,!1),Se(!1)},Be=Re=>{Re==="male"?B(Ae=>Ae+1>4?0:Ae+1):Q(Ae=>Ae+1>4?0:Ae+1)},Ye=d==="amount"?b:d==="toll"?v:d==="returnToll"?T:d==="nonCash"?F:"0",je=Re=>{d==="amount"?g(Re):d==="toll"?y(Re):d==="returnToll"?R(Re):d==="nonCash"&&q(Re)},He=()=>d==="amount"?"":d==="toll"?"":d==="returnToll"?"":d==="nonCash"?"":"",Te=()=>d==="amount"?"text-amber-500":d==="toll"?"text-white":d==="returnToll"?"text-indigo-400":d==="nonCash"?"text-blue-500":"text-white",rt=Re=>{if(fe){const Ae=`${fe.name} ${Re}`;N(Ae),pe(null),et(Ae,S)}};return _.jsx(ri,{onClose:s,children:_.jsx("div",{className:"space-y-6 pb-6 relative",children:ke?_.jsxs("div",{className:"space-y-6 py-4 animate-in slide-in-from-bottom-4 flex flex-col h-full",children:[_.jsxs("div",{className:"text-center space-y-2 mb-2 mt-4",children:[_.jsx("div",{className:"bg-cyan-500/20 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4 shadow-[0_0_20px_rgba(6,182,212,0.3)] animate-pulse",children:_.jsx(bk,{className:"w-10 h-10 text-cyan-400"})}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-3xl font-black text-white leading-tight tracking-tight mb-2",children:ke}),_.jsx("p",{className:"text-lg font-bold text-cyan-200/70",children:""})]})]}),_.jsx("div",{className:"flex-1 content-start space-y-4 px-4",children:_.jsxs("button",{onClick:()=>{N(ke),Ce(null),pe(null),et(ke,S)},className:"relative w-full overflow-hidden bg-black hover:bg-gray-900 border-2 border-cyan-500/50 hover:border-cyan-400 text-white font-black py-6 rounded-3xl text-2xl transition-all active:scale-95 shadow-xl group",children:[_.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),_.jsxs("div",{className:"relative z-10 flex items-center justify-center gap-3",children:[_.jsx(W0,{className:"w-8 h-8 text-cyan-400"}),_.jsx("span",{children:""})]})]})}),_.jsx("div",{className:"pt-6 mt-auto",children:_.jsxs("button",{onClick:()=>{Ce(null),fe||et(z,S)},className:"group w-full py-5 bg-gradient-to-r from-rose-600 to-pink-600 hover:from-rose-500 hover:to-pink-500 text-white font-black rounded-2xl text-lg border border-rose-400/50 active:scale-95 transition-all shadow-[0_0_20px_rgba(225,29,72,0.4)] flex items-center justify-between px-6",children:[_.jsxs("span",{className:"flex flex-col items-start leading-none gap-1",children:[_.jsx("span",{className:"text-[10px] opacity-80 font-bold tracking-widest",children:"NO"}),_.jsx("span",{children:""})]}),_.jsx(Js,{className:"w-6 h-6 text-white group-hover:translate-x-1 transition-transform"})]})})]}):fe?_.jsxs("div",{className:"space-y-6 py-4 animate-in slide-in-from-bottom-4 flex flex-col h-full",children:[_.jsxs("div",{className:"text-center space-y-2 mb-2",children:[_.jsx("div",{className:"bg-cyan-500/20 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-3 shadow-[0_0_20px_rgba(6,182,212,0.3)]",children:_.jsx(bE,{className:"w-8 h-8 text-cyan-400"})}),_.jsx("h3",{className:"text-3xl font-black text-white leading-tight tracking-tight",children:fe.name}),_.jsx("p",{className:"text-sm font-bold text-cyan-200/70 bg-cyan-900/30 py-1 px-3 rounded-full inline-block",children:""})]}),_.jsx("div",{className:"grid grid-cols-2 gap-4 flex-1 content-start",children:fe.options.map(Re=>_.jsxs("button",{onClick:()=>rt(Re),className:"relative overflow-hidden bg-black hover:bg-gray-900 border-2 border-cyan-500/50 hover:border-cyan-400 text-white font-black py-6 rounded-2xl text-2xl transition-all active:scale-95 shadow-lg group",children:[_.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-500/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),_.jsx("span",{className:"relative z-10",children:Re})]},Re))}),_.jsx("div",{className:"pt-6 mt-auto",children:_.jsxs("button",{onClick:()=>{pe(null),et(z,S)},className:"group w-full py-5 bg-gradient-to-r from-rose-600 to-pink-600 hover:from-rose-500 hover:to-pink-500 text-white font-black rounded-2xl text-lg border border-rose-400/50 active:scale-95 transition-all shadow-[0_0_20px_rgba(225,29,72,0.4)] flex items-center justify-between px-6",children:[_.jsxs("span",{className:"flex flex-col items-start leading-none gap-1",children:[_.jsx("span",{className:"text-[10px] opacity-80 font-bold tracking-widest",children:"CANCEL"}),_.jsx("span",{children:""})]}),_.jsx("div",{className:"bg-white/20 p-1.5 rounded-full",children:_.jsx(Js,{className:"w-6 h-6 text-white group-hover:translate-x-1 transition-transform"})})]})})]}):d?_.jsx(Ij,{label:He(),value:Ye,colorClass:Te(),onChange:je,onConfirm:()=>x(null)}):_.jsxs("div",{className:"space-y-5 max-h-[85vh] overflow-y-auto custom-scrollbar pb-2 relative",children:[_.jsxs("div",{className:"flex justify-between items-center border-b border-gray-800 pb-4",children:[_.jsx("div",{className:"flex flex-col w-full",children:_.jsx("h2",{className:"text-2xl font-black text-white",children:r!=null&&r.id?"":""})}),_.jsx("div",{className:"absolute top-0 right-14 flex items-center",children:_.jsx("button",{type:"button",onClick:()=>te(!W),className:`p-2 rounded-full border-2 transition-all ${W?"bg-red-900/50 border-red-500 text-red-500 shadow-[0_0_10px_rgba(239,68,68,0.5)]":"bg-gray-900 border-gray-700 text-gray-600"}`,children:_.jsx(V1,{className:"w-6 h-6"})})}),_.jsx("button",{onClick:s,className:"text-gray-500 p-2 absolute top-0 right-0",children:_.jsx(ba,{className:"w-8 h-8"})})]}),_.jsxs("div",{className:"bg-gray-800 p-4 rounded-3xl border-2 border-blue-500 text-center relative overflow-hidden group",children:[_.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-amber-500 to-transparent opacity-50"}),_.jsxs("label",{className:"text-xs font-black text-amber-500 uppercase tracking-widest block mb-1 flex items-center justify-center gap-2",children:[_.jsx(jf,{className:"w-4 h-4"})," "]}),_.jsx("input",{type:"date",value:Ze,onChange:Re=>gt(Re.target.value),className:"bg-transparent text-white text-3xl font-black w-full text-center outline-none uppercase tracking-widest"})]}),_.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"space-y-2 opacity-60 hover:opacity-100 transition-opacity",children:[_.jsx("label",{className:"text-xl font-black text-gray-500 uppercase block tracking-widest mb-3",children:"1. "}),_.jsx("div",{className:"flex gap-3",children:_.jsx("input",{type:"time",value:mt,onChange:Re=>Me(Re.target.value),className:"w-full bg-gray-800 border-2 border-blue-500 rounded-xl p-4 text-3xl font-black outline-none focus:border-blue-400 shadow-inner text-white text-center"})}),_.jsxs("div",{className:"flex items-center gap-2 text-indigo-400 text-xs font-bold px-1 mt-2 justify-center",children:[_.jsx(P1,{className:"w-4 h-4"}),_.jsxs("span",{children:[": ",Ue]})]})]}),_.jsxs("div",{className:"space-y-4 bg-gray-800 p-2 rounded-3xl border-2 border-blue-500 opacity-80 hover:opacity-100 transition-opacity",children:[_.jsx("label",{className:"text-xl font-black text-gray-500 uppercase block tracking-widest px-2 mb-3",children:"2. "}),_.jsxs("div",{children:[_.jsxs("div",{className:"flex justify-between items-center mb-1 px-1",children:[_.jsxs("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest flex items-center gap-2",children:[_.jsx(If,{className:"w-3 h-3 text-green-400"})," "]}),_.jsxs("button",{onClick:()=>Ee("pickup"),className:"text-[10px] bg-gray-800 text-green-400 font-black px-2 py-1 rounded-lg border border-green-500/20 active:scale-90 flex items-center gap-1 whitespace-nowrap",children:[G==="pickup"?_.jsx(_l,{className:"w-3 h-3 animate-spin"}):_.jsx(If,{className:"w-3 h-3"}),""]})]}),_.jsx("div",{className:"flex gap-2",children:_.jsx("input",{type:"text",value:z,onChange:Re=>{N(Re.target.value),Re.target.value||k("")},placeholder:"",className:"flex-1 bg-gray-700 border-2 border-blue-500 rounded-2xl p-3 text-lg font-black outline-none focus:border-green-500 shadow-inner"})})]}),_.jsxs("div",{children:[_.jsxs("div",{className:"flex justify-between items-center mb-1 px-1",children:[_.jsxs("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest flex items-center gap-2",children:[_.jsx(Yg,{className:"w-3 h-3 text-red-400"})," "]}),_.jsxs("button",{onClick:()=>Ee("dropoff"),className:"text-[10px] bg-gray-800 text-red-400 font-black px-2 py-1 rounded-lg border border-red-500/20 active:scale-90 flex items-center gap-1 whitespace-nowrap",children:[G==="dropoff"?_.jsx(_l,{className:"w-3 h-3 animate-spin"}):_.jsx(Yg,{className:"w-3 h-3"}),""]})]}),_.jsx("div",{className:"flex gap-2",children:_.jsx("input",{type:"text",value:U,onChange:Re=>{C(Re.target.value),Re.target.value||A("")},placeholder:"",className:"flex-1 bg-gray-700 border-2 border-blue-500 rounded-2xl p-3 text-lg font-black outline-none focus:border-red-500 shadow-inner"})})]})]}),_.jsxs("div",{ref:$e,className:"scroll-mt-4",children:[_.jsx("label",{className:"text-xl font-black text-gray-500 uppercase mb-3 block tracking-widest",children:"3. "}),_.jsx("div",{className:"grid grid-cols-3 gap-3",children:L.map(Re=>_.jsx("button",{onClick:()=>O(Re),className:`py-4 rounded-2xl font-black border-2 transition-all shadow-sm whitespace-nowrap ${Re==="HIRE"?"text-2xl":"text-3xl"} ${I===Re?"bg-amber-500 border-amber-500 text-black":"bg-gray-800 border-blue-500 text-gray-400"} active:scale-95`,children:ph[Re]},Re))})]}),_.jsxs("div",{className:"bg-gray-800 p-4 rounded-3xl border-2 border-blue-500",children:[_.jsxs("label",{className:"text-xl font-black text-gray-400 uppercase tracking-widest flex items-center gap-2 mb-4",children:[_.jsx(Al,{className:"w-5 h-5 text-amber-500"})," 4. "]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("button",{type:"button",onClick:()=>Be("male"),className:`relative flex flex-col items-center justify-center p-4 rounded-2xl border-2 transition-all active:scale-95 h-32 ${j>0?"bg-blue-900/20 border-blue-500 text-blue-400 shadow-[0_0_15px_rgba(59,130,246,0.3)]":"bg-gray-700 border-blue-500 text-gray-500"}`,children:[_.jsx("span",{className:"text-sm font-bold uppercase tracking-widest mb-1",children:""}),_.jsx("span",{className:`text-6xl font-black ${j>0?"text-white":"text-gray-600"}`,children:j})]}),_.jsxs("button",{type:"button",onClick:()=>Be("female"),className:`relative flex flex-col items-center justify-center p-4 rounded-2xl border-2 transition-all active:scale-95 h-32 ${D>0?"bg-pink-900/20 border-pink-500 text-pink-400 shadow-[0_0_15px_rgba(236,72,153,0.3)]":"bg-gray-700 border-blue-500 text-gray-500"}`,children:[_.jsx("span",{className:"text-sm font-bold uppercase tracking-widest mb-1",children:""}),_.jsx("span",{className:`text-6xl font-black ${D>0?"text-white":"text-gray-600"}`,children:D})]})]})]}),_.jsxs("div",{ref:it,className:"scroll-mt-4",children:[_.jsxs("div",{className:"flex justify-between items-center mb-3",children:[_.jsx("label",{className:"text-xl font-black text-gray-400 uppercase tracking-widest",children:"5. "}),_.jsxs("button",{onClick:()=>x("returnToll"),className:`text-[10px] font-black px-3 py-1.5 rounded-full border transition-all active:scale-95 flex items-center gap-1 ${An(T)>0?"bg-indigo-600 border-indigo-400 text-white shadow-[0_0_10px_rgba(99,102,241,0.4)]":"bg-gray-800 border-gray-700 text-gray-500"}`,children:[": ",T]})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[_.jsxs("div",{onClick:()=>x("amount"),className:"bg-gray-800 p-4 rounded-3xl border-2 border-blue-500 flex flex-col items-center justify-center shadow-inner cursor-pointer active:scale-[0.98] transition-all min-h-[100px]",children:[_.jsx("span",{className:"text-amber-500 font-bold text-sm uppercase mb-1 tracking-widest",children:""}),_.jsxs("div",{className:"flex items-baseline",children:[_.jsx("span",{className:"text-amber-500 font-black text-xl mr-1",children:""}),_.jsx("span",{className:"text-white text-[clamp(2rem,8vw,2.5rem)] font-black truncate leading-none",children:b||"0"})]})]}),_.jsxs("div",{onClick:()=>x("toll"),className:"bg-gray-800 border-2 border-blue-500 rounded-3xl p-4 flex flex-col items-center justify-center shadow-inner cursor-pointer active:scale-[0.98] transition-all min-h-[100px]",children:[_.jsx("span",{className:"text-gray-400 font-bold text-sm uppercase mb-1 tracking-widest",children:""}),_.jsx("div",{className:"flex items-baseline",children:_.jsx("span",{className:"text-white text-[clamp(2rem,8vw,2.5rem)] font-black truncate leading-none",children:v||"0"})})]})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-xl font-black text-gray-400 uppercase mb-3 block tracking-widest",children:"6. "}),_.jsxs("div",{className:"relative",children:[_.jsx("select",{value:P,onChange:Re=>H(Re.target.value),className:"w-full bg-gray-800 border-2 border-blue-500 rounded-2xl p-4 text-white text-xl font-black outline-none appearance-none focus:border-blue-400 cursor-pointer shadow-inner",children:t.map(Re=>_.jsx("option",{value:Re,children:n[Re]||xa[Re]},Re))}),_.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-500",children:_.jsx(Js,{className:"w-6 h-6 rotate-90"})})]})]}),Fe&&_.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2 duration-300",children:[_.jsx("label",{className:"text-[10px] font-bold text-amber-500 uppercase tracking-widest mb-1 block",children:" ()"}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{type:"button",onClick:()=>We("GO"),className:`flex-1 py-4 rounded-xl font-black text-3xl border transition-all active:scale-95 ${K==="GO"?"bg-amber-500 text-black border-amber-500":"bg-gray-800 text-gray-300 border-gray-600 hover:bg-gray-700"}`,children:"GO"}),_.jsx("button",{type:"button",onClick:()=>We("DiDi"),className:`flex-1 py-4 rounded-xl font-black text-3xl border transition-all active:scale-95 ${K==="DiDi"?"bg-amber-500 text-black border-amber-500":"bg-gray-800 text-gray-300 border-gray-600 hover:bg-gray-700"}`,children:"DiDi"}),_.jsx("button",{type:"button",onClick:()=>We("Uber"),className:`flex-1 py-4 rounded-xl font-black text-3xl border transition-all active:scale-95 ${K==="Uber"?"bg-amber-500 text-black border-amber-500":"bg-gray-800 text-gray-300 border-gray-600 hover:bg-gray-700"}`,children:"Uber"})]})]}),P!=="CASH"&&_.jsxs("div",{className:"bg-blue-900/10 p-4 rounded-3xl border border-blue-900/30 shadow-inner",children:[_.jsxs("label",{className:"text-xs text-blue-400 font-bold uppercase mb-1 block tracking-widest",children:[n[P]||xa[P],""]}),_.jsxs("div",{onClick:()=>x("nonCash"),className:"flex items-center gap-2 cursor-pointer active:scale-[0.99] transition-all",children:[_.jsx("span",{className:"text-blue-500 font-black text-2xl",children:""}),_.jsx("span",{className:"w-full bg-transparent border-b border-blue-900/50 p-1 text-3xl font-black text-white outline-none",children:F||"0"})]})]}),_.jsxs("div",{children:[_.jsxs("div",{className:"flex justify-between items-center mb-3",children:[_.jsxs("label",{className:"text-xl font-bold text-gray-400 flex items-center gap-2 uppercase tracking-widest",children:[_.jsx(L1,{className:"w-5 h-5"})," 7. "]}),_.jsxs("button",{type:"button",onClick:Oe,className:"text-xs bg-blue-600/20 text-blue-400 font-black px-3 py-1.5 rounded-full border border-blue-500/20 active:scale-95 flex items-center gap-1 transition-all",children:[G==="stopover"?_.jsx(_l,{className:"w-3 h-3 animate-spin"}):_.jsx(H4,{className:"w-3 h-3"}),""]})]}),_.jsx("textarea",{value:K,onChange:Re=>ee(Re.target.value),placeholder:"...",className:"w-full bg-gray-800 border-2 border-blue-500 rounded-2xl p-3 text-white text-base min-h-[80px] outline-none focus:border-blue-400 shadow-inner"})]}),_.jsxs("div",{className:"flex flex-col gap-3 pt-5 pb-5",children:[_.jsx("button",{disabled:he,onClick:ct,className:"w-full bg-amber-500 text-black py-5 rounded-2xl font-black text-2xl shadow-xl active:scale-95 transition-transform flex items-center justify-center gap-3",children:he?_.jsxs(_.Fragment,{children:[_.jsx(_l,{className:"w-6 h-6 animate-spin"})," ..."]}):r!=null&&r.id?"":""}),(r==null?void 0:r.id)&&_.jsx("button",{type:"button",onClick:Re=>{Re.stopPropagation(),Z?a():ae(!0)},className:`w-full py-4 font-black text-lg flex items-center justify-center gap-2 rounded-2xl transition-all border-2 active:scale-95 ${Z?"bg-red-600 border-red-500 text-white animate-pulse":"text-red-500 border-red-500/30"}`,children:Z?"":_.jsxs(_.Fragment,{children:[_.jsx(h0,{className:"w-5 h-5"})," "]})}),_.jsx("button",{type:"button",onClick:Re=>{Re.stopPropagation(),re?s():oe(!0)},onBlur:()=>setTimeout(()=>oe(!1),200),className:`w-full py-4 text-xl font-bold active:scale-90 tracking-widest uppercase transition-all ${re?"bg-red-600 text-white":"text-gray-500 hover:text-gray-400"}`,children:re?"":"Cancel"})]})]}),_.jsx("div",{className:"mt-6",children:_.jsx(S1,{followingUsers:c})}),o&&p&&Array.isArray(o.records)&&_.jsxs("div",{className:"mt-6 space-y-4 bg-gray-800 rounded-3xl p-4 border-2 border-blue-500",children:[_.jsxs("div",{className:"flex justify-between items-start mb-4",children:[_.jsxs("div",{className:"flex flex-col",children:[_.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[_.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),_.jsxs("span",{className:"text-white font-black text-sm",children:[" ",(()=>{const Ae=Date.now()-o.startTime,at=Math.floor(Ae/(1e3*60*60)),pt=Math.floor(Ae%(1e3*60*60)/(1e3*60));return`${at}${String(pt).padStart(2,"0")}`})()]})]}),_.jsx("div",{className:"text-gray-400 text-xs font-bold ml-5",children:(()=>{const Re=new Date,Ae=Re.toLocaleDateString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\//g,"/"),at=Re.toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit",hour12:!1});return`${Ae} (~${at})`})()})]}),_.jsx("button",{onClick:s,className:"bg-red-600 hover:bg-red-500 text-white font-black text-xs px-4 py-2 rounded-full transition-all active:scale-95",children:""})]}),_.jsxs("div",{className:"text-center mb-4",children:[_.jsxs("div",{className:"flex items-baseline justify-center gap-1 mb-2",children:[_.jsx("span",{className:"text-amber-500 font-black text-4xl",children:""}),_.jsx("span",{className:"text-white font-black text-5xl",children:(o.records||[]).reduce((Ae,at)=>Ae+(at.amount||0),0).toLocaleString()})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-3",children:[_.jsxs("div",{className:"bg-gray-700 p-2 rounded-xl border-2 border-blue-500",children:[_.jsx("div",{className:"text-gray-400 text-xs font-bold mb-1",children:""}),_.jsxs("div",{className:"text-white font-black text-sm",children:["",(()=>{const Re=(o.records||[]).reduce((at,pt)=>at+(pt.amount||0),0);return Math.floor(Re/1.1).toLocaleString()})()]})]}),_.jsxs("div",{className:"bg-red-900/30 p-2 rounded-xl border border-red-500/30",children:[_.jsx("div",{className:"text-gray-400 text-xs font-bold mb-1",children:""}),_.jsx("div",{className:"text-white font-black text-sm",children:(()=>{const Re=ge,Ae=(o.records||[]).reduce((jt,Ct)=>jt+(Ct.amount||0),0);if(!o.plannedHours||o.plannedHours===0)return"0";const at=(Re-o.startTime)/(1e3*60*60),lt=(o.dailyGoal||0)/o.plannedHours*at,Rt=Ae-lt;return Rt>=0?`+${Math.round(Rt).toLocaleString()}`:Math.round(Rt).toLocaleString()})()})]})]})]}),_.jsxs("div",{className:"mb-4",children:[_.jsxs("div",{className:"flex justify-between items-center mb-2",children:[_.jsx("span",{className:"text-white font-black text-sm",children:(()=>{const Re=(o.records||[]).reduce((at,pt)=>at+(pt.amount||0),0),Ae=(o.dailyGoal||0)>0?Re/(o.dailyGoal||1)*100:0;return`${Math.floor(Ae)}% `})()}),_.jsxs("span",{className:"text-gray-400 text-xs font-bold",children:[" ",(o.dailyGoal||0).toLocaleString()]})]}),_.jsx("div",{className:"w-full bg-gray-800 rounded-full h-2",children:_.jsx("div",{className:"bg-amber-500 h-2 rounded-full transition-all",style:{width:`${Math.min(100,(()=>{const Re=(o.records||[]).reduce((Ae,at)=>Ae+(at.amount||0),0);return(o.dailyGoal||0)>0?Re/(o.dailyGoal||1)*100:0})())}%`}})})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[_.jsxs("div",{className:"bg-gray-700 p-3 rounded-xl border-2 border-blue-500",children:[_.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[_.jsx(qc,{className:"w-4 h-4 text-gray-400"}),_.jsx("span",{className:"text-gray-400 text-xs font-bold",children:""})]}),_.jsxs("div",{className:"flex items-baseline gap-1",children:[_.jsx("span",{className:"text-amber-500 font-black text-lg",children:""}),_.jsx("span",{className:"text-white font-black text-xl",children:(()=>{const Re=ge,Ae=(o.records||[]).reduce((pt,lt)=>pt+(lt.amount||0),0),at=(Re-o.startTime)/6e4;return at<=0?"0":Math.floor(Ae/at*60).toLocaleString()})()})]})]}),_.jsxs("div",{className:"bg-gray-700 p-3 rounded-xl border-2 border-blue-500",children:[_.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[_.jsx(G4,{className:"w-4 h-4 text-gray-400"}),_.jsx("span",{className:"text-gray-400 text-xs font-bold",children:""})]}),_.jsxs("div",{className:"text-white font-black text-xl",children:[(o.records||[]).length,""]})]}),_.jsxs("div",{className:"bg-gray-700 p-3 rounded-xl border-2 border-blue-500",children:[_.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[_.jsx(jf,{className:"w-4 h-4 text-gray-400"}),_.jsx("span",{className:"text-gray-400 text-xs font-bold",children:" / "})]}),_.jsxs("div",{className:"flex items-baseline gap-1",children:[_.jsx("span",{className:"text-amber-500 font-black text-lg",children:""}),_.jsx("span",{className:"text-white font-black text-xl",children:(()=>{if(!p.monthlyGoal||!Array.isArray(p.dutyDays))return"0";const Re=p.dutyDays.filter(pt=>{const lt=zt(Date.now(),l);return pt>=lt}).length;if(Re===0)return"0";const Ae=p?$f(p,u||[],o||null).totalSales:0,at=p.monthlyGoal-Ae;return at>0?Math.ceil(at/Re).toLocaleString():"0"})()})]})]}),_.jsxs("div",{className:"bg-gray-700 p-3 rounded-xl border-2 border-blue-500",children:[_.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[_.jsx(Io,{className:"w-4 h-4 text-gray-400"}),_.jsx("span",{className:"text-gray-400 text-xs font-bold",children:""})]}),_.jsxs("div",{className:"flex items-baseline gap-1",children:[_.jsx("span",{className:"text-amber-500 font-black text-lg",children:""}),_.jsx("span",{className:"text-white font-black text-xl",children:(()=>{const Re=(o.records||[]).reduce((at,pt)=>at+(pt.amount||0),0);return Math.max(0,(o.dailyGoal||0)-Re).toLocaleString()})()})]})]})]})]})]})})})},Bj=({shift:r,customLabels:t,enabledMethods:e,businessStartHour:n,onConfirm:s,onClose:i})=>{const[a,l]=_e.useState("input"),[c,o]=_e.useState(""),[u,p]=_e.useState(!1),h=r.startOdo||0,d=c?Number(c):0,x=d>h?d-h:0,b=()=>{c?l("confirm"):p(!0)},g=()=>{p(!1),l("confirm")},v=()=>{p(!1)},y=()=>{s(c!==""?Number(c):void 0)};return _.jsx(ri,{onClose:i,children:_.jsxs("div",{className:"space-y-6 pb-6 relative",children:[u&&_.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-sm rounded-[32px] animate-in fade-in duration-200 p-4",children:_.jsxs("div",{className:"w-full space-y-6 text-center",children:[_.jsx("div",{className:"bg-amber-500/10 p-4 rounded-full w-20 h-20 mx-auto flex items-center justify-center shadow-[0_0_20px_rgba(245,158,11,0.2)]",children:_.jsx(ru,{className:"w-10 h-10 text-amber-500"})}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-xl font-black text-white mb-2",children:""}),_.jsxs("p",{className:"text-gray-300 font-bold leading-relaxed",children:["ODO",_.jsx("br",{}),""]})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[_.jsx("button",{onClick:v,className:"bg-gray-800 text-gray-300 py-4 rounded-2xl font-black text-lg shadow-lg active:scale-95 transition-transform border border-gray-700",children:""}),_.jsx("button",{onClick:g,className:"bg-amber-500 text-black py-4 rounded-2xl font-black text-lg shadow-xl active:scale-95 transition-transform",children:""})]})]})}),a==="input"&&_.jsxs("div",{className:"space-y-8 animate-in slide-in-from-right-4 duration-300",children:[_.jsxs("div",{className:"text-center space-y-2",children:[_.jsxs("h3",{className:"text-2xl font-black text-white flex items-center justify-center gap-2",children:[_.jsx(jo,{className:"w-8 h-8 text-amber-500"})," "]}),_.jsx("p",{className:"text-sm font-bold text-gray-500",children:""})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("p",{className:"text-xs font-black text-gray-500 uppercase tracking-widest text-left pl-1",children:""}),_.jsxs("div",{className:"flex items-center bg-gray-950 rounded-2xl p-5 border-2 border-gray-700 focus-within:border-amber-500 transition-all shadow-inner",children:[_.jsx(jo,{className:"text-gray-500 w-8 h-8 mr-3"}),_.jsx("input",{type:"number",inputMode:"numeric",value:c,onChange:T=>o(T.target.value),placeholder:"ODO",className:"bg-transparent text-white text-[clamp(1.5rem,8vw,2.5rem)] font-black w-full outline-none text-center placeholder-gray-700",autoFocus:!0}),_.jsx("span",{className:"text-gray-500 font-bold ml-2",children:"km"})]}),h>0&&_.jsxs("p",{className:"text-right text-xs font-bold text-gray-600 px-1",children:[": ",h.toLocaleString()," km"]})]}),_.jsxs("div",{className:"flex flex-col gap-3 pt-4",children:[_.jsx("button",{onClick:b,className:"w-full bg-amber-500 text-black py-5 rounded-2xl font-black text-2xl shadow-xl active:scale-95 transition-transform",children:""}),_.jsx("button",{onClick:i,className:"w-full py-4 text-lg font-bold text-gray-500 uppercase active:scale-95 tracking-widest",children:""})]})]}),a==="confirm"&&_.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4 duration-300",children:[_.jsxs("div",{className:"text-center space-y-2",children:[_.jsx("h3",{className:"text-2xl font-black text-white",children:""}),_.jsx("p",{className:"text-sm font-bold text-gray-500",children:""})]}),_.jsxs("div",{className:"bg-gray-900/30 rounded-3xl p-2 border border-gray-800",children:[_.jsx(R6,{records:r.records,customLabels:t,startTime:r.startTime,endTime:Date.now(),totalRestMinutes:r.totalRestMinutes,enabledMethods:e,startOdo:h,endOdo:d>0?d:void 0}),_.jsxs("div",{className:"mt-2 grid grid-cols-3 gap-2 px-1 pb-1",children:[_.jsxs("div",{className:"bg-gray-900/50 p-2 rounded-xl text-center border border-gray-800",children:[_.jsx("span",{className:"text-[12px] text-gray-500 font-bold uppercase block",children:"ODO"}),_.jsx("span",{className:"text-lg font-black text-white",children:h.toLocaleString()})]}),_.jsxs("div",{className:"bg-gray-900/50 p-2 rounded-xl text-center border border-gray-800",children:[_.jsx("span",{className:"text-[12px] text-gray-500 font-bold uppercase block",children:"ODO"}),_.jsx("span",{className:`text-lg font-black ${c?"text-amber-500":"text-gray-600"}`,children:c?Number(c).toLocaleString():"---"})]}),_.jsxs("div",{className:"bg-gray-900/50 p-2 rounded-xl text-center border border-gray-800",children:[_.jsx("span",{className:"text-[12px] text-gray-500 font-bold uppercase block",children:""}),_.jsxs("span",{className:"text-lg font-black text-blue-400",children:[x.toLocaleString()," ",_.jsx("span",{className:"text-xs text-gray-500",children:"km"})]})]})]})]}),_.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[_.jsxs("button",{onClick:y,className:"w-full bg-gradient-to-r from-red-600 to-red-500 text-white py-5 rounded-2xl font-black text-2xl shadow-xl active:scale-95 transition-transform flex items-center justify-center gap-3 border border-red-400/30",children:[_.jsx(W0,{className:"w-8 h-8"})," "]}),_.jsx("button",{onClick:()=>l("input"),className:"w-full py-4 text-lg font-bold text-gray-500 uppercase active:scale-95 tracking-widest",children:""})]})]})]})})},Uj=({shift:r,onClose:t,onSave:e})=>{const[n,s]=_e.useState(()=>{const p=new Date(r.startTime),h=p.getTimezoneOffset()*6e4;return new Date(p.getTime()-h).toISOString().split("T")[0]}),[i,a]=_e.useState(()=>new Date(r.startTime).toTimeString().slice(0,5)),[l,c]=_e.useState(r.plannedHours),o=()=>{const[p,h,d]=n.split("-").map(Number),[x,b]=i.split(":").map(Number),g=new Date(p,h-1,d,x,b).getTime();e(g,l),t()},u=Array.from({length:21},(p,h)=>h+4);return _.jsx(ri,{onClose:t,children:_.jsxs("div",{className:"space-y-6 pb-6",children:[_.jsx("h3",{className:"text-2xl font-black text-white text-center",children:""}),_.jsxs("div",{className:"bg-gray-900/50 p-5 rounded-3xl border border-gray-800 space-y-5",children:[_.jsxs("div",{children:[_.jsxs("label",{className:"text-sm font-bold text-gray-400 mb-2 block uppercase tracking-widest flex items-center gap-2",children:[_.jsx(qc,{className:"w-4 h-4"})," "]}),_.jsxs("div",{className:"flex gap-3",children:[_.jsx("input",{type:"date",value:n,onChange:p=>s(p.target.value),className:"flex-1 bg-gray-800 border border-gray-700 rounded-xl p-3 text-white font-black outline-none focus:border-amber-500"}),_.jsx("input",{type:"time",value:i,onChange:p=>a(p.target.value),className:"w-28 bg-gray-800 border border-gray-700 rounded-xl p-3 text-white font-black outline-none focus:border-amber-500"})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-sm font-bold text-gray-400 mb-2 block uppercase tracking-widest",children:""}),_.jsxs("div",{className:"relative",children:[_.jsx("select",{value:l,onChange:p=>c(parseInt(p.target.value)),className:"w-full bg-gray-800 border border-gray-700 rounded-xl p-3 text-white text-lg font-black appearance-none focus:border-amber-500 outline-none",children:u.map(p=>_.jsxs("option",{value:p,children:[p," "]},p))}),_.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-500",children:_.jsx(Zs,{className:"w-5 h-5"})})]})]})]}),_.jsx("button",{onClick:o,className:"w-full bg-amber-500 text-black py-4 rounded-2xl font-black text-2xl shadow-xl active:scale-95 transition-transform",children:""})]})})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var M6=1252,Vj=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],zb={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},Hb=function(r){Vj.indexOf(r)!=-1&&(M6=zb[0]=r)};function zj(){Hb(1252)}var Fa=function(r){Hb(r)};function j6(){Fa(1200),zj()}function D_(r){for(var t=[],e=0,n=r.length;e<n;++e)t[e]=r.charCodeAt(e);return t}function Hj(r){for(var t=[],e=0;e<r.length>>1;++e)t[e]=String.fromCharCode(r.charCodeAt(2*e)+(r.charCodeAt(2*e+1)<<8));return t.join("")}function I6(r){for(var t=[],e=0;e<r.length>>1;++e)t[e]=String.fromCharCode(r.charCodeAt(2*e+1)+(r.charCodeAt(2*e)<<8));return t.join("")}var ff=function(r){var t=r.charCodeAt(0),e=r.charCodeAt(1);return t==255&&e==254?Hj(r.slice(2)):t==254&&e==255?I6(r.slice(2)):t==65279?r.slice(1):r},Hd=function(t){return String.fromCharCode(t)},O_=function(t){return String.fromCharCode(t)},Gf,Ro="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function F_(r){for(var t="",e=0,n=0,s=0,i=0,a=0,l=0,c=0,o=0;o<r.length;)e=r.charCodeAt(o++),i=e>>2,n=r.charCodeAt(o++),a=(e&3)<<4|n>>4,s=r.charCodeAt(o++),l=(n&15)<<2|s>>6,c=s&63,isNaN(n)?l=c=64:isNaN(s)&&(c=64),t+=Ro.charAt(i)+Ro.charAt(a)+Ro.charAt(l)+Ro.charAt(c);return t}function ea(r){var t="",e=0,n=0,s=0,i=0,a=0,l=0,c=0;r=r.replace(/[^\w\+\/\=]/g,"");for(var o=0;o<r.length;)i=Ro.indexOf(r.charAt(o++)),a=Ro.indexOf(r.charAt(o++)),e=i<<2|a>>4,t+=String.fromCharCode(e),l=Ro.indexOf(r.charAt(o++)),n=(a&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),c=Ro.indexOf(r.charAt(o++)),s=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(s));return t}var Er=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Hl=(function(){if(typeof Buffer<"u"){var r=!Buffer.from;if(!r)try{Buffer.from("foo","utf8")}catch{r=!0}return r?function(t,e){return e?new Buffer(t,e):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function Xo(r){return Er?Buffer.alloc?Buffer.alloc(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}function P_(r){return Er?Buffer.allocUnsafe?Buffer.allocUnsafe(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}var Da=function(t){return Er?Hl(t,"binary"):t.split("").map(function(e){return e.charCodeAt(0)&255})};function $l(r){if(Array.isArray(r))return r.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],e=0;e<r.length;++e)t[e]=String.fromCharCode(r[e]);return t.join("")}function $b(r){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(r instanceof ArrayBuffer)return $b(new Uint8Array(r));for(var t=new Array(r.length),e=0;e<r.length;++e)t[e]=r[e];return t}var Co=Er?function(r){return Buffer.concat(r.map(function(t){return Buffer.isBuffer(t)?t:Hl(t)}))}:function(r){if(typeof Uint8Array<"u"){var t=0,e=0;for(t=0;t<r.length;++t)e+=r[t].length;var n=new Uint8Array(e),s=0;for(t=0,e=0;t<r.length;e+=s,++t)if(s=r[t].length,r[t]instanceof Uint8Array)n.set(r[t],e);else{if(typeof r[t]=="string")throw"wtf";n.set(new Uint8Array(r[t]),e)}return n}return[].concat.apply([],r.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function $j(r){for(var t=[],e=0,n=r.length+250,s=Xo(r.length+255),i=0;i<r.length;++i){var a=r.charCodeAt(i);if(a<128)s[e++]=a;else if(a<2048)s[e++]=192|a>>6&31,s[e++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var l=r.charCodeAt(++i)&1023;s[e++]=240|a>>8&7,s[e++]=128|a>>2&63,s[e++]=128|l>>6&15|(a&3)<<4,s[e++]=128|l&63}else s[e++]=224|a>>12&15,s[e++]=128|a>>6&63,s[e++]=128|a&63;e>n&&(t.push(s.slice(0,e)),e=0,s=Xo(65535),n=65530)}return t.push(s.slice(0,e)),Co(t)}var Ss=/\u0000/g,hf=/[\u0001-\u0006]/g;function zc(r){for(var t="",e=r.length-1;e>=0;)t+=r.charAt(e--);return t}function Pa(r,t){var e=""+r;return e.length>=t?e:on("0",t-e.length)+e}function qb(r,t){var e=""+r;return e.length>=t?e:on(" ",t-e.length)+e}function F0(r,t){var e=""+r;return e.length>=t?e:e+on(" ",t-e.length)}function qj(r,t){var e=""+Math.round(r);return e.length>=t?e:on("0",t-e.length)+e}function Gj(r,t){var e=""+r;return e.length>=t?e:on("0",t-e.length)+e}var L_=Math.pow(2,32);function Nc(r,t){if(r>L_||r<-L_)return qj(r,t);var e=Math.round(r);return Gj(e,t)}function P0(r,t){return t=t||0,r.length>=7+t&&(r.charCodeAt(t)|32)===103&&(r.charCodeAt(t+1)|32)===101&&(r.charCodeAt(t+2)|32)===110&&(r.charCodeAt(t+3)|32)===101&&(r.charCodeAt(t+4)|32)===114&&(r.charCodeAt(t+5)|32)===97&&(r.charCodeAt(t+6)|32)===108}var B_=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Pg=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Wj(r){return r||(r={}),r[0]="General",r[1]="0",r[2]="0.00",r[3]="#,##0",r[4]="#,##0.00",r[9]="0%",r[10]="0.00%",r[11]="0.00E+00",r[12]="# ?/?",r[13]="# ??/??",r[14]="m/d/yy",r[15]="d-mmm-yy",r[16]="d-mmm",r[17]="mmm-yy",r[18]="h:mm AM/PM",r[19]="h:mm:ss AM/PM",r[20]="h:mm",r[21]="h:mm:ss",r[22]="m/d/yy h:mm",r[37]="#,##0 ;(#,##0)",r[38]="#,##0 ;[Red](#,##0)",r[39]="#,##0.00;(#,##0.00)",r[40]="#,##0.00;[Red](#,##0.00)",r[45]="mm:ss",r[46]="[h]:mm:ss",r[47]="mmss.0",r[48]="##0.0E+0",r[49]="@",r[56]='"/ "hh""mm""ss" "',r}var ur={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},U_={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Xj={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function L0(r,t,e){for(var n=r<0?-1:1,s=r*n,i=0,a=1,l=0,c=1,o=0,u=0,p=Math.floor(s);o<t&&(p=Math.floor(s),l=p*a+i,u=p*o+c,!(s-p<5e-8));)s=1/(s-p),i=a,a=l,c=o,o=u;if(u>t&&(o>t?(u=c,l=i):(u=o,l=a)),!e)return[0,n*l,u];var h=Math.floor(n*l/u);return[h,n*l-h*u,u]}function El(r,t,e){if(r>2958465||r<0)return null;var n=r|0,s=Math.floor(86400*(r-n)),i=0,a=[],l={D:n,T:s,u:86400*(r-n)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++s==86400&&(l.T=s=0,++n,++l.D)),n===60)a=e?[1317,10,29]:[1900,2,29],i=3;else if(n===0)a=e?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),a=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),n<60&&(i=(i+6)%7),e&&(i=eI(c,a))}return l.y=a[0],l.m=a[1],l.d=a[2],l.S=s%60,s=Math.floor(s/60),l.M=s%60,s=Math.floor(s/60),l.H=s,l.q=i,l}var D6=new Date(1899,11,31,0,0,0),Yj=D6.getTime(),Kj=new Date(1900,2,1,0,0,0);function O6(r,t){var e=r.getTime();return t?e-=1461*24*60*60*1e3:r>=Kj&&(e+=1440*60*1e3),(e-(Yj+(r.getTimezoneOffset()-D6.getTimezoneOffset())*6e4))/(1440*60*1e3)}function Gb(r){return r.indexOf(".")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Qj(r){return r.indexOf("E")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Zj(r){var t=r<0?12:11,e=Gb(r.toFixed(12));return e.length<=t||(e=r.toPrecision(10),e.length<=t)?e:r.toExponential(5)}function Jj(r){var t=Gb(r.toFixed(11));return t.length>(r<0?12:11)||t==="0"||t==="-0"?r.toPrecision(6):t}function Wf(r){var t=Math.floor(Math.log(Math.abs(r))*Math.LOG10E),e;return t>=-4&&t<=-1?e=r.toPrecision(10+t):Math.abs(t)<=9?e=Zj(r):t===10?e=r.toFixed(10).substr(0,12):e=Jj(r),Gb(Qj(e.toUpperCase()))}function Ll(r,t){switch(typeof r){case"string":return r;case"boolean":return r?"TRUE":"FALSE";case"number":return(r|0)===r?r.toString(10):Wf(r);case"undefined":return"";case"object":if(r==null)return"";if(r instanceof Date)return ya(14,O6(r,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+r)}function eI(r,t){t[0]-=581;var e=r.getDay();return r<60&&(e=(e+6)%7),e}function tI(r,t,e,n){var s="",i=0,a=0,l=e.y,c,o=0;switch(r){case 98:l=e.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,o=2;break;default:c=l%1e4,o=4;break}break;case 109:switch(t.length){case 1:case 2:c=e.m,o=t.length;break;case 3:return Pg[e.m-1][1];case 5:return Pg[e.m-1][0];default:return Pg[e.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=e.d,o=t.length;break;case 3:return B_[e.q][0];default:return B_[e.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(e.H+11)%12,o=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=e.H,o=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=e.M,o=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return e.u===0&&(t=="s"||t=="ss")?Pa(e.S,t.length):(n>=2?a=n===3?1e3:100:a=n===1?10:1,i=Math.round(a*(e.S+e.u)),i>=60*a&&(i=0),t==="s"?i===0?"0":""+i/a:(s=Pa(i,2+n),t==="ss"?s.substr(0,2):"."+s.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=e.D*24+e.H;break;case"[m]":case"[mm]":c=(e.D*24+e.H)*60+e.M;break;case"[s]":case"[ss]":c=((e.D*24+e.H)*60+e.M)*60+Math.round(e.S+e.u);break;default:throw"bad abstime format: "+t}o=t.length===3?1:2;break;case 101:c=l,o=1;break}var u=o>0?Pa(c,o):"";return u}function Mo(r){var t=3;if(r.length<=t)return r;for(var e=r.length%t,n=r.substr(0,e);e!=r.length;e+=t)n+=(n.length>0?",":"")+r.substr(e,t);return n}var F6=/%/g;function rI(r,t,e){var n=t.replace(F6,""),s=t.length-n.length;return Bi(r,n,e*Math.pow(10,2*s))+on("%",s)}function nI(r,t,e){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Bi(r,t.substr(0,n),e/Math.pow(10,3*(t.length-n)))}function P6(r,t){var e,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+P6(r,-t);var s=r.indexOf(".");s===-1&&(s=r.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%s;if(i<0&&(i+=s),e=(t/Math.pow(10,i)).toPrecision(n+1+(s+i)%s),e.indexOf("e")===-1){var a=Math.floor(Math.log(t)*Math.LOG10E);for(e.indexOf(".")===-1?e=e.charAt(0)+"."+e.substr(1)+"E+"+(a-e.length+i):e+="E+"+(a-i);e.substr(0,2)==="0.";)e=e.charAt(0)+e.substr(2,s)+"."+e.substr(2+s),e=e.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");e=e.replace(/\+-/,"-")}e=e.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,o,u){return c+o+u.substr(0,(s+i)%s)+"."+u.substr(i)+"E"})}else e=t.toExponential(n);return r.match(/E\+00$/)&&e.match(/e[+-]\d$/)&&(e=e.substr(0,e.length-1)+"0"+e.charAt(e.length-1)),r.match(/E\-/)&&e.match(/e\+/)&&(e=e.replace(/e\+/,"e")),e.replace("e","E")}var L6=/# (\?+)( ?)\/( ?)(\d+)/;function sI(r,t,e){var n=parseInt(r[4],10),s=Math.round(t*n),i=Math.floor(s/n),a=s-i*n,l=n;return e+(i===0?"":""+i)+" "+(a===0?on(" ",r[1].length+1+r[4].length):qb(a,r[1].length)+r[2]+"/"+r[3]+Pa(l,r[4].length))}function aI(r,t,e){return e+(t===0?"":""+t)+on(" ",r[1].length+2+r[4].length)}var B6=/^#*0*\.([0#]+)/,U6=/\).*[0#]/,V6=/\(###\) ###\\?-####/;function vs(r){for(var t="",e,n=0;n!=r.length;++n)switch(e=r.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(e)}return t}function V_(r,t){var e=Math.pow(10,t);return""+Math.round(r*e)/e}function z_(r,t){var e=r-Math.floor(r),n=Math.pow(10,t);return t<(""+Math.round(e*n)).length?0:Math.round(e*n)}function iI(r,t){return t<(""+Math.round((r-Math.floor(r))*Math.pow(10,t))).length?1:0}function oI(r){return r<2147483647&&r>-2147483648?""+(r>=0?r|0:r-1|0):""+Math.floor(r)}function da(r,t,e){if(r.charCodeAt(0)===40&&!t.match(U6)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return e>=0?da("n",n,e):"("+da("n",n,-e)+")"}if(t.charCodeAt(t.length-1)===44)return nI(r,t,e);if(t.indexOf("%")!==-1)return rI(r,t,e);if(t.indexOf("E")!==-1)return P6(t,e);if(t.charCodeAt(0)===36)return"$"+da(r,t.substr(t.charAt(1)==" "?2:1),e);var s,i,a,l,c=Math.abs(e),o=e<0?"-":"";if(t.match(/^00+$/))return o+Nc(c,t.length);if(t.match(/^[#?]+$/))return s=Nc(e,0),s==="0"&&(s=""),s.length>t.length?s:vs(t.substr(0,t.length-s.length))+s;if(i=t.match(L6))return sI(i,c,o);if(t.match(/^#+0+$/))return o+Nc(c,t.length-t.indexOf("0"));if(i=t.match(B6))return s=V_(e,i[1].length).replace(/^([^\.]+)$/,"$1."+vs(i[1])).replace(/\.$/,"."+vs(i[1])).replace(/\.(\d*)$/,function(x,b){return"."+b+on("0",vs(i[1]).length-b.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return o+V_(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return o+Mo(Nc(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return e<0?"-"+da(r,t,-e):Mo(""+(Math.floor(e)+iI(e,i[1].length)))+"."+Pa(z_(e,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return da(r,t.replace(/^#,#*,/,""),e);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=zc(da(r,t.replace(/[\\-]/g,""),e)),a=0,zc(zc(t.replace(/\\/g,"")).replace(/[0#]/g,function(x){return a<s.length?s.charAt(a++):x==="0"?"0":""}));if(t.match(V6))return s=da(r,"##########",e),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(i[4].length,7),l=L0(c,Math.pow(10,a)-1,!1),s=""+o,u=Bi("n",i[1],l[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),s+=u+i[2]+"/"+i[3],u=F0(l[2],a),u.length<i[4].length&&(u=vs(i[4].substr(i[4].length-u.length))+u),s+=u,s;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(i[1].length,i[4].length),7),l=L0(c,Math.pow(10,a)-1,!0),o+(l[0]||(l[1]?"":"0"))+" "+(l[1]?qb(l[1],a)+i[2]+"/"+i[3]+F0(l[2],a):on(" ",2*a+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return s=Nc(e,0),t.length<=s.length?s:vs(t.substr(0,t.length-s.length))+s;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){s=""+e.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),a=s.indexOf(".");var p=t.indexOf(".")-a,h=t.length-s.length-p;return vs(t.substr(0,p)+s+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return a=z_(e,i[1].length),e<0?"-"+da(r,t,-e):Mo(oI(e)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?Pa(0,3-x.length):"")+x})+"."+Pa(a,i[1].length);switch(t){case"###,##0.00":return da(r,"#,##0.00",e);case"###,###":case"##,###":case"#,###":var d=Mo(Nc(c,0));return d!=="0"?o+d:"";case"###,###.00":return da(r,"###,##0.00",e).replace(/^0\./,".");case"#,###.00":return da(r,"#,##0.00",e).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function lI(r,t,e){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Bi(r,t.substr(0,n),e/Math.pow(10,3*(t.length-n)))}function cI(r,t,e){var n=t.replace(F6,""),s=t.length-n.length;return Bi(r,n,e*Math.pow(10,2*s))+on("%",s)}function z6(r,t){var e,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+z6(r,-t);var s=r.indexOf(".");s===-1&&(s=r.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%s;if(i<0&&(i+=s),e=(t/Math.pow(10,i)).toPrecision(n+1+(s+i)%s),!e.match(/[Ee]/)){var a=Math.floor(Math.log(t)*Math.LOG10E);e.indexOf(".")===-1?e=e.charAt(0)+"."+e.substr(1)+"E+"+(a-e.length+i):e+="E+"+(a-i),e=e.replace(/\+-/,"-")}e=e.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,o,u){return c+o+u.substr(0,(s+i)%s)+"."+u.substr(i)+"E"})}else e=t.toExponential(n);return r.match(/E\+00$/)&&e.match(/e[+-]\d$/)&&(e=e.substr(0,e.length-1)+"0"+e.charAt(e.length-1)),r.match(/E\-/)&&e.match(/e\+/)&&(e=e.replace(/e\+/,"e")),e.replace("e","E")}function ei(r,t,e){if(r.charCodeAt(0)===40&&!t.match(U6)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return e>=0?ei("n",n,e):"("+ei("n",n,-e)+")"}if(t.charCodeAt(t.length-1)===44)return lI(r,t,e);if(t.indexOf("%")!==-1)return cI(r,t,e);if(t.indexOf("E")!==-1)return z6(t,e);if(t.charCodeAt(0)===36)return"$"+ei(r,t.substr(t.charAt(1)==" "?2:1),e);var s,i,a,l,c=Math.abs(e),o=e<0?"-":"";if(t.match(/^00+$/))return o+Pa(c,t.length);if(t.match(/^[#?]+$/))return s=""+e,e===0&&(s=""),s.length>t.length?s:vs(t.substr(0,t.length-s.length))+s;if(i=t.match(L6))return aI(i,c,o);if(t.match(/^#+0+$/))return o+Pa(c,t.length-t.indexOf("0"));if(i=t.match(B6))return s=(""+e).replace(/^([^\.]+)$/,"$1."+vs(i[1])).replace(/\.$/,"."+vs(i[1])),s=s.replace(/\.(\d*)$/,function(x,b){return"."+b+on("0",vs(i[1]).length-b.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return o+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return o+Mo(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return e<0?"-"+ei(r,t,-e):Mo(""+e)+"."+on("0",i[1].length);if(i=t.match(/^#,#*,#0/))return ei(r,t.replace(/^#,#*,/,""),e);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=zc(ei(r,t.replace(/[\\-]/g,""),e)),a=0,zc(zc(t.replace(/\\/g,"")).replace(/[0#]/g,function(x){return a<s.length?s.charAt(a++):x==="0"?"0":""}));if(t.match(V6))return s=ei(r,"##########",e),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(i[4].length,7),l=L0(c,Math.pow(10,a)-1,!1),s=""+o,u=Bi("n",i[1],l[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),s+=u+i[2]+"/"+i[3],u=F0(l[2],a),u.length<i[4].length&&(u=vs(i[4].substr(i[4].length-u.length))+u),s+=u,s;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(i[1].length,i[4].length),7),l=L0(c,Math.pow(10,a)-1,!0),o+(l[0]||(l[1]?"":"0"))+" "+(l[1]?qb(l[1],a)+i[2]+"/"+i[3]+F0(l[2],a):on(" ",2*a+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return s=""+e,t.length<=s.length?s:vs(t.substr(0,t.length-s.length))+s;if(i=t.match(/^([#0]+)\.([#0]+)$/)){s=""+e.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),a=s.indexOf(".");var p=t.indexOf(".")-a,h=t.length-s.length-p;return vs(t.substr(0,p)+s+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return e<0?"-"+ei(r,t,-e):Mo(""+e).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?Pa(0,3-x.length):"")+x})+"."+Pa(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var d=Mo(""+c);return d!=="0"?o+d:"";default:if(t.match(/\.[0#?]*$/))return ei(r,t.slice(0,t.lastIndexOf(".")),e)+vs(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Bi(r,t,e){return(e|0)===e?ei(r,t,e):da(r,t,e)}function uI(r){for(var t=[],e=!1,n=0,s=0;n<r.length;++n)switch(r.charCodeAt(n)){case 34:e=!e;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=r.substr(s,n-s),s=n+1}if(t[t.length]=r.substr(s),e===!0)throw new Error("Format |"+r+"| unterminated string ");return t}var H6=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function hu(r){for(var t=0,e="",n="";t<r.length;)switch(e=r.charAt(t)){case"G":P0(r,t)&&(t+=6),t++;break;case'"':for(;r.charCodeAt(++t)!==34&&t<r.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(r.charAt(t+1)==="1"||r.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(r.substr(t,3).toUpperCase()==="A/P"||r.substr(t,5).toUpperCase()==="AM/PM"||r.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=e;r.charAt(t++)!=="]"&&t<r.length;)n+=r.charAt(t);if(n.match(H6))return!0;break;case".":case"0":case"#":for(;t<r.length&&("0#?.,E+-%".indexOf(e=r.charAt(++t))>-1||e=="\\"&&r.charAt(t+1)=="-"&&"0#".indexOf(r.charAt(t+2))>-1););break;case"?":for(;r.charAt(++t)===e;);break;case"*":++t,(r.charAt(t)==" "||r.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<r.length&&"0123456789".indexOf(r.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function fI(r,t,e,n){for(var s=[],i="",a=0,l="",c="t",o,u,p,h="H";a<r.length;)switch(l=r.charAt(a)){case"G":if(!P0(r,a))throw new Error("unrecognized character "+l+" in "+r);s[s.length]={t:"G",v:"General"},a+=7;break;case'"':for(i="";(p=r.charCodeAt(++a))!==34&&a<r.length;)i+=String.fromCharCode(p);s[s.length]={t:"t",v:i},++a;break;case"\\":var d=r.charAt(++a),x=d==="("||d===")"?d:"t";s[s.length]={t:x,v:d},++a;break;case"_":s[s.length]={t:"t",v:" "},a+=2;break;case"@":s[s.length]={t:"T",v:t},++a;break;case"B":case"b":if(r.charAt(a+1)==="1"||r.charAt(a+1)==="2"){if(o==null&&(o=El(t,e,r.charAt(a+1)==="2"),o==null))return"";s[s.length]={t:"X",v:r.substr(a,2)},c=l,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||o==null&&(o=El(t,e),o==null))return"";for(i=l;++a<r.length&&r.charAt(a).toLowerCase()===l;)i+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=h),s[s.length]={t:l,v:i},c=l;break;case"A":case"a":case"":var b={t:l,v:l};if(o==null&&(o=El(t,e)),r.substr(a,3).toUpperCase()==="A/P"?(o!=null&&(b.v=o.H>=12?"P":"A"),b.t="T",h="h",a+=3):r.substr(a,5).toUpperCase()==="AM/PM"?(o!=null&&(b.v=o.H>=12?"PM":"AM"),b.t="T",a+=5,h="h"):r.substr(a,5).toUpperCase()==="/"?(o!=null&&(b.v=o.H>=12?"":""),b.t="T",a+=5,h="h"):(b.t="t",++a),o==null&&b.t==="T")return"";s[s.length]=b,c=l;break;case"[":for(i=l;r.charAt(a++)!=="]"&&a<r.length;)i+=r.charAt(a);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(H6)){if(o==null&&(o=El(t,e),o==null))return"";s[s.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",hu(r)||(s[s.length]={t:"t",v:i}));break;case".":if(o!=null){for(i=l;++a<r.length&&(l=r.charAt(a))==="0";)i+=l;s[s.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++a<r.length&&"0#?.,E+-%".indexOf(l=r.charAt(a))>-1;)i+=l;s[s.length]={t:"n",v:i};break;case"?":for(i=l;r.charAt(++a)===l;)i+=l;s[s.length]={t:l,v:i},c=l;break;case"*":++a,(r.charAt(a)==" "||r.charAt(a)=="*")&&++a;break;case"(":case")":s[s.length]={t:n===1?"t":l,v:l},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;a<r.length&&"0123456789".indexOf(r.charAt(++a))>-1;)i+=r.charAt(a);s[s.length]={t:"D",v:i};break;case" ":s[s.length]={t:l,v:l},++a;break;case"$":s[s.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+r);s[s.length]={t:"t",v:l},++a;break}var g=0,v=0,y;for(a=s.length-1,c="t";a>=0;--a)switch(s[a].t){case"h":case"H":s[a].t=h,c="h",g<1&&(g=1);break;case"s":(y=s[a].v.match(/\.0+$/))&&(v=Math.max(v,y[0].length-1)),g<3&&(g=3);case"d":case"y":case"M":case"e":c=s[a].t;break;case"m":c==="s"&&(s[a].t="M",g<2&&(g=2));break;case"X":break;case"Z":g<1&&s[a].v.match(/[Hh]/)&&(g=1),g<2&&s[a].v.match(/[Mm]/)&&(g=2),g<3&&s[a].v.match(/[Ss]/)&&(g=3)}switch(g){case 0:break;case 1:o.u>=.5&&(o.u=0,++o.S),o.S>=60&&(o.S=0,++o.M),o.M>=60&&(o.M=0,++o.H);break;case 2:o.u>=.5&&(o.u=0,++o.S),o.S>=60&&(o.S=0,++o.M);break}var T="",R;for(a=0;a<s.length;++a)switch(s[a].t){case"t":case"T":case" ":case"D":break;case"X":s[a].v="",s[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[a].v=tI(s[a].t.charCodeAt(0),s[a].v,o,v),s[a].t="t";break;case"n":case"?":for(R=a+1;s[R]!=null&&((l=s[R].t)==="?"||l==="D"||(l===" "||l==="t")&&s[R+1]!=null&&(s[R+1].t==="?"||s[R+1].t==="t"&&s[R+1].v==="/")||s[a].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(s[R].v==="/"||s[R].v===" "&&s[R+1]!=null&&s[R+1].t=="?"));)s[a].v+=s[R].v,s[R]={v:"",t:";"},++R;T+=s[a].v,a=R-1;break;case"G":s[a].t="t",s[a].v=Ll(t,e);break}var P="",H,L;if(T.length>0){T.charCodeAt(0)==40?(H=t<0&&T.charCodeAt(0)===45?-t:t,L=Bi("n",T,H)):(H=t<0&&n>1?-t:t,L=Bi("n",T,H),H<0&&s[0]&&s[0].t=="t"&&(L=L.substr(1),s[0].v="-"+s[0].v)),R=L.length-1;var I=s.length;for(a=0;a<s.length;++a)if(s[a]!=null&&s[a].t!="t"&&s[a].v.indexOf(".")>-1){I=a;break}var O=s.length;if(I===s.length&&L.indexOf("E")===-1){for(a=s.length-1;a>=0;--a)s[a]==null||"n?".indexOf(s[a].t)===-1||(R>=s[a].v.length-1?(R-=s[a].v.length,s[a].v=L.substr(R+1,s[a].v.length)):R<0?s[a].v="":(s[a].v=L.substr(0,R+1),R=-1),s[a].t="t",O=a);R>=0&&O<s.length&&(s[O].v=L.substr(0,R+1)+s[O].v)}else if(I!==s.length&&L.indexOf("E")===-1){for(R=L.indexOf(".")-1,a=I;a>=0;--a)if(!(s[a]==null||"n?".indexOf(s[a].t)===-1)){for(u=s[a].v.indexOf(".")>-1&&a===I?s[a].v.indexOf(".")-1:s[a].v.length-1,P=s[a].v.substr(u+1);u>=0;--u)R>=0&&(s[a].v.charAt(u)==="0"||s[a].v.charAt(u)==="#")&&(P=L.charAt(R--)+P);s[a].v=P,s[a].t="t",O=a}for(R>=0&&O<s.length&&(s[O].v=L.substr(0,R+1)+s[O].v),R=L.indexOf(".")+1,a=I;a<s.length;++a)if(!(s[a]==null||"n?(".indexOf(s[a].t)===-1&&a!==I)){for(u=s[a].v.indexOf(".")>-1&&a===I?s[a].v.indexOf(".")+1:0,P=s[a].v.substr(0,u);u<s[a].v.length;++u)R<L.length&&(P+=L.charAt(R++));s[a].v=P,s[a].t="t",O=a}}}for(a=0;a<s.length;++a)s[a]!=null&&"n?".indexOf(s[a].t)>-1&&(H=n>1&&t<0&&a>0&&s[a-1].v==="-"?-t:t,s[a].v=Bi(s[a].t,s[a].v,H),s[a].t="t");var F="";for(a=0;a!==s.length;++a)s[a]!=null&&(F+=s[a].v);return F}var H_=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function $_(r,t){if(t==null)return!1;var e=parseFloat(t[2]);switch(t[1]){case"=":if(r==e)return!0;break;case">":if(r>e)return!0;break;case"<":if(r<e)return!0;break;case"<>":if(r!=e)return!0;break;case">=":if(r>=e)return!0;break;case"<=":if(r<=e)return!0;break}return!1}function hI(r,t){var e=uI(r),n=e.length,s=e[n-1].indexOf("@");if(n<4&&s>-1&&--n,e.length>4)throw new Error("cannot find right format for |"+e.join("|")+"|");if(typeof t!="number")return[4,e.length===4||s>-1?e[e.length-1]:"@"];switch(e.length){case 1:e=s>-1?["General","General","General",e[0]]:[e[0],e[0],e[0],"@"];break;case 2:e=s>-1?[e[0],e[0],e[0],e[1]]:[e[0],e[1],e[0],"@"];break;case 3:e=s>-1?[e[0],e[1],e[0],e[2]]:[e[0],e[1],e[2],"@"];break}var i=t>0?e[0]:t<0?e[1]:e[2];if(e[0].indexOf("[")===-1&&e[1].indexOf("[")===-1)return[n,i];if(e[0].match(/\[[=<>]/)!=null||e[1].match(/\[[=<>]/)!=null){var a=e[0].match(H_),l=e[1].match(H_);return $_(t,a)?[n,e[0]]:$_(t,l)?[n,e[1]]:[n,e[a!=null&&l!=null?2:1]]}return[n,i]}function ya(r,t,e){e==null&&(e={});var n="";switch(typeof r){case"string":r=="m/d/yy"&&e.dateNF?n=e.dateNF:n=r;break;case"number":r==14&&e.dateNF?n=e.dateNF:n=(e.table!=null?e.table:ur)[r],n==null&&(n=e.table&&e.table[U_[r]]||ur[U_[r]]),n==null&&(n=Xj[r]||"General");break}if(P0(n,0))return Ll(t,e);t instanceof Date&&(t=O6(t,e.date1904));var s=hI(n,t);if(P0(s[1]))return Ll(t,e);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return fI(s[1],t,e,s[0])}function Rl(r,t){if(typeof t!="number"){t=+t||-1;for(var e=0;e<392;++e){if(ur[e]==null){t<0&&(t=e);continue}if(ur[e]==r){t=e;break}}t<0&&(t=391)}return ur[t]=r,t}function $6(){ur=Wj()}var dI={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},q6=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function pI(r){var t=typeof r=="number"?ur[r]:r;return t=t.replace(q6,"(\\d+)"),new RegExp("^"+t+"$")}function mI(r,t,e){var n=-1,s=-1,i=-1,a=-1,l=-1,c=-1;(t.match(q6)||[]).forEach(function(p,h){var d=parseInt(e[h+1],10);switch(p.toLowerCase().charAt(0)){case"y":n=d;break;case"d":i=d;break;case"h":a=d;break;case"s":c=d;break;case"m":a>=0?l=d:s=d;break}}),c>=0&&l==-1&&s>=0&&(l=s,s=-1);var o=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);o.length==7&&(o="0"+o),o.length==8&&(o="20"+o);var u=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return a==-1&&l==-1&&c==-1?o:n==-1&&s==-1&&i==-1?u:o+"T"+u}var gI=(function(){var r={};r.version="1.2.0";function t(){for(var L=0,I=new Array(256),O=0;O!=256;++O)L=O,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,I[O]=L;return typeof Int32Array<"u"?new Int32Array(I):I}var e=t();function n(L){var I=0,O=0,F=0,q=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(F=0;F!=256;++F)q[F]=L[F];for(F=0;F!=256;++F)for(O=L[F],I=256+F;I<4096;I+=256)O=q[I]=O>>>8^L[O&255];var z=[];for(F=1;F!=16;++F)z[F-1]=typeof Int32Array<"u"?q.subarray(F*256,F*256+256):q.slice(F*256,F*256+256);return z}var s=n(e),i=s[0],a=s[1],l=s[2],c=s[3],o=s[4],u=s[5],p=s[6],h=s[7],d=s[8],x=s[9],b=s[10],g=s[11],v=s[12],y=s[13],T=s[14];function R(L,I){for(var O=I^-1,F=0,q=L.length;F<q;)O=O>>>8^e[(O^L.charCodeAt(F++))&255];return~O}function P(L,I){for(var O=I^-1,F=L.length-15,q=0;q<F;)O=T[L[q++]^O&255]^y[L[q++]^O>>8&255]^v[L[q++]^O>>16&255]^g[L[q++]^O>>>24]^b[L[q++]]^x[L[q++]]^d[L[q++]]^h[L[q++]]^p[L[q++]]^u[L[q++]]^o[L[q++]]^c[L[q++]]^l[L[q++]]^a[L[q++]]^i[L[q++]]^e[L[q++]];for(F+=15;q<F;)O=O>>>8^e[(O^L[q++])&255];return~O}function H(L,I){for(var O=I^-1,F=0,q=L.length,z=0,N=0;F<q;)z=L.charCodeAt(F++),z<128?O=O>>>8^e[(O^z)&255]:z<2048?(O=O>>>8^e[(O^(192|z>>6&31))&255],O=O>>>8^e[(O^(128|z&63))&255]):z>=55296&&z<57344?(z=(z&1023)+64,N=L.charCodeAt(F++)&1023,O=O>>>8^e[(O^(240|z>>8&7))&255],O=O>>>8^e[(O^(128|z>>2&63))&255],O=O>>>8^e[(O^(128|N>>6&15|(z&3)<<4))&255],O=O>>>8^e[(O^(128|N&63))&255]):(O=O>>>8^e[(O^(224|z>>12&15))&255],O=O>>>8^e[(O^(128|z>>6&63))&255],O=O>>>8^e[(O^(128|z&63))&255]);return~O}return r.table=e,r.bstr=R,r.buf=P,r.str=H,r})(),Cr=(function(){var t={};t.version="1.2.1";function e(le,ye){for(var ue=le.split("/"),de=ye.split("/"),be=0,xe=0,De=Math.min(ue.length,de.length);be<De;++be){if(xe=ue[be].length-de[be].length)return xe;if(ue[be]!=de[be])return ue[be]<de[be]?-1:1}return ue.length-de.length}function n(le){if(le.charAt(le.length-1)=="/")return le.slice(0,-1).indexOf("/")===-1?le:n(le.slice(0,-1));var ye=le.lastIndexOf("/");return ye===-1?le:le.slice(0,ye+1)}function s(le){if(le.charAt(le.length-1)=="/")return s(le.slice(0,-1));var ye=le.lastIndexOf("/");return ye===-1?le:le.slice(ye+1)}function i(le,ye){typeof ye=="string"&&(ye=new Date(ye));var ue=ye.getHours();ue=ue<<6|ye.getMinutes(),ue=ue<<5|ye.getSeconds()>>>1,le.write_shift(2,ue);var de=ye.getFullYear()-1980;de=de<<4|ye.getMonth()+1,de=de<<5|ye.getDate(),le.write_shift(2,de)}function a(le){var ye=le.read_shift(2)&65535,ue=le.read_shift(2)&65535,de=new Date,be=ue&31;ue>>>=5;var xe=ue&15;ue>>>=4,de.setMilliseconds(0),de.setFullYear(ue+1980),de.setMonth(xe-1),de.setDate(be);var De=ye&31;ye>>>=5;var Ve=ye&63;return ye>>>=6,de.setHours(ye),de.setMinutes(Ve),de.setSeconds(De<<1),de}function l(le){Qn(le,0);for(var ye={},ue=0;le.l<=le.length-4;){var de=le.read_shift(2),be=le.read_shift(2),xe=le.l+be,De={};switch(de){case 21589:ue=le.read_shift(1),ue&1&&(De.mtime=le.read_shift(4)),be>5&&(ue&2&&(De.atime=le.read_shift(4)),ue&4&&(De.ctime=le.read_shift(4))),De.mtime&&(De.mt=new Date(De.mtime*1e3));break}le.l=xe,ye[de]=De}return ye}var c;function o(){return c||(c={})}function u(le,ye){if(le[0]==80&&le[1]==75)return Te(le,ye);if((le[0]|32)==109&&(le[1]|32)==105)return Ct(le,ye);if(le.length<512)throw new Error("CFB file size "+le.length+" < 512");var ue=3,de=512,be=0,xe=0,De=0,Ve=0,Pe=0,qe=[],Xe=le.slice(0,512);Qn(Xe,0);var yt=p(Xe);switch(ue=yt[0],ue){case 3:de=512;break;case 4:de=4096;break;case 0:if(yt[1]==0)return Te(le,ye);default:throw new Error("Major Version: Expected 3 or 4 saw "+ue)}de!==512&&(Xe=le.slice(0,de),Qn(Xe,28));var St=le.slice(0,de);h(Xe,ue);var kt=Xe.read_shift(4,"i");if(ue===3&&kt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+kt);Xe.l+=4,De=Xe.read_shift(4,"i"),Xe.l+=4,Xe.chk("00100000","Mini Stream Cutoff Size: "),Ve=Xe.read_shift(4,"i"),be=Xe.read_shift(4,"i"),Pe=Xe.read_shift(4,"i"),xe=Xe.read_shift(4,"i");for(var me=-1,Ne=0;Ne<109&&(me=Xe.read_shift(4,"i"),!(me<0));++Ne)qe[Ne]=me;var Ke=d(le,de);g(Pe,xe,Ke,de,qe);var dt=y(Ke,De,qe,de);dt[De].name="!Directory",be>0&&Ve!==N&&(dt[Ve].name="!MiniFAT"),dt[qe[0]].name="!FAT",dt.fat_addrs=qe,dt.ssz=de;var Et={},xt=[],At=[],Qt=[];T(De,dt,Ke,xt,be,Et,At,Ve),x(At,Qt,xt),xt.shift();var qt={FileIndex:At,FullPaths:Qt};return ye&&ye.raw&&(qt.raw={header:St,sectors:Ke}),qt}function p(le){if(le[le.l]==80&&le[le.l+1]==75)return[0,0];le.chk(U,"Header Signature: "),le.l+=16;var ye=le.read_shift(2,"u");return[le.read_shift(2,"u"),ye]}function h(le,ye){var ue=9;switch(le.l+=2,ue=le.read_shift(2)){case 9:if(ye!=3)throw new Error("Sector Shift: Expected 9 saw "+ue);break;case 12:if(ye!=4)throw new Error("Sector Shift: Expected 12 saw "+ue);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ue)}le.chk("0600","Mini Sector Shift: "),le.chk("000000000000","Reserved: ")}function d(le,ye){for(var ue=Math.ceil(le.length/ye)-1,de=[],be=1;be<ue;++be)de[be-1]=le.slice(be*ye,(be+1)*ye);return de[ue-1]=le.slice(ue*ye),de}function x(le,ye,ue){for(var de=0,be=0,xe=0,De=0,Ve=0,Pe=ue.length,qe=[],Xe=[];de<Pe;++de)qe[de]=Xe[de]=de,ye[de]=ue[de];for(;Ve<Xe.length;++Ve)de=Xe[Ve],be=le[de].L,xe=le[de].R,De=le[de].C,qe[de]===de&&(be!==-1&&qe[be]!==be&&(qe[de]=qe[be]),xe!==-1&&qe[xe]!==xe&&(qe[de]=qe[xe])),De!==-1&&(qe[De]=de),be!==-1&&de!=qe[de]&&(qe[be]=qe[de],Xe.lastIndexOf(be)<Ve&&Xe.push(be)),xe!==-1&&de!=qe[de]&&(qe[xe]=qe[de],Xe.lastIndexOf(xe)<Ve&&Xe.push(xe));for(de=1;de<Pe;++de)qe[de]===de&&(xe!==-1&&qe[xe]!==xe?qe[de]=qe[xe]:be!==-1&&qe[be]!==be&&(qe[de]=qe[be]));for(de=1;de<Pe;++de)if(le[de].type!==0){if(Ve=de,Ve!=qe[Ve])do Ve=qe[Ve],ye[de]=ye[Ve]+"/"+ye[de];while(Ve!==0&&qe[Ve]!==-1&&Ve!=qe[Ve]);qe[de]=-1}for(ye[0]+="/",de=1;de<Pe;++de)le[de].type!==2&&(ye[de]+="/")}function b(le,ye,ue){for(var de=le.start,be=le.size,xe=[],De=de;ue&&be>0&&De>=0;)xe.push(ye.slice(De*z,De*z+z)),be-=z,De=wl(ue,De*4);return xe.length===0?jn(0):Co(xe).slice(0,le.size)}function g(le,ye,ue,de,be){var xe=N;if(le===N){if(ye!==0)throw new Error("DIFAT chain shorter than expected")}else if(le!==-1){var De=ue[le],Ve=(de>>>2)-1;if(!De)return;for(var Pe=0;Pe<Ve&&(xe=wl(De,Pe*4))!==N;++Pe)be.push(xe);g(wl(De,de-4),ye-1,ue,de,be)}}function v(le,ye,ue,de,be){var xe=[],De=[];be||(be=[]);var Ve=de-1,Pe=0,qe=0;for(Pe=ye;Pe>=0;){be[Pe]=!0,xe[xe.length]=Pe,De.push(le[Pe]);var Xe=ue[Math.floor(Pe*4/de)];if(qe=Pe*4&Ve,de<4+qe)throw new Error("FAT boundary crossed: "+Pe+" 4 "+de);if(!le[Xe])break;Pe=wl(le[Xe],qe)}return{nodes:xe,data:e4([De])}}function y(le,ye,ue,de){var be=le.length,xe=[],De=[],Ve=[],Pe=[],qe=de-1,Xe=0,yt=0,St=0,kt=0;for(Xe=0;Xe<be;++Xe)if(Ve=[],St=Xe+ye,St>=be&&(St-=be),!De[St]){Pe=[];var me=[];for(yt=St;yt>=0;){me[yt]=!0,De[yt]=!0,Ve[Ve.length]=yt,Pe.push(le[yt]);var Ne=ue[Math.floor(yt*4/de)];if(kt=yt*4&qe,de<4+kt)throw new Error("FAT boundary crossed: "+yt+" 4 "+de);if(!le[Ne]||(yt=wl(le[Ne],kt),me[yt]))break}xe[St]={nodes:Ve,data:e4([Pe])}}return xe}function T(le,ye,ue,de,be,xe,De,Ve){for(var Pe=0,qe=de.length?2:0,Xe=ye[le].data,yt=0,St=0,kt;yt<Xe.length;yt+=128){var me=Xe.slice(yt,yt+128);Qn(me,64),St=me.read_shift(2),kt=Qb(me,0,St-qe),de.push(kt);var Ne={name:kt,type:me.read_shift(1),color:me.read_shift(1),L:me.read_shift(4,"i"),R:me.read_shift(4,"i"),C:me.read_shift(4,"i"),clsid:me.read_shift(16),state:me.read_shift(4,"i"),start:0,size:0},Ke=me.read_shift(2)+me.read_shift(2)+me.read_shift(2)+me.read_shift(2);Ke!==0&&(Ne.ct=R(me,me.l-8));var dt=me.read_shift(2)+me.read_shift(2)+me.read_shift(2)+me.read_shift(2);dt!==0&&(Ne.mt=R(me,me.l-8)),Ne.start=me.read_shift(4,"i"),Ne.size=me.read_shift(4,"i"),Ne.size<0&&Ne.start<0&&(Ne.size=Ne.type=0,Ne.start=N,Ne.name=""),Ne.type===5?(Pe=Ne.start,be>0&&Pe!==N&&(ye[Pe].name="!StreamData")):Ne.size>=4096?(Ne.storage="fat",ye[Ne.start]===void 0&&(ye[Ne.start]=v(ue,Ne.start,ye.fat_addrs,ye.ssz)),ye[Ne.start].name=Ne.name,Ne.content=ye[Ne.start].data.slice(0,Ne.size)):(Ne.storage="minifat",Ne.size<0?Ne.size=0:Pe!==N&&Ne.start!==N&&ye[Pe]&&(Ne.content=b(Ne,ye[Pe].data,(ye[Ve]||{}).data))),Ne.content&&Qn(Ne.content,0),xe[kt]=Ne,De.push(Ne)}}function R(le,ye){return new Date((Ys(le,ye+4)/1e7*Math.pow(2,32)+Ys(le,ye)/1e7-11644473600)*1e3)}function P(le,ye){return o(),u(c.readFileSync(le),ye)}function H(le,ye){var ue=ye&&ye.type;switch(ue||Er&&Buffer.isBuffer(le)&&(ue="buffer"),ue||"base64"){case"file":return P(le,ye);case"base64":return u(Da(ea(le)),ye);case"binary":return u(Da(le),ye)}return u(le,ye)}function L(le,ye){var ue=ye||{},de=ue.root||"Root Entry";if(le.FullPaths||(le.FullPaths=[]),le.FileIndex||(le.FileIndex=[]),le.FullPaths.length!==le.FileIndex.length)throw new Error("inconsistent CFB structure");le.FullPaths.length===0&&(le.FullPaths[0]=de+"/",le.FileIndex[0]={name:de,type:5}),ue.CLSID&&(le.FileIndex[0].clsid=ue.CLSID),I(le)}function I(le){var ye="Sh33tJ5";if(!Cr.find(le,"/"+ye)){var ue=jn(4);ue[0]=55,ue[1]=ue[3]=50,ue[2]=54,le.FileIndex.push({name:ye,type:2,content:ue,size:4,L:69,R:69,C:69}),le.FullPaths.push(le.FullPaths[0]+ye),O(le)}}function O(le,ye){L(le);for(var ue=!1,de=!1,be=le.FullPaths.length-1;be>=0;--be){var xe=le.FileIndex[be];switch(xe.type){case 0:de?ue=!0:(le.FileIndex.pop(),le.FullPaths.pop());break;case 1:case 2:case 5:de=!0,isNaN(xe.R*xe.L*xe.C)&&(ue=!0),xe.R>-1&&xe.L>-1&&xe.R==xe.L&&(ue=!0);break;default:ue=!0;break}}if(!(!ue&&!ye)){var De=new Date(1987,1,19),Ve=0,Pe=Object.create?Object.create(null):{},qe=[];for(be=0;be<le.FullPaths.length;++be)Pe[le.FullPaths[be]]=!0,le.FileIndex[be].type!==0&&qe.push([le.FullPaths[be],le.FileIndex[be]]);for(be=0;be<qe.length;++be){var Xe=n(qe[be][0]);de=Pe[Xe],de||(qe.push([Xe,{name:s(Xe).replace("/",""),type:1,clsid:S,ct:De,mt:De,content:null}]),Pe[Xe]=!0)}for(qe.sort(function(kt,me){return e(kt[0],me[0])}),le.FullPaths=[],le.FileIndex=[],be=0;be<qe.length;++be)le.FullPaths[be]=qe[be][0],le.FileIndex[be]=qe[be][1];for(be=0;be<qe.length;++be){var yt=le.FileIndex[be],St=le.FullPaths[be];if(yt.name=s(St).replace("/",""),yt.L=yt.R=yt.C=-(yt.color=1),yt.size=yt.content?yt.content.length:0,yt.start=0,yt.clsid=yt.clsid||S,be===0)yt.C=qe.length>1?1:-1,yt.size=0,yt.type=5;else if(St.slice(-1)=="/"){for(Ve=be+1;Ve<qe.length&&n(le.FullPaths[Ve])!=St;++Ve);for(yt.C=Ve>=qe.length?-1:Ve,Ve=be+1;Ve<qe.length&&n(le.FullPaths[Ve])!=n(St);++Ve);yt.R=Ve>=qe.length?-1:Ve,yt.type=1}else n(le.FullPaths[be+1]||"")==n(St)&&(yt.R=be+1),yt.type=2}}}function F(le,ye){var ue=ye||{};if(ue.fileType=="mad")return Mt(le,ue);switch(O(le),ue.fileType){case"zip":return Re(le,ue)}var de=(function(kt){for(var me=0,Ne=0,Ke=0;Ke<kt.FileIndex.length;++Ke){var dt=kt.FileIndex[Ke];if(dt.content){var Et=dt.content.length;Et>0&&(Et<4096?me+=Et+63>>6:Ne+=Et+511>>9)}}for(var xt=kt.FullPaths.length+3>>2,At=me+7>>3,Qt=me+127>>7,qt=At+Ne+xt+Qt,Gt=qt+127>>7,Ut=Gt<=109?0:Math.ceil((Gt-109)/127);qt+Gt+Ut+127>>7>Gt;)Ut=++Gt<=109?0:Math.ceil((Gt-109)/127);var Jt=[1,Ut,Gt,Qt,xt,Ne,me,0];return kt.FileIndex[0].size=me<<6,Jt[7]=(kt.FileIndex[0].start=Jt[0]+Jt[1]+Jt[2]+Jt[3]+Jt[4]+Jt[5])+(Jt[6]+7>>3),Jt})(le),be=jn(de[7]<<9),xe=0,De=0;{for(xe=0;xe<8;++xe)be.write_shift(1,C[xe]);for(xe=0;xe<8;++xe)be.write_shift(2,0);for(be.write_shift(2,62),be.write_shift(2,3),be.write_shift(2,65534),be.write_shift(2,9),be.write_shift(2,6),xe=0;xe<3;++xe)be.write_shift(2,0);for(be.write_shift(4,0),be.write_shift(4,de[2]),be.write_shift(4,de[0]+de[1]+de[2]+de[3]-1),be.write_shift(4,0),be.write_shift(4,4096),be.write_shift(4,de[3]?de[0]+de[1]+de[2]-1:N),be.write_shift(4,de[3]),be.write_shift(-4,de[1]?de[0]-1:N),be.write_shift(4,de[1]),xe=0;xe<109;++xe)be.write_shift(-4,xe<de[2]?de[1]+xe:-1)}if(de[1])for(De=0;De<de[1];++De){for(;xe<236+De*127;++xe)be.write_shift(-4,xe<de[2]?de[1]+xe:-1);be.write_shift(-4,De===de[1]-1?N:De+1)}var Ve=function(kt){for(De+=kt;xe<De-1;++xe)be.write_shift(-4,xe+1);kt&&(++xe,be.write_shift(-4,N))};for(De=xe=0,De+=de[1];xe<De;++xe)be.write_shift(-4,k.DIFSECT);for(De+=de[2];xe<De;++xe)be.write_shift(-4,k.FATSECT);Ve(de[3]),Ve(de[4]);for(var Pe=0,qe=0,Xe=le.FileIndex[0];Pe<le.FileIndex.length;++Pe)Xe=le.FileIndex[Pe],Xe.content&&(qe=Xe.content.length,!(qe<4096)&&(Xe.start=De,Ve(qe+511>>9)));for(Ve(de[6]+7>>3);be.l&511;)be.write_shift(-4,k.ENDOFCHAIN);for(De=xe=0,Pe=0;Pe<le.FileIndex.length;++Pe)Xe=le.FileIndex[Pe],Xe.content&&(qe=Xe.content.length,!(!qe||qe>=4096)&&(Xe.start=De,Ve(qe+63>>6)));for(;be.l&511;)be.write_shift(-4,k.ENDOFCHAIN);for(xe=0;xe<de[4]<<2;++xe){var yt=le.FullPaths[xe];if(!yt||yt.length===0){for(Pe=0;Pe<17;++Pe)be.write_shift(4,0);for(Pe=0;Pe<3;++Pe)be.write_shift(4,-1);for(Pe=0;Pe<12;++Pe)be.write_shift(4,0);continue}Xe=le.FileIndex[xe],xe===0&&(Xe.start=Xe.size?Xe.start-1:N);var St=xe===0&&ue.root||Xe.name;if(qe=2*(St.length+1),be.write_shift(64,St,"utf16le"),be.write_shift(2,qe),be.write_shift(1,Xe.type),be.write_shift(1,Xe.color),be.write_shift(-4,Xe.L),be.write_shift(-4,Xe.R),be.write_shift(-4,Xe.C),Xe.clsid)be.write_shift(16,Xe.clsid,"hex");else for(Pe=0;Pe<4;++Pe)be.write_shift(4,0);be.write_shift(4,Xe.state||0),be.write_shift(4,0),be.write_shift(4,0),be.write_shift(4,0),be.write_shift(4,0),be.write_shift(4,Xe.start),be.write_shift(4,Xe.size),be.write_shift(4,0)}for(xe=1;xe<le.FileIndex.length;++xe)if(Xe=le.FileIndex[xe],Xe.size>=4096)if(be.l=Xe.start+1<<9,Er&&Buffer.isBuffer(Xe.content))Xe.content.copy(be,be.l,0,Xe.size),be.l+=Xe.size+511&-512;else{for(Pe=0;Pe<Xe.size;++Pe)be.write_shift(1,Xe.content[Pe]);for(;Pe&511;++Pe)be.write_shift(1,0)}for(xe=1;xe<le.FileIndex.length;++xe)if(Xe=le.FileIndex[xe],Xe.size>0&&Xe.size<4096)if(Er&&Buffer.isBuffer(Xe.content))Xe.content.copy(be,be.l,0,Xe.size),be.l+=Xe.size+63&-64;else{for(Pe=0;Pe<Xe.size;++Pe)be.write_shift(1,Xe.content[Pe]);for(;Pe&63;++Pe)be.write_shift(1,0)}if(Er)be.l=be.length;else for(;be.l<be.length;)be.write_shift(1,0);return be}function q(le,ye){var ue=le.FullPaths.map(function(Pe){return Pe.toUpperCase()}),de=ue.map(function(Pe){var qe=Pe.split("/");return qe[qe.length-(Pe.slice(-1)=="/"?2:1)]}),be=!1;ye.charCodeAt(0)===47?(be=!0,ye=ue[0].slice(0,-1)+ye):be=ye.indexOf("/")!==-1;var xe=ye.toUpperCase(),De=be===!0?ue.indexOf(xe):de.indexOf(xe);if(De!==-1)return le.FileIndex[De];var Ve=!xe.match(hf);for(xe=xe.replace(Ss,""),Ve&&(xe=xe.replace(hf,"!")),De=0;De<ue.length;++De)if((Ve?ue[De].replace(hf,"!"):ue[De]).replace(Ss,"")==xe||(Ve?de[De].replace(hf,"!"):de[De]).replace(Ss,"")==xe)return le.FileIndex[De];return null}var z=64,N=-2,U="d0cf11e0a1b11ae1",C=[208,207,17,224,161,177,26,225],S="00000000000000000000000000000000",k={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:N,FREESECT:-1,HEADER_SIGNATURE:U,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:S,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function E(le,ye,ue){o();var de=F(le,ue);c.writeFileSync(ye,de)}function A(le){for(var ye=new Array(le.length),ue=0;ue<le.length;++ue)ye[ue]=String.fromCharCode(le[ue]);return ye.join("")}function j(le,ye){var ue=F(le,ye);switch(ye&&ye.type||"buffer"){case"file":return o(),c.writeFileSync(ye.filename,ue),ue;case"binary":return typeof ue=="string"?ue:A(ue);case"base64":return F_(typeof ue=="string"?ue:A(ue));case"buffer":if(Er)return Buffer.isBuffer(ue)?ue:Hl(ue);case"array":return typeof ue=="string"?Da(ue):ue}return ue}var B;function D(le){try{var ye=le.InflateRaw,ue=new ye;if(ue._processChunk(new Uint8Array([3,0]),ue._finishFlushFlag),ue.bytesRead)B=le;else throw new Error("zlib does not expose bytesRead")}catch(de){console.error("cannot use native zlib: "+(de.message||de))}}function Q(le,ye){if(!B)return je(le,ye);var ue=B.InflateRaw,de=new ue,be=de._processChunk(le.slice(le.l),de._finishFlushFlag);return le.l+=de.bytesRead,be}function K(le){return B?B.deflateRawSync(le):mt(le)}var ee=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],W=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],te=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function G(le){var ye=(le<<1|le<<11)&139536|(le<<5|le<<15)&558144;return(ye>>16|ye>>8|ye)&255}for(var V=typeof Uint8Array<"u",Z=V?new Uint8Array(256):[],ae=0;ae<256;++ae)Z[ae]=G(ae);function re(le,ye){var ue=Z[le&255];return ye<=8?ue>>>8-ye:(ue=ue<<8|Z[le>>8&255],ye<=16?ue>>>16-ye:(ue=ue<<8|Z[le>>16&255],ue>>>24-ye))}function oe(le,ye){var ue=ye&7,de=ye>>>3;return(le[de]|(ue<=6?0:le[de+1]<<8))>>>ue&3}function he(le,ye){var ue=ye&7,de=ye>>>3;return(le[de]|(ue<=5?0:le[de+1]<<8))>>>ue&7}function Se(le,ye){var ue=ye&7,de=ye>>>3;return(le[de]|(ue<=4?0:le[de+1]<<8))>>>ue&15}function ge(le,ye){var ue=ye&7,de=ye>>>3;return(le[de]|(ue<=3?0:le[de+1]<<8))>>>ue&31}function ne(le,ye){var ue=ye&7,de=ye>>>3;return(le[de]|(ue<=1?0:le[de+1]<<8))>>>ue&127}function fe(le,ye,ue){var de=ye&7,be=ye>>>3,xe=(1<<ue)-1,De=le[be]>>>de;return ue<8-de||(De|=le[be+1]<<8-de,ue<16-de)||(De|=le[be+2]<<16-de,ue<24-de)||(De|=le[be+3]<<24-de),De&xe}function pe(le,ye,ue){var de=ye&7,be=ye>>>3;return de<=5?le[be]|=(ue&7)<<de:(le[be]|=ue<<de&255,le[be+1]=(ue&7)>>8-de),ye+3}function ke(le,ye,ue){var de=ye&7,be=ye>>>3;return ue=(ue&1)<<de,le[be]|=ue,ye+1}function Ce(le,ye,ue){var de=ye&7,be=ye>>>3;return ue<<=de,le[be]|=ue&255,ue>>>=8,le[be+1]=ue,ye+8}function Fe(le,ye,ue){var de=ye&7,be=ye>>>3;return ue<<=de,le[be]|=ue&255,ue>>>=8,le[be+1]=ue&255,le[be+2]=ue>>>8,ye+16}function We(le,ye){var ue=le.length,de=2*ue>ye?2*ue:ye+5,be=0;if(ue>=ye)return le;if(Er){var xe=P_(de);if(le.copy)le.copy(xe);else for(;be<le.length;++be)xe[be]=le[be];return xe}else if(V){var De=new Uint8Array(de);if(De.set)De.set(le);else for(;be<ue;++be)De[be]=le[be];return De}return le.length=de,le}function $e(le){for(var ye=new Array(le),ue=0;ue<le;++ue)ye[ue]=0;return ye}function it(le,ye,ue){var de=1,be=0,xe=0,De=0,Ve=0,Pe=le.length,qe=V?new Uint16Array(32):$e(32);for(xe=0;xe<32;++xe)qe[xe]=0;for(xe=Pe;xe<ue;++xe)le[xe]=0;Pe=le.length;var Xe=V?new Uint16Array(Pe):$e(Pe);for(xe=0;xe<Pe;++xe)qe[be=le[xe]]++,de<be&&(de=be),Xe[xe]=0;for(qe[0]=0,xe=1;xe<=de;++xe)qe[xe+16]=Ve=Ve+qe[xe-1]<<1;for(xe=0;xe<Pe;++xe)Ve=le[xe],Ve!=0&&(Xe[xe]=qe[Ve+16]++);var yt=0;for(xe=0;xe<Pe;++xe)if(yt=le[xe],yt!=0)for(Ve=re(Xe[xe],de)>>de-yt,De=(1<<de+4-yt)-1;De>=0;--De)ye[Ve|De<<yt]=yt&15|xe<<4;return de}var st=V?new Uint16Array(512):$e(512),et=V?new Uint16Array(32):$e(32);if(!V){for(var Ze=0;Ze<512;++Ze)st[Ze]=0;for(Ze=0;Ze<32;++Ze)et[Ze]=0}(function(){for(var le=[],ye=0;ye<32;ye++)le.push(5);it(le,et,32);var ue=[];for(ye=0;ye<=143;ye++)ue.push(8);for(;ye<=255;ye++)ue.push(9);for(;ye<=279;ye++)ue.push(7);for(;ye<=287;ye++)ue.push(8);it(ue,st,288)})();var gt=(function(){for(var ye=V?new Uint8Array(32768):[],ue=0,de=0;ue<te.length-1;++ue)for(;de<te[ue+1];++de)ye[de]=ue;for(;de<32768;++de)ye[de]=29;var be=V?new Uint8Array(259):[];for(ue=0,de=0;ue<W.length-1;++ue)for(;de<W[ue+1];++de)be[de]=ue;function xe(Ve,Pe){for(var qe=0;qe<Ve.length;){var Xe=Math.min(65535,Ve.length-qe),yt=qe+Xe==Ve.length;for(Pe.write_shift(1,+yt),Pe.write_shift(2,Xe),Pe.write_shift(2,~Xe&65535);Xe-- >0;)Pe[Pe.l++]=Ve[qe++]}return Pe.l}function De(Ve,Pe){for(var qe=0,Xe=0,yt=V?new Uint16Array(32768):[];Xe<Ve.length;){var St=Math.min(65535,Ve.length-Xe);if(St<10){for(qe=pe(Pe,qe,+(Xe+St==Ve.length)),qe&7&&(qe+=8-(qe&7)),Pe.l=qe/8|0,Pe.write_shift(2,St),Pe.write_shift(2,~St&65535);St-- >0;)Pe[Pe.l++]=Ve[Xe++];qe=Pe.l*8;continue}qe=pe(Pe,qe,+(Xe+St==Ve.length)+2);for(var kt=0;St-- >0;){var me=Ve[Xe];kt=(kt<<5^me)&32767;var Ne=-1,Ke=0;if((Ne=yt[kt])&&(Ne|=Xe&-32768,Ne>Xe&&(Ne-=32768),Ne<Xe))for(;Ve[Ne+Ke]==Ve[Xe+Ke]&&Ke<250;)++Ke;if(Ke>2){me=be[Ke],me<=22?qe=Ce(Pe,qe,Z[me+1]>>1)-1:(Ce(Pe,qe,3),qe+=5,Ce(Pe,qe,Z[me-23]>>5),qe+=3);var dt=me<8?0:me-4>>2;dt>0&&(Fe(Pe,qe,Ke-W[me]),qe+=dt),me=ye[Xe-Ne],qe=Ce(Pe,qe,Z[me]>>3),qe-=3;var Et=me<4?0:me-2>>1;Et>0&&(Fe(Pe,qe,Xe-Ne-te[me]),qe+=Et);for(var xt=0;xt<Ke;++xt)yt[kt]=Xe&32767,kt=(kt<<5^Ve[Xe])&32767,++Xe;St-=Ke-1}else me<=143?me=me+48:qe=ke(Pe,qe,1),qe=Ce(Pe,qe,Z[me]),yt[kt]=Xe&32767,++Xe}qe=Ce(Pe,qe,0)-1}return Pe.l=(qe+7)/8|0,Pe.l}return function(Pe,qe){return Pe.length<8?xe(Pe,qe):De(Pe,qe)}})();function mt(le){var ye=jn(50+Math.floor(le.length*1.1)),ue=gt(le,ye);return ye.slice(0,ue)}var Me=V?new Uint16Array(32768):$e(32768),Ue=V?new Uint16Array(32768):$e(32768),Ee=V?new Uint16Array(128):$e(128),Oe=1,ct=1;function Be(le,ye){var ue=ge(le,ye)+257;ye+=5;var de=ge(le,ye)+1;ye+=5;var be=Se(le,ye)+4;ye+=4;for(var xe=0,De=V?new Uint8Array(19):$e(19),Ve=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Pe=1,qe=V?new Uint8Array(8):$e(8),Xe=V?new Uint8Array(8):$e(8),yt=De.length,St=0;St<be;++St)De[ee[St]]=xe=he(le,ye),Pe<xe&&(Pe=xe),qe[xe]++,ye+=3;var kt=0;for(qe[0]=0,St=1;St<=Pe;++St)Xe[St]=kt=kt+qe[St-1]<<1;for(St=0;St<yt;++St)(kt=De[St])!=0&&(Ve[St]=Xe[kt]++);var me=0;for(St=0;St<yt;++St)if(me=De[St],me!=0){kt=Z[Ve[St]]>>8-me;for(var Ne=(1<<7-me)-1;Ne>=0;--Ne)Ee[kt|Ne<<me]=me&7|St<<3}var Ke=[];for(Pe=1;Ke.length<ue+de;)switch(kt=Ee[ne(le,ye)],ye+=kt&7,kt>>>=3){case 16:for(xe=3+oe(le,ye),ye+=2,kt=Ke[Ke.length-1];xe-- >0;)Ke.push(kt);break;case 17:for(xe=3+he(le,ye),ye+=3;xe-- >0;)Ke.push(0);break;case 18:for(xe=11+ne(le,ye),ye+=7;xe-- >0;)Ke.push(0);break;default:Ke.push(kt),Pe<kt&&(Pe=kt);break}var dt=Ke.slice(0,ue),Et=Ke.slice(ue);for(St=ue;St<286;++St)dt[St]=0;for(St=de;St<30;++St)Et[St]=0;return Oe=it(dt,Me,286),ct=it(Et,Ue,30),ye}function Ye(le,ye){if(le[0]==3&&!(le[1]&3))return[Xo(ye),2];for(var ue=0,de=0,be=P_(ye||1<<18),xe=0,De=be.length>>>0,Ve=0,Pe=0;(de&1)==0;){if(de=he(le,ue),ue+=3,de>>>1)de>>1==1?(Ve=9,Pe=5):(ue=Be(le,ue),Ve=Oe,Pe=ct);else{ue&7&&(ue+=8-(ue&7));var qe=le[ue>>>3]|le[(ue>>>3)+1]<<8;if(ue+=32,qe>0)for(!ye&&De<xe+qe&&(be=We(be,xe+qe),De=be.length);qe-- >0;)be[xe++]=le[ue>>>3],ue+=8;continue}for(;;){!ye&&De<xe+32767&&(be=We(be,xe+32767),De=be.length);var Xe=fe(le,ue,Ve),yt=de>>>1==1?st[Xe]:Me[Xe];if(ue+=yt&15,yt>>>=4,(yt>>>8&255)===0)be[xe++]=yt;else{if(yt==256)break;yt-=257;var St=yt<8?0:yt-4>>2;St>5&&(St=0);var kt=xe+W[yt];St>0&&(kt+=fe(le,ue,St),ue+=St),Xe=fe(le,ue,Pe),yt=de>>>1==1?et[Xe]:Ue[Xe],ue+=yt&15,yt>>>=4;var me=yt<4?0:yt-2>>1,Ne=te[yt];for(me>0&&(Ne+=fe(le,ue,me),ue+=me),!ye&&De<kt&&(be=We(be,kt+100),De=be.length);xe<kt;)be[xe]=be[xe-Ne],++xe}}}return ye?[be,ue+7>>>3]:[be.slice(0,xe),ue+7>>>3]}function je(le,ye){var ue=le.slice(le.l||0),de=Ye(ue,ye);return le.l+=de[1],de[0]}function He(le,ye){if(le)typeof console<"u"&&console.error(ye);else throw new Error(ye)}function Te(le,ye){var ue=le;Qn(ue,0);var de=[],be=[],xe={FileIndex:de,FullPaths:be};L(xe,{root:ye.root});for(var De=ue.length-4;(ue[De]!=80||ue[De+1]!=75||ue[De+2]!=5||ue[De+3]!=6)&&De>=0;)--De;ue.l=De+4,ue.l+=4;var Ve=ue.read_shift(2);ue.l+=6;var Pe=ue.read_shift(4);for(ue.l=Pe,De=0;De<Ve;++De){ue.l+=20;var qe=ue.read_shift(4),Xe=ue.read_shift(4),yt=ue.read_shift(2),St=ue.read_shift(2),kt=ue.read_shift(2);ue.l+=8;var me=ue.read_shift(4),Ne=l(ue.slice(ue.l+yt,ue.l+yt+St));ue.l+=yt+St+kt;var Ke=ue.l;ue.l=me+4,rt(ue,qe,Xe,xe,Ne),ue.l=Ke}return xe}function rt(le,ye,ue,de,be){le.l+=2;var xe=le.read_shift(2),De=le.read_shift(2),Ve=a(le);if(xe&8257)throw new Error("Unsupported ZIP encryption");for(var Pe=le.read_shift(4),qe=le.read_shift(4),Xe=le.read_shift(4),yt=le.read_shift(2),St=le.read_shift(2),kt="",me=0;me<yt;++me)kt+=String.fromCharCode(le[le.l++]);if(St){var Ne=l(le.slice(le.l,le.l+St));(Ne[21589]||{}).mt&&(Ve=Ne[21589].mt),((be||{})[21589]||{}).mt&&(Ve=be[21589].mt)}le.l+=St;var Ke=le.slice(le.l,le.l+qe);switch(De){case 8:Ke=Q(le,Xe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+De)}var dt=!1;xe&8&&(Pe=le.read_shift(4),Pe==134695760&&(Pe=le.read_shift(4),dt=!0),qe=le.read_shift(4),Xe=le.read_shift(4)),qe!=ye&&He(dt,"Bad compressed size: "+ye+" != "+qe),Xe!=ue&&He(dt,"Bad uncompressed size: "+ue+" != "+Xe),Nt(de,kt,Ke,{unsafe:!0,mt:Ve})}function Re(le,ye){var ue=ye||{},de=[],be=[],xe=jn(1),De=ue.compression?8:0,Ve=0,Pe=0,qe=0,Xe=0,yt=0,St=le.FullPaths[0],kt=St,me=le.FileIndex[0],Ne=[],Ke=0;for(Pe=1;Pe<le.FullPaths.length;++Pe)if(kt=le.FullPaths[Pe].slice(St.length),me=le.FileIndex[Pe],!(!me.size||!me.content||kt=="Sh33tJ5")){var dt=Xe,Et=jn(kt.length);for(qe=0;qe<kt.length;++qe)Et.write_shift(1,kt.charCodeAt(qe)&127);Et=Et.slice(0,Et.l),Ne[yt]=gI.buf(me.content,0);var xt=me.content;De==8&&(xt=K(xt)),xe=jn(30),xe.write_shift(4,67324752),xe.write_shift(2,20),xe.write_shift(2,Ve),xe.write_shift(2,De),me.mt?i(xe,me.mt):xe.write_shift(4,0),xe.write_shift(-4,Ne[yt]),xe.write_shift(4,xt.length),xe.write_shift(4,me.content.length),xe.write_shift(2,Et.length),xe.write_shift(2,0),Xe+=xe.length,de.push(xe),Xe+=Et.length,de.push(Et),Xe+=xt.length,de.push(xt),xe=jn(46),xe.write_shift(4,33639248),xe.write_shift(2,0),xe.write_shift(2,20),xe.write_shift(2,Ve),xe.write_shift(2,De),xe.write_shift(4,0),xe.write_shift(-4,Ne[yt]),xe.write_shift(4,xt.length),xe.write_shift(4,me.content.length),xe.write_shift(2,Et.length),xe.write_shift(2,0),xe.write_shift(2,0),xe.write_shift(2,0),xe.write_shift(2,0),xe.write_shift(4,0),xe.write_shift(4,dt),Ke+=xe.l,be.push(xe),Ke+=Et.length,be.push(Et),++yt}return xe=jn(22),xe.write_shift(4,101010256),xe.write_shift(2,0),xe.write_shift(2,0),xe.write_shift(2,yt),xe.write_shift(2,yt),xe.write_shift(4,Ke),xe.write_shift(4,Xe),xe.write_shift(2,0),Co([Co(de),Co(be),xe])}var Ae={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function at(le,ye){if(le.ctype)return le.ctype;var ue=le.name||"",de=ue.match(/\.([^\.]+)$/);return de&&Ae[de[1]]||ye&&(de=(ue=ye).match(/[\.\\]([^\.\\])+$/),de&&Ae[de[1]])?Ae[de[1]]:"application/octet-stream"}function pt(le){for(var ye=F_(le),ue=[],de=0;de<ye.length;de+=76)ue.push(ye.slice(de,de+76));return ue.join(`\r
`)+`\r
`}function lt(le){var ye=le.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(qe){var Xe=qe.charCodeAt(0).toString(16).toUpperCase();return"="+(Xe.length==1?"0"+Xe:Xe)});ye=ye.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ye.charAt(0)==`
`&&(ye="=0D"+ye.slice(1)),ye=ye.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ue=[],de=ye.split(`\r
`),be=0;be<de.length;++be){var xe=de[be];if(xe.length==0){ue.push("");continue}for(var De=0;De<xe.length;){var Ve=76,Pe=xe.slice(De,De+Ve);Pe.charAt(Ve-1)=="="?Ve--:Pe.charAt(Ve-2)=="="?Ve-=2:Pe.charAt(Ve-3)=="="&&(Ve-=3),Pe=xe.slice(De,De+Ve),De+=Ve,De<xe.length&&(Pe+="="),ue.push(Pe)}}return ue.join(`\r
`)}function Rt(le){for(var ye=[],ue=0;ue<le.length;++ue){for(var de=le[ue];ue<=le.length&&de.charAt(de.length-1)=="=";)de=de.slice(0,de.length-1)+le[++ue];ye.push(de)}for(var be=0;be<ye.length;++be)ye[be]=ye[be].replace(/[=][0-9A-Fa-f]{2}/g,function(xe){return String.fromCharCode(parseInt(xe.slice(1),16))});return Da(ye.join(`\r
`))}function jt(le,ye,ue){for(var de="",be="",xe="",De,Ve=0;Ve<10;++Ve){var Pe=ye[Ve];if(!Pe||Pe.match(/^\s*$/))break;var qe=Pe.match(/^(.*?):\s*([^\s].*)$/);if(qe)switch(qe[1].toLowerCase()){case"content-location":de=qe[2].trim();break;case"content-type":xe=qe[2].trim();break;case"content-transfer-encoding":be=qe[2].trim();break}}switch(++Ve,be.toLowerCase()){case"base64":De=Da(ea(ye.slice(Ve).join("")));break;case"quoted-printable":De=Rt(ye.slice(Ve));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+be)}var Xe=Nt(le,de.slice(ue.length),De,{unsafe:!0});xe&&(Xe.ctype=xe)}function Ct(le,ye){if(A(le.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ue=ye&&ye.root||"",de=(Er&&Buffer.isBuffer(le)?le.toString("binary"):A(le)).split(`\r
`),be=0,xe="";for(be=0;be<de.length;++be)if(xe=de[be],!!/^Content-Location:/i.test(xe)&&(xe=xe.slice(xe.indexOf("file")),ue||(ue=xe.slice(0,xe.lastIndexOf("/")+1)),xe.slice(0,ue.length)!=ue))for(;ue.length>0&&(ue=ue.slice(0,ue.length-1),ue=ue.slice(0,ue.lastIndexOf("/")+1),xe.slice(0,ue.length)!=ue););var De=(de[1]||"").match(/boundary="(.*?)"/);if(!De)throw new Error("MAD cannot find boundary");var Ve="--"+(De[1]||""),Pe=[],qe=[],Xe={FileIndex:Pe,FullPaths:qe};L(Xe);var yt,St=0;for(be=0;be<de.length;++be){var kt=de[be];kt!==Ve&&kt!==Ve+"--"||(St++&&jt(Xe,de.slice(yt,be),ue),yt=be)}return Xe}function Mt(le,ye){var ue=ye||{},de=ue.boundary||"SheetJS";de="------="+de;for(var be=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+de.slice(2)+'"',"","",""],xe=le.FullPaths[0],De=xe,Ve=le.FileIndex[0],Pe=1;Pe<le.FullPaths.length;++Pe)if(De=le.FullPaths[Pe].slice(xe.length),Ve=le.FileIndex[Pe],!(!Ve.size||!Ve.content||De=="Sh33tJ5")){De=De.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ke){return"_x"+Ke.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ke){return"_u"+Ke.charCodeAt(0).toString(16)+"_"});for(var qe=Ve.content,Xe=Er&&Buffer.isBuffer(qe)?qe.toString("binary"):A(qe),yt=0,St=Math.min(1024,Xe.length),kt=0,me=0;me<=St;++me)(kt=Xe.charCodeAt(me))>=32&&kt<128&&++yt;var Ne=yt>=St*4/5;be.push(de),be.push("Content-Location: "+(ue.root||"file:///C:/SheetJS/")+De),be.push("Content-Transfer-Encoding: "+(Ne?"quoted-printable":"base64")),be.push("Content-Type: "+at(Ve,De)),be.push(""),be.push(Ne?lt(Xe):pt(Xe))}return be.push(de+`--\r
`),be.join(`\r
`)}function Dt(le){var ye={};return L(ye,le),ye}function Nt(le,ye,ue,de){var be=de&&de.unsafe;be||L(le);var xe=!be&&Cr.find(le,ye);if(!xe){var De=le.FullPaths[0];ye.slice(0,De.length)==De?De=ye:(De.slice(-1)!="/"&&(De+="/"),De=(De+ye).replace("//","/")),xe={name:s(ye),type:2},le.FileIndex.push(xe),le.FullPaths.push(De),be||Cr.utils.cfb_gc(le)}return xe.content=ue,xe.size=ue?ue.length:0,de&&(de.CLSID&&(xe.clsid=de.CLSID),de.mt&&(xe.mt=de.mt),de.ct&&(xe.ct=de.ct)),xe}function Ie(le,ye){L(le);var ue=Cr.find(le,ye);if(ue){for(var de=0;de<le.FileIndex.length;++de)if(le.FileIndex[de]==ue)return le.FileIndex.splice(de,1),le.FullPaths.splice(de,1),!0}return!1}function Ge(le,ye,ue){L(le);var de=Cr.find(le,ye);if(de){for(var be=0;be<le.FileIndex.length;++be)if(le.FileIndex[be]==de)return le.FileIndex[be].name=s(ue),le.FullPaths[be]=ue,!0}return!1}function ut(le){O(le,!0)}return t.find=q,t.read=H,t.parse=u,t.write=j,t.writeFile=E,t.utils={cfb_new:Dt,cfb_add:Nt,cfb_del:Ie,cfb_mov:Ge,cfb_gc:ut,ReadShift:Sf,CheckField:d8,prep_blob:Qn,bconcat:Co,use_zlib:D,_deflateRaw:mt,_inflateRaw:je,consts:k},t})();function bI(r){if(typeof Deno<"u")return Deno.readFileSync(r);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(r);t.open("r"),t.encoding="binary";var e=t.read();return t.close(),e}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+r)}function hi(r){for(var t=Object.keys(r),e=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(r,t[n])&&e.push(t[n]);return e}function Wb(r){for(var t=[],e=hi(r),n=0;n!==e.length;++n)t[r[e[n]]]=e[n];return t}var B0=new Date(1899,11,30,0,0,0);function Ts(r,t){var e=r.getTime(),n=B0.getTime()+(r.getTimezoneOffset()-B0.getTimezoneOffset())*6e4;return(e-n)/(1440*60*1e3)}var G6=new Date,xI=B0.getTime()+(G6.getTimezoneOffset()-B0.getTimezoneOffset())*6e4,q_=G6.getTimezoneOffset();function yp(r){var t=new Date;return t.setTime(r*24*60*60*1e3+xI),t.getTimezoneOffset()!==q_&&t.setTime(t.getTime()+(t.getTimezoneOffset()-q_)*6e4),t}function yI(r){var t=0,e=0,n=!1,s=r.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!s)throw new Error("|"+r+"| is not an ISO8601 Duration");for(var i=1;i!=s.length;++i)if(s[i]){switch(e=1,i>3&&(n=!0),s[i].slice(s[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+s[i].slice(s[i].length-1));case"D":e*=24;case"H":e*=60;case"M":if(n)e*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=e*parseInt(s[i],10)}return t}var G_=new Date("2017-02-19T19:06:09.000Z"),W6=isNaN(G_.getFullYear())?new Date("2/19/17"):G_,vI=W6.getFullYear()==2017;function zn(r,t){var e=new Date(r);if(vI)return t>0?e.setTime(e.getTime()+e.getTimezoneOffset()*60*1e3):t<0&&e.setTime(e.getTime()-e.getTimezoneOffset()*60*1e3),e;if(r instanceof Date)return r;if(W6.getFullYear()==1917&&!isNaN(e.getFullYear())){var n=e.getFullYear();return r.indexOf(""+n)>-1||e.setFullYear(e.getFullYear()+100),e}var s=r.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return r.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function Bl(r,t){if(Er&&Buffer.isBuffer(r)){if(t){if(r[0]==255&&r[1]==254)return pf(r.slice(2).toString("utf16le"));if(r[1]==254&&r[2]==255)return pf(I6(r.slice(2).toString("binary")))}return r.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(r[0]==255&&r[1]==254)return pf(new TextDecoder("utf-16le").decode(r.slice(2)));if(r[0]==254&&r[1]==255)return pf(new TextDecoder("utf-16be").decode(r.slice(2)))}var e={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(r)&&(r=new Uint8Array(r)),new TextDecoder("latin1").decode(r).replace(/[]/g,function(i){return e[i]||i})}catch{}for(var n=[],s=0;s!=r.length;++s)n.push(String.fromCharCode(r[s]));return n.join("")}function Jn(r){if(typeof JSON<"u"&&!Array.isArray(r))return JSON.parse(JSON.stringify(r));if(typeof r!="object"||r==null)return r;if(r instanceof Date)return new Date(r.getTime());var t={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=Jn(r[e]));return t}function on(r,t){for(var e="";e.length<t;)e+=r;return e}function Ba(r){var t=Number(r);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(r))return t;var e=1,n=r.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return e*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(s,i){return e=-e,i}),!isNaN(t=Number(n)))?t/e:t}var wI=["january","february","march","april","may","june","july","august","september","october","november","december"];function eu(r){var t=new Date(r),e=new Date(NaN),n=t.getYear(),s=t.getMonth(),i=t.getDate();if(isNaN(i))return e;var a=r.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&wI.indexOf(a)==-1)return e}else if(a.match(/[a-z]/))return e;return n<0||n>8099?e:(s>0||i>1)&&n!=101?t:r.match(/[^-0-9:,\/\\]/)?e:t}var _I=(function(){var r="abacaba".split(/(:?b)/i).length==5;return function(e,n,s){if(r||typeof n=="string")return e.split(n);for(var i=e.split(n),a=[i[0]],l=1;l<i.length;++l)a.push(s),a.push(i[l]);return a}})();function X6(r){return r?r.content&&r.type?Bl(r.content,!0):r.data?ff(r.data):r.asNodeBuffer&&Er?ff(r.asNodeBuffer().toString("binary")):r.asBinary?ff(r.asBinary()):r._data&&r._data.getContent?ff(Bl(Array.prototype.slice.call(r._data.getContent(),0))):null:null}function Y6(r){if(!r)return null;if(r.data)return D_(r.data);if(r.asNodeBuffer&&Er)return r.asNodeBuffer();if(r._data&&r._data.getContent){var t=r._data.getContent();return typeof t=="string"?D_(t):Array.prototype.slice.call(t)}return r.content&&r.type?r.content:null}function SI(r){return r&&r.name.slice(-4)===".bin"?Y6(r):X6(r)}function pa(r,t){for(var e=r.FullPaths||hi(r.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),s=n.replace(/\\/g,"/"),i=0;i<e.length;++i){var a=e[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==a||s==a)return r.files?r.files[e[i]]:r.FileIndex[i]}return null}function Xb(r,t){var e=pa(r,t);if(e==null)throw new Error("Cannot find file "+t+" in zip");return e}function kn(r,t,e){if(!e)return SI(Xb(r,t));if(!t)return null;try{return kn(r,t)}catch{return null}}function Ks(r,t,e){if(!e)return X6(Xb(r,t));if(!t)return null;try{return Ks(r,t)}catch{return null}}function TI(r,t,e){return Y6(Xb(r,t))}function W_(r){for(var t=r.FullPaths||hi(r.files),e=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&e.push(t[n].replace(/^Root Entry[\/]/,""));return e.sort()}function kI(r,t,e){if(r.FullPaths){if(typeof e=="string"){var n;return Er?n=Hl(e):n=$j(e),Cr.utils.cfb_add(r,t,n)}Cr.utils.cfb_add(r,t,e)}else r.file(t,e)}function K6(r,t){switch(t.type){case"base64":return Cr.read(r,{type:"base64"});case"binary":return Cr.read(r,{type:"binary"});case"buffer":case"array":return Cr.read(r,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function df(r,t){if(r.charAt(0)=="/")return r.slice(1);var e=t.split("/");t.slice(-1)!="/"&&e.pop();for(var n=r.split("/");n.length!==0;){var s=n.shift();s===".."?e.pop():s!=="."&&e.push(s)}return e.join("/")}var Q6=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,EI=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,X_=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,AI=/<[^>]*>/g,ps=Q6.match(X_)?X_:AI,CI=/<\w*:/,NI=/<(\/?)\w+:/;function Zt(r,t,e){for(var n={},s=0,i=0;s!==r.length&&!((i=r.charCodeAt(s))===32||i===10||i===13);++s);if(t||(n[0]=r.slice(0,s)),s===r.length)return n;var a=r.match(EI),l=0,c="",o=0,u="",p="",h=1;if(a)for(o=0;o!=a.length;++o){for(p=a[o],i=0;i!=p.length&&p.charCodeAt(i)!==61;++i);for(u=p.slice(0,i).trim();p.charCodeAt(i+1)==32;)++i;for(h=(s=p.charCodeAt(i+1))==34||s==39?1:0,c=p.slice(i+1+h,p.length-h),l=0;l!=u.length&&u.charCodeAt(l)!==58;++l);if(l===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),n[u]=c,n[u.toLowerCase()]=c;else{var d=(l===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(l+1);if(n[d]&&u.slice(l-3,l)=="ext")continue;n[d]=c,n[d.toLowerCase()]=c}}return n}function di(r){return r.replace(NI,"<$1")}var Z6={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},RI=Wb(Z6),Rr=(function(){var r=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function e(n){var s=n+"",i=s.indexOf("<![CDATA[");if(i==-1)return s.replace(r,function(l,c){return Z6[l]||String.fromCharCode(parseInt(c,l.indexOf("x")>-1?16:10))||l}).replace(t,function(l,c){return String.fromCharCode(parseInt(c,16))});var a=s.indexOf("]]>");return e(s.slice(0,i))+s.slice(i+9,a)+e(s.slice(a+3))}})(),MI=/[&<>'"]/g,jI=/[\u0000-\u001f]/g;function Yb(r){var t=r+"";return t.replace(MI,function(e){return RI[e]}).replace(/\n/g,"<br/>").replace(jI,function(e){return"&#x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+";"})}var Y_=(function(){var r=/&#(\d+);/g;function t(e,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(r,t)}})();function en(r){switch(r){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Lg(r){for(var t="",e=0,n=0,s=0,i=0,a=0,l=0;e<r.length;){if(n=r.charCodeAt(e++),n<128){t+=String.fromCharCode(n);continue}if(s=r.charCodeAt(e++),n>191&&n<224){a=(n&31)<<6,a|=s&63,t+=String.fromCharCode(a);continue}if(i=r.charCodeAt(e++),n<240){t+=String.fromCharCode((n&15)<<12|(s&63)<<6|i&63);continue}a=r.charCodeAt(e++),l=((n&7)<<18|(s&63)<<12|(i&63)<<6|a&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function K_(r){var t=Xo(2*r.length),e,n,s=1,i=0,a=0,l;for(n=0;n<r.length;n+=s)s=1,(l=r.charCodeAt(n))<128?e=l:l<224?(e=(l&31)*64+(r.charCodeAt(n+1)&63),s=2):l<240?(e=(l&15)*4096+(r.charCodeAt(n+1)&63)*64+(r.charCodeAt(n+2)&63),s=3):(s=4,e=(l&7)*262144+(r.charCodeAt(n+1)&63)*4096+(r.charCodeAt(n+2)&63)*64+(r.charCodeAt(n+3)&63),e-=65536,a=55296+(e>>>10&1023),e=56320+(e&1023)),a!==0&&(t[i++]=a&255,t[i++]=a>>>8,a=0),t[i++]=e%256,t[i++]=e>>>8;return t.slice(0,i).toString("ucs2")}function Q_(r){return Hl(r,"binary").toString("utf8")}var $d="foo bar baz",Wr=Er&&(Q_($d)==Lg($d)&&Q_||K_($d)==Lg($d)&&K_)||Lg,pf=Er?function(r){return Hl(r,"utf8").toString("binary")}:function(r){for(var t=[],e=0,n=0,s=0;e<r.length;)switch(n=r.charCodeAt(e++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,s=r.charCodeAt(e++)-56320+(n<<10),t.push(String.fromCharCode(240+(s>>18&7))),t.push(String.fromCharCode(144+(s>>12&63))),t.push(String.fromCharCode(128+(s>>6&63))),t.push(String.fromCharCode(128+(s&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},Xf=(function(){var r={};return function(e,n){var s=e+"|"+(n||"");return r[s]?r[s]:r[s]=new RegExp("<(?:\\w+:)?"+e+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+e+">",n||"")}})(),J6=(function(){var r=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(e){for(var n=e.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<r.length;++s)n=n.replace(r[s][0],r[s][1]);return n}})(),II=(function(){var r={};return function(e){return r[e]!==void 0?r[e]:r[e]=new RegExp("<(?:vt:)?"+e+">([\\s\\S]*?)</(?:vt:)?"+e+">","g")}})(),DI=/<\/?(?:vt:)?variant>/g,OI=/<(?:vt:)([^>]*)>([\s\S]*)</;function Z_(r,t){var e=Zt(r),n=r.match(II(e.baseType))||[],s=[];if(n.length!=e.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+e.size);return s}return n.forEach(function(i){var a=i.replace(DI,"").match(OI);a&&s.push({v:Wr(a[2]),t:a[1]})}),s}var FI=/(^\s|\s$|\n)/;function PI(r){return hi(r).map(function(t){return" "+t+'="'+r[t]+'"'}).join("")}function LI(r,t,e){return"<"+r+(e!=null?PI(e):"")+(t!=null?(t.match(FI)?' xml:space="preserve"':"")+">"+t+"</"+r:"/")+">"}function Kb(r){if(Er&&Buffer.isBuffer(r))return r.toString("utf8");if(typeof r=="string")return r;if(typeof Uint8Array<"u"&&r instanceof Uint8Array)return Wr($l($b(r)));throw new Error("Bad input format: expected Buffer or string")}var Yf=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,BI={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},UI=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function VI(r,t){for(var e=1-2*(r[t+7]>>>7),n=((r[t+7]&127)<<4)+(r[t+6]>>>4&15),s=r[t+6]&15,i=5;i>=0;--i)s=s*256+r[t+i];return n==2047?s==0?e*(1/0):NaN:(n==0?n=-1022:(n-=1023,s+=Math.pow(2,52)),e*Math.pow(2,n-52)*s)}function zI(r,t,e){var n=(t<0||1/t==-1/0?1:0)<<7,s=0,i=0,a=n?-t:t;isFinite(a)?a==0?s=i=0:(s=Math.floor(Math.log(a)/Math.LN2),i=a*Math.pow(2,52-s),s<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?s=-1022:(i-=Math.pow(2,52),s+=1023)):(s=2047,i=isNaN(t)?26985:0);for(var l=0;l<=5;++l,i/=256)r[e+l]=i&255;r[e+6]=(s&15)<<4|i&15,r[e+7]=s>>4|n}var J_=function(r){for(var t=[],e=10240,n=0;n<r[0].length;++n)if(r[0][n])for(var s=0,i=r[0][n].length;s<i;s+=e)t.push.apply(t,r[0][n].slice(s,s+e));return t},e4=Er?function(r){return r[0].length>0&&Buffer.isBuffer(r[0][0])?Buffer.concat(r[0].map(function(t){return Buffer.isBuffer(t)?t:Hl(t)})):J_(r)}:J_,t4=function(r,t,e){for(var n=[],s=t;s<e;s+=2)n.push(String.fromCharCode(Pi(r,s)));return n.join("").replace(Ss,"")},Qb=Er?function(r,t,e){return Buffer.isBuffer(r)?r.toString("utf16le",t,e).replace(Ss,""):t4(r,t,e)}:t4,r4=function(r,t,e){for(var n=[],s=t;s<t+e;++s)n.push(("0"+r[s].toString(16)).slice(-2));return n.join("")},e8=Er?function(r,t,e){return Buffer.isBuffer(r)?r.toString("hex",t,t+e):r4(r,t,e)}:r4,n4=function(r,t,e){for(var n=[],s=t;s<e;s++)n.push(String.fromCharCode(Dc(r,s)));return n.join("")},mh=Er?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf8",e,n):n4(t,e,n)}:n4,t8=function(r,t){var e=Ys(r,t);return e>0?mh(r,t+4,t+4+e-1):""},r8=t8,n8=function(r,t){var e=Ys(r,t);return e>0?mh(r,t+4,t+4+e-1):""},s8=n8,a8=function(r,t){var e=2*Ys(r,t);return e>0?mh(r,t+4,t+4+e-1):""},i8=a8,o8=function(t,e){var n=Ys(t,e);return n>0?Qb(t,e+4,e+4+n):""},l8=o8,c8=function(r,t){var e=Ys(r,t);return e>0?mh(r,t+4,t+4+e):""},u8=c8,f8=function(r,t){return VI(r,t)},U0=f8,h8=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Er&&(r8=function(t,e){if(!Buffer.isBuffer(t))return t8(t,e);var n=t.readUInt32LE(e);return n>0?t.toString("utf8",e+4,e+4+n-1):""},s8=function(t,e){if(!Buffer.isBuffer(t))return n8(t,e);var n=t.readUInt32LE(e);return n>0?t.toString("utf8",e+4,e+4+n-1):""},i8=function(t,e){if(!Buffer.isBuffer(t))return a8(t,e);var n=2*t.readUInt32LE(e);return t.toString("utf16le",e+4,e+4+n-1)},l8=function(t,e){if(!Buffer.isBuffer(t))return o8(t,e);var n=t.readUInt32LE(e);return t.toString("utf16le",e+4,e+4+n)},u8=function(t,e){if(!Buffer.isBuffer(t))return c8(t,e);var n=t.readUInt32LE(e);return t.toString("utf8",e+4,e+4+n)},U0=function(t,e){return Buffer.isBuffer(t)?t.readDoubleLE(e):f8(t,e)},h8=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Dc=function(r,t){return r[t]},Pi=function(r,t){return r[t+1]*256+r[t]},HI=function(r,t){var e=r[t+1]*256+r[t];return e<32768?e:(65535-e+1)*-1},Ys=function(r,t){return r[t+3]*(1<<24)+(r[t+2]<<16)+(r[t+1]<<8)+r[t]},wl=function(r,t){return r[t+3]<<24|r[t+2]<<16|r[t+1]<<8|r[t]},$I=function(r,t){return r[t]<<24|r[t+1]<<16|r[t+2]<<8|r[t+3]};function Sf(r,t){var e="",n,s,i=[],a,l,c,o;switch(t){case"dbcs":if(o=this.l,Er&&Buffer.isBuffer(this))e=this.slice(this.l,this.l+2*r).toString("utf16le");else for(c=0;c<r;++c)e+=String.fromCharCode(Pi(this,o)),o+=2;r*=2;break;case"utf8":e=mh(this,this.l,this.l+r);break;case"utf16le":r*=2,e=Qb(this,this.l,this.l+r);break;case"wstr":return Sf.call(this,r,"dbcs");case"lpstr-ansi":e=r8(this,this.l),r=4+Ys(this,this.l);break;case"lpstr-cp":e=s8(this,this.l),r=4+Ys(this,this.l);break;case"lpwstr":e=i8(this,this.l),r=4+2*Ys(this,this.l);break;case"lpp4":r=4+Ys(this,this.l),e=l8(this,this.l),r&2&&(r+=2);break;case"8lpp4":r=4+Ys(this,this.l),e=u8(this,this.l),r&3&&(r+=4-(r&3));break;case"cstr":for(r=0,e="";(a=Dc(this,this.l+r++))!==0;)i.push(Hd(a));e=i.join("");break;case"_wstr":for(r=0,e="";(a=Pi(this,this.l+r))!==0;)i.push(Hd(a)),r+=2;r+=2,e=i.join("");break;case"dbcs-cont":for(e="",o=this.l,c=0;c<r;++c){if(this.lens&&this.lens.indexOf(o)!==-1)return a=Dc(this,o),this.l=o+1,l=Sf.call(this,r-c,a?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(Hd(Pi(this,o))),o+=2}e=i.join(""),r*=2;break;case"cpstr":case"sbcs-cont":for(e="",o=this.l,c=0;c!=r;++c){if(this.lens&&this.lens.indexOf(o)!==-1)return a=Dc(this,o),this.l=o+1,l=Sf.call(this,r-c,a?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(Hd(Dc(this,o))),o+=1}e=i.join("");break;default:switch(r){case 1:return n=Dc(this,this.l),this.l++,n;case 2:return n=(t==="i"?HI:Pi)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(n=(r>0?wl:$I)(this,this.l),this.l+=4,n):(s=Ys(this,this.l),this.l+=4,s);case 8:case-8:if(t==="f")return r==8?s=U0(this,this.l):s=U0([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;r=8;case 16:e=e8(this,this.l,r);break}}return this.l+=r,e}var qI=function(r,t,e){r[e]=t&255,r[e+1]=t>>>8&255,r[e+2]=t>>>16&255,r[e+3]=t>>>24&255},GI=function(r,t,e){r[e]=t&255,r[e+1]=t>>8&255,r[e+2]=t>>16&255,r[e+3]=t>>24&255},WI=function(r,t,e){r[e]=t&255,r[e+1]=t>>>8&255};function XI(r,t,e){var n=0,s=0;if(e==="dbcs"){for(s=0;s!=t.length;++s)WI(this,t.charCodeAt(s),this.l+2*s);n=2*t.length}else if(e==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=t.length;++s)this[this.l+s]=t.charCodeAt(s)&255;n=t.length}else if(e==="hex"){for(;s<r;++s)this[this.l++]=parseInt(t.slice(2*s,2*s+2),16)||0;return this}else if(e==="utf16le"){var i=Math.min(this.l+r,this.length);for(s=0;s<Math.min(t.length,r);++s){var a=t.charCodeAt(s);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(r){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,qI(this,t,this.l);break;case 8:if(n=8,e==="f"){zI(this,t,this.l);break}case 16:break;case-4:n=4,GI(this,t,this.l);break}return this.l+=n,this}function d8(r,t){var e=e8(this,this.l,r.length>>1);if(e!==r)throw new Error(t+"Expected "+r+" saw "+e);this.l+=r.length>>1}function Qn(r,t){r.l=t,r.read_shift=Sf,r.chk=d8,r.write_shift=XI}function ds(r,t){r.l+=t}function jn(r){var t=Xo(r);return Qn(t,0),t}function Yi(r,t,e){if(r){var n,s,i;Qn(r,r.l||0);for(var a=r.length,l=0,c=0;r.l<a;){l=r.read_shift(1),l&128&&(l=(l&127)+((r.read_shift(1)&127)<<7));var o=G0[l]||G0[65535];for(n=r.read_shift(1),i=n&127,s=1;s<4&&n&128;++s)i+=((n=r.read_shift(1))&127)<<7*s;c=r.l+i;var u=o.f&&o.f(r,i,e);if(r.l=c,t(u,o,l))return}}}function T1(){var r=[],t=Er?256:2048,e=function(o){var u=jn(o);return Qn(u,0),u},n=e(t),s=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&r.push(n),n=null)},i=function(o){return n&&o<n.length-n.l?n:(s(),n=e(Math.max(o+1,t)))},a=function(){return s(),Co(r)},l=function(o){s(),n=o,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:l,end:a,_bufs:r}}function Tf(r,t,e){var n=Jn(r);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!e||e.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function s4(r,t,e){var n=Jn(r);return n.s=Tf(n.s,t.s,e),n.e=Tf(n.e,t.s,e),n}function kf(r,t){if(r.cRel&&r.c<0)for(r=Jn(r);r.c<0;)r.c+=t>8?16384:256;if(r.rRel&&r.r<0)for(r=Jn(r);r.r<0;)r.r+=t>8?1048576:t>5?65536:16384;var e=sr(r);return!r.cRel&&r.cRel!=null&&(e=QI(e)),!r.rRel&&r.rRel!=null&&(e=YI(e)),e}function Bg(r,t){return r.s.r==0&&!r.s.rRel&&r.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!r.e.rRel?(r.s.cRel?"":"$")+Dn(r.s.c)+":"+(r.e.cRel?"":"$")+Dn(r.e.c):r.s.c==0&&!r.s.cRel&&r.e.c==(t.biff>=12?16383:255)&&!r.e.cRel?(r.s.rRel?"":"$")+es(r.s.r)+":"+(r.e.rRel?"":"$")+es(r.e.r):kf(r.s,t.biff)+":"+kf(r.e,t.biff)}function Zb(r){return parseInt(KI(r),10)-1}function es(r){return""+(r+1)}function YI(r){return r.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function KI(r){return r.replace(/\$(\d+)$/,"$1")}function Jb(r){for(var t=ZI(r),e=0,n=0;n!==t.length;++n)e=26*e+t.charCodeAt(n)-64;return e-1}function Dn(r){if(r<0)throw new Error("invalid column "+r);var t="";for(++r;r;r=Math.floor((r-1)/26))t=String.fromCharCode((r-1)%26+65)+t;return t}function QI(r){return r.replace(/^([A-Z])/,"$$$1")}function ZI(r){return r.replace(/^\$([A-Z])/,"$1")}function JI(r){return r.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function _s(r){for(var t=0,e=0,n=0;n<r.length;++n){var s=r.charCodeAt(n);s>=48&&s<=57?t=10*t+(s-48):s>=65&&s<=90&&(e=26*e+(s-64))}return{c:e-1,r:t-1}}function sr(r){for(var t=r.c+1,e="";t;t=(t-1)/26|0)e=String.fromCharCode((t-1)%26+65)+e;return e+(r.r+1)}function du(r){var t=r.indexOf(":");return t==-1?{s:_s(r),e:_s(r)}:{s:_s(r.slice(0,t)),e:_s(r.slice(t+1))}}function Nr(r,t){return typeof t>"u"||typeof t=="number"?Nr(r.s,r.e):(typeof r!="string"&&(r=sr(r)),typeof t!="string"&&(t=sr(t)),r==t?r:r+":"+t)}function un(r){var t={s:{c:0,r:0},e:{c:0,r:0}},e=0,n=0,s=0,i=r.length;for(e=0;n<i&&!((s=r.charCodeAt(n)-64)<1||s>26);++n)e=26*e+s;for(t.s.c=--e,e=0;n<i&&!((s=r.charCodeAt(n)-48)<0||s>9);++n)e=10*e+s;if(t.s.r=--e,n===i||s!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,e=0;n!=i&&!((s=r.charCodeAt(n)-64)<1||s>26);++n)e=26*e+s;for(t.e.c=--e,e=0;n!=i&&!((s=r.charCodeAt(n)-48)<0||s>9);++n)e=10*e+s;return t.e.r=--e,t}function a4(r,t){var e=r.t=="d"&&t instanceof Date;if(r.z!=null)try{return r.w=ya(r.z,e?Ts(t):t)}catch{}try{return r.w=ya((r.XF||{}).numFmtId||(e?14:0),e?Ts(t):t)}catch{return""+t}}function Gi(r,t,e){return r==null||r.t==null||r.t=="z"?"":r.w!==void 0?r.w:(r.t=="d"&&!r.z&&e&&e.dateNF&&(r.z=e.dateNF),r.t=="e"?Wl[r.v]||r.v:t==null?a4(r,r.v):a4(r,t))}function Zo(r,t){var e=t&&t.sheet?t.sheet:"Sheet1",n={};return n[e]=r,{SheetNames:[e],Sheets:n}}function p8(r,t,e){var n=e||{},s=r?Array.isArray(r):n.dense,i=r||(s?[]:{}),a=0,l=0;if(i&&n.origin!=null){if(typeof n.origin=="number")a=n.origin;else{var c=typeof n.origin=="string"?_s(n.origin):n.origin;a=c.r,l=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var o={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=un(i["!ref"]);o.s.c=u.s.c,o.s.r=u.s.r,o.e.c=Math.max(o.e.c,u.e.c),o.e.r=Math.max(o.e.r,u.e.r),a==-1&&(o.e.r=a=u.e.r+1)}for(var p=0;p!=t.length;++p)if(t[p]){if(!Array.isArray(t[p]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[p].length;++h)if(!(typeof t[p][h]>"u")){var d={v:t[p][h]},x=a+p,b=l+h;if(o.s.r>x&&(o.s.r=x),o.s.c>b&&(o.s.c=b),o.e.r<x&&(o.e.r=x),o.e.c<b&&(o.e.c=b),t[p][h]&&typeof t[p][h]=="object"&&!Array.isArray(t[p][h])&&!(t[p][h]instanceof Date))d=t[p][h];else if(Array.isArray(d.v)&&(d.f=t[p][h][1],d.v=d.v[0]),d.v===null)if(d.f)d.t="n";else if(n.nullError)d.t="e",d.v=0;else if(n.sheetStubs)d.t="z";else continue;else typeof d.v=="number"?d.t="n":typeof d.v=="boolean"?d.t="b":d.v instanceof Date?(d.z=n.dateNF||ur[14],n.cellDates?(d.t="d",d.w=ya(d.z,Ts(d.v))):(d.t="n",d.v=Ts(d.v),d.w=ya(d.z,d.v))):d.t="s";if(s)i[x]||(i[x]=[]),i[x][b]&&i[x][b].z&&(d.z=i[x][b].z),i[x][b]=d;else{var g=sr({c:b,r:x});i[g]&&i[g].z&&(d.z=i[g].z),i[g]=d}}}return o.s.c<1e7&&(i["!ref"]=Nr(o)),i}function pu(r,t){return p8(null,r,t)}function eD(r){return r.read_shift(4,"i")}function fs(r){var t=r.read_shift(4);return t===0?"":r.read_shift(t,"dbcs")}function tD(r){return{ich:r.read_shift(2),ifnt:r.read_shift(2)}}function ex(r,t){var e=r.l,n=r.read_shift(1),s=fs(r),i=[],a={t:s,h:s};if((n&1)!==0){for(var l=r.read_shift(4),c=0;c!=l;++c)i.push(tD(r));a.r=i}else a.r=[{ich:0,ifnt:0}];return r.l=e+t,a}var rD=ex;function va(r){var t=r.read_shift(4),e=r.read_shift(2);return e+=r.read_shift(1)<<16,r.l++,{c:t,iStyleRef:e}}function ql(r){var t=r.read_shift(2);return t+=r.read_shift(1)<<16,r.l++,{c:-1,iStyleRef:t}}var nD=fs;function tx(r){var t=r.read_shift(4);return t===0||t===4294967295?"":r.read_shift(t,"dbcs")}var sD=fs,k1=tx;function rx(r){var t=r.slice(r.l,r.l+4),e=t[0]&1,n=t[0]&2;r.l+=4;var s=n===0?U0([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):wl(t,0)>>2;return e?s/100:s}function m8(r){var t={s:{},e:{}};return t.s.r=r.read_shift(4),t.e.r=r.read_shift(4),t.s.c=r.read_shift(4),t.e.c=r.read_shift(4),t}var Gl=m8;function cs(r){if(r.length-r.l<8)throw"XLS Xnum Buffer underflow";return r.read_shift(8,"f")}function aD(r){var t={},e=r.read_shift(1),n=e>>>1,s=r.read_shift(1),i=r.read_shift(2,"i"),a=r.read_shift(1),l=r.read_shift(1),c=r.read_shift(1);switch(r.l++,n){case 0:t.auto=1;break;case 1:t.index=s;var o=Ml[s];o&&(t.rgb=Qf(o));break;case 2:t.rgb=Qf([a,l,c]);break;case 3:t.theme=s;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function iD(r){var t=r.read_shift(1);r.l++;var e={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return e}function g8(r,t){var e={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=r.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return e[r.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return r.l-=4,r.read_shift(0,t==1?"lpstr":"lpwstr")}function oD(r){return g8(r,1)}function lD(r){return g8(r,2)}var nx=2,js=3,qd=11,i4=12,V0=19,Gd=64,cD=65,uD=71,fD=4108,hD=4126,Bn=80,b8=81,dD=[Bn,b8],pD={1:{n:"CodePage",t:nx},2:{n:"Category",t:Bn},3:{n:"PresentationFormat",t:Bn},4:{n:"ByteCount",t:js},5:{n:"LineCount",t:js},6:{n:"ParagraphCount",t:js},7:{n:"SlideCount",t:js},8:{n:"NoteCount",t:js},9:{n:"HiddenCount",t:js},10:{n:"MultimediaClipCount",t:js},11:{n:"ScaleCrop",t:qd},12:{n:"HeadingPairs",t:fD},13:{n:"TitlesOfParts",t:hD},14:{n:"Manager",t:Bn},15:{n:"Company",t:Bn},16:{n:"LinksUpToDate",t:qd},17:{n:"CharacterCount",t:js},19:{n:"SharedDoc",t:qd},22:{n:"HyperlinksChanged",t:qd},23:{n:"AppVersion",t:js,p:"version"},24:{n:"DigSig",t:cD},26:{n:"ContentType",t:Bn},27:{n:"ContentStatus",t:Bn},28:{n:"Language",t:Bn},29:{n:"Version",t:Bn},255:{},2147483648:{n:"Locale",t:V0},2147483651:{n:"Behavior",t:V0},1919054434:{}},mD={1:{n:"CodePage",t:nx},2:{n:"Title",t:Bn},3:{n:"Subject",t:Bn},4:{n:"Author",t:Bn},5:{n:"Keywords",t:Bn},6:{n:"Comments",t:Bn},7:{n:"Template",t:Bn},8:{n:"LastAuthor",t:Bn},9:{n:"RevNumber",t:Bn},10:{n:"EditTime",t:Gd},11:{n:"LastPrinted",t:Gd},12:{n:"CreatedDate",t:Gd},13:{n:"ModifiedDate",t:Gd},14:{n:"PageCount",t:js},15:{n:"WordCount",t:js},16:{n:"CharCount",t:js},17:{n:"Thumbnail",t:uD},18:{n:"Application",t:Bn},19:{n:"DocSecurity",t:js},255:{},2147483648:{n:"Locale",t:V0},2147483651:{n:"Behavior",t:V0},1919054434:{}},o4={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},gD=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function bD(r){return r.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var xD=bD([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Ml=Jn(xD),Wl={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},x8={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},l4={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function yD(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function vD(r){var t=yD();if(!r||!r.match)return t;var e={};if((r.match(ps)||[]).forEach(function(n){var s=Zt(n);switch(s[0].replace(CI,"<")){case"<?xml":break;case"<Types":t.xmlns=s["xmlns"+(s[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":e[s.Extension]=s.ContentType;break;case"<Override":t[l4[s.ContentType]]!==void 0&&t[l4[s.ContentType]].push(s.PartName);break}}),t.xmlns!==BI.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=e,delete t.calcchains,t}var Oc={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function E1(r){var t=r.lastIndexOf("/");return r.slice(0,t+1)+"_rels/"+r.slice(t+1)+".rels"}function Ef(r,t){var e={"!id":{}};if(!r)return e;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(r.match(ps)||[]).forEach(function(s){var i=Zt(s);if(i[0]==="<Relationship"){var a={};a.Type=i.Type,a.Target=i.Target,a.Id=i.Id,i.TargetMode&&(a.TargetMode=i.TargetMode);var l=i.TargetMode==="External"?i.Target:df(i.Target,t);e[l]=a,n[i.Id]=a}}),e["!id"]=n,e}var wD="application/vnd.oasis.opendocument.spreadsheet";function _D(r,t){for(var e=Kb(r),n,s;n=Yf.exec(e);)switch(n[3]){case"manifest":break;case"file-entry":if(s=Zt(n[0],!1),s.path=="/"&&s.type!==wD)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var Af=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],SD=(function(){for(var r=new Array(Af.length),t=0;t<Af.length;++t){var e=Af[t],n="(?:"+e[0].slice(0,e[0].indexOf(":"))+":)"+e[0].slice(e[0].indexOf(":")+1);r[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return r})();function y8(r){var t={};r=Wr(r);for(var e=0;e<Af.length;++e){var n=Af[e],s=r.match(SD[e]);s!=null&&s.length>0&&(t[n[1]]=Rr(s[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=zn(t[n[1]]))}return t}var TD=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function v8(r,t,e,n){var s=[];if(typeof r=="string")s=Z_(r,n);else for(var i=0;i<r.length;++i)s=s.concat(r[i].map(function(u){return{v:u}}));var a=typeof t=="string"?Z_(t,n).map(function(u){return u.v}):t,l=0,c=0;if(a.length>0)for(var o=0;o!==s.length;o+=2){switch(c=+s[o+1].v,s[o].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":e.Worksheets=c,e.SheetNames=a.slice(l,l+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":e.NamedRanges=c,e.DefinedNames=a.slice(l,l+c);break;case"Charts":case"Diagramme":e.Chartsheets=c,e.ChartNames=a.slice(l,l+c);break}l+=c}}function kD(r,t,e){var n={};return t||(t={}),r=Wr(r),TD.forEach(function(s){var i=(r.match(Xf(s[0]))||[])[1];switch(s[2]){case"string":i&&(t[s[1]]=Rr(i));break;case"bool":t[s[1]]=i==="true";break;case"raw":var a=r.match(new RegExp("<"+s[0]+"[^>]*>([\\s\\S]*?)</"+s[0]+">"));a&&a.length>0&&(n[s[1]]=a[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&v8(n.HeadingPairs,n.TitlesOfParts,t,e),t}var ED=/<[^>]+>[^<]*/g;function AD(r,t){var e={},n="",s=r.match(ED);if(s)for(var i=0;i!=s.length;++i){var a=s[i],l=Zt(a);switch(l[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Rr(l.name);break;case"</property>":n=null;break;default:if(a.indexOf("<vt:")===0){var c=a.split(">"),o=c[0].slice(4),u=c[1];switch(o){case"lpstr":case"bstr":case"lpwstr":e[n]=Rr(u);break;case"bool":e[n]=en(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":e[n]=parseInt(u,10);break;case"r4":case"r8":case"decimal":e[n]=parseFloat(u);break;case"filetime":case"date":e[n]=zn(u);break;case"cy":case"error":e[n]=Rr(u);break;default:if(o.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",a,o,c)}}else if(a.slice(0,2)!=="</"){if(t.WTF)throw new Error(a)}}}return e}var CD={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},Ug;function ND(r,t,e){Ug||(Ug=Wb(CD)),t=Ug[t]||t,r[t]=e}function sx(r){var t=r.read_shift(4),e=r.read_shift(4);return new Date((e/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function w8(r,t,e){var n=r.l,s=r.read_shift(0,"lpstr-cp");if(e)for(;r.l-n&3;)++r.l;return s}function _8(r,t,e){var n=r.read_shift(0,"lpwstr");return n}function S8(r,t,e){return t===31?_8(r):w8(r,t,e)}function A1(r,t,e){return S8(r,t,e===!1?0:4)}function RD(r,t){if(!t)throw new Error("VtUnalignedString must have positive length");return S8(r,t,0)}function MD(r){for(var t=r.read_shift(4),e=[],n=0;n!=t;++n){var s=r.l;e[n]=r.read_shift(0,"lpwstr").replace(Ss,""),r.l-s&2&&(r.l+=2)}return e}function jD(r){for(var t=r.read_shift(4),e=[],n=0;n!=t;++n)e[n]=r.read_shift(0,"lpstr-cp").replace(Ss,"");return e}function ID(r){var t=r.l,e=z0(r,b8);r[r.l]==0&&r[r.l+1]==0&&r.l-t&2&&(r.l+=2);var n=z0(r,js);return[e,n]}function DD(r){for(var t=r.read_shift(4),e=[],n=0;n<t/2;++n)e.push(ID(r));return e}function c4(r,t){for(var e=r.read_shift(4),n={},s=0;s!=e;++s){var i=r.read_shift(4),a=r.read_shift(4);n[i]=r.read_shift(a,t===1200?"utf16le":"utf8").replace(Ss,"").replace(hf,"!"),t===1200&&a%2&&(r.l+=2)}return r.l&3&&(r.l=r.l>>3<<2),n}function T8(r){var t=r.read_shift(4),e=r.slice(r.l,r.l+t);return r.l+=t,(t&3)>0&&(r.l+=4-(t&3)&3),e}function OD(r){var t={};return t.Size=r.read_shift(4),r.l+=t.Size+3-(t.Size-1)%4,t}function z0(r,t,e){var n=r.read_shift(2),s,i=e||{};if(r.l+=2,t!==i4&&n!==t&&dD.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===i4?n:t){case 2:return s=r.read_shift(2,"i"),i.raw||(r.l+=2),s;case 3:return s=r.read_shift(4,"i"),s;case 11:return r.read_shift(4)!==0;case 19:return s=r.read_shift(4),s;case 30:return w8(r,n,4).replace(Ss,"");case 31:return _8(r);case 64:return sx(r);case 65:return T8(r);case 71:return OD(r);case 80:return A1(r,n,!i.raw).replace(Ss,"");case 81:return RD(r,n).replace(Ss,"");case 4108:return DD(r);case 4126:case 4127:return n==4127?MD(r):jD(r);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function u4(r,t){var e=r.l,n=r.read_shift(4),s=r.read_shift(4),i=[],a=0,l=0,c=-1,o={};for(a=0;a!=s;++a){var u=r.read_shift(4),p=r.read_shift(4);i[a]=[u,p+e]}i.sort(function(y,T){return y[1]-T[1]});var h={};for(a=0;a!=s;++a){if(r.l!==i[a][1]){var d=!0;if(a>0&&t)switch(t[i[a-1][0]].t){case 2:r.l+2===i[a][1]&&(r.l+=2,d=!1);break;case 80:r.l<=i[a][1]&&(r.l=i[a][1],d=!1);break;case 4108:r.l<=i[a][1]&&(r.l=i[a][1],d=!1);break}if((!t||a==0)&&r.l<=i[a][1]&&(d=!1,r.l=i[a][1]),d)throw new Error("Read Error: Expected address "+i[a][1]+" at "+r.l+" :"+a)}if(t){var x=t[i[a][0]];if(h[x.n]=z0(r,x.t,{raw:!0}),x.p==="version"&&(h[x.n]=String(h[x.n]>>16)+"."+("0000"+String(h[x.n]&65535)).slice(-4)),x.n=="CodePage")switch(h[x.n]){case 0:h[x.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Fa(l=h[x.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[x.n])}}else if(i[a][0]===1){if(l=h.CodePage=z0(r,nx),Fa(l),c!==-1){var b=r.l;r.l=i[c][1],o=c4(r,l),r.l=b}}else if(i[a][0]===0){if(l===0){c=a,r.l=i[a+1][1];continue}o=c4(r,l)}else{var g=o[i[a][0]],v;switch(r[r.l]){case 65:r.l+=4,v=T8(r);break;case 30:r.l+=4,v=A1(r,r[r.l-4]).replace(/\u0000+$/,"");break;case 31:r.l+=4,v=A1(r,r[r.l-4]).replace(/\u0000+$/,"");break;case 3:r.l+=4,v=r.read_shift(4,"i");break;case 19:r.l+=4,v=r.read_shift(4);break;case 5:r.l+=4,v=r.read_shift(8,"f");break;case 11:r.l+=4,v=bn(r,4);break;case 64:r.l+=4,v=zn(sx(r));break;default:throw new Error("unparsed value: "+r[r.l])}h[g]=v}}return r.l=e+n,h}function f4(r,t,e){var n=r.content;if(!n)return{};Qn(n,0);var s,i,a,l,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var o=n.read_shift(4),u=n.read_shift(16);if(u!==Cr.utils.consts.HEADER_CLSID&&u!==e)throw new Error("Bad PropertySet CLSID "+u);if(s=n.read_shift(4),s!==1&&s!==2)throw new Error("Unrecognized #Sets: "+s);if(i=n.read_shift(16),l=n.read_shift(4),s===1&&l!==n.l)throw new Error("Length mismatch: "+l+" !== "+n.l);s===2&&(a=n.read_shift(16),c=n.read_shift(4));var p=u4(n,t),h={SystemIdentifier:o};for(var d in p)h[d]=p[d];if(h.FMTID=i,s===1)return h;if(c-n.l==2&&(n.l+=2),n.l!==c)throw new Error("Length mismatch 2: "+n.l+" !== "+c);var x;try{x=u4(n,null)}catch{}for(d in x)h[d]=x[d];return h.FMTID=[i,a],h}function To(r,t){return r.read_shift(t),null}function FD(r,t,e){for(var n=[],s=r.l+t;r.l<s;)n.push(e(r,s-r.l));if(s!==r.l)throw new Error("Slurp error");return n}function bn(r,t){return r.read_shift(t)===1}function En(r){return r.read_shift(2,"u")}function k8(r,t){return FD(r,t,En)}function PD(r){var t=r.read_shift(1),e=r.read_shift(1);return e===1?t:t===1}function gh(r,t,e){var n=r.read_shift(e&&e.biff>=12?2:1),s="sbcs-cont";if(e&&e.biff>=8,!e||e.biff==8){var i=r.read_shift(1);i&&(s="dbcs-cont")}else e.biff==12&&(s="wstr");e.biff>=2&&e.biff<=5&&(s="cpstr");var a=n?r.read_shift(n,s):"";return a}function LD(r){var t=r.read_shift(2),e=r.read_shift(1),n=e&4,s=e&8,i=1+(e&1),a=0,l,c={};s&&(a=r.read_shift(2)),n&&(l=r.read_shift(4));var o=i==2?"dbcs-cont":"sbcs-cont",u=t===0?"":r.read_shift(t,o);return s&&(r.l+=4*a),n&&(r.l+=l),c.t=u,s||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function Ul(r,t,e){var n;if(e){if(e.biff>=2&&e.biff<=5)return r.read_shift(t,"cpstr");if(e.biff>=12)return r.read_shift(t,"dbcs-cont")}var s=r.read_shift(1);return s===0?n=r.read_shift(t,"sbcs-cont"):n=r.read_shift(t,"dbcs-cont"),n}function bh(r,t,e){var n=r.read_shift(e&&e.biff==2?1:2);return n===0?(r.l++,""):Ul(r,n,e)}function Xl(r,t,e){if(e.biff>5)return bh(r,t,e);var n=r.read_shift(1);return n===0?(r.l++,""):r.read_shift(n,e.biff<=4||!r.lens?"cpstr":"sbcs-cont")}function BD(r){var t=r.read_shift(1);r.l++;var e=r.read_shift(2);return r.l+=2,[t,e]}function UD(r){var t=r.read_shift(4),e=r.l,n=!1;t>24&&(r.l+=t-24,r.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),r.l=e);var s=r.read_shift((n?t-24:t)>>1,"utf16le").replace(Ss,"");return n&&(r.l+=24),s}function VD(r){for(var t=r.read_shift(2),e="";t-- >0;)e+="../";var n=r.read_shift(0,"lpstr-ansi");if(r.l+=2,r.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var s=r.read_shift(4);if(s===0)return e+n.replace(/\\/g,"/");var i=r.read_shift(4);if(r.read_shift(2)!=3)throw new Error("Bad FileMoniker");var a=r.read_shift(i>>1,"utf16le").replace(Ss,"");return e+a}function zD(r,t){var e=r.read_shift(16);switch(e){case"e0c9ea79f9bace118c8200aa004ba90b":return UD(r);case"0303000000000000c000000000000046":return VD(r);default:throw new Error("Unsupported Moniker "+e)}}function Wd(r){var t=r.read_shift(4),e=t>0?r.read_shift(t,"utf16le").replace(Ss,""):"";return e}function HD(r,t){var e=r.l+t,n=r.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var s=r.read_shift(2);r.l+=2;var i,a,l,c,o="",u,p;s&16&&(i=Wd(r,e-r.l)),s&128&&(a=Wd(r,e-r.l)),(s&257)===257&&(l=Wd(r,e-r.l)),(s&257)===1&&(c=zD(r,e-r.l)),s&8&&(o=Wd(r,e-r.l)),s&32&&(u=r.read_shift(16)),s&64&&(p=sx(r)),r.l=e;var h=a||l||c||"";h&&o&&(h+="#"+o),h||(h="#"+o),s&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var d={Target:h};return u&&(d.guid=u),p&&(d.time=p),i&&(d.Tooltip=i),d}function E8(r){var t=r.read_shift(1),e=r.read_shift(1),n=r.read_shift(1),s=r.read_shift(1);return[t,e,n,s]}function A8(r,t){var e=E8(r);return e[3]=0,e}function pi(r){var t=r.read_shift(2),e=r.read_shift(2),n=r.read_shift(2);return{r:t,c:e,ixfe:n}}function $D(r){var t=r.read_shift(2),e=r.read_shift(2);return r.l+=8,{type:t,flags:e}}function qD(r,t,e){return t===0?"":Xl(r,t,e)}function GD(r,t,e){var n=e.biff>8?4:2,s=r.read_shift(n),i=r.read_shift(n,"i"),a=r.read_shift(n,"i");return[s,i,a]}function C8(r){var t=r.read_shift(2),e=rx(r);return[t,e]}function WD(r,t,e){r.l+=4,t-=4;var n=r.l+t,s=gh(r,t,e),i=r.read_shift(2);if(n-=r.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return r.l+=i,s}function vp(r){var t=r.read_shift(2),e=r.read_shift(2),n=r.read_shift(2),s=r.read_shift(2);return{s:{c:n,r:t},e:{c:s,r:e}}}function N8(r){var t=r.read_shift(2),e=r.read_shift(2),n=r.read_shift(1),s=r.read_shift(1);return{s:{c:n,r:t},e:{c:s,r:e}}}var XD=N8;function R8(r){r.l+=4;var t=r.read_shift(2),e=r.read_shift(2),n=r.read_shift(2);return r.l+=12,[e,t,n]}function YD(r){var t={};return r.l+=4,r.l+=16,t.fSharedNote=r.read_shift(2),r.l+=4,t}function KD(r){var t={};return r.l+=4,r.cf=r.read_shift(2),t}function as(r){r.l+=2,r.l+=r.read_shift(2)}var QD={0:as,4:as,5:as,6:as,7:KD,8:as,9:as,10:as,11:as,12:as,13:YD,14:as,15:as,16:as,17:as,18:as,19:as,20:as,21:R8};function ZD(r,t){for(var e=r.l+t,n=[];r.l<e;){var s=r.read_shift(2);r.l-=2;try{n.push(QD[s](r,e-r.l))}catch{return r.l=e,n}}return r.l!=e&&(r.l=e),n}function Xd(r,t){var e={BIFFVer:0,dt:0};switch(e.BIFFVer=r.read_shift(2),t-=2,t>=2&&(e.dt=r.read_shift(2),r.l-=2),e.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+e.BIFFVer)}return r.read_shift(t),e}function JD(r,t){return t===0||r.read_shift(2),1200}function eO(r,t,e){if(e.enc)return r.l+=t,"";var n=r.l,s=Xl(r,0,e);return r.read_shift(t+n-r.l),s}function tO(r,t,e){var n=e&&e.biff==8||t==2?r.read_shift(2):(r.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function rO(r,t,e){var n=r.read_shift(4),s=r.read_shift(1)&3,i=r.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var a=gh(r,0,e);return a.length===0&&(a="Sheet1"),{pos:n,hs:s,dt:i,name:a}}function nO(r,t){for(var e=r.l+t,n=r.read_shift(4),s=r.read_shift(4),i=[],a=0;a!=s&&r.l<e;++a)i.push(LD(r));return i.Count=n,i.Unique=s,i}function sO(r,t){var e={};return e.dsst=r.read_shift(2),r.l+=t-2,e}function aO(r){var t={};t.r=r.read_shift(2),t.c=r.read_shift(2),t.cnt=r.read_shift(2)-t.c;var e=r.read_shift(2);r.l+=4;var n=r.read_shift(1);return r.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=e/20),t}function iO(r){var t=$D(r);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var e=r.read_shift(4);return e!==0}function oO(r){return r.read_shift(2),r.read_shift(4)}function h4(r,t,e){var n=0;e&&e.biff==2||(n=r.read_shift(2));var s=r.read_shift(2);e&&e.biff==2&&(n=1-(s>>15),s&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,s]}function lO(r){var t=r.read_shift(2),e=r.read_shift(2),n=r.read_shift(2),s=r.read_shift(2),i=r.read_shift(2),a=r.read_shift(2),l=r.read_shift(2),c=r.read_shift(2),o=r.read_shift(2);return{Pos:[t,e],Dim:[n,s],Flags:i,CurTab:a,FirstTab:l,Selected:c,TabRatio:o}}function cO(r,t,e){if(e&&e.biff>=2&&e.biff<5)return{};var n=r.read_shift(2);return{RTL:n&64}}function uO(){}function fO(r,t,e){var n={dyHeight:r.read_shift(2),fl:r.read_shift(2)};switch(e&&e.biff||8){case 2:break;case 3:case 4:r.l+=2;break;default:r.l+=10;break}return n.name=gh(r,0,e),n}function hO(r){var t=pi(r);return t.isst=r.read_shift(4),t}function dO(r,t,e){e.biffguess&&e.biff==2&&(e.biff=5);var n=r.l+t,s=pi(r);e.biff==2&&r.l++;var i=bh(r,n-r.l,e);return s.val=i,s}function pO(r,t,e){var n=r.read_shift(2),s=Xl(r,0,e);return[n,s]}var mO=Xl;function d4(r,t,e){var n=r.l+t,s=e.biff==8||!e.biff?4:2,i=r.read_shift(s),a=r.read_shift(s),l=r.read_shift(2),c=r.read_shift(2);return r.l=n,{s:{r:i,c:l},e:{r:a,c}}}function gO(r){var t=r.read_shift(2),e=r.read_shift(2),n=C8(r);return{r:t,c:e,ixfe:n[0],rknum:n[1]}}function bO(r,t){for(var e=r.l+t-2,n=r.read_shift(2),s=r.read_shift(2),i=[];r.l<e;)i.push(C8(r));if(r.l!==e)throw new Error("MulRK read error");var a=r.read_shift(2);if(i.length!=a-s+1)throw new Error("MulRK length mismatch");return{r:n,c:s,C:a,rkrec:i}}function xO(r,t){for(var e=r.l+t-2,n=r.read_shift(2),s=r.read_shift(2),i=[];r.l<e;)i.push(r.read_shift(2));if(r.l!==e)throw new Error("MulBlank read error");var a=r.read_shift(2);if(i.length!=a-s+1)throw new Error("MulBlank length mismatch");return{r:n,c:s,C:a,ixfe:i}}function yO(r,t,e,n){var s={},i=r.read_shift(4),a=r.read_shift(4),l=r.read_shift(4),c=r.read_shift(2);return s.patternType=gD[l>>26],n.cellStyles&&(s.alc=i&7,s.fWrap=i>>3&1,s.alcV=i>>4&7,s.fJustLast=i>>7&1,s.trot=i>>8&255,s.cIndent=i>>16&15,s.fShrinkToFit=i>>20&1,s.iReadOrder=i>>22&2,s.fAtrNum=i>>26&1,s.fAtrFnt=i>>27&1,s.fAtrAlc=i>>28&1,s.fAtrBdr=i>>29&1,s.fAtrPat=i>>30&1,s.fAtrProt=i>>31&1,s.dgLeft=a&15,s.dgRight=a>>4&15,s.dgTop=a>>8&15,s.dgBottom=a>>12&15,s.icvLeft=a>>16&127,s.icvRight=a>>23&127,s.grbitDiag=a>>30&3,s.icvTop=l&127,s.icvBottom=l>>7&127,s.icvDiag=l>>14&127,s.dgDiag=l>>21&15,s.icvFore=c&127,s.icvBack=c>>7&127,s.fsxButton=c>>14&1),s}function vO(r,t,e){var n={};return n.ifnt=r.read_shift(2),n.numFmtId=r.read_shift(2),n.flags=r.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=yO(r,t,n.fStyle,e),n}function wO(r){r.l+=4;var t=[r.read_shift(2),r.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function p4(r,t,e){var n=pi(r);(e.biff==2||t==9)&&++r.l;var s=PD(r);return n.val=s,n.t=s===!0||s===!1?"b":"e",n}function _O(r,t,e){e.biffguess&&e.biff==2&&(e.biff=5);var n=pi(r),s=cs(r);return n.val=s,n}var m4=qD;function SO(r,t,e){var n=r.l+t,s=r.read_shift(2),i=r.read_shift(2);if(e.sbcch=i,i==1025||i==14849)return[i,s];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var a=Ul(r,i),l=[];n>r.l;)l.push(bh(r));return[i,s,a,l]}function g4(r,t,e){var n=r.read_shift(2),s,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return e.sbcch===14849&&(s=WD(r,t-2,e)),i.body=s||r.read_shift(t-2),typeof s=="string"&&(i.Name=s),i}var TO=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function b4(r,t,e){var n=r.l+t,s=r.read_shift(2),i=r.read_shift(1),a=r.read_shift(1),l=r.read_shift(e&&e.biff==2?1:2),c=0;(!e||e.biff>=5)&&(e.biff!=5&&(r.l+=2),c=r.read_shift(2),e.biff==5&&(r.l+=2),r.l+=4);var o=Ul(r,a,e);s&32&&(o=TO[o.charCodeAt(0)]);var u=n-r.l;e&&e.biff==2&&--u;var p=n==r.l||l===0||!(u>0)?[]:aB(r,u,e,l);return{chKey:i,Name:o,itab:c,rgce:p}}function M8(r,t,e){if(e.biff<8)return kO(r,t,e);for(var n=[],s=r.l+t,i=r.read_shift(e.biff>8?4:2);i--!==0;)n.push(GD(r,e.biff>8?12:6,e));if(r.l!=s)throw new Error("Bad ExternSheet: "+r.l+" != "+s);return n}function kO(r,t,e){r[r.l+1]==3&&r[r.l]++;var n=gh(r,t,e);return n.charCodeAt(0)==3?n.slice(1):n}function EO(r,t,e){if(e.biff<8){r.l+=t;return}var n=r.read_shift(2),s=r.read_shift(2),i=Ul(r,n,e),a=Ul(r,s,e);return[i,a]}function AO(r,t,e){var n=N8(r);r.l++;var s=r.read_shift(1);return t-=8,[iB(r,t,e),s,n]}function x4(r,t,e){var n=XD(r);switch(e.biff){case 2:r.l++,t-=7;break;case 3:case 4:r.l+=2,t-=8;break;default:r.l+=6,t-=12}return[n,nB(r,t,e)]}function CO(r){var t=r.read_shift(4)!==0,e=r.read_shift(4)!==0,n=r.read_shift(4);return[t,e,n]}function NO(r,t,e){if(!(e.biff<8)){var n=r.read_shift(2),s=r.read_shift(2),i=r.read_shift(2),a=r.read_shift(2),l=Xl(r,0,e);return e.biff<8&&r.read_shift(1),[{r:n,c:s},l,a,i]}}function RO(r,t,e){return NO(r,t,e)}function MO(r,t){for(var e=[],n=r.read_shift(2);n--;)e.push(vp(r));return e}function jO(r,t,e){if(e&&e.biff<8)return DO(r,t,e);var n=R8(r),s=ZD(r,t-22,n[1]);return{cmo:n,ft:s}}var IO={8:function(r,t){var e=r.l+t;r.l+=10;var n=r.read_shift(2);r.l+=4,r.l+=2,r.l+=2,r.l+=2,r.l+=4;var s=r.read_shift(1);return r.l+=s,r.l=e,{fmt:n}}};function DO(r,t,e){r.l+=4;var n=r.read_shift(2),s=r.read_shift(2),i=r.read_shift(2);r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=6,t-=36;var a=[];return a.push((IO[n]||ds)(r,t,e)),{cmo:[s,n,i],ft:a}}function OO(r,t,e){var n=r.l,s="";try{r.l+=4;var i=(e.lastobj||{cmo:[0,0]}).cmo[1],a;[0,5,7,11,12,14].indexOf(i)==-1?r.l+=6:a=BD(r,6,e);var l=r.read_shift(2);r.read_shift(2),En(r,2);var c=r.read_shift(2);r.l+=c;for(var o=1;o<r.lens.length-1;++o){if(r.l-n!=r.lens[o])throw new Error("TxO: bad continue record");var u=r[r.l],p=Ul(r,r.lens[o+1]-r.lens[o]-1);if(s+=p,s.length>=(u?l:2*l))break}if(s.length!==l&&s.length!==l*2)throw new Error("cchText: "+l+" != "+s.length);return r.l=n+t,{t:s}}catch{return r.l=n+t,{t:s}}}function FO(r,t){var e=vp(r);r.l+=16;var n=HD(r,t-24);return[e,n]}function PO(r,t){r.read_shift(2);var e=vp(r),n=r.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(Ss,""),[e,n]}function LO(r){var t=[0,0],e;return e=r.read_shift(2),t[0]=o4[e]||e,e=r.read_shift(2),t[1]=o4[e]||e,t}function BO(r){for(var t=r.read_shift(2),e=[];t-- >0;)e.push(A8(r));return e}function UO(r){for(var t=r.read_shift(2),e=[];t-- >0;)e.push(A8(r));return e}function VO(r){r.l+=2;var t={cxfs:0,crc:0};return t.cxfs=r.read_shift(2),t.crc=r.read_shift(4),t}function j8(r,t,e){if(!e.cellStyles)return ds(r,t);var n=e&&e.biff>=12?4:2,s=r.read_shift(n),i=r.read_shift(n),a=r.read_shift(n),l=r.read_shift(n),c=r.read_shift(2);n==2&&(r.l+=2);var o={s,e:i,w:a,ixfe:l,flags:c};return(e.biff>=5||!e.biff)&&(o.level=c>>8&7),o}function zO(r,t){var e={};return t<32||(r.l+=16,e.header=cs(r),e.footer=cs(r),r.l+=2),e}function HO(r,t,e){var n={area:!1};if(e.biff!=5)return r.l+=t,n;var s=r.read_shift(1);return r.l+=3,s&16&&(n.area=!0),n}var $O=pi,qO=k8,GO=bh;function WO(r){var t=r.read_shift(2),e=r.read_shift(2),n=r.read_shift(4),s={fmt:t,env:e,len:n,data:r.slice(r.l,r.l+n)};return r.l+=n,s}function XO(r,t,e){e.biffguess&&e.biff==5&&(e.biff=2);var n=pi(r);++r.l;var s=Xl(r,t-7,e);return n.t="str",n.val=s,n}function YO(r){var t=pi(r);++r.l;var e=cs(r);return t.t="n",t.val=e,t}function KO(r){var t=pi(r);++r.l;var e=r.read_shift(2);return t.t="n",t.val=e,t}function QO(r){var t=r.read_shift(1);return t===0?(r.l++,""):r.read_shift(t,"sbcs-cont")}function ZO(r,t){r.l+=6,r.l+=2,r.l+=1,r.l+=3,r.l+=1,r.l+=t-13}function JO(r,t,e){var n=r.l+t,s=pi(r),i=r.read_shift(2),a=Ul(r,i,e);return r.l=n,s.t="str",s.val=a,s}var eF=[2,3,48,49,131,139,140,245],y4=(function(){var r={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=Wb({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function e(l,c){var o=[],u=Xo(1);switch(c.type){case"base64":u=Da(ea(l));break;case"binary":u=Da(l);break;case"buffer":case"array":u=l;break}Qn(u,0);var p=u.read_shift(1),h=!!(p&136),d=!1,x=!1;switch(p){case 2:break;case 3:break;case 48:d=!0,h=!0;break;case 49:d=!0,h=!0;break;case 131:break;case 139:break;case 140:x=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+p.toString(16))}var b=0,g=521;p==2&&(b=u.read_shift(2)),u.l+=3,p!=2&&(b=u.read_shift(4)),b>1048576&&(b=1e6),p!=2&&(g=u.read_shift(2));var v=u.read_shift(2),y=c.codepage||1252;p!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(y=r[u[u.l]]),u.l+=1,u.l+=2),x&&(u.l+=36);for(var T=[],R={},P=Math.min(u.length,p==2?521:g-10-(d?264:0)),H=x?32:11;u.l<P&&u[u.l]!=13;)switch(R={},R.name=Gf.utils.decode(y,u.slice(u.l,u.l+H)).replace(/[\u0000\r\n].*$/g,""),u.l+=H,R.type=String.fromCharCode(u.read_shift(1)),p!=2&&!x&&(R.offset=u.read_shift(4)),R.len=u.read_shift(1),p==2&&(R.offset=u.read_shift(2)),R.dec=u.read_shift(1),R.name.length&&T.push(R),p!=2&&(u.l+=x?13:14),R.type){case"B":(!d||R.len!=8)&&c.WTF&&console.log("Skipping "+R.name+":"+R.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+R.name+":"+R.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+R.type)}if(u[u.l]!==13&&(u.l=g-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=g;var L=0,I=0;for(o[0]=[],I=0;I!=T.length;++I)o[0][I]=T[I].name;for(;b-- >0;){if(u[u.l]===42){u.l+=v;continue}for(++u.l,o[++L]=[],I=0,I=0;I!=T.length;++I){var O=u.slice(u.l,u.l+T[I].len);u.l+=T[I].len,Qn(O,0);var F=Gf.utils.decode(y,O);switch(T[I].type){case"C":F.trim().length&&(o[L][I]=F.replace(/\s+$/,""));break;case"D":F.length===8?o[L][I]=new Date(+F.slice(0,4),+F.slice(4,6)-1,+F.slice(6,8)):o[L][I]=F;break;case"F":o[L][I]=parseFloat(F.trim());break;case"+":case"I":o[L][I]=x?O.read_shift(-4,"i")^2147483648:O.read_shift(4,"i");break;case"L":switch(F.trim().toUpperCase()){case"Y":case"T":o[L][I]=!0;break;case"N":case"F":o[L][I]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+F+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+p.toString(16));o[L][I]="##MEMO##"+(x?parseInt(F.trim(),10):O.read_shift(4));break;case"N":F=F.replace(/\u0000/g,"").trim(),F&&F!="."&&(o[L][I]=+F||0);break;case"@":o[L][I]=new Date(O.read_shift(-8,"f")-621356832e5);break;case"T":o[L][I]=new Date((O.read_shift(4)-2440588)*864e5+O.read_shift(4));break;case"Y":o[L][I]=O.read_shift(4,"i")/1e4+O.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":o[L][I]=-O.read_shift(-8,"f");break;case"B":if(d&&T[I].len==8){o[L][I]=O.read_shift(8,"f");break}case"G":case"P":O.l+=T[I].len;break;case"0":if(T[I].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+T[I].type)}}}if(p!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return c&&c.sheetRows&&(o=o.slice(0,c.sheetRows)),c.DBF=T,o}function n(l,c){var o=c||{};o.dateNF||(o.dateNF="yyyymmdd");var u=pu(e(l,o),o);return u["!cols"]=o.DBF.map(function(p){return{wch:p.len,DBF:p}}),delete o.DBF,u}function s(l,c){try{return Zo(n(l,c),c)}catch(o){if(c&&c.WTF)throw o}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function a(l,c){var o=c||{};if(+o.codepage>=0&&Fa(+o.codepage),o.type=="string")throw new Error("Cannot write DBF to JS string");var u=T1(),p=D1(l,{header:1,raw:!0,cellDates:!0}),h=p[0],d=p.slice(1),x=l["!cols"]||[],b=0,g=0,v=0,y=1;for(b=0;b<h.length;++b){if(((x[b]||{}).DBF||{}).name){h[b]=x[b].DBF.name,++v;continue}if(h[b]!=null){if(++v,typeof h[b]=="number"&&(h[b]=h[b].toString(10)),typeof h[b]!="string")throw new Error("DBF Invalid column name "+h[b]+" |"+typeof h[b]+"|");if(h.indexOf(h[b])!==b){for(g=0;g<1024;++g)if(h.indexOf(h[b]+"_"+g)==-1){h[b]+="_"+g;break}}}}var T=un(l["!ref"]),R=[],P=[],H=[];for(b=0;b<=T.e.c-T.s.c;++b){var L="",I="",O=0,F=[];for(g=0;g<d.length;++g)d[g][b]!=null&&F.push(d[g][b]);if(F.length==0||h[b]==null){R[b]="?";continue}for(g=0;g<F.length;++g){switch(typeof F[g]){case"number":I="B";break;case"string":I="C";break;case"boolean":I="L";break;case"object":I=F[g]instanceof Date?"D":"C";break;default:I="C"}O=Math.max(O,String(F[g]).length),L=L&&L!=I?"C":I}O>250&&(O=250),I=((x[b]||{}).DBF||{}).type,I=="C"&&x[b].DBF.len>O&&(O=x[b].DBF.len),L=="B"&&I=="N"&&(L="N",H[b]=x[b].DBF.dec,O=x[b].DBF.len),P[b]=L=="C"||I=="N"?O:i[L]||0,y+=P[b],R[b]=L}var q=u.next(32);for(q.write_shift(4,318902576),q.write_shift(4,d.length),q.write_shift(2,296+32*v),q.write_shift(2,y),b=0;b<4;++b)q.write_shift(4,0);for(q.write_shift(4,0|(+t[M6]||3)<<8),b=0,g=0;b<h.length;++b)if(h[b]!=null){var z=u.next(32),N=(h[b].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);z.write_shift(1,N,"sbcs"),z.write_shift(1,R[b]=="?"?"C":R[b],"sbcs"),z.write_shift(4,g),z.write_shift(1,P[b]||i[R[b]]||0),z.write_shift(1,H[b]||0),z.write_shift(1,2),z.write_shift(4,0),z.write_shift(1,0),z.write_shift(4,0),z.write_shift(4,0),g+=P[b]||i[R[b]]||0}var U=u.next(264);for(U.write_shift(4,13),b=0;b<65;++b)U.write_shift(4,0);for(b=0;b<d.length;++b){var C=u.next(y);for(C.write_shift(1,0),g=0;g<h.length;++g)if(h[g]!=null)switch(R[g]){case"L":C.write_shift(1,d[b][g]==null?63:d[b][g]?84:70);break;case"B":C.write_shift(8,d[b][g]||0,"f");break;case"N":var S="0";for(typeof d[b][g]=="number"&&(S=d[b][g].toFixed(H[g]||0)),v=0;v<P[g]-S.length;++v)C.write_shift(1,32);C.write_shift(1,S,"sbcs");break;case"D":d[b][g]?(C.write_shift(4,("0000"+d[b][g].getFullYear()).slice(-4),"sbcs"),C.write_shift(2,("00"+(d[b][g].getMonth()+1)).slice(-2),"sbcs"),C.write_shift(2,("00"+d[b][g].getDate()).slice(-2),"sbcs")):C.write_shift(8,"00000000","sbcs");break;case"C":var k=String(d[b][g]!=null?d[b][g]:"").slice(0,P[g]);for(C.write_shift(1,k,"sbcs"),v=0;v<P[g]-k.length;++v)C.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:s,to_sheet:n,from_sheet:a}})(),tF=(function(){var r={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+hi(r).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),e=function(h,d){var x=r[d];return typeof x=="number"?O_(x):x},n=function(h,d,x){var b=d.charCodeAt(0)-32<<4|x.charCodeAt(0)-48;return b==59?h:O_(b)};r["|"]=254;function s(h,d){switch(d.type){case"base64":return i(ea(h),d);case"binary":return i(h,d);case"buffer":return i(Er&&Buffer.isBuffer(h)?h.toString("binary"):$l(h),d);case"array":return i(Bl(h),d)}throw new Error("Unrecognized type "+d.type)}function i(h,d){var x=h.split(/[\n\r]+/),b=-1,g=-1,v=0,y=0,T=[],R=[],P=null,H={},L=[],I=[],O=[],F=0,q;for(+d.codepage>=0&&Fa(+d.codepage);v!==x.length;++v){F=0;var z=x[v].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,e),N=z.replace(/;;/g,"\0").split(";").map(function(ee){return ee.replace(/\u0000/g,";")}),U=N[0],C;if(z.length>0)switch(U){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":N[1].charAt(0)=="P"&&R.push(z.slice(3).replace(/;;/g,";"));break;case"C":var S=!1,k=!1,E=!1,A=!1,j=-1,B=-1;for(y=1;y<N.length;++y)switch(N[y].charAt(0)){case"A":break;case"X":g=parseInt(N[y].slice(1))-1,k=!0;break;case"Y":for(b=parseInt(N[y].slice(1))-1,k||(g=0),q=T.length;q<=b;++q)T[q]=[];break;case"K":C=N[y].slice(1),C.charAt(0)==='"'?C=C.slice(1,C.length-1):C==="TRUE"?C=!0:C==="FALSE"?C=!1:isNaN(Ba(C))?isNaN(eu(C).getDate())||(C=zn(C)):(C=Ba(C),P!==null&&hu(P)&&(C=yp(C))),S=!0;break;case"E":A=!0;var D=Hc(N[y].slice(1),{r:b,c:g});T[b][g]=[T[b][g],D];break;case"S":E=!0,T[b][g]=[T[b][g],"S5S"];break;case"G":break;case"R":j=parseInt(N[y].slice(1))-1;break;case"C":B=parseInt(N[y].slice(1))-1;break;default:if(d&&d.WTF)throw new Error("SYLK bad record "+z)}if(S&&(T[b][g]&&T[b][g].length==2?T[b][g][0]=C:T[b][g]=C,P=null),E){if(A)throw new Error("SYLK shared formula cannot have own formula");var Q=j>-1&&T[j][B];if(!Q||!Q[1])throw new Error("SYLK shared formula cannot find base");T[b][g][1]=z8(Q[1],{r:b-j,c:g-B})}break;case"F":var K=0;for(y=1;y<N.length;++y)switch(N[y].charAt(0)){case"X":g=parseInt(N[y].slice(1))-1,++K;break;case"Y":for(b=parseInt(N[y].slice(1))-1,q=T.length;q<=b;++q)T[q]=[];break;case"M":F=parseInt(N[y].slice(1))/20;break;case"F":break;case"G":break;case"P":P=R[parseInt(N[y].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(O=N[y].slice(1).split(" "),q=parseInt(O[0],10);q<=parseInt(O[1],10);++q)F=parseInt(O[2],10),I[q-1]=F===0?{hidden:!0}:{wch:F},tu(I[q-1]);break;case"C":g=parseInt(N[y].slice(1))-1,I[g]||(I[g]={});break;case"R":b=parseInt(N[y].slice(1))-1,L[b]||(L[b]={}),F>0?(L[b].hpt=F,L[b].hpx=Zf(F)):F===0&&(L[b].hidden=!0);break;default:if(d&&d.WTF)throw new Error("SYLK bad record "+z)}K<1&&(P=null);break;default:if(d&&d.WTF)throw new Error("SYLK bad record "+z)}}return L.length>0&&(H["!rows"]=L),I.length>0&&(H["!cols"]=I),d&&d.sheetRows&&(T=T.slice(0,d.sheetRows)),[T,H]}function a(h,d){var x=s(h,d),b=x[0],g=x[1],v=pu(b,d);return hi(g).forEach(function(y){v[y]=g[y]}),v}function l(h,d){return Zo(a(h,d),d)}function c(h,d,x,b){var g="C;Y"+(x+1)+";X"+(b+1)+";K";switch(h.t){case"n":g+=h.v||0,h.f&&!h.F&&(g+=";E"+VP(h.f,{r:x,c:b}));break;case"b":g+=h.v?"TRUE":"FALSE";break;case"e":g+=h.w||h.v;break;case"d":g+='"'+(h.w||h.v)+'"';break;case"s":g+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return g}function o(h,d){d.forEach(function(x,b){var g="F;W"+(b+1)+" "+(b+1)+" ";x.hidden?g+="0":(typeof x.width=="number"&&!x.wpx&&(x.wpx=$0(x.width)),typeof x.wpx=="number"&&!x.wch&&(x.wch=q0(x.wpx)),typeof x.wch=="number"&&(g+=Math.round(x.wch))),g.charAt(g.length-1)!=" "&&h.push(g)})}function u(h,d){d.forEach(function(x,b){var g="F;";x.hidden?g+="M0;":x.hpt?g+="M"+20*x.hpt+";":x.hpx&&(g+="M"+20*B8(x.hpx)+";"),g.length>2&&h.push(g+"R"+(b+1))})}function p(h,d){var x=["ID;PWXL;N;E"],b=[],g=un(h["!ref"]),v,y=Array.isArray(h),T=`\r
`;x.push("P;PGeneral"),x.push("F;P0;DG0G8;M255"),h["!cols"]&&o(x,h["!cols"]),h["!rows"]&&u(x,h["!rows"]),x.push("B;Y"+(g.e.r-g.s.r+1)+";X"+(g.e.c-g.s.c+1)+";D"+[g.s.c,g.s.r,g.e.c,g.e.r].join(" "));for(var R=g.s.r;R<=g.e.r;++R)for(var P=g.s.c;P<=g.e.c;++P){var H=sr({r:R,c:P});v=y?(h[R]||[])[P]:h[H],!(!v||v.v==null&&(!v.f||v.F))&&b.push(c(v,h,R,P))}return x.join(T)+T+b.join(T)+T+"E"+T}return{to_workbook:l,to_sheet:a,from_sheet:p}})(),rF=(function(){function r(i,a){switch(a.type){case"base64":return t(ea(i),a);case"binary":return t(i,a);case"buffer":return t(Er&&Buffer.isBuffer(i)?i.toString("binary"):$l(i),a);case"array":return t(Bl(i),a)}throw new Error("Unrecognized type "+a.type)}function t(i,a){for(var l=i.split(`
`),c=-1,o=-1,u=0,p=[];u!==l.length;++u){if(l[u].trim()==="BOT"){p[++c]=[],o=0;continue}if(!(c<0)){var h=l[u].trim().split(","),d=h[0],x=h[1];++u;for(var b=l[u]||"";(b.match(/["]/g)||[]).length&1&&u<l.length-1;)b+=`
`+l[++u];switch(b=b.trim(),+d){case-1:if(b==="BOT"){p[++c]=[],o=0;continue}else if(b!=="EOD")throw new Error("Unrecognized DIF special command "+b);break;case 0:b==="TRUE"?p[c][o]=!0:b==="FALSE"?p[c][o]=!1:isNaN(Ba(x))?isNaN(eu(x).getDate())?p[c][o]=x:p[c][o]=zn(x):p[c][o]=Ba(x),++o;break;case 1:b=b.slice(1,b.length-1),b=b.replace(/""/g,'"'),b&&b.match(/^=".*"$/)&&(b=b.slice(2,-1)),p[c][o++]=b!==""?b:null;break}if(b==="EOD")break}}return a&&a.sheetRows&&(p=p.slice(0,a.sheetRows)),p}function e(i,a){return pu(r(i,a),a)}function n(i,a){return Zo(e(i,a),a)}var s=(function(){var i=function(c,o,u,p,h){c.push(o),c.push(u+","+p),c.push('"'+h.replace(/"/g,'""')+'"')},a=function(c,o,u,p){c.push(o+","+u),c.push(o==1?'"'+p.replace(/"/g,'""')+'"':p)};return function(c){var o=[],u=un(c["!ref"]),p,h=Array.isArray(c);i(o,"TABLE",0,1,"sheetjs"),i(o,"VECTORS",0,u.e.r-u.s.r+1,""),i(o,"TUPLES",0,u.e.c-u.s.c+1,""),i(o,"DATA",0,0,"");for(var d=u.s.r;d<=u.e.r;++d){a(o,-1,0,"BOT");for(var x=u.s.c;x<=u.e.c;++x){var b=sr({r:d,c:x});if(p=h?(c[d]||[])[x]:c[b],!p){a(o,1,0,"");continue}switch(p.t){case"n":var g=p.w;!g&&p.v!=null&&(g=p.v),g==null?p.f&&!p.F?a(o,1,0,"="+p.f):a(o,1,0,""):a(o,0,g,"V");break;case"b":a(o,0,p.v?1:0,p.v?"TRUE":"FALSE");break;case"s":a(o,1,0,isNaN(p.v)?p.v:'="'+p.v+'"');break;case"d":p.w||(p.w=ya(p.z||ur[14],Ts(zn(p.v)))),a(o,0,p.w,"V");break;default:a(o,1,0,"")}}}a(o,-1,0,"EOD");var v=`\r
`,y=o.join(v);return y}})();return{to_workbook:n,to_sheet:e,from_sheet:s}})(),nF=(function(){function r(p){return p.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(p){return p.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function e(p,h){for(var d=p.split(`
`),x=-1,b=-1,g=0,v=[];g!==d.length;++g){var y=d[g].trim().split(":");if(y[0]==="cell"){var T=_s(y[1]);if(v.length<=T.r)for(x=v.length;x<=T.r;++x)v[x]||(v[x]=[]);switch(x=T.r,b=T.c,y[2]){case"t":v[x][b]=r(y[3]);break;case"v":v[x][b]=+y[3];break;case"vtf":var R=y[y.length-1];case"vtc":switch(y[3]){case"nl":v[x][b]=!!+y[4];break;default:v[x][b]=+y[4];break}y[2]=="vtf"&&(v[x][b]=[v[x][b],R])}}}return h&&h.sheetRows&&(v=v.slice(0,h.sheetRows)),v}function n(p,h){return pu(e(p,h),h)}function s(p,h){return Zo(n(p,h),h)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function o(p){if(!p||!p["!ref"])return"";for(var h=[],d=[],x,b="",g=du(p["!ref"]),v=Array.isArray(p),y=g.s.r;y<=g.e.r;++y)for(var T=g.s.c;T<=g.e.c;++T)if(b=sr({r:y,c:T}),x=v?(p[y]||[])[T]:p[b],!(!x||x.v==null||x.t==="z")){switch(d=["cell",b,"t"],x.t){case"s":case"str":d.push(t(x.v));break;case"n":x.f?(d[2]="vtf",d[3]="n",d[4]=x.v,d[5]=t(x.f)):(d[2]="v",d[3]=x.v);break;case"b":d[2]="vt"+(x.f?"f":"c"),d[3]="nl",d[4]=x.v?"1":"0",d[5]=t(x.f||(x.v?"TRUE":"FALSE"));break;case"d":var R=Ts(zn(x.v));d[2]="vtc",d[3]="nd",d[4]=""+R,d[5]=x.w||ya(x.z||ur[14],R);break;case"e":continue}h.push(d.join(":"))}return h.push("sheet:c:"+(g.e.c-g.s.c+1)+":r:"+(g.e.r-g.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function u(p){return[i,a,l,a,o(p),c].join(`
`)}return{to_workbook:s,to_sheet:n,from_sheet:u}})(),Kf=(function(){function r(u,p,h,d,x){x.raw?p[h][d]=u:u===""||(u==="TRUE"?p[h][d]=!0:u==="FALSE"?p[h][d]=!1:isNaN(Ba(u))?isNaN(eu(u).getDate())?p[h][d]=u:p[h][d]=zn(u):p[h][d]=Ba(u))}function t(u,p){var h=p||{},d=[];if(!u||u.length===0)return d;for(var x=u.split(/[\r\n]/),b=x.length-1;b>=0&&x[b].length===0;)--b;for(var g=10,v=0,y=0;y<=b;++y)v=x[y].indexOf(" "),v==-1?v=x[y].length:v++,g=Math.max(g,v);for(y=0;y<=b;++y){d[y]=[];var T=0;for(r(x[y].slice(0,g).trim(),d,y,T,h),T=1;T<=(x[y].length-g)/10+1;++T)r(x[y].slice(g+(T-1)*10,g+T*10).trim(),d,y,T,h)}return h.sheetRows&&(d=d.slice(0,h.sheetRows)),d}var e={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function s(u){for(var p={},h=!1,d=0,x=0;d<u.length;++d)(x=u.charCodeAt(d))==34?h=!h:!h&&x in e&&(p[x]=(p[x]||0)+1);x=[];for(d in p)Object.prototype.hasOwnProperty.call(p,d)&&x.push([p[d],d]);if(!x.length){p=n;for(d in p)Object.prototype.hasOwnProperty.call(p,d)&&x.push([p[d],d])}return x.sort(function(b,g){return b[0]-g[0]||n[b[1]]-n[g[1]]}),e[x.pop()[1]]||44}function i(u,p){var h=p||{},d="",x=h.dense?[]:{},b={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(d=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(d=u.charAt(4),u=u.slice(6)):d=s(u.slice(0,1024)):h&&h.FS?d=h.FS:d=s(u.slice(0,1024));var g=0,v=0,y=0,T=0,R=0,P=d.charCodeAt(0),H=!1,L=0,I=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var O=h.dateNF!=null?pI(h.dateNF):null;function F(){var q=u.slice(T,R),z={};if(q.charAt(0)=='"'&&q.charAt(q.length-1)=='"'&&(q=q.slice(1,-1).replace(/""/g,'"')),q.length===0)z.t="z";else if(h.raw)z.t="s",z.v=q;else if(q.trim().length===0)z.t="s",z.v=q;else if(q.charCodeAt(0)==61)q.charCodeAt(1)==34&&q.charCodeAt(q.length-1)==34?(z.t="s",z.v=q.slice(2,-1).replace(/""/g,'"')):HP(q)?(z.t="n",z.f=q.slice(1)):(z.t="s",z.v=q);else if(q=="TRUE")z.t="b",z.v=!0;else if(q=="FALSE")z.t="b",z.v=!1;else if(!isNaN(y=Ba(q)))z.t="n",h.cellText!==!1&&(z.w=q),z.v=y;else if(!isNaN(eu(q).getDate())||O&&q.match(O)){z.z=h.dateNF||ur[14];var N=0;O&&q.match(O)&&(q=mI(q,h.dateNF,q.match(O)||[]),N=1),h.cellDates?(z.t="d",z.v=zn(q,N)):(z.t="n",z.v=Ts(zn(q,N))),h.cellText!==!1&&(z.w=ya(z.z,z.v instanceof Date?Ts(z.v):z.v)),h.cellNF||delete z.z}else z.t="s",z.v=q;if(z.t=="z"||(h.dense?(x[g]||(x[g]=[]),x[g][v]=z):x[sr({c:v,r:g})]=z),T=R+1,I=u.charCodeAt(T),b.e.c<v&&(b.e.c=v),b.e.r<g&&(b.e.r=g),L==P)++v;else if(v=0,++g,h.sheetRows&&h.sheetRows<=g)return!0}e:for(;R<u.length;++R)switch(L=u.charCodeAt(R)){case 34:I===34&&(H=!H);break;case P:case 10:case 13:if(!H&&F())break e;break}return R-T>0&&F(),x["!ref"]=Nr(b),x}function a(u,p){return!(p&&p.PRN)||p.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,p):pu(t(u,p),p)}function l(u,p){var h="",d=p.type=="string"?[0,0,0,0]:hx(u,p);switch(p.type){case"base64":h=ea(u);break;case"binary":h=u;break;case"buffer":p.codepage==65001?h=u.toString("utf8"):p.codepage&&typeof Gf<"u"||(h=Er&&Buffer.isBuffer(u)?u.toString("binary"):$l(u));break;case"array":h=Bl(u);break;case"string":h=u;break;default:throw new Error("Unrecognized type "+p.type)}return d[0]==239&&d[1]==187&&d[2]==191?h=Wr(h.slice(3)):p.type!="string"&&p.type!="buffer"&&p.codepage==65001?h=Wr(h):p.type=="binary"&&typeof Gf<"u",h.slice(0,19)=="socialcalc:version:"?nF.to_sheet(p.type=="string"?h:Wr(h),p):a(h,p)}function c(u,p){return Zo(l(u,p),p)}function o(u){for(var p=[],h=un(u["!ref"]),d,x=Array.isArray(u),b=h.s.r;b<=h.e.r;++b){for(var g=[],v=h.s.c;v<=h.e.c;++v){var y=sr({r:b,c:v});if(d=x?(u[b]||[])[v]:u[y],!d||d.v==null){g.push("          ");continue}for(var T=(d.w||(Gi(d),d.w)||"").slice(0,10);T.length<10;)T+=" ";g.push(T+(v===0?" ":""))}p.push(g.join(""))}return p.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:o}})();function sF(r,t){var e=t||{},n=!!e.WTF;e.WTF=!0;try{var s=tF.to_workbook(r,e);return e.WTF=n,s}catch(i){if(e.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return Kf.to_workbook(r,t)}}var Cf=(function(){function r(D,Q,K){if(D){Qn(D,D.l||0);for(var ee=K.Enum||j;D.l<D.length;){var W=D.read_shift(2),te=ee[W]||ee[65535],G=D.read_shift(2),V=D.l+G,Z=te.f&&te.f(D,G,K);if(D.l=V,Q(Z,te,W))return}}}function t(D,Q){switch(Q.type){case"base64":return e(Da(ea(D)),Q);case"binary":return e(Da(D),Q);case"buffer":case"array":return e(D,Q)}throw"Unsupported type "+Q.type}function e(D,Q){if(!D)return D;var K=Q||{},ee=K.dense?[]:{},W="Sheet1",te="",G=0,V={},Z=[],ae=[],re={s:{r:0,c:0},e:{r:0,c:0}},oe=K.sheetRows||0;if(D[2]==0&&(D[3]==8||D[3]==9)&&D.length>=16&&D[14]==5&&D[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(D[2]==2)K.Enum=j,r(D,function(ne,fe,pe){switch(pe){case 0:K.vers=ne,ne>=4096&&(K.qpro=!0);break;case 6:re=ne;break;case 204:ne&&(te=ne);break;case 222:te=ne;break;case 15:case 51:K.qpro||(ne[1].v=ne[1].v.slice(1));case 13:case 14:case 16:pe==14&&(ne[2]&112)==112&&(ne[2]&15)>1&&(ne[2]&15)<15&&(ne[1].z=K.dateNF||ur[14],K.cellDates&&(ne[1].t="d",ne[1].v=yp(ne[1].v))),K.qpro&&ne[3]>G&&(ee["!ref"]=Nr(re),V[W]=ee,Z.push(W),ee=K.dense?[]:{},re={s:{r:0,c:0},e:{r:0,c:0}},G=ne[3],W=te||"Sheet"+(G+1),te="");var ke=K.dense?(ee[ne[0].r]||[])[ne[0].c]:ee[sr(ne[0])];if(ke){ke.t=ne[1].t,ke.v=ne[1].v,ne[1].z!=null&&(ke.z=ne[1].z),ne[1].f!=null&&(ke.f=ne[1].f);break}K.dense?(ee[ne[0].r]||(ee[ne[0].r]=[]),ee[ne[0].r][ne[0].c]=ne[1]):ee[sr(ne[0])]=ne[1];break}},K);else if(D[2]==26||D[2]==14)K.Enum=B,D[2]==14&&(K.qpro=!0,D.l=0),r(D,function(ne,fe,pe){switch(pe){case 204:W=ne;break;case 22:ne[1].v=ne[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ne[3]>G&&(ee["!ref"]=Nr(re),V[W]=ee,Z.push(W),ee=K.dense?[]:{},re={s:{r:0,c:0},e:{r:0,c:0}},G=ne[3],W="Sheet"+(G+1)),oe>0&&ne[0].r>=oe)break;K.dense?(ee[ne[0].r]||(ee[ne[0].r]=[]),ee[ne[0].r][ne[0].c]=ne[1]):ee[sr(ne[0])]=ne[1],re.e.c<ne[0].c&&(re.e.c=ne[0].c),re.e.r<ne[0].r&&(re.e.r=ne[0].r);break;case 27:ne[14e3]&&(ae[ne[14e3][0]]=ne[14e3][1]);break;case 1537:ae[ne[0]]=ne[1],ne[0]==G&&(W=ne[1]);break}},K);else throw new Error("Unrecognized LOTUS BOF "+D[2]);if(ee["!ref"]=Nr(re),V[te||W]=ee,Z.push(te||W),!ae.length)return{SheetNames:Z,Sheets:V};for(var he={},Se=[],ge=0;ge<ae.length;++ge)V[Z[ge]]?(Se.push(ae[ge]||Z[ge]),he[ae[ge]]=V[ae[ge]]||V[Z[ge]]):(Se.push(ae[ge]),he[ae[ge]]={"!ref":"A1"});return{SheetNames:Se,Sheets:he}}function n(D,Q){var K=Q||{};if(+K.codepage>=0&&Fa(+K.codepage),K.type=="string")throw new Error("Cannot write WK1 to JS string");var ee=T1(),W=un(D["!ref"]),te=Array.isArray(D),G=[];Ia(ee,0,i(1030)),Ia(ee,6,c(W));for(var V=Math.min(W.e.r,8191),Z=W.s.r;Z<=V;++Z)for(var ae=es(Z),re=W.s.c;re<=W.e.c;++re){Z===W.s.r&&(G[re]=Dn(re));var oe=G[re]+ae,he=te?(D[Z]||[])[re]:D[oe];if(!(!he||he.t=="z"))if(he.t=="n")(he.v|0)==he.v&&he.v>=-32768&&he.v<=32767?Ia(ee,13,d(Z,re,he.v)):Ia(ee,14,b(Z,re,he.v));else{var Se=Gi(he);Ia(ee,15,p(Z,re,Se.slice(0,239)))}}return Ia(ee,1),ee.end()}function s(D,Q){var K=Q||{};if(+K.codepage>=0&&Fa(+K.codepage),K.type=="string")throw new Error("Cannot write WK3 to JS string");var ee=T1();Ia(ee,0,a(D));for(var W=0,te=0;W<D.SheetNames.length;++W)(D.Sheets[D.SheetNames[W]]||{})["!ref"]&&Ia(ee,27,A(D.SheetNames[W],te++));var G=0;for(W=0;W<D.SheetNames.length;++W){var V=D.Sheets[D.SheetNames[W]];if(!(!V||!V["!ref"])){for(var Z=un(V["!ref"]),ae=Array.isArray(V),re=[],oe=Math.min(Z.e.r,8191),he=Z.s.r;he<=oe;++he)for(var Se=es(he),ge=Z.s.c;ge<=Z.e.c;++ge){he===Z.s.r&&(re[ge]=Dn(ge));var ne=re[ge]+Se,fe=ae?(V[he]||[])[ge]:V[ne];if(!(!fe||fe.t=="z"))if(fe.t=="n")Ia(ee,23,F(he,ge,G,fe.v));else{var pe=Gi(fe);Ia(ee,22,L(he,ge,G,pe.slice(0,239)))}}++G}}return Ia(ee,1),ee.end()}function i(D){var Q=jn(2);return Q.write_shift(2,D),Q}function a(D){var Q=jn(26);Q.write_shift(2,4096),Q.write_shift(2,4),Q.write_shift(4,0);for(var K=0,ee=0,W=0,te=0;te<D.SheetNames.length;++te){var G=D.SheetNames[te],V=D.Sheets[G];if(!(!V||!V["!ref"])){++W;var Z=du(V["!ref"]);K<Z.e.r&&(K=Z.e.r),ee<Z.e.c&&(ee=Z.e.c)}}return K>8191&&(K=8191),Q.write_shift(2,K),Q.write_shift(1,W),Q.write_shift(1,ee),Q.write_shift(2,0),Q.write_shift(2,0),Q.write_shift(1,1),Q.write_shift(1,2),Q.write_shift(4,0),Q.write_shift(4,0),Q}function l(D,Q,K){var ee={s:{c:0,r:0},e:{c:0,r:0}};return Q==8&&K.qpro?(ee.s.c=D.read_shift(1),D.l++,ee.s.r=D.read_shift(2),ee.e.c=D.read_shift(1),D.l++,ee.e.r=D.read_shift(2),ee):(ee.s.c=D.read_shift(2),ee.s.r=D.read_shift(2),Q==12&&K.qpro&&(D.l+=2),ee.e.c=D.read_shift(2),ee.e.r=D.read_shift(2),Q==12&&K.qpro&&(D.l+=2),ee.s.c==65535&&(ee.s.c=ee.e.c=ee.s.r=ee.e.r=0),ee)}function c(D){var Q=jn(8);return Q.write_shift(2,D.s.c),Q.write_shift(2,D.s.r),Q.write_shift(2,D.e.c),Q.write_shift(2,D.e.r),Q}function o(D,Q,K){var ee=[{c:0,r:0},{t:"n",v:0},0,0];return K.qpro&&K.vers!=20768?(ee[0].c=D.read_shift(1),ee[3]=D.read_shift(1),ee[0].r=D.read_shift(2),D.l+=2):(ee[2]=D.read_shift(1),ee[0].c=D.read_shift(2),ee[0].r=D.read_shift(2)),ee}function u(D,Q,K){var ee=D.l+Q,W=o(D,Q,K);if(W[1].t="s",K.vers==20768){D.l++;var te=D.read_shift(1);return W[1].v=D.read_shift(te,"utf8"),W}return K.qpro&&D.l++,W[1].v=D.read_shift(ee-D.l,"cstr"),W}function p(D,Q,K){var ee=jn(7+K.length);ee.write_shift(1,255),ee.write_shift(2,Q),ee.write_shift(2,D),ee.write_shift(1,39);for(var W=0;W<ee.length;++W){var te=K.charCodeAt(W);ee.write_shift(1,te>=128?95:te)}return ee.write_shift(1,0),ee}function h(D,Q,K){var ee=o(D,Q,K);return ee[1].v=D.read_shift(2,"i"),ee}function d(D,Q,K){var ee=jn(7);return ee.write_shift(1,255),ee.write_shift(2,Q),ee.write_shift(2,D),ee.write_shift(2,K,"i"),ee}function x(D,Q,K){var ee=o(D,Q,K);return ee[1].v=D.read_shift(8,"f"),ee}function b(D,Q,K){var ee=jn(13);return ee.write_shift(1,255),ee.write_shift(2,Q),ee.write_shift(2,D),ee.write_shift(8,K,"f"),ee}function g(D,Q,K){var ee=D.l+Q,W=o(D,Q,K);if(W[1].v=D.read_shift(8,"f"),K.qpro)D.l=ee;else{var te=D.read_shift(2);R(D.slice(D.l,D.l+te),W),D.l+=te}return W}function v(D,Q,K){var ee=Q&32768;return Q&=-32769,Q=(ee?D:0)+(Q>=8192?Q-16384:Q),(ee?"":"$")+(K?Dn(Q):es(Q))}var y={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},T=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function R(D,Q){Qn(D,0);for(var K=[],ee=0,W="",te="",G="",V="";D.l<D.length;){var Z=D[D.l++];switch(Z){case 0:K.push(D.read_shift(8,"f"));break;case 1:te=v(Q[0].c,D.read_shift(2),!0),W=v(Q[0].r,D.read_shift(2),!1),K.push(te+W);break;case 2:{var ae=v(Q[0].c,D.read_shift(2),!0),re=v(Q[0].r,D.read_shift(2),!1);te=v(Q[0].c,D.read_shift(2),!0),W=v(Q[0].r,D.read_shift(2),!1),K.push(ae+re+":"+te+W)}break;case 3:if(D.l<D.length){console.error("WK1 premature formula end");return}break;case 4:K.push("("+K.pop()+")");break;case 5:K.push(D.read_shift(2));break;case 6:{for(var oe="";Z=D[D.l++];)oe+=String.fromCharCode(Z);K.push('"'+oe.replace(/"/g,'""')+'"')}break;case 8:K.push("-"+K.pop());break;case 23:K.push("+"+K.pop());break;case 22:K.push("NOT("+K.pop()+")");break;case 20:case 21:V=K.pop(),G=K.pop(),K.push(["AND","OR"][Z-20]+"("+G+","+V+")");break;default:if(Z<32&&T[Z])V=K.pop(),G=K.pop(),K.push(G+T[Z]+V);else if(y[Z]){if(ee=y[Z][1],ee==69&&(ee=D[D.l++]),ee>K.length){console.error("WK1 bad formula parse 0x"+Z.toString(16)+":|"+K.join("|")+"|");return}var he=K.slice(-ee);K.length-=ee,K.push(y[Z][0]+"("+he.join(",")+")")}else return Z<=7?console.error("WK1 invalid opcode "+Z.toString(16)):Z<=24?console.error("WK1 unsupported op "+Z.toString(16)):Z<=30?console.error("WK1 invalid opcode "+Z.toString(16)):Z<=115?console.error("WK1 unsupported function opcode "+Z.toString(16)):console.error("WK1 unrecognized opcode "+Z.toString(16))}}K.length==1?Q[1].f=""+K[0]:console.error("WK1 bad formula parse |"+K.join("|")+"|")}function P(D){var Q=[{c:0,r:0},{t:"n",v:0},0];return Q[0].r=D.read_shift(2),Q[3]=D[D.l++],Q[0].c=D[D.l++],Q}function H(D,Q){var K=P(D);return K[1].t="s",K[1].v=D.read_shift(Q-4,"cstr"),K}function L(D,Q,K,ee){var W=jn(6+ee.length);W.write_shift(2,D),W.write_shift(1,K),W.write_shift(1,Q),W.write_shift(1,39);for(var te=0;te<ee.length;++te){var G=ee.charCodeAt(te);W.write_shift(1,G>=128?95:G)}return W.write_shift(1,0),W}function I(D,Q){var K=P(D);K[1].v=D.read_shift(2);var ee=K[1].v>>1;if(K[1].v&1)switch(ee&7){case 0:ee=(ee>>3)*5e3;break;case 1:ee=(ee>>3)*500;break;case 2:ee=(ee>>3)/20;break;case 3:ee=(ee>>3)/200;break;case 4:ee=(ee>>3)/2e3;break;case 5:ee=(ee>>3)/2e4;break;case 6:ee=(ee>>3)/16;break;case 7:ee=(ee>>3)/64;break}return K[1].v=ee,K}function O(D,Q){var K=P(D),ee=D.read_shift(4),W=D.read_shift(4),te=D.read_shift(2);if(te==65535)return ee===0&&W===3221225472?(K[1].t="e",K[1].v=15):ee===0&&W===3489660928?(K[1].t="e",K[1].v=42):K[1].v=0,K;var G=te&32768;return te=(te&32767)-16446,K[1].v=(1-G*2)*(W*Math.pow(2,te+32)+ee*Math.pow(2,te)),K}function F(D,Q,K,ee){var W=jn(14);if(W.write_shift(2,D),W.write_shift(1,K),W.write_shift(1,Q),ee==0)return W.write_shift(4,0),W.write_shift(4,0),W.write_shift(2,65535),W;var te=0,G=0,V=0,Z=0;return ee<0&&(te=1,ee=-ee),G=Math.log2(ee)|0,ee/=Math.pow(2,G-31),Z=ee>>>0,(Z&2147483648)==0&&(ee/=2,++G,Z=ee>>>0),ee-=Z,Z|=2147483648,Z>>>=0,ee*=Math.pow(2,32),V=ee>>>0,W.write_shift(4,V),W.write_shift(4,Z),G+=16383+(te?32768:0),W.write_shift(2,G),W}function q(D,Q){var K=O(D);return D.l+=Q-14,K}function z(D,Q){var K=P(D),ee=D.read_shift(4);return K[1].v=ee>>6,K}function N(D,Q){var K=P(D),ee=D.read_shift(8,"f");return K[1].v=ee,K}function U(D,Q){var K=N(D);return D.l+=Q-10,K}function C(D,Q){return D[D.l+Q-1]==0?D.read_shift(Q,"cstr"):""}function S(D,Q){var K=D[D.l++];K>Q-1&&(K=Q-1);for(var ee="";ee.length<K;)ee+=String.fromCharCode(D[D.l++]);return ee}function k(D,Q,K){if(!(!K.qpro||Q<21)){var ee=D.read_shift(1);D.l+=17,D.l+=1,D.l+=2;var W=D.read_shift(Q-21,"cstr");return[ee,W]}}function E(D,Q){for(var K={},ee=D.l+Q;D.l<ee;){var W=D.read_shift(2);if(W==14e3){for(K[W]=[0,""],K[W][0]=D.read_shift(2);D[D.l];)K[W][1]+=String.fromCharCode(D[D.l]),D.l++;D.l++}}return K}function A(D,Q){var K=jn(5+D.length);K.write_shift(2,14e3),K.write_shift(2,Q);for(var ee=0;ee<D.length;++ee){var W=D.charCodeAt(ee);K[K.l++]=W>127?95:W}return K[K.l++]=0,K}var j={0:{n:"BOF",f:En},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:x},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:g},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:C},222:{n:"SHEETNAMELP",f:S},65535:{n:""}},B={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:H},23:{n:"NUMBER17",f:O},24:{n:"NUMBER18",f:I},25:{n:"FORMULA19",f:q},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:E},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:z},38:{n:"??"},39:{n:"NUMBER27",f:N},40:{n:"FORMULA28",f:U},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:C},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:k},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:s,to_workbook:t}})();function aF(r){var t={},e=r.match(ps),n=0,s=!1;if(e)for(;n!=e.length;++n){var i=Zt(e[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=zb[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(i[0].charCodeAt(1)!==47&&!s)throw new Error("Unrecognized rich format "+i[0])}}return t}var iF=(function(){var r=Xf("t"),t=Xf("rPr");function e(i){var a=i.match(r);if(!a)return{t:"s",v:""};var l={t:"s",v:Rr(a[1])},c=i.match(t);return c&&(l.s=aF(c[1])),l}var n=/<(?:\w+:)?r>/g,s=/<\/(?:\w+:)?r>/;return function(a){return a.replace(n,"").split(s).map(e).filter(function(l){return l.v})}})(),oF=(function(){var t=/(\r\n|\n)/g;function e(s,i,a){var l=[];s.u&&l.push("text-decoration: underline;"),s.uval&&l.push("text-underline-style:"+s.uval+";"),s.sz&&l.push("font-size:"+s.sz+"pt;"),s.outline&&l.push("text-effect: outline;"),s.shadow&&l.push("text-shadow: auto;"),i.push('<span style="'+l.join("")+'">'),s.b&&(i.push("<b>"),a.push("</b>")),s.i&&(i.push("<i>"),a.push("</i>")),s.strike&&(i.push("<s>"),a.push("</s>"));var c=s.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(i.push("<"+c+">"),a.push("</"+c+">")),a.push("</span>"),s}function n(s){var i=[[],s.v,[]];return s.v?(s.s&&e(s.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}})(),lF=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,cF=/<(?:\w+:)?r>/,uF=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function ax(r,t){var e=t?t.cellHTML:!0,n={};return r?(r.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Rr(Wr(r.slice(r.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Wr(r),e&&(n.h=Yb(n.t))):r.match(cF)&&(n.r=Wr(r),n.t=Rr(Wr((r.replace(uF,"").match(lF)||[]).join("").replace(ps,""))),e&&(n.h=oF(iF(n.r)))),n):{t:""}}var fF=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,hF=/<(?:\w+:)?(?:si|sstItem)>/g,dF=/<\/(?:\w+:)?(?:si|sstItem)>/;function pF(r,t){var e=[],n="";if(!r)return e;var s=r.match(fF);if(s){n=s[2].replace(hF,"").split(dF);for(var i=0;i!=n.length;++i){var a=ax(n[i].trim(),t);a!=null&&(e[e.length]=a)}s=Zt(s[1]),e.Count=s.count,e.Unique=s.uniqueCount}return e}function mF(r){return[r.read_shift(4),r.read_shift(4)]}function gF(r,t){var e=[],n=!1;return Yi(r,function(i,a,l){switch(l){case 159:e.Count=i[0],e.Unique=i[1];break;case 19:e.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(a.T,!n||t.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),e}function I8(r){for(var t=[],e=r.split(""),n=0;n<e.length;++n)t[n]=e[n].charCodeAt(0);return t}function Ui(r,t){var e={};return e.Major=r.read_shift(2),e.Minor=r.read_shift(2),t>=4&&(r.l+=t-4),e}function bF(r){var t={};return t.id=r.read_shift(0,"lpp4"),t.R=Ui(r,4),t.U=Ui(r,4),t.W=Ui(r,4),t}function xF(r){for(var t=r.read_shift(4),e=r.l+t-4,n={},s=r.read_shift(4),i=[];s-- >0;)i.push({t:r.read_shift(4),v:r.read_shift(0,"lpp4")});if(n.name=r.read_shift(0,"lpp4"),n.comps=i,r.l!=e)throw new Error("Bad DataSpaceMapEntry: "+r.l+" != "+e);return n}function yF(r){var t=[];r.l+=4;for(var e=r.read_shift(4);e-- >0;)t.push(xF(r));return t}function vF(r){var t=[];r.l+=4;for(var e=r.read_shift(4);e-- >0;)t.push(r.read_shift(0,"lpp4"));return t}function wF(r){var t={};return r.read_shift(4),r.l+=4,t.id=r.read_shift(0,"lpp4"),t.name=r.read_shift(0,"lpp4"),t.R=Ui(r,4),t.U=Ui(r,4),t.W=Ui(r,4),t}function _F(r){var t=wF(r);if(t.ename=r.read_shift(0,"8lpp4"),t.blksz=r.read_shift(4),t.cmode=r.read_shift(4),r.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function D8(r,t){var e=r.l+t,n={};n.Flags=r.read_shift(4)&63,r.l+=4,n.AlgID=r.read_shift(4);var s=!1;switch(n.AlgID){case 26126:case 26127:case 26128:s=n.Flags==36;break;case 26625:s=n.Flags==4;break;case 0:s=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!s)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=r.read_shift(4),n.KeySize=r.read_shift(4),n.ProviderType=r.read_shift(4),r.l+=8,n.CSPName=r.read_shift(e-r.l>>1,"utf16le"),r.l=e,n}function O8(r,t){var e={},n=r.l+t;return r.l+=4,e.Salt=r.slice(r.l,r.l+16),r.l+=16,e.Verifier=r.slice(r.l,r.l+16),r.l+=16,r.read_shift(4),e.VerifierHash=r.slice(r.l,n),r.l=n,e}function SF(r){var t=Ui(r);switch(t.Minor){case 2:return[t.Minor,TF(r)];case 3:return[t.Minor,kF()];case 4:return[t.Minor,EF(r)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function TF(r){var t=r.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var e=r.read_shift(4),n=D8(r,e),s=O8(r,r.length-r.l);return{t:"Std",h:n,v:s}}function kF(){throw new Error("File is password-protected: ECMA-376 Extensible")}function EF(r){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];r.l+=4;var e=r.read_shift(r.length-r.l,"utf8"),n={};return e.replace(ps,function(i){var a=Zt(i);switch(di(a[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(l){n[l]=a[l]});break;case"<dataIntegrity":n.encryptedHmacKey=a.encryptedHmacKey,n.encryptedHmacValue=a.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=a.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(a);break;default:throw a[0]}}),n}function AF(r,t){var e={},n=e.EncryptionVersionInfo=Ui(r,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);e.Flags=r.read_shift(4),t-=4;var s=r.read_shift(4);return t-=4,e.EncryptionHeader=D8(r,s),t-=s,e.EncryptionVerifier=O8(r,t),e}function CF(r){var t={},e=t.EncryptionVersionInfo=Ui(r,4);if(e.Major!=1||e.Minor!=1)throw"unrecognized version code "+e.Major+" : "+e.Minor;return t.Salt=r.read_shift(16),t.EncryptedVerifier=r.read_shift(16),t.EncryptedVerifierHash=r.read_shift(16),t}function NF(r){var t=0,e,n=I8(r),s=n.length+1,i,a,l,c,o;for(e=Xo(s),e[0]=n.length,i=1;i!=s;++i)e[i]=n[i-1];for(i=s-1;i>=0;--i)a=e[i],l=(t&16384)===0?0:1,c=t<<1&32767,o=l|c,t=o^a;return t^52811}var F8=(function(){var r=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],e=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(a){return(a/2|a*128)&255},s=function(a,l){return n(a^l)},i=function(a){for(var l=t[a.length-1],c=104,o=a.length-1;o>=0;--o)for(var u=a[o],p=0;p!=7;++p)u&64&&(l^=e[c]),u*=2,--c;return l};return function(a){for(var l=I8(a),c=i(l),o=l.length,u=Xo(16),p=0;p!=16;++p)u[p]=0;var h,d,x;for((o&1)===1&&(h=c>>8,u[o]=s(r[0],h),--o,h=c&255,d=l[l.length-1],u[o]=s(d,h));o>0;)--o,h=c>>8,u[o]=s(l[o],h),--o,h=c&255,u[o]=s(l[o],h);for(o=15,x=15-l.length;x>0;)h=c>>8,u[o]=s(r[x],h),--o,--x,h=c&255,u[o]=s(l[o],h),--o,--x;return u}})(),RF=function(r,t,e,n,s){s||(s=t),n||(n=F8(r));var i,a;for(i=0;i!=t.length;++i)a=t[i],a^=n[e],a=(a>>5|a<<3)&255,s[i]=a,++e;return[s,e,n]},MF=function(r){var t=0,e=F8(r);return function(n){var s=RF("",n,t,e);return t=s[1],s[0]}};function jF(r,t,e,n){var s={key:En(r),verificationBytes:En(r)};return e.password&&(s.verifier=NF(e.password)),n.valid=s.verificationBytes===s.verifier,n.valid&&(n.insitu=MF(e.password)),s}function IF(r,t,e){var n=e||{};return n.Info=r.read_shift(2),r.l-=2,n.Info===1?n.Data=CF(r):n.Data=AF(r,t),n}function DF(r,t,e){var n={Type:e.biff>=8?r.read_shift(2):0};return n.Type?IF(r,t-2,n):jF(r,e.biff>=8?t:t-2,e,n),n}var OF=(function(){function r(s,i){switch(i.type){case"base64":return t(ea(s),i);case"binary":return t(s,i);case"buffer":return t(Er&&Buffer.isBuffer(s)?s.toString("binary"):$l(s),i);case"array":return t(Bl(s),i)}throw new Error("Unrecognized type "+i.type)}function t(s,i){var a=i||{},l=a.dense?[]:{},c=s.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var o={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(u,p){Array.isArray(l)&&(l[p]=[]);for(var h=/\\\w+\b/g,d=0,x,b=-1;x=h.exec(u);){switch(x[0]){case"\\cell":var g=u.slice(d,h.lastIndex-x[0].length);if(g[0]==" "&&(g=g.slice(1)),++b,g.length){var v={v:g,t:"s"};Array.isArray(l)?l[p][b]=v:l[sr({r:p,c:b})]=v}break}d=h.lastIndex}b>o.e.c&&(o.e.c=b)}),l["!ref"]=Nr(o),l}function e(s,i){return Zo(r(s,i),i)}function n(s){for(var i=["{\\rtf1\\ansi"],a=un(s["!ref"]),l,c=Array.isArray(s),o=a.s.r;o<=a.e.r;++o){i.push("\\trowd\\trautofit1");for(var u=a.s.c;u<=a.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=a.s.c;u<=a.e.c;++u){var p=sr({r:o,c:u});l=c?(s[o]||[])[u]:s[p],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(Gi(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:e,to_sheet:r,from_sheet:n}})();function FF(r){var t=r.slice(r[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Qf(r){for(var t=0,e=1;t!=3;++t)e=e*256+(r[t]>255?255:r[t]<0?0:r[t]);return e.toString(16).toUpperCase().slice(1)}function PF(r){var t=r[0]/255,e=r[1]/255,n=r[2]/255,s=Math.max(t,e,n),i=Math.min(t,e,n),a=s-i;if(a===0)return[0,0,t];var l=0,c=0,o=s+i;switch(c=a/(o>1?2-o:o),s){case t:l=((e-n)/a+6)%6;break;case e:l=(n-t)/a+2;break;case n:l=(t-e)/a+4;break}return[l/6,c,o/2]}function LF(r){var t=r[0],e=r[1],n=r[2],s=e*2*(n<.5?n:1-n),i=n-s/2,a=[i,i,i],l=6*t,c;if(e!==0)switch(l|0){case 0:case 6:c=s*l,a[0]+=s,a[1]+=c;break;case 1:c=s*(2-l),a[0]+=c,a[1]+=s;break;case 2:c=s*(l-2),a[1]+=s,a[2]+=c;break;case 3:c=s*(4-l),a[1]+=c,a[2]+=s;break;case 4:c=s*(l-4),a[2]+=s,a[0]+=c;break;case 5:c=s*(6-l),a[2]+=c,a[0]+=s;break}for(var o=0;o!=3;++o)a[o]=Math.round(a[o]*255);return a}function H0(r,t){if(t===0)return r;var e=PF(FF(r));return t<0?e[2]=e[2]*(1+t):e[2]=1-(1-e[2])*(1-t),Qf(LF(e))}var P8=6,BF=15,UF=1,ws=P8;function $0(r){return Math.floor((r+Math.round(128/ws)/256)*ws)}function q0(r){return Math.floor((r-5)/ws*100+.5)/100}function C1(r){return Math.round((r*ws+5)/ws*256)/256}function Vg(r){return C1(q0($0(r)))}function ix(r){var t=Math.abs(r-Vg(r)),e=ws;if(t>.005)for(ws=UF;ws<BF;++ws)Math.abs(r-Vg(r))<=t&&(t=Math.abs(r-Vg(r)),e=ws);ws=e}function tu(r){r.width?(r.wpx=$0(r.width),r.wch=q0(r.wpx),r.MDW=ws):r.wpx?(r.wch=q0(r.wpx),r.width=C1(r.wch),r.MDW=ws):typeof r.wch=="number"&&(r.width=C1(r.wch),r.wpx=$0(r.width),r.MDW=ws),r.customWidth&&delete r.customWidth}var VF=96,L8=VF;function B8(r){return r*96/L8}function Zf(r){return r*L8/96}var zF={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function HF(r,t,e,n){t.Borders=[];var s={},i=!1;(r[0].match(ps)||[]).forEach(function(a){var l=Zt(a);switch(di(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":s={},l.diagonalUp&&(s.diagonalUp=en(l.diagonalUp)),l.diagonalDown&&(s.diagonalDown=en(l.diagonalDown)),t.Borders.push(s);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in borders")}})}function $F(r,t,e,n){t.Fills=[];var s={},i=!1;(r[0].match(ps)||[]).forEach(function(a){var l=Zt(a);switch(di(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":s={},t.Fills.push(s);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(s),s={};break;case"<patternFill":case"<patternFill>":l.patternType&&(s.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":s.bgColor||(s.bgColor={}),l.indexed&&(s.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(s.bgColor.theme=parseInt(l.theme,10)),l.tint&&(s.bgColor.tint=parseFloat(l.tint)),l.rgb&&(s.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":s.fgColor||(s.fgColor={}),l.theme&&(s.fgColor.theme=parseInt(l.theme,10)),l.tint&&(s.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(s.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fills")}})}function qF(r,t,e,n){t.Fonts=[];var s={},i=!1;(r[0].match(ps)||[]).forEach(function(a){var l=Zt(a);switch(di(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(s),s={};break;case"<name":l.val&&(s.name=Wr(l.val));break;case"<name/>":case"</name>":break;case"<b":s.bold=l.val?en(l.val):1;break;case"<b/>":s.bold=1;break;case"<i":s.italic=l.val?en(l.val):1;break;case"<i/>":s.italic=1;break;case"<u":switch(l.val){case"none":s.underline=0;break;case"single":s.underline=1;break;case"double":s.underline=2;break;case"singleAccounting":s.underline=33;break;case"doubleAccounting":s.underline=34;break}break;case"<u/>":s.underline=1;break;case"<strike":s.strike=l.val?en(l.val):1;break;case"<strike/>":s.strike=1;break;case"<outline":s.outline=l.val?en(l.val):1;break;case"<outline/>":s.outline=1;break;case"<shadow":s.shadow=l.val?en(l.val):1;break;case"<shadow/>":s.shadow=1;break;case"<condense":s.condense=l.val?en(l.val):1;break;case"<condense/>":s.condense=1;break;case"<extend":s.extend=l.val?en(l.val):1;break;case"<extend/>":s.extend=1;break;case"<sz":l.val&&(s.sz=+l.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":l.val&&(s.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":l.val&&(s.family=parseInt(l.val,10));break;case"<family/>":case"</family>":break;case"<scheme":l.val&&(s.scheme=l.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(l.val=="1")break;l.codepage=zb[parseInt(l.val,10)];break;case"<color":if(s.color||(s.color={}),l.auto&&(s.color.auto=en(l.auto)),l.rgb)s.color.rgb=l.rgb.slice(-6);else if(l.indexed){s.color.index=parseInt(l.indexed,10);var c=Ml[s.color.index];s.color.index==81&&(c=Ml[1]),c||(c=Ml[1]),s.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else l.theme&&(s.color.theme=parseInt(l.theme,10),l.tint&&(s.color.tint=parseFloat(l.tint)),l.theme&&e.themeElements&&e.themeElements.clrScheme&&(s.color.rgb=H0(e.themeElements.clrScheme[s.color.theme].rgb,s.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fonts")}})}function GF(r,t,e){t.NumberFmt=[];for(var n=hi(ur),s=0;s<n.length;++s)t.NumberFmt[n[s]]=ur[n[s]];var i=r[0].match(ps);if(i)for(s=0;s<i.length;++s){var a=Zt(i[s]);switch(di(a[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=Rr(Wr(a.formatCode)),c=parseInt(a.numFmtId,10);if(t.NumberFmt[c]=l,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=l}Rl(l,c)}}break;case"</numFmt>":break;default:if(e.WTF)throw new Error("unrecognized "+a[0]+" in numFmts")}}}var Yd=["numFmtId","fillId","fontId","borderId","xfId"],Kd=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function WF(r,t,e){t.CellXf=[];var n,s=!1;(r[0].match(ps)||[]).forEach(function(i){var a=Zt(i),l=0;switch(di(a[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=a,delete n[0],l=0;l<Yd.length;++l)n[Yd[l]]&&(n[Yd[l]]=parseInt(n[Yd[l]],10));for(l=0;l<Kd.length;++l)n[Kd[l]]&&(n[Kd[l]]=en(n[Kd[l]]));if(t.NumberFmt&&n.numFmtId>392){for(l=392;l>60;--l)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[l]){n.numFmtId=l;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};a.vertical&&(c.vertical=a.vertical),a.horizontal&&(c.horizontal=a.horizontal),a.textRotation!=null&&(c.textRotation=a.textRotation),a.indent&&(c.indent=a.indent),a.wrapText&&(c.wrapText=en(a.wrapText)),n.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(e&&e.WTF&&!s)throw new Error("unrecognized "+a[0]+" in cellXfs")}})}var XF=(function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,e=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,s=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(l,c,o){var u={};if(!l)return u;l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var p;return(p=l.match(t))&&GF(p,u,o),(p=l.match(s))&&qF(p,u,c,o),(p=l.match(n))&&$F(p,u,c,o),(p=l.match(i))&&HF(p,u,c,o),(p=l.match(e))&&WF(p,u,o),u}})();function YF(r,t){var e=r.read_shift(2),n=fs(r);return[e,n]}function KF(r,t,e){var n={};n.sz=r.read_shift(2)/20;var s=iD(r);s.fItalic&&(n.italic=1),s.fCondense&&(n.condense=1),s.fExtend&&(n.extend=1),s.fShadow&&(n.shadow=1),s.fOutline&&(n.outline=1),s.fStrikeout&&(n.strike=1);var i=r.read_shift(2);switch(i===700&&(n.bold=1),r.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var a=r.read_shift(1);a!=0&&(n.underline=a);var l=r.read_shift(1);l>0&&(n.family=l);var c=r.read_shift(1);switch(c>0&&(n.charset=c),r.l++,n.color=aD(r),r.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=fs(r),n}var QF=ds;function ZF(r,t){var e=r.l+t,n=r.read_shift(2),s=r.read_shift(2);return r.l=e,{ixfe:n,numFmtId:s}}var JF=ds;function eP(r,t,e){var n={};n.NumberFmt=[];for(var s in ur)n.NumberFmt[s]=ur[s];n.CellXf=[],n.Fonts=[];var i=[],a=!1;return Yi(r,function(c,o,u){switch(u){case 44:n.NumberFmt[c[0]]=c[1],Rl(c[1],c[0]);break;case 43:n.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=H0(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:i.push(u),a=!0;break;case 38:i.pop(),a=!1;break;default:if(o.T>0)i.push(u);else if(o.T<0)i.pop();else if(!a||e.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),n}var tP=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function rP(r,t,e){t.themeElements.clrScheme=[];var n={};(r[0].match(ps)||[]).forEach(function(s){var i=Zt(s);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[tP.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(e&&e.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function nP(){}function sP(){}var aP=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,iP=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,oP=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function lP(r,t,e){t.themeElements={};var n;[["clrScheme",aP,rP],["fontScheme",iP,nP],["fmtScheme",oP,sP]].forEach(function(s){if(!(n=r.match(s[1])))throw new Error(s[0]+" not found in themeElements");s[2](n,t,e)})}var cP=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function U8(r,t){(!r||r.length===0)&&(r=uP());var e,n={};if(!(e=r.match(cP)))throw new Error("themeElements not found in theme");return lP(e[0],n,t),n.raw=r,n}function uP(r,t){var e=[Q6];return e[e.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',e[e.length]="<a:themeElements>",e[e.length]='<a:clrScheme name="Office">',e[e.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',e[e.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',e[e.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',e[e.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',e[e.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',e[e.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',e[e.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',e[e.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',e[e.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',e[e.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',e[e.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',e[e.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',e[e.length]="</a:clrScheme>",e[e.length]='<a:fontScheme name="Office">',e[e.length]="<a:majorFont>",e[e.length]='<a:latin typeface="Cambria"/>',e[e.length]='<a:ea typeface=""/>',e[e.length]='<a:cs typeface=""/>',e[e.length]='<a:font script="Jpan" typeface=" "/>',e[e.length]='<a:font script="Hang" typeface=" "/>',e[e.length]='<a:font script="Hans" typeface=""/>',e[e.length]='<a:font script="Hant" typeface=""/>',e[e.length]='<a:font script="Arab" typeface="Times New Roman"/>',e[e.length]='<a:font script="Hebr" typeface="Times New Roman"/>',e[e.length]='<a:font script="Thai" typeface="Tahoma"/>',e[e.length]='<a:font script="Ethi" typeface="Nyala"/>',e[e.length]='<a:font script="Beng" typeface="Vrinda"/>',e[e.length]='<a:font script="Gujr" typeface="Shruti"/>',e[e.length]='<a:font script="Khmr" typeface="MoolBoran"/>',e[e.length]='<a:font script="Knda" typeface="Tunga"/>',e[e.length]='<a:font script="Guru" typeface="Raavi"/>',e[e.length]='<a:font script="Cans" typeface="Euphemia"/>',e[e.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',e[e.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',e[e.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',e[e.length]='<a:font script="Thaa" typeface="MV Boli"/>',e[e.length]='<a:font script="Deva" typeface="Mangal"/>',e[e.length]='<a:font script="Telu" typeface="Gautami"/>',e[e.length]='<a:font script="Taml" typeface="Latha"/>',e[e.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',e[e.length]='<a:font script="Orya" typeface="Kalinga"/>',e[e.length]='<a:font script="Mlym" typeface="Kartika"/>',e[e.length]='<a:font script="Laoo" typeface="DokChampa"/>',e[e.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',e[e.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',e[e.length]='<a:font script="Viet" typeface="Times New Roman"/>',e[e.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',e[e.length]='<a:font script="Geor" typeface="Sylfaen"/>',e[e.length]="</a:majorFont>",e[e.length]="<a:minorFont>",e[e.length]='<a:latin typeface="Calibri"/>',e[e.length]='<a:ea typeface=""/>',e[e.length]='<a:cs typeface=""/>',e[e.length]='<a:font script="Jpan" typeface=" "/>',e[e.length]='<a:font script="Hang" typeface=" "/>',e[e.length]='<a:font script="Hans" typeface=""/>',e[e.length]='<a:font script="Hant" typeface=""/>',e[e.length]='<a:font script="Arab" typeface="Arial"/>',e[e.length]='<a:font script="Hebr" typeface="Arial"/>',e[e.length]='<a:font script="Thai" typeface="Tahoma"/>',e[e.length]='<a:font script="Ethi" typeface="Nyala"/>',e[e.length]='<a:font script="Beng" typeface="Vrinda"/>',e[e.length]='<a:font script="Gujr" typeface="Shruti"/>',e[e.length]='<a:font script="Khmr" typeface="DaunPenh"/>',e[e.length]='<a:font script="Knda" typeface="Tunga"/>',e[e.length]='<a:font script="Guru" typeface="Raavi"/>',e[e.length]='<a:font script="Cans" typeface="Euphemia"/>',e[e.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',e[e.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',e[e.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',e[e.length]='<a:font script="Thaa" typeface="MV Boli"/>',e[e.length]='<a:font script="Deva" typeface="Mangal"/>',e[e.length]='<a:font script="Telu" typeface="Gautami"/>',e[e.length]='<a:font script="Taml" typeface="Latha"/>',e[e.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',e[e.length]='<a:font script="Orya" typeface="Kalinga"/>',e[e.length]='<a:font script="Mlym" typeface="Kartika"/>',e[e.length]='<a:font script="Laoo" typeface="DokChampa"/>',e[e.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',e[e.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',e[e.length]='<a:font script="Viet" typeface="Arial"/>',e[e.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',e[e.length]='<a:font script="Geor" typeface="Sylfaen"/>',e[e.length]="</a:minorFont>",e[e.length]="</a:fontScheme>",e[e.length]='<a:fmtScheme name="Office">',e[e.length]="<a:fillStyleLst>",e[e.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:lin ang="16200000" scaled="1"/>',e[e.length]="</a:gradFill>",e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:lin ang="16200000" scaled="0"/>',e[e.length]="</a:gradFill>",e[e.length]="</a:fillStyleLst>",e[e.length]="<a:lnStyleLst>",e[e.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',e[e.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',e[e.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',e[e.length]="</a:lnStyleLst>",e[e.length]="<a:effectStyleLst>",e[e.length]="<a:effectStyle>",e[e.length]="<a:effectLst>",e[e.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',e[e.length]="</a:effectLst>",e[e.length]="</a:effectStyle>",e[e.length]="<a:effectStyle>",e[e.length]="<a:effectLst>",e[e.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',e[e.length]="</a:effectLst>",e[e.length]="</a:effectStyle>",e[e.length]="<a:effectStyle>",e[e.length]="<a:effectLst>",e[e.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',e[e.length]="</a:effectLst>",e[e.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',e[e.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',e[e.length]="</a:effectStyle>",e[e.length]="</a:effectStyleLst>",e[e.length]="<a:bgFillStyleLst>",e[e.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',e[e.length]="</a:gradFill>",e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',e[e.length]="</a:gradFill>",e[e.length]="</a:bgFillStyleLst>",e[e.length]="</a:fmtScheme>",e[e.length]="</a:themeElements>",e[e.length]="<a:objectDefaults>",e[e.length]="<a:spDef>",e[e.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',e[e.length]="</a:spDef>",e[e.length]="<a:lnDef>",e[e.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',e[e.length]="</a:lnDef>",e[e.length]="</a:objectDefaults>",e[e.length]="<a:extraClrSchemeLst/>",e[e.length]="</a:theme>",e.join("")}function fP(r,t,e){var n=r.l+t,s=r.read_shift(4);if(s!==124226){if(!e.cellStyles){r.l=n;return}var i=r.slice(r.l);r.l=n;var a;try{a=K6(i,{type:"array"})}catch{return}var l=Ks(a,"theme/theme/theme1.xml",!0);if(l)return U8(l,e)}}function hP(r){return r.read_shift(4)}function dP(r){var t={};switch(t.xclrType=r.read_shift(2),t.nTintShade=r.read_shift(2),t.xclrType){case 0:r.l+=4;break;case 1:t.xclrValue=pP(r,4);break;case 2:t.xclrValue=E8(r);break;case 3:t.xclrValue=hP(r);break;case 4:r.l+=4;break}return r.l+=8,t}function pP(r,t){return ds(r,t)}function mP(r,t){return ds(r,t)}function gP(r){var t=r.read_shift(2),e=r.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=dP(r);break;case 6:n[1]=mP(r,e);break;case 14:case 15:n[1]=r.read_shift(e===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+e)}return n}function bP(r,t){var e=r.l+t;r.l+=2;var n=r.read_shift(2);r.l+=2;for(var s=r.read_shift(2),i=[];s-- >0;)i.push(gP(r,e-r.l));return{ixfe:n,ext:i}}function xP(r,t){t.forEach(function(e){e[0]})}function yP(r,t){return{flags:r.read_shift(4),version:r.read_shift(4),name:fs(r)}}function vP(r){for(var t=[],e=r.read_shift(4);e-- >0;)t.push([r.read_shift(4),r.read_shift(4)]);return t}function wP(r){return r.l+=4,r.read_shift(4)!=0}function _P(r,t,e){var n={Types:[],Cell:[],Value:[]},s=e||{},i=[],a=!1,l=2;return Yi(r,function(c,o,u){switch(u){case 335:n.Types.push({name:c.name});break;case 51:c.forEach(function(p){l==1?n.Cell.push({type:n.Types[p[0]-1].name,index:p[1]}):l==0&&n.Value.push({type:n.Types[p[0]-1].name,index:p[1]})});break;case 337:l=c?1:0;break;case 338:l=2;break;case 35:i.push(u),a=!0;break;case 36:i.pop(),a=!1;break;default:if(!o.T){if(!a||s.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),n}function SP(r,t,e){var n={Types:[],Cell:[],Value:[]};if(!r)return n;var s=!1,i=2,a;return r.replace(ps,function(l){var c=Zt(l);switch(di(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var o=0;o<n.Types.length;++o)n.Types[o].name==c.name&&(a=n.Types[o]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[c.t-1].name,index:+c.v}):i==0&&n.Value.push({type:n.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;case"<rvb":if(!a)break;a.offsets||(a.offsets=[]),a.offsets.push(+c.i);break;default:if(!s&&e.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return l}),n}function TP(r){var t=[];if(!r)return t;var e=1;return(r.match(ps)||[]).forEach(function(n){var s=Zt(n);switch(s[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete s[0],s.i?e=s.i:s.i=e,t.push(s);break}}),t}function kP(r){var t={};t.i=r.read_shift(4);var e={};e.r=r.read_shift(4),e.c=r.read_shift(4),t.r=sr(e);var n=r.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function EP(r,t,e){var n=[];return Yi(r,function(i,a,l){switch(l){case 63:n.push(i);break;default:if(!a.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),n}function AP(r,t,e,n){if(!r)return r;var s=n||{},i=!1;Yi(r,function(l,c,o){switch(o){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!c.T){if(!i||s.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}},s)}function CP(r,t){if(!r)return"??";var e=(r.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][e].Target}function v4(r,t,e,n){var s=Array.isArray(r),i;t.forEach(function(a){var l=_s(a.ref);if(s?(r[l.r]||(r[l.r]=[]),i=r[l.r][l.c]):i=r[a.ref],!i){i={t:"z"},s?r[l.r][l.c]=i:r[a.ref]=i;var c=un(r["!ref"]||"BDWGO1000001:A1");c.s.r>l.r&&(c.s.r=l.r),c.e.r<l.r&&(c.e.r=l.r),c.s.c>l.c&&(c.s.c=l.c),c.e.c<l.c&&(c.e.c=l.c);var o=Nr(c);o!==r["!ref"]&&(r["!ref"]=o)}i.c||(i.c=[]);var u={a:a.author,t:a.t,r:a.r,T:e};a.h&&(u.h=a.h);for(var p=i.c.length-1;p>=0;--p){if(!e&&i.c[p].T)return;e&&!i.c[p].T&&i.c.splice(p,1)}if(e&&n){for(p=0;p<n.length;++p)if(u.a==n[p].id){u.a=n[p].name||u.a;break}}i.c.push(u)})}function NP(r,t){if(r.match(/<(?:\w+:)?comments *\/>/))return[];var e=[],n=[],s=r.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);s&&s[1]&&s[1].split(/<\/\w*:?author>/).forEach(function(a){if(!(a===""||a.trim()==="")){var l=a.match(/<(?:\w+:)?author[^>]*>(.*)/);l&&e.push(l[1])}});var i=r.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(a){if(!(a===""||a.trim()==="")){var l=a.match(/<(?:\w+:)?comment[^>]*>/);if(l){var c=Zt(l[0]),o={author:c.authorId&&e[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},u=_s(c.ref);if(!(t.sheetRows&&t.sheetRows<=u.r)){var p=a.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!p&&!!p[1]&&ax(p[1])||{r:"",t:"",h:""};o.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),o.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(o.h=h.h),n.push(o)}}}}),n}function RP(r,t){var e=[],n=!1,s={},i=0;return r.replace(ps,function(l,c){var o=Zt(l);switch(di(o[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":s={author:o.personId,guid:o.id,ref:o.ref,T:1};break;case"</threadedComment>":s.t!=null&&e.push(s);break;case"<text>":case"<text":i=c+l.length;break;case"</text>":s.t=r.slice(i,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return l}),e}function MP(r,t){var e=[],n=!1;return r.replace(ps,function(i){var a=Zt(i);switch(di(a[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":e.push({name:a.displayname,id:a.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+a[0]+" in threaded comments")}return i}),e}function jP(r){var t={};t.iauthor=r.read_shift(4);var e=Gl(r);return t.rfx=e.s,t.ref=sr(e.s),r.l+=16,t}var IP=fs;function DP(r,t){var e=[],n=[],s={},i=!1;return Yi(r,function(l,c,o){switch(o){case 632:n.push(l);break;case 635:s=l;break;case 637:s.t=l.t,s.h=l.h,s.r=l.r;break;case 636:if(s.author=n[s.iauthor],delete s.iauthor,t.sheetRows&&s.rfx&&t.sheetRows<=s.rfx.r)break;s.t||(s.t=""),delete s.rfx,e.push(s);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}}),e}var OP="application/vnd.ms-office.vbaProject";function FP(r){var t=Cr.utils.cfb_new({root:"R"});return r.FullPaths.forEach(function(e,n){if(!(e.slice(-1)==="/"||!e.match(/_VBA_PROJECT_CUR/))){var s=e.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Cr.utils.cfb_add(t,s,r.FileIndex[n].content)}}),Cr.write(t)}function PP(){return{"!type":"dialog"}}function LP(){return{"!type":"dialog"}}function BP(){return{"!type":"macro"}}function UP(){return{"!type":"macro"}}var Hc=(function(){var r=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function e(n,s,i,a){var l=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),a.length==0?l=!0:a.charAt(0)=="["&&(l=!0,a=a.slice(1,-1));var o=i.length>0?parseInt(i,10)|0:0,u=a.length>0?parseInt(a,10)|0:0;return l?u+=t.c:--u,c?o+=t.r:--o,s+(l?"":"$")+Dn(u)+(c?"":"$")+es(o)}return function(s,i){return t=i,s.replace(r,e)}})(),V8=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,VP=(function(){return function(t,e){return t.replace(V8,function(n,s,i,a,l,c){var o=Jb(a)-(i?0:e.c),u=Zb(c)-(l?0:e.r),p=u==0?"":l?u+1:"["+u+"]",h=o==0?"":i?o+1:"["+o+"]";return s+"R"+p+"C"+h})}})();function z8(r,t){return r.replace(V8,function(e,n,s,i,a,l){return n+(s=="$"?s+i:Dn(Jb(i)+t.c))+(a=="$"?a+l:es(Zb(l)+t.r))})}function zP(r,t,e){var n=du(t),s=n.s,i=_s(e),a={r:i.r-s.r,c:i.c-s.c};return z8(r,a)}function HP(r){return r.length!=1}function w4(r){return r.replace(/_xlfn\./g,"")}function Sn(r){r.l+=1}function Yo(r,t){var e=r.read_shift(2);return[e&16383,e>>14&1,e>>15&1]}function H8(r,t,e){var n=2;if(e){if(e.biff>=2&&e.biff<=5)return $8(r);e.biff==12&&(n=4)}var s=r.read_shift(n),i=r.read_shift(n),a=Yo(r),l=Yo(r);return{s:{r:s,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function $8(r){var t=Yo(r),e=Yo(r),n=r.read_shift(1),s=r.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:e[0],c:s,cRel:e[1],rRel:e[2]}}}function $P(r,t,e){if(e.biff<8)return $8(r);var n=r.read_shift(e.biff==12?4:2),s=r.read_shift(e.biff==12?4:2),i=Yo(r),a=Yo(r);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:a[0],cRel:a[1],rRel:a[2]}}}function q8(r,t,e){if(e&&e.biff>=2&&e.biff<=5)return qP(r);var n=r.read_shift(e&&e.biff==12?4:2),s=Yo(r);return{r:n,c:s[0],cRel:s[1],rRel:s[2]}}function qP(r){var t=Yo(r),e=r.read_shift(1);return{r:t[0],c:e,cRel:t[1],rRel:t[2]}}function GP(r){var t=r.read_shift(2),e=r.read_shift(2);return{r:t,c:e&255,fQuoted:!!(e&16384),cRel:e>>15,rRel:e>>15}}function WP(r,t,e){var n=e&&e.biff?e.biff:8;if(n>=2&&n<=5)return XP(r);var s=r.read_shift(n>=12?4:2),i=r.read_shift(2),a=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;s>524287;)s-=1048576;if(a==1)for(;i>8191;)i=i-16384;return{r:s,c:i,cRel:a,rRel:l}}function XP(r){var t=r.read_shift(2),e=r.read_shift(1),n=(t&32768)>>15,s=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),s==1&&e>=128&&(e=e-256),{r:t,c:e,cRel:s,rRel:n}}function YP(r,t,e){var n=(r[r.l++]&96)>>5,s=H8(r,e.biff>=2&&e.biff<=5?6:8,e);return[n,s]}function KP(r,t,e){var n=(r[r.l++]&96)>>5,s=r.read_shift(2,"i"),i=8;if(e)switch(e.biff){case 5:r.l+=12,i=6;break;case 12:i=12;break}var a=H8(r,i,e);return[n,s,a]}function QP(r,t,e){var n=(r[r.l++]&96)>>5;return r.l+=e&&e.biff>8?12:e.biff<8?6:8,[n]}function ZP(r,t,e){var n=(r[r.l++]&96)>>5,s=r.read_shift(2),i=8;if(e)switch(e.biff){case 5:r.l+=12,i=6;break;case 12:i=12;break}return r.l+=i,[n,s]}function JP(r,t,e){var n=(r[r.l++]&96)>>5,s=$P(r,t-1,e);return[n,s]}function eL(r,t,e){var n=(r[r.l++]&96)>>5;return r.l+=e.biff==2?6:e.biff==12?14:7,[n]}function _4(r){var t=r[r.l+1]&1,e=1;return r.l+=4,[t,e]}function tL(r,t,e){r.l+=2;for(var n=r.read_shift(e&&e.biff==2?1:2),s=[],i=0;i<=n;++i)s.push(r.read_shift(e&&e.biff==2?1:2));return s}function rL(r,t,e){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(e&&e.biff==2?1:2)]}function nL(r,t,e){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(e&&e.biff==2?1:2)]}function sL(r){var t=r[r.l+1]&255?1:0;return r.l+=2,[t,r.read_shift(2)]}function aL(r,t,e){var n=r[r.l+1]&255?1:0;return r.l+=e&&e.biff==2?3:4,[n]}function G8(r){var t=r.read_shift(1),e=r.read_shift(1);return[t,e]}function iL(r){return r.read_shift(2),G8(r)}function oL(r){return r.read_shift(2),G8(r)}function lL(r,t,e){var n=(r[r.l]&96)>>5;r.l+=1;var s=q8(r,0,e);return[n,s]}function cL(r,t,e){var n=(r[r.l]&96)>>5;r.l+=1;var s=WP(r,0,e);return[n,s]}function uL(r,t,e){var n=(r[r.l]&96)>>5;r.l+=1;var s=r.read_shift(2);e&&e.biff==5&&(r.l+=12);var i=q8(r,0,e);return[n,s,i]}function fL(r,t,e){var n=(r[r.l]&96)>>5;r.l+=1;var s=r.read_shift(e&&e.biff<=3?1:2);return[hB[s],Y8[s],n]}function hL(r,t,e){var n=r[r.l++],s=r.read_shift(1),i=e&&e.biff<=3?[n==88?-1:0,r.read_shift(1)]:dL(r);return[s,(i[0]===0?Y8:fB)[i[1]]]}function dL(r){return[r[r.l+1]>>7,r.read_shift(2)&32767]}function pL(r,t,e){r.l+=e&&e.biff==2?3:4}function mL(r,t,e){if(r.l++,e&&e.biff==12)return[r.read_shift(4,"i"),0];var n=r.read_shift(2),s=r.read_shift(e&&e.biff==2?1:2);return[n,s]}function gL(r){return r.l++,Wl[r.read_shift(1)]}function bL(r){return r.l++,r.read_shift(2)}function xL(r){return r.l++,r.read_shift(1)!==0}function yL(r){return r.l++,cs(r)}function vL(r,t,e){return r.l++,gh(r,t-1,e)}function wL(r,t){var e=[r.read_shift(1)];if(t==12)switch(e[0]){case 2:e[0]=4;break;case 4:e[0]=16;break;case 0:e[0]=1;break;case 1:e[0]=2;break}switch(e[0]){case 4:e[1]=bn(r,1)?"TRUE":"FALSE",t!=12&&(r.l+=7);break;case 37:case 16:e[1]=Wl[r[r.l]],r.l+=t==12?4:8;break;case 0:r.l+=8;break;case 1:e[1]=cs(r);break;case 2:e[1]=Xl(r,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+e[0])}return e}function _L(r,t,e){for(var n=r.read_shift(e.biff==12?4:2),s=[],i=0;i!=n;++i)s.push((e.biff==12?Gl:vp)(r));return s}function SL(r,t,e){var n=0,s=0;e.biff==12?(n=r.read_shift(4),s=r.read_shift(4)):(s=1+r.read_shift(1),n=1+r.read_shift(2)),e.biff>=2&&e.biff<8&&(--n,--s==0&&(s=256));for(var i=0,a=[];i!=n&&(a[i]=[]);++i)for(var l=0;l!=s;++l)a[i][l]=wL(r,e.biff);return a}function TL(r,t,e){var n=r.read_shift(1)>>>5&3,s=!e||e.biff>=8?4:2,i=r.read_shift(s);switch(e.biff){case 2:r.l+=5;break;case 3:case 4:r.l+=8;break;case 5:r.l+=12;break}return[n,0,i]}function kL(r,t,e){if(e.biff==5)return EL(r);var n=r.read_shift(1)>>>5&3,s=r.read_shift(2),i=r.read_shift(4);return[n,s,i]}function EL(r){var t=r.read_shift(1)>>>5&3,e=r.read_shift(2,"i");r.l+=8;var n=r.read_shift(2);return r.l+=12,[t,e,n]}function AL(r,t,e){var n=r.read_shift(1)>>>5&3;r.l+=e&&e.biff==2?3:4;var s=r.read_shift(e&&e.biff==2?1:2);return[n,s]}function CL(r,t,e){var n=r.read_shift(1)>>>5&3,s=r.read_shift(e&&e.biff==2?1:2);return[n,s]}function NL(r,t,e){var n=r.read_shift(1)>>>5&3;return r.l+=4,e.biff<8&&r.l--,e.biff==12&&(r.l+=2),[n]}function RL(r,t,e){var n=(r[r.l++]&96)>>5,s=r.read_shift(2),i=4;if(e)switch(e.biff){case 5:i=15;break;case 12:i=6;break}return r.l+=i,[n,s]}var ML=ds,jL=ds,IL=ds;function xh(r,t,e){return r.l+=2,[GP(r)]}function ox(r){return r.l+=6,[]}var DL=xh,OL=ox,FL=ox,PL=xh;function W8(r){return r.l+=2,[En(r),r.read_shift(2)&1]}var LL=xh,BL=W8,UL=ox,VL=xh,zL=xh,HL=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function $L(r){r.l+=2;var t=r.read_shift(2),e=r.read_shift(2),n=r.read_shift(4),s=r.read_shift(2),i=r.read_shift(2),a=HL[e>>2&31];return{ixti:t,coltype:e&3,rt:a,idx:n,c:s,C:i}}function qL(r){return r.l+=2,[r.read_shift(4)]}function GL(r,t,e){return r.l+=5,r.l+=2,r.l+=e.biff==2?1:4,["PTGSHEET"]}function WL(r,t,e){return r.l+=e.biff==2?4:5,["PTGENDSHEET"]}function XL(r){var t=r.read_shift(1)>>>5&3,e=r.read_shift(2);return[t,e]}function YL(r){var t=r.read_shift(1)>>>5&3,e=r.read_shift(2);return[t,e]}function KL(r){return r.l+=4,[0,0]}var S4={1:{n:"PtgExp",f:mL},2:{n:"PtgTbl",f:IL},3:{n:"PtgAdd",f:Sn},4:{n:"PtgSub",f:Sn},5:{n:"PtgMul",f:Sn},6:{n:"PtgDiv",f:Sn},7:{n:"PtgPower",f:Sn},8:{n:"PtgConcat",f:Sn},9:{n:"PtgLt",f:Sn},10:{n:"PtgLe",f:Sn},11:{n:"PtgEq",f:Sn},12:{n:"PtgGe",f:Sn},13:{n:"PtgGt",f:Sn},14:{n:"PtgNe",f:Sn},15:{n:"PtgIsect",f:Sn},16:{n:"PtgUnion",f:Sn},17:{n:"PtgRange",f:Sn},18:{n:"PtgUplus",f:Sn},19:{n:"PtgUminus",f:Sn},20:{n:"PtgPercent",f:Sn},21:{n:"PtgParen",f:Sn},22:{n:"PtgMissArg",f:Sn},23:{n:"PtgStr",f:vL},26:{n:"PtgSheet",f:GL},27:{n:"PtgEndSheet",f:WL},28:{n:"PtgErr",f:gL},29:{n:"PtgBool",f:xL},30:{n:"PtgInt",f:bL},31:{n:"PtgNum",f:yL},32:{n:"PtgArray",f:eL},33:{n:"PtgFunc",f:fL},34:{n:"PtgFuncVar",f:hL},35:{n:"PtgName",f:TL},36:{n:"PtgRef",f:lL},37:{n:"PtgArea",f:YP},38:{n:"PtgMemArea",f:AL},39:{n:"PtgMemErr",f:ML},40:{n:"PtgMemNoMem",f:jL},41:{n:"PtgMemFunc",f:CL},42:{n:"PtgRefErr",f:NL},43:{n:"PtgAreaErr",f:QP},44:{n:"PtgRefN",f:cL},45:{n:"PtgAreaN",f:JP},46:{n:"PtgMemAreaN",f:XL},47:{n:"PtgMemNoMemN",f:YL},57:{n:"PtgNameX",f:kL},58:{n:"PtgRef3d",f:uL},59:{n:"PtgArea3d",f:KP},60:{n:"PtgRefErr3d",f:RL},61:{n:"PtgAreaErr3d",f:ZP},255:{}},QL={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},ZL={1:{n:"PtgElfLel",f:W8},2:{n:"PtgElfRw",f:VL},3:{n:"PtgElfCol",f:DL},6:{n:"PtgElfRwV",f:zL},7:{n:"PtgElfColV",f:PL},10:{n:"PtgElfRadical",f:LL},11:{n:"PtgElfRadicalS",f:UL},13:{n:"PtgElfColS",f:OL},15:{n:"PtgElfColSV",f:FL},16:{n:"PtgElfRadicalLel",f:BL},25:{n:"PtgList",f:$L},29:{n:"PtgSxName",f:qL},255:{}},JL={0:{n:"PtgAttrNoop",f:KL},1:{n:"PtgAttrSemi",f:aL},2:{n:"PtgAttrIf",f:nL},4:{n:"PtgAttrChoose",f:tL},8:{n:"PtgAttrGoto",f:rL},16:{n:"PtgAttrSum",f:pL},32:{n:"PtgAttrBaxcel",f:_4},33:{n:"PtgAttrBaxcel",f:_4},64:{n:"PtgAttrSpace",f:iL},65:{n:"PtgAttrSpaceSemi",f:oL},128:{n:"PtgAttrIfError",f:sL},255:{}};function yh(r,t,e,n){if(n.biff<8)return ds(r,t);for(var s=r.l+t,i=[],a=0;a!==e.length;++a)switch(e[a][0]){case"PtgArray":e[a][1]=SL(r,0,n),i.push(e[a][1]);break;case"PtgMemArea":e[a][2]=_L(r,e[a][1],n),i.push(e[a][2]);break;case"PtgExp":n&&n.biff==12&&(e[a][1][1]=r.read_shift(4),i.push(e[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+e[a][0]}return t=s-r.l,t!==0&&i.push(ds(r,t)),i}function vh(r,t,e){for(var n=r.l+t,s,i,a=[];n!=r.l;)t=n-r.l,i=r[r.l],s=S4[i]||S4[QL[i]],(i===24||i===25)&&(s=(i===24?ZL:JL)[r[r.l+1]]),!s||!s.f?ds(r,t):a.push([s.n,s.f(r,t,e)]);return a}function eB(r){for(var t=[],e=0;e<r.length;++e){for(var n=r[e],s=[],i=0;i<n.length;++i){var a=n[i];if(a)switch(a[0]){case 2:s.push('"'+a[1].replace(/"/g,'""')+'"');break;default:s.push(a[1])}else s.push("")}t.push(s.join(","))}return t.join(";")}var tB={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function rB(r,t){if(!r&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(r)?"'"+r+"'":r}function X8(r,t,e){if(!r)return"SH33TJSERR0";if(e.biff>8&&(!r.XTI||!r.XTI[t]))return r.SheetNames[t];if(!r.XTI)return"SH33TJSERR6";var n=r.XTI[t];if(e.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":r.XTI[t-1];if(!n)return"SH33TJSERR1";var s="";if(e.biff>8)switch(r[n[0]][0]){case 357:return s=n[1]==-1?"#REF":r.SheetNames[n[1]],n[1]==n[2]?s:s+":"+r.SheetNames[n[2]];case 358:return e.SID!=null?r.SheetNames[e.SID]:"SH33TJSSAME"+r[n[0]][0];case 355:default:return"SH33TJSSRC"+r[n[0]][0]}switch(r[n[0]][0][0]){case 1025:return s=n[1]==-1?"#REF":r.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?s:s+":"+r.SheetNames[n[2]];case 14849:return r[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return r[n[0]][0][3]?(s=n[1]==-1?"#REF":r[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?s:s+":"+r[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function T4(r,t,e){var n=X8(r,t,e);return n=="#REF"?n:rB(n,e)}function os(r,t,e,n,s){var i=s&&s.biff||8,a={s:{c:0,r:0}},l=[],c,o,u,p=0,h=0,d,x="";if(!r[0]||!r[0][0])return"";for(var b=-1,g="",v=0,y=r[0].length;v<y;++v){var T=r[0][v];switch(T[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),o=l.pop(),b>=0){switch(r[0][b][1][0]){case 0:g=on(" ",r[0][b][1][1]);break;case 1:g=on("\r",r[0][b][1][1]);break;default:if(g="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][b][1][0])}o=o+g,b=-1}l.push(o+tB[T[0]]+c);break;case"PtgIsect":c=l.pop(),o=l.pop(),l.push(o+" "+c);break;case"PtgUnion":c=l.pop(),o=l.pop(),l.push(o+","+c);break;case"PtgRange":c=l.pop(),o=l.pop(),l.push(o+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=Tf(T[1][1],a,s),l.push(kf(u,i));break;case"PtgRefN":u=e?Tf(T[1][1],e,s):T[1][1],l.push(kf(u,i));break;case"PtgRef3d":p=T[1][1],u=Tf(T[1][2],a,s),x=T4(n,p,s),l.push(x+"!"+kf(u,i));break;case"PtgFunc":case"PtgFuncVar":var R=T[1][0],P=T[1][1];R||(R=0),R&=127;var H=R==0?[]:l.slice(-R);l.length-=R,P==="User"&&(P=H.shift()),l.push(P+"("+H.join(",")+")");break;case"PtgBool":l.push(T[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(T[1]);break;case"PtgNum":l.push(String(T[1]));break;case"PtgStr":l.push('"'+T[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(T[1]);break;case"PtgAreaN":d=s4(T[1][1],e?{s:e}:a,s),l.push(Bg(d,s));break;case"PtgArea":d=s4(T[1][1],a,s),l.push(Bg(d,s));break;case"PtgArea3d":p=T[1][1],d=T[1][2],x=T4(n,p,s),l.push(x+"!"+Bg(d,s));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=T[1][2];var L=(n.names||[])[h-1]||(n[0]||[])[h],I=L?L.Name:"SH33TJSNAME"+String(h);I&&I.slice(0,6)=="_xlfn."&&!s.xlfn&&(I=I.slice(6)),l.push(I);break;case"PtgNameX":var O=T[1][1];h=T[1][2];var F;if(s.biff<=5)O<0&&(O=-O),n[O]&&(F=n[O][h]);else{var q="";if(((n[O]||[])[0]||[])[0]==14849||(((n[O]||[])[0]||[])[0]==1025?n[O][h]&&n[O][h].itab>0&&(q=n.SheetNames[n[O][h].itab-1]+"!"):q=n.SheetNames[h-1]+"!"),n[O]&&n[O][h])q+=n[O][h].Name;else if(n[0]&&n[0][h])q+=n[0][h].Name;else{var z=(X8(n,O,s)||"").split(";;");z[h-1]?q=z[h-1]:q+="SH33TJSERRX"}l.push(q);break}F||(F={Name:"SH33TJSERRY"}),l.push(F.Name);break;case"PtgParen":var N="(",U=")";if(b>=0){switch(g="",r[0][b][1][0]){case 2:N=on(" ",r[0][b][1][1])+N;break;case 3:N=on("\r",r[0][b][1][1])+N;break;case 4:U=on(" ",r[0][b][1][1])+U;break;case 5:U=on("\r",r[0][b][1][1])+U;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][b][1][0])}b=-1}l.push(N+l.pop()+U);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":u={c:T[1][1],r:T[1][0]};var C={c:e.c,r:e.r};if(n.sharedf[sr(u)]){var S=n.sharedf[sr(u)];l.push(os(S,a,C,n,s))}else{var k=!1;for(c=0;c!=n.arrayf.length;++c)if(o=n.arrayf[c],!(u.c<o[0].s.c||u.c>o[0].e.c)&&!(u.r<o[0].s.r||u.r>o[0].e.r)){l.push(os(o[1],a,C,n,s)),k=!0;break}k||l.push(T[1])}break;case"PtgArray":l.push("{"+eB(T[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":b=v;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+T[1].idx+"[#"+T[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(T));default:throw new Error("Unrecognized Formula Token: "+String(T))}var E=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&b>=0&&E.indexOf(r[0][v][0])==-1){T=r[0][b];var A=!0;switch(T[1][0]){case 4:A=!1;case 0:g=on(" ",T[1][1]);break;case 5:A=!1;case 1:g=on("\r",T[1][1]);break;default:if(g="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+T[1][0])}l.push((A?g:"")+l.pop()+(A?"":g)),b=-1}}if(l.length>1&&s.WTF)throw new Error("bad formula stack");return l[0]}function nB(r,t,e){var n=r.l+t,s=e.biff==2?1:2,i,a=r.read_shift(s);if(a==65535)return[[],ds(r,t-2)];var l=vh(r,a,e);return t!==a+s&&(i=yh(r,t-a-s,l,e)),r.l=n,[l,i]}function sB(r,t,e){var n=r.l+t,s=e.biff==2?1:2,i,a=r.read_shift(s);if(a==65535)return[[],ds(r,t-2)];var l=vh(r,a,e);return t!==a+s&&(i=yh(r,t-a-s,l,e)),r.l=n,[l,i]}function aB(r,t,e,n){var s=r.l+t,i=vh(r,n,e),a;return s!==r.l&&(a=yh(r,s-r.l,i,e)),[i,a]}function iB(r,t,e){var n=r.l+t,s,i=r.read_shift(2),a=vh(r,i,e);return i==65535?[[],ds(r,t-2)]:(t!==i+2&&(s=yh(r,n-i-2,a,e)),[a,s])}function oB(r){var t;if(Pi(r,r.l+6)!==65535)return[cs(r),"n"];switch(r[r.l]){case 0:return r.l+=8,["String","s"];case 1:return t=r[r.l+2]===1,r.l+=8,[t,"b"];case 2:return t=r[r.l+2],r.l+=8,[t,"e"];case 3:return r.l+=8,["","s"]}return[]}function zg(r,t,e){var n=r.l+t,s=pi(r);e.biff==2&&++r.l;var i=oB(r),a=r.read_shift(1);e.biff!=2&&(r.read_shift(1),e.biff>=5&&r.read_shift(4));var l=sB(r,n-r.l,e);return{cell:s,val:i[0],formula:l,shared:a>>3&1,tt:i[1]}}function wp(r,t,e){var n=r.read_shift(4),s=vh(r,n,e),i=r.read_shift(4),a=i>0?yh(r,i,s,e):null;return[s,a]}var lB=wp,_p=wp,cB=wp,uB=wp,fB={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Y8={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},hB={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function k4(r){return r.slice(0,3)=="of:"&&(r=r.slice(3)),r.charCodeAt(0)==61&&(r=r.slice(1),r.charCodeAt(0)==61&&(r=r.slice(1))),r=r.replace(/COM\.MICROSOFT\./g,""),r=r.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,e){return e.replace(/\./g,"")}),r=r.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),r.replace(/[;~]/g,",").replace(/\|/g,";")}function Hg(r){var t=r.split(":"),e=t[0].split(".")[0];return[e,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var Nf={},$c={};function Rf(r,t){if(r){var e=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(e=[1,1,1,1,.5,.5]),r.left==null&&(r.left=e[0]),r.right==null&&(r.right=e[1]),r.top==null&&(r.top=e[2]),r.bottom==null&&(r.bottom=e[3]),r.header==null&&(r.header=e[4]),r.footer==null&&(r.footer=e[5])}}function K8(r,t,e,n,s,i){try{n.cellNF&&(r.z=ur[t])}catch(l){if(n.WTF)throw l}if(!(r.t==="z"&&!n.cellStyles)){if(r.t==="d"&&typeof r.v=="string"&&(r.v=zn(r.v)),(!n||n.cellText!==!1)&&r.t!=="z")try{if(ur[t]==null&&Rl(dI[t]||"General",t),r.t==="e")r.w=r.w||Wl[r.v];else if(t===0)if(r.t==="n")(r.v|0)===r.v?r.w=r.v.toString(10):r.w=Wf(r.v);else if(r.t==="d"){var a=Ts(r.v);(a|0)===a?r.w=a.toString(10):r.w=Wf(a)}else{if(r.v===void 0)return"";r.w=Ll(r.v,$c)}else r.t==="d"?r.w=ya(t,Ts(r.v),$c):r.w=ya(t,r.v,$c)}catch(l){if(n.WTF)throw l}if(n.cellStyles&&e!=null)try{r.s=i.Fills[e],r.s.fgColor&&r.s.fgColor.theme&&!r.s.fgColor.rgb&&(r.s.fgColor.rgb=H0(s.themeElements.clrScheme[r.s.fgColor.theme].rgb,r.s.fgColor.tint||0),n.WTF&&(r.s.fgColor.raw_rgb=s.themeElements.clrScheme[r.s.fgColor.theme].rgb)),r.s.bgColor&&r.s.bgColor.theme&&(r.s.bgColor.rgb=H0(s.themeElements.clrScheme[r.s.bgColor.theme].rgb,r.s.bgColor.tint||0),n.WTF&&(r.s.bgColor.raw_rgb=s.themeElements.clrScheme[r.s.bgColor.theme].rgb))}catch(l){if(n.WTF&&i.Fills)throw l}}}function dB(r,t){var e=un(t);e.s.r<=e.e.r&&e.s.c<=e.e.c&&e.s.r>=0&&e.s.c>=0&&(r["!ref"]=Nr(e))}var pB=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,mB=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,gB=/<(?:\w:)?hyperlink [^>]*>/mg,bB=/"(\w*:\w*)"/,xB=/<(?:\w:)?col\b[^>]*[\/]?>/g,yB=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,vB=/<(?:\w:)?pageMargins[^>]*\/>/g,Q8=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,wB=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,_B=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function SB(r,t,e,n,s,i,a){if(!r)return r;n||(n={"!id":{}});var l=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},o="",u="",p=r.match(mB);p?(o=r.slice(0,p.index),u=r.slice(p.index+p[0].length)):o=u=r;var h=o.match(Q8);h?lx(h[0],l,s,e):(h=o.match(wB))&&TB(h[0],h[1]||"",l,s,e);var d=(o.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(d>0){var x=o.slice(d,d+50).match(bB);x&&dB(l,x[1])}var b=o.match(_B);b&&b[1]&&RB(b[1],s);var g=[];if(t.cellStyles){var v=o.match(xB);v&&AB(g,v)}p&&MB(p[1],l,t,c,i,a);var y=u.match(yB);y&&(l["!autofilter"]=CB(y[0]));var T=[],R=u.match(pB);if(R)for(d=0;d!=R.length;++d)T[d]=un(R[d].slice(R[d].indexOf('"')+1));var P=u.match(gB);P&&kB(l,P,n);var H=u.match(vB);if(H&&(l["!margins"]=EB(Zt(H[0]))),!l["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(l["!ref"]=Nr(c)),t.sheetRows>0&&l["!ref"]){var L=un(l["!ref"]);t.sheetRows<=+L.e.r&&(L.e.r=t.sheetRows-1,L.e.r>c.e.r&&(L.e.r=c.e.r),L.e.r<L.s.r&&(L.s.r=L.e.r),L.e.c>c.e.c&&(L.e.c=c.e.c),L.e.c<L.s.c&&(L.s.c=L.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Nr(L))}return g.length>0&&(l["!cols"]=g),T.length>0&&(l["!merges"]=T),l}function lx(r,t,e,n){var s=Zt(r);e.Sheets[n]||(e.Sheets[n]={}),s.codeName&&(e.Sheets[n].CodeName=Rr(Wr(s.codeName)))}function TB(r,t,e,n,s){lx(r.slice(0,r.indexOf(">")),e,n,s)}function kB(r,t,e){for(var n=Array.isArray(r),s=0;s!=t.length;++s){var i=Zt(Wr(t[s]),!0);if(!i.ref)return;var a=((e||{})["!id"]||[])[i.id];a?(i.Target=a.Target,i.location&&(i.Target+="#"+Rr(i.location))):(i.Target="#"+Rr(i.location),a={Target:i.Target,TargetMode:"Internal"}),i.Rel=a,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var l=un(i.ref),c=l.s.r;c<=l.e.r;++c)for(var o=l.s.c;o<=l.e.c;++o){var u=sr({c:o,r:c});n?(r[c]||(r[c]=[]),r[c][o]||(r[c][o]={t:"z",v:void 0}),r[c][o].l=i):(r[u]||(r[u]={t:"z",v:void 0}),r[u].l=i)}}}function EB(r){var t={};return["left","right","top","bottom","header","footer"].forEach(function(e){r[e]&&(t[e]=parseFloat(r[e]))}),t}function AB(r,t){for(var e=!1,n=0;n!=t.length;++n){var s=Zt(t[n],!0);s.hidden&&(s.hidden=en(s.hidden));var i=parseInt(s.min,10)-1,a=parseInt(s.max,10)-1;for(s.outlineLevel&&(s.level=+s.outlineLevel||0),delete s.min,delete s.max,s.width=+s.width,!e&&s.width&&(e=!0,ix(s.width)),tu(s);i<=a;)r[i++]=Jn(s)}}function CB(r){var t={ref:(r.match(/ref="([^"]*)"/)||[])[1]};return t}var NB=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function RB(r,t){t.Views||(t.Views=[{}]),(r.match(NB)||[]).forEach(function(e,n){var s=Zt(e);t.Views[n]||(t.Views[n]={}),+s.zoomScale&&(t.Views[n].zoom=+s.zoomScale),en(s.rightToLeft)&&(t.Views[n].RTL=!0)})}var MB=(function(){var r=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,e=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,s=/ref=["']([^"']*)["']/,i=Xf("v"),a=Xf("f");return function(c,o,u,p,h,d){for(var x=0,b="",g=[],v=[],y=0,T=0,R=0,P="",H,L,I=0,O=0,F,q,z=0,N=0,U=Array.isArray(d.CellXf),C,S=[],k=[],E=Array.isArray(o),A=[],j={},B=!1,D=!!u.sheetStubs,Q=c.split(t),K=0,ee=Q.length;K!=ee;++K){b=Q[K].trim();var W=b.length;if(W!==0){var te=0;e:for(x=0;x<W;++x)switch(b[x]){case">":if(b[x-1]!="/"){++x;break e}if(u&&u.cellStyles){if(L=Zt(b.slice(te,x),!0),I=L.r!=null?parseInt(L.r,10):I+1,O=-1,u.sheetRows&&u.sheetRows<I)continue;j={},B=!1,L.ht&&(B=!0,j.hpt=parseFloat(L.ht),j.hpx=Zf(j.hpt)),L.hidden=="1"&&(B=!0,j.hidden=!0),L.outlineLevel!=null&&(B=!0,j.level=+L.outlineLevel),B&&(A[I-1]=j)}break;case"<":te=x;break}if(te>=x)break;if(L=Zt(b.slice(te,x),!0),I=L.r!=null?parseInt(L.r,10):I+1,O=-1,!(u.sheetRows&&u.sheetRows<I)){p.s.r>I-1&&(p.s.r=I-1),p.e.r<I-1&&(p.e.r=I-1),u&&u.cellStyles&&(j={},B=!1,L.ht&&(B=!0,j.hpt=parseFloat(L.ht),j.hpx=Zf(j.hpt)),L.hidden=="1"&&(B=!0,j.hidden=!0),L.outlineLevel!=null&&(B=!0,j.level=+L.outlineLevel),B&&(A[I-1]=j)),g=b.slice(x).split(r);for(var G=0;G!=g.length&&g[G].trim().charAt(0)=="<";++G);for(g=g.slice(G),x=0;x!=g.length;++x)if(b=g[x].trim(),b.length!==0){if(v=b.match(e),y=x,T=0,R=0,b="<c "+(b.slice(0,1)=="<"?">":"")+b,v!=null&&v.length===2){for(y=0,P=v[1],T=0;T!=P.length&&!((R=P.charCodeAt(T)-64)<1||R>26);++T)y=26*y+R;--y,O=y}else++O;for(T=0;T!=b.length&&b.charCodeAt(T)!==62;++T);if(++T,L=Zt(b.slice(0,T),!0),L.r||(L.r=sr({r:I-1,c:O})),P=b.slice(T),H={t:""},(v=P.match(i))!=null&&v[1]!==""&&(H.v=Rr(v[1])),u.cellFormula){if((v=P.match(a))!=null&&v[1]!==""){if(H.f=Rr(Wr(v[1])).replace(/\r\n/g,`
`),u.xlfn||(H.f=w4(H.f)),v[0].indexOf('t="array"')>-1)H.F=(P.match(s)||[])[1],H.F.indexOf(":")>-1&&S.push([un(H.F),H.F]);else if(v[0].indexOf('t="shared"')>-1){q=Zt(v[0]);var V=Rr(Wr(v[1]));u.xlfn||(V=w4(V)),k[parseInt(q.si,10)]=[q,V,L.r]}}else(v=P.match(/<f[^>]*\/>/))&&(q=Zt(v[0]),k[q.si]&&(H.f=zP(k[q.si][1],k[q.si][2],L.r)));var Z=_s(L.r);for(T=0;T<S.length;++T)Z.r>=S[T][0].s.r&&Z.r<=S[T][0].e.r&&Z.c>=S[T][0].s.c&&Z.c<=S[T][0].e.c&&(H.F=S[T][1])}if(L.t==null&&H.v===void 0)if(H.f||H.F)H.v=0,H.t="n";else if(D)H.t="z";else continue;else H.t=L.t||"n";switch(p.s.c>O&&(p.s.c=O),p.e.c<O&&(p.e.c=O),H.t){case"n":if(H.v==""||H.v==null){if(!D)continue;H.t="z"}else H.v=parseFloat(H.v);break;case"s":if(typeof H.v>"u"){if(!D)continue;H.t="z"}else F=Nf[parseInt(H.v,10)],H.v=F.t,H.r=F.r,u.cellHTML&&(H.h=F.h);break;case"str":H.t="s",H.v=H.v!=null?Wr(H.v):"",u.cellHTML&&(H.h=Yb(H.v));break;case"inlineStr":v=P.match(n),H.t="s",v!=null&&(F=ax(v[1]))?(H.v=F.t,u.cellHTML&&(H.h=F.h)):H.v="";break;case"b":H.v=en(H.v);break;case"d":u.cellDates?H.v=zn(H.v,1):(H.v=Ts(zn(H.v,1)),H.t="n");break;case"e":(!u||u.cellText!==!1)&&(H.w=H.v),H.v=x8[H.v];break}if(z=N=0,C=null,U&&L.s!==void 0&&(C=d.CellXf[L.s],C!=null&&(C.numFmtId!=null&&(z=C.numFmtId),u.cellStyles&&C.fillId!=null&&(N=C.fillId))),K8(H,z,N,u,h,d),u.cellDates&&U&&H.t=="n"&&hu(ur[z])&&(H.t="d",H.v=yp(H.v)),L.cm&&u.xlmeta){var ae=(u.xlmeta.Cell||[])[+L.cm-1];ae&&ae.type=="XLDAPR"&&(H.D=!0)}if(E){var re=_s(L.r);o[re.r]||(o[re.r]=[]),o[re.r][re.c]=H}else o[L.r]=H}}}}A.length>0&&(o["!rows"]=A)}})();function jB(r,t){var e={},n=r.l+t;e.r=r.read_shift(4),r.l+=4;var s=r.read_shift(2);r.l+=1;var i=r.read_shift(1);return r.l=n,i&7&&(e.level=i&7),i&16&&(e.hidden=!0),i&32&&(e.hpt=s/20),e}var IB=Gl;function DB(){}function OB(r,t){var e={},n=r[r.l];return++r.l,e.above=!(n&64),e.left=!(n&128),r.l+=18,e.name=nD(r),e}function FB(r){var t=va(r);return[t]}function PB(r){var t=ql(r);return[t]}function LB(r){var t=va(r),e=r.read_shift(1);return[t,e,"b"]}function BB(r){var t=ql(r),e=r.read_shift(1);return[t,e,"b"]}function UB(r){var t=va(r),e=r.read_shift(1);return[t,e,"e"]}function VB(r){var t=ql(r),e=r.read_shift(1);return[t,e,"e"]}function zB(r){var t=va(r),e=r.read_shift(4);return[t,e,"s"]}function HB(r){var t=ql(r),e=r.read_shift(4);return[t,e,"s"]}function $B(r){var t=va(r),e=cs(r);return[t,e,"n"]}function Z8(r){var t=ql(r),e=cs(r);return[t,e,"n"]}function qB(r){var t=va(r),e=rx(r);return[t,e,"n"]}function GB(r){var t=ql(r),e=rx(r);return[t,e,"n"]}function WB(r){var t=va(r),e=ex(r);return[t,e,"is"]}function XB(r){var t=va(r),e=fs(r);return[t,e,"str"]}function YB(r){var t=ql(r),e=fs(r);return[t,e,"str"]}function KB(r,t,e){var n=r.l+t,s=va(r);s.r=e["!row"];var i=r.read_shift(1),a=[s,i,"b"];if(e.cellFormula){r.l+=2;var l=_p(r,n-r.l,e);a[3]=os(l,null,s,e.supbooks,e)}else r.l=n;return a}function QB(r,t,e){var n=r.l+t,s=va(r);s.r=e["!row"];var i=r.read_shift(1),a=[s,i,"e"];if(e.cellFormula){r.l+=2;var l=_p(r,n-r.l,e);a[3]=os(l,null,s,e.supbooks,e)}else r.l=n;return a}function ZB(r,t,e){var n=r.l+t,s=va(r);s.r=e["!row"];var i=cs(r),a=[s,i,"n"];if(e.cellFormula){r.l+=2;var l=_p(r,n-r.l,e);a[3]=os(l,null,s,e.supbooks,e)}else r.l=n;return a}function JB(r,t,e){var n=r.l+t,s=va(r);s.r=e["!row"];var i=fs(r),a=[s,i,"str"];if(e.cellFormula){r.l+=2;var l=_p(r,n-r.l,e);a[3]=os(l,null,s,e.supbooks,e)}else r.l=n;return a}var eU=Gl;function tU(r,t){var e=r.l+t,n=Gl(r),s=tx(r),i=fs(r),a=fs(r),l=fs(r);r.l=e;var c={rfx:n,relId:s,loc:i,display:l};return a&&(c.Tooltip=a),c}function rU(){}function nU(r,t,e){var n=r.l+t,s=m8(r),i=r.read_shift(1),a=[s];if(a[2]=i,e.cellFormula){var l=lB(r,n-r.l,e);a[1]=l}else r.l=n;return a}function sU(r,t,e){var n=r.l+t,s=Gl(r),i=[s];if(e.cellFormula){var a=uB(r,n-r.l,e);i[1]=a,r.l=n}else r.l=n;return i}var aU=["left","right","top","bottom","header","footer"];function iU(r){var t={};return aU.forEach(function(e){t[e]=cs(r)}),t}function oU(r){var t=r.read_shift(2);return r.l+=28,{RTL:t&32}}function lU(){}function cU(){}function uU(r,t,e,n,s,i,a){if(!r)return r;var l=t||{};n||(n={"!id":{}});var c=l.dense?[]:{},o,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},p=!1,h=!1,d,x,b,g,v,y,T,R,P,H=[];l.biff=12,l["!row"]=0;var L=0,I=!1,O=[],F={},q=l.supbooks||s.supbooks||[[]];if(q.sharedf=F,q.arrayf=O,q.SheetNames=s.SheetNames||s.Sheets.map(function(E){return E.name}),!l.supbooks&&(l.supbooks=q,s.Names))for(var z=0;z<s.Names.length;++z)q[0][z+1]=s.Names[z];var N=[],U=[],C=!1;G0[16]={n:"BrtShortReal",f:Z8};var S;if(Yi(r,function(A,j,B){if(!h)switch(B){case 148:o=A;break;case 0:d=A,l.sheetRows&&l.sheetRows<=d.r&&(h=!0),R=es(g=d.r),l["!row"]=d.r,(A.hidden||A.hpt||A.level!=null)&&(A.hpt&&(A.hpx=Zf(A.hpt)),U[A.r]=A);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(x={t:A[2]},A[2]){case"n":x.v=A[1];break;case"s":T=Nf[A[1]],x.v=T.t,x.r=T.r;break;case"b":x.v=!!A[1];break;case"e":x.v=A[1],l.cellText!==!1&&(x.w=Wl[x.v]);break;case"str":x.t="s",x.v=A[1];break;case"is":x.t="s",x.v=A[1].t;break}if((b=a.CellXf[A[0].iStyleRef])&&K8(x,b.numFmtId,null,l,i,a),v=A[0].c==-1?v+1:A[0].c,l.dense?(c[g]||(c[g]=[]),c[g][v]=x):c[Dn(v)+R]=x,l.cellFormula){for(I=!1,L=0;L<O.length;++L){var D=O[L];d.r>=D[0].s.r&&d.r<=D[0].e.r&&v>=D[0].s.c&&v<=D[0].e.c&&(x.F=Nr(D[0]),I=!0)}!I&&A.length>3&&(x.f=A[3])}if(u.s.r>d.r&&(u.s.r=d.r),u.s.c>v&&(u.s.c=v),u.e.r<d.r&&(u.e.r=d.r),u.e.c<v&&(u.e.c=v),l.cellDates&&b&&x.t=="n"&&hu(ur[b.numFmtId])){var Q=El(x.v);Q&&(x.t="d",x.v=new Date(Q.y,Q.m-1,Q.d,Q.H,Q.M,Q.S,Q.u))}S&&(S.type=="XLDAPR"&&(x.D=!0),S=void 0);break;case 1:case 12:if(!l.sheetStubs||p)break;x={t:"z",v:void 0},v=A[0].c==-1?v+1:A[0].c,l.dense?(c[g]||(c[g]=[]),c[g][v]=x):c[Dn(v)+R]=x,u.s.r>d.r&&(u.s.r=d.r),u.s.c>v&&(u.s.c=v),u.e.r<d.r&&(u.e.r=d.r),u.e.c<v&&(u.e.c=v),S&&(S.type=="XLDAPR"&&(x.D=!0),S=void 0);break;case 176:H.push(A);break;case 49:S=((l.xlmeta||{}).Cell||[])[A-1];break;case 494:var K=n["!id"][A.relId];for(K?(A.Target=K.Target,A.loc&&(A.Target+="#"+A.loc),A.Rel=K):A.relId==""&&(A.Target="#"+A.loc),g=A.rfx.s.r;g<=A.rfx.e.r;++g)for(v=A.rfx.s.c;v<=A.rfx.e.c;++v)l.dense?(c[g]||(c[g]=[]),c[g][v]||(c[g][v]={t:"z",v:void 0}),c[g][v].l=A):(y=sr({c:v,r:g}),c[y]||(c[y]={t:"z",v:void 0}),c[y].l=A);break;case 426:if(!l.cellFormula)break;O.push(A),P=l.dense?c[g][v]:c[Dn(v)+R],P.f=os(A[1],u,{r:d.r,c:v},q,l),P.F=Nr(A[0]);break;case 427:if(!l.cellFormula)break;F[sr(A[0].s)]=A[1],P=l.dense?c[g][v]:c[Dn(v)+R],P.f=os(A[1],u,{r:d.r,c:v},q,l);break;case 60:if(!l.cellStyles)break;for(;A.e>=A.s;)N[A.e--]={width:A.w/256,hidden:!!(A.flags&1),level:A.level},C||(C=!0,ix(A.w/256)),tu(N[A.e+1]);break;case 161:c["!autofilter"]={ref:Nr(A)};break;case 476:c["!margins"]=A;break;case 147:s.Sheets[e]||(s.Sheets[e]={}),A.name&&(s.Sheets[e].CodeName=A.name),(A.above||A.left)&&(c["!outline"]={above:A.above,left:A.left});break;case 137:s.Views||(s.Views=[{}]),s.Views[0]||(s.Views[0]={}),A.RTL&&(s.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:p=!0;break;case 36:p=!1;break;case 37:p=!0;break;case 38:p=!1;break;default:if(!j.T){if(!p||l.WTF)throw new Error("Unexpected record 0x"+B.toString(16))}}},l),delete l.supbooks,delete l["!row"],!c["!ref"]&&(u.s.r<2e6||o&&(o.e.r>0||o.e.c>0||o.s.r>0||o.s.c>0))&&(c["!ref"]=Nr(o||u)),l.sheetRows&&c["!ref"]){var k=un(c["!ref"]);l.sheetRows<=+k.e.r&&(k.e.r=l.sheetRows-1,k.e.r>u.e.r&&(k.e.r=u.e.r),k.e.r<k.s.r&&(k.s.r=k.e.r),k.e.c>u.e.c&&(k.e.c=u.e.c),k.e.c<k.s.c&&(k.s.c=k.e.c),c["!fullref"]=c["!ref"],c["!ref"]=Nr(k))}return H.length>0&&(c["!merges"]=H),N.length>0&&(c["!cols"]=N),U.length>0&&(c["!rows"]=U),c}function fU(r){var t=[],e=r.match(/^<c:numCache>/),n;(r.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var a=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);a&&(t[+a[1]]=e?+a[2]:a[2])});var s=Rr((r.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(r.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[t,s,n]}function hU(r,t,e,n,s,i){var a=i||{"!type":"chart"};if(!r)return i;var l=0,c=0,o="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(r.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(p){var h=fU(p);u.s.r=u.s.c=0,u.e.c=l,o=Dn(l),h[0].forEach(function(d,x){a[o+es(x)]={t:"n",v:d,z:h[1]},c=x}),u.e.r<c&&(u.e.r=c),++l}),l>0&&(a["!ref"]=Nr(u)),a}function dU(r,t,e,n,s){if(!r)return r;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},a,l=r.match(Q8);return l&&lx(l[0],i,s,e),(a=r.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=a[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function pU(r,t){r.l+=10;var e=fs(r);return{name:e}}function mU(r,t,e,n,s){if(!r)return r;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},a=!1;return Yi(r,function(c,o,u){switch(u){case 550:i["!rel"]=c;break;case 651:s.Sheets[e]||(s.Sheets[e]={}),c.name&&(s.Sheets[e].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!(o.T>0)){if(!(o.T<0)){if(!a||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},t),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var J8=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],gU=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],bU=[],xU=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function E4(r,t){for(var e=0;e!=r.length;++e)for(var n=r[e],s=0;s!=t.length;++s){var i=t[s];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=en(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function A4(r,t){for(var e=0;e!=t.length;++e){var n=t[e];if(r[n[0]]==null)r[n[0]]=n[1];else switch(n[2]){case"bool":typeof r[n[0]]=="string"&&(r[n[0]]=en(r[n[0]]));break;case"int":typeof r[n[0]]=="string"&&(r[n[0]]=parseInt(r[n[0]],10));break}}}function eS(r){A4(r.WBProps,J8),A4(r.CalcPr,xU),E4(r.WBView,gU),E4(r.Sheets,bU),$c.date1904=en(r.WBProps.date1904)}var yU="][*?/\\".split("");function vU(r,t){if(r.length>31)throw new Error("Sheet names cannot exceed 31 chars");var e=!0;return yU.forEach(function(n){if(r.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),e}var wU=/<\w+:workbook/;function _U(r,t){if(!r)throw new Error("Could not find file");var e={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,s="xmlns",i={},a=0;if(r.replace(ps,function(c,o){var u=Zt(c);switch(di(u[0])){case"<?xml":break;case"<workbook":c.match(wU)&&(s="xmlns"+c.match(/<(\w+):/)[1]),e.xmlns=u[s];break;case"</workbook>":break;case"<fileVersion":delete u[0],e.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":J8.forEach(function(p){if(u[p[0]]!=null)switch(p[2]){case"bool":e.WBProps[p[0]]=en(u[p[0]]);break;case"int":e.WBProps[p[0]]=parseInt(u[p[0]],10);break;default:e.WBProps[p[0]]=u[p[0]]}}),u.codeName&&(e.WBProps.CodeName=Wr(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],e.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=Rr(Wr(u.name)),delete u[0],e.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=Wr(u.name),u.comment&&(i.Comment=u.comment),u.localSheetId&&(i.Sheet=+u.localSheetId),en(u.hidden||"0")&&(i.Hidden=!0),a=o+c.length;break;case"</definedName>":i.Ref=Rr(Wr(r.slice(a,o))),e.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete u[0],e.CalcPr=u;break;case"<calcPr/>":delete u[0],e.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return c}),UI.indexOf(e.xmlns)===-1)throw new Error("Unknown Namespace: "+e.xmlns);return eS(e),e}function SU(r,t){var e={};return e.Hidden=r.read_shift(4),e.iTabID=r.read_shift(4),e.strRelID=k1(r),e.name=fs(r),e}function TU(r,t){var e={},n=r.read_shift(4);e.defaultThemeVersion=r.read_shift(4);var s=t>8?fs(r):"";return s.length>0&&(e.CodeName=s),e.autoCompressPictures=!!(n&65536),e.backupFile=!!(n&64),e.checkCompatibility=!!(n&4096),e.date1904=!!(n&1),e.filterPrivacy=!!(n&8),e.hidePivotFieldList=!!(n&1024),e.promptedSolutions=!!(n&16),e.publishItems=!!(n&2048),e.refreshAllConnections=!!(n&262144),e.saveExternalLinkValues=!!(n&128),e.showBorderUnselectedTables=!!(n&4),e.showInkAnnotation=!!(n&32),e.showObjects=["all","placeholders","none"][n>>13&3],e.showPivotChartFilter=!!(n&32768),e.updateLinks=["userSet","never","always"][n>>8&3],e}function kU(r,t){var e={};return r.read_shift(4),e.ArchID=r.read_shift(4),r.l+=t-8,e}function EU(r,t,e){var n=r.l+t;r.l+=4,r.l+=1;var s=r.read_shift(4),i=sD(r),a=cB(r,0,e),l=tx(r);r.l=n;var c={Name:i,Ptg:a};return s<268435455&&(c.Sheet=s),l&&(c.Comment=l),c}function AU(r,t){var e={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],s=!1;t||(t={}),t.biff=12;var i=[],a=[[]];return a.SheetNames=[],a.XTI=[],G0[16]={n:"BrtFRTArchID$",f:kU},Yi(r,function(c,o,u){switch(u){case 156:a.SheetNames.push(c.name),e.Sheets.push(c);break;case 153:e.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=os(c.Ptg,null,null,a,t),delete t.SID,delete c.Ptg,i.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:a[0].length?a.push([u,c]):a[0]=[u,c],a[a.length-1].XTI=[];break;case 362:a.length===0&&(a[0]=[],a[0].XTI=[]),a[a.length-1].XTI=a[a.length-1].XTI.concat(c),a.XTI=a.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(u),s=!0;break;case 36:n.pop(),s=!1;break;case 37:n.push(u),s=!0;break;case 38:n.pop(),s=!1;break;case 16:break;default:if(!o.T){if(!s||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},t),eS(e),e.Names=i,e.supbooks=a,e}function CU(r,t,e){return t.slice(-4)===".bin"?AU(r,e):_U(r,e)}function NU(r,t,e,n,s,i,a,l){return t.slice(-4)===".bin"?uU(r,n,e,s,i,a,l):SB(r,n,e,s,i,a,l)}function RU(r,t,e,n,s,i,a,l){return t.slice(-4)===".bin"?mU(r,n,e,s,i):dU(r,n,e,s,i)}function MU(r,t,e,n,s,i,a,l){return t.slice(-4)===".bin"?BP():UP()}function jU(r,t,e,n,s,i,a,l){return t.slice(-4)===".bin"?PP():LP()}function IU(r,t,e,n){return t.slice(-4)===".bin"?eP(r,e,n):XF(r,e,n)}function DU(r,t,e){return U8(r,e)}function OU(r,t,e){return t.slice(-4)===".bin"?gF(r,e):pF(r,e)}function FU(r,t,e){return t.slice(-4)===".bin"?DP(r,e):NP(r,e)}function PU(r,t,e){return t.slice(-4)===".bin"?EP(r):TP(r)}function LU(r,t,e,n){return e.slice(-4)===".bin"?AP(r,t,e,n):void 0}function BU(r,t,e){return t.slice(-4)===".bin"?_P(r,t,e):SP(r,t,e)}var tS=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,rS=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function ja(r,t){var e=r.split(/\s+/),n=[];if(n[0]=e[0],e.length===1)return n;var s=r.match(tS),i,a,l,c;if(s)for(c=0;c!=s.length;++c)i=s[c].match(rS),(a=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?l="xmlns"+i[1].slice(6):l=i[1].slice(a+1),n[l]=i[2].slice(1,i[2].length-1));return n}function UU(r){var t=r.split(/\s+/),e={};if(t.length===1)return e;var n=r.match(tS),s,i,a,l;if(n)for(l=0;l!=n.length;++l)s=n[l].match(rS),(i=s[1].indexOf(":"))===-1?e[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?a="xmlns"+s[1].slice(6):a=s[1].slice(i+1),e[a]=s[2].slice(1,s[2].length-1));return e}var Mf;function VU(r,t){var e=Mf[r]||Rr(r);return e==="General"?Ll(t):ya(e,t)}function zU(r,t,e,n){var s=n;switch((e[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":s=en(n);break;case"i2":case"int":s=parseInt(n,10);break;case"r4":case"float":s=parseFloat(n);break;case"date":case"dateTime.tz":s=zn(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+e[0])}r[Rr(t)]=s}function HU(r,t,e){if(r.t!=="z"){if(!e||e.cellText!==!1)try{r.t==="e"?r.w=r.w||Wl[r.v]:t==="General"?r.t==="n"?(r.v|0)===r.v?r.w=r.v.toString(10):r.w=Wf(r.v):r.w=Ll(r.v):r.w=VU(t||"General",r.v)}catch(i){if(e.WTF)throw i}try{var n=Mf[t]||t||"General";if(e.cellNF&&(r.z=n),e.cellDates&&r.t=="n"&&hu(n)){var s=El(r.v);s&&(r.t="d",r.v=new Date(s.y,s.m-1,s.d,s.H,s.M,s.S,s.u))}}catch(i){if(e.WTF)throw i}}}function $U(r,t,e){if(e.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=zF[n.Pattern]||n.Pattern)}r[t.ID]=t}function qU(r,t,e,n,s,i,a,l,c,o){var u="General",p=n.StyleID,h={};o=o||{};var d=[],x=0;for(p===void 0&&l&&(p=l.StyleID),p===void 0&&a&&(p=a.StyleID);i[p]!==void 0&&(i[p].nf&&(u=i[p].nf),i[p].Interior&&d.push(i[p].Interior),!!i[p].Parent);)p=i[p].Parent;switch(e.Type){case"Boolean":n.t="b",n.v=en(r);break;case"String":n.t="s",n.r=Y_(Rr(r)),n.v=r.indexOf("<")>-1?Rr(t||r).replace(/<.*?>/g,""):n.r;break;case"DateTime":r.slice(-1)!="Z"&&(r+="Z"),n.v=(zn(r)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),n.v!==n.v?n.v=Rr(r):n.v<60&&(n.v=n.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+r),n.t||(n.t="n");break;case"Error":n.t="e",n.v=x8[r],o.cellText!==!1&&(n.w=r);break;default:r==""&&t==""?n.t="z":(n.t="s",n.v=Y_(t||r));break}if(HU(n,u,o),o.cellFormula!==!1)if(n.Formula){var b=Rr(n.Formula);b.charCodeAt(0)==61&&(b=b.slice(1)),n.f=Hc(b,s),delete n.Formula,n.ArrayRange=="RC"?n.F=Hc("RC:RC",s):n.ArrayRange&&(n.F=Hc(n.ArrayRange,s),c.push([un(n.F),n.F]))}else for(x=0;x<c.length;++x)s.r>=c[x][0].s.r&&s.r<=c[x][0].e.r&&s.c>=c[x][0].s.c&&s.c<=c[x][0].e.c&&(n.F=c[x][1]);o.cellStyles&&(d.forEach(function(g){!h.patternType&&g.patternType&&(h.patternType=g.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function GU(r){r.t=r.v||"",r.t=r.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),r.v=r.w=r.ixfe=void 0}function $g(r,t){var e=t||{};$6();var n=ff(Kb(r));(e.type=="binary"||e.type=="array"||e.type=="base64")&&(n=Wr(n));var s=n.slice(0,1024).toLowerCase(),i=!1;if(s=s.replace(/".*?"/g,""),(s.indexOf(">")&1023)>Math.min(s.indexOf(",")&1023,s.indexOf(";")&1023)){var a=Jn(e);return a.type="string",Kf.to_workbook(n,a)}if(s.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(fe){s.indexOf("<"+fe)>=0&&(i=!0)}),i)return tV(n,e);Mf={"General Number":"General","General Date":ur[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":ur[15],"Short Date":ur[14],"Long Time":ur[19],"Medium Time":ur[18],"Short Time":ur[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:ur[2],Standard:ur[4],Percent:ur[10],Scientific:ur[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,c=[],o,u={},p=[],h=e.dense?[]:{},d="",x={},b={},g=ja('<Data ss:Type="String">'),v=0,y=0,T=0,R={s:{r:2e6,c:2e6},e:{r:0,c:0}},P={},H={},L="",I=0,O=[],F={},q={},z=0,N=[],U=[],C={},S=[],k,E=!1,A=[],j=[],B={},D=0,Q=0,K={Sheets:[],WBProps:{date1904:!1}},ee={};Yf.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var W="";l=Yf.exec(n);)switch(l[3]=(W=l[3]).toLowerCase()){case"data":if(W=="data"){if(l[1]==="/"){if((o=c.pop())[0]!==l[3])throw new Error("Bad state: "+o.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break}if(c[c.length-1][1])break;l[1]==="/"?qU(n.slice(v,l.index),L,g,c[c.length-1][0]=="comment"?C:x,{c:y,r:T},P,S[y],b,A,e):(L="",g=ja(l[0]),v=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(U.length>0&&(x.c=U),(!e.sheetRows||e.sheetRows>T)&&x.v!==void 0&&(e.dense?(h[T]||(h[T]=[]),h[T][y]=x):h[Dn(y)+es(T)]=x),x.HRef&&(x.l={Target:Rr(x.HRef)},x.HRefScreenTip&&(x.l.Tooltip=x.HRefScreenTip),delete x.HRef,delete x.HRefScreenTip),(x.MergeAcross||x.MergeDown)&&(D=y+(parseInt(x.MergeAcross,10)|0),Q=T+(parseInt(x.MergeDown,10)|0),O.push({s:{c:y,r:T},e:{c:D,r:Q}})),!e.sheetStubs)x.MergeAcross?y=D+1:++y;else if(x.MergeAcross||x.MergeDown){for(var te=y;te<=D;++te)for(var G=T;G<=Q;++G)(te>y||G>T)&&(e.dense?(h[G]||(h[G]=[]),h[G][te]={t:"z"}):h[Dn(te)+es(G)]={t:"z"});y=D+1}else++y;else x=UU(l[0]),x.Index&&(y=+x.Index-1),y<R.s.c&&(R.s.c=y),y>R.e.c&&(R.e.c=y),l[0].slice(-2)==="/>"&&++y,U=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(T<R.s.r&&(R.s.r=T),T>R.e.r&&(R.e.r=T),l[0].slice(-2)==="/>"&&(b=ja(l[0]),b.Index&&(T=+b.Index-1)),y=0,++T):(b=ja(l[0]),b.Index&&(T=+b.Index-1),B={},(b.AutoFitHeight=="0"||b.Height)&&(B.hpx=parseInt(b.Height,10),B.hpt=B8(B.hpx),j[T]=B),b.Hidden=="1"&&(B.hidden=!0,j[T]=B));break;case"worksheet":if(l[1]==="/"){if((o=c.pop())[0]!==l[3])throw new Error("Bad state: "+o.join("|"));p.push(d),R.s.r<=R.e.r&&R.s.c<=R.e.c&&(h["!ref"]=Nr(R),e.sheetRows&&e.sheetRows<=R.e.r&&(h["!fullref"]=h["!ref"],R.e.r=e.sheetRows-1,h["!ref"]=Nr(R))),O.length&&(h["!merges"]=O),S.length>0&&(h["!cols"]=S),j.length>0&&(h["!rows"]=j),u[d]=h}else R={s:{r:2e6,c:2e6},e:{r:0,c:0}},T=y=0,c.push([l[3],!1]),o=ja(l[0]),d=Rr(o.Name),h=e.dense?[]:{},O=[],A=[],j=[],ee={name:d,Hidden:0},K.Sheets.push(ee);break;case"table":if(l[1]==="/"){if((o=c.pop())[0]!==l[3])throw new Error("Bad state: "+o.join("|"))}else{if(l[0].slice(-2)=="/>")break;c.push([l[3],!1]),S=[],E=!1}break;case"style":l[1]==="/"?$U(P,H,e):H=ja(l[0]);break;case"numberformat":H.nf=Rr(ja(l[0]).Format||"General"),Mf[H.nf]&&(H.nf=Mf[H.nf]);for(var V=0;V!=392&&ur[V]!=H.nf;++V);if(V==392){for(V=57;V!=392;++V)if(ur[V]==null){Rl(H.nf,V);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(k=ja(l[0]),k.Hidden&&(k.hidden=!0,delete k.Hidden),k.Width&&(k.wpx=parseInt(k.Width,10)),!E&&k.wpx>10){E=!0,ws=P8;for(var Z=0;Z<S.length;++Z)S[Z]&&tu(S[Z])}E&&tu(k),S[k.Index-1||S.length]=k;for(var ae=0;ae<+k.Span;++ae)S[S.length]=Jn(k);break;case"namedrange":if(l[1]==="/")break;K.Names||(K.Names=[]);var re=Zt(l[0]),oe={Name:re.Name,Ref:Hc(re.RefersTo.slice(1),{r:0,c:0})};K.Sheets.length>0&&(oe.Sheet=K.Sheets.length-1),K.Names.push(oe);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?L+=n.slice(I,l.index):I=l.index+l[0].length;break;case"interior":if(!e.cellStyles)break;H.Interior=ja(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?ND(F,W,n.slice(z,l.index)):z=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((o=c.pop())[0]!==l[3])throw new Error("Bad state: "+o.join("|"))}else c.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((o=c.pop())[0]!==l[3])throw new Error("Bad state: "+o.join("|"));GU(C),U.push(C)}else c.push([l[3],!1]),o=ja(l[0]),C={a:o.Author};break;case"autofilter":if(l[1]==="/"){if((o=c.pop())[0]!==l[3])throw new Error("Bad state: "+o.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var he=ja(l[0]);h["!autofilter"]={ref:Hc(he.Range).replace(/\$/g,"")},c.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((o=c.pop())[0]!==l[3])throw new Error("Bad state: "+o.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((o=c.pop())[0]!==l[3])throw new Error("Bad state: "+o.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"null":break;default:if(c.length==0&&l[3]=="document"||c.length==0&&l[3]=="uof")return I4(n,e);var Se=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Se=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Se=!1}break;case"excelworkbook":switch(l[3]){case"date1904":K.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Se=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:Se=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(n.slice(z,l.index)){case"SheetHidden":ee.Hidden=1;break;case"SheetVeryHidden":ee.Hidden=2;break}else z=l.index+l[0].length;break;case"header":h["!margins"]||Rf(h["!margins"]={},"xlml"),isNaN(+Zt(l[0]).Margin)||(h["!margins"].header=+Zt(l[0]).Margin);break;case"footer":h["!margins"]||Rf(h["!margins"]={},"xlml"),isNaN(+Zt(l[0]).Margin)||(h["!margins"].footer=+Zt(l[0]).Margin);break;case"pagemargins":var ge=Zt(l[0]);h["!margins"]||Rf(h["!margins"]={},"xlml"),isNaN(+ge.Top)||(h["!margins"].top=+ge.Top),isNaN(+ge.Left)||(h["!margins"].left=+ge.Left),isNaN(+ge.Right)||(h["!margins"].right=+ge.Right),isNaN(+ge.Bottom)||(h["!margins"].bottom=+ge.Bottom);break;case"displayrighttoleft":K.Views||(K.Views=[]),K.Views[0]||(K.Views[0]={}),K.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Se=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Se=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Se=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Se=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Se=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Se=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Se=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Se=!1}break;case"smarttags":break;default:Se=!1;break}if(Se||l[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?zU(q,W,N,n.slice(z,l.index)):(N=l,z=l.index+l[0].length);break}if(e.WTF)throw"Unrecognized tag: "+l[3]+"|"+c.join("|")}var ne={};return!e.bookSheets&&!e.bookProps&&(ne.Sheets=u),ne.SheetNames=p,ne.Workbook=K,ne.SSF=Jn(ur),ne.Props=F,ne.Custprops=q,ne}function N1(r,t){switch(fx(t=t||{}),t.type||"base64"){case"base64":return $g(ea(r),t);case"binary":case"buffer":case"file":return $g(r,t);case"array":return $g($l(r),t)}}function WU(r){var t={},e=r.content;if(e.l=28,t.AnsiUserType=e.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=oD(e),e.length-e.l<=4)return t;var n=e.read_shift(4);if(n==0||n>40||(e.l-=4,t.Reserved1=e.read_shift(0,"lpstr-ansi"),e.length-e.l<=4)||(n=e.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=lD(e),n=e.read_shift(4),n==0||n>40))return t;e.l-=4,t.Reserved2=e.read_shift(0,"lpwstr")}var XU=[60,1084,2066,2165,2175];function YU(r,t,e,n,s){var i=n,a=[],l=e.slice(e.l,e.l+i);if(s&&s.enc&&s.enc.insitu&&l.length>0)switch(r){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:s.enc.insitu(l)}a.push(l),e.l+=i;for(var c=Pi(e,e.l),o=R1[c],u=0;o!=null&&XU.indexOf(c)>-1;)i=Pi(e,e.l+2),u=e.l+4,c==2066?u+=4:(c==2165||c==2175)&&(u+=12),l=e.slice(u,e.l+4+i),a.push(l),e.l+=4+i,o=R1[c=Pi(e,e.l)];var p=Co(a);Qn(p,0);var h=0;p.lens=[];for(var d=0;d<a.length;++d)p.lens.push(h),h+=a[d].length;if(p.length<n)throw"XLS Record 0x"+r.toString(16)+" Truncated: "+p.length+" < "+n;return t.f(p,p.length,s)}function Ja(r,t,e){if(r.t!=="z"&&r.XF){var n=0;try{n=r.z||r.XF.numFmtId||0,t.cellNF&&(r.z=ur[n])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{r.t==="e"?r.w=r.w||Wl[r.v]:n===0||n=="General"?r.t==="n"?(r.v|0)===r.v?r.w=r.v.toString(10):r.w=Wf(r.v):r.w=Ll(r.v):r.w=ya(n,r.v,{date1904:!!e,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&n&&r.t=="n"&&hu(ur[n]||String(n))){var s=El(r.v);s&&(r.t="d",r.v=new Date(s.y,s.m-1,s.d,s.H,s.M,s.S,s.u))}}}function Qd(r,t,e){return{v:r,ixfe:t,t:e}}function KU(r,t){var e={opts:{}},n={},s=t.dense?[]:{},i={},a={},l=null,c=[],o="",u={},p,h="",d,x,b,g,v={},y=[],T,R,P=[],H=[],L={Sheets:[],WBProps:{date1904:!1},Views:[{}]},I={},O=function(mt){return mt<8?Ml[mt]:mt<64&&H[mt-8]||Ml[mt]},F=function(mt,Me,Ue){var Ee=Me.XF.data;if(!(!Ee||!Ee.patternType||!Ue||!Ue.cellStyles)){Me.s={},Me.s.patternType=Ee.patternType;var Oe;(Oe=Qf(O(Ee.icvFore)))&&(Me.s.fgColor={rgb:Oe}),(Oe=Qf(O(Ee.icvBack)))&&(Me.s.bgColor={rgb:Oe})}},q=function(mt,Me,Ue){if(!(B>1)&&!(Ue.sheetRows&&mt.r>=Ue.sheetRows)){if(Ue.cellStyles&&Me.XF&&Me.XF.data&&F(mt,Me,Ue),delete Me.ixfe,delete Me.XF,p=mt,h=sr(mt),(!a||!a.s||!a.e)&&(a={s:{r:0,c:0},e:{r:0,c:0}}),mt.r<a.s.r&&(a.s.r=mt.r),mt.c<a.s.c&&(a.s.c=mt.c),mt.r+1>a.e.r&&(a.e.r=mt.r+1),mt.c+1>a.e.c&&(a.e.c=mt.c+1),Ue.cellFormula&&Me.f){for(var Ee=0;Ee<y.length;++Ee)if(!(y[Ee][0].s.c>mt.c||y[Ee][0].s.r>mt.r)&&!(y[Ee][0].e.c<mt.c||y[Ee][0].e.r<mt.r)){Me.F=Nr(y[Ee][0]),(y[Ee][0].s.c!=mt.c||y[Ee][0].s.r!=mt.r)&&delete Me.f,Me.f&&(Me.f=""+os(y[Ee][1],a,mt,A,z));break}}Ue.dense?(s[mt.r]||(s[mt.r]=[]),s[mt.r][mt.c]=Me):s[h]=Me}},z={enc:!1,sbcch:0,snames:[],sharedf:v,arrayf:y,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(z.password=t.password);var N,U=[],C=[],S=[],k=[],E=!1,A=[];A.SheetNames=z.snames,A.sharedf=z.sharedf,A.arrayf=z.arrayf,A.names=[],A.XTI=[];var j=0,B=0,D=0,Q=[],K=[],ee;z.codepage=1200,Fa(1200);for(var W=!1;r.l<r.length-1;){var te=r.l,G=r.read_shift(2);if(G===0&&j===10)break;var V=r.l===r.length?0:r.read_shift(2),Z=R1[G];if(Z&&Z.f){if(t.bookSheets&&j===133&&G!==133)break;if(j=G,Z.r===2||Z.r==12){var ae=r.read_shift(2);if(V-=2,!z.enc&&ae!==G&&((ae&255)<<8|ae>>8)!==G)throw new Error("rt mismatch: "+ae+"!="+G);Z.r==12&&(r.l+=10,V-=10)}var re={};if(G===10?re=Z.f(r,V,z):re=YU(G,Z,r,V,z),B==0&&[9,521,1033,2057].indexOf(j)===-1)continue;switch(G){case 34:e.opts.Date1904=L.WBProps.date1904=re;break;case 134:e.opts.WriteProtect=!0;break;case 47:if(z.enc||(r.l=0),z.enc=re,!t.password)throw new Error("File is password-protected");if(re.valid==null)throw new Error("Encryption scheme unsupported");if(!re.valid)throw new Error("Password is incorrect");break;case 92:z.lastuser=re;break;case 66:var oe=Number(re);switch(oe){case 21010:oe=1200;break;case 32768:oe=1e4;break;case 32769:oe=1252;break}Fa(z.codepage=oe),W=!0;break;case 317:z.rrtabid=re;break;case 25:z.winlocked=re;break;case 439:e.opts.RefreshAll=re;break;case 12:e.opts.CalcCount=re;break;case 16:e.opts.CalcDelta=re;break;case 17:e.opts.CalcIter=re;break;case 13:e.opts.CalcMode=re;break;case 14:e.opts.CalcPrecision=re;break;case 95:e.opts.CalcSaveRecalc=re;break;case 15:z.CalcRefMode=re;break;case 2211:e.opts.FullCalc=re;break;case 129:re.fDialog&&(s["!type"]="dialog"),re.fBelow||((s["!outline"]||(s["!outline"]={})).above=!0),re.fRight||((s["!outline"]||(s["!outline"]={})).left=!0);break;case 224:P.push(re);break;case 430:A.push([re]),A[A.length-1].XTI=[];break;case 35:case 547:A[A.length-1].push(re);break;case 24:case 536:ee={Name:re.Name,Ref:os(re.rgce,a,null,A,z)},re.itab>0&&(ee.Sheet=re.itab-1),A.names.push(ee),A[0]||(A[0]=[],A[0].XTI=[]),A[A.length-1].push(re),re.Name=="_xlnm._FilterDatabase"&&re.itab>0&&re.rgce&&re.rgce[0]&&re.rgce[0][0]&&re.rgce[0][0][0]=="PtgArea3d"&&(K[re.itab-1]={ref:Nr(re.rgce[0][0][1][2])});break;case 22:z.ExternCount=re;break;case 23:A.length==0&&(A[0]=[],A[0].XTI=[]),A[A.length-1].XTI=A[A.length-1].XTI.concat(re),A.XTI=A.XTI.concat(re);break;case 2196:if(z.biff<8)break;ee!=null&&(ee.Comment=re[1]);break;case 18:s["!protect"]=re;break;case 19:re!==0&&z.WTF&&console.error("Password verifier: "+re);break;case 133:i[re.pos]=re,z.snames.push(re.name);break;case 10:{if(--B)break;if(a.e){if(a.e.r>0&&a.e.c>0){if(a.e.r--,a.e.c--,s["!ref"]=Nr(a),t.sheetRows&&t.sheetRows<=a.e.r){var he=a.e.r;a.e.r=t.sheetRows-1,s["!fullref"]=s["!ref"],s["!ref"]=Nr(a),a.e.r=he}a.e.r++,a.e.c++}U.length>0&&(s["!merges"]=U),C.length>0&&(s["!objects"]=C),S.length>0&&(s["!cols"]=S),k.length>0&&(s["!rows"]=k),L.Sheets.push(I)}o===""?u=s:n[o]=s,s=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(z.biff===8&&(z.biff={9:2,521:3,1033:4}[G]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[re.BIFFVer]||8),z.biffguess=re.BIFFVer==0,re.BIFFVer==0&&re.dt==4096&&(z.biff=5,W=!0,Fa(z.codepage=28591)),z.biff==8&&re.BIFFVer==0&&re.dt==16&&(z.biff=2),B++)break;if(s=t.dense?[]:{},z.biff<8&&!W&&(W=!0,Fa(z.codepage=t.codepage||1252)),z.biff<5||re.BIFFVer==0&&re.dt==4096){o===""&&(o="Sheet1"),a={s:{r:0,c:0},e:{r:0,c:0}};var Se={pos:r.l-V,name:o};i[Se.pos]=Se,z.snames.push(o)}else o=(i[te]||{name:""}).name;re.dt==32&&(s["!type"]="chart"),re.dt==64&&(s["!type"]="macro"),U=[],C=[],z.arrayf=y=[],S=[],k=[],E=!1,I={Hidden:(i[te]||{hs:0}).hs,name:o}}break;case 515:case 3:case 2:s["!type"]=="chart"&&(t.dense?(s[re.r]||[])[re.c]:s[sr({c:re.c,r:re.r})])&&++re.c,T={ixfe:re.ixfe,XF:P[re.ixfe]||{},v:re.val,t:"n"},D>0&&(T.z=Q[T.ixfe>>8&63]),Ja(T,t,e.opts.Date1904),q({c:re.c,r:re.r},T,t);break;case 5:case 517:T={ixfe:re.ixfe,XF:P[re.ixfe],v:re.val,t:re.t},D>0&&(T.z=Q[T.ixfe>>8&63]),Ja(T,t,e.opts.Date1904),q({c:re.c,r:re.r},T,t);break;case 638:T={ixfe:re.ixfe,XF:P[re.ixfe],v:re.rknum,t:"n"},D>0&&(T.z=Q[T.ixfe>>8&63]),Ja(T,t,e.opts.Date1904),q({c:re.c,r:re.r},T,t);break;case 189:for(var ge=re.c;ge<=re.C;++ge){var ne=re.rkrec[ge-re.c][0];T={ixfe:ne,XF:P[ne],v:re.rkrec[ge-re.c][1],t:"n"},D>0&&(T.z=Q[T.ixfe>>8&63]),Ja(T,t,e.opts.Date1904),q({c:ge,r:re.r},T,t)}break;case 6:case 518:case 1030:{if(re.val=="String"){l=re;break}if(T=Qd(re.val,re.cell.ixfe,re.tt),T.XF=P[T.ixfe],t.cellFormula){var fe=re.formula;if(fe&&fe[0]&&fe[0][0]&&fe[0][0][0]=="PtgExp"){var pe=fe[0][0][1][0],ke=fe[0][0][1][1],Ce=sr({r:pe,c:ke});v[Ce]?T.f=""+os(re.formula,a,re.cell,A,z):T.F=((t.dense?(s[pe]||[])[ke]:s[Ce])||{}).F}else T.f=""+os(re.formula,a,re.cell,A,z)}D>0&&(T.z=Q[T.ixfe>>8&63]),Ja(T,t,e.opts.Date1904),q(re.cell,T,t),l=re}break;case 7:case 519:if(l)l.val=re,T=Qd(re,l.cell.ixfe,"s"),T.XF=P[T.ixfe],t.cellFormula&&(T.f=""+os(l.formula,a,l.cell,A,z)),D>0&&(T.z=Q[T.ixfe>>8&63]),Ja(T,t,e.opts.Date1904),q(l.cell,T,t),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{y.push(re);var Fe=sr(re[0].s);if(d=t.dense?(s[re[0].s.r]||[])[re[0].s.c]:s[Fe],t.cellFormula&&d){if(!l||!Fe||!d)break;d.f=""+os(re[1],a,re[0],A,z),d.F=Nr(re[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!l)break;v[sr(l.cell)]=re[0],d=t.dense?(s[l.cell.r]||[])[l.cell.c]:s[sr(l.cell)],(d||{}).f=""+os(re[0],a,p,A,z)}}break;case 253:T=Qd(c[re.isst].t,re.ixfe,"s"),c[re.isst].h&&(T.h=c[re.isst].h),T.XF=P[T.ixfe],D>0&&(T.z=Q[T.ixfe>>8&63]),Ja(T,t,e.opts.Date1904),q({c:re.c,r:re.r},T,t);break;case 513:t.sheetStubs&&(T={ixfe:re.ixfe,XF:P[re.ixfe],t:"z"},D>0&&(T.z=Q[T.ixfe>>8&63]),Ja(T,t,e.opts.Date1904),q({c:re.c,r:re.r},T,t));break;case 190:if(t.sheetStubs)for(var We=re.c;We<=re.C;++We){var $e=re.ixfe[We-re.c];T={ixfe:$e,XF:P[$e],t:"z"},D>0&&(T.z=Q[T.ixfe>>8&63]),Ja(T,t,e.opts.Date1904),q({c:We,r:re.r},T,t)}break;case 214:case 516:case 4:T=Qd(re.val,re.ixfe,"s"),T.XF=P[T.ixfe],D>0&&(T.z=Q[T.ixfe>>8&63]),Ja(T,t,e.opts.Date1904),q({c:re.c,r:re.r},T,t);break;case 0:case 512:B===1&&(a=re);break;case 252:c=re;break;case 1054:if(z.biff==4){Q[D++]=re[1];for(var it=0;it<D+163&&ur[it]!=re[1];++it);it>=163&&Rl(re[1],D+163)}else Rl(re[1],re[0]);break;case 30:{Q[D++]=re;for(var st=0;st<D+163&&ur[st]!=re;++st);st>=163&&Rl(re,D+163)}break;case 229:U=U.concat(re);break;case 93:C[re.cmo[0]]=z.lastobj=re;break;case 438:z.lastobj.TxO=re;break;case 127:z.lastobj.ImData=re;break;case 440:for(g=re[0].s.r;g<=re[0].e.r;++g)for(b=re[0].s.c;b<=re[0].e.c;++b)d=t.dense?(s[g]||[])[b]:s[sr({c:b,r:g})],d&&(d.l=re[1]);break;case 2048:for(g=re[0].s.r;g<=re[0].e.r;++g)for(b=re[0].s.c;b<=re[0].e.c;++b)d=t.dense?(s[g]||[])[b]:s[sr({c:b,r:g})],d&&d.l&&(d.l.Tooltip=re[1]);break;case 28:{if(z.biff<=5&&z.biff>=2)break;d=t.dense?(s[re[0].r]||[])[re[0].c]:s[sr(re[0])];var et=C[re[2]];d||(t.dense?(s[re[0].r]||(s[re[0].r]=[]),d=s[re[0].r][re[0].c]={t:"z"}):d=s[sr(re[0])]={t:"z"},a.e.r=Math.max(a.e.r,re[0].r),a.s.r=Math.min(a.s.r,re[0].r),a.e.c=Math.max(a.e.c,re[0].c),a.s.c=Math.min(a.s.c,re[0].c)),d.c||(d.c=[]),x={a:re[1],t:et.TxO.t},d.c.push(x)}break;case 2173:xP(P[re.ixfe],re.ext);break;case 125:{if(!z.cellStyles)break;for(;re.e>=re.s;)S[re.e--]={width:re.w/256,level:re.level||0,hidden:!!(re.flags&1)},E||(E=!0,ix(re.w/256)),tu(S[re.e+1])}break;case 520:{var Ze={};re.level!=null&&(k[re.r]=Ze,Ze.level=re.level),re.hidden&&(k[re.r]=Ze,Ze.hidden=!0),re.hpt&&(k[re.r]=Ze,Ze.hpt=re.hpt,Ze.hpx=Zf(re.hpt))}break;case 38:case 39:case 40:case 41:s["!margins"]||Rf(s["!margins"]={}),s["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[G]]=re;break;case 161:s["!margins"]||Rf(s["!margins"]={}),s["!margins"].header=re.header,s["!margins"].footer=re.footer;break;case 574:re.RTL&&(L.Views[0].RTL=!0);break;case 146:H=re;break;case 2198:N=re;break;case 140:R=re;break;case 442:o?I.CodeName=re||I.name:L.WBProps.CodeName=re||"ThisWorkbook";break}}else Z||console.error("Missing Info for XLS Record 0x"+G.toString(16)),r.l+=V}return e.SheetNames=hi(i).sort(function(gt,mt){return Number(gt)-Number(mt)}).map(function(gt){return i[gt].name}),t.bookSheets||(e.Sheets=n),!e.SheetNames.length&&u["!ref"]?(e.SheetNames.push("Sheet1"),e.Sheets&&(e.Sheets.Sheet1=u)):e.Preamble=u,e.Sheets&&K.forEach(function(gt,mt){e.Sheets[e.SheetNames[mt]]["!autofilter"]=gt}),e.Strings=c,e.SSF=Jn(ur),z.enc&&(e.Encryption=z.enc),N&&(e.Themes=N),e.Metadata={},R!==void 0&&(e.Metadata.Country=R),A.names.length>0&&(L.Names=A.names),e.Workbook=L,e}var C4={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function QU(r,t,e){var n=Cr.find(r,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var s=f4(n,pD,C4.DSI);for(var i in s)t[i]=s[i]}catch(o){if(e.WTF)throw o}var a=Cr.find(r,"/!SummaryInformation");if(a&&a.size>0)try{var l=f4(a,mD,C4.SI);for(var c in l)t[c]==null&&(t[c]=l[c])}catch(o){if(e.WTF)throw o}t.HeadingPairs&&t.TitlesOfParts&&(v8(t.HeadingPairs,t.TitlesOfParts,t,e),delete t.HeadingPairs,delete t.TitlesOfParts)}function nS(r,t){t||(t={}),fx(t),j6(),t.codepage&&Hb(t.codepage);var e,n;if(r.FullPaths){if(Cr.find(r,"/encryption"))throw new Error("File is password-protected");e=Cr.find(r,"!CompObj"),n=Cr.find(r,"/Workbook")||Cr.find(r,"/Book")}else{switch(t.type){case"base64":r=Da(ea(r));break;case"binary":r=Da(r);break;case"buffer":break;case"array":Array.isArray(r)||(r=Array.prototype.slice.call(r));break}Qn(r,0),n={content:r}}var s,i;if(e&&WU(e),t.bookProps&&!t.bookSheets)s={};else{var a=Er?"buffer":"array";if(n&&n.content)s=KU(n.content,t);else if((i=Cr.find(r,"PerfectOffice_MAIN"))&&i.content)s=Cf.to_workbook(i.content,(t.type=a,t));else if((i=Cr.find(r,"NativeContent_MAIN"))&&i.content)s=Cf.to_workbook(i.content,(t.type=a,t));else throw(i=Cr.find(r,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&r.FullPaths&&Cr.find(r,"/_VBA_PROJECT_CUR/VBA/dir")&&(s.vbaraw=FP(r))}var l={};return r.FullPaths&&QU(r,l,t),s.Props=s.Custprops=l,t.bookFiles&&(s.cfb=r),s}var G0={0:{f:jB},1:{f:FB},2:{f:qB},3:{f:UB},4:{f:LB},5:{f:$B},6:{f:XB},7:{f:zB},8:{f:JB},9:{f:ZB},10:{f:KB},11:{f:QB},12:{f:PB},13:{f:GB},14:{f:VB},15:{f:BB},16:{f:Z8},17:{f:YB},18:{f:HB},19:{f:ex},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:EU},40:{},42:{},43:{f:KF},44:{f:YF},45:{f:QF},46:{f:JF},47:{f:ZF},48:{},49:{f:eD},50:{},51:{f:vP},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:j8},62:{f:WB},63:{f:kP},64:{f:lU},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ds,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:oU},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:OB},148:{f:IB,p:16},151:{f:rU},152:{},153:{f:TU},154:{},155:{},156:{f:SU},157:{},158:{},159:{T:1,f:mF},160:{T:-1},161:{T:1,f:Gl},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:eU},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:yP},336:{T:-1},337:{f:wP,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:k1},357:{},358:{},359:{},360:{T:1},361:{},362:{f:M8},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:nU},427:{f:sU},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:iU},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:DB},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:tU},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:k1},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:IP},633:{T:1},634:{T:-1},635:{T:1,f:jP},636:{T:-1},637:{f:rD},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:pU},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:cU},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},R1={6:{f:zg},10:{f:To},12:{f:En},13:{f:En},14:{f:bn},15:{f:bn},16:{f:cs},17:{f:bn},18:{f:bn},19:{f:En},20:{f:m4},21:{f:m4},23:{f:M8},24:{f:b4},25:{f:bn},26:{},27:{},28:{f:RO},29:{},34:{f:bn},35:{f:g4},38:{f:cs},39:{f:cs},40:{f:cs},41:{f:cs},42:{f:bn},43:{f:bn},47:{f:DF},49:{f:fO},51:{f:En},60:{},61:{f:lO},64:{f:bn},65:{f:uO},66:{f:En},77:{},80:{},81:{},82:{},85:{f:En},89:{},90:{},91:{},92:{f:eO},93:{f:jO},94:{},95:{f:bn},96:{},97:{},99:{f:bn},125:{f:j8},128:{f:wO},129:{f:tO},130:{f:En},131:{f:bn},132:{f:bn},133:{f:rO},134:{},140:{f:LO},141:{f:En},144:{},146:{f:UO},151:{},152:{},153:{},154:{},155:{},156:{f:En},157:{},158:{},160:{f:qO},161:{f:zO},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:bO},190:{f:xO},193:{f:To},197:{},198:{},199:{},200:{},201:{},202:{f:bn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:En},220:{},221:{f:bn},222:{},224:{f:vO},225:{f:JD},226:{f:To},227:{},229:{f:MO},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:nO},253:{f:hO},255:{f:sO},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:k8},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:bn},353:{f:To},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:SO},431:{f:bn},432:{},433:{},434:{},437:{},438:{f:OO},439:{f:bn},440:{f:FO},441:{},442:{f:bh},443:{},444:{f:En},445:{},446:{},448:{f:To},449:{f:oO,r:2},450:{f:To},512:{f:d4},513:{f:$O},515:{f:_O},516:{f:dO},517:{f:p4},519:{f:GO},520:{f:aO},523:{},545:{f:x4},549:{f:h4},566:{},574:{f:cO},638:{f:gO},659:{},1048:{},1054:{f:pO},1084:{},1212:{f:AO},2048:{f:PO},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Xd},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:To},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:VO,r:12},2173:{f:bP,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:bn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:EO,r:12},2197:{},2198:{f:fP,r:12},2199:{},2200:{},2201:{},2202:{f:CO,r:12},2203:{f:To},2204:{},2205:{},2206:{},2207:{},2211:{f:iO},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:En},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:HO},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:BO},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:d4},1:{},2:{f:KO},3:{f:YO},4:{f:XO},5:{f:p4},7:{f:QO},8:{},9:{f:Xd},11:{},22:{f:En},30:{f:mO},31:{},32:{},33:{f:x4},36:{},37:{f:h4},50:{f:ZO},62:{},52:{},67:{},68:{f:En},69:{},86:{},126:{},127:{f:WO},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:JO},223:{},234:{},354:{},421:{},518:{f:zg},521:{f:Xd},536:{f:b4},547:{f:g4},561:{},579:{},1030:{f:zg},1033:{f:Xd},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Ia(r,t,e,n){var s=t;if(!isNaN(s)){var i=(e||[]).length||0,a=r.next(4);a.write_shift(2,s),a.write_shift(2,i),i>0&&h8(e)&&r.push(e)}}function N4(r,t){var e=t||{},n=e.dense?[]:{};r=r.replace(/<!--.*?-->/g,"");var s=r.match(/<table/i);if(!s)throw new Error("Invalid HTML: could not find <table>");var i=r.match(/<\/table/i),a=s.index,l=i&&i.index||r.length,c=_I(r.slice(a,l),/(:?<tr[^>]*>)/i,"<tr>"),o=-1,u=0,p=0,h=0,d={s:{r:1e7,c:1e7},e:{r:0,c:0}},x=[];for(a=0;a<c.length;++a){var b=c[a].trim(),g=b.slice(0,3).toLowerCase();if(g=="<tr"){if(++o,e.sheetRows&&e.sheetRows<=o){--o;break}u=0;continue}if(!(g!="<td"&&g!="<th")){var v=b.split(/<\/t[dh]>/i);for(l=0;l<v.length;++l){var y=v[l].trim();if(y.match(/<t[dh]/i)){for(var T=y,R=0;T.charAt(0)=="<"&&(R=T.indexOf(">"))>-1;)T=T.slice(R+1);for(var P=0;P<x.length;++P){var H=x[P];H.s.c==u&&H.s.r<o&&o<=H.e.r&&(u=H.e.c+1,P=-1)}var L=Zt(y.slice(0,y.indexOf(">")));h=L.colspan?+L.colspan:1,((p=+L.rowspan)>1||h>1)&&x.push({s:{r:o,c:u},e:{r:o+(p||1)-1,c:u+h-1}});var I=L.t||L["data-t"]||"";if(!T.length){u+=h;continue}if(T=J6(T),d.s.r>o&&(d.s.r=o),d.e.r<o&&(d.e.r=o),d.s.c>u&&(d.s.c=u),d.e.c<u&&(d.e.c=u),!T.length){u+=h;continue}var O={t:"s",v:T};e.raw||!T.trim().length||I=="s"||(T==="TRUE"?O={t:"b",v:!0}:T==="FALSE"?O={t:"b",v:!1}:isNaN(Ba(T))?isNaN(eu(T).getDate())||(O={t:"d",v:zn(T)},e.cellDates||(O={t:"n",v:Ts(O.v)}),O.z=e.dateNF||ur[14]):O={t:"n",v:Ba(T)}),e.dense?(n[o]||(n[o]=[]),n[o][u]=O):n[sr({r:o,c:u})]=O,u+=h}}}}return n["!ref"]=Nr(d),x.length&&(n["!merges"]=x),n}function ZU(r,t,e,n){for(var s=r["!merges"]||[],i=[],a=t.s.c;a<=t.e.c;++a){for(var l=0,c=0,o=0;o<s.length;++o)if(!(s[o].s.r>e||s[o].s.c>a)&&!(s[o].e.r<e||s[o].e.c<a)){if(s[o].s.r<e||s[o].s.c<a){l=-1;break}l=s[o].e.r-s[o].s.r+1,c=s[o].e.c-s[o].s.c+1;break}if(!(l<0)){var u=sr({r:e,c:a}),p=n.dense?(r[e]||[])[a]:r[u],h=p&&p.v!=null&&(p.h||Yb(p.w||(Gi(p),p.w)||""))||"",d={};l>1&&(d.rowspan=l),c>1&&(d.colspan=c),n.editable?h='<span contenteditable="true">'+h+"</span>":p&&(d["data-t"]=p&&p.t||"z",p.v!=null&&(d["data-v"]=p.v),p.z!=null&&(d["data-z"]=p.z),p.l&&(p.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+p.l.Target+'">'+h+"</a>")),d.id=(n.id||"sjs")+"-"+u,i.push(LI("td",h,d))}}var x="<tr>";return x+i.join("")+"</tr>"}var JU='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',eV="</body></html>";function tV(r,t){var e=r.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!e||e.length==0)throw new Error("Invalid HTML: could not find <table>");if(e.length==1)return Zo(N4(e[0],t),t);var n=dx();return e.forEach(function(s,i){px(n,N4(s,t),"Sheet"+(i+1))}),n}function rV(r,t,e){var n=[];return n.join("")+"<table"+(e&&e.id?' id="'+e.id+'"':"")+">"}function nV(r,t){var e=t||{},n=e.header!=null?e.header:JU,s=e.footer!=null?e.footer:eV,i=[n],a=du(r["!ref"]);e.dense=Array.isArray(r),i.push(rV(r,a,e));for(var l=a.s.r;l<=a.e.r;++l)i.push(ZU(r,a,l,e));return i.push("</table>"+s),i.join("")}function sS(r,t,e){var n=e||{},s=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var a=typeof n.origin=="string"?_s(n.origin):n.origin;s=a.r,i=a.c}var l=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),o={s:{r:0,c:0},e:{r:s,c:i}};if(r["!ref"]){var u=du(r["!ref"]);o.s.r=Math.min(o.s.r,u.s.r),o.s.c=Math.min(o.s.c,u.s.c),o.e.r=Math.max(o.e.r,u.e.r),o.e.c=Math.max(o.e.c,u.e.c),s==-1&&(o.e.r=s=u.e.r+1)}var p=[],h=0,d=r["!rows"]||(r["!rows"]=[]),x=0,b=0,g=0,v=0,y=0,T=0;for(r["!cols"]||(r["!cols"]=[]);x<l.length&&b<c;++x){var R=l[x];if(R4(R)){if(n.display)continue;d[b]={hidden:!0}}var P=R.children;for(g=v=0;g<P.length;++g){var H=P[g];if(!(n.display&&R4(H))){var L=H.hasAttribute("data-v")?H.getAttribute("data-v"):H.hasAttribute("v")?H.getAttribute("v"):J6(H.innerHTML),I=H.getAttribute("data-z")||H.getAttribute("z");for(h=0;h<p.length;++h){var O=p[h];O.s.c==v+i&&O.s.r<b+s&&b+s<=O.e.r&&(v=O.e.c+1-i,h=-1)}T=+H.getAttribute("colspan")||1,((y=+H.getAttribute("rowspan")||1)>1||T>1)&&p.push({s:{r:b+s,c:v+i},e:{r:b+s+(y||1)-1,c:v+i+(T||1)-1}});var F={t:"s",v:L},q=H.getAttribute("data-t")||H.getAttribute("t")||"";L!=null&&(L.length==0?F.t=q||"z":n.raw||L.trim().length==0||q=="s"||(L==="TRUE"?F={t:"b",v:!0}:L==="FALSE"?F={t:"b",v:!1}:isNaN(Ba(L))?isNaN(eu(L).getDate())||(F={t:"d",v:zn(L)},n.cellDates||(F={t:"n",v:Ts(F.v)}),F.z=n.dateNF||ur[14]):F={t:"n",v:Ba(L)})),F.z===void 0&&I!=null&&(F.z=I);var z="",N=H.getElementsByTagName("A");if(N&&N.length)for(var U=0;U<N.length&&!(N[U].hasAttribute("href")&&(z=N[U].getAttribute("href"),z.charAt(0)!="#"));++U);z&&z.charAt(0)!="#"&&(F.l={Target:z}),n.dense?(r[b+s]||(r[b+s]=[]),r[b+s][v+i]=F):r[sr({c:v+i,r:b+s})]=F,o.e.c<v+i&&(o.e.c=v+i),v+=T}}++b}return p.length&&(r["!merges"]=(r["!merges"]||[]).concat(p)),o.e.r=Math.max(o.e.r,b-1+s),r["!ref"]=Nr(o),b>=c&&(r["!fullref"]=Nr((o.e.r=l.length-x+b-1+s,o))),r}function aS(r,t){var e=t||{},n=e.dense?[]:{};return sS(n,r,t)}function sV(r,t){return Zo(aS(r,t),t)}function R4(r){var t="",e=aV(r);return e&&(t=e(r).getPropertyValue("display")),t||(t=r.style&&r.style.display),t==="none"}function aV(r){return r.ownerDocument.defaultView&&typeof r.ownerDocument.defaultView.getComputedStyle=="function"?r.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function iV(r){var t=r.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,s){return Array(parseInt(s,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),e=Rr(t.replace(/<[^>]*>/g,""));return[e]}var M4={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function iS(r,t){var e=t||{},n=Kb(r),s=[],i,a,l={name:""},c="",o=0,u,p,h={},d=[],x=e.dense?[]:{},b,g,v={value:""},y="",T=0,R=[],P=-1,H=-1,L={s:{r:1e6,c:1e7},e:{r:0,c:0}},I=0,O={},F=[],q={},z=0,N=0,U=[],C=1,S=1,k=[],E={Names:[]},A={},j=["",""],B=[],D={},Q="",K=0,ee=!1,W=!1,te=0;for(Yf.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");b=Yf.exec(n);)switch(b[3]=b[3].replace(/_.*$/,"")){case"table":case"":b[1]==="/"?(L.e.c>=L.s.c&&L.e.r>=L.s.r?x["!ref"]=Nr(L):x["!ref"]="A1:A1",e.sheetRows>0&&e.sheetRows<=L.e.r&&(x["!fullref"]=x["!ref"],L.e.r=e.sheetRows-1,x["!ref"]=Nr(L)),F.length&&(x["!merges"]=F),U.length&&(x["!rows"]=U),u.name=u.||u.name,typeof JSON<"u"&&JSON.stringify(u),d.push(u.name),h[u.name]=x,W=!1):b[0].charAt(b[0].length-2)!=="/"&&(u=Zt(b[0],!1),P=H=-1,L.s.r=L.s.c=1e7,L.e.r=L.e.c=0,x=e.dense?[]:{},F=[],U=[],W=!0);break;case"table-row-group":b[1]==="/"?--I:++I;break;case"table-row":case"":if(b[1]==="/"){P+=C,C=1;break}if(p=Zt(b[0],!1),p.?P=p.-1:P==-1&&(P=0),C=+p["number-rows-repeated"]||1,C<10)for(te=0;te<C;++te)I>0&&(U[P+te]={level:I});H=-1;break;case"covered-table-cell":b[1]!=="/"&&++H,e.sheetStubs&&(e.dense?(x[P]||(x[P]=[]),x[P][H]={t:"z"}):x[sr({r:P,c:H})]={t:"z"}),y="",R=[];break;case"table-cell":case"":if(b[0].charAt(b[0].length-2)==="/")++H,v=Zt(b[0],!1),S=parseInt(v["number-columns-repeated"]||"1",10),g={t:"z",v:null},v.formula&&e.cellFormula!=!1&&(g.f=k4(Rr(v.formula))),(v.||v["value-type"])=="string"&&(g.t="s",g.v=Rr(v["string-value"]||""),e.dense?(x[P]||(x[P]=[]),x[P][H]=g):x[sr({r:P,c:H})]=g),H+=S-1;else if(b[1]!=="/"){++H,y="",T=0,R=[],S=1;var G=C?P+C-1:P;if(H>L.e.c&&(L.e.c=H),H<L.s.c&&(L.s.c=H),P<L.s.r&&(L.s.r=P),G>L.e.r&&(L.e.r=G),v=Zt(b[0],!1),B=[],D={},g={t:v.||v["value-type"],v:null},e.cellFormula)if(v.formula&&(v.formula=Rr(v.formula)),v["number-matrix-columns-spanned"]&&v["number-matrix-rows-spanned"]&&(z=parseInt(v["number-matrix-rows-spanned"],10)||0,N=parseInt(v["number-matrix-columns-spanned"],10)||0,q={s:{r:P,c:H},e:{r:P+z-1,c:H+N-1}},g.F=Nr(q),k.push([q,g.F])),v.formula)g.f=k4(v.formula);else for(te=0;te<k.length;++te)P>=k[te][0].s.r&&P<=k[te][0].e.r&&H>=k[te][0].s.c&&H<=k[te][0].e.c&&(g.F=k[te][1]);switch((v["number-columns-spanned"]||v["number-rows-spanned"])&&(z=parseInt(v["number-rows-spanned"],10)||0,N=parseInt(v["number-columns-spanned"],10)||0,q={s:{r:P,c:H},e:{r:P+z-1,c:H+N-1}},F.push(q)),v["number-columns-repeated"]&&(S=parseInt(v["number-columns-repeated"],10)),g.t){case"boolean":g.t="b",g.v=en(v["boolean-value"]);break;case"float":g.t="n",g.v=parseFloat(v.value);break;case"percentage":g.t="n",g.v=parseFloat(v.value);break;case"currency":g.t="n",g.v=parseFloat(v.value);break;case"date":g.t="d",g.v=zn(v["date-value"]),e.cellDates||(g.t="n",g.v=Ts(g.v)),g.z="m/d/yy";break;case"time":g.t="n",g.v=yI(v["time-value"])/86400,e.cellDates&&(g.t="d",g.v=yp(g.v)),g.z="HH:MM:SS";break;case"number":g.t="n",g.v=parseFloat(v.);break;default:if(g.t==="string"||g.t==="text"||!g.t)g.t="s",v["string-value"]!=null&&(y=Rr(v["string-value"]),R=[]);else throw new Error("Unsupported value type "+g.t)}}else{if(ee=!1,g.t==="s"&&(g.v=y||"",R.length&&(g.R=R),ee=T==0),A.Target&&(g.l=A),B.length>0&&(g.c=B,B=[]),y&&e.cellText!==!1&&(g.w=y),ee&&(g.t="z",delete g.v),(!ee||e.sheetStubs)&&!(e.sheetRows&&e.sheetRows<=P))for(var V=0;V<C;++V){if(S=parseInt(v["number-columns-repeated"]||"1",10),e.dense)for(x[P+V]||(x[P+V]=[]),x[P+V][H]=V==0?g:Jn(g);--S>0;)x[P+V][H+S]=Jn(g);else for(x[sr({r:P+V,c:H})]=g;--S>0;)x[sr({r:P+V,c:H+S})]=Jn(g);L.e.c<=H&&(L.e.c=H)}S=parseInt(v["number-columns-repeated"]||"1",10),H+=S-1,S=0,g={},y="",R=[]}A={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(b[1]==="/"){if((i=s.pop())[0]!==b[3])throw"Bad state: "+i}else b[0].charAt(b[0].length-2)!=="/"&&s.push([b[3],!0]);break;case"annotation":if(b[1]==="/"){if((i=s.pop())[0]!==b[3])throw"Bad state: "+i;D.t=y,R.length&&(D.R=R),D.a=Q,B.push(D)}else b[0].charAt(b[0].length-2)!=="/"&&s.push([b[3],!1]);Q="",K=0,y="",T=0,R=[];break;case"creator":b[1]==="/"?Q=n.slice(K,b.index):K=b.index+b[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(b[1]==="/"){if((i=s.pop())[0]!==b[3])throw"Bad state: "+i}else b[0].charAt(b[0].length-2)!=="/"&&s.push([b[3],!1]);y="",T=0,R=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(b[1]==="/"){if(O[l.name]=c,(i=s.pop())[0]!==b[3])throw"Bad state: "+i}else b[0].charAt(b[0].length-2)!=="/"&&(c="",l=Zt(b[0],!1),s.push([b[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(s[s.length-1][0]){case"time-style":case"date-style":a=Zt(b[0],!1),c+=M4[b[3]][a.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(s[s.length-1][0]){case"time-style":case"date-style":a=Zt(b[0],!1),c+=M4[b[3]][a.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(b[0].slice(-2)==="/>")break;if(b[1]==="/")switch(s[s.length-1][0]){case"number-style":case"date-style":case"time-style":c+=n.slice(o,b.index);break}else o=b.index+b[0].length;break;case"named-range":a=Zt(b[0],!1),j=Hg(a["cell-range-address"]);var Z={Name:a.name,Ref:j[0]+"!"+j[1]};W&&(Z.Sheet=d.length),E.Names.push(Z);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(s[s.length-1][0])>-1)break;if(b[1]==="/"&&(!v||!v["string-value"])){var ae=iV(n.slice(T,b.index));y=(y.length>0?y+`
`:"")+ae[0]}else Zt(b[0],!1),T=b.index+b[0].length;break;case"s":break;case"database-range":if(b[1]==="/")break;try{j=Hg(Zt(b[0])["target-range-address"]),h[j[0]]["!autofilter"]={ref:j[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(b[1]!=="/"){if(A=Zt(b[0],!1),!A.href)break;A.Target=Rr(A.href),delete A.href,A.Target.charAt(0)=="#"&&A.Target.indexOf(".")>-1?(j=Hg(A.Target.slice(1)),A.Target="#"+j[0]+"!"+j[1]):A.Target.match(/^\.\.[\\\/]/)&&(A.Target=A.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(b[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(e.WTF)throw new Error(b)}}var re={Sheets:h,SheetNames:d,Workbook:E};return e.bookSheets&&delete re.Sheets,re}function j4(r,t){t=t||{},pa(r,"META-INF/manifest.xml")&&_D(kn(r,"META-INF/manifest.xml"),t);var e=Ks(r,"content.xml");if(!e)throw new Error("Missing content.xml in ODS / UOF file");var n=iS(Wr(e),t);return pa(r,"meta.xml")&&(n.Props=y8(kn(r,"meta.xml"))),n}function I4(r,t){return iS(r,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function cx(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function M1(r){return typeof TextDecoder<"u"?new TextDecoder().decode(r):Wr($l(r))}function j1(r){var t=r.reduce(function(s,i){return s+i.length},0),e=new Uint8Array(t),n=0;return r.forEach(function(s){e.set(s,n),n+=s.length}),e}function D4(r){return r-=r>>1&1431655765,r=(r&858993459)+(r>>2&858993459),(r+(r>>4)&252645135)*16843009>>>24}function oV(r,t){for(var e=(r[t+15]&127)<<7|r[t+14]>>1,n=r[t+14]&1,s=t+13;s>=t;--s)n=n*256+r[s];return(r[t+15]&128?-n:n)*Math.pow(10,e-6176)}function Jf(r,t){var e=t?t[0]:0,n=r[e]&127;e:if(r[e++]>=128&&(n|=(r[e]&127)<<7,r[e++]<128||(n|=(r[e]&127)<<14,r[e++]<128)||(n|=(r[e]&127)<<21,r[e++]<128)||(n+=(r[e]&127)*Math.pow(2,28),++e,r[e++]<128)||(n+=(r[e]&127)*Math.pow(2,35),++e,r[e++]<128)||(n+=(r[e]&127)*Math.pow(2,42),++e,r[e++]<128)))break e;return t&&(t[0]=e),n}function Fn(r){var t=0,e=r[t]&127;e:if(r[t++]>=128){if(e|=(r[t]&127)<<7,r[t++]<128||(e|=(r[t]&127)<<14,r[t++]<128)||(e|=(r[t]&127)<<21,r[t++]<128))break e;e|=(r[t]&127)<<28}return e}function us(r){for(var t=[],e=[0];e[0]<r.length;){var n=e[0],s=Jf(r,e),i=s&7;s=Math.floor(s/8);var a=0,l;if(s==0)break;switch(i){case 0:{for(var c=e[0];r[e[0]++]>=128;);l=r.slice(c,e[0])}break;case 5:a=4,l=r.slice(e[0],e[0]+a),e[0]+=a;break;case 1:a=8,l=r.slice(e[0],e[0]+a),e[0]+=a;break;case 2:a=Jf(r,e),l=r.slice(e[0],e[0]+a),e[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(s," at offset ").concat(n))}var o={data:l,type:i};t[s]==null?t[s]=[o]:t[s].push(o)}return t}function ux(r,t){return(r==null?void 0:r.map(function(e){return t(e.data)}))||[]}function lV(r){for(var t,e=[],n=[0];n[0]<r.length;){var s=Jf(r,n),i=us(r.slice(n[0],n[0]+s));n[0]+=s;var a={id:Fn(i[1][0].data),messages:[]};i[2].forEach(function(l){var c=us(l.data),o=Fn(c[3][0].data);a.messages.push({meta:c,data:r.slice(n[0],n[0]+o)}),n[0]+=o}),(t=i[3])!=null&&t[0]&&(a.merge=Fn(i[3][0].data)>>>0>0),e.push(a)}return e}function cV(r,t){if(r!=0)throw new Error("Unexpected Snappy chunk type ".concat(r));for(var e=[0],n=Jf(t,e),s=[];e[0]<t.length;){var i=t[e[0]]&3;if(i==0){var a=t[e[0]++]>>2;if(a<60)++a;else{var l=a-59;a=t[e[0]],l>1&&(a|=t[e[0]+1]<<8),l>2&&(a|=t[e[0]+2]<<16),l>3&&(a|=t[e[0]+3]<<24),a>>>=0,a++,e[0]+=l}s.push(t.slice(e[0],e[0]+a)),e[0]+=a;continue}else{var c=0,o=0;if(i==1?(o=(t[e[0]]>>2&7)+4,c=(t[e[0]++]&224)<<3,c|=t[e[0]++]):(o=(t[e[0]++]>>2)+1,i==2?(c=t[e[0]]|t[e[0]+1]<<8,e[0]+=2):(c=(t[e[0]]|t[e[0]+1]<<8|t[e[0]+2]<<16|t[e[0]+3]<<24)>>>0,e[0]+=4)),s=[j1(s)],c==0)throw new Error("Invalid offset 0");if(c>s[0].length)throw new Error("Invalid offset beyond length");if(o>=c)for(s.push(s[0].slice(-c)),o-=c;o>=s[s.length-1].length;)s.push(s[s.length-1]),o-=s[s.length-1].length;s.push(s[0].slice(-c,-c+o))}}var u=j1(s);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function uV(r){for(var t=[],e=0;e<r.length;){var n=r[e++],s=r[e]|r[e+1]<<8|r[e+2]<<16;e+=3,t.push(cV(n,r.slice(e,e+s))),e+=s}if(e!==r.length)throw new Error("data is not a valid framed stream!");return j1(t)}function fV(r,t,e,n){var s=cx(r),i=s.getUint32(4,!0),a=(n>1?12:8)+D4(i&(n>1?3470:398))*4,l=-1,c=-1,o=NaN,u=new Date(2001,0,1);i&512&&(l=s.getUint32(a,!0),a+=4),a+=D4(i&(n>1?12288:4096))*4,i&16&&(c=s.getUint32(a,!0),a+=4),i&32&&(o=s.getFloat64(a,!0),a+=8),i&64&&(u.setTime(u.getTime()+s.getFloat64(a,!0)*1e3),a+=8);var p;switch(r[2]){case 0:break;case 2:p={t:"n",v:o};break;case 3:p={t:"s",v:t[c]};break;case 5:p={t:"d",v:u};break;case 6:p={t:"b",v:o>0};break;case 7:p={t:"n",v:o/86400};break;case 8:p={t:"e",v:0};break;case 9:if(l>-1)p={t:"s",v:e[l]};else if(c>-1)p={t:"s",v:t[c]};else if(!isNaN(o))p={t:"n",v:o};else throw new Error("Unsupported cell type ".concat(r.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(r.slice(0,4)))}return p}function hV(r,t,e){var n=cx(r),s=n.getUint32(8,!0),i=12,a=-1,l=-1,c=NaN,o=NaN,u=new Date(2001,0,1);s&1&&(c=oV(r,i),i+=16),s&2&&(o=n.getFloat64(i,!0),i+=8),s&4&&(u.setTime(u.getTime()+n.getFloat64(i,!0)*1e3),i+=8),s&8&&(l=n.getUint32(i,!0),i+=4),s&16&&(a=n.getUint32(i,!0),i+=4);var p;switch(r[1]){case 0:break;case 2:p={t:"n",v:c};break;case 3:p={t:"s",v:t[l]};break;case 5:p={t:"d",v:u};break;case 6:p={t:"b",v:o>0};break;case 7:p={t:"n",v:o/86400};break;case 8:p={t:"e",v:0};break;case 9:if(a>-1)p={t:"s",v:e[a]};else throw new Error("Unsupported cell type ".concat(r[1]," : ").concat(s&31," : ").concat(r.slice(0,4)));break;case 10:p={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(r[1]," : ").concat(s&31," : ").concat(r.slice(0,4)))}return p}function dV(r,t,e){switch(r[0]){case 0:case 1:case 2:case 3:return fV(r,t,e,r[0]);case 5:return hV(r,t,e);default:throw new Error("Unsupported payload version ".concat(r[0]))}}function Vo(r){var t=us(r);return Jf(t[1][0].data)}function O4(r,t){var e=us(t.data),n=Fn(e[1][0].data),s=e[3],i=[];return(s||[]).forEach(function(a){var l=us(a.data),c=Fn(l[1][0].data)>>>0;switch(n){case 1:i[c]=M1(l[3][0].data);break;case 8:{var o=r[Vo(l[9][0].data)][0],u=us(o.data),p=r[Vo(u[1][0].data)][0],h=Fn(p.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var d=us(p.data);i[c]=d[3].map(function(x){return M1(x.data)}).join("")}break}}),i}function pV(r,t){var e,n,s,i,a,l,c,o,u,p,h,d,x,b,g=us(r),v=Fn(g[1][0].data)>>>0,y=Fn(g[2][0].data)>>>0,T=((n=(e=g[8])==null?void 0:e[0])==null?void 0:n.data)&&Fn(g[8][0].data)>0||!1,R,P;if((i=(s=g[7])==null?void 0:s[0])!=null&&i.data&&t!=0)R=(l=(a=g[7])==null?void 0:a[0])==null?void 0:l.data,P=(o=(c=g[6])==null?void 0:c[0])==null?void 0:o.data;else if((p=(u=g[4])==null?void 0:u[0])!=null&&p.data&&t!=1)R=(d=(h=g[4])==null?void 0:h[0])==null?void 0:d.data,P=(b=(x=g[3])==null?void 0:x[0])==null?void 0:b.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var H=T?4:1,L=cx(R),I=[],O=0;O<R.length/2;++O){var F=L.getUint16(O*2,!0);F<65535&&I.push([O,F])}if(I.length!=y)throw"Expected ".concat(y," cells, found ").concat(I.length);var q=[];for(O=0;O<I.length-1;++O)q[I[O][0]]=P.subarray(I[O][1]*H,I[O+1][1]*H);return I.length>=1&&(q[I[I.length-1][0]]=P.subarray(I[I.length-1][1]*H)),{R:v,cells:q}}function mV(r,t){var e,n=us(t.data),s=(e=n==null?void 0:n[7])!=null&&e[0]?Fn(n[7][0].data)>>>0>0?1:0:-1,i=ux(n[5],function(a){return pV(a,s)});return{nrows:Fn(n[4][0].data)>>>0,data:i.reduce(function(a,l){return a[l.R]||(a[l.R]=[]),l.cells.forEach(function(c,o){if(a[l.R][o])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(o));a[l.R][o]=c}),a},[])}}function gV(r,t,e){var n,s=us(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(Fn(s[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(s[6][0].data));if(i.e.c=(Fn(s[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(s[7][0].data));e["!ref"]=Nr(i);var a=us(s[4][0].data),l=O4(r,r[Vo(a[4][0].data)][0]),c=(n=a[17])!=null&&n[0]?O4(r,r[Vo(a[17][0].data)][0]):[],o=us(a[3][0].data),u=0;o[1].forEach(function(p){var h=us(p.data),d=r[Vo(h[2][0].data)][0],x=Fn(d.meta[1][0].data);if(x!=6002)throw new Error("6001 unexpected reference to ".concat(x));var b=mV(r,d);b.data.forEach(function(g,v){g.forEach(function(y,T){var R=sr({r:u+v,c:T}),P=dV(y,l,c);P&&(e[R]=P)})}),u+=b.nrows})}function bV(r,t){var e=us(t.data),n={"!ref":"A1"},s=r[Vo(e[2][0].data)],i=Fn(s[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return gV(r,s[0],n),n}function xV(r,t){var e,n=us(t.data),s={name:(e=n[1])!=null&&e[0]?M1(n[1][0].data):"",sheets:[]},i=ux(n[2],Vo);return i.forEach(function(a){r[a].forEach(function(l){var c=Fn(l.meta[1][0].data);c==6e3&&s.sheets.push(bV(r,l))})}),s}function yV(r,t){var e=dx(),n=us(t.data),s=ux(n[1],Vo);if(s.forEach(function(i){r[i].forEach(function(a){var l=Fn(a.meta[1][0].data);if(l==2){var c=xV(r,a);c.sheets.forEach(function(o,u){px(e,o,u==0?c.name:c.name+"_"+u,!0)})}})}),e.SheetNames.length==0)throw new Error("Empty NUMBERS file");return e}function qg(r){var t,e,n,s,i={},a=[];if(r.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),r.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var o;try{o=uV(c.content)}catch(p){return console.log("?? "+c.content.length+" "+(p.message||p))}var u;try{u=lV(o)}catch(p){return console.log("## "+(p.message||p))}u.forEach(function(p){i[p.id]=p.messages,a.push(p.id)})}}),!a.length)throw new Error("File has no messages");var l=((s=(n=(e=(t=i==null?void 0:i[1])==null?void 0:t[0])==null?void 0:e.meta)==null?void 0:n[1])==null?void 0:s[0].data)&&Fn(i[1][0].meta[1][0].data)==1&&i[1][0];if(l||a.forEach(function(c){i[c].forEach(function(o){var u=Fn(o.meta[1][0].data)>>>0;if(u==1)if(!l)l=o;else throw new Error("Document has multiple roots")})}),!l)throw new Error("Cannot find Document root");return yV(i,l)}function vV(r){return function(e){for(var n=0;n!=r.length;++n){var s=r[n];e[s[0]]===void 0&&(e[s[0]]=s[1]),s[2]==="n"&&(e[s[0]]=Number(e[s[0]]))}}}function fx(r){vV([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(r)}function wV(r){return Oc.WS.indexOf(r)>-1?"sheet":r==Oc.CS?"chart":r==Oc.DS?"dialog":r==Oc.MS?"macro":r&&r.length?r:"sheet"}function _V(r,t){if(!r)return 0;try{r=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,r["!id"][n.id].Target,wV(r["!id"][n.id].Type)]})}catch{return null}return!r||r.length===0?null:r}function SV(r,t,e,n,s,i,a,l,c,o,u,p){try{i[n]=Ef(Ks(r,e,!0),t);var h=kn(r,t),d;switch(l){case"sheet":d=NU(h,t,s,c,i[n],o,u,p);break;case"chart":if(d=RU(h,t,s,c,i[n],o,u,p),!d||!d["!drawel"])break;var x=df(d["!drawel"].Target,t),b=E1(x),g=CP(Ks(r,x,!0),Ef(Ks(r,b,!0),x)),v=df(g,x),y=E1(v);d=hU(Ks(r,v,!0),v,c,Ef(Ks(r,y,!0),v),o,d);break;case"macro":d=MU(h,t,s,c,i[n],o,u,p);break;case"dialog":d=jU(h,t,s,c,i[n],o,u,p);break;default:throw new Error("Unrecognized sheet type "+l)}a[n]=d;var T=[];i&&i[n]&&hi(i[n]).forEach(function(R){var P="";if(i[n][R].Type==Oc.CMNT){P=df(i[n][R].Target,t);var H=FU(kn(r,P,!0),P,c);if(!H||!H.length)return;v4(d,H,!1)}i[n][R].Type==Oc.TCMNT&&(P=df(i[n][R].Target,t),T=T.concat(RP(kn(r,P,!0),c)))}),T&&T.length&&v4(d,T,!0,c.people||[])}catch(R){if(c.WTF)throw R}}function ha(r){return r.charAt(0)=="/"?r.slice(1):r}function TV(r,t){if($6(),t=t||{},fx(t),pa(r,"META-INF/manifest.xml")||pa(r,"objectdata.xml"))return j4(r,t);if(pa(r,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof qg<"u"){if(r.FileIndex)return qg(r);var e=Cr.utils.cfb_new();return W_(r).forEach(function(U){kI(e,U,TI(r,U))}),qg(e)}throw new Error("Unsupported NUMBERS file")}if(!pa(r,"[Content_Types].xml"))throw pa(r,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):pa(r,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=W_(r),s=vD(Ks(r,"[Content_Types].xml")),i=!1,a,l;if(s.workbooks.length===0&&(l="xl/workbook.xml",kn(r,l,!0)&&s.workbooks.push(l)),s.workbooks.length===0){if(l="xl/workbook.bin",!kn(r,l,!0))throw new Error("Could not find workbook");s.workbooks.push(l),i=!0}s.workbooks[0].slice(-3)=="bin"&&(i=!0);var c={},o={};if(!t.bookSheets&&!t.bookProps){if(Nf=[],s.sst)try{Nf=OU(kn(r,ha(s.sst)),s.sst,t)}catch(U){if(t.WTF)throw U}t.cellStyles&&s.themes.length&&(c=DU(Ks(r,s.themes[0].replace(/^\//,""),!0)||"",s.themes[0],t)),s.style&&(o=IU(kn(r,ha(s.style)),s.style,c,t))}s.links.map(function(U){try{var C=Ef(Ks(r,E1(ha(U))),U);return LU(kn(r,ha(U)),C,U,t)}catch{}});var u=CU(kn(r,ha(s.workbooks[0])),s.workbooks[0],t),p={},h="";s.coreprops.length&&(h=kn(r,ha(s.coreprops[0]),!0),h&&(p=y8(h)),s.extprops.length!==0&&(h=kn(r,ha(s.extprops[0]),!0),h&&kD(h,p,t)));var d={};(!t.bookSheets||t.bookProps)&&s.custprops.length!==0&&(h=Ks(r,ha(s.custprops[0]),!0),h&&(d=AD(h,t)));var x={};if((t.bookSheets||t.bookProps)&&(u.Sheets?a=u.Sheets.map(function(C){return C.name}):p.Worksheets&&p.SheetNames.length>0&&(a=p.SheetNames),t.bookProps&&(x.Props=p,x.Custprops=d),t.bookSheets&&typeof a<"u"&&(x.SheetNames=a),t.bookSheets?x.SheetNames:t.bookProps))return x;a={};var b={};t.bookDeps&&s.calcchain&&(b=PU(kn(r,ha(s.calcchain)),s.calcchain));var g=0,v={},y,T;{var R=u.Sheets;p.Worksheets=R.length,p.SheetNames=[];for(var P=0;P!=R.length;++P)p.SheetNames[P]=R[P].name}var H=i?"bin":"xml",L=s.workbooks[0].lastIndexOf("/"),I=(s.workbooks[0].slice(0,L+1)+"_rels/"+s.workbooks[0].slice(L+1)+".rels").replace(/^\//,"");pa(r,I)||(I="xl/_rels/workbook."+H+".rels");var O=Ef(Ks(r,I,!0),I.replace(/_rels.*/,"s5s"));(s.metadata||[]).length>=1&&(t.xlmeta=BU(kn(r,ha(s.metadata[0])),s.metadata[0],t)),(s.people||[]).length>=1&&(t.people=MP(kn(r,ha(s.people[0])),t)),O&&(O=_V(O,u.Sheets));var F=kn(r,"xl/worksheets/sheet.xml",!0)?1:0;e:for(g=0;g!=p.Worksheets;++g){var q="sheet";if(O&&O[g]?(y="xl/"+O[g][1].replace(/[\/]?xl\//,""),pa(r,y)||(y=O[g][1]),pa(r,y)||(y=I.replace(/_rels\/.*$/,"")+O[g][1]),q=O[g][2]):(y="xl/worksheets/sheet"+(g+1-F)+"."+H,y=y.replace(/sheet0\./,"sheet.")),T=y.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(g!=t.sheets)continue e;break;case"string":if(p.SheetNames[g].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var z=!1,N=0;N!=t.sheets.length;++N)typeof t.sheets[N]=="number"&&t.sheets[N]==g&&(z=1),typeof t.sheets[N]=="string"&&t.sheets[N].toLowerCase()==p.SheetNames[g].toLowerCase()&&(z=1);if(!z)continue e}}SV(r,y,T,p.SheetNames[g],g,v,a,q,t,u,c,o)}return x={Directory:s,Workbook:u,Props:p,Custprops:d,Deps:b,Sheets:a,SheetNames:p.SheetNames,Strings:Nf,Styles:o,Themes:c,SSF:Jn(ur)},t&&t.bookFiles&&(r.files?(x.keys=n,x.files=r.files):(x.keys=[],x.files={},r.FullPaths.forEach(function(U,C){U=U.replace(/^Root Entry[\/]/,""),x.keys.push(U),x.files[U]=r.FileIndex[C]}))),t&&t.bookVBA&&(s.vba.length>0?x.vbaraw=kn(r,ha(s.vba[0]),!0):s.defaults&&s.defaults.bin===OP&&(x.vbaraw=kn(r,"xl/vbaProject.bin",!0))),x}function kV(r,t){var e=t||{},n="Workbook",s=Cr.find(r,n);try{if(n="/!DataSpaces/Version",s=Cr.find(r,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(bF(s.content),n="/!DataSpaces/DataSpaceMap",s=Cr.find(r,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=yF(s.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",s=Cr.find(r,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);var a=vF(s.content);if(a.length!=1||a[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",s=Cr.find(r,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);_F(s.content)}catch{}if(n="/EncryptionInfo",s=Cr.find(r,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);var l=SF(s.content);if(n="/EncryptedPackage",s=Cr.find(r,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],s.content,e.password||"",e);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],s.content,e.password||"",e);throw new Error("File is password-protected")}function hx(r,t){var e="";switch((t||{}).type||"base64"){case"buffer":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];case"base64":e=ea(r.slice(0,12));break;case"binary":e=r;break;case"array":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3),e.charCodeAt(4),e.charCodeAt(5),e.charCodeAt(6),e.charCodeAt(7)]}function EV(r,t){return Cr.find(r,"EncryptedPackage")?kV(r,t):nS(r,t)}function AV(r,t){var e,n=r,s=t||{};return s.type||(s.type=Er&&Buffer.isBuffer(r)?"buffer":"base64"),e=K6(n,s),TV(e,s)}function oS(r,t){var e=0;e:for(;e<r.length;)switch(r.charCodeAt(e)){case 10:case 13:case 32:++e;break;case 60:return N1(r.slice(e),t);default:break e}return Kf.to_workbook(r,t)}function CV(r,t){var e="",n=hx(r,t);switch(t.type){case"base64":e=ea(r);break;case"binary":e=r;break;case"buffer":e=r.toString("binary");break;case"array":e=Bl(r);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(e=Wr(e)),t.type="binary",oS(e,t)}function NV(r,t){var e=r;return t.type=="base64"&&(e=ea(e)),e=Gf.utils.decode(1200,e.slice(2),"str"),t.type="binary",oS(e,t)}function RV(r){return r.match(/[^\x00-\x7F]/)?pf(r):r}function Gg(r,t,e,n){return n?(e.type="string",Kf.to_workbook(r,e)):Kf.to_workbook(t,e)}function I1(r,t){j6();var e=t||{};if(typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer)return I1(new Uint8Array(r),(e=Jn(e),e.type="array",e));typeof Uint8Array<"u"&&r instanceof Uint8Array&&!e.type&&(e.type=typeof Deno<"u"?"buffer":"array");var n=r,s=[0,0,0,0],i=!1;if(e.cellStyles&&(e.cellNF=!0,e.sheetStubs=!0),$c={},e.dateNF&&($c.dateNF=e.dateNF),e.type||(e.type=Er&&Buffer.isBuffer(r)?"buffer":"base64"),e.type=="file"&&(e.type=Er?"buffer":"binary",n=bI(r),typeof Uint8Array<"u"&&!Er&&(e.type="array")),e.type=="string"&&(i=!0,e.type="binary",e.codepage=65001,n=RV(r)),e.type=="array"&&typeof Uint8Array<"u"&&r instanceof Uint8Array&&typeof ArrayBuffer<"u"){var a=new ArrayBuffer(3),l=new Uint8Array(a);if(l.foo="bar",!l.foo)return e=Jn(e),e.type="array",I1($b(n),e)}switch((s=hx(n,e))[0]){case 208:if(s[1]===207&&s[2]===17&&s[3]===224&&s[4]===161&&s[5]===177&&s[6]===26&&s[7]===225)return EV(Cr.read(n,e),e);break;case 9:if(s[1]<=8)return nS(n,e);break;case 60:return N1(n,e);case 73:if(s[1]===73&&s[2]===42&&s[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(s[1]===68)return sF(n,e);break;case 84:if(s[1]===65&&s[2]===66&&s[3]===76)return rF.to_workbook(n,e);break;case 80:return s[1]===75&&s[2]<9&&s[3]<9?AV(n,e):Gg(r,n,e,i);case 239:return s[3]===60?N1(n,e):Gg(r,n,e,i);case 255:if(s[1]===254)return NV(n,e);if(s[1]===0&&s[2]===2&&s[3]===0)return Cf.to_workbook(n,e);break;case 0:if(s[1]===0&&(s[2]>=2&&s[3]===0||s[2]===0&&(s[3]===8||s[3]===9)))return Cf.to_workbook(n,e);break;case 3:case 131:case 139:case 140:return y4.to_workbook(n,e);case 123:if(s[1]===92&&s[2]===114&&s[3]===116)return OF.to_workbook(n,e);break;case 10:case 13:case 32:return CV(n,e);case 137:if(s[1]===80&&s[2]===78&&s[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return eF.indexOf(s[0])>-1&&s[2]<=12&&s[3]<=31?y4.to_workbook(n,e):Gg(r,n,e,i)}function MV(r,t,e,n,s,i,a,l){var c=es(e),o=l.defval,u=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),p=!0,h=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:e,enumerable:!1})}catch{h.__rowNum__=e}else h.__rowNum__=e;if(!a||r[e])for(var d=t.s.c;d<=t.e.c;++d){var x=a?r[e][d]:r[n[d]+c];if(x===void 0||x.t===void 0){if(o===void 0)continue;i[d]!=null&&(h[i[d]]=o);continue}var b=x.v;switch(x.t){case"z":if(b==null)break;continue;case"e":b=b==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+x.t)}if(i[d]!=null){if(b==null)if(x.t=="e"&&b===null)h[i[d]]=null;else if(o!==void 0)h[i[d]]=o;else if(u&&b===null)h[i[d]]=null;else continue;else h[i[d]]=u&&(x.t!=="n"||x.t==="n"&&l.rawNumbers!==!1)?b:Gi(x,b,l);b!=null&&(p=!1)}}return{row:h,isempty:p}}function D1(r,t){if(r==null||r["!ref"]==null)return[];var e={t:"n",v:0},n=0,s=1,i=[],a=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},o=t||{},u=o.range!=null?o.range:r["!ref"];switch(o.header===1?n=1:o.header==="A"?n=2:Array.isArray(o.header)?n=3:o.header==null&&(n=0),typeof u){case"string":c=un(u);break;case"number":c=un(r["!ref"]),c.s.r=u;break;default:c=u}n>0&&(s=0);var p=es(c.s.r),h=[],d=[],x=0,b=0,g=Array.isArray(r),v=c.s.r,y=0,T={};g&&!r[v]&&(r[v]=[]);var R=o.skipHidden&&r["!cols"]||[],P=o.skipHidden&&r["!rows"]||[];for(y=c.s.c;y<=c.e.c;++y)if(!(R[y]||{}).hidden)switch(h[y]=Dn(y),e=g?r[v][y]:r[h[y]+p],n){case 1:i[y]=y-c.s.c;break;case 2:i[y]=h[y];break;case 3:i[y]=o.header[y-c.s.c];break;default:if(e==null&&(e={w:"__EMPTY",t:"s"}),l=a=Gi(e,null,o),b=T[a]||0,!b)T[a]=1;else{do l=a+"_"+b++;while(T[l]);T[a]=b,T[l]=1}i[y]=l}for(v=c.s.r+s;v<=c.e.r;++v)if(!(P[v]||{}).hidden){var H=MV(r,c,v,h,n,i,g,o);(H.isempty===!1||(n===1?o.blankrows!==!1:o.blankrows))&&(d[x++]=H.row)}return d.length=x,d}var F4=/"/g;function jV(r,t,e,n,s,i,a,l){for(var c=!0,o=[],u="",p=es(e),h=t.s.c;h<=t.e.c;++h)if(n[h]){var d=l.dense?(r[e]||[])[h]:r[n[h]+p];if(d==null)u="";else if(d.v!=null){c=!1,u=""+(l.rawNumbers&&d.t=="n"?d.v:Gi(d,null,l));for(var x=0,b=0;x!==u.length;++x)if((b=u.charCodeAt(x))===s||b===i||b===34||l.forceQuotes){u='"'+u.replace(F4,'""')+'"';break}u=="ID"&&(u='"ID"')}else d.f!=null&&!d.F?(c=!1,u="="+d.f,u.indexOf(",")>=0&&(u='"'+u.replace(F4,'""')+'"')):u="";o.push(u)}return l.blankrows===!1&&c?null:o.join(a)}function lS(r,t){var e=[],n=t??{};if(r==null||r["!ref"]==null)return"";var s=un(r["!ref"]),i=n.FS!==void 0?n.FS:",",a=i.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),o=new RegExp((i=="|"?"\\|":i)+"+$"),u="",p=[];n.dense=Array.isArray(r);for(var h=n.skipHidden&&r["!cols"]||[],d=n.skipHidden&&r["!rows"]||[],x=s.s.c;x<=s.e.c;++x)(h[x]||{}).hidden||(p[x]=Dn(x));for(var b=0,g=s.s.r;g<=s.e.r;++g)(d[g]||{}).hidden||(u=jV(r,s,g,p,a,c,i,n),u!=null&&(n.strip&&(u=u.replace(o,"")),(u||n.blankrows!==!1)&&e.push((b++?l:"")+u)));return delete n.dense,e.join("")}function IV(r,t){t||(t={}),t.FS="	",t.RS=`
`;var e=lS(r,t);return e}function DV(r){var t="",e,n="";if(r==null||r["!ref"]==null)return[];var s=un(r["!ref"]),i="",a=[],l,c=[],o=Array.isArray(r);for(l=s.s.c;l<=s.e.c;++l)a[l]=Dn(l);for(var u=s.s.r;u<=s.e.r;++u)for(i=es(u),l=s.s.c;l<=s.e.c;++l)if(t=a[l]+i,e=o?(r[u]||[])[l]:r[t],n="",e!==void 0){if(e.F!=null){if(t=e.F,!e.f)continue;n=e.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(e.f!=null)n=e.f;else{if(e.t=="z")continue;if(e.t=="n"&&e.v!=null)n=""+e.v;else if(e.t=="b")n=e.v?"TRUE":"FALSE";else if(e.w!==void 0)n="'"+e.w;else{if(e.v===void 0)continue;e.t=="s"?n="'"+e.v:n=""+e.v}}c[c.length]=t+"="+n}return c}function cS(r,t,e){var n=e||{},s=+!n.skipHeader,i=r||{},a=0,l=0;if(i&&n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var c=typeof n.origin=="string"?_s(n.origin):n.origin;a=c.r,l=c.c}var o,u={s:{c:0,r:0},e:{c:l,r:a+t.length-1+s}};if(i["!ref"]){var p=un(i["!ref"]);u.e.c=Math.max(u.e.c,p.e.c),u.e.r=Math.max(u.e.r,p.e.r),a==-1&&(a=p.e.r+1,u.e.r=a+t.length-1+s)}else a==-1&&(a=0,u.e.r=t.length-1+s);var h=n.header||[],d=0;t.forEach(function(b,g){hi(b).forEach(function(v){(d=h.indexOf(v))==-1&&(h[d=h.length]=v);var y=b[v],T="z",R="",P=sr({c:l+d,r:a+g+s});o=eh(i,P),y&&typeof y=="object"&&!(y instanceof Date)?i[P]=y:(typeof y=="number"?T="n":typeof y=="boolean"?T="b":typeof y=="string"?T="s":y instanceof Date?(T="d",n.cellDates||(T="n",y=Ts(y)),R=n.dateNF||ur[14]):y===null&&n.nullError&&(T="e",y=0),o?(o.t=T,o.v=y,delete o.w,delete o.R,R&&(o.z=R)):i[P]=o={t:T,v:y},R&&(o.z=R))})}),u.e.c=Math.max(u.e.c,l+h.length-1);var x=es(a);if(s)for(d=0;d<h.length;++d)i[Dn(d+l)+x]={t:"s",v:h[d]};return i["!ref"]=Nr(u),i}function OV(r,t){return cS(null,r,t)}function eh(r,t,e){if(typeof t=="string"){if(Array.isArray(r)){var n=_s(t);return r[n.r]||(r[n.r]=[]),r[n.r][n.c]||(r[n.r][n.c]={t:"z"})}return r[t]||(r[t]={t:"z"})}return typeof t!="number"?eh(r,sr(t)):eh(r,sr({r:t,c:e||0}))}function FV(r,t){if(typeof t=="number"){if(t>=0&&r.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var e=r.SheetNames.indexOf(t);if(e>-1)return e;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function dx(){return{SheetNames:[],Sheets:{}}}function px(r,t,e,n){var s=1;if(!e)for(;s<=65535&&r.SheetNames.indexOf(e="Sheet"+s)!=-1;++s,e=void 0);if(!e||r.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&r.SheetNames.indexOf(e)>=0){var i=e.match(/(^.*?)(\d+)$/);s=i&&+i[2]||0;var a=i&&i[1]||e;for(++s;s<=65535&&r.SheetNames.indexOf(e=a+s)!=-1;++s);}if(vU(e),r.SheetNames.indexOf(e)>=0)throw new Error("Worksheet with name |"+e+"| already exists!");return r.SheetNames.push(e),r.Sheets[e]=t,e}function PV(r,t,e){r.Workbook||(r.Workbook={}),r.Workbook.Sheets||(r.Workbook.Sheets=[]);var n=FV(r,t);switch(r.Workbook.Sheets[n]||(r.Workbook.Sheets[n]={}),e){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+e)}r.Workbook.Sheets[n].Hidden=e}function LV(r,t){return r.z=t,r}function uS(r,t,e){return t?(r.l={Target:t},e&&(r.l.Tooltip=e)):delete r.l,r}function BV(r,t,e){return uS(r,"#"+t,e)}function UV(r,t,e){r.c||(r.c=[]),r.c.push({t,a:e||"SheetJS"})}function VV(r,t,e,n){for(var s=typeof t!="string"?t:un(t),i=typeof t=="string"?t:Nr(t),a=s.s.r;a<=s.e.r;++a)for(var l=s.s.c;l<=s.e.c;++l){var c=eh(r,a,l);c.t="n",c.F=i,delete c.v,a==s.s.r&&l==s.s.c&&(c.f=e,n&&(c.D=!0))}return r}var zV={encode_col:Dn,encode_row:es,encode_cell:sr,encode_range:Nr,decode_col:Jb,decode_row:Zb,split_cell:JI,decode_cell:_s,decode_range:du,format_cell:Gi,sheet_add_aoa:p8,sheet_add_json:cS,sheet_add_dom:sS,aoa_to_sheet:pu,json_to_sheet:OV,table_to_sheet:aS,table_to_book:sV,sheet_to_csv:lS,sheet_to_txt:IV,sheet_to_json:D1,sheet_to_html:nV,sheet_to_formulae:DV,sheet_to_row_object_array:D1,sheet_get_cell:eh,book_new:dx,book_append_sheet:px,book_set_sheet_visibility:PV,cell_set_number_format:LV,cell_set_hyperlink:uS,cell_set_internal_link:BV,cell_add_comment:UV,sheet_set_array_formula:VV,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const fS=({onImport:r,isAdmin:t,users:e,customPaymentLabels:n={},enabledPaymentMethods:s=[]})=>{const[i,a]=_e.useState(!1),[l,c]=_e.useState({current:0,total:0,message:""}),[o,u]=_e.useState(null),[p,h]=_e.useState(""),d=()=>{const T=["","()","()","()","()","()","()","()","()","()","()","()","()","()","","","","","","","","","","","","","","",""],R=["2025-12-20","22","2","3","34.6401","135.5532","22","15","","34.6654","135.5606","2","0","0","2","2800","10","2800","0","0","0","0","0","0","0","0","DiDi","0",""],P=[T.join(","),R.join(",")].join(`\r
`),H=new Uint8Array([239,187,191]),L=new Blob([H,P],{type:"text/csv;charset=utf-8"}),I=document.createElement("a"),O=URL.createObjectURL(L);I.setAttribute("href",O),I.setAttribute("download","sample_taxi_data.csv"),document.body.appendChild(I),I.click(),document.body.removeChild(I)},x=(T,R,P)=>{let H;const L=String(T||"").trim();if(typeof T=="number"||!isNaN(Number(T))&&!L.includes("/")&&!L.includes("-")){const q=parseFloat(L);H=new Date((q-25569)*86400*1e3)}else{const q=L.match(/^(\d{4})[-\/](\d{1,2})[-\/](\d{1,2})/);if(q){const z=parseInt(q[1],10),N=parseInt(q[2],10)-1,U=parseInt(q[3],10);H=new Date(z,N,U)}else H=new Date(L.replace(/-/g,"/"))}if(isNaN(H.getTime()))return NaN;let I=parseInt(String(R||0),10),O=parseInt(String(P||0),10);if(I>=24){const q=Math.floor(I/24);H.setDate(H.getDate()+q),I=I%24}H.setHours(I,O,0,0);const F=new Date(H.getTime());return F.getFullYear()===2025&&F.getMonth()===11&&F.getDate()>=20&&console.log(":",{:T,:R,:P,:F.toLocaleString("ja-JP"),timestamp:H.getTime()}),H.getTime()},b=(T,R,P)=>{for(const[H,L]of Object.entries(R))if(L&&T.includes(L)&&P.includes(H))return H;for(const[H,L]of Object.entries(xa))if(T.includes(L)&&P.includes(H))return H;if(T.includes("DiDi")||T.includes("GO")||T.includes("Uber")){if(P.includes("DIDI"))return"DIDI";if(P.includes("GO"))return"GO";if(P.includes("UBER"))return"UBER"}return(T.includes("")||T.includes(""))&&P.includes("CARD")?"CARD":T.includes("")&&P.includes("NET")?"NET":T.includes("")&&P.includes("TICKET")?"TICKET":T.includes("")&&P.includes("E_MONEY")?"E_MONEY":(T.includes("Suica")||T.includes("")||T.includes("IC"))&&P.includes("TRANSPORT")?"TRANSPORT":(T.includes("QR")||T.includes("PayPay"))&&P.includes("QR")?"QR":"CASH"},g=async(T,R,P,H)=>new Promise((L,I)=>{const O=new FileReader;O.onload=F=>{var q;try{H==null||H(0,100,"Excel...");const z=new Uint8Array((q=F.target)==null?void 0:q.result),N=I1(z,{type:"array"}),U=N.Sheets[N.SheetNames[0]],C=zV.sheet_to_json(U,{range:0,defval:""});H==null||H(10,100,"...");const S=[];let k=0,E=0;const A=C.length;for(let j=0;j<C.length;j++){const B=C[j],D=10+Math.floor(j/A*80);H==null||H(D,100,`${j+1}/${A} ...`);const Q=x(B.,B["()"],B["()"]);if(isNaN(Q)){console.warn(":",B.,B["()"],B["()"]);continue}const K=new Date(Q);K.getFullYear()===2025&&K.getMonth()===11&&K.getDate()>=20&&console.log("12/20:",{:B.,:B["()"],:B["()"],:K.toLocaleString("ja-JP"),timestamp:Q});const ee=parseInt(String(B.||0).replace(/,/g,""));if(!ee||ee<=0)continue;const W=String(B.||""),te=b(W,R,P),G=parseInt(String(B.||0).replace(/,/g,"")),V=String(B.||"");let Z="FLOW";V.includes("")?Z="APP":V.includes("")?Z="WAIT":(V.includes("")||V.includes(""))&&(Z="APP");const ae=parseInt(String(B["()"]||0)),re=parseInt(String(B["()"]||0)),oe=parseInt(String(B.||0).replace(/,/g,"")),he=parseInt(String(B.||0).replace(/,/g,"")),Se=oe+he,ge=he,ne={id:Math.random().toString(36).substr(2,9),timestamp:Q,amount:ee,sales:ee,toll:Se,returnToll:ge,paymentMethod:te,rideType:Z,nonCashAmount:G,pickupLocation:String(B["()"]||""),dropoffLocation:String(B["()"]||""),pickupCoords:B["()"]&&B["()"]?`${B["()"]},${B["()"]}`:"",dropoffCoords:B["()"]&&B["()"]?`${B["()"]},${B["()"]}`:"",isBadCustomer:!1,remarks:W,passengersMale:ae,passengersFemale:re};S.push(ne)}H==null||H(100,100,""),L({records:S,addedCount:0,replaceCount:0})}catch(z){I(z)}},O.onerror=I,O.readAsArrayBuffer(T)}),v=(T,R,P,H,L)=>{var C;L==null||L(0,100,"CSV...");const I=T.split(/\r\n|\n/).filter(S=>S.trim()!=="");if(I.length===0)return{records:[],success:!1};const O=I[0];let F=",";O.indexOf("	")!==-1&&(F="	");const q=O.split(F).map(S=>S.trim().replace(/^"|"$/g,""));if(!q.includes("")||!q.includes("")&&!q.includes(""))return{records:[],success:!1};const z=[],N=S=>{if(!S)return 0;const k=S.replace(/[",\s]/g,""),E=parseInt(k,10);return isNaN(E)?0:E},U=I.length-1;for(let S=1;S<I.length;S++){const k=Math.floor(S/U*90);L==null||L(k,100,`${S}/${U} ...`);const E=I[S].split(F).map(it=>it.trim().replace(/^"|"$/g,""));if(E.length<q.length-10)continue;const A=((C=E[q.indexOf("")])==null?void 0:C.replace(/\//g,"-"))||"",j=E[q.indexOf("()")]||"0",B=E[q.indexOf("()")]||"0",D=q.indexOf("")!==-1?q.indexOf(""):q.indexOf(""),Q=N(E[D]),K=N(E[q.indexOf("")]),ee=N(E[q.indexOf("")]),W=K+ee,te=N(E[q.indexOf("")]),G=q.indexOf("")!==-1?E[q.indexOf("")]:"",V=q.indexOf("")!==-1?E[q.indexOf("")]:"",Z=q.indexOf("()")!==-1?E[q.indexOf("()")]:"",ae=q.indexOf("()")!==-1?E[q.indexOf("()")]:"",re=q.indexOf("()")!==-1?E[q.indexOf("()")]:"",oe=q.indexOf("()")!==-1?E[q.indexOf("()")]:"",he=q.indexOf("()")!==-1?E[q.indexOf("()")]:"",Se=q.indexOf("()")!==-1?E[q.indexOf("()")]:"",ge=re&&oe?`${re},${oe}`:"",ne=he&&Se?`${he},${Se}`:"",fe=N(E[q.indexOf("()")]),pe=N(E[q.indexOf("()")]),ke=V||"",Ce=(E[q.indexOf("")]||"").includes("")||(E[q.indexOf("")]||"").includes("");let Fe="FLOW";G&&(G.includes("")||G.includes("")?Fe="DISPATCH":G.includes("")?Fe="PICKUP":G.includes("")?Fe="WAIT":Fe="FLOW");const We=b(V,P,H),$e=N(E[q.indexOf("")]);if(A&&Q>0){const[it,st,et]=A.split("-").map(Number),Ze=parseInt(j)||0,gt=parseInt(B)||0,mt=new Date(it,st-1,et,Ze,gt).getTime();z.push({id:Math.random().toString(36).substr(2,9),amount:Q,toll:W,returnToll:$e,paymentMethod:We,nonCashAmount:te,rideType:Fe,timestamp:mt,pickupLocation:Z,dropoffLocation:ae,pickupCoords:ge,dropoffCoords:ne,passengersMale:fe,passengersFemale:pe,remarks:ke,isBadCustomer:Ce})}}return L==null||L(100,100,""),{records:z,success:z.length>0}},y=async T=>{var P;const R=(P=T.target.files)==null?void 0:P[0];if(R){a(!0),c({current:0,total:100,message:"..."}),u(null);try{const H=n,L=s.length>0?s:["CASH","CARD","NET","TICKET","E_MONEY","TRANSPORT","QR","DIDI","GO","UBER","PAYPAY","LINEPAY","IC","CREDIT"],I=R.name.toLowerCase();if(I.endsWith(".xlsx")||I.endsWith(".xls")){const F=await g(R,H,L,(q,z,N)=>{c({current:q,total:z,message:N})});if(F.records.length>0){const q=t&&p?p:void 0;c({current:90,total:100,message:"..."});const z=await r(F.records,q,{mergeMode:"overwrite"},(N,U,C)=>{c({current:90+Math.floor(N/U*10),total:100,message:C})});u(z),c({current:100,total:100,message:""})}else alert(""),a(!1)}else{let F=await R.text();const q=!I.endsWith(".csv")||F.includes("");if(q){c({current:5,total:100,message:"Shift-JIS..."});const U=await R.arrayBuffer();F=new TextDecoder("shift-jis").decode(U)}const{records:z,success:N}=v(F,q,H,L,(U,C,S)=>{c({current:U,total:C,message:S})});if(N&&z.length>0){const U=t&&p?p:void 0;c({current:90,total:100,message:"..."});const C=await r(z,U,{mergeMode:"overwrite"},(S,k,E)=>{c({current:90+Math.floor(S/k*10),total:100,message:E})});u(C),c({current:100,total:100,message:""})}else alert("CSVCSV"),a(!1)}}catch(H){console.error("Import error:",H),alert(""),a(!1)}finally{setTimeout(()=>{a(!1),c({current:0,total:0,message:""}),u(null),T.target.value=""},3e3)}}};return _.jsxs("div",{className:"space-y-4",children:[o&&!i&&_.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/80 backdrop-blur-sm animate-in fade-in",children:_.jsx("div",{className:"bg-[#131C2B] rounded-3xl p-6 max-w-md w-full mx-4 border-2 border-green-500/30 shadow-2xl",children:_.jsxs("div",{className:"flex flex-col items-center gap-4",children:[_.jsx(W0,{className:"w-16 h-16 text-green-500"}),_.jsx("h3",{className:"text-2xl font-black text-white",children:""}),_.jsxs("div",{className:"w-full space-y-2",children:[_.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-700",children:[_.jsx("span",{className:"text-gray-400 font-bold",children:""}),_.jsxs("span",{className:"text-white font-black text-xl",children:[o.addedCount,""]})]}),_.jsxs("div",{className:"flex justify-between items-center py-2",children:[_.jsx("span",{className:"text-gray-400 font-bold",children:""}),_.jsxs("span",{className:"text-white font-black text-xl",children:[o.replaceCount,""]})]})]}),_.jsx("button",{onClick:()=>{u(null),a(!1),c({current:0,total:0,message:""})},className:"w-full bg-green-500 text-black py-3 rounded-2xl font-black text-lg active:scale-95 transition-all",children:""})]})})}),_.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-2xl border border-gray-800",children:[_.jsxs("div",{className:"flex items-center justify-between mb-3",children:[_.jsx("h4",{className:"text-sm font-black text-gray-400 uppercase tracking-widest",children:"CSV / Excel"}),_.jsxs("button",{onClick:d,className:"text-xs bg-blue-600/20 text-blue-400 font-black px-3 py-1.5 rounded-full border border-blue-500/20 active:scale-95 flex items-center gap-1",children:[_.jsx(q4,{className:"w-3 h-3"}),""]})]}),t&&e.length>0&&_.jsxs("div",{className:"mb-3",children:[_.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest block mb-2",children:""}),_.jsxs("select",{value:p,onChange:T=>h(T.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-xl p-2 text-white text-sm font-black outline-none focus:border-blue-500",children:[_.jsx("option",{value:"",children:""}),e.map(T=>_.jsx("option",{value:T.uid,children:T.name},T.uid))]})]}),i&&_.jsxs("div",{className:"mb-4 space-y-2",children:[_.jsx("div",{className:"w-full bg-gray-800 rounded-full h-3 overflow-hidden",children:_.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-green-500 transition-all duration-300 ease-out",style:{width:`${l.current/l.total*100}%`}})}),_.jsxs("div",{className:"flex justify-between items-center text-xs",children:[_.jsx("span",{className:"text-gray-400 font-bold",children:l.message}),_.jsxs("span",{className:"text-gray-500 font-black",children:[l.current,"%"]})]})]}),_.jsxs("label",{className:"relative block",children:[_.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",onChange:y,disabled:i,className:"hidden"}),_.jsx("div",{className:`w-full py-4 rounded-xl border-2 border-dashed transition-all flex flex-col items-center justify-center gap-2 cursor-pointer ${i?"bg-gray-800 border-gray-700 cursor-not-allowed":"bg-gray-800/50 border-blue-500/30 hover:border-blue-500/50 active:scale-95"}`,children:i?_.jsxs(_.Fragment,{children:[_.jsx(_l,{className:"w-6 h-6 text-blue-400 animate-spin"}),_.jsx("span",{className:"text-sm font-bold text-gray-400",children:l.message})]}):_.jsxs(_.Fragment,{children:[_.jsx(W4,{className:"w-6 h-6 text-blue-400"}),_.jsx("span",{className:"text-sm font-black text-white",children:"CSV / Excel"}),_.jsx("span",{className:"text-xs text-gray-500",children:"CSV: Shift-JIS / UTF-8 | Excel: .xlsx / .xls"})]})})]})]})]})},HV=({onClose:r,onImport:t,isAdmin:e,currentUid:n})=>{const[s,i]=_e.useState([]);return _e.useEffect(()=>{e&&(async()=>{try{const c=(await In($r(Pt,"public_status"))).docs.map(o=>({uid:o.id,name:o.data().name||""})).filter(o=>o.uid!==n);i(c)}catch(l){console.error("Failed to fetch users",l)}})()},[e,n]),_.jsx(ri,{onClose:r,children:_.jsxs("div",{className:"space-y-6 pb-6",children:[_.jsxs("div",{className:"flex justify-between items-center border-b border-gray-800 pb-4",children:[_.jsxs("h3",{className:"text-xl font-black text-white flex items-center gap-2",children:[_.jsx(W4,{className:"w-6 h-6 text-blue-400"})," CSV"]}),_.jsx("button",{onClick:r,className:"p-2 bg-gray-800 rounded-full text-gray-400 hover:text-white active:scale-95",children:_.jsx(ba,{className:"w-5 h-5"})})]}),_.jsx(fS,{onImport:t,isAdmin:e,users:s})]})})},$V=({stats:r,isAdmin:t,onUpdateStats:e,onImportRecords:n,onClose:s,onImpersonate:i,onNavigateToDashboard:a})=>{var Ye;const[l,c]=_e.useState("basic"),[o,u]=_e.useState(r.shimebiDay.toString()),[p,h]=_e.useState(r.businessStartHour??9),[d,x]=_e.useState(r.monthlyGoal.toLocaleString()),[b,g]=_e.useState(r.defaultDailyGoal.toLocaleString()),[v,y]=_e.useState(r.dutyDays||[]),[T,R]=_e.useState(new Date),[P,H]=_e.useState(r.enabledPaymentMethods||wf),[L,I]=_e.useState(r.customPaymentLabels||{}),[O,F]=_e.useState(r.userName||""),[q,z]=_e.useState(r.enabledRideTypes||Vc),[N,U]=_e.useState(r.visibilityMode||"PUBLIC"),[C,S]=_e.useState(r.allowedViewers||[]),[k,E]=_e.useState([]),[A,j]=_e.useState(""),[B,D]=_e.useState(r.followingUsers||[]),[Q,K]=_e.useState(r.inputMode||"DETAILED"),[ee,W]=_e.useState((r.plannedWorkDays||0).toString()),[te,G]=_e.useState((r.dailyGoalSimple||0).toLocaleString()),[V,Z]=_e.useState((r.workingHours||0).toString()),[ae,re]=_e.useState(!1),[oe,he]=_e.useState(null),[Se,ge]=_e.useState(!1),[ne,fe]=_e.useState([]);_e.useEffect(()=>{(async()=>{var Te;try{const Re=(await In($r(Pt,"public_status"))).docs.map(at=>{const pt=at.data();return{uid:at.id,name:pt.name||"",visibilityMode:pt.visibilityMode,allowedViewers:pt.allowedViewers||[]}}).filter(at=>{var pt;return at.uid!==(r.uid||((pt=pr.currentUser)==null?void 0:pt.uid))}),Ae=r.uid||((Te=pr.currentUser)==null?void 0:Te.uid);console.log("[SettingsModal] Fetched users:",Re.map(at=>({uid:at.uid,name:at.name,visibilityMode:at.visibilityMode,allowedViewers:at.allowedViewers}))),console.log("[SettingsModal] Current user uid:",Ae),E(Re)}catch(rt){console.error("Failed to fetch users",rt)}})();const He=Fs($r(Pt,"public_status"),Te=>{const rt=Te.docs.map(Re=>{const Ae=Re.data();return{uid:Re.id,name:Ae.name||"",visibilityMode:Ae.visibilityMode,allowedViewers:Ae.allowedViewers||[]}}).filter(Re=>Re.uid!==r.uid);E(rt)});return()=>He()},[r.uid]),_e.useEffect(()=>{l==="admin"&&t&&(async()=>{try{const He=ln($r(Pt,"public_status"),Vn("lastUpdated","desc")),Te=await In(He);fe(Te.docs.map(rt=>({uid:rt.id,...rt.data()})))}catch(He){console.error("Admin fetch failed",He)}})()},[l,t]);const pe=_e.useMemo(()=>{const je=parseInt(o),He=isNaN(je)?20:je,{start:Te,end:rt}=yr(T,He,p),Re=Te.getFullYear(),Ae=Te.getMonth(),at=new Date(Re,Ae,Te.getDate()),pt=new Date(at),lt=at.getDay();pt.setDate(pt.getDate()-lt);const Rt=new Date(Re,rt.getMonth(),rt.getDate()),jt=new Date(Rt),Ct=Rt.getDay();jt.setDate(jt.getDate()+(6-Ct));const Mt=[],Dt=new Date(pt);for(let Nt=0;Nt<35;Nt++)Mt.push(new Date(Dt)),Dt.setDate(Dt.getDate()+1);return Mt},[T,o,p]),ke=_e.useMemo(()=>{const je=parseInt(o),He=isNaN(je)?20:je,{end:Te}=yr(T,He,p);return`${Te.getFullYear()} / ${String(Te.getMonth()+1).padStart(2,"0")}`},[T,o,p]),Ce=_e.useMemo(()=>{const je=parseInt(o),He=isNaN(je)?20:je,{start:Te,end:rt}=yr(T,He,p),Re=Yt(Te),Ae=Yt(rt);return pe.filter(at=>{const pt=new Date(at);pt.setHours(p,0,0,0);const lt=zt(pt.getTime(),p);return lt>=Re&&lt<=Ae&&v.includes(lt)}).length},[pe,v,T,o,p]),Fe=je=>{y(He=>He.includes(je)?He.filter(Te=>Te!==je):[...He,je])},We=je=>{H(He=>He.includes(je)?He.filter(Te=>Te!==je):[...He,je])},$e=je=>{z(He=>He.includes(je)?He.filter(Te=>Te!==je):[...He,je])},it=(je,He)=>{I(Te=>({...Te,[je]:He}))},st=(je,He)=>{const Te=[...P],rt=He==="up"?je-1:je+1;if(rt<0||rt>=Te.length)return;const Re=Te[je];Te[je]=Te[rt],Te[rt]=Re,H(Te)},et=je=>{S(He=>He.includes(je)?He.filter(Te=>Te!==je):[...He,je])},Ze=je=>{D(He=>He.includes(je)?He.filter(Te=>Te!==je):[...He,je])},gt=()=>{const je=parseInt(o),He=isNaN(je)?20:je,{start:Te,end:rt}=yr(T,He,p),Re=[];let Ae=new Date(Te);for(;Ae<=rt;){const at=Ae.getDay();if(at!==0&&at!==6){const pt=new Date(Ae);pt.setHours(p,0,0,0);const lt=zt(pt.getTime(),p);Re.push(lt)}Ae.setDate(Ae.getDate()+1)}y(Re)},mt=k.filter(je=>je.name.toLowerCase().includes(A.toLowerCase())),Me=r.uid||((Ye=pr.currentUser)==null?void 0:Ye.uid),Ue=je=>{if(!Me)return console.warn("[SettingsModal] currentUserId is undefined, cannot filter by visibility"),je;const He=je.filter(Te=>{if(t)return console.log(`[SettingsModal] Admin user, showing ${Te.uid} (${Te.name})`),!0;const rt=Te.visibilityMode||"PUBLIC";if(rt==="PRIVATE")return console.log(`[SettingsModal] User ${Te.uid} (${Te.name}) is PRIVATE, hiding`),!1;if(rt==="PUBLIC")return console.log(`[SettingsModal] User ${Te.uid} (${Te.name}) is PUBLIC, showing`),!0;if(rt==="CUSTOM"){const Re=Te.allowedViewers||[],Ae=Re.includes(Me);return console.log(`[SettingsModal] User ${Te.uid} (${Te.name}) is CUSTOM, allowedViewers=${JSON.stringify(Re)}, currentUser=${Me}, isAllowed=${Ae}`),Ae}return!0});return console.log(`[SettingsModal] Filtered users: ${He.length} out of ${je.length}, currentUser=${Me}, isAdmin=${t}`),He},Ee=Ue(mt),Oe=Ue(mt),ct=async()=>{if(!oe)return;const je=parseInt(o);e({inputMode:oe,shimebiDay:isNaN(je)?20:je,businessStartHour:p,monthlyGoal:An(d),defaultDailyGoal:An(b),dutyDays:v,enabledPaymentMethods:P,customPaymentLabels:L,enabledRideTypes:q,visibilityMode:N,allowedViewers:C,followingUsers:B}),K(oe),re(!1),he(null),oe==="SIMPLE"&&a&&(s(),setTimeout(()=>a(),100))},Be=()=>{const je=parseInt(o);e({shimebiDay:isNaN(je)?20:je,businessStartHour:p,monthlyGoal:An(d),defaultDailyGoal:An(b),dutyDays:v,enabledPaymentMethods:P,customPaymentLabels:L,userName:O,enabledRideTypes:q,visibilityMode:N,allowedViewers:C,followingUsers:B,inputMode:Q==="DETAILED"?"DETAILED":r.inputMode}),s()};return zt(Date.now(),p),console.log("[SettingsModal] Rendering modal, activeTab:",l),_.jsx(ri,{onClose:s,children:_.jsxs("div",{className:"space-y-6 pb-6 bg-[#131C2B]",children:[_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsxs("h3",{className:"text-xl font-black text-white flex items-center gap-2",children:[_.jsx(B1,{className:"w-6 h-6 text-gray-400"})," "]}),_.jsx("button",{onClick:s,className:"p-2 bg-gray-800 rounded-full text-gray-400 hover:text-white active:scale-95",children:_.jsx(ba,{className:"w-5 h-5"})})]}),_.jsxs("div",{className:"flex gap-2 bg-gray-900/50 p-1 rounded-xl",children:[_.jsx("button",{onClick:()=>c("basic"),className:`flex-1 py-2 rounded-lg text-sm font-bold transition-all ${l==="basic"?"bg-gray-700 text-white shadow":"text-gray-500"}`,children:""}),_.jsx("button",{onClick:()=>c("display"),className:`flex-1 py-2 rounded-lg text-sm font-bold transition-all ${l==="display"?"bg-gray-700 text-white shadow":"text-gray-500"}`,children:""}),t&&_.jsx("button",{onClick:()=>c("admin"),className:`flex-1 py-2 rounded-lg text-sm font-bold transition-all ${l==="admin"?"bg-purple-900/50 text-purple-300 shadow border border-purple-500/30":"text-gray-500"}`,children:""})]}),_.jsxs("div",{className:"overflow-y-auto max-h-[60vh] space-y-6 pr-1 custom-scrollbar",children:[_.jsxs("div",{className:`bg-gray-800 p-5 rounded-3xl border-2 ${Q==="DETAILED"?"border-blue-500":"border-gray-700"} space-y-3`,children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("label",{className:"text-sm font-bold text-gray-400 block uppercase tracking-widest",children:""}),_.jsx("button",{onClick:()=>ge(!0),className:"p-2 text-gray-400 hover:text-blue-400 transition-colors",children:_.jsx(G4,{className:"w-5 h-5"})})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[_.jsx("button",{onClick:()=>{Q!=="DETAILED"&&(he("DETAILED"),re(!0))},className:`p-3 rounded-2xl border-2 transition-all ${Q==="DETAILED"?"border-blue-500 bg-blue-500/10 text-blue-400":"border-gray-600 bg-gray-800 text-gray-500 hover:border-gray-500"}`,children:_.jsx("div",{className:"text-xs font-black whitespace-nowrap leading-tight",children:""})}),_.jsx("button",{onClick:()=>{Q!=="SIMPLE"&&(he("SIMPLE"),re(!0))},className:`p-3 rounded-2xl border-2 transition-all ${Q==="SIMPLE"?"border-orange-500 bg-orange-500/10 text-orange-400":"border-gray-600 bg-gray-800 text-gray-500 hover:border-gray-500"}`,children:_.jsx("div",{className:"text-xs font-black whitespace-nowrap leading-tight",children:""})})]})]}),l==="basic"&&Q!=="SIMPLE"&&_.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-2 duration-200",children:[_.jsxs("div",{className:`bg-gray-800 p-5 rounded-3xl border-2 ${Q==="DETAILED"?"border-blue-500":"border-gray-700"} space-y-3`,children:[_.jsxs("label",{className:"text-sm font-bold text-gray-400 block uppercase tracking-widest flex items-center gap-2",children:[_.jsx(jl,{className:"w-4 h-4"})," "]}),_.jsx("input",{type:"text",value:O,onChange:je=>F(je.target.value),placeholder:"",className:"bg-white text-gray-900 font-black w-full outline-none p-3 rounded-2xl border-2 border-gray-700"})]}),_.jsxs("div",{className:`bg-gray-800 p-5 rounded-3xl border-2 ${Q==="DETAILED"?"border-blue-500":"border-gray-700"} space-y-5`,children:[_.jsx("label",{className:"text-lg font-black text-gray-500 uppercase tracking-widest block",children:""}),_.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[_.jsxs("div",{children:[_.jsx("label",{className:"text-sm font-bold text-gray-400 mb-2 block uppercase tracking-widest",children:""}),_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("span",{className:"text-2xl font-black text-blue-400",children:""}),_.jsx("input",{type:"text",inputMode:"numeric",value:d,onChange:je=>x(Uo(je.target.value)),className:"bg-white text-gray-900 text-[clamp(1.6rem,6vw,2.2rem)] font-black w-full outline-none p-3 rounded-2xl border-2 border-gray-700"})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-sm font-bold text-gray-400 mb-2 block uppercase tracking-widest",children:""}),_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("span",{className:"text-2xl font-black text-amber-400",children:""}),_.jsx("input",{type:"text",inputMode:"numeric",value:b,onChange:je=>g(Uo(je.target.value)),className:"bg-white text-gray-900 text-[clamp(1.6rem,6vw,2.2rem)] font-black w-full outline-none p-3 rounded-2xl border-2 border-gray-700"})]})]})]})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[_.jsxs("div",{className:`bg-gray-800 p-4 rounded-2xl border-2 ${Q==="DETAILED"?"border-blue-500":"border-gray-700"} relative`,children:[_.jsx("label",{className:"text-lg font-bold text-gray-400 mb-2 block uppercase tracking-widest",children:""}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs("select",{value:o,onChange:je=>u(je.target.value),className:"bg-white text-gray-900 text-2xl font-black w-full outline-none p-2 rounded-xl border-2 border-gray-700 appearance-none cursor-pointer",children:[_.jsx("option",{value:"0",children:""}),Array.from({length:28}).map((je,He)=>_.jsxs("option",{value:He+1,children:[He+1,""]},He+1))]}),_.jsx(Zs,{className:"absolute right-6 top-12 pointer-events-none text-gray-500 w-6 h-6"})]})]}),_.jsxs("div",{className:`bg-gray-800 p-4 rounded-2xl border-2 ${Q==="DETAILED"?"border-blue-500":"border-gray-700"} relative`,children:[_.jsx("label",{className:"text-lg font-bold text-gray-400 mb-2 block uppercase tracking-widest text-nowrap",children:""}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("select",{value:p,onChange:je=>h(parseInt(je.target.value)),className:"bg-white text-gray-900 text-2xl font-black w-full outline-none p-2 rounded-xl border-2 border-gray-700 appearance-none cursor-pointer",children:Array.from({length:24}).map((je,He)=>_.jsxs("option",{value:He,children:[String(He).padStart(2,"0"),":00"]},He))}),_.jsx(Zs,{className:"absolute right-6 top-12 pointer-events-none text-gray-500 w-6 h-6"})]})]})]}),_.jsxs("div",{className:`bg-gray-800 p-5 rounded-3xl border-2 ${Q==="DETAILED"?"border-blue-500":"border-gray-700"} shadow-inner`,children:[_.jsxs("div",{className:"flex flex-col mb-4",children:[_.jsx("div",{className:"flex justify-between items-center mb-4",children:_.jsxs("h3",{className:"text-xl font-black text-white flex items-center gap-2",children:[_.jsx(jf,{className:"w-6 h-6 text-yellow-500"})," "]})}),_.jsxs("div",{className:"mt-4 bg-gray-800 rounded-xl p-4 border-2 border-orange-500/50",children:[_.jsx("div",{className:"text-sm text-gray-400 mb-1",children:""}),_.jsxs("div",{className:"text-2xl font-black text-white",children:[Ce," "]})]}),_.jsxs("div",{className:"mt-4 flex items-center justify-between bg-gray-950 rounded-2xl p-2 border-2 border-gray-700",children:[_.jsx("button",{onClick:()=>{const je=parseInt(o),He=isNaN(je)?20:je,{start:Te}=yr(T,He,p),rt=new Date(Te);rt.setMonth(rt.getMonth()-1);const{start:Re}=yr(rt,He,p);R(Re)},className:"p-3 text-gray-400 active:scale-90",children:_.jsx(ci,{className:"w-6 h-6"})}),_.jsx("span",{className:"text-xl font-black text-white",children:ke}),_.jsx("button",{onClick:()=>{const je=parseInt(o),He=isNaN(je)?20:je,{start:Te}=yr(T,He,p),rt=new Date(Te);rt.setMonth(rt.getMonth()+1);const{start:Re}=yr(rt,He,p);R(Re)},className:"p-3 text-gray-400 active:scale-90",children:_.jsx(Js,{className:"w-6 h-6"})})]})]}),_.jsx("div",{className:"grid grid-cols-7 gap-2 mb-2",children:["","","","","","",""].map(je=>_.jsx("div",{className:"text-center text-sm font-bold text-gray-400",children:je},je))}),_.jsx("div",{className:"grid grid-cols-7 gap-2",children:pe.map(je=>{const He=Yt(je),Te=zt(je.getTime(),p),rt=v.includes(Te),Re=zt(Date.now(),p),Ae=Te===Re,at=Te<Re;return _.jsx("button",{onClick:()=>Fe(Te),disabled:at,className:`aspect-square rounded-xl flex items-center justify-center transition-all ${rt?"bg-orange-500 text-gray-900 font-black":at?"bg-gray-800/50 text-gray-500 cursor-not-allowed":"bg-gray-800 text-white font-bold hover:bg-gray-700"} ${Ae?"ring-2 ring-orange-500":""} active:scale-95`,children:_.jsx("span",{className:"text-base",children:je.getDate()})},He)})}),_.jsxs("button",{onClick:gt,className:"w-full mt-4 py-3 bg-gray-800 border border-gray-700 rounded-xl text-sm font-bold text-gray-400 hover:bg-gray-700 active:scale-95 transition-all flex items-center justify-center gap-2",children:[_.jsx(jf,{className:"w-4 h-4"})," (20)"]})]})]}),l==="display"&&_.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-2 duration-200",children:[_.jsxs("div",{className:`bg-gray-800 p-5 rounded-3xl border-2 ${Q==="DETAILED"?"border-blue-500":"border-gray-700"} space-y-4`,children:[_.jsxs("label",{className:"text-lg font-black text-gray-500 uppercase tracking-widest block flex items-center gap-2",children:[_.jsx(Xg,{className:"w-5 h-5"})," "]}),_.jsx("div",{className:"p-3 bg-blue-900/10 border border-blue-500/20 rounded-xl text-[15px] text-blue-300 mb-2",children:_.jsx("p",{children:""})}),_.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[_.jsxs("button",{onClick:()=>U("PUBLIC"),className:`flex flex-col items-center gap-2 p-3 rounded-xl border transition-all ${N==="PUBLIC"?"bg-green-500/10 border-green-500 text-green-400":"bg-gray-800 border-gray-700 text-gray-500 hover:bg-gray-700"}`,children:[_.jsx(X4,{size:24}),_.jsxs("div",{className:"text-center",children:[_.jsx("p",{className:"text-xs font-bold",children:""}),_.jsx("p",{className:"text-[9px] opacity-70",children:""})]})]}),_.jsxs("button",{onClick:()=>U("CUSTOM"),className:`flex flex-col items-center gap-2 p-3 rounded-xl border transition-all ${N==="CUSTOM"?"bg-amber-500/10 border-amber-500 text-amber-400":"bg-gray-800 border-gray-700 text-gray-500 hover:bg-gray-700"}`,children:[_.jsx(Al,{size:24}),_.jsxs("div",{className:"text-center",children:[_.jsx("p",{className:"text-xs font-bold",children:""}),_.jsx("p",{className:"text-[9px] opacity-70",children:""})]})]}),_.jsxs("button",{onClick:()=>U("PRIVATE"),className:`flex flex-col items-center gap-2 p-3 rounded-xl border transition-all ${N==="PRIVATE"?"bg-red-500/10 border-red-500 text-red-400":"bg-gray-800 border-gray-700 text-gray-500 hover:bg-gray-700"}`,children:[_.jsx(Xg,{size:24}),_.jsxs("div",{className:"text-center",children:[_.jsx("p",{className:"text-xs font-bold",children:""}),_.jsx("p",{className:"text-[9px] opacity-70",children:""})]})]})]}),N==="CUSTOM"&&_.jsxs("div",{className:"bg-gray-950 p-4 rounded-xl border border-gray-800 space-y-3 animate-in fade-in slide-in-from-top-2",children:[_.jsxs("div",{className:"flex items-center gap-2 bg-gray-900 p-2 rounded-lg border border-gray-700",children:[_.jsx(Yv,{size:16,className:"text-gray-500"}),_.jsx("input",{type:"text",placeholder:"...",value:A,onChange:je=>j(je.target.value),className:"bg-transparent text-sm text-white w-full focus:outline-none"})]}),_.jsx("div",{className:"max-h-48 overflow-y-auto space-y-1 custom-scrollbar",children:Ee.length>0?Ee.map(je=>{const He=C.includes(je.uid);return _.jsxs("div",{onClick:()=>et(je.uid),className:`flex items-center justify-between p-3 rounded-lg cursor-pointer transition-colors border ${He?"bg-amber-500/10 border-amber-500/30":"bg-gray-900 border-gray-800 hover:bg-gray-800"}`,children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:`p-1.5 rounded-full ${He?"bg-amber-500 text-black":"bg-gray-800 text-gray-500"}`,children:He?_.jsx(r9,{size:14}):_.jsx(s9,{size:14})}),_.jsx("span",{className:`text-sm font-bold ${He?"text-white":"text-gray-500"}`,children:je.name})]}),He&&_.jsx(Zd,{size:16,className:"text-amber-500"})]},je.uid)}):_.jsx("p",{className:"text-center text-[10px] text-gray-600 py-4",children:""})}),_.jsxs("p",{className:"text-[10px] text-gray-500 text-right",children:[" ",C.length," "]})]})]}),_.jsxs("div",{className:`bg-gray-800 p-5 rounded-3xl border-2 ${Q==="DETAILED"?"border-blue-500":"border-gray-700"} space-y-4`,children:[_.jsxs("label",{className:"text-lg font-black text-gray-500 uppercase tracking-widest block flex items-center gap-2",children:[_.jsx(Al,{className:"w-5 h-5"})," "]}),_.jsxs("div",{className:"p-3 bg-gray-800/50 border border-gray-700 rounded-xl text-[15px] text-gray-400 mb-2",children:[_.jsx("p",{children:""}),_.jsx("p",{children:""})]}),_.jsxs("div",{className:"bg-gray-950 p-4 rounded-xl border border-gray-800 space-y-3",children:[_.jsxs("div",{className:"flex items-center gap-2 bg-gray-900 p-2 rounded-lg border border-gray-700",children:[_.jsx(Yv,{size:16,className:"text-gray-500"}),_.jsx("input",{type:"text",placeholder:"...",value:A,onChange:je=>j(je.target.value),className:"bg-transparent text-sm text-white w-full focus:outline-none"})]}),_.jsx("div",{className:"max-h-48 overflow-y-auto space-y-1 custom-scrollbar",children:Oe.length>0?Oe.map(je=>{const He=B.includes(je.uid);return _.jsxs("div",{onClick:()=>Ze(je.uid),className:`flex items-center justify-between p-3 rounded-lg cursor-pointer transition-colors border ${He?"bg-blue-500/10 border-blue-500/30":"bg-gray-900 border-gray-800 hover:bg-gray-800"}`,children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:`p-1.5 rounded-full ${He?"bg-blue-500 text-white":"bg-gray-800 text-gray-500"}`,children:He?_.jsx(Zd,{size:14}):_.jsx(H4,{size:14})}),_.jsx("span",{className:`text-sm font-bold ${He?"text-white":"text-gray-500"}`,children:je.name})]}),He&&_.jsx("span",{className:"text-[10px] font-bold text-blue-400",children:""})]},je.uid)}):_.jsx("p",{className:"text-center text-[10px] text-gray-600 py-4",children:""})}),_.jsxs("p",{className:"text-[10px] text-gray-500 text-right",children:[" ",B.length," "]})]})]}),Q==="DETAILED"&&_.jsxs("div",{className:"bg-gray-800 p-5 rounded-3xl border-2 border-blue-500",children:[_.jsx("label",{className:"text-lg font-black text-gray-500 uppercase tracking-widest mb-2 block",children:""}),_.jsx("p",{className:"text-sm text-gray-400 mb-5",children:""}),_.jsx("div",{className:"space-y-3 mb-5",children:P.map((je,He)=>_.jsx("div",{className:"flex flex-col gap-2 bg-[#1A2536] border border-gray-700 p-3 rounded-2xl",children:_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("input",{type:"text",value:L[je]!==void 0?L[je]:"",placeholder:xa[je],onChange:Te=>it(je,Te.target.value),className:"w-1/2 bg-gray-900 text-white text-lg font-black px-3 py-2 rounded-xl border border-gray-700 outline-none focus:border-blue-500"}),_.jsxs("div",{className:"flex-1 flex justify-end gap-2",children:[_.jsx("button",{onClick:()=>st(He,"up"),disabled:He===0,className:"p-2 bg-gray-800 rounded-xl text-gray-400 disabled:opacity-20 active:scale-90",children:_.jsx(dk,{className:"w-5 h-5"})}),_.jsx("button",{onClick:()=>st(He,"down"),disabled:He===P.length-1,className:"p-2 bg-gray-800 rounded-xl text-gray-400 disabled:opacity-20 active:scale-90",children:_.jsx(ok,{className:"w-5 h-5"})}),_.jsx("button",{onClick:()=>We(je),className:"p-2 bg-red-500/20 text-red-500 rounded-xl active:scale-90",children:_.jsx(ba,{className:"w-5 h-5"})})]})]})},je))}),_.jsxs("div",{className:"border-t border-gray-800 pt-4",children:[_.jsx("p",{className:"text-sm font-bold text-gray-500 uppercase mb-4 tracking-widest",children:""}),_.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.keys(xa).filter(je=>!P.includes(je)).map(je=>_.jsxs("button",{onClick:()=>We(je),className:"p-3 bg-gray-800/50 border border-gray-700 rounded-2xl text-gray-500 text-base font-bold active:scale-95 text-left flex items-center justify-between",children:[_.jsx("span",{className:"truncate mr-1",children:L[je]||xa[je]}),_.jsx(Zd,{className:"w-5 h-5 opacity-10 flex-shrink-0"})]},je))})]})]}),Q==="DETAILED"&&_.jsxs("div",{className:"bg-gray-800 p-5 rounded-3xl border-2 border-blue-500",children:[_.jsxs("label",{className:"text-lg font-black text-gray-500 uppercase tracking-widest mb-2 block flex items-center gap-2",children:[_.jsx(ru,{className:"w-5 h-5"})," "]}),_.jsx("p",{className:"text-sm text-gray-400 mb-3",children:""}),_.jsx("div",{className:"grid grid-cols-3 gap-2",children:Vc.map(je=>_.jsx("button",{onClick:()=>$e(je),className:`p-2 rounded-xl text-xs font-bold border transition-all ${q.includes(je)?"bg-amber-500 text-black border-amber-400":"bg-gray-800 text-gray-500 border-gray-700"}`,children:ph[je]},je))})]})]}),l==="admin"&&t&&_.jsx("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-2 duration-200",children:_.jsxs("div",{className:"bg-purple-900/20 p-4 rounded-2xl border border-purple-500/30",children:[_.jsxs("h4",{className:"text-sm font-black text-purple-300 mb-3 flex items-center gap-2",children:[_.jsx(Al,{className:"w-4 h-4"}),"  ()"]}),_.jsxs("p",{className:"text-[10px] text-gray-400 mb-4",children:["",_.jsx("br",{}),_.jsx("span",{className:"text-red-400 font-bold",children:""})]}),_.jsx("div",{className:"space-y-2 max-h-[300px] overflow-y-auto custom-scrollbar",children:ne.map(je=>_.jsxs("button",{onClick:()=>i&&i(je.uid),className:"w-full bg-gray-900 hover:bg-gray-800 p-3 rounded-xl flex justify-between items-center border border-gray-700 active:scale-95 transition-all",children:[_.jsxs("div",{className:"text-left",children:[_.jsx("span",{className:"block text-sm font-bold text-white",children:je.name||""}),_.jsx("span",{className:"text-[10px] text-gray-500",children:je.uid})]}),_.jsx("div",{className:"text-right",children:_.jsx("span",{className:"text-[10px] bg-gray-800 px-2 py-1 rounded text-gray-400",children:je.lastUpdated?new Date(je.lastUpdated).toLocaleDateString():"-"})})]},je.uid))})]})}),t&&n&&_.jsx("div",{className:"pt-4 border-t border-gray-800 animate-in fade-in",children:_.jsx(fS,{onImport:n,isAdmin:t,users:k,customPaymentLabels:r.customPaymentLabels,enabledPaymentMethods:r.enabledPaymentMethods})})]}),l!=="admin"&&_.jsx("button",{onClick:Be,className:"w-full bg-amber-500 py-4 rounded-2xl font-black text-2xl text-black shadow-lg active:scale-95 transition-transform mt-5",children:""}),l==="basic"&&Q==="SIMPLE"&&_.jsx("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-2 duration-200 mt-4",children:_.jsxs("div",{className:"bg-orange-900/20 p-5 rounded-3xl border border-orange-500/30 space-y-3",children:[_.jsx("div",{className:"text-center text-orange-300 font-black text-base",children:""}),_.jsx("div",{className:"text-xs text-orange-200 text-center",children:""})]})}),ae&&oe&&_.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm",children:_.jsxs("div",{className:"bg-[#131C2B] p-6 rounded-3xl space-y-6 max-w-md w-full mx-4",children:[_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsxs("h3",{className:"text-xl font-black text-white",children:[oe==="DETAILED"?"":"",""]}),_.jsx("button",{onClick:()=>{re(!1),he(null)},className:"p-2 bg-gray-800 rounded-full text-gray-400 hover:text-white active:scale-95",children:_.jsx(ba,{className:"w-5 h-5"})})]}),_.jsxs("div",{className:"flex gap-3",children:[_.jsx("button",{onClick:()=>{re(!1),he(null)},className:"flex-1 py-3 bg-gray-800 text-gray-300 font-bold rounded-xl border border-gray-700 hover:bg-gray-700 transition-colors",children:""}),_.jsx("button",{onClick:ct,className:"flex-1 py-3 bg-orange-500 text-white font-black rounded-xl hover:bg-orange-600 active:scale-95 transition-all",children:""})]})]})}),Se&&_.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm",children:_.jsxs("div",{className:"bg-[#131C2B] p-6 rounded-3xl space-y-6 max-w-md w-full mx-4 max-h-[80vh] overflow-y-auto",children:[_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsxs("h3",{className:"text-xl font-black text-white flex items-center gap-2",children:[_.jsx(P1,{className:"w-6 h-6 text-blue-400"})," "]}),_.jsx("button",{onClick:()=>ge(!1),className:"p-2 bg-gray-800 rounded-full text-gray-400 hover:text-white active:scale-95",children:_.jsx(ba,{className:"w-5 h-5"})})]}),_.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"bg-gray-800 p-5 rounded-2xl border-2 border-blue-500",children:[_.jsx("h4",{className:"text-lg font-black text-blue-400 mb-3",children:""}),_.jsx("p",{className:"text-sm text-white leading-relaxed",children:"1"}),_.jsx("p",{className:"text-sm text-gray-300 leading-relaxed mt-2",children:""})]}),_.jsxs("div",{className:"bg-gray-800 p-5 rounded-2xl border-2 border-orange-500",children:[_.jsx("h4",{className:"text-lg font-black text-orange-400 mb-3",children:""}),_.jsx("p",{className:"text-sm text-white leading-relaxed",children:"1"}),_.jsx("p",{className:"text-sm text-gray-300 leading-relaxed mt-2",children:""})]})]}),_.jsx("button",{onClick:()=>ge(!1),className:"w-full py-4 bg-blue-500 text-white font-black rounded-xl hover:bg-blue-600 active:scale-95 transition-all",children:"OK"})]})}),_.jsx("div",{className:"pt-6 border-t border-gray-800",children:_.jsxs("button",{onClick:()=>{window.confirm("")&&OA(pr)},className:"w-full bg-red-900/20 text-red-500 font-bold py-3 rounded-xl border border-red-900/50 hover:bg-red-900/30 active:scale-[0.98] transition-all flex items-center justify-center gap-2",children:[_.jsx(Y4,{className:"w-4 h-4"})," "]})})]})})},P4=({onSelect:r,onClose:t,isInitialLogin:e=!1})=>{const[n,s]=_e.useState(null),[i,a]=_e.useState(!1);_e.useEffect(()=>{e&&a(!0)},[e]);const l=()=>{a(!1),r("SIMPLE")},c=()=>{a(!1)},o=()=>{n&&r(n)};return i?_.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:_.jsxs("div",{className:"bg-[#131C2B] rounded-2xl p-6 max-w-md w-full space-y-6 border border-amber-500/30 shadow-2xl animate-in fade-in duration-300",children:[_.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[_.jsx("div",{className:"bg-amber-500/20 rounded-full p-3",children:_.jsx(K4,{className:"w-6 h-6 text-amber-400"})}),_.jsx("h2",{className:"text-xl font-black text-white",children:""})]}),_.jsx("div",{className:"space-y-4",children:_.jsxs("p",{className:"text-base text-gray-200 leading-relaxed text-center",children:["",_.jsx("br",{}),"",_.jsx("strong",{className:"text-amber-400",children:""}),"",_.jsx("br",{}),"",_.jsx("br",{}),_.jsx("br",{}),"",_.jsx("br",{}),"",_.jsx("br",{}),"",_.jsx("br",{}),_.jsx("br",{}),_.jsx("strong",{className:"text-amber-400",children:""}),""]})}),_.jsxs("div",{className:"flex gap-3 pt-2",children:[_.jsx("button",{onClick:c,className:"flex-1 py-3 rounded-xl font-bold text-base bg-gray-700 text-gray-300 hover:bg-gray-600 transition-all active:scale-95",children:""}),_.jsx("button",{onClick:l,className:"flex-1 py-3 rounded-xl font-black text-base bg-amber-500 text-white hover:bg-amber-600 transition-all active:scale-95 shadow-lg shadow-amber-500/30",children:""})]})]})}):_.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:_.jsxs("div",{className:"bg-[#131C2B] rounded-2xl p-6 max-w-md w-full space-y-6 border border-gray-700 shadow-2xl",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(P1,{className:"w-5 h-5 text-gray-400"}),_.jsx("h2",{className:"text-xl font-black text-white",children:e?"":""})]}),t&&_.jsx("button",{onClick:t,className:"p-1 text-gray-400 hover:text-white transition-colors",children:_.jsx(ba,{className:"w-5 h-5"})})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("button",{onClick:()=>s("DETAILED"),className:`w-full p-4 rounded-xl border-2 transition-all text-left ${n==="DETAILED"?"border-blue-500 bg-blue-500/20 shadow-lg shadow-blue-500/20":"border-blue-500/30 bg-blue-500/5 hover:border-blue-500/50 hover:bg-blue-500/10"}`,children:[_.jsx("h3",{className:"text-base font-black text-white mb-2",children:""}),_.jsx("p",{className:"text-sm text-gray-300 leading-relaxed",children:"1"})]}),_.jsxs("button",{onClick:()=>s("SIMPLE"),className:`w-full p-4 rounded-xl border-2 transition-all text-left ${n==="SIMPLE"?"border-orange-500 bg-orange-500/20 shadow-lg shadow-orange-500/20":"border-orange-500/30 bg-orange-500/5 hover:border-orange-500/50 hover:bg-orange-500/10"}`,children:[_.jsx("h3",{className:"text-base font-black text-white mb-2",children:""}),_.jsx("p",{className:"text-sm text-gray-300 leading-relaxed",children:"1"})]})]}),_.jsx("p",{className:"text-xs text-gray-400 text-center",children:""}),_.jsx("button",{onClick:o,disabled:!n,className:`w-full py-4 rounded-xl font-black text-lg transition-all ${n?"bg-blue-500 text-white hover:bg-blue-600 active:scale-95":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:"OK"})]})})},qV=({stats:r,onUpdateStats:t,initialDate:e,initialRecordId:n,onClearInitialDate:s,onBack:i})=>{const[a,l]=_e.useState(()=>e?typeof e=="string"?new Date(e):e:new Date),[c,o]=_e.useState(""),[u,p]=_e.useState(""),[h,d]=_e.useState(""),[x,b]=_e.useState(""),[g,v]=_e.useState(""),[y,T]=_e.useState(""),[R,P]=_e.useState(""),[H,L]=_e.useState(""),[I,O]=_e.useState(!1),[F,q]=_e.useState(""),[z,N]=_e.useState(!1),[U,C]=_e.useState(!1),S=!!e&&!!n,k=r.businessStartHour??9,E=zt(a.getTime(),k),A=async(K,ee,W)=>{if(!ee||ee.length===0){console.log(`[SimpleInputView] No records to save for ${W}/${K}/history`);return}console.log(`[SimpleInputView] Starting to save ${ee.length} records to ${W}/${K}/history`),console.log("[SimpleInputView] Sample record IDs:",ee.slice(0,5).map(te=>te.id));try{const te=ir(Pt,W,K);(await Ds(te)).exists()||(console.log(`[SimpleInputView] Parent document ${W}/${K} does not exist, creating...`),await an(te,{_created:new Date().toISOString()},{merge:!0}),console.log("[SimpleInputView]  Parent document created"));let V=0,Z=0;console.log(`[SimpleInputView] Saving ${ee.length} records to ${W}/${K}/history using writeBatch`);const ae=500;for(let re=0;re<ee.length;re+=ae){const oe=ee.slice(re,re+ae),he=O0(Pt);let Se=0;console.log(`[SimpleInputView] Processing batch ${Math.floor(re/ae)+1}, records: ${oe.length}`);for(const ge of oe){if(!ge.id){console.warn("[SimpleInputView] Record missing ID, skipping:",ge);continue}const ne=ir(Pt,W,K,"history",ge.id),fe=`${W}/${K}/history/${ge.id}`;he.set(ne,ge,{merge:!1}),Se++}if(Se>0){console.log(`[SimpleInputView] Committing batch with ${Se} records...`),console.log(`[SimpleInputView] Batch will write to: ${W}/${K}/history`);try{if(await he.commit(),V+=Se,console.log(`[SimpleInputView]  Committed batch: ${Se} records (total: ${V}/${ee.length})`),oe.length>0&&oe[0].id){const ge=ir(Pt,W,K,"history",oe[0].id);(await Ds(ge)).exists()?console.log(`[SimpleInputView]  Verified: Record ${oe[0].id} exists in subcollection`):console.error(`[SimpleInputView]  WARNING: Record ${oe[0].id} NOT found in subcollection after commit!`)}}catch(ge){Z+=Se,console.error("[SimpleInputView]  Batch commit failed:",ge),console.error("[SimpleInputView] Batch error details:",{message:ge==null?void 0:ge.message,code:ge==null?void 0:ge.code,stack:ge==null?void 0:ge.stack}),console.log("[SimpleInputView] Retrying with individual setDoc() calls...");for(const ne of oe)if(ne.id)try{const fe=ir(Pt,W,K,"history",ne.id);await an(fe,ne,{merge:!1}),V++,Z--,console.log(`[SimpleInputView]  Saved individual record: ${ne.id}`)}catch(fe){console.error(`[SimpleInputView]  Failed to save individual record ${ne.id}:`,fe)}}}else console.warn(`[SimpleInputView] Batch ${Math.floor(re/ae)+1} has no valid records to save`)}Z>0?console.warn(`[SimpleInputView]  Completed with errors: ${V} saved, ${Z} failed`):console.log(`[SimpleInputView]  Successfully saved ${V} records to ${W}/${K}/history`)}catch(te){console.error(`[SimpleInputView]  Error saving to ${W}/${K}/history:`,te),console.error("[SimpleInputView] Error details:",{message:te==null?void 0:te.message,code:te==null?void 0:te.code,stack:te==null?void 0:te.stack})}},j=async(K,ee,W)=>{try{const te=ir(Pt,W,K,"history",ee);await D0(te),console.log(`[SimpleInputView] Deleted record ${ee} from ${W}/${K}/history`)}catch{console.log(`[SimpleInputView] Record ${ee} may not exist in subcollection, ignoring delete error`)}};_e.useEffect(()=>{(async()=>{var ee,W,te,G,V,Z;try{const ae=(ee=pr.currentUser)==null?void 0:ee.uid;if(!ae)return;const re=$r(Pt,"users",ae,"history"),oe=ln(re,Vn("timestamp","desc")),he=await In(oe),Se=[];he.forEach(ne=>{Se.push(ne.data())});const ge=n?Se.find(ne=>{var fe;return ne.id===n&&((fe=ne.remarks)==null?void 0:fe.includes(""))}):Se.find(ne=>{var pe;return zt(ne.timestamp,k)===E&&((pe=ne.remarks)==null?void 0:pe.includes(""))});if(ge){o(ge.amount.toLocaleString());let ne="";const fe=(W=ge.remarks)==null?void 0:W.match(/=(\d+)/);fe&&(ne=fe[1]),p(ne);let pe="",ke="";const Ce=(te=ge.remarks)==null?void 0:te.match(/(\d+)(\d+)/);Ce&&(pe=Ce[1],ke=Ce[2]),d(pe),b(ke);let Fe="",We="";const $e=(G=ge.remarks)==null?void 0:G.match(/=(\d{2}:\d{2})/),it=(V=ge.remarks)==null?void 0:V.match(/=(\d{2}:\d{2})/);$e&&(Fe=$e[1]),it&&(We=it[1]),v(Fe),T(We);let st="";const et=(Z=ge.remarks)==null?void 0:Z.match(/=(.+)$/);et&&(st=et[1]),P(st)}else o(""),p(""),d(""),b(""),v(""),T(""),P("")}catch(ae){console.error(":",ae)}})()},[E,k,n]),_e.useEffect(()=>{e&&l(typeof e=="string"?new Date(e):e)},[e]);const B=async()=>{var K;if(!I){if(!c||!u){alert("");return}O(!0),q("");try{const ee=parseInt(c.replace(/,/g,""),10),W=parseInt(u,10),te=parseInt(h||"0",10),G=parseInt(x||"0",10),V=te*60+G,Z=new Date(a);Z.setHours(k,0,0,0);const ae=Z.getTime(),re=E.replace(/\//g,"-");let oe=`: =${W}, =${te}${G}`;g&&(oe+=`, =${g}`),y&&(oe+=`, =${y}`),R&&(oe+=`, =${R}`);const he={id:n||`simple_${re}_${Date.now()}`,amount:ee,toll:0,paymentMethod:"CASH",nonCashAmount:0,rideType:"FLOW",timestamp:ae,remarks:oe},Se=(K=pr.currentUser)==null?void 0:K.uid;if(!Se)return;const ge=new Date(a);ge.setHours(k,0,0,0);const ne=new Date(ge);ne.setDate(ne.getDate()+1);const fe=ge.getTime(),pe=ne.getTime()-1,ke=$r(Pt,"users",Se,"history"),Ce=ln(ke,Va("timestamp",">=",fe),Va("timestamp","<=",pe)),Fe=await In(Ce),We=[];if(Fe.forEach(Ye=>{We.push(Ye.data())}),!n){const Ye=We.filter(je=>{var Te;return zt(je.timestamp,k)===E&&!((Te=je.remarks)!=null&&Te.includes(""))});if(Ye.length>0){const je=Ye.reduce((Te,rt)=>Te+rt.amount,0);if(!window.confirm(`${qr(je)}
${qr(ee)}



OK
`)){O(!1);return}}}const $e=We.filter(Ye=>{var rt;const He=zt(Ye.timestamp,k)===E,Te=(rt=Ye.remarks)==null?void 0:rt.includes("");return n&&Ye.id===n||He&&Te}),it=O0(Pt);for(const Ye of $e){const je=ir(Pt,"users",Se,"history",Ye.id);it.delete(je);const He=ir(Pt,"public_status",Se,"history",Ye.id);it.delete(He)}$e.length>0&&(await it.commit(),console.log(`[SimpleInputView] Deleted ${$e.length} records from both users and public_status subcollections`)),A(Se,[he],"users").catch(Ye=>{console.error("[SimpleInputView] Failed to save to users subcollection:",Ye)}),A(Se,[he],"public_status").catch(Ye=>{console.error("[SimpleInputView] Failed to save to public_status subcollection:",Ye)});const st=$r(Pt,"public_status",Se,"history"),et=ln(st,Vn("timestamp","desc")),Ze=await In(et),gt=[];Ze.forEach(Ye=>{gt.push(Ye.data())});const Me=$f(r,gt,null).totalSales,Ue=gt.filter(Ye=>{var je;return!((je=Ye.remarks)!=null&&je.includes(""))}).sort((Ye,je)=>je.amount-Ye.amount).slice(0,20),Ee=ir(Pt,"public_status",Se),ct=(await Ds(Ee)).data()||{},Be={monthlyTotal:Me,monthlyGoal:r.monthlyGoal||ct.monthlyGoal||1e6,topRecords:Ue,name:r.userName||ct.name||"",lastUpdated:Date.now()};await an(Ee,Be,{merge:!0}),q(""),setTimeout(()=>q(""),3e3),s&&s(),S&&i&&setTimeout(()=>i(),1500)}catch(ee){console.error(":",ee),alert("")}finally{O(!1)}}},D=async()=>{var K;if(n){C(!0);try{const ee=(K=pr.currentUser)==null?void 0:K.uid;if(!ee)return;await j(ee,n,"users"),await j(ee,n,"public_status");const W=$r(Pt,"public_status",ee,"history"),te=ln(W,Vn("timestamp","desc")),G=await In(te),V=[];G.forEach(ne=>{V.push(ne.data())});const ae=$f(r,V,null).totalSales,re=V.filter(ne=>{var fe;return!((fe=ne.remarks)!=null&&fe.includes(""))}).sort((ne,fe)=>fe.amount-ne.amount).slice(0,20),oe=ir(Pt,"public_status",ee),Se=(await Ds(oe)).data()||{},ge={monthlyTotal:ae,monthlyGoal:r.monthlyGoal||Se.monthlyGoal||1e6,topRecords:re,name:r.userName||Se.name||"",lastUpdated:Date.now()};await an(oe,ge,{merge:!0}),N(!1),i&&i()}catch(ee){console.error(":",ee),alert(""),C(!1)}}},Q=_e.useMemo(()=>{const K=[],ee=new Date;for(let W=-6;W<=6;W++){const te=new Date(ee.getFullYear(),ee.getMonth()+W,1),G=te.getFullYear(),V=te.getMonth()+1;K.push(`${G}${V}`)}return K},[]);return _e.useEffect(()=>{if(!H){const{end:K}=yr(a,r.shimebiDay,k),ee=K.getFullYear(),W=K.getMonth()+1;L(`${ee}${W}`)}},[a,r.shimebiDay,k,H]),_.jsxs("div",{className:"pb-32 w-full overflow-hidden animate-in fade-in duration-500 bg-[#0A0E14] min-h-screen",children:[_.jsxs("div",{className:"bg-[#0A0E14] border-b border-gray-700 px-4 py-3 flex items-center justify-between sticky top-0 z-20",children:[_.jsx("button",{onClick:i,className:"w-8 h-8 flex items-center justify-center text-white",children:_.jsx(ci,{className:"w-5 h-5"})}),_.jsx("h2",{className:"text-lg font-black text-white",children:S?"":""}),S&&_.jsx("button",{onClick:()=>N(!0),className:"w-8 h-8 flex items-center justify-center text-red-400 hover:text-red-300 transition-colors",children:_.jsx(h0,{className:"w-5 h-5"})}),!S&&_.jsx("div",{className:"w-8"})]}),_.jsxs("div",{className:"p-4 space-y-3",children:[_.jsx("div",{className:"bg-gray-800 rounded-xl p-4 border-2 border-orange-500/50",children:_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx(Un,{className:"w-6 h-6 text-orange-500 flex-shrink-0"}),_.jsx("label",{className:"text-base font-bold text-white flex-shrink-0",children:""}),_.jsxs("div",{className:"flex-1 relative",children:[_.jsx("input",{type:"date",value:Yt(a).replace(/\//g,"-"),onChange:K=>{const ee=new Date(K.target.value);l(ee)},className:"absolute inset-0 opacity-0 cursor-pointer w-full z-10",id:"work-date-input"}),_.jsx("label",{htmlFor:"work-date-input",onClick:K=>{K.preventDefault();const ee=document.getElementById("work-date-input");ee&&ee.click()},className:"block text-white font-black text-base cursor-pointer text-right relative z-0",children:(()=>{const K=a,ee=K.getFullYear(),W=String(K.getMonth()+1).padStart(2,"0"),te=String(K.getDate()).padStart(2,"0"),V=["","","","","","",""][K.getDay()];return`${ee}${W}${te}(${V})`})()})]})]})}),_.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[_.jsx("div",{className:"bg-gray-800 rounded-xl p-4 border-2 border-orange-500/50",children:_.jsxs("div",{className:"flex flex-col gap-2 relative",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx(qc,{className:"w-6 h-6 text-orange-500 flex-shrink-0"}),_.jsx("label",{className:"text-base font-bold text-white flex-shrink-0",children:""})]}),_.jsxs("div",{className:"flex-1 flex items-center justify-end gap-1 min-w-0 relative",children:[_.jsx("input",{type:"time",value:g,onChange:K=>v(K.target.value),className:"absolute inset-0 opacity-0 cursor-pointer w-full z-10",id:"start-time-input"}),_.jsx("label",{htmlFor:"start-time-input",onClick:K=>{K.preventDefault();const ee=document.getElementById("start-time-input");ee&&ee.click()},className:"block text-white font-black text-base cursor-pointer text-right relative z-0 pr-8 w-full",children:g||""}),_.jsx("div",{className:"absolute right-0 top-0 bottom-0 flex items-center pointer-events-none z-0",children:_.jsx(Zs,{className:"w-5 h-5 text-orange-400"})})]})]})}),_.jsx("div",{className:"bg-gray-800 rounded-xl p-4 border-2 border-orange-500/50",children:_.jsxs("div",{className:"flex flex-col gap-2 relative",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx(qc,{className:"w-6 h-6 text-orange-500 flex-shrink-0"}),_.jsx("label",{className:"text-base font-bold text-white flex-shrink-0",children:""})]}),_.jsxs("div",{className:"flex-1 flex items-center justify-end gap-1 min-w-0 relative",children:[_.jsx("input",{type:"time",value:y,onChange:K=>T(K.target.value),className:"absolute inset-0 opacity-0 cursor-pointer w-full z-10",id:"end-time-input"}),_.jsx("label",{htmlFor:"end-time-input",onClick:K=>{K.preventDefault();const ee=document.getElementById("end-time-input");ee&&ee.click()},className:"block text-white font-black text-base cursor-pointer text-right relative z-0 pr-8 w-full",children:y||""}),_.jsx("div",{className:"absolute right-0 top-0 bottom-0 flex items-center pointer-events-none z-0",children:_.jsx(Zs,{className:"w-5 h-5 text-orange-400"})})]})]})})]}),_.jsx("div",{className:"bg-gray-800 rounded-xl p-4 border-2 border-orange-500/50",children:_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx(eE,{className:"w-6 h-6 text-yellow-500 flex-shrink-0"}),_.jsx("label",{className:"text-base font-bold text-white flex-shrink-0",children:""}),_.jsxs("div",{className:"flex-1 flex items-center justify-end gap-1 min-w-0",children:[_.jsx("input",{type:"text",value:c,onKeyDown:K=>{const ee=K.key;!/[\d0-9]/.test(ee)&&!["Backspace","Delete","Tab","Enter","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"].includes(ee)&&!(K.ctrlKey||K.metaKey)&&!(K.ctrlKey&&["a","c","v","x"].includes(ee.toLowerCase()))&&K.preventDefault()},onChange:K=>{const W=K.target.value.replace(/,/g,"").replace(/[^0-9]/g,"");o(W?parseInt(W,10).toLocaleString():"")},onFocus:K=>{const ee=K.target,W=ee.value.replace(/,/g,"");W&&setTimeout(()=>{const te=W.length;ee.setSelectionRange(te,te)},0)},placeholder:"0",className:"bg-transparent text-white font-black text-base focus:outline-none text-right flex-1 min-w-0",style:{maxWidth:"100%"}}),_.jsx("span",{className:"text-base text-white font-black whitespace-nowrap flex-shrink-0",children:""})]})]})}),_.jsx("div",{className:"bg-gray-800 rounded-xl p-4 border-2 border-orange-500/50",children:_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx(ru,{className:"w-6 h-6 text-yellow-500 flex-shrink-0"}),_.jsx("label",{className:"text-base font-bold text-white flex-shrink-0",children:""}),_.jsxs("div",{className:"flex-1 flex items-center justify-end gap-1 min-w-0",children:[_.jsx("input",{type:"text",value:u,onKeyDown:K=>{const ee=K.key;!/[\d0-9]/.test(ee)&&!["Backspace","Delete","Tab","Enter","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"].includes(ee)&&!(K.ctrlKey||K.metaKey)&&!(K.ctrlKey&&["a","c","v","x"].includes(ee.toLowerCase()))&&K.preventDefault()},onChange:K=>{const W=K.target.value.replace(/[^0-9]/g,"");p(W)},onFocus:K=>{const ee=K.target,W=ee.value;W&&setTimeout(()=>{const te=W.length;ee.setSelectionRange(te,te)},0)},placeholder:"0",className:"bg-transparent text-white font-black text-base focus:outline-none text-right flex-1 min-w-0",style:{maxWidth:"100%"}}),_.jsx("span",{className:"text-base text-white font-black whitespace-nowrap flex-shrink-0",children:""})]})]})}),_.jsx("div",{className:"bg-gray-800 rounded-xl p-4 border-2 border-orange-500/50",children:_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx(zE,{className:"w-6 h-6 text-yellow-500 flex-shrink-0"}),_.jsx("label",{className:"text-base font-bold text-white flex-shrink-0",children:""}),_.jsxs("div",{className:"flex-1 flex items-center justify-end",children:[_.jsx("select",{value:H,onChange:K=>L(K.target.value),className:"flex-1 bg-transparent text-white font-black text-base focus:outline-none appearance-none text-right pr-6",children:Q.map(K=>_.jsxs("option",{value:K,className:"bg-gray-800",children:[K," "]},K))}),_.jsx("span",{className:"text-gray-400 flex-shrink-0 -ml-6 pointer-events-none",children:_.jsx(Zs,{className:"w-5 h-5"})})]})]})}),_.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border-2 border-orange-500/50",children:[_.jsxs("div",{className:"mb-2",children:[_.jsx("label",{className:"text-base font-bold text-white",children:""}),_.jsx("span",{className:"text-sm text-gray-400 ml-2",children:"500()"})]}),_.jsx("textarea",{value:R,onChange:K=>{K.target.value.length<=500&&P(K.target.value)},placeholder:"",rows:3,className:"w-full bg-gray-900 border border-gray-700 rounded-lg p-3 text-white font-bold text-sm focus:outline-none focus:border-orange-500 resize-none"}),_.jsxs("div",{className:"text-sm text-gray-400 mt-1 text-right",children:[R.length,"/500"]})]}),_.jsxs("button",{onClick:B,disabled:I||!c||!u,className:`w-full py-5 rounded-xl font-black text-lg transition-all flex items-center justify-center gap-2 shadow-lg mt-4 ${I||!c||!u?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-yellow-500 text-gray-900 hover:bg-yellow-600 active:scale-95"}`,children:[_.jsx(RE,{className:"w-6 h-6"}),I?"...":""]}),F&&_.jsx("div",{className:"text-center text-green-500 font-bold text-xs",children:F})]}),z&&_.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:_.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-2xl p-6 max-w-sm w-full",children:[_.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[_.jsx(JE,{className:"w-6 h-6 text-red-500 flex-shrink-0"}),_.jsx("h3",{className:"text-lg font-black text-white",children:""})]}),_.jsx("p",{className:"text-sm text-gray-300 mb-6",children:""}),_.jsxs("div",{className:"flex gap-3",children:[_.jsx("button",{onClick:()=>N(!1),disabled:U,className:"flex-1 py-3 rounded-xl font-black text-base bg-gray-800 text-gray-300 hover:bg-gray-700 transition-colors disabled:opacity-50 border border-gray-700",children:""}),_.jsx("button",{onClick:D,disabled:U,className:"flex-1 py-3 rounded-xl font-black text-base bg-red-500 text-white hover:bg-red-600 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:U?_.jsxs(_.Fragment,{children:[_.jsx("span",{className:"animate-spin",children:""}),"..."]}):_.jsxs(_.Fragment,{children:[_.jsx(h0,{className:"w-5 h-5"}),""]})})]})]})})]})},GV=["toppo2000@gmail.com","admin-user@gmail.com"],WV=({stats:r})=>{var v,y;const[t,e]=_e.useState("monthly"),[n,s]=_e.useState([]),[i,a]=_e.useState(new Date),[l,c]=_e.useState([]),o=r.businessStartHour??9,u=(v=pr.currentUser)==null?void 0:v.uid,p=((y=pr.currentUser)==null?void 0:y.email)||"",h=GV.includes(p);_e.useEffect(()=>{const T=Fs($r(Pt,"public_status"),R=>{const P=R.docs.map(H=>({...H.data(),uid:H.id}));s(P)});return()=>T()},[]);const d=T=>{if(T.uid===u||h)return!0;if(!r.followingUsers.includes(T.uid))return!1;const R=T.visibilityMode||"PUBLIC";return R==="PRIVATE"?!1:R==="CUSTOM"?T.allowedViewers&&T.allowedViewers.includes(u||""):!0};_e.useEffect(()=>{t==="daily"&&(async()=>{try{const R=zt(i.getTime(),o),P=[],H=new Date(i);H.setHours(o,0,0,0);const L=new Date(H);L.setDate(L.getDate()+1);const I=H.getTime(),O=L.getTime()-1;for(const F of n.filter(d))try{const q=$r(Pt,"public_status",F.uid,"history"),z=ln(q,Va("timestamp",">=",I),Va("timestamp","<=",O),Vn("timestamp","asc")),N=await In(z);let U=0;if(N.empty){const S=(F.history||[]).filter(E=>zt(E.timestamp,o)===R);U=li(S,o).reduce((E,A)=>E+(A.amount||0),0)}else{const C=[];N.forEach(k=>{const E=k.data();zt(E.timestamp,o)===R&&C.push(E)}),U=li(C,o).reduce((k,E)=>k+(E.amount||0),0)}U>0&&P.push({uid:F.uid,rank:0,name:F.name||"Unknown",amount:U,isMe:F.uid===u})}catch(q){if((q==null?void 0:q.code)==="failed-precondition"){const N=(F.history||[]).filter(S=>zt(S.timestamp,o)===R),C=li(N,o).reduce((S,k)=>S+(k.amount||0),0);C>0&&P.push({uid:F.uid,rank:0,name:F.name||"Unknown",amount:C,isMe:F.uid===u})}}P.sort((F,q)=>q.amount-F.amount),P.forEach((F,q)=>{F.rank=q+1}),c(P)}catch(R){console.error(":",R)}})()},[t,i,n,o,u,r.followingUsers,h]);const x=_e.useMemo(()=>[...n].filter(d).sort((T,R)=>(R.monthlyTotal||0)-(T.monthlyTotal||0)).map((T,R)=>({uid:T.uid,rank:R+1,name:T.name||"Unknown",amount:T.monthlyTotal||0,monthlyGoal:T.monthlyGoal||1e6,isMe:T.uid===u})),[n,u,r.followingUsers,h]),b=T=>{const R=new Date(i);R.setDate(R.getDate()+T),a(R)},g=T=>T.length===0?_.jsxs("div",{className:"text-center py-12 text-gray-600 font-bold bg-gray-900/50 rounded-3xl border border-gray-800",children:[_.jsx(Fc,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),_.jsx("p",{children:""})]}):T.map((R,P)=>{var H;return _.jsxs("div",{className:`group relative overflow-hidden bg-[#1A222C] border ${R.isMe?"border-blue-500/50 bg-blue-900/10":"border-gray-800"} rounded-2xl p-4 flex items-center justify-between transition-all hover:border-gray-600`,children:[_.jsxs("div",{className:"flex items-center gap-4 z-10",children:[_.jsxs("div",{className:`text-xl font-black italic w-6 text-center ${P<3?"text-white drop-shadow-md":"text-gray-600"}`,children:["#",R.rank]}),_.jsx("div",{children:_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:`text-sm font-bold ${R.isMe?"text-blue-400":"text-gray-200"}`,children:R.name}),R.isMe&&_.jsx("span",{className:"text-[9px] bg-blue-500 text-white px-1.5 rounded font-black",children:"YOU"})]})})]}),_.jsx("div",{className:"text-right z-10",children:_.jsx("p",{className:"text-lg font-black text-white tracking-tight",children:qr(R.amount)})}),_.jsx("div",{className:"absolute inset-y-0 left-0 bg-white/5 z-0 transition-all duration-1000 origin-left",style:{width:`${Math.min(100,R.monthlyGoal&&R.monthlyGoal>0?R.amount/R.monthlyGoal*100:T.length>0?R.amount/(((H=T[0])==null?void 0:H.amount)||1)*100:0)}%`}})]},R.uid)});return _.jsxs("div",{className:"p-4 pb-32 space-y-6 w-full overflow-hidden animate-in fade-in duration-500",children:[_.jsxs("div",{className:"flex bg-gray-900/80 p-1.5 rounded-2xl border border-gray-800 backdrop-blur-sm sticky top-0 z-20 shadow-lg",children:[_.jsxs("button",{onClick:()=>e("monthly"),className:`flex-1 py-3 rounded-xl font-black transition-all flex items-center justify-center gap-2 text-sm whitespace-nowrap ${t==="monthly"?"bg-blue-500 text-white shadow-lg scale-[1.02]":"text-gray-500 hover:bg-white/5"}`,children:[_.jsx(Wg,{className:"w-4 h-4"})," "]}),_.jsxs("button",{onClick:()=>e("daily"),className:`flex-1 py-3 rounded-xl font-black transition-all flex items-center justify-center gap-2 text-sm whitespace-nowrap ${t==="daily"?"bg-orange-500 text-white shadow-lg scale-[1.02]":"text-gray-500 hover:bg-white/5"}`,children:[_.jsx(Un,{className:"w-4 h-4"})," "]})]}),t==="daily"&&_.jsx("div",{className:"bg-gray-800 rounded-2xl p-4 border border-gray-700",children:_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("button",{onClick:()=>b(-1),className:"p-2 rounded-xl bg-gray-700 hover:bg-gray-600 transition-colors",children:_.jsx(ci,{className:"w-5 h-5 text-white"})}),_.jsx("div",{className:"flex-1 text-center",children:_.jsx("input",{type:"date",value:Yt(i).replace(/\//g,"-"),onChange:T=>a(new Date(T.target.value)),className:"bg-gray-900 border border-gray-700 rounded-xl px-4 py-2 text-white font-black text-center focus:outline-none focus:border-blue-500"})}),_.jsx("button",{onClick:()=>b(1),className:"p-2 rounded-xl bg-gray-700 hover:bg-gray-600 transition-colors",children:_.jsx(Js,{className:"w-5 h-5 text-white"})})]})}),_.jsx("div",{className:"space-y-3 min-h-[300px]",children:g(t==="monthly"?x:l)})]})},XV=({stats:r,onEditRecord:t})=>{var b;const[e,n]=_e.useState([]),[s,i]=_e.useState("desc"),a=parseInt(((b=r.shimebiDay)==null?void 0:b.toString())||"20"),l=r.businessStartHour??9,[c,o]=_e.useState(()=>{const g=new Date,{start:v,end:y}=yr(g,a,l);return console.log("[SimpleHistoryView] Initializing currentMonth:",{now:`${g.getFullYear()}/${g.getMonth()+1}/${g.getDate()}`,billingPeriod:`${Yt(v)}  ${Yt(y)}`,end:`${y.getFullYear()}/${y.getMonth()+1}/${y.getDate()}`}),y});_e.useEffect(()=>{var P;const g=(P=pr.currentUser)==null?void 0:P.uid;if(!g){n([]);return}(async()=>{try{const H=$r(Pt,"public_status",g,"history"),L=ln(H,Vn("timestamp","desc")),I=await In(L),O=[];I.forEach(q=>{O.push(q.data())});const F=O.filter(q=>{var z;return(z=q.remarks)==null?void 0:z.includes("")}).sort((q,z)=>q.timestamp-z.timestamp);n(F),console.log("[SimpleHistoryView] Loaded",F.length,"records from public_status subcollection (total:",O.length,")")}catch(H){console.error("[SimpleHistoryView] Error loading history:",H),n([])}})();const y=$r(Pt,"public_status",g,"history"),T=ln(y,Vn("timestamp","desc")),R=Fs(T,H=>{const L=[];H.forEach(O=>{L.push(O.data())});const I=L.filter(O=>{var F;return(F=O.remarks)==null?void 0:F.includes("")}).sort((O,F)=>O.timestamp-F.timestamp);n(I),console.log("[SimpleHistoryView] Subcollection updated:",I.length,"simple mode records (total:",L.length,")")},H=>{console.error("[SimpleHistoryView] Error in subcollection snapshot:",H),n([])});return()=>R()},[]);const u=_e.useMemo(()=>{const g={},v=new Date(c.getFullYear(),c.getMonth(),a===0?28:a),{start:y,end:T}=yr(v,a,l),R=new Date(T);a!==0&&(R.setDate(a),R.setHours(23,59,59,999));const P=Yt(y),H=Yt(R);Array.from(new Map(e.map(F=>[F.id,F])).values()).forEach(F=>{var z,N,U;const q=zt(F.timestamp,l);if(q>=P&&q<=H){const C=new Date(F.timestamp);let S=0;const k=(z=F.remarks)==null?void 0:z.match(/=(\d+)/);k&&(S=parseInt(k[1],10));let E,A;const j=(N=F.remarks)==null?void 0:N.match(/=(\d{2}:\d{2})/),B=(U=F.remarks)==null?void 0:U.match(/=(\d{2}:\d{2})/);j&&(E=j[1]),B&&(A=B[1]);let D;if(E&&A){const[K,ee]=E.split(":").map(Number),[W,te]=A.split(":").map(Number),G=K*60+ee;let Z=W*60+te-G;if(Z<0&&(Z+=1440),Z>0){const ae=Z/60;D=Math.round(F.amount/ae)}}g[q]||(g[q]=[]),g[q].find(K=>K.record.id===F.id)||g[q].push({date:q,dateObj:C,rideCount:S,sales:F.amount,record:F,startTime:E,endTime:A,hourlySales:D})}});const O=Object.keys(g).sort((F,q)=>{const z=new Date(F.replace(/\//g,"-")),N=new Date(q.replace(/\//g,"-"));return s==="desc"?N.getTime()-z.getTime():z.getTime()-N.getTime()}).map(F=>g[F].sort((N,U)=>U.record.timestamp-N.record.timestamp)[0]).filter(Boolean);return console.log("[SimpleHistoryView] Daily records:",{currentMonth:`${c.getFullYear()}/${c.getMonth()+1}/${c.getDate()}`,targetReferenceDate:`${v.getFullYear()}/${v.getMonth()+1}/${v.getDate()}`,month:`${R.getFullYear()}${R.getMonth()+1}`,billingPeriod:`${P}  ${H}`,count:O.length,records:O.map(F=>F.date)}),O},[e,c,a,l,s]),p=_e.useMemo(()=>{const g=u.reduce((L,I)=>L+I.sales,0),v=u.reduce((L,I)=>L+I.rideCount,0),y=new Set(u.map(L=>L.date)).size,T=u.filter(L=>L.hourlySales!==void 0),R=T.reduce((L,I)=>L+(I.hourlySales||0),0),P=T.length,H=P>0?Math.round(R/P):0;return{totalSales:g,averageSales:y>0?Math.round(g/y):0,totalRides:v,averageRides:y>0?Math.round(v/y):0,averageHourlySales:H}},[u]),h=g=>{o(v=>{const y=new Date(v);g==="prev"?y.setMonth(y.getMonth()-1):y.setMonth(y.getMonth()+1);const{end:T}=yr(y,a,l);return T})},d=g=>{const v=new Date(g.replace(/\//g,"-")),y=v.getFullYear(),T=v.getMonth()+1,R=v.getDate(),H=["","","","","","",""][v.getDay()];return`${y}${T}${R}(${H})`},x=_e.useMemo(()=>{const g=new Date(c.getFullYear(),c.getMonth(),a===0?28:a),{end:v}=yr(g,a,l),y=new Date(v);return a!==0&&y.setDate(a),`${y.getFullYear()}${y.getMonth()+1}`},[c,a,l]);return _.jsxs("div",{className:"w-full bg-[#0A0E14] min-h-screen pb-32",children:[_.jsxs("div",{className:"bg-[#0A0E14] border-b border-gray-700 px-4 py-3 flex items-center justify-between",children:[_.jsx("div",{className:"w-8"}),_.jsx("h1",{className:"text-lg font-black text-white",children:""}),_.jsx("div",{className:"w-8"})]}),_.jsxs("div",{className:"p-4 space-y-4",children:[_.jsxs("div",{className:"flex items-center justify-center",children:[_.jsx("button",{onClick:()=>h("prev"),className:"p-2 text-gray-400 hover:text-white",children:_.jsx(ci,{className:"w-5 h-5"})}),_.jsxs("div",{className:"mx-4 px-4 py-2 border-2 border-orange-500 rounded-lg bg-white flex items-center gap-2",children:[_.jsx("span",{className:"text-base font-black text-gray-900",children:x}),_.jsxs("div",{className:"flex flex-col",children:[_.jsx(Jd,{className:"w-3 h-3 text-gray-600"}),_.jsx(Zs,{className:"w-3 h-3 text-gray-600"})]})]}),_.jsx("button",{onClick:()=>h("next"),className:"p-2 text-gray-400 hover:text-white",children:_.jsx(Js,{className:"w-5 h-5"})})]}),_.jsxs("div",{className:"bg-gray-800 rounded-2xl p-4 border border-gray-700",children:[_.jsxs("h2",{className:"text-base font-black text-white mb-3 flex items-center gap-2",children:[_.jsx(Un,{className:"w-5 h-5 text-yellow-500"}),""]}),_.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[_.jsxs("div",{className:"bg-gray-800 rounded-xl p-3 border-2 border-orange-500/50",children:[_.jsx("div",{className:"text-xs text-orange-400 font-bold mb-1",children:""}),_.jsxs("div",{className:"text-xl font-black text-white",children:["",p.totalSales.toLocaleString()]})]}),_.jsxs("div",{className:"bg-gray-800 rounded-xl p-3 border-2 border-orange-500/50",children:[_.jsx("div",{className:"text-xs text-orange-400 font-bold mb-1",children:"1"}),_.jsxs("div",{className:"text-xl font-black text-white",children:["",p.averageSales.toLocaleString()]})]}),_.jsxs("div",{className:"bg-gray-800 rounded-xl p-3 border-2 border-orange-500/50",children:[_.jsx("div",{className:"text-xs text-orange-400 font-bold mb-1",children:""}),_.jsxs("div",{className:"text-xl font-black text-white",children:[p.totalRides,""]})]}),_.jsxs("div",{className:"bg-gray-800 rounded-xl p-3 border-2 border-orange-500/50",children:[_.jsx("div",{className:"text-xs text-orange-400 font-bold mb-1",children:""}),_.jsxs("div",{className:"text-xl font-black text-white",children:[p.averageRides,""]})]})]}),p.averageHourlySales>0&&_.jsx("div",{className:"mt-3",children:_.jsxs("div",{className:"bg-gray-800 rounded-xl p-3 border-2 border-orange-500/50",children:[_.jsx("div",{className:"text-xs text-orange-400 font-bold mb-1",children:""}),_.jsxs("div",{className:"text-xl font-black text-white",children:["",p.averageHourlySales.toLocaleString()]})]})})]}),_.jsxs("div",{className:"bg-gray-800 rounded-2xl p-4 border border-gray-700",children:[_.jsx("div",{className:"mb-4",children:_.jsx("button",{onClick:()=>i(g=>g==="desc"?"asc":"desc"),className:"w-full py-4 px-4 bg-orange-500 hover:bg-orange-600 rounded-xl transition-colors flex items-center justify-center gap-3 shadow-lg active:scale-95",children:s==="desc"?_.jsxs(_.Fragment,{children:[_.jsx(Zs,{className:"w-6 h-6 text-white"}),_.jsx("span",{className:"text-lg font-black text-white",children:""}),_.jsx(Zs,{className:"w-6 h-6 text-white"})]}):_.jsxs(_.Fragment,{children:[_.jsx(Jd,{className:"w-6 h-6 text-white"}),_.jsx("span",{className:"text-lg font-black text-white",children:""}),_.jsx(Jd,{className:"w-6 h-6 text-white"})]})})}),_.jsx("div",{className:"space-y-3",children:u.length===0?_.jsxs("div",{className:"text-center py-12 text-gray-400 bg-gray-900/50 rounded-2xl border border-gray-800",children:[_.jsx(Un,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),_.jsx("p",{className:"text-sm font-bold",children:""})]}):u.map((g,v)=>_.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border-2 border-orange-500/50 hover:border-orange-500 transition-colors shadow-lg",children:[_.jsxs("div",{className:"flex items-center justify-between mb-2",children:[_.jsx("div",{className:"text-lg font-black text-white",children:d(g.date)}),t&&_.jsx("button",{onClick:()=>t(g.record),className:"px-4 py-2 bg-orange-500 rounded-lg text-sm font-black text-white hover:bg-orange-600 transition-colors active:scale-95 shadow-md whitespace-nowrap",children:""})]}),_.jsxs("div",{className:"flex flex-col gap-2",children:[_.jsxs("div",{className:"flex items-center gap-6",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"text-sm text-orange-400 font-bold whitespace-nowrap",children:""}),_.jsxs("span",{className:"text-lg font-black text-white whitespace-nowrap",children:[g.rideCount,""]})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"text-sm text-orange-400 font-bold whitespace-nowrap",children:""}),_.jsxs("span",{className:"text-lg font-black text-yellow-400 whitespace-nowrap",children:[g.sales.toLocaleString(),""]})]})]}),g.hourlySales!==void 0&&_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"text-sm text-orange-400 font-bold whitespace-nowrap",children:""}),_.jsxs("span",{className:"text-lg font-black text-green-400 whitespace-nowrap",children:[g.hourlySales.toLocaleString(),""]})]})]})]},`${g.date}-${v}`))})]})]})]})},YV=({progress:r,color:t})=>{const e=t==="amber",n=e?"bg-amber-500 shadow-[0_0_15px_#F59E0B]":"bg-blue-500 shadow-[0_0_15px_#3B82F6]",s=e?"border-amber-400/40":"border-blue-400/40";return _.jsx("div",{className:`w-full bg-[#05080C] border-2 ${s} rounded-full h-8 p-1 overflow-hidden shadow-[inset_0_2px_10px_rgba(0,0,0,0.8)]`,children:_.jsx("div",{className:`h-full transition-all duration-1000 ease-out rounded-full ${n}`,style:{width:`${Math.min(100,r)}%`}})})},KV=({stats:r,onUpdateStats:t,onNavigateToInput:e,history:n=[]})=>{const[s,i]=_e.useState(r.monthlyGoal.toLocaleString()),[a,l]=_e.useState((r.plannedWorkDays||0).toString()),[c,o]=_e.useState(r.shimebiDay.toString()),[u,p]=_e.useState(!1),[h,d]=_e.useState(!1),[x,b]=_e.useState(!1),[g,v]=_e.useState(!1),[y,T]=_e.useState(!1),[R,P]=_e.useState(!1),[H,L]=_e.useState([]),[I,O]=_e.useState(new Date),[F,q]=_e.useState(""),[z,N]=_e.useState(r.userName||""),U=_e.useRef(0),C=r.businessStartHour??9,S=parseInt(c)||r.shimebiDay||20;_e.useEffect(()=>{o(r.shimebiDay.toString())},[r.shimebiDay]),_e.useEffect(()=>{N(r.userName||"")},[r.userName]);const{start:k,end:E}=_e.useMemo(()=>yr(new Date,S,C),[S,C]),A=_e.useMemo(()=>{const ne=`${k.getFullYear()}/${String(k.getMonth()+1).padStart(2,"0")}/${String(k.getDate()).padStart(2,"0")}`,fe=`${E.getFullYear()}/${String(E.getMonth()+1).padStart(2,"0")}/${String(E.getDate()).padStart(2,"0")}`;return`${ne} ~ ${fe}`},[k,E]),[j,B]=_e.useState(0);_e.useEffect(()=>{var pe;const ne=ir(Pt,"public_status",((pe=pr.currentUser)==null?void 0:pe.uid)||""),fe=Fs(ne,ke=>{if(ke.exists()){const Ce=ke.data();B(Ce.monthlyTotal||0)}else B(0)},ke=>{console.error(":",ke),B(0)});return()=>fe()},[]);const D=Math.max(0,r.monthlyGoal-j),Q=_e.useMemo(()=>{const ne=parseInt(a)||0;return ne>0?Math.ceil(D/ne):0},[D,a]),K=_e.useMemo(()=>{const ne=new Date(E);S!==0&&(ne.setDate(S),ne.setHours(23,59,59,999));const fe=Yt(k),pe=Yt(ne),ke={};n.forEach($e=>{var it;if((it=$e.remarks)!=null&&it.includes("")){const st=zt($e.timestamp,C);st>=fe&&st<=pe&&(ke[st]||(ke[st]=[]),ke[st].push($e))}});const Fe=Object.values(ke).flat().reduce(($e,it)=>$e+it.amount,0),We=Object.keys(ke).length;return We>0?Math.round(Fe/We):0},[n,C,k,E,S]),ee=_e.useMemo(()=>r.monthlyGoal>0?Math.min(100,Math.round(j/r.monthlyGoal*100)):0,[j,r.monthlyGoal]),W=_e.useMemo(()=>zt(Date.now(),C),[C]),te=_e.useMemo(()=>{const ne=[],fe=zt(E.getTime(),C);ne.includes(W)||ne.push(W);const pe=new Date;pe.setHours(C,0,0,0),pe.setDate(pe.getDate()+1);const ke=new Date(E);ke.setHours(23,59,59,999);const Ce=new Date(pe);for(;Ce<=ke;){const Fe=zt(Ce.getTime(),C);Fe>W&&Fe<=fe&&(ne.includes(Fe)||ne.push(Fe)),Ce.setDate(Ce.getDate()+1)}return ne.sort()},[E,C,W]),G=_e.useMemo(()=>{const ne=new Set;return n.forEach(fe=>{var pe;if((pe=fe.remarks)!=null&&pe.includes("")){const ke=zt(fe.timestamp,C);ne.add(ke)}}),ne},[n,C]),V=_e.useMemo(()=>{const{start:ne,end:fe}=yr(I,S,C);fe.getFullYear(),fe.getMonth();const pe=new Date(ne),ke=pe.getDay();pe.setDate(pe.getDate()-ke),pe.setHours(0,0,0,0);const Ce=new Date(fe),Fe=Ce.getDay();Ce.setDate(Ce.getDate()+(6-Fe)),Ce.setHours(23,59,59,999);const We=[],$e=new Date(pe),it=Yt(ne),st=Yt(fe);for(let et=0;et<35;et++){const Ze=Yt($e),gt=new Date($e);gt.setHours(C,0,0,0);const mt=zt(gt.getTime(),C),Me=mt>=it&&mt<=st;We.push({date:new Date($e),dateStr:Ze,isInBillingPeriod:Me}),$e.setDate($e.getDate()+1)}return We},[I,S,C]);_e.useEffect(()=>{if(R){const ne=parseInt(a)||0;if(ne>0&&te.length>=ne){const pe=te.slice(0,ne);L(pe)}else L([]);const{end:fe}=yr(new Date,S,C);O(fe)}},[R,a,te,C,S]);const Z=async()=>{var fe;U.current=window.scrollY;const ne=An(F||s);i(ne.toLocaleString()),t({monthlyGoal:ne}),v(!1),q("");try{const pe=ir(Pt,"public_status",((fe=pr.currentUser)==null?void 0:fe.uid)||"");await an(pe,{monthlyGoal:ne,lastUpdated:Date.now()},{merge:!0})}catch(pe){console.error(":",pe)}setTimeout(()=>{window.scrollTo({top:U.current,behavior:"auto"})},100)},ae=async ne=>{var ke;U.current=window.scrollY;const fe=ne||c,pe=fe==="0"||fe===""?0:parseInt(fe)||20;o(pe.toString()),t({shimebiDay:pe}),b(!1);try{const Ce=ir(Pt,"public_status",((ke=pr.currentUser)==null?void 0:ke.uid)||"");await an(Ce,{shimebiDay:pe,lastUpdated:Date.now()},{merge:!0})}catch(Ce){console.error(":",Ce)}setTimeout(()=>{window.scrollTo({top:U.current,behavior:"auto"})},100)},re=ne=>{U.current=window.scrollY,ne()},oe=async()=>{var fe;U.current=window.scrollY;const ne=H.length;l(ne.toString()),t({plannedWorkDays:ne}),P(!1);try{const pe=ir(Pt,"public_status",((fe=pr.currentUser)==null?void 0:fe.uid)||"");await an(pe,{plannedWorkDays:ne,lastUpdated:Date.now()},{merge:!0})}catch(pe){console.error(":",pe)}setTimeout(()=>{window.scrollTo({top:U.current,behavior:"auto"})},100)},he=ne=>{te.includes(ne)&&L(pe=>pe.includes(ne)?pe.filter(ke=>ke!==ne):[...pe,ne].sort())},Se=ne=>{O(fe=>{const pe=new Date(fe);ne==="prev"?pe.setMonth(pe.getMonth()-1):pe.setMonth(pe.getMonth()+1);const{end:ke}=yr(pe,S,C);return ke})},ge=async()=>{var fe;U.current=window.scrollY;const ne=z.trim();t({userName:ne}),T(!1);try{const pe=ir(Pt,"public_status",((fe=pr.currentUser)==null?void 0:fe.uid)||"");await an(pe,{name:ne,lastUpdated:Date.now()},{merge:!0})}catch(pe){console.error(":",pe)}setTimeout(()=>{window.scrollTo({top:U.current,behavior:"auto"})},100)};return _.jsxs("div",{className:"w-full bg-[#0A0E14] min-h-screen pb-32",children:[_.jsx("div",{className:"bg-[#0A0E14] border-b border-gray-700 px-4 py-3",children:_.jsx("h1",{className:"text-lg font-black text-white text-center",children:""})}),_.jsxs("div",{className:"p-4 space-y-4",children:[_.jsxs("div",{className:"bg-gray-900 rounded-2xl p-4 border border-gray-800",children:[_.jsxs("div",{className:"flex items-center justify-between mb-3",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(Un,{className:"w-5 h-5 text-yellow-500"}),_.jsx("h2",{className:"text-base font-black text-white",children:""})]}),_.jsx("div",{className:"px-3 py-1 bg-purple-900/30 border border-purple-500/30 rounded-full",children:_.jsx("span",{className:"text-xs text-purple-300 font-bold",children:A})})]}),_.jsxs("div",{className:"flex items-end justify-between gap-4 mb-3",children:[_.jsxs("div",{className:"flex items-baseline",children:[_.jsx("span",{className:"text-3xl font-black text-orange-500 relative",style:{textShadow:"2px 2px 0 #DC2626, -2px 0 0 #DC2626, 0 2px 0 #DC2626"},children:""}),_.jsx("span",{className:"text-4xl font-black text-white ml-1",children:j.toLocaleString()})]}),_.jsxs("div",{className:"text-right",children:[_.jsx("div",{className:"text-xs text-gray-400 mb-1",children:""}),_.jsxs("div",{className:"text-xl font-black text-orange-500",children:[a,""]})]})]}),_.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border-2 border-orange-500/50 mb-3",children:[_.jsxs("div",{className:"flex items-center justify-between mb-2",children:[_.jsx("div",{className:"text-xs text-gray-400",children:" (1)"}),_.jsx(d0,{className:"w-5 h-5 text-gray-400"})]}),_.jsxs("div",{className:"text-2xl font-black text-white",children:["",Q.toLocaleString()]})]}),_.jsxs("div",{className:"mb-3",children:[_.jsx(YV,{progress:ee,color:"amber"}),_.jsxs("div",{className:"flex items-center justify-between mt-2",children:[_.jsxs("span",{className:"text-xs text-gray-400",children:[ee,"% "]}),_.jsxs("span",{className:"text-xs text-gray-400 underline",children:[" ",r.monthlyGoal.toLocaleString()]})]})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[_.jsxs("div",{className:"bg-gray-800 rounded-xl p-3 border-2 border-orange-500/50",children:[_.jsx(Io,{className:"w-5 h-5 text-orange-500 mb-2"}),_.jsx("div",{className:"text-xs text-gray-400 mb-1",children:""}),_.jsxs("div",{className:"text-xl font-black text-white",children:["",D.toLocaleString()]})]}),_.jsxs("div",{className:"bg-gray-800 rounded-xl p-3 border-2 border-orange-500/50",children:[_.jsx(d0,{className:"w-5 h-5 text-orange-500 mb-2"}),_.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"1"}),_.jsxs("div",{className:"text-xl font-black text-white",children:["",K.toLocaleString()]})]})]})]}),_.jsx("button",{onClick:e,className:"w-full bg-yellow-500 rounded-2xl py-5 font-black text-xl text-gray-900 shadow-lg hover:bg-yellow-600 active:scale-95 transition-all",children:""}),_.jsxs("div",{className:"bg-gray-900 rounded-2xl p-4 border border-gray-800 space-y-3",children:[_.jsx("h3",{className:"text-base font-black text-white mb-3",children:""}),_.jsx("div",{className:"bg-gray-800 rounded-xl p-3 border-2 border-orange-500/50",children:_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(jl,{className:"w-4 h-4 text-yellow-500 flex-shrink-0"}),_.jsx("label",{className:"text-sm font-bold text-gray-400 flex-1",children:""}),_.jsx("span",{className:"text-base font-black text-white flex-1 text-right",children:r.userName||""}),_.jsx("button",{onClick:()=>{N(r.userName||""),re(()=>T(!0))},className:"p-2 text-yellow-500 hover:text-yellow-400 transition-colors",children:_.jsx(Wv,{className:"w-5 h-5"})})]})}),_.jsx("div",{className:"bg-gray-800 rounded-xl p-3 border-2 border-orange-500/50",children:_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(Io,{className:"w-4 h-4 text-yellow-500 flex-shrink-0"}),_.jsx("label",{className:"text-xs font-bold text-gray-400 w-16 flex-shrink-0",children:""}),_.jsxs("button",{onClick:()=>{q(s),re(()=>v(!0))},className:"flex-1 bg-white border-2 border-orange-500 rounded-lg px-4 py-3 text-gray-900 font-black text-base flex items-center justify-between",children:[_.jsxs("span",{children:[s," "]}),_.jsx(Wv,{className:"w-4 h-4"})]})]})}),_.jsx("div",{className:"bg-gray-800 rounded-xl p-3 border-2 border-orange-500/50",children:_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(Un,{className:"w-4 h-4 text-yellow-500 flex-shrink-0"}),_.jsx("label",{className:"text-sm font-bold text-gray-400 flex-1",children:""}),_.jsxs("button",{onClick:()=>re(()=>P(!0)),className:"flex-1 bg-white border-2 border-orange-500 rounded-lg px-4 py-3 text-gray-900 font-black text-base flex items-center justify-between",children:[_.jsxs("span",{children:[a," "]}),_.jsx(Un,{className:"w-4 h-4"})]})]})}),_.jsx("div",{className:"bg-gray-800 rounded-xl p-3 border-2 border-orange-500/50",children:_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(Un,{className:"w-4 h-4 text-yellow-500 flex-shrink-0"}),_.jsx("label",{className:"text-xs font-bold text-gray-400 w-16 flex-shrink-0",children:""}),_.jsxs("button",{onClick:()=>re(()=>b(!0)),className:"flex-1 bg-white border-2 border-orange-500 rounded-lg px-4 py-3 text-gray-900 font-black text-base flex items-center justify-between",children:[_.jsx("span",{children:S===0?"":`${S}`}),_.jsx(Zs,{className:"w-4 h-4"})]})]})})]}),x&&_.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm",children:_.jsxs("div",{className:"bg-[#131C2B] p-6 rounded-3xl space-y-6 max-w-md w-full mx-4 max-h-[80vh] overflow-y-auto",children:[_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsxs("h3",{className:"text-xl font-black text-white flex items-center gap-2",children:[_.jsx(Un,{className:"w-6 h-6 text-yellow-500"})," "]}),_.jsx("button",{onClick:()=>{b(!1),setTimeout(()=>{window.scrollTo({top:U.current,behavior:"auto"})},100)},className:"p-2 bg-gray-800 rounded-full text-gray-400 hover:text-white active:scale-95",children:_.jsx(ba,{className:"w-5 h-5"})})]}),_.jsxs("div",{className:"space-y-2",children:[Array.from({length:28}).map((ne,fe)=>{const pe=fe+1;return _.jsxs("button",{onClick:()=>ae(pe.toString()),className:`w-full p-4 rounded-xl text-left transition-all ${S===pe?"bg-yellow-500 text-gray-900 font-black":"bg-gray-800 text-white font-bold hover:bg-gray-700"}`,children:[pe,""]},pe)}),_.jsx("button",{onClick:()=>ae("0"),className:`w-full p-4 rounded-xl text-left transition-all ${S===0?"bg-yellow-500 text-gray-900 font-black":"bg-gray-800 text-white font-bold hover:bg-gray-700"}`,children:""})]})]})}),g&&_.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm",children:_.jsxs("div",{className:"bg-[#131C2B] p-6 rounded-3xl space-y-6 max-w-md w-full mx-4",children:[_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsxs("h3",{className:"text-xl font-black text-white flex items-center gap-2",children:[_.jsx(Io,{className:"w-6 h-6 text-yellow-500"})," "]}),_.jsx("button",{onClick:()=>{v(!1),setTimeout(()=>{window.scrollTo({top:U.current,behavior:"auto"})},100)},className:"p-2 bg-gray-800 rounded-full text-gray-400 hover:text-white active:scale-95",children:_.jsx(ba,{className:"w-5 h-5"})})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"text-sm font-bold text-gray-400 block mb-2",children:""}),_.jsx("input",{type:"text",value:F,onChange:ne=>q(Uo(ne.target.value)),placeholder:": 1,000,000",className:"w-full bg-white border-2 border-orange-500 rounded-xl px-4 py-3 text-gray-900 font-black text-lg focus:outline-none focus:ring-2 focus:ring-orange-500",autoFocus:!0,onKeyDown:ne=>{ne.key==="Enter"&&F.trim()&&Z()}})]}),_.jsxs("div",{className:"flex gap-3",children:[_.jsx("button",{onClick:()=>{v(!1),setTimeout(()=>{window.scrollTo({top:U.current,behavior:"auto"})},100)},className:"flex-1 py-3 bg-gray-800 text-gray-300 font-bold rounded-xl border border-gray-700 hover:bg-gray-700 transition-colors",children:""}),_.jsx("button",{onClick:Z,disabled:!F.trim(),className:`flex-1 py-3 rounded-xl font-black transition-all ${F.trim()?"bg-orange-500 text-white hover:bg-orange-600 active:scale-95":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:""})]})]})]})}),y&&_.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm",children:_.jsxs("div",{className:"bg-[#131C2B] p-6 rounded-3xl space-y-6 max-w-md w-full mx-4",children:[_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsxs("h3",{className:"text-xl font-black text-white flex items-center gap-2",children:[_.jsx(jl,{className:"w-6 h-6 text-yellow-500"})," "]}),_.jsx("button",{onClick:()=>{T(!1),setTimeout(()=>{window.scrollTo({top:U.current,behavior:"auto"})},100)},className:"p-2 bg-gray-800 rounded-full text-gray-400 hover:text-white active:scale-95",children:_.jsx(ba,{className:"w-5 h-5"})})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"text-sm font-bold text-gray-400 block mb-2",children:""}),_.jsx("input",{type:"text",value:z,onChange:ne=>N(ne.target.value),placeholder:"",className:"w-full bg-white border-2 border-orange-500 rounded-xl px-4 py-3 text-gray-900 font-black text-lg focus:outline-none focus:ring-2 focus:ring-orange-500",autoFocus:!0,onKeyDown:ne=>{ne.key==="Enter"&&z.trim()&&ge()}})]}),_.jsxs("div",{className:"flex gap-3",children:[_.jsx("button",{onClick:()=>{T(!1),setTimeout(()=>{window.scrollTo({top:U.current,behavior:"auto"})},100)},className:"flex-1 py-3 bg-gray-800 text-gray-300 font-bold rounded-xl border border-gray-700 hover:bg-gray-700 transition-colors",children:""}),_.jsx("button",{onClick:ge,disabled:!z.trim(),className:`flex-1 py-3 rounded-xl font-black transition-all ${z.trim()?"bg-orange-500 text-white hover:bg-orange-600 active:scale-95":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:""})]})]})]})}),R&&_.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm",children:_.jsxs("div",{className:"bg-[#131C2B] p-6 rounded-3xl space-y-6 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsxs("h3",{className:"text-xl font-black text-white flex items-center gap-2",children:[_.jsx(Un,{className:"w-6 h-6 text-yellow-500"})," "]}),_.jsx("button",{onClick:()=>{P(!1),setTimeout(()=>{window.scrollTo({top:U.current,behavior:"auto"})},100)},className:"p-2 bg-gray-800 rounded-full text-gray-400 hover:text-white active:scale-95",children:_.jsx(ba,{className:"w-5 h-5"})})]}),_.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border-2 border-orange-500/50",children:[_.jsx("div",{className:"text-sm text-gray-400 mb-1",children:""}),_.jsxs("div",{className:"text-2xl font-black text-white",children:[H.length," "]})]}),_.jsxs("div",{className:"flex items-center justify-between bg-gray-950 rounded-2xl p-2 border-2 border-gray-700",children:[_.jsx("button",{onClick:()=>Se("prev"),className:"p-3 text-gray-400 active:scale-90",children:_.jsx(ci,{className:"w-6 h-6"})}),_.jsx("div",{className:"text-xl font-black text-white",children:(()=>{const{end:ne}=yr(I,S,C);return`${ne.getFullYear()} / ${String(ne.getMonth()+1).padStart(2,"0")}`})()}),_.jsx("button",{onClick:()=>Se("next"),className:"p-3 text-gray-400 active:scale-90",children:_.jsx(Js,{className:"w-6 h-6"})})]}),_.jsxs("div",{children:[_.jsx("div",{className:"grid grid-cols-7 gap-2 mb-2",children:["","","","","","",""].map(ne=>_.jsx("div",{className:"text-center text-sm font-bold text-gray-400",children:ne},ne))}),_.jsx("div",{className:"grid grid-cols-7 gap-2",children:V.map(({date:ne,isCurrentMonth:fe,dateStr:pe,isInBillingPeriod:ke})=>{const Ce=new Date(ne);Ce.setHours(C,0,0,0);const Fe=zt(Ce.getTime(),C);if(!ke)return _.jsx("div",{className:"aspect-square rounded-xl flex items-center justify-center bg-gray-900/50 opacity-50 cursor-not-allowed",children:_.jsx("span",{className:"text-base text-gray-400",children:ne.getDate()})},pe);const We=te.includes(Fe),$e=H.includes(Fe),it=Fe===W,st=G.has(Fe),et=Fe<W,Ze=We&&!st;return _.jsx("button",{onClick:()=>Ze&&he(Fe),disabled:!Ze,className:`aspect-square rounded-xl flex items-center justify-center transition-all ${Ze?$e?"bg-orange-500 text-gray-900 font-black":et?"bg-gray-800/50 text-gray-500":fe?"bg-gray-800 text-white font-bold hover:bg-gray-700":"bg-gray-800/50 text-gray-500":st?"bg-orange-500 text-gray-900 font-black cursor-not-allowed":"bg-gray-800/50 text-gray-500 cursor-not-allowed"} ${it?"ring-2 ring-orange-500":""} active:scale-95`,children:_.jsx("span",{className:"text-base",children:ne.getDate()})},pe)})})]}),_.jsxs("button",{onClick:oe,className:"w-full py-4 bg-orange-500 text-white font-black text-lg rounded-xl hover:bg-orange-600 active:scale-95 transition-all",children:[" (",H.length," )"]})]})})]})]})},QV="/assets/navi-loading-BiSO-nA6.png",ZV=()=>_.jsxs("div",{className:"min-h-screen bg-[#0A0E14] flex flex-col items-center justify-center text-amber-500 space-y-8 animate-in fade-in duration-500",children:[_.jsxs("div",{className:"relative w-64 h-64 flex items-center justify-center",children:[_.jsx("div",{className:"absolute inset-0 bg-amber-500/20 blur-[60px] rounded-full animate-pulse"}),_.jsx("img",{src:QV,alt:"System Navi",className:"relative z-10 w-full h-full object-contain drop-shadow-[0_0_15px_rgba(245,158,11,0.5)]"})]}),_.jsxs("div",{className:"flex flex-col items-center gap-4",children:[_.jsx(_l,{className:"animate-spin text-amber-500",size:40}),_.jsxs("div",{className:"flex flex-col items-center",children:[_.jsx("span",{className:"text-amber-500 font-black tracking-[0.3em] uppercase text-xs animate-pulse",children:"Initializing Navi System"}),_.jsx("div",{className:"h-[2px] w-48 bg-gray-800 mt-2 overflow-hidden rounded-full",children:_.jsx("div",{className:"h-full bg-amber-500 w-1/3 animate-[loading_1.5s_infinite_linear]"})})]})]}),_.jsx("style",{children:`
        @keyframes loading {
          0% { transform: translateX(-100%); }
          100% { transform: translateX(200%); }
        }
      `})]}),hS="/assets/navi-chibi-B6uWjRBG.png",JV=({onLoginStart:r})=>{const t=async()=>{var e;try{r&&r(),console.log("Login button clicked");const n=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),s=window.navigator.standalone||window.matchMedia("(display-mode: standalone)").matches;if(n||s){if(console.log("Mobile/Standalone detected, using redirect method"),typeof window<"u"){const a=window.location.href,l=window.location.hostname,c=window.location.port||"",o=`${window.location.protocol}//${l}${c?":"+c:""}`;console.log("[Login] Saving redirect info (mobile):",{currentUrl:a,hostname:l,port:c,origin:o});try{localStorage.setItem("login_redirect_url",a),localStorage.setItem("auth_redirect_origin",o),localStorage.setItem("auth_redirect_hostname",l),c&&localStorage.setItem("auth_redirect_port",c),localStorage.setItem("auth_login_attempt",new Date().toISOString()),console.log("[Login] Successfully saved redirect info to localStorage")}catch(u){console.error("[Login] Failed to save redirect info to localStorage:",u),alert("")}try{sessionStorage.setItem("login_redirect_url",a),sessionStorage.setItem("auth_redirect_origin",o),sessionStorage.setItem("auth_redirect_hostname",l),c&&sessionStorage.setItem("auth_redirect_port",c),console.log("[Login] Successfully saved redirect info to sessionStorage")}catch(u){console.warn("[Login] sessionStorage not available (this is normal on some mobile browsers):",u)}}console.log("[Login] Calling signInWithRedirect..."),console.log("[Login] Current URL before redirect:",window.location.href),console.log("[Login] Auth domain:",pr.config.authDomain),console.log("[Login] Google provider:",kl);const i=localStorage.getItem("auth_redirect_origin");console.log("[Login] Saved redirect origin:",i);try{const a=bw(pr,kl);console.log("[Login] signInWithRedirect called, waiting for redirect...");const l=new Promise((c,o)=>{setTimeout(()=>{o(new Error("Redirect timeout: signInWithRedirect did not redirect within 5 seconds"))},5e3)});await Promise.race([a,l]),console.warn("[Login]  signInWithRedirect completed without redirect"),alert("")}catch(a){console.error("[Login]  signInWithRedirect error:",a),console.error("[Login] Error code:",a==null?void 0:a.code),console.error("[Login] Error message:",a==null?void 0:a.message),console.error("[Login] Error stack:",a==null?void 0:a.stack);let l=`

`;(a==null?void 0:a.code)==="auth/unauthorized-domain"?l+=`: 
Firebase Console`:(a==null?void 0:a.code)==="auth/operation-not-allowed"?l+=`: Google
Firebase ConsoleGoogle`:(e=a==null?void 0:a.message)!=null&&e.includes("timeout")?l+=`: 
`:l+=`: ${(a==null?void 0:a.code)||"unknown"}
: ${(a==null?void 0:a.message)||"Unknown error"}`,alert(l+`

`)}return}if(console.log("Desktop detected, trying popup method"),typeof window<"u"){const i=window.location.hostname,a=window.location.port||"5173",l=`${window.location.protocol}//${i}${a?":"+a:""}`;localStorage.setItem("local_dev_hostname",i),localStorage.setItem("local_dev_port",a),localStorage.setItem("local_dev_origin",l);try{sessionStorage.setItem("local_dev_hostname",i),sessionStorage.setItem("local_dev_port",a),sessionStorage.setItem("local_dev_origin",l)}catch(c){console.warn("sessionStorage not available:",c)}}await tC(pr,kl),console.log("Login successful")}catch(n){if(console.error("Login error:",n),(n==null?void 0:n.code)==="auth/popup-blocked"){if(confirm(`



Firebase`))try{if(typeof window<"u"){const i=window.location.hostname,a=window.location.port||"",l=`${window.location.protocol}//${i}${a?":"+a:""}`;console.log("[Login] Saving redirect info (fallback):",{hostname:i,port:a,origin:l}),localStorage.setItem("auth_redirect_origin",l),localStorage.setItem("auth_redirect_hostname",i),a&&localStorage.setItem("auth_redirect_port",a);try{sessionStorage.setItem("auth_redirect_origin",l),sessionStorage.setItem("auth_redirect_hostname",i),a&&sessionStorage.setItem("auth_redirect_port",a)}catch(c){console.warn("sessionStorage not available:",c)}}await bw(pr,kl);return}catch(i){console.error("Redirect login error:",i),alert("")}}else if((n==null?void 0:n.code)==="auth/popup-closed-by-user")console.log("User closed popup");else if((n==null?void 0:n.code)==="auth/cancelled-popup-request")console.log("Popup request cancelled");else{const s=(n==null?void 0:n.message)||"";alert(`: ${s}

: ${(n==null?void 0:n.code)||"unknown"}`)}}};return _.jsxs("div",{className:"min-h-screen bg-[#0A0E14] flex flex-col items-center justify-center p-8 relative overflow-hidden",children:[_.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[_.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[50%] h-[50%] bg-amber-500/10 rounded-full blur-[100px] animate-pulse"}),_.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[50%] h-[50%] bg-blue-500/10 rounded-full blur-[100px] animate-pulse delay-1000"})]}),_.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-6 w-full max-w-sm",children:[_.jsxs("div",{className:"relative w-64 h-64 animate-bounce-slow",children:[_.jsx("div",{className:"absolute inset-0 bg-amber-500/20 blur-2xl rounded-full"}),_.jsx("img",{src:hS,alt:"Navi Chibi",className:"w-full h-full object-contain drop-shadow-[0_0_15px_rgba(245,158,11,0.5)]"})]}),_.jsxs("div",{className:"text-center space-y-2",children:[_.jsx("h1",{className:"text-4xl font-black italic text-transparent bg-clip-text bg-gradient-to-br from-white via-amber-200 to-amber-500 tracking-tighter filter drop-shadow-lg",children:"TAXI-NAVIGATOR"}),_.jsx("p",{className:"text-gray-500 text-xs font-bold tracking-[0.5em] uppercase",children:"System Login"})]}),_.jsxs("button",{type:"button",onClick:t,className:"group relative w-full bg-white text-black px-8 py-4 rounded-2xl font-black text-xl shadow-[0_0_20px_rgba(255,255,255,0.3)] hover:shadow-[0_0_30px_rgba(245,158,11,0.6)] active:scale-95 transition-all duration-300 overflow-hidden cursor-pointer z-10",children:[_.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/50 to-transparent -translate-x-full group-hover:animate-shine"}),_.jsxs("div",{className:"flex items-center justify-center gap-3 relative z-10",children:[_.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[_.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),_.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),_.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),_.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"}),_.jsx("path",{fill:"none",d:"M1 1h22v22H1z"})]}),_.jsx("span",{children:"Google"})]})]}),_.jsx("p",{className:"text-[10px] text-gray-600 font-bold",children:" 2025 Taxi Navigator System"})]}),_.jsx("style",{children:`
        @keyframes shine {
          100% { transform: translateX(200%); }
        }
        .animate-shine {
          animation: shine 1s;
        }
        @keyframes bounce-slow {
          0%, 100% { transform: translateY(0); }
          50% { transform: translateY(-10px); }
        }
        .animate-bounce-slow {
          animation: bounce-slow 3s infinite ease-in-out;
        }
      `})]})},ez=({userProfile:r,onAdminClick:t,onSettingsClick:e,onLogoClick:n})=>_.jsxs("header",{className:"bg-[#1A222C] border-b border-gray-800 p-4 safe-top sticky top-0 z-30 overflow-hidden relative",children:[_.jsxs("div",{className:"flex justify-between items-center relative z-10",children:[_.jsxs("div",{onClick:n,className:`flex items-center transform active:scale-95 transition-transform select-none ${(r==null?void 0:r.role)==="admin"?"cursor-pointer":"cursor-default"}`,children:[_.jsx("div",{className:"relative z-10 flex items-center -space-x-2 mr-1",children:_.jsxs("div",{className:"relative w-12 h-12 drop-shadow-[0_0_10px_rgba(245,158,11,0.6)] animate-bounce-slow",children:[_.jsx("div",{className:"absolute inset-0 bg-amber-500/20 blur-xl rounded-full"}),_.jsx("img",{src:hS,alt:"Navi",className:"w-full h-full object-contain"})]})}),_.jsxs("div",{className:"flex flex-col -space-y-1",children:[_.jsxs("div",{className:"flex items-baseline gap-1",children:[_.jsx("span",{className:"text-2xl font-black italic tracking-tighter text-transparent bg-clip-text bg-gradient-to-b from-yellow-200 via-amber-400 to-yellow-600 filter drop-shadow-[0_2px_4px_rgba(0,0,0,0.5)]",children:"TAXI"}),_.jsx("span",{className:"text-sm font-bold italic tracking-widest text-amber-500/80 uppercase",children:"navigator"})]}),_.jsx("div",{className:"h-[2px] w-full bg-gradient-to-r from-amber-500 to-transparent rounded-full opacity-50"})]})]}),_.jsxs("div",{className:"flex items-center gap-3",children:[(r==null?void 0:r.role)==="admin"&&_.jsx("button",{type:"button",onClick:t,className:"p-2 bg-purple-900/50 border border-purple-500/50 rounded-full text-purple-400 hover:text-white transition-all active:scale-90 cursor-pointer",title:"",children:_.jsx(U1,{size:22})}),_.jsx("button",{type:"button",onClick:s=>{s.stopPropagation(),console.log("Settings button clicked"),e()},className:"p-2 bg-gray-800 rounded-full text-gray-400 hover:text-white transition-all active:scale-90 border border-gray-700 cursor-pointer z-50 relative",children:_.jsx(B1,{size:22})})]})]}),_.jsx("div",{className:"absolute -top-10 -left-10 w-40 h-40 bg-amber-500/10 rounded-full blur-3xl pointer-events-none mix-blend-screen"})]}),tz=({activeTab:r,monthlyStats:t,showCalendar:e,targetHistoryDate:n,onTabChange:s,onTargetHistoryDateChange:i,onTargetHistoryRecordIdChange:a})=>{if(e)return null;const l=(t.inputMode||"DETAILED")==="SIMPLE";return _.jsx("nav",{className:"fixed bottom-0 left-0 right-0 max-w-md mx-auto bg-[#0A0E14]/95 backdrop-blur-2xl border-t border-gray-800 flex justify-around pt-4 pb-[calc(1rem+env(safe-area-inset-bottom))] z-50 shadow-[0_-15px_45px_rgba(0,0,0,0.8)] pointer-events-auto",children:l?_.jsxs(_.Fragment,{children:[_.jsxs("button",{onClick:()=>{console.log("Simple Dashboard clicked"),s("home"),i(null),a(null)},type:"button",className:`flex flex-col items-center gap-1 transition-all active:scale-95 cursor-pointer ${r==="home"&&!n?"text-amber-500":"text-gray-500"}`,children:[_.jsx($4,{className:"w-6 h-6"}),_.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:""})]}),_.jsxs("button",{onClick:()=>{console.log("Simple History clicked"),s("history"),i(null),a(null)},type:"button",className:`flex flex-col items-center gap-1 transition-all active:scale-95 cursor-pointer ${r==="history"?"text-amber-500":"text-gray-500"}`,children:[_.jsx(Un,{className:"w-6 h-6"}),_.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:""})]}),_.jsxs("button",{onClick:()=>{console.log("Simple Ranking clicked"),s("analysis"),i(null),a(null)},type:"button",className:`flex flex-col items-center gap-1 transition-all active:scale-95 cursor-pointer ${r==="analysis"?"text-amber-500":"text-gray-500"}`,children:[_.jsx(Fc,{className:"w-6 h-6"}),_.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:""})]})]}):_.jsxs(_.Fragment,{children:[_.jsxs("button",{onClick:()=>{console.log("Home clicked"),s("home")},type:"button",className:`flex flex-col items-center gap-1 transition-all active:scale-95 cursor-pointer ${r==="home"?"text-amber-500":"text-gray-500"}`,children:[_.jsx(ru,{className:"w-6 h-6"}),_.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:""})]}),_.jsxs("button",{onClick:()=>{console.log("History clicked"),s("history")},type:"button",className:`flex flex-col items-center gap-1 transition-all active:scale-95 cursor-pointer ${r==="history"?"text-amber-500":"text-gray-500"}`,children:[_.jsx(Un,{className:"w-6 h-6"}),_.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:""})]}),_.jsxs("button",{onClick:()=>{console.log("Analysis clicked"),s("analysis")},type:"button",className:`flex flex-col items-center gap-1 transition-all active:scale-95 cursor-pointer ${r==="analysis"?"text-amber-500":"text-gray-500"}`,children:[_.jsx(Fc,{className:"w-6 h-6"}),_.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:""})]}),_.jsxs("button",{onClick:()=>{console.log("Analytics clicked"),s("analytics")},type:"button",className:`flex flex-col items-center gap-1 transition-all active:scale-95 cursor-pointer ${r==="analytics"?"text-amber-500":"text-gray-500"}`,children:[_.jsx(_k,{className:"w-6 h-6"}),_.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:""})]}),_.jsxs("button",{onClick:()=>{console.log("Guide clicked"),window.open("https://cf750778.cloudfree.jp/core/","_blank")},type:"button",className:"flex flex-col items-center gap-1 transition-all active:scale-95 cursor-pointer text-gray-500",children:[_.jsx(YE,{className:"w-6 h-6"}),_.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:""})]})]})})},rz=(r=20,t=9)=>{const e=new Date,{start:n,end:s}=yr(e,r,t),i=[],a=new Date(n);for(;a<=s;){const l=a.getDay();l!==0&&l!==3&&i.push(Yt(new Date(a))),a.setDate(a.getDate()+1)}for(let l=i.length-1;l>0;l--){const c=Math.floor(Math.random()*(l+1));[i[l],i[c]]=[i[c],i[l]]}return i.slice(0,20).sort()};function nz(){const[r,t]=_e.useState(null),[e,n]=_e.useState(!0),[s,i]=_e.useState(!1),[a,l]=_e.useState(null),[c,o]=_e.useState(!1),[u,p]=_e.useState(null),h=u||(r==null?void 0:r.uid),[d,x]=_e.useState(!0),[b,g]=_e.useState("home"),[v,y]=_e.useState(null),[T,R]=_e.useState(null),[P,H]=_e.useState(!1),[L,I]=_e.useState(!1),O=_e.useRef(!1),[F,q]=_e.useState(null),[z,N]=_e.useState([]),[U,C]=_e.useState({}),[S,k]=_e.useState({isActive:!1,startTime:null}),[E,A]=_e.useState({monthLabel:"",totalSales:0,totalRides:0,monthlyGoal:1e6,defaultDailyGoal:5e4,shimebiDay:20,businessStartHour:9,dutyDays:[],enabledPaymentMethods:wf,customPaymentLabels:{},userName:"",enabledRideTypes:Vc,visibilityMode:"PUBLIC",allowedViewers:[],followingUsers:[]}),[j,B]=_e.useState({open:!1}),[D,Q]=_e.useState(!1),[K,ee]=_e.useState(!1),[W,te]=_e.useState(!1),[G,V]=_e.useState(!1);_e.useEffect(()=>{console.log("[App.tsx] isSettingsOpen changed to:",K)},[K]);const[Z,ae]=_e.useState(""),[re,oe]=_e.useState(!1),he=_e.useRef(!1);_e.useEffect(()=>{const Me=setTimeout(()=>{x(!1)},1200);return()=>clearTimeout(Me)},[]),_e.useEffect(()=>{const Me=Ue=>{(F||j.open)&&(Ue.preventDefault(),Ue.returnValue="")};return window.addEventListener("beforeunload",Me),()=>window.removeEventListener("beforeunload",Me)},[F,j.open]);const Se=async(Me,Ue,Ee)=>{if(!Ue||Ue.length===0){console.log(`[saveHistoryToSubcollection] No records to save for ${Ee}/${Me}/history`);return}console.log(`[saveHistoryToSubcollection] Starting to save ${Ue.length} records to ${Ee}/${Me}/history`),console.log("[saveHistoryToSubcollection] Sample record IDs:",Ue.slice(0,5).map(Oe=>Oe.id));try{const Oe=ir(Pt,Ee,Me);(await Ds(Oe)).exists()||(console.log(`[saveHistoryToSubcollection] Parent document ${Ee}/${Me} does not exist, creating...`),await an(Oe,{_created:new Date().toISOString()},{merge:!0}),console.log("[saveHistoryToSubcollection]  Parent document created"));const Be=500;let Ye=0,je=0;for(let He=0;He<Ue.length;He+=Be){const Te=Ue.slice(He,He+Be),rt=O0(Pt);let Re=0;console.log(`[saveHistoryToSubcollection] Processing batch ${Math.floor(He/Be)+1}, records: ${Te.length}`);for(const Ae of Te){if(!Ae.id){console.warn("[saveHistoryToSubcollection] Record missing ID, skipping:",Ae);continue}const at=ir(Pt,Ee,Me,"history",Ae.id),pt=`${Ee}/${Me}/history/${Ae.id}`;rt.set(at,Ae,{merge:!1}),Re++}if(Re>0){console.log(`[saveHistoryToSubcollection] Committing batch with ${Re} records...`),console.log(`[saveHistoryToSubcollection] Batch will write to: ${Ee}/${Me}/history`);try{if(await rt.commit(),Ye+=Re,console.log(`[saveHistoryToSubcollection]  Committed batch: ${Re} records (total: ${Ye}/${Ue.length})`),Te.length>0&&Te[0].id){const Ae=ir(Pt,Ee,Me,"history",Te[0].id);(await Ds(Ae)).exists()?console.log(`[saveHistoryToSubcollection]  Verified: Record ${Te[0].id} exists in subcollection`):console.error(`[saveHistoryToSubcollection]  WARNING: Record ${Te[0].id} NOT found in subcollection after commit!`)}}catch(Ae){je+=Re,console.error("[saveHistoryToSubcollection]  Batch commit failed:",Ae),console.error("[saveHistoryToSubcollection] Batch error details:",{message:Ae==null?void 0:Ae.message,code:Ae==null?void 0:Ae.code,stack:Ae==null?void 0:Ae.stack}),console.log("[saveHistoryToSubcollection] Retrying with individual setDoc() calls...");for(const at of Te)if(at.id)try{const pt=ir(Pt,Ee,Me,"history",at.id);await an(pt,at,{merge:!1}),Ye++,je--,console.log(`[saveHistoryToSubcollection]  Saved individual record: ${at.id}`)}catch(pt){console.error(`[saveHistoryToSubcollection]  Failed to save individual record ${at.id}:`,pt)}}}else console.warn(`[saveHistoryToSubcollection] Batch ${Math.floor(He/Be)+1} has no valid records to save`)}je>0?console.warn(`[saveHistoryToSubcollection]  Completed with errors: ${Ye} saved, ${je} failed`):console.log(`[saveHistoryToSubcollection]  Successfully saved ${Ye} records to ${Ee}/${Me}/history`)}catch(Oe){console.error(`[saveHistoryToSubcollection]  Error saving to ${Ee}/${Me}/history:`,Oe),console.error("[saveHistoryToSubcollection] Error details:",{message:Oe==null?void 0:Oe.message,code:Oe==null?void 0:Oe.code,stack:Oe==null?void 0:Oe.stack})}},ge=async(Me,Ue,Ee,Oe,ct)=>{var Ye;if(!Me||!Oe.userName)return;const Be=Me.uid;try{const je=Oe.businessStartHour??9,{start:He,end:Te}=yr(new Date,Oe.shimebiDay,je),rt=new Date(Te);Oe.shimebiDay!==0&&rt.setDate(Oe.shimebiDay);const Re=Yt(He),Ae=Yt(rt),pt=$f(Oe,Ee,Ue).totalSales,lt=[...Ee,...Ue?Ue.records:[]].filter(ue=>{var de;return!((de=ue.remarks)!=null&&de.includes(""))});lt.sort((ue,de)=>de.amount-ue.amount);const Rt=lt.slice(0,20),jt=[...Ee,...(Ue==null?void 0:Ue.records)||[]];console.log("[broadcastStatus] Input data:",{currentHistoryCount:Ee.length,currentShiftRecordsCount:Ue?Ue.records.length:0,allRecordsCount:jt.length,latestRecordTimestamp:jt.length>0?new Date(Math.max(...jt.map(ue=>ue.timestamp))).toISOString():"N/A",latestRecordId:jt.length>0?(Ye=jt[jt.length-1])==null?void 0:Ye.id:"N/A"});const Ct=new Map;jt.forEach(ue=>Ct.set(ue.id,ue));const Mt=Array.from(Ct.values()),Dt=Date.now()-2*365*24*60*60*1e3,Nt=Mt.filter(ue=>ue.timestamp>=Dt);console.log("[broadcastStatus] Data summary:",{allRecordsCount:jt.length,uniqueRecordsCount:Mt.length,recentRecordsCount:Nt.length,twoYearsAgo:new Date(Dt).toISOString(),filteredOutCount:Mt.length-Nt.length});const Ie={},ut=Date.now()-365*24*60*60*1e3;Mt.forEach(ue=>{const de=yr(new Date(ue.timestamp),Oe.shimebiDay,je),be=de.end.getFullYear(),xe=de.end.getMonth()+1,De=`${be}-${String(xe).padStart(2,"0")}`;Ie[De]||(Ie[De]={label:`${be}${xe}`,sortKey:De,sales:0,records:[],startStr:Yt(de.start),endStr:Yt(de.end)}),Ie[De].records.push(ue)}),Object.keys(Ie).forEach(ue=>{const de=Ie[ue].records,be=li(de,je);Ie[ue].sales=be.reduce((xe,De)=>xe+De.amount,0),delete Ie[ue].records});const le=Ue?Ue.records:[],ye={uid:Be,name:Oe.userName,monthlyTotal:pt,monthlyGoal:Oe.monthlyGoal||1e6,status:ct,lastUpdated:Date.now(),businessStartHour:Oe.businessStartHour,visibilityMode:Oe.visibilityMode,allowedViewers:Oe.allowedViewers,topRecords:Rt,records:le,months:Ie,...Og?{}:{history:Nt}};if(Ue){const ue=Ue.records.length,de=Ue.records.filter(qe=>qe.rideType!=="FLOW"&&qe.rideType!=="WAIT").length,be=Ue.startTime+Ue.plannedHours*36e5,xe=Ue.records.reduce((qe,Xe)=>qe+Xe.amount,0),De={...ye,startTime:Ue.startTime,plannedEndTime:be,sales:xe,rideCount:ue,dispatchCount:de},Ve=_f(De),Pe=Date.now();Ve.lastUpdated=Pe,console.log("[broadcastStatus] Saving public_status for uid:",Be,"at",new Date(Pe).toISOString(),"data:",{status:Ve.status,sales:Ve.sales,rideCount:Ve.rideCount,name:Ve.name}),an(ir(Pt,"public_status",Be),Ve,{merge:!0}).then(()=>{console.log("[broadcastStatus] Successfully saved public_status for uid:",Be)}).catch(qe=>{console.error("[broadcastStatus] Failed to save public_status:",qe)})}else{const ue=zt(Date.now(),je),de=Ee.filter(Ve=>zt(Ve.timestamp,je)===ue).reduce((Ve,Pe)=>Ve+Pe.amount,0),be={...ye,status:"offline",sales:de,rideCount:0,dispatchCount:0},xe=_f(be),De=Date.now();xe.lastUpdated=De,console.log("[broadcastStatus] Saving offline status for uid:",Be,"at",new Date(De).toISOString()),an(ir(Pt,"public_status",Be),xe,{merge:!0}).then(()=>{console.log("[broadcastStatus] Successfully saved offline status for uid:",Be)}).catch(Ve=>{console.error("[broadcastStatus] Failed to save offline status:",Ve)})}}catch(je){console.error("Broadcast failed:",je)}};_e.useEffect(()=>{(async()=>{var Ee,Oe,ct,Be,Ye,je,He,Te;try{if(window.location.hostname.includes("firebaseapp.com")&&window.location.pathname.includes("/__/auth/handler")){console.log("[App.tsx] Detected Firebase Hosting auth handler, redirecting to original environment..."),console.log("[App.tsx] Current URL:",window.location.href);const Ae=new URLSearchParams(window.location.search);console.log("[App.tsx] URL params:",Object.fromEntries(Ae.entries())),console.log("[App.tsx] Has code:",Ae.has("code")),console.log("[App.tsx] Has state:",Ae.has("state"));let at=null,pt=null,lt="";try{at=localStorage.getItem("auth_redirect_origin"),pt=localStorage.getItem("auth_redirect_hostname"),lt=localStorage.getItem("auth_redirect_port")||""}catch(Mt){console.warn("[App.tsx] localStorage access failed:",Mt)}if(!at)try{at=sessionStorage.getItem("auth_redirect_origin"),pt=sessionStorage.getItem("auth_redirect_hostname"),lt=sessionStorage.getItem("auth_redirect_port")||""}catch(Mt){console.warn("[App.tsx] sessionStorage access failed:",Mt)}console.log("[App.tsx] Saved redirect info:",{savedOrigin:at,savedHostname:pt,savedPort:lt});let Rt;if(at)Rt=at;else if(pt)Rt=`${pt==="localhost"?"http":window.location.protocol}//${pt}${lt?":"+lt:""}`;else{const Mt=Ae.get("context_uri")||Ae.get("continue");if(Mt)try{const Dt=new URL(decodeURIComponent(Mt));Dt.hostname.includes("web.app")||Dt.hostname.includes("firebaseapp.com")?(Rt=Dt.origin,console.log("[App.tsx] Using context_uri:",Rt)):(Rt=window.location.protocol+"//pro-taxi-d3945.web.app",console.warn("[App.tsx] context_uri not usable, using fallback:",Rt))}catch{Rt=window.location.protocol+"//pro-taxi-d3945.web.app",console.warn("[App.tsx] Failed to parse context_uri, using fallback:",Rt)}else Rt=window.location.protocol+"//pro-taxi-d3945.web.app",console.warn("[App.tsx] No saved origin found, using fallback:",Rt)}const jt=Ae.toString(),Ct=Rt+(jt?"?"+jt:"");console.log("[App.tsx] Redirecting to:",Ct),console.log("[App.tsx] Preserving params:",jt),(!jt||!Ae.has("code")&&!Ae.has("state"))&&(console.error("[App.tsx]  WARNING: No auth params found in URL!"),console.error("[App.tsx] This might cause authentication to fail."),console.error("[App.tsx] Current search:",window.location.search)),window.location.href=Ct;return}console.log("[App.tsx] Processing redirect result...");const rt=new URLSearchParams(window.location.search),Re=rt.has("code")||rt.has("state")||rt.has("authuser")||rt.has("prompt");if(console.log("[App.tsx] Current URL:",window.location.href),console.log("[App.tsx] URL params:",Object.fromEntries(rt.entries())),console.log("[App.tsx] Has auth params:",Re),Re){console.log("[App.tsx] Auth parameters detected in URL:",{hasCode:rt.has("code"),hasState:rt.has("state"),hasAuthUser:rt.has("authuser"),hasPrompt:rt.has("prompt"),code:rt.get("code")?((Ee=rt.get("code"))==null?void 0:Ee.substring(0,20))+"...":null,state:rt.get("state")?((Oe=rt.get("state"))==null?void 0:Oe.substring(0,20))+"...":null}),console.log("[App.tsx] Auth params detected, keeping isAuthChecking=true until auth state updates");try{console.log("[App.tsx] Calling getRedirectResult...");const Ae=await sf(pr);if(Ae){console.log("[App.tsx]  Redirect login successful:",Ae.user.email),console.log("[App.tsx] User UID:",Ae.user.uid),console.log("[App.tsx] User:",Ae.user);const at=localStorage.getItem("login_redirect_url")||sessionStorage.getItem("login_redirect_url");if(at){console.log("[App.tsx] Restoring saved URL:",at);try{localStorage.removeItem("login_redirect_url"),sessionStorage.removeItem("login_redirect_url")}catch(pt){console.warn("[App.tsx] Failed to remove saved URL:",pt)}if(window.location.href!==at){const pt=new URL(at),lt=pt.origin+pt.pathname;console.log("[App.tsx] Redirecting to saved URL:",lt),window.location.replace(lt);return}}window.history.replaceState&&window.history.replaceState({},document.title,window.location.pathname)}else console.warn("[App.tsx]  No redirect result, but auth params exist. Waiting for onAuthStateChanged..."),console.warn("[App.tsx] This might indicate a sessionStorage issue on mobile devices.")}catch(Ae){(ct=Ae==null?void 0:Ae.message)!=null&&ct.includes("sessionStorage")||(Be=Ae==null?void 0:Ae.message)!=null&&Be.includes("initial state")||(Ye=Ae==null?void 0:Ae.message)!=null&&Ye.includes("missing initial state")?(console.warn("[App.tsx] sessionStorage error - this is common on mobile devices. Auth state will be updated by onAuthStateChanged if login was successful."),console.warn("[App.tsx] Error details:",Ae==null?void 0:Ae.message)):(console.error("[App.tsx] Auth redirect error:",Ae),console.error("[App.tsx] Error details:",{message:Ae==null?void 0:Ae.message,code:Ae==null?void 0:Ae.code,stack:Ae==null?void 0:Ae.stack}))}}else try{const Ae=await sf(pr);if(Ae){console.log("[App.tsx]  Redirect login successful (no params):",Ae.user.email),console.log("[App.tsx] User UID:",Ae.user.uid);const at=localStorage.getItem("login_redirect_url")||sessionStorage.getItem("login_redirect_url");if(at){console.log("[App.tsx] Restoring saved URL:",at);try{localStorage.removeItem("login_redirect_url"),sessionStorage.removeItem("login_redirect_url")}catch(pt){console.warn("[App.tsx] Failed to remove saved URL:",pt)}if(window.location.href!==at){const pt=new URL(at),lt=pt.origin+pt.pathname;console.log("[App.tsx] Redirecting to saved URL:",lt),window.location.replace(lt);return}}}else console.log("[App.tsx] No redirect result and no auth code in URL")}catch(Ae){(je=Ae==null?void 0:Ae.message)!=null&&je.includes("sessionStorage")||(He=Ae==null?void 0:Ae.message)!=null&&He.includes("initial state")||(Te=Ae==null?void 0:Ae.message)!=null&&Te.includes("missing initial state")?console.warn("[App.tsx] sessionStorage error - this is common on mobile devices."):console.error("[App.tsx] Auth redirect error:",Ae)}}catch(rt){console.error("[App.tsx] Unexpected error in handleRedirectResult:",rt)}})();const Ue=M3(pr,async Ee=>{console.log("[App.tsx] ===== Auth state changed ====="),console.log("[App.tsx] Current user:",Ee?{email:Ee.email,uid:Ee.uid,emailVerified:Ee.emailVerified}:"null (signed out)"),console.log("[App.tsx] Current URL:",window.location.href);const Oe=new URLSearchParams(window.location.search),ct=Oe.has("code")||Oe.has("state")||Oe.has("authuser")||Oe.has("prompt");if(ct&&Ee&&(console.log("[App.tsx] Auth params exist and user is authenticated, clearing URL params"),window.history.replaceState&&window.history.replaceState({},document.title,window.location.pathname),await new Promise(Be=>setTimeout(Be,100))),ct&&!Ee){console.log("[App.tsx]  Auth params exist but user is null. This might be a sessionStorage issue on mobile."),console.log("[App.tsx] Waiting for auth state to update..."),n(!0),sf(pr).then(Be=>{if(Be&&Be.user)console.log("[App.tsx]  getRedirectResult succeeded immediately:",Be.user.email),t(Be.user),n(!0);else{console.warn("[App.tsx]  getRedirectResult returned no result, waiting for onAuthStateChanged...");const Ye=setTimeout(()=>{const He=pr.currentUser;He?(console.log("[App.tsx]  Auth state updated after waiting:",He.email),t(He),n(!0)):(console.error("[App.tsx]  Auth state still null after waiting"),n(!1))},5e3),je=setInterval(()=>{const He=pr.currentUser;He&&(clearTimeout(Ye),clearInterval(je),console.log("[App.tsx]  Auth state updated during wait:",He.email),t(He),n(!0))},100);setTimeout(()=>{clearInterval(je)},5e3)}}).catch(Be=>{var Ye,je,He;console.error("[App.tsx]  getRedirectResult failed:",Be),(Ye=Be==null?void 0:Be.message)!=null&&Ye.includes("sessionStorage")||(je=Be==null?void 0:Be.message)!=null&&je.includes("initial state")||(He=Be==null?void 0:Be.message)!=null&&He.includes("missing initial state")?(console.warn("[App.tsx] sessionStorage error - waiting for onAuthStateChanged to update auth state"),n(!0)):n(!1)});return}if(!ct&&!Ee){const Be=document.referrer;if(Be.includes("firebaseapp.com")||Be.includes("__/auth/handler")){console.log("[App.tsx]  No auth params but might have come from firebaseapp.com"),console.log("[App.tsx] Referrer:",Be),console.log("[App.tsx] Trying getRedirectResult..."),n(!0),sf(pr).then(Ye=>{Ye&&Ye.user?(console.log("[App.tsx]  getRedirectResult succeeded (no params):",Ye.user.email),t(Ye.user),n(!0)):(console.warn("[App.tsx]  getRedirectResult returned no result"),setTimeout(()=>{const je=pr.currentUser;je?(console.log("[App.tsx]  Auth state updated after waiting:",je.email),t(je),n(!0)):(console.error("[App.tsx]  Auth state still null"),n(!1))},2e3))}).catch(Ye=>{var je,He,Te;console.error("[App.tsx]  getRedirectResult failed:",Ye),(je=Ye==null?void 0:Ye.message)!=null&&je.includes("sessionStorage")||(He=Ye==null?void 0:Ye.message)!=null&&He.includes("initial state")||(Te=Ye==null?void 0:Ye.message)!=null&&Te.includes("missing initial state")?(console.warn("[App.tsx] sessionStorage error - waiting for onAuthStateChanged"),n(!0)):n(!1)});return}}t(Ee),Ee?(console.log("[App.tsx] User logged in, isAuthChecking will remain true until userProfile is loaded"),console.log("[App.tsx] Current state - user:",Ee.email,"isAuthChecking: true (will be set to false after userProfile is loaded)"),a?console.log("[App.tsx] userProfile already exists:",a,"keeping isAuthChecking as is"):(console.log("[App.tsx] userProfile is null, setting isAuthChecking to true"),n(!0))):ct?(console.log("[App.tsx]  User is null but auth params exist. This might be a sessionStorage issue on mobile."),console.log("[App.tsx] Keeping isAuthChecking=true and waiting for auth state to update..."),n(!0),setTimeout(async()=>{const Be=pr.currentUser;if(Be)console.log("[App.tsx]  Auth state updated after waiting:",Be.email),t(Be);else{console.warn("[App.tsx]  Auth state still null after waiting. Trying getRedirectResult...");try{const Ye=await sf(pr);Ye&&Ye.user&&(console.log("[App.tsx]  getRedirectResult succeeded:",Ye.user.email),t(Ye.user))}catch(Ye){console.error("[App.tsx]  getRedirectResult failed:",Ye)}}},3e3)):(console.log("[App.tsx] User logged out, resetting state"),p(null),i(!1),q(null),l(null),n(!1))});return()=>Ue()},[]),_e.useEffect(()=>{if(!r||!h){console.log("[App.tsx] Data sync useEffect skipped - user:",(r==null?void 0:r.email)||"null","targetUid:",h);return}console.log("[App.tsx] Data sync useEffect started - user:",r.email,"targetUid:",h);const Me=async()=>{i(!0);try{if(h===r.uid){console.log("[App.tsx] Fetching userProfile for:",r.uid);const Ye=ir(Pt,"users",r.uid),je=new Promise((He,Te)=>{setTimeout(()=>{Te(new Error(": userProfile10"))},1e4)});try{const He=await Promise.race([Ds(Ye),je]);if(He.exists()){const Te=He.data(),rt={role:Te.role||"user",status:Te.status||"pending"};console.log("[App.tsx] UserProfile loaded from Firestore:",rt),l(rt),console.log("[App.tsx] Setting isAuthChecking to false after userProfile loaded"),n(!1)}else{const Te={role:"user",status:"pending"};console.log("[App.tsx] Creating new user profile:",Te);try{await Promise.race([an(Ye,{...Te,email:r.email,createdAt:E_()},{merge:!1}),je]),console.log("[App.tsx] New user profile created successfully in users collection"),l(Te),console.log("[App.tsx] Setting isAuthChecking to false after new userProfile created"),n(!1)}catch(rt){console.error("[App.tsx] Error creating user profile:",rt),l(Te),n(!1),an(Ye,{...Te,email:r.email,createdAt:E_()},{merge:!1}).catch(Re=>{console.error("[App.tsx] Retry failed to create user profile:",Re)})}}}catch(He){console.error("[App.tsx] Error fetching/creating userProfile:",He);const Te={role:"user",status:"pending"};console.warn("[App.tsx] Using default profile due to error:",Te),l(Te),n(!1)}}else console.log("[App.tsx] Proxy mode, skipping userProfile check"),n(!1);const Ee=Fs(ir(Pt,"users",h),Ye=>{var je;if(console.log("[onSnapshot users] Document snapshot received, exists:",Ye.exists(),"isSavingNameRef.current:",he.current),he.current){console.log("[onSnapshot users] Skipping update during name registration (isSavingNameRef.current = true)");return}if(Ye.exists()){const He=Ye.data();console.log("[onSnapshot users] Data exists, shift:",He.shift?"exists":"null","startOdo:",(je=He.shift)==null?void 0:je.startOdo);const Te=lj(He.shift);console.log("[onSnapshot users] safeShift after sanitize:",Te?"exists":"null","startOdo:",Te==null?void 0:Te.startOdo);let rt=!1;He.shift&&Te?(He.shift.dailyGoal!==Te.dailyGoal||He.shift.plannedHours!==Te.plannedHours||He.shift.totalRestMinutes!==Te.totalRestMinutes||He.shift.startTime!==Te.startTime||He.shift.startOdo!==Te.startOdo||JSON.stringify(He.shift.records)!==JSON.stringify(Te.records))&&(rt=!0):He.shift!==Te&&(rt=!0),rt&&(console.log("[onSnapshot users] Shift format changed, updating..."),an(ir(Pt,"users",h),{shift:Te},{merge:!0})),q(lt=>{if(!lt&&!Te)return console.log("[onSnapshot users] Both shifts are null, keeping prev"),lt;if(!lt||!Te)return console.log("[onSnapshot users] One shift is null, updating:",{prev:!!lt,safe:!!Te}),Te;const Rt=JSON.stringify(lt),jt=JSON.stringify(Te);return Rt!==jt?(console.log("[onSnapshot users] Shift changed, updating. prevOdo:",lt.startOdo,"newOdo:",Te.startOdo),Te):(console.log("[onSnapshot users] Shift unchanged, keeping prev"),lt)}),C(He.dayMetadata||{});const Re=He.breakState||{isActive:!1,startTime:null};k(lt=>{const Rt=JSON.stringify(lt),jt=JSON.stringify(Re);return Rt!==jt?(console.log("[onSnapshot] BreakState changed:",lt,"->",Re),Re):lt});const Ae=He.stats||{},at=Ae.shimebiDay!==void 0?Ae.shimebiDay:20,pt=Ae.businessStartHour??9;A(lt=>{const Rt=Ae.userName?Ae.userName:lt.userName||"",jt={monthLabel:Ae.monthLabel||lt.monthLabel||"",totalSales:Ae.totalSales||lt.totalSales||0,totalRides:Ae.totalRides||lt.totalRides||0,monthlyGoal:Ae.monthlyGoal||lt.monthlyGoal||1e6,defaultDailyGoal:Ae.defaultDailyGoal??lt.defaultDailyGoal??5e4,shimebiDay:at,businessStartHour:pt,dutyDays:Ae.dutyDays||lt.dutyDays||[],enabledPaymentMethods:Ae.enabledPaymentMethods||lt.enabledPaymentMethods||wf,customPaymentLabels:Ae.customPaymentLabels||lt.customPaymentLabels||{},userName:Rt,enabledRideTypes:Ae.enabledRideTypes||lt.enabledRideTypes||Vc,visibilityMode:Ae.visibilityMode||lt.visibilityMode||"PUBLIC",allowedViewers:Ae.allowedViewers||lt.allowedViewers||[],followingUsers:Ae.followingUsers||lt.followingUsers||[],inputMode:O.current?Ae.inputMode||lt.inputMode:Ae.inputMode||lt.inputMode||"DETAILED",plannedWorkDays:Ae.plannedWorkDays??lt.plannedWorkDays??0,dailyGoalSimple:Ae.dailyGoalSimple??lt.dailyGoalSimple??0,workingHours:Ae.workingHours??lt.workingHours??0};return console.log("[onSnapshot] Updating monthlyStats, userName:",jt.userName,"from savedStats:",Ae.userName,"from prev:",lt.userName,"final:",Rt),!Ae.inputMode&&!lt.inputMode&&(a==null?void 0:a.status)==="active"&&Ae.userName&&lt.userName&&(console.log("[onSnapshot] Existing user without mode detected, showing mode selection"),setTimeout(()=>{I(!0),O.current=!0},500)),jt})}else q(null),A(He=>({...He,uid:h}))}),ct=await(async()=>{try{const Ye=$r(Pt,"public_status",h,"history"),je=ln(Ye,Vn("timestamp","asc")),He=await In(je);if(console.log(`[App] getDocs result: empty=${He.empty}, size=${He.size}, targetUid=${h}`),!He.empty){const Te=[];let rt=0;He.forEach(Re=>{rt<5&&(Te.push(Re.id),rt++)}),console.log("[App] First few record IDs:",Te)}if(He.empty){N([]),console.log("[App] Subcollection empty, starting with empty array");const Te=$r(Pt,"public_status",h,"history"),rt=ln(Te,Vn("timestamp","asc"));return Fs(rt,Ae=>{const at=[];Ae.forEach(pt=>{at.push(pt.data())}),N(at),at.length>0&&console.log(`[App] Subcollection updated: ${at.length} records`)},Ae=>{console.error("[App] Error in subcollection snapshot (empty case):",Ae),N([])})}else{const Te=[];return He.forEach(Re=>{Te.push(Re.data())}),N(Te),console.log(`[App] Loaded ${Te.length} records from subcollection`),Fs(je,Re=>{const Ae=[];Re.forEach(at=>{Ae.push(at.data())}),N(Ae),console.log(`[App] Subcollection updated: ${Ae.length} records`)},Re=>{console.error("[App] Error in subcollection snapshot:",Re),N([])})}}catch(Ye){console.error("[App] Error loading history from subcollection:",Ye),console.error("[App] Error details:",{message:Ye==null?void 0:Ye.message,code:Ye==null?void 0:Ye.code,stack:Ye==null?void 0:Ye.stack}),N([]);const je=$r(Pt,"public_status",h,"history"),He=ln(je,Vn("timestamp","asc"));return Fs(He,rt=>{const Re=[];rt.forEach(Ae=>{Re.push(Ae.data())}),N(Re),Re.length>0&&console.log(`[App] Subcollection updated: ${Re.length} records`)},rt=>{console.error("[App] Error in subcollection snapshot (error case):",rt),N([])})}})(),Be=Fs(ir(Pt,"public_status",h),Ye=>{console.log("[onSnapshot public_status] Document snapshot received, exists:",Ye.exists()),i(!1)});return()=>{Ee(),Be(),ct&&ct()}}catch(Ee){console.error("Data sync failed",Ee),i(!1)}};let Ue;return Me().then(Ee=>{Ue=Ee}),()=>{Ue&&Ue()}},[r,h]),_e.useEffect(()=>{const Me=()=>{const Oe=new URLSearchParams(window.location.search).has("cal");console.log("[App] Checking calendar param:",{hasCal:Oe,search:window.location.search}),H(Oe)};Me();const Ue=()=>{Me()};return window.addEventListener("popstate",Ue),window.addEventListener("hashchange",Me),()=>{window.removeEventListener("popstate",Ue),window.removeEventListener("hashchange",Me)}},[]),_e.useEffect(()=>{O.current=L},[L]),_e.useEffect(()=>{new URLSearchParams(window.location.search).has("firstLogin")&&r&&E.userName&&(console.log("[App] firstLogin param detected, forcing mode selection screen"),I(!0),O.current=!0)},[r,E.userName]);const ne=_e.useMemo(()=>{const Me=$f(E,z,F);return{...E,totalSales:Me.totalSales,totalRides:Me.totalRides}},[z,F,E]);_e.useEffect(()=>{if(r&&E.userName){const Me={...r,uid:h};if(j.open)ge(Me,F,z,E,"riding").catch(Ue=>{console.error("[App] Broadcast status (riding) failed after history state update:",Ue)});else{const Ue=F?S.isActive?"break":"active":"offline";ge(Me,F,z,E,Ue).catch(Ee=>{console.error("[App] Broadcast status failed after history state update:",Ee)})}}},[z,F,E.userName,r,h,S.isActive,j.open]);const fe=async(Me,Ue)=>{var Ee,Oe,ct;if(!r||!h)throw new Error("User or targetUid is not available");r.uid!==h&&console.warn("[saveToDB] WARNING: user.uid !== targetUid",{userUid:r.uid,targetUid:h});try{const{history:Be,...Ye}=Me,je=_f(Ye);console.log("[saveToDB] Saving to users collection:",Object.keys(je),"for uid:",h,"user.uid:",r.uid),console.log("[saveToDB] Updates preview:",JSON.stringify(je).substring(0,200));const He=Date.now(),Te=new Promise((Re,Ae)=>{setTimeout(()=>{const at=Date.now()-He;Ae(new Error(`: Firestore30: ${at}ms`))},3e4)});await Promise.race([an(ir(Pt,"users",h),je,{merge:!0}),Te]);const rt=Date.now()-He;console.log("[saveToDB] Successfully saved to users collection (took",rt,"ms)")}catch(Be){throw console.error("Save to DB failed:",Be),(Ee=Be==null?void 0:Be.message)!=null&&Ee.includes("")&&(console.error("[saveToDB] Timeout error. Possible causes:"),console.error("  1. "),console.error("  2. Firestore"),console.error("  3. "),console.error("  4. Firestore"),console.error("[saveToDB] Troubleshooting:"),console.error("  - "),console.error("  - Firebase ConsoleFirestore"),console.error("  - ")),((Be==null?void 0:Be.code)===403||(Be==null?void 0:Be.code)==="permission-denied")&&(console.error("[saveToDB] Permission denied. Details:",{userUid:r.uid,targetUid:h,uidMatch:r.uid===h,errorCode:Be==null?void 0:Be.code,errorMessage:Be==null?void 0:Be.message,errorStack:Be==null?void 0:Be.stack}),console.error("[saveToDB] This usually means:"),console.error("  1. Firestore security rules are blocking the write"),console.error("  2. user.uid does not match targetUid"),console.error("  3. Security rules are not deployed correctly")),((Be==null?void 0:Be.code)==="unavailable"||(Oe=Be==null?void 0:Be.message)!=null&&Oe.includes("network")||(ct=Be==null?void 0:Be.message)!=null&&ct.includes("Network"))&&console.error("[saveToDB] Network error. Check internet connection."),Be}},pe=_e.useCallback(Me=>{y(Me),g("history")},[]),ke=(Me,Ue,Ee)=>{if(!r)return;const Oe=E.businessStartHour??9,ct=zt(Date.now(),Oe),Be=z.filter(Re=>zt(Re.timestamp,Oe)===ct),Ye=z.filter(Re=>zt(Re.timestamp,Oe)!==ct),je=Be.length>0?Math.min(...Be.map(Re=>Re.timestamp)):Date.now(),He=U[ct],Te=(He==null?void 0:He.totalRestMinutes)||0,rt={id:Math.random().toString(36).substr(2,9),startTime:je,dailyGoal:Me,plannedHours:Ue,records:Be,totalRestMinutes:Te,startOdo:Ee};q(rt),N(Ye),fe({shift:rt}).catch(Re=>{console.error("[handleStart] Failed to save shift:",Re)}),window.scrollTo(0,0)},Ce=Me=>{if(F&&r){const Ue=[...z,...F.records].sort((pt,lt)=>pt.timestamp-lt.timestamp),Ee=E.businessStartHour??9,Oe=zt(F.startTime,Ee),ct={...U,[Oe]:{...U[Oe]||{memo:"",attributedMonth:""},totalRestMinutes:F.totalRestMinutes,startOdo:F.startOdo||null,endOdo:Me!==void 0?Me:null}},{start:Be,end:Ye}=yr(new Date,E.shimebiDay,Ee),je=new Date(Ye);E.shimebiDay!==0&&je.setDate(E.shimebiDay);const He=Yt(Be),Te=Yt(je),rt=Ue.filter(pt=>{const lt=zt(pt.timestamp,Ee);return lt>=He&&lt<=Te}).reduce((pt,lt)=>pt+lt.amount,0),Re=F.records.length,Ae=F.records.filter(pt=>pt.rideType!=="FLOW"&&pt.rideType!=="WAIT").length,at=F.records.reduce((pt,lt)=>pt+lt.amount,0);an(ir(Pt,"users",r.uid),{shift:null,history:Ue,dayMetadata:ct,breakState:{isActive:!1,startTime:null}},{merge:!0}),an(ir(Pt,"public_status",r.uid),{uid:r.uid,name:E.userName,status:"completed",sales:at,rideCount:Re,dispatchCount:Ae,monthlyTotal:rt,plannedEndTime:Date.now(),lastUpdated:Date.now(),businessStartHour:E.businessStartHour,visibilityMode:E.visibilityMode,allowedViewers:E.allowedViewers},{merge:!0})}q(null),k({isActive:!1,startTime:null}),g("home"),Q(!1)},Fe=Me=>{B({open:!0,initialData:Me});const Ue={...r,uid:h};r&&E.userName&&F&&ge(Ue,F,z,E,"riding").catch(Ee=>{console.error("[handleOpenRecordModal] Broadcast status (riding) failed:",Ee)}),fe({}).catch(Ee=>{console.error("[handleAddRecord] Failed to save:",Ee)})},We=()=>{B({open:!1});const Me={...r,uid:h};r&&E.userName&&F&&ge(Me,F,z,E,"active").catch(Ue=>{console.error("[handleCloseRecordModal] Broadcast status failed:",Ue)}),fe({}).catch(Ue=>{console.error("[handleCloseRecordModal] Failed to save:",Ue)})},$e=_e.useCallback(async(Me,Ue,Ee,Oe,ct,Be,Ye,je,He,Te,rt,Re,Ae,at,pt,lt,Rt)=>{var de,be,xe;if(!r)return;const jt=!!((de=j.initialData)!=null&&de.id),Ct=((be=j.initialData)==null?void 0:be.id)||lt,Mt=E.businessStartHour??9;let Dt=z;console.log("[handleSaveRecord] Called with params:",{isEditMode:jt,editId:Ct,idOverride:lt,initialDataId:(xe=j.initialData)==null?void 0:xe.id,targetUid:h,timestamp:new Date(Be).toISOString(),keepOpen:Rt,historyStateCount:z.length});const Nt={id:Ct||Math.random().toString(36).substr(2,9),amount:Me,toll:Ue,returnToll:pt||0,paymentMethod:Ee,nonCashAmount:ct,rideType:Oe,timestamp:Be,pickupLocation:Ye,dropoffLocation:je,pickupCoords:He||"",dropoffCoords:Te||"",passengersMale:rt,passengersFemale:Re,remarks:Ae,isBadCustomer:at},Ie=zt(Be,Mt),Ge=F?zt(F.startTime,Mt):null,ut=F&&Ge===Ie;if(!jt&&h)try{console.log("[handleSaveRecord] Checking for simple mode records on same day:",Ie);const De=new Date(Be);De.setHours(Mt,0,0,0);const Ve=new Date(De);Ve.setDate(Ve.getDate()+1);const Pe=De.getTime(),qe=Ve.getTime()-1;console.log("[handleSaveRecord] Query range:",{start:new Date(Pe).toISOString(),end:new Date(qe).toISOString(),targetUid:h});const Xe=$r(Pt,"public_status",h,"history"),yt=ln(Xe,Va("timestamp",">=",Pe),Va("timestamp","<=",qe)),St=await In(yt);console.log("[handleSaveRecord] Found",St.size,"records in date range");const kt=[];if(St.forEach(me=>{var Et,xt;const Ne=me.data(),Ke=zt(Ne.timestamp,Mt),dt=(Et=Ne.remarks)==null?void 0:Et.includes("");console.log("[handleSaveRecord] Checking record:",{id:Ne.id,recordDateStr:Ke,targetDate:Ie,isSimpleMode:dt,amount:Ne.amount,remarks:(xt=Ne.remarks)==null?void 0:xt.substring(0,50)}),Ke===Ie&&dt&&kt.push(Ne)}),console.log("[handleSaveRecord] Found",kt.length,"simple mode records on same day"),kt.length>0){const me=kt.reduce((Et,xt)=>Et+xt.amount,0),Ne=Me+Ue+(pt||0);if(console.log("[handleSaveRecord] Simple mode conflict detected:",{simpleModeTotal:me,newRecordTotal:Ne,simpleModeRecords:kt.map(Et=>({id:Et.id,amount:Et.amount}))}),!window.confirm(`${qr(me)}
${qr(Ne)}



OK
`)){console.log("[handleSaveRecord] User cancelled, aborting save");return}console.log("[handleSaveRecord] User confirmed, deleting simple mode records");const dt=O0(Pt);for(const Et of kt){const xt=ir(Pt,"users",h,"history",Et.id),At=ir(Pt,"public_status",h,"history",Et.id);dt.delete(xt),dt.delete(At)}await dt.commit(),console.log(`[handleSaveRecord]  Deleted ${kt.length} simple mode records from subcollections`),Dt=Dt.filter(Et=>!kt.some(xt=>xt.id===Et.id)),console.log("[handleSaveRecord] Removed",kt.length,"simple mode records from currentHistory")}else console.log("[handleSaveRecord] No simple mode records found on same day")}catch(De){console.error("[handleSaveRecord] Error checking simple mode records:",De)}let le=F,ye=Dt;if(jt){const De=[...(F==null?void 0:F.records)||[],...Dt].find(Pe=>Pe.id===Ct);if(De&&zt(De.timestamp,Mt),(F==null?void 0:F.records.some(Pe=>Pe.id===Ct))?le={...F,records:F.records.filter(Pe=>Pe.id!==Ct)}:ye=Dt.filter(Pe=>Pe.id!==Ct),ut){const Pe=((le==null?void 0:le.records)||[]).filter(qe=>qe.id!==Nt.id);le={...F,records:[...Pe,Nt].sort((qe,Xe)=>qe.timestamp-Xe.timestamp)}}else ye=[...ye.filter(qe=>qe.id!==Nt.id),Nt].sort((qe,Xe)=>qe.timestamp-Xe.timestamp)}else if(ut){const De=F.records.filter(Ve=>Ve.id!==Nt.id);le={...F,records:[...De,Nt].sort((Ve,Pe)=>Ve.timestamp-Pe.timestamp)}}else ye=[...Dt.filter(Ve=>Ve.id!==Nt.id),Nt].sort((Ve,Pe)=>Ve.timestamp-Pe.timestamp);q(le),N(ye);const ue={...r,uid:h};r&&E.userName&&ge(ue,le,ye,E,"riding").catch(De=>{console.error("[handleSaveRecord] Broadcast status (riding) failed:",De)}),await fe({shift:le}).catch(De=>{console.error("[handleSaveRecord] Failed to save (riding):",De)}),h&&Nt&&(Se(h,[Nt],"users").catch(De=>{console.error("[handleSaveRecord] Failed to save to users subcollection:",De)}),Se(h,[Nt],"public_status").catch(De=>{console.error("[handleSaveRecord] Failed to save to public_status subcollection:",De)})),Rt||(r&&E.userName&&ge(ue,le,ye,E,"active").catch(De=>{console.error("[handleSaveRecord] Broadcast status (active) failed:",De)}),B({open:!1}))},[F,z,j.initialData,E,r,h]),it=async(Me,Ue,Ee)=>{try{const Oe=ir(Pt,Ee,Me,"history",Ue);await D0(Oe),console.log(`[App] Deleted record ${Ue} from ${Ee}/${Me}/history`)}catch{console.log(`[App] Record ${Ue} may not exist in subcollection, ignoring delete error`)}},st=_e.useCallback(()=>{var ct;if(!r)return;const Me=(ct=j.initialData)==null?void 0:ct.id;if(!Me)return;const Ue=F?{...F,records:F.records.filter(Be=>Be.id!==Me)}:null,Ee=z.filter(Be=>Be.id!==Me);q(Ue),N(Ee),h&&Me&&(it(h,Me,"public_status").catch(Be=>{console.error("[handleDeleteRecord] Failed to delete from public_status subcollection:",Be)}),it(h,Me,"users").catch(Be=>{console.error("[handleDeleteRecord] Failed to delete from users subcollection:",Be)}));const Oe={...r,uid:h};r&&E.userName&&ge(Oe,Ue,Ee,E,"active").catch(Be=>{console.error("[handleDeleteRecord] Broadcast status failed:",Be)}),fe({shift:Ue}).catch(Be=>{console.error("[handleDeleteRecord] Failed to save:",Be)}),B({open:!1})},[j.initialData,F,z,r,h,E]),et=Me=>{A(Ue=>{let Ee=Me.dutyDays||Ue.dutyDays;Me.shimebiDay!==void 0&&Me.shimebiDay!==Ue.shimebiDay&&(Ee=rz(Me.shimebiDay,Me.businessStartHour??Ue.businessStartHour));const Oe={...Ue,...Me,dutyDays:Ee};return Me.inputMode&&Me.inputMode!==Ue.inputMode&&(Me.inputMode,g("home")),fe({stats:Oe}).then(()=>{const ct=Me.visibilityMode!==void 0&&Me.visibilityMode!==Ue.visibilityMode,Be=Me.allowedViewers!==void 0&&JSON.stringify(Me.allowedViewers)!==JSON.stringify(Ue.allowedViewers);if((ct||Be)&&r&&Oe.userName){const Ye={...r,uid:h},je=F?S.isActive?"break":"active":"offline";ge(Ye,F,z,Oe,je).catch(He=>{console.error("[handleUpdateMonthlyStats] Broadcast status failed:",He)})}}).catch(ct=>{console.error("[handleUpdateMonthlyStats] Failed to save stats:",ct)}),Oe})},Ze=async()=>{var Ue;if(!Z.trim()){console.warn("[handleSaveInitialName] tempUserName is empty");return}console.log("[DEBUG] handleSaveInitialName called"),console.log("[DEBUG] tempUserName:",Z),console.log("[DEBUG] user:",r==null?void 0:r.uid),console.log("[DEBUG] targetUid:",h),console.log("[DEBUG] monthlyStats:",E),oe(!0),he.current=!0;const Me=new Promise((Ee,Oe)=>{setTimeout(()=>{Oe(new Error(": 60"))},6e4)});try{const{inputMode:Ee,...Oe}=E,ct={...Oe,userName:Z.trim()};console.log("[DEBUG] updatedStats:",ct),console.log("[DEBUG] Calling saveToDB with:",{stats:ct}),await Promise.race([fe({stats:ct}),Me]);const Be=Z.trim();if(console.log("[handleSaveInitialName] Setting userName to:",Be),r){const Ye={...r,uid:h};await ge(Ye,null,[],ct,"offline").catch(je=>{console.error("[handleSaveInitialName] Broadcast status failed:",je)})}A(Ye=>{const{inputMode:je,...He}=Ye,Te={...He,userName:Be};return console.log("[handleSaveInitialName] Updating monthlyStats, prev.userName:",Ye.userName,"new userName:",Be),Te}),console.log("[handleSaveInitialName] Name saved successfully:",Be),await new Promise(Ye=>setTimeout(Ye,100)),console.log("[handleSaveInitialName] After state update, checking if userName is set..."),oe(!1),he.current=!1,I(!0),O.current=!0}catch(Ee){console.error("[handleSaveInitialName] Failed to save stats:",Ee),console.error("[handleSaveInitialName] Error details:",{code:Ee==null?void 0:Ee.code,message:Ee==null?void 0:Ee.message,stack:Ee==null?void 0:Ee.stack}),oe(!1),he.current=!1,(Ee==null?void 0:Ee.code)===403||(Ee==null?void 0:Ee.code)==="permission-denied"?alert(`: 

Firebase ConsoleFirestore

: `+(Ee==null?void 0:Ee.code)+`

ID: `+(r==null?void 0:r.uid)+`
UID: `+h):(Ee==null?void 0:Ee.code)==="unavailable"?alert(`: Firebase

`):(Ue=Ee==null?void 0:Ee.message)!=null&&Ue.includes("")?alert(`: 30

`):alert(`

: `+((Ee==null?void 0:Ee.message)||"Unknown error")+`

`)}},gt=_e.useCallback(()=>{y(null)},[]),mt=Me=>{if(F){const Ue={...F,startOdo:Me};q(Ue),fe({shift:Ue}).catch(Ee=>{console.error("[handleUpdateStartOdo] Failed to save shift:",Ee)})}};if((d||e||s)&&console.log("[App] Showing splash screen:",{appInitLoading:d,isAuthChecking:e,isDataLoading:s,user:(r==null?void 0:r.email)||"null",userProfile:a?{role:a.role,status:a.status}:"null"}),d||e||s)return _.jsx(ZV,{});if(!r&&!e)return console.log("[App] Showing login screen - user:",(r==null?void 0:r.email)||"null","isAuthChecking:",e,"userProfile:",a),_.jsx(JV,{});if(r&&!e){if(console.log("[App] Checking user authorization:",{user:r.email,userProfile:a?{role:a.role,status:a.status}:"null",isAuthChecking:e,userUid:r.uid}),!a)return console.warn("[App] User is logged in but userProfile is null. This might be an error. Showing UnauthorizedView."),console.warn("[App] Attempting to re-fetch userProfile..."),setTimeout(async()=>{try{const Me=ir(Pt,"users",r.uid),Ue=await Ds(Me);if(Ue.exists()){const Ee=Ue.data(),Oe={role:Ee.role||"user",status:Ee.status||"pending"};console.log("[App] UserProfile re-fetched successfully:",Oe),l(Oe)}else console.warn("[App] UserProfile still does not exist after re-fetch")}catch(Me){console.error("[App] Error re-fetching userProfile:",Me)}},1e3),_.jsx(A_,{});if(a.status!=="active")return console.log("[App] User status is not active:",a.status,"- showing UnauthorizedView"),_.jsx(A_,{})}if(r&&E.userName&&L){const Me=async Ue=>{try{const Ee={...E,inputMode:Ue};await fe({stats:Ee}),A(Oe=>({...Oe,inputMode:Ue})),I(!1),O.current=!1,Ue==="SIMPLE"&&g("home")}catch(Ee){console.error("[handleModeSelect] Failed to save mode:",Ee),alert("")}};return _.jsx(P4,{onSelect:Me,isInitialLogin:!0})}return r&&!E.userName&&!re?_.jsx("div",{className:"min-h-screen bg-[#0A0E14] flex flex-col items-center justify-center p-6 text-white animate-in fade-in duration-700",children:_.jsxs("div",{className:"w-full max-w-sm space-y-8",children:[_.jsxs("div",{className:"text-center space-y-2",children:[_.jsx("div",{className:"bg-amber-500/10 w-20 h-20 rounded-3xl border border-amber-500/20 flex items-center justify-center mx-auto mb-6",children:_.jsx(ru,{size:40,className:"text-amber-500"})}),_.jsx("h2",{className:"text-3xl font-black italic text-white tracking-tighter",children:"WELCOME"}),_.jsx("p",{className:"text-gray-500 font-bold uppercase tracking-widest text-xs",children:""})]}),_.jsxs("div",{className:"bg-[#1A222C] p-6 rounded-[32px] border border-gray-800 shadow-2xl space-y-6",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-[10px] font-black text-gray-500 uppercase tracking-[0.2em] ml-2",children:""}),_.jsxs("div",{className:"relative",children:[_.jsx("div",{className:"absolute inset-y-0 left-4 flex items-center pointer-events-none text-gray-600",children:_.jsx(jl,{size:18})}),_.jsx("input",{type:"text",placeholder:":  ",value:Z,onChange:Me=>ae(Me.target.value),className:"w-full bg-gray-950 border border-gray-800 rounded-2xl py-4 pl-12 pr-4 text-white font-black outline-none focus:border-amber-500/50 transition-all"})]})]}),_.jsx("button",{disabled:!Z.trim()||re,onClick:Ze,className:"w-full bg-amber-500 disabled:bg-gray-800 disabled:text-gray-600 text-black py-4 rounded-2xl font-black text-xl shadow-xl active:scale-95 transition-all flex items-center justify-center gap-2",children:re?_.jsx(_l,{className:"animate-spin",size:20}):_.jsxs(_.Fragment,{children:[" ",_.jsx(uk,{size:20})]})})]}),_.jsx("p",{className:"text-center text-[10px] text-gray-600 font-bold px-8",children:""})]})}):r&&c?_.jsx(aj,{onBack:()=>o(!1)}):P?_.jsx("div",{className:"w-full min-h-screen bg-[#0A0E14]",children:r?_.jsx(jj,{history:[...z,...(F==null?void 0:F.records)||[]],dayMetadata:U,businessStartHour:E.businessStartHour??9,shimebiDay:E.shimebiDay,monthlyStats:E}):_.jsx("div",{className:"flex items-center justify-center min-h-screen text-white",children:_.jsxs("div",{className:"text-center",children:[_.jsx("p",{className:"text-lg font-bold mb-4",children:""}),_.jsx("p",{className:"text-sm text-gray-400",children:""})]})})}):_.jsxs("div",{className:"max-w-md mx-auto min-h-screen bg-[#0A0E14] text-white font-sans pb-28 overflow-x-hidden relative w-full",children:[u&&u!==(r==null?void 0:r.uid)&&_.jsxs("div",{className:"bg-red-600 text-white px-4 py-2 flex justify-between items-center sticky top-0 z-50 shadow-md safe-top animate-in slide-in-from-top",children:[_.jsxs("span",{className:"text-xs font-bold animate-pulse flex items-center gap-2",children:[_.jsx(U1,{size:16}),": ",E.userName||""]}),_.jsx("button",{onClick:()=>p(null),className:"bg-white text-red-600 text-xs font-black px-3 py-1.5 rounded-full active:scale-95 shadow-sm",children:""})]}),_.jsx(ez,{userProfile:a,onAdminClick:()=>{console.log("Admin button clicked"),o(!0)},onSettingsClick:()=>{console.log("Settings button clicked"),console.log("Current isSettingsOpen:",K),ee(!0),console.log("setIsSettingsOpen(true) called")},onLogoClick:()=>{(a==null?void 0:a.role)==="admin"&&(console.log("Logo clicked - opening CSV modal"),V(!0))}}),_.jsx("main",{className:"w-full overflow-x-hidden",children:(E.inputMode||"DETAILED")==="SIMPLE"?_.jsxs(_.Fragment,{children:[b==="home"&&!v&&_.jsx(KV,{stats:E,onUpdateStats:et,onNavigateToInput:()=>y(new Date),history:z}),b==="home"&&v&&_.jsx(qV,{stats:E,onUpdateStats:et,initialDate:v,initialRecordId:T,onClearInitialDate:()=>{y(null),R(null)},onBack:()=>{y(null),R(null)}}),b==="history"&&_.jsx(XV,{stats:E,onEditRecord:Me=>{const Ue=new Date(Me.timestamp);y(Ue),R(Me.id),g("home")}}),b==="analysis"&&_.jsx(WV,{stats:E})]}):_.jsxs(_.Fragment,{children:[b==="home"&&_.jsx(mj,{shift:F,stats:ne,breakState:S,onStart:ke,onEnd:()=>Q(!0),onAdd:Me=>Fe(Me?{remarks:Me}:void 0),onEdit:Me=>Fe(Me),onUpdateGoal:Me=>et({monthlyGoal:Me}),onUpdateShiftGoal:Me=>{if(F){const Ue={...F,dailyGoal:Me};q(Ue),fe({shift:Ue}).catch(Ee=>{console.error("[onUpdateShiftGoal] Failed to save shift:",Ee)})}},onAddRestMinutes:Me=>{if(F){const Ue={...F,totalRestMinutes:(F.totalRestMinutes||0)+Me};q(Ue),fe({shift:Ue}).catch(Ee=>{console.error("[onUpdateRestMinutes] Failed to save shift:",Ee)})}},onToggleBreak:()=>{console.log("[onToggleBreak] Called, current breakState:",S),console.log("[onToggleBreak] Current shift:",F?"exists":"null","startOdo:",F==null?void 0:F.startOdo);const Me=S.isActive?{isActive:!1,startTime:null}:{isActive:!0,startTime:Date.now()},Ue=Me.isActive?"break":"active";if(console.log("[onToggleBreak] New breakState:",Me,"nextStatus:",Ue),k(Me),r&&E.userName){const Ee={...r,uid:h};console.log("[onToggleBreak] Broadcasting status immediately, status:",Ue,"newState:",Me),ge(Ee,F,z,E,Ue).catch(Oe=>{console.error("[onToggleBreak] Broadcast status failed:",Oe)})}console.log("[onToggleBreak] Calling saveToDB..."),fe({breakState:Me}).catch(Ee=>{console.error("[onToggleBreak] Failed to save break state:",Ee)})},setBreakState:Me=>{console.log("[setBreakState] Setting breakState:",Me),k(Me);const Ue=Me.isActive?"break":"active";if(r&&E.userName){const Ee={...r,uid:h};console.log("[setBreakState] Broadcasting status immediately, status:",Ue),ge(Ee,F,z,E,Ue).catch(Oe=>{console.error("[setBreakState] Broadcast status failed:",Oe)})}fe({breakState:Me}).catch(Ee=>{console.error("[setBreakState] Failed to save break state:",Ee)})},onShiftEdit:()=>te(!0),onUpdateStartOdo:mt}),b==="history"&&_.jsx(Sj,{history:(()=>{const Me=[...z,...(F==null?void 0:F.records)||[]],Ue=new Map;return Me.forEach(Ee=>Ue.set(Ee.id,Ee)),Array.from(Ue.values()).sort((Ee,Oe)=>Ee.timestamp-Oe.timestamp)})(),dayMetadata:U,customPaymentLabels:E.customPaymentLabels||{},businessStartHour:E.businessStartHour??9,shimebiDay:E.shimebiDay,onEditRecord:Me=>Fe(Me),onUpdateMetadata:(Me,Ue)=>{const Ee={...U,[Me]:{...U[Me]||{},...Ue}};C(Ee),fe({dayMetadata:Ee}).catch(Oe=>{console.error("[onUpdateMetadata] Failed to save dayMetadata:",Oe)})},stats:E,initialTargetDate:v,onClearTargetDate:gt}),b==="analysis"&&_.jsx(Ej,{history:[...z,...(F==null?void 0:F.records)||[]],stats:E,onNavigateToHistory:pe}),b==="analytics"&&_.jsx(Cj,{history:[...z,...(F==null?void 0:F.records)||[]],stats:E}),b==="guide"&&_.jsx(Nj,{})]})}),j.open&&_.jsx(Lj,{initialData:j.initialData,enabledMethods:E.enabledPaymentMethods,enabledRideTypes:E.enabledRideTypes||Vc,customLabels:E.customPaymentLabels||{},onClose:We,onSave:$e,onDelete:st,businessStartHour:E.businessStartHour??9,followingUsers:E.followingUsers||[],shift:F,history:z,monthlyStats:E}),D&&F&&_.jsx(Bj,{shift:F,customLabels:E.customPaymentLabels||{},enabledMethods:E.enabledPaymentMethods,businessStartHour:E.businessStartHour??9,onConfirm:Ce,onClose:()=>Q(!1)}),K&&_.jsx($V,{stats:E,isAdmin:(a==null?void 0:a.role)==="admin",onUpdateStats:et,onClose:()=>{console.log("SettingsModal onClose called"),ee(!1)},onNavigateToDashboard:()=>{(E.inputMode||"DETAILED")==="SIMPLE"&&(g("home"),y(null))},onImpersonate:Me=>{p(Me),ee(!1)},onImportRecords:async(Me,Ue,Ee,Oe)=>{var Be,Ye,je,He;if(!r)return{addedCount:0,replaceCount:0};const ct=Ue||h;if(!ct)return{addedCount:0,replaceCount:0};try{i(!0),Oe==null||Oe(0,100,"...");const Te=ir(Pt,"users",ct),rt=ir(Pt,"public_status",ct);Oe==null||Oe(10,100,"...");const[Re,Ae]=await Promise.all([Ds(Te),Ds(rt)]);let at=[];try{const de=$r(Pt,"public_status",ct,"history"),be=ln(de,Vn("timestamp","asc")),xe=await In(be);xe.empty?(at=[],console.log("[CSV Import] Subcollection is empty, starting with empty array")):(xe.forEach(De=>{at.push(De.data())}),console.log(`[CSV Import] Loaded ${at.length} records from subcollection`))}catch(de){console.error("[CSV Import] Error loading from subcollection:",de),at=[]}const pt=((Be=Re.data())==null?void 0:Be.stats)||{},lt=pt.customPaymentLabels||{},Rt=pt.enabledPaymentMethods||wf,jt=((Ye=Ae.data())==null?void 0:Ye.name)||"";let Ct=0,Mt=0;if(Oe==null||Oe(20,100,"..."),((Ee==null?void 0:Ee.mergeMode)||"skip")==="overwrite")Me.forEach(de=>{const be=at.findIndex(xe=>xe.timestamp===de.timestamp&&xe.amount===de.amount);if(be!==-1){const xe=at[be].id;at[be]={...de,id:xe},Mt++}else at.push(de),Ct++});else{const de=new Set(at.map(xe=>xe.id)),be=Me.filter(xe=>!de.has(xe.id));at=[...at,...be],Ct=be.length}Oe==null||Oe(50,100,"...");const Nt=at.sort((de,be)=>de.timestamp-be.timestamp);Oe==null||Oe(60,100,"...");const Ie=((je=Re.data())==null?void 0:je.stats)||{},Ge=Ie.shimebiDay??20,ut=Ie.businessStartHour??9,le={};Nt.forEach((de,be)=>{const xe=yr(new Date(de.timestamp),Ge,ut),De=xe.end.getFullYear(),Ve=xe.end.getMonth()+1,Pe=`${De}-${String(Ve).padStart(2,"0")}`;if(le[Pe]||(le[Pe]={label:`${De}${Ve}`,startStr:Yt(xe.start),endStr:Yt(xe.end),records:[],sales:0}),le[Pe].records.push(de),le[Pe].sales+=de.amount,(be+1)%100===0){const qe=60+Math.floor(be/Nt.length*20);Oe==null||Oe(qe,100,`... (${be+1}/${Nt.length})`)}}),Oe==null||Oe(90,100,"..."),await Promise.all([an(Te,{records:Nt},{merge:!0}),an(rt,{months:le,...Og?{}:{history:Nt},lastUpdated:Date.now()},{merge:!0})]),Oe==null||Oe(92,100,"..."),await Se(ct,Nt,"public_status").catch(de=>{console.error("[onImportRecords] Failed to save to subcollection:",de)}),await Se(ct,Nt,"users").catch(de=>{console.error("[onImportRecords] Failed to save to users subcollection:",de)});const ye={...r,uid:ct},ue=((He=Re.data())==null?void 0:He.stats)||E;return ye&&ue.userName&&(Oe==null||Oe(95,100,"..."),await ge(ye,null,Nt,ue,"offline").catch(de=>{console.error("[onImportRecords] Broadcast status failed:",de)})),Oe==null||Oe(100,100,""),{addedCount:Ct,replaceCount:Mt}}catch(Te){return console.error("Import failed",Te),alert(""),{addedCount:0,replaceCount:0}}finally{i(!1)}}}),W&&F&&_.jsx(Uj,{shift:F,onClose:()=>te(!1),onSave:(Me,Ue)=>{if(F){const Ee={...F,startTime:Me,plannedHours:Ue};q(Ee),fe({shift:Ee}).catch(Oe=>{console.error("[onSave] Failed to save shift:",Oe)})}}}),G&&_.jsx(HV,{onClose:()=>V(!1),isAdmin:(a==null?void 0:a.role)==="admin",currentUid:(r==null?void 0:r.uid)||"",onImport:async(Me,Ue)=>{var Oe,ct;if(!r)return{addedCount:0,replaceCount:0};const Ee=Ue||h;if(!Ee)return{addedCount:0,replaceCount:0};try{i(!0);const Be=ir(Pt,"users",Ee),Ye=ir(Pt,"public_status",Ee),[je,He]=await Promise.all([Ds(Be),Ds(Ye)]);let Te=[];try{const Mt=$r(Pt,"public_status",Ee,"history"),Dt=ln(Mt,Vn("timestamp","asc")),Nt=await In(Dt);Nt.empty?(Te=[],console.log("[CSV Import] Subcollection is empty, starting with empty array")):(Nt.forEach(Ie=>{Te.push(Ie.data())}),console.log(`[CSV Import] Loaded ${Te.length} records from subcollection`))}catch(Mt){console.error("[CSV Import] Error loading from subcollection:",Mt),Te=[]}let rt=0,Re=0;Me.forEach(Mt=>{const Dt=Te.findIndex(Nt=>Nt.timestamp===Mt.timestamp&&Nt.amount===Mt.amount);if(Dt!==-1){const Nt=Te[Dt].id;Te[Dt]={...Mt,id:Nt},Re++}else Te.push(Mt),rt++});const Ae=Te.sort((Mt,Dt)=>Mt.timestamp-Dt.timestamp),at=((Oe=je.data())==null?void 0:Oe.stats)||E,pt=at.shimebiDay??20,lt=at.businessStartHour??9,Rt={};Ae.forEach(Mt=>{const Dt=yr(new Date(Mt.timestamp),pt,lt),Nt=Dt.end.getFullYear(),Ie=Dt.end.getMonth()+1,Ge=`${Nt}-${String(Ie).padStart(2,"0")}`;Rt[Ge]||(Rt[Ge]={label:`${Nt}${Ie}`,startStr:Yt(Dt.start),endStr:Yt(Dt.end),records:[],sales:0}),Rt[Ge].records.push(Mt),Rt[Ge].sales+=Mt.amount}),await Promise.all([an(Be,{records:Ae},{merge:!0}),an(Ye,{months:Rt,...Og?{}:{history:Ae},lastUpdated:Date.now()},{merge:!0})]),await Se(Ee,Ae,"public_status").catch(Mt=>{console.error("[CsvImportModal] Failed to save to subcollection:",Mt)}),await Se(Ee,Ae,"users").catch(Mt=>{console.error("[CsvImportModal] Failed to save to users subcollection:",Mt)});const jt={...r,uid:Ee},Ct=((ct=je.data())==null?void 0:ct.stats)||E;return jt&&Ct.userName&&await ge(jt,null,Ae,Ct,"offline").catch(Mt=>{console.error("[CsvImportModal] Broadcast status failed:",Mt)}),V(!1),{addedCount:rt,replaceCount:Re}}catch(Be){return console.error("Import failed",Be),alert(""),{addedCount:0,replaceCount:0}}finally{i(!1)}}}),r&&_.jsx(tz,{activeTab:b,monthlyStats:E,showCalendar:P,targetHistoryDate:v,onTabChange:Me=>g(Me),onTargetHistoryDateChange:Me=>y(Me),onTargetHistoryRecordIdChange:Me=>R(Me)}),L&&_.jsx(P4,{onSelect:async Me=>{I(!1),O.current=!1,await et({inputMode:Me})}})]})}const dS=document.getElementById("root");if(!dS)throw new Error("Could not find root element to mount to");const sz=ZT.createRoot(dS);sz.render(_.jsx(B4.StrictMode,{children:_.jsx(nz,{})}));
