(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function e(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=e(s);fetch(s.href,i)}})();var mr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function V4(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var yg={exports:{}},lf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv;function Qk(){if(Lv)return lf;Lv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(n,s,i){var a=null;if(i!==void 0&&(a=""+i),s.key!==void 0&&(a=""+s.key),"key"in s){i={};for(var l in s)l!=="key"&&(i[l]=s[l])}else i=s;return s=i.ref,{$$typeof:r,type:n,key:a,ref:s!==void 0?s:null,props:i}}return lf.Fragment=t,lf.jsx=e,lf.jsxs=e,lf}var Bv;function Zk(){return Bv||(Bv=1,yg.exports=Qk()),yg.exports}var y=Zk(),vg={exports:{}},ar={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function Jk(){if(Uv)return ar;Uv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),o=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),h=Symbol.iterator;function d(U){return U===null||typeof U!="object"?null:(U=h&&U[h]||U["@@iterator"],typeof U=="function"?U:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,g={};function w(U,I,Q){this.props=U,this.context=I,this.refs=g,this.updater=Q||b}w.prototype.isReactComponent={},w.prototype.setState=function(U,I){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,I,"setState")},w.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function v(){}v.prototype=w.prototype;function k(U,I,Q){this.props=U,this.context=I,this.refs=g,this.updater=Q||b}var R=k.prototype=new v;R.constructor=k,x(R,w.prototype),R.isPureReactComponent=!0;var L=Array.isArray;function G(){}var V={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function F(U,I,Q){var Y=Q.ref;return{$$typeof:r,type:U,key:I,ref:Y!==void 0?Y:null,props:Q}}function B(U,I){return F(U.type,I,U.props)}function W(U){return typeof U=="object"&&U!==null&&U.$$typeof===r}function P(U){var I={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(Q){return I[Q]})}var N=/\/+/g;function D(U,I){return typeof U=="object"&&U!==null&&U.key!=null?P(""+U.key):I.toString(36)}function C(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(G,G):(U.status="pending",U.then(function(I){U.status==="pending"&&(U.status="fulfilled",U.value=I)},function(I){U.status==="pending"&&(U.status="rejected",U.reason=I)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function S(U,I,Q,Y,ee){var q=typeof U;(q==="undefined"||q==="boolean")&&(U=null);var te=!1;if(U===null)te=!0;else switch(q){case"bigint":case"string":case"number":te=!0;break;case"object":switch(U.$$typeof){case r:case t:te=!0;break;case u:return te=U._init,S(te(U._payload),I,Q,Y,ee)}}if(te)return ee=ee(U),te=Y===""?"."+D(U,0):Y,L(ee)?(Q="",te!=null&&(Q=te.replace(N,"$&/")+"/"),S(ee,I,Q,"",function(Z){return Z})):ee!=null&&(W(ee)&&(ee=B(ee,Q+(ee.key==null||U&&U.key===ee.key?"":(""+ee.key).replace(N,"$&/")+"/")+te)),I.push(ee)),1;te=0;var H=Y===""?".":Y+":";if(L(U))for(var z=0;z<U.length;z++)Y=U[z],q=H+D(Y,z),te+=S(Y,I,Q,q,ee);else if(z=d(U),typeof z=="function")for(U=z.call(U),z=0;!(Y=U.next()).done;)Y=Y.value,q=H+D(Y,z++),te+=S(Y,I,Q,q,ee);else if(q==="object"){if(typeof U.then=="function")return S(C(U),I,Q,Y,ee);throw I=String(U),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return te}function T(U,I,Q){if(U==null)return U;var Y=[],ee=0;return S(U,Y,"","",function(q){return I.call(Q,q,ee++)}),Y}function A(U){if(U._status===-1){var I=U._result;I=I(),I.then(function(Q){(U._status===0||U._status===-1)&&(U._status=1,U._result=Q)},function(Q){(U._status===0||U._status===-1)&&(U._status=2,U._result=Q)}),U._status===-1&&(U._status=0,U._result=I)}if(U._status===1)return U._result.default;throw U._result}var E=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},j={map:T,forEach:function(U,I,Q){T(U,function(){I.apply(this,arguments)},Q)},count:function(U){var I=0;return T(U,function(){I++}),I},toArray:function(U){return T(U,function(I){return I})||[]},only:function(U){if(!W(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return ar.Activity=p,ar.Children=j,ar.Component=w,ar.Fragment=e,ar.Profiler=s,ar.PureComponent=k,ar.StrictMode=n,ar.Suspense=c,ar.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,ar.__COMPILER_RUNTIME={__proto__:null,c:function(U){return V.H.useMemoCache(U)}},ar.cache=function(U){return function(){return U.apply(null,arguments)}},ar.cacheSignal=function(){return null},ar.cloneElement=function(U,I,Q){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var Y=x({},U.props),ee=U.key;if(I!=null)for(q in I.key!==void 0&&(ee=""+I.key),I)!O.call(I,q)||q==="key"||q==="__self"||q==="__source"||q==="ref"&&I.ref===void 0||(Y[q]=I[q]);var q=arguments.length-2;if(q===1)Y.children=Q;else if(1<q){for(var te=Array(q),H=0;H<q;H++)te[H]=arguments[H+2];Y.children=te}return F(U.type,ee,Y)},ar.createContext=function(U){return U={$$typeof:a,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:i,_context:U},U},ar.createElement=function(U,I,Q){var Y,ee={},q=null;if(I!=null)for(Y in I.key!==void 0&&(q=""+I.key),I)O.call(I,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(ee[Y]=I[Y]);var te=arguments.length-2;if(te===1)ee.children=Q;else if(1<te){for(var H=Array(te),z=0;z<te;z++)H[z]=arguments[z+2];ee.children=H}if(U&&U.defaultProps)for(Y in te=U.defaultProps,te)ee[Y]===void 0&&(ee[Y]=te[Y]);return F(U,q,ee)},ar.createRef=function(){return{current:null}},ar.forwardRef=function(U){return{$$typeof:l,render:U}},ar.isValidElement=W,ar.lazy=function(U){return{$$typeof:u,_payload:{_status:-1,_result:U},_init:A}},ar.memo=function(U,I){return{$$typeof:o,type:U,compare:I===void 0?null:I}},ar.startTransition=function(U){var I=V.T,Q={};V.T=Q;try{var Y=U(),ee=V.S;ee!==null&&ee(Q,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(G,E)}catch(q){E(q)}finally{I!==null&&Q.types!==null&&(I.types=Q.types),V.T=I}},ar.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},ar.use=function(U){return V.H.use(U)},ar.useActionState=function(U,I,Q){return V.H.useActionState(U,I,Q)},ar.useCallback=function(U,I){return V.H.useCallback(U,I)},ar.useContext=function(U){return V.H.useContext(U)},ar.useDebugValue=function(){},ar.useDeferredValue=function(U,I){return V.H.useDeferredValue(U,I)},ar.useEffect=function(U,I){return V.H.useEffect(U,I)},ar.useEffectEvent=function(U){return V.H.useEffectEvent(U)},ar.useId=function(){return V.H.useId()},ar.useImperativeHandle=function(U,I,Q){return V.H.useImperativeHandle(U,I,Q)},ar.useInsertionEffect=function(U,I){return V.H.useInsertionEffect(U,I)},ar.useLayoutEffect=function(U,I){return V.H.useLayoutEffect(U,I)},ar.useMemo=function(U,I){return V.H.useMemo(U,I)},ar.useOptimistic=function(U,I){return V.H.useOptimistic(U,I)},ar.useReducer=function(U,I,Q){return V.H.useReducer(U,I,Q)},ar.useRef=function(U){return V.H.useRef(U)},ar.useState=function(U){return V.H.useState(U)},ar.useSyncExternalStore=function(U,I,Q){return V.H.useSyncExternalStore(U,I,Q)},ar.useTransition=function(){return V.H.useTransition()},ar.version="19.2.3",ar}var Vv;function L1(){return Vv||(Vv=1,vg.exports=Jk()),vg.exports}var _e=L1();const d0=V4(_e);var wg={exports:{}},cf={},_g={exports:{}},Sg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function eT(){return zv||(zv=1,(function(r){function t(S,T){var A=S.length;S.push(T);e:for(;0<A;){var E=A-1>>>1,j=S[E];if(0<s(j,T))S[E]=T,S[A]=j,A=E;else break e}}function e(S){return S.length===0?null:S[0]}function n(S){if(S.length===0)return null;var T=S[0],A=S.pop();if(A!==T){S[0]=A;e:for(var E=0,j=S.length,U=j>>>1;E<U;){var I=2*(E+1)-1,Q=S[I],Y=I+1,ee=S[Y];if(0>s(Q,A))Y<j&&0>s(ee,Q)?(S[E]=ee,S[Y]=A,E=Y):(S[E]=Q,S[I]=A,E=I);else if(Y<j&&0>s(ee,A))S[E]=ee,S[Y]=A,E=Y;else break e}}return T}function s(S,T){var A=S.sortIndex-T.sortIndex;return A!==0?A:S.id-T.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;r.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();r.unstable_now=function(){return a.now()-l}}var c=[],o=[],u=1,p=null,h=3,d=!1,b=!1,x=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function R(S){for(var T=e(o);T!==null;){if(T.callback===null)n(o);else if(T.startTime<=S)n(o),T.sortIndex=T.expirationTime,t(c,T);else break;T=e(o)}}function L(S){if(x=!1,R(S),!b)if(e(c)!==null)b=!0,G||(G=!0,P());else{var T=e(o);T!==null&&C(L,T.startTime-S)}}var G=!1,V=-1,O=5,F=-1;function B(){return g?!0:!(r.unstable_now()-F<O)}function W(){if(g=!1,G){var S=r.unstable_now();F=S;var T=!0;try{e:{b=!1,x&&(x=!1,v(V),V=-1),d=!0;var A=h;try{t:{for(R(S),p=e(c);p!==null&&!(p.expirationTime>S&&B());){var E=p.callback;if(typeof E=="function"){p.callback=null,h=p.priorityLevel;var j=E(p.expirationTime<=S);if(S=r.unstable_now(),typeof j=="function"){p.callback=j,R(S),T=!0;break t}p===e(c)&&n(c),R(S)}else n(c);p=e(c)}if(p!==null)T=!0;else{var U=e(o);U!==null&&C(L,U.startTime-S),T=!1}}break e}finally{p=null,h=A,d=!1}T=void 0}}finally{T?P():G=!1}}}var P;if(typeof k=="function")P=function(){k(W)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,D=N.port2;N.port1.onmessage=W,P=function(){D.postMessage(null)}}else P=function(){w(W,0)};function C(S,T){V=w(function(){S(r.unstable_now())},T)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(S){S.callback=null},r.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<S?Math.floor(1e3/S):5},r.unstable_getCurrentPriorityLevel=function(){return h},r.unstable_next=function(S){switch(h){case 1:case 2:case 3:var T=3;break;default:T=h}var A=h;h=T;try{return S()}finally{h=A}},r.unstable_requestPaint=function(){g=!0},r.unstable_runWithPriority=function(S,T){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var A=h;h=S;try{return T()}finally{h=A}},r.unstable_scheduleCallback=function(S,T,A){var E=r.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?E+A:E):A=E,S){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=A+j,S={id:u++,callback:T,priorityLevel:S,startTime:A,expirationTime:j,sortIndex:-1},A>E?(S.sortIndex=A,t(o,S),e(c)===null&&S===e(o)&&(x?(v(V),V=-1):x=!0,C(L,A-E))):(S.sortIndex=j,t(c,S),b||d||(b=!0,G||(G=!0,P()))),S},r.unstable_shouldYield=B,r.unstable_wrapCallback=function(S){var T=h;return function(){var A=h;h=T;try{return S.apply(this,arguments)}finally{h=A}}}})(Sg)),Sg}var Hv;function tT(){return Hv||(Hv=1,_g.exports=eT()),_g.exports}var kg={exports:{}},ss={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $v;function rT(){if($v)return ss;$v=1;var r=L1();function t(c){var o="https://react.dev/errors/"+c;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+c+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var n={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},s=Symbol.for("react.portal");function i(c,o,u){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:p==null?null:""+p,children:c,containerInfo:o,implementation:u}}var a=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,o){if(c==="font")return"";if(typeof o=="string")return o==="use-credentials"?o:""}return ss.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,ss.createPortal=function(c,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)throw Error(t(299));return i(c,o,null,u)},ss.flushSync=function(c){var o=a.T,u=n.p;try{if(a.T=null,n.p=2,c)return c()}finally{a.T=o,n.p=u,n.d.f()}},ss.preconnect=function(c,o){typeof c=="string"&&(o?(o=o.crossOrigin,o=typeof o=="string"?o==="use-credentials"?o:"":void 0):o=null,n.d.C(c,o))},ss.prefetchDNS=function(c){typeof c=="string"&&n.d.D(c)},ss.preinit=function(c,o){if(typeof c=="string"&&o&&typeof o.as=="string"){var u=o.as,p=l(u,o.crossOrigin),h=typeof o.integrity=="string"?o.integrity:void 0,d=typeof o.fetchPriority=="string"?o.fetchPriority:void 0;u==="style"?n.d.S(c,typeof o.precedence=="string"?o.precedence:void 0,{crossOrigin:p,integrity:h,fetchPriority:d}):u==="script"&&n.d.X(c,{crossOrigin:p,integrity:h,fetchPriority:d,nonce:typeof o.nonce=="string"?o.nonce:void 0})}},ss.preinitModule=function(c,o){if(typeof c=="string")if(typeof o=="object"&&o!==null){if(o.as==null||o.as==="script"){var u=l(o.as,o.crossOrigin);n.d.M(c,{crossOrigin:u,integrity:typeof o.integrity=="string"?o.integrity:void 0,nonce:typeof o.nonce=="string"?o.nonce:void 0})}}else o==null&&n.d.M(c)},ss.preload=function(c,o){if(typeof c=="string"&&typeof o=="object"&&o!==null&&typeof o.as=="string"){var u=o.as,p=l(u,o.crossOrigin);n.d.L(c,u,{crossOrigin:p,integrity:typeof o.integrity=="string"?o.integrity:void 0,nonce:typeof o.nonce=="string"?o.nonce:void 0,type:typeof o.type=="string"?o.type:void 0,fetchPriority:typeof o.fetchPriority=="string"?o.fetchPriority:void 0,referrerPolicy:typeof o.referrerPolicy=="string"?o.referrerPolicy:void 0,imageSrcSet:typeof o.imageSrcSet=="string"?o.imageSrcSet:void 0,imageSizes:typeof o.imageSizes=="string"?o.imageSizes:void 0,media:typeof o.media=="string"?o.media:void 0})}},ss.preloadModule=function(c,o){if(typeof c=="string")if(o){var u=l(o.as,o.crossOrigin);n.d.m(c,{as:typeof o.as=="string"&&o.as!=="script"?o.as:void 0,crossOrigin:u,integrity:typeof o.integrity=="string"?o.integrity:void 0})}else n.d.m(c)},ss.requestFormReset=function(c){n.d.r(c)},ss.unstable_batchedUpdates=function(c,o){return c(o)},ss.useFormState=function(c,o,u){return a.H.useFormState(c,o,u)},ss.useFormStatus=function(){return a.H.useHostTransitionStatus()},ss.version="19.2.3",ss}var qv;function z4(){if(qv)return kg.exports;qv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),kg.exports=rT(),kg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv;function nT(){if(Gv)return cf;Gv=1;var r=tT(),t=L1(),e=z4();function n(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)}function i(f){var m=f,_=f;if(f.alternate)for(;m.return;)m=m.return;else{f=m;do m=f,(m.flags&4098)!==0&&(_=m.return),f=m.return;while(f)}return m.tag===3?_:null}function a(f){if(f.tag===13){var m=f.memoizedState;if(m===null&&(f=f.alternate,f!==null&&(m=f.memoizedState)),m!==null)return m.dehydrated}return null}function l(f){if(f.tag===31){var m=f.memoizedState;if(m===null&&(f=f.alternate,f!==null&&(m=f.memoizedState)),m!==null)return m.dehydrated}return null}function c(f){if(i(f)!==f)throw Error(n(188))}function o(f){var m=f.alternate;if(!m){if(m=i(f),m===null)throw Error(n(188));return m!==f?null:f}for(var _=f,M=m;;){var K=_.return;if(K===null)break;var J=K.alternate;if(J===null){if(M=K.return,M!==null){_=M;continue}break}if(K.child===J.child){for(J=K.child;J;){if(J===_)return c(K),f;if(J===M)return c(K),m;J=J.sibling}throw Error(n(188))}if(_.return!==M.return)_=K,M=J;else{for(var oe=!1,we=K.child;we;){if(we===_){oe=!0,_=K,M=J;break}if(we===M){oe=!0,M=K,_=J;break}we=we.sibling}if(!oe){for(we=J.child;we;){if(we===_){oe=!0,_=J,M=K;break}if(we===M){oe=!0,M=J,_=K;break}we=we.sibling}if(!oe)throw Error(n(189))}}if(_.alternate!==M)throw Error(n(190))}if(_.tag!==3)throw Error(n(188));return _.stateNode.current===_?f:m}function u(f){var m=f.tag;if(m===5||m===26||m===27||m===6)return f;for(f=f.child;f!==null;){if(m=u(f),m!==null)return m;f=f.sibling}return null}var p=Object.assign,h=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),v=Symbol.for("react.consumer"),k=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function P(f){return f===null||typeof f!="object"?null:(f=W&&f[W]||f["@@iterator"],typeof f=="function"?f:null)}var N=Symbol.for("react.client.reference");function D(f){if(f==null)return null;if(typeof f=="function")return f.$$typeof===N?null:f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case x:return"Fragment";case w:return"Profiler";case g:return"StrictMode";case L:return"Suspense";case G:return"SuspenseList";case F:return"Activity"}if(typeof f=="object")switch(f.$$typeof){case b:return"Portal";case k:return f.displayName||"Context";case v:return(f._context.displayName||"Context")+".Consumer";case R:var m=f.render;return f=f.displayName,f||(f=m.displayName||m.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case V:return m=f.displayName||null,m!==null?m:D(f.type)||"Memo";case O:m=f._payload,f=f._init;try{return D(f(m))}catch{}}return null}var C=Array.isArray,S=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,T=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,A={pending:!1,data:null,method:null,action:null},E=[],j=-1;function U(f){return{current:f}}function I(f){0>j||(f.current=E[j],E[j]=null,j--)}function Q(f,m){j++,E[j]=f.current,f.current=m}var Y=U(null),ee=U(null),q=U(null),te=U(null);function H(f,m){switch(Q(q,m),Q(ee,f),Q(Y,null),m.nodeType){case 9:case 11:f=(f=m.documentElement)&&(f=f.namespaceURI)?ov(f):0;break;default:if(f=m.tagName,m=m.namespaceURI)m=ov(m),f=lv(m,f);else switch(f){case"svg":f=1;break;case"math":f=2;break;default:f=0}}I(Y),Q(Y,f)}function z(){I(Y),I(ee),I(q)}function Z(f){f.memoizedState!==null&&Q(te,f);var m=Y.current,_=lv(m,f.type);m!==_&&(Q(ee,f),Q(Y,_))}function ae(f){ee.current===f&&(I(Y),I(ee)),te.current===f&&(I(te),nf._currentValue=A)}var re,le;function de(f){if(re===void 0)try{throw Error()}catch(_){var m=_.stack.trim().match(/\n( *(at )?)/);re=m&&m[1]||"",le=-1<_.stack.indexOf(`
    at`)?" (<anonymous>)":-1<_.stack.indexOf("@")?"@unknown:0:0":""}return`
`+re+f+le}var ve=!1;function ge(f,m){if(!f||ve)return"";ve=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var M={DetermineComponentFrameRoot:function(){try{if(m){var Nt=function(){throw Error()};if(Object.defineProperty(Nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Nt,[])}catch(mt){var ct=mt}Reflect.construct(f,[],Nt)}else{try{Nt.call()}catch(mt){ct=mt}f.call(Nt.prototype)}}else{try{throw Error()}catch(mt){ct=mt}(Nt=f())&&typeof Nt.catch=="function"&&Nt.catch(function(){})}}catch(mt){if(mt&&ct&&typeof mt.stack=="string")return[mt.stack,ct.stack]}return[null,null]}};M.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var K=Object.getOwnPropertyDescriptor(M.DetermineComponentFrameRoot,"name");K&&K.configurable&&Object.defineProperty(M.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var J=M.DetermineComponentFrameRoot(),oe=J[0],we=J[1];if(oe&&we){var Be=oe.split(`
`),it=we.split(`
`);for(K=M=0;M<Be.length&&!Be[M].includes("DetermineComponentFrameRoot");)M++;for(;K<it.length&&!it[K].includes("DetermineComponentFrameRoot");)K++;if(M===Be.length||K===it.length)for(M=Be.length-1,K=it.length-1;1<=M&&0<=K&&Be[M]!==it[K];)K--;for(;1<=M&&0<=K;M--,K--)if(Be[M]!==it[K]){if(M!==1||K!==1)do if(M--,K--,0>K||Be[M]!==it[K]){var _t=`
`+Be[M].replace(" at new "," at ");return f.displayName&&_t.includes("<anonymous>")&&(_t=_t.replace("<anonymous>",f.displayName)),_t}while(1<=M&&0<=K);break}}}finally{ve=!1,Error.prepareStackTrace=_}return(_=f?f.displayName||f.name:"")?de(_):""}function se(f,m){switch(f.tag){case 26:case 27:case 5:return de(f.type);case 16:return de("Lazy");case 13:return f.child!==m&&m!==null?de("Suspense Fallback"):de("Suspense");case 19:return de("SuspenseList");case 0:case 15:return ge(f.type,!1);case 11:return ge(f.type.render,!1);case 1:return ge(f.type,!0);case 31:return de("Activity");default:return""}}function xe(f){try{var m="",_=null;do m+=se(f,_),_=f,f=f.return;while(f);return m}catch(M){return`
Error generating stack: `+M.message+`
`+M.stack}}var pe=Object.prototype.hasOwnProperty,Te=r.unstable_scheduleCallback,ke=r.unstable_cancelCallback,Re=r.unstable_shouldYield,$e=r.unstable_requestPaint,Pe=r.unstable_now,Je=r.unstable_getCurrentPriorityLevel,Ze=r.unstable_ImmediatePriority,Ye=r.unstable_UserBlockingPriority,Xe=r.unstable_NormalPriority,ut=r.unstable_LowPriority,ot=r.unstable_IdlePriority,je=r.log,He=r.unstable_setDisableYieldValue,Ne=null,Ie=null;function lt(f){if(typeof je=="function"&&He(f),Ie&&typeof Ie.setStrictMode=="function")try{Ie.setStrictMode(Ne,f)}catch{}}var Ue=Math.clz32?Math.clz32:yt,We=Math.log,bt=Math.LN2;function yt(f){return f>>>=0,f===0?32:31-(We(f)/bt|0)|0}var nt=256,Et=262144,Oe=4194304;function Ce(f){var m=f&42;if(m!==0)return m;switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return f&261888;case 262144:case 524288:case 1048576:case 2097152:return f&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return f&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return f}}function rt(f,m,_){var M=f.pendingLanes;if(M===0)return 0;var K=0,J=f.suspendedLanes,oe=f.pingedLanes;f=f.warmLanes;var we=M&134217727;return we!==0?(M=we&~J,M!==0?K=Ce(M):(oe&=we,oe!==0?K=Ce(oe):_||(_=we&~f,_!==0&&(K=Ce(_))))):(we=M&~J,we!==0?K=Ce(we):oe!==0?K=Ce(oe):_||(_=M&~f,_!==0&&(K=Ce(_)))),K===0?0:m!==0&&m!==K&&(m&J)===0&&(J=K&-K,_=m&-m,J>=_||J===32&&(_&4194048)!==0)?m:K}function pt(f,m){return(f.pendingLanes&~(f.suspendedLanes&~f.pingedLanes)&m)===0}function ft(f,m){switch(f){case 1:case 2:case 4:case 8:case 64:return m+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mt(){var f=Oe;return Oe<<=1,(Oe&62914560)===0&&(Oe=4194304),f}function At(f){for(var m=[],_=0;31>_;_++)m.push(f);return m}function wt(f,m){f.pendingLanes|=m,m!==268435456&&(f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0)}function ze(f,m,_,M,K,J){var oe=f.pendingLanes;f.pendingLanes=_,f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0,f.expiredLanes&=_,f.entangledLanes&=_,f.errorRecoveryDisabledLanes&=_,f.shellSuspendCounter=0;var we=f.entanglements,Be=f.expirationTimes,it=f.hiddenUpdates;for(_=oe&~_;0<_;){var _t=31-Ue(_),Nt=1<<_t;we[_t]=0,Be[_t]=-1;var ct=it[_t];if(ct!==null)for(it[_t]=null,_t=0;_t<ct.length;_t++){var mt=ct[_t];mt!==null&&(mt.lane&=-536870913)}_&=~Nt}M!==0&&ht(f,M,0),J!==0&&K===0&&f.tag!==0&&(f.suspendedLanes|=J&~(oe&~m))}function ht(f,m,_){f.pendingLanes|=m,f.suspendedLanes&=~m;var M=31-Ue(m);f.entangledLanes|=m,f.entanglements[M]=f.entanglements[M]|1073741824|_&261930}function Qe(f,m){var _=f.entangledLanes|=m;for(f=f.entanglements;_;){var M=31-Ue(_),K=1<<M;K&m|f[M]&m&&(f[M]|=m),_&=~K}}function Ee(f,m){var _=m&-m;return _=(_&42)!==0?1:Ve(_),(_&(f.suspendedLanes|m))!==0?0:_}function Ve(f){switch(f){case 2:f=1;break;case 8:f=4;break;case 32:f=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:f=128;break;case 268435456:f=134217728;break;default:f=0}return f}function et(f){return f&=-f,2<f?8<f?(f&134217727)!==0?32:268435456:8:2}function ce(){var f=T.p;return f!==0?f:(f=window.event,f===void 0?32:Mv(f.type))}function ye(f,m){var _=T.p;try{return T.p=f,m()}finally{T.p=_}}var ie=Math.random().toString(36).slice(2),fe="__reactFiber$"+ie,he="__reactProps$"+ie,me="__reactContainer$"+ie,Ae="__reactEvents$"+ie,Le="__reactListeners$"+ie,De="__reactHandles$"+ie,Fe="__reactResources$"+ie,qe="__reactMarker$"+ie;function xt(f){delete f[fe],delete f[he],delete f[Ae],delete f[Le],delete f[De]}function vt(f){var m=f[fe];if(m)return m;for(var _=f.parentNode;_;){if(m=_[me]||_[fe]){if(_=m.alternate,m.child!==null||_!==null&&_.child!==null)for(f=mv(f);f!==null;){if(_=f[fe])return _;f=mv(f)}return m}f=_,_=f.parentNode}return null}function Ct(f){if(f=f[fe]||f[me]){var m=f.tag;if(m===5||m===6||m===13||m===31||m===26||m===27||m===3)return f}return null}function be(f){var m=f.tag;if(m===5||m===26||m===27||m===6)return f.stateNode;throw Error(n(33))}function Me(f){var m=f[Fe];return m||(m=f[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),m}function Ke(f){f[qe]=!0}var gt=new Set,jt={};function St(f,m){Dt(f,m),Dt(f+"Capture",m)}function Dt(f,m){for(jt[f]=m,f=0;f<m.length;f++)gt.add(m[f])}var Zt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wt={},Xt={};function zt(f){return pe.call(Xt,f)?!0:pe.call(Wt,f)?!1:Zt.test(f)?Xt[f]=!0:(Wt[f]=!0,!1)}function er(f,m,_){if(zt(m))if(_===null)f.removeAttribute(m);else{switch(typeof _){case"undefined":case"function":case"symbol":f.removeAttribute(m);return;case"boolean":var M=m.toLowerCase().slice(0,5);if(M!=="data-"&&M!=="aria-"){f.removeAttribute(m);return}}f.setAttribute(m,""+_)}}function sr(f,m,_){if(_===null)f.removeAttribute(m);else{switch(typeof _){case"undefined":case"function":case"symbol":case"boolean":f.removeAttribute(m);return}f.setAttribute(m,""+_)}}function Kt(f,m,_,M){if(M===null)f.removeAttribute(_);else{switch(typeof M){case"undefined":case"function":case"symbol":case"boolean":f.removeAttribute(_);return}f.setAttributeNS(m,_,""+M)}}function lr(f){switch(typeof f){case"bigint":case"boolean":case"number":case"string":case"undefined":return f;case"object":return f;default:return""}}function $r(f){var m=f.type;return(f=f.nodeName)&&f.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function dn(f,m,_){var M=Object.getOwnPropertyDescriptor(f.constructor.prototype,m);if(!f.hasOwnProperty(m)&&typeof M<"u"&&typeof M.get=="function"&&typeof M.set=="function"){var K=M.get,J=M.set;return Object.defineProperty(f,m,{configurable:!0,get:function(){return K.call(this)},set:function(oe){_=""+oe,J.call(this,oe)}}),Object.defineProperty(f,m,{enumerable:M.enumerable}),{getValue:function(){return _},setValue:function(oe){_=""+oe},stopTracking:function(){f._valueTracker=null,delete f[m]}}}}function dr(f){if(!f._valueTracker){var m=$r(f)?"checked":"value";f._valueTracker=dn(f,m,""+f[m])}}function ys(f){if(!f)return!1;var m=f._valueTracker;if(!m)return!0;var _=m.getValue(),M="";return f&&(M=$r(f)?f.checked?"true":"false":f.value),f=M,f!==_?(m.setValue(f),!0):!1}function Hn(f){if(f=f||(typeof document<"u"?document:void 0),typeof f>"u")return null;try{return f.activeElement||f.body}catch{return f.body}}var Rs=/[\n"\\]/g;function pn(f){return f.replace(Rs,function(m){return"\\"+m.charCodeAt(0).toString(16)+" "})}function br(f,m,_,M,K,J,oe,we){f.name="",oe!=null&&typeof oe!="function"&&typeof oe!="symbol"&&typeof oe!="boolean"?f.type=oe:f.removeAttribute("type"),m!=null?oe==="number"?(m===0&&f.value===""||f.value!=m)&&(f.value=""+lr(m)):f.value!==""+lr(m)&&(f.value=""+lr(m)):oe!=="submit"&&oe!=="reset"||f.removeAttribute("value"),m!=null?Ms(f,oe,lr(m)):_!=null?Ms(f,oe,lr(_)):M!=null&&f.removeAttribute("value"),K==null&&J!=null&&(f.defaultChecked=!!J),K!=null&&(f.checked=K&&typeof K!="function"&&typeof K!="symbol"),we!=null&&typeof we!="function"&&typeof we!="symbol"&&typeof we!="boolean"?f.name=""+lr(we):f.removeAttribute("name")}function gr(f,m,_,M,K,J,oe,we){if(J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"&&(f.type=J),m!=null||_!=null){if(!(J!=="submit"&&J!=="reset"||m!=null)){dr(f);return}_=_!=null?""+lr(_):"",m=m!=null?""+lr(m):_,we||m===f.value||(f.value=m),f.defaultValue=m}M=M??K,M=typeof M!="function"&&typeof M!="symbol"&&!!M,f.checked=we?f.checked:!!M,f.defaultChecked=!!M,oe!=null&&typeof oe!="function"&&typeof oe!="symbol"&&typeof oe!="boolean"&&(f.name=oe),dr(f)}function Ms(f,m,_){m==="number"&&Hn(f.ownerDocument)===f||f.defaultValue===""+_||(f.defaultValue=""+_)}function ns(f,m,_,M){if(f=f.options,m){m={};for(var K=0;K<_.length;K++)m["$"+_[K]]=!0;for(_=0;_<f.length;_++)K=m.hasOwnProperty("$"+f[_].value),f[_].selected!==K&&(f[_].selected=K),K&&M&&(f[_].defaultSelected=!0)}else{for(_=""+lr(_),m=null,K=0;K<f.length;K++){if(f[K].value===_){f[K].selected=!0,M&&(f[K].defaultSelected=!0);return}m!==null||f[K].disabled||(m=f[K])}m!==null&&(m.selected=!0)}}function gi(f,m,_){if(m!=null&&(m=""+lr(m),m!==f.value&&(f.value=m),_==null)){f.defaultValue!==m&&(f.defaultValue=m);return}f.defaultValue=_!=null?""+lr(_):""}function sn(f,m,_,M){if(m==null){if(M!=null){if(_!=null)throw Error(n(92));if(C(M)){if(1<M.length)throw Error(n(93));M=M[0]}_=M}_==null&&(_=""),m=_}_=lr(m),f.defaultValue=_,M=f.textContent,M===_&&M!==""&&M!==null&&(f.value=M),dr(f)}function Jr(f,m){if(m){var _=f.firstChild;if(_&&_===f.lastChild&&_.nodeType===3){_.nodeValue=m;return}}f.textContent=m}var $s=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sa(f,m,_){var M=m.indexOf("--")===0;_==null||typeof _=="boolean"||_===""?M?f.setProperty(m,""):m==="float"?f.cssFloat="":f[m]="":M?f.setProperty(m,_):typeof _!="number"||_===0||$s.has(m)?m==="float"?f.cssFloat=_:f[m]=(""+_).trim():f[m]=_+"px"}function qa(f,m,_){if(m!=null&&typeof m!="object")throw Error(n(62));if(f=f.style,_!=null){for(var M in _)!_.hasOwnProperty(M)||m!=null&&m.hasOwnProperty(M)||(M.indexOf("--")===0?f.setProperty(M,""):M==="float"?f.cssFloat="":f[M]="");for(var K in m)M=m[K],m.hasOwnProperty(K)&&_[K]!==M&&Sa(f,K,M)}else for(var J in m)m.hasOwnProperty(J)&&Sa(f,J,m[J])}function qs(f){if(f.indexOf("-")===-1)return!1;switch(f){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gs=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ka=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ta(f){return ka.test(""+f)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":f}function vs(){}var Ga=null;function $n(f){return f=f.target||f.srcElement||window,f.correspondingUseElement&&(f=f.correspondingUseElement),f.nodeType===3?f.parentNode:f}var Ea=null,ws=null;function aa(f){var m=Ct(f);if(m&&(f=m.stateNode)){var _=f[he]||null;e:switch(f=m.stateNode,m.type){case"input":if(br(f,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name),m=_.name,_.type==="radio"&&m!=null){for(_=f;_.parentNode;)_=_.parentNode;for(_=_.querySelectorAll('input[name="'+pn(""+m)+'"][type="radio"]'),m=0;m<_.length;m++){var M=_[m];if(M!==f&&M.form===f.form){var K=M[he]||null;if(!K)throw Error(n(90));br(M,K.value,K.defaultValue,K.defaultValue,K.checked,K.defaultChecked,K.type,K.name)}}for(m=0;m<_.length;m++)M=_[m],M.form===f.form&&ys(M)}break e;case"textarea":gi(f,_.value,_.defaultValue);break e;case"select":m=_.value,m!=null&&ns(f,!!_.multiple,m,!1)}}}var tc=!1;function Ji(f,m,_){if(tc)return f(m,_);tc=!0;try{var M=f(m);return M}finally{if(tc=!1,(Ea!==null||ws!==null)&&(gd(),Ea&&(m=Ea,f=ws,ws=Ea=null,aa(m),f)))for(m=0;m<f.length;m++)aa(f[m])}}function Aa(f,m){var _=f.stateNode;if(_===null)return null;var M=_[he]||null;if(M===null)return null;_=M[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(M=!M.disabled)||(f=f.type,M=!(f==="button"||f==="input"||f==="select"||f==="textarea")),f=!M;break e;default:f=!1}if(f)return null;if(_&&typeof _!="function")throw Error(n(231,m,typeof _));return _}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sl=!1;if(ia)try{var Br={};Object.defineProperty(Br,"passive",{get:function(){sl=!0}}),window.addEventListener("test",Br,Br),window.removeEventListener("test",Br,Br)}catch{sl=!1}var Wa=null,vu=null,al=null;function wu(){if(al)return al;var f,m=vu,_=m.length,M,K="value"in Wa?Wa.value:Wa.textContent,J=K.length;for(f=0;f<_&&m[f]===K[f];f++);var oe=_-f;for(M=1;M<=oe&&m[_-M]===K[J-M];M++);return al=K.slice(f,1<M?1-M:void 0)}function il(f){var m=f.keyCode;return"charCode"in f?(f=f.charCode,f===0&&m===13&&(f=13)):f=m,f===10&&(f=13),32<=f||f===13?f:0}function bi(){return!0}function Na(){return!1}function qn(f){function m(_,M,K,J,oe){this._reactName=_,this._targetInst=K,this.type=M,this.nativeEvent=J,this.target=oe,this.currentTarget=null;for(var we in f)f.hasOwnProperty(we)&&(_=f[we],this[we]=_?_(J):J[we]);return this.isDefaultPrevented=(J.defaultPrevented!=null?J.defaultPrevented:J.returnValue===!1)?bi:Na,this.isPropagationStopped=Na,this}return p(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var _=this.nativeEvent;_&&(_.preventDefault?_.preventDefault():typeof _.returnValue!="unknown"&&(_.returnValue=!1),this.isDefaultPrevented=bi)},stopPropagation:function(){var _=this.nativeEvent;_&&(_.stopPropagation?_.stopPropagation():typeof _.cancelBubble!="unknown"&&(_.cancelBubble=!0),this.isPropagationStopped=bi)},persist:function(){},isPersistent:bi}),m}var xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(f){return f.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xa=qn(xi),eo=p({},xi,{view:0,detail:0}),_u=qn(eo),to,rc,Ya,nc=p({},eo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ro,button:0,buttons:0,relatedTarget:function(f){return f.relatedTarget===void 0?f.fromElement===f.srcElement?f.toElement:f.fromElement:f.relatedTarget},movementX:function(f){return"movementX"in f?f.movementX:(f!==Ya&&(Ya&&f.type==="mousemove"?(to=f.screenX-Ya.screenX,rc=f.screenY-Ya.screenY):rc=to=0,Ya=f),to)},movementY:function(f){return"movementY"in f?f.movementY:rc}}),Su=qn(nc),ol=p({},nc,{dataTransfer:0}),kh=qn(ol),Th=p({},eo,{relatedTarget:0}),ll=qn(Th),ku=p({},xi,{animationName:0,elapsedTime:0,pseudoElement:0}),Eh=qn(ku),sc=p({},xi,{clipboardData:function(f){return"clipboardData"in f?f.clipboardData:window.clipboardData}}),Ah=qn(sc),Nh=p({},xi,{data:0}),Ka=qn(Nh),Ch={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jh(f){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(f):(f=Mh[f])?!!m[f]:!1}function ro(){return jh}var _s=p({},eo,{key:function(f){if(f.key){var m=Ch[f.key]||f.key;if(m!=="Unidentified")return m}return f.type==="keypress"?(f=il(f),f===13?"Enter":String.fromCharCode(f)):f.type==="keydown"||f.type==="keyup"?Rh[f.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ro,charCode:function(f){return f.type==="keypress"?il(f):0},keyCode:function(f){return f.type==="keydown"||f.type==="keyup"?f.keyCode:0},which:function(f){return f.type==="keypress"?il(f):f.type==="keydown"||f.type==="keyup"?f.keyCode:0}}),Dh=qn(_s),Ih=p({},nc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yi=qn(Ih),X=p({},eo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ro}),ne=qn(X),ue=p({},xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Se=qn(ue),st=p({},nc,{deltaX:function(f){return"deltaX"in f?f.deltaX:"wheelDeltaX"in f?-f.wheelDeltaX:0},deltaY:function(f){return"deltaY"in f?f.deltaY:"wheelDeltaY"in f?-f.wheelDeltaY:"wheelDelta"in f?-f.wheelDelta:0},deltaZ:0,deltaMode:0}),dt=qn(st),Ot=p({},xi,{newState:0,oldState:0}),cr=qn(Ot),mn=[9,13,27,32],Ir=ia&&"CompositionEvent"in window,en=null;ia&&"documentMode"in document&&(en=document.documentMode);var oa=ia&&"TextEvent"in window&&!en,Qa=ia&&(!Ir||en&&8<en&&11>=en),Ca=" ",Ra=!1;function cl(f,m){switch(f){case"keyup":return mn.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ac(f){return f=f.detail,typeof f=="object"&&"data"in f?f.data:null}var ic=!1;function wS(f,m){switch(f){case"compositionend":return ac(m);case"keypress":return m.which!==32?null:(Ra=!0,Ca);case"textInput":return f=m.data,f===Ca&&Ra?null:f;default:return null}}function _S(f,m){if(ic)return f==="compositionend"||!Ir&&cl(f,m)?(f=wu(),al=vu=Wa=null,ic=!1,f):null;switch(f){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return Qa&&m.locale!=="ko"?null:m.data;default:return null}}var SS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xx(f){var m=f&&f.nodeName&&f.nodeName.toLowerCase();return m==="input"?!!SS[f.type]:m==="textarea"}function yx(f,m,_,M){Ea?ws?ws.push(M):ws=[M]:Ea=M,m=Sd(m,"onChange"),0<m.length&&(_=new Xa("onChange","change",null,_,M),f.push({event:_,listeners:m}))}var Tu=null,Eu=null;function kS(f){tv(f,0)}function Oh(f){var m=be(f);if(ys(m))return f}function vx(f,m){if(f==="change")return m}var wx=!1;if(ia){var Ep;if(ia){var Ap="oninput"in document;if(!Ap){var _x=document.createElement("div");_x.setAttribute("oninput","return;"),Ap=typeof _x.oninput=="function"}Ep=Ap}else Ep=!1;wx=Ep&&(!document.documentMode||9<document.documentMode)}function Sx(){Tu&&(Tu.detachEvent("onpropertychange",kx),Eu=Tu=null)}function kx(f){if(f.propertyName==="value"&&Oh(Eu)){var m=[];yx(m,Eu,f,$n(f)),Ji(kS,m)}}function TS(f,m,_){f==="focusin"?(Sx(),Tu=m,Eu=_,Tu.attachEvent("onpropertychange",kx)):f==="focusout"&&Sx()}function ES(f){if(f==="selectionchange"||f==="keyup"||f==="keydown")return Oh(Eu)}function AS(f,m){if(f==="click")return Oh(m)}function NS(f,m){if(f==="input"||f==="change")return Oh(m)}function CS(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var Ws=typeof Object.is=="function"?Object.is:CS;function Au(f,m){if(Ws(f,m))return!0;if(typeof f!="object"||f===null||typeof m!="object"||m===null)return!1;var _=Object.keys(f),M=Object.keys(m);if(_.length!==M.length)return!1;for(M=0;M<_.length;M++){var K=_[M];if(!pe.call(m,K)||!Ws(f[K],m[K]))return!1}return!0}function Tx(f){for(;f&&f.firstChild;)f=f.firstChild;return f}function Ex(f,m){var _=Tx(f);f=0;for(var M;_;){if(_.nodeType===3){if(M=f+_.textContent.length,f<=m&&M>=m)return{node:_,offset:m-f};f=M}e:{for(;_;){if(_.nextSibling){_=_.nextSibling;break e}_=_.parentNode}_=void 0}_=Tx(_)}}function Ax(f,m){return f&&m?f===m?!0:f&&f.nodeType===3?!1:m&&m.nodeType===3?Ax(f,m.parentNode):"contains"in f?f.contains(m):f.compareDocumentPosition?!!(f.compareDocumentPosition(m)&16):!1:!1}function Nx(f){f=f!=null&&f.ownerDocument!=null&&f.ownerDocument.defaultView!=null?f.ownerDocument.defaultView:window;for(var m=Hn(f.document);m instanceof f.HTMLIFrameElement;){try{var _=typeof m.contentWindow.location.href=="string"}catch{_=!1}if(_)f=m.contentWindow;else break;m=Hn(f.document)}return m}function Np(f){var m=f&&f.nodeName&&f.nodeName.toLowerCase();return m&&(m==="input"&&(f.type==="text"||f.type==="search"||f.type==="tel"||f.type==="url"||f.type==="password")||m==="textarea"||f.contentEditable==="true")}var RS=ia&&"documentMode"in document&&11>=document.documentMode,oc=null,Cp=null,Nu=null,Rp=!1;function Cx(f,m,_){var M=_.window===_?_.document:_.nodeType===9?_:_.ownerDocument;Rp||oc==null||oc!==Hn(M)||(M=oc,"selectionStart"in M&&Np(M)?M={start:M.selectionStart,end:M.selectionEnd}:(M=(M.ownerDocument&&M.ownerDocument.defaultView||window).getSelection(),M={anchorNode:M.anchorNode,anchorOffset:M.anchorOffset,focusNode:M.focusNode,focusOffset:M.focusOffset}),Nu&&Au(Nu,M)||(Nu=M,M=Sd(Cp,"onSelect"),0<M.length&&(m=new Xa("onSelect","select",null,m,_),f.push({event:m,listeners:M}),m.target=oc)))}function ul(f,m){var _={};return _[f.toLowerCase()]=m.toLowerCase(),_["Webkit"+f]="webkit"+m,_["Moz"+f]="moz"+m,_}var lc={animationend:ul("Animation","AnimationEnd"),animationiteration:ul("Animation","AnimationIteration"),animationstart:ul("Animation","AnimationStart"),transitionrun:ul("Transition","TransitionRun"),transitionstart:ul("Transition","TransitionStart"),transitioncancel:ul("Transition","TransitionCancel"),transitionend:ul("Transition","TransitionEnd")},Mp={},Rx={};ia&&(Rx=document.createElement("div").style,"AnimationEvent"in window||(delete lc.animationend.animation,delete lc.animationiteration.animation,delete lc.animationstart.animation),"TransitionEvent"in window||delete lc.transitionend.transition);function fl(f){if(Mp[f])return Mp[f];if(!lc[f])return f;var m=lc[f],_;for(_ in m)if(m.hasOwnProperty(_)&&_ in Rx)return Mp[f]=m[_];return f}var Mx=fl("animationend"),jx=fl("animationiteration"),Dx=fl("animationstart"),MS=fl("transitionrun"),jS=fl("transitionstart"),DS=fl("transitioncancel"),Ix=fl("transitionend"),Ox=new Map,jp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jp.push("scrollEnd");function Ma(f,m){Ox.set(f,m),St(m,[f])}var Fh=typeof reportError=="function"?reportError:function(f){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var m=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof f=="object"&&f!==null&&typeof f.message=="string"?String(f.message):String(f),error:f});if(!window.dispatchEvent(m))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",f);return}console.error(f)},la=[],cc=0,Dp=0;function Ph(){for(var f=cc,m=Dp=cc=0;m<f;){var _=la[m];la[m++]=null;var M=la[m];la[m++]=null;var K=la[m];la[m++]=null;var J=la[m];if(la[m++]=null,M!==null&&K!==null){var oe=M.pending;oe===null?K.next=K:(K.next=oe.next,oe.next=K),M.pending=K}J!==0&&Fx(_,K,J)}}function Lh(f,m,_,M){la[cc++]=f,la[cc++]=m,la[cc++]=_,la[cc++]=M,Dp|=M,f.lanes|=M,f=f.alternate,f!==null&&(f.lanes|=M)}function Ip(f,m,_,M){return Lh(f,m,_,M),Bh(f)}function hl(f,m){return Lh(f,null,null,m),Bh(f)}function Fx(f,m,_){f.lanes|=_;var M=f.alternate;M!==null&&(M.lanes|=_);for(var K=!1,J=f.return;J!==null;)J.childLanes|=_,M=J.alternate,M!==null&&(M.childLanes|=_),J.tag===22&&(f=J.stateNode,f===null||f._visibility&1||(K=!0)),f=J,J=J.return;return f.tag===3?(J=f.stateNode,K&&m!==null&&(K=31-Ue(_),f=J.hiddenUpdates,M=f[K],M===null?f[K]=[m]:M.push(m),m.lane=_|536870912),J):null}function Bh(f){if(50<Ku)throw Ku=0,Hm=null,Error(n(185));for(var m=f.return;m!==null;)f=m,m=f.return;return f.tag===3?f.stateNode:null}var uc={};function IS(f,m,_,M){this.tag=f,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xs(f,m,_,M){return new IS(f,m,_,M)}function Op(f){return f=f.prototype,!(!f||!f.isReactComponent)}function vi(f,m){var _=f.alternate;return _===null?(_=Xs(f.tag,m,f.key,f.mode),_.elementType=f.elementType,_.type=f.type,_.stateNode=f.stateNode,_.alternate=f,f.alternate=_):(_.pendingProps=m,_.type=f.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=f.flags&65011712,_.childLanes=f.childLanes,_.lanes=f.lanes,_.child=f.child,_.memoizedProps=f.memoizedProps,_.memoizedState=f.memoizedState,_.updateQueue=f.updateQueue,m=f.dependencies,_.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},_.sibling=f.sibling,_.index=f.index,_.ref=f.ref,_.refCleanup=f.refCleanup,_}function Px(f,m){f.flags&=65011714;var _=f.alternate;return _===null?(f.childLanes=0,f.lanes=m,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=_.childLanes,f.lanes=_.lanes,f.child=_.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=_.memoizedProps,f.memoizedState=_.memoizedState,f.updateQueue=_.updateQueue,f.type=_.type,m=_.dependencies,f.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),f}function Uh(f,m,_,M,K,J){var oe=0;if(M=f,typeof f=="function")Op(f)&&(oe=1);else if(typeof f=="string")oe=Bk(f,_,Y.current)?26:f==="html"||f==="head"||f==="body"?27:5;else e:switch(f){case F:return f=Xs(31,_,m,K),f.elementType=F,f.lanes=J,f;case x:return dl(_.children,K,J,m);case g:oe=8,K|=24;break;case w:return f=Xs(12,_,m,K|2),f.elementType=w,f.lanes=J,f;case L:return f=Xs(13,_,m,K),f.elementType=L,f.lanes=J,f;case G:return f=Xs(19,_,m,K),f.elementType=G,f.lanes=J,f;default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case k:oe=10;break e;case v:oe=9;break e;case R:oe=11;break e;case V:oe=14;break e;case O:oe=16,M=null;break e}oe=29,_=Error(n(130,f===null?"null":typeof f,"")),M=null}return m=Xs(oe,_,m,K),m.elementType=f,m.type=M,m.lanes=J,m}function dl(f,m,_,M){return f=Xs(7,f,M,m),f.lanes=_,f}function Fp(f,m,_){return f=Xs(6,f,null,m),f.lanes=_,f}function Lx(f){var m=Xs(18,null,null,0);return m.stateNode=f,m}function Pp(f,m,_){return m=Xs(4,f.children!==null?f.children:[],f.key,m),m.lanes=_,m.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},m}var Bx=new WeakMap;function ca(f,m){if(typeof f=="object"&&f!==null){var _=Bx.get(f);return _!==void 0?_:(m={value:f,source:m,stack:xe(m)},Bx.set(f,m),m)}return{value:f,source:m,stack:xe(m)}}var fc=[],hc=0,Vh=null,Cu=0,ua=[],fa=0,no=null,Za=1,Ja="";function wi(f,m){fc[hc++]=Cu,fc[hc++]=Vh,Vh=f,Cu=m}function Ux(f,m,_){ua[fa++]=Za,ua[fa++]=Ja,ua[fa++]=no,no=f;var M=Za;f=Ja;var K=32-Ue(M)-1;M&=~(1<<K),_+=1;var J=32-Ue(m)+K;if(30<J){var oe=K-K%5;J=(M&(1<<oe)-1).toString(32),M>>=oe,K-=oe,Za=1<<32-Ue(m)+K|_<<K|M,Ja=J+f}else Za=1<<J|_<<K|M,Ja=f}function Lp(f){f.return!==null&&(wi(f,1),Ux(f,1,0))}function Bp(f){for(;f===Vh;)Vh=fc[--hc],fc[hc]=null,Cu=fc[--hc],fc[hc]=null;for(;f===no;)no=ua[--fa],ua[fa]=null,Ja=ua[--fa],ua[fa]=null,Za=ua[--fa],ua[fa]=null}function Vx(f,m){ua[fa++]=Za,ua[fa++]=Ja,ua[fa++]=no,Za=m.id,Ja=m.overflow,no=f}var Gn=null,Yr=null,Tr=!1,so=null,ha=!1,Up=Error(n(519));function ao(f){var m=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ru(ca(m,f)),Up}function zx(f){var m=f.stateNode,_=f.type,M=f.memoizedProps;switch(m[fe]=f,m[he]=M,_){case"dialog":yr("cancel",m),yr("close",m);break;case"iframe":case"object":case"embed":yr("load",m);break;case"video":case"audio":for(_=0;_<Zu.length;_++)yr(Zu[_],m);break;case"source":yr("error",m);break;case"img":case"image":case"link":yr("error",m),yr("load",m);break;case"details":yr("toggle",m);break;case"input":yr("invalid",m),gr(m,M.value,M.defaultValue,M.checked,M.defaultChecked,M.type,M.name,!0);break;case"select":yr("invalid",m);break;case"textarea":yr("invalid",m),sn(m,M.value,M.defaultValue,M.children)}_=M.children,typeof _!="string"&&typeof _!="number"&&typeof _!="bigint"||m.textContent===""+_||M.suppressHydrationWarning===!0||av(m.textContent,_)?(M.popover!=null&&(yr("beforetoggle",m),yr("toggle",m)),M.onScroll!=null&&yr("scroll",m),M.onScrollEnd!=null&&yr("scrollend",m),M.onClick!=null&&(m.onclick=vs),m=!0):m=!1,m||ao(f,!0)}function Hx(f){for(Gn=f.return;Gn;)switch(Gn.tag){case 5:case 31:case 13:ha=!1;return;case 27:case 3:ha=!0;return;default:Gn=Gn.return}}function dc(f){if(f!==Gn)return!1;if(!Tr)return Hx(f),Tr=!0,!1;var m=f.tag,_;if((_=m!==3&&m!==27)&&((_=m===5)&&(_=f.type,_=!(_!=="form"&&_!=="button")||sg(f.type,f.memoizedProps)),_=!_),_&&Yr&&ao(f),Hx(f),m===13){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));Yr=pv(f)}else if(m===31){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));Yr=pv(f)}else m===27?(m=Yr,vo(f.type)?(f=cg,cg=null,Yr=f):Yr=m):Yr=Gn?pa(f.stateNode.nextSibling):null;return!0}function pl(){Yr=Gn=null,Tr=!1}function Vp(){var f=so;return f!==null&&(Os===null?Os=f:Os.push.apply(Os,f),so=null),f}function Ru(f){so===null?so=[f]:so.push(f)}var zp=U(null),ml=null,_i=null;function io(f,m,_){Q(zp,m._currentValue),m._currentValue=_}function Si(f){f._currentValue=zp.current,I(zp)}function Hp(f,m,_){for(;f!==null;){var M=f.alternate;if((f.childLanes&m)!==m?(f.childLanes|=m,M!==null&&(M.childLanes|=m)):M!==null&&(M.childLanes&m)!==m&&(M.childLanes|=m),f===_)break;f=f.return}}function $p(f,m,_,M){var K=f.child;for(K!==null&&(K.return=f);K!==null;){var J=K.dependencies;if(J!==null){var oe=K.child;J=J.firstContext;e:for(;J!==null;){var we=J;J=K;for(var Be=0;Be<m.length;Be++)if(we.context===m[Be]){J.lanes|=_,we=J.alternate,we!==null&&(we.lanes|=_),Hp(J.return,_,f),M||(oe=null);break e}J=we.next}}else if(K.tag===18){if(oe=K.return,oe===null)throw Error(n(341));oe.lanes|=_,J=oe.alternate,J!==null&&(J.lanes|=_),Hp(oe,_,f),oe=null}else oe=K.child;if(oe!==null)oe.return=K;else for(oe=K;oe!==null;){if(oe===f){oe=null;break}if(K=oe.sibling,K!==null){K.return=oe.return,oe=K;break}oe=oe.return}K=oe}}function pc(f,m,_,M){f=null;for(var K=m,J=!1;K!==null;){if(!J){if((K.flags&524288)!==0)J=!0;else if((K.flags&262144)!==0)break}if(K.tag===10){var oe=K.alternate;if(oe===null)throw Error(n(387));if(oe=oe.memoizedProps,oe!==null){var we=K.type;Ws(K.pendingProps.value,oe.value)||(f!==null?f.push(we):f=[we])}}else if(K===te.current){if(oe=K.alternate,oe===null)throw Error(n(387));oe.memoizedState.memoizedState!==K.memoizedState.memoizedState&&(f!==null?f.push(nf):f=[nf])}K=K.return}f!==null&&$p(m,f,_,M),m.flags|=262144}function zh(f){for(f=f.firstContext;f!==null;){if(!Ws(f.context._currentValue,f.memoizedValue))return!0;f=f.next}return!1}function gl(f){ml=f,_i=null,f=f.dependencies,f!==null&&(f.firstContext=null)}function Wn(f){return $x(ml,f)}function Hh(f,m){return ml===null&&gl(f),$x(f,m)}function $x(f,m){var _=m._currentValue;if(m={context:m,memoizedValue:_,next:null},_i===null){if(f===null)throw Error(n(308));_i=m,f.dependencies={lanes:0,firstContext:m},f.flags|=524288}else _i=_i.next=m;return _}var OS=typeof AbortController<"u"?AbortController:function(){var f=[],m=this.signal={aborted:!1,addEventListener:function(_,M){f.push(M)}};this.abort=function(){m.aborted=!0,f.forEach(function(_){return _()})}},FS=r.unstable_scheduleCallback,PS=r.unstable_NormalPriority,wn={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qp(){return{controller:new OS,data:new Map,refCount:0}}function Mu(f){f.refCount--,f.refCount===0&&FS(PS,function(){f.controller.abort()})}var ju=null,Gp=0,mc=0,gc=null;function LS(f,m){if(ju===null){var _=ju=[];Gp=0,mc=Ym(),gc={status:"pending",value:void 0,then:function(M){_.push(M)}}}return Gp++,m.then(qx,qx),m}function qx(){if(--Gp===0&&ju!==null){gc!==null&&(gc.status="fulfilled");var f=ju;ju=null,mc=0,gc=null;for(var m=0;m<f.length;m++)(0,f[m])()}}function BS(f,m){var _=[],M={status:"pending",value:null,reason:null,then:function(K){_.push(K)}};return f.then(function(){M.status="fulfilled",M.value=m;for(var K=0;K<_.length;K++)(0,_[K])(m)},function(K){for(M.status="rejected",M.reason=K,K=0;K<_.length;K++)(0,_[K])(void 0)}),M}var Gx=S.S;S.S=function(f,m){C2=Pe(),typeof m=="object"&&m!==null&&typeof m.then=="function"&&LS(f,m),Gx!==null&&Gx(f,m)};var bl=U(null);function Wp(){var f=bl.current;return f!==null?f:qr.pooledCache}function $h(f,m){m===null?Q(bl,bl.current):Q(bl,m.pool)}function Wx(){var f=Wp();return f===null?null:{parent:wn._currentValue,pool:f}}var bc=Error(n(460)),Xp=Error(n(474)),qh=Error(n(542)),Gh={then:function(){}};function Xx(f){return f=f.status,f==="fulfilled"||f==="rejected"}function Yx(f,m,_){switch(_=f[_],_===void 0?f.push(m):_!==m&&(m.then(vs,vs),m=_),m.status){case"fulfilled":return m.value;case"rejected":throw f=m.reason,Qx(f),f;default:if(typeof m.status=="string")m.then(vs,vs);else{if(f=qr,f!==null&&100<f.shellSuspendCounter)throw Error(n(482));f=m,f.status="pending",f.then(function(M){if(m.status==="pending"){var K=m;K.status="fulfilled",K.value=M}},function(M){if(m.status==="pending"){var K=m;K.status="rejected",K.reason=M}})}switch(m.status){case"fulfilled":return m.value;case"rejected":throw f=m.reason,Qx(f),f}throw yl=m,bc}}function xl(f){try{var m=f._init;return m(f._payload)}catch(_){throw _!==null&&typeof _=="object"&&typeof _.then=="function"?(yl=_,bc):_}}var yl=null;function Kx(){if(yl===null)throw Error(n(459));var f=yl;return yl=null,f}function Qx(f){if(f===bc||f===qh)throw Error(n(483))}var xc=null,Du=0;function Wh(f){var m=Du;return Du+=1,xc===null&&(xc=[]),Yx(xc,f,m)}function Iu(f,m){m=m.props.ref,f.ref=m!==void 0?m:null}function Xh(f,m){throw m.$$typeof===h?Error(n(525)):(f=Object.prototype.toString.call(m),Error(n(31,f==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":f)))}function Zx(f){function m(tt,Ge){if(f){var at=tt.deletions;at===null?(tt.deletions=[Ge],tt.flags|=16):at.push(Ge)}}function _(tt,Ge){if(!f)return null;for(;Ge!==null;)m(tt,Ge),Ge=Ge.sibling;return null}function M(tt){for(var Ge=new Map;tt!==null;)tt.key!==null?Ge.set(tt.key,tt):Ge.set(tt.index,tt),tt=tt.sibling;return Ge}function K(tt,Ge){return tt=vi(tt,Ge),tt.index=0,tt.sibling=null,tt}function J(tt,Ge,at){return tt.index=at,f?(at=tt.alternate,at!==null?(at=at.index,at<Ge?(tt.flags|=67108866,Ge):at):(tt.flags|=67108866,Ge)):(tt.flags|=1048576,Ge)}function oe(tt){return f&&tt.alternate===null&&(tt.flags|=67108866),tt}function we(tt,Ge,at,Tt){return Ge===null||Ge.tag!==6?(Ge=Fp(at,tt.mode,Tt),Ge.return=tt,Ge):(Ge=K(Ge,at),Ge.return=tt,Ge)}function Be(tt,Ge,at,Tt){var qt=at.type;return qt===x?_t(tt,Ge,at.props.children,Tt,at.key):Ge!==null&&(Ge.elementType===qt||typeof qt=="object"&&qt!==null&&qt.$$typeof===O&&xl(qt)===Ge.type)?(Ge=K(Ge,at.props),Iu(Ge,at),Ge.return=tt,Ge):(Ge=Uh(at.type,at.key,at.props,null,tt.mode,Tt),Iu(Ge,at),Ge.return=tt,Ge)}function it(tt,Ge,at,Tt){return Ge===null||Ge.tag!==4||Ge.stateNode.containerInfo!==at.containerInfo||Ge.stateNode.implementation!==at.implementation?(Ge=Pp(at,tt.mode,Tt),Ge.return=tt,Ge):(Ge=K(Ge,at.children||[]),Ge.return=tt,Ge)}function _t(tt,Ge,at,Tt,qt){return Ge===null||Ge.tag!==7?(Ge=dl(at,tt.mode,Tt,qt),Ge.return=tt,Ge):(Ge=K(Ge,at),Ge.return=tt,Ge)}function Nt(tt,Ge,at){if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number"||typeof Ge=="bigint")return Ge=Fp(""+Ge,tt.mode,at),Ge.return=tt,Ge;if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case d:return at=Uh(Ge.type,Ge.key,Ge.props,null,tt.mode,at),Iu(at,Ge),at.return=tt,at;case b:return Ge=Pp(Ge,tt.mode,at),Ge.return=tt,Ge;case O:return Ge=xl(Ge),Nt(tt,Ge,at)}if(C(Ge)||P(Ge))return Ge=dl(Ge,tt.mode,at,null),Ge.return=tt,Ge;if(typeof Ge.then=="function")return Nt(tt,Wh(Ge),at);if(Ge.$$typeof===k)return Nt(tt,Hh(tt,Ge),at);Xh(tt,Ge)}return null}function ct(tt,Ge,at,Tt){var qt=Ge!==null?Ge.key:null;if(typeof at=="string"&&at!==""||typeof at=="number"||typeof at=="bigint")return qt!==null?null:we(tt,Ge,""+at,Tt);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case d:return at.key===qt?Be(tt,Ge,at,Tt):null;case b:return at.key===qt?it(tt,Ge,at,Tt):null;case O:return at=xl(at),ct(tt,Ge,at,Tt)}if(C(at)||P(at))return qt!==null?null:_t(tt,Ge,at,Tt,null);if(typeof at.then=="function")return ct(tt,Ge,Wh(at),Tt);if(at.$$typeof===k)return ct(tt,Ge,Hh(tt,at),Tt);Xh(tt,at)}return null}function mt(tt,Ge,at,Tt,qt){if(typeof Tt=="string"&&Tt!==""||typeof Tt=="number"||typeof Tt=="bigint")return tt=tt.get(at)||null,we(Ge,tt,""+Tt,qt);if(typeof Tt=="object"&&Tt!==null){switch(Tt.$$typeof){case d:return tt=tt.get(Tt.key===null?at:Tt.key)||null,Be(Ge,tt,Tt,qt);case b:return tt=tt.get(Tt.key===null?at:Tt.key)||null,it(Ge,tt,Tt,qt);case O:return Tt=xl(Tt),mt(tt,Ge,at,Tt,qt)}if(C(Tt)||P(Tt))return tt=tt.get(at)||null,_t(Ge,tt,Tt,qt,null);if(typeof Tt.then=="function")return mt(tt,Ge,at,Wh(Tt),qt);if(Tt.$$typeof===k)return mt(tt,Ge,at,Hh(Ge,Tt),qt);Xh(Ge,Tt)}return null}function Vt(tt,Ge,at,Tt){for(var qt=null,jr=null,Ht=Ge,pr=Ge=0,wr=null;Ht!==null&&pr<at.length;pr++){Ht.index>pr?(wr=Ht,Ht=null):wr=Ht.sibling;var Dr=ct(tt,Ht,at[pr],Tt);if(Dr===null){Ht===null&&(Ht=wr);break}f&&Ht&&Dr.alternate===null&&m(tt,Ht),Ge=J(Dr,Ge,pr),jr===null?qt=Dr:jr.sibling=Dr,jr=Dr,Ht=wr}if(pr===at.length)return _(tt,Ht),Tr&&wi(tt,pr),qt;if(Ht===null){for(;pr<at.length;pr++)Ht=Nt(tt,at[pr],Tt),Ht!==null&&(Ge=J(Ht,Ge,pr),jr===null?qt=Ht:jr.sibling=Ht,jr=Ht);return Tr&&wi(tt,pr),qt}for(Ht=M(Ht);pr<at.length;pr++)wr=mt(Ht,tt,pr,at[pr],Tt),wr!==null&&(f&&wr.alternate!==null&&Ht.delete(wr.key===null?pr:wr.key),Ge=J(wr,Ge,pr),jr===null?qt=wr:jr.sibling=wr,jr=wr);return f&&Ht.forEach(function(To){return m(tt,To)}),Tr&&wi(tt,pr),qt}function Yt(tt,Ge,at,Tt){if(at==null)throw Error(n(151));for(var qt=null,jr=null,Ht=Ge,pr=Ge=0,wr=null,Dr=at.next();Ht!==null&&!Dr.done;pr++,Dr=at.next()){Ht.index>pr?(wr=Ht,Ht=null):wr=Ht.sibling;var To=ct(tt,Ht,Dr.value,Tt);if(To===null){Ht===null&&(Ht=wr);break}f&&Ht&&To.alternate===null&&m(tt,Ht),Ge=J(To,Ge,pr),jr===null?qt=To:jr.sibling=To,jr=To,Ht=wr}if(Dr.done)return _(tt,Ht),Tr&&wi(tt,pr),qt;if(Ht===null){for(;!Dr.done;pr++,Dr=at.next())Dr=Nt(tt,Dr.value,Tt),Dr!==null&&(Ge=J(Dr,Ge,pr),jr===null?qt=Dr:jr.sibling=Dr,jr=Dr);return Tr&&wi(tt,pr),qt}for(Ht=M(Ht);!Dr.done;pr++,Dr=at.next())Dr=mt(Ht,tt,pr,Dr.value,Tt),Dr!==null&&(f&&Dr.alternate!==null&&Ht.delete(Dr.key===null?pr:Dr.key),Ge=J(Dr,Ge,pr),jr===null?qt=Dr:jr.sibling=Dr,jr=Dr);return f&&Ht.forEach(function(Kk){return m(tt,Kk)}),Tr&&wi(tt,pr),qt}function zr(tt,Ge,at,Tt){if(typeof at=="object"&&at!==null&&at.type===x&&at.key===null&&(at=at.props.children),typeof at=="object"&&at!==null){switch(at.$$typeof){case d:e:{for(var qt=at.key;Ge!==null;){if(Ge.key===qt){if(qt=at.type,qt===x){if(Ge.tag===7){_(tt,Ge.sibling),Tt=K(Ge,at.props.children),Tt.return=tt,tt=Tt;break e}}else if(Ge.elementType===qt||typeof qt=="object"&&qt!==null&&qt.$$typeof===O&&xl(qt)===Ge.type){_(tt,Ge.sibling),Tt=K(Ge,at.props),Iu(Tt,at),Tt.return=tt,tt=Tt;break e}_(tt,Ge);break}else m(tt,Ge);Ge=Ge.sibling}at.type===x?(Tt=dl(at.props.children,tt.mode,Tt,at.key),Tt.return=tt,tt=Tt):(Tt=Uh(at.type,at.key,at.props,null,tt.mode,Tt),Iu(Tt,at),Tt.return=tt,tt=Tt)}return oe(tt);case b:e:{for(qt=at.key;Ge!==null;){if(Ge.key===qt)if(Ge.tag===4&&Ge.stateNode.containerInfo===at.containerInfo&&Ge.stateNode.implementation===at.implementation){_(tt,Ge.sibling),Tt=K(Ge,at.children||[]),Tt.return=tt,tt=Tt;break e}else{_(tt,Ge);break}else m(tt,Ge);Ge=Ge.sibling}Tt=Pp(at,tt.mode,Tt),Tt.return=tt,tt=Tt}return oe(tt);case O:return at=xl(at),zr(tt,Ge,at,Tt)}if(C(at))return Vt(tt,Ge,at,Tt);if(P(at)){if(qt=P(at),typeof qt!="function")throw Error(n(150));return at=qt.call(at),Yt(tt,Ge,at,Tt)}if(typeof at.then=="function")return zr(tt,Ge,Wh(at),Tt);if(at.$$typeof===k)return zr(tt,Ge,Hh(tt,at),Tt);Xh(tt,at)}return typeof at=="string"&&at!==""||typeof at=="number"||typeof at=="bigint"?(at=""+at,Ge!==null&&Ge.tag===6?(_(tt,Ge.sibling),Tt=K(Ge,at),Tt.return=tt,tt=Tt):(_(tt,Ge),Tt=Fp(at,tt.mode,Tt),Tt.return=tt,tt=Tt),oe(tt)):_(tt,Ge)}return function(tt,Ge,at,Tt){try{Du=0;var qt=zr(tt,Ge,at,Tt);return xc=null,qt}catch(Ht){if(Ht===bc||Ht===qh)throw Ht;var jr=Xs(29,Ht,null,tt.mode);return jr.lanes=Tt,jr.return=tt,jr}finally{}}}var vl=Zx(!0),Jx=Zx(!1),oo=!1;function Yp(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kp(f,m){f=f.updateQueue,m.updateQueue===f&&(m.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,callbacks:null})}function lo(f){return{lane:f,tag:0,payload:null,callback:null,next:null}}function co(f,m,_){var M=f.updateQueue;if(M===null)return null;if(M=M.shared,(Or&2)!==0){var K=M.pending;return K===null?m.next=m:(m.next=K.next,K.next=m),M.pending=m,m=Bh(f),Fx(f,null,_),m}return Lh(f,M,m,_),Bh(f)}function Ou(f,m,_){if(m=m.updateQueue,m!==null&&(m=m.shared,(_&4194048)!==0)){var M=m.lanes;M&=f.pendingLanes,_|=M,m.lanes=_,Qe(f,_)}}function Qp(f,m){var _=f.updateQueue,M=f.alternate;if(M!==null&&(M=M.updateQueue,_===M)){var K=null,J=null;if(_=_.firstBaseUpdate,_!==null){do{var oe={lane:_.lane,tag:_.tag,payload:_.payload,callback:null,next:null};J===null?K=J=oe:J=J.next=oe,_=_.next}while(_!==null);J===null?K=J=m:J=J.next=m}else K=J=m;_={baseState:M.baseState,firstBaseUpdate:K,lastBaseUpdate:J,shared:M.shared,callbacks:M.callbacks},f.updateQueue=_;return}f=_.lastBaseUpdate,f===null?_.firstBaseUpdate=m:f.next=m,_.lastBaseUpdate=m}var Zp=!1;function Fu(){if(Zp){var f=gc;if(f!==null)throw f}}function Pu(f,m,_,M){Zp=!1;var K=f.updateQueue;oo=!1;var J=K.firstBaseUpdate,oe=K.lastBaseUpdate,we=K.shared.pending;if(we!==null){K.shared.pending=null;var Be=we,it=Be.next;Be.next=null,oe===null?J=it:oe.next=it,oe=Be;var _t=f.alternate;_t!==null&&(_t=_t.updateQueue,we=_t.lastBaseUpdate,we!==oe&&(we===null?_t.firstBaseUpdate=it:we.next=it,_t.lastBaseUpdate=Be))}if(J!==null){var Nt=K.baseState;oe=0,_t=it=Be=null,we=J;do{var ct=we.lane&-536870913,mt=ct!==we.lane;if(mt?(vr&ct)===ct:(M&ct)===ct){ct!==0&&ct===mc&&(Zp=!0),_t!==null&&(_t=_t.next={lane:0,tag:we.tag,payload:we.payload,callback:null,next:null});e:{var Vt=f,Yt=we;ct=m;var zr=_;switch(Yt.tag){case 1:if(Vt=Yt.payload,typeof Vt=="function"){Nt=Vt.call(zr,Nt,ct);break e}Nt=Vt;break e;case 3:Vt.flags=Vt.flags&-65537|128;case 0:if(Vt=Yt.payload,ct=typeof Vt=="function"?Vt.call(zr,Nt,ct):Vt,ct==null)break e;Nt=p({},Nt,ct);break e;case 2:oo=!0}}ct=we.callback,ct!==null&&(f.flags|=64,mt&&(f.flags|=8192),mt=K.callbacks,mt===null?K.callbacks=[ct]:mt.push(ct))}else mt={lane:ct,tag:we.tag,payload:we.payload,callback:we.callback,next:null},_t===null?(it=_t=mt,Be=Nt):_t=_t.next=mt,oe|=ct;if(we=we.next,we===null){if(we=K.shared.pending,we===null)break;mt=we,we=mt.next,mt.next=null,K.lastBaseUpdate=mt,K.shared.pending=null}}while(!0);_t===null&&(Be=Nt),K.baseState=Be,K.firstBaseUpdate=it,K.lastBaseUpdate=_t,J===null&&(K.shared.lanes=0),mo|=oe,f.lanes=oe,f.memoizedState=Nt}}function ey(f,m){if(typeof f!="function")throw Error(n(191,f));f.call(m)}function ty(f,m){var _=f.callbacks;if(_!==null)for(f.callbacks=null,f=0;f<_.length;f++)ey(_[f],m)}var yc=U(null),Yh=U(0);function ry(f,m){f=ji,Q(Yh,f),Q(yc,m),ji=f|m.baseLanes}function Jp(){Q(Yh,ji),Q(yc,yc.current)}function em(){ji=Yh.current,I(yc),I(Yh)}var Ys=U(null),da=null;function uo(f){var m=f.alternate;Q(gn,gn.current&1),Q(Ys,f),da===null&&(m===null||yc.current!==null||m.memoizedState!==null)&&(da=f)}function tm(f){Q(gn,gn.current),Q(Ys,f),da===null&&(da=f)}function ny(f){f.tag===22?(Q(gn,gn.current),Q(Ys,f),da===null&&(da=f)):fo()}function fo(){Q(gn,gn.current),Q(Ys,Ys.current)}function Ks(f){I(Ys),da===f&&(da=null),I(gn)}var gn=U(0);function Kh(f){for(var m=f;m!==null;){if(m.tag===13){var _=m.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||og(_)||lg(_)))return m}else if(m.tag===19&&(m.memoizedProps.revealOrder==="forwards"||m.memoizedProps.revealOrder==="backwards"||m.memoizedProps.revealOrder==="unstable_legacy-backwards"||m.memoizedProps.revealOrder==="together")){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===f)break;for(;m.sibling===null;){if(m.return===null||m.return===f)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var ki=0,ur=null,Ur=null,_n=null,Qh=!1,vc=!1,wl=!1,Zh=0,Lu=0,wc=null,US=0;function an(){throw Error(n(321))}function rm(f,m){if(m===null)return!1;for(var _=0;_<m.length&&_<f.length;_++)if(!Ws(f[_],m[_]))return!1;return!0}function nm(f,m,_,M,K,J){return ki=J,ur=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,S.H=f===null||f.memoizedState===null?Uy:xm,wl=!1,J=_(M,K),wl=!1,vc&&(J=ay(m,_,M,K)),sy(f),J}function sy(f){S.H=Vu;var m=Ur!==null&&Ur.next!==null;if(ki=0,_n=Ur=ur=null,Qh=!1,Lu=0,wc=null,m)throw Error(n(300));f===null||Sn||(f=f.dependencies,f!==null&&zh(f)&&(Sn=!0))}function ay(f,m,_,M){ur=f;var K=0;do{if(vc&&(wc=null),Lu=0,vc=!1,25<=K)throw Error(n(301));if(K+=1,_n=Ur=null,f.updateQueue!=null){var J=f.updateQueue;J.lastEffect=null,J.events=null,J.stores=null,J.memoCache!=null&&(J.memoCache.index=0)}S.H=Vy,J=m(_,M)}while(vc);return J}function VS(){var f=S.H,m=f.useState()[0];return m=typeof m.then=="function"?Bu(m):m,f=f.useState()[0],(Ur!==null?Ur.memoizedState:null)!==f&&(ur.flags|=1024),m}function sm(){var f=Zh!==0;return Zh=0,f}function am(f,m,_){m.updateQueue=f.updateQueue,m.flags&=-2053,f.lanes&=~_}function im(f){if(Qh){for(f=f.memoizedState;f!==null;){var m=f.queue;m!==null&&(m.pending=null),f=f.next}Qh=!1}ki=0,_n=Ur=ur=null,vc=!1,Lu=Zh=0,wc=null}function Ss(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?ur.memoizedState=_n=f:_n=_n.next=f,_n}function bn(){if(Ur===null){var f=ur.alternate;f=f!==null?f.memoizedState:null}else f=Ur.next;var m=_n===null?ur.memoizedState:_n.next;if(m!==null)_n=m,Ur=f;else{if(f===null)throw ur.alternate===null?Error(n(467)):Error(n(310));Ur=f,f={memoizedState:Ur.memoizedState,baseState:Ur.baseState,baseQueue:Ur.baseQueue,queue:Ur.queue,next:null},_n===null?ur.memoizedState=_n=f:_n=_n.next=f}return _n}function Jh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bu(f){var m=Lu;return Lu+=1,wc===null&&(wc=[]),f=Yx(wc,f,m),m=ur,(_n===null?m.memoizedState:_n.next)===null&&(m=m.alternate,S.H=m===null||m.memoizedState===null?Uy:xm),f}function ed(f){if(f!==null&&typeof f=="object"){if(typeof f.then=="function")return Bu(f);if(f.$$typeof===k)return Wn(f)}throw Error(n(438,String(f)))}function om(f){var m=null,_=ur.updateQueue;if(_!==null&&(m=_.memoCache),m==null){var M=ur.alternate;M!==null&&(M=M.updateQueue,M!==null&&(M=M.memoCache,M!=null&&(m={data:M.data.map(function(K){return K.slice()}),index:0})))}if(m==null&&(m={data:[],index:0}),_===null&&(_=Jh(),ur.updateQueue=_),_.memoCache=m,_=m.data[m.index],_===void 0)for(_=m.data[m.index]=Array(f),M=0;M<f;M++)_[M]=B;return m.index++,_}function Ti(f,m){return typeof m=="function"?m(f):m}function td(f){var m=bn();return lm(m,Ur,f)}function lm(f,m,_){var M=f.queue;if(M===null)throw Error(n(311));M.lastRenderedReducer=_;var K=f.baseQueue,J=M.pending;if(J!==null){if(K!==null){var oe=K.next;K.next=J.next,J.next=oe}m.baseQueue=K=J,M.pending=null}if(J=f.baseState,K===null)f.memoizedState=J;else{m=K.next;var we=oe=null,Be=null,it=m,_t=!1;do{var Nt=it.lane&-536870913;if(Nt!==it.lane?(vr&Nt)===Nt:(ki&Nt)===Nt){var ct=it.revertLane;if(ct===0)Be!==null&&(Be=Be.next={lane:0,revertLane:0,gesture:null,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null}),Nt===mc&&(_t=!0);else if((ki&ct)===ct){it=it.next,ct===mc&&(_t=!0);continue}else Nt={lane:0,revertLane:it.revertLane,gesture:null,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null},Be===null?(we=Be=Nt,oe=J):Be=Be.next=Nt,ur.lanes|=ct,mo|=ct;Nt=it.action,wl&&_(J,Nt),J=it.hasEagerState?it.eagerState:_(J,Nt)}else ct={lane:Nt,revertLane:it.revertLane,gesture:it.gesture,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null},Be===null?(we=Be=ct,oe=J):Be=Be.next=ct,ur.lanes|=Nt,mo|=Nt;it=it.next}while(it!==null&&it!==m);if(Be===null?oe=J:Be.next=we,!Ws(J,f.memoizedState)&&(Sn=!0,_t&&(_=gc,_!==null)))throw _;f.memoizedState=J,f.baseState=oe,f.baseQueue=Be,M.lastRenderedState=J}return K===null&&(M.lanes=0),[f.memoizedState,M.dispatch]}function cm(f){var m=bn(),_=m.queue;if(_===null)throw Error(n(311));_.lastRenderedReducer=f;var M=_.dispatch,K=_.pending,J=m.memoizedState;if(K!==null){_.pending=null;var oe=K=K.next;do J=f(J,oe.action),oe=oe.next;while(oe!==K);Ws(J,m.memoizedState)||(Sn=!0),m.memoizedState=J,m.baseQueue===null&&(m.baseState=J),_.lastRenderedState=J}return[J,M]}function iy(f,m,_){var M=ur,K=bn(),J=Tr;if(J){if(_===void 0)throw Error(n(407));_=_()}else _=m();var oe=!Ws((Ur||K).memoizedState,_);if(oe&&(K.memoizedState=_,Sn=!0),K=K.queue,hm(cy.bind(null,M,K,f),[f]),K.getSnapshot!==m||oe||_n!==null&&_n.memoizedState.tag&1){if(M.flags|=2048,_c(9,{destroy:void 0},ly.bind(null,M,K,_,m),null),qr===null)throw Error(n(349));J||(ki&127)!==0||oy(M,m,_)}return _}function oy(f,m,_){f.flags|=16384,f={getSnapshot:m,value:_},m=ur.updateQueue,m===null?(m=Jh(),ur.updateQueue=m,m.stores=[f]):(_=m.stores,_===null?m.stores=[f]:_.push(f))}function ly(f,m,_,M){m.value=_,m.getSnapshot=M,uy(m)&&fy(f)}function cy(f,m,_){return _(function(){uy(m)&&fy(f)})}function uy(f){var m=f.getSnapshot;f=f.value;try{var _=m();return!Ws(f,_)}catch{return!0}}function fy(f){var m=hl(f,2);m!==null&&Fs(m,f,2)}function um(f){var m=Ss();if(typeof f=="function"){var _=f;if(f=_(),wl){lt(!0);try{_()}finally{lt(!1)}}}return m.memoizedState=m.baseState=f,m.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:f},m}function hy(f,m,_,M){return f.baseState=_,lm(f,Ur,typeof M=="function"?M:Ti)}function zS(f,m,_,M,K){if(sd(f))throw Error(n(485));if(f=m.action,f!==null){var J={payload:K,action:f,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(oe){J.listeners.push(oe)}};S.T!==null?_(!0):J.isTransition=!1,M(J),_=m.pending,_===null?(J.next=m.pending=J,dy(m,J)):(J.next=_.next,m.pending=_.next=J)}}function dy(f,m){var _=m.action,M=m.payload,K=f.state;if(m.isTransition){var J=S.T,oe={};S.T=oe;try{var we=_(K,M),Be=S.S;Be!==null&&Be(oe,we),py(f,m,we)}catch(it){fm(f,m,it)}finally{J!==null&&oe.types!==null&&(J.types=oe.types),S.T=J}}else try{J=_(K,M),py(f,m,J)}catch(it){fm(f,m,it)}}function py(f,m,_){_!==null&&typeof _=="object"&&typeof _.then=="function"?_.then(function(M){my(f,m,M)},function(M){return fm(f,m,M)}):my(f,m,_)}function my(f,m,_){m.status="fulfilled",m.value=_,gy(m),f.state=_,m=f.pending,m!==null&&(_=m.next,_===m?f.pending=null:(_=_.next,m.next=_,dy(f,_)))}function fm(f,m,_){var M=f.pending;if(f.pending=null,M!==null){M=M.next;do m.status="rejected",m.reason=_,gy(m),m=m.next;while(m!==M)}f.action=null}function gy(f){f=f.listeners;for(var m=0;m<f.length;m++)(0,f[m])()}function by(f,m){return m}function xy(f,m){if(Tr){var _=qr.formState;if(_!==null){e:{var M=ur;if(Tr){if(Yr){t:{for(var K=Yr,J=ha;K.nodeType!==8;){if(!J){K=null;break t}if(K=pa(K.nextSibling),K===null){K=null;break t}}J=K.data,K=J==="F!"||J==="F"?K:null}if(K){Yr=pa(K.nextSibling),M=K.data==="F!";break e}}ao(M)}M=!1}M&&(m=_[0])}}return _=Ss(),_.memoizedState=_.baseState=m,M={pending:null,lanes:0,dispatch:null,lastRenderedReducer:by,lastRenderedState:m},_.queue=M,_=Py.bind(null,ur,M),M.dispatch=_,M=um(!1),J=bm.bind(null,ur,!1,M.queue),M=Ss(),K={state:m,dispatch:null,action:f,pending:null},M.queue=K,_=zS.bind(null,ur,K,J,_),K.dispatch=_,M.memoizedState=f,[m,_,!1]}function yy(f){var m=bn();return vy(m,Ur,f)}function vy(f,m,_){if(m=lm(f,m,by)[0],f=td(Ti)[0],typeof m=="object"&&m!==null&&typeof m.then=="function")try{var M=Bu(m)}catch(oe){throw oe===bc?qh:oe}else M=m;m=bn();var K=m.queue,J=K.dispatch;return _!==m.memoizedState&&(ur.flags|=2048,_c(9,{destroy:void 0},HS.bind(null,K,_),null)),[M,J,f]}function HS(f,m){f.action=m}function wy(f){var m=bn(),_=Ur;if(_!==null)return vy(m,_,f);bn(),m=m.memoizedState,_=bn();var M=_.queue.dispatch;return _.memoizedState=f,[m,M,!1]}function _c(f,m,_,M){return f={tag:f,create:_,deps:M,inst:m,next:null},m=ur.updateQueue,m===null&&(m=Jh(),ur.updateQueue=m),_=m.lastEffect,_===null?m.lastEffect=f.next=f:(M=_.next,_.next=f,f.next=M,m.lastEffect=f),f}function _y(){return bn().memoizedState}function rd(f,m,_,M){var K=Ss();ur.flags|=f,K.memoizedState=_c(1|m,{destroy:void 0},_,M===void 0?null:M)}function nd(f,m,_,M){var K=bn();M=M===void 0?null:M;var J=K.memoizedState.inst;Ur!==null&&M!==null&&rm(M,Ur.memoizedState.deps)?K.memoizedState=_c(m,J,_,M):(ur.flags|=f,K.memoizedState=_c(1|m,J,_,M))}function Sy(f,m){rd(8390656,8,f,m)}function hm(f,m){nd(2048,8,f,m)}function $S(f){ur.flags|=4;var m=ur.updateQueue;if(m===null)m=Jh(),ur.updateQueue=m,m.events=[f];else{var _=m.events;_===null?m.events=[f]:_.push(f)}}function ky(f){var m=bn().memoizedState;return $S({ref:m,nextImpl:f}),function(){if((Or&2)!==0)throw Error(n(440));return m.impl.apply(void 0,arguments)}}function Ty(f,m){return nd(4,2,f,m)}function Ey(f,m){return nd(4,4,f,m)}function Ay(f,m){if(typeof m=="function"){f=f();var _=m(f);return function(){typeof _=="function"?_():m(null)}}if(m!=null)return f=f(),m.current=f,function(){m.current=null}}function Ny(f,m,_){_=_!=null?_.concat([f]):null,nd(4,4,Ay.bind(null,m,f),_)}function dm(){}function Cy(f,m){var _=bn();m=m===void 0?null:m;var M=_.memoizedState;return m!==null&&rm(m,M[1])?M[0]:(_.memoizedState=[f,m],f)}function Ry(f,m){var _=bn();m=m===void 0?null:m;var M=_.memoizedState;if(m!==null&&rm(m,M[1]))return M[0];if(M=f(),wl){lt(!0);try{f()}finally{lt(!1)}}return _.memoizedState=[M,m],M}function pm(f,m,_){return _===void 0||(ki&1073741824)!==0&&(vr&261930)===0?f.memoizedState=m:(f.memoizedState=_,f=M2(),ur.lanes|=f,mo|=f,_)}function My(f,m,_,M){return Ws(_,m)?_:yc.current!==null?(f=pm(f,_,M),Ws(f,m)||(Sn=!0),f):(ki&42)===0||(ki&1073741824)!==0&&(vr&261930)===0?(Sn=!0,f.memoizedState=_):(f=M2(),ur.lanes|=f,mo|=f,m)}function jy(f,m,_,M,K){var J=T.p;T.p=J!==0&&8>J?J:8;var oe=S.T,we={};S.T=we,bm(f,!1,m,_);try{var Be=K(),it=S.S;if(it!==null&&it(we,Be),Be!==null&&typeof Be=="object"&&typeof Be.then=="function"){var _t=BS(Be,M);Uu(f,m,_t,Js(f))}else Uu(f,m,M,Js(f))}catch(Nt){Uu(f,m,{then:function(){},status:"rejected",reason:Nt},Js())}finally{T.p=J,oe!==null&&we.types!==null&&(oe.types=we.types),S.T=oe}}function qS(){}function mm(f,m,_,M){if(f.tag!==5)throw Error(n(476));var K=Dy(f).queue;jy(f,K,m,A,_===null?qS:function(){return Iy(f),_(M)})}function Dy(f){var m=f.memoizedState;if(m!==null)return m;m={memoizedState:A,baseState:A,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:A},next:null};var _={};return m.next={memoizedState:_,baseState:_,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:_},next:null},f.memoizedState=m,f=f.alternate,f!==null&&(f.memoizedState=m),m}function Iy(f){var m=Dy(f);m.next===null&&(m=f.alternate.memoizedState),Uu(f,m.next.queue,{},Js())}function gm(){return Wn(nf)}function Oy(){return bn().memoizedState}function Fy(){return bn().memoizedState}function GS(f){for(var m=f.return;m!==null;){switch(m.tag){case 24:case 3:var _=Js();f=lo(_);var M=co(m,f,_);M!==null&&(Fs(M,m,_),Ou(M,m,_)),m={cache:qp()},f.payload=m;return}m=m.return}}function WS(f,m,_){var M=Js();_={lane:M,revertLane:0,gesture:null,action:_,hasEagerState:!1,eagerState:null,next:null},sd(f)?Ly(m,_):(_=Ip(f,m,_,M),_!==null&&(Fs(_,f,M),By(_,m,M)))}function Py(f,m,_){var M=Js();Uu(f,m,_,M)}function Uu(f,m,_,M){var K={lane:M,revertLane:0,gesture:null,action:_,hasEagerState:!1,eagerState:null,next:null};if(sd(f))Ly(m,K);else{var J=f.alternate;if(f.lanes===0&&(J===null||J.lanes===0)&&(J=m.lastRenderedReducer,J!==null))try{var oe=m.lastRenderedState,we=J(oe,_);if(K.hasEagerState=!0,K.eagerState=we,Ws(we,oe))return Lh(f,m,K,0),qr===null&&Ph(),!1}catch{}finally{}if(_=Ip(f,m,K,M),_!==null)return Fs(_,f,M),By(_,m,M),!0}return!1}function bm(f,m,_,M){if(M={lane:2,revertLane:Ym(),gesture:null,action:M,hasEagerState:!1,eagerState:null,next:null},sd(f)){if(m)throw Error(n(479))}else m=Ip(f,_,M,2),m!==null&&Fs(m,f,2)}function sd(f){var m=f.alternate;return f===ur||m!==null&&m===ur}function Ly(f,m){vc=Qh=!0;var _=f.pending;_===null?m.next=m:(m.next=_.next,_.next=m),f.pending=m}function By(f,m,_){if((_&4194048)!==0){var M=m.lanes;M&=f.pendingLanes,_|=M,m.lanes=_,Qe(f,_)}}var Vu={readContext:Wn,use:ed,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useLayoutEffect:an,useInsertionEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useSyncExternalStore:an,useId:an,useHostTransitionStatus:an,useFormState:an,useActionState:an,useOptimistic:an,useMemoCache:an,useCacheRefresh:an};Vu.useEffectEvent=an;var Uy={readContext:Wn,use:ed,useCallback:function(f,m){return Ss().memoizedState=[f,m===void 0?null:m],f},useContext:Wn,useEffect:Sy,useImperativeHandle:function(f,m,_){_=_!=null?_.concat([f]):null,rd(4194308,4,Ay.bind(null,m,f),_)},useLayoutEffect:function(f,m){return rd(4194308,4,f,m)},useInsertionEffect:function(f,m){rd(4,2,f,m)},useMemo:function(f,m){var _=Ss();m=m===void 0?null:m;var M=f();if(wl){lt(!0);try{f()}finally{lt(!1)}}return _.memoizedState=[M,m],M},useReducer:function(f,m,_){var M=Ss();if(_!==void 0){var K=_(m);if(wl){lt(!0);try{_(m)}finally{lt(!1)}}}else K=m;return M.memoizedState=M.baseState=K,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:K},M.queue=f,f=f.dispatch=WS.bind(null,ur,f),[M.memoizedState,f]},useRef:function(f){var m=Ss();return f={current:f},m.memoizedState=f},useState:function(f){f=um(f);var m=f.queue,_=Py.bind(null,ur,m);return m.dispatch=_,[f.memoizedState,_]},useDebugValue:dm,useDeferredValue:function(f,m){var _=Ss();return pm(_,f,m)},useTransition:function(){var f=um(!1);return f=jy.bind(null,ur,f.queue,!0,!1),Ss().memoizedState=f,[!1,f]},useSyncExternalStore:function(f,m,_){var M=ur,K=Ss();if(Tr){if(_===void 0)throw Error(n(407));_=_()}else{if(_=m(),qr===null)throw Error(n(349));(vr&127)!==0||oy(M,m,_)}K.memoizedState=_;var J={value:_,getSnapshot:m};return K.queue=J,Sy(cy.bind(null,M,J,f),[f]),M.flags|=2048,_c(9,{destroy:void 0},ly.bind(null,M,J,_,m),null),_},useId:function(){var f=Ss(),m=qr.identifierPrefix;if(Tr){var _=Ja,M=Za;_=(M&~(1<<32-Ue(M)-1)).toString(32)+_,m="_"+m+"R_"+_,_=Zh++,0<_&&(m+="H"+_.toString(32)),m+="_"}else _=US++,m="_"+m+"r_"+_.toString(32)+"_";return f.memoizedState=m},useHostTransitionStatus:gm,useFormState:xy,useActionState:xy,useOptimistic:function(f){var m=Ss();m.memoizedState=m.baseState=f;var _={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return m.queue=_,m=bm.bind(null,ur,!0,_),_.dispatch=m,[f,m]},useMemoCache:om,useCacheRefresh:function(){return Ss().memoizedState=GS.bind(null,ur)},useEffectEvent:function(f){var m=Ss(),_={impl:f};return m.memoizedState=_,function(){if((Or&2)!==0)throw Error(n(440));return _.impl.apply(void 0,arguments)}}},xm={readContext:Wn,use:ed,useCallback:Cy,useContext:Wn,useEffect:hm,useImperativeHandle:Ny,useInsertionEffect:Ty,useLayoutEffect:Ey,useMemo:Ry,useReducer:td,useRef:_y,useState:function(){return td(Ti)},useDebugValue:dm,useDeferredValue:function(f,m){var _=bn();return My(_,Ur.memoizedState,f,m)},useTransition:function(){var f=td(Ti)[0],m=bn().memoizedState;return[typeof f=="boolean"?f:Bu(f),m]},useSyncExternalStore:iy,useId:Oy,useHostTransitionStatus:gm,useFormState:yy,useActionState:yy,useOptimistic:function(f,m){var _=bn();return hy(_,Ur,f,m)},useMemoCache:om,useCacheRefresh:Fy};xm.useEffectEvent=ky;var Vy={readContext:Wn,use:ed,useCallback:Cy,useContext:Wn,useEffect:hm,useImperativeHandle:Ny,useInsertionEffect:Ty,useLayoutEffect:Ey,useMemo:Ry,useReducer:cm,useRef:_y,useState:function(){return cm(Ti)},useDebugValue:dm,useDeferredValue:function(f,m){var _=bn();return Ur===null?pm(_,f,m):My(_,Ur.memoizedState,f,m)},useTransition:function(){var f=cm(Ti)[0],m=bn().memoizedState;return[typeof f=="boolean"?f:Bu(f),m]},useSyncExternalStore:iy,useId:Oy,useHostTransitionStatus:gm,useFormState:wy,useActionState:wy,useOptimistic:function(f,m){var _=bn();return Ur!==null?hy(_,Ur,f,m):(_.baseState=f,[f,_.queue.dispatch])},useMemoCache:om,useCacheRefresh:Fy};Vy.useEffectEvent=ky;function ym(f,m,_,M){m=f.memoizedState,_=_(M,m),_=_==null?m:p({},m,_),f.memoizedState=_,f.lanes===0&&(f.updateQueue.baseState=_)}var vm={enqueueSetState:function(f,m,_){f=f._reactInternals;var M=Js(),K=lo(M);K.payload=m,_!=null&&(K.callback=_),m=co(f,K,M),m!==null&&(Fs(m,f,M),Ou(m,f,M))},enqueueReplaceState:function(f,m,_){f=f._reactInternals;var M=Js(),K=lo(M);K.tag=1,K.payload=m,_!=null&&(K.callback=_),m=co(f,K,M),m!==null&&(Fs(m,f,M),Ou(m,f,M))},enqueueForceUpdate:function(f,m){f=f._reactInternals;var _=Js(),M=lo(_);M.tag=2,m!=null&&(M.callback=m),m=co(f,M,_),m!==null&&(Fs(m,f,_),Ou(m,f,_))}};function zy(f,m,_,M,K,J,oe){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(M,J,oe):m.prototype&&m.prototype.isPureReactComponent?!Au(_,M)||!Au(K,J):!0}function Hy(f,m,_,M){f=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(_,M),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(_,M),m.state!==f&&vm.enqueueReplaceState(m,m.state,null)}function _l(f,m){var _=m;if("ref"in m){_={};for(var M in m)M!=="ref"&&(_[M]=m[M])}if(f=f.defaultProps){_===m&&(_=p({},_));for(var K in f)_[K]===void 0&&(_[K]=f[K])}return _}function $y(f){Fh(f)}function qy(f){console.error(f)}function Gy(f){Fh(f)}function ad(f,m){try{var _=f.onUncaughtError;_(m.value,{componentStack:m.stack})}catch(M){setTimeout(function(){throw M})}}function Wy(f,m,_){try{var M=f.onCaughtError;M(_.value,{componentStack:_.stack,errorBoundary:m.tag===1?m.stateNode:null})}catch(K){setTimeout(function(){throw K})}}function wm(f,m,_){return _=lo(_),_.tag=3,_.payload={element:null},_.callback=function(){ad(f,m)},_}function Xy(f){return f=lo(f),f.tag=3,f}function Yy(f,m,_,M){var K=_.type.getDerivedStateFromError;if(typeof K=="function"){var J=M.value;f.payload=function(){return K(J)},f.callback=function(){Wy(m,_,M)}}var oe=_.stateNode;oe!==null&&typeof oe.componentDidCatch=="function"&&(f.callback=function(){Wy(m,_,M),typeof K!="function"&&(go===null?go=new Set([this]):go.add(this));var we=M.stack;this.componentDidCatch(M.value,{componentStack:we!==null?we:""})})}function XS(f,m,_,M,K){if(_.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){if(m=_.alternate,m!==null&&pc(m,_,K,!0),_=Ys.current,_!==null){switch(_.tag){case 31:case 13:return da===null?bd():_.alternate===null&&on===0&&(on=3),_.flags&=-257,_.flags|=65536,_.lanes=K,M===Gh?_.flags|=16384:(m=_.updateQueue,m===null?_.updateQueue=new Set([M]):m.add(M),Gm(f,M,K)),!1;case 22:return _.flags|=65536,M===Gh?_.flags|=16384:(m=_.updateQueue,m===null?(m={transitions:null,markerInstances:null,retryQueue:new Set([M])},_.updateQueue=m):(_=m.retryQueue,_===null?m.retryQueue=new Set([M]):_.add(M)),Gm(f,M,K)),!1}throw Error(n(435,_.tag))}return Gm(f,M,K),bd(),!1}if(Tr)return m=Ys.current,m!==null?((m.flags&65536)===0&&(m.flags|=256),m.flags|=65536,m.lanes=K,M!==Up&&(f=Error(n(422),{cause:M}),Ru(ca(f,_)))):(M!==Up&&(m=Error(n(423),{cause:M}),Ru(ca(m,_))),f=f.current.alternate,f.flags|=65536,K&=-K,f.lanes|=K,M=ca(M,_),K=wm(f.stateNode,M,K),Qp(f,K),on!==4&&(on=2)),!1;var J=Error(n(520),{cause:M});if(J=ca(J,_),Yu===null?Yu=[J]:Yu.push(J),on!==4&&(on=2),m===null)return!0;M=ca(M,_),_=m;do{switch(_.tag){case 3:return _.flags|=65536,f=K&-K,_.lanes|=f,f=wm(_.stateNode,M,f),Qp(_,f),!1;case 1:if(m=_.type,J=_.stateNode,(_.flags&128)===0&&(typeof m.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(go===null||!go.has(J))))return _.flags|=65536,K&=-K,_.lanes|=K,K=Xy(K),Yy(K,f,_,M),Qp(_,K),!1}_=_.return}while(_!==null);return!1}var _m=Error(n(461)),Sn=!1;function Xn(f,m,_,M){m.child=f===null?Jx(m,null,_,M):vl(m,f.child,_,M)}function Ky(f,m,_,M,K){_=_.render;var J=m.ref;if("ref"in M){var oe={};for(var we in M)we!=="ref"&&(oe[we]=M[we])}else oe=M;return gl(m),M=nm(f,m,_,oe,J,K),we=sm(),f!==null&&!Sn?(am(f,m,K),Ei(f,m,K)):(Tr&&we&&Lp(m),m.flags|=1,Xn(f,m,M,K),m.child)}function Qy(f,m,_,M,K){if(f===null){var J=_.type;return typeof J=="function"&&!Op(J)&&J.defaultProps===void 0&&_.compare===null?(m.tag=15,m.type=J,Zy(f,m,J,M,K)):(f=Uh(_.type,null,M,m,m.mode,K),f.ref=m.ref,f.return=m,m.child=f)}if(J=f.child,!Rm(f,K)){var oe=J.memoizedProps;if(_=_.compare,_=_!==null?_:Au,_(oe,M)&&f.ref===m.ref)return Ei(f,m,K)}return m.flags|=1,f=vi(J,M),f.ref=m.ref,f.return=m,m.child=f}function Zy(f,m,_,M,K){if(f!==null){var J=f.memoizedProps;if(Au(J,M)&&f.ref===m.ref)if(Sn=!1,m.pendingProps=M=J,Rm(f,K))(f.flags&131072)!==0&&(Sn=!0);else return m.lanes=f.lanes,Ei(f,m,K)}return Sm(f,m,_,M,K)}function Jy(f,m,_,M){var K=M.children,J=f!==null?f.memoizedState:null;if(f===null&&m.stateNode===null&&(m.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),M.mode==="hidden"){if((m.flags&128)!==0){if(J=J!==null?J.baseLanes|_:_,f!==null){for(M=m.child=f.child,K=0;M!==null;)K=K|M.lanes|M.childLanes,M=M.sibling;M=K&~J}else M=0,m.child=null;return e2(f,m,J,_,M)}if((_&536870912)!==0)m.memoizedState={baseLanes:0,cachePool:null},f!==null&&$h(m,J!==null?J.cachePool:null),J!==null?ry(m,J):Jp(),ny(m);else return M=m.lanes=536870912,e2(f,m,J!==null?J.baseLanes|_:_,_,M)}else J!==null?($h(m,J.cachePool),ry(m,J),fo(),m.memoizedState=null):(f!==null&&$h(m,null),Jp(),fo());return Xn(f,m,K,_),m.child}function zu(f,m){return f!==null&&f.tag===22||m.stateNode!==null||(m.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.sibling}function e2(f,m,_,M,K){var J=Wp();return J=J===null?null:{parent:wn._currentValue,pool:J},m.memoizedState={baseLanes:_,cachePool:J},f!==null&&$h(m,null),Jp(),ny(m),f!==null&&pc(f,m,M,!0),m.childLanes=K,null}function id(f,m){return m=ld({mode:m.mode,children:m.children},f.mode),m.ref=f.ref,f.child=m,m.return=f,m}function t2(f,m,_){return vl(m,f.child,null,_),f=id(m,m.pendingProps),f.flags|=2,Ks(m),m.memoizedState=null,f}function YS(f,m,_){var M=m.pendingProps,K=(m.flags&128)!==0;if(m.flags&=-129,f===null){if(Tr){if(M.mode==="hidden")return f=id(m,M),m.lanes=536870912,zu(null,f);if(tm(m),(f=Yr)?(f=dv(f,ha),f=f!==null&&f.data==="&"?f:null,f!==null&&(m.memoizedState={dehydrated:f,treeContext:no!==null?{id:Za,overflow:Ja}:null,retryLane:536870912,hydrationErrors:null},_=Lx(f),_.return=m,m.child=_,Gn=m,Yr=null)):f=null,f===null)throw ao(m);return m.lanes=536870912,null}return id(m,M)}var J=f.memoizedState;if(J!==null){var oe=J.dehydrated;if(tm(m),K)if(m.flags&256)m.flags&=-257,m=t2(f,m,_);else if(m.memoizedState!==null)m.child=f.child,m.flags|=128,m=null;else throw Error(n(558));else if(Sn||pc(f,m,_,!1),K=(_&f.childLanes)!==0,Sn||K){if(M=qr,M!==null&&(oe=Ee(M,_),oe!==0&&oe!==J.retryLane))throw J.retryLane=oe,hl(f,oe),Fs(M,f,oe),_m;bd(),m=t2(f,m,_)}else f=J.treeContext,Yr=pa(oe.nextSibling),Gn=m,Tr=!0,so=null,ha=!1,f!==null&&Vx(m,f),m=id(m,M),m.flags|=4096;return m}return f=vi(f.child,{mode:M.mode,children:M.children}),f.ref=m.ref,m.child=f,f.return=m,f}function od(f,m){var _=m.ref;if(_===null)f!==null&&f.ref!==null&&(m.flags|=4194816);else{if(typeof _!="function"&&typeof _!="object")throw Error(n(284));(f===null||f.ref!==_)&&(m.flags|=4194816)}}function Sm(f,m,_,M,K){return gl(m),_=nm(f,m,_,M,void 0,K),M=sm(),f!==null&&!Sn?(am(f,m,K),Ei(f,m,K)):(Tr&&M&&Lp(m),m.flags|=1,Xn(f,m,_,K),m.child)}function r2(f,m,_,M,K,J){return gl(m),m.updateQueue=null,_=ay(m,M,_,K),sy(f),M=sm(),f!==null&&!Sn?(am(f,m,J),Ei(f,m,J)):(Tr&&M&&Lp(m),m.flags|=1,Xn(f,m,_,J),m.child)}function n2(f,m,_,M,K){if(gl(m),m.stateNode===null){var J=uc,oe=_.contextType;typeof oe=="object"&&oe!==null&&(J=Wn(oe)),J=new _(M,J),m.memoizedState=J.state!==null&&J.state!==void 0?J.state:null,J.updater=vm,m.stateNode=J,J._reactInternals=m,J=m.stateNode,J.props=M,J.state=m.memoizedState,J.refs={},Yp(m),oe=_.contextType,J.context=typeof oe=="object"&&oe!==null?Wn(oe):uc,J.state=m.memoizedState,oe=_.getDerivedStateFromProps,typeof oe=="function"&&(ym(m,_,oe,M),J.state=m.memoizedState),typeof _.getDerivedStateFromProps=="function"||typeof J.getSnapshotBeforeUpdate=="function"||typeof J.UNSAFE_componentWillMount!="function"&&typeof J.componentWillMount!="function"||(oe=J.state,typeof J.componentWillMount=="function"&&J.componentWillMount(),typeof J.UNSAFE_componentWillMount=="function"&&J.UNSAFE_componentWillMount(),oe!==J.state&&vm.enqueueReplaceState(J,J.state,null),Pu(m,M,J,K),Fu(),J.state=m.memoizedState),typeof J.componentDidMount=="function"&&(m.flags|=4194308),M=!0}else if(f===null){J=m.stateNode;var we=m.memoizedProps,Be=_l(_,we);J.props=Be;var it=J.context,_t=_.contextType;oe=uc,typeof _t=="object"&&_t!==null&&(oe=Wn(_t));var Nt=_.getDerivedStateFromProps;_t=typeof Nt=="function"||typeof J.getSnapshotBeforeUpdate=="function",we=m.pendingProps!==we,_t||typeof J.UNSAFE_componentWillReceiveProps!="function"&&typeof J.componentWillReceiveProps!="function"||(we||it!==oe)&&Hy(m,J,M,oe),oo=!1;var ct=m.memoizedState;J.state=ct,Pu(m,M,J,K),Fu(),it=m.memoizedState,we||ct!==it||oo?(typeof Nt=="function"&&(ym(m,_,Nt,M),it=m.memoizedState),(Be=oo||zy(m,_,Be,M,ct,it,oe))?(_t||typeof J.UNSAFE_componentWillMount!="function"&&typeof J.componentWillMount!="function"||(typeof J.componentWillMount=="function"&&J.componentWillMount(),typeof J.UNSAFE_componentWillMount=="function"&&J.UNSAFE_componentWillMount()),typeof J.componentDidMount=="function"&&(m.flags|=4194308)):(typeof J.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=M,m.memoizedState=it),J.props=M,J.state=it,J.context=oe,M=Be):(typeof J.componentDidMount=="function"&&(m.flags|=4194308),M=!1)}else{J=m.stateNode,Kp(f,m),oe=m.memoizedProps,_t=_l(_,oe),J.props=_t,Nt=m.pendingProps,ct=J.context,it=_.contextType,Be=uc,typeof it=="object"&&it!==null&&(Be=Wn(it)),we=_.getDerivedStateFromProps,(it=typeof we=="function"||typeof J.getSnapshotBeforeUpdate=="function")||typeof J.UNSAFE_componentWillReceiveProps!="function"&&typeof J.componentWillReceiveProps!="function"||(oe!==Nt||ct!==Be)&&Hy(m,J,M,Be),oo=!1,ct=m.memoizedState,J.state=ct,Pu(m,M,J,K),Fu();var mt=m.memoizedState;oe!==Nt||ct!==mt||oo||f!==null&&f.dependencies!==null&&zh(f.dependencies)?(typeof we=="function"&&(ym(m,_,we,M),mt=m.memoizedState),(_t=oo||zy(m,_,_t,M,ct,mt,Be)||f!==null&&f.dependencies!==null&&zh(f.dependencies))?(it||typeof J.UNSAFE_componentWillUpdate!="function"&&typeof J.componentWillUpdate!="function"||(typeof J.componentWillUpdate=="function"&&J.componentWillUpdate(M,mt,Be),typeof J.UNSAFE_componentWillUpdate=="function"&&J.UNSAFE_componentWillUpdate(M,mt,Be)),typeof J.componentDidUpdate=="function"&&(m.flags|=4),typeof J.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof J.componentDidUpdate!="function"||oe===f.memoizedProps&&ct===f.memoizedState||(m.flags|=4),typeof J.getSnapshotBeforeUpdate!="function"||oe===f.memoizedProps&&ct===f.memoizedState||(m.flags|=1024),m.memoizedProps=M,m.memoizedState=mt),J.props=M,J.state=mt,J.context=Be,M=_t):(typeof J.componentDidUpdate!="function"||oe===f.memoizedProps&&ct===f.memoizedState||(m.flags|=4),typeof J.getSnapshotBeforeUpdate!="function"||oe===f.memoizedProps&&ct===f.memoizedState||(m.flags|=1024),M=!1)}return J=M,od(f,m),M=(m.flags&128)!==0,J||M?(J=m.stateNode,_=M&&typeof _.getDerivedStateFromError!="function"?null:J.render(),m.flags|=1,f!==null&&M?(m.child=vl(m,f.child,null,K),m.child=vl(m,null,_,K)):Xn(f,m,_,K),m.memoizedState=J.state,f=m.child):f=Ei(f,m,K),f}function s2(f,m,_,M){return pl(),m.flags|=256,Xn(f,m,_,M),m.child}var km={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tm(f){return{baseLanes:f,cachePool:Wx()}}function Em(f,m,_){return f=f!==null?f.childLanes&~_:0,m&&(f|=Zs),f}function a2(f,m,_){var M=m.pendingProps,K=!1,J=(m.flags&128)!==0,oe;if((oe=J)||(oe=f!==null&&f.memoizedState===null?!1:(gn.current&2)!==0),oe&&(K=!0,m.flags&=-129),oe=(m.flags&32)!==0,m.flags&=-33,f===null){if(Tr){if(K?uo(m):fo(),(f=Yr)?(f=dv(f,ha),f=f!==null&&f.data!=="&"?f:null,f!==null&&(m.memoizedState={dehydrated:f,treeContext:no!==null?{id:Za,overflow:Ja}:null,retryLane:536870912,hydrationErrors:null},_=Lx(f),_.return=m,m.child=_,Gn=m,Yr=null)):f=null,f===null)throw ao(m);return lg(f)?m.lanes=32:m.lanes=536870912,null}var we=M.children;return M=M.fallback,K?(fo(),K=m.mode,we=ld({mode:"hidden",children:we},K),M=dl(M,K,_,null),we.return=m,M.return=m,we.sibling=M,m.child=we,M=m.child,M.memoizedState=Tm(_),M.childLanes=Em(f,oe,_),m.memoizedState=km,zu(null,M)):(uo(m),Am(m,we))}var Be=f.memoizedState;if(Be!==null&&(we=Be.dehydrated,we!==null)){if(J)m.flags&256?(uo(m),m.flags&=-257,m=Nm(f,m,_)):m.memoizedState!==null?(fo(),m.child=f.child,m.flags|=128,m=null):(fo(),we=M.fallback,K=m.mode,M=ld({mode:"visible",children:M.children},K),we=dl(we,K,_,null),we.flags|=2,M.return=m,we.return=m,M.sibling=we,m.child=M,vl(m,f.child,null,_),M=m.child,M.memoizedState=Tm(_),M.childLanes=Em(f,oe,_),m.memoizedState=km,m=zu(null,M));else if(uo(m),lg(we)){if(oe=we.nextSibling&&we.nextSibling.dataset,oe)var it=oe.dgst;oe=it,M=Error(n(419)),M.stack="",M.digest=oe,Ru({value:M,source:null,stack:null}),m=Nm(f,m,_)}else if(Sn||pc(f,m,_,!1),oe=(_&f.childLanes)!==0,Sn||oe){if(oe=qr,oe!==null&&(M=Ee(oe,_),M!==0&&M!==Be.retryLane))throw Be.retryLane=M,hl(f,M),Fs(oe,f,M),_m;og(we)||bd(),m=Nm(f,m,_)}else og(we)?(m.flags|=192,m.child=f.child,m=null):(f=Be.treeContext,Yr=pa(we.nextSibling),Gn=m,Tr=!0,so=null,ha=!1,f!==null&&Vx(m,f),m=Am(m,M.children),m.flags|=4096);return m}return K?(fo(),we=M.fallback,K=m.mode,Be=f.child,it=Be.sibling,M=vi(Be,{mode:"hidden",children:M.children}),M.subtreeFlags=Be.subtreeFlags&65011712,it!==null?we=vi(it,we):(we=dl(we,K,_,null),we.flags|=2),we.return=m,M.return=m,M.sibling=we,m.child=M,zu(null,M),M=m.child,we=f.child.memoizedState,we===null?we=Tm(_):(K=we.cachePool,K!==null?(Be=wn._currentValue,K=K.parent!==Be?{parent:Be,pool:Be}:K):K=Wx(),we={baseLanes:we.baseLanes|_,cachePool:K}),M.memoizedState=we,M.childLanes=Em(f,oe,_),m.memoizedState=km,zu(f.child,M)):(uo(m),_=f.child,f=_.sibling,_=vi(_,{mode:"visible",children:M.children}),_.return=m,_.sibling=null,f!==null&&(oe=m.deletions,oe===null?(m.deletions=[f],m.flags|=16):oe.push(f)),m.child=_,m.memoizedState=null,_)}function Am(f,m){return m=ld({mode:"visible",children:m},f.mode),m.return=f,f.child=m}function ld(f,m){return f=Xs(22,f,null,m),f.lanes=0,f}function Nm(f,m,_){return vl(m,f.child,null,_),f=Am(m,m.pendingProps.children),f.flags|=2,m.memoizedState=null,f}function i2(f,m,_){f.lanes|=m;var M=f.alternate;M!==null&&(M.lanes|=m),Hp(f.return,m,_)}function Cm(f,m,_,M,K,J){var oe=f.memoizedState;oe===null?f.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:M,tail:_,tailMode:K,treeForkCount:J}:(oe.isBackwards=m,oe.rendering=null,oe.renderingStartTime=0,oe.last=M,oe.tail=_,oe.tailMode=K,oe.treeForkCount=J)}function o2(f,m,_){var M=m.pendingProps,K=M.revealOrder,J=M.tail;M=M.children;var oe=gn.current,we=(oe&2)!==0;if(we?(oe=oe&1|2,m.flags|=128):oe&=1,Q(gn,oe),Xn(f,m,M,_),M=Tr?Cu:0,!we&&f!==null&&(f.flags&128)!==0)e:for(f=m.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&i2(f,_,m);else if(f.tag===19)i2(f,_,m);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===m)break e;for(;f.sibling===null;){if(f.return===null||f.return===m)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}switch(K){case"forwards":for(_=m.child,K=null;_!==null;)f=_.alternate,f!==null&&Kh(f)===null&&(K=_),_=_.sibling;_=K,_===null?(K=m.child,m.child=null):(K=_.sibling,_.sibling=null),Cm(m,!1,K,_,J,M);break;case"backwards":case"unstable_legacy-backwards":for(_=null,K=m.child,m.child=null;K!==null;){if(f=K.alternate,f!==null&&Kh(f)===null){m.child=K;break}f=K.sibling,K.sibling=_,_=K,K=f}Cm(m,!0,_,null,J,M);break;case"together":Cm(m,!1,null,null,void 0,M);break;default:m.memoizedState=null}return m.child}function Ei(f,m,_){if(f!==null&&(m.dependencies=f.dependencies),mo|=m.lanes,(_&m.childLanes)===0)if(f!==null){if(pc(f,m,_,!1),(_&m.childLanes)===0)return null}else return null;if(f!==null&&m.child!==f.child)throw Error(n(153));if(m.child!==null){for(f=m.child,_=vi(f,f.pendingProps),m.child=_,_.return=m;f.sibling!==null;)f=f.sibling,_=_.sibling=vi(f,f.pendingProps),_.return=m;_.sibling=null}return m.child}function Rm(f,m){return(f.lanes&m)!==0?!0:(f=f.dependencies,!!(f!==null&&zh(f)))}function KS(f,m,_){switch(m.tag){case 3:H(m,m.stateNode.containerInfo),io(m,wn,f.memoizedState.cache),pl();break;case 27:case 5:Z(m);break;case 4:H(m,m.stateNode.containerInfo);break;case 10:io(m,m.type,m.memoizedProps.value);break;case 31:if(m.memoizedState!==null)return m.flags|=128,tm(m),null;break;case 13:var M=m.memoizedState;if(M!==null)return M.dehydrated!==null?(uo(m),m.flags|=128,null):(_&m.child.childLanes)!==0?a2(f,m,_):(uo(m),f=Ei(f,m,_),f!==null?f.sibling:null);uo(m);break;case 19:var K=(f.flags&128)!==0;if(M=(_&m.childLanes)!==0,M||(pc(f,m,_,!1),M=(_&m.childLanes)!==0),K){if(M)return o2(f,m,_);m.flags|=128}if(K=m.memoizedState,K!==null&&(K.rendering=null,K.tail=null,K.lastEffect=null),Q(gn,gn.current),M)break;return null;case 22:return m.lanes=0,Jy(f,m,_,m.pendingProps);case 24:io(m,wn,f.memoizedState.cache)}return Ei(f,m,_)}function l2(f,m,_){if(f!==null)if(f.memoizedProps!==m.pendingProps)Sn=!0;else{if(!Rm(f,_)&&(m.flags&128)===0)return Sn=!1,KS(f,m,_);Sn=(f.flags&131072)!==0}else Sn=!1,Tr&&(m.flags&1048576)!==0&&Ux(m,Cu,m.index);switch(m.lanes=0,m.tag){case 16:e:{var M=m.pendingProps;if(f=xl(m.elementType),m.type=f,typeof f=="function")Op(f)?(M=_l(f,M),m.tag=1,m=n2(null,m,f,M,_)):(m.tag=0,m=Sm(null,m,f,M,_));else{if(f!=null){var K=f.$$typeof;if(K===R){m.tag=11,m=Ky(null,m,f,M,_);break e}else if(K===V){m.tag=14,m=Qy(null,m,f,M,_);break e}}throw m=D(f)||f,Error(n(306,m,""))}}return m;case 0:return Sm(f,m,m.type,m.pendingProps,_);case 1:return M=m.type,K=_l(M,m.pendingProps),n2(f,m,M,K,_);case 3:e:{if(H(m,m.stateNode.containerInfo),f===null)throw Error(n(387));M=m.pendingProps;var J=m.memoizedState;K=J.element,Kp(f,m),Pu(m,M,null,_);var oe=m.memoizedState;if(M=oe.cache,io(m,wn,M),M!==J.cache&&$p(m,[wn],_,!0),Fu(),M=oe.element,J.isDehydrated)if(J={element:M,isDehydrated:!1,cache:oe.cache},m.updateQueue.baseState=J,m.memoizedState=J,m.flags&256){m=s2(f,m,M,_);break e}else if(M!==K){K=ca(Error(n(424)),m),Ru(K),m=s2(f,m,M,_);break e}else{switch(f=m.stateNode.containerInfo,f.nodeType){case 9:f=f.body;break;default:f=f.nodeName==="HTML"?f.ownerDocument.body:f}for(Yr=pa(f.firstChild),Gn=m,Tr=!0,so=null,ha=!0,_=Jx(m,null,M,_),m.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling}else{if(pl(),M===K){m=Ei(f,m,_);break e}Xn(f,m,M,_)}m=m.child}return m;case 26:return od(f,m),f===null?(_=yv(m.type,null,m.pendingProps,null))?m.memoizedState=_:Tr||(_=m.type,f=m.pendingProps,M=kd(q.current).createElement(_),M[fe]=m,M[he]=f,Yn(M,_,f),Ke(M),m.stateNode=M):m.memoizedState=yv(m.type,f.memoizedProps,m.pendingProps,f.memoizedState),null;case 27:return Z(m),f===null&&Tr&&(M=m.stateNode=gv(m.type,m.pendingProps,q.current),Gn=m,ha=!0,K=Yr,vo(m.type)?(cg=K,Yr=pa(M.firstChild)):Yr=K),Xn(f,m,m.pendingProps.children,_),od(f,m),f===null&&(m.flags|=4194304),m.child;case 5:return f===null&&Tr&&((K=M=Yr)&&(M=Ek(M,m.type,m.pendingProps,ha),M!==null?(m.stateNode=M,Gn=m,Yr=pa(M.firstChild),ha=!1,K=!0):K=!1),K||ao(m)),Z(m),K=m.type,J=m.pendingProps,oe=f!==null?f.memoizedProps:null,M=J.children,sg(K,J)?M=null:oe!==null&&sg(K,oe)&&(m.flags|=32),m.memoizedState!==null&&(K=nm(f,m,VS,null,null,_),nf._currentValue=K),od(f,m),Xn(f,m,M,_),m.child;case 6:return f===null&&Tr&&((f=_=Yr)&&(_=Ak(_,m.pendingProps,ha),_!==null?(m.stateNode=_,Gn=m,Yr=null,f=!0):f=!1),f||ao(m)),null;case 13:return a2(f,m,_);case 4:return H(m,m.stateNode.containerInfo),M=m.pendingProps,f===null?m.child=vl(m,null,M,_):Xn(f,m,M,_),m.child;case 11:return Ky(f,m,m.type,m.pendingProps,_);case 7:return Xn(f,m,m.pendingProps,_),m.child;case 8:return Xn(f,m,m.pendingProps.children,_),m.child;case 12:return Xn(f,m,m.pendingProps.children,_),m.child;case 10:return M=m.pendingProps,io(m,m.type,M.value),Xn(f,m,M.children,_),m.child;case 9:return K=m.type._context,M=m.pendingProps.children,gl(m),K=Wn(K),M=M(K),m.flags|=1,Xn(f,m,M,_),m.child;case 14:return Qy(f,m,m.type,m.pendingProps,_);case 15:return Zy(f,m,m.type,m.pendingProps,_);case 19:return o2(f,m,_);case 31:return YS(f,m,_);case 22:return Jy(f,m,_,m.pendingProps);case 24:return gl(m),M=Wn(wn),f===null?(K=Wp(),K===null&&(K=qr,J=qp(),K.pooledCache=J,J.refCount++,J!==null&&(K.pooledCacheLanes|=_),K=J),m.memoizedState={parent:M,cache:K},Yp(m),io(m,wn,K)):((f.lanes&_)!==0&&(Kp(f,m),Pu(m,null,null,_),Fu()),K=f.memoizedState,J=m.memoizedState,K.parent!==M?(K={parent:M,cache:M},m.memoizedState=K,m.lanes===0&&(m.memoizedState=m.updateQueue.baseState=K),io(m,wn,M)):(M=J.cache,io(m,wn,M),M!==K.cache&&$p(m,[wn],_,!0))),Xn(f,m,m.pendingProps.children,_),m.child;case 29:throw m.pendingProps}throw Error(n(156,m.tag))}function Ai(f){f.flags|=4}function Mm(f,m,_,M,K){if((m=(f.mode&32)!==0)&&(m=!1),m){if(f.flags|=16777216,(K&335544128)===K)if(f.stateNode.complete)f.flags|=8192;else if(O2())f.flags|=8192;else throw yl=Gh,Xp}else f.flags&=-16777217}function c2(f,m){if(m.type!=="stylesheet"||(m.state.loading&4)!==0)f.flags&=-16777217;else if(f.flags|=16777216,!kv(m))if(O2())f.flags|=8192;else throw yl=Gh,Xp}function cd(f,m){m!==null&&(f.flags|=4),f.flags&16384&&(m=f.tag!==22?Mt():536870912,f.lanes|=m,Ec|=m)}function Hu(f,m){if(!Tr)switch(f.tailMode){case"hidden":m=f.tail;for(var _=null;m!==null;)m.alternate!==null&&(_=m),m=m.sibling;_===null?f.tail=null:_.sibling=null;break;case"collapsed":_=f.tail;for(var M=null;_!==null;)_.alternate!==null&&(M=_),_=_.sibling;M===null?m||f.tail===null?f.tail=null:f.tail.sibling=null:M.sibling=null}}function Kr(f){var m=f.alternate!==null&&f.alternate.child===f.child,_=0,M=0;if(m)for(var K=f.child;K!==null;)_|=K.lanes|K.childLanes,M|=K.subtreeFlags&65011712,M|=K.flags&65011712,K.return=f,K=K.sibling;else for(K=f.child;K!==null;)_|=K.lanes|K.childLanes,M|=K.subtreeFlags,M|=K.flags,K.return=f,K=K.sibling;return f.subtreeFlags|=M,f.childLanes=_,m}function QS(f,m,_){var M=m.pendingProps;switch(Bp(m),m.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kr(m),null;case 1:return Kr(m),null;case 3:return _=m.stateNode,M=null,f!==null&&(M=f.memoizedState.cache),m.memoizedState.cache!==M&&(m.flags|=2048),Si(wn),z(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(f===null||f.child===null)&&(dc(m)?Ai(m):f===null||f.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,Vp())),Kr(m),null;case 26:var K=m.type,J=m.memoizedState;return f===null?(Ai(m),J!==null?(Kr(m),c2(m,J)):(Kr(m),Mm(m,K,null,M,_))):J?J!==f.memoizedState?(Ai(m),Kr(m),c2(m,J)):(Kr(m),m.flags&=-16777217):(f=f.memoizedProps,f!==M&&Ai(m),Kr(m),Mm(m,K,f,M,_)),null;case 27:if(ae(m),_=q.current,K=m.type,f!==null&&m.stateNode!=null)f.memoizedProps!==M&&Ai(m);else{if(!M){if(m.stateNode===null)throw Error(n(166));return Kr(m),null}f=Y.current,dc(m)?zx(m):(f=gv(K,M,_),m.stateNode=f,Ai(m))}return Kr(m),null;case 5:if(ae(m),K=m.type,f!==null&&m.stateNode!=null)f.memoizedProps!==M&&Ai(m);else{if(!M){if(m.stateNode===null)throw Error(n(166));return Kr(m),null}if(J=Y.current,dc(m))zx(m);else{var oe=kd(q.current);switch(J){case 1:J=oe.createElementNS("http://www.w3.org/2000/svg",K);break;case 2:J=oe.createElementNS("http://www.w3.org/1998/Math/MathML",K);break;default:switch(K){case"svg":J=oe.createElementNS("http://www.w3.org/2000/svg",K);break;case"math":J=oe.createElementNS("http://www.w3.org/1998/Math/MathML",K);break;case"script":J=oe.createElement("div"),J.innerHTML="<script><\/script>",J=J.removeChild(J.firstChild);break;case"select":J=typeof M.is=="string"?oe.createElement("select",{is:M.is}):oe.createElement("select"),M.multiple?J.multiple=!0:M.size&&(J.size=M.size);break;default:J=typeof M.is=="string"?oe.createElement(K,{is:M.is}):oe.createElement(K)}}J[fe]=m,J[he]=M;e:for(oe=m.child;oe!==null;){if(oe.tag===5||oe.tag===6)J.appendChild(oe.stateNode);else if(oe.tag!==4&&oe.tag!==27&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===m)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===m)break e;oe=oe.return}oe.sibling.return=oe.return,oe=oe.sibling}m.stateNode=J;e:switch(Yn(J,K,M),K){case"button":case"input":case"select":case"textarea":M=!!M.autoFocus;break e;case"img":M=!0;break e;default:M=!1}M&&Ai(m)}}return Kr(m),Mm(m,m.type,f===null?null:f.memoizedProps,m.pendingProps,_),null;case 6:if(f&&m.stateNode!=null)f.memoizedProps!==M&&Ai(m);else{if(typeof M!="string"&&m.stateNode===null)throw Error(n(166));if(f=q.current,dc(m)){if(f=m.stateNode,_=m.memoizedProps,M=null,K=Gn,K!==null)switch(K.tag){case 27:case 5:M=K.memoizedProps}f[fe]=m,f=!!(f.nodeValue===_||M!==null&&M.suppressHydrationWarning===!0||av(f.nodeValue,_)),f||ao(m,!0)}else f=kd(f).createTextNode(M),f[fe]=m,m.stateNode=f}return Kr(m),null;case 31:if(_=m.memoizedState,f===null||f.memoizedState!==null){if(M=dc(m),_!==null){if(f===null){if(!M)throw Error(n(318));if(f=m.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(557));f[fe]=m}else pl(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;Kr(m),f=!1}else _=Vp(),f!==null&&f.memoizedState!==null&&(f.memoizedState.hydrationErrors=_),f=!0;if(!f)return m.flags&256?(Ks(m),m):(Ks(m),null);if((m.flags&128)!==0)throw Error(n(558))}return Kr(m),null;case 13:if(M=m.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(K=dc(m),M!==null&&M.dehydrated!==null){if(f===null){if(!K)throw Error(n(318));if(K=m.memoizedState,K=K!==null?K.dehydrated:null,!K)throw Error(n(317));K[fe]=m}else pl(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;Kr(m),K=!1}else K=Vp(),f!==null&&f.memoizedState!==null&&(f.memoizedState.hydrationErrors=K),K=!0;if(!K)return m.flags&256?(Ks(m),m):(Ks(m),null)}return Ks(m),(m.flags&128)!==0?(m.lanes=_,m):(_=M!==null,f=f!==null&&f.memoizedState!==null,_&&(M=m.child,K=null,M.alternate!==null&&M.alternate.memoizedState!==null&&M.alternate.memoizedState.cachePool!==null&&(K=M.alternate.memoizedState.cachePool.pool),J=null,M.memoizedState!==null&&M.memoizedState.cachePool!==null&&(J=M.memoizedState.cachePool.pool),J!==K&&(M.flags|=2048)),_!==f&&_&&(m.child.flags|=8192),cd(m,m.updateQueue),Kr(m),null);case 4:return z(),f===null&&Jm(m.stateNode.containerInfo),Kr(m),null;case 10:return Si(m.type),Kr(m),null;case 19:if(I(gn),M=m.memoizedState,M===null)return Kr(m),null;if(K=(m.flags&128)!==0,J=M.rendering,J===null)if(K)Hu(M,!1);else{if(on!==0||f!==null&&(f.flags&128)!==0)for(f=m.child;f!==null;){if(J=Kh(f),J!==null){for(m.flags|=128,Hu(M,!1),f=J.updateQueue,m.updateQueue=f,cd(m,f),m.subtreeFlags=0,f=_,_=m.child;_!==null;)Px(_,f),_=_.sibling;return Q(gn,gn.current&1|2),Tr&&wi(m,M.treeForkCount),m.child}f=f.sibling}M.tail!==null&&Pe()>pd&&(m.flags|=128,K=!0,Hu(M,!1),m.lanes=4194304)}else{if(!K)if(f=Kh(J),f!==null){if(m.flags|=128,K=!0,f=f.updateQueue,m.updateQueue=f,cd(m,f),Hu(M,!0),M.tail===null&&M.tailMode==="hidden"&&!J.alternate&&!Tr)return Kr(m),null}else 2*Pe()-M.renderingStartTime>pd&&_!==536870912&&(m.flags|=128,K=!0,Hu(M,!1),m.lanes=4194304);M.isBackwards?(J.sibling=m.child,m.child=J):(f=M.last,f!==null?f.sibling=J:m.child=J,M.last=J)}return M.tail!==null?(f=M.tail,M.rendering=f,M.tail=f.sibling,M.renderingStartTime=Pe(),f.sibling=null,_=gn.current,Q(gn,K?_&1|2:_&1),Tr&&wi(m,M.treeForkCount),f):(Kr(m),null);case 22:case 23:return Ks(m),em(),M=m.memoizedState!==null,f!==null?f.memoizedState!==null!==M&&(m.flags|=8192):M&&(m.flags|=8192),M?(_&536870912)!==0&&(m.flags&128)===0&&(Kr(m),m.subtreeFlags&6&&(m.flags|=8192)):Kr(m),_=m.updateQueue,_!==null&&cd(m,_.retryQueue),_=null,f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(_=f.memoizedState.cachePool.pool),M=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(M=m.memoizedState.cachePool.pool),M!==_&&(m.flags|=2048),f!==null&&I(bl),null;case 24:return _=null,f!==null&&(_=f.memoizedState.cache),m.memoizedState.cache!==_&&(m.flags|=2048),Si(wn),Kr(m),null;case 25:return null;case 30:return null}throw Error(n(156,m.tag))}function ZS(f,m){switch(Bp(m),m.tag){case 1:return f=m.flags,f&65536?(m.flags=f&-65537|128,m):null;case 3:return Si(wn),z(),f=m.flags,(f&65536)!==0&&(f&128)===0?(m.flags=f&-65537|128,m):null;case 26:case 27:case 5:return ae(m),null;case 31:if(m.memoizedState!==null){if(Ks(m),m.alternate===null)throw Error(n(340));pl()}return f=m.flags,f&65536?(m.flags=f&-65537|128,m):null;case 13:if(Ks(m),f=m.memoizedState,f!==null&&f.dehydrated!==null){if(m.alternate===null)throw Error(n(340));pl()}return f=m.flags,f&65536?(m.flags=f&-65537|128,m):null;case 19:return I(gn),null;case 4:return z(),null;case 10:return Si(m.type),null;case 22:case 23:return Ks(m),em(),f!==null&&I(bl),f=m.flags,f&65536?(m.flags=f&-65537|128,m):null;case 24:return Si(wn),null;case 25:return null;default:return null}}function u2(f,m){switch(Bp(m),m.tag){case 3:Si(wn),z();break;case 26:case 27:case 5:ae(m);break;case 4:z();break;case 31:m.memoizedState!==null&&Ks(m);break;case 13:Ks(m);break;case 19:I(gn);break;case 10:Si(m.type);break;case 22:case 23:Ks(m),em(),f!==null&&I(bl);break;case 24:Si(wn)}}function $u(f,m){try{var _=m.updateQueue,M=_!==null?_.lastEffect:null;if(M!==null){var K=M.next;_=K;do{if((_.tag&f)===f){M=void 0;var J=_.create,oe=_.inst;M=J(),oe.destroy=M}_=_.next}while(_!==K)}}catch(we){Lr(m,m.return,we)}}function ho(f,m,_){try{var M=m.updateQueue,K=M!==null?M.lastEffect:null;if(K!==null){var J=K.next;M=J;do{if((M.tag&f)===f){var oe=M.inst,we=oe.destroy;if(we!==void 0){oe.destroy=void 0,K=m;var Be=_,it=we;try{it()}catch(_t){Lr(K,Be,_t)}}}M=M.next}while(M!==J)}}catch(_t){Lr(m,m.return,_t)}}function f2(f){var m=f.updateQueue;if(m!==null){var _=f.stateNode;try{ty(m,_)}catch(M){Lr(f,f.return,M)}}}function h2(f,m,_){_.props=_l(f.type,f.memoizedProps),_.state=f.memoizedState;try{_.componentWillUnmount()}catch(M){Lr(f,m,M)}}function qu(f,m){try{var _=f.ref;if(_!==null){switch(f.tag){case 26:case 27:case 5:var M=f.stateNode;break;case 30:M=f.stateNode;break;default:M=f.stateNode}typeof _=="function"?f.refCleanup=_(M):_.current=M}}catch(K){Lr(f,m,K)}}function ei(f,m){var _=f.ref,M=f.refCleanup;if(_!==null)if(typeof M=="function")try{M()}catch(K){Lr(f,m,K)}finally{f.refCleanup=null,f=f.alternate,f!=null&&(f.refCleanup=null)}else if(typeof _=="function")try{_(null)}catch(K){Lr(f,m,K)}else _.current=null}function d2(f){var m=f.type,_=f.memoizedProps,M=f.stateNode;try{e:switch(m){case"button":case"input":case"select":case"textarea":_.autoFocus&&M.focus();break e;case"img":_.src?M.src=_.src:_.srcSet&&(M.srcset=_.srcSet)}}catch(K){Lr(f,f.return,K)}}function jm(f,m,_){try{var M=f.stateNode;vk(M,f.type,_,m),M[he]=m}catch(K){Lr(f,f.return,K)}}function p2(f){return f.tag===5||f.tag===3||f.tag===26||f.tag===27&&vo(f.type)||f.tag===4}function Dm(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||p2(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.tag===27&&vo(f.type)||f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function Im(f,m,_){var M=f.tag;if(M===5||M===6)f=f.stateNode,m?(_.nodeType===9?_.body:_.nodeName==="HTML"?_.ownerDocument.body:_).insertBefore(f,m):(m=_.nodeType===9?_.body:_.nodeName==="HTML"?_.ownerDocument.body:_,m.appendChild(f),_=_._reactRootContainer,_!=null||m.onclick!==null||(m.onclick=vs));else if(M!==4&&(M===27&&vo(f.type)&&(_=f.stateNode,m=null),f=f.child,f!==null))for(Im(f,m,_),f=f.sibling;f!==null;)Im(f,m,_),f=f.sibling}function ud(f,m,_){var M=f.tag;if(M===5||M===6)f=f.stateNode,m?_.insertBefore(f,m):_.appendChild(f);else if(M!==4&&(M===27&&vo(f.type)&&(_=f.stateNode),f=f.child,f!==null))for(ud(f,m,_),f=f.sibling;f!==null;)ud(f,m,_),f=f.sibling}function m2(f){var m=f.stateNode,_=f.memoizedProps;try{for(var M=f.type,K=m.attributes;K.length;)m.removeAttributeNode(K[0]);Yn(m,M,_),m[fe]=f,m[he]=_}catch(J){Lr(f,f.return,J)}}var Ni=!1,kn=!1,Om=!1,g2=typeof WeakSet=="function"?WeakSet:Set,Ln=null;function JS(f,m){if(f=f.containerInfo,rg=Md,f=Nx(f),Np(f)){if("selectionStart"in f)var _={start:f.selectionStart,end:f.selectionEnd};else e:{_=(_=f.ownerDocument)&&_.defaultView||window;var M=_.getSelection&&_.getSelection();if(M&&M.rangeCount!==0){_=M.anchorNode;var K=M.anchorOffset,J=M.focusNode;M=M.focusOffset;try{_.nodeType,J.nodeType}catch{_=null;break e}var oe=0,we=-1,Be=-1,it=0,_t=0,Nt=f,ct=null;t:for(;;){for(var mt;Nt!==_||K!==0&&Nt.nodeType!==3||(we=oe+K),Nt!==J||M!==0&&Nt.nodeType!==3||(Be=oe+M),Nt.nodeType===3&&(oe+=Nt.nodeValue.length),(mt=Nt.firstChild)!==null;)ct=Nt,Nt=mt;for(;;){if(Nt===f)break t;if(ct===_&&++it===K&&(we=oe),ct===J&&++_t===M&&(Be=oe),(mt=Nt.nextSibling)!==null)break;Nt=ct,ct=Nt.parentNode}Nt=mt}_=we===-1||Be===-1?null:{start:we,end:Be}}else _=null}_=_||{start:0,end:0}}else _=null;for(ng={focusedElem:f,selectionRange:_},Md=!1,Ln=m;Ln!==null;)if(m=Ln,f=m.child,(m.subtreeFlags&1028)!==0&&f!==null)f.return=m,Ln=f;else for(;Ln!==null;){switch(m=Ln,J=m.alternate,f=m.flags,m.tag){case 0:if((f&4)!==0&&(f=m.updateQueue,f=f!==null?f.events:null,f!==null))for(_=0;_<f.length;_++)K=f[_],K.ref.impl=K.nextImpl;break;case 11:case 15:break;case 1:if((f&1024)!==0&&J!==null){f=void 0,_=m,K=J.memoizedProps,J=J.memoizedState,M=_.stateNode;try{var Vt=_l(_.type,K);f=M.getSnapshotBeforeUpdate(Vt,J),M.__reactInternalSnapshotBeforeUpdate=f}catch(Yt){Lr(_,_.return,Yt)}}break;case 3:if((f&1024)!==0){if(f=m.stateNode.containerInfo,_=f.nodeType,_===9)ig(f);else if(_===1)switch(f.nodeName){case"HEAD":case"HTML":case"BODY":ig(f);break;default:f.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((f&1024)!==0)throw Error(n(163))}if(f=m.sibling,f!==null){f.return=m.return,Ln=f;break}Ln=m.return}}function b2(f,m,_){var M=_.flags;switch(_.tag){case 0:case 11:case 15:Ri(f,_),M&4&&$u(5,_);break;case 1:if(Ri(f,_),M&4)if(f=_.stateNode,m===null)try{f.componentDidMount()}catch(oe){Lr(_,_.return,oe)}else{var K=_l(_.type,m.memoizedProps);m=m.memoizedState;try{f.componentDidUpdate(K,m,f.__reactInternalSnapshotBeforeUpdate)}catch(oe){Lr(_,_.return,oe)}}M&64&&f2(_),M&512&&qu(_,_.return);break;case 3:if(Ri(f,_),M&64&&(f=_.updateQueue,f!==null)){if(m=null,_.child!==null)switch(_.child.tag){case 27:case 5:m=_.child.stateNode;break;case 1:m=_.child.stateNode}try{ty(f,m)}catch(oe){Lr(_,_.return,oe)}}break;case 27:m===null&&M&4&&m2(_);case 26:case 5:Ri(f,_),m===null&&M&4&&d2(_),M&512&&qu(_,_.return);break;case 12:Ri(f,_);break;case 31:Ri(f,_),M&4&&v2(f,_);break;case 13:Ri(f,_),M&4&&w2(f,_),M&64&&(f=_.memoizedState,f!==null&&(f=f.dehydrated,f!==null&&(_=lk.bind(null,_),Nk(f,_))));break;case 22:if(M=_.memoizedState!==null||Ni,!M){m=m!==null&&m.memoizedState!==null||kn,K=Ni;var J=kn;Ni=M,(kn=m)&&!J?Mi(f,_,(_.subtreeFlags&8772)!==0):Ri(f,_),Ni=K,kn=J}break;case 30:break;default:Ri(f,_)}}function x2(f){var m=f.alternate;m!==null&&(f.alternate=null,x2(m)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(m=f.stateNode,m!==null&&xt(m)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}var tn=null,js=!1;function Ci(f,m,_){for(_=_.child;_!==null;)y2(f,m,_),_=_.sibling}function y2(f,m,_){if(Ie&&typeof Ie.onCommitFiberUnmount=="function")try{Ie.onCommitFiberUnmount(Ne,_)}catch{}switch(_.tag){case 26:kn||ei(_,m),Ci(f,m,_),_.memoizedState?_.memoizedState.count--:_.stateNode&&(_=_.stateNode,_.parentNode.removeChild(_));break;case 27:kn||ei(_,m);var M=tn,K=js;vo(_.type)&&(tn=_.stateNode,js=!1),Ci(f,m,_),ef(_.stateNode),tn=M,js=K;break;case 5:kn||ei(_,m);case 6:if(M=tn,K=js,tn=null,Ci(f,m,_),tn=M,js=K,tn!==null)if(js)try{(tn.nodeType===9?tn.body:tn.nodeName==="HTML"?tn.ownerDocument.body:tn).removeChild(_.stateNode)}catch(J){Lr(_,m,J)}else try{tn.removeChild(_.stateNode)}catch(J){Lr(_,m,J)}break;case 18:tn!==null&&(js?(f=tn,fv(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,_.stateNode),Ic(f)):fv(tn,_.stateNode));break;case 4:M=tn,K=js,tn=_.stateNode.containerInfo,js=!0,Ci(f,m,_),tn=M,js=K;break;case 0:case 11:case 14:case 15:ho(2,_,m),kn||ho(4,_,m),Ci(f,m,_);break;case 1:kn||(ei(_,m),M=_.stateNode,typeof M.componentWillUnmount=="function"&&h2(_,m,M)),Ci(f,m,_);break;case 21:Ci(f,m,_);break;case 22:kn=(M=kn)||_.memoizedState!==null,Ci(f,m,_),kn=M;break;default:Ci(f,m,_)}}function v2(f,m){if(m.memoizedState===null&&(f=m.alternate,f!==null&&(f=f.memoizedState,f!==null))){f=f.dehydrated;try{Ic(f)}catch(_){Lr(m,m.return,_)}}}function w2(f,m){if(m.memoizedState===null&&(f=m.alternate,f!==null&&(f=f.memoizedState,f!==null&&(f=f.dehydrated,f!==null))))try{Ic(f)}catch(_){Lr(m,m.return,_)}}function ek(f){switch(f.tag){case 31:case 13:case 19:var m=f.stateNode;return m===null&&(m=f.stateNode=new g2),m;case 22:return f=f.stateNode,m=f._retryCache,m===null&&(m=f._retryCache=new g2),m;default:throw Error(n(435,f.tag))}}function fd(f,m){var _=ek(f);m.forEach(function(M){if(!_.has(M)){_.add(M);var K=ck.bind(null,f,M);M.then(K,K)}})}function Ds(f,m){var _=m.deletions;if(_!==null)for(var M=0;M<_.length;M++){var K=_[M],J=f,oe=m,we=oe;e:for(;we!==null;){switch(we.tag){case 27:if(vo(we.type)){tn=we.stateNode,js=!1;break e}break;case 5:tn=we.stateNode,js=!1;break e;case 3:case 4:tn=we.stateNode.containerInfo,js=!0;break e}we=we.return}if(tn===null)throw Error(n(160));y2(J,oe,K),tn=null,js=!1,J=K.alternate,J!==null&&(J.return=null),K.return=null}if(m.subtreeFlags&13886)for(m=m.child;m!==null;)_2(m,f),m=m.sibling}var ja=null;function _2(f,m){var _=f.alternate,M=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:Ds(m,f),Is(f),M&4&&(ho(3,f,f.return),$u(3,f),ho(5,f,f.return));break;case 1:Ds(m,f),Is(f),M&512&&(kn||_===null||ei(_,_.return)),M&64&&Ni&&(f=f.updateQueue,f!==null&&(M=f.callbacks,M!==null&&(_=f.shared.hiddenCallbacks,f.shared.hiddenCallbacks=_===null?M:_.concat(M))));break;case 26:var K=ja;if(Ds(m,f),Is(f),M&512&&(kn||_===null||ei(_,_.return)),M&4){var J=_!==null?_.memoizedState:null;if(M=f.memoizedState,_===null)if(M===null)if(f.stateNode===null){e:{M=f.type,_=f.memoizedProps,K=K.ownerDocument||K;t:switch(M){case"title":J=K.getElementsByTagName("title")[0],(!J||J[qe]||J[fe]||J.namespaceURI==="http://www.w3.org/2000/svg"||J.hasAttribute("itemprop"))&&(J=K.createElement(M),K.head.insertBefore(J,K.querySelector("head > title"))),Yn(J,M,_),J[fe]=f,Ke(J),M=J;break e;case"link":var oe=_v("link","href",K).get(M+(_.href||""));if(oe){for(var we=0;we<oe.length;we++)if(J=oe[we],J.getAttribute("href")===(_.href==null||_.href===""?null:_.href)&&J.getAttribute("rel")===(_.rel==null?null:_.rel)&&J.getAttribute("title")===(_.title==null?null:_.title)&&J.getAttribute("crossorigin")===(_.crossOrigin==null?null:_.crossOrigin)){oe.splice(we,1);break t}}J=K.createElement(M),Yn(J,M,_),K.head.appendChild(J);break;case"meta":if(oe=_v("meta","content",K).get(M+(_.content||""))){for(we=0;we<oe.length;we++)if(J=oe[we],J.getAttribute("content")===(_.content==null?null:""+_.content)&&J.getAttribute("name")===(_.name==null?null:_.name)&&J.getAttribute("property")===(_.property==null?null:_.property)&&J.getAttribute("http-equiv")===(_.httpEquiv==null?null:_.httpEquiv)&&J.getAttribute("charset")===(_.charSet==null?null:_.charSet)){oe.splice(we,1);break t}}J=K.createElement(M),Yn(J,M,_),K.head.appendChild(J);break;default:throw Error(n(468,M))}J[fe]=f,Ke(J),M=J}f.stateNode=M}else Sv(K,f.type,f.stateNode);else f.stateNode=wv(K,M,f.memoizedProps);else J!==M?(J===null?_.stateNode!==null&&(_=_.stateNode,_.parentNode.removeChild(_)):J.count--,M===null?Sv(K,f.type,f.stateNode):wv(K,M,f.memoizedProps)):M===null&&f.stateNode!==null&&jm(f,f.memoizedProps,_.memoizedProps)}break;case 27:Ds(m,f),Is(f),M&512&&(kn||_===null||ei(_,_.return)),_!==null&&M&4&&jm(f,f.memoizedProps,_.memoizedProps);break;case 5:if(Ds(m,f),Is(f),M&512&&(kn||_===null||ei(_,_.return)),f.flags&32){K=f.stateNode;try{Jr(K,"")}catch(Vt){Lr(f,f.return,Vt)}}M&4&&f.stateNode!=null&&(K=f.memoizedProps,jm(f,K,_!==null?_.memoizedProps:K)),M&1024&&(Om=!0);break;case 6:if(Ds(m,f),Is(f),M&4){if(f.stateNode===null)throw Error(n(162));M=f.memoizedProps,_=f.stateNode;try{_.nodeValue=M}catch(Vt){Lr(f,f.return,Vt)}}break;case 3:if(Ad=null,K=ja,ja=Td(m.containerInfo),Ds(m,f),ja=K,Is(f),M&4&&_!==null&&_.memoizedState.isDehydrated)try{Ic(m.containerInfo)}catch(Vt){Lr(f,f.return,Vt)}Om&&(Om=!1,S2(f));break;case 4:M=ja,ja=Td(f.stateNode.containerInfo),Ds(m,f),Is(f),ja=M;break;case 12:Ds(m,f),Is(f);break;case 31:Ds(m,f),Is(f),M&4&&(M=f.updateQueue,M!==null&&(f.updateQueue=null,fd(f,M)));break;case 13:Ds(m,f),Is(f),f.child.flags&8192&&f.memoizedState!==null!=(_!==null&&_.memoizedState!==null)&&(dd=Pe()),M&4&&(M=f.updateQueue,M!==null&&(f.updateQueue=null,fd(f,M)));break;case 22:K=f.memoizedState!==null;var Be=_!==null&&_.memoizedState!==null,it=Ni,_t=kn;if(Ni=it||K,kn=_t||Be,Ds(m,f),kn=_t,Ni=it,Is(f),M&8192)e:for(m=f.stateNode,m._visibility=K?m._visibility&-2:m._visibility|1,K&&(_===null||Be||Ni||kn||Sl(f)),_=null,m=f;;){if(m.tag===5||m.tag===26){if(_===null){Be=_=m;try{if(J=Be.stateNode,K)oe=J.style,typeof oe.setProperty=="function"?oe.setProperty("display","none","important"):oe.display="none";else{we=Be.stateNode;var Nt=Be.memoizedProps.style,ct=Nt!=null&&Nt.hasOwnProperty("display")?Nt.display:null;we.style.display=ct==null||typeof ct=="boolean"?"":(""+ct).trim()}}catch(Vt){Lr(Be,Be.return,Vt)}}}else if(m.tag===6){if(_===null){Be=m;try{Be.stateNode.nodeValue=K?"":Be.memoizedProps}catch(Vt){Lr(Be,Be.return,Vt)}}}else if(m.tag===18){if(_===null){Be=m;try{var mt=Be.stateNode;K?hv(mt,!0):hv(Be.stateNode,!1)}catch(Vt){Lr(Be,Be.return,Vt)}}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===f)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===f)break e;for(;m.sibling===null;){if(m.return===null||m.return===f)break e;_===m&&(_=null),m=m.return}_===m&&(_=null),m.sibling.return=m.return,m=m.sibling}M&4&&(M=f.updateQueue,M!==null&&(_=M.retryQueue,_!==null&&(M.retryQueue=null,fd(f,_))));break;case 19:Ds(m,f),Is(f),M&4&&(M=f.updateQueue,M!==null&&(f.updateQueue=null,fd(f,M)));break;case 30:break;case 21:break;default:Ds(m,f),Is(f)}}function Is(f){var m=f.flags;if(m&2){try{for(var _,M=f.return;M!==null;){if(p2(M)){_=M;break}M=M.return}if(_==null)throw Error(n(160));switch(_.tag){case 27:var K=_.stateNode,J=Dm(f);ud(f,J,K);break;case 5:var oe=_.stateNode;_.flags&32&&(Jr(oe,""),_.flags&=-33);var we=Dm(f);ud(f,we,oe);break;case 3:case 4:var Be=_.stateNode.containerInfo,it=Dm(f);Im(f,it,Be);break;default:throw Error(n(161))}}catch(_t){Lr(f,f.return,_t)}f.flags&=-3}m&4096&&(f.flags&=-4097)}function S2(f){if(f.subtreeFlags&1024)for(f=f.child;f!==null;){var m=f;S2(m),m.tag===5&&m.flags&1024&&m.stateNode.reset(),f=f.sibling}}function Ri(f,m){if(m.subtreeFlags&8772)for(m=m.child;m!==null;)b2(f,m.alternate,m),m=m.sibling}function Sl(f){for(f=f.child;f!==null;){var m=f;switch(m.tag){case 0:case 11:case 14:case 15:ho(4,m,m.return),Sl(m);break;case 1:ei(m,m.return);var _=m.stateNode;typeof _.componentWillUnmount=="function"&&h2(m,m.return,_),Sl(m);break;case 27:ef(m.stateNode);case 26:case 5:ei(m,m.return),Sl(m);break;case 22:m.memoizedState===null&&Sl(m);break;case 30:Sl(m);break;default:Sl(m)}f=f.sibling}}function Mi(f,m,_){for(_=_&&(m.subtreeFlags&8772)!==0,m=m.child;m!==null;){var M=m.alternate,K=f,J=m,oe=J.flags;switch(J.tag){case 0:case 11:case 15:Mi(K,J,_),$u(4,J);break;case 1:if(Mi(K,J,_),M=J,K=M.stateNode,typeof K.componentDidMount=="function")try{K.componentDidMount()}catch(it){Lr(M,M.return,it)}if(M=J,K=M.updateQueue,K!==null){var we=M.stateNode;try{var Be=K.shared.hiddenCallbacks;if(Be!==null)for(K.shared.hiddenCallbacks=null,K=0;K<Be.length;K++)ey(Be[K],we)}catch(it){Lr(M,M.return,it)}}_&&oe&64&&f2(J),qu(J,J.return);break;case 27:m2(J);case 26:case 5:Mi(K,J,_),_&&M===null&&oe&4&&d2(J),qu(J,J.return);break;case 12:Mi(K,J,_);break;case 31:Mi(K,J,_),_&&oe&4&&v2(K,J);break;case 13:Mi(K,J,_),_&&oe&4&&w2(K,J);break;case 22:J.memoizedState===null&&Mi(K,J,_),qu(J,J.return);break;case 30:break;default:Mi(K,J,_)}m=m.sibling}}function Fm(f,m){var _=null;f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(_=f.memoizedState.cachePool.pool),f=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(f=m.memoizedState.cachePool.pool),f!==_&&(f!=null&&f.refCount++,_!=null&&Mu(_))}function Pm(f,m){f=null,m.alternate!==null&&(f=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==f&&(m.refCount++,f!=null&&Mu(f))}function Da(f,m,_,M){if(m.subtreeFlags&10256)for(m=m.child;m!==null;)k2(f,m,_,M),m=m.sibling}function k2(f,m,_,M){var K=m.flags;switch(m.tag){case 0:case 11:case 15:Da(f,m,_,M),K&2048&&$u(9,m);break;case 1:Da(f,m,_,M);break;case 3:Da(f,m,_,M),K&2048&&(f=null,m.alternate!==null&&(f=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==f&&(m.refCount++,f!=null&&Mu(f)));break;case 12:if(K&2048){Da(f,m,_,M),f=m.stateNode;try{var J=m.memoizedProps,oe=J.id,we=J.onPostCommit;typeof we=="function"&&we(oe,m.alternate===null?"mount":"update",f.passiveEffectDuration,-0)}catch(Be){Lr(m,m.return,Be)}}else Da(f,m,_,M);break;case 31:Da(f,m,_,M);break;case 13:Da(f,m,_,M);break;case 23:break;case 22:J=m.stateNode,oe=m.alternate,m.memoizedState!==null?J._visibility&2?Da(f,m,_,M):Gu(f,m):J._visibility&2?Da(f,m,_,M):(J._visibility|=2,Sc(f,m,_,M,(m.subtreeFlags&10256)!==0||!1)),K&2048&&Fm(oe,m);break;case 24:Da(f,m,_,M),K&2048&&Pm(m.alternate,m);break;default:Da(f,m,_,M)}}function Sc(f,m,_,M,K){for(K=K&&((m.subtreeFlags&10256)!==0||!1),m=m.child;m!==null;){var J=f,oe=m,we=_,Be=M,it=oe.flags;switch(oe.tag){case 0:case 11:case 15:Sc(J,oe,we,Be,K),$u(8,oe);break;case 23:break;case 22:var _t=oe.stateNode;oe.memoizedState!==null?_t._visibility&2?Sc(J,oe,we,Be,K):Gu(J,oe):(_t._visibility|=2,Sc(J,oe,we,Be,K)),K&&it&2048&&Fm(oe.alternate,oe);break;case 24:Sc(J,oe,we,Be,K),K&&it&2048&&Pm(oe.alternate,oe);break;default:Sc(J,oe,we,Be,K)}m=m.sibling}}function Gu(f,m){if(m.subtreeFlags&10256)for(m=m.child;m!==null;){var _=f,M=m,K=M.flags;switch(M.tag){case 22:Gu(_,M),K&2048&&Fm(M.alternate,M);break;case 24:Gu(_,M),K&2048&&Pm(M.alternate,M);break;default:Gu(_,M)}m=m.sibling}}var Wu=8192;function kc(f,m,_){if(f.subtreeFlags&Wu)for(f=f.child;f!==null;)T2(f,m,_),f=f.sibling}function T2(f,m,_){switch(f.tag){case 26:kc(f,m,_),f.flags&Wu&&f.memoizedState!==null&&Uk(_,ja,f.memoizedState,f.memoizedProps);break;case 5:kc(f,m,_);break;case 3:case 4:var M=ja;ja=Td(f.stateNode.containerInfo),kc(f,m,_),ja=M;break;case 22:f.memoizedState===null&&(M=f.alternate,M!==null&&M.memoizedState!==null?(M=Wu,Wu=16777216,kc(f,m,_),Wu=M):kc(f,m,_));break;default:kc(f,m,_)}}function E2(f){var m=f.alternate;if(m!==null&&(f=m.child,f!==null)){m.child=null;do m=f.sibling,f.sibling=null,f=m;while(f!==null)}}function Xu(f){var m=f.deletions;if((f.flags&16)!==0){if(m!==null)for(var _=0;_<m.length;_++){var M=m[_];Ln=M,N2(M,f)}E2(f)}if(f.subtreeFlags&10256)for(f=f.child;f!==null;)A2(f),f=f.sibling}function A2(f){switch(f.tag){case 0:case 11:case 15:Xu(f),f.flags&2048&&ho(9,f,f.return);break;case 3:Xu(f);break;case 12:Xu(f);break;case 22:var m=f.stateNode;f.memoizedState!==null&&m._visibility&2&&(f.return===null||f.return.tag!==13)?(m._visibility&=-3,hd(f)):Xu(f);break;default:Xu(f)}}function hd(f){var m=f.deletions;if((f.flags&16)!==0){if(m!==null)for(var _=0;_<m.length;_++){var M=m[_];Ln=M,N2(M,f)}E2(f)}for(f=f.child;f!==null;){switch(m=f,m.tag){case 0:case 11:case 15:ho(8,m,m.return),hd(m);break;case 22:_=m.stateNode,_._visibility&2&&(_._visibility&=-3,hd(m));break;default:hd(m)}f=f.sibling}}function N2(f,m){for(;Ln!==null;){var _=Ln;switch(_.tag){case 0:case 11:case 15:ho(8,_,m);break;case 23:case 22:if(_.memoizedState!==null&&_.memoizedState.cachePool!==null){var M=_.memoizedState.cachePool.pool;M!=null&&M.refCount++}break;case 24:Mu(_.memoizedState.cache)}if(M=_.child,M!==null)M.return=_,Ln=M;else e:for(_=f;Ln!==null;){M=Ln;var K=M.sibling,J=M.return;if(x2(M),M===_){Ln=null;break e}if(K!==null){K.return=J,Ln=K;break e}Ln=J}}}var tk={getCacheForType:function(f){var m=Wn(wn),_=m.data.get(f);return _===void 0&&(_=f(),m.data.set(f,_)),_},cacheSignal:function(){return Wn(wn).controller.signal}},rk=typeof WeakMap=="function"?WeakMap:Map,Or=0,qr=null,xr=null,vr=0,Pr=0,Qs=null,po=!1,Tc=!1,Lm=!1,ji=0,on=0,mo=0,kl=0,Bm=0,Zs=0,Ec=0,Yu=null,Os=null,Um=!1,dd=0,C2=0,pd=1/0,md=null,go=null,Dn=0,bo=null,Ac=null,Di=0,Vm=0,zm=null,R2=null,Ku=0,Hm=null;function Js(){return(Or&2)!==0&&vr!==0?vr&-vr:S.T!==null?Ym():ce()}function M2(){if(Zs===0)if((vr&536870912)===0||Tr){var f=Et;Et<<=1,(Et&3932160)===0&&(Et=262144),Zs=f}else Zs=536870912;return f=Ys.current,f!==null&&(f.flags|=32),Zs}function Fs(f,m,_){(f===qr&&(Pr===2||Pr===9)||f.cancelPendingCommit!==null)&&(Nc(f,0),xo(f,vr,Zs,!1)),wt(f,_),((Or&2)===0||f!==qr)&&(f===qr&&((Or&2)===0&&(kl|=_),on===4&&xo(f,vr,Zs,!1)),ti(f))}function j2(f,m,_){if((Or&6)!==0)throw Error(n(327));var M=!_&&(m&127)===0&&(m&f.expiredLanes)===0||pt(f,m),K=M?ak(f,m):qm(f,m,!0),J=M;do{if(K===0){Tc&&!M&&xo(f,m,0,!1);break}else{if(_=f.current.alternate,J&&!nk(_)){K=qm(f,m,!1),J=!1;continue}if(K===2){if(J=m,f.errorRecoveryDisabledLanes&J)var oe=0;else oe=f.pendingLanes&-536870913,oe=oe!==0?oe:oe&536870912?536870912:0;if(oe!==0){m=oe;e:{var we=f;K=Yu;var Be=we.current.memoizedState.isDehydrated;if(Be&&(Nc(we,oe).flags|=256),oe=qm(we,oe,!1),oe!==2){if(Lm&&!Be){we.errorRecoveryDisabledLanes|=J,kl|=J,K=4;break e}J=Os,Os=K,J!==null&&(Os===null?Os=J:Os.push.apply(Os,J))}K=oe}if(J=!1,K!==2)continue}}if(K===1){Nc(f,0),xo(f,m,0,!0);break}e:{switch(M=f,J=K,J){case 0:case 1:throw Error(n(345));case 4:if((m&4194048)!==m)break;case 6:xo(M,m,Zs,!po);break e;case 2:Os=null;break;case 3:case 5:break;default:throw Error(n(329))}if((m&62914560)===m&&(K=dd+300-Pe(),10<K)){if(xo(M,m,Zs,!po),rt(M,0,!0)!==0)break e;Di=m,M.timeoutHandle=cv(D2.bind(null,M,_,Os,md,Um,m,Zs,kl,Ec,po,J,"Throttled",-0,0),K);break e}D2(M,_,Os,md,Um,m,Zs,kl,Ec,po,J,null,-0,0)}}break}while(!0);ti(f)}function D2(f,m,_,M,K,J,oe,we,Be,it,_t,Nt,ct,mt){if(f.timeoutHandle=-1,Nt=m.subtreeFlags,Nt&8192||(Nt&16785408)===16785408){Nt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:vs},T2(m,J,Nt);var Vt=(J&62914560)===J?dd-Pe():(J&4194048)===J?C2-Pe():0;if(Vt=Vk(Nt,Vt),Vt!==null){Di=J,f.cancelPendingCommit=Vt(V2.bind(null,f,m,J,_,M,K,oe,we,Be,_t,Nt,null,ct,mt)),xo(f,J,oe,!it);return}}V2(f,m,J,_,M,K,oe,we,Be)}function nk(f){for(var m=f;;){var _=m.tag;if((_===0||_===11||_===15)&&m.flags&16384&&(_=m.updateQueue,_!==null&&(_=_.stores,_!==null)))for(var M=0;M<_.length;M++){var K=_[M],J=K.getSnapshot;K=K.value;try{if(!Ws(J(),K))return!1}catch{return!1}}if(_=m.child,m.subtreeFlags&16384&&_!==null)_.return=m,m=_;else{if(m===f)break;for(;m.sibling===null;){if(m.return===null||m.return===f)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function xo(f,m,_,M){m&=~Bm,m&=~kl,f.suspendedLanes|=m,f.pingedLanes&=~m,M&&(f.warmLanes|=m),M=f.expirationTimes;for(var K=m;0<K;){var J=31-Ue(K),oe=1<<J;M[J]=-1,K&=~oe}_!==0&&ht(f,_,m)}function gd(){return(Or&6)===0?(Qu(0),!1):!0}function $m(){if(xr!==null){if(Pr===0)var f=xr.return;else f=xr,_i=ml=null,im(f),xc=null,Du=0,f=xr;for(;f!==null;)u2(f.alternate,f),f=f.return;xr=null}}function Nc(f,m){var _=f.timeoutHandle;_!==-1&&(f.timeoutHandle=-1,Sk(_)),_=f.cancelPendingCommit,_!==null&&(f.cancelPendingCommit=null,_()),Di=0,$m(),qr=f,xr=_=vi(f.current,null),vr=m,Pr=0,Qs=null,po=!1,Tc=pt(f,m),Lm=!1,Ec=Zs=Bm=kl=mo=on=0,Os=Yu=null,Um=!1,(m&8)!==0&&(m|=m&32);var M=f.entangledLanes;if(M!==0)for(f=f.entanglements,M&=m;0<M;){var K=31-Ue(M),J=1<<K;m|=f[K],M&=~J}return ji=m,Ph(),_}function I2(f,m){ur=null,S.H=Vu,m===bc||m===qh?(m=Kx(),Pr=3):m===Xp?(m=Kx(),Pr=4):Pr=m===_m?8:m!==null&&typeof m=="object"&&typeof m.then=="function"?6:1,Qs=m,xr===null&&(on=1,ad(f,ca(m,f.current)))}function O2(){var f=Ys.current;return f===null?!0:(vr&4194048)===vr?da===null:(vr&62914560)===vr||(vr&536870912)!==0?f===da:!1}function F2(){var f=S.H;return S.H=Vu,f===null?Vu:f}function P2(){var f=S.A;return S.A=tk,f}function bd(){on=4,po||(vr&4194048)!==vr&&Ys.current!==null||(Tc=!0),(mo&134217727)===0&&(kl&134217727)===0||qr===null||xo(qr,vr,Zs,!1)}function qm(f,m,_){var M=Or;Or|=2;var K=F2(),J=P2();(qr!==f||vr!==m)&&(md=null,Nc(f,m)),m=!1;var oe=on;e:do try{if(Pr!==0&&xr!==null){var we=xr,Be=Qs;switch(Pr){case 8:$m(),oe=6;break e;case 3:case 2:case 9:case 6:Ys.current===null&&(m=!0);var it=Pr;if(Pr=0,Qs=null,Cc(f,we,Be,it),_&&Tc){oe=0;break e}break;default:it=Pr,Pr=0,Qs=null,Cc(f,we,Be,it)}}sk(),oe=on;break}catch(_t){I2(f,_t)}while(!0);return m&&f.shellSuspendCounter++,_i=ml=null,Or=M,S.H=K,S.A=J,xr===null&&(qr=null,vr=0,Ph()),oe}function sk(){for(;xr!==null;)L2(xr)}function ak(f,m){var _=Or;Or|=2;var M=F2(),K=P2();qr!==f||vr!==m?(md=null,pd=Pe()+500,Nc(f,m)):Tc=pt(f,m);e:do try{if(Pr!==0&&xr!==null){m=xr;var J=Qs;t:switch(Pr){case 1:Pr=0,Qs=null,Cc(f,m,J,1);break;case 2:case 9:if(Xx(J)){Pr=0,Qs=null,B2(m);break}m=function(){Pr!==2&&Pr!==9||qr!==f||(Pr=7),ti(f)},J.then(m,m);break e;case 3:Pr=7;break e;case 4:Pr=5;break e;case 7:Xx(J)?(Pr=0,Qs=null,B2(m)):(Pr=0,Qs=null,Cc(f,m,J,7));break;case 5:var oe=null;switch(xr.tag){case 26:oe=xr.memoizedState;case 5:case 27:var we=xr;if(oe?kv(oe):we.stateNode.complete){Pr=0,Qs=null;var Be=we.sibling;if(Be!==null)xr=Be;else{var it=we.return;it!==null?(xr=it,xd(it)):xr=null}break t}}Pr=0,Qs=null,Cc(f,m,J,5);break;case 6:Pr=0,Qs=null,Cc(f,m,J,6);break;case 8:$m(),on=6;break e;default:throw Error(n(462))}}ik();break}catch(_t){I2(f,_t)}while(!0);return _i=ml=null,S.H=M,S.A=K,Or=_,xr!==null?0:(qr=null,vr=0,Ph(),on)}function ik(){for(;xr!==null&&!Re();)L2(xr)}function L2(f){var m=l2(f.alternate,f,ji);f.memoizedProps=f.pendingProps,m===null?xd(f):xr=m}function B2(f){var m=f,_=m.alternate;switch(m.tag){case 15:case 0:m=r2(_,m,m.pendingProps,m.type,void 0,vr);break;case 11:m=r2(_,m,m.pendingProps,m.type.render,m.ref,vr);break;case 5:im(m);default:u2(_,m),m=xr=Px(m,ji),m=l2(_,m,ji)}f.memoizedProps=f.pendingProps,m===null?xd(f):xr=m}function Cc(f,m,_,M){_i=ml=null,im(m),xc=null,Du=0;var K=m.return;try{if(XS(f,K,m,_,vr)){on=1,ad(f,ca(_,f.current)),xr=null;return}}catch(J){if(K!==null)throw xr=K,J;on=1,ad(f,ca(_,f.current)),xr=null;return}m.flags&32768?(Tr||M===1?f=!0:Tc||(vr&536870912)!==0?f=!1:(po=f=!0,(M===2||M===9||M===3||M===6)&&(M=Ys.current,M!==null&&M.tag===13&&(M.flags|=16384))),U2(m,f)):xd(m)}function xd(f){var m=f;do{if((m.flags&32768)!==0){U2(m,po);return}f=m.return;var _=QS(m.alternate,m,ji);if(_!==null){xr=_;return}if(m=m.sibling,m!==null){xr=m;return}xr=m=f}while(m!==null);on===0&&(on=5)}function U2(f,m){do{var _=ZS(f.alternate,f);if(_!==null){_.flags&=32767,xr=_;return}if(_=f.return,_!==null&&(_.flags|=32768,_.subtreeFlags=0,_.deletions=null),!m&&(f=f.sibling,f!==null)){xr=f;return}xr=f=_}while(f!==null);on=6,xr=null}function V2(f,m,_,M,K,J,oe,we,Be){f.cancelPendingCommit=null;do yd();while(Dn!==0);if((Or&6)!==0)throw Error(n(327));if(m!==null){if(m===f.current)throw Error(n(177));if(J=m.lanes|m.childLanes,J|=Dp,ze(f,_,J,oe,we,Be),f===qr&&(xr=qr=null,vr=0),Ac=m,bo=f,Di=_,Vm=J,zm=K,R2=M,(m.subtreeFlags&10256)!==0||(m.flags&10256)!==0?(f.callbackNode=null,f.callbackPriority=0,uk(Xe,function(){return G2(),null})):(f.callbackNode=null,f.callbackPriority=0),M=(m.flags&13878)!==0,(m.subtreeFlags&13878)!==0||M){M=S.T,S.T=null,K=T.p,T.p=2,oe=Or,Or|=4;try{JS(f,m,_)}finally{Or=oe,T.p=K,S.T=M}}Dn=1,z2(),H2(),$2()}}function z2(){if(Dn===1){Dn=0;var f=bo,m=Ac,_=(m.flags&13878)!==0;if((m.subtreeFlags&13878)!==0||_){_=S.T,S.T=null;var M=T.p;T.p=2;var K=Or;Or|=4;try{_2(m,f);var J=ng,oe=Nx(f.containerInfo),we=J.focusedElem,Be=J.selectionRange;if(oe!==we&&we&&we.ownerDocument&&Ax(we.ownerDocument.documentElement,we)){if(Be!==null&&Np(we)){var it=Be.start,_t=Be.end;if(_t===void 0&&(_t=it),"selectionStart"in we)we.selectionStart=it,we.selectionEnd=Math.min(_t,we.value.length);else{var Nt=we.ownerDocument||document,ct=Nt&&Nt.defaultView||window;if(ct.getSelection){var mt=ct.getSelection(),Vt=we.textContent.length,Yt=Math.min(Be.start,Vt),zr=Be.end===void 0?Yt:Math.min(Be.end,Vt);!mt.extend&&Yt>zr&&(oe=zr,zr=Yt,Yt=oe);var tt=Ex(we,Yt),Ge=Ex(we,zr);if(tt&&Ge&&(mt.rangeCount!==1||mt.anchorNode!==tt.node||mt.anchorOffset!==tt.offset||mt.focusNode!==Ge.node||mt.focusOffset!==Ge.offset)){var at=Nt.createRange();at.setStart(tt.node,tt.offset),mt.removeAllRanges(),Yt>zr?(mt.addRange(at),mt.extend(Ge.node,Ge.offset)):(at.setEnd(Ge.node,Ge.offset),mt.addRange(at))}}}}for(Nt=[],mt=we;mt=mt.parentNode;)mt.nodeType===1&&Nt.push({element:mt,left:mt.scrollLeft,top:mt.scrollTop});for(typeof we.focus=="function"&&we.focus(),we=0;we<Nt.length;we++){var Tt=Nt[we];Tt.element.scrollLeft=Tt.left,Tt.element.scrollTop=Tt.top}}Md=!!rg,ng=rg=null}finally{Or=K,T.p=M,S.T=_}}f.current=m,Dn=2}}function H2(){if(Dn===2){Dn=0;var f=bo,m=Ac,_=(m.flags&8772)!==0;if((m.subtreeFlags&8772)!==0||_){_=S.T,S.T=null;var M=T.p;T.p=2;var K=Or;Or|=4;try{b2(f,m.alternate,m)}finally{Or=K,T.p=M,S.T=_}}Dn=3}}function $2(){if(Dn===4||Dn===3){Dn=0,$e();var f=bo,m=Ac,_=Di,M=R2;(m.subtreeFlags&10256)!==0||(m.flags&10256)!==0?Dn=5:(Dn=0,Ac=bo=null,q2(f,f.pendingLanes));var K=f.pendingLanes;if(K===0&&(go=null),et(_),m=m.stateNode,Ie&&typeof Ie.onCommitFiberRoot=="function")try{Ie.onCommitFiberRoot(Ne,m,void 0,(m.current.flags&128)===128)}catch{}if(M!==null){m=S.T,K=T.p,T.p=2,S.T=null;try{for(var J=f.onRecoverableError,oe=0;oe<M.length;oe++){var we=M[oe];J(we.value,{componentStack:we.stack})}}finally{S.T=m,T.p=K}}(Di&3)!==0&&yd(),ti(f),K=f.pendingLanes,(_&261930)!==0&&(K&42)!==0?f===Hm?Ku++:(Ku=0,Hm=f):Ku=0,Qu(0)}}function q2(f,m){(f.pooledCacheLanes&=m)===0&&(m=f.pooledCache,m!=null&&(f.pooledCache=null,Mu(m)))}function yd(){return z2(),H2(),$2(),G2()}function G2(){if(Dn!==5)return!1;var f=bo,m=Vm;Vm=0;var _=et(Di),M=S.T,K=T.p;try{T.p=32>_?32:_,S.T=null,_=zm,zm=null;var J=bo,oe=Di;if(Dn=0,Ac=bo=null,Di=0,(Or&6)!==0)throw Error(n(331));var we=Or;if(Or|=4,A2(J.current),k2(J,J.current,oe,_),Or=we,Qu(0,!1),Ie&&typeof Ie.onPostCommitFiberRoot=="function")try{Ie.onPostCommitFiberRoot(Ne,J)}catch{}return!0}finally{T.p=K,S.T=M,q2(f,m)}}function W2(f,m,_){m=ca(_,m),m=wm(f.stateNode,m,2),f=co(f,m,2),f!==null&&(wt(f,2),ti(f))}function Lr(f,m,_){if(f.tag===3)W2(f,f,_);else for(;m!==null;){if(m.tag===3){W2(m,f,_);break}else if(m.tag===1){var M=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(go===null||!go.has(M))){f=ca(_,f),_=Xy(2),M=co(m,_,2),M!==null&&(Yy(_,M,m,f),wt(M,2),ti(M));break}}m=m.return}}function Gm(f,m,_){var M=f.pingCache;if(M===null){M=f.pingCache=new rk;var K=new Set;M.set(m,K)}else K=M.get(m),K===void 0&&(K=new Set,M.set(m,K));K.has(_)||(Lm=!0,K.add(_),f=ok.bind(null,f,m,_),m.then(f,f))}function ok(f,m,_){var M=f.pingCache;M!==null&&M.delete(m),f.pingedLanes|=f.suspendedLanes&_,f.warmLanes&=~_,qr===f&&(vr&_)===_&&(on===4||on===3&&(vr&62914560)===vr&&300>Pe()-dd?(Or&2)===0&&Nc(f,0):Bm|=_,Ec===vr&&(Ec=0)),ti(f)}function X2(f,m){m===0&&(m=Mt()),f=hl(f,m),f!==null&&(wt(f,m),ti(f))}function lk(f){var m=f.memoizedState,_=0;m!==null&&(_=m.retryLane),X2(f,_)}function ck(f,m){var _=0;switch(f.tag){case 31:case 13:var M=f.stateNode,K=f.memoizedState;K!==null&&(_=K.retryLane);break;case 19:M=f.stateNode;break;case 22:M=f.stateNode._retryCache;break;default:throw Error(n(314))}M!==null&&M.delete(m),X2(f,_)}function uk(f,m){return Te(f,m)}var vd=null,Rc=null,Wm=!1,wd=!1,Xm=!1,yo=0;function ti(f){f!==Rc&&f.next===null&&(Rc===null?vd=Rc=f:Rc=Rc.next=f),wd=!0,Wm||(Wm=!0,hk())}function Qu(f,m){if(!Xm&&wd){Xm=!0;do for(var _=!1,M=vd;M!==null;){if(f!==0){var K=M.pendingLanes;if(K===0)var J=0;else{var oe=M.suspendedLanes,we=M.pingedLanes;J=(1<<31-Ue(42|f)+1)-1,J&=K&~(oe&~we),J=J&201326741?J&201326741|1:J?J|2:0}J!==0&&(_=!0,Z2(M,J))}else J=vr,J=rt(M,M===qr?J:0,M.cancelPendingCommit!==null||M.timeoutHandle!==-1),(J&3)===0||pt(M,J)||(_=!0,Z2(M,J));M=M.next}while(_);Xm=!1}}function fk(){Y2()}function Y2(){wd=Wm=!1;var f=0;yo!==0&&_k()&&(f=yo);for(var m=Pe(),_=null,M=vd;M!==null;){var K=M.next,J=K2(M,m);J===0?(M.next=null,_===null?vd=K:_.next=K,K===null&&(Rc=_)):(_=M,(f!==0||(J&3)!==0)&&(wd=!0)),M=K}Dn!==0&&Dn!==5||Qu(f),yo!==0&&(yo=0)}function K2(f,m){for(var _=f.suspendedLanes,M=f.pingedLanes,K=f.expirationTimes,J=f.pendingLanes&-62914561;0<J;){var oe=31-Ue(J),we=1<<oe,Be=K[oe];Be===-1?((we&_)===0||(we&M)!==0)&&(K[oe]=ft(we,m)):Be<=m&&(f.expiredLanes|=we),J&=~we}if(m=qr,_=vr,_=rt(f,f===m?_:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),M=f.callbackNode,_===0||f===m&&(Pr===2||Pr===9)||f.cancelPendingCommit!==null)return M!==null&&M!==null&&ke(M),f.callbackNode=null,f.callbackPriority=0;if((_&3)===0||pt(f,_)){if(m=_&-_,m===f.callbackPriority)return m;switch(M!==null&&ke(M),et(_)){case 2:case 8:_=Ye;break;case 32:_=Xe;break;case 268435456:_=ot;break;default:_=Xe}return M=Q2.bind(null,f),_=Te(_,M),f.callbackPriority=m,f.callbackNode=_,m}return M!==null&&M!==null&&ke(M),f.callbackPriority=2,f.callbackNode=null,2}function Q2(f,m){if(Dn!==0&&Dn!==5)return f.callbackNode=null,f.callbackPriority=0,null;var _=f.callbackNode;if(yd()&&f.callbackNode!==_)return null;var M=vr;return M=rt(f,f===qr?M:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),M===0?null:(j2(f,M,m),K2(f,Pe()),f.callbackNode!=null&&f.callbackNode===_?Q2.bind(null,f):null)}function Z2(f,m){if(yd())return null;j2(f,m,!0)}function hk(){kk(function(){(Or&6)!==0?Te(Ze,fk):Y2()})}function Ym(){if(yo===0){var f=mc;f===0&&(f=nt,nt<<=1,(nt&261888)===0&&(nt=256)),yo=f}return yo}function J2(f){return f==null||typeof f=="symbol"||typeof f=="boolean"?null:typeof f=="function"?f:Ta(""+f)}function ev(f,m){var _=m.ownerDocument.createElement("input");return _.name=m.name,_.value=m.value,f.id&&_.setAttribute("form",f.id),m.parentNode.insertBefore(_,m),f=new FormData(f),_.parentNode.removeChild(_),f}function dk(f,m,_,M,K){if(m==="submit"&&_&&_.stateNode===K){var J=J2((K[he]||null).action),oe=M.submitter;oe&&(m=(m=oe[he]||null)?J2(m.formAction):oe.getAttribute("formAction"),m!==null&&(J=m,oe=null));var we=new Xa("action","action",null,M,K);f.push({event:we,listeners:[{instance:null,listener:function(){if(M.defaultPrevented){if(yo!==0){var Be=oe?ev(K,oe):new FormData(K);mm(_,{pending:!0,data:Be,method:K.method,action:J},null,Be)}}else typeof J=="function"&&(we.preventDefault(),Be=oe?ev(K,oe):new FormData(K),mm(_,{pending:!0,data:Be,method:K.method,action:J},J,Be))},currentTarget:K}]})}}for(var Km=0;Km<jp.length;Km++){var Qm=jp[Km],pk=Qm.toLowerCase(),mk=Qm[0].toUpperCase()+Qm.slice(1);Ma(pk,"on"+mk)}Ma(Mx,"onAnimationEnd"),Ma(jx,"onAnimationIteration"),Ma(Dx,"onAnimationStart"),Ma("dblclick","onDoubleClick"),Ma("focusin","onFocus"),Ma("focusout","onBlur"),Ma(MS,"onTransitionRun"),Ma(jS,"onTransitionStart"),Ma(DS,"onTransitionCancel"),Ma(Ix,"onTransitionEnd"),Dt("onMouseEnter",["mouseout","mouseover"]),Dt("onMouseLeave",["mouseout","mouseover"]),Dt("onPointerEnter",["pointerout","pointerover"]),Dt("onPointerLeave",["pointerout","pointerover"]),St("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),St("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),St("onBeforeInput",["compositionend","keypress","textInput","paste"]),St("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),St("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),St("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zu));function tv(f,m){m=(m&4)!==0;for(var _=0;_<f.length;_++){var M=f[_],K=M.event;M=M.listeners;e:{var J=void 0;if(m)for(var oe=M.length-1;0<=oe;oe--){var we=M[oe],Be=we.instance,it=we.currentTarget;if(we=we.listener,Be!==J&&K.isPropagationStopped())break e;J=we,K.currentTarget=it;try{J(K)}catch(_t){Fh(_t)}K.currentTarget=null,J=Be}else for(oe=0;oe<M.length;oe++){if(we=M[oe],Be=we.instance,it=we.currentTarget,we=we.listener,Be!==J&&K.isPropagationStopped())break e;J=we,K.currentTarget=it;try{J(K)}catch(_t){Fh(_t)}K.currentTarget=null,J=Be}}}}function yr(f,m){var _=m[Ae];_===void 0&&(_=m[Ae]=new Set);var M=f+"__bubble";_.has(M)||(rv(m,f,2,!1),_.add(M))}function Zm(f,m,_){var M=0;m&&(M|=4),rv(_,f,M,m)}var _d="_reactListening"+Math.random().toString(36).slice(2);function Jm(f){if(!f[_d]){f[_d]=!0,gt.forEach(function(_){_!=="selectionchange"&&(gk.has(_)||Zm(_,!1,f),Zm(_,!0,f))});var m=f.nodeType===9?f:f.ownerDocument;m===null||m[_d]||(m[_d]=!0,Zm("selectionchange",!1,m))}}function rv(f,m,_,M){switch(Mv(m)){case 2:var K=$k;break;case 8:K=qk;break;default:K=pg}_=K.bind(null,m,_,f),K=void 0,!sl||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(K=!0),M?K!==void 0?f.addEventListener(m,_,{capture:!0,passive:K}):f.addEventListener(m,_,!0):K!==void 0?f.addEventListener(m,_,{passive:K}):f.addEventListener(m,_,!1)}function eg(f,m,_,M,K){var J=M;if((m&1)===0&&(m&2)===0&&M!==null)e:for(;;){if(M===null)return;var oe=M.tag;if(oe===3||oe===4){var we=M.stateNode.containerInfo;if(we===K)break;if(oe===4)for(oe=M.return;oe!==null;){var Be=oe.tag;if((Be===3||Be===4)&&oe.stateNode.containerInfo===K)return;oe=oe.return}for(;we!==null;){if(oe=vt(we),oe===null)return;if(Be=oe.tag,Be===5||Be===6||Be===26||Be===27){M=J=oe;continue e}we=we.parentNode}}M=M.return}Ji(function(){var it=J,_t=$n(_),Nt=[];e:{var ct=Ox.get(f);if(ct!==void 0){var mt=Xa,Vt=f;switch(f){case"keypress":if(il(_)===0)break e;case"keydown":case"keyup":mt=Dh;break;case"focusin":Vt="focus",mt=ll;break;case"focusout":Vt="blur",mt=ll;break;case"beforeblur":case"afterblur":mt=ll;break;case"click":if(_.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":mt=Su;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":mt=kh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":mt=ne;break;case Mx:case jx:case Dx:mt=Eh;break;case Ix:mt=Se;break;case"scroll":case"scrollend":mt=_u;break;case"wheel":mt=dt;break;case"copy":case"cut":case"paste":mt=Ah;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":mt=yi;break;case"toggle":case"beforetoggle":mt=cr}var Yt=(m&4)!==0,zr=!Yt&&(f==="scroll"||f==="scrollend"),tt=Yt?ct!==null?ct+"Capture":null:ct;Yt=[];for(var Ge=it,at;Ge!==null;){var Tt=Ge;if(at=Tt.stateNode,Tt=Tt.tag,Tt!==5&&Tt!==26&&Tt!==27||at===null||tt===null||(Tt=Aa(Ge,tt),Tt!=null&&Yt.push(Ju(Ge,Tt,at))),zr)break;Ge=Ge.return}0<Yt.length&&(ct=new mt(ct,Vt,null,_,_t),Nt.push({event:ct,listeners:Yt}))}}if((m&7)===0){e:{if(ct=f==="mouseover"||f==="pointerover",mt=f==="mouseout"||f==="pointerout",ct&&_!==Ga&&(Vt=_.relatedTarget||_.fromElement)&&(vt(Vt)||Vt[me]))break e;if((mt||ct)&&(ct=_t.window===_t?_t:(ct=_t.ownerDocument)?ct.defaultView||ct.parentWindow:window,mt?(Vt=_.relatedTarget||_.toElement,mt=it,Vt=Vt?vt(Vt):null,Vt!==null&&(zr=i(Vt),Yt=Vt.tag,Vt!==zr||Yt!==5&&Yt!==27&&Yt!==6)&&(Vt=null)):(mt=null,Vt=it),mt!==Vt)){if(Yt=Su,Tt="onMouseLeave",tt="onMouseEnter",Ge="mouse",(f==="pointerout"||f==="pointerover")&&(Yt=yi,Tt="onPointerLeave",tt="onPointerEnter",Ge="pointer"),zr=mt==null?ct:be(mt),at=Vt==null?ct:be(Vt),ct=new Yt(Tt,Ge+"leave",mt,_,_t),ct.target=zr,ct.relatedTarget=at,Tt=null,vt(_t)===it&&(Yt=new Yt(tt,Ge+"enter",Vt,_,_t),Yt.target=at,Yt.relatedTarget=zr,Tt=Yt),zr=Tt,mt&&Vt)t:{for(Yt=bk,tt=mt,Ge=Vt,at=0,Tt=tt;Tt;Tt=Yt(Tt))at++;Tt=0;for(var qt=Ge;qt;qt=Yt(qt))Tt++;for(;0<at-Tt;)tt=Yt(tt),at--;for(;0<Tt-at;)Ge=Yt(Ge),Tt--;for(;at--;){if(tt===Ge||Ge!==null&&tt===Ge.alternate){Yt=tt;break t}tt=Yt(tt),Ge=Yt(Ge)}Yt=null}else Yt=null;mt!==null&&nv(Nt,ct,mt,Yt,!1),Vt!==null&&zr!==null&&nv(Nt,zr,Vt,Yt,!0)}}e:{if(ct=it?be(it):window,mt=ct.nodeName&&ct.nodeName.toLowerCase(),mt==="select"||mt==="input"&&ct.type==="file")var jr=vx;else if(xx(ct))if(wx)jr=NS;else{jr=ES;var Ht=TS}else mt=ct.nodeName,!mt||mt.toLowerCase()!=="input"||ct.type!=="checkbox"&&ct.type!=="radio"?it&&qs(it.elementType)&&(jr=vx):jr=AS;if(jr&&(jr=jr(f,it))){yx(Nt,jr,_,_t);break e}Ht&&Ht(f,ct,it),f==="focusout"&&it&&ct.type==="number"&&it.memoizedProps.value!=null&&Ms(ct,"number",ct.value)}switch(Ht=it?be(it):window,f){case"focusin":(xx(Ht)||Ht.contentEditable==="true")&&(oc=Ht,Cp=it,Nu=null);break;case"focusout":Nu=Cp=oc=null;break;case"mousedown":Rp=!0;break;case"contextmenu":case"mouseup":case"dragend":Rp=!1,Cx(Nt,_,_t);break;case"selectionchange":if(RS)break;case"keydown":case"keyup":Cx(Nt,_,_t)}var pr;if(Ir)e:{switch(f){case"compositionstart":var wr="onCompositionStart";break e;case"compositionend":wr="onCompositionEnd";break e;case"compositionupdate":wr="onCompositionUpdate";break e}wr=void 0}else ic?cl(f,_)&&(wr="onCompositionEnd"):f==="keydown"&&_.keyCode===229&&(wr="onCompositionStart");wr&&(Qa&&_.locale!=="ko"&&(ic||wr!=="onCompositionStart"?wr==="onCompositionEnd"&&ic&&(pr=wu()):(Wa=_t,vu="value"in Wa?Wa.value:Wa.textContent,ic=!0)),Ht=Sd(it,wr),0<Ht.length&&(wr=new Ka(wr,f,null,_,_t),Nt.push({event:wr,listeners:Ht}),pr?wr.data=pr:(pr=ac(_),pr!==null&&(wr.data=pr)))),(pr=oa?wS(f,_):_S(f,_))&&(wr=Sd(it,"onBeforeInput"),0<wr.length&&(Ht=new Ka("onBeforeInput","beforeinput",null,_,_t),Nt.push({event:Ht,listeners:wr}),Ht.data=pr)),dk(Nt,f,it,_,_t)}tv(Nt,m)})}function Ju(f,m,_){return{instance:f,listener:m,currentTarget:_}}function Sd(f,m){for(var _=m+"Capture",M=[];f!==null;){var K=f,J=K.stateNode;if(K=K.tag,K!==5&&K!==26&&K!==27||J===null||(K=Aa(f,_),K!=null&&M.unshift(Ju(f,K,J)),K=Aa(f,m),K!=null&&M.push(Ju(f,K,J))),f.tag===3)return M;f=f.return}return[]}function bk(f){if(f===null)return null;do f=f.return;while(f&&f.tag!==5&&f.tag!==27);return f||null}function nv(f,m,_,M,K){for(var J=m._reactName,oe=[];_!==null&&_!==M;){var we=_,Be=we.alternate,it=we.stateNode;if(we=we.tag,Be!==null&&Be===M)break;we!==5&&we!==26&&we!==27||it===null||(Be=it,K?(it=Aa(_,J),it!=null&&oe.unshift(Ju(_,it,Be))):K||(it=Aa(_,J),it!=null&&oe.push(Ju(_,it,Be)))),_=_.return}oe.length!==0&&f.push({event:m,listeners:oe})}var xk=/\r\n?/g,yk=/\u0000|\uFFFD/g;function sv(f){return(typeof f=="string"?f:""+f).replace(xk,`
`).replace(yk,"")}function av(f,m){return m=sv(m),sv(f)===m}function Vr(f,m,_,M,K,J){switch(_){case"children":typeof M=="string"?m==="body"||m==="textarea"&&M===""||Jr(f,M):(typeof M=="number"||typeof M=="bigint")&&m!=="body"&&Jr(f,""+M);break;case"className":sr(f,"class",M);break;case"tabIndex":sr(f,"tabindex",M);break;case"dir":case"role":case"viewBox":case"width":case"height":sr(f,_,M);break;case"style":qa(f,M,J);break;case"data":if(m!=="object"){sr(f,"data",M);break}case"src":case"href":if(M===""&&(m!=="a"||_!=="href")){f.removeAttribute(_);break}if(M==null||typeof M=="function"||typeof M=="symbol"||typeof M=="boolean"){f.removeAttribute(_);break}M=Ta(""+M),f.setAttribute(_,M);break;case"action":case"formAction":if(typeof M=="function"){f.setAttribute(_,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof J=="function"&&(_==="formAction"?(m!=="input"&&Vr(f,m,"name",K.name,K,null),Vr(f,m,"formEncType",K.formEncType,K,null),Vr(f,m,"formMethod",K.formMethod,K,null),Vr(f,m,"formTarget",K.formTarget,K,null)):(Vr(f,m,"encType",K.encType,K,null),Vr(f,m,"method",K.method,K,null),Vr(f,m,"target",K.target,K,null)));if(M==null||typeof M=="symbol"||typeof M=="boolean"){f.removeAttribute(_);break}M=Ta(""+M),f.setAttribute(_,M);break;case"onClick":M!=null&&(f.onclick=vs);break;case"onScroll":M!=null&&yr("scroll",f);break;case"onScrollEnd":M!=null&&yr("scrollend",f);break;case"dangerouslySetInnerHTML":if(M!=null){if(typeof M!="object"||!("__html"in M))throw Error(n(61));if(_=M.__html,_!=null){if(K.children!=null)throw Error(n(60));f.innerHTML=_}}break;case"multiple":f.multiple=M&&typeof M!="function"&&typeof M!="symbol";break;case"muted":f.muted=M&&typeof M!="function"&&typeof M!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(M==null||typeof M=="function"||typeof M=="boolean"||typeof M=="symbol"){f.removeAttribute("xlink:href");break}_=Ta(""+M),f.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",_);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":M!=null&&typeof M!="function"&&typeof M!="symbol"?f.setAttribute(_,""+M):f.removeAttribute(_);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":M&&typeof M!="function"&&typeof M!="symbol"?f.setAttribute(_,""):f.removeAttribute(_);break;case"capture":case"download":M===!0?f.setAttribute(_,""):M!==!1&&M!=null&&typeof M!="function"&&typeof M!="symbol"?f.setAttribute(_,M):f.removeAttribute(_);break;case"cols":case"rows":case"size":case"span":M!=null&&typeof M!="function"&&typeof M!="symbol"&&!isNaN(M)&&1<=M?f.setAttribute(_,M):f.removeAttribute(_);break;case"rowSpan":case"start":M==null||typeof M=="function"||typeof M=="symbol"||isNaN(M)?f.removeAttribute(_):f.setAttribute(_,M);break;case"popover":yr("beforetoggle",f),yr("toggle",f),er(f,"popover",M);break;case"xlinkActuate":Kt(f,"http://www.w3.org/1999/xlink","xlink:actuate",M);break;case"xlinkArcrole":Kt(f,"http://www.w3.org/1999/xlink","xlink:arcrole",M);break;case"xlinkRole":Kt(f,"http://www.w3.org/1999/xlink","xlink:role",M);break;case"xlinkShow":Kt(f,"http://www.w3.org/1999/xlink","xlink:show",M);break;case"xlinkTitle":Kt(f,"http://www.w3.org/1999/xlink","xlink:title",M);break;case"xlinkType":Kt(f,"http://www.w3.org/1999/xlink","xlink:type",M);break;case"xmlBase":Kt(f,"http://www.w3.org/XML/1998/namespace","xml:base",M);break;case"xmlLang":Kt(f,"http://www.w3.org/XML/1998/namespace","xml:lang",M);break;case"xmlSpace":Kt(f,"http://www.w3.org/XML/1998/namespace","xml:space",M);break;case"is":er(f,"is",M);break;case"innerText":case"textContent":break;default:(!(2<_.length)||_[0]!=="o"&&_[0]!=="O"||_[1]!=="n"&&_[1]!=="N")&&(_=Gs.get(_)||_,er(f,_,M))}}function tg(f,m,_,M,K,J){switch(_){case"style":qa(f,M,J);break;case"dangerouslySetInnerHTML":if(M!=null){if(typeof M!="object"||!("__html"in M))throw Error(n(61));if(_=M.__html,_!=null){if(K.children!=null)throw Error(n(60));f.innerHTML=_}}break;case"children":typeof M=="string"?Jr(f,M):(typeof M=="number"||typeof M=="bigint")&&Jr(f,""+M);break;case"onScroll":M!=null&&yr("scroll",f);break;case"onScrollEnd":M!=null&&yr("scrollend",f);break;case"onClick":M!=null&&(f.onclick=vs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jt.hasOwnProperty(_))e:{if(_[0]==="o"&&_[1]==="n"&&(K=_.endsWith("Capture"),m=_.slice(2,K?_.length-7:void 0),J=f[he]||null,J=J!=null?J[_]:null,typeof J=="function"&&f.removeEventListener(m,J,K),typeof M=="function")){typeof J!="function"&&J!==null&&(_ in f?f[_]=null:f.hasAttribute(_)&&f.removeAttribute(_)),f.addEventListener(m,M,K);break e}_ in f?f[_]=M:M===!0?f.setAttribute(_,""):er(f,_,M)}}}function Yn(f,m,_){switch(m){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":yr("error",f),yr("load",f);var M=!1,K=!1,J;for(J in _)if(_.hasOwnProperty(J)){var oe=_[J];if(oe!=null)switch(J){case"src":M=!0;break;case"srcSet":K=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,m));default:Vr(f,m,J,oe,_,null)}}K&&Vr(f,m,"srcSet",_.srcSet,_,null),M&&Vr(f,m,"src",_.src,_,null);return;case"input":yr("invalid",f);var we=J=oe=K=null,Be=null,it=null;for(M in _)if(_.hasOwnProperty(M)){var _t=_[M];if(_t!=null)switch(M){case"name":K=_t;break;case"type":oe=_t;break;case"checked":Be=_t;break;case"defaultChecked":it=_t;break;case"value":J=_t;break;case"defaultValue":we=_t;break;case"children":case"dangerouslySetInnerHTML":if(_t!=null)throw Error(n(137,m));break;default:Vr(f,m,M,_t,_,null)}}gr(f,J,we,Be,it,oe,K,!1);return;case"select":yr("invalid",f),M=oe=J=null;for(K in _)if(_.hasOwnProperty(K)&&(we=_[K],we!=null))switch(K){case"value":J=we;break;case"defaultValue":oe=we;break;case"multiple":M=we;default:Vr(f,m,K,we,_,null)}m=J,_=oe,f.multiple=!!M,m!=null?ns(f,!!M,m,!1):_!=null&&ns(f,!!M,_,!0);return;case"textarea":yr("invalid",f),J=K=M=null;for(oe in _)if(_.hasOwnProperty(oe)&&(we=_[oe],we!=null))switch(oe){case"value":M=we;break;case"defaultValue":K=we;break;case"children":J=we;break;case"dangerouslySetInnerHTML":if(we!=null)throw Error(n(91));break;default:Vr(f,m,oe,we,_,null)}sn(f,M,K,J);return;case"option":for(Be in _)if(_.hasOwnProperty(Be)&&(M=_[Be],M!=null))switch(Be){case"selected":f.selected=M&&typeof M!="function"&&typeof M!="symbol";break;default:Vr(f,m,Be,M,_,null)}return;case"dialog":yr("beforetoggle",f),yr("toggle",f),yr("cancel",f),yr("close",f);break;case"iframe":case"object":yr("load",f);break;case"video":case"audio":for(M=0;M<Zu.length;M++)yr(Zu[M],f);break;case"image":yr("error",f),yr("load",f);break;case"details":yr("toggle",f);break;case"embed":case"source":case"link":yr("error",f),yr("load",f);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(it in _)if(_.hasOwnProperty(it)&&(M=_[it],M!=null))switch(it){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,m));default:Vr(f,m,it,M,_,null)}return;default:if(qs(m)){for(_t in _)_.hasOwnProperty(_t)&&(M=_[_t],M!==void 0&&tg(f,m,_t,M,_,void 0));return}}for(we in _)_.hasOwnProperty(we)&&(M=_[we],M!=null&&Vr(f,m,we,M,_,null))}function vk(f,m,_,M){switch(m){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var K=null,J=null,oe=null,we=null,Be=null,it=null,_t=null;for(mt in _){var Nt=_[mt];if(_.hasOwnProperty(mt)&&Nt!=null)switch(mt){case"checked":break;case"value":break;case"defaultValue":Be=Nt;default:M.hasOwnProperty(mt)||Vr(f,m,mt,null,M,Nt)}}for(var ct in M){var mt=M[ct];if(Nt=_[ct],M.hasOwnProperty(ct)&&(mt!=null||Nt!=null))switch(ct){case"type":J=mt;break;case"name":K=mt;break;case"checked":it=mt;break;case"defaultChecked":_t=mt;break;case"value":oe=mt;break;case"defaultValue":we=mt;break;case"children":case"dangerouslySetInnerHTML":if(mt!=null)throw Error(n(137,m));break;default:mt!==Nt&&Vr(f,m,ct,mt,M,Nt)}}br(f,oe,we,Be,it,_t,J,K);return;case"select":mt=oe=we=ct=null;for(J in _)if(Be=_[J],_.hasOwnProperty(J)&&Be!=null)switch(J){case"value":break;case"multiple":mt=Be;default:M.hasOwnProperty(J)||Vr(f,m,J,null,M,Be)}for(K in M)if(J=M[K],Be=_[K],M.hasOwnProperty(K)&&(J!=null||Be!=null))switch(K){case"value":ct=J;break;case"defaultValue":we=J;break;case"multiple":oe=J;default:J!==Be&&Vr(f,m,K,J,M,Be)}m=we,_=oe,M=mt,ct!=null?ns(f,!!_,ct,!1):!!M!=!!_&&(m!=null?ns(f,!!_,m,!0):ns(f,!!_,_?[]:"",!1));return;case"textarea":mt=ct=null;for(we in _)if(K=_[we],_.hasOwnProperty(we)&&K!=null&&!M.hasOwnProperty(we))switch(we){case"value":break;case"children":break;default:Vr(f,m,we,null,M,K)}for(oe in M)if(K=M[oe],J=_[oe],M.hasOwnProperty(oe)&&(K!=null||J!=null))switch(oe){case"value":ct=K;break;case"defaultValue":mt=K;break;case"children":break;case"dangerouslySetInnerHTML":if(K!=null)throw Error(n(91));break;default:K!==J&&Vr(f,m,oe,K,M,J)}gi(f,ct,mt);return;case"option":for(var Vt in _)if(ct=_[Vt],_.hasOwnProperty(Vt)&&ct!=null&&!M.hasOwnProperty(Vt))switch(Vt){case"selected":f.selected=!1;break;default:Vr(f,m,Vt,null,M,ct)}for(Be in M)if(ct=M[Be],mt=_[Be],M.hasOwnProperty(Be)&&ct!==mt&&(ct!=null||mt!=null))switch(Be){case"selected":f.selected=ct&&typeof ct!="function"&&typeof ct!="symbol";break;default:Vr(f,m,Be,ct,M,mt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Yt in _)ct=_[Yt],_.hasOwnProperty(Yt)&&ct!=null&&!M.hasOwnProperty(Yt)&&Vr(f,m,Yt,null,M,ct);for(it in M)if(ct=M[it],mt=_[it],M.hasOwnProperty(it)&&ct!==mt&&(ct!=null||mt!=null))switch(it){case"children":case"dangerouslySetInnerHTML":if(ct!=null)throw Error(n(137,m));break;default:Vr(f,m,it,ct,M,mt)}return;default:if(qs(m)){for(var zr in _)ct=_[zr],_.hasOwnProperty(zr)&&ct!==void 0&&!M.hasOwnProperty(zr)&&tg(f,m,zr,void 0,M,ct);for(_t in M)ct=M[_t],mt=_[_t],!M.hasOwnProperty(_t)||ct===mt||ct===void 0&&mt===void 0||tg(f,m,_t,ct,M,mt);return}}for(var tt in _)ct=_[tt],_.hasOwnProperty(tt)&&ct!=null&&!M.hasOwnProperty(tt)&&Vr(f,m,tt,null,M,ct);for(Nt in M)ct=M[Nt],mt=_[Nt],!M.hasOwnProperty(Nt)||ct===mt||ct==null&&mt==null||Vr(f,m,Nt,ct,M,mt)}function iv(f){switch(f){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function wk(){if(typeof performance.getEntriesByType=="function"){for(var f=0,m=0,_=performance.getEntriesByType("resource"),M=0;M<_.length;M++){var K=_[M],J=K.transferSize,oe=K.initiatorType,we=K.duration;if(J&&we&&iv(oe)){for(oe=0,we=K.responseEnd,M+=1;M<_.length;M++){var Be=_[M],it=Be.startTime;if(it>we)break;var _t=Be.transferSize,Nt=Be.initiatorType;_t&&iv(Nt)&&(Be=Be.responseEnd,oe+=_t*(Be<we?1:(we-it)/(Be-it)))}if(--M,m+=8*(J+oe)/(K.duration/1e3),f++,10<f)break}}if(0<f)return m/f/1e6}return navigator.connection&&(f=navigator.connection.downlink,typeof f=="number")?f:5}var rg=null,ng=null;function kd(f){return f.nodeType===9?f:f.ownerDocument}function ov(f){switch(f){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lv(f,m){if(f===0)switch(m){case"svg":return 1;case"math":return 2;default:return 0}return f===1&&m==="foreignObject"?0:f}function sg(f,m){return f==="textarea"||f==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.children=="bigint"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var ag=null;function _k(){var f=window.event;return f&&f.type==="popstate"?f===ag?!1:(ag=f,!0):(ag=null,!1)}var cv=typeof setTimeout=="function"?setTimeout:void 0,Sk=typeof clearTimeout=="function"?clearTimeout:void 0,uv=typeof Promise=="function"?Promise:void 0,kk=typeof queueMicrotask=="function"?queueMicrotask:typeof uv<"u"?function(f){return uv.resolve(null).then(f).catch(Tk)}:cv;function Tk(f){setTimeout(function(){throw f})}function vo(f){return f==="head"}function fv(f,m){var _=m,M=0;do{var K=_.nextSibling;if(f.removeChild(_),K&&K.nodeType===8)if(_=K.data,_==="/$"||_==="/&"){if(M===0){f.removeChild(K),Ic(m);return}M--}else if(_==="$"||_==="$?"||_==="$~"||_==="$!"||_==="&")M++;else if(_==="html")ef(f.ownerDocument.documentElement);else if(_==="head"){_=f.ownerDocument.head,ef(_);for(var J=_.firstChild;J;){var oe=J.nextSibling,we=J.nodeName;J[qe]||we==="SCRIPT"||we==="STYLE"||we==="LINK"&&J.rel.toLowerCase()==="stylesheet"||_.removeChild(J),J=oe}}else _==="body"&&ef(f.ownerDocument.body);_=K}while(_);Ic(m)}function hv(f,m){var _=f;f=0;do{var M=_.nextSibling;if(_.nodeType===1?m?(_._stashedDisplay=_.style.display,_.style.display="none"):(_.style.display=_._stashedDisplay||"",_.getAttribute("style")===""&&_.removeAttribute("style")):_.nodeType===3&&(m?(_._stashedText=_.nodeValue,_.nodeValue=""):_.nodeValue=_._stashedText||""),M&&M.nodeType===8)if(_=M.data,_==="/$"){if(f===0)break;f--}else _!=="$"&&_!=="$?"&&_!=="$~"&&_!=="$!"||f++;_=M}while(_)}function ig(f){var m=f.firstChild;for(m&&m.nodeType===10&&(m=m.nextSibling);m;){var _=m;switch(m=m.nextSibling,_.nodeName){case"HTML":case"HEAD":case"BODY":ig(_),xt(_);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(_.rel.toLowerCase()==="stylesheet")continue}f.removeChild(_)}}function Ek(f,m,_,M){for(;f.nodeType===1;){var K=_;if(f.nodeName.toLowerCase()!==m.toLowerCase()){if(!M&&(f.nodeName!=="INPUT"||f.type!=="hidden"))break}else if(M){if(!f[qe])switch(m){case"meta":if(!f.hasAttribute("itemprop"))break;return f;case"link":if(J=f.getAttribute("rel"),J==="stylesheet"&&f.hasAttribute("data-precedence"))break;if(J!==K.rel||f.getAttribute("href")!==(K.href==null||K.href===""?null:K.href)||f.getAttribute("crossorigin")!==(K.crossOrigin==null?null:K.crossOrigin)||f.getAttribute("title")!==(K.title==null?null:K.title))break;return f;case"style":if(f.hasAttribute("data-precedence"))break;return f;case"script":if(J=f.getAttribute("src"),(J!==(K.src==null?null:K.src)||f.getAttribute("type")!==(K.type==null?null:K.type)||f.getAttribute("crossorigin")!==(K.crossOrigin==null?null:K.crossOrigin))&&J&&f.hasAttribute("async")&&!f.hasAttribute("itemprop"))break;return f;default:return f}}else if(m==="input"&&f.type==="hidden"){var J=K.name==null?null:""+K.name;if(K.type==="hidden"&&f.getAttribute("name")===J)return f}else return f;if(f=pa(f.nextSibling),f===null)break}return null}function Ak(f,m,_){if(m==="")return null;for(;f.nodeType!==3;)if((f.nodeType!==1||f.nodeName!=="INPUT"||f.type!=="hidden")&&!_||(f=pa(f.nextSibling),f===null))return null;return f}function dv(f,m){for(;f.nodeType!==8;)if((f.nodeType!==1||f.nodeName!=="INPUT"||f.type!=="hidden")&&!m||(f=pa(f.nextSibling),f===null))return null;return f}function og(f){return f.data==="$?"||f.data==="$~"}function lg(f){return f.data==="$!"||f.data==="$?"&&f.ownerDocument.readyState!=="loading"}function Nk(f,m){var _=f.ownerDocument;if(f.data==="$~")f._reactRetry=m;else if(f.data!=="$?"||_.readyState!=="loading")m();else{var M=function(){m(),_.removeEventListener("DOMContentLoaded",M)};_.addEventListener("DOMContentLoaded",M),f._reactRetry=M}}function pa(f){for(;f!=null;f=f.nextSibling){var m=f.nodeType;if(m===1||m===3)break;if(m===8){if(m=f.data,m==="$"||m==="$!"||m==="$?"||m==="$~"||m==="&"||m==="F!"||m==="F")break;if(m==="/$"||m==="/&")return null}}return f}var cg=null;function pv(f){f=f.nextSibling;for(var m=0;f;){if(f.nodeType===8){var _=f.data;if(_==="/$"||_==="/&"){if(m===0)return pa(f.nextSibling);m--}else _!=="$"&&_!=="$!"&&_!=="$?"&&_!=="$~"&&_!=="&"||m++}f=f.nextSibling}return null}function mv(f){f=f.previousSibling;for(var m=0;f;){if(f.nodeType===8){var _=f.data;if(_==="$"||_==="$!"||_==="$?"||_==="$~"||_==="&"){if(m===0)return f;m--}else _!=="/$"&&_!=="/&"||m++}f=f.previousSibling}return null}function gv(f,m,_){switch(m=kd(_),f){case"html":if(f=m.documentElement,!f)throw Error(n(452));return f;case"head":if(f=m.head,!f)throw Error(n(453));return f;case"body":if(f=m.body,!f)throw Error(n(454));return f;default:throw Error(n(451))}}function ef(f){for(var m=f.attributes;m.length;)f.removeAttributeNode(m[0]);xt(f)}var ma=new Map,bv=new Set;function Td(f){return typeof f.getRootNode=="function"?f.getRootNode():f.nodeType===9?f:f.ownerDocument}var Ii=T.d;T.d={f:Ck,r:Rk,D:Mk,C:jk,L:Dk,m:Ik,X:Fk,S:Ok,M:Pk};function Ck(){var f=Ii.f(),m=gd();return f||m}function Rk(f){var m=Ct(f);m!==null&&m.tag===5&&m.type==="form"?Iy(m):Ii.r(f)}var Mc=typeof document>"u"?null:document;function xv(f,m,_){var M=Mc;if(M&&typeof m=="string"&&m){var K=pn(m);K='link[rel="'+f+'"][href="'+K+'"]',typeof _=="string"&&(K+='[crossorigin="'+_+'"]'),bv.has(K)||(bv.add(K),f={rel:f,crossOrigin:_,href:m},M.querySelector(K)===null&&(m=M.createElement("link"),Yn(m,"link",f),Ke(m),M.head.appendChild(m)))}}function Mk(f){Ii.D(f),xv("dns-prefetch",f,null)}function jk(f,m){Ii.C(f,m),xv("preconnect",f,m)}function Dk(f,m,_){Ii.L(f,m,_);var M=Mc;if(M&&f&&m){var K='link[rel="preload"][as="'+pn(m)+'"]';m==="image"&&_&&_.imageSrcSet?(K+='[imagesrcset="'+pn(_.imageSrcSet)+'"]',typeof _.imageSizes=="string"&&(K+='[imagesizes="'+pn(_.imageSizes)+'"]')):K+='[href="'+pn(f)+'"]';var J=K;switch(m){case"style":J=jc(f);break;case"script":J=Dc(f)}ma.has(J)||(f=p({rel:"preload",href:m==="image"&&_&&_.imageSrcSet?void 0:f,as:m},_),ma.set(J,f),M.querySelector(K)!==null||m==="style"&&M.querySelector(tf(J))||m==="script"&&M.querySelector(rf(J))||(m=M.createElement("link"),Yn(m,"link",f),Ke(m),M.head.appendChild(m)))}}function Ik(f,m){Ii.m(f,m);var _=Mc;if(_&&f){var M=m&&typeof m.as=="string"?m.as:"script",K='link[rel="modulepreload"][as="'+pn(M)+'"][href="'+pn(f)+'"]',J=K;switch(M){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":J=Dc(f)}if(!ma.has(J)&&(f=p({rel:"modulepreload",href:f},m),ma.set(J,f),_.querySelector(K)===null)){switch(M){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(_.querySelector(rf(J)))return}M=_.createElement("link"),Yn(M,"link",f),Ke(M),_.head.appendChild(M)}}}function Ok(f,m,_){Ii.S(f,m,_);var M=Mc;if(M&&f){var K=Me(M).hoistableStyles,J=jc(f);m=m||"default";var oe=K.get(J);if(!oe){var we={loading:0,preload:null};if(oe=M.querySelector(tf(J)))we.loading=5;else{f=p({rel:"stylesheet",href:f,"data-precedence":m},_),(_=ma.get(J))&&ug(f,_);var Be=oe=M.createElement("link");Ke(Be),Yn(Be,"link",f),Be._p=new Promise(function(it,_t){Be.onload=it,Be.onerror=_t}),Be.addEventListener("load",function(){we.loading|=1}),Be.addEventListener("error",function(){we.loading|=2}),we.loading|=4,Ed(oe,m,M)}oe={type:"stylesheet",instance:oe,count:1,state:we},K.set(J,oe)}}}function Fk(f,m){Ii.X(f,m);var _=Mc;if(_&&f){var M=Me(_).hoistableScripts,K=Dc(f),J=M.get(K);J||(J=_.querySelector(rf(K)),J||(f=p({src:f,async:!0},m),(m=ma.get(K))&&fg(f,m),J=_.createElement("script"),Ke(J),Yn(J,"link",f),_.head.appendChild(J)),J={type:"script",instance:J,count:1,state:null},M.set(K,J))}}function Pk(f,m){Ii.M(f,m);var _=Mc;if(_&&f){var M=Me(_).hoistableScripts,K=Dc(f),J=M.get(K);J||(J=_.querySelector(rf(K)),J||(f=p({src:f,async:!0,type:"module"},m),(m=ma.get(K))&&fg(f,m),J=_.createElement("script"),Ke(J),Yn(J,"link",f),_.head.appendChild(J)),J={type:"script",instance:J,count:1,state:null},M.set(K,J))}}function yv(f,m,_,M){var K=(K=q.current)?Td(K):null;if(!K)throw Error(n(446));switch(f){case"meta":case"title":return null;case"style":return typeof _.precedence=="string"&&typeof _.href=="string"?(m=jc(_.href),_=Me(K).hoistableStyles,M=_.get(m),M||(M={type:"style",instance:null,count:0,state:null},_.set(m,M)),M):{type:"void",instance:null,count:0,state:null};case"link":if(_.rel==="stylesheet"&&typeof _.href=="string"&&typeof _.precedence=="string"){f=jc(_.href);var J=Me(K).hoistableStyles,oe=J.get(f);if(oe||(K=K.ownerDocument||K,oe={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},J.set(f,oe),(J=K.querySelector(tf(f)))&&!J._p&&(oe.instance=J,oe.state.loading=5),ma.has(f)||(_={rel:"preload",as:"style",href:_.href,crossOrigin:_.crossOrigin,integrity:_.integrity,media:_.media,hrefLang:_.hrefLang,referrerPolicy:_.referrerPolicy},ma.set(f,_),J||Lk(K,f,_,oe.state))),m&&M===null)throw Error(n(528,""));return oe}if(m&&M!==null)throw Error(n(529,""));return null;case"script":return m=_.async,_=_.src,typeof _=="string"&&m&&typeof m!="function"&&typeof m!="symbol"?(m=Dc(_),_=Me(K).hoistableScripts,M=_.get(m),M||(M={type:"script",instance:null,count:0,state:null},_.set(m,M)),M):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,f))}}function jc(f){return'href="'+pn(f)+'"'}function tf(f){return'link[rel="stylesheet"]['+f+"]"}function vv(f){return p({},f,{"data-precedence":f.precedence,precedence:null})}function Lk(f,m,_,M){f.querySelector('link[rel="preload"][as="style"]['+m+"]")?M.loading=1:(m=f.createElement("link"),M.preload=m,m.addEventListener("load",function(){return M.loading|=1}),m.addEventListener("error",function(){return M.loading|=2}),Yn(m,"link",_),Ke(m),f.head.appendChild(m))}function Dc(f){return'[src="'+pn(f)+'"]'}function rf(f){return"script[async]"+f}function wv(f,m,_){if(m.count++,m.instance===null)switch(m.type){case"style":var M=f.querySelector('style[data-href~="'+pn(_.href)+'"]');if(M)return m.instance=M,Ke(M),M;var K=p({},_,{"data-href":_.href,"data-precedence":_.precedence,href:null,precedence:null});return M=(f.ownerDocument||f).createElement("style"),Ke(M),Yn(M,"style",K),Ed(M,_.precedence,f),m.instance=M;case"stylesheet":K=jc(_.href);var J=f.querySelector(tf(K));if(J)return m.state.loading|=4,m.instance=J,Ke(J),J;M=vv(_),(K=ma.get(K))&&ug(M,K),J=(f.ownerDocument||f).createElement("link"),Ke(J);var oe=J;return oe._p=new Promise(function(we,Be){oe.onload=we,oe.onerror=Be}),Yn(J,"link",M),m.state.loading|=4,Ed(J,_.precedence,f),m.instance=J;case"script":return J=Dc(_.src),(K=f.querySelector(rf(J)))?(m.instance=K,Ke(K),K):(M=_,(K=ma.get(J))&&(M=p({},_),fg(M,K)),f=f.ownerDocument||f,K=f.createElement("script"),Ke(K),Yn(K,"link",M),f.head.appendChild(K),m.instance=K);case"void":return null;default:throw Error(n(443,m.type))}else m.type==="stylesheet"&&(m.state.loading&4)===0&&(M=m.instance,m.state.loading|=4,Ed(M,_.precedence,f));return m.instance}function Ed(f,m,_){for(var M=_.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),K=M.length?M[M.length-1]:null,J=K,oe=0;oe<M.length;oe++){var we=M[oe];if(we.dataset.precedence===m)J=we;else if(J!==K)break}J?J.parentNode.insertBefore(f,J.nextSibling):(m=_.nodeType===9?_.head:_,m.insertBefore(f,m.firstChild))}function ug(f,m){f.crossOrigin==null&&(f.crossOrigin=m.crossOrigin),f.referrerPolicy==null&&(f.referrerPolicy=m.referrerPolicy),f.title==null&&(f.title=m.title)}function fg(f,m){f.crossOrigin==null&&(f.crossOrigin=m.crossOrigin),f.referrerPolicy==null&&(f.referrerPolicy=m.referrerPolicy),f.integrity==null&&(f.integrity=m.integrity)}var Ad=null;function _v(f,m,_){if(Ad===null){var M=new Map,K=Ad=new Map;K.set(_,M)}else K=Ad,M=K.get(_),M||(M=new Map,K.set(_,M));if(M.has(f))return M;for(M.set(f,null),_=_.getElementsByTagName(f),K=0;K<_.length;K++){var J=_[K];if(!(J[qe]||J[fe]||f==="link"&&J.getAttribute("rel")==="stylesheet")&&J.namespaceURI!=="http://www.w3.org/2000/svg"){var oe=J.getAttribute(m)||"";oe=f+oe;var we=M.get(oe);we?we.push(J):M.set(oe,[J])}}return M}function Sv(f,m,_){f=f.ownerDocument||f,f.head.insertBefore(_,m==="title"?f.querySelector("head > title"):null)}function Bk(f,m,_){if(_===1||m.itemProp!=null)return!1;switch(f){case"meta":case"title":return!0;case"style":if(typeof m.precedence!="string"||typeof m.href!="string"||m.href==="")break;return!0;case"link":if(typeof m.rel!="string"||typeof m.href!="string"||m.href===""||m.onLoad||m.onError)break;switch(m.rel){case"stylesheet":return f=m.disabled,typeof m.precedence=="string"&&f==null;default:return!0}case"script":if(m.async&&typeof m.async!="function"&&typeof m.async!="symbol"&&!m.onLoad&&!m.onError&&m.src&&typeof m.src=="string")return!0}return!1}function kv(f){return!(f.type==="stylesheet"&&(f.state.loading&3)===0)}function Uk(f,m,_,M){if(_.type==="stylesheet"&&(typeof M.media!="string"||matchMedia(M.media).matches!==!1)&&(_.state.loading&4)===0){if(_.instance===null){var K=jc(M.href),J=m.querySelector(tf(K));if(J){m=J._p,m!==null&&typeof m=="object"&&typeof m.then=="function"&&(f.count++,f=Nd.bind(f),m.then(f,f)),_.state.loading|=4,_.instance=J,Ke(J);return}J=m.ownerDocument||m,M=vv(M),(K=ma.get(K))&&ug(M,K),J=J.createElement("link"),Ke(J);var oe=J;oe._p=new Promise(function(we,Be){oe.onload=we,oe.onerror=Be}),Yn(J,"link",M),_.instance=J}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(_,m),(m=_.state.preload)&&(_.state.loading&3)===0&&(f.count++,_=Nd.bind(f),m.addEventListener("load",_),m.addEventListener("error",_))}}var hg=0;function Vk(f,m){return f.stylesheets&&f.count===0&&Rd(f,f.stylesheets),0<f.count||0<f.imgCount?function(_){var M=setTimeout(function(){if(f.stylesheets&&Rd(f,f.stylesheets),f.unsuspend){var J=f.unsuspend;f.unsuspend=null,J()}},6e4+m);0<f.imgBytes&&hg===0&&(hg=62500*wk());var K=setTimeout(function(){if(f.waitingForImages=!1,f.count===0&&(f.stylesheets&&Rd(f,f.stylesheets),f.unsuspend)){var J=f.unsuspend;f.unsuspend=null,J()}},(f.imgBytes>hg?50:800)+m);return f.unsuspend=_,function(){f.unsuspend=null,clearTimeout(M),clearTimeout(K)}}:null}function Nd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Rd(this,this.stylesheets);else if(this.unsuspend){var f=this.unsuspend;this.unsuspend=null,f()}}}var Cd=null;function Rd(f,m){f.stylesheets=null,f.unsuspend!==null&&(f.count++,Cd=new Map,m.forEach(zk,f),Cd=null,Nd.call(f))}function zk(f,m){if(!(m.state.loading&4)){var _=Cd.get(f);if(_)var M=_.get(null);else{_=new Map,Cd.set(f,_);for(var K=f.querySelectorAll("link[data-precedence],style[data-precedence]"),J=0;J<K.length;J++){var oe=K[J];(oe.nodeName==="LINK"||oe.getAttribute("media")!=="not all")&&(_.set(oe.dataset.precedence,oe),M=oe)}M&&_.set(null,M)}K=m.instance,oe=K.getAttribute("data-precedence"),J=_.get(oe)||M,J===M&&_.set(null,K),_.set(oe,K),this.count++,M=Nd.bind(this),K.addEventListener("load",M),K.addEventListener("error",M),J?J.parentNode.insertBefore(K,J.nextSibling):(f=f.nodeType===9?f.head:f,f.insertBefore(K,f.firstChild)),m.state.loading|=4}}var nf={$$typeof:k,Provider:null,Consumer:null,_currentValue:A,_currentValue2:A,_threadCount:0};function Hk(f,m,_,M,K,J,oe,we,Be){this.tag=1,this.containerInfo=f,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=At(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=At(0),this.hiddenUpdates=At(null),this.identifierPrefix=M,this.onUncaughtError=K,this.onCaughtError=J,this.onRecoverableError=oe,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Be,this.incompleteTransitions=new Map}function Tv(f,m,_,M,K,J,oe,we,Be,it,_t,Nt){return f=new Hk(f,m,_,oe,Be,it,_t,Nt,we),m=1,J===!0&&(m|=24),J=Xs(3,null,null,m),f.current=J,J.stateNode=f,m=qp(),m.refCount++,f.pooledCache=m,m.refCount++,J.memoizedState={element:M,isDehydrated:_,cache:m},Yp(J),f}function Ev(f){return f?(f=uc,f):uc}function Av(f,m,_,M,K,J){K=Ev(K),M.context===null?M.context=K:M.pendingContext=K,M=lo(m),M.payload={element:_},J=J===void 0?null:J,J!==null&&(M.callback=J),_=co(f,M,m),_!==null&&(Fs(_,f,m),Ou(_,f,m))}function Nv(f,m){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var _=f.retryLane;f.retryLane=_!==0&&_<m?_:m}}function dg(f,m){Nv(f,m),(f=f.alternate)&&Nv(f,m)}function Cv(f){if(f.tag===13||f.tag===31){var m=hl(f,67108864);m!==null&&Fs(m,f,67108864),dg(f,67108864)}}function Rv(f){if(f.tag===13||f.tag===31){var m=Js();m=Ve(m);var _=hl(f,m);_!==null&&Fs(_,f,m),dg(f,m)}}var Md=!0;function $k(f,m,_,M){var K=S.T;S.T=null;var J=T.p;try{T.p=2,pg(f,m,_,M)}finally{T.p=J,S.T=K}}function qk(f,m,_,M){var K=S.T;S.T=null;var J=T.p;try{T.p=8,pg(f,m,_,M)}finally{T.p=J,S.T=K}}function pg(f,m,_,M){if(Md){var K=mg(M);if(K===null)eg(f,m,M,jd,_),jv(f,M);else if(Wk(K,f,m,_,M))M.stopPropagation();else if(jv(f,M),m&4&&-1<Gk.indexOf(f)){for(;K!==null;){var J=Ct(K);if(J!==null)switch(J.tag){case 3:if(J=J.stateNode,J.current.memoizedState.isDehydrated){var oe=Ce(J.pendingLanes);if(oe!==0){var we=J;for(we.pendingLanes|=2,we.entangledLanes|=2;oe;){var Be=1<<31-Ue(oe);we.entanglements[1]|=Be,oe&=~Be}ti(J),(Or&6)===0&&(pd=Pe()+500,Qu(0))}}break;case 31:case 13:we=hl(J,2),we!==null&&Fs(we,J,2),gd(),dg(J,2)}if(J=mg(M),J===null&&eg(f,m,M,jd,_),J===K)break;K=J}K!==null&&M.stopPropagation()}else eg(f,m,M,null,_)}}function mg(f){return f=$n(f),gg(f)}var jd=null;function gg(f){if(jd=null,f=vt(f),f!==null){var m=i(f);if(m===null)f=null;else{var _=m.tag;if(_===13){if(f=a(m),f!==null)return f;f=null}else if(_===31){if(f=l(m),f!==null)return f;f=null}else if(_===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;f=null}else m!==f&&(f=null)}}return jd=f,null}function Mv(f){switch(f){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Je()){case Ze:return 2;case Ye:return 8;case Xe:case ut:return 32;case ot:return 268435456;default:return 32}default:return 32}}var bg=!1,wo=null,_o=null,So=null,sf=new Map,af=new Map,ko=[],Gk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jv(f,m){switch(f){case"focusin":case"focusout":wo=null;break;case"dragenter":case"dragleave":_o=null;break;case"mouseover":case"mouseout":So=null;break;case"pointerover":case"pointerout":sf.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":af.delete(m.pointerId)}}function of(f,m,_,M,K,J){return f===null||f.nativeEvent!==J?(f={blockedOn:m,domEventName:_,eventSystemFlags:M,nativeEvent:J,targetContainers:[K]},m!==null&&(m=Ct(m),m!==null&&Cv(m)),f):(f.eventSystemFlags|=M,m=f.targetContainers,K!==null&&m.indexOf(K)===-1&&m.push(K),f)}function Wk(f,m,_,M,K){switch(m){case"focusin":return wo=of(wo,f,m,_,M,K),!0;case"dragenter":return _o=of(_o,f,m,_,M,K),!0;case"mouseover":return So=of(So,f,m,_,M,K),!0;case"pointerover":var J=K.pointerId;return sf.set(J,of(sf.get(J)||null,f,m,_,M,K)),!0;case"gotpointercapture":return J=K.pointerId,af.set(J,of(af.get(J)||null,f,m,_,M,K)),!0}return!1}function Dv(f){var m=vt(f.target);if(m!==null){var _=i(m);if(_!==null){if(m=_.tag,m===13){if(m=a(_),m!==null){f.blockedOn=m,ye(f.priority,function(){Rv(_)});return}}else if(m===31){if(m=l(_),m!==null){f.blockedOn=m,ye(f.priority,function(){Rv(_)});return}}else if(m===3&&_.stateNode.current.memoizedState.isDehydrated){f.blockedOn=_.tag===3?_.stateNode.containerInfo:null;return}}}f.blockedOn=null}function Dd(f){if(f.blockedOn!==null)return!1;for(var m=f.targetContainers;0<m.length;){var _=mg(f.nativeEvent);if(_===null){_=f.nativeEvent;var M=new _.constructor(_.type,_);Ga=M,_.target.dispatchEvent(M),Ga=null}else return m=Ct(_),m!==null&&Cv(m),f.blockedOn=_,!1;m.shift()}return!0}function Iv(f,m,_){Dd(f)&&_.delete(m)}function Xk(){bg=!1,wo!==null&&Dd(wo)&&(wo=null),_o!==null&&Dd(_o)&&(_o=null),So!==null&&Dd(So)&&(So=null),sf.forEach(Iv),af.forEach(Iv)}function Id(f,m){f.blockedOn===m&&(f.blockedOn=null,bg||(bg=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Xk)))}var Od=null;function Ov(f){Od!==f&&(Od=f,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Od===f&&(Od=null);for(var m=0;m<f.length;m+=3){var _=f[m],M=f[m+1],K=f[m+2];if(typeof M!="function"){if(gg(M||_)===null)continue;break}var J=Ct(_);J!==null&&(f.splice(m,3),m-=3,mm(J,{pending:!0,data:K,method:_.method,action:M},M,K))}}))}function Ic(f){function m(Be){return Id(Be,f)}wo!==null&&Id(wo,f),_o!==null&&Id(_o,f),So!==null&&Id(So,f),sf.forEach(m),af.forEach(m);for(var _=0;_<ko.length;_++){var M=ko[_];M.blockedOn===f&&(M.blockedOn=null)}for(;0<ko.length&&(_=ko[0],_.blockedOn===null);)Dv(_),_.blockedOn===null&&ko.shift();if(_=(f.ownerDocument||f).$$reactFormReplay,_!=null)for(M=0;M<_.length;M+=3){var K=_[M],J=_[M+1],oe=K[he]||null;if(typeof J=="function")oe||Ov(_);else if(oe){var we=null;if(J&&J.hasAttribute("formAction")){if(K=J,oe=J[he]||null)we=oe.formAction;else if(gg(K)!==null)continue}else we=oe.action;typeof we=="function"?_[M+1]=we:(_.splice(M,3),M-=3),Ov(_)}}}function Fv(){function f(J){J.canIntercept&&J.info==="react-transition"&&J.intercept({handler:function(){return new Promise(function(oe){return K=oe})},focusReset:"manual",scroll:"manual"})}function m(){K!==null&&(K(),K=null),M||setTimeout(_,20)}function _(){if(!M&&!navigation.transition){var J=navigation.currentEntry;J&&J.url!=null&&navigation.navigate(J.url,{state:J.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var M=!1,K=null;return navigation.addEventListener("navigate",f),navigation.addEventListener("navigatesuccess",m),navigation.addEventListener("navigateerror",m),setTimeout(_,100),function(){M=!0,navigation.removeEventListener("navigate",f),navigation.removeEventListener("navigatesuccess",m),navigation.removeEventListener("navigateerror",m),K!==null&&(K(),K=null)}}}function xg(f){this._internalRoot=f}Fd.prototype.render=xg.prototype.render=function(f){var m=this._internalRoot;if(m===null)throw Error(n(409));var _=m.current,M=Js();Av(_,M,f,m,null,null)},Fd.prototype.unmount=xg.prototype.unmount=function(){var f=this._internalRoot;if(f!==null){this._internalRoot=null;var m=f.containerInfo;Av(f.current,2,null,f,null,null),gd(),m[me]=null}};function Fd(f){this._internalRoot=f}Fd.prototype.unstable_scheduleHydration=function(f){if(f){var m=ce();f={blockedOn:null,target:f,priority:m};for(var _=0;_<ko.length&&m!==0&&m<ko[_].priority;_++);ko.splice(_,0,f),_===0&&Dv(f)}};var Pv=t.version;if(Pv!=="19.2.3")throw Error(n(527,Pv,"19.2.3"));T.findDOMNode=function(f){var m=f._reactInternals;if(m===void 0)throw typeof f.render=="function"?Error(n(188)):(f=Object.keys(f).join(","),Error(n(268,f)));return f=o(m),f=f!==null?u(f):null,f=f===null?null:f.stateNode,f};var Yk={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:S,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pd.isDisabled&&Pd.supportsFiber)try{Ne=Pd.inject(Yk),Ie=Pd}catch{}}return cf.createRoot=function(f,m){if(!s(f))throw Error(n(299));var _=!1,M="",K=$y,J=qy,oe=Gy;return m!=null&&(m.unstable_strictMode===!0&&(_=!0),m.identifierPrefix!==void 0&&(M=m.identifierPrefix),m.onUncaughtError!==void 0&&(K=m.onUncaughtError),m.onCaughtError!==void 0&&(J=m.onCaughtError),m.onRecoverableError!==void 0&&(oe=m.onRecoverableError)),m=Tv(f,1,!1,null,null,_,M,null,K,J,oe,Fv),f[me]=m.current,Jm(f),new xg(m)},cf.hydrateRoot=function(f,m,_){if(!s(f))throw Error(n(299));var M=!1,K="",J=$y,oe=qy,we=Gy,Be=null;return _!=null&&(_.unstable_strictMode===!0&&(M=!0),_.identifierPrefix!==void 0&&(K=_.identifierPrefix),_.onUncaughtError!==void 0&&(J=_.onUncaughtError),_.onCaughtError!==void 0&&(oe=_.onCaughtError),_.onRecoverableError!==void 0&&(we=_.onRecoverableError),_.formState!==void 0&&(Be=_.formState)),m=Tv(f,1,!0,m,_??null,M,K,Be,J,oe,we,Fv),m.context=Ev(null),_=m.current,M=Js(),M=Ve(M),K=lo(M),K.callback=null,co(_,K,M),_=M,m.current.lanes=_,wt(m,_),ti(m),f[me]=m.current,Jm(f),new Fd(m)},cf.version="19.2.3",cf}var Wv;function sT(){if(Wv)return wg.exports;Wv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),wg.exports=nT(),wg.exports}var aT=sT();/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oT=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,n)=>n?n.toUpperCase():e.toLowerCase()),Xv=r=>{const t=oT(r);return t.charAt(0).toUpperCase()+t.slice(1)},H4=(...r)=>r.filter((t,e,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===e).join(" ").trim(),lT=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=_e.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:a,...l},c)=>_e.createElement("svg",{ref:c,...cT,width:t,height:t,stroke:r,strokeWidth:n?Number(e)*24/Number(t):e,className:H4("lucide",s),...!i&&!lT(l)&&{"aria-hidden":"true"},...l},[...a.map(([o,u])=>_e.createElement(o,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=(r,t)=>{const e=_e.forwardRef(({className:n,...s},i)=>_e.createElement(uT,{ref:i,iconNode:t,className:H4(`lucide-${iT(Xv(r))}`,`lucide-${r}`,n),...s}));return e.displayName=Xv(r),e};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],hT=Ft("activity",fT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],$4=Ft("arrow-down",dT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],q4=Ft("arrow-left",pT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],gT=Ft("arrow-right",mT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],B1=Ft("arrow-up-down",bT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],G4=Ft("arrow-up",xT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],W4=Ft("banknote",yT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],wT=Ft("building-2",vT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],Oo=Ft("calendar-days",_T);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Zn=Ft("calendar",ST);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=[["path",{d:"M10 2h4",key:"n1abiw"}],["path",{d:"m21 8-2 2-1.5-3.7A2 2 0 0 0 15.646 5H8.4a2 2 0 0 0-1.903 1.257L5 10 3 8",key:"1imjwt"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 14h.01",key:"7oqj8z"}],["rect",{width:"18",height:"8",x:"3",y:"10",rx:"2",key:"a7itu8"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]],ai=Ft("car-taxi-front",kT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],za=Ft("car",TT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],AT=Ft("chart-column",ET);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],CT=Ft("chart-no-axes-column",NT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],t0=Ft("check",RT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],As=Ft("chevron-down",MT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Ha=Ft("chevron-left",jT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Us=Ft("chevron-right",DT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],zc=Ft("chevron-up",IT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],FT=Ft("circle-arrow-down",OT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],LT=Ft("circle-check-big",PT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],K0=Ft("circle-check",BT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]],VT=Ft("circle-dollar-sign",UT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],X4=Ft("circle-plus",zT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]],$T=Ft("circle-stop",HT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],GT=Ft("circle-x",qT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],XT=Ft("circle",WT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Y4=Ft("clipboard-list",YT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Go=Ft("clock",KT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],Yv=Ft("coffee",QT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],JT=Ft("coins",ZT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Pf=Ft("credit-card",eE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Kg=Ft("crown",tE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],nE=Ft("database",rE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],aE=Ft("dollar-sign",sE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],K4=Ft("download",iE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],lE=Ft("file-down",oE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Q4=Ft("file-text",cE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],Z4=Ft("file-up",uE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],Fo=Ft("gauge",fE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],J4=Ft("globe",hE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],p0=Ft("info",dE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]],mE=Ft("layout-list",pE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Al=Ft("loader-circle",gE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Qg=Ft("lock",bE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],e3=Ft("log-out",xE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Lf=Ft("map-pin",yE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=[["path",{d:"M18 8c0 3.613-3.869 7.429-5.393 8.795a1 1 0 0 1-1.214 0C9.87 15.429 6 11.613 6 8a6 6 0 0 1 12 0",key:"11u0oz"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.714 14h-3.71a1 1 0 0 0-.948.683l-2.004 6A1 1 0 0 0 3 22h18a1 1 0 0 0 .948-1.316l-2-6a1 1 0 0 0-.949-.684h-3.712",key:"q8zwxj"}]],Zg=Ft("map-pinned",vE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],_E=Ft("map",wE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],kE=Ft("message-circle",SE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],U1=Ft("message-square",TE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],AE=Ft("monitor",EE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],CE=Ft("navigation",NE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Kv=Ft("pen",RE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Qv=Ft("play",ME);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],t3=Ft("qr-code",jE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],IE=Ft("save",DE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Zv=Ft("search",OE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],V1=Ft("settings",FE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],LE=Ft("shield-alert",PE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],UE=Ft("shield-check",BE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],z1=Ft("shield",VE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],H1=Ft("skull",zE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Jg=Ft("smartphone",HE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],r3=Ft("sparkles",$E);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],GE=Ft("square-check-big",qE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Po=Ft("target",WE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],YE=Ft("ticket",XE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],QE=Ft("timer",KE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=[["path",{d:"M8 3.1V7a4 4 0 0 0 8 0V3.1",key:"1v71zp"}],["path",{d:"m9 15-1-1",key:"1yrq24"}],["path",{d:"m15 15 1-1",key:"1t0d6s"}],["path",{d:"M9 19c-2.8 0-5-2.2-5-5v-4a8 8 0 0 1 16 0v4c0 2.8-2.2 5-5 5Z",key:"1p0hjs"}],["path",{d:"m8 19-2 3",key:"13i0xs"}],["path",{d:"m16 19 2 3",key:"xo31yx"}]],JE=Ft("train-front",ZE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e9=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],m0=Ft("trash-2",e9);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t9=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],g0=Ft("trending-up",t9);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r9=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],n9=Ft("triangle-alert",r9);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s9=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Hc=Ft("trophy",s9);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a9=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],i9=Ft("user-check",a9);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],l9=Ft("user-plus",o9);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c9=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ll=Ft("user",c9);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u9=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],jl=Ft("users",u9);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=[["path",{d:"M12 10v2.2l1.6 1",key:"n3r21l"}],["path",{d:"m16.13 7.66-.81-4.05a2 2 0 0 0-2-1.61h-2.68a2 2 0 0 0-2 1.61l-.78 4.05",key:"18k57s"}],["path",{d:"m7.88 16.36.8 4a2 2 0 0 0 2 1.61h2.72a2 2 0 0 0 2-1.61l.81-4.05",key:"16ny36"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}]],h9=Ft("watch",f9);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d9=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Vn=Ft("x",d9);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p9=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],m9=Ft("zap",p9),g9=()=>{};var Jv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3=function(r){const t=[];let e=0;for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);s<128?t[e++]=s:s<2048?(t[e++]=s>>6|192,t[e++]=s&63|128):(s&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(r.charCodeAt(++n)&1023),t[e++]=s>>18|240,t[e++]=s>>12&63|128,t[e++]=s>>6&63|128,t[e++]=s&63|128):(t[e++]=s>>12|224,t[e++]=s>>6&63|128,t[e++]=s&63|128)}return t},b9=function(r){const t=[];let e=0,n=0;for(;e<r.length;){const s=r[e++];if(s<128)t[n++]=String.fromCharCode(s);else if(s>191&&s<224){const i=r[e++];t[n++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=r[e++],a=r[e++],l=r[e++],c=((s&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;t[n++]=String.fromCharCode(55296+(c>>10)),t[n++]=String.fromCharCode(56320+(c&1023))}else{const i=r[e++],a=r[e++];t[n++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return t.join("")},s3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<r.length;s+=3){const i=r[s],a=s+1<r.length,l=a?r[s+1]:0,c=s+2<r.length,o=c?r[s+2]:0,u=i>>2,p=(i&3)<<4|l>>4;let h=(l&15)<<2|o>>6,d=o&63;c||(d=64,a||(h=64)),n.push(e[u],e[p],e[h],e[d])}return n.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(n3(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):b9(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<r.length;){const i=e[r.charAt(s++)],l=s<r.length?e[r.charAt(s)]:0;++s;const o=s<r.length?e[r.charAt(s)]:64;++s;const p=s<r.length?e[r.charAt(s)]:64;if(++s,i==null||l==null||o==null||p==null)throw new x9;const h=i<<2|l>>4;if(n.push(h),o!==64){const d=l<<4&240|o>>2;if(n.push(d),p!==64){const b=o<<6&192|p;n.push(b)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class x9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const y9=function(r){const t=n3(r);return s3.encodeByteArray(t,!0)},b0=function(r){return y9(r).replace(/\./g,"")},a3=function(r){try{return s3.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9=()=>v9().__FIREBASE_DEFAULTS__,_9=()=>{if(typeof process>"u"||typeof Jv>"u")return;const r=Jv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},S9=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&a3(r[1]);return t&&JSON.parse(t)},Q0=()=>{try{return g9()||w9()||_9()||S9()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},i3=r=>{var t,e;return(e=(t=Q0())==null?void 0:t.emulatorHosts)==null?void 0:e[r]},k9=r=>{const t=i3(r);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),n]:[t.substring(0,e),n]},o3=()=>{var r;return(r=Q0())==null?void 0:r.config},l3=r=>{var t;return(t=Q0())==null?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lu(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function c3(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E9(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},n=t||"demo-project",s=r.iat||0,i=r.sub||r.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${n}`,aud:n,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...r};return[b0(JSON.stringify(e)),b0(JSON.stringify(a)),""].join(".")}const vf={};function A9(){const r={prod:[],emulator:[]};for(const t of Object.keys(vf))vf[t]?r.emulator.push(t):r.prod.push(t);return r}function N9(r){let t=document.getElementById(r),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),e=!0),{created:e,element:t}}let ew=!1;function u3(r,t){if(typeof window>"u"||typeof document>"u"||!lu(window.location.host)||vf[r]===t||vf[r]||ew)return;vf[r]=t;function e(h){return`__firebase__banner__${h}`}const n="__firebase__banner",i=A9().prod.length>0;function a(){const h=document.getElementById(n);h&&h.remove()}function l(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function c(h,d){h.setAttribute("width","24"),h.setAttribute("id",d),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function o(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{ew=!0,a()},h}function u(h,d){h.setAttribute("id",d),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function p(){const h=N9(n),d=e("text"),b=document.getElementById(d)||document.createElement("span"),x=e("learnmore"),g=document.getElementById(x)||document.createElement("a"),w=e("preprendIcon"),v=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const k=h.element;l(k),u(g,x);const R=o();c(v,w),k.append(v,b,g,R),document.body.appendChild(k)}i?(b.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",d)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function C9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gs())}function R9(){var t;const r=(t=Q0())==null?void 0:t.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function M9(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function j9(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function D9(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function I9(){const r=gs();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function O9(){return!R9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function F9(){try{return typeof indexedDB=="object"}catch{return!1}}function P9(){return new Promise((r,t)=>{try{let e=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),e||self.indexedDB.deleteDatabase(n),r(!0)},s.onupgradeneeded=()=>{e=!1},s.onerror=()=>{var i;t(((i=s.error)==null?void 0:i.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L9="FirebaseError";class Yi extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name=L9,Object.setPrototypeOf(this,Yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ah.prototype.create)}}class ah{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){const n=e[0]||{},s=`${this.service}/${t}`,i=this.errors[t],a=i?B9(i,n):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new Yi(s,l,n)}}function B9(r,t){return r.replace(U9,(e,n)=>{const s=t[n];return s!=null?String(s):`<${n}?>`})}const U9=/\{\$([^}]+)}/g;function V9(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Bl(r,t){if(r===t)return!0;const e=Object.keys(r),n=Object.keys(t);for(const s of e){if(!n.includes(s))return!1;const i=r[s],a=t[s];if(tw(i)&&tw(a)){if(!Bl(i,a))return!1}else if(i!==a)return!1}for(const s of n)if(!e.includes(s))return!1;return!0}function tw(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(r){const t=[];for(const[e,n]of Object.entries(r))Array.isArray(n)?n.forEach(s=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function z9(r,t){const e=new H9(r,t);return e.subscribe.bind(e)}class H9{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(n=>{this.error(n)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,n){let s;if(t===void 0&&e===void 0&&n===void 0)throw new Error("Missing Observer.");$9(t,["next","error","complete"])?s=t:s={next:t,error:e,complete:n},s.next===void 0&&(s.next=Tg),s.error===void 0&&(s.error=Tg),s.complete===void 0&&(s.complete=Tg);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $9(r,t){if(typeof r!="object"||r===null)return!1;for(const e of t)if(e in r&&typeof r[e]=="function")return!0;return!1}function Tg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(r){return r&&r._delegate?r._delegate:r}class Ul{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const n=new T9;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:e});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),n=(t==null?void 0:t.optional)??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(s){if(n)return null;throw s}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(W9(t))try{this.getOrInitializeService({instanceIdentifier:Tl})}catch{}for(const[e,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(e);try{const i=this.getOrInitializeService({instanceIdentifier:s});n.resolve(i)}catch{}}}}clearInstance(t=Tl){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Tl){return this.instances.has(t)}getOptions(t=Tl){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);n===l&&a.resolve(s)}return s}onInit(t,e){const n=this.normalizeInstanceIdentifier(e),s=this.onInitCallbacks.get(n)??new Set;s.add(t),this.onInitCallbacks.set(n,s);const i=this.instances.get(n);return i&&t(i,n),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const s of n)try{s(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:G9(t),options:e}),this.instances.set(t,n),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=Tl){return this.component?this.component.multipleInstances?t:Tl:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function G9(r){return r===Tl?void 0:r}function W9(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X9{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new q9(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _r;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(_r||(_r={}));const Y9={debug:_r.DEBUG,verbose:_r.VERBOSE,info:_r.INFO,warn:_r.WARN,error:_r.ERROR,silent:_r.SILENT},K9=_r.INFO,Q9={[_r.DEBUG]:"log",[_r.VERBOSE]:"log",[_r.INFO]:"info",[_r.WARN]:"warn",[_r.ERROR]:"error"},Z9=(r,t,...e)=>{if(t<r.logLevel)return;const n=new Date().toISOString(),s=Q9[t];if(s)console[s](`[${n}]  ${r.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class $1{constructor(t){this.name=t,this._logLevel=K9,this._logHandler=Z9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in _r))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Y9[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,_r.DEBUG,...t),this._logHandler(this,_r.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,_r.VERBOSE,...t),this._logHandler(this,_r.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,_r.INFO,...t),this._logHandler(this,_r.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,_r.WARN,...t),this._logHandler(this,_r.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,_r.ERROR,...t),this._logHandler(this,_r.ERROR,...t)}}const J9=(r,t)=>t.some(e=>r instanceof e);let rw,nw;function e7(){return rw||(rw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function t7(){return nw||(nw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const f3=new WeakMap,e1=new WeakMap,h3=new WeakMap,Eg=new WeakMap,q1=new WeakMap;function r7(r){const t=new Promise((e,n)=>{const s=()=>{r.removeEventListener("success",i),r.removeEventListener("error",a)},i=()=>{e(Lo(r.result)),s()},a=()=>{n(r.error),s()};r.addEventListener("success",i),r.addEventListener("error",a)});return t.then(e=>{e instanceof IDBCursor&&f3.set(e,r)}).catch(()=>{}),q1.set(t,r),t}function n7(r){if(e1.has(r))return;const t=new Promise((e,n)=>{const s=()=>{r.removeEventListener("complete",i),r.removeEventListener("error",a),r.removeEventListener("abort",a)},i=()=>{e(),s()},a=()=>{n(r.error||new DOMException("AbortError","AbortError")),s()};r.addEventListener("complete",i),r.addEventListener("error",a),r.addEventListener("abort",a)});e1.set(r,t)}let t1={get(r,t,e){if(r instanceof IDBTransaction){if(t==="done")return e1.get(r);if(t==="objectStoreNames")return r.objectStoreNames||h3.get(r);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Lo(r[t])},set(r,t,e){return r[t]=e,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function s7(r){t1=r(t1)}function a7(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const n=r.call(Ag(this),t,...e);return h3.set(n,t.sort?t.sort():[t]),Lo(n)}:t7().includes(r)?function(...t){return r.apply(Ag(this),t),Lo(f3.get(this))}:function(...t){return Lo(r.apply(Ag(this),t))}}function i7(r){return typeof r=="function"?a7(r):(r instanceof IDBTransaction&&n7(r),J9(r,e7())?new Proxy(r,t1):r)}function Lo(r){if(r instanceof IDBRequest)return r7(r);if(Eg.has(r))return Eg.get(r);const t=i7(r);return t!==r&&(Eg.set(r,t),q1.set(t,r)),t}const Ag=r=>q1.get(r);function o7(r,t,{blocked:e,upgrade:n,blocking:s,terminated:i}={}){const a=indexedDB.open(r,t),l=Lo(a);return n&&a.addEventListener("upgradeneeded",c=>{n(Lo(a.result),c.oldVersion,c.newVersion,Lo(a.transaction),c)}),e&&a.addEventListener("blocked",c=>e(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",o=>s(o.oldVersion,o.newVersion,o))}).catch(()=>{}),l}const l7=["get","getKey","getAll","getAllKeys","count"],c7=["put","add","delete","clear"],Ng=new Map;function sw(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Ng.get(t))return Ng.get(t);const e=t.replace(/FromIndex$/,""),n=t!==e,s=c7.includes(e);if(!(e in(n?IDBIndex:IDBObjectStore).prototype)||!(s||l7.includes(e)))return;const i=async function(a,...l){const c=this.transaction(a,s?"readwrite":"readonly");let o=c.store;return n&&(o=o.index(l.shift())),(await Promise.all([o[e](...l),s&&c.done]))[0]};return Ng.set(t,i),i}s7(r=>({...r,get:(t,e,n)=>sw(t,e)||r.get(t,e,n),has:(t,e)=>!!sw(t,e)||r.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u7{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(f7(e)){const n=e.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(e=>e).join(" ")}}function f7(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const r1="@firebase/app",aw="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi=new $1("@firebase/app"),h7="@firebase/app-compat",d7="@firebase/analytics-compat",p7="@firebase/analytics",m7="@firebase/app-check-compat",g7="@firebase/app-check",b7="@firebase/auth",x7="@firebase/auth-compat",y7="@firebase/database",v7="@firebase/data-connect",w7="@firebase/database-compat",_7="@firebase/functions",S7="@firebase/functions-compat",k7="@firebase/installations",T7="@firebase/installations-compat",E7="@firebase/messaging",A7="@firebase/messaging-compat",N7="@firebase/performance",C7="@firebase/performance-compat",R7="@firebase/remote-config",M7="@firebase/remote-config-compat",j7="@firebase/storage",D7="@firebase/storage-compat",I7="@firebase/firestore",O7="@firebase/ai",F7="@firebase/firestore-compat",P7="firebase",L7="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="[DEFAULT]",B7={[r1]:"fire-core",[h7]:"fire-core-compat",[p7]:"fire-analytics",[d7]:"fire-analytics-compat",[g7]:"fire-app-check",[m7]:"fire-app-check-compat",[b7]:"fire-auth",[x7]:"fire-auth-compat",[y7]:"fire-rtdb",[v7]:"fire-data-connect",[w7]:"fire-rtdb-compat",[_7]:"fire-fn",[S7]:"fire-fn-compat",[k7]:"fire-iid",[T7]:"fire-iid-compat",[E7]:"fire-fcm",[A7]:"fire-fcm-compat",[N7]:"fire-perf",[C7]:"fire-perf-compat",[R7]:"fire-rc",[M7]:"fire-rc-compat",[j7]:"fire-gcs",[D7]:"fire-gcs-compat",[I7]:"fire-fst",[F7]:"fire-fst-compat",[O7]:"fire-vertex","fire-js":"fire-js",[P7]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0=new Map,U7=new Map,s1=new Map;function iw(r,t){try{r.container.addComponent(t)}catch(e){zi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,e)}}function Qc(r){const t=r.name;if(s1.has(t))return zi.debug(`There were multiple attempts to register component ${t}.`),!1;s1.set(t,r);for(const e of x0.values())iw(e,r);for(const e of U7.values())iw(e,r);return!0}function G1(r,t){const e=r.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),r.container.getProvider(t)}function ya(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V7={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bo=new ah("app","Firebase",V7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z7{constructor(t,e,n){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ul("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Bo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=L7;function d3(r,t={}){let e=r;typeof t!="object"&&(t={name:t});const n={name:n1,automaticDataCollectionEnabled:!0,...t},s=n.name;if(typeof s!="string"||!s)throw Bo.create("bad-app-name",{appName:String(s)});if(e||(e=o3()),!e)throw Bo.create("no-options");const i=x0.get(s);if(i){if(Bl(e,i.options)&&Bl(n,i.config))return i;throw Bo.create("duplicate-app",{appName:s})}const a=new X9(s);for(const c of s1.values())a.addComponent(c);const l=new z7(e,n,a);return x0.set(s,l),l}function p3(r=n1){const t=x0.get(r);if(!t&&r===n1&&o3())return d3();if(!t)throw Bo.create("no-app",{appName:r});return t}function Uo(r,t,e){let n=B7[r]??r;e&&(n+=`-${e}`);const s=n.match(/\s|\//),i=t.match(/\s|\//);if(s||i){const a=[`Unable to register library "${n}" with version "${t}":`];s&&a.push(`library name "${n}" contains illegal characters (whitespace or "/")`),s&&i&&a.push("and"),i&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),zi.warn(a.join(" "));return}Qc(new Ul(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H7="firebase-heartbeat-database",$7=1,Bf="firebase-heartbeat-store";let Cg=null;function m3(){return Cg||(Cg=o7(H7,$7,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Bf)}catch(e){console.warn(e)}}}}).catch(r=>{throw Bo.create("idb-open",{originalErrorMessage:r.message})})),Cg}async function q7(r){try{const e=(await m3()).transaction(Bf),n=await e.objectStore(Bf).get(g3(r));return await e.done,n}catch(t){if(t instanceof Yi)zi.warn(t.message);else{const e=Bo.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});zi.warn(e.message)}}}async function ow(r,t){try{const n=(await m3()).transaction(Bf,"readwrite");await n.objectStore(Bf).put(t,g3(r)),await n.done}catch(e){if(e instanceof Yi)zi.warn(e.message);else{const n=Bo.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});zi.warn(n.message)}}}function g3(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G7=1024,W7=30;class X7{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new K7(e),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,e;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=lw();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>W7){const a=Q7(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){zi.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=lw(),{heartbeatsToSend:n,unsentEntries:s}=Y7(this._heartbeatsCache.heartbeats),i=b0(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return zi.warn(e),""}}}function lw(){return new Date().toISOString().substring(0,10)}function Y7(r,t=G7){const e=[];let n=r.slice();for(const s of r){const i=e.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),cw(e)>t){i.dates.pop();break}}else if(e.push({agent:s.agent,dates:[s.date]}),cw(e)>t){e.pop();break}n=n.slice(1)}return{heartbeatsToSend:e,unsentEntries:n}}class K7{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return F9()?P9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await q7(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return ow(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return ow(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}else return}}function cw(r){return b0(JSON.stringify({version:2,heartbeats:r})).length}function Q7(r){if(r.length===0)return-1;let t=0,e=r[0].date;for(let n=1;n<r.length;n++)r[n].date<e&&(e=r[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z7(r){Qc(new Ul("platform-logger",t=>new u7(t),"PRIVATE")),Qc(new Ul("heartbeat",t=>new X7(t),"PRIVATE")),Uo(r1,aw,r),Uo(r1,aw,"esm2020"),Uo("fire-js","")}Z7("");function b3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const J7=b3,x3=new ah("auth","Firebase",b3());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0=new $1("@firebase/auth");function eA(r,...t){y0.logLevel<=_r.WARN&&y0.warn(`Auth (${cu}): ${r}`,...t)}function r0(r,...t){y0.logLevel<=_r.ERROR&&y0.error(`Auth (${cu}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(r,...t){throw X1(r,...t)}function Ua(r,...t){return X1(r,...t)}function W1(r,t,e){const n={...J7(),[t]:e};return new ah("auth","Firebase",n).create(t,{appName:r.name})}function Vo(r){return W1(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function y3(r,t,e){const n=e;if(!(t instanceof n))throw n.name!==t.constructor.name&&fi(r,"argument-error"),W1(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function X1(r,...t){if(typeof r!="string"){const e=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(e,...n)}return x3.create(r,...t)}function rr(r,t,...e){if(!r)throw X1(t,...e)}function Fi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw r0(t),new Error(t)}function Hi(r,t){r||Fi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function tA(){return uw()==="http:"||uw()==="https:"}function uw(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tA()||j9()||"connection"in navigator)?navigator.onLine:!0}function nA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(t,e){this.shortDelay=t,this.longDelay=e,Hi(e>t,"Short delay should be less than long delay!"),this.isMobile=C9()||D9()}get(){return rA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(r,t){Hi(r.emulator,"Emulator should always be set here");const{url:e}=r.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],iA=new oh(3e4,6e4);function K1(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function uu(r,t,e,n,s={}){return w3(r,s,async()=>{let i={},a={};n&&(t==="GET"?a=n:i={body:JSON.stringify(n)});const l=ih({key:r.config.apiKey,...a}).slice(1),c=await r._getAdditionalHeaders();c["Content-Type"]="application/json",r.languageCode&&(c["X-Firebase-Locale"]=r.languageCode);const o={method:t,headers:c,...i};return M9()||(o.referrerPolicy="no-referrer"),r.emulatorConfig&&lu(r.emulatorConfig.host)&&(o.credentials="include"),v3.fetch()(await _3(r,r.config.apiHost,e,l),o)})}async function w3(r,t,e){r._canInitEmulator=!1;const n={...sA,...t};try{const s=new lA(r),i=await Promise.race([e(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw Ld(r,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const l=i.ok?a.errorMessage:a.error.message,[c,o]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ld(r,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw Ld(r,"email-already-in-use",a);if(c==="USER_DISABLED")throw Ld(r,"user-disabled",a);const u=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw W1(r,u,o);fi(r,u)}}catch(s){if(s instanceof Yi)throw s;fi(r,"network-request-failed",{message:String(s)})}}async function oA(r,t,e,n,s={}){const i=await uu(r,t,e,n,s);return"mfaPendingCredential"in i&&fi(r,"multi-factor-auth-required",{_serverResponse:i}),i}async function _3(r,t,e,n){const s=`${t}${e}?${n}`,i=r,a=i.config.emulator?Y1(r.config,s):`${r.config.apiScheme}://${s}`;return aA.includes(e)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(a).toString():a}class lA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,n)=>{this.timer=setTimeout(()=>n(Ua(this.auth,"network-request-failed")),iA.get())})}}function Ld(r,t,e){const n={appName:r.name};e.email&&(n.email=e.email),e.phoneNumber&&(n.phoneNumber=e.phoneNumber);const s=Ua(r,t,n);return s.customData._tokenResponse=e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cA(r,t){return uu(r,"POST","/v1/accounts:delete",t)}async function v0(r,t){return uu(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function uA(r,t=!1){const e=jn(r),n=await e.getIdToken(t),s=Q1(n);rr(s&&s.exp&&s.auth_time&&s.iat,e.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:n,authTime:wf(Rg(s.auth_time)),issuedAtTime:wf(Rg(s.iat)),expirationTime:wf(Rg(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Rg(r){return Number(r)*1e3}function Q1(r){const[t,e,n]=r.split(".");if(t===void 0||e===void 0||n===void 0)return r0("JWT malformed, contained fewer than 3 sections"),null;try{const s=a3(e);return s?JSON.parse(s):(r0("Failed to decode base64 JWT payload"),null)}catch(s){return r0("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function fw(r){const t=Q1(r);return rr(t,"internal-error"),rr(typeof t.exp<"u","internal-error"),rr(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uf(r,t,e=!1){if(e)return t;try{return await t}catch(n){throw n instanceof Yi&&fA(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function fA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=wf(this.lastLoginAt),this.creationTime=wf(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w0(r){var p;const t=r.auth,e=await r.getIdToken(),n=await Uf(r,v0(t,{idToken:e}));rr(n==null?void 0:n.users.length,t,"internal-error");const s=n.users[0];r._notifyReloadListener(s);const i=(p=s.providerUserInfo)!=null&&p.length?S3(s.providerUserInfo):[],a=pA(r.providerData,i),l=r.isAnonymous,c=!(r.email&&s.passwordHash)&&!(a!=null&&a.length),o=l?c:!1,u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new i1(s.createdAt,s.lastLoginAt),isAnonymous:o};Object.assign(r,u)}async function dA(r){const t=jn(r);await w0(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function pA(r,t){return[...r.filter(n=>!t.some(s=>s.providerId===n.providerId)),...t]}function S3(r){return r.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mA(r,t){const e=await w3(r,{},async()=>{const n=ih({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:i}=r.config,a=await _3(r,s,"/v1/token",`key=${i}`),l=await r._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:n};return r.emulatorConfig&&lu(r.emulatorConfig.host)&&(c.credentials="include"),v3.fetch()(a,c)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function gA(r,t){return uu(r,"POST","/v2/accounts:revokeToken",K1(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){rr(t.idToken,"internal-error"),rr(typeof t.idToken<"u","internal-error"),rr(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):fw(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){rr(t.length!==0,"internal-error");const e=fw(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(rr(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:n,refreshToken:s,expiresIn:i}=await mA(t,e);this.updateTokensAndExpiration(n,s,Number(i))}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,e){const{refreshToken:n,accessToken:s,expirationTime:i}=e,a=new $c;return n&&(rr(typeof n=="string","internal-error",{appName:t}),a.refreshToken=n),s&&(rr(typeof s=="string","internal-error",{appName:t}),a.accessToken=s),i&&(rr(typeof i=="number","internal-error",{appName:t}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new $c,this.toJSON())}_performRefresh(){return Fi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(r,t){rr(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Pa{constructor({uid:t,auth:e,stsTokenManager:n,...s}){this.providerId="firebase",this.proactiveRefresh=new hA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new i1(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const e=await Uf(this,this.stsTokenManager.getToken(this.auth,t));return rr(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return uA(this,t)}reload(){return dA(this)}_assign(t){this!==t&&(rr(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Pa({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){rr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),e&&await w0(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ya(this.auth.app))return Promise.reject(Vo(this.auth));const t=await this.getIdToken();return await Uf(this,cA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const n=e.displayName??void 0,s=e.email??void 0,i=e.phoneNumber??void 0,a=e.photoURL??void 0,l=e.tenantId??void 0,c=e._redirectEventId??void 0,o=e.createdAt??void 0,u=e.lastLoginAt??void 0,{uid:p,emailVerified:h,isAnonymous:d,providerData:b,stsTokenManager:x}=e;rr(p&&x,t,"internal-error");const g=$c.fromJSON(this.name,x);rr(typeof p=="string",t,"internal-error"),Eo(n,t.name),Eo(s,t.name),rr(typeof h=="boolean",t,"internal-error"),rr(typeof d=="boolean",t,"internal-error"),Eo(i,t.name),Eo(a,t.name),Eo(l,t.name),Eo(c,t.name),Eo(o,t.name),Eo(u,t.name);const w=new Pa({uid:p,auth:t,email:s,emailVerified:h,displayName:n,isAnonymous:d,photoURL:a,phoneNumber:i,tenantId:l,stsTokenManager:g,createdAt:o,lastLoginAt:u});return b&&Array.isArray(b)&&(w.providerData=b.map(v=>({...v}))),c&&(w._redirectEventId=c),w}static async _fromIdTokenResponse(t,e,n=!1){const s=new $c;s.updateFromServerResponse(e);const i=new Pa({uid:e.localId,auth:t,stsTokenManager:s,isAnonymous:n});return await w0(i),i}static async _fromGetAccountInfoResponse(t,e,n){const s=e.users[0];rr(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?S3(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new $c;l.updateFromIdToken(n);const c=new Pa({uid:s.localId,auth:t,stsTokenManager:l,isAnonymous:a}),o={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new i1(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,o),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw=new Map;function Pi(r){Hi(r instanceof Function,"Expected a class definition");let t=hw.get(r);return t?(Hi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,hw.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}k3.type="NONE";const dw=k3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(r,t,e){return`firebase:${r}:${t}:${e}`}class qc{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;const{config:s,name:i}=this.auth;this.fullUserKey=n0(this.userKey,s.apiKey,i),this.fullPersistenceKey=n0("persistence",s.apiKey,i),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await v0(this.auth,{idToken:t}).catch(()=>{});return e?Pa._fromGetAccountInfoResponse(this.auth,e,t):null}return Pa._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,n="authUser"){if(!e.length)return new qc(Pi(dw),t,n);const s=(await Promise.all(e.map(async o=>{if(await o._isAvailable())return o}))).filter(o=>o);let i=s[0]||Pi(dw);const a=n0(n,t.config.apiKey,t.name);let l=null;for(const o of e)try{const u=await o._get(a);if(u){let p;if(typeof u=="string"){const h=await v0(t,{idToken:u}).catch(()=>{});if(!h)break;p=await Pa._fromGetAccountInfoResponse(t,h,u)}else p=Pa._fromJSON(t,u);o!==i&&(l=p),i=o;break}}catch{}const c=s.filter(o=>o._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new qc(i,t,n):(i=c[0],l&&await i._set(a,l.toJSON()),await Promise.all(e.map(async o=>{if(o!==i)try{await o._remove(a)}catch{}})),new qc(i,t,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(N3(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(T3(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(R3(t))return"Blackberry";if(M3(t))return"Webos";if(E3(t))return"Safari";if((t.includes("chrome/")||A3(t))&&!t.includes("edge/"))return"Chrome";if(C3(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(e);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function T3(r=gs()){return/firefox\//i.test(r)}function E3(r=gs()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function A3(r=gs()){return/crios\//i.test(r)}function N3(r=gs()){return/iemobile/i.test(r)}function C3(r=gs()){return/android/i.test(r)}function R3(r=gs()){return/blackberry/i.test(r)}function M3(r=gs()){return/webos/i.test(r)}function Z1(r=gs()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function bA(r=gs()){var t;return Z1(r)&&!!((t=window.navigator)!=null&&t.standalone)}function xA(){return I9()&&document.documentMode===10}function j3(r=gs()){return Z1(r)||C3(r)||M3(r)||R3(r)||/windows phone/i.test(r)||N3(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D3(r,t=[]){let e;switch(r){case"Browser":e=pw(gs());break;case"Worker":e=`${pw(gs())}-${r}`;break;default:e=r}const n=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${cu}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const n=i=>new Promise((a,l)=>{try{const c=t(i);a(c)}catch(c){l(c)}});n.onAbort=e,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const n of this.queue)await n(t),n.onAbort&&e.push(n.onAbort)}catch(n){e.reverse();for(const s of e)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vA(r,t={}){return uu(r,"GET","/v2/passwordPolicy",K1(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA=6;class _A{constructor(t){var n;const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??wA,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=t.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const n=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;n&&(e.meetsMinPasswordLength=t.length>=n),s&&(e.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let n;for(let s=0;s<t.length;s++)n=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(e,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,e,n,s,i){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(t,e,n,s){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mw(this),this.idTokenSubscription=new mw(this),this.beforeStateQueue=new yA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=x3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Pi(e)),this._initializationPromise=this.queue(async()=>{var n,s,i;if(!this._deleted&&(this.persistenceManager=await qc.create(this,t),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await v0(this,{idToken:t}),n=await Pa._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(n)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var i;if(ya(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let n=e,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(i=this.redirectUser)==null?void 0:i._redirectEventId,l=n==null?void 0:n._redirectEventId,c=await this.tryRedirectSignIn(t);(!a||a===l)&&(c!=null&&c.user)&&(n=c.user,s=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(n)}catch(a){n=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return rr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await w0(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=nA()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ya(this.app))return Promise.reject(Vo(this));const e=t?jn(t):null;return e&&rr(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&rr(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ya(this.app)?Promise.reject(Vo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ya(this.app)?Promise.reject(Vo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await vA(this),e=new _A(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ah("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged(()=>{n(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(n.tenantId=this.tenantId),await gA(this,n)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,e){const n=await this.getOrInitRedirectPersistenceManager(e);return t===null?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Pi(t)||this._popupRedirectResolver;rr(e,this,"argument-error"),this.redirectPersistenceManager=await qc.create(this,[Pi(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,n;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)==null?void 0:e._redirectEventId)===t?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((e=this.currentUser)==null?void 0:e.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,s){if(this._deleted)return()=>{};const i=typeof e=="function"?e:e.next.bind(e);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(rr(l,this,"internal-error"),l.then(()=>{a||i(this.currentUser)}),typeof e=="function"){const c=t.addObserver(e,n,s);return()=>{a=!0,c()}}else{const c=t.addObserver(e);return()=>{a=!0,c()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return rr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=D3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());e&&(t["X-Firebase-Client"]=e);const n=await this._getAppCheckToken();return n&&(t["X-Firebase-AppCheck"]=n),t}async _getAppCheckToken(){var e;if(ya(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:e.getToken());return t!=null&&t.error&&eA(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function fu(r){return jn(r)}class mw{constructor(t){this.auth=t,this.observer=null,this.addObserver=z9(e=>this.observer=e)}get next(){return rr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let J1={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kA(r){J1=r}function TA(r){return J1.loadJS(r)}function EA(){return J1.gapiScript}function AA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(r,t){const e=G1(r,"auth");if(e.isInitialized()){const s=e.getImmediate(),i=e.getOptions();if(Bl(i,t??{}))return s;fi(s,"already-initialized")}return e.initialize({options:t})}function CA(r,t){const e=(t==null?void 0:t.persistence)||[],n=(Array.isArray(e)?e:[e]).map(Pi);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(n,t==null?void 0:t.popupRedirectResolver)}function RA(r,t,e){const n=fu(r);rr(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const s=!1,i=I3(t),{host:a,port:l}=MA(t),c=l===null?"":`:${l}`,o={url:`${i}//${a}${c}/`},u=Object.freeze({host:a,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!n._canInitEmulator){rr(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),rr(Bl(o,n.config.emulator)&&Bl(u,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=o,n.emulatorConfig=u,n.settings.appVerificationDisabledForTesting=!0,lu(a)?(c3(`${i}//${a}${c}`),u3("Auth",!0)):jA()}function I3(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function MA(r){const t=I3(r),e=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!e)return{host:"",port:null};const n=e[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(n);if(s){const i=s[1];return{host:i,port:gw(n.substr(i.length+1))}}else{const[i,a]=n.split(":");return{host:i,port:gw(a)}}}function gw(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function jA(){function r(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Fi("not implemented")}_getIdTokenResponse(t){return Fi("not implemented")}_linkToIdToken(t,e){return Fi("not implemented")}_getReauthenticationResolver(t){return Fi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gc(r,t){return oA(r,"POST","/v1/accounts:signInWithIdp",K1(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA="http://localhost";class Vl extends O3{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Vl(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):fi("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:n,signInMethod:s,...i}=e;if(!n||!s)return null;const a=new Vl(n,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(t){const e=this.buildRequest();return Gc(t,e)}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,Gc(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Gc(t,e)}buildRequest(){const t={requestUri:DA,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=ih(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh extends Z0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No extends lh{constructor(){super("facebook.com")}static credential(t){return Vl._fromParams({providerId:No.PROVIDER_ID,signInMethod:No.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return No.credentialFromTaggedObject(t)}static credentialFromError(t){return No.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return No.credential(t.oauthAccessToken)}catch{return null}}}No.FACEBOOK_SIGN_IN_METHOD="facebook.com";No.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends lh{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Vl._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Oi.credentialFromTaggedObject(t)}static credentialFromError(t){return Oi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:n}=t;if(!e&&!n)return null;try{return Oi.credential(e,n)}catch{return null}}}Oi.GOOGLE_SIGN_IN_METHOD="google.com";Oi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co extends lh{constructor(){super("github.com")}static credential(t){return Vl._fromParams({providerId:Co.PROVIDER_ID,signInMethod:Co.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Co.credentialFromTaggedObject(t)}static credentialFromError(t){return Co.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Co.credential(t.oauthAccessToken)}catch{return null}}}Co.GITHUB_SIGN_IN_METHOD="github.com";Co.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro extends lh{constructor(){super("twitter.com")}static credential(t,e){return Vl._fromParams({providerId:Ro.PROVIDER_ID,signInMethod:Ro.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Ro.credentialFromTaggedObject(t)}static credentialFromError(t){return Ro.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:n}=t;if(!e||!n)return null;try{return Ro.credential(e,n)}catch{return null}}}Ro.TWITTER_SIGN_IN_METHOD="twitter.com";Ro.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,n,s=!1){const i=await Pa._fromIdTokenResponse(t,n,s),a=bw(n);return new Zc({user:i,providerId:a,_tokenResponse:n,operationType:e})}static async _forOperation(t,e,n){await t._updateTokensIfNecessary(n,!0);const s=bw(n);return new Zc({user:t,providerId:s,_tokenResponse:n,operationType:e})}}function bw(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0 extends Yi{constructor(t,e,n,s){super(e.code,e.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,_0.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,e,n,s){return new _0(t,e,n,s)}}function F3(r,t,e,n){return(t==="reauthenticate"?e._getReauthenticationResolver(r):e._getIdTokenResponse(r)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?_0._fromErrorAndOperation(r,i,t,n):i})}async function IA(r,t,e=!1){const n=await Uf(r,t._linkToIdToken(r.auth,await r.getIdToken()),e);return Zc._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OA(r,t,e=!1){const{auth:n}=r;if(ya(n.app))return Promise.reject(Vo(n));const s="reauthenticate";try{const i=await Uf(r,F3(n,s,t,r),e);rr(i.idToken,n,"internal-error");const a=Q1(i.idToken);rr(a,n,"internal-error");const{sub:l}=a;return rr(r.uid===l,n,"user-mismatch"),Zc._forOperation(r,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&fi(n,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FA(r,t,e=!1){if(ya(r.app))return Promise.reject(Vo(r));const n="signIn",s=await F3(r,n,t),i=await Zc._fromIdTokenResponse(r,n,s);return e||await r._updateCurrentUser(i.user),i}function PA(r,t,e,n){return jn(r).onIdTokenChanged(t,e,n)}function LA(r,t,e){return jn(r).beforeAuthStateChanged(t,e)}function P3(r,t,e,n){return jn(r).onAuthStateChanged(t,e,n)}function BA(r){return jn(r).signOut()}const S0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(S0,"1"),this.storage.removeItem(S0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA=1e3,VA=10;class B3 extends L3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=j3(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const n=this.storage.getItem(e),s=this.localCache[e];n!==s&&t(e,s,n)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const n=t.key;e?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(n);!e&&this.localCache[n]===a||this.notifyListeners(n,a)},i=this.storage.getItem(n);xA()&&i!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,VA):s()}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const s of Array.from(n))s(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:n}),!0)})},UA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}B3.type="LOCAL";const zA=B3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3 extends L3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}U3.type="SESSION";const V3=U3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(s=>s.isListeningto(t));if(e)return e;const n=new J0(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:n,eventType:s,data:i}=e.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;e.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const l=Array.from(a).map(async o=>o(e.origin,i)),c=await HA(l);e.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:c})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}J0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(r="",t=10){let e="";for(let n=0;n<t;n++)e+=Math.floor(Math.random()*10);return r+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,n=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((l,c)=>{const o=eb("",20);s.port1.start();const u=setTimeout(()=>{c(new Error("unsupported_event"))},n);a={messageChannel:s,onMessage(p){const h=p;if(h.data.eventId===o)switch(h.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(h.data.response);break;default:clearTimeout(u),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:o,data:e},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(){return window}function qA(r){ii().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z3(){return typeof ii().WorkerGlobalScope<"u"&&typeof ii().importScripts=="function"}async function GA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WA(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function XA(){return z3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3="firebaseLocalStorageDb",YA=1,k0="firebaseLocalStorage",$3="fbase_key";class ch{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function ep(r,t){return r.transaction([k0],t?"readwrite":"readonly").objectStore(k0)}function KA(){const r=indexedDB.deleteDatabase(H3);return new ch(r).toPromise()}function o1(){const r=indexedDB.open(H3,YA);return new Promise((t,e)=>{r.addEventListener("error",()=>{e(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(k0,{keyPath:$3})}catch(s){e(s)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(k0)?t(n):(n.close(),await KA(),t(await o1()))})})}async function xw(r,t,e){const n=ep(r,!0).put({[$3]:t,value:e});return new ch(n).toPromise()}async function QA(r,t){const e=ep(r,!1).get(t),n=await new ch(e).toPromise();return n===void 0?null:n.value}function yw(r,t){const e=ep(r,!0).delete(t);return new ch(e).toPromise()}const ZA=800,JA=3;class q3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await o1(),this.db)}async _withRetries(t){let e=0;for(;;)try{const n=await this._openDb();return await t(n)}catch(n){if(e++>JA)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return z3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=J0._getInstance(XA()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await GA(),!this.activeServiceWorker)return;this.sender=new $A(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(e=t[0])!=null&&e.fulfilled&&(n=t[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||WA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await o1();return await xw(t,S0,"1"),await yw(t,S0),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(n=>xw(n,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(n=>QA(n,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>yw(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const i=ep(s,!1).getAll();return new ch(i).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],n=new Set;if(t.length!==0)for(const{fbase_key:s,value:i}of t)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),e.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),e.push(s));return e}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const s of Array.from(n))s(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}q3.type="LOCAL";const eN=q3;new oh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(r,t){return t?Pi(t):(rr(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb extends O3{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Gc(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Gc(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Gc(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function tN(r){return FA(r.auth,new rb(r),r.bypassAuthState)}function rN(r){const{auth:t,user:e}=r;return rr(e,t,"internal-error"),OA(e,new rb(r),r.bypassAuthState)}async function nN(r){const{auth:t,user:e}=r;return rr(e,t,"internal-error"),IA(e,new rb(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(t,e,n,s,i=!1){this.auth=t,this.resolver=n,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:n,postBody:s,tenantId:i,error:a,type:l}=t;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:e,sessionId:n,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(o){this.reject(o)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return tN;case"linkViaPopup":case"linkViaRedirect":return nN;case"reauthViaPopup":case"reauthViaRedirect":return rN;default:fi(this.auth,"internal-error")}}resolve(t){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN=new oh(2e3,1e4);async function aN(r,t,e){if(ya(r.app))return Promise.reject(Ua(r,"operation-not-supported-in-this-environment"));const n=fu(r);y3(r,t,Z0);const s=tb(n,e);return new Nl(n,"signInViaPopup",t,s).executeNotNull()}class Nl extends G3{constructor(t,e,n,s,i){super(t,e,s,i),this.provider=n,this.authWindow=null,this.pollId=null,Nl.currentPopupAction&&Nl.currentPopupAction.cancel(),Nl.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return rr(t,this.auth,"internal-error"),t}async onExecution(){Hi(this.filter.length===1,"Popup operations only handle one event");const t=eb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Ua(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(Ua(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Nl.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,n;if((n=(e=this.authWindow)==null?void 0:e.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ua(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,sN.get())};t()}}Nl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN="pendingRedirect",s0=new Map;class oN extends G3{constructor(t,e,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,n),this.eventId=null}async execute(){let t=s0.get(this.auth._key());if(!t){try{const n=await lN(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(n)}catch(e){t=()=>Promise.reject(e)}s0.set(this.auth._key(),t)}return this.bypassAuthState||s0.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lN(r,t){const e=X3(t),n=W3(r);if(!await n._isAvailable())return!1;const s=await n._get(e)==="true";return await n._remove(e),s}async function cN(r,t){return W3(r)._set(X3(t),"true")}function uN(r,t){s0.set(r._key(),t)}function W3(r){return Pi(r._redirectPersistence)}function X3(r){return n0(iN,r.config.apiKey,r.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(r,t,e){return fN(r,t,e)}async function fN(r,t,e){if(ya(r.app))return Promise.reject(Vo(r));const n=fu(r);y3(r,t,Z0),await n._initializationPromise;const s=tb(n,e);return await cN(s,n),s._openRedirect(n,t,"signInViaRedirect")}async function uf(r,t){return await fu(r)._initializationPromise,Y3(r,t,!1)}async function Y3(r,t,e=!1){if(ya(r.app))return Promise.reject(Vo(r));const n=fu(r),s=tb(n,t),a=await new oN(n,s,e).execute();return a&&!e&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=600*1e3;class dN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(e=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!pN(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var n;if(t.error&&!K3(t)){const s=((n=t.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";e.onError(Ua(this.auth,s))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const n=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=hN&&this.cachedEventUids.clear(),this.cachedEventUids.has(ww(t))}saveEventToCache(t){this.cachedEventUids.add(ww(t)),this.lastProcessedEventTime=Date.now()}}function ww(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function K3({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function pN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return K3(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mN(r,t={}){return uu(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bN=/^https?/;async function xN(r){if(r.config.emulator)return;const{authorizedDomains:t}=await mN(r);for(const e of t)try{if(yN(e))return}catch{}fi(r,"unauthorized-domain")}function yN(r){const t=a1(),{protocol:e,hostname:n}=new URL(t);if(r.startsWith("chrome-extension://")){const a=new URL(r);return a.hostname===""&&n===""?e==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&a.hostname===n}if(!bN.test(e))return!1;if(gN.test(r))return n===r;const s=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=new oh(3e4,6e4);function _w(){const r=ii().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let e=0;e<r.CP.length;e++)r.CP[e]=null}}function wN(r){return new Promise((t,e)=>{var s,i,a;function n(){_w(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{_w(),e(Ua(r,"network-request-failed"))},timeout:vN.get()})}if((i=(s=ii().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)t(gapi.iframes.getContext());else if((a=ii().gapi)!=null&&a.load)n();else{const l=AA("iframefcb");return ii()[l]=()=>{gapi.load?n():e(Ua(r,"network-request-failed"))},TA(`${EA()}?onload=${l}`).catch(c=>e(c))}}).catch(t=>{throw a0=null,t})}let a0=null;function _N(r){return a0=a0||wN(r),a0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=new oh(5e3,15e3),kN="__/auth/iframe",TN="emulator/auth/iframe",EN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NN(r){const t=r.config;rr(t.authDomain,r,"auth-domain-config-required");const e=t.emulator?Y1(t,TN):`https://${r.config.authDomain}/${kN}`,n={apiKey:t.apiKey,appName:r.name,v:cu},s=AN.get(r.config.apiHost);s&&(n.eid=s);const i=r._getFrameworks();return i.length&&(n.fw=i.join(",")),`${e}?${ih(n).slice(1)}`}async function CN(r){const t=await _N(r),e=ii().gapi;return rr(e,r,"internal-error"),t.open({where:document.body,url:NN(r),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EN,dontclear:!0},n=>new Promise(async(s,i)=>{await n.restyle({setHideOnLeave:!1});const a=Ua(r,"network-request-failed"),l=ii().setTimeout(()=>{i(a)},SN.get());function c(){ii().clearTimeout(l),s(n)}n.ping(c).then(c,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MN=500,jN=600,DN="_blank",IN="http://localhost";class Sw{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ON(r,t,e,n=MN,s=jN){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let l="";const c={...RN,width:n.toString(),height:s.toString(),top:i,left:a},o=gs().toLowerCase();e&&(l=A3(o)?DN:e),T3(o)&&(t=t||IN,c.scrollbars="yes");const u=Object.entries(c).reduce((h,[d,b])=>`${h}${d}=${b},`,"");if(bA(o)&&l!=="_self")return FN(t||"",l),new Sw(null);const p=window.open(t||"",l,u);rr(p,r,"popup-blocked");try{p.focus()}catch{}return new Sw(p)}function FN(r,t){const e=document.createElement("a");e.href=r,e.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN="__/auth/handler",LN="emulator/auth/handler",BN=encodeURIComponent("fac");async function kw(r,t,e,n,s,i){rr(r.config.authDomain,r,"auth-domain-config-required"),rr(r.config.apiKey,r,"invalid-api-key");const a={apiKey:r.config.apiKey,appName:r.name,authType:e,redirectUrl:n,v:cu,eventId:s};if(t instanceof Z0){t.setDefaultLanguage(r.languageCode),a.providerId=t.providerId||"",V9(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[u,p]of Object.entries({}))a[u]=p}if(t instanceof lh){const u=t.getScopes().filter(p=>p!=="");u.length>0&&(a.scopes=u.join(","))}r.tenantId&&(a.tid=r.tenantId);const l=a;for(const u of Object.keys(l))l[u]===void 0&&delete l[u];const c=await r._getAppCheckToken(),o=c?`#${BN}=${encodeURIComponent(c)}`:"";return`${UN(r)}?${ih(l).slice(1)}${o}`}function UN({config:r}){return r.emulator?Y1(r,LN):`https://${r.authDomain}/${PN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg="webStorageSupport";class VN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=V3,this._completeRedirectFn=Y3,this._overrideRedirectResult=uN}async _openPopup(t,e,n,s){var a;Hi((a=this.eventManagers[t._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const i=await kw(t,e,n,a1(),s);return ON(t,i,eb())}async _openRedirect(t,e,n,s){await this._originValidation(t);const i=await kw(t,e,n,a1(),s);return qA(i),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:s,promise:i}=this.eventManagers[e];return s?Promise.resolve(s):(Hi(i,"If manager is not set, promise should be"),i)}const n=this.initAndGetManager(t);return this.eventManagers[e]={promise:n},n.catch(()=>{delete this.eventManagers[e]}),n}async initAndGetManager(t){const e=await CN(t),n=new dN(t);return e.register("authEvent",s=>(rr(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:n.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=e,n}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Mg,{type:Mg},s=>{var a;const i=(a=s==null?void 0:s[0])==null?void 0:a[Mg];i!==void 0&&e(!!i),fi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=xN(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return j3()||E3()||Z1()}}const zN=VN;var Tw="@firebase/auth",Ew="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(n=>{t((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){rr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qN(r){Qc(new Ul("auth",(t,{options:e})=>{const n=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),i=t.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=n.options;rr(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:a,authDomain:l,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:D3(r)},o=new SA(n,s,i,c);return CA(o,e),o},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider("auth-internal").initialize()})),Qc(new Ul("auth-internal",t=>{const e=fu(t.getProvider("auth").getImmediate());return(n=>new HN(n))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Uo(Tw,Ew,$N(r)),Uo(Tw,Ew,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=300,WN=l3("authIdTokenMaxAge")||GN;let Aw=null;const XN=r=>async t=>{const e=t&&await t.getIdTokenResult(),n=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(n&&n>WN)return;const s=e==null?void 0:e.token;Aw!==s&&(Aw=s,await fetch(r,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function YN(r=p3()){const t=G1(r,"auth");if(t.isInitialized())return t.getImmediate();const e=NA(r,{popupRedirectResolver:zN,persistence:[eN,zA,V3]}),n=l3("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(n,location.origin);if(location.origin===i.origin){const a=XN(i.toString());LA(e,a,()=>a(e.currentUser)),PA(e,l=>a(l))}}const s=i3("auth");return s&&RA(e,`http://${s}`),e}function KN(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}kA({loadJS(r){return new Promise((t,e)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=t,n.onerror=s=>{const i=Ua("internal-error");i.customData=s,e(i)},n.type="text/javascript",n.charset="UTF-8",KN().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qN("Browser");var Nw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zo,Q3;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,O){function F(){}F.prototype=O.prototype,V.F=O.prototype,V.prototype=new F,V.prototype.constructor=V,V.D=function(B,W,P){for(var N=Array(arguments.length-2),D=2;D<arguments.length;D++)N[D-2]=arguments[D];return O.prototype[W].apply(B,N)}}function e(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(n,e),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(V,O,F){F||(F=0);const B=Array(16);if(typeof O=="string")for(var W=0;W<16;++W)B[W]=O.charCodeAt(F++)|O.charCodeAt(F++)<<8|O.charCodeAt(F++)<<16|O.charCodeAt(F++)<<24;else for(W=0;W<16;++W)B[W]=O[F++]|O[F++]<<8|O[F++]<<16|O[F++]<<24;O=V.g[0],F=V.g[1],W=V.g[2];let P=V.g[3],N;N=O+(P^F&(W^P))+B[0]+3614090360&4294967295,O=F+(N<<7&4294967295|N>>>25),N=P+(W^O&(F^W))+B[1]+3905402710&4294967295,P=O+(N<<12&4294967295|N>>>20),N=W+(F^P&(O^F))+B[2]+606105819&4294967295,W=P+(N<<17&4294967295|N>>>15),N=F+(O^W&(P^O))+B[3]+3250441966&4294967295,F=W+(N<<22&4294967295|N>>>10),N=O+(P^F&(W^P))+B[4]+4118548399&4294967295,O=F+(N<<7&4294967295|N>>>25),N=P+(W^O&(F^W))+B[5]+1200080426&4294967295,P=O+(N<<12&4294967295|N>>>20),N=W+(F^P&(O^F))+B[6]+2821735955&4294967295,W=P+(N<<17&4294967295|N>>>15),N=F+(O^W&(P^O))+B[7]+4249261313&4294967295,F=W+(N<<22&4294967295|N>>>10),N=O+(P^F&(W^P))+B[8]+1770035416&4294967295,O=F+(N<<7&4294967295|N>>>25),N=P+(W^O&(F^W))+B[9]+2336552879&4294967295,P=O+(N<<12&4294967295|N>>>20),N=W+(F^P&(O^F))+B[10]+4294925233&4294967295,W=P+(N<<17&4294967295|N>>>15),N=F+(O^W&(P^O))+B[11]+2304563134&4294967295,F=W+(N<<22&4294967295|N>>>10),N=O+(P^F&(W^P))+B[12]+1804603682&4294967295,O=F+(N<<7&4294967295|N>>>25),N=P+(W^O&(F^W))+B[13]+4254626195&4294967295,P=O+(N<<12&4294967295|N>>>20),N=W+(F^P&(O^F))+B[14]+2792965006&4294967295,W=P+(N<<17&4294967295|N>>>15),N=F+(O^W&(P^O))+B[15]+1236535329&4294967295,F=W+(N<<22&4294967295|N>>>10),N=O+(W^P&(F^W))+B[1]+4129170786&4294967295,O=F+(N<<5&4294967295|N>>>27),N=P+(F^W&(O^F))+B[6]+3225465664&4294967295,P=O+(N<<9&4294967295|N>>>23),N=W+(O^F&(P^O))+B[11]+643717713&4294967295,W=P+(N<<14&4294967295|N>>>18),N=F+(P^O&(W^P))+B[0]+3921069994&4294967295,F=W+(N<<20&4294967295|N>>>12),N=O+(W^P&(F^W))+B[5]+3593408605&4294967295,O=F+(N<<5&4294967295|N>>>27),N=P+(F^W&(O^F))+B[10]+38016083&4294967295,P=O+(N<<9&4294967295|N>>>23),N=W+(O^F&(P^O))+B[15]+3634488961&4294967295,W=P+(N<<14&4294967295|N>>>18),N=F+(P^O&(W^P))+B[4]+3889429448&4294967295,F=W+(N<<20&4294967295|N>>>12),N=O+(W^P&(F^W))+B[9]+568446438&4294967295,O=F+(N<<5&4294967295|N>>>27),N=P+(F^W&(O^F))+B[14]+3275163606&4294967295,P=O+(N<<9&4294967295|N>>>23),N=W+(O^F&(P^O))+B[3]+4107603335&4294967295,W=P+(N<<14&4294967295|N>>>18),N=F+(P^O&(W^P))+B[8]+1163531501&4294967295,F=W+(N<<20&4294967295|N>>>12),N=O+(W^P&(F^W))+B[13]+2850285829&4294967295,O=F+(N<<5&4294967295|N>>>27),N=P+(F^W&(O^F))+B[2]+4243563512&4294967295,P=O+(N<<9&4294967295|N>>>23),N=W+(O^F&(P^O))+B[7]+1735328473&4294967295,W=P+(N<<14&4294967295|N>>>18),N=F+(P^O&(W^P))+B[12]+2368359562&4294967295,F=W+(N<<20&4294967295|N>>>12),N=O+(F^W^P)+B[5]+4294588738&4294967295,O=F+(N<<4&4294967295|N>>>28),N=P+(O^F^W)+B[8]+2272392833&4294967295,P=O+(N<<11&4294967295|N>>>21),N=W+(P^O^F)+B[11]+1839030562&4294967295,W=P+(N<<16&4294967295|N>>>16),N=F+(W^P^O)+B[14]+4259657740&4294967295,F=W+(N<<23&4294967295|N>>>9),N=O+(F^W^P)+B[1]+2763975236&4294967295,O=F+(N<<4&4294967295|N>>>28),N=P+(O^F^W)+B[4]+1272893353&4294967295,P=O+(N<<11&4294967295|N>>>21),N=W+(P^O^F)+B[7]+4139469664&4294967295,W=P+(N<<16&4294967295|N>>>16),N=F+(W^P^O)+B[10]+3200236656&4294967295,F=W+(N<<23&4294967295|N>>>9),N=O+(F^W^P)+B[13]+681279174&4294967295,O=F+(N<<4&4294967295|N>>>28),N=P+(O^F^W)+B[0]+3936430074&4294967295,P=O+(N<<11&4294967295|N>>>21),N=W+(P^O^F)+B[3]+3572445317&4294967295,W=P+(N<<16&4294967295|N>>>16),N=F+(W^P^O)+B[6]+76029189&4294967295,F=W+(N<<23&4294967295|N>>>9),N=O+(F^W^P)+B[9]+3654602809&4294967295,O=F+(N<<4&4294967295|N>>>28),N=P+(O^F^W)+B[12]+3873151461&4294967295,P=O+(N<<11&4294967295|N>>>21),N=W+(P^O^F)+B[15]+530742520&4294967295,W=P+(N<<16&4294967295|N>>>16),N=F+(W^P^O)+B[2]+3299628645&4294967295,F=W+(N<<23&4294967295|N>>>9),N=O+(W^(F|~P))+B[0]+4096336452&4294967295,O=F+(N<<6&4294967295|N>>>26),N=P+(F^(O|~W))+B[7]+1126891415&4294967295,P=O+(N<<10&4294967295|N>>>22),N=W+(O^(P|~F))+B[14]+2878612391&4294967295,W=P+(N<<15&4294967295|N>>>17),N=F+(P^(W|~O))+B[5]+4237533241&4294967295,F=W+(N<<21&4294967295|N>>>11),N=O+(W^(F|~P))+B[12]+1700485571&4294967295,O=F+(N<<6&4294967295|N>>>26),N=P+(F^(O|~W))+B[3]+2399980690&4294967295,P=O+(N<<10&4294967295|N>>>22),N=W+(O^(P|~F))+B[10]+4293915773&4294967295,W=P+(N<<15&4294967295|N>>>17),N=F+(P^(W|~O))+B[1]+2240044497&4294967295,F=W+(N<<21&4294967295|N>>>11),N=O+(W^(F|~P))+B[8]+1873313359&4294967295,O=F+(N<<6&4294967295|N>>>26),N=P+(F^(O|~W))+B[15]+4264355552&4294967295,P=O+(N<<10&4294967295|N>>>22),N=W+(O^(P|~F))+B[6]+2734768916&4294967295,W=P+(N<<15&4294967295|N>>>17),N=F+(P^(W|~O))+B[13]+1309151649&4294967295,F=W+(N<<21&4294967295|N>>>11),N=O+(W^(F|~P))+B[4]+4149444226&4294967295,O=F+(N<<6&4294967295|N>>>26),N=P+(F^(O|~W))+B[11]+3174756917&4294967295,P=O+(N<<10&4294967295|N>>>22),N=W+(O^(P|~F))+B[2]+718787259&4294967295,W=P+(N<<15&4294967295|N>>>17),N=F+(P^(W|~O))+B[9]+3951481745&4294967295,V.g[0]=V.g[0]+O&4294967295,V.g[1]=V.g[1]+(W+(N<<21&4294967295|N>>>11))&4294967295,V.g[2]=V.g[2]+W&4294967295,V.g[3]=V.g[3]+P&4294967295}n.prototype.v=function(V,O){O===void 0&&(O=V.length);const F=O-this.blockSize,B=this.C;let W=this.h,P=0;for(;P<O;){if(W==0)for(;P<=F;)s(this,V,P),P+=this.blockSize;if(typeof V=="string"){for(;P<O;)if(B[W++]=V.charCodeAt(P++),W==this.blockSize){s(this,B),W=0;break}}else for(;P<O;)if(B[W++]=V[P++],W==this.blockSize){s(this,B),W=0;break}}this.h=W,this.o+=O},n.prototype.A=function(){var V=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);V[0]=128;for(var O=1;O<V.length-8;++O)V[O]=0;O=this.o*8;for(var F=V.length-8;F<V.length;++F)V[F]=O&255,O/=256;for(this.v(V),V=Array(16),O=0,F=0;F<4;++F)for(let B=0;B<32;B+=8)V[O++]=this.g[F]>>>B&255;return V};function i(V,O){var F=l;return Object.prototype.hasOwnProperty.call(F,V)?F[V]:F[V]=O(V)}function a(V,O){this.h=O;const F=[];let B=!0;for(let W=V.length-1;W>=0;W--){const P=V[W]|0;B&&P==O||(F[W]=P,B=!1)}this.g=F}var l={};function c(V){return-128<=V&&V<128?i(V,function(O){return new a([O|0],O<0?-1:0)}):new a([V|0],V<0?-1:0)}function o(V){if(isNaN(V)||!isFinite(V))return p;if(V<0)return g(o(-V));const O=[];let F=1;for(let B=0;V>=F;B++)O[B]=V/F|0,F*=4294967296;return new a(O,0)}function u(V,O){if(V.length==0)throw Error("number format error: empty string");if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(V.charAt(0)=="-")return g(u(V.substring(1),O));if(V.indexOf("-")>=0)throw Error('number format error: interior "-" character');const F=o(Math.pow(O,8));let B=p;for(let P=0;P<V.length;P+=8){var W=Math.min(8,V.length-P);const N=parseInt(V.substring(P,P+W),O);W<8?(W=o(Math.pow(O,W)),B=B.j(W).add(o(N))):(B=B.j(F),B=B.add(o(N)))}return B}var p=c(0),h=c(1),d=c(16777216);r=a.prototype,r.m=function(){if(x(this))return-g(this).m();let V=0,O=1;for(let F=0;F<this.g.length;F++){const B=this.i(F);V+=(B>=0?B:4294967296+B)*O,O*=4294967296}return V},r.toString=function(V){if(V=V||10,V<2||36<V)throw Error("radix out of range: "+V);if(b(this))return"0";if(x(this))return"-"+g(this).toString(V);const O=o(Math.pow(V,6));var F=this;let B="";for(;;){const W=R(F,O).g;F=w(F,W.j(O));let P=((F.g.length>0?F.g[0]:F.h)>>>0).toString(V);if(F=W,b(F))return P+B;for(;P.length<6;)P="0"+P;B=P+B}},r.i=function(V){return V<0?0:V<this.g.length?this.g[V]:this.h};function b(V){if(V.h!=0)return!1;for(let O=0;O<V.g.length;O++)if(V.g[O]!=0)return!1;return!0}function x(V){return V.h==-1}r.l=function(V){return V=w(this,V),x(V)?-1:b(V)?0:1};function g(V){const O=V.g.length,F=[];for(let B=0;B<O;B++)F[B]=~V.g[B];return new a(F,~V.h).add(h)}r.abs=function(){return x(this)?g(this):this},r.add=function(V){const O=Math.max(this.g.length,V.g.length),F=[];let B=0;for(let W=0;W<=O;W++){let P=B+(this.i(W)&65535)+(V.i(W)&65535),N=(P>>>16)+(this.i(W)>>>16)+(V.i(W)>>>16);B=N>>>16,P&=65535,N&=65535,F[W]=N<<16|P}return new a(F,F[F.length-1]&-2147483648?-1:0)};function w(V,O){return V.add(g(O))}r.j=function(V){if(b(this)||b(V))return p;if(x(this))return x(V)?g(this).j(g(V)):g(g(this).j(V));if(x(V))return g(this.j(g(V)));if(this.l(d)<0&&V.l(d)<0)return o(this.m()*V.m());const O=this.g.length+V.g.length,F=[];for(var B=0;B<2*O;B++)F[B]=0;for(B=0;B<this.g.length;B++)for(let W=0;W<V.g.length;W++){const P=this.i(B)>>>16,N=this.i(B)&65535,D=V.i(W)>>>16,C=V.i(W)&65535;F[2*B+2*W]+=N*C,v(F,2*B+2*W),F[2*B+2*W+1]+=P*C,v(F,2*B+2*W+1),F[2*B+2*W+1]+=N*D,v(F,2*B+2*W+1),F[2*B+2*W+2]+=P*D,v(F,2*B+2*W+2)}for(V=0;V<O;V++)F[V]=F[2*V+1]<<16|F[2*V];for(V=O;V<2*O;V++)F[V]=0;return new a(F,0)};function v(V,O){for(;(V[O]&65535)!=V[O];)V[O+1]+=V[O]>>>16,V[O]&=65535,O++}function k(V,O){this.g=V,this.h=O}function R(V,O){if(b(O))throw Error("division by zero");if(b(V))return new k(p,p);if(x(V))return O=R(g(V),O),new k(g(O.g),g(O.h));if(x(O))return O=R(V,g(O)),new k(g(O.g),O.h);if(V.g.length>30){if(x(V)||x(O))throw Error("slowDivide_ only works with positive integers.");for(var F=h,B=O;B.l(V)<=0;)F=L(F),B=L(B);var W=G(F,1),P=G(B,1);for(B=G(B,2),F=G(F,2);!b(B);){var N=P.add(B);N.l(V)<=0&&(W=W.add(F),P=N),B=G(B,1),F=G(F,1)}return O=w(V,W.j(O)),new k(W,O)}for(W=p;V.l(O)>=0;){for(F=Math.max(1,Math.floor(V.m()/O.m())),B=Math.ceil(Math.log(F)/Math.LN2),B=B<=48?1:Math.pow(2,B-48),P=o(F),N=P.j(O);x(N)||N.l(V)>0;)F-=B,P=o(F),N=P.j(O);b(P)&&(P=h),W=W.add(P),V=w(V,N)}return new k(W,V)}r.B=function(V){return R(this,V).h},r.and=function(V){const O=Math.max(this.g.length,V.g.length),F=[];for(let B=0;B<O;B++)F[B]=this.i(B)&V.i(B);return new a(F,this.h&V.h)},r.or=function(V){const O=Math.max(this.g.length,V.g.length),F=[];for(let B=0;B<O;B++)F[B]=this.i(B)|V.i(B);return new a(F,this.h|V.h)},r.xor=function(V){const O=Math.max(this.g.length,V.g.length),F=[];for(let B=0;B<O;B++)F[B]=this.i(B)^V.i(B);return new a(F,this.h^V.h)};function L(V){const O=V.g.length+1,F=[];for(let B=0;B<O;B++)F[B]=V.i(B)<<1|V.i(B-1)>>>31;return new a(F,V.h)}function G(V,O){const F=O>>5;O%=32;const B=V.g.length-F,W=[];for(let P=0;P<B;P++)W[P]=O>0?V.i(P+F)>>>O|V.i(P+F+1)<<32-O:V.i(P+F);return new a(W,V.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,Q3=n,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=o,a.fromString=u,zo=a}).apply(typeof Nw<"u"?Nw:typeof self<"u"?self:typeof window<"u"?window:{});var Bd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Z3,hf,J3,i0,l1,e5,t5,r5;(function(){var r,t=Object.defineProperty;function e(X){X=[typeof globalThis=="object"&&globalThis,X,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bd=="object"&&Bd];for(var ne=0;ne<X.length;++ne){var ue=X[ne];if(ue&&ue.Math==Math)return ue}throw Error("Cannot find global object")}var n=e(this);function s(X,ne){if(ne)e:{var ue=n;X=X.split(".");for(var Se=0;Se<X.length-1;Se++){var st=X[Se];if(!(st in ue))break e;ue=ue[st]}X=X[X.length-1],Se=ue[X],ne=ne(Se),ne!=Se&&ne!=null&&t(ue,X,{configurable:!0,writable:!0,value:ne})}}s("Symbol.dispose",function(X){return X||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(X){return X||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(X){return X||function(ne){var ue=[],Se;for(Se in ne)Object.prototype.hasOwnProperty.call(ne,Se)&&ue.push([Se,ne[Se]]);return ue}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},a=this||self;function l(X){var ne=typeof X;return ne=="object"&&X!=null||ne=="function"}function c(X,ne,ue){return X.call.apply(X.bind,arguments)}function o(X,ne,ue){return o=c,o.apply(null,arguments)}function u(X,ne){var ue=Array.prototype.slice.call(arguments,1);return function(){var Se=ue.slice();return Se.push.apply(Se,arguments),X.apply(this,Se)}}function p(X,ne){function ue(){}ue.prototype=ne.prototype,X.Z=ne.prototype,X.prototype=new ue,X.prototype.constructor=X,X.Ob=function(Se,st,dt){for(var Ot=Array(arguments.length-2),cr=2;cr<arguments.length;cr++)Ot[cr-2]=arguments[cr];return ne.prototype[st].apply(Se,Ot)}}var h=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?X=>X&&AsyncContext.Snapshot.wrap(X):X=>X;function d(X){const ne=X.length;if(ne>0){const ue=Array(ne);for(let Se=0;Se<ne;Se++)ue[Se]=X[Se];return ue}return[]}function b(X,ne){for(let Se=1;Se<arguments.length;Se++){const st=arguments[Se];var ue=typeof st;if(ue=ue!="object"?ue:st?Array.isArray(st)?"array":ue:"null",ue=="array"||ue=="object"&&typeof st.length=="number"){ue=X.length||0;const dt=st.length||0;X.length=ue+dt;for(let Ot=0;Ot<dt;Ot++)X[ue+Ot]=st[Ot]}else X.push(st)}}class x{constructor(ne,ue){this.i=ne,this.j=ue,this.h=0,this.g=null}get(){let ne;return this.h>0?(this.h--,ne=this.g,this.g=ne.next,ne.next=null):ne=this.i(),ne}}function g(X){a.setTimeout(()=>{throw X},0)}function w(){var X=V;let ne=null;return X.g&&(ne=X.g,X.g=X.g.next,X.g||(X.h=null),ne.next=null),ne}class v{constructor(){this.h=this.g=null}add(ne,ue){const Se=k.get();Se.set(ne,ue),this.h?this.h.next=Se:this.g=Se,this.h=Se}}var k=new x(()=>new R,X=>X.reset());class R{constructor(){this.next=this.g=this.h=null}set(ne,ue){this.h=ne,this.g=ue,this.next=null}reset(){this.next=this.g=this.h=null}}let L,G=!1,V=new v,O=()=>{const X=Promise.resolve(void 0);L=()=>{X.then(F)}};function F(){for(var X;X=w();){try{X.h.call(X.g)}catch(ue){g(ue)}var ne=k;ne.j(X),ne.h<100&&(ne.h++,X.next=ne.g,ne.g=X)}G=!1}function B(){this.u=this.u,this.C=this.C}B.prototype.u=!1,B.prototype.dispose=function(){this.u||(this.u=!0,this.N())},B.prototype[Symbol.dispose]=function(){this.dispose()},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(X,ne){this.type=X,this.g=this.target=ne,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var X=!1,ne=Object.defineProperty({},"passive",{get:function(){X=!0}});try{const ue=()=>{};a.addEventListener("test",ue,ne),a.removeEventListener("test",ue,ne)}catch{}return X})();function N(X){return/^[\s\xa0]*$/.test(X)}function D(X,ne){W.call(this,X?X.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,X&&this.init(X,ne)}p(D,W),D.prototype.init=function(X,ne){const ue=this.type=X.type,Se=X.changedTouches&&X.changedTouches.length?X.changedTouches[0]:null;this.target=X.target||X.srcElement,this.g=ne,ne=X.relatedTarget,ne||(ue=="mouseover"?ne=X.fromElement:ue=="mouseout"&&(ne=X.toElement)),this.relatedTarget=ne,Se?(this.clientX=Se.clientX!==void 0?Se.clientX:Se.pageX,this.clientY=Se.clientY!==void 0?Se.clientY:Se.pageY,this.screenX=Se.screenX||0,this.screenY=Se.screenY||0):(this.clientX=X.clientX!==void 0?X.clientX:X.pageX,this.clientY=X.clientY!==void 0?X.clientY:X.pageY,this.screenX=X.screenX||0,this.screenY=X.screenY||0),this.button=X.button,this.key=X.key||"",this.ctrlKey=X.ctrlKey,this.altKey=X.altKey,this.shiftKey=X.shiftKey,this.metaKey=X.metaKey,this.pointerId=X.pointerId||0,this.pointerType=X.pointerType,this.state=X.state,this.i=X,X.defaultPrevented&&D.Z.h.call(this)},D.prototype.h=function(){D.Z.h.call(this);const X=this.i;X.preventDefault?X.preventDefault():X.returnValue=!1};var C="closure_listenable_"+(Math.random()*1e6|0),S=0;function T(X,ne,ue,Se,st){this.listener=X,this.proxy=null,this.src=ne,this.type=ue,this.capture=!!Se,this.ha=st,this.key=++S,this.da=this.fa=!1}function A(X){X.da=!0,X.listener=null,X.proxy=null,X.src=null,X.ha=null}function E(X,ne,ue){for(const Se in X)ne.call(ue,X[Se],Se,X)}function j(X,ne){for(const ue in X)ne.call(void 0,X[ue],ue,X)}function U(X){const ne={};for(const ue in X)ne[ue]=X[ue];return ne}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Q(X,ne){let ue,Se;for(let st=1;st<arguments.length;st++){Se=arguments[st];for(ue in Se)X[ue]=Se[ue];for(let dt=0;dt<I.length;dt++)ue=I[dt],Object.prototype.hasOwnProperty.call(Se,ue)&&(X[ue]=Se[ue])}}function Y(X){this.src=X,this.g={},this.h=0}Y.prototype.add=function(X,ne,ue,Se,st){const dt=X.toString();X=this.g[dt],X||(X=this.g[dt]=[],this.h++);const Ot=q(X,ne,Se,st);return Ot>-1?(ne=X[Ot],ue||(ne.fa=!1)):(ne=new T(ne,this.src,dt,!!Se,st),ne.fa=ue,X.push(ne)),ne};function ee(X,ne){const ue=ne.type;if(ue in X.g){var Se=X.g[ue],st=Array.prototype.indexOf.call(Se,ne,void 0),dt;(dt=st>=0)&&Array.prototype.splice.call(Se,st,1),dt&&(A(ne),X.g[ue].length==0&&(delete X.g[ue],X.h--))}}function q(X,ne,ue,Se){for(let st=0;st<X.length;++st){const dt=X[st];if(!dt.da&&dt.listener==ne&&dt.capture==!!ue&&dt.ha==Se)return st}return-1}var te="closure_lm_"+(Math.random()*1e6|0),H={};function z(X,ne,ue,Se,st){if(Array.isArray(ne)){for(let dt=0;dt<ne.length;dt++)z(X,ne[dt],ue,Se,st);return null}return ue=xe(ue),X&&X[C]?X.J(ne,ue,l(Se)?!!Se.capture:!1,st):Z(X,ne,ue,!1,Se,st)}function Z(X,ne,ue,Se,st,dt){if(!ne)throw Error("Invalid event type");const Ot=l(st)?!!st.capture:!!st;let cr=ge(X);if(cr||(X[te]=cr=new Y(X)),ue=cr.add(ne,ue,Se,Ot,dt),ue.proxy)return ue;if(Se=ae(),ue.proxy=Se,Se.src=X,Se.listener=ue,X.addEventListener)P||(st=Ot),st===void 0&&(st=!1),X.addEventListener(ne.toString(),Se,st);else if(X.attachEvent)X.attachEvent(de(ne.toString()),Se);else if(X.addListener&&X.removeListener)X.addListener(Se);else throw Error("addEventListener and attachEvent are unavailable.");return ue}function ae(){function X(ue){return ne.call(X.src,X.listener,ue)}const ne=ve;return X}function re(X,ne,ue,Se,st){if(Array.isArray(ne))for(var dt=0;dt<ne.length;dt++)re(X,ne[dt],ue,Se,st);else Se=l(Se)?!!Se.capture:!!Se,ue=xe(ue),X&&X[C]?(X=X.i,dt=String(ne).toString(),dt in X.g&&(ne=X.g[dt],ue=q(ne,ue,Se,st),ue>-1&&(A(ne[ue]),Array.prototype.splice.call(ne,ue,1),ne.length==0&&(delete X.g[dt],X.h--)))):X&&(X=ge(X))&&(ne=X.g[ne.toString()],X=-1,ne&&(X=q(ne,ue,Se,st)),(ue=X>-1?ne[X]:null)&&le(ue))}function le(X){if(typeof X!="number"&&X&&!X.da){var ne=X.src;if(ne&&ne[C])ee(ne.i,X);else{var ue=X.type,Se=X.proxy;ne.removeEventListener?ne.removeEventListener(ue,Se,X.capture):ne.detachEvent?ne.detachEvent(de(ue),Se):ne.addListener&&ne.removeListener&&ne.removeListener(Se),(ue=ge(ne))?(ee(ue,X),ue.h==0&&(ue.src=null,ne[te]=null)):A(X)}}}function de(X){return X in H?H[X]:H[X]="on"+X}function ve(X,ne){if(X.da)X=!0;else{ne=new D(ne,this);const ue=X.listener,Se=X.ha||X.src;X.fa&&le(X),X=ue.call(Se,ne)}return X}function ge(X){return X=X[te],X instanceof Y?X:null}var se="__closure_events_fn_"+(Math.random()*1e9>>>0);function xe(X){return typeof X=="function"?X:(X[se]||(X[se]=function(ne){return X.handleEvent(ne)}),X[se])}function pe(){B.call(this),this.i=new Y(this),this.M=this,this.G=null}p(pe,B),pe.prototype[C]=!0,pe.prototype.removeEventListener=function(X,ne,ue,Se){re(this,X,ne,ue,Se)};function Te(X,ne){var ue,Se=X.G;if(Se)for(ue=[];Se;Se=Se.G)ue.push(Se);if(X=X.M,Se=ne.type||ne,typeof ne=="string")ne=new W(ne,X);else if(ne instanceof W)ne.target=ne.target||X;else{var st=ne;ne=new W(Se,X),Q(ne,st)}st=!0;let dt,Ot;if(ue)for(Ot=ue.length-1;Ot>=0;Ot--)dt=ne.g=ue[Ot],st=ke(dt,Se,!0,ne)&&st;if(dt=ne.g=X,st=ke(dt,Se,!0,ne)&&st,st=ke(dt,Se,!1,ne)&&st,ue)for(Ot=0;Ot<ue.length;Ot++)dt=ne.g=ue[Ot],st=ke(dt,Se,!1,ne)&&st}pe.prototype.N=function(){if(pe.Z.N.call(this),this.i){var X=this.i;for(const ne in X.g){const ue=X.g[ne];for(let Se=0;Se<ue.length;Se++)A(ue[Se]);delete X.g[ne],X.h--}}this.G=null},pe.prototype.J=function(X,ne,ue,Se){return this.i.add(String(X),ne,!1,ue,Se)},pe.prototype.K=function(X,ne,ue,Se){return this.i.add(String(X),ne,!0,ue,Se)};function ke(X,ne,ue,Se){if(ne=X.i.g[String(ne)],!ne)return!0;ne=ne.concat();let st=!0;for(let dt=0;dt<ne.length;++dt){const Ot=ne[dt];if(Ot&&!Ot.da&&Ot.capture==ue){const cr=Ot.listener,mn=Ot.ha||Ot.src;Ot.fa&&ee(X.i,Ot),st=cr.call(mn,Se)!==!1&&st}}return st&&!Se.defaultPrevented}function Re(X,ne){if(typeof X!="function")if(X&&typeof X.handleEvent=="function")X=o(X.handleEvent,X);else throw Error("Invalid listener argument");return Number(ne)>2147483647?-1:a.setTimeout(X,ne||0)}function $e(X){X.g=Re(()=>{X.g=null,X.i&&(X.i=!1,$e(X))},X.l);const ne=X.h;X.h=null,X.m.apply(null,ne)}class Pe extends B{constructor(ne,ue){super(),this.m=ne,this.l=ue,this.h=null,this.i=!1,this.g=null}j(ne){this.h=arguments,this.g?this.i=!0:$e(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Je(X){B.call(this),this.h=X,this.g={}}p(Je,B);var Ze=[];function Ye(X){E(X.g,function(ne,ue){this.g.hasOwnProperty(ue)&&le(ne)},X),X.g={}}Je.prototype.N=function(){Je.Z.N.call(this),Ye(this)},Je.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xe=a.JSON.stringify,ut=a.JSON.parse,ot=class{stringify(X){return a.JSON.stringify(X,void 0)}parse(X){return a.JSON.parse(X,void 0)}};function je(){}function He(){}var Ne={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ie(){W.call(this,"d")}p(Ie,W);function lt(){W.call(this,"c")}p(lt,W);var Ue={},We=null;function bt(){return We=We||new pe}Ue.Ia="serverreachability";function yt(X){W.call(this,Ue.Ia,X)}p(yt,W);function nt(X){const ne=bt();Te(ne,new yt(ne))}Ue.STAT_EVENT="statevent";function Et(X,ne){W.call(this,Ue.STAT_EVENT,X),this.stat=ne}p(Et,W);function Oe(X){const ne=bt();Te(ne,new Et(ne,X))}Ue.Ja="timingevent";function Ce(X,ne){W.call(this,Ue.Ja,X),this.size=ne}p(Ce,W);function rt(X,ne){if(typeof X!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){X()},ne)}function pt(){this.g=!0}pt.prototype.ua=function(){this.g=!1};function ft(X,ne,ue,Se,st,dt){X.info(function(){if(X.g)if(dt){var Ot="",cr=dt.split("&");for(let Ir=0;Ir<cr.length;Ir++){var mn=cr[Ir].split("=");if(mn.length>1){const en=mn[0];mn=mn[1];const oa=en.split("_");Ot=oa.length>=2&&oa[1]=="type"?Ot+(en+"="+mn+"&"):Ot+(en+"=redacted&")}}}else Ot=null;else Ot=dt;return"XMLHTTP REQ ("+Se+") [attempt "+st+"]: "+ne+`
`+ue+`
`+Ot})}function Mt(X,ne,ue,Se,st,dt,Ot){X.info(function(){return"XMLHTTP RESP ("+Se+") [ attempt "+st+"]: "+ne+`
`+ue+`
`+dt+" "+Ot})}function At(X,ne,ue,Se){X.info(function(){return"XMLHTTP TEXT ("+ne+"): "+ze(X,ue)+(Se?" "+Se:"")})}function wt(X,ne){X.info(function(){return"TIMEOUT: "+ne})}pt.prototype.info=function(){};function ze(X,ne){if(!X.g)return ne;if(!ne)return null;try{const dt=JSON.parse(ne);if(dt){for(X=0;X<dt.length;X++)if(Array.isArray(dt[X])){var ue=dt[X];if(!(ue.length<2)){var Se=ue[1];if(Array.isArray(Se)&&!(Se.length<1)){var st=Se[0];if(st!="noop"&&st!="stop"&&st!="close")for(let Ot=1;Ot<Se.length;Ot++)Se[Ot]=""}}}}return Xe(dt)}catch{return ne}}var ht={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Qe={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ee;function Ve(){}p(Ve,je),Ve.prototype.g=function(){return new XMLHttpRequest},Ee=new Ve;function et(X){return encodeURIComponent(String(X))}function ce(X){var ne=1;X=X.split(":");const ue=[];for(;ne>0&&X.length;)ue.push(X.shift()),ne--;return X.length&&ue.push(X.join(":")),ue}function ye(X,ne,ue,Se){this.j=X,this.i=ne,this.l=ue,this.S=Se||1,this.V=new Je(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ie}function ie(){this.i=null,this.g="",this.h=!1}var fe={},he={};function me(X,ne,ue){X.M=1,X.A=ys(Kt(ne)),X.u=ue,X.R=!0,Ae(X,null)}function Ae(X,ne){X.F=Date.now(),qe(X),X.B=Kt(X.A);var ue=X.B,Se=X.S;Array.isArray(Se)||(Se=[String(Se)]),qs(ue.i,"t",Se),X.C=0,ue=X.j.L,X.h=new ie,X.g=Mh(X.j,ue?ne:null,!X.u),X.P>0&&(X.O=new Pe(o(X.Y,X,X.g),X.P)),ne=X.V,ue=X.g,Se=X.ba;var st="readystatechange";Array.isArray(st)||(st&&(Ze[0]=st.toString()),st=Ze);for(let dt=0;dt<st.length;dt++){const Ot=z(ue,st[dt],Se||ne.handleEvent,!1,ne.h||ne);if(!Ot)break;ne.g[Ot.key]=Ot}ne=X.J?U(X.J):{},X.u?(X.v||(X.v="POST"),ne["Content-Type"]="application/x-www-form-urlencoded",X.g.ea(X.B,X.v,X.u,ne)):(X.v="GET",X.g.ea(X.B,X.v,null,ne)),nt(),ft(X.i,X.v,X.B,X.l,X.S,X.u)}ye.prototype.ba=function(X){X=X.target;const ne=this.O;ne&&Na(X)==3?ne.j():this.Y(X)},ye.prototype.Y=function(X){try{if(X==this.g)e:{const cr=Na(this.g),mn=this.g.ya(),Ir=this.g.ca();if(!(cr<3)&&(cr!=3||this.g&&(this.h.h||this.g.la()||qn(this.g)))){this.K||cr!=4||mn==7||(mn==8||Ir<=0?nt(3):nt(2)),vt(this);var ne=this.g.ca();this.X=ne;var ue=Le(this);if(this.o=ne==200,Mt(this.i,this.v,this.B,this.l,this.S,cr,ne),this.o){if(this.U&&!this.L){t:{if(this.g){var Se,st=this.g;if((Se=st.g?st.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(Se)){var dt=Se;break t}}dt=null}if(X=dt)At(this.i,this.l,X,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Me(this,X);else{this.o=!1,this.m=3,Oe(12),be(this),Ct(this);break e}}if(this.R){X=!0;let en;for(;!this.K&&this.C<ue.length;)if(en=Fe(this,ue),en==he){cr==4&&(this.m=4,Oe(14),X=!1),At(this.i,this.l,null,"[Incomplete Response]");break}else if(en==fe){this.m=4,Oe(15),At(this.i,this.l,ue,"[Invalid Chunk]"),X=!1;break}else At(this.i,this.l,en,null),Me(this,en);if(De(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),cr!=4||ue.length!=0||this.h.h||(this.m=1,Oe(16),X=!1),this.o=this.o&&X,!X)At(this.i,this.l,ue,"[Invalid Chunked Response]"),be(this),Ct(this);else if(ue.length>0&&!this.W){this.W=!0;var Ot=this.j;Ot.g==this&&Ot.aa&&!Ot.P&&(Ot.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),ku(Ot),Ot.P=!0,Oe(11))}}else At(this.i,this.l,ue,null),Me(this,ue);cr==4&&be(this),this.o&&!this.K&&(cr==4?Ah(this.j,this):(this.o=!1,qe(this)))}else xi(this.g),ne==400&&ue.indexOf("Unknown SID")>0?(this.m=3,Oe(12)):(this.m=0,Oe(13)),be(this),Ct(this)}}}catch{}finally{}};function Le(X){if(!De(X))return X.g.la();const ne=qn(X.g);if(ne==="")return"";let ue="";const Se=ne.length,st=Na(X.g)==4;if(!X.h.i){if(typeof TextDecoder>"u")return be(X),Ct(X),"";X.h.i=new a.TextDecoder}for(let dt=0;dt<Se;dt++)X.h.h=!0,ue+=X.h.i.decode(ne[dt],{stream:!(st&&dt==Se-1)});return ne.length=0,X.h.g+=ue,X.C=0,X.h.g}function De(X){return X.g?X.v=="GET"&&X.M!=2&&X.j.Aa:!1}function Fe(X,ne){var ue=X.C,Se=ne.indexOf(`
`,ue);return Se==-1?he:(ue=Number(ne.substring(ue,Se)),isNaN(ue)?fe:(Se+=1,Se+ue>ne.length?he:(ne=ne.slice(Se,Se+ue),X.C=Se+ue,ne)))}ye.prototype.cancel=function(){this.K=!0,be(this)};function qe(X){X.T=Date.now()+X.H,xt(X,X.H)}function xt(X,ne){if(X.D!=null)throw Error("WatchDog timer not null");X.D=rt(o(X.aa,X),ne)}function vt(X){X.D&&(a.clearTimeout(X.D),X.D=null)}ye.prototype.aa=function(){this.D=null;const X=Date.now();X-this.T>=0?(wt(this.i,this.B),this.M!=2&&(nt(),Oe(17)),be(this),this.m=2,Ct(this)):xt(this,this.T-X)};function Ct(X){X.j.I==0||X.K||Ah(X.j,X)}function be(X){vt(X);var ne=X.O;ne&&typeof ne.dispose=="function"&&ne.dispose(),X.O=null,Ye(X.V),X.g&&(ne=X.g,X.g=null,ne.abort(),ne.dispose())}function Me(X,ne){try{var ue=X.j;if(ue.I!=0&&(ue.g==X||Dt(ue.h,X))){if(!X.L&&Dt(ue.h,X)&&ue.I==3){try{var Se=ue.Ba.g.parse(ne)}catch{Se=null}if(Array.isArray(Se)&&Se.length==3){var st=Se;if(st[0]==0){e:if(!ue.v){if(ue.g)if(ue.g.F+3e3<X.F)sc(ue),to(ue);else break e;ll(ue),Oe(18)}}else ue.xa=st[1],0<ue.xa-ue.K&&st[2]<37500&&ue.F&&ue.A==0&&!ue.C&&(ue.C=rt(o(ue.Va,ue),6e3));St(ue.h)<=1&&ue.ta&&(ue.ta=void 0)}else Ka(ue,11)}else if((X.L||ue.g==X)&&sc(ue),!N(ne))for(st=ue.Ba.g.parse(ne),ne=0;ne<st.length;ne++){let Ir=st[ne];const en=Ir[0];if(!(en<=ue.K))if(ue.K=en,Ir=Ir[1],ue.I==2)if(Ir[0]=="c"){ue.M=Ir[1],ue.ba=Ir[2];const oa=Ir[3];oa!=null&&(ue.ka=oa,ue.j.info("VER="+ue.ka));const Qa=Ir[4];Qa!=null&&(ue.za=Qa,ue.j.info("SVER="+ue.za));const Ca=Ir[5];Ca!=null&&typeof Ca=="number"&&Ca>0&&(Se=1.5*Ca,ue.O=Se,ue.j.info("backChannelRequestTimeoutMs_="+Se)),Se=ue;const Ra=X.g;if(Ra){const cl=Ra.g?Ra.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(cl){var dt=Se.h;dt.g||cl.indexOf("spdy")==-1&&cl.indexOf("quic")==-1&&cl.indexOf("h2")==-1||(dt.j=dt.l,dt.g=new Set,dt.h&&(Zt(dt,dt.h),dt.h=null))}if(Se.G){const ac=Ra.g?Ra.g.getResponseHeader("X-HTTP-Session-Id"):null;ac&&(Se.wa=ac,dr(Se.J,Se.G,ac))}}ue.I=3,ue.l&&ue.l.ra(),ue.aa&&(ue.T=Date.now()-X.F,ue.j.info("Handshake RTT: "+ue.T+"ms")),Se=ue;var Ot=X;if(Se.na=Rh(Se,Se.L?Se.ba:null,Se.W),Ot.L){Wt(Se.h,Ot);var cr=Ot,mn=Se.O;mn&&(cr.H=mn),cr.D&&(vt(cr),qe(cr)),Se.g=Ot}else Th(Se);ue.i.length>0&&Ya(ue)}else Ir[0]!="stop"&&Ir[0]!="close"||Ka(ue,7);else ue.I==3&&(Ir[0]=="stop"||Ir[0]=="close"?Ir[0]=="stop"?Ka(ue,7):_u(ue):Ir[0]!="noop"&&ue.l&&ue.l.qa(Ir),ue.A=0)}}nt(4)}catch{}}var Ke=class{constructor(X,ne){this.g=X,this.map=ne}};function gt(X){this.l=X||10,a.PerformanceNavigationTiming?(X=a.performance.getEntriesByType("navigation"),X=X.length>0&&(X[0].nextHopProtocol=="hq"||X[0].nextHopProtocol=="h2")):X=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=X?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function jt(X){return X.h?!0:X.g?X.g.size>=X.j:!1}function St(X){return X.h?1:X.g?X.g.size:0}function Dt(X,ne){return X.h?X.h==ne:X.g?X.g.has(ne):!1}function Zt(X,ne){X.g?X.g.add(ne):X.h=ne}function Wt(X,ne){X.h&&X.h==ne?X.h=null:X.g&&X.g.has(ne)&&X.g.delete(ne)}gt.prototype.cancel=function(){if(this.i=Xt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const X of this.g.values())X.cancel();this.g.clear()}};function Xt(X){if(X.h!=null)return X.i.concat(X.h.G);if(X.g!=null&&X.g.size!==0){let ne=X.i;for(const ue of X.g.values())ne=ne.concat(ue.G);return ne}return d(X.i)}var zt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function er(X,ne){if(X){X=X.split("&");for(let ue=0;ue<X.length;ue++){const Se=X[ue].indexOf("=");let st,dt=null;Se>=0?(st=X[ue].substring(0,Se),dt=X[ue].substring(Se+1)):st=X[ue],ne(st,dt?decodeURIComponent(dt.replace(/\+/g," ")):"")}}}function sr(X){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let ne;X instanceof sr?(this.l=X.l,lr(this,X.j),this.o=X.o,this.g=X.g,$r(this,X.u),this.h=X.h,dn(this,Gs(X.i)),this.m=X.m):X&&(ne=String(X).match(zt))?(this.l=!1,lr(this,ne[1]||"",!0),this.o=Hn(ne[2]||""),this.g=Hn(ne[3]||"",!0),$r(this,ne[4]),this.h=Hn(ne[5]||"",!0),dn(this,ne[6]||"",!0),this.m=Hn(ne[7]||"")):(this.l=!1,this.i=new sn(null,this.l))}sr.prototype.toString=function(){const X=[];var ne=this.j;ne&&X.push(Rs(ne,br,!0),":");var ue=this.g;return(ue||ne=="file")&&(X.push("//"),(ne=this.o)&&X.push(Rs(ne,br,!0),"@"),X.push(et(ue).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),ue=this.u,ue!=null&&X.push(":",String(ue))),(ue=this.h)&&(this.g&&ue.charAt(0)!="/"&&X.push("/"),X.push(Rs(ue,ue.charAt(0)=="/"?Ms:gr,!0))),(ue=this.i.toString())&&X.push("?",ue),(ue=this.m)&&X.push("#",Rs(ue,gi)),X.join("")},sr.prototype.resolve=function(X){const ne=Kt(this);let ue=!!X.j;ue?lr(ne,X.j):ue=!!X.o,ue?ne.o=X.o:ue=!!X.g,ue?ne.g=X.g:ue=X.u!=null;var Se=X.h;if(ue)$r(ne,X.u);else if(ue=!!X.h){if(Se.charAt(0)!="/")if(this.g&&!this.h)Se="/"+Se;else{var st=ne.h.lastIndexOf("/");st!=-1&&(Se=ne.h.slice(0,st+1)+Se)}if(st=Se,st==".."||st==".")Se="";else if(st.indexOf("./")!=-1||st.indexOf("/.")!=-1){Se=st.lastIndexOf("/",0)==0,st=st.split("/");const dt=[];for(let Ot=0;Ot<st.length;){const cr=st[Ot++];cr=="."?Se&&Ot==st.length&&dt.push(""):cr==".."?((dt.length>1||dt.length==1&&dt[0]!="")&&dt.pop(),Se&&Ot==st.length&&dt.push("")):(dt.push(cr),Se=!0)}Se=dt.join("/")}else Se=st}return ue?ne.h=Se:ue=X.i.toString()!=="",ue?dn(ne,Gs(X.i)):ue=!!X.m,ue&&(ne.m=X.m),ne};function Kt(X){return new sr(X)}function lr(X,ne,ue){X.j=ue?Hn(ne,!0):ne,X.j&&(X.j=X.j.replace(/:$/,""))}function $r(X,ne){if(ne){if(ne=Number(ne),isNaN(ne)||ne<0)throw Error("Bad port number "+ne);X.u=ne}else X.u=null}function dn(X,ne,ue){ne instanceof sn?(X.i=ne,Ta(X.i,X.l)):(ue||(ne=Rs(ne,ns)),X.i=new sn(ne,X.l))}function dr(X,ne,ue){X.i.set(ne,ue)}function ys(X){return dr(X,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),X}function Hn(X,ne){return X?ne?decodeURI(X.replace(/%25/g,"%2525")):decodeURIComponent(X):""}function Rs(X,ne,ue){return typeof X=="string"?(X=encodeURI(X).replace(ne,pn),ue&&(X=X.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),X):null}function pn(X){return X=X.charCodeAt(0),"%"+(X>>4&15).toString(16)+(X&15).toString(16)}var br=/[#\/\?@]/g,gr=/[#\?:]/g,Ms=/[#\?]/g,ns=/[#\?@]/g,gi=/#/g;function sn(X,ne){this.h=this.g=null,this.i=X||null,this.j=!!ne}function Jr(X){X.g||(X.g=new Map,X.h=0,X.i&&er(X.i,function(ne,ue){X.add(decodeURIComponent(ne.replace(/\+/g," ")),ue)}))}r=sn.prototype,r.add=function(X,ne){Jr(this),this.i=null,X=ka(this,X);let ue=this.g.get(X);return ue||this.g.set(X,ue=[]),ue.push(ne),this.h+=1,this};function $s(X,ne){Jr(X),ne=ka(X,ne),X.g.has(ne)&&(X.i=null,X.h-=X.g.get(ne).length,X.g.delete(ne))}function Sa(X,ne){return Jr(X),ne=ka(X,ne),X.g.has(ne)}r.forEach=function(X,ne){Jr(this),this.g.forEach(function(ue,Se){ue.forEach(function(st){X.call(ne,st,Se,this)},this)},this)};function qa(X,ne){Jr(X);let ue=[];if(typeof ne=="string")Sa(X,ne)&&(ue=ue.concat(X.g.get(ka(X,ne))));else for(X=Array.from(X.g.values()),ne=0;ne<X.length;ne++)ue=ue.concat(X[ne]);return ue}r.set=function(X,ne){return Jr(this),this.i=null,X=ka(this,X),Sa(this,X)&&(this.h-=this.g.get(X).length),this.g.set(X,[ne]),this.h+=1,this},r.get=function(X,ne){return X?(X=qa(this,X),X.length>0?String(X[0]):ne):ne};function qs(X,ne,ue){$s(X,ne),ue.length>0&&(X.i=null,X.g.set(ka(X,ne),d(ue)),X.h+=ue.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const X=[],ne=Array.from(this.g.keys());for(let Se=0;Se<ne.length;Se++){var ue=ne[Se];const st=et(ue);ue=qa(this,ue);for(let dt=0;dt<ue.length;dt++){let Ot=st;ue[dt]!==""&&(Ot+="="+et(ue[dt])),X.push(Ot)}}return this.i=X.join("&")};function Gs(X){const ne=new sn;return ne.i=X.i,X.g&&(ne.g=new Map(X.g),ne.h=X.h),ne}function ka(X,ne){return ne=String(ne),X.j&&(ne=ne.toLowerCase()),ne}function Ta(X,ne){ne&&!X.j&&(Jr(X),X.i=null,X.g.forEach(function(ue,Se){const st=Se.toLowerCase();Se!=st&&($s(this,Se),qs(this,st,ue))},X)),X.j=ne}function vs(X,ne){const ue=new pt;if(a.Image){const Se=new Image;Se.onload=u($n,ue,"TestLoadImage: loaded",!0,ne,Se),Se.onerror=u($n,ue,"TestLoadImage: error",!1,ne,Se),Se.onabort=u($n,ue,"TestLoadImage: abort",!1,ne,Se),Se.ontimeout=u($n,ue,"TestLoadImage: timeout",!1,ne,Se),a.setTimeout(function(){Se.ontimeout&&Se.ontimeout()},1e4),Se.src=X}else ne(!1)}function Ga(X,ne){const ue=new pt,Se=new AbortController,st=setTimeout(()=>{Se.abort(),$n(ue,"TestPingServer: timeout",!1,ne)},1e4);fetch(X,{signal:Se.signal}).then(dt=>{clearTimeout(st),dt.ok?$n(ue,"TestPingServer: ok",!0,ne):$n(ue,"TestPingServer: server error",!1,ne)}).catch(()=>{clearTimeout(st),$n(ue,"TestPingServer: error",!1,ne)})}function $n(X,ne,ue,Se,st){try{st&&(st.onload=null,st.onerror=null,st.onabort=null,st.ontimeout=null),Se(ue)}catch{}}function Ea(){this.g=new ot}function ws(X){this.i=X.Sb||null,this.h=X.ab||!1}p(ws,je),ws.prototype.g=function(){return new aa(this.i,this.h)};function aa(X,ne){pe.call(this),this.H=X,this.o=ne,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(aa,pe),r=aa.prototype,r.open=function(X,ne){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=X,this.D=ne,this.readyState=1,Aa(this)},r.send=function(X){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const ne={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};X&&(ne.body=X),(this.H||a).fetch(new Request(this.D,ne)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ji(this)),this.readyState=0},r.Pa=function(X){if(this.g&&(this.l=X,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=X.headers,this.readyState=2,Aa(this)),this.g&&(this.readyState=3,Aa(this),this.g)))if(this.responseType==="arraybuffer")X.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in X){if(this.j=X.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;tc(this)}else X.text().then(this.Oa.bind(this),this.ga.bind(this))};function tc(X){X.j.read().then(X.Ma.bind(X)).catch(X.ga.bind(X))}r.Ma=function(X){if(this.g){if(this.o&&X.value)this.response.push(X.value);else if(!this.o){var ne=X.value?X.value:new Uint8Array(0);(ne=this.B.decode(ne,{stream:!X.done}))&&(this.response=this.responseText+=ne)}X.done?Ji(this):Aa(this),this.readyState==3&&tc(this)}},r.Oa=function(X){this.g&&(this.response=this.responseText=X,Ji(this))},r.Na=function(X){this.g&&(this.response=X,Ji(this))},r.ga=function(){this.g&&Ji(this)};function Ji(X){X.readyState=4,X.l=null,X.j=null,X.B=null,Aa(X)}r.setRequestHeader=function(X,ne){this.A.append(X,ne)},r.getResponseHeader=function(X){return this.h&&this.h.get(X.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const X=[],ne=this.h.entries();for(var ue=ne.next();!ue.done;)ue=ue.value,X.push(ue[0]+": "+ue[1]),ue=ne.next();return X.join(`\r
`)};function Aa(X){X.onreadystatechange&&X.onreadystatechange.call(X)}Object.defineProperty(aa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(X){this.m=X?"include":"same-origin"}});function ia(X){let ne="";return E(X,function(ue,Se){ne+=Se,ne+=":",ne+=ue,ne+=`\r
`}),ne}function sl(X,ne,ue){e:{for(Se in ue){var Se=!1;break e}Se=!0}Se||(ue=ia(ue),typeof X=="string"?ue!=null&&et(ue):dr(X,ne,ue))}function Br(X){pe.call(this),this.headers=new Map,this.L=X||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Br,pe);var Wa=/^https?$/i,vu=["POST","PUT"];r=Br.prototype,r.Fa=function(X){this.H=X},r.ea=function(X,ne,ue,Se){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+X);ne=ne?ne.toUpperCase():"GET",this.D=X,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ee.g(),this.g.onreadystatechange=h(o(this.Ca,this));try{this.B=!0,this.g.open(ne,String(X),!0),this.B=!1}catch(dt){al(this,dt);return}if(X=ue||"",ue=new Map(this.headers),Se)if(Object.getPrototypeOf(Se)===Object.prototype)for(var st in Se)ue.set(st,Se[st]);else if(typeof Se.keys=="function"&&typeof Se.get=="function")for(const dt of Se.keys())ue.set(dt,Se.get(dt));else throw Error("Unknown input type for opt_headers: "+String(Se));Se=Array.from(ue.keys()).find(dt=>dt.toLowerCase()=="content-type"),st=a.FormData&&X instanceof a.FormData,!(Array.prototype.indexOf.call(vu,ne,void 0)>=0)||Se||st||ue.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[dt,Ot]of ue)this.g.setRequestHeader(dt,Ot);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(X),this.v=!1}catch(dt){al(this,dt)}};function al(X,ne){X.h=!1,X.g&&(X.j=!0,X.g.abort(),X.j=!1),X.l=ne,X.o=5,wu(X),bi(X)}function wu(X){X.A||(X.A=!0,Te(X,"complete"),Te(X,"error"))}r.abort=function(X){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=X||7,Te(this,"complete"),Te(this,"abort"),bi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bi(this,!0)),Br.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?il(this):this.Xa())},r.Xa=function(){il(this)};function il(X){if(X.h&&typeof i<"u"){if(X.v&&Na(X)==4)setTimeout(X.Ca.bind(X),0);else if(Te(X,"readystatechange"),Na(X)==4){X.h=!1;try{const dt=X.ca();e:switch(dt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var ne=!0;break e;default:ne=!1}var ue;if(!(ue=ne)){var Se;if(Se=dt===0){let Ot=String(X.D).match(zt)[1]||null;!Ot&&a.self&&a.self.location&&(Ot=a.self.location.protocol.slice(0,-1)),Se=!Wa.test(Ot?Ot.toLowerCase():"")}ue=Se}if(ue)Te(X,"complete"),Te(X,"success");else{X.o=6;try{var st=Na(X)>2?X.g.statusText:""}catch{st=""}X.l=st+" ["+X.ca()+"]",wu(X)}}finally{bi(X)}}}}function bi(X,ne){if(X.g){X.m&&(clearTimeout(X.m),X.m=null);const ue=X.g;X.g=null,ne||Te(X,"ready");try{ue.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Na(X){return X.g?X.g.readyState:0}r.ca=function(){try{return Na(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(X){if(this.g){var ne=this.g.responseText;return X&&ne.indexOf(X)==0&&(ne=ne.substring(X.length)),ut(ne)}};function qn(X){try{if(!X.g)return null;if("response"in X.g)return X.g.response;switch(X.F){case"":case"text":return X.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in X.g)return X.g.mozResponseArrayBuffer}return null}catch{return null}}function xi(X){const ne={};X=(X.g&&Na(X)>=2&&X.g.getAllResponseHeaders()||"").split(`\r
`);for(let Se=0;Se<X.length;Se++){if(N(X[Se]))continue;var ue=ce(X[Se]);const st=ue[0];if(ue=ue[1],typeof ue!="string")continue;ue=ue.trim();const dt=ne[st]||[];ne[st]=dt,dt.push(ue)}j(ne,function(Se){return Se.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xa(X,ne,ue){return ue&&ue.internalChannelParams&&ue.internalChannelParams[X]||ne}function eo(X){this.za=0,this.i=[],this.j=new pt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Xa("failFast",!1,X),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Xa("baseRetryDelayMs",5e3,X),this.Za=Xa("retryDelaySeedMs",1e4,X),this.Ta=Xa("forwardChannelMaxRetries",2,X),this.va=Xa("forwardChannelRequestTimeoutMs",2e4,X),this.ma=X&&X.xmlHttpFactory||void 0,this.Ua=X&&X.Rb||void 0,this.Aa=X&&X.useFetchStreams||!1,this.O=void 0,this.L=X&&X.supportsCrossDomainXhr||!1,this.M="",this.h=new gt(X&&X.concurrentRequestLimit),this.Ba=new Ea,this.S=X&&X.fastHandshake||!1,this.R=X&&X.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=X&&X.Pb||!1,X&&X.ua&&this.j.ua(),X&&X.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&X&&X.detectBufferingProxy||!1,this.ia=void 0,X&&X.longPollingTimeout&&X.longPollingTimeout>0&&(this.ia=X.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=eo.prototype,r.ka=8,r.I=1,r.connect=function(X,ne,ue,Se){Oe(0),this.W=X,this.H=ne||{},ue&&Se!==void 0&&(this.H.OSID=ue,this.H.OAID=Se),this.F=this.X,this.J=Rh(this,null,this.W),Ya(this)};function _u(X){if(rc(X),X.I==3){var ne=X.V++,ue=Kt(X.J);if(dr(ue,"SID",X.M),dr(ue,"RID",ne),dr(ue,"TYPE","terminate"),ol(X,ue),ne=new ye(X,X.j,ne),ne.M=2,ne.A=ys(Kt(ue)),ue=!1,a.navigator&&a.navigator.sendBeacon)try{ue=a.navigator.sendBeacon(ne.A.toString(),"")}catch{}!ue&&a.Image&&(new Image().src=ne.A,ue=!0),ue||(ne.g=Mh(ne.j,null),ne.g.ea(ne.A)),ne.F=Date.now(),qe(ne)}Ch(X)}function to(X){X.g&&(ku(X),X.g.cancel(),X.g=null)}function rc(X){to(X),X.v&&(a.clearTimeout(X.v),X.v=null),sc(X),X.h.cancel(),X.m&&(typeof X.m=="number"&&a.clearTimeout(X.m),X.m=null)}function Ya(X){if(!jt(X.h)&&!X.m){X.m=!0;var ne=X.Ea;L||O(),G||(L(),G=!0),V.add(ne,X),X.D=0}}function nc(X,ne){return St(X.h)>=X.h.j-(X.m?1:0)?!1:X.m?(X.i=ne.G.concat(X.i),!0):X.I==1||X.I==2||X.D>=(X.Sa?0:X.Ta)?!1:(X.m=rt(o(X.Ea,X,ne),Nh(X,X.D)),X.D++,!0)}r.Ea=function(X){if(this.m)if(this.m=null,this.I==1){if(!X){this.V=Math.floor(Math.random()*1e5),X=this.V++;const st=new ye(this,this.j,X);let dt=this.o;if(this.U&&(dt?(dt=U(dt),Q(dt,this.U)):dt=this.U),this.u!==null||this.R||(st.J=dt,dt=null),this.S)e:{for(var ne=0,ue=0;ue<this.i.length;ue++){t:{var Se=this.i[ue];if("__data__"in Se.map&&(Se=Se.map.__data__,typeof Se=="string")){Se=Se.length;break t}Se=void 0}if(Se===void 0)break;if(ne+=Se,ne>4096){ne=ue;break e}if(ne===4096||ue===this.i.length-1){ne=ue+1;break e}}ne=1e3}else ne=1e3;ne=kh(this,st,ne),ue=Kt(this.J),dr(ue,"RID",X),dr(ue,"CVER",22),this.G&&dr(ue,"X-HTTP-Session-Id",this.G),ol(this,ue),dt&&(this.R?ne="headers="+et(ia(dt))+"&"+ne:this.u&&sl(ue,this.u,dt)),Zt(this.h,st),this.Ra&&dr(ue,"TYPE","init"),this.S?(dr(ue,"$req",ne),dr(ue,"SID","null"),st.U=!0,me(st,ue,null)):me(st,ue,ne),this.I=2}}else this.I==3&&(X?Su(this,X):this.i.length==0||jt(this.h)||Su(this))};function Su(X,ne){var ue;ne?ue=ne.l:ue=X.V++;const Se=Kt(X.J);dr(Se,"SID",X.M),dr(Se,"RID",ue),dr(Se,"AID",X.K),ol(X,Se),X.u&&X.o&&sl(Se,X.u,X.o),ue=new ye(X,X.j,ue,X.D+1),X.u===null&&(ue.J=X.o),ne&&(X.i=ne.G.concat(X.i)),ne=kh(X,ue,1e3),ue.H=Math.round(X.va*.5)+Math.round(X.va*.5*Math.random()),Zt(X.h,ue),me(ue,Se,ne)}function ol(X,ne){X.H&&E(X.H,function(ue,Se){dr(ne,Se,ue)}),X.l&&E({},function(ue,Se){dr(ne,Se,ue)})}function kh(X,ne,ue){ue=Math.min(X.i.length,ue);const Se=X.l?o(X.l.Ka,X.l,X):null;e:{var st=X.i;let cr=-1;for(;;){const mn=["count="+ue];cr==-1?ue>0?(cr=st[0].g,mn.push("ofs="+cr)):cr=0:mn.push("ofs="+cr);let Ir=!0;for(let en=0;en<ue;en++){var dt=st[en].g;const oa=st[en].map;if(dt-=cr,dt<0)cr=Math.max(0,st[en].g-100),Ir=!1;else try{dt="req"+dt+"_"||"";try{var Ot=oa instanceof Map?oa:Object.entries(oa);for(const[Qa,Ca]of Ot){let Ra=Ca;l(Ca)&&(Ra=Xe(Ca)),mn.push(dt+Qa+"="+encodeURIComponent(Ra))}}catch(Qa){throw mn.push(dt+"type="+encodeURIComponent("_badmap")),Qa}}catch{Se&&Se(oa)}}if(Ir){Ot=mn.join("&");break e}}Ot=void 0}return X=X.i.splice(0,ue),ne.G=X,Ot}function Th(X){if(!X.g&&!X.v){X.Y=1;var ne=X.Da;L||O(),G||(L(),G=!0),V.add(ne,X),X.A=0}}function ll(X){return X.g||X.v||X.A>=3?!1:(X.Y++,X.v=rt(o(X.Da,X),Nh(X,X.A)),X.A++,!0)}r.Da=function(){if(this.v=null,Eh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var X=4*this.T;this.j.info("BP detection timer enabled: "+X),this.B=rt(o(this.Wa,this),X)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Oe(10),to(this),Eh(this))};function ku(X){X.B!=null&&(a.clearTimeout(X.B),X.B=null)}function Eh(X){X.g=new ye(X,X.j,"rpc",X.Y),X.u===null&&(X.g.J=X.o),X.g.P=0;var ne=Kt(X.na);dr(ne,"RID","rpc"),dr(ne,"SID",X.M),dr(ne,"AID",X.K),dr(ne,"CI",X.F?"0":"1"),!X.F&&X.ia&&dr(ne,"TO",X.ia),dr(ne,"TYPE","xmlhttp"),ol(X,ne),X.u&&X.o&&sl(ne,X.u,X.o),X.O&&(X.g.H=X.O);var ue=X.g;X=X.ba,ue.M=1,ue.A=ys(Kt(ne)),ue.u=null,ue.R=!0,Ae(ue,X)}r.Va=function(){this.C!=null&&(this.C=null,to(this),ll(this),Oe(19))};function sc(X){X.C!=null&&(a.clearTimeout(X.C),X.C=null)}function Ah(X,ne){var ue=null;if(X.g==ne){sc(X),ku(X),X.g=null;var Se=2}else if(Dt(X.h,ne))ue=ne.G,Wt(X.h,ne),Se=1;else return;if(X.I!=0){if(ne.o)if(Se==1){ue=ne.u?ne.u.length:0,ne=Date.now()-ne.F;var st=X.D;Se=bt(),Te(Se,new Ce(Se,ue)),Ya(X)}else Th(X);else if(st=ne.m,st==3||st==0&&ne.X>0||!(Se==1&&nc(X,ne)||Se==2&&ll(X)))switch(ue&&ue.length>0&&(ne=X.h,ne.i=ne.i.concat(ue)),st){case 1:Ka(X,5);break;case 4:Ka(X,10);break;case 3:Ka(X,6);break;default:Ka(X,2)}}}function Nh(X,ne){let ue=X.Qa+Math.floor(Math.random()*X.Za);return X.isActive()||(ue*=2),ue*ne}function Ka(X,ne){if(X.j.info("Error code "+ne),ne==2){var ue=o(X.bb,X),Se=X.Ua;const st=!Se;Se=new sr(Se||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||lr(Se,"https"),ys(Se),st?vs(Se.toString(),ue):Ga(Se.toString(),ue)}else Oe(2);X.I=0,X.l&&X.l.pa(ne),Ch(X),rc(X)}r.bb=function(X){X?(this.j.info("Successfully pinged google.com"),Oe(2)):(this.j.info("Failed to ping google.com"),Oe(1))};function Ch(X){if(X.I=0,X.ja=[],X.l){const ne=Xt(X.h);(ne.length!=0||X.i.length!=0)&&(b(X.ja,ne),b(X.ja,X.i),X.h.i.length=0,d(X.i),X.i.length=0),X.l.oa()}}function Rh(X,ne,ue){var Se=ue instanceof sr?Kt(ue):new sr(ue);if(Se.g!="")ne&&(Se.g=ne+"."+Se.g),$r(Se,Se.u);else{var st=a.location;Se=st.protocol,ne=ne?ne+"."+st.hostname:st.hostname,st=+st.port;const dt=new sr(null);Se&&lr(dt,Se),ne&&(dt.g=ne),st&&$r(dt,st),ue&&(dt.h=ue),Se=dt}return ue=X.G,ne=X.wa,ue&&ne&&dr(Se,ue,ne),dr(Se,"VER",X.ka),ol(X,Se),Se}function Mh(X,ne,ue){if(ne&&!X.L)throw Error("Can't create secondary domain capable XhrIo object.");return ne=X.Aa&&!X.ma?new Br(new ws({ab:ue})):new Br(X.ma),ne.Fa(X.L),ne}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function jh(){}r=jh.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ro(){}ro.prototype.g=function(X,ne){return new _s(X,ne)};function _s(X,ne){pe.call(this),this.g=new eo(ne),this.l=X,this.h=ne&&ne.messageUrlParams||null,X=ne&&ne.messageHeaders||null,ne&&ne.clientProtocolHeaderRequired&&(X?X["X-Client-Protocol"]="webchannel":X={"X-Client-Protocol":"webchannel"}),this.g.o=X,X=ne&&ne.initMessageHeaders||null,ne&&ne.messageContentType&&(X?X["X-WebChannel-Content-Type"]=ne.messageContentType:X={"X-WebChannel-Content-Type":ne.messageContentType}),ne&&ne.sa&&(X?X["X-WebChannel-Client-Profile"]=ne.sa:X={"X-WebChannel-Client-Profile":ne.sa}),this.g.U=X,(X=ne&&ne.Qb)&&!N(X)&&(this.g.u=X),this.A=ne&&ne.supportsCrossDomainXhr||!1,this.v=ne&&ne.sendRawJson||!1,(ne=ne&&ne.httpSessionIdParam)&&!N(ne)&&(this.g.G=ne,X=this.h,X!==null&&ne in X&&(X=this.h,ne in X&&delete X[ne])),this.j=new yi(this)}p(_s,pe),_s.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},_s.prototype.close=function(){_u(this.g)},_s.prototype.o=function(X){var ne=this.g;if(typeof X=="string"){var ue={};ue.__data__=X,X=ue}else this.v&&(ue={},ue.__data__=Xe(X),X=ue);ne.i.push(new Ke(ne.Ya++,X)),ne.I==3&&Ya(ne)},_s.prototype.N=function(){this.g.l=null,delete this.j,_u(this.g),delete this.g,_s.Z.N.call(this)};function Dh(X){Ie.call(this),X.__headers__&&(this.headers=X.__headers__,this.statusCode=X.__status__,delete X.__headers__,delete X.__status__);var ne=X.__sm__;if(ne){e:{for(const ue in ne){X=ue;break e}X=void 0}(this.i=X)&&(X=this.i,ne=ne!==null&&X in ne?ne[X]:void 0),this.data=ne}else this.data=X}p(Dh,Ie);function Ih(){lt.call(this),this.status=1}p(Ih,lt);function yi(X){this.g=X}p(yi,jh),yi.prototype.ra=function(){Te(this.g,"a")},yi.prototype.qa=function(X){Te(this.g,new Dh(X))},yi.prototype.pa=function(X){Te(this.g,new Ih)},yi.prototype.oa=function(){Te(this.g,"b")},ro.prototype.createWebChannel=ro.prototype.g,_s.prototype.send=_s.prototype.o,_s.prototype.open=_s.prototype.m,_s.prototype.close=_s.prototype.close,r5=function(){return new ro},t5=function(){return bt()},e5=Ue,l1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ht.NO_ERROR=0,ht.TIMEOUT=8,ht.HTTP_ERROR=6,i0=ht,Qe.COMPLETE="complete",J3=Qe,He.EventType=Ne,Ne.OPEN="a",Ne.CLOSE="b",Ne.ERROR="c",Ne.MESSAGE="d",pe.prototype.listen=pe.prototype.J,hf=He,Br.prototype.listenOnce=Br.prototype.K,Br.prototype.getLastError=Br.prototype.Ha,Br.prototype.getLastErrorCode=Br.prototype.ya,Br.prototype.getStatus=Br.prototype.ca,Br.prototype.getResponseJson=Br.prototype.La,Br.prototype.getResponseText=Br.prototype.la,Br.prototype.send=Br.prototype.ea,Br.prototype.setWithCredentials=Br.prototype.Fa,Z3=Br}).apply(typeof Bd<"u"?Bd:typeof self<"u"?self:typeof window<"u"?window:{});const Cw="@firebase/firestore",Rw="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ls.UNAUTHENTICATED=new ls(null),ls.GOOGLE_CREDENTIALS=new ls("google-credentials-uid"),ls.FIRST_PARTY=new ls("first-party-uid"),ls.MOCK_USER=new ls("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hu="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zl=new $1("@firebase/firestore");function Fc(){return zl.logLevel}function Ut(r,...t){if(zl.logLevel<=_r.DEBUG){const e=t.map(nb);zl.debug(`Firestore (${hu}): ${r}`,...e)}}function $i(r,...t){if(zl.logLevel<=_r.ERROR){const e=t.map(nb);zl.error(`Firestore (${hu}): ${r}`,...e)}}function Jc(r,...t){if(zl.logLevel<=_r.WARN){const e=t.map(nb);zl.warn(`Firestore (${hu}): ${r}`,...e)}}function nb(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(r,t,e){let n="Unexpected state";typeof t=="string"?n=t:e=t,n5(r,n,e)}function n5(r,t,e){let n=`FIRESTORE (${hu}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(e!==void 0)try{n+=" CONTEXT: "+JSON.stringify(e)}catch{n+=" CONTEXT: "+e}throw $i(n),new Error(n)}function Fr(r,t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,r||n5(t,s,n)}function or(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Lt extends Yi{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class QN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(ls.UNAUTHENTICATED)))}shutdown(){}}class ZN{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class JN{constructor(t){this.t=t,this.currentUser=ls.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Fr(this.o===void 0,42304);let n=this.i;const s=c=>this.i!==n?(n=this.i,e(c)):Promise.resolve();let i=new Bi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Bi,t.enqueueRetryable((()=>s(this.currentUser)))};const a=()=>{const c=i;t.enqueueRetryable((async()=>{await c.promise,await s(this.currentUser)}))},l=c=>{Ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((c=>l(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Bi)}}),0),a()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((n=>this.i!==t?(Ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Fr(typeof n.accessToken=="string",31837,{l:n}),new s5(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Fr(t===null||typeof t=="string",2055,{h:t}),new ls(t)}}class eC{constructor(t,e,n){this.P=t,this.T=e,this.I=n,this.type="FirstParty",this.user=ls.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class tC{constructor(t,e,n){this.P=t,this.T=e,this.I=n}getToken(){return Promise.resolve(new eC(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(ls.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Mw{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rC{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ya(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Fr(this.o===void 0,3512);const n=i=>{i.error!=null&&Ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,Ut("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?e(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable((()=>n(i)))};const s=i=>{Ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Mw(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Fr(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new Mw(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let n=0;n<r;n++)e[n]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const s=nC(40);for(let i=0;i<s.length;++i)n.length<20&&s[i]<e&&(n+=t.charAt(s[i]%62))}return n}}function Sr(r,t){return r<t?-1:r>t?1:0}function c1(r,t){const e=Math.min(r.length,t.length);for(let n=0;n<e;n++){const s=r.charAt(n),i=t.charAt(n);if(s!==i)return jg(s)===jg(i)?Sr(s,i):jg(s)?1:-1}return Sr(r.length,t.length)}const sC=55296,aC=57343;function jg(r){const t=r.charCodeAt(0);return t>=sC&&t<=aC}function eu(r,t,e){return r.length===t.length&&r.every(((n,s)=>e(n,t[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="__name__";class si{constructor(t,e,n){e===void 0?e=0:e>t.length&&Qt(637,{offset:e,range:t.length}),n===void 0?n=t.length-e:n>t.length-e&&Qt(1746,{length:n,range:t.length-e}),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return si.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof si?t.forEach((n=>{e.push(n)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const i=si.compareSegments(t.get(s),e.get(s));if(i!==0)return i}return Sr(t.length,e.length)}static compareSegments(t,e){const n=si.isNumericId(t),s=si.isNumericId(e);return n&&!s?-1:!n&&s?1:n&&s?si.extractNumericId(t).compare(si.extractNumericId(e)):c1(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return zo.fromString(t.substring(4,t.length-2))}}class Wr extends si{construct(t,e,n){return new Wr(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const n of t){if(n.indexOf("//")>=0)throw new Lt(kt.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter((s=>s.length>0)))}return new Wr(e)}static emptyPath(){return new Wr([])}}const iC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jn extends si{construct(t,e,n){return new Jn(t,e,n)}static isValidIdentifier(t){return iC.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===jw}static keyField(){return new Jn([jw])}static fromServerFormat(t){const e=[];let n="",s=0;const i=()=>{if(n.length===0)throw new Lt(kt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""};let a=!1;for(;s<t.length;){const l=t[s];if(l==="\\"){if(s+1===t.length)throw new Lt(kt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const c=t[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Lt(kt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=c,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(n+=l,s++):(i(),s++)}if(i(),a)throw new Lt(kt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Jn(e)}static emptyPath(){return new Jn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(t){this.path=t}static fromPath(t){return new Gt(Wr.fromString(t))}static fromName(t){return new Gt(Wr.fromString(t).popFirst(5))}static empty(){return new Gt(Wr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Wr.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Wr.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Gt(new Wr(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a5(r,t,e){if(!e)throw new Lt(kt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function oC(r,t,e,n){if(t===!0&&n===!0)throw new Lt(kt.INVALID_ARGUMENT,`${r} and ${e} cannot be used together.`)}function Dw(r){if(!Gt.isDocumentKey(r))throw new Lt(kt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Iw(r){if(Gt.isDocumentKey(r))throw new Lt(kt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function i5(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function tp(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(n){return n.constructor?n.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Qt(12329,{type:typeof r})}function Vs(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new Lt(kt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=tp(r);throw new Lt(kt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return r}function lC(r,t){if(t<=0)throw new Lt(kt.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(r,t){const e={typeString:r};return t&&(e.value=t),e}function uh(r,t){if(!i5(r))throw new Lt(kt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const n in t)if(t[n]){const s=t[n].typeString,i="value"in t[n]?{value:t[n].value}:void 0;if(!(n in r)){e=`JSON missing required field: '${n}'`;break}const a=r[n];if(s&&typeof a!==s){e=`JSON field '${n}' must be a ${s}.`;break}if(i!==void 0&&a!==i.value){e=`Expected '${n}' field to equal '${i.value}'`;break}}if(e)throw new Lt(kt.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow=-62135596800,Fw=1e6;class Qr{static now(){return Qr.fromMillis(Date.now())}static fromDate(t){return Qr.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor((t-1e3*e)*Fw);return new Qr(e,n)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Lt(kt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Lt(kt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<Ow)throw new Lt(kt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Lt(kt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Fw}_compareTo(t){return this.seconds===t.seconds?Sr(this.nanoseconds,t.nanoseconds):Sr(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Qr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(uh(t,Qr._jsonSchema))return new Qr(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Ow;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Qr._jsonSchemaVersion="firestore/timestamp/1.0",Qr._jsonSchema={type:Mn("string",Qr._jsonSchemaVersion),seconds:Mn("number"),nanoseconds:Mn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{static fromTimestamp(t){return new nr(t)}static min(){return new nr(new Qr(0,0))}static max(){return new nr(new Qr(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf=-1;function cC(r,t){const e=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,s=nr.fromTimestamp(n===1e9?new Qr(e+1,0):new Qr(e,n));return new Wo(s,Gt.empty(),t)}function uC(r){return new Wo(r.readTime,r.key,Vf)}class Wo{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new Wo(nr.min(),Gt.empty(),Vf)}static max(){return new Wo(nr.max(),Gt.empty(),Vf)}}function fC(r,t){let e=r.readTime.compareTo(t.readTime);return e!==0?e:(e=Gt.comparator(r.documentKey,t.documentKey),e!==0?e:Sr(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function du(r){if(r.code!==kt.FAILED_PRECONDITION||r.message!==hC)throw r;Ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Qt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Rt(((n,s)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(n,s)},this.catchCallback=i=>{this.wrapFailure(e,i).next(n,s)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof Rt?e:Rt.resolve(e)}catch(e){return Rt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):Rt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):Rt.reject(e)}static resolve(t){return new Rt(((e,n)=>{e(t)}))}static reject(t){return new Rt(((e,n)=>{n(t)}))}static waitFor(t){return new Rt(((e,n)=>{let s=0,i=0,a=!1;t.forEach((l=>{++s,l.next((()=>{++i,a&&i===s&&e()}),(c=>n(c)))})),a=!0,i===s&&e()}))}static or(t){let e=Rt.resolve(!1);for(const n of t)e=e.next((s=>s?Rt.resolve(s):n()));return e}static forEach(t,e){const n=[];return t.forEach(((s,i)=>{n.push(e.call(this,s,i))})),this.waitFor(n)}static mapArray(t,e){return new Rt(((n,s)=>{const i=t.length,a=new Array(i);let l=0;for(let c=0;c<i;c++){const o=c;e(t[o]).next((u=>{a[o]=u,++l,l===i&&n(a)}),(u=>s(u)))}}))}static doWhile(t,e){return new Rt(((n,s)=>{const i=()=>{t()===!0?e().next((()=>{i()}),s):n()};i()}))}}function pC(r){const t=r.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function pu(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>e.writeSequenceNumber(n))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}rp.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab=-1;function np(r){return r==null}function T0(r){return r===0&&1/r==-1/0}function mC(r){return typeof r=="number"&&Number.isInteger(r)&&!T0(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5="";function gC(r){let t="";for(let e=0;e<r.length;e++)t.length>0&&(t=Pw(t)),t=bC(r.get(e),t);return Pw(t)}function bC(r,t){let e=t;const n=r.length;for(let s=0;s<n;s++){const i=r.charAt(s);switch(i){case"\0":e+="";break;case o5:e+="";break;default:e+=i}}return e}function Pw(r){return r+o5+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(r){let t=0;for(const e in r)Object.prototype.hasOwnProperty.call(r,e)&&t++;return t}function tl(r,t){for(const e in r)Object.prototype.hasOwnProperty.call(r,e)&&t(e,r[e])}function l5(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t,e){this.comparator=t,this.root=e||Kn.EMPTY}insert(t,e){return new nn(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Kn.BLACK,null,null))}remove(t){return new nn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Kn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(n===0)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return e+n.left.size;s<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,n)=>(t(e,n),!1)))}toString(){const t=[];return this.inorderTraversal(((e,n)=>(t.push(`${e}:${n}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ud(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ud(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ud(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ud(this.root,t,this.comparator,!0)}}class Ud{constructor(t,e,n,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=e?n(t.key,e):1,e&&s&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Kn{constructor(t,e,n,s,i){this.key=t,this.value=e,this.color=n??Kn.RED,this.left=s??Kn.EMPTY,this.right=i??Kn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,s,i){return new Kn(t??this.key,e??this.value,n??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let s=this;const i=n(t,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(t,e,n),null):i===0?s.copy(null,e,null,null,null):s.copy(null,null,null,null,s.right.insert(t,e,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Kn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,s=this;if(e(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,e),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),e(t,s.key)===0){if(s.right.isEmpty())return Kn.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,e))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Kn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Kn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Qt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Qt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Qt(27949);return t+(this.isRed()?0:1)}}Kn.EMPTY=null,Kn.RED=!0,Kn.BLACK=!1;Kn.EMPTY=new class{constructor(){this.size=0}get key(){throw Qt(57766)}get value(){throw Qt(16141)}get color(){throw Qt(16727)}get left(){throw Qt(29726)}get right(){throw Qt(36894)}copy(t,e,n,s,i){return this}insert(t,e,n){return new Kn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(t){this.comparator=t,this.data=new nn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,n)=>(t(e),!1)))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,t[1])>=0)return;e(s.key)}}forEachWhile(t,e){let n;for(n=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Bw(this.data.getIterator())}getIteratorFrom(t){return new Bw(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((n=>{e=e.add(n)})),e}isEqual(t){if(!(t instanceof Fn)||this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const s=e.getNext().key,i=n.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Fn(this.comparator);return e.data=t,e}}class Bw{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(t){this.fields=t,t.sort(Jn.comparator)}static empty(){return new na([])}unionWith(t){let e=new Fn(Jn.comparator);for(const n of this.fields)e=e.add(n);for(const n of t)e=e.add(n);return new na(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return eu(this.fields,t.fields,((e,n)=>e.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new c5("Invalid base64 string: "+i):i}})(t);return new rs(e)}static fromUint8Array(t){const e=(function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i})(t);return new rs(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Sr(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}rs.EMPTY_BYTE_STRING=new rs("");const xC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xo(r){if(Fr(!!r,39018),typeof r=="string"){let t=0;const e=xC.exec(r);if(Fr(!!e,46558,{timestamp:r}),e[1]){let s=e[1];s=(s+"000000000").substr(0,9),t=Number(s)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:vn(r.seconds),nanos:vn(r.nanos)}}function vn(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Yo(r){return typeof r=="string"?rs.fromBase64String(r):rs.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u5="server_timestamp",f5="__type__",h5="__previous_value__",d5="__local_write_time__";function ib(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)==null?void 0:e.fields)||{})[f5])==null?void 0:n.stringValue)===u5}function sp(r){const t=r.mapValue.fields[h5];return ib(t)?sp(t):t}function zf(r){const t=Xo(r.mapValue.fields[d5].timestampValue);return new Qr(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(t,e,n,s,i,a,l,c,o,u){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=o,this.isUsingEmulator=u}}const E0="(default)";class Hf{constructor(t,e){this.projectId=t,this.database=e||E0}static empty(){return new Hf("","")}get isDefaultDatabase(){return this.database===E0}isEqual(t){return t instanceof Hf&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5="__type__",vC="__max__",Vd={mapValue:{}},m5="__vector__",A0="value";function Ko(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ib(r)?4:_C(r)?9007199254740991:wC(r)?10:11:Qt(28295,{value:r})}function hi(r,t){if(r===t)return!0;const e=Ko(r);if(e!==Ko(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return zf(r).isEqual(zf(t));case 3:return(function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=Xo(s.timestampValue),l=Xo(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(s,i){return Yo(s.bytesValue).isEqual(Yo(i.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(s,i){return vn(s.geoPointValue.latitude)===vn(i.geoPointValue.latitude)&&vn(s.geoPointValue.longitude)===vn(i.geoPointValue.longitude)})(r,t);case 2:return(function(s,i){if("integerValue"in s&&"integerValue"in i)return vn(s.integerValue)===vn(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=vn(s.doubleValue),l=vn(i.doubleValue);return a===l?T0(a)===T0(l):isNaN(a)&&isNaN(l)}return!1})(r,t);case 9:return eu(r.arrayValue.values||[],t.arrayValue.values||[],hi);case 10:case 11:return(function(s,i){const a=s.mapValue.fields||{},l=i.mapValue.fields||{};if(Lw(a)!==Lw(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!hi(a[c],l[c])))return!1;return!0})(r,t);default:return Qt(52216,{left:r})}}function $f(r,t){return(r.values||[]).find((e=>hi(e,t)))!==void 0}function tu(r,t){if(r===t)return 0;const e=Ko(r),n=Ko(t);if(e!==n)return Sr(e,n);switch(e){case 0:case 9007199254740991:return 0;case 1:return Sr(r.booleanValue,t.booleanValue);case 2:return(function(i,a){const l=vn(i.integerValue||i.doubleValue),c=vn(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1})(r,t);case 3:return Uw(r.timestampValue,t.timestampValue);case 4:return Uw(zf(r),zf(t));case 5:return c1(r.stringValue,t.stringValue);case 6:return(function(i,a){const l=Yo(i),c=Yo(a);return l.compareTo(c)})(r.bytesValue,t.bytesValue);case 7:return(function(i,a){const l=i.split("/"),c=a.split("/");for(let o=0;o<l.length&&o<c.length;o++){const u=Sr(l[o],c[o]);if(u!==0)return u}return Sr(l.length,c.length)})(r.referenceValue,t.referenceValue);case 8:return(function(i,a){const l=Sr(vn(i.latitude),vn(a.latitude));return l!==0?l:Sr(vn(i.longitude),vn(a.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Vw(r.arrayValue,t.arrayValue);case 10:return(function(i,a){var h,d,b,x;const l=i.fields||{},c=a.fields||{},o=(h=l[A0])==null?void 0:h.arrayValue,u=(d=c[A0])==null?void 0:d.arrayValue,p=Sr(((b=o==null?void 0:o.values)==null?void 0:b.length)||0,((x=u==null?void 0:u.values)==null?void 0:x.length)||0);return p!==0?p:Vw(o,u)})(r.mapValue,t.mapValue);case 11:return(function(i,a){if(i===Vd.mapValue&&a===Vd.mapValue)return 0;if(i===Vd.mapValue)return 1;if(a===Vd.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),o=a.fields||{},u=Object.keys(o);c.sort(),u.sort();for(let p=0;p<c.length&&p<u.length;++p){const h=c1(c[p],u[p]);if(h!==0)return h;const d=tu(l[c[p]],o[u[p]]);if(d!==0)return d}return Sr(c.length,u.length)})(r.mapValue,t.mapValue);default:throw Qt(23264,{he:e})}}function Uw(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Sr(r,t);const e=Xo(r),n=Xo(t),s=Sr(e.seconds,n.seconds);return s!==0?s:Sr(e.nanos,n.nanos)}function Vw(r,t){const e=r.values||[],n=t.values||[];for(let s=0;s<e.length&&s<n.length;++s){const i=tu(e[s],n[s]);if(i)return i}return Sr(e.length,n.length)}function ru(r){return u1(r)}function u1(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(e){const n=Xo(e);return`time(${n.seconds},${n.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(e){return Yo(e).toBase64()})(r.bytesValue):"referenceValue"in r?(function(e){return Gt.fromName(e).toString()})(r.referenceValue):"geoPointValue"in r?(function(e){return`geo(${e.latitude},${e.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(e){let n="[",s=!0;for(const i of e.values||[])s?s=!1:n+=",",n+=u1(i);return n+"]"})(r.arrayValue):"mapValue"in r?(function(e){const n=Object.keys(e.fields||{}).sort();let s="{",i=!0;for(const a of n)i?i=!1:s+=",",s+=`${a}:${u1(e.fields[a])}`;return s+"}"})(r.mapValue):Qt(61005,{value:r})}function o0(r){switch(Ko(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=sp(r);return t?16+o0(t):16;case 5:return 2*r.stringValue.length;case 6:return Yo(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((s,i)=>s+o0(i)),0)})(r.arrayValue);case 10:case 11:return(function(n){let s=0;return tl(n.fields,((i,a)=>{s+=i.length+o0(a)})),s})(r.mapValue);default:throw Qt(13486,{value:r})}}function zw(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function f1(r){return!!r&&"integerValue"in r}function ob(r){return!!r&&"arrayValue"in r}function Hw(r){return!!r&&"nullValue"in r}function $w(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function l0(r){return!!r&&"mapValue"in r}function wC(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)==null?void 0:e.fields)||{})[p5])==null?void 0:n.stringValue)===m5}function _f(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return tl(r.mapValue.fields,((e,n)=>t.mapValue.fields[e]=_f(n))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(r.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=_f(r.arrayValue.values[e]);return t}return{...r}}function _C(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===vC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(t){this.value=t}static empty(){return new Bs({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!l0(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=_f(e)}setAll(t){let e=Jn.emptyPath(),n={},s=[];t.forEach(((a,l)=>{if(!e.isImmediateParentOf(l)){const c=this.getFieldsMap(e);this.applyChanges(c,n,s),n={},s=[],e=l.popLast()}a?n[l.lastSegment()]=_f(a):s.push(l.lastSegment())}));const i=this.getFieldsMap(e);this.applyChanges(i,n,s)}delete(t){const e=this.field(t.popLast());l0(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return hi(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let s=e.mapValue.fields[t.get(n)];l0(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=s),e=s}return e.mapValue.fields}applyChanges(t,e,n){tl(e,((s,i)=>t[s]=i));for(const s of n)delete t[s]}clone(){return new Bs(_f(this.value))}}function g5(r){const t=[];return tl(r.fields,((e,n)=>{const s=new Jn([e]);if(l0(n)){const i=g5(n.mapValue).fields;if(i.length===0)t.push(s);else for(const a of i)t.push(s.child(a))}else t.push(s)})),new na(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(t,e,n,s,i,a,l){this.key=t,this.documentType=e,this.version=n,this.readTime=s,this.createTime=i,this.data=a,this.documentState=l}static newInvalidDocument(t){return new us(t,0,nr.min(),nr.min(),nr.min(),Bs.empty(),0)}static newFoundDocument(t,e,n,s){return new us(t,1,e,nr.min(),n,s,0)}static newNoDocument(t,e){return new us(t,2,e,nr.min(),nr.min(),Bs.empty(),0)}static newUnknownDocument(t,e){return new us(t,3,e,nr.min(),nr.min(),Bs.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(nr.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Bs.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Bs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=nr.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof us&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new us(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(t,e){this.position=t,this.inclusive=e}}function qw(r,t,e){let n=0;for(let s=0;s<r.position.length;s++){const i=t[s],a=r.position[s];if(i.field.isKeyField()?n=Gt.comparator(Gt.fromName(a.referenceValue),e.key):n=tu(a,e.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function Gw(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let e=0;e<r.position.length;e++)if(!hi(r.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(t,e="asc"){this.field=t,this.dir=e}}function SC(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{}class Rn extends b5{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,n):new TC(t,e,n):e==="array-contains"?new NC(t,n):e==="in"?new CC(t,n):e==="not-in"?new RC(t,n):e==="array-contains-any"?new MC(t,n):new Rn(t,e,n)}static createKeyFieldInFilter(t,e,n){return e==="in"?new EC(t,n):new AC(t,n)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(tu(e,this.value)):e!==null&&Ko(this.value)===Ko(e)&&this.matchesComparison(tu(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Qt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $a extends b5{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new $a(t,e)}matches(t){return x5(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function x5(r){return r.op==="and"}function y5(r){return kC(r)&&x5(r)}function kC(r){for(const t of r.filters)if(t instanceof $a)return!1;return!0}function h1(r){if(r instanceof Rn)return r.field.canonicalString()+r.op.toString()+ru(r.value);if(y5(r))return r.filters.map((t=>h1(t))).join(",");{const t=r.filters.map((e=>h1(e))).join(",");return`${r.op}(${t})`}}function v5(r,t){return r instanceof Rn?(function(n,s){return s instanceof Rn&&n.op===s.op&&n.field.isEqual(s.field)&&hi(n.value,s.value)})(r,t):r instanceof $a?(function(n,s){return s instanceof $a&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce(((i,a,l)=>i&&v5(a,s.filters[l])),!0):!1})(r,t):void Qt(19439)}function w5(r){return r instanceof Rn?(function(e){return`${e.field.canonicalString()} ${e.op} ${ru(e.value)}`})(r):r instanceof $a?(function(e){return e.op.toString()+" {"+e.getFilters().map(w5).join(" ,")+"}"})(r):"Filter"}class TC extends Rn{constructor(t,e,n){super(t,e,n),this.key=Gt.fromName(n.referenceValue)}matches(t){const e=Gt.comparator(t.key,this.key);return this.matchesComparison(e)}}class EC extends Rn{constructor(t,e){super(t,"in",e),this.keys=_5("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class AC extends Rn{constructor(t,e){super(t,"not-in",e),this.keys=_5("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function _5(r,t){var e;return(((e=t.arrayValue)==null?void 0:e.values)||[]).map((n=>Gt.fromName(n.referenceValue)))}class NC extends Rn{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return ob(e)&&$f(e.arrayValue,this.value)}}class CC extends Rn{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&$f(this.value.arrayValue,e)}}class RC extends Rn{constructor(t,e){super(t,"not-in",e)}matches(t){if($f(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!$f(this.value.arrayValue,e)}}class MC extends Rn{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!ob(e)||!e.arrayValue.values)&&e.arrayValue.values.some((n=>$f(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(t,e=null,n=[],s=[],i=null,a=null,l=null){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=s,this.limit=i,this.startAt=a,this.endAt=l,this.Te=null}}function Ww(r,t=null,e=[],n=[],s=null,i=null,a=null){return new jC(r,t,e,n,s,i,a)}function lb(r){const t=or(r);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((n=>h1(n))).join(","),e+="|ob:",e+=t.orderBy.map((n=>(function(i){return i.field.canonicalString()+i.dir})(n))).join(","),np(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((n=>ru(n))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((n=>ru(n))).join(",")),t.Te=e}return t.Te}function cb(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<r.orderBy.length;e++)if(!SC(r.orderBy[e],t.orderBy[e]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let e=0;e<r.filters.length;e++)if(!v5(r.filters[e],t.filters[e]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Gw(r.startAt,t.startAt)&&Gw(r.endAt,t.endAt)}function d1(r){return Gt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(t,e=null,n=[],s=[],i=null,a="F",l=null,c=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=s,this.limit=i,this.limitType=a,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function DC(r,t,e,n,s,i,a,l){return new mu(r,t,e,n,s,i,a,l)}function ap(r){return new mu(r)}function Xw(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function S5(r){return r.collectionGroup!==null}function Sf(r){const t=or(r);if(t.Ie===null){t.Ie=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Fn(Jn.comparator);return a.filters.forEach((c=>{c.getFlattenedFilters().forEach((o=>{o.isInequality()&&(l=l.add(o.field))}))})),l})(t).forEach((i=>{e.has(i.canonicalString())||i.isKeyField()||t.Ie.push(new qf(i,n))})),e.has(Jn.keyField().canonicalString())||t.Ie.push(new qf(Jn.keyField(),n))}return t.Ie}function oi(r){const t=or(r);return t.Ee||(t.Ee=IC(t,Sf(r))),t.Ee}function IC(r,t){if(r.limitType==="F")return Ww(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new qf(s.field,i)}));const e=r.endAt?new N0(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new N0(r.startAt.position,r.startAt.inclusive):null;return Ww(r.path,r.collectionGroup,t,r.filters,r.limit,e,n)}}function p1(r,t){const e=r.filters.concat([t]);return new mu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),e,r.limit,r.limitType,r.startAt,r.endAt)}function C0(r,t,e){return new mu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,e,r.startAt,r.endAt)}function ip(r,t){return cb(oi(r),oi(t))&&r.limitType===t.limitType}function k5(r){return`${lb(oi(r))}|lt:${r.limitType}`}function Pc(r){return`Query(target=${(function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map((s=>w5(s))).join(", ")}]`),np(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map((s=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(s))).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>ru(s))).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>ru(s))).join(",")),`Target(${n})`})(oi(r))}; limitType=${r.limitType})`}function op(r,t){return t.isFoundDocument()&&(function(n,s){const i=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Gt.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)})(r,t)&&(function(n,s){for(const i of Sf(n))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0})(r,t)&&(function(n,s){for(const i of n.filters)if(!i.matches(s))return!1;return!0})(r,t)&&(function(n,s){return!(n.startAt&&!(function(a,l,c){const o=qw(a,l,c);return a.inclusive?o<=0:o<0})(n.startAt,Sf(n),s)||n.endAt&&!(function(a,l,c){const o=qw(a,l,c);return a.inclusive?o>=0:o>0})(n.endAt,Sf(n),s))})(r,t)}function OC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function T5(r){return(t,e)=>{let n=!1;for(const s of Sf(r)){const i=FC(s,t,e);if(i!==0)return i;n=n||s.field.isKeyField()}return 0}}function FC(r,t,e){const n=r.field.isKeyField()?Gt.comparator(t.key,e.key):(function(i,a,l){const c=a.data.field(i),o=l.data.field(i);return c!==null&&o!==null?tu(c,o):Qt(42886)})(r.field,t,e);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return Qt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(n!==void 0){for(const[s,i]of n)if(this.equalsFn(s,t))return i}}has(t){return this.get(t)!==void 0}set(t,e){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return this.inner[n]=[[t,e]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],t))return void(s[i]=[t,e]);s.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(n===void 0)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],t))return n.length===1?delete this.inner[e]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(t){tl(this.inner,((e,n)=>{for(const[s,i]of n)t(s,i)}))}isEmpty(){return l5(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=new nn(Gt.comparator);function qi(){return PC}const E5=new nn(Gt.comparator);function df(...r){let t=E5;for(const e of r)t=t.insert(e.key,e);return t}function A5(r){let t=E5;return r.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Cl(){return kf()}function N5(){return kf()}function kf(){return new Wl((r=>r.toString()),((r,t)=>r.isEqual(t)))}const LC=new nn(Gt.comparator),BC=new Fn(Gt.comparator);function kr(...r){let t=BC;for(const e of r)t=t.add(e);return t}const UC=new Fn(Sr);function VC(){return UC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:T0(t)?"-0":t}}function C5(r){return{integerValue:""+r}}function zC(r,t){return mC(t)?C5(t):ub(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(){this._=void 0}}function HC(r,t,e){return r instanceof Gf?(function(s,i){const a={fields:{[f5]:{stringValue:u5},[d5]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&ib(i)&&(i=sp(i)),i&&(a.fields[h5]=i),{mapValue:a}})(e,t):r instanceof Wf?M5(r,t):r instanceof Xf?j5(r,t):(function(s,i){const a=R5(s,i),l=Yw(a)+Yw(s.Ae);return f1(a)&&f1(s.Ae)?C5(l):ub(s.serializer,l)})(r,t)}function $C(r,t,e){return r instanceof Wf?M5(r,t):r instanceof Xf?j5(r,t):e}function R5(r,t){return r instanceof R0?(function(n){return f1(n)||(function(i){return!!i&&"doubleValue"in i})(n)})(t)?t:{integerValue:0}:null}class Gf extends lp{}class Wf extends lp{constructor(t){super(),this.elements=t}}function M5(r,t){const e=D5(t);for(const n of r.elements)e.some((s=>hi(s,n)))||e.push(n);return{arrayValue:{values:e}}}class Xf extends lp{constructor(t){super(),this.elements=t}}function j5(r,t){let e=D5(t);for(const n of r.elements)e=e.filter((s=>!hi(s,n)));return{arrayValue:{values:e}}}class R0 extends lp{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function Yw(r){return vn(r.integerValue||r.doubleValue)}function D5(r){return ob(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(t,e){this.field=t,this.transform=e}}function GC(r,t){return r.field.isEqual(t.field)&&(function(n,s){return n instanceof Wf&&s instanceof Wf||n instanceof Xf&&s instanceof Xf?eu(n.elements,s.elements,hi):n instanceof R0&&s instanceof R0?hi(n.Ae,s.Ae):n instanceof Gf&&s instanceof Gf})(r.transform,t.transform)}class WC{constructor(t,e){this.version=t,this.transformResults=e}}class zs{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new zs}static exists(t){return new zs(void 0,t)}static updateTime(t){return new zs(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function c0(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class cp{}function I5(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new up(r.key,zs.none()):new fh(r.key,r.data,zs.none());{const e=r.data,n=Bs.empty();let s=new Fn(Jn.comparator);for(let i of t.fields)if(!s.has(i)){let a=e.field(i);a===null&&i.length>1&&(i=i.popLast(),a=e.field(i)),a===null?n.delete(i):n.set(i,a),s=s.add(i)}return new rl(r.key,n,new na(s.toArray()),zs.none())}}function XC(r,t,e){r instanceof fh?(function(s,i,a){const l=s.value.clone(),c=Qw(s.fieldTransforms,i,a.transformResults);l.setAll(c),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()})(r,t,e):r instanceof rl?(function(s,i,a){if(!c0(s.precondition,i))return void i.convertToUnknownDocument(a.version);const l=Qw(s.fieldTransforms,i,a.transformResults),c=i.data;c.setAll(O5(s)),c.setAll(l),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()})(r,t,e):(function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()})(0,t,e)}function Tf(r,t,e,n){return r instanceof fh?(function(i,a,l,c){if(!c0(i.precondition,a))return l;const o=i.value.clone(),u=Zw(i.fieldTransforms,c,a);return o.setAll(u),a.convertToFoundDocument(a.version,o).setHasLocalMutations(),null})(r,t,e,n):r instanceof rl?(function(i,a,l,c){if(!c0(i.precondition,a))return l;const o=Zw(i.fieldTransforms,c,a),u=a.data;return u.setAll(O5(i)),u.setAll(o),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((p=>p.field)))})(r,t,e,n):(function(i,a,l){return c0(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l})(r,t,e)}function YC(r,t){let e=null;for(const n of r.fieldTransforms){const s=t.data.field(n.field),i=R5(n.transform,s||null);i!=null&&(e===null&&(e=Bs.empty()),e.set(n.field,i))}return e||null}function Kw(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&eu(n,s,((i,a)=>GC(i,a)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class fh extends cp{constructor(t,e,n,s=[]){super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class rl extends cp{constructor(t,e,n,s,i=[]){super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function O5(r){const t=new Map;return r.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const n=r.data.field(e);t.set(e,n)}})),t}function Qw(r,t,e){const n=new Map;Fr(r.length===e.length,32656,{Re:e.length,Ve:r.length});for(let s=0;s<e.length;s++){const i=r[s],a=i.transform,l=t.data.field(i.field);n.set(i.field,$C(a,l,e[s]))}return n}function Zw(r,t,e){const n=new Map;for(const s of r){const i=s.transform,a=e.data.field(s.field);n.set(s.field,HC(i,a,t))}return n}class up extends cp{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KC extends cp{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(t,e,n,s){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(t.key)&&XC(i,t,n[s])}}applyToLocalView(t,e){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(e=Tf(n,t,e,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(e=Tf(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const n=N5();return this.mutations.forEach((s=>{const i=t.get(s.key),a=i.overlayedDocument;let l=this.applyToLocalView(a,i.mutatedFields);l=e.has(s.key)?null:l;const c=I5(a,l);c!==null&&n.set(s.key,c),a.isValidDocument()||a.convertToNoDocument(nr.min())})),n}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),kr())}isEqual(t){return this.batchId===t.batchId&&eu(this.mutations,t.mutations,((e,n)=>Kw(e,n)))&&eu(this.baseMutations,t.baseMutations,((e,n)=>Kw(e,n)))}}class fb{constructor(t,e,n,s){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=s}static from(t,e,n){Fr(t.mutations.length===n.length,58842,{me:t.mutations.length,fe:n.length});let s=(function(){return LC})();const i=t.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,n[a].version);return new fb(t,e,n,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var En,Ar;function eR(r){switch(r){case kt.OK:return Qt(64938);case kt.CANCELLED:case kt.UNKNOWN:case kt.DEADLINE_EXCEEDED:case kt.RESOURCE_EXHAUSTED:case kt.INTERNAL:case kt.UNAVAILABLE:case kt.UNAUTHENTICATED:return!1;case kt.INVALID_ARGUMENT:case kt.NOT_FOUND:case kt.ALREADY_EXISTS:case kt.PERMISSION_DENIED:case kt.FAILED_PRECONDITION:case kt.ABORTED:case kt.OUT_OF_RANGE:case kt.UNIMPLEMENTED:case kt.DATA_LOSS:return!0;default:return Qt(15467,{code:r})}}function F5(r){if(r===void 0)return $i("GRPC error has no .code"),kt.UNKNOWN;switch(r){case En.OK:return kt.OK;case En.CANCELLED:return kt.CANCELLED;case En.UNKNOWN:return kt.UNKNOWN;case En.DEADLINE_EXCEEDED:return kt.DEADLINE_EXCEEDED;case En.RESOURCE_EXHAUSTED:return kt.RESOURCE_EXHAUSTED;case En.INTERNAL:return kt.INTERNAL;case En.UNAVAILABLE:return kt.UNAVAILABLE;case En.UNAUTHENTICATED:return kt.UNAUTHENTICATED;case En.INVALID_ARGUMENT:return kt.INVALID_ARGUMENT;case En.NOT_FOUND:return kt.NOT_FOUND;case En.ALREADY_EXISTS:return kt.ALREADY_EXISTS;case En.PERMISSION_DENIED:return kt.PERMISSION_DENIED;case En.FAILED_PRECONDITION:return kt.FAILED_PRECONDITION;case En.ABORTED:return kt.ABORTED;case En.OUT_OF_RANGE:return kt.OUT_OF_RANGE;case En.UNIMPLEMENTED:return kt.UNIMPLEMENTED;case En.DATA_LOSS:return kt.DATA_LOSS;default:return Qt(39323,{code:r})}}(Ar=En||(En={}))[Ar.OK=0]="OK",Ar[Ar.CANCELLED=1]="CANCELLED",Ar[Ar.UNKNOWN=2]="UNKNOWN",Ar[Ar.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ar[Ar.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ar[Ar.NOT_FOUND=5]="NOT_FOUND",Ar[Ar.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ar[Ar.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ar[Ar.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ar[Ar.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ar[Ar.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ar[Ar.ABORTED=10]="ABORTED",Ar[Ar.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ar[Ar.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ar[Ar.INTERNAL=13]="INTERNAL",Ar[Ar.UNAVAILABLE=14]="UNAVAILABLE",Ar[Ar.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR=new zo([4294967295,4294967295],0);function Jw(r){const t=tR().encode(r),e=new Q3;return e.update(t),new Uint8Array(e.digest())}function e_(r){const t=new DataView(r.buffer),e=t.getUint32(0,!0),n=t.getUint32(4,!0),s=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new zo([e,n],0),new zo([s,i],0)]}class hb{constructor(t,e,n){if(this.bitmap=t,this.padding=e,this.hashCount=n,e<0||e>=8)throw new pf(`Invalid padding: ${e}`);if(n<0)throw new pf(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new pf(`Invalid hash count: ${n}`);if(t.length===0&&e!==0)throw new pf(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=zo.fromNumber(this.ge)}ye(t,e,n){let s=t.add(e.multiply(zo.fromNumber(n)));return s.compare(rR)===1&&(s=new zo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=Jw(t),[n,s]=e_(e);for(let i=0;i<this.hashCount;i++){const a=this.ye(n,s,i);if(!this.we(a))return!1}return!0}static create(t,e,n){const s=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),a=new hb(i,s,e);return n.forEach((l=>a.insert(l))),a}insert(t){if(this.ge===0)return;const e=Jw(t),[n,s]=e_(e);for(let i=0;i<this.hashCount;i++){const a=this.ye(n,s,i);this.Se(a)}}Se(t){const e=Math.floor(t/8),n=t%8;this.bitmap[e]|=1<<n}}class pf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(t,e,n,s,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,e,n){const s=new Map;return s.set(t,hh.createSynthesizedTargetChangeForCurrentChange(t,e,n)),new fp(nr.min(),s,new nn(Sr),qi(),kr())}}class hh{constructor(t,e,n,s,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,e,n){return new hh(n,e,kr(),kr(),kr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(t,e,n,s){this.be=t,this.removedTargetIds=e,this.key=n,this.De=s}}class P5{constructor(t,e){this.targetId=t,this.Ce=e}}class L5{constructor(t,e,n=rs.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=s}}class t_{constructor(){this.ve=0,this.Fe=r_(),this.Me=rs.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=kr(),e=kr(),n=kr();return this.Fe.forEach(((s,i)=>{switch(i){case 0:t=t.add(s);break;case 2:e=e.add(s);break;case 1:n=n.add(s);break;default:Qt(38017,{changeType:i})}})),new hh(this.Me,this.xe,t,e,n)}qe(){this.Oe=!1,this.Fe=r_()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Fr(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class nR{constructor(t){this.Ge=t,this.ze=new Map,this.je=qi(),this.Je=zd(),this.He=zd(),this.Ye=new nn(Sr)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const n=this.nt(e);switch(t.state){case 0:this.rt(e)&&n.Le(t.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(t.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(n.We(),n.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),n.Le(t.resumeToken));break;default:Qt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((n,s)=>{this.rt(s)&&e(s)}))}st(t){const e=t.targetId,n=t.Ce.count,s=this.ot(e);if(s){const i=s.target;if(d1(i))if(n===0){const a=new Gt(i.path);this.et(e,a,us.newNoDocument(a,nr.min()))}else Fr(n===1,20013,{expectedCount:n});else{const a=this._t(e);if(a!==n){const l=this.ut(t),c=l?this.ct(l,t,a):1;if(c!==0){this.it(e);const o=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,o)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:n="",padding:s=0},hashCount:i=0}=e;let a,l;try{a=Yo(n).toUint8Array()}catch(c){if(c instanceof c5)return Jc("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new hb(a,s,i)}catch(c){return Jc(c instanceof pf?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(t,e,n){return e.Ce.count===n-this.Pt(t,e.targetId)?0:2}Pt(t,e){const n=this.Ge.getRemoteKeysForTarget(e);let s=0;return n.forEach((i=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;t.mightContain(l)||(this.et(e,i,null),s++)})),s}Tt(t){const e=new Map;this.ze.forEach(((i,a)=>{const l=this.ot(a);if(l){if(i.current&&d1(l.target)){const c=new Gt(l.target.path);this.It(c).has(a)||this.Et(a,c)||this.et(a,c,us.newNoDocument(c,t))}i.Be&&(e.set(a,i.ke()),i.qe())}}));let n=kr();this.He.forEach(((i,a)=>{let l=!0;a.forEachWhile((c=>{const o=this.ot(c);return!o||o.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(n=n.add(i))})),this.je.forEach(((i,a)=>a.setReadTime(t)));const s=new fp(t,e,this.Ye,this.je,n);return this.je=qi(),this.Je=zd(),this.He=zd(),this.Ye=new nn(Sr),s}Xe(t,e){if(!this.rt(t))return;const n=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,n),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,n){if(!this.rt(t))return;const s=this.nt(t);this.Et(t,e)?s.Qe(e,1):s.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),n&&(this.je=this.je.insert(e,n))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new t_,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new Fn(Sr),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new Fn(Sr),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||Ut("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new t_),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function zd(){return new nn(Gt.comparator)}function r_(){return new nn(Gt.comparator)}const sR={asc:"ASCENDING",desc:"DESCENDING"},aR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iR={and:"AND",or:"OR"};class oR{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function m1(r,t){return r.useProto3Json||np(t)?t:{value:t}}function M0(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function B5(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function lR(r,t){return M0(r,t.toTimestamp())}function li(r){return Fr(!!r,49232),nr.fromTimestamp((function(e){const n=Xo(e);return new Qr(n.seconds,n.nanos)})(r))}function db(r,t){return g1(r,t).canonicalString()}function g1(r,t){const e=(function(s){return new Wr(["projects",s.projectId,"databases",s.database])})(r).child("documents");return t===void 0?e:e.child(t)}function U5(r){const t=Wr.fromString(r);return Fr(q5(t),10190,{key:t.toString()}),t}function b1(r,t){return db(r.databaseId,t.path)}function Dg(r,t){const e=U5(t);if(e.get(1)!==r.databaseId.projectId)throw new Lt(kt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+r.databaseId.projectId);if(e.get(3)!==r.databaseId.database)throw new Lt(kt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+r.databaseId.database);return new Gt(z5(e))}function V5(r,t){return db(r.databaseId,t)}function cR(r){const t=U5(r);return t.length===4?Wr.emptyPath():z5(t)}function x1(r){return new Wr(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function z5(r){return Fr(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function n_(r,t,e){return{name:b1(r,t),fields:e.value.mapValue.fields}}function uR(r,t){let e;if("targetChange"in t){t.targetChange;const n=(function(o){return o==="NO_CHANGE"?0:o==="ADD"?1:o==="REMOVE"?2:o==="CURRENT"?3:o==="RESET"?4:Qt(39313,{state:o})})(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],i=(function(o,u){return o.useProto3Json?(Fr(u===void 0||typeof u=="string",58123),rs.fromBase64String(u||"")):(Fr(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),rs.fromUint8Array(u||new Uint8Array))})(r,t.targetChange.resumeToken),a=t.targetChange.cause,l=a&&(function(o){const u=o.code===void 0?kt.UNKNOWN:F5(o.code);return new Lt(u,o.message||"")})(a);e=new L5(n,s,i,l||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const s=Dg(r,n.document.name),i=li(n.document.updateTime),a=n.document.createTime?li(n.document.createTime):nr.min(),l=new Bs({mapValue:{fields:n.document.fields}}),c=us.newFoundDocument(s,i,a,l),o=n.targetIds||[],u=n.removedTargetIds||[];e=new u0(o,u,c.key,c)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const s=Dg(r,n.document),i=n.readTime?li(n.readTime):nr.min(),a=us.newNoDocument(s,i),l=n.removedTargetIds||[];e=new u0([],l,a.key,a)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const s=Dg(r,n.document),i=n.removedTargetIds||[];e=new u0([],i,s,null)}else{if(!("filter"in t))return Qt(11601,{Rt:t});{t.filter;const n=t.filter;n.targetId;const{count:s=0,unchangedNames:i}=n,a=new JC(s,i),l=n.targetId;e=new P5(l,a)}}return e}function fR(r,t){let e;if(t instanceof fh)e={update:n_(r,t.key,t.value)};else if(t instanceof up)e={delete:b1(r,t.key)};else if(t instanceof rl)e={update:n_(r,t.key,t.data),updateMask:vR(t.fieldMask)};else{if(!(t instanceof KC))return Qt(16599,{Vt:t.type});e={verify:b1(r,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((n=>(function(i,a){const l=a.transform;if(l instanceof Gf)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Wf)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Xf)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof R0)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw Qt(20930,{transform:a.transform})})(0,n)))),t.precondition.isNone||(e.currentDocument=(function(s,i){return i.updateTime!==void 0?{updateTime:lR(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Qt(27497)})(r,t.precondition)),e}function hR(r,t){return r&&r.length>0?(Fr(t!==void 0,14353),r.map((e=>(function(s,i){let a=s.updateTime?li(s.updateTime):li(i);return a.isEqual(nr.min())&&(a=li(i)),new WC(a,s.transformResults||[])})(e,t)))):[]}function dR(r,t){return{documents:[V5(r,t.path)]}}function pR(r,t){const e={structuredQuery:{}},n=t.path;let s;t.collectionGroup!==null?(s=n,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=n.popLast(),e.structuredQuery.from=[{collectionId:n.lastSegment()}]),e.parent=V5(r,s);const i=(function(o){if(o.length!==0)return $5($a.create(o,"and"))})(t.filters);i&&(e.structuredQuery.where=i);const a=(function(o){if(o.length!==0)return o.map((u=>(function(h){return{field:Lc(h.field),direction:bR(h.dir)}})(u)))})(t.orderBy);a&&(e.structuredQuery.orderBy=a);const l=m1(r,t.limit);return l!==null&&(e.structuredQuery.limit=l),t.startAt&&(e.structuredQuery.startAt=(function(o){return{before:o.inclusive,values:o.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(o){return{before:!o.inclusive,values:o.position}})(t.endAt)),{ft:e,parent:s}}function mR(r){let t=cR(r.parent);const e=r.structuredQuery,n=e.from?e.from.length:0;let s=null;if(n>0){Fr(n===1,65062);const u=e.from[0];u.allDescendants?s=u.collectionId:t=t.child(u.collectionId)}let i=[];e.where&&(i=(function(p){const h=H5(p);return h instanceof $a&&y5(h)?h.getFilters():[h]})(e.where));let a=[];e.orderBy&&(a=(function(p){return p.map((h=>(function(b){return new qf(Bc(b.field),(function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(b.direction))})(h)))})(e.orderBy));let l=null;e.limit&&(l=(function(p){let h;return h=typeof p=="object"?p.value:p,np(h)?null:h})(e.limit));let c=null;e.startAt&&(c=(function(p){const h=!!p.before,d=p.values||[];return new N0(d,h)})(e.startAt));let o=null;return e.endAt&&(o=(function(p){const h=!p.before,d=p.values||[];return new N0(d,h)})(e.endAt)),DC(t,s,a,i,l,"F",c,o)}function gR(r,t){const e=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Qt(28987,{purpose:s})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function H5(r){return r.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Bc(e.unaryFilter.field);return Rn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=Bc(e.unaryFilter.field);return Rn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Bc(e.unaryFilter.field);return Rn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Bc(e.unaryFilter.field);return Rn.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Qt(61313);default:return Qt(60726)}})(r):r.fieldFilter!==void 0?(function(e){return Rn.create(Bc(e.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Qt(58110);default:return Qt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(e){return $a.create(e.compositeFilter.filters.map((n=>H5(n))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Qt(1026)}})(e.compositeFilter.op))})(r):Qt(30097,{filter:r})}function bR(r){return sR[r]}function xR(r){return aR[r]}function yR(r){return iR[r]}function Lc(r){return{fieldPath:r.canonicalString()}}function Bc(r){return Jn.fromServerFormat(r.fieldPath)}function $5(r){return r instanceof Rn?(function(e){if(e.op==="=="){if($w(e.value))return{unaryFilter:{field:Lc(e.field),op:"IS_NAN"}};if(Hw(e.value))return{unaryFilter:{field:Lc(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if($w(e.value))return{unaryFilter:{field:Lc(e.field),op:"IS_NOT_NAN"}};if(Hw(e.value))return{unaryFilter:{field:Lc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lc(e.field),op:xR(e.op),value:e.value}}})(r):r instanceof $a?(function(e){const n=e.getFilters().map((s=>$5(s)));return n.length===1?n[0]:{compositeFilter:{op:yR(e.op),filters:n}}})(r):Qt(54877,{filter:r})}function vR(r){const t=[];return r.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function q5(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(t,e,n,s,i=nr.min(),a=nr.min(),l=rs.EMPTY_BYTE_STRING,c=null){this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(t){return new jo(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new jo(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new jo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new jo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(t){this.yt=t}}function _R(r){const t=mR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?C0(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(){this.Cn=new kR}addToCollectionParentIndex(t,e){return this.Cn.add(e),Rt.resolve()}getCollectionParents(t,e){return Rt.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return Rt.resolve()}deleteFieldIndex(t,e){return Rt.resolve()}deleteAllFieldIndexes(t){return Rt.resolve()}createTargetIndexes(t,e){return Rt.resolve()}getDocumentsMatchingTarget(t,e){return Rt.resolve(null)}getIndexType(t,e){return Rt.resolve(0)}getFieldIndexes(t,e){return Rt.resolve([])}getNextCollectionGroupToUpdate(t){return Rt.resolve(null)}getMinOffset(t,e){return Rt.resolve(Wo.min())}getMinOffsetFromCollectionGroup(t,e){return Rt.resolve(Wo.min())}updateCollectionGroup(t,e,n){return Rt.resolve()}updateIndexEntries(t,e){return Rt.resolve()}}class kR{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),s=this.index[e]||new Fn(Wr.comparator),i=!s.has(n);return this.index[e]=s.add(n),i}has(t){const e=t.lastSegment(),n=t.popLast(),s=this.index[e];return s&&s.has(n)}getEntries(t){return(this.index[t]||new Fn(Wr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},G5=41943040;class Ls{static withCacheSize(t){return new Ls(t,Ls.DEFAULT_COLLECTION_PERCENTILE,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ls.DEFAULT_COLLECTION_PERCENTILE=10,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ls.DEFAULT=new Ls(G5,Ls.DEFAULT_COLLECTION_PERCENTILE,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ls.DISABLED=new Ls(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new nu(0)}static cr(){return new nu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="LruGarbageCollector",TR=1048576;function i_([r,t],[e,n]){const s=Sr(r,e);return s===0?Sr(t,n):s}class ER{constructor(t){this.Ir=t,this.buffer=new Fn(i_),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const n=this.buffer.last();i_(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}}get maxValue(){return this.buffer.last()[0]}}class AR{constructor(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){Ut(a_,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){pu(e)?Ut(a_,"Ignoring IndexedDB error during garbage collection: ",e):await du(e)}await this.Vr(3e5)}))}}class NR{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((n=>Math.floor(e/100*n)))}nthSequenceNumber(t,e){if(e===0)return Rt.resolve(rp.ce);const n=new ER(e);return this.mr.forEachTarget(t,(s=>n.Ar(s.sequenceNumber))).next((()=>this.mr.pr(t,(s=>n.Ar(s))))).next((()=>n.maxValue))}removeTargets(t,e,n){return this.mr.removeTargets(t,e,n)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(Ut("LruGarbageCollector","Garbage collection skipped; disabled"),Rt.resolve(s_)):this.getCacheSize(t).next((n=>n<this.params.cacheSizeCollectionThreshold?(Ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),s_):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let n,s,i,a,l,c,o;const u=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(Ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,a=Date.now(),this.nthSequenceNumber(t,s)))).next((p=>(n=p,l=Date.now(),this.removeTargets(t,n,e)))).next((p=>(i=p,c=Date.now(),this.removeOrphanedDocuments(t,n)))).next((p=>(o=Date.now(),Fc()<=_r.DEBUG&&Ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-u}ms
	Determined least recently used ${s} in `+(l-a)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${p} documents in `+(o-c)+`ms
Total Duration: ${o-u}ms`),Rt.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p}))))}}function CR(r,t){return new NR(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(){this.changes=new Wl((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,us.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return n!==void 0?Rt.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(t,e,n,s){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=s}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next((s=>(n=s,this.remoteDocumentCache.getEntry(t,e)))).next((s=>(n!==null&&Tf(n.mutation,s,na.empty(),Qr.now()),s)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((n=>this.getLocalViewOfDocuments(t,n,kr()).next((()=>n))))}getLocalViewOfDocuments(t,e,n=kr()){const s=Cl();return this.populateOverlays(t,s,e).next((()=>this.computeViews(t,e,s,n).next((i=>{let a=df();return i.forEach(((l,c)=>{a=a.insert(l,c.overlayedDocument)})),a}))))}getOverlayedDocuments(t,e){const n=Cl();return this.populateOverlays(t,n,e).next((()=>this.computeViews(t,e,n,kr())))}populateOverlays(t,e,n){const s=[];return n.forEach((i=>{e.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(t,s).next((i=>{i.forEach(((a,l)=>{e.set(a,l)}))}))}computeViews(t,e,n,s){let i=qi();const a=kf(),l=(function(){return kf()})();return e.forEach(((c,o)=>{const u=n.get(o.key);s.has(o.key)&&(u===void 0||u.mutation instanceof rl)?i=i.insert(o.key,o):u!==void 0?(a.set(o.key,u.mutation.getFieldMask()),Tf(u.mutation,o,u.mutation.getFieldMask(),Qr.now())):a.set(o.key,na.empty())})),this.recalculateAndSaveOverlays(t,i).next((c=>(c.forEach(((o,u)=>a.set(o,u))),e.forEach(((o,u)=>l.set(o,new MR(u,a.get(o)??null)))),l)))}recalculateAndSaveOverlays(t,e){const n=kf();let s=new nn(((a,l)=>a-l)),i=kr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((a=>{for(const l of a)l.keys().forEach((c=>{const o=e.get(c);if(o===null)return;let u=n.get(c)||na.empty();u=l.applyToLocalView(o,u),n.set(c,u);const p=(s.get(l.batchId)||kr()).add(c);s=s.insert(l.batchId,p)}))})).next((()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),o=c.key,u=c.value,p=N5();u.forEach((h=>{if(!i.has(h)){const d=I5(e.get(h),n.get(h));d!==null&&p.set(h,d),i=i.add(h)}})),a.push(this.documentOverlayCache.saveOverlays(t,o,p))}return Rt.waitFor(a)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((n=>this.recalculateAndSaveOverlays(t,n)))}getDocumentsMatchingQuery(t,e,n,s){return(function(a){return Gt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):S5(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n,s):this.getDocumentsMatchingCollectionQuery(t,e,n,s)}getNextDocuments(t,e,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,s).next((i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,s-i.size):Rt.resolve(Cl());let l=Vf,c=i;return a.next((o=>Rt.forEach(o,((u,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),i.get(u)?Rt.resolve():this.remoteDocumentCache.getEntry(t,u).next((h=>{c=c.insert(u,h)}))))).next((()=>this.populateOverlays(t,o,i))).next((()=>this.computeViews(t,c,o,kr()))).next((u=>({batchId:l,changes:A5(u)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Gt(e)).next((n=>{let s=df();return n.isFoundDocument()&&(s=s.insert(n.key,n)),s}))}getDocumentsMatchingCollectionGroupQuery(t,e,n,s){const i=e.collectionGroup;let a=df();return this.indexManager.getCollectionParents(t,i).next((l=>Rt.forEach(l,(c=>{const o=(function(p,h){return new mu(h,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(e,c.child(i));return this.getDocumentsMatchingCollectionQuery(t,o,n,s).next((u=>{u.forEach(((p,h)=>{a=a.insert(p,h)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(t,e,n,s){let i;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId).next((a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n,i,s)))).next((a=>{i.forEach(((c,o)=>{const u=o.getKey();a.get(u)===null&&(a=a.insert(u,us.newInvalidDocument(u)))}));let l=df();return a.forEach(((c,o)=>{const u=i.get(c);u!==void 0&&Tf(u.mutation,o,na.empty(),Qr.now()),op(e,o)&&(l=l.insert(c,o))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return Rt.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(s){return{id:s.id,version:s.version,createTime:li(s.createTime)}})(e)),Rt.resolve()}getNamedQuery(t,e){return Rt.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(s){return{name:s.name,query:_R(s.bundledQuery),readTime:li(s.readTime)}})(e)),Rt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(){this.overlays=new nn(Gt.comparator),this.qr=new Map}getOverlay(t,e){return Rt.resolve(this.overlays.get(e))}getOverlays(t,e){const n=Cl();return Rt.forEach(e,(s=>this.getOverlay(t,s).next((i=>{i!==null&&n.set(s,i)})))).next((()=>n))}saveOverlays(t,e,n){return n.forEach(((s,i)=>{this.St(t,e,i)})),Rt.resolve()}removeOverlaysForBatchId(t,e,n){const s=this.qr.get(n);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(n)),Rt.resolve()}getOverlaysForCollection(t,e,n){const s=Cl(),i=e.length+1,a=new Gt(e.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,o=c.getKey();if(!e.isPrefixOf(o.path))break;o.path.length===i&&c.largestBatchId>n&&s.set(c.getKey(),c)}return Rt.resolve(s)}getOverlaysForCollectionGroup(t,e,n,s){let i=new nn(((o,u)=>o-u));const a=this.overlays.getIterator();for(;a.hasNext();){const o=a.getNext().value;if(o.getKey().getCollectionGroup()===e&&o.largestBatchId>n){let u=i.get(o.largestBatchId);u===null&&(u=Cl(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}const l=Cl(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((o,u)=>l.set(o,u))),!(l.size()>=s)););return Rt.resolve(l)}St(t,e,n){const s=this.overlays.get(n.key);if(s!==null){const a=this.qr.get(s.largestBatchId).delete(n.key);this.qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new ZC(e,n));let i=this.qr.get(e);i===void 0&&(i=kr(),this.qr.set(e,i)),this.qr.set(e,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(){this.sessionToken=rs.EMPTY_BYTE_STRING}getSessionToken(t){return Rt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,Rt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(){this.Qr=new Fn(Bn.$r),this.Ur=new Fn(Bn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const n=new Bn(t,e);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(t,e){t.forEach((n=>this.addReference(n,e)))}removeReference(t,e){this.Gr(new Bn(t,e))}zr(t,e){t.forEach((n=>this.removeReference(n,e)))}jr(t){const e=new Gt(new Wr([])),n=new Bn(e,t),s=new Bn(e,t+1),i=[];return this.Ur.forEachInRange([n,s],(a=>{this.Gr(a),i.push(a.key)})),i}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new Gt(new Wr([])),n=new Bn(e,t),s=new Bn(e,t+1);let i=kr();return this.Ur.forEachInRange([n,s],(a=>{i=i.add(a.key)})),i}containsKey(t){const e=new Bn(t,0),n=this.Qr.firstAfterOrEqual(e);return n!==null&&t.isEqual(n.key)}}class Bn{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return Gt.comparator(t.key,e.key)||Sr(t.Yr,e.Yr)}static Kr(t,e){return Sr(t.Yr,e.Yr)||Gt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new Fn(Bn.$r)}checkEmpty(t){return Rt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,n,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new QC(i,e,n,s);this.mutationQueue.push(a);for(const l of s)this.Zr=this.Zr.add(new Bn(l.key,i)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast());return Rt.resolve(a)}lookupMutationBatch(t,e){return Rt.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,s=this.ei(n),i=s<0?0:s;return Rt.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Rt.resolve(this.mutationQueue.length===0?ab:this.tr-1)}getAllMutationBatches(t){return Rt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new Bn(e,0),s=new Bn(e,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,s],(a=>{const l=this.Xr(a.Yr);i.push(l)})),Rt.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new Fn(Sr);return e.forEach((s=>{const i=new Bn(s,0),a=new Bn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,a],(l=>{n=n.add(l.Yr)}))})),Rt.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,s=n.length+1;let i=n;Gt.isDocumentKey(i)||(i=i.child(""));const a=new Bn(new Gt(i),0);let l=new Fn(Sr);return this.Zr.forEachWhile((c=>{const o=c.key.path;return!!n.isPrefixOf(o)&&(o.length===s&&(l=l.add(c.Yr)),!0)}),a),Rt.resolve(this.ti(l))}ti(t){const e=[];return t.forEach((n=>{const s=this.Xr(n);s!==null&&e.push(s)})),e}removeMutationBatch(t,e){Fr(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return Rt.forEach(e.mutations,(s=>{const i=new Bn(s.key,e.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)})).next((()=>{this.Zr=n}))}ir(t){}containsKey(t,e){const n=new Bn(e,0),s=this.Zr.firstAfterOrEqual(n);return Rt.resolve(e.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,Rt.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(t){this.ri=t,this.docs=(function(){return new nn(Gt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,s=this.docs.get(n),i=s?s.size:0,a=this.ri(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return Rt.resolve(n?n.document.mutableCopy():us.newInvalidDocument(e))}getEntries(t,e){let n=qi();return e.forEach((s=>{const i=this.docs.get(s);n=n.insert(s,i?i.document.mutableCopy():us.newInvalidDocument(s))})),Rt.resolve(n)}getDocumentsMatchingQuery(t,e,n,s){let i=qi();const a=e.path,l=new Gt(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:o,value:{document:u}}=c.getNext();if(!a.isPrefixOf(o.path))break;o.path.length>a.length+1||fC(uC(u),n)<=0||(s.has(u.key)||op(e,u))&&(i=i.insert(u.key,u.mutableCopy()))}return Rt.resolve(i)}getAllFromCollectionGroup(t,e,n,s){Qt(9500)}ii(t,e){return Rt.forEach(this.docs,(n=>e(n)))}newChangeBuffer(t){return new LR(this)}getSize(t){return Rt.resolve(this.size)}}class LR extends RR{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((n,s)=>{s.isValidDocument()?e.push(this.Nr.addEntry(t,s)):this.Nr.removeEntry(n)})),Rt.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(t){this.persistence=t,this.si=new Wl((e=>lb(e)),cb),this.lastRemoteSnapshotVersion=nr.min(),this.highestTargetId=0,this.oi=0,this._i=new pb,this.targetCount=0,this.ai=nu.ur()}forEachTarget(t,e){return this.si.forEach(((n,s)=>e(s))),Rt.resolve()}getLastRemoteSnapshotVersion(t){return Rt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Rt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Rt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.oi&&(this.oi=e),Rt.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new nu(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,Rt.resolve()}updateTargetData(t,e){return this.Pr(e),Rt.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,Rt.resolve()}removeTargets(t,e,n){let s=0;const i=[];return this.si.forEach(((a,l)=>{l.sequenceNumber<=e&&n.get(l.targetId)===null&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(t,l.targetId)),s++)})),Rt.waitFor(i).next((()=>s))}getTargetCount(t){return Rt.resolve(this.targetCount)}getTargetData(t,e){const n=this.si.get(e)||null;return Rt.resolve(n)}addMatchingKeys(t,e,n){return this._i.Wr(e,n),Rt.resolve()}removeMatchingKeys(t,e,n){this._i.zr(e,n);const s=this.persistence.referenceDelegate,i=[];return s&&e.forEach((a=>{i.push(s.markPotentiallyOrphaned(t,a))})),Rt.waitFor(i)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),Rt.resolve()}getMatchingKeysForTargetId(t,e){const n=this._i.Hr(e);return Rt.resolve(n)}containsKey(t,e){return Rt.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(t,e){this.ui={},this.overlays={},this.ci=new rp(0),this.li=!1,this.li=!0,this.hi=new OR,this.referenceDelegate=t(this),this.Pi=new BR(this),this.indexManager=new SR,this.remoteDocumentCache=(function(s){return new PR(s)})((n=>this.referenceDelegate.Ti(n))),this.serializer=new wR(e),this.Ii=new DR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new IR,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.ui[t.toKey()];return n||(n=new FR(e,this.referenceDelegate),this.ui[t.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,n){Ut("MemoryPersistence","Starting transaction:",t);const s=new UR(this.ci.next());return this.referenceDelegate.Ei(),n(s).next((i=>this.referenceDelegate.di(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ai(t,e){return Rt.or(Object.values(this.ui).map((n=>()=>n.containsKey(t,e))))}}class UR extends dC{constructor(t){super(),this.currentSequenceNumber=t}}class mb{constructor(t){this.persistence=t,this.Ri=new pb,this.Vi=null}static mi(t){return new mb(t)}get fi(){if(this.Vi)return this.Vi;throw Qt(60996)}addReference(t,e,n){return this.Ri.addReference(n,e),this.fi.delete(n.toString()),Rt.resolve()}removeReference(t,e,n){return this.Ri.removeReference(n,e),this.fi.add(n.toString()),Rt.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),Rt.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((s=>this.fi.add(s.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next((s=>{s.forEach((i=>this.fi.add(i.toString())))})).next((()=>n.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Rt.forEach(this.fi,(n=>{const s=Gt.fromPath(n);return this.gi(t,s).next((i=>{i||e.removeEntry(s,nr.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((n=>{n?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return Rt.or([()=>Rt.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class j0{constructor(t,e){this.persistence=t,this.pi=new Wl((n=>gC(n.path)),((n,s)=>n.isEqual(s))),this.garbageCollector=CR(this,e)}static mi(t,e){return new j0(t,e)}Ei(){}di(t){return Rt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((n=>e.next((s=>n+s))))}wr(t){let e=0;return this.pr(t,(n=>{e++})).next((()=>e))}pr(t,e){return Rt.forEach(this.pi,((n,s)=>this.br(t,n,s).next((i=>i?Rt.resolve():e(s)))))}removeTargets(t,e,n){return this.persistence.getTargetCache().removeTargets(t,e,n)}removeOrphanedDocuments(t,e){let n=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(t,(a=>this.br(t,a,e).next((l=>{l||(n++,i.removeEntry(a,nr.min()))})))).next((()=>i.apply(t))).next((()=>n))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),Rt.resolve()}removeTarget(t,e){const n=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,e,n){return this.pi.set(n,t.currentSequenceNumber),Rt.resolve()}removeReference(t,e,n){return this.pi.set(n,t.currentSequenceNumber),Rt.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),Rt.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=o0(t.data.value)),e}br(t,e,n){return Rt.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const s=this.pi.get(e);return Rt.resolve(s!==void 0&&s>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(t,e,n,s){this.targetId=t,this.fromCache=e,this.Es=n,this.ds=s}static As(t,e){let n=kr(),s=kr();for(const i of e.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new gb(t,e.fromCache,n,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return O9()?8:pC(gs())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,n,s){const i={result:null};return this.ys(t,e).next((a=>{i.result=a})).next((()=>{if(!i.result)return this.ws(t,e,s,n).next((a=>{i.result=a}))})).next((()=>{if(i.result)return;const a=new VR;return this.Ss(t,e,a).next((l=>{if(i.result=l,this.Vs)return this.bs(t,e,a,l.size)}))})).next((()=>i.result))}bs(t,e,n,s){return n.documentReadCount<this.fs?(Fc()<=_r.DEBUG&&Ut("QueryEngine","SDK will not create cache indexes for query:",Pc(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Rt.resolve()):(Fc()<=_r.DEBUG&&Ut("QueryEngine","Query:",Pc(e),"scans",n.documentReadCount,"local documents and returns",s,"documents as results."),n.documentReadCount>this.gs*s?(Fc()<=_r.DEBUG&&Ut("QueryEngine","The SDK decides to create cache indexes for query:",Pc(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,oi(e))):Rt.resolve())}ys(t,e){if(Xw(e))return Rt.resolve(null);let n=oi(e);return this.indexManager.getIndexType(t,n).next((s=>s===0?null:(e.limit!==null&&s===1&&(e=C0(e,null,"F"),n=oi(e)),this.indexManager.getDocumentsMatchingTarget(t,n).next((i=>{const a=kr(...i);return this.ps.getDocuments(t,a).next((l=>this.indexManager.getMinOffset(t,n).next((c=>{const o=this.Ds(e,l);return this.Cs(e,o,a,c.readTime)?this.ys(t,C0(e,null,"F")):this.vs(t,o,e,c)}))))})))))}ws(t,e,n,s){return Xw(e)||s.isEqual(nr.min())?Rt.resolve(null):this.ps.getDocuments(t,n).next((i=>{const a=this.Ds(e,i);return this.Cs(e,a,n,s)?Rt.resolve(null):(Fc()<=_r.DEBUG&&Ut("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Pc(e)),this.vs(t,a,e,cC(s,Vf)).next((l=>l)))}))}Ds(t,e){let n=new Fn(T5(t));return e.forEach(((s,i)=>{op(t,i)&&(n=n.add(i))})),n}Cs(t,e,n,s){if(t.limit===null)return!1;if(n.size!==e.size)return!0;const i=t.limitType==="F"?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(t,e,n){return Fc()<=_r.DEBUG&&Ut("QueryEngine","Using full collection scan to execute query:",Pc(e)),this.ps.getDocumentsMatchingQuery(t,e,Wo.min(),n)}vs(t,e,n,s){return this.ps.getDocumentsMatchingQuery(t,n,s).next((i=>(e.forEach((a=>{i=i.insert(a.key,a)})),i)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="LocalStore",HR=3e8;class $R{constructor(t,e,n,s){this.persistence=t,this.Fs=e,this.serializer=s,this.Ms=new nn(Sr),this.xs=new Wl((i=>lb(i)),cb),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(n)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new jR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function qR(r,t,e,n){return new $R(r,t,e,n)}async function X5(r,t){const e=or(r);return await e.persistence.runTransaction("Handle user change","readonly",(n=>{let s;return e.mutationQueue.getAllMutationBatches(n).next((i=>(s=i,e.Bs(t),e.mutationQueue.getAllMutationBatches(n)))).next((i=>{const a=[],l=[];let c=kr();for(const o of s){a.push(o.batchId);for(const u of o.mutations)c=c.add(u.key)}for(const o of i){l.push(o.batchId);for(const u of o.mutations)c=c.add(u.key)}return e.localDocuments.getDocuments(n,c).next((o=>({Ls:o,removedBatchIds:a,addedBatchIds:l})))}))}))}function GR(r,t){const e=or(r);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const s=t.batch.keys(),i=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,c,o,u){const p=o.batch,h=p.keys();let d=Rt.resolve();return h.forEach((b=>{d=d.next((()=>u.getEntry(c,b))).next((x=>{const g=o.docVersions.get(b);Fr(g!==null,48541),x.version.compareTo(g)<0&&(p.applyToRemoteDocument(x,o),x.isValidDocument()&&(x.setReadTime(o.commitVersion),u.addEntry(x)))}))})),d.next((()=>l.mutationQueue.removeMutationBatch(c,p)))})(e,n,t,i).next((()=>i.apply(n))).next((()=>e.mutationQueue.performConsistencyCheck(n))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(n,s,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(l){let c=kr();for(let o=0;o<l.mutationResults.length;++o)l.mutationResults[o].transformResults.length>0&&(c=c.add(l.batch.mutations[o].key));return c})(t)))).next((()=>e.localDocuments.getDocuments(n,s)))}))}function Y5(r){const t=or(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function WR(r,t){const e=or(r),n=t.snapshotVersion;let s=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const a=e.Ns.newChangeBuffer({trackRemovals:!0});s=e.Ms;const l=[];t.targetChanges.forEach(((u,p)=>{const h=s.get(p);if(!h)return;l.push(e.Pi.removeMatchingKeys(i,u.removedDocuments,p).next((()=>e.Pi.addMatchingKeys(i,u.addedDocuments,p))));let d=h.withSequenceNumber(i.currentSequenceNumber);t.targetMismatches.get(p)!==null?d=d.withResumeToken(rs.EMPTY_BYTE_STRING,nr.min()).withLastLimboFreeSnapshotVersion(nr.min()):u.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(u.resumeToken,n)),s=s.insert(p,d),(function(x,g,w){return x.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=HR?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0})(h,d,u)&&l.push(e.Pi.updateTargetData(i,d))}));let c=qi(),o=kr();if(t.documentUpdates.forEach((u=>{t.resolvedLimboDocuments.has(u)&&l.push(e.persistence.referenceDelegate.updateLimboDocument(i,u))})),l.push(XR(i,a,t.documentUpdates).next((u=>{c=u.ks,o=u.qs}))),!n.isEqual(nr.min())){const u=e.Pi.getLastRemoteSnapshotVersion(i).next((p=>e.Pi.setTargetsMetadata(i,i.currentSequenceNumber,n)));l.push(u)}return Rt.waitFor(l).next((()=>a.apply(i))).next((()=>e.localDocuments.getLocalViewOfDocuments(i,c,o))).next((()=>c))})).then((i=>(e.Ms=s,i)))}function XR(r,t,e){let n=kr(),s=kr();return e.forEach((i=>n=n.add(i))),t.getEntries(r,n).next((i=>{let a=qi();return e.forEach(((l,c)=>{const o=i.get(l);c.isFoundDocument()!==o.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(nr.min())?(t.removeEntry(l,c.readTime),a=a.insert(l,c)):!o.isValidDocument()||c.version.compareTo(o.version)>0||c.version.compareTo(o.version)===0&&o.hasPendingWrites?(t.addEntry(c),a=a.insert(l,c)):Ut(bb,"Ignoring outdated watch update for ",l,". Current version:",o.version," Watch version:",c.version)})),{ks:a,qs:s}}))}function YR(r,t){const e=or(r);return e.persistence.runTransaction("Get next mutation batch","readonly",(n=>(t===void 0&&(t=ab),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t))))}function KR(r,t){const e=or(r);return e.persistence.runTransaction("Allocate target","readwrite",(n=>{let s;return e.Pi.getTargetData(n,t).next((i=>i?(s=i,Rt.resolve(s)):e.Pi.allocateTargetId(n).next((a=>(s=new jo(t,a,"TargetPurposeListen",n.currentSequenceNumber),e.Pi.addTargetData(n,s).next((()=>s)))))))})).then((n=>{const s=e.Ms.get(n.targetId);return(s===null||n.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(n.targetId,n),e.xs.set(t,n.targetId)),n}))}async function y1(r,t,e){const n=or(r),s=n.Ms.get(t),i=e?"readwrite":"readwrite-primary";try{e||await n.persistence.runTransaction("Release target",i,(a=>n.persistence.referenceDelegate.removeTarget(a,s)))}catch(a){if(!pu(a))throw a;Ut(bb,`Failed to update sequence numbers for target ${t}: ${a}`)}n.Ms=n.Ms.remove(t),n.xs.delete(s.target)}function o_(r,t,e){const n=or(r);let s=nr.min(),i=kr();return n.persistence.runTransaction("Execute query","readwrite",(a=>(function(c,o,u){const p=or(c),h=p.xs.get(u);return h!==void 0?Rt.resolve(p.Ms.get(h)):p.Pi.getTargetData(o,u)})(n,a,oi(t)).next((l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(a,l.targetId).next((c=>{i=c}))})).next((()=>n.Fs.getDocumentsMatchingQuery(a,t,e?s:nr.min(),e?i:kr()))).next((l=>(QR(n,OC(t),l),{documents:l,Qs:i})))))}function QR(r,t,e){let n=r.Os.get(t)||nr.min();e.forEach(((s,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)})),r.Os.set(t,n)}class l_{constructor(){this.activeTargetIds=VC()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ZR{constructor(){this.Mo=new l_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,n){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new l_,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_="ConnectivityMonitor";class u_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ut(c_,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){Ut(c_,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hd=null;function v1(){return Hd===null?Hd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Hd++,"0x"+Hd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig="RestConnection",eM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tM{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${n}/databases/${s}`,this.Wo=this.databaseId.database===E0?`project_id=${n}`:`project_id=${n}&database_id=${s}`}Go(t,e,n,s,i){const a=v1(),l=this.zo(t,e.toUriEncodedString());Ut(Ig,`Sending RPC '${t}' ${a}:`,l,n);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:o}=new URL(l),u=lu(o);return this.Jo(t,l,c,n,u).then((p=>(Ut(Ig,`Received RPC '${t}' ${a}: `,p),p)),(p=>{throw Jc(Ig,`RPC '${t}' ${a} failed with error: `,p,"url: ",l,"request:",n),p}))}Ho(t,e,n,s,i,a){return this.Go(t,e,n,s,i)}jo(t,e,n){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+hu})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((s,i)=>t[i]=s)),n&&n.headers.forEach(((s,i)=>t[i]=s))}zo(t,e){const n=eM[t];return`${this.Uo}/v1/${e}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as="WebChannelConnection";class nM extends tM{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,n,s,i){const a=v1();return new Promise(((l,c)=>{const o=new Z3;o.setWithCredentials(!0),o.listenOnce(J3.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case i0.NO_ERROR:const p=o.getResponseJson();Ut(as,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(p)),l(p);break;case i0.TIMEOUT:Ut(as,`RPC '${t}' ${a} timed out`),c(new Lt(kt.DEADLINE_EXCEEDED,"Request time out"));break;case i0.HTTP_ERROR:const h=o.getStatus();if(Ut(as,`RPC '${t}' ${a} failed with status:`,h,"response text:",o.getResponseText()),h>0){let d=o.getResponseJson();Array.isArray(d)&&(d=d[0]);const b=d==null?void 0:d.error;if(b&&b.status&&b.message){const x=(function(w){const v=w.toLowerCase().replace(/_/g,"-");return Object.values(kt).indexOf(v)>=0?v:kt.UNKNOWN})(b.status);c(new Lt(x,b.message))}else c(new Lt(kt.UNKNOWN,"Server responded with status "+o.getStatus()))}else c(new Lt(kt.UNAVAILABLE,"Connection failed."));break;default:Qt(9055,{l_:t,streamId:a,h_:o.getLastErrorCode(),P_:o.getLastError()})}}finally{Ut(as,`RPC '${t}' ${a} completed.`)}}));const u=JSON.stringify(s);Ut(as,`RPC '${t}' ${a} sending request:`,s),o.send(e,"POST",u,n,15)}))}T_(t,e,n){const s=v1(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=r5(),l=t5(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},o=this.longPollingOptions.timeoutSeconds;o!==void 0&&(c.longPollingTimeout=Math.round(1e3*o)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,e,n),c.encodeInitMessageHeaders=!0;const u=i.join("");Ut(as,`Creating RPC '${t}' stream ${s}: ${u}`,c);const p=a.createWebChannel(u,c);this.I_(p);let h=!1,d=!1;const b=new rM({Yo:g=>{d?Ut(as,`Not sending because RPC '${t}' stream ${s} is closed:`,g):(h||(Ut(as,`Opening RPC '${t}' stream ${s} transport.`),p.open(),h=!0),Ut(as,`RPC '${t}' stream ${s} sending:`,g),p.send(g))},Zo:()=>p.close()}),x=(g,w,v)=>{g.listen(w,(k=>{try{v(k)}catch(R){setTimeout((()=>{throw R}),0)}}))};return x(p,hf.EventType.OPEN,(()=>{d||(Ut(as,`RPC '${t}' stream ${s} transport opened.`),b.o_())})),x(p,hf.EventType.CLOSE,(()=>{d||(d=!0,Ut(as,`RPC '${t}' stream ${s} transport closed`),b.a_(),this.E_(p))})),x(p,hf.EventType.ERROR,(g=>{d||(d=!0,Jc(as,`RPC '${t}' stream ${s} transport errored. Name:`,g.name,"Message:",g.message),b.a_(new Lt(kt.UNAVAILABLE,"The operation could not be completed")))})),x(p,hf.EventType.MESSAGE,(g=>{var w;if(!d){const v=g.data[0];Fr(!!v,16349);const k=v,R=(k==null?void 0:k.error)||((w=k[0])==null?void 0:w.error);if(R){Ut(as,`RPC '${t}' stream ${s} received error:`,R);const L=R.status;let G=(function(F){const B=En[F];if(B!==void 0)return F5(B)})(L),V=R.message;G===void 0&&(G=kt.INTERNAL,V="Unknown error status: "+L+" with message "+R.message),d=!0,b.a_(new Lt(G,V)),p.close()}else Ut(as,`RPC '${t}' stream ${s} received:`,v),b.u_(v)}})),x(l,e5.STAT_EVENT,(g=>{g.stat===l1.PROXY?Ut(as,`RPC '${t}' stream ${s} detected buffering proxy`):g.stat===l1.NOPROXY&&Ut(as,`RPC '${t}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{b.__()}),0),b}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function Og(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(r){return new oR(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(t,e,n=1e3,s=1.5,i=6e4){this.Mi=t,this.timerId=e,this.d_=n,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),s=Math.max(0,e-n);s>0&&Ut("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_="PersistentStream";class Q5{constructor(t,e,n,s,i,a,l,c){this.Mi=t,this.S_=n,this.b_=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new K5(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===kt.RESOURCE_EXHAUSTED?($i(e.toString()),$i("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===kt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,s])=>{this.D_===e&&this.G_(n,s)}),(n=>{t((()=>{const s=new Lt(kt.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(s)}))}))}G_(t,e){const n=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{n((()=>this.z_(s)))})),this.stream.onMessage((s=>{n((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return Ut(f_,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(Ut(f_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class sM extends Q5{constructor(t,e,n,s,i,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,s,a),this.serializer=i}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=uR(this.serializer,t),n=(function(i){if(!("targetChange"in i))return nr.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?nr.min():a.readTime?li(a.readTime):nr.min()})(t);return this.listener.H_(e,n)}Y_(t){const e={};e.database=x1(this.serializer),e.addTarget=(function(i,a){let l;const c=a.target;if(l=d1(c)?{documents:dR(i,c)}:{query:pR(i,c).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=B5(i,a.resumeToken);const o=m1(i,a.expectedCount);o!==null&&(l.expectedCount=o)}else if(a.snapshotVersion.compareTo(nr.min())>0){l.readTime=M0(i,a.snapshotVersion.toTimestamp());const o=m1(i,a.expectedCount);o!==null&&(l.expectedCount=o)}return l})(this.serializer,t);const n=gR(this.serializer,t);n&&(e.labels=n),this.q_(e)}Z_(t){const e={};e.database=x1(this.serializer),e.removeTarget=t,this.q_(e)}}class aM extends Q5{constructor(t,e,n,s,i,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,s,a),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return Fr(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Fr(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Fr(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=hR(t.writeResults,t.commitTime),n=li(t.commitTime);return this.listener.na(n,e)}ra(){const t={};t.database=x1(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((n=>fR(this.serializer,n)))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{}class oM extends iM{constructor(t,e,n,s){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=n,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Lt(kt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,n,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,a])=>this.connection.Go(t,g1(e,n),s,i,a))).catch((i=>{throw i.name==="FirebaseError"?(i.code===kt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Lt(kt.UNKNOWN,i.toString())}))}Ho(t,e,n,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Ho(t,g1(e,n),s,a,l,i))).catch((a=>{throw a.name==="FirebaseError"?(a.code===kt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Lt(kt.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class lM{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?($i(e),this.aa=!1):Ut("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl="RemoteStore";class cM{constructor(t,e,n,s,i){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((a=>{n.enqueueAndForget((async()=>{Xl(this)&&(Ut(Hl,"Restarting streams for network reachability change."),await(async function(c){const o=or(c);o.Ea.add(4),await dh(o),o.Ra.set("Unknown"),o.Ea.delete(4),await dp(o)})(this))}))})),this.Ra=new lM(n,s)}}async function dp(r){if(Xl(r))for(const t of r.da)await t(!0)}async function dh(r){for(const t of r.da)await t(!1)}function Z5(r,t){const e=or(r);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),wb(e)?vb(e):gu(e).O_()&&yb(e,t))}function xb(r,t){const e=or(r),n=gu(e);e.Ia.delete(t),n.O_()&&J5(e,t),e.Ia.size===0&&(n.O_()?n.L_():Xl(e)&&e.Ra.set("Unknown"))}function yb(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(nr.min())>0){const e=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}gu(r).Y_(t)}function J5(r,t){r.Va.Ue(t),gu(r).Z_(t)}function vb(r){r.Va=new nR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),gu(r).start(),r.Ra.ua()}function wb(r){return Xl(r)&&!gu(r).x_()&&r.Ia.size>0}function Xl(r){return or(r).Ea.size===0}function e6(r){r.Va=void 0}async function uM(r){r.Ra.set("Online")}async function fM(r){r.Ia.forEach(((t,e)=>{yb(r,t)}))}async function hM(r,t){e6(r),wb(r)?(r.Ra.ha(t),vb(r)):r.Ra.set("Unknown")}async function dM(r,t,e){if(r.Ra.set("Online"),t instanceof L5&&t.state===2&&t.cause)try{await(async function(s,i){const a=i.cause;for(const l of i.targetIds)s.Ia.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s.Ia.delete(l),s.Va.removeTarget(l))})(r,t)}catch(n){Ut(Hl,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await D0(r,n)}else if(t instanceof u0?r.Va.Ze(t):t instanceof P5?r.Va.st(t):r.Va.tt(t),!e.isEqual(nr.min()))try{const n=await Y5(r.localStore);e.compareTo(n)>=0&&await(function(i,a){const l=i.Va.Tt(a);return l.targetChanges.forEach(((c,o)=>{if(c.resumeToken.approximateByteSize()>0){const u=i.Ia.get(o);u&&i.Ia.set(o,u.withResumeToken(c.resumeToken,a))}})),l.targetMismatches.forEach(((c,o)=>{const u=i.Ia.get(c);if(!u)return;i.Ia.set(c,u.withResumeToken(rs.EMPTY_BYTE_STRING,u.snapshotVersion)),J5(i,c);const p=new jo(u.target,c,o,u.sequenceNumber);yb(i,p)})),i.remoteSyncer.applyRemoteEvent(l)})(r,e)}catch(n){Ut(Hl,"Failed to raise snapshot:",n),await D0(r,n)}}async function D0(r,t,e){if(!pu(t))throw t;r.Ea.add(1),await dh(r),r.Ra.set("Offline"),e||(e=()=>Y5(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{Ut(Hl,"Retrying IndexedDB access"),await e(),r.Ea.delete(1),await dp(r)}))}function t6(r,t){return t().catch((e=>D0(r,e,t)))}async function pp(r){const t=or(r),e=Qo(t);let n=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:ab;for(;pM(t);)try{const s=await YR(t.localStore,n);if(s===null){t.Ta.length===0&&e.L_();break}n=s.batchId,mM(t,s)}catch(s){await D0(t,s)}r6(t)&&n6(t)}function pM(r){return Xl(r)&&r.Ta.length<10}function mM(r,t){r.Ta.push(t);const e=Qo(r);e.O_()&&e.X_&&e.ea(t.mutations)}function r6(r){return Xl(r)&&!Qo(r).x_()&&r.Ta.length>0}function n6(r){Qo(r).start()}async function gM(r){Qo(r).ra()}async function bM(r){const t=Qo(r);for(const e of r.Ta)t.ea(e.mutations)}async function xM(r,t,e){const n=r.Ta.shift(),s=fb.from(n,t,e);await t6(r,(()=>r.remoteSyncer.applySuccessfulWrite(s))),await pp(r)}async function yM(r,t){t&&Qo(r).X_&&await(async function(n,s){if((function(a){return eR(a)&&a!==kt.ABORTED})(s.code)){const i=n.Ta.shift();Qo(n).B_(),await t6(n,(()=>n.remoteSyncer.rejectFailedWrite(i.batchId,s))),await pp(n)}})(r,t),r6(r)&&n6(r)}async function h_(r,t){const e=or(r);e.asyncQueue.verifyOperationInProgress(),Ut(Hl,"RemoteStore received new credentials");const n=Xl(e);e.Ea.add(3),await dh(e),n&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await dp(e)}async function vM(r,t){const e=or(r);t?(e.Ea.delete(2),await dp(e)):t||(e.Ea.add(2),await dh(e),e.Ra.set("Unknown"))}function gu(r){return r.ma||(r.ma=(function(e,n,s){const i=or(e);return i.sa(),new sM(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(r.datastore,r.asyncQueue,{Xo:uM.bind(null,r),t_:fM.bind(null,r),r_:hM.bind(null,r),H_:dM.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),wb(r)?vb(r):r.Ra.set("Unknown")):(await r.ma.stop(),e6(r))}))),r.ma}function Qo(r){return r.fa||(r.fa=(function(e,n,s){const i=or(e);return i.sa(),new aM(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:gM.bind(null,r),r_:yM.bind(null,r),ta:bM.bind(null,r),na:xM.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await pp(r)):(await r.fa.stop(),r.Ta.length>0&&(Ut(Hl,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(t,e,n,s,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=s,this.removalCallback=i,this.deferred=new Bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,n,s,i){const a=Date.now()+n,l=new _b(t,e,a,s,i);return l.start(n),l}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Lt(kt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sb(r,t){if($i("AsyncQueue",`${t}: ${r}`),pu(r))return new Lt(kt.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{static emptySet(t){return new Wc(t.comparator)}constructor(t){this.comparator=t?(e,n)=>t(e,n)||Gt.comparator(e.key,n.key):(e,n)=>Gt.comparator(e.key,n.key),this.keyedMap=df(),this.sortedSet=new nn(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,n)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Wc)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const s=e.getNext().key,i=n.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const n=new Wc;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(){this.ga=new nn(Gt.comparator)}track(t){const e=t.doc.key,n=this.ga.get(e);n?t.type!==0&&n.type===3?this.ga=this.ga.insert(e,t):t.type===3&&n.type!==1?this.ga=this.ga.insert(e,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.ga=this.ga.remove(e):t.type===1&&n.type===2?this.ga=this.ga.insert(e,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Qt(63341,{Rt:t,pa:n}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,n)=>{t.push(n)})),t}}class su{constructor(t,e,n,s,i,a,l,c,o){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=o}static fromInitialDocuments(t,e,n,s,i){const a=[];return e.forEach((l=>{a.push({type:0,doc:l})})),new su(t,e,Wc.emptySet(e),a,n,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ip(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let s=0;s<e.length;s++)if(e[s].type!==n[s].type||!e[s].doc.isEqual(n[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class _M{constructor(){this.queries=p_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,n){const s=or(e),i=s.queries;s.queries=p_(),i.forEach(((a,l)=>{for(const c of l.Sa)c.onError(n)}))})(this,new Lt(kt.ABORTED,"Firestore shutting down"))}}function p_(){return new Wl((r=>k5(r)),ip)}async function kb(r,t){const e=or(r);let n=3;const s=t.query;let i=e.queries.get(s);i?!i.ba()&&t.Da()&&(n=2):(i=new wM,n=t.Da()?0:1);try{switch(n){case 0:i.wa=await e.onListen(s,!0);break;case 1:i.wa=await e.onListen(s,!1);break;case 2:await e.onFirstRemoteStoreListen(s)}}catch(a){const l=Sb(a,`Initialization of query '${Pc(t.query)}' failed`);return void t.onError(l)}e.queries.set(s,i),i.Sa.push(t),t.va(e.onlineState),i.wa&&t.Fa(i.wa)&&Eb(e)}async function Tb(r,t){const e=or(r),n=t.query;let s=3;const i=e.queries.get(n);if(i){const a=i.Sa.indexOf(t);a>=0&&(i.Sa.splice(a,1),i.Sa.length===0?s=t.Da()?0:1:!i.ba()&&t.Da()&&(s=2))}switch(s){case 0:return e.queries.delete(n),e.onUnlisten(n,!0);case 1:return e.queries.delete(n),e.onUnlisten(n,!1);case 2:return e.onLastRemoteStoreUnlisten(n);default:return}}function SM(r,t){const e=or(r);let n=!1;for(const s of t){const i=s.query,a=e.queries.get(i);if(a){for(const l of a.Sa)l.Fa(s)&&(n=!0);a.wa=s}}n&&Eb(e)}function kM(r,t,e){const n=or(r),s=n.queries.get(t);if(s)for(const i of s.Sa)i.onError(e);n.queries.delete(t)}function Eb(r){r.Ca.forEach((t=>{t.next()}))}var w1,m_;(m_=w1||(w1={})).Ma="default",m_.Cache="cache";class Ab{constructor(t,e,n){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(t){if(!this.options.includeMetadataChanges){const n=[];for(const s of t.docChanges)s.type!==3&&n.push(s);t=new su(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const n=e!=="Offline";return(!this.options.qa||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=su.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==w1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(t){this.key=t}}class a6{constructor(t){this.key=t}}class TM{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=kr(),this.mutatedKeys=kr(),this.eu=T5(t),this.tu=new Wc(this.eu)}get nu(){return this.Ya}ru(t,e){const n=e?e.iu:new d_,s=e?e.tu:this.tu;let i=e?e.mutatedKeys:this.mutatedKeys,a=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,o=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(((u,p)=>{const h=s.get(u),d=op(this.query,p)?p:null,b=!!h&&this.mutatedKeys.has(h.key),x=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let g=!1;h&&d?h.data.isEqual(d.data)?b!==x&&(n.track({type:3,doc:d}),g=!0):this.su(h,d)||(n.track({type:2,doc:d}),g=!0,(c&&this.eu(d,c)>0||o&&this.eu(d,o)<0)&&(l=!0)):!h&&d?(n.track({type:0,doc:d}),g=!0):h&&!d&&(n.track({type:1,doc:h}),g=!0,(c||o)&&(l=!0)),g&&(d?(a=a.add(d),i=x?i.add(u):i.delete(u)):(a=a.delete(u),i=i.delete(u)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const u=this.query.limitType==="F"?a.last():a.first();a=a.delete(u.key),i=i.delete(u.key),n.track({type:1,doc:u})}return{tu:a,iu:n,Cs:l,mutatedKeys:i}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n,s){const i=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const a=t.iu.ya();a.sort(((u,p)=>(function(d,b){const x=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qt(20277,{Rt:g})}};return x(d)-x(b)})(u.type,p.type)||this.eu(u.doc,p.doc))),this.ou(n),s=s??!1;const l=e&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,o=c!==this.Za;return this.Za=c,a.length!==0||o?{snapshot:new su(this.query,t.tu,i,a,t.mutatedKeys,c===0,o,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new d_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=kr(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))}));const e=[];return t.forEach((n=>{this.Xa.has(n)||e.push(new a6(n))})),this.Xa.forEach((n=>{t.has(n)||e.push(new s6(n))})),e}cu(t){this.Ya=t.Qs,this.Xa=kr();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return su.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Nb="SyncEngine";class EM{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class AM{constructor(t){this.key=t,this.hu=!1}}class NM{constructor(t,e,n,s,i,a){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Wl((l=>k5(l)),ip),this.Iu=new Map,this.Eu=new Set,this.du=new nn(Gt.comparator),this.Au=new Map,this.Ru=new pb,this.Vu={},this.mu=new Map,this.fu=nu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function CM(r,t,e=!0){const n=f6(r);let s;const i=n.Tu.get(t);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await i6(n,t,e,!0),s}async function RM(r,t){const e=f6(r);await i6(e,t,!0,!1)}async function i6(r,t,e,n){const s=await KR(r.localStore,oi(t)),i=s.targetId,a=r.sharedClientState.addLocalQueryTarget(i,e);let l;return n&&(l=await MM(r,t,i,a==="current",s.resumeToken)),r.isPrimaryClient&&e&&Z5(r.remoteStore,s),l}async function MM(r,t,e,n,s){r.pu=(p,h,d)=>(async function(x,g,w,v){let k=g.view.ru(w);k.Cs&&(k=await o_(x.localStore,g.query,!1).then((({documents:V})=>g.view.ru(V,k))));const R=v&&v.targetChanges.get(g.targetId),L=v&&v.targetMismatches.get(g.targetId)!=null,G=g.view.applyChanges(k,x.isPrimaryClient,R,L);return b_(x,g.targetId,G.au),G.snapshot})(r,p,h,d);const i=await o_(r.localStore,t,!0),a=new TM(t,i.Qs),l=a.ru(i.documents),c=hh.createSynthesizedTargetChangeForCurrentChange(e,n&&r.onlineState!=="Offline",s),o=a.applyChanges(l,r.isPrimaryClient,c);b_(r,e,o.au);const u=new EM(t,e,a);return r.Tu.set(t,u),r.Iu.has(e)?r.Iu.get(e).push(t):r.Iu.set(e,[t]),o.snapshot}async function jM(r,t,e){const n=or(r),s=n.Tu.get(t),i=n.Iu.get(s.targetId);if(i.length>1)return n.Iu.set(s.targetId,i.filter((a=>!ip(a,t)))),void n.Tu.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await y1(n.localStore,s.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(s.targetId),e&&xb(n.remoteStore,s.targetId),_1(n,s.targetId)})).catch(du)):(_1(n,s.targetId),await y1(n.localStore,s.targetId,!0))}async function DM(r,t){const e=or(r),n=e.Tu.get(t),s=e.Iu.get(n.targetId);e.isPrimaryClient&&s.length===1&&(e.sharedClientState.removeLocalQueryTarget(n.targetId),xb(e.remoteStore,n.targetId))}async function IM(r,t,e){const n=VM(r);try{const s=await(function(a,l){const c=or(a),o=Qr.now(),u=l.reduce(((d,b)=>d.add(b.key)),kr());let p,h;return c.persistence.runTransaction("Locally write mutations","readwrite",(d=>{let b=qi(),x=kr();return c.Ns.getEntries(d,u).next((g=>{b=g,b.forEach(((w,v)=>{v.isValidDocument()||(x=x.add(w))}))})).next((()=>c.localDocuments.getOverlayedDocuments(d,b))).next((g=>{p=g;const w=[];for(const v of l){const k=YC(v,p.get(v.key).overlayedDocument);k!=null&&w.push(new rl(v.key,k,g5(k.value.mapValue),zs.exists(!0)))}return c.mutationQueue.addMutationBatch(d,o,w,l)})).next((g=>{h=g;const w=g.applyToLocalDocumentSet(p,x);return c.documentOverlayCache.saveOverlays(d,g.batchId,w)}))})).then((()=>({batchId:h.batchId,changes:A5(p)})))})(n.localStore,t);n.sharedClientState.addPendingMutation(s.batchId),(function(a,l,c){let o=a.Vu[a.currentUser.toKey()];o||(o=new nn(Sr)),o=o.insert(l,c),a.Vu[a.currentUser.toKey()]=o})(n,s.batchId,e),await ph(n,s.changes),await pp(n.remoteStore)}catch(s){const i=Sb(s,"Failed to persist write");e.reject(i)}}async function o6(r,t){const e=or(r);try{const n=await WR(e.localStore,t);t.targetChanges.forEach(((s,i)=>{const a=e.Au.get(i);a&&(Fr(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.hu=!0:s.modifiedDocuments.size>0?Fr(a.hu,14607):s.removedDocuments.size>0&&(Fr(a.hu,42227),a.hu=!1))})),await ph(e,n,t)}catch(n){await du(n)}}function g_(r,t,e){const n=or(r);if(n.isPrimaryClient&&e===0||!n.isPrimaryClient&&e===1){const s=[];n.Tu.forEach(((i,a)=>{const l=a.view.va(t);l.snapshot&&s.push(l.snapshot)})),(function(a,l){const c=or(a);c.onlineState=l;let o=!1;c.queries.forEach(((u,p)=>{for(const h of p.Sa)h.va(l)&&(o=!0)})),o&&Eb(c)})(n.eventManager,t),s.length&&n.Pu.H_(s),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function OM(r,t,e){const n=or(r);n.sharedClientState.updateQueryState(t,"rejected",e);const s=n.Au.get(t),i=s&&s.key;if(i){let a=new nn(Gt.comparator);a=a.insert(i,us.newNoDocument(i,nr.min()));const l=kr().add(i),c=new fp(nr.min(),new Map,new nn(Sr),a,l);await o6(n,c),n.du=n.du.remove(i),n.Au.delete(t),Cb(n)}else await y1(n.localStore,t,!1).then((()=>_1(n,t,e))).catch(du)}async function FM(r,t){const e=or(r),n=t.batch.batchId;try{const s=await GR(e.localStore,t);c6(e,n,null),l6(e,n),e.sharedClientState.updateMutationState(n,"acknowledged"),await ph(e,s)}catch(s){await du(s)}}async function PM(r,t,e){const n=or(r);try{const s=await(function(a,l){const c=or(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",(o=>{let u;return c.mutationQueue.lookupMutationBatch(o,l).next((p=>(Fr(p!==null,37113),u=p.keys(),c.mutationQueue.removeMutationBatch(o,p)))).next((()=>c.mutationQueue.performConsistencyCheck(o))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(o,u,l))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,u))).next((()=>c.localDocuments.getDocuments(o,u)))}))})(n.localStore,t);c6(n,t,e),l6(n,t),n.sharedClientState.updateMutationState(t,"rejected",e),await ph(n,s)}catch(s){await du(s)}}function l6(r,t){(r.mu.get(t)||[]).forEach((e=>{e.resolve()})),r.mu.delete(t)}function c6(r,t,e){const n=or(r);let s=n.Vu[n.currentUser.toKey()];if(s){const i=s.get(t);i&&(e?i.reject(e):i.resolve(),s=s.remove(t)),n.Vu[n.currentUser.toKey()]=s}}function _1(r,t,e=null){r.sharedClientState.removeLocalQueryTarget(t);for(const n of r.Iu.get(t))r.Tu.delete(n),e&&r.Pu.yu(n,e);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((n=>{r.Ru.containsKey(n)||u6(r,n)}))}function u6(r,t){r.Eu.delete(t.path.canonicalString());const e=r.du.get(t);e!==null&&(xb(r.remoteStore,e),r.du=r.du.remove(t),r.Au.delete(e),Cb(r))}function b_(r,t,e){for(const n of e)n instanceof s6?(r.Ru.addReference(n.key,t),LM(r,n)):n instanceof a6?(Ut(Nb,"Document no longer in limbo: "+n.key),r.Ru.removeReference(n.key,t),r.Ru.containsKey(n.key)||u6(r,n.key)):Qt(19791,{wu:n})}function LM(r,t){const e=t.key,n=e.path.canonicalString();r.du.get(e)||r.Eu.has(n)||(Ut(Nb,"New document in limbo: "+e),r.Eu.add(n),Cb(r))}function Cb(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const e=new Gt(Wr.fromString(t)),n=r.fu.next();r.Au.set(n,new AM(e)),r.du=r.du.insert(e,n),Z5(r.remoteStore,new jo(oi(ap(e.path)),n,"TargetPurposeLimboResolution",rp.ce))}}async function ph(r,t,e){const n=or(r),s=[],i=[],a=[];n.Tu.isEmpty()||(n.Tu.forEach(((l,c)=>{a.push(n.pu(c,t,e).then((o=>{var u;if((o||e)&&n.isPrimaryClient){const p=o?!o.fromCache:(u=e==null?void 0:e.targetChanges.get(c.targetId))==null?void 0:u.current;n.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(o){s.push(o);const p=gb.As(c.targetId,o);i.push(p)}})))})),await Promise.all(a),n.Pu.H_(s),await(async function(c,o){const u=or(c);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>Rt.forEach(o,(h=>Rt.forEach(h.Es,(d=>u.persistence.referenceDelegate.addReference(p,h.targetId,d))).next((()=>Rt.forEach(h.ds,(d=>u.persistence.referenceDelegate.removeReference(p,h.targetId,d)))))))))}catch(p){if(!pu(p))throw p;Ut(bb,"Failed to update sequence numbers: "+p)}for(const p of o){const h=p.targetId;if(!p.fromCache){const d=u.Ms.get(h),b=d.snapshotVersion,x=d.withLastLimboFreeSnapshotVersion(b);u.Ms=u.Ms.insert(h,x)}}})(n.localStore,i))}async function BM(r,t){const e=or(r);if(!e.currentUser.isEqual(t)){Ut(Nb,"User change. New user:",t.toKey());const n=await X5(e.localStore,t);e.currentUser=t,(function(i,a){i.mu.forEach((l=>{l.forEach((c=>{c.reject(new Lt(kt.CANCELLED,a))}))})),i.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await ph(e,n.Ls)}}function UM(r,t){const e=or(r),n=e.Au.get(t);if(n&&n.hu)return kr().add(n.key);{let s=kr();const i=e.Iu.get(t);if(!i)return s;for(const a of i){const l=e.Tu.get(a);s=s.unionWith(l.view.nu)}return s}}function f6(r){const t=or(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=o6.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=UM.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=OM.bind(null,t),t.Pu.H_=SM.bind(null,t.eventManager),t.Pu.yu=kM.bind(null,t.eventManager),t}function VM(r){const t=or(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=FM.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=PM.bind(null,t),t}class I0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=hp(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return qR(this.persistence,new zR,t.initialUser,this.serializer)}Cu(t){return new W5(mb.mi,this.serializer)}Du(t){return new ZR}async terminate(){var t,e;(t=this.gcScheduler)==null||t.stop(),(e=this.indexBackfillerScheduler)==null||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}I0.provider={build:()=>new I0};class zM extends I0{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Fr(this.persistence.referenceDelegate instanceof j0,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new AR(n,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Ls.withCacheSize(this.cacheSizeBytes):Ls.DEFAULT;return new W5((n=>j0.mi(n,e)),this.serializer)}}class S1{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>g_(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=BM.bind(null,this.syncEngine),await vM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new _M})()}createDatastore(t){const e=hp(t.databaseInfo.databaseId),n=(function(i){return new nM(i)})(t.databaseInfo);return(function(i,a,l,c){return new oM(i,a,l,c)})(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return(function(n,s,i,a,l){return new cM(n,s,i,a,l)})(this.localStore,this.datastore,t.asyncQueue,(e=>g_(this.syncEngine,e,0)),(function(){return u_.v()?new u_:new JR})())}createSyncEngine(t,e){return(function(s,i,a,l,c,o,u){const p=new NM(s,i,a,l,c,o);return u&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await(async function(s){const i=or(s);Ut(Hl,"RemoteStore shutting down."),i.Ea.add(5),await dh(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),(t=this.datastore)==null||t.terminate(),(e=this.eventManager)==null||e.terminate()}}S1.provider={build:()=>new S1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):$i("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo="FirestoreClient";class HM{constructor(t,e,n,s,i){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=s,this.user=ls.UNAUTHENTICATED,this.clientId=sb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async a=>{Ut(Zo,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(n,(a=>(Ut(Zo,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const n=Sb(e,"Failed to shutdown persistence");t.reject(n)}})),t.promise}}async function Fg(r,t){r.asyncQueue.verifyOperationInProgress(),Ut(Zo,"Initializing OfflineComponentProvider");const e=r.configuration;await t.initialize(e);let n=e.initialUser;r.setCredentialChangeListener((async s=>{n.isEqual(s)||(await X5(t.localStore,s),n=s)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function x_(r,t){r.asyncQueue.verifyOperationInProgress();const e=await $M(r);Ut(Zo,"Initializing OnlineComponentProvider"),await t.initialize(e,r.configuration),r.setCredentialChangeListener((n=>h_(t.remoteStore,n))),r.setAppCheckTokenChangeListener(((n,s)=>h_(t.remoteStore,s))),r._onlineComponents=t}async function $M(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Ut(Zo,"Using user provided OfflineComponentProvider");try{await Fg(r,r._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(s){return s.name==="FirebaseError"?s.code===kt.FAILED_PRECONDITION||s.code===kt.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(e))throw e;Jc("Error using user provided cache. Falling back to memory cache: "+e),await Fg(r,new I0)}}else Ut(Zo,"Using default OfflineComponentProvider"),await Fg(r,new zM(void 0));return r._offlineComponents}async function h6(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Ut(Zo,"Using user provided OnlineComponentProvider"),await x_(r,r._uninitializedComponentsProvider._online)):(Ut(Zo,"Using default OnlineComponentProvider"),await x_(r,new S1))),r._onlineComponents}function qM(r){return h6(r).then((t=>t.syncEngine))}async function O0(r){const t=await h6(r),e=t.eventManager;return e.onListen=CM.bind(null,t.syncEngine),e.onUnlisten=jM.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=RM.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=DM.bind(null,t.syncEngine),e}function GM(r,t,e={}){const n=new Bi;return r.asyncQueue.enqueueAndForget((async()=>(function(i,a,l,c,o){const u=new Rb({next:h=>{u.Nu(),a.enqueueAndForget((()=>Tb(i,p)));const d=h.docs.has(l);!d&&h.fromCache?o.reject(new Lt(kt.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&h.fromCache&&c&&c.source==="server"?o.reject(new Lt(kt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):o.resolve(h)},error:h=>o.reject(h)}),p=new Ab(ap(l.path),u,{includeMetadataChanges:!0,qa:!0});return kb(i,p)})(await O0(r),r.asyncQueue,t,e,n))),n.promise}function WM(r,t,e={}){const n=new Bi;return r.asyncQueue.enqueueAndForget((async()=>(function(i,a,l,c,o){const u=new Rb({next:h=>{u.Nu(),a.enqueueAndForget((()=>Tb(i,p))),h.fromCache&&c.source==="server"?o.reject(new Lt(kt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):o.resolve(h)},error:h=>o.reject(h)}),p=new Ab(l,u,{includeMetadataChanges:!0,qa:!0});return kb(i,p)})(await O0(r),r.asyncQueue,t,e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d6(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p6="firestore.googleapis.com",v_=!0;class w_{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Lt(kt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=p6,this.ssl=v_}else this.host=t.host,this.ssl=t.ssl??v_;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=G5;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<TR)throw new Lt(kt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}oC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=d6(t.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new Lt(kt.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new Lt(kt.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new Lt(kt.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(n,s){return n.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class mp{constructor(t,e,n,s){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new w_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Lt(kt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Lt(kt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new w_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new QN;switch(n.type){case"firstParty":return new tC(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Lt(kt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const n=y_.get(e);n&&(Ut("ComponentProvider","Removing Datastore"),y_.delete(e),n.terminate())})(this),Promise.resolve()}}function XM(r,t,e,n={}){var o;r=Vs(r,mp);const s=lu(t),i=r._getSettings(),a={...i,emulatorOptions:r._getEmulatorOptions()},l=`${t}:${e}`;s&&(c3(`https://${l}`),u3("Firestore",!0)),i.host!==p6&&i.host!==l&&Jc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:l,ssl:s,emulatorOptions:n};if(!Bl(c,a)&&(r._setSettings(c),n.mockUserToken)){let u,p;if(typeof n.mockUserToken=="string")u=n.mockUserToken,p=ls.MOCK_USER;else{u=E9(n.mockUserToken,(o=r._app)==null?void 0:o.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new Lt(kt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new ls(h)}r._authCredentials=new ZN(new s5(u,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new Ki(this.firestore,t,this._query)}}class fn{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ho(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new fn(this.firestore,t,this._key)}toJSON(){return{type:fn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,n){if(uh(e,fn._jsonSchema))return new fn(t,n||null,new Gt(Wr.fromString(e.referencePath)))}}fn._jsonSchemaVersion="firestore/documentReference/1.0",fn._jsonSchema={type:Mn("string",fn._jsonSchemaVersion),referencePath:Mn("string")};class Ho extends Ki{constructor(t,e,n){super(t,e,ap(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new fn(this.firestore,null,new Gt(t))}withConverter(t){return new Ho(this.firestore,t,this._path)}}function Gr(r,t,...e){if(r=jn(r),a5("collection","path",t),r instanceof mp){const n=Wr.fromString(t,...e);return Iw(n),new Ho(r,null,n)}{if(!(r instanceof fn||r instanceof Ho))throw new Lt(kt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(Wr.fromString(t,...e));return Iw(n),new Ho(r.firestore,null,n)}}function tr(r,t,...e){if(r=jn(r),arguments.length===1&&(t=sb.newId()),a5("doc","path",t),r instanceof mp){const n=Wr.fromString(t,...e);return Dw(n),new fn(r,null,new Gt(n))}{if(!(r instanceof fn||r instanceof Ho))throw new Lt(kt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(Wr.fromString(t,...e));return Dw(n),new fn(r.firestore,r instanceof Ho?r.converter:null,new Gt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="AsyncQueue";class S_{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new K5(this,"async_queue_retry"),this._c=()=>{const n=Og();n&&Ut(__,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=t;const e=Og();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Og();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new Bi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!pu(t))throw t;Ut(__,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((n=>{throw this.nc=n,this.rc=!1,$i("INTERNAL UNHANDLED ERROR: ",k_(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=e,e}enqueueAfterDelay(t,e,n){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const s=_b.createAndSchedule(this,t,e,n,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&Qt(47125,{Pc:k_(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,n)=>e.targetTimeMs-n.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function k_(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(r){return(function(e,n){if(typeof e!="object"||e===null)return!1;const s=e;for(const i of n)if(i in s&&typeof s[i]=="function")return!0;return!1})(r,["next","error","complete"])}class Gi extends mp{constructor(t,e,n,s){super(t,e,n,s),this.type="firestore",this._queue=new S_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new S_(t),this._firestoreClient=void 0,await t}}}function YM(r,t){const e=typeof r=="object"?r:p3(),n=typeof r=="string"?r:E0,s=G1(e,"firestore").getImmediate({identifier:n});if(!s._initialized){const i=k9("firestore");i&&XM(s,...i)}return s}function mh(r){if(r._terminated)throw new Lt(kt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||KM(r),r._firestoreClient}function KM(r){var n,s,i;const t=r._freezeSettings(),e=(function(l,c,o,u){return new yC(l,c,o,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,d6(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(r._databaseId,((n=r._app)==null?void 0:n.options.appId)||"",r._persistenceKey,t);r._componentsProvider||(s=t.localCache)!=null&&s._offlineComponentProvider&&((i=t.localCache)!=null&&i._onlineComponentProvider)&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new HM(r._authCredentials,r._appCheckCredentials,r._queue,e,r._componentsProvider&&(function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(t){this._byteString=t}static fromBase64String(t){try{return new va(rs.fromBase64String(t))}catch(e){throw new Lt(kt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new va(rs.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:va._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(uh(t,va._jsonSchema))return va.fromBase64String(t.bytes)}}va._jsonSchemaVersion="firestore/bytes/1.0",va._jsonSchema={type:Mn("string",va._jsonSchemaVersion),bytes:Mn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new Lt(kt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Lt(kt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Lt(kt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Sr(this._lat,t._lat)||Sr(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ci._jsonSchemaVersion}}static fromJSON(t){if(uh(t,ci._jsonSchema))return new ci(t.latitude,t.longitude)}}ci._jsonSchemaVersion="firestore/geoPoint/1.0",ci._jsonSchema={type:Mn("string",ci._jsonSchemaVersion),latitude:Mn("number"),longitude:Mn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(n,s){if(n.length!==s.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==s[i])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ui._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(uh(t,ui._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new ui(t.vectorValues);throw new Lt(kt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ui._jsonSchemaVersion="firestore/vectorValue/1.0",ui._jsonSchema={type:Mn("string",ui._jsonSchemaVersion),vectorValues:Mn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM=/^__.*__$/;class ZM{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return this.fieldMask!==null?new rl(t,this.data,this.fieldMask,e,this.fieldTransforms):new fh(t,this.data,e,this.fieldTransforms)}}class m6{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return new rl(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function g6(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qt(40011,{Ac:r})}}class Mb{constructor(t,e,n,s,i,a){this.settings=t,this.databaseId=e,this.serializer=n,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Mb({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var s;const e=(s=this.path)==null?void 0:s.child(t),n=this.Vc({path:e,fc:!1});return n.gc(t),n}yc(t){var s;const e=(s=this.path)==null?void 0:s.child(t),n=this.Vc({path:e,fc:!1});return n.Rc(),n}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return F0(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(g6(this.Ac)&&QM.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class JM{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=n||hp(t)}Cc(t,e,n,s=!1){return new Mb({Ac:t,methodName:e,Dc:n,path:Jn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bp(r){const t=r._freezeSettings(),e=hp(r._databaseId);return new JM(r._databaseId,!!t.ignoreUndefinedProperties,e)}function b6(r,t,e,n,s,i={}){const a=r.Cc(i.merge||i.mergeFields?2:0,t,e,s);Db("Data must be an object, but it was:",a,n);const l=v6(n,a);let c,o;if(i.merge)c=new na(a.fieldMask),o=a.fieldTransforms;else if(i.mergeFields){const u=[];for(const p of i.mergeFields){const h=k1(t,p,e);if(!a.contains(h))throw new Lt(kt.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);_6(u,h)||u.push(h)}c=new na(u),o=a.fieldTransforms.filter((p=>c.covers(p.field)))}else c=null,o=a.fieldTransforms;return new ZM(new Bs(l),c,o)}class xp extends gp{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof xp}}class jb extends gp{_toFieldTransform(t){return new qC(t.path,new Gf)}isEqual(t){return t instanceof jb}}function x6(r,t,e,n){const s=r.Cc(1,t,e);Db("Data must be an object, but it was:",s,n);const i=[],a=Bs.empty();tl(n,((c,o)=>{const u=Ib(t,c,e);o=jn(o);const p=s.yc(u);if(o instanceof xp)i.push(u);else{const h=bh(o,p);h!=null&&(i.push(u),a.set(u,h))}}));const l=new na(i);return new m6(a,l,s.fieldTransforms)}function y6(r,t,e,n,s,i){const a=r.Cc(1,t,e),l=[k1(t,n,e)],c=[s];if(i.length%2!=0)throw new Lt(kt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)l.push(k1(t,i[h])),c.push(i[h+1]);const o=[],u=Bs.empty();for(let h=l.length-1;h>=0;--h)if(!_6(o,l[h])){const d=l[h];let b=c[h];b=jn(b);const x=a.yc(d);if(b instanceof xp)o.push(d);else{const g=bh(b,x);g!=null&&(o.push(d),u.set(d,g))}}const p=new na(o);return new m6(u,p,a.fieldTransforms)}function ej(r,t,e,n=!1){return bh(e,r.Cc(n?4:3,t))}function bh(r,t){if(w6(r=jn(r)))return Db("Unsupported field value:",t,r),v6(r,t);if(r instanceof gp)return(function(n,s){if(!g6(s.Ac))throw s.Sc(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(s);i&&s.fieldTransforms.push(i)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(n,s){const i=[];let a=0;for(const l of n){let c=bh(l,s.wc(a));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),a++}return{arrayValue:{values:i}}})(r,t)}return(function(n,s){if((n=jn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return zC(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Qr.fromDate(n);return{timestampValue:M0(s.serializer,i)}}if(n instanceof Qr){const i=new Qr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:M0(s.serializer,i)}}if(n instanceof ci)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof va)return{bytesValue:B5(s.serializer,n._byteString)};if(n instanceof fn){const i=s.databaseId,a=n.firestore._databaseId;if(!a.isEqual(i))throw s.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:db(n.firestore._databaseId||s.databaseId,n._key.path)}}if(n instanceof ui)return(function(a,l){return{mapValue:{fields:{[p5]:{stringValue:m5},[A0]:{arrayValue:{values:a.toArray().map((o=>{if(typeof o!="number")throw l.Sc("VectorValues must only contain numeric values.");return ub(l.serializer,o)}))}}}}}})(n,s);throw s.Sc(`Unsupported field value: ${tp(n)}`)})(r,t)}function v6(r,t){const e={};return l5(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):tl(r,((n,s)=>{const i=bh(s,t.mc(n));i!=null&&(e[n]=i)})),{mapValue:{fields:e}}}function w6(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Qr||r instanceof ci||r instanceof va||r instanceof fn||r instanceof gp||r instanceof ui)}function Db(r,t,e){if(!w6(e)||!i5(e)){const n=tp(e);throw n==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+n)}}function k1(r,t,e){if((t=jn(t))instanceof gh)return t._internalPath;if(typeof t=="string")return Ib(r,t);throw F0("Field path arguments must be of type string or ",r,!1,void 0,e)}const tj=new RegExp("[~\\*/\\[\\]]");function Ib(r,t,e){if(t.search(tj)>=0)throw F0(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,e);try{return new gh(...t.split("."))._internalPath}catch{throw F0(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,e)}}function F0(r,t,e,n,s){const i=n&&!n.isEmpty(),a=s!==void 0;let l=`Function ${t}() called with invalid data`;e&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||a)&&(c+=" (found",i&&(c+=` in field ${n}`),a&&(c+=` in document ${s}`),c+=")"),new Lt(kt.INVALID_ARGUMENT,l+r+c)}function _6(r,t){return r.some((e=>e.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(t,e,n,s,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new rj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(yp("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class rj extends S6{data(){return super.data()}}function yp(r,t){return typeof t=="string"?Ib(r,t):t instanceof gh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k6(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Lt(kt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ob{}class Fb extends Ob{}function Hr(r,t,...e){let n=[];t instanceof Ob&&n.push(t),n=n.concat(e),(function(i){const a=i.filter((c=>c instanceof Pb)).length,l=i.filter((c=>c instanceof vp)).length;if(a>1||a>0&&l>0)throw new Lt(kt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const s of n)r=s._apply(r);return r}class vp extends Fb{constructor(t,e,n){super(),this._field=t,this._op=e,this._value=n,this.type="where"}static _create(t,e,n){return new vp(t,e,n)}_apply(t){const e=this._parse(t);return E6(t._query,e),new Ki(t.firestore,t.converter,p1(t._query,e))}_parse(t){const e=bp(t.firestore);return(function(i,a,l,c,o,u,p){let h;if(o.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Lt(kt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){A_(p,u);const b=[];for(const x of p)b.push(E_(c,i,x));h={arrayValue:{values:b}}}else h=E_(c,i,p)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||A_(p,u),h=ej(l,a,p,u==="in"||u==="not-in");return Rn.create(o,u,h)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function ds(r,t,e){const n=t,s=yp("where",r);return vp._create(s,n,e)}class Pb extends Ob{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Pb(t,e)}_parse(t){const e=this._queryConstraints.map((n=>n._parse(t))).filter((n=>n.getFilters().length>0));return e.length===1?e[0]:$a.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(s,i){let a=s;const l=i.getFlattenedFilters();for(const c of l)E6(a,c),a=p1(a,c)})(t._query,e),new Ki(t.firestore,t.converter,p1(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Lb extends Fb{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new Lb(t,e)}_apply(t){const e=(function(s,i,a){if(s.startAt!==null)throw new Lt(kt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Lt(kt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new qf(i,a)})(t._query,this._field,this._direction);return new Ki(t.firestore,t.converter,(function(s,i){const a=s.explicitOrderBy.concat([i]);return new mu(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(t._query,e))}}function un(r,t="asc"){const e=t,n=yp("orderBy",r);return Lb._create(n,e)}class Bb extends Fb{constructor(t,e,n){super(),this.type=t,this._limit=e,this._limitType=n}static _create(t,e,n){return new Bb(t,e,n)}_apply(t){return new Ki(t.firestore,t.converter,C0(t._query,this._limit,this._limitType))}}function T6(r){return lC("limit",r),Bb._create("limit",r,"F")}function E_(r,t,e){if(typeof(e=jn(e))=="string"){if(e==="")throw new Lt(kt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!S5(t)&&e.indexOf("/")!==-1)throw new Lt(kt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const n=t.path.child(Wr.fromString(e));if(!Gt.isDocumentKey(n))throw new Lt(kt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return zw(r,new Gt(n))}if(e instanceof fn)return zw(r,e._key);throw new Lt(kt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tp(e)}.`)}function A_(r,t){if(!Array.isArray(r)||r.length===0)throw new Lt(kt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function E6(r,t){const e=(function(s,i){for(const a of s)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null})(r.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new Lt(kt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Lt(kt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class nj{convertValue(t,e="none"){switch(Ko(t)){case 0:return null;case 1:return t.booleanValue;case 2:return vn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Yo(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Qt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const n={};return tl(t,((s,i)=>{n[s]=this.convertValue(i,e)})),n}convertVectorValue(t){var n,s,i;const e=(i=(s=(n=t.fields)==null?void 0:n[A0].arrayValue)==null?void 0:s.values)==null?void 0:i.map((a=>vn(a.doubleValue)));return new ui(e)}convertGeoPoint(t){return new ci(vn(t.latitude),vn(t.longitude))}convertArray(t,e){return(t.values||[]).map((n=>this.convertValue(n,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const n=sp(t);return n==null?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(zf(t));default:return null}}convertTimestamp(t){const e=Xo(t);return new Qr(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=Wr.fromString(t);Fr(q5(n),9688,{name:t});const s=new Hf(n.get(1),n.get(3)),i=new Gt(n.popFirst(5));return s.isEqual(e)||$i(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A6(r,t,e){let n;return n=r?e&&(e.merge||e.mergeFields)?r.toFirestore(t,e):r.toFirestore(t):t,n}class mf{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Dl extends S6{constructor(t,e,n,s,i,a){super(t,e,n,s,a),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new f0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const n=this._document.data.field(yp("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Lt(kt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Dl._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Dl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Dl._jsonSchema={type:Mn("string",Dl._jsonSchemaVersion),bundleSource:Mn("string","DocumentSnapshot"),bundleName:Mn("string"),bundle:Mn("string")};class f0 extends Dl{data(t={}){return super.data(t)}}class Il{constructor(t,e,n,s){this._firestore=t,this._userDataWriter=e,this._snapshot=s,this.metadata=new mf(s.hasPendingWrites,s.fromCache),this.query=n}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((n=>{t.call(e,new f0(this._firestore,this._userDataWriter,n.key,n,new mf(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Lt(kt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map((l=>{const c=new f0(s._firestore,s._userDataWriter,l.doc.key,l.doc,new mf(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}}))}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((l=>i||l.type!==3)).map((l=>{const c=new f0(s._firestore,s._userDataWriter,l.doc.key,l.doc,new mf(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let o=-1,u=-1;return l.type!==0&&(o=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),u=a.indexOf(l.doc.key)),{type:sj(l.type),doc:c,oldIndex:o,newIndex:u}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Lt(kt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Il._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=sb.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],n=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(e.push(i._document),n.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function sj(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qt(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function os(r){r=Vs(r,fn);const t=Vs(r.firestore,Gi);return GM(mh(t),r._key).then((e=>N6(t,r,e)))}Il._jsonSchemaVersion="firestore/querySnapshot/1.0",Il._jsonSchema={type:Mn("string",Il._jsonSchemaVersion),bundleSource:Mn("string","QuerySnapshot"),bundleName:Mn("string"),bundle:Mn("string")};class Ub extends nj{constructor(t){super(),this.firestore=t}convertBytes(t){return new va(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new fn(this.firestore,null,e)}}function Zr(r){r=Vs(r,Ki);const t=Vs(r.firestore,Gi),e=mh(t),n=new Ub(t);return k6(r._query),WM(e,r._query).then((s=>new Il(t,n,r,s)))}function ln(r,t,e){r=Vs(r,fn);const n=Vs(r.firestore,Gi),s=A6(r.converter,t,e);return wp(n,[b6(bp(n),"setDoc",r._key,s,r.converter!==null,e).toMutation(r._key,zs.none())])}function N_(r,t,e,...n){r=Vs(r,fn);const s=Vs(r.firestore,Gi),i=bp(s);let a;return a=typeof(t=jn(t))=="string"||t instanceof gh?y6(i,"updateDoc",r._key,t,e,n):x6(i,"updateDoc",r._key,t),wp(s,[a.toMutation(r._key,zs.exists(!0))])}function P0(r){return wp(Vs(r.firestore,Gi),[new up(r._key,zs.none())])}function fs(r,...t){var c,o,u;r=jn(r);let e={includeMetadataChanges:!1,source:"default"},n=0;typeof t[n]!="object"||T_(t[n])||(e=t[n++]);const s={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(T_(t[n])){const p=t[n];t[n]=(c=p.next)==null?void 0:c.bind(p),t[n+1]=(o=p.error)==null?void 0:o.bind(p),t[n+2]=(u=p.complete)==null?void 0:u.bind(p)}let i,a,l;if(r instanceof fn)a=Vs(r.firestore,Gi),l=ap(r._key.path),i={next:p=>{t[n]&&t[n](N6(a,r,p))},error:t[n+1],complete:t[n+2]};else{const p=Vs(r,Ki);a=Vs(p.firestore,Gi),l=p._query;const h=new Ub(a);i={next:d=>{t[n]&&t[n](new Il(a,h,p,d))},error:t[n+1],complete:t[n+2]},k6(r._query)}return(function(h,d,b,x){const g=new Rb(x),w=new Ab(d,g,b);return h.asyncQueue.enqueueAndForget((async()=>kb(await O0(h),w))),()=>{g.Nu(),h.asyncQueue.enqueueAndForget((async()=>Tb(await O0(h),w)))}})(mh(a),l,s,i)}function wp(r,t){return(function(n,s){const i=new Bi;return n.asyncQueue.enqueueAndForget((async()=>IM(await qM(n),s,i))),i.promise})(mh(r),t)}function N6(r,t,e){const n=e.docs.get(t._key),s=new Ub(r);return new Dl(r,s,t._key,n,new mf(e.hasPendingWrites,e.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=bp(t)}set(t,e,n){this._verifyNotCommitted();const s=Pg(t,this._firestore),i=A6(s.converter,e,n),a=b6(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,n);return this._mutations.push(a.toMutation(s._key,zs.none())),this}update(t,e,n,...s){this._verifyNotCommitted();const i=Pg(t,this._firestore);let a;return a=typeof(e=jn(e))=="string"||e instanceof gh?y6(this._dataReader,"WriteBatch.update",i._key,e,n,s):x6(this._dataReader,"WriteBatch.update",i._key,e),this._mutations.push(a.toMutation(i._key,zs.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Pg(t,this._firestore);return this._mutations=this._mutations.concat(new up(e._key,zs.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Lt(kt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Pg(r,t){if((r=jn(r)).firestore!==t)throw new Lt(kt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function C_(){return new jb("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(r){return mh(r=Vs(r,Gi)),new aj(r,(t=>wp(r,t)))}(function(t,e=!0){(function(s){hu=s})(cu),Qc(new Ul("firestore",((n,{instanceIdentifier:s,options:i})=>{const a=n.getProvider("app").getImmediate(),l=new Gi(new JN(n.getProvider("auth-internal")),new rC(a,n.getProvider("app-check-internal")),(function(o,u){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new Lt(kt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hf(o.options.projectId,u)})(a,s),a);return i={useFetchStreams:e,...i},l._setSettings(i),l}),"PUBLIC").setMultipleInstances(!0)),Uo(Cw,Rw,t),Uo(Cw,Rw,"esm2020")})();var ij="firebase",oj="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Uo(ij,oj,"app");const lj={apiKey:"AIzaSyD87KYnlw-2euX4gJxmnxbuFIFtIDX2SKI",authDomain:"pro-taxi-d3945.web.app",projectId:"pro-taxi-d3945",storageBucket:"pro-taxi-d3945.firebasestorage.app",messagingSenderId:"157292333890",appId:"1:157292333890:web:bee77cf89d2bd8b2c016db"},C6=d3(lj),hr=YN(C6),Rl=new Oi;Rl.addScope("profile");Rl.addScope("email");Rl.setCustomParameters({prompt:"select_account"});const Pt=YM(C6),Lg=!0;function R_(){return y.jsx("div",{className:"min-h-screen bg-[#0A0E14] text-gray-100 flex flex-col items-center justify-center p-4",children:y.jsxs("div",{className:"bg-[#1A222C] max-w-md w-full p-8 rounded-2xl shadow-2xl text-center border border-gray-800 relative overflow-hidden",children:[y.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-yellow-500 via-amber-500 to-yellow-600"}),y.jsx("div",{className:"flex justify-center mb-6",children:y.jsx("div",{className:"p-4 bg-yellow-500/10 rounded-full animate-pulse",children:y.jsx(LE,{className:"w-12 h-12 text-yellow-500"})})}),y.jsxs("h1",{className:"text-2xl font-bold mb-4 text-white tracking-wide",children:["Taxi Navigator",y.jsx("br",{}),"",y.jsx("br",{}),""]}),y.jsxs("div",{className:"text-gray-400 mb-6 leading-relaxed text-sm",children:[y.jsxs("p",{className:"mb-4",children:["",y.jsx("br",{}),""]}),y.jsx("div",{className:"bg-gray-800/50 rounded-lg p-3 mb-2 border border-gray-700",children:y.jsxs("p",{className:"text-white font-bold text-sm",children:["",y.jsx("br",{}),y.jsx("span",{className:"text-yellow-400",children:""}),y.jsx("br",{}),""]})})]}),y.jsxs("div",{className:"mb-6",children:[y.jsx("p",{className:"text-xs text-gray-500 mb-2",children:""}),y.jsxs("a",{href:"https://line.me/ti/g2/ZWvOSsjSGjcax8BIDbFpZyqxTJyeV5PbSrv8XA?utm_source=invitation&utm_medium=link_copy&utm_campaign=default",target:"_blank",rel:"noopener noreferrer",className:"group relative flex items-center justify-center gap-3 w-full py-3.5 px-4 bg-[#06C755] hover:bg-[#05b34c] rounded-xl transition-all duration-200 text-white shadow-lg shadow-green-900/20 active:scale-95 overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 bg-white/20 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700 skew-x-12"}),y.jsx(kE,{className:"w-5 h-5 flex-shrink-0 fill-white/20"}),y.jsxs("div",{className:"flex flex-col items-start text-left leading-tight z-10",children:[y.jsx("span",{className:"text-[10px] font-bold opacity-90",children:""}),y.jsx("span",{className:"text-sm font-bold",children:""})]})]})]}),y.jsxs("div",{className:"relative flex py-2 items-center mb-6",children:[y.jsx("div",{className:"flex-grow border-t border-gray-700"}),y.jsx("span",{className:"flex-shrink-0 mx-4 text-xs text-gray-500",children:""}),y.jsx("div",{className:"flex-grow border-t border-gray-700"})]}),y.jsxs("div",{className:"mb-8",children:[y.jsx("p",{className:"text-xs text-gray-500 mb-2",children:""}),y.jsxs("a",{href:"https://line.me/ti/p/R6x26rZ-xn",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 w-full py-3 px-4 bg-blue-600/10 hover:bg-blue-600/20 border border-blue-500/50 text-blue-400 rounded-xl transition-all duration-200 active:scale-95",children:[y.jsx(Ll,{className:"w-4 h-4"}),y.jsx("span",{className:"text-sm font-bold",children:""})]})]}),y.jsxs("button",{onClick:()=>hr.signOut(),className:"flex items-center justify-center gap-2 w-full py-3 px-4 bg-gray-800 hover:bg-gray-700 rounded-xl transition-colors font-medium text-gray-400 border border-gray-700 hover:text-white text-sm",children:[y.jsx(e3,{className:"w-4 h-4"}),""]})]})})}function cj({onBack:r}){const[t,e]=_e.useState([]),[n,s]=_e.useState(!0),i=async()=>{try{console.log("[AdminDashboard] Fetching users from Firestore...");const u=Hr(Gr(Pt,"users")),p=await Zr(u),h=[];p.forEach(d=>{var b;try{const x=d.data(),g=((b=x.stats)==null?void 0:b.userName)||x.displayName||x.email||"",w={id:d.id,email:x.email||"",displayName:g,status:x.status||"pending",role:x.role||"user",createdAt:x.createdAt};console.log("[AdminDashboard] User found:",{id:d.id,email:w.email,displayName:w.displayName,status:w.status,role:w.role}),h.push(w)}catch(x){console.error("[AdminDashboard] Error processing user document:",d.id,x)}}),console.log("[AdminDashboard] Total users fetched:",h.length),e(h)}catch(u){console.error("[AdminDashboard] Error fetching users:",u),console.error("[AdminDashboard] Error details:",{code:u==null?void 0:u.code,message:u==null?void 0:u.message,stack:u==null?void 0:u.stack}),(u==null?void 0:u.code)===403||(u==null?void 0:u.code)==="permission-denied"?alert(`: 

Firebase ConsoleFirestore

: `+(u==null?void 0:u.code)):alert(`

: `+((u==null?void 0:u.message)||"Unknown error")+`

`)}finally{s(!1)}};_e.useEffect(()=>{i();const u=P3(hr,p=>{p&&(console.log("[AdminDashboard] Auth state changed, refetching users"),i())});return()=>u()},[]);const a=async(u,p)=>{if(window.confirm(` ${p} `))try{await N_(tr(Pt,"users",u),{status:p}),e(t.map(h=>h.id===u?{...h,status:p}:h))}catch(h){console.error("Error updating status:",h),alert("")}},l=async(u,p)=>{const h=p==="admin"?"user":"admin";if(window.confirm(` ${h} `))try{await N_(tr(Pt,"users",u),{role:h}),e(t.map(d=>d.id===u?{...d,role:h}:d))}catch(d){console.error("Error updating role:",d),alert("")}},c=async(u,p)=>{const h=`${p}

`;if(window.confirm(h)&&window.confirm(""))try{await P0(tr(Pt,"users",u)),console.log("[AdminDashboard] Deleted user document:",u);try{await P0(tr(Pt,"public_status",u)),console.log("[AdminDashboard] Deleted public_status document:",u)}catch(d){(d==null?void 0:d.code)!=="not-found"&&console.warn("[AdminDashboard] Error deleting public_status (may not exist):",d)}e(t.filter(d=>d.id!==u)),alert("")}catch(d){console.error("[AdminDashboard] Error deleting user:",d),(d==null?void 0:d.code)===403||(d==null?void 0:d.code)==="permission-denied"?alert(`: 

Firebase ConsoleFirestore`):alert(`

: ${(d==null?void 0:d.message)||"Unknown error"}`)}};if(n)return y.jsx("div",{className:"p-8 text-center text-gray-500",children:"..."});const o=t.filter(u=>u.role!=="admin");return y.jsx("div",{className:"min-h-screen bg-[#0A0E14] text-gray-100 p-4 md:p-8 pb-24",children:y.jsxs("div",{className:"max-w-4xl mx-auto",children:[y.jsx("div",{className:"flex items-center justify-between mb-8",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-800 rounded-full transition-colors",children:y.jsx(q4,{className:"w-6 h-6"})}),y.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[y.jsx(jl,{className:"w-6 h-6 text-blue-400"}),""]})]})}),y.jsx("div",{className:"bg-[#1A222C] rounded-xl border border-gray-800 overflow-hidden",children:y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full text-left border-collapse",children:[y.jsx("thead",{children:y.jsxs("tr",{className:"bg-gray-800/50 border-b border-gray-700",children:[y.jsx("th",{className:"p-4 text-sm font-medium text-gray-400",children:""}),y.jsx("th",{className:"p-4 text-sm font-medium text-gray-400",children:""}),y.jsx("th",{className:"p-4 text-sm font-medium text-gray-400",children:""}),y.jsx("th",{className:"p-4 text-sm font-medium text-gray-400",children:""})]})}),y.jsx("tbody",{className:"divide-y divide-gray-800",children:o.length===0?y.jsx("tr",{children:y.jsx("td",{colSpan:4,className:"p-8 text-center text-gray-500",children:""})}):o.map(u=>y.jsxs("tr",{className:"hover:bg-gray-800/30 transition-colors",children:[y.jsxs("td",{className:"p-4",children:[y.jsx("div",{className:"font-medium text-white",children:u.displayName||u.email||""}),u.email&&u.displayName!==u.email&&y.jsx("div",{className:"text-sm text-gray-500",children:u.email})]}),y.jsx("td",{className:"p-4",children:y.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${u.status==="active"?"bg-green-500/10 text-green-400 border-green-500/20":u.status==="banned"?"bg-red-500/10 text-red-400 border-red-500/20":"bg-yellow-500/10 text-yellow-400 border-yellow-500/20"}`,children:u.status==="active"?"":u.status==="banned"?"":""})}),y.jsx("td",{className:"p-4",children:y.jsx("span",{className:"inline-flex items-center gap-1 text-sm text-gray-400",children:""})}),y.jsx("td",{className:"p-4",children:y.jsxs("div",{className:"flex items-center gap-2",children:[u.status!=="active"&&y.jsx("button",{onClick:()=>a(u.id,"active"),className:"p-1.5 bg-green-500/10 text-green-400 hover:bg-green-500/20 rounded border border-green-500/20",title:"",children:y.jsx(LT,{className:"w-4 h-4"})}),u.status!=="banned"&&y.jsx("button",{onClick:()=>a(u.id,"banned"),className:"p-1.5 bg-red-500/10 text-red-400 hover:bg-red-500/20 rounded border border-red-500/20",title:"",children:y.jsx(GT,{className:"w-4 h-4"})}),y.jsx("button",{onClick:()=>l(u.id,u.role),className:"p-1.5 bg-purple-500/10 text-purple-400 hover:bg-purple-500/20 rounded border border-purple-500/20",title:"",children:y.jsx(z1,{className:"w-4 h-4"})}),y.jsx("button",{onClick:()=>c(u.id,u.displayName||u.email),className:"p-1.5 bg-red-600/10 text-red-500 hover:bg-red-600/20 rounded border border-red-600/20",title:"",children:y.jsx(m0,{className:"w-4 h-4"})})]})})]},u.id))})]})})})]})})}const Ef=["CASH","CARD","TICKET","QR","DIDI","NET","E_MONEY","TRANSPORT"],Ol=["FLOW","WAIT","APP","HIRE","RESERVE","WIRELESS"],Hs={CASH:"",CARD:"",NET:"",E_MONEY:"",TRANSPORT:"",DIDI:"Didi",QR:"/QR",TICKET:""},Qi={FLOW:"",WAIT:"",APP:"",HIRE:"",RESERVE:"",WIRELESS:""},Rr=r=>`${Math.round(r).toLocaleString()}`,$o=r=>{const t=r.toString().replace(/[^0-9]/g,"");return t===""?"":parseInt(t).toLocaleString()},Cn=r=>typeof r!="string"?r:parseInt(r.replace(/,/g,""))||0,R6=r=>{const t=r/1.1;return Math.round(t/10)*10},M6=r=>r-R6(r),It=(r,t)=>{const e=new Date(r);return e.getHours()<t&&e.setDate(e.getDate()-1),e.toLocaleDateString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\//g,"/")},T1=(r,t)=>{const e=new Date(r),n=e.getHours(),s=String(e.getMinutes()).padStart(2,"0");return n<t?`${n+24}:${s}`:`${String(n).padStart(2,"0")}:${s}`},M_=r=>new Date(r).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),$t=(r,t,e=0)=>{const n=new Date(r);n.setHours(n.getHours()-e);let s,i;return t===0?(s=new Date(n.getFullYear(),n.getMonth(),1),i=new Date(n.getFullYear(),n.getMonth()+1,0)):n.getDate()>t?(s=new Date(n.getFullYear(),n.getMonth(),t+1),i=new Date(n.getFullYear(),n.getMonth()+1,t)):(s=new Date(n.getFullYear(),n.getMonth()-1,t+1),i=new Date(n.getFullYear(),n.getMonth(),t)),s.setHours(e,0,0,0),i.setHours(23,59,59,999),{start:s,end:i}},Bt=r=>r.toLocaleDateString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\//g,"/"),Vb=r=>{const t={};return r.forEach(e=>{const n=e.amount+e.toll,s=e.nonCashAmount;let i=0,a=0;e.paymentMethod==="CASH"?a=n:(i=s,a=n-s),i>0&&(t[e.paymentMethod]=(t[e.paymentMethod]||0)+i),a>0&&(t.CASH=(t.CASH||0)+a)}),t},zb=r=>{const t={};return r.forEach(e=>{const n=e.amount+e.toll;t[e.rideType]=(t[e.rideType]||0)+n}),t},j6=r=>{const t={};return r.forEach(e=>{t[e.rideType]=(t[e.rideType]||0)+1}),t},uj=r=>r?r.includes("GO")?"GO":r.includes("Didi")?"Didi":r.includes("Uber")?"Uber":r.includes("S.RIDE")||r.includes("s.ride")?"s.ride":null:null,fj=r=>{const t={GO:0,Didi:0,Uber:0,"s.ride":0},e={GO:0,Didi:0,Uber:0,"s.ride":0};return r.forEach(n=>{if(n.rideType==="APP"){const s=uj(n.remarks);if(s){const i=n.amount+n.toll;t[s]=(t[s]||0)+i,e[s]=(e[s]||0)+1}}}),{breakdown:t,counts:e}},hj=r=>r?r.includes("GO")?"GO":r.includes("Didi")?"Didi":r.includes("Uber")?"Uber":r.includes("s.ride")?"s.ride":null:null,dj=r=>{const t={GO:0,Didi:0,Uber:0,"s.ride":0},e={GO:0,Didi:0,Uber:0,"s.ride":0};return r.forEach(n=>{const s=hj(n.remarks);if(s){const i=n.amount+n.toll;t[s]=(t[s]||0)+i,e[s]=(e[s]||0)+1}}),{breakdown:t,counts:e}},pj=r=>{const t={:"1",:"2",:"3",:"4",:"5",:"6",:"7",:"8",:"9","":"0",:"10"};return r.replace(/([]+)(?=|$)/g,e=>{let n=e;for(const[s,i]of Object.entries(t))n=n.replace(new RegExp(s,"g"),i);return n})},mj=r=>r.replace(/[0-9]/g,t=>String.fromCharCode(t.charCodeAt(0)+65248)),j_=r=>{if(!r)return"";const t=r.address||{},e=t.city||t.town||t.village||"",n=t.city_district||"",s=e==="";let i="";const a=[t.neighbourhood,t.quarter,t.suburb,t.road];for(const c of a)if(c&&c!==e&&c!==n&&!/$/.test(c)){i=c;break}i||(i=t.suburb||t.road||"");let l=i.replace(/$/,"");return l=pj(l),l=l.replace(/[0-9]+/g,c=>mj(c)),s?l.trim():(e+(n&&n!==e?n:"")+l).trim()},gj=r=>{switch(r){case"CASH":return"bg-amber-400/10 text-amber-200 border-amber-400/30";case"CARD":return"bg-blue-400/10 text-blue-200 border-blue-400/30";case"NET":return"bg-purple-400/10 text-purple-200 border-purple-400/30";case"E_MONEY":return"bg-emerald-400/10 text-emerald-200 border-emerald-400/30";case"TRANSPORT":return"bg-cyan-400/10 text-cyan-200 border-cyan-400/30";case"DIDI":return"bg-orange-400/10 text-orange-200 border-orange-400/30";case"QR":return"bg-teal-400/10 text-teal-200 border-teal-400/30";case"TICKET":return"bg-rose-400/10 text-rose-200 border-rose-400/30";default:return"bg-gray-400/10 text-gray-200 border-gray-400/30"}},$d=r=>{if(!r)return null;const t=r.trim();if(typeof navigator<"u"){const e=navigator.userAgent,n=/iPad|iPhone|iPod/.test(e),s=/Android/.test(e);if(n)return`comgooglemaps://?q=${encodeURIComponent(t)}`;if(s)return`geo:0,0?q=${encodeURIComponent(t)}`}return`https://maps.google.com/?q=${encodeURIComponent(t)}`},Wi=(r,t)=>{const e=new Map;r.forEach(s=>{const i=It(s.timestamp,t);e.has(i)||e.set(i,[]),e.get(i).push(s)});const n=[];return e.forEach((s,i)=>{if(s.some(l=>{var c;return(c=l.remarks)==null?void 0:c.includes("")})){const l=s.filter(c=>{var o;return(o=c.remarks)==null?void 0:o.includes("")});n.push(...l)}else n.push(...s)}),n},Af=r=>{if(r==null)return r;if(Array.isArray(r))return r.map(t=>Af(t));if(typeof r=="object"){const t={};for(const e in r)r[e]!==void 0&&(t[e]=Af(r[e]));return t}return r},Yf=(r,t,e)=>{const n=r.businessStartHour??9,{start:s,end:i}=$t(new Date,r.shimebiDay,n),a=new Date(i);r.shimebiDay!==0&&a.setDate(r.shimebiDay);const l=Bt(s),c=Bt(a),u=[...t,...(e==null?void 0:e.records)||[]].filter(b=>{const x=It(b.timestamp,n);return x>=l&&x<=c}),p=Wi(u,n),h=p.reduce((b,x)=>b+x.amount,0),d=p.length;return{totalSales:h,totalRides:d,validRecords:p,startDateStr:l,endDateStr:c}},bj=r=>{if(!r)return null;const t=(e,n)=>Number.isFinite(Number(e))?Number(e):n;return{...r,dailyGoal:t(r.dailyGoal,5e4),plannedHours:t(r.plannedHours,12),totalRestMinutes:t(r.totalRestMinutes,0),startTime:t(r.startTime,Date.now()),startOdo:r.startOdo!==void 0?t(r.startOdo,0):void 0,records:(r.records||[]).map(e=>({...e,amount:t(e.amount,0),toll:t(e.toll,0),returnToll:e.returnToll!==void 0?t(e.returnToll,0):void 0,nonCashAmount:t(e.nonCashAmount,0),passengersMale:t(e.passengersMale,0),passengersFemale:t(e.passengersFemale,0),timestamp:t(e.timestamp,Date.now()),pickupCoords:e.pickupCoords||"",dropoffCoords:e.dropoffCoords||""}))}};var D6=z4();const au=({record:r,index:t,isDetailed:e,customLabels:n,businessStartHour:s,onClick:i,isSlim:a=!1})=>{const c=(n||{})[r.paymentMethod]||Hs[r.paymentMethod],o=r.amount+r.toll,u=`${r.passengersMale||0}:${r.passengersFemale||0}`;if(a){const p=t%2===0,h=p?"bg-slate-800":"bg-slate-700",d=p?"hover:bg-slate-700":"hover:bg-slate-600";return y.jsxs("tr",{className:`${h} border-b-2 border-gray-500`,children:[y.jsx("td",{onClick:i,className:`py-2 px-1 border-r-2 border-gray-500 align-middle text-center cursor-pointer transition-colors ${d}`,children:y.jsx("div",{className:"flex items-center justify-center w-full",children:y.jsxs("div",{className:"relative flex items-center justify-center",style:{width:"clamp(2rem, 6vw, 2.5rem)",height:"clamp(2rem, 6vw, 2.5rem)"},children:[y.jsx(XT,{className:"w-full h-full text-orange-500 fill-orange-500"}),y.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-white font-black",style:{fontSize:"clamp(0.875rem, 3vw, 1.125rem)"},children:t})]})})}),y.jsxs("td",{onClick:i,className:`py-2 px-1 border-r-2 border-gray-500 align-middle text-center w-[85px] cursor-pointer transition-colors ${d}`,children:[y.jsx("div",{className:"text-white font-black text-lg underline mb-1 whitespace-nowrap",children:T1(r.timestamp,s)}),y.jsxs("div",{className:"text-base font-black whitespace-nowrap",children:[y.jsx("span",{className:"text-blue-400",children:""}),r.passengersMale||0,":",y.jsx("span",{className:"text-red-400",children:""}),r.passengersFemale||0]})]}),y.jsxs("td",{className:"py-2 px-2 border-r-2 border-gray-500 align-top",style:{maxWidth:"170px",overflow:"hidden"},children:[y.jsx("div",{className:"text-white text-base font-bold mb-1 overflow-x-auto whitespace-nowrap scrollbar-thin scrollbar-thumb-gray-600 scrollbar-track-gray-800",style:{maxHeight:"1.5rem"},children:r.pickupCoords?y.jsx("a",{href:$d(r.pickupCoords)||"#",target:"_blank",rel:"noreferrer",className:"underline hover:text-blue-400 transition-colors",children:r.pickupLocation||"---"}):y.jsx("span",{className:"underline",children:r.pickupLocation||"---"})}),y.jsx("div",{className:"border-b-2 border-dotted border-gray-400 my-1"}),y.jsx("div",{className:"text-white text-base font-bold overflow-x-auto whitespace-nowrap text-right scrollbar-thin scrollbar-thumb-gray-600 scrollbar-track-gray-800",style:{maxHeight:"1.5rem"},children:r.dropoffCoords?y.jsx("a",{href:$d(r.dropoffCoords)||"#",target:"_blank",rel:"noreferrer",className:"underline hover:text-blue-400 transition-colors",children:r.dropoffLocation||"---"}):y.jsx("span",{className:"underline",children:r.dropoffLocation||"---"})})]}),y.jsx("td",{className:"py-2 px-1 text-center align-middle",style:{width:"95px",minWidth:"95px"},children:y.jsx("div",{className:"text-white font-black text-base whitespace-nowrap",children:o.toLocaleString()})})]})}return y.jsxs("div",{onClick:i,className:"bg-gray-800 p-5 rounded-[24px] border-2 border-blue-500 active:scale-[0.98] transition-all shadow-md flex flex-col gap-3 w-full relative overflow-hidden group cursor-pointer",children:[r.isBadCustomer&&y.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-10 pointer-events-none text-red-500/20",children:y.jsx(H1,{className:"w-16 h-16"})}),y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{className:"flex flex-col gap-1",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"w-9 h-9 bg-gray-900 rounded-xl flex items-center justify-center text-base font-black text-amber-500 border border-gray-700 shadow-inner",children:t}),y.jsx("span",{className:"text-xl font-black text-gray-300 font-mono tracking-wide",children:T1(r.timestamp,s)})]}),y.jsx("div",{className:"ml-11",children:y.jsx("span",{className:"text-slate-400 text-lg font-black tracking-widest font-mono",children:u})})]}),y.jsxs("div",{className:"text-right",children:[y.jsx("span",{className:"text-[clamp(2.2rem,10vw,2.8rem)] font-black text-amber-500 leading-none block drop-shadow-md tracking-tighter",children:Rr(o)}),r.toll>0&&y.jsxs("span",{className:"text-xs font-bold text-blue-400 bg-blue-900/30 px-2 py-0.5 rounded border border-blue-500/30 inline-block mt-1",children:["( ",r.toll,")"]}),(r.returnToll||0)>0&&y.jsxs("span",{className:"text-xs font-bold text-indigo-400 bg-indigo-900/30 px-2 py-0.5 rounded border border-indigo-500/30 inline-block mt-1 ml-1",children:["( ",r.returnToll,")"]})]})]}),y.jsxs("div",{className:"flex flex-col gap-2 my-1 pl-1 border-l-2 border-gray-700 ml-2 py-1",children:[y.jsxs("div",{className:"flex items-start gap-3",children:[y.jsx("div",{className:"mt-1.5 w-2.5 h-2.5 rounded-full bg-green-500 shadow-[0_0_8px_#22c55e] flex-shrink-0"}),y.jsxs("div",{className:"flex-1 flex items-center justify-between min-w-0",children:[y.jsx("span",{className:"text-lg font-black text-white leading-tight truncate",children:r.pickupLocation||"---"}),r.pickupCoords&&y.jsx("a",{href:$d(r.pickupCoords)||"#",target:"_blank",rel:"noreferrer",onClick:p=>p.stopPropagation(),className:"p-2 bg-blue-500/10 text-blue-400 rounded-lg border border-blue-500/20 active:scale-90 ml-2",children:y.jsx(Lf,{size:14})})]})]}),y.jsxs("div",{className:"flex items-start gap-3",children:[y.jsx("div",{className:"mt-1.5 w-2.5 h-2.5 rounded-full bg-red-500 shadow-[0_0_8px_#ef4444] flex-shrink-0"}),y.jsxs("div",{className:"flex-1 flex items-center justify-between min-w-0",children:[y.jsx("span",{className:"text-lg font-black text-white leading-tight truncate",children:r.dropoffLocation||"---"}),r.dropoffCoords&&y.jsx("a",{href:$d(r.dropoffCoords)||"#",target:"_blank",rel:"noreferrer",onClick:p=>p.stopPropagation(),className:"p-2 bg-blue-500/10 text-blue-400 rounded-lg border border-blue-500/20 active:scale-90 ml-2",children:y.jsx(Zg,{size:14})})]})]})]}),y.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-1",children:[y.jsx("span",{className:`text-xs font-black px-3 py-1.5 rounded-lg border flex-1 text-center whitespace-nowrap ${gj(r.paymentMethod)}`,children:c}),r.rideType!=="FLOW"&&y.jsx("span",{className:"text-xs font-black text-gray-300 px-3 py-1.5 rounded-lg bg-gray-800 border border-gray-700 whitespace-nowrap",children:Qi[r.rideType]})]}),e&&r.remarks&&y.jsx("div",{className:"mt-2 pt-3 border-t border-gray-800/50 animate-in slide-in-from-top-2 duration-200",children:y.jsxs("div",{className:"bg-yellow-900/20 p-4 rounded-xl border border-yellow-700/30 flex items-start gap-3",children:[y.jsx(U1,{className:"w-5 h-5 text-yellow-500 mt-0.5 flex-shrink-0"}),y.jsx("p",{className:"text-base font-bold text-yellow-100 whitespace-pre-wrap leading-relaxed",children:r.remarks})]})})]})},Hb=r=>{const t={};return r.forEach(e=>{t[e.paymentMethod]=(t[e.paymentMethod]||0)+1}),t},xj=({method:r,className:t})=>{switch(r){case"CASH":return y.jsx(W4,{className:t});case"CARD":return y.jsx(Pf,{className:t});case"DIDI":return y.jsx(Jg,{className:t});case"TICKET":return y.jsx(YE,{className:t});case"QR":return y.jsx(t3,{className:t});default:return y.jsx(Pf,{className:t})}},$b=({breakdown:r,counts:t,customLabels:e,enabledMethods:n,records:s=[]})=>{const[i,a]=_e.useState(!1),l=n||Ef;let c=0,o=0;Object.keys(r).forEach(k=>{k!=="CASH"&&(c+=r[k])}),Object.keys(t).forEach(k=>{k!=="CASH"&&(o+=t[k])});const u=e||{},{breakdown:p,counts:h}=dj(s),d=(p.GO||0)+(p.Didi||0)+(p.Uber||0)+(p["s.ride"]||0);(h.GO||0)+(h.Didi||0)+(h.Uber||0)+(h["s.ride"]||0);const b=r.CASH||0,x=t.CASH||0,g=l.filter(k=>k!=="CASH"&&k!=="QR"),w=r.QR||0,v=t.QR||0;return y.jsxs("div",{className:"space-y-4",children:[y.jsxs("h3",{className:"text-lg font-black text-gray-300 uppercase tracking-widest flex items-center gap-2 mb-2",children:[y.jsx(Pf,{className:"w-5 h-5"})," "]}),b>0&&y.jsxs("div",{className:"bg-gradient-to-r from-amber-300/40 to-yellow-300/40 p-4 rounded-2xl border border-amber-200/50 flex justify-between items-center shadow-lg",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"p-2 bg-amber-200/30 rounded-full",children:y.jsx(W4,{className:"w-6 h-6 text-amber-100"})}),y.jsxs("div",{children:[y.jsx("span",{className:"text-sm font-bold text-amber-50 block uppercase tracking-widest",children:u.CASH||Hs.CASH}),y.jsxs("span",{className:"text-sm font-medium text-amber-100",children:[x,""]})]})]}),y.jsx("span",{className:"text-3xl font-black text-white tracking-tight",children:Rr(b)})]}),c>0&&y.jsxs("div",{className:"bg-gradient-to-r from-indigo-300/40 to-violet-300/40 p-4 rounded-2xl border border-indigo-200/50 flex justify-between items-center shadow-lg",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"p-2 bg-indigo-200/30 rounded-full",children:y.jsx(JT,{className:"w-6 h-6 text-indigo-100"})}),y.jsxs("div",{children:[y.jsx("span",{className:"text-sm font-bold text-indigo-50 block uppercase tracking-widest",children:""}),y.jsxs("span",{className:"text-sm font-medium text-indigo-100",children:[o,""]})]})]}),y.jsx("span",{className:"text-3xl font-black text-white tracking-tight",children:Rr(c)})]}),w>0&&y.jsxs(y.Fragment,{children:[y.jsxs("button",{onClick:()=>a(!i),className:"w-full bg-gradient-to-r from-purple-300/40 to-fuchsia-300/40 p-4 rounded-2xl border border-purple-200/50 flex justify-between items-center shadow-lg hover:from-purple-300/50 hover:to-fuchsia-300/50 transition-all active:scale-[0.98]",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"p-2 bg-purple-200/30 rounded-full",children:y.jsx(t3,{className:"w-6 h-6 text-purple-100"})}),y.jsxs("div",{children:[y.jsx("span",{className:"text-sm font-bold text-purple-50 block uppercase tracking-widest",children:u.QR||Hs.QR}),y.jsxs("span",{className:"text-sm font-medium text-purple-100",children:[v,""]})]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-3xl font-black text-white tracking-tight",children:Rr(w)}),d>0&&(i?y.jsx(zc,{className:"w-5 h-5 text-purple-100"}):y.jsx(As,{className:"w-5 h-5 text-purple-100"}))]})]}),i&&d>0&&y.jsxs("div",{className:"animate-in slide-in-from-top-2 duration-200",children:[y.jsxs("h5",{className:"text-xs font-black text-gray-500 uppercase px-2 tracking-widest flex items-center gap-2 mt-2 mb-2",children:[y.jsx(ai,{className:"w-3 h-3"})," "]}),y.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{key:"GO",label:"GO",gradient:"from-blue-300/40 to-cyan-300/40",border:"border-blue-200/50",iconBg:"bg-blue-200/30",iconColor:"text-blue-100",textColor:"text-blue-50",textSecondaryColor:"text-blue-100"},{key:"Didi",label:"Didi",gradient:"from-orange-300/40 to-amber-300/40",border:"border-orange-200/50",iconBg:"bg-orange-200/30",iconColor:"text-orange-100",textColor:"text-orange-50",textSecondaryColor:"text-orange-100"},{key:"Uber",label:"Uber",gradient:"from-gray-300/40 to-slate-300/40",border:"border-gray-200/50",iconBg:"bg-gray-200/30",iconColor:"text-gray-100",textColor:"text-gray-50",textSecondaryColor:"text-gray-100"},{key:"s.ride",label:"S.RIDE",gradient:"from-green-300/40 to-emerald-300/40",border:"border-green-200/50",iconBg:"bg-green-200/30",iconColor:"text-green-100",textColor:"text-green-50",textSecondaryColor:"text-green-100"}].map(({key:k,label:R,gradient:L,border:G,iconBg:V,iconColor:O,textColor:F,textSecondaryColor:B})=>{const W=p[k]||0,P=h[k]||0;return W===0&&P===0?null:y.jsxs("div",{className:`bg-gradient-to-r ${L} p-3 rounded-xl border ${G} flex flex-col justify-between shadow-sm`,children:[y.jsxs("div",{className:"flex justify-between items-start mb-2",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:`p-1.5 ${V} rounded-full`,children:y.jsx(ai,{className:`w-3.5 h-3.5 ${O}`})}),y.jsx("span",{className:`text-sm font-bold ${F} truncate max-w-[80px]`,children:R})]}),y.jsxs("span",{className:`text-xs font-medium ${B}`,children:[P,""]})]}),y.jsx("div",{className:"text-right",children:y.jsx("span",{className:`text-xl font-black block tracking-tight ${F}`,children:Rr(W)})})]},k)})})]})]}),y.jsx("div",{className:"space-y-3",children:g.map(k=>{const R=r[k]||0,L=t[k]||0;if(R===0&&L===0)return null;const G=u[k]||Hs[k];let V="from-gray-300/40 to-slate-300/40",O="border-gray-200/50",F="bg-gray-200/30",B="text-gray-100",W="text-gray-50",P="text-gray-100";return k==="CARD"?(V="from-blue-300/40 to-cyan-300/40",O="border-blue-200/50",F="bg-blue-200/30",B="text-blue-100",W="text-blue-50",P="text-blue-100"):k==="NET"?(V="from-green-300/40 to-emerald-300/40",O="border-green-200/50",F="bg-green-200/30",B="text-green-100",W="text-green-50",P="text-green-100"):k==="E_MONEY"?(V="from-pink-300/40 to-rose-300/40",O="border-pink-200/50",F="bg-pink-200/30",B="text-pink-100",W="text-pink-50",P="text-pink-100"):k==="TRANSPORT"?(V="from-orange-300/40 to-amber-300/40",O="border-orange-200/50",F="bg-orange-200/30",B="text-orange-100",W="text-orange-50",P="text-orange-100"):k==="DIDI"?(V="from-indigo-300/40 to-violet-300/40",O="border-indigo-200/50",F="bg-indigo-200/30",B="text-indigo-100",W="text-indigo-50",P="text-indigo-100"):k==="TICKET"&&(V="from-teal-300/40 to-cyan-300/40",O="border-teal-200/50",F="bg-teal-200/30",B="text-teal-100",W="text-teal-50",P="text-teal-100"),y.jsxs("div",{className:`bg-gradient-to-r ${V} p-4 rounded-2xl border ${O} flex justify-between items-center shadow-lg`,children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:`p-2 ${F} rounded-full`,children:y.jsx(xj,{method:k,className:`w-6 h-6 ${B}`})}),y.jsxs("div",{children:[y.jsx("span",{className:`text-sm font-bold ${W} block uppercase tracking-widest`,children:G}),y.jsxs("span",{className:`text-sm font-medium ${P}`,children:[L,""]})]})]}),y.jsx("span",{className:"text-3xl font-black text-white tracking-tight",children:Rr(R)})]},k)})})]})},ea=({children:r,onClose:t})=>{const e=_e.useRef(t),n=_e.useRef(null),s=_e.useRef(null);_e.useEffect(()=>{e.current=t},[t]),_e.useEffect(()=>{const l=window.history.state;l!=null&&l.modal||window.history.pushState({modal:!0},"",window.location.href);const c=W=>{var P;(P=W.state)!=null&&P.modal||e.current()};window.addEventListener("popstate",c);const o=document.documentElement,u=o.style.overflow,p=o.style.overflowX,h=o.style.position,d=o.style.width,b=o.style.left,x=o.style.right,g=document.body.style.overflow,w=document.body.style.overflowX,v=document.body.style.touchAction,k=document.body.style.position,R=document.body.style.width,L=document.body.style.left,G=document.body.style.right;o.style.overflowX="hidden",o.style.width="100%",o.style.left="0",o.style.right="0",document.body.style.overflow="hidden",document.body.style.overflowX="hidden",document.body.style.touchAction="none",document.body.style.position="fixed",document.body.style.width="100%",document.body.style.left="0",document.body.style.right="0";let V=0,O=0;const F=W=>{const P=W.touches[0]||W.changedTouches[0];if(!P)return;const N=Math.abs(P.clientX-V),D=Math.abs(P.clientY-O);s.current&&s.current.contains(W.target)?N>D&&W.preventDefault():W.preventDefault()},B=W=>{W.touches[0]&&(V=W.touches[0].clientX,O=W.touches[0].clientY)};return n.current&&(n.current.addEventListener("touchstart",B,{passive:!0}),n.current.addEventListener("touchmove",F,{passive:!1})),()=>{window.removeEventListener("popstate",c),u?o.style.overflow=u:o.style.removeProperty("overflow"),p?o.style.overflowX=p:o.style.removeProperty("overflow-x"),h?o.style.position=h:o.style.removeProperty("position"),d?o.style.width=d:o.style.removeProperty("width"),b?o.style.left=b:o.style.removeProperty("left"),x?o.style.right=x:o.style.removeProperty("right"),g?document.body.style.overflow=g:document.body.style.removeProperty("overflow"),w?document.body.style.overflowX=w:document.body.style.removeProperty("overflow-x"),v?document.body.style.touchAction=v:document.body.style.removeProperty("touch-action"),k?document.body.style.position=k:document.body.style.removeProperty("position"),R?document.body.style.width=R:document.body.style.removeProperty("width"),L?document.body.style.left=L:document.body.style.removeProperty("left"),G?document.body.style.right=G:document.body.style.removeProperty("right"),n.current&&(n.current.removeEventListener("touchstart",B),n.current.removeEventListener("touchmove",F))}},[]);const i=l=>{l.target===l.currentTarget&&t()},a=l=>{l.currentTarget===l.target&&l.preventDefault()};return y.jsx("div",{ref:n,className:"fixed inset-0 z-[100] flex flex-col justify-end bg-black/80 backdrop-blur-sm animate-in fade-in duration-200",onClick:i,onTouchMove:a,style:{touchAction:"none",overflowX:"hidden",overflowY:"hidden",left:0,right:0,width:"100%",maxWidth:"100%",position:"fixed",transform:"translateX(0)",willChange:"transform",userSelect:"none",WebkitUserSelect:"none"},children:y.jsxs("div",{className:"relative w-full max-w-md mx-auto bg-[#131C2B] rounded-t-[32px] p-5 shadow-2xl border-t border-gray-700 flex flex-col max-h-[90vh]",onClick:l=>l.stopPropagation(),style:{touchAction:"none",overflowX:"hidden",left:0,right:0,width:"100%",maxWidth:"28rem",position:"relative",transform:"translateX(0)",boxSizing:"border-box",userSelect:"none",WebkitUserSelect:"none"},children:[y.jsx("div",{className:"w-12 h-1.5 bg-gray-700 rounded-full mx-auto mb-6 opacity-50 flex-shrink-0"}),y.jsx("div",{ref:s,className:"overflow-y-auto custom-scrollbar flex-1 pb-safe",style:{touchAction:"pan-y",overflowX:"hidden",width:"100%",maxWidth:"100%",boxSizing:"border-box"},children:y.jsx("div",{style:{width:"100%",maxWidth:"100%",boxSizing:"border-box"},children:r})})]})})},yj=({onClose:r})=>{const[t,e]=_e.useState("select"),[n,s]=_e.useState("digital"),[i,a]=_e.useState(new Date),[l,c]=_e.useState(window.innerHeight>window.innerWidth);_e.useEffect(()=>{const b=()=>c(window.innerHeight>window.innerWidth);return window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]),_e.useEffect(()=>{const b=setInterval(()=>a(new Date),1e3);return()=>clearInterval(b)},[]);const o=_e.useMemo(()=>{const b=[{text:"text-cyan-400",shadow:"rgba(34,211,238,0.8)",border:"border-cyan-500/50",line:"bg-cyan-500"},{text:"text-fuchsia-400",shadow:"rgba(232,121,249,0.8)",border:"border-fuchsia-500/50",line:"bg-fuchsia-500"},{text:"text-lime-400",shadow:"rgba(163,230,53,0.8)",border:"border-lime-500/50",line:"bg-lime-500"},{text:"text-amber-400",shadow:"rgba(251,191,36,0.8)",border:"border-amber-500/50",line:"bg-amber-500"},{text:"text-rose-400",shadow:"rgba(251,113,133,0.8)",border:"border-rose-500/50",line:"bg-rose-500"}];return b[Math.floor(Math.random()*b.length)]},[]),u=b=>{s(b),e("view")},p=()=>y.jsxs("div",{className:"flex flex-col items-center justify-center h-full w-full bg-black font-mono animate-in zoom-in duration-300 p-4 relative overflow-hidden",children:[y.jsx("div",{className:`absolute inset-0 bg-[radial-gradient(circle_at_center,${o.shadow.replace("0.8","0.1")},transparent_70%)] pointer-events-none`}),y.jsx("div",{className:`absolute inset-6 border-2 ${o.border} opacity-50 rounded-3xl pointer-events-none`}),y.jsx("div",{className:`absolute top-6 left-1/2 -translate-x-1/2 w-1/4 h-1.5 ${o.line} shadow-[0_0_20px_${o.shadow}] rounded-b-full`}),y.jsx("div",{className:`absolute bottom-6 left-1/2 -translate-x-1/2 w-1/4 h-1.5 ${o.line} shadow-[0_0_20px_${o.shadow}] rounded-t-full`}),y.jsx("div",{className:`${o.text} text-[22vw] leading-none font-black tabular-nums tracking-tighter z-10`,style:{textShadow:`0 0 30px ${o.shadow}`},children:i.toLocaleTimeString("ja-JP",{hour12:!1})}),y.jsxs("div",{className:"mt-10 text-center space-y-4 z-10",children:[y.jsx("div",{className:`text-[5vw] font-bold ${o.text} opacity-90 tracking-widest uppercase`,children:i.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}),y.jsx("div",{className:`text-[6vw] font-black ${o.text} tracking-[0.2em] uppercase border-y-2 ${o.border} py-2 px-10 inline-block bg-black/50 backdrop-blur-sm`,children:i.toLocaleDateString("en-US",{weekday:"long"})})]})]}),h=()=>{let b=i.getHours();const x=b>=12?"PM":"AM";b=b%12,b=b||12;const g=String(b).padStart(2,"0"),w=String(i.getMinutes()).padStart(2,"0"),v=({num:k})=>y.jsxs("div",{className:`bg-[#1a1a1a] rounded-[12%] flex items-center justify-center relative overflow-hidden shadow-2xl ${l?"w-[75vw] h-[35vh]":"w-[40vw] h-[80vh]"} border-[1px] border-[#333]`,children:[y.jsx("span",{className:`font-sans font-bold text-[#d4d4d4] leading-none tracking-tighter scale-y-[1.3] ${l?"text-[32vh]":"text-[70vh]"} translate-y-[2%]`,children:k}),y.jsx("div",{className:"absolute top-1/2 left-0 w-full h-[2px] bg-[#000] z-20 shadow-[0_1px_2px_rgba(0,0,0,0.8)]"}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/5 to-transparent pointer-events-none z-10"})]});return y.jsx("div",{className:"flex flex-col items-center justify-center h-full w-full bg-[#000000] animate-in fade-in duration-500",children:y.jsxs("div",{className:`flex ${l?"flex-col gap-6":"flex-row gap-6"} items-center justify-center w-full h-full p-6 relative`,children:[y.jsxs("div",{className:"relative",children:[y.jsx(v,{num:g}),y.jsx("div",{className:"absolute top-[8%] left-[8%] text-[#d4d4d4] font-bold text-[3vh] font-sans tracking-wider z-30 opacity-90",children:x})]}),y.jsx(v,{num:w})]})})},d=()=>{const b=i.getSeconds()/60,x=(b+i.getMinutes())/60,g=(x+i.getHours())/12;return y.jsx("div",{className:"flex items-center justify-center h-full bg-[#0d0d0d] animate-in spin-in-3 duration-500",children:y.jsxs("div",{className:"relative w-[85vw] h-[85vw] max-w-[600px] max-h-[600px] bg-[#1a1a1a] rounded-full shadow-[20px_20px_60px_#050505,-20px_-20px_60px_#2a2a2a] border-[8px] border-[#252525] flex items-center justify-center",children:[[...Array(60)].map((w,v)=>{const k=v%5===0;return y.jsx("div",{className:"absolute w-full h-full flex justify-center pt-4",style:{transform:`rotate(${v*6}deg)`},children:y.jsx("div",{className:`rounded-full ${k?"w-1.5 h-6 bg-gray-200 shadow-[0_0_8px_rgba(255,255,255,0.3)]":"w-0.5 h-2 bg-gray-600 opacity-50"}`})},v)}),y.jsxs("div",{className:"absolute inset-10 pointer-events-none",children:[y.jsx("span",{className:"absolute top-0 left-1/2 -translate-x-1/2 text-5xl font-bold text-gray-200",children:"12"}),y.jsx("span",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 text-5xl font-bold text-gray-200",children:"6"}),y.jsx("span",{className:"absolute left-0 top-1/2 -translate-y-1/2 text-5xl font-bold text-gray-200",children:"9"}),y.jsx("span",{className:"absolute right-0 top-1/2 -translate-y-1/2 text-5xl font-bold text-gray-200",children:"3"})]}),y.jsx("div",{className:"absolute w-3 h-[24%] bg-gray-200 rounded-full origin-bottom bottom-[50%] shadow-lg z-20",style:{transform:`rotate(${g*360}deg)`}}),y.jsx("div",{className:"absolute w-2 h-[34%] bg-gray-400 rounded-full origin-bottom bottom-[50%] shadow-lg z-30",style:{transform:`rotate(${x*360}deg)`}}),y.jsx("div",{className:"absolute w-1 h-[38%] bg-amber-600 rounded-full origin-bottom bottom-[50%] shadow-[0_0_10px_rgba(245,158,11,0.5)] z-40",style:{transform:`rotate(${b*360}deg)`}}),y.jsx("div",{className:"absolute w-5 h-5 bg-amber-600 rounded-full z-50 border-4 border-[#1a1a1a]"})]})})};return t==="select"?y.jsx("div",{className:"fixed inset-0 z-[9999] bg-black/95 backdrop-blur-md flex flex-col items-center justify-center p-6 animate-in fade-in duration-200",children:y.jsxs("div",{className:"w-full max-w-sm space-y-6",children:[y.jsxs("div",{className:"text-center space-y-2 mb-8",children:[y.jsx("h2",{className:"text-3xl font-black text-white tracking-tight",children:"CLOCK STYLE"}),y.jsx("p",{className:"text-gray-500 text-xs font-bold uppercase tracking-widest",children:"Select your favorite design"})]}),y.jsxs("button",{onClick:()=>u("digital"),className:"w-full bg-cyan-950/30 border border-cyan-800/50 p-5 rounded-3xl flex items-center gap-5 group active:scale-95 transition-all hover:bg-cyan-900/40 hover:border-cyan-500/50",children:[y.jsx("div",{className:"p-4 bg-cyan-500/10 rounded-2xl text-cyan-400 group-hover:text-white group-hover:bg-cyan-500 transition-all shadow-[0_0_15px_rgba(34,211,238,0.1)]",children:y.jsx(AE,{className:"w-8 h-8"})}),y.jsxs("div",{className:"text-left",children:[y.jsx("span",{className:"block text-xl font-black text-white group-hover:text-cyan-100 transition-colors",children:"CYBER DIGITAL"}),y.jsx("span",{className:"text-xs text-cyan-600 font-bold uppercase tracking-wider group-hover:text-cyan-300",children:"Neon Random Color"})]})]}),y.jsxs("button",{onClick:()=>u("analog"),className:"w-full bg-gray-900 border border-gray-800 p-5 rounded-3xl flex items-center gap-5 group active:scale-95 transition-all hover:bg-gray-800 hover:border-gray-600",children:[y.jsx("div",{className:"p-4 bg-gray-800 rounded-2xl text-gray-400 group-hover:text-white group-hover:bg-gray-600 transition-all",children:y.jsx(h9,{className:"w-8 h-8"})}),y.jsxs("div",{className:"text-left",children:[y.jsx("span",{className:"block text-xl font-black text-white",children:"DARK ANALOG"}),y.jsx("span",{className:"text-xs text-gray-500 font-bold uppercase tracking-wider group-hover:text-gray-300",children:"Modern & Chic"})]})]}),y.jsxs("button",{onClick:()=>u("fliqlo"),className:"w-full bg-stone-950 border border-stone-800 p-5 rounded-3xl flex items-center gap-5 group active:scale-95 transition-all hover:bg-stone-900 hover:border-stone-600",children:[y.jsx("div",{className:"p-4 bg-stone-900 rounded-2xl text-stone-400 group-hover:text-white group-hover:bg-stone-700 transition-all",children:y.jsx(Go,{className:"w-8 h-8"})}),y.jsxs("div",{className:"text-left",children:[y.jsx("span",{className:"block text-xl font-black text-white",children:"FLIQLO STYLE"}),y.jsx("span",{className:"text-xs text-stone-600 font-bold uppercase tracking-wider group-hover:text-stone-400",children:"Retro Flip Clock"})]})]}),y.jsx("button",{onClick:r,className:"mt-10 py-4 w-full text-gray-600 font-bold text-sm tracking-widest hover:text-white transition-colors uppercase",children:"Close"})]})}):y.jsxs("div",{className:"fixed inset-0 z-[9999] cursor-pointer bg-black overflow-hidden",onClick:r,children:[n==="digital"&&y.jsx(p,{}),n==="analog"&&y.jsx(d,{}),n==="fliqlo"&&y.jsx(h,{}),y.jsx("div",{className:"absolute bottom-8 w-full text-center pointer-events-none opacity-0 hover:opacity-50 transition-opacity duration-1000 animate-[pulse_4s_infinite]",children:y.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.5em] text-white/30 bg-black/40 px-6 py-2 rounded-full backdrop-blur-md",children:"Tap to Close"})})]})},vj=["toppo2000@gmail.com","admin-user@gmail.com"],wj=({user:r,date:t,onClose:e})=>{const[n,s]=_e.useState({records:[],total:0}),[i,a]=_e.useState(!0),[l,c]=_e.useState(!1),[o,u]=_e.useState("desc");return _e.useEffect(()=>{let p=null,h=!1;return(async()=>{try{const b=Date.now(),x=r.businessStartHour||9,g=It(b,x),[w,v,k]=g.split("/").map(Number),R=new Date(w,v-1,k,x,0,0,0),L=new Date(R);L.setDate(L.getDate()+1),L.setMilliseconds(L.getMilliseconds()-1),p=fs(tr(Pt,"public_status",r.uid),async G=>{if(!h)if(G.exists()){const O=G.data().records||[];try{const F=Gr(Pt,"public_status",r.uid,"history"),B=Hr(F,ds("timestamp",">=",R.getTime()),ds("timestamp","<=",L.getTime()),un("timestamp","desc")),W=await Zr(B),P=[];W.forEach(S=>{P.push(S.data())});const N=new Map;[...O,...P].forEach(S=>{S&&typeof S.timestamp=="number"&&It(S.timestamp,x)===g&&N.set(S.id,S)});const D=Array.from(N.values()).sort((S,T)=>T.timestamp-S.timestamp),C=D.reduce((S,T)=>S+(T.amount||0),0);h||(s({records:D,total:C}),a(!1))}catch(F){console.error("[ColleagueDetailModal] Subcollection error:",F);const B=O.filter(P=>!P||typeof P.timestamp!="number"?!1:It(P.timestamp,x)===g).sort((P,N)=>N.timestamp-P.timestamp),W=B.reduce((P,N)=>P+(N.amount||0),0);h||(s({records:B,total:W}),a(!1))}}else h||(s({records:[],total:0}),a(!1))},G=>{console.error("[ColleagueDetailModal] Snapshot error:",G),h||(a(!1),s({records:[],total:0}))})}catch(b){console.error("[ColleagueDetailModal] Load error:",b),h||(a(!1),s({records:[],total:0}))}})(),()=>{h=!0,p&&p()}},[r.uid,r.businessStartHour]),D6.createPortal(y.jsxs("div",{className:"fixed inset-0 z-[9999] flex flex-col justify-end bg-black/80 backdrop-blur-sm animate-in fade-in duration-200",children:[y.jsx("div",{className:"absolute inset-0",onClick:e}),y.jsxs("div",{className:"relative w-full max-w-md mx-auto bg-gray-800 rounded-t-[32px] p-6 text-white h-[85vh] flex flex-col shadow-2xl animate-in slide-in-from-bottom-10 duration-300 border-t-2 border-orange-500",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[y.jsx("div",{children:y.jsxs("h2",{className:"text-xl font-black flex items-center gap-2",children:[r.name," ",y.jsx("span",{className:"text-xs font-normal text-gray-400 bg-gray-800 px-2 py-1 rounded-full",children:t})]})}),y.jsx("button",{onClick:e,className:"p-3 bg-gray-800 rounded-full text-gray-400 hover:text-white active:scale-95 transition-transform",children:y.jsx(Vn,{className:"w-6 h-6"})})]}),y.jsxs("div",{className:"flex justify-end gap-2 mb-4 flex-shrink-0",children:[y.jsx("button",{onClick:()=>u(p=>p==="desc"?"asc":"desc"),className:"px-4 py-2 rounded-xl text-sm font-bold transition-all flex items-center gap-2 bg-blue-500 text-white hover:bg-blue-600",children:o==="desc"?y.jsxs(y.Fragment,{children:[y.jsx($4,{className:"w-4 h-4"}),""]}):y.jsxs(y.Fragment,{children:[y.jsx(G4,{className:"w-4 h-4"}),""]})}),y.jsx("button",{onClick:()=>c(!l),className:`px-4 py-2 rounded-xl text-sm font-bold transition-all ${l?"bg-orange-500 text-gray-900":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:l?"":""})]}),(()=>{const p=[...n.records].sort((h,d)=>o==="desc"?d.timestamp-h.timestamp:h.timestamp-d.timestamp);return l?y.jsx("div",{className:"flex-1 overflow-y-auto pb-safe pr-1 custom-scrollbar",children:i?y.jsx("div",{className:"text-center text-gray-500 py-10 font-bold",children:"..."}):p.length===0?y.jsx("div",{className:"text-center text-gray-500 py-10 font-bold",children:""}):y.jsx("table",{className:"w-full border-collapse",children:y.jsx("tbody",{children:p.map((h,d)=>y.jsx(au,{record:h,index:o==="desc"?p.length-d:d+1,isDetailed:!1,customLabels:{},businessStartHour:r.businessStartHour||9,onClick:()=>{},isSlim:!0},h.id||d))})})}):y.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 pb-safe pr-1 custom-scrollbar",children:i?y.jsx("div",{className:"text-center text-gray-500 py-10 font-bold",children:"..."}):p.length===0?y.jsx("div",{className:"text-center text-gray-500 py-10 font-bold",children:""}):p.map((h,d)=>y.jsx("div",{className:"opacity-100",children:y.jsx(au,{record:h,index:o==="desc"?p.length-d:d+1,isDetailed:!0,customLabels:{},businessStartHour:r.businessStartHour||9,onClick:()=>{},isSlim:!1})},h.id||d))})})()]})]}),document.body)},E1=({followingUsers:r})=>{var b,x;const[t,e]=_e.useState([]),[n,s]=_e.useState(null),i=12,a=(b=hr.currentUser)==null?void 0:b.uid,l=((x=hr.currentUser)==null?void 0:x.email)||"",c=vj.includes(l);_e.useEffect(()=>{let g=null;if(c){const w=Hr(Gr(Pt,"public_status"));g=fs(w,v=>{const k=[];v.forEach(G=>{const V=G.data();V.status||console.warn("[ColleagueStatusList] Missing status field for user:",V.uid,V.name,"data:",V),k.push(V)});const R=Date.now(),L=It(R,i);k.sort((G,V)=>{const F=(G.startTime?It(G.startTime,i):"")===L||G.sales>0&&G.lastUpdated>R-12*36e5,W=(V.startTime?It(V.startTime,i):"")===L||V.sales>0&&V.lastUpdated>R-12*36e5;return F&&!W?-1:!F&&W?1:V.sales-G.sales}),e(k)},v=>{console.error("[ColleagueStatusList] Snapshot error:",v)})}else{const w=new Set([...r||[],a].filter(Boolean));if(w.size===0){e([]);return}const v=[],k=new Map;w.forEach(L=>{const G=fs(tr(Pt,"public_status",L),V=>{if(V.exists()){const O=V.data();if(O.status||console.warn("[ColleagueStatusList] Missing status field for user:",L,O.name,"data:",O),L!==a){const F=O.visibilityMode||"PUBLIC";if(F==="PRIVATE"){k.delete(L),R(k);return}if(F==="CUSTOM"&&!(O.allowedViewers&&O.allowedViewers.includes(a||""))){k.delete(L),R(k);return}}k.set(L,O)}else k.delete(L);R(k)},V=>{console.error(`[ColleagueStatusList] Error watching user ${L}:`,V)});v.push(G)});const R=L=>{const G=Array.from(L.values()),V=Date.now(),O=It(V,i);G.sort((F,B)=>{const P=(F.startTime?It(F.startTime,i):"")===O||F.sales>0&&F.lastUpdated>V-12*36e5,D=(B.startTime?It(B.startTime,i):"")===O||B.sales>0&&B.lastUpdated>V-12*36e5;return P&&!D?-1:!P&&D?1:B.sales-F.sales}),e(G)};g=()=>{v.forEach(L=>L())}}return()=>{g&&g()}},[r,a,c]);const o=g=>g?new Date(g).toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit"}):"--:--",u=It(Date.now(),i),p=(g,w)=>{if(g.status)switch(g.status){case"riding":return y.jsx("span",{className:"text-red-400 font-black text-sm whitespace-nowrap",children:""});case"active":return y.jsx("span",{className:"text-blue-400 font-black text-sm whitespace-nowrap",children:""});case"break":return y.jsx("span",{className:"text-amber-500 font-black text-sm whitespace-nowrap",children:""});case"completed":case"offline":return y.jsx("span",{className:"text-white font-black tracking-tighter whitespace-nowrap text-sm",children:o(g.plannedEndTime)});default:return y.jsx("span",{className:"text-blue-400 font-black text-sm whitespace-nowrap",children:""})}return w?y.jsx("span",{className:"text-blue-400 font-black text-sm whitespace-nowrap",children:""}):y.jsx("span",{className:"text-gray-500 font-bold text-sm whitespace-nowrap",children:""})},h=g=>{const v=(g.records||[]).some(L=>{var G;return L&&!((G=L.remarks)!=null&&G.includes(""))}),R=(g.topRecords||[]).length>0;return v||R},d=t.filter(g=>{if(g.uid===a)return!0;if(!r.includes(g.uid))return!1;if(c)return!!h(g);const w=g.visibilityMode||"PUBLIC";return!(w==="PRIVATE"||w==="CUSTOM"&&!(g.allowedViewers&&g.allowedViewers.includes(a||""))||!h(g))});return d.length===0?null:y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"rounded-2xl overflow-hidden mb-4 shadow-xl animate-in fade-in slide-in-from-bottom-4 font-sans border-2 border-orange-500",children:[y.jsxs("div",{className:"bg-gray-800 px-3 py-2.5 text-center border-b border-orange-500/30 relative",children:[y.jsx("div",{className:"absolute top-0 left-0 w-full h-0.5 bg-gradient-to-r from-transparent via-amber-500/50 to-transparent"}),y.jsxs("div",{className:"text-gray-200 font-black text-sm tracking-wide flex items-center justify-center gap-2",children:[" ",y.jsxs("span",{className:"text-xs font-normal text-gray-400",children:["(",u,")"]})]}),y.jsx("div",{className:"text-gray-500 text-[10px] font-bold mt-0.5",children:""})]}),y.jsx("div",{className:"overflow-x-auto bg-gray-800",children:y.jsxs("table",{className:"w-full text-center border-collapse",children:[y.jsx("thead",{children:y.jsxs("tr",{className:"bg-gray-700 text-xs uppercase tracking-wider border-b border-orange-500/30",children:[y.jsx("th",{className:"py-2 px-1 font-bold border-r border-gray-700/50 w-[20%] text-pink-300",children:""}),y.jsx("th",{className:"py-2 px-1 font-bold border-r border-gray-700/50 text-blue-300",children:""}),y.jsx("th",{className:"py-2 px-1 font-bold border-r border-gray-700/50 text-green-300",children:""}),y.jsx("th",{className:"py-2 px-1 font-bold border-r border-gray-700/50 text-yellow-300",children:""}),y.jsx("th",{className:"py-2 px-1 font-bold border-r border-gray-700/50 text-orange-300",children:""}),y.jsx("th",{className:"py-2 px-2 font-bold text-cyan-300",children:""})]})}),y.jsx("tbody",{className:"text-sm text-gray-200",children:d.map((g,w)=>{const v=g.uid===a,k=g.todayStartTime||g.startTime,R=g.todayStartTime||g.startTime,L=g.businessStartHour||i,G=R?It(R,L):"",V=It(Date.now(),L),O=G===V,F=O||g.sales>0&&g.lastUpdated>Date.now()-12*36e5,B=O&&(g.status==="completed"||g.sales!==void 0&&g.sales!==null||g.rideCount!==void 0&&g.rideCount!==null||g.dispatchCount!==void 0&&g.dispatchCount!==null),W=v?"bg-emerald-500/10 shadow-[inset_3px_0_0_#10b981] border-t border-b border-emerald-500/20":w%2===0?"bg-blue-500/05":"bg-purple-500/05",P="text-base font-bold text-white",N="text-sm font-black text-white",D="text-sm font-black text-white",C=S=>{S.stopPropagation();try{window.location.href="life360://"}catch(T){console.error("Life360:",T)}};return y.jsxs("tr",{className:`${W} border-b border-gray-700/30 cursor-pointer hover:bg-white/5 active:bg-white/10 transition-colors`,onClick:()=>s(g),children:[y.jsxs("td",{className:`py-2 px-1 text-left truncate max-w-[80px] border-r border-gray-700/30 ${P}`,onClick:C,children:[g.name,c&&g.visibilityMode==="PRIVATE"&&!v&&y.jsx("span",{className:"text-[9px] text-red-400 block leading-none font-black scale-75 origin-left",children:"[]"})]}),y.jsx("td",{className:`py-2 px-1 tracking-tighter border-r border-gray-700/30 ${N}`,children:F?o(k):""}),y.jsx("td",{className:"py-2 px-1 font-medium tracking-tighter border-r border-gray-700/30",children:p(g,F)}),y.jsx("td",{className:`py-2 px-1 border-r border-gray-700/30 ${N}`,children:B&&g.rideCount!==void 0&&g.rideCount!==null?g.rideCount:"-"}),y.jsx("td",{className:`py-2 px-1 border-r border-gray-700/30 ${N}`,children:B&&g.dispatchCount!==void 0&&g.dispatchCount!==null?g.dispatchCount:"-"}),y.jsx("td",{className:`py-2 px-2 text-right tracking-tight ${D}`,children:(F&&g.sales!==void 0&&g.sales!==null?g.sales:0).toLocaleString()})]},g.uid)})})]})})]}),n&&y.jsx(wj,{user:n,date:u,onClose:()=>s(null)})]})},_j="/assets/top-DERP1E77.png",Sj=["toppo2000@gmail.com","admin-user@gmail.com"],D_=({progress:r,color:t})=>{const e=t==="amber",n=e?"bg-amber-500 shadow-[0_0_15px_#F59E0B]":"bg-blue-500 shadow-[0_0_15px_#3B82F6]",s=e?"border-amber-400/40":"border-blue-400/40";return y.jsx("div",{className:`w-full bg-[#05080C] border-2 ${s} rounded-full h-8 p-1 overflow-hidden shadow-[inset_0_2px_10px_rgba(0,0,0,0.8)]`,children:y.jsx("div",{className:`h-full transition-all duration-1000 ease-out rounded-full ${n}`,style:{width:`${Math.min(100,r)}%`}})})},kj=({shift:r,stats:t,breakState:e,onStart:n,onEnd:s,onAdd:i,onEdit:a,onUpdateGoal:l,onUpdateShiftGoal:c,onAddRestMinutes:o,onToggleBreak:u,setBreakState:p,onShiftEdit:h,onUpdateStartOdo:d,history:b=[],dayMetadata:x={},onUpdateStats:g})=>{const[w,v]=_e.useState(t.defaultDailyGoal.toLocaleString()),[k,R]=_e.useState(12),[L,G]=_e.useState(!1),[V,O]=_e.useState(!1),[F,B]=_e.useState(t.monthlyGoal.toLocaleString()),[W,P]=_e.useState((r==null?void 0:r.dailyGoal.toLocaleString())||t.defaultDailyGoal.toLocaleString()),[N,D]=_e.useState(!0),[C,S]=_e.useState(!1),[T,A]=_e.useState(!1),[E,j]=_e.useState(Date.now()),[U,I]=_e.useState(!1),[Q,Y]=_e.useState(!1),[ee,q]=_e.useState(new Date),[te,H]=_e.useState(t.dutyDays||[]),[z,Z]=_e.useState(null),ae=t.businessStartHour??9,re=t.shimebiDay??20;_e.useEffect(()=>{var he;const ie=(he=hr.currentUser)==null?void 0:he.uid;if(!ie){Z(null);return}const fe=fs(tr(Pt,"public_status",ie),me=>{if(me.exists()){const Le=me.data().todayStartTime;if(Le){const De=It(Le,ae),Fe=It(Date.now(),ae);Z(De===Fe?Le:null)}else Z(null)}else Z(null)},me=>{console.error("[Dashboard] Error loading todayStartTime:",me),Z(null)});return()=>fe()},[ae]);const le=_e.useMemo(()=>{const ie=parseInt(re.toString()),fe=isNaN(ie)?20:ie,{start:he,end:me}=$t(ee,fe,ae),Ae=he.getFullYear(),Le=he.getMonth(),De=new Date(Ae,Le,he.getDate()),Fe=new Date(De),qe=De.getDay();Fe.setDate(Fe.getDate()-qe);const xt=new Date(Ae,me.getMonth(),me.getDate()),vt=new Date(xt),Ct=xt.getDay();vt.setDate(vt.getDate()+(6-Ct));const be=[],Me=new Date(Fe);for(let Ke=0;Ke<35;Ke++)be.push(new Date(Me)),Me.setDate(Me.getDate()+1);return be},[ee,re,ae]),de=_e.useMemo(()=>{const ie=parseInt(re.toString()),fe=isNaN(ie)?20:ie,{end:he}=$t(ee,fe,ae);return`${he.getFullYear()} / ${String(he.getMonth()+1).padStart(2,"0")}`},[ee,re,ae]),ve=_e.useMemo(()=>{const ie={},fe={};return b.forEach(he=>{const me=It(he.timestamp,ae);fe[me]||(fe[me]=[]),fe[me].push(he)}),Object.keys(fe).forEach(he=>{const me=fe[he];me.some(Le=>{var De;return(De=Le.remarks)==null?void 0:De.includes("")})?me.filter(De=>{var Fe;return(Fe=De.remarks)==null?void 0:Fe.includes("")}).length>0&&(ie[he]=!0):me.filter(De=>{var Fe;return!((Fe=De.remarks)!=null&&Fe.includes(""))}).length>0&&(ie[he]=!0)}),ie},[b,ae]),ge=_e.useMemo(()=>{const ie=parseInt(re.toString()),fe=isNaN(ie)?20:ie,{start:he,end:me}=$t(ee,fe,ae),Ae=Bt(he),Le=Bt(me),De=It(Date.now(),ae),Fe=new Set;return le.forEach(qe=>{const xt=new Date(qe);xt.setHours(ae,0,0,0);const vt=It(xt.getTime(),ae);if(vt>=Ae&&vt<=Le){const be=vt<De,Me=ve[vt]||!1,Ke=te.includes(vt);(be&&Me||!be&&Ke)&&Fe.add(vt)}}),Fe.size},[le,te,ee,re,ae,ve]);_e.useEffect(()=>{H(t.dutyDays||[])},[t.dutyDays]);const se=ie=>{const fe=It(Date.now(),ae);ie<fe||H(me=>me.includes(ie)?me.filter(Ae=>Ae!==ie):[...me,ie])},xe=()=>{const ie=parseInt(re.toString()),fe=isNaN(ie)?20:ie,{start:he,end:me}=$t(ee,fe,ae),Ae=[];let Le=new Date(he);for(;Le<=me;){const De=Le.getDay();if(De!==0&&De!==6){const Fe=new Date(Le);Fe.setHours(ae,0,0,0);const qe=It(Fe.getTime(),ae);Ae.push(qe)}Le.setDate(Le.getDate()+1)}H(Ae)},[pe,Te]=_e.useState(""),[ke,Re]=_e.useState(!1),[$e,Pe]=_e.useState(!1),[Je,Ze]=_e.useState(!1),[Ye,Xe]=_e.useState(0),ut=_e.useRef(null);_e.useEffect(()=>{const ie=setInterval(()=>j(Date.now()),1e3);return()=>clearInterval(ie)},[]),_e.useEffect(()=>{r?r.startOdo&&Te(r.startOdo.toString()):v(t.defaultDailyGoal.toLocaleString())},[t.defaultDailyGoal,r]),_e.useEffect(()=>(e.isActive&&e.startTime?(Xe(Date.now()-e.startTime),ut.current=window.setInterval(()=>{e.startTime&&Xe(Date.now()-e.startTime)},1e3)):(ut.current&&clearInterval(ut.current),Xe(0)),()=>{ut.current&&clearInterval(ut.current)}),[e]);const ot=()=>{if(!pe){Re(!0);return}n(Cn(w),k,Number(pe))},je=()=>{Re(!1),n(Cn(w),k)},He=()=>{d&&pe&&(d(Number(pe)),Pe(!1))},Ne=()=>{const ie=Math.floor(Ye/6e4);ie>0&&o(ie),p({isActive:!1,startTime:null})},Ie=()=>{const ie=Math.floor(Ye/6e4);i(`: ${ie}`),setTimeout(()=>{p({isActive:!1,startTime:null})},100)},lt=ie=>{const fe=Math.floor(ie/1e3),he=Math.floor(fe/3600),me=Math.floor(fe%3600/60),Ae=fe%60;return`${String(he).padStart(2,"0")}:${String(me).padStart(2,"0")}:${String(Ae).padStart(2,"0")}`},Ue=_e.useMemo(()=>(r==null?void 0:r.records)||[],[r]),We=_e.useMemo(()=>Ue.reduce((ie,fe)=>ie+fe.amount,0),[Ue]),bt=_e.useMemo(()=>R6(We),[We]),yt=_e.useMemo(()=>Vb(Ue),[Ue]),nt=_e.useMemo(()=>Hb(Ue),[Ue]),Et=_e.useMemo(()=>{if(!r)return 0;const ie=z||r.startTime;return(E-ie)/6e4},[r,E,z]),Oe=_e.useMemo(()=>{if(!r)return"";const ie=z||r.startTime,fe=E-ie,he=Math.floor(fe/(1e3*60*60)),me=Math.floor(fe%(1e3*60*60)/(1e3*60));return`${he}${String(me).padStart(2,"0")}`},[r,E,z]),Ce=_e.useMemo(()=>Et<=0?0:We/Et*60,[We,Et]),rt=_e.useMemo(()=>r?Math.max(0,r.dailyGoal-We):0,[r,We]),pt=_e.useMemo(()=>{if(!r||!r.plannedHours||r.plannedHours===0)return 0;const ie=z||r.startTime,fe=(E-ie)/(1e3*60*60),me=r.dailyGoal/r.plannedHours*fe;return We-me},[r,E,We,z]),ft=r?We/(r.dailyGoal||1)*100:0,Mt=_e.useMemo(()=>N?[...Ue].reverse():[...Ue],[Ue,N]),At=_e.useMemo(()=>$t(new Date,t.shimebiDay,t.businessStartHour),[t.shimebiDay,t.businessStartHour]),wt=It(Date.now(),t.businessStartHour),ze=_e.useMemo(()=>t.dutyDays?t.dutyDays.filter(ie=>ie>=wt&&ie<=Bt(At.end)).length:0,[t.dutyDays,wt,At.end]),ht=_e.useMemo(()=>{const ie=Math.max(0,t.monthlyGoal-t.totalSales);return ze<=0?0:ie/ze},[t.monthlyGoal,t.totalSales,ze]),Qe=_e.useMemo(()=>{const ie=Bt(At.start),fe=Bt(At.end),he=(b||[]).filter(De=>{const Fe=It(De.timestamp,ae);return Fe>=ie&&Fe<=fe&&Fe<=wt}),me=Wi(he,ae),Ae=new Set;me.forEach(De=>{const Fe=It(De.timestamp,ae);Ae.add(Fe)});const Le=Ae.size;return console.log("[Dashboard] completedDutyDays calculation:",{historyCount:(b==null?void 0:b.length)||0,periodRecordsCount:he.length,filteredRecordsCount:me.length,uniqueDaysCount:Le,todayBusinessDate:wt,billingPeriodStart:ie,billingPeriodEnd:fe}),Le},[b,wt,At.start,At.end,ae]);_e.useMemo(()=>t.dutyDays?t.dutyDays.filter(ie=>ie>=Bt(At.start)&&ie<=Bt(At.end)).length:0,[t.dutyDays,At]);const Ee=_e.useMemo(()=>{if(Qe<=0)return console.log("[Dashboard] averageDailySales: completedDutyDays is 0 or less, returning 0"),0;const ie=t.totalSales/Qe;return console.log("[Dashboard] averageDailySales calculation:",{totalSales:t.totalSales,completedDutyDays:Qe,calculation:`${t.totalSales} / ${Qe}`,result:ie}),ie},[t.totalSales,Qe]),Ve=_e.useMemo(()=>Qe<=0?0:Ee*(Qe+ze),[Ee,Qe,ze]),et=_e.useMemo(()=>r?r.startTime+r.plannedHours*36e5:null,[r]),ce=Array.from({length:21},(ie,fe)=>fe+4),ye=()=>{var me;const ie=((me=hr.currentUser)==null?void 0:me.email)||"";if(Sj.includes(ie))return y.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-purple-500/10 border border-purple-500/30 rounded-full text-[10px] font-black text-purple-400 uppercase tracking-widest shadow-[0_0_10px_rgba(168,85,247,0.2)]",children:[y.jsx(UE,{size:12}),y.jsx("span",{children:""})]});const he=t.visibilityMode||"PUBLIC";return he==="PUBLIC"?y.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-green-500/10 border border-green-500/30 rounded-full text-[10px] font-black text-green-400 uppercase tracking-widest shadow-[0_0_10px_rgba(34,197,94,0.2)]",children:[y.jsx(J4,{size:12}),y.jsx("span",{children:""})]}):he==="PRIVATE"?y.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-red-500/10 border border-red-500/30 rounded-full text-[10px] font-black text-red-400 uppercase tracking-widest shadow-[0_0_10px_rgba(239,68,68,0.2)]",children:[y.jsx(Qg,{size:12}),y.jsx("span",{children:""})]}):he==="CUSTOM"?y.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-blue-500/10 border border-blue-500/30 rounded-full text-[10px] font-black text-blue-400 uppercase tracking-widest shadow-[0_0_10px_rgba(59,130,246,0.2)]",children:[y.jsx(jl,{size:12}),y.jsx("span",{children:""})]}):null};return y.jsxs("div",{className:"p-4 pb-32 space-y-5 w-full max-w-full overflow-hidden",children:[U&&D6.createPortal(y.jsx(yj,{onClose:()=>I(!1)}),document.body),ke&&y.jsx(ea,{onClose:()=>Re(!1),children:y.jsxs("div",{className:"space-y-6 pb-4 text-center",children:[y.jsx("div",{className:"flex justify-center mb-4",children:y.jsx("div",{className:"bg-amber-500/10 p-4 rounded-full",children:y.jsx(za,{className:"w-12 h-12 text-amber-500"})})}),y.jsx("h3",{className:"text-xl font-black text-white",children:""}),y.jsxs("p",{className:"text-gray-300 font-bold",children:["ODO",y.jsx("br",{}),""]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[y.jsx("button",{onClick:()=>Re(!1),className:"bg-gray-700 text-white py-4 rounded-2xl font-black text-lg shadow-lg active:scale-95 transition-transform",children:""}),y.jsx("button",{onClick:je,className:"bg-amber-500 text-black py-4 rounded-2xl font-black text-lg shadow-lg active:scale-95 transition-transform",children:""})]})]})}),$e&&y.jsx(ea,{onClose:()=>Pe(!1),children:y.jsxs("div",{className:"space-y-6 pb-4 text-center",children:[y.jsx("h3",{className:"text-xl font-black text-white",children:""}),y.jsxs("div",{className:"flex items-center bg-gray-800 rounded-2xl p-5 border-2 border-blue-500 focus-within:border-blue-400 transition-all shadow-inner",children:[y.jsx(Fo,{className:"text-gray-500 w-8 h-8 mr-3"}),y.jsx("input",{type:"number",inputMode:"numeric",value:pe,onChange:ie=>Te(ie.target.value),placeholder:"ODO",className:"bg-transparent text-white text-[clamp(1.5rem,8vw,2.5rem)] font-black w-full outline-none text-center placeholder-gray-700"}),y.jsx("span",{className:"text-gray-500 font-bold ml-2",children:"km"})]}),y.jsx("button",{onClick:He,className:"w-full bg-amber-500 text-black py-4 rounded-2xl font-black text-xl shadow-xl active:scale-95 transition-transform",children:""})]})}),r&&y.jsxs("div",{className:"flex justify-between items-end px-2 mb-2",children:[y.jsxs("div",{className:"flex flex-col cursor-pointer active:scale-95 transition-transform",onClick:()=>I(!0),children:[y.jsx("span",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest",children:"Current Time"}),y.jsx("span",{className:"text-3xl font-black text-white leading-none font-mono",children:new Date(E).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("button",{onClick:()=>Pe(!0),className:"bg-gray-800 p-2 rounded-full border border-gray-700 text-gray-400 active:scale-95 transition-transform hover:text-white hover:border-gray-500",children:y.jsx(Fo,{size:20})}),y.jsx(ye,{})]})]}),!r&&y.jsxs("div",{className:"bg-gray-800 rounded-[28px] px-5 py-6 border-2 border-blue-500 shadow-2xl animate-in fade-in duration-300 space-y-6 w-full",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[y.jsx(Zn,{className:"w-6 h-6 text-amber-500"}),y.jsx("span",{className:"text-lg font-black tracking-widest uppercase text-gray-400 whitespace-nowrap",children:""})]}),y.jsx("button",{onClick:()=>Y(!0),className:"bg-indigo-500/10 border border-indigo-500/30 px-3 py-1.5 rounded-full min-w-0 flex-shrink cursor-pointer active:scale-95 transition-transform hover:bg-indigo-500/20",children:y.jsxs("span",{className:"text-xs font-black text-indigo-400 uppercase tracking-tighter whitespace-nowrap block truncate",children:[Bt(At.start),"  ",Bt(At.end)]})})]}),y.jsxs("div",{className:"flex justify-between items-end gap-2 w-full",children:[y.jsxs("div",{className:"flex-1 min-w-0 flex items-baseline text-white font-black tracking-tighter leading-none overflow-hidden",children:[y.jsx("span",{className:"text-[clamp(1.8rem,8vw,2.5rem)] mr-1 flex-shrink-0",children:""}),y.jsx("span",{className:"text-[clamp(2.5rem,12vw,4rem)] min-w-0 truncate",children:Math.round(t.totalSales).toLocaleString()})]}),y.jsxs("button",{onClick:()=>Y(!0),className:"text-right flex-shrink-0 cursor-pointer active:scale-95 transition-transform",children:[y.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-1 whitespace-nowrap",children:""}),y.jsxs("p",{className:"text-[clamp(1.8rem,8vw,2.5rem)] font-black text-amber-500 leading-none whitespace-nowrap",children:[ze," ",y.jsx("span",{className:"text-lg font-bold",children:""})]})]})]}),y.jsxs("div",{className:"bg-gray-800 rounded-2xl p-4 border-2 border-blue-500 flex justify-between items-center shadow-inner gap-3 cursor-pointer active:scale-95 transition-transform hover:border-blue-400",onClick:()=>Ze(!0),children:[y.jsxs("div",{className:"min-w-0",children:[y.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-1 whitespace-nowrap",children:" (1)"}),y.jsx("p",{className:"text-[clamp(1.6rem,8vw,2.2rem)] font-black text-white leading-none truncate",children:Rr(ht)})]}),y.jsx(g0,{className:"w-8 h-8 text-amber-500/10 flex-shrink-0"})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsx(D_,{progress:t.totalSales/(t.monthlyGoal||1)*100,color:"blue"}),y.jsxs("div",{onClick:()=>{B(t.monthlyGoal.toLocaleString()),G(!0)},className:"flex justify-between items-center text-base font-black text-gray-400 cursor-pointer active:scale-95 gap-3",children:[y.jsxs("span",{className:"whitespace-nowrap",children:[Math.round(t.totalSales/(t.monthlyGoal||1)*100),"% "]}),y.jsx("span",{className:"flex items-center gap-1 uppercase underline underline-offset-4 decoration-amber-500/50 decoration-2 truncate min-w-0 justify-end",children:y.jsxs("span",{className:"truncate",children:[" ",Rr(t.monthlyGoal)]})})]})]})]}),!r&&y.jsx(E1,{followingUsers:t.followingUsers||[]}),L&&y.jsx(ea,{onClose:()=>G(!1),children:y.jsxs("div",{className:"space-y-6 pb-4 text-center",children:[y.jsx("h3",{className:"text-xl font-black text-white",children:""}),y.jsxs("div",{className:"bg-gray-800 p-5 rounded-2xl border-2 border-blue-500 flex items-center shadow-inner",children:[y.jsx("span",{className:"text-blue-400 font-black mr-2 text-3xl",children:""}),y.jsx("input",{type:"text",inputMode:"numeric",value:F,onChange:ie=>B($o(ie.target.value)),className:"bg-transparent text-white text-[clamp(2.2rem,10vw,3.5rem)] font-black w-full outline-none",autoFocus:!0})]}),y.jsx("button",{onClick:()=>{l(Cn(F)),G(!1)},className:"w-full bg-blue-600 py-4 rounded-2xl font-black text-xl text-white shadow-xl active:scale-95 transition-transform",children:""})]})}),V&&y.jsx(ea,{onClose:()=>O(!1),children:y.jsxs("div",{className:"space-y-6 pb-4 text-center",children:[y.jsx("h3",{className:"text-xl font-black text-white",children:""}),y.jsxs("div",{className:"bg-gray-900 p-5 rounded-2xl border-2 border-gray-700 flex items-center shadow-inner",children:[y.jsx("span",{className:"text-amber-500 font-black mr-2 text-3xl",children:""}),y.jsx("input",{type:"text",inputMode:"numeric",value:W,onChange:ie=>P($o(ie.target.value)),className:"bg-transparent text-white text-[clamp(2.2rem,10vw,3.5rem)] font-black w-full outline-none",autoFocus:!0})]}),y.jsx("button",{onClick:()=>{c(Cn(W)),O(!1)},className:"w-full bg-amber-500 text-black py-4 rounded-2xl font-black text-xl shadow-xl active:scale-95 transition-transform",children:""})]})}),Je&&y.jsx(ea,{onClose:()=>Ze(!1),children:y.jsxs("div",{className:"space-y-6 pb-4",children:[y.jsxs("div",{className:"text-center mb-6",children:[y.jsx("div",{className:"flex justify-center mb-4",children:y.jsx("div",{className:"bg-amber-500/10 p-4 rounded-full",children:y.jsx(Po,{className:"w-12 h-12 text-amber-500"})})}),y.jsx("h3",{className:"text-2xl font-black text-white mb-2",children:""}),y.jsx("p",{className:"text-sm text-gray-400 font-bold",children:""})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"bg-gradient-to-br from-blue-500/20 to-indigo-500/20 rounded-2xl p-5 border-2 border-blue-500/50 shadow-lg",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[y.jsx(g0,{className:"w-6 h-6 text-blue-400 flex-shrink-0"}),y.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:""})]}),y.jsxs("div",{className:"flex items-baseline text-white font-black leading-none",children:[y.jsx("span",{className:"text-2xl mr-1 text-blue-400",children:""}),y.jsx("span",{className:"text-[clamp(2rem,10vw,3rem)]",children:Math.round(Ve).toLocaleString()})]}),y.jsx("p",{className:"text-[10px] text-gray-500 font-bold mt-2 leading-tight",children:"    "})]}),y.jsxs("div",{className:"bg-gradient-to-br from-amber-500/20 to-orange-500/20 rounded-2xl p-5 border-2 border-amber-500/50 shadow-lg",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[y.jsx(Zn,{className:"w-6 h-6 text-amber-400 flex-shrink-0"}),y.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:""})]}),y.jsxs("div",{className:"flex items-baseline text-white font-black leading-none",children:[y.jsx("span",{className:"text-2xl mr-1 text-amber-400",children:""}),y.jsx("span",{className:"text-[clamp(2rem,10vw,3rem)]",children:Math.round(Ee).toLocaleString()})]}),y.jsx("p",{className:"text-[10px] text-gray-500 font-bold mt-2 leading-tight",children:"  "})]}),y.jsxs("div",{className:"bg-gradient-to-br from-red-500/20 to-pink-500/20 rounded-2xl p-5 border-2 border-red-500/50 shadow-lg",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[y.jsx(Po,{className:"w-6 h-6 text-red-400 flex-shrink-0"}),y.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:""})]}),y.jsxs("div",{className:"flex items-baseline text-white font-black leading-none",children:[y.jsx("span",{className:"text-2xl mr-1 text-red-400",children:""}),y.jsx("span",{className:"text-[clamp(2rem,10vw,3rem)]",children:ht>0?Math.round(ht).toLocaleString():"---"})]}),y.jsx("p",{className:"text-[10px] text-gray-500 font-bold mt-2 leading-tight",children:" -  "})]})]}),y.jsx("button",{onClick:()=>Ze(!1),className:"w-full bg-amber-500 text-black py-4 rounded-2xl font-black text-xl shadow-xl active:scale-95 transition-transform mt-6",children:""})]})}),r?y.jsxs("div",{className:"space-y-5 w-full",children:[y.jsxs("div",{className:"bg-gray-800 rounded-[28px] p-5 border-2 border-blue-500 shadow-2xl w-full",children:[y.jsxs("div",{className:"flex justify-between items-start mb-5 gap-3",children:[y.jsxs("div",{className:"flex flex-col min-w-0 cursor-pointer active:opacity-70 transition-opacity",onClick:h,children:[y.jsxs("div",{className:"flex items-center gap-2 whitespace-nowrap",children:[y.jsxs("span",{className:"text-lg font-black text-gray-400 uppercase flex items-center gap-2",children:[y.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full animate-pulse shadow-[0_0_12px_#22C55E]"})," "]}),y.jsx("span",{className:"text-base font-bold text-white/90 font-mono underline decoration-dotted decoration-gray-600 underline-offset-4",children:Oe})]}),y.jsxs("span",{className:"text-xs text-gray-600 font-bold mt-1 tracking-widest uppercase truncate",children:[wt," (",et?M_(et):"",")"]})]}),y.jsx("button",{onClick:s,className:"bg-red-500/10 text-red-500 text-sm font-black py-2.5 px-5 rounded-full border border-red-500/30 active:scale-95 shadow-sm whitespace-nowrap flex-shrink-0",children:""})]}),y.jsxs("div",{className:"mb-6",children:[y.jsxs("div",{className:"flex items-baseline text-white font-black tracking-tighter leading-none min-w-0 w-full overflow-hidden",children:[y.jsx("span",{className:"text-[clamp(2.2rem,8vw,3rem)] mr-1 text-amber-500 font-black flex-shrink-0",children:""}),y.jsx("span",{className:"text-[clamp(3.5rem,12vw,5.5rem)] min-w-0 truncate",children:We.toLocaleString()})]}),y.jsxs("div",{className:"mt-3 text-lg font-black text-gray-500 flex flex-wrap items-center gap-x-4 gap-y-2",children:[y.jsxs("span",{className:"flex items-center gap-2 overflow-hidden min-w-0",children:[y.jsx("span",{className:"text-[10px] bg-gray-800 px-2 py-1 rounded text-gray-400 font-black uppercase tracking-tighter whitespace-nowrap flex-shrink-0",children:""}),y.jsx("span",{className:"truncate",children:Rr(bt)})]}),y.jsxs("span",{className:"flex items-center gap-2 overflow-hidden min-w-0",children:[y.jsx("span",{className:"text-[10px] bg-gray-800 px-2 py-1 rounded text-gray-400 font-black uppercase tracking-tighter whitespace-nowrap flex-shrink-0",children:""}),y.jsxs("span",{className:`truncate font-black ${pt>=0?"text-green-500":"text-red-500"}`,children:[pt>=0?"+":"",Math.round(pt).toLocaleString()]})]})]})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsx(D_,{progress:ft,color:"amber"}),y.jsxs("div",{onClick:()=>{P(r.dailyGoal.toLocaleString()),O(!0)},className:"flex justify-between items-center text-sm font-black text-gray-500 active:scale-95 gap-3",children:[y.jsxs("span",{className:"whitespace-nowrap flex-shrink-0",children:[Math.round(ft),"% "]}),y.jsx("span",{className:"flex items-center gap-1 uppercase underline decoration-amber-500/50 decoration-2 underline-offset-4 truncate min-w-0 justify-end",children:y.jsxs("span",{className:"truncate",children:[" ",Rr(r.dailyGoal)]})})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-6 mb-6",children:[y.jsxs("div",{className:"bg-gray-800 rounded-2xl p-3 flex flex-col items-center justify-center border-2 border-blue-400 shadow-inner min-h-[110px]",children:[y.jsx(QE,{className:"w-6 h-6 text-blue-400 mb-2"}),y.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase mb-1 tracking-widest whitespace-nowrap",children:""}),y.jsxs("p",{className:"text-[clamp(1.4rem,6vw,2rem)] font-black text-white leading-none truncate w-full text-center",children:["",Math.round(Ce).toLocaleString()]})]}),y.jsxs("div",{className:"bg-gray-800 rounded-2xl p-3 flex flex-col items-center justify-center border-2 border-amber-400 shadow-inner min-h-[110px]",children:[y.jsx(Y4,{className:"w-6 h-6 text-amber-400 mb-2"}),y.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase mb-1 tracking-widest whitespace-nowrap",children:""}),y.jsxs("p",{className:"text-[clamp(1.8rem,7vw,2.5rem)] font-black text-white leading-none whitespace-nowrap",children:[Ue.length,y.jsx("span",{className:"text-sm font-bold text-gray-400 ml-1",children:""})]})]}),y.jsxs("div",{className:"bg-gray-800 rounded-2xl p-3 flex flex-col items-center justify-center border-2 border-red-500 shadow-inner min-h-[110px] cursor-pointer active:scale-95 transition-transform hover:border-red-400",onClick:()=>Ze(!0),children:[y.jsx(Oo,{className:"w-6 h-6 text-red-500 mb-2"}),y.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase mb-1 tracking-widest whitespace-nowrap",children:" / "}),y.jsx("p",{className:"text-[clamp(1.4rem,6vw,2rem)] font-black text-white leading-none truncate w-full text-center",children:ht>0?`${Math.round(ht).toLocaleString()}`:"---"})]}),y.jsxs("div",{className:"bg-gray-800 rounded-2xl p-3 flex flex-col items-center justify-center border-2 border-red-500 shadow-inner min-h-[110px] cursor-pointer active:bg-gray-700 transition-colors",onClick:()=>{P(r.dailyGoal.toLocaleString()),O(!0)},children:[y.jsx(Po,{className:"w-6 h-6 text-red-500 mb-2"}),y.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase mb-1 tracking-widest whitespace-nowrap",children:""}),y.jsxs("p",{className:"text-[clamp(1.4rem,6vw,2rem)] font-black text-white leading-none truncate w-full text-center",children:["",rt.toLocaleString()]})]})]}),e.isActive?y.jsxs("div",{className:"bg-gray-800 rounded-2xl p-5 border-2 border-blue-500 shadow-2xl mb-4 animate-in fade-in",children:[y.jsxs("div",{className:"flex flex-col items-center mb-5",children:[y.jsxs("span",{className:"text-indigo-400 font-black uppercase tracking-widest text-sm flex items-center gap-2 mb-2",children:[y.jsx(Yv,{className:"w-5 h-5 animate-bounce"})," "]}),y.jsx("span",{className:"text-5xl font-black text-white font-mono tracking-wider",children:lt(Ye)})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[y.jsxs("button",{onClick:Ie,className:"bg-green-600 text-white py-4 rounded-xl font-black text-sm active:scale-95 shadow-lg flex flex-col items-center justify-center gap-1 leading-none",children:[y.jsx(Qv,{className:"w-6 h-6"})," ()"]}),y.jsxs("button",{onClick:Ne,className:"bg-gray-800 text-gray-300 py-4 rounded-xl font-black text-sm active:scale-95 shadow-lg border border-gray-700 flex flex-col items-center justify-center gap-1 leading-none",children:[y.jsx($T,{className:"w-6 h-6 text-gray-500"})," ()"]})]})]}):y.jsxs("div",{className:"flex gap-3 h-20",children:[y.jsxs("button",{onClick:u,className:"w-1/3 bg-gray-800 text-indigo-300 rounded-[24px] flex flex-col items-center justify-center gap-1 shadow-lg active:scale-95 transition-transform border-2 border-indigo-300",children:[y.jsx(Yv,{className:"w-6 h-6"}),y.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:""})]}),y.jsxs("button",{onClick:()=>i(),className:"flex-1 bg-[#EAB308] text-black rounded-[24px] font-black text-2xl flex items-center justify-center gap-3 shadow-xl active:scale-95 transition-transform",children:[y.jsx(Qv,{className:"w-8 h-8"})," "]})]})]}),y.jsxs("div",{className:"space-y-4 w-full",children:[y.jsx(E1,{followingUsers:t.followingUsers||[]}),y.jsx("div",{className:"flex flex-col gap-3",children:y.jsxs("h3",{className:"text-lg font-black px-2 text-white flex justify-between items-center tracking-tight italic uppercase flex-wrap gap-2",children:[y.jsx("span",{className:"whitespace-nowrap",children:""}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>A(!T),className:`text-[10px] px-3 py-1.5 rounded-full flex items-center gap-1.5 font-black active:scale-95 shadow-sm border transition-all whitespace-nowrap ${T?"bg-amber-500 text-black border-amber-400":"bg-gray-800 text-gray-400 border-gray-700"}`,children:""}),y.jsxs("button",{onClick:()=>S(!C),className:`text-[10px] px-3 py-1.5 rounded-full flex items-center gap-1.5 font-black active:scale-95 shadow-sm border transition-all whitespace-nowrap ${C?"bg-amber-500 text-black border-amber-400":"bg-gray-800 text-gray-400 border-gray-700"}`,children:[y.jsx(mE,{className:"w-3.5 h-3.5"})," "]}),y.jsxs("button",{onClick:()=>D(!N),className:"text-[10px] bg-gray-800 text-gray-400 px-3 py-1.5 rounded-full flex items-center gap-1.5 font-black active:scale-95 shadow-sm border border-gray-700 whitespace-nowrap",children:[y.jsx(B1,{className:"w-3.5 h-3.5"})," ",N?"":""]})]})]})}),T?y.jsx("div",{className:"bg-gray-900 rounded-lg border-2 border-gray-500 overflow-hidden shadow-sm",children:y.jsxs("table",{className:"w-full border-collapse",children:[y.jsxs("colgroup",{children:[y.jsx("col",{style:{width:"40px"}}),y.jsx("col",{style:{width:"85px"}}),y.jsx("col",{style:{width:"auto",minWidth:"130px",maxWidth:"170px"}}),y.jsx("col",{style:{width:"95px"}})]}),y.jsx("thead",{children:y.jsxs("tr",{className:"bg-orange-500 text-white",children:[y.jsx("th",{className:"py-2 px-1 border-r-2 border-orange-600 text-center text-base font-black",children:""}),y.jsx("th",{className:"py-2 px-1 border-r-2 border-orange-600 text-center text-base font-black",children:""}),y.jsx("th",{className:"py-2 px-2 border-r-2 border-orange-600 text-center text-base font-black",children:"/"}),y.jsx("th",{className:"py-2 px-1 text-center text-base font-black",children:""})]})}),y.jsx("tbody",{children:Mt.length===0?y.jsx("tr",{children:y.jsx("td",{colSpan:4,className:"p-8 text-center text-gray-400 font-black uppercase tracking-widest text-sm",children:""})}):Mt.map((ie,fe)=>{const he=N?Ue.length-fe:fe+1;return y.jsx(au,{record:ie,index:he,isDetailed:C,isSlim:T,customLabels:t.customPaymentLabels||{},businessStartHour:t.businessStartHour,onClick:()=>a(ie)},ie.id)})})]})}):y.jsx("div",{className:"space-y-3 w-full",children:Mt.length===0?y.jsx("div",{className:"bg-gray-800 p-8 rounded-[28px] border-2 border-blue-500 text-center text-gray-600 font-black uppercase tracking-widest text-sm",children:""}):Mt.map((ie,fe)=>{const he=N?Ue.length-fe:fe+1;return y.jsxs("div",{className:"relative",children:[ie.amount===0&&y.jsx("div",{className:"absolute -top-2 -right-1 z-10",children:y.jsx("span",{className:"bg-red-500 text-white text-[10px] font-black px-2 py-1 rounded-full shadow-lg border border-red-400 animate-pulse",children:""})}),y.jsx("div",{className:ie.amount===0?"ring-2 ring-red-500 ring-offset-2 ring-offset-[#0A0E14] rounded-[24px]":"",children:y.jsx(au,{record:ie,index:he,isDetailed:C,isSlim:T,customLabels:t.customPaymentLabels||{},businessStartHour:t.businessStartHour,onClick:()=>a(ie)})})]},ie.id)})}),Ue.length>0&&y.jsx("div",{className:"mt-4",children:y.jsx($b,{breakdown:yt,counts:nt,customLabels:t.customPaymentLabels||{},enabledMethods:t.enabledPaymentMethods})})]})]}):y.jsxs("div",{className:"bg-gray-800 rounded-[32px] p-6 border-2 border-blue-500 text-center space-y-6 shadow-2xl relative overflow-hidden",children:[y.jsxs("div",{className:"relative w-40 h-40 mx-auto mb-2 animate-floating z-10",children:[y.jsx("div",{className:"absolute inset-0 bg-amber-500 rounded-full blur-[50px] opacity-20 mix-blend-screen animate-pulse"}),y.jsx("img",{src:_j,alt:"Taxi",className:"w-full h-full object-contain",style:{filter:"brightness(1.05) saturate(1.2) drop-shadow(0 0 10px rgba(245, 158, 11, 0.5))"}})]}),y.jsxs("div",{className:"space-y-2 relative z-10",children:[y.jsx("h3",{className:"text-[clamp(2.2rem,10vw,3rem)] font-black text-white tracking-tight",children:""}),y.jsx("p",{className:"text-lg text-gray-500 font-black uppercase tracking-widest",children:wt})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("p",{className:"text-[18px] font-black text-gray-500 uppercase tracking-widest text-left pl-1",children:""}),y.jsxs("div",{className:"flex items-center bg-gray-800 rounded-2xl p-5 border-2 border-blue-500 focus-within:border-blue-400 transition-all shadow-inner",children:[y.jsx("span",{className:"text-amber-500 font-black text-3xl mr-2",children:""}),y.jsx("input",{type:"text",inputMode:"numeric",value:w,onChange:ie=>v($o(ie.target.value)),className:"bg-transparent text-white text-[clamp(2.2rem,10vw,3.5rem)] font-black w-full outline-none text-center"})]})]}),y.jsxs("div",{className:"space-y-1",children:[y.jsx("p",{className:"text-[18px] font-black text-gray-500 uppercase tracking-widest text-left pl-1",children:""}),y.jsxs("div",{className:"flex items-center bg-gray-800 rounded-2xl p-5 border-2 border-blue-500 focus-within:border-blue-400 transition-all shadow-inner",children:[y.jsx(Fo,{className:"text-gray-500 w-8 h-8 mr-3"}),y.jsx("input",{type:"number",inputMode:"numeric",value:pe,onChange:ie=>Te(ie.target.value),placeholder:"ODO",className:"bg-transparent text-white text-[clamp(1.5rem,8vw,2.5rem)] font-black w-full outline-none text-center placeholder-gray-700"}),y.jsx("span",{className:"text-gray-500 font-bold ml-2",children:"km"})]})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("p",{className:"text-[18px] font-black text-gray-400 uppercase tracking-widest",children:""}),y.jsx("div",{className:"grid grid-cols-4 gap-3",children:[8,10,12,14].map(ie=>y.jsxs("button",{onClick:()=>R(ie),className:`py-3 rounded-xl font-black text-xl border-2 transition-all ${k===ie?"bg-amber-500 border-amber-400 text-black":"bg-gray-800 border-gray-700 text-gray-500"}`,children:[ie,"h"]},ie))}),y.jsxs("div",{className:"relative",children:[y.jsx("select",{value:k,onChange:ie=>R(parseInt(ie.target.value)),className:"w-full bg-gray-800 border-2 border-blue-500 rounded-2xl p-4 text-white text-lg font-black appearance-none focus:border-blue-400 outline-none",children:ce.map(ie=>y.jsxs("option",{value:ie,children:[ie," "]},ie))}),y.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-500",children:y.jsx(As,{className:"w-5 h-5"})})]}),y.jsxs("div",{className:"bg-gray-800 p-4 rounded-2xl flex items-center justify-between border-2 border-blue-500",children:[y.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase whitespace-nowrap",children:""}),y.jsx("span",{className:"text-xl font-black text-white",children:M_(Date.now()+k*36e5)})]})]}),y.jsx("button",{onClick:ot,className:"w-full bg-[#EAB308] text-black py-5 rounded-2xl font-black text-2xl shadow-xl active:scale-95 transition-transform",children:"   "})]}),Q&&y.jsx(ea,{onClose:()=>{g&&g({dutyDays:te}),Y(!1)},children:y.jsxs("div",{className:"bg-gray-800 p-5 rounded-3xl border-2 border-blue-500 shadow-inner w-full max-w-md",children:[y.jsxs("div",{className:"flex flex-col mb-4",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsxs("h3",{className:"text-xl font-black text-white flex items-center gap-2",children:[y.jsx(Oo,{className:"w-6 h-6 text-yellow-500"})," "]}),y.jsx("button",{onClick:()=>{g&&g({dutyDays:te}),Y(!1)},className:"text-gray-400 hover:text-white transition-colors",children:y.jsx(Vn,{className:"w-6 h-6"})})]}),y.jsxs("div",{className:"mt-4 bg-gray-800 rounded-xl p-4 border-2 border-orange-500/50",children:[y.jsx("div",{className:"text-sm text-gray-400 mb-1",children:""}),y.jsxs("div",{className:"text-2xl font-black text-white",children:[ge," "]})]}),y.jsxs("div",{className:"mt-4 flex items-center justify-between bg-gray-950 rounded-2xl p-2 border-2 border-gray-700",children:[y.jsx("button",{onClick:()=>{const ie=parseInt(re.toString()),fe=isNaN(ie)?20:ie,{start:he}=$t(ee,fe,ae),me=new Date(he);me.setMonth(me.getMonth()-1);const{start:Ae}=$t(me,fe,ae);q(Ae)},className:"p-3 text-gray-400 active:scale-90",children:y.jsx(Ha,{className:"w-6 h-6"})}),y.jsx("span",{className:"text-xl font-black text-white",children:de}),y.jsx("button",{onClick:()=>{const ie=parseInt(re.toString()),fe=isNaN(ie)?20:ie,{start:he}=$t(ee,fe,ae),me=new Date(he);me.setMonth(me.getMonth()+1);const{start:Ae}=$t(me,fe,ae);q(Ae)},className:"p-3 text-gray-400 active:scale-90",children:y.jsx(Us,{className:"w-6 h-6"})})]})]}),y.jsx("div",{className:"grid grid-cols-7 gap-2 mb-2",children:["","","","","","",""].map(ie=>y.jsx("div",{className:"text-center text-sm font-bold text-gray-400",children:ie},ie))}),y.jsx("div",{className:"grid grid-cols-7 gap-2",children:le.map(ie=>{const fe=new Date(ie);fe.setHours(ae,0,0,0);const he=It(fe.getTime(),ae),me=Bt(ie),Ae=te.includes(he),Le=It(Date.now(),ae),De=he===Le,Fe=he<Le,qe=ve[he]||!1,xt=Fe&&qe,vt=!Fe||!qe;return y.jsx("button",{onClick:()=>se(he),disabled:xt,className:`aspect-square rounded-xl flex items-center justify-center transition-all ${Fe&&qe?"bg-yellow-500 text-gray-900 font-black cursor-not-allowed":Fe&&!qe?"bg-gray-800/50 text-gray-500":Ae?"bg-orange-500 text-gray-900 font-black":"bg-gray-800 text-white font-bold hover:bg-gray-700"} ${De?"ring-2 ring-orange-500":""} ${vt?"active:scale-95":""}`,children:y.jsx("span",{className:"text-base",children:ie.getDate()})},me)})}),y.jsxs("button",{onClick:xe,className:"w-full mt-4 py-3 bg-gray-800 border border-gray-700 rounded-xl text-sm font-bold text-gray-400 hover:bg-gray-700 active:scale-95 transition-all flex items-center justify-center gap-2",children:[y.jsx(Oo,{className:"w-4 h-4"})," (20)"]}),y.jsx("button",{onClick:()=>{g&&g({dutyDays:te}),Y(!1)},className:"w-full mt-4 py-4 bg-orange-500 hover:bg-orange-600 rounded-xl text-base font-black text-white active:scale-95 transition-all shadow-lg",children:""})]})})]})};function qd(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Bg={exports:{}};/*! ExcelJS 19-10-2023 */var I_;function Tj(){return I_||(I_=1,(function(r,t){(function(e){r.exports=e()})((function(){return(function e(n,s,i){function a(o,u){if(!s[o]){if(!n[o]){var p=typeof qd=="function"&&qd;if(!u&&p)return p(o,!0);if(l)return l(o,!0);var h=new Error("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var d=s[o]={exports:{}};n[o][0].call(d.exports,(function(b){return a(n[o][1][b]||b)}),d,d.exports,e,n,s,i)}return s[o].exports}for(var l=typeof qd=="function"&&qd,c=0;c<i.length;c++)a(i[c]);return a})({1:[function(e,n,s){const i=e("fs"),a=e("fast-csv"),l=e("dayjs/plugin/customParseFormat"),c=e("dayjs/plugin/utc"),o=e("dayjs").extend(l).extend(c),u=e("../utils/stream-buf"),{fs:{exists:p}}=e("../utils/utils"),h={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};n.exports=class{constructor(d){this.workbook=d,this.worksheet=null}async readFile(d,b){if(b=b||{},!await p(d))throw new Error("File not found: "+d);const x=i.createReadStream(d),g=await this.read(x,b);return x.close(),g}read(d,b){return b=b||{},new Promise((x,g)=>{const w=this.workbook.addWorksheet(b.sheetName),v=b.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],k=b.map||function(L){if(L==="")return null;const G=Number(L);if(!Number.isNaN(G)&&G!==1/0)return G;const V=v.reduce((F,B)=>{if(F)return F;const W=o(L,B,!0);return W.isValid()?W:null},null);if(V)return new Date(V.valueOf());const O=h[L];return O!==void 0?O:L},R=a.parse(b.parserOptions).on("data",L=>{w.addRow(L.map(k))}).on("end",()=>{R.emit("worksheet",w)});R.on("worksheet",x).on("error",g),d.pipe(R)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(d,b){return new Promise((x,g)=>{b=b||{};const w=this.workbook.getWorksheet(b.sheetName||b.sheetId),v=a.format(b.formatterOptions);d.on("finish",()=>{x()}),v.on("error",g),v.pipe(d);const{dateFormat:k,dateUTC:R}=b,L=b.map||(O=>{if(O){if(O.text||O.hyperlink)return O.hyperlink||O.text||"";if(O.formula||O.result)return O.result||"";if(O instanceof Date)return k?R?o.utc(O).format(k):o(O).format(k):R?o.utc(O).format():o(O).format();if(O.error)return O.error;if(typeof O=="object")return JSON.stringify(O)}return O}),G=b.includeEmptyRows===void 0||b.includeEmptyRows;let V=1;w&&w.eachRow((O,F)=>{if(G)for(;V++<F-1;)v.write([]);const{values:B}=O;B.shift(),v.write(B.map(L)),V=F}),v.end()})}writeFile(d,b){const x={encoding:(b=b||{}).encoding||"utf8"},g=i.createWriteStream(d,x);return this.write(g,b)}async writeBuffer(d){const b=new u;return await this.write(b,d),b.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(e,n,s){const i=e("../utils/col-cache");class a{constructor(c,o){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=c,o)if(typeof o=="string"){const p=i.decodeAddress(o);this.nativeCol=p.col+u,this.nativeColOff=0,this.nativeRow=p.row+u,this.nativeRowOff=0}else o.nativeCol!==void 0?(this.nativeCol=o.nativeCol||0,this.nativeColOff=o.nativeColOff||0,this.nativeRow=o.nativeRow||0,this.nativeRowOff=o.nativeRowOff||0):o.col!==void 0?(this.col=o.col+u,this.row=o.row+u):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(c){return c instanceof a||c==null?c:new a(c)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(c){this.nativeCol=Math.floor(c),this.nativeColOff=Math.floor((c-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(c){this.nativeRow=Math.floor(c),this.nativeRowOff=Math.floor((c-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(c){this.nativeCol=c.nativeCol,this.nativeColOff=c.nativeColOff,this.nativeRow=c.nativeRow,this.nativeRowOff=c.nativeRowOff}}n.exports=a},{"../utils/col-cache":19}],3:[function(e,n,s){const i=e("../utils/col-cache"),a=e("../utils/under-dash"),l=e("./enums"),{slideFormula:c}=e("../utils/shared-formula"),o=e("./note");class u{constructor(d,b,x){if(!d||!b)throw new Error("A Cell needs a Row");this._row=d,this._column=b,i.validateAddress(x),this._address=x,this._value=p.create(u.Types.Null,this),this.style=this._mergeStyle(d.style,b.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(d){this.style.numFmt=d}get font(){return this.style.font}set font(d){this.style.font=d}get alignment(){return this.style.alignment}set alignment(d){this.style.alignment=d}get border(){return this.style.border}set border(d){this.style.border=d}get fill(){return this.style.fill}set fill(d){this.style.fill=d}get protection(){return this.style.protection}set protection(d){this.style.protection=d}_mergeStyle(d,b,x){const g=d&&d.numFmt||b&&b.numFmt;g&&(x.numFmt=g);const w=d&&d.font||b&&b.font;w&&(x.font=w);const v=d&&d.alignment||b&&b.alignment;v&&(x.alignment=v);const k=d&&d.border||b&&b.border;k&&(x.border=k);const R=d&&d.fill||b&&b.fill;R&&(x.fill=R);const L=d&&d.protection||b&&b.protection;return L&&(x.protection=L),x}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===u.Types.Merge}merge(d,b){this._value.release(),this._value=p.create(u.Types.Merge,this,d),b||(this.style=d.style)}unmerge(){this.type===u.Types.Merge&&(this._value.release(),this._value=p.create(u.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(d){return this._value.type===u.Types.Merge&&this._value.isMergedTo(d)}get master(){return this.type===u.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===u.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(d){this.type!==u.Types.Merge?(this._value.release(),this._value=p.create(p.getType(d),this,d)):this._value.master.value=d}get note(){return this._comment&&this._comment.note}set note(d){this._comment=new o(d)}get text(){return this._value.toString()}get html(){return a.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(d){this.type===u.Types.String&&(this._value=p.create(u.Types.Hyperlink,this,{text:this._value.value,hyperlink:d}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:d}=this._row;return{sheetName:d.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(d){this.names=[d]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(d){const{definedNames:b}=this.workbook;b.removeAllNames(this.fullAddress),d.forEach(x=>{b.addEx(this.fullAddress,x)})}addName(d){this.workbook.definedNames.addEx(this.fullAddress,d)}removeName(d){this.workbook.definedNames.removeEx(this.fullAddress,d)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(d){this._dataValidations.add(this.address,d)}get model(){const{model:d}=this._value;return d.style=this.style,this._comment&&(d.comment=this._comment.model),d}set model(d){if(this._value.release(),this._value=p.create(d.type,this),this._value.model=d,d.comment)switch(d.comment.type){case"note":this._comment=o.fromModel(d.comment)}d.style?this.style=d.style:this.style={}}}u.Types=l.ValueType;const p={getType:h=>h==null?u.Types.Null:h instanceof String||typeof h=="string"?u.Types.String:typeof h=="number"?u.Types.Number:typeof h=="boolean"?u.Types.Boolean:h instanceof Date?u.Types.Date:h.text&&h.hyperlink?u.Types.Hyperlink:h.formula||h.sharedFormula?u.Types.Formula:h.richText?u.Types.RichText:h.sharedString?u.Types.SharedString:h.error?u.Types.Error:u.Types.JSON,types:[{t:u.Types.Null,f:class{constructor(h){this.model={address:h.address,type:u.Types.Null}}get value(){return null}set value(h){}get type(){return u.Types.Null}get effectiveType(){return u.Types.Null}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return""}release(){}toString(){return""}}},{t:u.Types.Number,f:class{constructor(h,d){this.model={address:h.address,type:u.Types.Number,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.Number}get effectiveType(){return u.Types.Number}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.String,f:class{constructor(h,d){this.model={address:h.address,type:u.Types.String,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.String}get effectiveType(){return u.Types.String}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:u.Types.Date,f:class{constructor(h,d){this.model={address:h.address,type:u.Types.Date,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.Date}get effectiveType(){return u.Types.Date}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.Hyperlink,f:class{constructor(h,d){this.model={address:h.address,type:u.Types.Hyperlink,text:d?d.text:void 0,hyperlink:d?d.hyperlink:void 0},d&&d.tooltip&&(this.model.tooltip=d.tooltip)}get value(){const h={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(h.tooltip=this.model.tooltip),h}set value(h){this.model={text:h.text,hyperlink:h.hyperlink},h.tooltip&&(this.model.tooltip=h.tooltip)}get text(){return this.model.text}set text(h){this.model.text=h}get hyperlink(){return this.model.hyperlink}set hyperlink(h){this.model.hyperlink=h}get type(){return u.Types.Hyperlink}get effectiveType(){return u.Types.Hyperlink}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:u.Types.Formula,f:class{constructor(h,d){this.cell=h,this.model={address:h.address,type:u.Types.Formula,shareType:d?d.shareType:void 0,ref:d?d.ref:void 0,formula:d?d.formula:void 0,sharedFormula:d?d.sharedFormula:void 0,result:d?d.result:void 0}}_copyModel(h){const d={},b=x=>{const g=h[x];g&&(d[x]=g)};return b("formula"),b("result"),b("ref"),b("shareType"),b("sharedFormula"),d}get value(){return this._copyModel(this.model)}set value(h){this.model=this._copyModel(h)}validate(h){switch(p.getType(h)){case u.Types.Null:case u.Types.String:case u.Types.Number:case u.Types.Date:break;case u.Types.Hyperlink:case u.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(h){this.model.formula=h}get formulaType(){return this.model.formula?l.FormulaType.Master:this.model.sharedFormula?l.FormulaType.Shared:l.FormulaType.None}get result(){return this.model.result}set result(h){this.model.result=h}get type(){return u.Types.Formula}get effectiveType(){const h=this.model.result;return h==null?l.ValueType.Null:h instanceof String||typeof h=="string"?l.ValueType.String:typeof h=="number"?l.ValueType.Number:h instanceof Date?l.ValueType.Date:h.text&&h.hyperlink?l.ValueType.Hyperlink:h.formula?l.ValueType.Formula:l.ValueType.Null}get address(){return this.model.address}set address(h){this.model.address=h}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:h}=this.cell,d=h.findCell(this.model.sharedFormula);this._translatedFormula=d&&c(d.formula,d.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:u.Types.Merge,f:class{constructor(h,d){this.model={address:h.address,type:u.Types.Merge,master:d?d.address:void 0},this._master=d,d&&d.addMergeRef()}get value(){return this._master.value}set value(h){h instanceof u?(this._master&&this._master.releaseMergeRef(),h.addMergeRef(),this._master=h):this._master.value=h}isMergedTo(h){return h===this._master}get master(){return this._master}get type(){return u.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:u.Types.JSON,f:class{constructor(h,d){this.model={address:h.address,type:u.Types.String,value:JSON.stringify(d),rawValue:d}}get value(){return this.model.rawValue}set value(h){this.model.rawValue=h,this.model.value=JSON.stringify(h)}get type(){return u.Types.String}get effectiveType(){return u.Types.String}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:u.Types.SharedString,f:class{constructor(h,d){this.model={address:h.address,type:u.Types.SharedString,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.SharedString}get effectiveType(){return u.Types.SharedString}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.RichText,f:class{constructor(h,d){this.model={address:h.address,type:u.Types.String,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}toString(){return this.model.value.richText.map(h=>h.text).join("")}get type(){return u.Types.RichText}get effectiveType(){return u.Types.RichText}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:u.Types.Boolean,f:class{constructor(h,d){this.model={address:h.address,type:u.Types.Boolean,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.Boolean}get effectiveType(){return u.Types.Boolean}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.Error,f:class{constructor(h,d){this.model={address:h.address,type:u.Types.Error,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.Error}get effectiveType(){return u.Types.Error}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((h,d)=>(h[d.t]=d.f,h),[]),create(h,d,b){const x=this.types[h];if(!x)throw new Error("Could not create Value of type "+h);return new x(d,b)}};n.exports=u},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(e,n,s){const i=e("../utils/under-dash"),a=e("./enums"),l=e("../utils/col-cache");class c{constructor(u,p,h){this._worksheet=u,this._number=p,h!==!1&&(this.defn=h)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return l.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(u){u?(this.key=u.key,this.width=u.width!==void 0?u.width:9,this.outlineLevel=u.outlineLevel,u.style?this.style=u.style:this.style={},this.header=u.header,this._hidden=!!u.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(u){u!==void 0?(this._header=u,this.headers.forEach((p,h)=>{this._worksheet.getCell(h+1,this.number).value=p})):this._header=void 0}get key(){return this._key}set key(u){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=u,u&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(u){this._hidden=u}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(u){this._outlineLevel=u}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(u){return this.width===u.width&&this.hidden===u.hidden&&this.outlineLevel===u.outlineLevel&&i.isEqual(this.style,u.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const u=this.style;return!u||!(u.font||u.numFmt||u.alignment||u.border||u.fill||u.protection)}get headerCount(){return this.headers.length}eachCell(u,p){const h=this.number;p||(p=u,u=null),this._worksheet.eachRow(u,(d,b)=>{p(d.getCell(h),b)})}get values(){const u=[];return this.eachCell((p,h)=>{p&&p.type!==a.ValueType.Null&&(u[h]=p.value)}),u}set values(u){if(!u)return;const p=this.number;let h=0;u.hasOwnProperty("0")&&(h=1),u.forEach((d,b)=>{this._worksheet.getCell(b+h,p).value=d})}_applyStyle(u,p){return this.style[u]=p,this.eachCell(h=>{h[u]=p}),p}get numFmt(){return this.style.numFmt}set numFmt(u){this._applyStyle("numFmt",u)}get font(){return this.style.font}set font(u){this._applyStyle("font",u)}get alignment(){return this.style.alignment}set alignment(u){this._applyStyle("alignment",u)}get protection(){return this.style.protection}set protection(u){this._applyStyle("protection",u)}get border(){return this.style.border}set border(u){this._applyStyle("border",u)}get fill(){return this.style.fill}set fill(u){this._applyStyle("fill",u)}static toModel(u){const p=[];let h=null;return u&&u.forEach((d,b)=>{d.isDefault?h&&(h=null):h&&d.equivalentTo(h)?h.max=b+1:(h={min:b+1,max:b+1,width:d.width!==void 0?d.width:9,style:d.style,isCustomWidth:d.isCustomWidth,hidden:d.hidden,outlineLevel:d.outlineLevel,collapsed:d.collapsed},p.push(h))}),p.length?p:void 0}static fromModel(u,p){const h=[];let d=1,b=0;for(p=(p=p||[]).sort((function(x,g){return x.min-g.min}));b<p.length;){const x=p[b++];for(;d<x.min;)h.push(new c(u,d++));for(;d<=x.max;)h.push(new c(u,d++,x))}return h.length?h:null}}n.exports=c},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(e,n,s){n.exports=class{constructor(i){this.model=i||{}}add(i,a){return this.model[i]=a}find(i){return this.model[i]}remove(i){this.model[i]=void 0}}},{}],6:[function(e,n,s){const i=e("../utils/under-dash"),a=e("../utils/col-cache"),l=e("../utils/cell-matrix"),c=e("./range"),o=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;n.exports=class{constructor(){this.matrixMap={}}getMatrix(u){return this.matrixMap[u]||(this.matrixMap[u]=new l)}add(u,p){const h=a.decodeEx(u);this.addEx(h,p)}addEx(u,p){const h=this.getMatrix(p);if(u.top)for(let d=u.left;d<=u.right;d++)for(let b=u.top;b<=u.bottom;b++){const x={sheetName:u.sheetName,address:a.n2l(d)+b,row:b,col:d};h.addCellEx(x)}else h.addCellEx(u)}remove(u,p){const h=a.decodeEx(u);this.removeEx(h,p)}removeEx(u,p){this.getMatrix(p).removeCellEx(u)}removeAllNames(u){i.each(this.matrixMap,p=>{p.removeCellEx(u)})}forEach(u){i.each(this.matrixMap,(p,h)=>{p.forEach(d=>{u(h,d)})})}getNames(u){return this.getNamesEx(a.decodeEx(u))}getNamesEx(u){return i.map(this.matrixMap,(p,h)=>p.findCellEx(u)&&h).filter(Boolean)}_explore(u,p){p.mark=!1;const{sheetName:h}=p,d=new c(p.row,p.col,p.row,p.col,h);let b,x;function g(v,k){const R=u.findCellAt(h,v,p.col);return!(!R||!R.mark)&&(d[k]=v,R.mark=!1,!0)}for(x=p.row-1;g(x,"top");x--);for(x=p.row+1;g(x,"bottom");x++);function w(v,k){const R=[];for(x=d.top;x<=d.bottom;x++){const L=u.findCellAt(h,x,v);if(!L||!L.mark)return!1;R.push(L)}d[k]=v;for(let L=0;L<R.length;L++)R[L].mark=!1;return!0}for(b=p.col-1;w(b,"left");b--);for(b=p.col+1;w(b,"right");b++);return d}getRanges(u,p){return(p=p||this.matrixMap[u])?(p.forEach(h=>{h.mark=!0}),{name:u,ranges:p.map(h=>h.mark&&this._explore(p,h)).filter(Boolean).map(h=>h.$shortRange)}):{name:u,ranges:[]}}normaliseMatrix(u,p){u.forEachInSheet(p,(h,d,b)=>{h&&(h.row===d&&h.col===b||(h.row=d,h.col=b,h.address=a.n2l(b)+d))})}spliceRows(u,p,h,d){i.each(this.matrixMap,b=>{b.spliceRows(u,p,h,d),this.normaliseMatrix(b,u)})}spliceColumns(u,p,h,d){i.each(this.matrixMap,b=>{b.spliceColumns(u,p,h,d),this.normaliseMatrix(b,u)})}get model(){return i.map(this.matrixMap,(u,p)=>this.getRanges(p,u)).filter(u=>u.ranges.length)}set model(u){const p=this.matrixMap={};u.forEach(h=>{const d=p[h.name]=new l;h.ranges.forEach(b=>{o.test(b.split("!").pop()||"")&&d.addCell(b)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(e,n,s){n.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(e,n,s){const i=e("../utils/col-cache"),a=e("./anchor");n.exports=class{constructor(l,c){this.worksheet=l,this.model=c}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(l){let{type:c,imageId:o,range:u,hyperlinks:p}=l;if(this.type=c,this.imageId=o,c==="image")if(typeof u=="string"){const h=i.decode(u);this.range={tl:new a(this.worksheet,{col:h.left,row:h.top},-1),br:new a(this.worksheet,{col:h.right,row:h.bottom},0),editAs:"oneCell"}}else this.range={tl:new a(this.worksheet,u.tl,0),br:u.br&&new a(this.worksheet,u.br,0),ext:u.ext,editAs:u.editAs,hyperlinks:p||u.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(e,n,s){const i=e("../utils/under-dash");class a{constructor(c){this.note=c}get model(){let c=null;switch(typeof this.note){case"string":c={type:"note",note:{texts:[{text:this.note}]}};break;default:c={type:"note",note:this.note}}return i.deepMerge({},a.DEFAULT_CONFIGS,c)}set model(c){const{note:o}=c,{texts:u}=o;u.length===1&&Object.keys(u[0]).length===1?this.note=u[0].text:this.note=o}static fromModel(c){const o=new a;return o.model=c,o}}a.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},n.exports=a},{"../utils/under-dash":26}],10:[function(e,n,s){const i=e("../utils/col-cache");class a{constructor(){this.decode(arguments)}setTLBR(c,o,u,p,h){if(arguments.length<4){const d=i.decodeAddress(c),b=i.decodeAddress(o);this.model={top:Math.min(d.row,b.row),left:Math.min(d.col,b.col),bottom:Math.max(d.row,b.row),right:Math.max(d.col,b.col),sheetName:u},this.setTLBR(d.row,d.col,b.row,b.col,h)}else this.model={top:Math.min(c,u),left:Math.min(o,p),bottom:Math.max(c,u),right:Math.max(o,p),sheetName:h}}decode(c){switch(c.length){case 5:this.setTLBR(c[0],c[1],c[2],c[3],c[4]);break;case 4:this.setTLBR(c[0],c[1],c[2],c[3]);break;case 3:this.setTLBR(c[0],c[1],c[2]);break;case 2:this.setTLBR(c[0],c[1]);break;case 1:{const o=c[0];if(o instanceof a)this.model={top:o.model.top,left:o.model.left,bottom:o.model.bottom,right:o.model.right,sheetName:o.sheetName};else if(o instanceof Array)this.decode(o);else if(o.top&&o.left&&o.bottom&&o.right)this.model={top:o.top,left:o.left,bottom:o.bottom,right:o.right,sheetName:o.sheetName};else{const u=i.decodeEx(o);u.top?this.model={top:u.top,left:u.left,bottom:u.bottom,right:u.right,sheetName:u.sheetName}:this.model={top:u.row,left:u.col,bottom:u.row,right:u.col,sheetName:u.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+c.length)}}get top(){return this.model.top||1}set top(c){this.model.top=c}get left(){return this.model.left||1}set left(c){this.model.left=c}get bottom(){return this.model.bottom||1}set bottom(c){this.model.bottom=c}get right(){return this.model.right||1}set right(c){this.model.right=c}get sheetName(){return this.model.sheetName}set sheetName(c){this.model.sheetName=c}get _serialisedSheetName(){const{sheetName:c}=this.model;return c?/^[a-zA-Z0-9]*$/.test(c)?c+"!":`'${c}'!`:""}expand(c,o,u,p){(!this.model.top||c<this.top)&&(this.top=c),(!this.model.left||o<this.left)&&(this.left=o),(!this.model.bottom||u>this.bottom)&&(this.bottom=u),(!this.model.right||p>this.right)&&(this.right=p)}expandRow(c){if(c){const{dimensions:o,number:u}=c;o&&this.expand(u,o.min,u,o.max)}}expandToAddress(c){const o=i.decodeEx(c);this.expand(o.row,o.col,o.row,o.col)}get tl(){return i.n2l(this.left)+this.top}get $t$l(){return`$${i.n2l(this.left)}$${this.top}`}get br(){return i.n2l(this.right)+this.bottom}get $b$r(){return`$${i.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(c){return(!c.sheetName||!this.sheetName||c.sheetName===this.sheetName)&&!(c.bottom<this.top)&&!(c.top>this.bottom)&&!(c.right<this.left)&&!(c.left>this.right)}contains(c){const o=i.decodeEx(c);return this.containsEx(o)}containsEx(c){return(!c.sheetName||!this.sheetName||c.sheetName===this.sheetName)&&c.row>=this.top&&c.row<=this.bottom&&c.col>=this.left&&c.col<=this.right}forEachAddress(c){for(let o=this.left;o<=this.right;o++)for(let u=this.top;u<=this.bottom;u++)c(i.encodeAddress(u,o),u,o)}}n.exports=a},{"../utils/col-cache":19}],11:[function(e,n,s){const i=e("../utils/under-dash"),a=e("./enums"),l=e("../utils/col-cache"),c=e("./cell");n.exports=class{constructor(o,u){this._worksheet=o,this._number=u,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(o){return this._cells[o-1]}getCellEx(o){let u=this._cells[o.col-1];if(!u){const p=this._worksheet.getColumn(o.col);u=new c(this,p,o.address),this._cells[o.col-1]=u}return u}getCell(o){if(typeof o=="string"){const u=this._worksheet.getColumnKey(o);o=u?u.number:l.l2n(o)}return this._cells[o-1]||this.getCellEx({address:l.encodeAddress(this._number,o),row:this._number,col:o})}splice(o,u){const p=o+u;for(var h=arguments.length,d=new Array(h>2?h-2:0),b=2;b<h;b++)d[b-2]=arguments[b];const x=d.length-u,g=this._cells.length;let w,v,k;if(x<0)for(w=o+d.length;w<=g;w++)k=this._cells[w-1],v=this._cells[w-x-1],v?(k=this.getCell(w),k.value=v.value,k.style=v.style,k._comment=v._comment):k&&(k.value=null,k.style={},k._comment=void 0);else if(x>0)for(w=g;w>=p;w--)v=this._cells[w-1],v?(k=this.getCell(w+x),k.value=v.value,k.style=v.style,k._comment=v._comment):this._cells[w+x-1]=void 0;for(w=0;w<d.length;w++)k=this.getCell(o+w),k.value=d[w],k.style={},k._comment=void 0}eachCell(o,u){if(u||(u=o,o=null),o&&o.includeEmpty){const p=this._cells.length;for(let h=1;h<=p;h++)u(this.getCell(h),h)}else this._cells.forEach((p,h)=>{p&&p.type!==a.ValueType.Null&&u(p,h+1)})}addPageBreak(o,u){const p=this._worksheet,h=Math.max(0,o-1)||0,d=Math.max(0,u-1)||16838,b={id:this._number,max:d,man:1};h&&(b.min=h),p.rowBreaks.push(b)}get values(){const o=[];return this._cells.forEach(u=>{u&&u.type!==a.ValueType.Null&&(o[u.col]=u.value)}),o}set values(o){if(this._cells=[],o)if(o instanceof Array){let u=0;o.hasOwnProperty("0")&&(u=1),o.forEach((p,h)=>{p!==void 0&&(this.getCellEx({address:l.encodeAddress(this._number,h+u),row:this._number,col:h+u}).value=p)})}else this._worksheet.eachColumnKey((u,p)=>{o[p]!==void 0&&(this.getCellEx({address:l.encodeAddress(this._number,u.number),row:this._number,col:u.number}).value=o[p])})}get hasValues(){return i.some(this._cells,o=>o&&o.type!==a.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let o=0;return this.eachCell(()=>{o++}),o}get dimensions(){let o=0,u=0;return this._cells.forEach(p=>{p&&p.type!==a.ValueType.Null&&((!o||o>p.col)&&(o=p.col),u<p.col&&(u=p.col))}),o>0?{min:o,max:u}:null}_applyStyle(o,u){return this.style[o]=u,this._cells.forEach(p=>{p&&(p[o]=u)}),u}get numFmt(){return this.style.numFmt}set numFmt(o){this._applyStyle("numFmt",o)}get font(){return this.style.font}set font(o){this._applyStyle("font",o)}get alignment(){return this.style.alignment}set alignment(o){this._applyStyle("alignment",o)}get protection(){return this.style.protection}set protection(o){this._applyStyle("protection",o)}get border(){return this.style.border}set border(o){this._applyStyle("border",o)}get fill(){return this.style.fill}set fill(o){this._applyStyle("fill",o)}get hidden(){return!!this._hidden}set hidden(o){this._hidden=o}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(o){this._outlineLevel=o}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const o=[];let u=0,p=0;return this._cells.forEach(h=>{if(h){const d=h.model;d&&((!u||u>h.col)&&(u=h.col),p<h.col&&(p=h.col),o.push(d))}}),this.height||o.length?{cells:o,number:this.number,min:u,max:p,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(o){if(o.number!==this._number)throw new Error("Invalid row number in model");let u;this._cells=[],o.cells.forEach(p=>{switch(p.type){case c.Types.Merge:break;default:{let h;if(p.address)h=l.decodeAddress(p.address);else if(u){const{row:d}=u,b=u.col+1;h={row:d,col:b,address:l.encodeAddress(d,b),$col$row:`$${l.n2l(b)}$${d}`}}u=h,this.getCellEx(h).model=p;break}}}),o.height?this.height=o.height:delete this.height,this.hidden=o.hidden,this.outlineLevel=o.outlineLevel||0,this.style=o.style&&JSON.parse(JSON.stringify(o.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(e,n,s){const i=e("../utils/col-cache");class a{constructor(c,o,u){this.table=c,this.column=o,this.index=u}_set(c,o){this.table.cacheState(),this.column[c]=o}get name(){return this.column.name}set name(c){this._set("name",c)}get filterButton(){return this.column.filterButton}set filterButton(c){this.column.filterButton=c}get style(){return this.column.style}set style(c){this.column.style=c}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(c){this._set("totalsRowLabel",c)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(c){this._set("totalsRowFunction",c)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(c){this._set("totalsRowResult",c)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(c){this._set("totalsRowFormula",c)}}n.exports=class{constructor(l,c){this.worksheet=l,c&&(this.table=c,this.validate(),this.store())}getFormula(l){switch(l.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${l.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${l.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${l.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${l.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${l.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${l.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${l.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${l.name}])`;case"custom":return l.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+l.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:l}=this,c=(x,g,w)=>{x[g]===void 0&&(x[g]=w)};c(l,"headerRow",!0),c(l,"totalsRow",!1),c(l,"style",{}),c(l.style,"theme","TableStyleMedium2"),c(l.style,"showFirstColumn",!1),c(l.style,"showLastColumn",!1),c(l.style,"showRowStripes",!1),c(l.style,"showColumnStripes",!1);const o=(x,g)=>{if(!x)throw new Error(g)};o(l.ref,"Table must have ref"),o(l.columns,"Table must have column definitions"),o(l.rows,"Table must have row definitions"),l.tl=i.decodeAddress(l.ref);const{row:u,col:p}=l.tl;o(u>0,"Table must be on valid row"),o(p>0,"Table must be on valid col");const{width:h,filterHeight:d,tableHeight:b}=this;l.autoFilterRef=i.encode(u,p,u+d-1,p+h-1),l.tableRef=i.encode(u,p,u+b-1,p+h-1),l.columns.forEach((x,g)=>{o(x.name,`Column ${g} must have a name`),g===0?c(x,"totalsRowLabel","Total"):(c(x,"totalsRowFunction","none"),x.totalsRowFormula=this.getFormula(x))})}store(){const l=(d,b)=>{b&&Object.keys(b).forEach(x=>{d[x]=b[x]})},{worksheet:c,table:o}=this,{row:u,col:p}=o.tl;let h=0;if(o.headerRow){const d=c.getRow(u+h++);o.columns.forEach((b,x)=>{const{style:g,name:w}=b,v=d.getCell(p+x);v.value=w,l(v,g)})}if(o.rows.forEach(d=>{const b=c.getRow(u+h++);d.forEach((x,g)=>{const w=b.getCell(p+g);w.value=x,l(w,o.columns[g].style)})}),o.totalsRow){const d=c.getRow(u+h++);o.columns.forEach((b,x)=>{const g=d.getCell(p+x);if(x===0)g.value=b.totalsRowLabel;else{const w=this.getFormula(b);g.value=w?{formula:b.totalsRowFormula,result:b.totalsRowResult}:null}l(g,b.style)})}}load(l){const{table:c}=this,{row:o,col:u}=c.tl;let p=0;if(c.headerRow){const h=l.getRow(o+p++);c.columns.forEach((d,b)=>{h.getCell(u+b).value=d.name})}if(c.rows.forEach(h=>{const d=l.getRow(o+p++);h.forEach((b,x)=>{d.getCell(u+x).value=b})}),c.totalsRow){const h=l.getRow(o+p++);c.columns.forEach((d,b)=>{const x=h.getCell(u+b);b===0?x.value=d.totalsRowLabel:this.getFormula(d)&&(x.value={formula:d.totalsRowFormula,result:d.totalsRowResult})})}}get model(){return this.table}set model(l){this.table=l}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const l=i.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let c=0;c<this._cache.tableHeight;c++){const o=this.worksheet.getRow(l.row+c);for(let u=0;u<this._cache.width;u++)o.getCell(l.col+u).value=null}else{for(let c=this.tableHeight;c<this._cache.tableHeight;c++){const o=this.worksheet.getRow(l.row+c);for(let u=0;u<this._cache.width;u++)o.getCell(l.col+u).value=null}for(let c=0;c<this.tableHeight;c++){const o=this.worksheet.getRow(l.row+c);for(let u=this.width;u<this._cache.width;u++)o.getCell(l.col+u).value=null}}this.store()}addRow(l,c){this.cacheState(),c===void 0?this.table.rows.push(l):this.table.rows.splice(c,0,l)}removeRows(l){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(l,c)}getColumn(l){const c=this.table.columns[l];return new a(this,c,l)}addColumn(l,c,o){this.cacheState(),o===void 0?(this.table.columns.push(l),this.table.rows.forEach((u,p)=>{u.push(c[p])})):(this.table.columns.splice(o,0,l),this.table.rows.forEach((u,p)=>{u.splice(o,0,c[p])}))}removeColumns(l){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(l,c),this.table.rows.forEach(o=>{o.splice(l,c)})}_assign(l,c,o){this.cacheState(),l[c]=o}get ref(){return this.table.ref}set ref(l){this._assign(this.table,"ref",l)}get name(){return this.table.name}set name(l){this.table.name=l}get displayName(){return this.table.displyName||this.table.name}set displayNamename(l){this.table.displayName=l}get headerRow(){return this.table.headerRow}set headerRow(l){this._assign(this.table,"headerRow",l)}get totalsRow(){return this.table.totalsRow}set totalsRow(l){this._assign(this.table,"totalsRow",l)}get theme(){return this.table.style.name}set theme(l){this.table.style.name=l}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(l){this.table.style.showFirstColumn=l}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(l){this.table.style.showLastColumn=l}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(l){this.table.style.showRowStripes=l}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(l){this.table.style.showColumnStripes=l}}},{"../utils/col-cache":19}],13:[function(e,n,s){const i=e("./worksheet"),a=e("./defined-names"),l=e("../xlsx/xlsx"),c=e("../csv/csv");n.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new a}get xlsx(){return this._xlsx||(this._xlsx=new l(this)),this._xlsx}get csv(){return this._csv||(this._csv=new c(this)),this._csv}get nextId(){for(let o=1;o<this._worksheets.length;o++)if(!this._worksheets[o])return o;return this._worksheets.length||1}addWorksheet(o,u){const p=this.nextId;u&&(typeof u=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),u={properties:{tabColor:{argb:u}}}):(u.argb||u.theme||u.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),u={properties:{tabColor:u}}));const h=this._worksheets.reduce((x,g)=>(g&&g.orderNo)>x?g.orderNo:x,0),d=Object.assign({},u,{id:p,name:o,orderNo:h+1,workbook:this}),b=new i(d);return this._worksheets[p]=b,b}removeWorksheetEx(o){delete this._worksheets[o.id]}removeWorksheet(o){const u=this.getWorksheet(o);u&&u.destroy()}getWorksheet(o){return o===void 0?this._worksheets.find(Boolean):typeof o=="number"?this._worksheets[o]:typeof o=="string"?this._worksheets.find(u=>u&&u.name===o):void 0}get worksheets(){return this._worksheets.slice(1).sort((o,u)=>o.orderNo-u.orderNo).filter(Boolean)}eachSheet(o){this.worksheets.forEach(u=>{o(u,u.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(o){const u=this.media.length;return this.media.push(Object.assign({},o,{type:"image"})),u}getImage(o){return this.media[o]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(o=>o.model),sheets:this.worksheets.map(o=>o.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(o){this.creator=o.creator,this.lastModifiedBy=o.lastModifiedBy,this.lastPrinted=o.lastPrinted,this.created=o.created,this.modified=o.modified,this.company=o.company,this.manager=o.manager,this.title=o.title,this.subject=o.subject,this.keywords=o.keywords,this.category=o.category,this.description=o.description,this.language=o.language,this.revision=o.revision,this.contentStatus=o.contentStatus,this.properties=o.properties,this.calcProperties=o.calcProperties,this._worksheets=[],o.worksheets.forEach(u=>{const{id:p,name:h,state:d}=u,b=o.sheets&&o.sheets.findIndex(x=>x.id===p);(this._worksheets[p]=new i({id:p,name:h,orderNo:b,state:d,workbook:this})).model=u}),this._definedNames.model=o.definedNames,this.views=o.views,this._themes=o.themes,this.media=o.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(e,n,s){const i=e("../utils/under-dash"),a=e("../utils/col-cache"),l=e("./range"),c=e("./row"),o=e("./column"),u=e("./enums"),p=e("./image"),h=e("./table"),d=e("./data-validations"),b=e("../utils/encryptor"),{copyStyle:x}=e("../utils/copy-style");n.exports=class{constructor(g){g=g||{},this._workbook=g.workbook,this.id=g.id,this.orderNo=g.orderNo,this.name=g.name,this.state=g.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},g.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!g.pageSetup||!g.pageSetup.fitToWidth&&!g.pageSetup.fitToHeight||g.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},g.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},g.headerFooter),this.dataValidations=new d,this.views=g.views||[],this.autoFilter=g.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(g){if(g===void 0&&(g="sheet"+this.id),this._name!==g){if(typeof g!="string")throw new Error("The name has to be a string.");if(g==="")throw new Error("The name can't be empty.");if(g==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(g))throw new Error(`Worksheet name ${g} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(g))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+g);if(g&&g.length>31&&(console.warn(`Worksheet name ${g} exceeds 31 chars. This will be truncated`),g=g.substring(0,31)),this._workbook._worksheets.find(w=>w&&w.name.toLowerCase()===g.toLowerCase()))throw new Error("Worksheet name already exists: "+g);this._name=g}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const g=new l;return this._rows.forEach(w=>{if(w){const v=w.dimensions;v&&g.expand(w.number,v.min,w.number,v.max)}}),g}get columns(){return this._columns}set columns(g){this._headerRowCount=g.reduce((k,R)=>{const L=(R.header?1:R.headers&&R.headers.length)||0;return Math.max(k,L)},0);let w=1;const v=this._columns=[];g.forEach(k=>{const R=new o(this,w++,!1);v.push(R),R.defn=k})}getColumnKey(g){return this._keys[g]}setColumnKey(g,w){this._keys[g]=w}deleteColumnKey(g){delete this._keys[g]}eachColumnKey(g){i.each(this._keys,g)}getColumn(g){if(typeof g=="string"){const w=this._keys[g];if(w)return w;g=a.l2n(g)}if(this._columns||(this._columns=[]),g>this._columns.length){let w=this._columns.length+1;for(;w<=g;)this._columns.push(new o(this,w++))}return this._columns[g-1]}spliceColumns(g,w){const v=this._rows.length;for(var k=arguments.length,R=new Array(k>2?k-2:0),L=2;L<k;L++)R[L-2]=arguments[L];if(R.length>0)for(let F=0;F<v;F++){const B=[g,w];R.forEach(P=>{B.push(P[F]||null)});const W=this.getRow(F+1);W.splice.apply(W,B)}else this._rows.forEach(F=>{F&&F.splice(g,w)});const G=R.length-w,V=g+w,O=this._columns.length;if(G<0)for(let F=g+R.length;F<=O;F++)this.getColumn(F).defn=this.getColumn(F-G).defn;else if(G>0)for(let F=O;F>=V;F--)this.getColumn(F+G).defn=this.getColumn(F).defn;for(let F=g;F<g+R.length;F++)this.getColumn(F).defn=null;this.workbook.definedNames.spliceColumns(this.name,g,w,R.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let g=0;return this.eachRow(w=>{g=Math.max(g,w.cellCount)}),g}get actualColumnCount(){const g=[];let w=0;return this.eachRow(v=>{v.eachCell(k=>{let{col:R}=k;g[R]||(g[R]=!0,w++)})}),w}_commitRow(){}get _lastRowNumber(){const g=this._rows;let w=g.length;for(;w>0&&g[w-1]===void 0;)w--;return w}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(g){return this._rows[g-1]}findRows(g,w){return this._rows.slice(g-1,g-1+w)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let g=0;return this.eachRow(()=>{g++}),g}getRow(g){let w=this._rows[g-1];return w||(w=this._rows[g-1]=new c(this,g)),w}getRows(g,w){if(w<1)return;const v=[];for(let k=g;k<g+w;k++)v.push(this.getRow(k));return v}addRow(g){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const v=this._nextRow,k=this.getRow(v);return k.values=g,this._setStyleOption(v,w[0]==="i"?w:"n"),k}addRows(g){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const v=[];return g.forEach(k=>{v.push(this.addRow(k,w))}),v}insertRow(g,w){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(g,0,w),this._setStyleOption(g,v),this.getRow(g)}insertRows(g,w){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(g,0,...w),v!=="n")for(let k=0;k<w.length;k++)v[0]==="o"&&this.findRow(w.length+g+k)!==void 0?this._copyStyle(w.length+g+k,g+k,v[1]==="+"):v[0]==="i"&&this.findRow(g-1)!==void 0&&this._copyStyle(g-1,g+k,v[1]==="+");return this.getRows(g,w.length)}_setStyleOption(g){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";w[0]==="o"&&this.findRow(g+1)!==void 0?this._copyStyle(g+1,g,w[1]==="+"):w[0]==="i"&&this.findRow(g-1)!==void 0&&this._copyStyle(g-1,g,w[1]==="+")}_copyStyle(g,w){let v=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const k=this.getRow(g),R=this.getRow(w);R.style=x(k.style),k.eachCell({includeEmpty:v},(L,G)=>{R.getCell(G).style=x(L.style)}),R.height=k.height}duplicateRow(g,w){let v=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const k=this._rows[g-1],R=new Array(w).fill(k.values);this.spliceRows(g+1,v?0:w,...R);for(let L=0;L<w;L++){const G=this._rows[g+L];G.style=k.style,G.height=k.height,k.eachCell({includeEmpty:!0},(V,O)=>{G.getCell(O).style=V.style})}}spliceRows(g,w){const v=g+w;for(var k=arguments.length,R=new Array(k>2?k-2:0),L=2;L<k;L++)R[L-2]=arguments[L];const G=R.length,V=G-w,O=this._rows.length;let F,B;if(V<0)for(g===O&&(this._rows[O-1]=void 0),F=v;F<=O;F++)if(B=this._rows[F-1],B){const W=this.getRow(F+V);W.values=B.values,W.style=B.style,W.height=B.height,B.eachCell({includeEmpty:!0},(P,N)=>{W.getCell(N).style=P.style}),this._rows[F-1]=void 0}else this._rows[F+V-1]=void 0;else if(V>0)for(F=O;F>=v;F--)if(B=this._rows[F-1],B){const W=this.getRow(F+V);W.values=B.values,W.style=B.style,W.height=B.height,B.eachCell({includeEmpty:!0},(P,N)=>{if(W.getCell(N).style=P.style,P._value.constructor.name==="MergeValue"){const D=this.getRow(P._row._number+G).getCell(N),C=P._value._master,S=this.getRow(C._row._number+G).getCell(C._column._number);D.merge(S)}})}else this._rows[F+V-1]=void 0;for(F=0;F<G;F++){const W=this.getRow(g+F);W.style={},W.values=R[F]}this.workbook.definedNames.spliceRows(this.name,g,w,G)}eachRow(g,w){if(w||(w=g,g=void 0),g&&g.includeEmpty){const v=this._rows.length;for(let k=1;k<=v;k++)w(this.getRow(k),k)}else this._rows.forEach(v=>{v&&v.hasValues&&w(v,v.number)})}getSheetValues(){const g=[];return this._rows.forEach(w=>{w&&(g[w.number]=w.values)}),g}findCell(g,w){const v=a.getAddress(g,w),k=this._rows[v.row-1];return k?k.findCell(v.col):void 0}getCell(g,w){const v=a.getAddress(g,w);return this.getRow(v.row).getCellEx(v)}mergeCells(){for(var g=arguments.length,w=new Array(g),v=0;v<g;v++)w[v]=arguments[v];const k=new l(w);this._mergeCellsInternal(k)}mergeCellsWithoutStyle(){for(var g=arguments.length,w=new Array(g),v=0;v<g;v++)w[v]=arguments[v];const k=new l(w);this._mergeCellsInternal(k,!0)}_mergeCellsInternal(g,w){i.each(this._merges,k=>{if(k.intersects(g))throw new Error("Cannot merge already merged cells")});const v=this.getCell(g.top,g.left);for(let k=g.top;k<=g.bottom;k++)for(let R=g.left;R<=g.right;R++)(k>g.top||R>g.left)&&this.getCell(k,R).merge(v,w);this._merges[v.address]=g}_unMergeMaster(g){const w=this._merges[g.address];if(w){for(let v=w.top;v<=w.bottom;v++)for(let k=w.left;k<=w.right;k++)this.getCell(v,k).unmerge();delete this._merges[g.address]}}get hasMerges(){return i.some(this._merges,Boolean)}unMergeCells(){for(var g=arguments.length,w=new Array(g),v=0;v<g;v++)w[v]=arguments[v];const k=new l(w);for(let R=k.top;R<=k.bottom;R++)for(let L=k.left;L<=k.right;L++){const G=this.findCell(R,L);G&&(G.type===u.ValueType.Merge?this._unMergeMaster(G.master):this._merges[G.address]&&this._unMergeMaster(G))}}fillFormula(g,w,v){let k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const R=a.decode(g),{top:L,left:G,bottom:V,right:O}=R,F=O-G+1,B=a.encodeAddress(L,G),W=k==="shared";let P;P=typeof v=="function"?v:Array.isArray(v)?Array.isArray(v[0])?(D,C)=>v[D-L][C-G]:(D,C)=>v[(D-L)*F+(C-G)]:()=>{};let N=!0;for(let D=L;D<=V;D++)for(let C=G;C<=O;C++)N?(this.getCell(D,C).value={shareType:k,formula:w,ref:g,result:P(D,C)},N=!1):this.getCell(D,C).value=W?{sharedFormula:B,result:P(D,C)}:P(D,C)}addImage(g,w){const v={type:"image",imageId:g,range:w};this._media.push(new p(this,v))}getImages(){return this._media.filter(g=>g.type==="image")}addBackgroundImage(g){const w={type:"background",imageId:g};this._media.push(new p(this,w))}getBackgroundImageId(){const g=this._media.find(w=>w.type==="background");return g&&g.imageId}protect(g,w){return new Promise(v=>{this.sheetProtection={sheet:!0},w&&"spinCount"in w&&(w.spinCount=Number.isFinite(w.spinCount)?Math.round(Math.max(0,w.spinCount)):1e5),g&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=b.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=w&&"spinCount"in w?w.spinCount:1e5,this.sheetProtection.hashValue=b.convertPasswordToHash(g,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),w&&(this.sheetProtection=Object.assign(this.sheetProtection,w),!g&&"spinCount"in w&&delete this.sheetProtection.spinCount),v()})}unprotect(){this.sheetProtection=null}addTable(g){const w=new h(this,g);return this.tables[g.name]=w,w}getTable(g){return this.tables[g]}removeTable(g){delete this.tables[g]}getTables(){return Object.values(this.tables)}addConditionalFormatting(g){this.conditionalFormattings.push(g)}removeConditionalFormatting(g){typeof g=="number"?this.conditionalFormattings.splice(g,1):this.conditionalFormattings=g instanceof Function?this.conditionalFormattings.filter(g):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(g){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=g}get model(){const g={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(k=>k.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(k=>k.model),conditionalFormattings:this.conditionalFormattings};g.cols=o.toModel(this.columns);const w=g.rows=[],v=g.dimensions=new l;return this._rows.forEach(k=>{const R=k&&k.model;R&&(v.expand(R.number,R.min,R.number,R.max),w.push(R))}),g.merges=[],i.each(this._merges,k=>{g.merges.push(k.range)}),g}_parseRows(g){this._rows=[],g.rows.forEach(w=>{const v=new c(this,w.number);this._rows[v.number-1]=v,v.model=w})}_parseMergeCells(g){i.each(g.mergeCells,w=>{this.mergeCellsWithoutStyle(w)})}set model(g){this.name=g.name,this._columns=o.fromModel(this,g.cols),this._parseRows(g),this._parseMergeCells(g),this.dataValidations=new d(g.dataValidations),this.properties=g.properties,this.pageSetup=g.pageSetup,this.headerFooter=g.headerFooter,this.views=g.views,this.autoFilter=g.autoFilter,this._media=g.media.map(w=>new p(this,w)),this.sheetProtection=g.sheetProtection,this.tables=g.tables.reduce((w,v)=>{const k=new h;return k.model=v,w[v.name]=k,w},{}),this.conditionalFormattings=g.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(e,n,s){e("core-js/modules/es.promise"),e("core-js/modules/es.promise.finally"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.values"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.async-iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.find-index"),e("core-js/modules/es.array.find"),e("core-js/modules/es.string.from-code-point"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.number.is-nan"),e("regenerator-runtime/runtime");const i={Workbook:e("./doc/workbook")},a=e("./doc/enums");Object.keys(a).forEach(l=>{i[l]=a[l]}),n.exports=i},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(e,n,s){const i=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");s.bufferToString=function(a){return typeof a=="string"?a:i?i.decode(a):a.toString()}},{}],17:[function(e,n,s){const i=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:a}=e("buffer");s.stringToBuffer=function(l){return typeof l!="string"?l:i?a.from(i.encode(l).buffer):a.from(l)}},{buffer:220}],18:[function(e,n,s){const i=e("./under-dash"),a=e("./col-cache");n.exports=class{constructor(l){this.template=l,this.sheets={}}addCell(l){this.addCellEx(a.decodeEx(l))}getCell(l){return this.findCellEx(a.decodeEx(l),!0)}findCell(l){return this.findCellEx(a.decodeEx(l),!1)}findCellAt(l,c,o){const u=this.sheets[l],p=u&&u[c];return p&&p[o]}addCellEx(l){if(l.top)for(let c=l.top;c<=l.bottom;c++)for(let o=l.left;o<=l.right;o++)this.getCellAt(l.sheetName,c,o);else this.findCellEx(l,!0)}getCellEx(l){return this.findCellEx(l,!0)}findCellEx(l,c){const o=this.findSheet(l,c),u=this.findSheetRow(o,l,c);return this.findRowCell(u,l,c)}getCellAt(l,c,o){const u=this.sheets[l]||(this.sheets[l]=[]),p=u[c]||(u[c]=[]);return p[o]||(p[o]={sheetName:l,address:a.n2l(o)+c,row:c,col:o})}removeCellEx(l){const c=this.findSheet(l);if(!c)return;const o=this.findSheetRow(c,l);o&&delete o[l.col]}forEachInSheet(l,c){const o=this.sheets[l];o&&o.forEach((u,p)=>{u&&u.forEach((h,d)=>{h&&c(h,p,d)})})}forEach(l){i.each(this.sheets,(c,o)=>{this.forEachInSheet(o,l)})}map(l){const c=[];return this.forEach(o=>{c.push(l(o))}),c}findSheet(l,c){const o=l.sheetName;return this.sheets[o]?this.sheets[o]:c?this.sheets[o]=[]:void 0}findSheetRow(l,c,o){const{row:u}=c;return l&&l[u]?l[u]:o?l[u]=[]:void 0}findRowCell(l,c,o){const{col:u}=c;return l&&l[u]?l[u]:o?l[u]=this.template?Object.assign(c,JSON.parse(JSON.stringify(this.template))):c:void 0}spliceRows(l,c,o,u){const p=this.sheets[l];if(p){const h=[];for(let d=0;d<u;d++)h.push([]);p.splice(c,o,...h)}}spliceColumns(l,c,o,u){const p=this.sheets[l];if(p){const h=[];for(let d=0;d<u;d++)h.push(null);i.each(p,d=>{d.splice(c,o,...h)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(e,n,s){const i=/^[A-Z]+\d+$/,a={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:l=>l<=26?1:l<=676?2:3,_fill(l){let c,o,u,p,h,d=1;if(l>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&l>=1){for(;d<=26;)c=this._dictionary[d-1],this._n2l[d]=c,this._l2n[c]=d,d++;this._l2nFill=1}if(this._l2nFill<2&&l>=2){for(d=27;d<=702;)o=d-27,u=o%26,p=Math.floor(o/26),c=this._dictionary[p]+this._dictionary[u],this._n2l[d]=c,this._l2n[c]=d,d++;this._l2nFill=2}if(this._l2nFill<3&&l>=3){for(d=703;d<=16384;)o=d-703,u=o%26,p=Math.floor(o/26)%26,h=Math.floor(o/676),c=this._dictionary[h]+this._dictionary[p]+this._dictionary[u],this._n2l[d]=c,this._l2n[c]=d,d++;this._l2nFill=3}},l2n(l){if(this._l2n[l]||this._fill(l.length),!this._l2n[l])throw new Error("Out of bounds. Invalid column letter: "+l);return this._l2n[l]},n2l(l){if(l<1||l>16384)throw new Error(l+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[l]||this._fill(this._level(l)),this._n2l[l]},_hash:{},validateAddress(l){if(!i.test(l))throw new Error("Invalid Address: "+l);return!0},decodeAddress(l){const c=l.length<5&&this._hash[l];if(c)return c;let o=!1,u="",p=0,h=!1,d="",b=0;for(let g,w=0;w<l.length;w++)if(g=l.charCodeAt(w),!h&&g>=65&&g<=90)o=!0,u+=l[w],p=26*p+g-64;else if(g>=48&&g<=57)h=!0,d+=l[w],b=10*b+g-48;else if(h&&o&&g!==36)break;if(o){if(p>16384)throw new Error("Out of bounds. Invalid column letter: "+u)}else p=void 0;h||(b=void 0);const x={address:l=u+d,col:p,row:b,$col$row:`$${u}$${d}`};return p<=100&&b<=100&&(this._hash[l]=x,this._hash[x.$col$row]=x),x},getAddress(l,c){if(c){const o=this.n2l(c)+l;return this.decodeAddress(o)}return this.decodeAddress(l)},decode(l){const c=l.split(":");if(c.length===2){const o=this.decodeAddress(c[0]),u=this.decodeAddress(c[1]),p={top:Math.min(o.row,u.row),left:Math.min(o.col,u.col),bottom:Math.max(o.row,u.row),right:Math.max(o.col,u.col)};return p.tl=this.n2l(p.left)+p.top,p.br=this.n2l(p.right)+p.bottom,p.dimensions=`${p.tl}:${p.br}`,p}return this.decodeAddress(l)},decodeEx(l){const c=l.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),o=c[1]||c[2],u=c[3],p=u.split(":");if(p.length>1){let d=this.decodeAddress(p[0]),b=this.decodeAddress(p[1]);const x=Math.min(d.row,b.row),g=Math.min(d.col,b.col),w=Math.max(d.row,b.row),v=Math.max(d.col,b.col);return d=this.n2l(g)+x,b=this.n2l(v)+w,{top:x,left:g,bottom:w,right:v,sheetName:o,tl:{address:d,col:g,row:x,$col$row:`$${this.n2l(g)}$${x}`,sheetName:o},br:{address:b,col:v,row:w,$col$row:`$${this.n2l(v)}$${w}`,sheetName:o},dimensions:`${d}:${b}`}}if(u.startsWith("#"))return o?{sheetName:o,error:u}:{error:u};const h=this.decodeAddress(u);return o?{sheetName:o,...h}:h},encodeAddress:(l,c)=>a.n2l(c)+l,encode(){switch(arguments.length){case 2:return a.encodeAddress(arguments[0],arguments[1]);case 4:return`${a.encodeAddress(arguments[0],arguments[1])}:${a.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(l,c){const[o,u,,p,h]=l,[d,b]=c;return d>=o&&d<=p&&b>=u&&b<=h}};n.exports=a},{}],20:[function(e,n,s){const i=(l,c)=>({...l,...c.reduce((o,u)=>(l[u]&&(o[u]={...l[u]}),o),{})}),a=function(l,c,o){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];l[o]&&(c[o]=i(l[o],u))};s.copyStyle=l=>{if(!l)return l;if(c=l,Object.keys(c).length===0)return{};var c;const o={...l};return a(l,o,"font",["color"]),a(l,o,"alignment"),a(l,o,"protection"),l.border&&(a(l,o,"border"),a(l.border,o.border,"top",["color"]),a(l.border,o.border,"left",["color"]),a(l.border,o.border,"bottom",["color"]),a(l.border,o.border,"right",["color"]),a(l.border,o.border,"diagonal",["color"])),l.fill&&(a(l,o,"fill",["fgColor","bgColor","center"]),l.fill.stops&&(o.fill.stops=l.fill.stops.map(u=>i(u,["color"])))),o}},{}],21:[function(e,n,s){(function(i){(function(){const a=e("crypto"),l={hash(c){const o=a.createHash(c);for(var u=arguments.length,p=new Array(u>1?u-1:0),h=1;h<u;h++)p[h-1]=arguments[h];return o.update(i.concat(p)),o.digest()},convertPasswordToHash(c,o,u,p){if(o=o.toLowerCase(),a.getHashes().indexOf(o)<0)throw new Error(`Hash algorithm '${o}' not supported!`);const h=i.from(c,"utf16le");let d=this.hash(o,i.from(u,"base64"),h);for(let b=0;b<p;b++){const x=i.alloc(4);x.writeUInt32LE(b,0),d=this.hash(o,d,x)}return d.toString("base64")},randomBytes:c=>a.randomBytes(c)};n.exports=l}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(e,n,s){const{SaxesParser:i}=e("saxes"),{PassThrough:a}=e("readable-stream"),{bufferToString:l}=e("./browser-buffer-decode");n.exports=async function*(c){c.pipe&&!c[Symbol.asyncIterator]&&(c=c.pipe(new a));const o=new i;let u;o.on("error",h=>{u=h});let p=[];o.on("opentag",h=>p.push({eventType:"opentag",value:h})),o.on("text",h=>p.push({eventType:"text",value:h})),o.on("closetag",h=>p.push({eventType:"closetag",value:h}));for await(const h of c){if(o.write(l(h)),u)throw u;yield p,p=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(e,n,s){const i=e("./col-cache"),a=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,l=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;n.exports={slideFormula:function(c,o,u){const p=i.decode(o),h=i.decode(u);return c.replace(a,(d,b,x,g,w)=>{if(w)return d;const v=l.exec(g);if(v){const k=v[1],R=v[2].toUpperCase(),L=v[3],G=v[4];if(R.length>3||R.length===3&&R>"XFD")return d;let V=i.l2n(R),O=parseInt(G,10);return k||(V+=h.col-p.col),L||(O+=h.row-p.row),(b||"")+(k||"")+i.n2l(V)+(L||"")+O}return d})}}},{"./col-cache":19}],24:[function(e,n,s){(function(i,a){(function(){const l=e("readable-stream"),c=e("./utils"),o=e("./string-buf");class u{constructor(g,w){this._data=g,this._encoding=w}get length(){return this.toBuffer().length}copy(g,w,v,k){return this.toBuffer().copy(g,w,v,k)}toBuffer(){return this._buffer||(this._buffer=a.from(this._data,this._encoding)),this._buffer}}class p{constructor(g){this._data=g}get length(){return this._data.length}copy(g,w,v,k){return this._data._buf.copy(g,w,v,k)}toBuffer(){return this._data.toBuffer()}}class h{constructor(g){this._data=g}get length(){return this._data.length}copy(g,w,v,k){this._data.copy(g,w,v,k)}toBuffer(){return this._data}}class d{constructor(g){this.size=g,this.buffer=a.alloc(g),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const g=a.alloc(this.iWrite-this.iRead);return this.buffer.copy(g,0,this.iRead,this.iWrite),g}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(g){let w;return g===0?null:g===void 0||g>=this.length?(w=this.toBuffer(),this.iRead=this.iWrite,w):(w=a.alloc(g),this.buffer.copy(w,0,this.iRead,g),this.iRead+=g,w)}write(g,w,v){const k=Math.min(v,this.size-this.iWrite);return g.copy(this.buffer,this.iWrite,w,w+k),this.iWrite+=k,k}}const b=function(x){x=x||{},this.bufSize=x.bufSize||1048576,this.buffers=[],this.batch=x.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};c.inherits(b,l.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return a.concat(this.buffers.map(x=>x.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const g=this.buffers[this.buffers.length-1];if(!g.full)return g}const x=new d(this.bufSize);return this.buffers.push(x),x},async _pipe(x){await Promise.all(this.pipes.map((function(g){return new Promise(w=>{g.write(x.toBuffer(),()=>{w()})})})))},_writeToBuffers(x){let g=0;const w=x.length;for(;g<w;)g+=this._getWritableBuffer().write(x,g,w-g)},async write(x,g,w){let v;if(g instanceof Function&&(w=g,g="utf8"),w=w||c.nop,x instanceof o)v=new p(x);else if(x instanceof a)v=new h(x);else{if(!(typeof x=="string"||x instanceof String||x instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");v=new u(x,g)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(v);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(v),i.nextTick(w)):(await this._pipe(v),w());else this.paused||this.emit("data",v.toBuffer()),this._writeToBuffers(v),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(x,g,w){const v=k=>{k?w(k):(this._flush(),this.pipes.forEach(R=>{R.end()}),this.emit("finish"))};x?this.write(x,g,v):v()},read(x){let g;if(x){for(g=[];x&&this.buffers.length&&!this.buffers[0].eod;){const w=this.buffers[0],v=w.read(x);x-=v.length,g.push(v),w.eod&&w.full&&this.buffers.shift()}return a.concat(g)}return g=this.buffers.map(w=>w.toBuffer()).filter(Boolean),this.buffers=[],a.concat(g)},setEncoding(x){this.encoding=x},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(x){this.pipes.push(x),!this.paused&&this.buffers.length&&this.end()},unpipe(x){this.pipes=this.pipes.filter(g=>g!==x)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),n.exports=b}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(e,n,s){(function(i){(function(){n.exports=class{constructor(a){this._buf=i.alloc(a&&a.size||16384),this._encoding=a&&a.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=i.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(a){a=a||0,this._buffer=void 0,this._inPos=a}_grow(a){let l=2*this._buf.length;for(;l<a;)l*=2;const c=i.alloc(l);this._buf.copy(c,0),this._buf=c}addText(a){this._buffer=void 0;let l=this._inPos+this._buf.write(a,this._inPos,this._encoding);for(;l>=this._buf.length-4;)this._grow(this._inPos+a.length),l=this._inPos+this._buf.write(a,this._inPos,this._encoding);this._inPos=l}addStringBuf(a){a.length&&(this._buffer=void 0,this.length+a.length>this.capacity&&this._grow(this.length+a.length),a._buf.copy(this._buf,this._inPos,0,a.length),this._inPos+=a.length)}}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],26:[function(e,n,s){const{toString:i}=Object.prototype,a=/["&<>]/,l={each:function(c,o){c&&(Array.isArray(c)?c.forEach(o):Object.keys(c).forEach(u=>{o(c[u],u)}))},some:function(c,o){return!!c&&(Array.isArray(c)?c.some(o):Object.keys(c).some(u=>o(c[u],u)))},every:function(c,o){return!c||(Array.isArray(c)?c.every(o):Object.keys(c).every(u=>o(c[u],u)))},map:function(c,o){return c?Array.isArray(c)?c.map(o):Object.keys(c).map(u=>o(c[u],u)):[]},keyBy:(c,o)=>c.reduce((u,p)=>(u[p[o]]=p,u),{}),isEqual:function(c,o){const u=typeof c,p=typeof o,h=Array.isArray(c),d=Array.isArray(o);let b;if(u!==p)return!1;switch(typeof c){case"object":if(h||d)return!(!h||!d)&&c.length===o.length&&c.every((x,g)=>{const w=o[g];return l.isEqual(x,w)});if(c===null||o===null)return c===o;if(b=Object.keys(c),Object.keys(o).length!==b.length)return!1;for(const x of b)if(!o.hasOwnProperty(x))return!1;return l.every(c,(x,g)=>{const w=o[g];return l.isEqual(x,w)});default:return c===o}},escapeHtml(c){const o=a.exec(c);if(!o)return c;let u="",p="",h=0,d=o.index;for(;d<c.length;d++){switch(c.charAt(d)){case'"':p="&quot;";break;case"&":p="&amp;";break;case"'":p="&apos;";break;case"<":p="&lt;";break;case">":p="&gt;";break;default:continue}h!==d&&(u+=c.substring(h,d)),h=d+1,u+=p}return h!==d?u+c.substring(h,d):u},strcmp:(c,o)=>c<o?-1:c>o?1:0,isUndefined:c=>i.call(c)==="[object Undefined]",isObject:c=>i.call(c)==="[object Object]",deepMerge(){const c=arguments[0]||{},{length:o}=arguments;let u,p,h;function d(b,x){u=c[x],h=Array.isArray(b),l.isObject(b)||h?(h?(h=!1,p=u&&Array.isArray(u)?u:[]):p=u&&l.isObject(u)?u:{},c[x]=l.deepMerge(p,b)):l.isUndefined(b)||(c[x]=b)}for(let b=0;b<o;b++)l.each(arguments[b],d);return c}};n.exports=l},{}],27:[function(e,n,s){(function(i,a){(function(){const l=e("fs"),c=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,o={nop(){},promiseImmediate:u=>new Promise(p=>{i.setImmediate?a(()=>{p(u)}):setTimeout(()=>{p(u)},1)}),inherits:function(u,p,h,d){u.super_=p,d||(d=h,h=null),h&&Object.keys(h).forEach(x=>{Object.defineProperty(u,x,Object.getOwnPropertyDescriptor(h,x))});const b={constructor:{value:u,enumerable:!1,writable:!1,configurable:!0}};d&&Object.keys(d).forEach(x=>{b[x]=Object.getOwnPropertyDescriptor(d,x)}),u.prototype=Object.create(p.prototype,b)},dateToExcel:(u,p)=>25569+u.getTime()/864e5-(p?1462:0),excelToDate(u,p){const h=Math.round(24*(u-25569+(p?1462:0))*3600*1e3);return new Date(h)},parsePath(u){const p=u.lastIndexOf("/");return{path:u.substring(0,p),name:u.substring(p+1)}},getRelsPath(u){const p=o.parsePath(u);return`${p.path}/_rels/${p.name}.rels`},xmlEncode(u){const p=c.exec(u);if(!p)return u;let h="",d="",b=0,x=p.index;for(;x<u.length;x++){const g=u.charCodeAt(x);switch(g){case 34:d="&quot;";break;case 38:d="&amp;";break;case 39:d="&apos;";break;case 60:d="&lt;";break;case 62:d="&gt;";break;case 127:d="";break;default:if(g<=31&&(g<=8||g>=11&&g!==13)){d="";break}continue}b!==x&&(h+=u.substring(b,x)),b=x+1,d&&(h+=d)}return b!==x?h+u.substring(b,x):h},xmlDecode:u=>u.replace(/&([a-z]*);/g,p=>{switch(p){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return p}}),validInt(u){const p=parseInt(u,10);return Number.isNaN(p)?0:p},isDateFmt(u){return u?(u=(u=u.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:u=>new Promise(p=>{l.access(u,l.constants.F_OK,h=>{p(!h)})})},toIsoDateString:u=>u.toIsoString().subsstr(0,10),parseBoolean:u=>u===!0||u==="true"||u===1||u==="1"};n.exports=o}).call(this)}).call(this,typeof mr<"u"?mr:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{fs:216,timers:523}],28:[function(e,n,s){const i=e("./under-dash"),a=e("./utils");function l(u,p,h){u.push(` ${p}="${a.xmlEncode(h.toString())}"`)}function c(u,p){if(p){const h=[];i.each(p,(d,b)=>{d!==void 0&&l(h,b,d)}),u.push(h.join(""))}}class o{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(p){const h=this._xml;h.push("<?xml"),c(h,p),h.push(`?>
`)}openNode(p,h){const d=this.tos,b=this._xml;d&&this.open&&b.push(">"),this._stack.push(p),b.push("<"),b.push(p),c(b,h),this.leaf=!0,this.open=!0}addAttribute(p,h){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");h!==void 0&&l(this._xml,p,h)}addAttributes(p){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");c(this._xml,p)}writeText(p){const h=this._xml;this.open&&(h.push(">"),this.open=!1),this.leaf=!1,h.push(a.xmlEncode(p.toString()))}writeXml(p){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(p)}closeNode(){const p=this._stack.pop(),h=this._xml;this.leaf?h.push("/>"):(h.push("</"),h.push(p),h.push(">")),this.open=!1,this.leaf=!1}leafNode(p,h,d){this.openNode(p,h),d!==void 0&&this.writeText(d),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const p=this._rollbacks.pop();this._xml.length>p.xml&&this._xml.splice(p.xml,this._xml.length-p.xml),this._stack.length>p.stack&&this._stack.splice(p.stack,this._stack.length-p.stack),this.leaf=p.leaf,this.open=p.open}get xml(){return this.closeAll(),this._xml.join("")}}o.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},n.exports=o},{"./under-dash":26,"./utils":27}],29:[function(e,n,s){(function(i){(function(){const a=e("events"),l=e("jszip"),c=e("./stream-buf"),{stringToBuffer:o}=e("./browser-buffer-encode");class u extends a.EventEmitter{constructor(h){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},h),this.zip=new l,this.stream=new c}append(h,d){d.hasOwnProperty("base64")&&d.base64?this.zip.file(d.name,h,{base64:!0}):(i.browser&&typeof h=="string"&&(h=o(h)),this.zip.file(d.name,h))}async finalize(){const h=await this.zip.generateAsync(this.options);this.stream.end(h),this.emit("finish")}read(h){return this.stream.read(h)}setEncoding(h){return this.stream.setEncoding(h)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(h,d){return this.stream.pipe(h,d)}unpipe(h){return this.stream.unpipe(h)}unshift(h){return this.stream.unshift(h)}wrap(h){return this.stream.wrap(h)}}n.exports={ZipWriter:u}}).call(this)}).call(this,e("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(e,n,s){n.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},28:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy""m""d""',"zh-cn":'yyyy""m""d""',"ja-jp":'yyyy""m""d""',"ko-kr":'yyyy"" mm"" dd""'},32:{"zh-tw":'hh""mm""',"zh-cn":'h""mm""',"ja-jp":'h""mm""',"ko-kr":'h"" mm""'},33:{"zh-tw":'hh""mm""ss""',"zh-cn":'h""mm""ss""',"ja-jp":'h""mm""ss""',"ko-kr":'h"" mm"" ss""'},34:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},51:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},52:{"zh-tw":'/ hh""mm""',"zh-cn":'yyyy""m""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'m""d""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},55:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},58:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(e,n,s){n.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(e,n,s){const i=e("../../utils/parse-sax"),a=e("../../utils/xml-stream");class l{prepare(){}render(){}parseOpen(o){}parseText(o){}parseClose(o){}reconcile(o,u){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(o=>{o instanceof l?o.reset():o.xform&&o.xform.reset()})}mergeModel(o){this.model=Object.assign(this.model||{},o)}async parse(o){for await(const u of o)for(const{eventType:p,value:h}of u)if(p==="opentag")this.parseOpen(h);else if(p==="text")this.parseText(h);else if(p==="closetag"&&!this.parseClose(h.name))return this.model;return this.model}async parseStream(o){return this.parse(i(o))}get xml(){return this.toXml(this.model)}toXml(o){const u=new a;return this.render(u,o),u.xml}static toAttribute(o,u){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(o===void 0){if(p)return u}else if(p||o!==u)return o.toString()}static toStringAttribute(o,u){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return l.toAttribute(o,u,p)}static toStringValue(o,u){return o===void 0?u:o}static toBoolAttribute(o,u){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(o===void 0){if(p)return u}else if(p||o!==u)return o?"1":"0"}static toBoolValue(o,u){return o===void 0?u:o==="1"}static toIntAttribute(o,u){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return l.toAttribute(o,u,p)}static toIntValue(o,u){return o===void 0?u:parseInt(o,10)}static toFloatAttribute(o,u){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return l.toAttribute(o,u,p)}static toFloatValue(o,u){return o===void 0?u:parseFloat(o)}}n.exports=l},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(e,n,s){const i=e("../base-xform"),a=e("../../../utils/col-cache");function l(o){try{return a.decodeEx(o),!0}catch{return!1}}function c(o){const u=[];let p=!1,h="";return o.split(",").forEach(d=>{if(!d)return;const b=(d.match(/'/g)||[]).length;if(!b)return void(p?h+=d+",":l(d)&&u.push(d));const x=b%2==0;!p&&x&&l(d)?u.push(d):p&&!x?(p=!1,l(h+d)&&u.push(h+d),h=""):(p=!0,h+=d+",")}),u}n.exports=class extends i{render(o,u){o.openNode("definedName",{name:u.name,localSheetId:u.localSheetId}),o.writeText(u.ranges.join(",")),o.closeNode()}parseOpen(o){switch(o.name){case"definedName":return this._parsedName=o.attributes.name,this._parsedLocalSheetId=o.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(o){this._parsedText.push(o)}parseClose(){return this.model={name:this._parsedName,ranges:c(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(e,n,s){const i=e("../../../utils/utils"),a=e("../base-xform");n.exports=class extends a{render(l,c){l.leafNode("sheet",{sheetId:c.id,name:c.name,state:c.state,"r:id":c.rId})}parseOpen(l){return l.name==="sheet"&&(this.model={name:i.xmlDecode(l.attributes.name),id:parseInt(l.attributes.sheetId,10),state:l.attributes.state,rId:l.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{render(a,l){a.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:l.fullCalcOnLoad?1:void 0})}parseOpen(a){return a.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{render(a,l){a.leafNode("workbookPr",{date1904:l.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(a){return a.name==="workbookPr"&&(this.model={date1904:a.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{render(a,l){const c={xWindow:l.x||0,yWindow:l.y||0,windowWidth:l.width||12e3,windowHeight:l.height||24e3,firstSheet:l.firstSheet,activeTab:l.activeTab};l.visibility&&l.visibility!=="visible"&&(c.visibility=l.visibility),a.leafNode("workbookView",c)}parseOpen(a){if(a.name==="workbookView"){const l=this.model={},c=function(u,p,h){const d=p!==void 0?l[u]=p:h;d!==void 0&&(l[u]=d)},o=function(u,p,h){const d=p!==void 0?l[u]=parseInt(p,10):h;d!==void 0&&(l[u]=d)};return o("x",a.attributes.xWindow,0),o("y",a.attributes.yWindow,0),o("width",a.attributes.windowWidth,25e3),o("height",a.attributes.windowHeight,1e4),c("visibility",a.attributes.visibility,"visible"),o("activeTab",a.attributes.activeTab,void 0),o("firstSheet",a.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(e,n,s){const i=e("../../../utils/under-dash"),a=e("../../../utils/col-cache"),l=e("../../../utils/xml-stream"),c=e("../base-xform"),o=e("../static-xform"),u=e("../list-xform"),p=e("./defined-name-xform"),h=e("./sheet-xform"),d=e("./workbook-view-xform"),b=e("./workbook-properties-xform"),x=e("./workbook-calc-properties-xform");class g extends c{constructor(){super(),this.map={fileVersion:g.STATIC_XFORMS.fileVersion,workbookPr:new b,bookViews:new u({tag:"bookViews",count:!1,childXform:new d}),sheets:new u({tag:"sheets",count:!1,childXform:new h}),definedNames:new u({tag:"definedNames",count:!1,childXform:new p}),calcPr:new x}}prepare(v){v.sheets=v.worksheets;const k=[];let R=0;v.sheets.forEach(L=>{if(L.pageSetup&&L.pageSetup.printArea&&L.pageSetup.printArea.split("&&").forEach(G=>{const V=G.split(":"),O={name:"_xlnm.Print_Area",ranges:[`'${L.name}'!$${V[0]}:$${V[1]}`],localSheetId:R};k.push(O)}),L.pageSetup&&(L.pageSetup.printTitlesRow||L.pageSetup.printTitlesColumn)){const G=[];if(L.pageSetup.printTitlesColumn){const O=L.pageSetup.printTitlesColumn.split(":");G.push(`'${L.name}'!$${O[0]}:$${O[1]}`)}if(L.pageSetup.printTitlesRow){const O=L.pageSetup.printTitlesRow.split(":");G.push(`'${L.name}'!$${O[0]}:$${O[1]}`)}const V={name:"_xlnm.Print_Titles",ranges:G,localSheetId:R};k.push(V)}R++}),k.length&&(v.definedNames=v.definedNames.concat(k)),(v.media||[]).forEach((L,G)=>{L.name=L.type+(G+1)})}render(v,k){v.openXml(l.StdDocAttributes),v.openNode("workbook",g.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(v),this.map.workbookPr.render(v,k.properties),this.map.bookViews.render(v,k.views),this.map.sheets.render(v,k.sheets),this.map.definedNames.render(v,k.definedNames),this.map.calcPr.render(v,k.calcProperties),v.closeNode()}parseOpen(v){if(this.parser)return this.parser.parseOpen(v),!0;switch(v.name){case"workbook":return!0;default:return this.parser=this.map[v.name],this.parser&&this.parser.parseOpen(v),!0}}parseText(v){this.parser&&this.parser.parseText(v)}parseClose(v){if(this.parser)return this.parser.parseClose(v)||(this.parser=void 0),!0;switch(v){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(v){const k=(v.workbookRels||[]).reduce((O,F)=>(O[F.Id]=F,O),{}),R=[];let L,G=0;(v.sheets||[]).forEach(O=>{const F=k[O.rId];F&&(L=v.worksheetHash["xl/"+F.Target.replace(/^(\s|\/xl\/)+/,"")],L&&(L.name=O.name,L.id=O.id,L.state=O.state,R[G++]=L))});const V=[];i.each(v.definedNames,O=>{if(O.name==="_xlnm.Print_Area"){if(L=R[O.localSheetId],L){L.pageSetup||(L.pageSetup={});const F=a.decodeEx(O.ranges[0]);L.pageSetup.printArea=L.pageSetup.printArea?`${L.pageSetup.printArea}&&${F.dimensions}`:F.dimensions}}else if(O.name==="_xlnm.Print_Titles"){if(L=R[O.localSheetId],L){L.pageSetup||(L.pageSetup={});const F=O.ranges.join(","),B=/\$/g,W=/\$\d+:\$\d+/,P=F.match(W);if(P&&P.length){const C=P[0];L.pageSetup.printTitlesRow=C.replace(B,"")}const N=/\$[A-Z]+:\$[A-Z]+/,D=F.match(N);if(D&&D.length){const C=D[0];L.pageSetup.printTitlesColumn=C.replace(B,"")}}}else V.push(O)}),v.definedNames=V,v.media.forEach((O,F)=>{O.index=F})}}g.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},g.STATIC_XFORMS={fileVersion:new o({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},n.exports=g},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(e,n,s){const i=e("../strings/rich-text-xform"),a=e("../../../utils/utils"),l=e("../base-xform"),c=n.exports=function(o){this.model=o};a.inherits(c,l,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new i),this._richTextXform},render(o,u){u=u||this.model,o.openNode("comment",{ref:u.ref,authorId:0}),o.openNode("text"),u&&u.note&&u.note.texts&&u.note.texts.forEach(p=>{this.richTextXform.render(o,p)}),o.closeNode(),o.closeNode()},parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"comment":return this.model={type:"note",note:{texts:[]},...o.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(o),!0;default:return!1}},parseText(o){this.parser&&this.parser.parseText(o)},parseClose(o){switch(o){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(o),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(e,n,s){const i=e("../../../utils/xml-stream"),a=e("../../../utils/utils"),l=e("../base-xform"),c=e("./comment-xform"),o=n.exports=function(){this.map={comment:new c}};a.inherits(o,l,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(u,p){p=p||this.model,u.openXml(i.StdDocAttributes),u.openNode("comments",o.COMMENTS_ATTRIBUTES),u.openNode("authors"),u.leafNode("author",null,"Author"),u.closeNode(),u.openNode("commentList"),p.comments.forEach(h=>{this.map.comment.render(u,h)}),u.closeNode(),u.closeNode()},parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(u),!0;default:return!1}},parseText(u){this.parser&&this.parser.parseText(u)},parseClose(u){switch(u){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(u),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(e,n,s){const i=e("../../base-xform");n.exports=class extends i{constructor(a){super(),this._model=a}get tag(){return this._model&&this._model.tag}render(a,l,c){(l===c[2]||this.tag==="x:SizeWithCells"&&l===c[1])&&a.leafNode(this.tag)}parseOpen(a){switch(a.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(e,n,s){const i=e("../../base-xform");n.exports=class extends i{constructor(a){super(),this._model=a}get tag(){return this._model&&this._model.tag}render(a,l){a.leafNode(this.tag,null,l)}parseOpen(a){switch(a.name){case this.tag:return this.text="",!0;default:return!1}}parseText(a){this.text=a}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"x:Anchor"}getAnchorRect(a){const l=Math.floor(a.left),c=Math.floor(68*(a.left-l)),o=Math.floor(a.top),u=Math.floor(18*(a.top-o)),p=Math.floor(a.right),h=Math.floor(68*(a.right-p)),d=Math.floor(a.bottom);return[l,c,o,u,p,h,d,Math.floor(18*(a.bottom-d))]}getDefaultRect(a){const l=a.col,c=Math.max(a.row-2,0);return[l,6,c,14,l+2,2,c+4,16]}render(a,l){const c=l.anchor?this.getAnchorRect(l.anchor):this.getDefaultRect(l.refAddress);a.leafNode("x:Anchor",null,c.join(", "))}parseOpen(a){switch(a.name){case this.tag:return this.text="",!0;default:return!1}}parseText(a){this.text=a}parseClose(){return!1}}},{"../base-xform":32}],44:[function(e,n,s){const i=e("../base-xform"),a=e("./vml-anchor-xform"),l=e("./style/vml-protection-xform"),c=e("./style/vml-position-xform"),o=["twoCells","oneCells","absolute"];n.exports=class extends i{constructor(){super(),this.map={"x:Anchor":new a,"x:Locked":new l({tag:"x:Locked"}),"x:LockText":new l({tag:"x:LockText"}),"x:SizeWithCells":new c({tag:"x:SizeWithCells"}),"x:MoveWithCells":new c({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(u,p){const{protection:h,editAs:d}=p.note;u.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(u,d,o),this.map["x:SizeWithCells"].render(u,d,o),this.map["x:Anchor"].render(u,p),this.map["x:Locked"].render(u,h.locked),u.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(u,h.lockText),u.leafNode("x:Row",null,p.refAddress.row-1),u.leafNode("x:Column",null,p.refAddress.col-1),u.closeNode()}parseOpen(u){switch(u.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){const u=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),p=Object.keys(u).length;this.model.editAs=o[p],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(e,n,s){const i=e("../../../utils/xml-stream"),a=e("../base-xform"),l=e("./vml-shape-xform");class c extends a{constructor(){super(),this.map={"v:shape":new l}}get tag(){return"xml"}render(u,p){u.openXml(i.StdDocAttributes),u.openNode(this.tag,c.DRAWING_ATTRIBUTES),u.openNode("o:shapelayout",{"v:ext":"edit"}),u.leafNode("o:idmap",{"v:ext":"edit",data:1}),u.closeNode(),u.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),u.leafNode("v:stroke",{joinstyle:"miter"}),u.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),u.closeNode(),p.comments.forEach((h,d)=>{this.map["v:shape"].render(u,h,d)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(u){case this.tag:return!1;default:return!0}}reconcile(u,p){u.anchors.forEach(h=>{h.br?this.map["xdr:twoCellAnchor"].reconcile(h,p):this.map["xdr:oneCellAnchor"].reconcile(h,p)})}}c.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},n.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(e,n,s){const i=e("../base-xform"),a=e("./vml-textbox-xform"),l=e("./vml-client-data-xform");class c extends i{constructor(){super(),this.map={"v:textbox":new a,"x:ClientData":new l}}get tag(){return"v:shape"}render(u,p,h){u.openNode("v:shape",c.V_SHAPE_ATTRIBUTES(p,h)),u.leafNode("v:fill",{color2:"infoBackground [80]"}),u.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),u.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(u,p),this.map["x:ClientData"].render(u,p),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset(),this.model={margins:{insetmode:u.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}c.V_SHAPE_ATTRIBUTES=(o,u)=>({id:"_x0000_s"+(1025+u),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":o.note.margins&&o.note.margins.insetmode}),n.exports=c},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"v:textbox"}conversionUnit(a,l,c){return`${parseFloat(a)*l.toFixed(2)}${c}`}reverseConversionUnit(a){return(a||"").split(",").map(l=>Number(parseFloat(this.conversionUnit(parseFloat(l),.1,"")).toFixed(2)))}render(a,l){const c={style:"mso-direction-alt:auto"};if(l&&l.note){let{inset:o}=l.note&&l.note.margins;Array.isArray(o)&&(o=o.map(u=>this.conversionUnit(u,10,"mm")).join(",")),o&&(c.inset=o)}a.openNode("v:textbox",c),a.leafNode("div",{style:"text-align:left"}),a.closeNode()}parseOpen(a){switch(a.name){case this.tag:return this.model={inset:this.reverseConversionUnit(a.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(a){switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(e,n,s){const i=e("./base-xform");n.exports=class extends i{createNewModel(a){return{}}parseOpen(a){return this.parser=this.parser||this.map[a.name],this.parser?(this.parser.parseOpen(a),!0):a.name===this.tag&&(this.model=this.createNewModel(a),!0)}parseText(a){this.parser&&this.parser.parseText(a)}onParserClose(a,l){this.model[a]=l.model}parseClose(a){return this.parser?(this.parser.parseClose(a)||(this.onParserClose(a,this.parser),this.parser=void 0),!0):a!==this.tag}}},{"./base-xform":32}],49:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{render(a,l){a.openNode("HeadingPairs"),a.openNode("vt:vector",{size:2,baseType:"variant"}),a.openNode("vt:variant"),a.leafNode("vt:lpstr",void 0,"Worksheets"),a.closeNode(),a.openNode("vt:variant"),a.leafNode("vt:i4",void 0,l.length),a.closeNode(),a.closeNode(),a.closeNode()}parseOpen(a){return a.name==="HeadingPairs"}parseText(){}parseClose(a){return a!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{render(a,l){a.openNode("TitlesOfParts"),a.openNode("vt:vector",{size:l.length,baseType:"lpstr"}),l.forEach(c=>{a.leafNode("vt:lpstr",void 0,c.name)}),a.closeNode(),a.closeNode()}parseOpen(a){return a.name==="TitlesOfParts"}parseText(){}parseClose(a){return a!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(e,n,s){const i=e("../../../utils/xml-stream"),a=e("../base-xform"),l=e("../simple/string-xform"),c=e("./app-heading-pairs-xform"),o=e("./app-titles-of-parts-xform");class u extends a{constructor(){super(),this.map={Company:new l({tag:"Company"}),Manager:new l({tag:"Manager"}),HeadingPairs:new c,TitleOfParts:new o}}render(h,d){h.openXml(i.StdDocAttributes),h.openNode("Properties",u.PROPERTY_ATTRIBUTES),h.leafNode("Application",void 0,"Microsoft Excel"),h.leafNode("DocSecurity",void 0,"0"),h.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(h,d.worksheets),this.map.TitleOfParts.render(h,d.worksheets),this.map.Company.render(h,d.company||""),this.map.Manager.render(h,d.manager),h.leafNode("LinksUpToDate",void 0,"false"),h.leafNode("SharedDoc",void 0,"false"),h.leafNode("HyperlinksChanged",void 0,"false"),h.leafNode("AppVersion",void 0,"16.0300"),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"Properties":return!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}u.DateFormat=function(p){return p.toISOString().replace(/[.]\d{3,6}/,"")},u.DateAttrs={"xsi:type":"dcterms:W3CDTF"},u.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},n.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(e,n,s){const i=e("../../../utils/xml-stream"),a=e("../base-xform");class l extends a{render(o,u){o.openXml(i.StdDocAttributes),o.openNode("Types",l.PROPERTY_ATTRIBUTES);const p={};(u.media||[]).forEach(h=>{if(h.type==="image"){const d=h.extension;p[d]||(p[d]=!0,o.leafNode("Default",{Extension:d,ContentType:"image/"+d}))}}),o.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),o.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),o.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),u.worksheets.forEach(h=>{const d=`/xl/worksheets/sheet${h.id}.xml`;o.leafNode("Override",{PartName:d,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),o.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),o.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),u.sharedStrings&&u.sharedStrings.count&&o.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),u.tables&&u.tables.forEach(h=>{o.leafNode("Override",{PartName:"/xl/tables/"+h.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),u.drawings&&u.drawings.forEach(h=>{o.leafNode("Override",{PartName:`/xl/drawings/${h.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),u.commentRefs&&(o.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),u.commentRefs.forEach(h=>{let{commentName:d}=h;o.leafNode("Override",{PartName:`/xl/${d}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),o.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),o.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),o.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}l.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},n.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(e,n,s){const i=e("../../../utils/xml-stream"),a=e("../base-xform"),l=e("../simple/date-xform"),c=e("../simple/string-xform"),o=e("../simple/integer-xform");class u extends a{constructor(){super(),this.map={"dc:creator":new c({tag:"dc:creator"}),"dc:title":new c({tag:"dc:title"}),"dc:subject":new c({tag:"dc:subject"}),"dc:description":new c({tag:"dc:description"}),"dc:identifier":new c({tag:"dc:identifier"}),"dc:language":new c({tag:"dc:language"}),"cp:keywords":new c({tag:"cp:keywords"}),"cp:category":new c({tag:"cp:category"}),"cp:lastModifiedBy":new c({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new l({tag:"cp:lastPrinted",format:u.DateFormat}),"cp:revision":new o({tag:"cp:revision"}),"cp:version":new c({tag:"cp:version"}),"cp:contentStatus":new c({tag:"cp:contentStatus"}),"cp:contentType":new c({tag:"cp:contentType"}),"dcterms:created":new l({tag:"dcterms:created",attrs:u.DateAttrs,format:u.DateFormat}),"dcterms:modified":new l({tag:"dcterms:modified",attrs:u.DateAttrs,format:u.DateFormat})}}render(h,d){h.openXml(i.StdDocAttributes),h.openNode("cp:coreProperties",u.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(h,d.creator),this.map["dc:title"].render(h,d.title),this.map["dc:subject"].render(h,d.subject),this.map["dc:description"].render(h,d.description),this.map["dc:identifier"].render(h,d.identifier),this.map["dc:language"].render(h,d.language),this.map["cp:keywords"].render(h,d.keywords),this.map["cp:category"].render(h,d.category),this.map["cp:lastModifiedBy"].render(h,d.lastModifiedBy),this.map["cp:lastPrinted"].render(h,d.lastPrinted),this.map["cp:revision"].render(h,d.revision),this.map["cp:version"].render(h,d.version),this.map["cp:contentStatus"].render(h,d.contentStatus),this.map["cp:contentType"].render(h,d.contentType),this.map["dcterms:created"].render(h,d.created),this.map["dcterms:modified"].render(h,d.modified),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[h.name],this.parser)return this.parser.parseOpen(h),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(h))}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+h)}}}u.DateFormat=function(p){return p.toISOString().replace(/[.]\d{3}/,"")},u.DateAttrs={"xsi:type":"dcterms:W3CDTF"},u.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},n.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{render(a,l){a.leafNode("Relationship",l)}parseOpen(a){switch(a.name){case"Relationship":return this.model=a.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(e,n,s){const i=e("../../../utils/xml-stream"),a=e("../base-xform"),l=e("./relationship-xform");class c extends a{constructor(){super(),this.map={Relationship:new l}}render(u,p){p=p||this._values,u.openXml(i.StdDocAttributes),u.openNode("Relationships",c.RELATIONSHIPS_ATTRIBUTES),p.forEach(h=>{this.map.Relationship.render(u,h)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[u.name],this.parser)return this.parser.parseOpen(u),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(u))}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(u){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+u)}}}c.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},n.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:this.reset(),this.model={range:{editAs:a.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[a.name],this.parser&&this.parser.parseOpen(a)}return!0}parseText(a){this.parser&&this.parser.parseText(a)}reconcilePicture(a,l){if(a&&a.rId){const c=l.rels[a.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(c){const o=c[1],u=l.mediaIndex[o];return l.media[u]}}}}},{"../base-xform":32}],57:[function(e,n,s){const i=e("../base-xform"),a=e("./blip-xform");n.exports=class extends i{constructor(){super(),this.map={"a:blip":new a}}get tag(){return"xdr:blipFill"}render(l,c){l.openNode(this.tag),this.map["a:blip"].render(l,c),l.openNode("a:stretch"),l.leafNode("a:fillRect"),l.closeNode(),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"a:blip"}render(a,l){a.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":l.rId,cstate:"print"})}parseOpen(a){switch(a.name){case this.tag:return this.model={rId:a.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(a){switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"xdr:cNvPicPr"}render(a){a.openNode(this.tag),a.leafNode("a:picLocks",{noChangeAspect:"1"}),a.closeNode()}parseOpen(a){switch(a.name){case this.tag:default:return!0}}parseText(){}parseClose(a){switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(e,n,s){const i=e("../base-xform"),a=e("./hlink-click-xform"),l=e("./ext-lst-xform");n.exports=class extends i{constructor(){super(),this.map={"a:hlinkClick":new a,"a:extLst":new l}}get tag(){return"xdr:cNvPr"}render(c,o){c.openNode(this.tag,{id:o.index,name:"Picture "+o.index}),this.map["a:hlinkClick"].render(c,o),this.map["a:extLst"].render(c,o),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset();break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(){}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(e,n,s){const i=e("../base-xform"),a=e("../simple/integer-xform");n.exports=class extends i{constructor(l){super(),this.tag=l.tag,this.map={"xdr:col":new a({tag:"xdr:col",zero:!0}),"xdr:colOff":new a({tag:"xdr:colOff",zero:!0}),"xdr:row":new a({tag:"xdr:row",zero:!0}),"xdr:rowOff":new a({tag:"xdr:rowOff",zero:!0})}}render(l,c){l.openNode(this.tag),this.map["xdr:col"].render(l,c.nativeCol),this.map["xdr:colOff"].render(l,c.nativeColOff),this.map["xdr:row"].render(l,c.nativeRow),this.map["xdr:rowOff"].render(l,c.nativeRowOff),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(e,n,s){const i=e("../../../utils/col-cache"),a=e("../../../utils/xml-stream"),l=e("../base-xform"),c=e("./two-cell-anchor-xform"),o=e("./one-cell-anchor-xform");class u extends l{constructor(){super(),this.map={"xdr:twoCellAnchor":new c,"xdr:oneCellAnchor":new o}}prepare(h){h.anchors.forEach((d,b)=>{d.anchorType=(function(x){return(typeof x.range=="string"?i.decode(x.range):x.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"})(d),this.map[d.anchorType].prepare(d,{index:b})})}get tag(){return"xdr:wsDr"}render(h,d){h.openXml(a.StdDocAttributes),h.openNode(this.tag,u.DRAWING_ATTRIBUTES),d.anchors.forEach(b=>{this.map[b.anchorType].render(h,b)}),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h)}return!0}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(h){case this.tag:return!1;default:return!0}}reconcile(h,d){h.anchors.forEach(b=>{b.br?this.map["xdr:twoCellAnchor"].reconcile(b,d):this.map["xdr:oneCellAnchor"].reconcile(b,d)})}}u.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},n.exports=u},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"a:extLst"}render(a){a.openNode(this.tag),a.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),a.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),a.closeNode(),a.closeNode()}parseOpen(a){switch(a.name){case this.tag:default:return!0}}parseText(){}parseClose(a){switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{constructor(a){super(),this.tag=a.tag,this.map={}}render(a,l){a.openNode(this.tag);const c=Math.floor(9525*l.width),o=Math.floor(9525*l.height);a.addAttribute("cx",c),a.addAttribute("cy",o),a.closeNode()}parseOpen(a){return a.name===this.tag&&(this.model={width:parseInt(a.attributes.cx||"0",10)/9525,height:parseInt(a.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"a:hlinkClick"}render(a,l){l.hyperlinks&&l.hyperlinks.rId&&a.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":l.hyperlinks.rId,tooltip:l.hyperlinks.tooltip})}parseOpen(a){switch(a.name){case this.tag:return this.model={hyperlinks:{rId:a.attributes["r:id"],tooltip:a.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(e,n,s){const i=e("../base-xform"),a=e("./c-nv-pr-xform"),l=e("./c-nv-pic-pr-xform");n.exports=class extends i{constructor(){super(),this.map={"xdr:cNvPr":new a,"xdr:cNvPicPr":new l}}get tag(){return"xdr:nvPicPr"}render(c,o){c.openNode(this.tag),this.map["xdr:cNvPr"].render(c,o),this.map["xdr:cNvPicPr"].render(c,o),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset();break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(){}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(e,n,s){const i=e("./base-cell-anchor-xform"),a=e("../static-xform"),l=e("./cell-position-xform"),c=e("./ext-xform"),o=e("./pic-xform");n.exports=class extends i{constructor(){super(),this.map={"xdr:from":new l({tag:"xdr:from"}),"xdr:ext":new c({tag:"xdr:ext"}),"xdr:pic":new o,"xdr:clientData":new a({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(u,p){this.map["xdr:pic"].prepare(u.picture,p)}render(u,p){u.openNode(this.tag,{editAs:p.range.editAs||"oneCell"}),this.map["xdr:from"].render(u,p.range.tl),this.map["xdr:ext"].render(u,p.range.ext),this.map["xdr:pic"].render(u,p.picture),this.map["xdr:clientData"].render(u,{}),u.closeNode()}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(u,p){u.medium=this.reconcilePicture(u.picture,p)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(e,n,s){const i=e("../base-xform"),a=e("../static-xform"),l=e("./blip-fill-xform"),c=e("./nv-pic-pr-xform"),o=e("./sp-pr");n.exports=class extends i{constructor(){super(),this.map={"xdr:nvPicPr":new c,"xdr:blipFill":new l,"xdr:spPr":new a(o)}}get tag(){return"xdr:pic"}prepare(u,p){u.index=p.index+1}render(u,p){u.openNode(this.tag),this.map["xdr:nvPicPr"].render(u,p),this.map["xdr:blipFill"].render(u,p),this.map["xdr:spPr"].render(u,p),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset();break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(){}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(u){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(e,n,s){n.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(e,n,s){const i=e("./base-cell-anchor-xform"),a=e("../static-xform"),l=e("./cell-position-xform"),c=e("./pic-xform");n.exports=class extends i{constructor(){super(),this.map={"xdr:from":new l({tag:"xdr:from"}),"xdr:to":new l({tag:"xdr:to"}),"xdr:pic":new c,"xdr:clientData":new a({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(o,u){this.map["xdr:pic"].prepare(o.picture,u)}render(o,u){o.openNode(this.tag,{editAs:u.range.editAs||"oneCell"}),this.map["xdr:from"].render(o,u.range.tl),this.map["xdr:to"].render(o,u.range.br),this.map["xdr:pic"].render(o,u.picture),this.map["xdr:clientData"].render(o,{}),o.closeNode()}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(o,u){o.medium=this.reconcilePicture(o.picture,u)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(e,n,s){const i=e("./base-xform");n.exports=class extends i{constructor(a){super(),this.tag=a.tag,this.always=!!a.always,this.count=a.count,this.empty=a.empty,this.$count=a.$count||"count",this.$=a.$,this.childXform=a.childXform,this.maxItems=a.maxItems}prepare(a,l){const{childXform:c}=this;a&&a.forEach((o,u)=>{l.index=u,c.prepare(o,l)})}render(a,l){if(this.always||l&&l.length){a.openNode(this.tag,this.$),this.count&&a.addAttribute(this.$count,l&&l.length||0);const{childXform:c}=this;(l||[]).forEach((o,u)=>{c.render(a,o,u)}),a.closeNode()}else this.empty&&a.leafNode(this.tag)}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(a)&&(this.parser=this.childXform,!0)}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser){if(!this.parser.parseClose(a)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(a,l){if(a){const{childXform:c}=this;a.forEach(o=>{c.reconcile(o,l)})}}}},{"./base-xform":32}],72:[function(e,n,s){const i=e("../../../utils/col-cache"),a=e("../base-xform");n.exports=class extends a{get tag(){return"autoFilter"}render(l,c){if(c)if(typeof c=="string")l.leafNode("autoFilter",{ref:c});else{const o=function(h){return typeof h=="string"?h:i.getAddress(h.row,h.column).address},u=o(c.from),p=o(c.to);u&&p&&l.leafNode("autoFilter",{ref:`${u}:${p}`})}}parseOpen(l){l.name==="autoFilter"&&(this.model=l.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(e,n,s){const i=e("../../../utils/utils"),a=e("../base-xform"),l=e("../../../doc/range"),c=e("../../../doc/enums"),o=e("../strings/rich-text-xform");function u(p){if(p==null)return c.ValueType.Null;if(p instanceof String||typeof p=="string")return c.ValueType.String;if(typeof p=="number")return c.ValueType.Number;if(typeof p=="boolean")return c.ValueType.Boolean;if(p instanceof Date)return c.ValueType.Date;if(p.text&&p.hyperlink)return c.ValueType.Hyperlink;if(p.formula)return c.ValueType.Formula;if(p.error)return c.ValueType.Error;throw new Error("I could not understand type of value")}n.exports=class extends a{constructor(){super(),this.richTextXForm=new o}get tag(){return"c"}prepare(p,h){const d=h.styles.addStyleModel(p.style||{},(function(b){switch(b.type){case c.ValueType.Formula:return u(b.result);default:return b.type}})(p));switch(d&&(p.styleId=d),p.comment&&h.comments.push({...p.comment,ref:p.address}),p.type){case c.ValueType.String:case c.ValueType.RichText:h.sharedStrings&&(p.ssId=h.sharedStrings.add(p.value));break;case c.ValueType.Date:h.date1904&&(p.date1904=!0);break;case c.ValueType.Hyperlink:h.sharedStrings&&p.text!==void 0&&p.text!==null&&(p.ssId=h.sharedStrings.add(p.text)),h.hyperlinks.push({address:p.address,target:p.hyperlink,tooltip:p.tooltip});break;case c.ValueType.Merge:h.merges.add(p);break;case c.ValueType.Formula:if(h.date1904&&(p.date1904=!0),p.shareType==="shared"&&(p.si=h.siFormulae++),p.formula)h.formulae[p.address]=p;else if(p.sharedFormula){const b=h.formulae[p.sharedFormula];if(!b)throw new Error("Shared Formula master must exist above and or left of clone for cell "+p.address);b.si===void 0?(b.shareType="shared",b.si=h.siFormulae++,b.range=new l(b.address,p.address)):b.range&&b.range.expandToAddress(p.address),p.si=b.si}}}renderFormula(p,h){let d=null;switch(h.shareType){case"shared":d={t:"shared",ref:h.ref||h.range.range,si:h.si};break;case"array":d={t:"array",ref:h.ref};break;default:h.si!==void 0&&(d={t:"shared",si:h.si})}switch(u(h.result)){case c.ValueType.Null:p.leafNode("f",d,h.formula);break;case c.ValueType.String:p.addAttribute("t","str"),p.leafNode("f",d,h.formula),p.leafNode("v",null,h.result);break;case c.ValueType.Number:p.leafNode("f",d,h.formula),p.leafNode("v",null,h.result);break;case c.ValueType.Boolean:p.addAttribute("t","b"),p.leafNode("f",d,h.formula),p.leafNode("v",null,h.result?1:0);break;case c.ValueType.Error:p.addAttribute("t","e"),p.leafNode("f",d,h.formula),p.leafNode("v",null,h.result.error);break;case c.ValueType.Date:p.leafNode("f",d,h.formula),p.leafNode("v",null,i.dateToExcel(h.result,h.date1904));break;default:throw new Error("I could not understand type of value")}}render(p,h){if(h.type!==c.ValueType.Null||h.styleId){switch(p.openNode("c"),p.addAttribute("r",h.address),h.styleId&&p.addAttribute("s",h.styleId),h.type){case c.ValueType.Null:break;case c.ValueType.Number:p.leafNode("v",null,h.value);break;case c.ValueType.Boolean:p.addAttribute("t","b"),p.leafNode("v",null,h.value?"1":"0");break;case c.ValueType.Error:p.addAttribute("t","e"),p.leafNode("v",null,h.value.error);break;case c.ValueType.String:case c.ValueType.RichText:h.ssId!==void 0?(p.addAttribute("t","s"),p.leafNode("v",null,h.ssId)):h.value&&h.value.richText?(p.addAttribute("t","inlineStr"),p.openNode("is"),h.value.richText.forEach(d=>{this.richTextXForm.render(p,d)}),p.closeNode("is")):(p.addAttribute("t","str"),p.leafNode("v",null,h.value));break;case c.ValueType.Date:p.leafNode("v",null,i.dateToExcel(h.value,h.date1904));break;case c.ValueType.Hyperlink:h.ssId!==void 0?(p.addAttribute("t","s"),p.leafNode("v",null,h.ssId)):(p.addAttribute("t","str"),p.leafNode("v",null,h.text));break;case c.ValueType.Formula:this.renderFormula(p,h);break;case c.ValueType.Merge:}p.closeNode()}}parseOpen(p){if(this.parser)return this.parser.parseOpen(p),!0;switch(p.name){case"c":return this.model={address:p.attributes.r},this.t=p.attributes.t,p.attributes.s&&(this.model.styleId=parseInt(p.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=p.attributes.si,this.model.shareType=p.attributes.t,this.model.ref=p.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(p),!0;default:return!1}}parseText(p){if(this.parser)this.parser.parseText(p);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+p:p;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+p:p:this.model.value=this.model.value?this.model.value+p:p}}parseClose(p){switch(p){case"c":{const{model:h}=this;if(h.formula||h.shareType)h.type=c.ValueType.Formula,h.value&&(this.t==="str"?h.result=i.xmlDecode(h.value):this.t==="b"?h.result=parseInt(h.value,10)!==0:this.t==="e"?h.result={error:h.value}:h.result=parseFloat(h.value),h.value=void 0);else if(h.value!==void 0)switch(this.t){case"s":h.type=c.ValueType.String,h.value=parseInt(h.value,10);break;case"str":h.type=c.ValueType.String,h.value=i.xmlDecode(h.value);break;case"inlineStr":h.type=c.ValueType.String;break;case"b":h.type=c.ValueType.Boolean,h.value=parseInt(h.value,10)!==0;break;case"e":h.type=c.ValueType.Error,h.value={error:h.value};break;default:h.type=c.ValueType.Number,h.value=parseFloat(h.value)}else h.styleId?h.type=c.ValueType.Null:h.type=c.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(p),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(p),!0)}}reconcile(p,h){const d=p.styleId&&h.styles&&h.styles.getStyleModel(p.styleId);switch(d&&(p.style=d),p.styleId!==void 0&&(p.styleId=void 0),p.type){case c.ValueType.String:typeof p.value=="number"&&h.sharedStrings&&(p.value=h.sharedStrings.getString(p.value)),p.value.richText&&(p.type=c.ValueType.RichText);break;case c.ValueType.Number:d&&i.isDateFmt(d.numFmt)&&(p.type=c.ValueType.Date,p.value=i.excelToDate(p.value,h.date1904));break;case c.ValueType.Formula:p.result!==void 0&&d&&i.isDateFmt(d.numFmt)&&(p.result=i.excelToDate(p.result,h.date1904)),p.shareType==="shared"&&(p.ref?h.formulae[p.si]=p.address:(p.sharedFormula=h.formulae[p.si],delete p.shareType),delete p.si)}const b=h.hyperlinkMap[p.address];b&&(p.type===c.ValueType.Formula?(p.text=p.result,p.result=void 0):(p.text=p.value,p.value=void 0),p.type=c.ValueType.Hyperlink,p.hyperlink=b);const x=h.commentsMap&&h.commentsMap[p.address];x&&(p.comment=x)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(e,n,s){const i=e("../../base-xform");n.exports=class extends i{get tag(){return"x14:cfIcon"}render(a,l){a.leafNode(this.tag,{iconSet:l.iconSet,iconId:l.iconId})}parseOpen(a){let{attributes:l}=a;this.model={iconSet:l.iconSet,iconId:i.toIntValue(l.iconId)}}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],75:[function(e,n,s){const{v4:i}=e("uuid"),a=e("../../base-xform"),l=e("../../composite-xform"),c=e("./databar-ext-xform"),o=e("./icon-set-ext-xform"),u={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class p extends l{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new c,"x14:iconSet":this.iconSetXform=new o}}get tag(){return"x14:cfRule"}static isExt(d){return d.type==="dataBar"?c.isExt(d):!(d.type!=="iconSet"||!d.custom&&!u[d.iconSet])}prepare(d){p.isExt(d)&&(d.x14Id=`{${i()}}`.toUpperCase())}render(d,b){if(p.isExt(b))switch(b.type){case"dataBar":this.renderDataBar(d,b);break;case"iconSet":this.renderIconSet(d,b)}}renderDataBar(d,b){d.openNode(this.tag,{type:"dataBar",id:b.x14Id}),this.databarXform.render(d,b),d.closeNode()}renderIconSet(d,b){d.openNode(this.tag,{type:"iconSet",priority:b.priority,id:b.x14Id||`{${i()}}`}),this.iconSetXform.render(d,b),d.closeNode()}createNewModel(d){let{attributes:b}=d;return{type:b.type,x14Id:b.id,priority:a.toIntValue(b.priority)}}onParserClose(d,b){Object.assign(this.model,b.model)}}n.exports=p},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(e,n,s){const i=e("../../composite-xform"),a=e("./f-ext-xform");n.exports=class extends i{constructor(){super(),this.map={"xm:f":this.fExtXform=new a}}get tag(){return"x14:cfvo"}render(l,c){l.openNode(this.tag,{type:c.type}),c.value!==void 0&&this.fExtXform.render(l,c.value),l.closeNode()}createNewModel(l){return{type:l.attributes.type}}onParserClose(l,c){switch(l){case"xm:f":this.model.value=c.model?parseFloat(c.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(e,n,s){const i=e("../../composite-xform"),a=e("./sqref-ext-xform"),l=e("./cf-rule-ext-xform");n.exports=class extends i{constructor(){super(),this.map={"xm:sqref":this.sqRef=new a,"x14:cfRule":this.cfRule=new l}}get tag(){return"x14:conditionalFormatting"}prepare(c,o){c.rules.forEach(u=>{this.cfRule.prepare(u,o)})}render(c,o){o.rules.some(l.isExt)&&(c.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),o.rules.filter(l.isExt).forEach(u=>this.cfRule.render(c,u)),this.sqRef.render(c,o.ref),c.closeNode())}createNewModel(){return{rules:[]}}onParserClose(c,o){switch(c){case"xm:sqref":this.model.ref=o.model;break;case"x14:cfRule":this.model.rules.push(o.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(e,n,s){const i=e("../../composite-xform"),a=e("./cf-rule-ext-xform"),l=e("./conditional-formatting-ext-xform");n.exports=class extends i{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new l}}get tag(){return"x14:conditionalFormattings"}hasContent(c){return c.hasExtContent===void 0&&(c.hasExtContent=c.some(o=>o.rules.some(a.isExt))),c.hasExtContent}prepare(c,o){c.forEach(u=>{this.cfXform.prepare(u,o)})}render(c,o){this.hasContent(o)&&(c.openNode(this.tag),o.forEach(u=>this.cfXform.render(c,u)),c.closeNode())}createNewModel(){return[]}onParserClose(c,o){this.model.push(o.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(e,n,s){const i=e("../../base-xform"),a=e("../../composite-xform"),l=e("../../style/color-xform"),c=e("./cfvo-ext-xform");n.exports=class extends a{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new c,"x14:borderColor":this.borderColorXform=new l("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new l("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new l("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new l("x14:axisColor")}}static isExt(o){return!o.gradient}get tag(){return"x14:dataBar"}render(o,u){o.openNode(this.tag,{minLength:i.toIntAttribute(u.minLength,0,!0),maxLength:i.toIntAttribute(u.maxLength,100,!0),border:i.toBoolAttribute(u.border,!1),gradient:i.toBoolAttribute(u.gradient,!0),negativeBarColorSameAsPositive:i.toBoolAttribute(u.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:i.toBoolAttribute(u.negativeBarBorderColorSameAsPositive,!0),axisPosition:i.toAttribute(u.axisPosition,"auto"),direction:i.toAttribute(u.direction,"leftToRight")}),u.cfvo.forEach(p=>{this.cfvoXform.render(o,p)}),this.borderColorXform.render(o,u.borderColor),this.negativeBorderColorXform.render(o,u.negativeBorderColor),this.negativeFillColorXform.render(o,u.negativeFillColor),this.axisColorXform.render(o,u.axisColor),o.closeNode()}createNewModel(o){let{attributes:u}=o;return{cfvo:[],minLength:i.toIntValue(u.minLength,0),maxLength:i.toIntValue(u.maxLength,100),border:i.toBoolValue(u.border,!1),gradient:i.toBoolValue(u.gradient,!0),negativeBarColorSameAsPositive:i.toBoolValue(u.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:i.toBoolValue(u.negativeBarBorderColorSameAsPositive,!0),axisPosition:i.toStringValue(u.axisPosition,"auto"),direction:i.toStringValue(u.direction,"leftToRight")}}onParserClose(o,u){const[,p]=o.split(":");switch(p){case"cfvo":this.model.cfvo.push(u.model);break;default:this.model[p]=u.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(e,n,s){const i=e("../../base-xform");n.exports=class extends i{get tag(){return"xm:f"}render(a,l){a.leafNode(this.tag,null,l)}parseOpen(){this.model=""}parseText(a){this.model+=a}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],81:[function(e,n,s){const i=e("../../base-xform"),a=e("../../composite-xform"),l=e("./cfvo-ext-xform"),c=e("./cf-icon-ext-xform");n.exports=class extends a{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new l,"x14:cfIcon":this.cfIconXform=new c}}get tag(){return"x14:iconSet"}render(o,u){o.openNode(this.tag,{iconSet:i.toStringAttribute(u.iconSet),reverse:i.toBoolAttribute(u.reverse,!1),showValue:i.toBoolAttribute(u.showValue,!0),custom:i.toBoolAttribute(u.icons,!1)}),u.cfvo.forEach(p=>{this.cfvoXform.render(o,p)}),u.icons&&u.icons.forEach((p,h)=>{p.iconId=h,this.cfIconXform.render(o,p)}),o.closeNode()}createNewModel(o){let{attributes:u}=o;return{cfvo:[],iconSet:i.toStringValue(u.iconSet,"3TrafficLights"),reverse:i.toBoolValue(u.reverse,!1),showValue:i.toBoolValue(u.showValue,!0)}}onParserClose(o,u){const[,p]=o.split(":");switch(p){case"cfvo":this.model.cfvo.push(u.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(u.model);break;default:this.model[p]=u.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(e,n,s){const i=e("../../base-xform");n.exports=class extends i{get tag(){return"xm:sqref"}render(a,l){a.leafNode(this.tag,null,l)}parseOpen(){this.model=""}parseText(a){this.model+=a}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],83:[function(e,n,s){const i=e("../../base-xform"),a=e("../../composite-xform"),l=e("../../../../doc/range"),c=e("./databar-xform"),o=e("./ext-lst-ref-xform"),u=e("./formula-xform"),p=e("./color-scale-xform"),h=e("./icon-set-xform"),d={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},b=g=>{const{type:w,operator:v}=g;switch(w){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:w};default:return{type:w,operator:v}}};class x extends a{constructor(){super(),this.map={dataBar:this.databarXform=new c,extLst:this.extLstRefXform=new o,formula:this.formulaXform=new u,colorScale:this.colorScaleXform=new p,iconSet:this.iconSetXform=new h}}get tag(){return"cfRule"}static isPrimitive(w){return w.type!=="iconSet"||!w.custom&&!d[w.iconSet]}render(w,v){switch(v.type){case"expression":this.renderExpression(w,v);break;case"cellIs":this.renderCellIs(w,v);break;case"top10":this.renderTop10(w,v);break;case"aboveAverage":this.renderAboveAverage(w,v);break;case"dataBar":this.renderDataBar(w,v);break;case"colorScale":this.renderColorScale(w,v);break;case"iconSet":this.renderIconSet(w,v);break;case"containsText":this.renderText(w,v);break;case"timePeriod":this.renderTimePeriod(w,v)}}renderExpression(w,v){w.openNode(this.tag,{type:"expression",dxfId:v.dxfId,priority:v.priority}),this.formulaXform.render(w,v.formulae[0]),w.closeNode()}renderCellIs(w,v){w.openNode(this.tag,{type:"cellIs",dxfId:v.dxfId,priority:v.priority,operator:v.operator}),v.formulae.forEach(k=>{this.formulaXform.render(w,k)}),w.closeNode()}renderTop10(w,v){w.leafNode(this.tag,{type:"top10",dxfId:v.dxfId,priority:v.priority,percent:i.toBoolAttribute(v.percent,!1),bottom:i.toBoolAttribute(v.bottom,!1),rank:i.toIntValue(v.rank,10,!0)})}renderAboveAverage(w,v){w.leafNode(this.tag,{type:"aboveAverage",dxfId:v.dxfId,priority:v.priority,aboveAverage:i.toBoolAttribute(v.aboveAverage,!0)})}renderDataBar(w,v){w.openNode(this.tag,{type:"dataBar",priority:v.priority}),this.databarXform.render(w,v),this.extLstRefXform.render(w,v),w.closeNode()}renderColorScale(w,v){w.openNode(this.tag,{type:"colorScale",priority:v.priority}),this.colorScaleXform.render(w,v),w.closeNode()}renderIconSet(w,v){x.isPrimitive(v)&&(w.openNode(this.tag,{type:"iconSet",priority:v.priority}),this.iconSetXform.render(w,v),w.closeNode())}renderText(w,v){w.openNode(this.tag,{type:v.operator,dxfId:v.dxfId,priority:v.priority,operator:i.toStringAttribute(v.operator,"containsText")});const k=(R=>{if(R.formulae&&R.formulae[0])return R.formulae[0];const L=new l(R.ref),{tl:G}=L;switch(R.operator){case"containsText":return`NOT(ISERROR(SEARCH("${R.text}",${G})))`;case"containsBlanks":return`LEN(TRIM(${G}))=0`;case"notContainsBlanks":return`LEN(TRIM(${G}))>0`;case"containsErrors":return`ISERROR(${G})`;case"notContainsErrors":return`NOT(ISERROR(${G}))`;default:return}})(v);k&&this.formulaXform.render(w,k),w.closeNode()}renderTimePeriod(w,v){w.openNode(this.tag,{type:"timePeriod",dxfId:v.dxfId,priority:v.priority,timePeriod:v.timePeriod});const k=(R=>{if(R.formulae&&R.formulae[0])return R.formulae[0];const L=new l(R.ref),{tl:G}=L;switch(R.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${G},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${G},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${G},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${G},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${G},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${G},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${G},1)=TODAY()-1`;case"today":return`FLOOR(${G},1)=TODAY()`;case"tomorrow":return`FLOOR(${G},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${G},1)<=6,FLOOR(${G},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${G})=MONTH(EDATE(TODAY(),0-1)),YEAR(${G})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${G})=MONTH(TODAY()),YEAR(${G})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${G})=MONTH(EDATE(TODAY(),0+1)),YEAR(${G})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(v);k&&this.formulaXform.render(w,k),w.closeNode()}createNewModel(w){let{attributes:v}=w;return{...b(v),dxfId:i.toIntValue(v.dxfId),priority:i.toIntValue(v.priority),timePeriod:v.timePeriod,percent:i.toBoolValue(v.percent),bottom:i.toBoolValue(v.bottom),rank:i.toIntValue(v.rank),aboveAverage:i.toBoolValue(v.aboveAverage)}}onParserClose(w,v){switch(w){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,v.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(v.model)}}}n.exports=x},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(e,n,s){const i=e("../../base-xform");n.exports=class extends i{get tag(){return"cfvo"}render(a,l){a.leafNode(this.tag,{type:l.type,val:l.value})}parseOpen(a){this.model={type:a.attributes.type,value:i.toFloatValue(a.attributes.val)}}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],85:[function(e,n,s){const i=e("../../composite-xform"),a=e("../../style/color-xform"),l=e("./cfvo-xform");n.exports=class extends i{constructor(){super(),this.map={cfvo:this.cfvoXform=new l,color:this.colorXform=new a}}get tag(){return"colorScale"}render(c,o){c.openNode(this.tag),o.cfvo.forEach(u=>{this.cfvoXform.render(c,u)}),o.color.forEach(u=>{this.colorXform.render(c,u)}),c.closeNode()}createNewModel(c){return{cfvo:[],color:[]}}onParserClose(c,o){this.model[c].push(o.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(e,n,s){const i=e("../../composite-xform"),a=e("./cf-rule-xform");n.exports=class extends i{constructor(){super(),this.map={cfRule:new a}}get tag(){return"conditionalFormatting"}render(l,c){c.rules.some(a.isPrimitive)&&(l.openNode(this.tag,{sqref:c.ref}),c.rules.forEach(o=>{a.isPrimitive(o)&&(o.ref=c.ref,this.map.cfRule.render(l,o))}),l.closeNode())}createNewModel(l){let{attributes:c}=l;return{ref:c.sqref,rules:[]}}onParserClose(l,c){this.model.rules.push(c.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(e,n,s){const i=e("../../base-xform"),a=e("./conditional-formatting-xform");n.exports=class extends i{constructor(){super(),this.cfXform=new a}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(l,c){let o=l.reduce((u,p)=>Math.max(u,...p.rules.map(h=>h.priority||0)),1);l.forEach(u=>{u.rules.forEach(p=>{p.priority||(p.priority=o++),p.style&&(p.dxfId=c.styles.addDxfStyle(p.style))})})}render(l,c){c.forEach(o=>{this.cfXform.render(l,o)})}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(l),!0;default:return!1}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){return!!this.parser&&(!!this.parser.parseClose(l)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(l,c){l.forEach(o=>{o.rules.forEach(u=>{u.dxfId!==void 0&&(u.style=c.styles.getDxfStyle(u.dxfId),delete u.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(e,n,s){const i=e("../../composite-xform"),a=e("../../style/color-xform"),l=e("./cfvo-xform");n.exports=class extends i{constructor(){super(),this.map={cfvo:this.cfvoXform=new l,color:this.colorXform=new a}}get tag(){return"dataBar"}render(c,o){c.openNode(this.tag),o.cfvo.forEach(u=>{this.cfvoXform.render(c,u)}),this.colorXform.render(c,o.color),c.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(c,o){switch(c){case"cfvo":this.model.cfvo.push(o.model);break;case"color":this.model.color=o.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(e,n,s){const i=e("../../base-xform"),a=e("../../composite-xform");class l extends i{get tag(){return"x14:id"}render(u,p){u.leafNode(this.tag,null,p)}parseOpen(){this.model=""}parseText(u){this.model+=u}parseClose(u){return u!==this.tag}}class c extends a{constructor(){super(),this.map={"x14:id":this.idXform=new l}}get tag(){return"ext"}render(u,p){u.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(u,p.x14Id),u.closeNode()}createNewModel(){return{}}onParserClose(u,p){this.model.x14Id=p.model}}n.exports=class extends a{constructor(){super(),this.map={ext:new c}}get tag(){return"extLst"}render(o,u){o.openNode(this.tag),this.map.ext.render(o,u),o.closeNode()}createNewModel(){return{}}onParserClose(o,u){Object.assign(this.model,u.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(e,n,s){const i=e("../../base-xform");n.exports=class extends i{get tag(){return"formula"}render(a,l){a.leafNode(this.tag,null,l)}parseOpen(){this.model=""}parseText(a){this.model+=a}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],91:[function(e,n,s){const i=e("../../base-xform"),a=e("../../composite-xform"),l=e("./cfvo-xform");n.exports=class extends a{constructor(){super(),this.map={cfvo:this.cfvoXform=new l}}get tag(){return"iconSet"}render(c,o){c.openNode(this.tag,{iconSet:i.toStringAttribute(o.iconSet,"3TrafficLights"),reverse:i.toBoolAttribute(o.reverse,!1),showValue:i.toBoolAttribute(o.showValue,!0)}),o.cfvo.forEach(u=>{this.cfvoXform.render(c,u)}),c.closeNode()}createNewModel(c){let{attributes:o}=c;return{iconSet:i.toStringValue(o.iconSet,"3TrafficLights"),reverse:i.toBoolValue(o.reverse),showValue:i.toBoolValue(o.showValue),cfvo:[]}}onParserClose(c,o){this.model[c].push(o.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(e,n,s){const i=e("../../../utils/utils"),a=e("../base-xform");n.exports=class extends a{get tag(){return"col"}prepare(l,c){const o=c.styles.addStyleModel(l.style||{});o&&(l.styleId=o)}render(l,c){l.openNode("col"),l.addAttribute("min",c.min),l.addAttribute("max",c.max),c.width&&l.addAttribute("width",c.width),c.styleId&&l.addAttribute("style",c.styleId),c.hidden&&l.addAttribute("hidden","1"),c.bestFit&&l.addAttribute("bestFit","1"),c.outlineLevel&&l.addAttribute("outlineLevel",c.outlineLevel),c.collapsed&&l.addAttribute("collapsed","1"),l.addAttribute("customWidth","1"),l.closeNode()}parseOpen(l){if(l.name==="col"){const c=this.model={min:parseInt(l.attributes.min||"0",10),max:parseInt(l.attributes.max||"0",10),width:l.attributes.width===void 0?void 0:parseFloat(l.attributes.width||"0")};return l.attributes.style&&(c.styleId=parseInt(l.attributes.style,10)),i.parseBoolean(l.attributes.hidden)&&(c.hidden=!0),i.parseBoolean(l.attributes.bestFit)&&(c.bestFit=!0),l.attributes.outlineLevel&&(c.outlineLevel=parseInt(l.attributes.outlineLevel,10)),i.parseBoolean(l.attributes.collapsed)&&(c.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(l,c){l.styleId&&(l.style=c.styles.getStyleModel(l.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(e,n,s){const i=e("../../../utils/under-dash"),a=e("../../../utils/utils"),l=e("../../../utils/col-cache"),c=e("../base-xform"),o=e("../../../doc/range");function u(h,d,b,x){const g=d[b];g!==void 0?h[b]=g:x!==void 0&&(h[b]=x)}function p(h,d,b,x){const g=d[b];g!==void 0&&(h[b]=a.parseBoolean(g))}n.exports=class extends c{get tag(){return"dataValidations"}render(h,d){const b=(function(x){const g=i.map(x,(k,R)=>({address:R,dataValidation:k,marked:!1})).sort((k,R)=>i.strcmp(k.address,R.address)),w=i.keyBy(g,"address"),v=(k,R,L)=>{for(let G=0;G<R;G++){const V=l.encodeAddress(k.row+G,L);if(!x[V]||!i.isEqual(x[k.address],x[V]))return!1}return!0};return g.map(k=>{if(!k.marked){const R=l.decodeEx(k.address);if(R.dimensions)return w[R.dimensions].marked=!0,{...k.dataValidation,sqref:k.address};let L=1,G=l.encodeAddress(R.row+L,R.col);for(;x[G]&&i.isEqual(k.dataValidation,x[G]);)L++,G=l.encodeAddress(R.row+L,R.col);let V=1;for(;v(R,L,R.col+V);)V++;for(let O=0;O<L;O++)for(let F=0;F<V;F++)G=l.encodeAddress(R.row+O,R.col+F),w[G].marked=!0;if(L>1||V>1){const O=R.row+(L-1),F=R.col+(V-1);return{...k.dataValidation,sqref:`${k.address}:${l.encodeAddress(O,F)}`}}return{...k.dataValidation,sqref:k.address}}return null}).filter(Boolean)})(d);b.length&&(h.openNode("dataValidations",{count:b.length}),b.forEach(x=>{h.openNode("dataValidation"),x.type!=="any"&&(h.addAttribute("type",x.type),x.operator&&x.type!=="list"&&x.operator!=="between"&&h.addAttribute("operator",x.operator),x.allowBlank&&h.addAttribute("allowBlank","1")),x.showInputMessage&&h.addAttribute("showInputMessage","1"),x.promptTitle&&h.addAttribute("promptTitle",x.promptTitle),x.prompt&&h.addAttribute("prompt",x.prompt),x.showErrorMessage&&h.addAttribute("showErrorMessage","1"),x.errorStyle&&h.addAttribute("errorStyle",x.errorStyle),x.errorTitle&&h.addAttribute("errorTitle",x.errorTitle),x.error&&h.addAttribute("error",x.error),h.addAttribute("sqref",x.sqref),(x.formulae||[]).forEach((g,w)=>{h.openNode("formula"+(w+1)),x.type==="date"?h.writeText(a.dateToExcel(new Date(g))):h.writeText(g),h.closeNode()}),h.closeNode()}),h.closeNode())}parseOpen(h){switch(h.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=h.attributes.sqref;const d={type:h.attributes.type||"any",formulae:[]};switch(h.attributes.type&&p(d,h.attributes,"allowBlank"),p(d,h.attributes,"showInputMessage"),p(d,h.attributes,"showErrorMessage"),d.type){case"any":case"list":case"custom":break;default:u(d,h.attributes,"operator","between")}return u(d,h.attributes,"promptTitle"),u(d,h.attributes,"prompt"),u(d,h.attributes,"errorStyle"),u(d,h.attributes,"errorTitle"),u(d,h.attributes,"error"),this._dataValidation=d,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(h){this._formula&&this._formula.push(h)}parseClose(h){switch(h){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(d=>{d.includes(":")?new o(d).forEachAddress(b=>{this.model[b]=this._dataValidation}):this.model[d]=this._dataValidation}),!0;case"formula1":case"formula2":{let d=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":d=parseInt(d,10);break;case"decimal":d=parseFloat(d);break;case"date":d=a.excelToDate(parseFloat(d))}return this._dataValidation.formulae.push(d),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"dimension"}render(a,l){l&&a.leafNode("dimension",{ref:l})}parseOpen(a){return a.name==="dimension"&&(this.model=a.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"drawing"}render(a,l){l&&a.leafNode(this.tag,{"r:id":l.rId})}parseOpen(a){switch(a.name){case this.tag:return this.model={rId:a.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(e,n,s){const i=e("../composite-xform"),a=e("./cf-ext/conditional-formattings-ext-xform");class l extends i{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new a}}get tag(){return"ext"}hasContent(o){return this.conditionalFormattings.hasContent(o.conditionalFormattings)}prepare(o,u){this.conditionalFormattings.prepare(o.conditionalFormattings,u)}render(o,u){o.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(o,u.conditionalFormattings),o.closeNode()}createNewModel(){return{}}onParserClose(o,u){this.model[o]=u.model}}n.exports=class extends i{constructor(){super(),this.map={ext:this.ext=new l}}get tag(){return"extLst"}prepare(c,o){this.ext.prepare(c,o)}hasContent(c){return this.ext.hasContent(c)}render(c,o){this.hasContent(o)&&(c.openNode("extLst"),this.ext.render(c,o),c.closeNode())}createNewModel(){return{}}onParserClose(c,o){Object.assign(this.model,o.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"headerFooter"}render(a,l){if(l){a.addRollback();let c=!1;a.openNode("headerFooter"),l.differentFirst&&(a.addAttribute("differentFirst","1"),c=!0),l.differentOddEven&&(a.addAttribute("differentOddEven","1"),c=!0),l.oddHeader&&typeof l.oddHeader=="string"&&(a.leafNode("oddHeader",null,l.oddHeader),c=!0),l.oddFooter&&typeof l.oddFooter=="string"&&(a.leafNode("oddFooter",null,l.oddFooter),c=!0),l.evenHeader&&typeof l.evenHeader=="string"&&(a.leafNode("evenHeader",null,l.evenHeader),c=!0),l.evenFooter&&typeof l.evenFooter=="string"&&(a.leafNode("evenFooter",null,l.evenFooter),c=!0),l.firstHeader&&typeof l.firstHeader=="string"&&(a.leafNode("firstHeader",null,l.firstHeader),c=!0),l.firstFooter&&typeof l.firstFooter=="string"&&(a.leafNode("firstFooter",null,l.firstFooter),c=!0),c?(a.closeNode(),a.commit()):a.rollback()}}parseOpen(a){switch(a.name){case"headerFooter":return this.model={},a.attributes.differentFirst&&(this.model.differentFirst=parseInt(a.attributes.differentFirst,0)===1),a.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(a.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(a){switch(this.currentNode){case"oddHeader":this.model.oddHeader=a;break;case"oddFooter":this.model.oddFooter=a;break;case"evenHeader":this.model.evenHeader=a;break;case"evenFooter":this.model.evenFooter=a;break;case"firstHeader":this.model.firstHeader=a;break;case"firstFooter":this.model.firstFooter=a}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"hyperlink"}render(a,l){this.isInternalLink(l)?a.leafNode("hyperlink",{ref:l.address,"r:id":l.rId,tooltip:l.tooltip,location:l.target}):a.leafNode("hyperlink",{ref:l.address,"r:id":l.rId,tooltip:l.tooltip})}parseOpen(a){return a.name==="hyperlink"&&(this.model={address:a.attributes.ref,rId:a.attributes["r:id"],tooltip:a.attributes.tooltip},a.attributes.location&&(this.model.target=a.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(a){return a.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(a.target)}}},{"../base-xform":32}],99:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"mergeCell"}render(a,l){a.leafNode("mergeCell",{ref:l})}parseOpen(a){return a.name==="mergeCell"&&(this.model=a.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(e,n,s){const i=e("../../../utils/under-dash"),a=e("../../../doc/range"),l=e("../../../utils/col-cache"),c=e("../../../doc/enums");n.exports=class{constructor(){this.merges={}}add(o){if(this.merges[o.master])this.merges[o.master].expandToAddress(o.address);else{const u=`${o.master}:${o.address}`;this.merges[o.master]=new a(u)}}get mergeCells(){return i.map(this.merges,o=>o.range)}reconcile(o,u){i.each(o,p=>{const h=l.decode(p);for(let d=h.top;d<=h.bottom;d++){const b=u[d-1];for(let x=h.left;x<=h.right;x++){const g=b.cells[x-1];g?g.type===c.ValueType.Merge&&(g.master=h.tl):b.cells[x]={type:c.ValueType.Null,address:l.encodeAddress(d,x)}}}})}getMasterAddress(o){const u=this.hash[o];return u&&u.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(e,n,s){const i=e("../base-xform"),a=l=>l!==void 0;n.exports=class extends i{get tag(){return"outlinePr"}render(l,c){return!(!c||!a(c.summaryBelow)&&!a(c.summaryRight))&&(l.leafNode(this.tag,{summaryBelow:a(c.summaryBelow)?Number(c.summaryBelow):void 0,summaryRight:a(c.summaryRight)?Number(c.summaryRight):void 0}),!0)}parseOpen(l){return l.name===this.tag&&(this.model={summaryBelow:a(l.attributes.summaryBelow)?!!Number(l.attributes.summaryBelow):void 0,summaryRight:a(l.attributes.summaryRight)?!!Number(l.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"brk"}render(a,l){a.leafNode("brk",l)}parseOpen(a){return a.name==="brk"&&(this.model=a.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(e,n,s){const i=e("../../../utils/under-dash"),a=e("../base-xform");n.exports=class extends a{get tag(){return"pageMargins"}render(l,c){if(c){const o={left:c.left,right:c.right,top:c.top,bottom:c.bottom,header:c.header,footer:c.footer};i.some(o,u=>u!==void 0)&&l.leafNode(this.tag,o)}}parseOpen(l){switch(l.name){case this.tag:return this.model={left:parseFloat(l.attributes.left||.7),right:parseFloat(l.attributes.right||.7),top:parseFloat(l.attributes.top||.75),bottom:parseFloat(l.attributes.bottom||.75),header:parseFloat(l.attributes.header||.3),footer:parseFloat(l.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"pageSetUpPr"}render(a,l){return!(!l||!l.fitToPage)&&(a.leafNode(this.tag,{fitToPage:l.fitToPage?"1":void 0}),!0)}parseOpen(a){return a.name===this.tag&&(this.model={fitToPage:a.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(e,n,s){const i=e("../../../utils/under-dash"),a=e("../base-xform");function l(p){return p?"1":void 0}function c(p){switch(p){case"overThenDown":return p;default:return}}function o(p){switch(p){case"atEnd":case"asDisplyed":return p;default:return}}function u(p){switch(p){case"dash":case"blank":case"NA":return p;default:return}}n.exports=class extends a{get tag(){return"pageSetup"}render(p,h){if(h){const d={paperSize:h.paperSize,orientation:h.orientation,horizontalDpi:h.horizontalDpi,verticalDpi:h.verticalDpi,pageOrder:c(h.pageOrder),blackAndWhite:l(h.blackAndWhite),draft:l(h.draft),cellComments:o(h.cellComments),errors:u(h.errors),scale:h.scale,fitToWidth:h.fitToWidth,fitToHeight:h.fitToHeight,firstPageNumber:h.firstPageNumber,useFirstPageNumber:l(h.firstPageNumber),usePrinterDefaults:l(h.usePrinterDefaults),copies:h.copies};i.some(d,b=>b!==void 0)&&p.leafNode(this.tag,d)}}parseOpen(p){switch(p.name){case this.tag:return this.model={paperSize:(h=p.attributes.paperSize,h!==void 0?parseInt(h,10):void 0),orientation:p.attributes.orientation||"portrait",horizontalDpi:parseInt(p.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(p.attributes.verticalDpi||"4294967295",10),pageOrder:p.attributes.pageOrder||"downThenOver",blackAndWhite:p.attributes.blackAndWhite==="1",draft:p.attributes.draft==="1",cellComments:p.attributes.cellComments||"None",errors:p.attributes.errors||"displayed",scale:parseInt(p.attributes.scale||"100",10),fitToWidth:parseInt(p.attributes.fitToWidth||"1",10),fitToHeight:parseInt(p.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(p.attributes.firstPageNumber||"1",10),useFirstPageNumber:p.attributes.useFirstPageNumber==="1",usePrinterDefaults:p.attributes.usePrinterDefaults==="1",copies:parseInt(p.attributes.copies||"1",10)},!0;default:return!1}var h}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"picture"}render(a,l){l&&a.leafNode(this.tag,{"r:id":l.rId})}parseOpen(a){switch(a.name){case this.tag:return this.model={rId:a.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(e,n,s){const i=e("../../../utils/under-dash"),a=e("../base-xform");function l(c){return c?"1":void 0}n.exports=class extends a{get tag(){return"printOptions"}render(c,o){if(o){const u={headings:l(o.showRowColHeaders),gridLines:l(o.showGridLines),horizontalCentered:l(o.horizontalCentered),verticalCentered:l(o.verticalCentered)};i.some(u,p=>p!==void 0)&&c.leafNode(this.tag,u)}}parseOpen(c){switch(c.name){case this.tag:return this.model={showRowColHeaders:c.attributes.headings==="1",showGridLines:c.attributes.gridLines==="1",horizontalCentered:c.attributes.horizontalCentered==="1",verticalCentered:c.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(e,n,s){const i=e("./page-breaks-xform"),a=e("../list-xform");n.exports=class extends a{constructor(){super({tag:"rowBreaks",count:!0,childXform:new i})}render(l,c){if(c&&c.length){l.openNode(this.tag,this.$),this.count&&(l.addAttribute(this.$count,c.length),l.addAttribute("manualBreakCount",c.length));const{childXform:o}=this;c.forEach(u=>{o.render(l,u)}),l.closeNode()}else this.empty&&l.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(e,n,s){const i=e("../base-xform"),a=e("../../../utils/utils"),l=e("./cell-xform");n.exports=class extends i{constructor(c){super(),this.maxItems=c&&c.maxItems,this.map={c:new l}}get tag(){return"row"}prepare(c,o){const u=o.styles.addStyleModel(c.style);u&&(c.styleId=u);const p=this.map.c;c.cells.forEach(h=>{p.prepare(h,o)})}render(c,o,u){c.openNode("row"),c.addAttribute("r",o.number),o.height&&(c.addAttribute("ht",o.height),c.addAttribute("customHeight","1")),o.hidden&&c.addAttribute("hidden","1"),o.min>0&&o.max>0&&o.min<=o.max&&c.addAttribute("spans",`${o.min}:${o.max}`),o.styleId&&(c.addAttribute("s",o.styleId),c.addAttribute("customFormat","1")),c.addAttribute("x14ac:dyDescent","0.25"),o.outlineLevel&&c.addAttribute("outlineLevel",o.outlineLevel),o.collapsed&&c.addAttribute("collapsed","1");const p=this.map.c;o.cells.forEach(h=>{p.render(c,h,u)}),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;if(c.name==="row"){this.numRowsSeen+=1;const o=c.attributes.spans?c.attributes.spans.split(":").map(p=>parseInt(p,10)):[void 0,void 0],u=this.model={number:parseInt(c.attributes.r,10),min:o[0],max:o[1],cells:[]};return c.attributes.s&&(u.styleId=parseInt(c.attributes.s,10)),a.parseBoolean(c.attributes.hidden)&&(u.hidden=!0),a.parseBoolean(c.attributes.bestFit)&&(u.bestFit=!0),c.attributes.ht&&(u.height=parseFloat(c.attributes.ht)),c.attributes.outlineLevel&&(u.outlineLevel=parseInt(c.attributes.outlineLevel,10)),a.parseBoolean(c.attributes.collapsed)&&(u.collapsed=!0),!0}return this.parser=this.map[c.name],!!this.parser&&(this.parser.parseOpen(c),!0)}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser){if(!this.parser.parseClose(c)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(c,o){c.style=c.styleId?o.styles.getStyleModel(c.styleId):{},c.styleId!==void 0&&(c.styleId=void 0);const u=this.map.c;c.cells.forEach(p=>{u.reconcile(p,o)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(e,n,s){const i=e("../../../utils/under-dash"),a=e("../base-xform");n.exports=class extends a{get tag(){return"sheetFormatPr"}render(l,c){if(c){const o={defaultRowHeight:c.defaultRowHeight,outlineLevelRow:c.outlineLevelRow,outlineLevelCol:c.outlineLevelCol,"x14ac:dyDescent":c.dyDescent};c.defaultColWidth&&(o.defaultColWidth=c.defaultColWidth),c.defaultRowHeight&&c.defaultRowHeight===15||(o.customHeight="1"),i.some(o,u=>u!==void 0)&&l.leafNode("sheetFormatPr",o)}}parseOpen(l){return l.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(l.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(l.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(l.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(l.attributes.outlineLevelCol||"0",10)},l.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(l.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(e,n,s){const i=e("../base-xform"),a=e("../style/color-xform"),l=e("./page-setup-properties-xform"),c=e("./outline-properties-xform");n.exports=class extends i{constructor(){super(),this.map={tabColor:new a("tabColor"),pageSetUpPr:new l,outlinePr:new c}}get tag(){return"sheetPr"}render(o,u){if(u){o.addRollback(),o.openNode("sheetPr");let p=!1;p=this.map.tabColor.render(o,u.tabColor)||p,p=this.map.pageSetUpPr.render(o,u.pageSetup)||p,p=this.map.outlinePr.render(o,u.outlineProperties)||p,p?(o.closeNode(),o.commit()):o.rollback()}}parseOpen(o){return this.parser?(this.parser.parseOpen(o),!0):o.name===this.tag?(this.reset(),!0):!!this.map[o.name]&&(this.parser=this.map[o.name],this.parser.parseOpen(o),!0)}parseText(o){return!!this.parser&&(this.parser.parseText(o),!0)}parseClose(o){return this.parser?(this.parser.parseClose(o)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(e,n,s){const i=e("../../../utils/under-dash"),a=e("../base-xform");function l(o,u){return o?u:void 0}function c(o,u){return o===u||void 0}n.exports=class extends a{get tag(){return"sheetProtection"}render(o,u){if(u){const p={sheet:l(u.sheet,"1"),selectLockedCells:u.selectLockedCells===!1?"1":void 0,selectUnlockedCells:u.selectUnlockedCells===!1?"1":void 0,formatCells:l(u.formatCells,"0"),formatColumns:l(u.formatColumns,"0"),formatRows:l(u.formatRows,"0"),insertColumns:l(u.insertColumns,"0"),insertRows:l(u.insertRows,"0"),insertHyperlinks:l(u.insertHyperlinks,"0"),deleteColumns:l(u.deleteColumns,"0"),deleteRows:l(u.deleteRows,"0"),sort:l(u.sort,"0"),autoFilter:l(u.autoFilter,"0"),pivotTables:l(u.pivotTables,"0")};u.sheet&&(p.algorithmName=u.algorithmName,p.hashValue=u.hashValue,p.saltValue=u.saltValue,p.spinCount=u.spinCount,p.objects=l(u.objects===!1,"1"),p.scenarios=l(u.scenarios===!1,"1")),i.some(p,h=>h!==void 0)&&o.leafNode(this.tag,p)}}parseOpen(o){switch(o.name){case this.tag:return this.model={sheet:c(o.attributes.sheet,"1"),objects:o.attributes.objects!=="1"&&void 0,scenarios:o.attributes.scenarios!=="1"&&void 0,selectLockedCells:o.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:o.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:c(o.attributes.formatCells,"0"),formatColumns:c(o.attributes.formatColumns,"0"),formatRows:c(o.attributes.formatRows,"0"),insertColumns:c(o.attributes.insertColumns,"0"),insertRows:c(o.attributes.insertRows,"0"),insertHyperlinks:c(o.attributes.insertHyperlinks,"0"),deleteColumns:c(o.attributes.deleteColumns,"0"),deleteRows:c(o.attributes.deleteRows,"0"),sort:c(o.attributes.sort,"0"),autoFilter:c(o.attributes.autoFilter,"0"),pivotTables:c(o.attributes.pivotTables,"0")},o.attributes.algorithmName&&(this.model.algorithmName=o.attributes.algorithmName,this.model.hashValue=o.attributes.hashValue,this.model.saltValue=o.attributes.saltValue,this.model.spinCount=parseInt(o.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(e,n,s){const i=e("../../../utils/col-cache"),a=e("../base-xform"),l={frozen:"frozen",frozenSplit:"frozen",split:"split"};n.exports=class extends a{get tag(){return"sheetView"}prepare(c){switch(c.state){case"frozen":case"split":break;default:c.state="normal"}}render(c,o){c.openNode("sheetView",{workbookViewId:o.workbookViewId||0});const u=function(x,g,w){w&&c.addAttribute(x,g)};let p,h,d,b;switch(u("rightToLeft","1",o.rightToLeft===!0),u("tabSelected","1",o.tabSelected),u("showRuler","0",o.showRuler===!1),u("showRowColHeaders","0",o.showRowColHeaders===!1),u("showGridLines","0",o.showGridLines===!1),u("zoomScale",o.zoomScale,o.zoomScale),u("zoomScaleNormal",o.zoomScaleNormal,o.zoomScaleNormal),u("view",o.style,o.style),o.state){case"frozen":h=o.xSplit||0,d=o.ySplit||0,p=o.topLeftCell||i.getAddress(d+1,h+1).address,b=(o.xSplit&&o.ySplit?"bottomRight":o.xSplit&&"topRight")||"bottomLeft",c.leafNode("pane",{xSplit:o.xSplit||void 0,ySplit:o.ySplit||void 0,topLeftCell:p,activePane:b,state:"frozen"}),c.leafNode("selection",{pane:b,activeCell:o.activeCell,sqref:o.activeCell});break;case"split":o.activePane==="topLeft"&&(o.activePane=void 0),c.leafNode("pane",{xSplit:o.xSplit||void 0,ySplit:o.ySplit||void 0,topLeftCell:o.topLeftCell,activePane:o.activePane}),c.leafNode("selection",{pane:o.activePane,activeCell:o.activeCell,sqref:o.activeCell});break;case"normal":o.activeCell&&c.leafNode("selection",{activeCell:o.activeCell,sqref:o.activeCell})}c.closeNode()}parseOpen(c){switch(c.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(c.attributes.workbookViewId,10),rightToLeft:c.attributes.rightToLeft==="1",tabSelected:c.attributes.tabSelected==="1",showRuler:c.attributes.showRuler!=="0",showRowColHeaders:c.attributes.showRowColHeaders!=="0",showGridLines:c.attributes.showGridLines!=="0",zoomScale:parseInt(c.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(c.attributes.zoomScaleNormal||"100",10),style:c.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(c.attributes.xSplit||"0",10),ySplit:parseInt(c.attributes.ySplit||"0",10),topLeftCell:c.attributes.topLeftCell,activePane:c.attributes.activePane||"topLeft",state:c.attributes.state},!0;case"selection":{const o=c.attributes.pane||"topLeft";return this.selections[o]={pane:o,activeCell:c.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(c){let o,u;switch(c){case"sheetView":return this.sheetView&&this.pane?(o=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:l[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(o.activePane=this.pane.activePane),u=this.selections[this.pane.activePane],u&&u.activeCell&&(o.activeCell=u.activeCell),this.sheetView.style&&(o.style=this.sheetView.style)):(o=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},u=this.selections.topLeft,u&&u.activeCell&&(o.activeCell=u.activeCell),this.sheetView.style&&(o.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"tablePart"}render(a,l){l&&a.leafNode(this.tag,{"r:id":l.rId})}parseOpen(a){switch(a.name){case this.tag:return this.model={rId:a.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(e,n,s){const i=e("../../../utils/under-dash"),a=e("../../../utils/col-cache"),l=e("../../../utils/xml-stream"),c=e("../../rel-type"),o=e("./merges"),u=e("../base-xform"),p=e("../list-xform"),h=e("./row-xform"),d=e("./col-xform"),b=e("./dimension-xform"),x=e("./hyperlink-xform"),g=e("./merge-cell-xform"),w=e("./data-validations-xform"),v=e("./sheet-properties-xform"),k=e("./sheet-format-properties-xform"),R=e("./sheet-view-xform"),L=e("./sheet-protection-xform"),G=e("./page-margins-xform"),V=e("./page-setup-xform"),O=e("./print-options-xform"),F=e("./auto-filter-xform"),B=e("./picture-xform"),W=e("./drawing-xform"),P=e("./table-part-xform"),N=e("./row-breaks-xform"),D=e("./header-footer-xform"),C=e("./cf/conditional-formattings-xform"),S=e("./ext-lst-xform"),T=(E,j)=>{if(!j||!j.length)return E;if(!E||!E.length)return j;const U={},I={};return E.forEach(Q=>{U[Q.ref]=Q,Q.rules.forEach(Y=>{const{x14Id:ee}=Y;ee&&(I[ee]=Y)})}),j.forEach(Q=>{Q.rules.forEach(Y=>{const ee=I[Y.x14Id];ee?((q,te)=>{Object.keys(te).forEach(H=>{const z=q[H],Z=te[H];z===void 0&&Z!==void 0&&(q[H]=Z)})})(ee,Y):U[Q.ref]?U[Q.ref].rules.push(Y):E.push({ref:Q.ref,rules:[Y]})})}),E};class A extends u{constructor(j){super();const{maxRows:U,maxCols:I,ignoreNodes:Q}=j||{};this.ignoreNodes=Q||[],this.map={sheetPr:new v,dimension:new b,sheetViews:new p({tag:"sheetViews",count:!1,childXform:new R}),sheetFormatPr:new k,cols:new p({tag:"cols",count:!1,childXform:new d}),sheetData:new p({tag:"sheetData",count:!1,empty:!0,childXform:new h({maxItems:I}),maxItems:U}),autoFilter:new F,mergeCells:new p({tag:"mergeCells",count:!0,childXform:new g}),rowBreaks:new N,hyperlinks:new p({tag:"hyperlinks",count:!1,childXform:new x}),pageMargins:new G,dataValidations:new w,pageSetup:new V,headerFooter:new D,printOptions:new O,picture:new B,drawing:new W,sheetProtection:new L,tableParts:new p({tag:"tableParts",count:!0,childXform:new P}),conditionalFormatting:new C,extLst:new S}}prepare(j,U){U.merges=new o,j.hyperlinks=U.hyperlinks=[],j.comments=U.comments=[],U.formulae={},U.siFormulae=0,this.map.cols.prepare(j.cols,U),this.map.sheetData.prepare(j.rows,U),this.map.conditionalFormatting.prepare(j.conditionalFormattings,U),j.mergeCells=U.merges.mergeCells;const I=j.rels=[];function Q(q){return"rId"+(q.length+1)}if(j.hyperlinks.forEach(q=>{const te=Q(I);q.rId=te,I.push({Id:te,Type:c.Hyperlink,Target:q.target,TargetMode:"External"})}),j.comments.length>0){const q={Id:Q(I),Type:c.Comments,Target:`../comments${j.id}.xml`};I.push(q);const te={Id:Q(I),Type:c.VmlDrawing,Target:`../drawings/vmlDrawing${j.id}.vml`};I.push(te),j.comments.forEach(H=>{H.refAddress=a.decodeAddress(H.ref)}),U.commentRefs.push({commentName:"comments"+j.id,vmlDrawing:"vmlDrawing"+j.id})}const Y=[];let ee;j.media.forEach(q=>{if(q.type==="background"){const te=Q(I);ee=U.media[q.imageId],I.push({Id:te,Type:c.Image,Target:`../media/${ee.name}.${ee.extension}`}),j.background={rId:te},j.image=U.media[q.imageId]}else if(q.type==="image"){let{drawing:te}=j;ee=U.media[q.imageId],te||(te=j.drawing={rId:Q(I),name:"drawing"+ ++U.drawingsCount,anchors:[],rels:[]},U.drawings.push(te),I.push({Id:te.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${te.name}.xml`}));let H=this.preImageId===q.imageId?Y[q.imageId]:Y[te.rels.length];H||(H=Q(te.rels),Y[te.rels.length]=H,te.rels.push({Id:H,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${ee.name}.${ee.extension}`}));const z={picture:{rId:H},range:q.range};if(q.hyperlinks&&q.hyperlinks.hyperlink){const Z=Q(te.rels);Y[te.rels.length]=Z,z.picture.hyperlinks={tooltip:q.hyperlinks.tooltip,rId:Z},te.rels.push({Id:Z,Type:c.Hyperlink,Target:q.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=q.imageId,te.anchors.push(z)}}),j.tables.forEach(q=>{const te=Q(I);q.rId=te,I.push({Id:te,Type:c.Table,Target:"../tables/"+q.target}),q.columns.forEach(H=>{const{style:z}=H;z&&(H.dxfId=U.styles.addDxfStyle(z))})}),this.map.extLst.prepare(j,U)}render(j,U){j.openXml(l.StdDocAttributes),j.openNode("worksheet",A.WORKSHEET_ATTRIBUTES);const I=U.properties?{defaultRowHeight:U.properties.defaultRowHeight,dyDescent:U.properties.dyDescent,outlineLevelCol:U.properties.outlineLevelCol,outlineLevelRow:U.properties.outlineLevelRow}:void 0;U.properties&&U.properties.defaultColWidth&&(I.defaultColWidth=U.properties.defaultColWidth);const Q={outlineProperties:U.properties&&U.properties.outlineProperties,tabColor:U.properties&&U.properties.tabColor,pageSetup:U.pageSetup&&U.pageSetup.fitToPage?{fitToPage:U.pageSetup.fitToPage}:void 0},Y=U.pageSetup&&U.pageSetup.margins,ee={showRowColHeaders:U.pageSetup&&U.pageSetup.showRowColHeaders,showGridLines:U.pageSetup&&U.pageSetup.showGridLines,horizontalCentered:U.pageSetup&&U.pageSetup.horizontalCentered,verticalCentered:U.pageSetup&&U.pageSetup.verticalCentered},q=U.sheetProtection;this.map.sheetPr.render(j,Q),this.map.dimension.render(j,U.dimensions),this.map.sheetViews.render(j,U.views),this.map.sheetFormatPr.render(j,I),this.map.cols.render(j,U.cols),this.map.sheetData.render(j,U.rows),this.map.sheetProtection.render(j,q),this.map.autoFilter.render(j,U.autoFilter),this.map.mergeCells.render(j,U.mergeCells),this.map.conditionalFormatting.render(j,U.conditionalFormattings),this.map.dataValidations.render(j,U.dataValidations),this.map.hyperlinks.render(j,U.hyperlinks),this.map.printOptions.render(j,ee),this.map.pageMargins.render(j,Y),this.map.pageSetup.render(j,U.pageSetup),this.map.headerFooter.render(j,U.headerFooter),this.map.rowBreaks.render(j,U.rowBreaks),this.map.drawing.render(j,U.drawing),this.map.picture.render(j,U.background),this.map.tableParts.render(j,U.tables),this.map.extLst.render(j,U),U.rels&&U.rels.forEach(te=>{te.Type===c.VmlDrawing&&j.leafNode("legacyDrawing",{"r:id":te.Id})}),j.closeNode()}parseOpen(j){return this.parser?(this.parser.parseOpen(j),!0):j.name==="worksheet"?(i.each(this.map,U=>{U.reset()}),!0):(this.map[j.name]&&!this.ignoreNodes.includes(j.name)&&(this.parser=this.map[j.name],this.parser.parseOpen(j)),!0)}parseText(j){this.parser&&this.parser.parseText(j)}parseClose(j){if(this.parser)return this.parser.parseClose(j)||(this.parser=void 0),!0;switch(j){case"worksheet":{const U=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(U.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(U.outlineProperties=this.map.sheetPr.model.outlineProperties);const I={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},Q=Object.assign(I,this.map.pageSetup.model,this.map.printOptions.model),Y=T(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:U,views:this.map.sheetViews.model,pageSetup:Q,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:Y},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(j,U){const I=(j.relationships||[]).reduce((Y,ee)=>{if(Y[ee.Id]=ee,ee.Type===c.Comments&&(j.comments=U.comments[ee.Target].comments),ee.Type===c.VmlDrawing&&j.comments&&j.comments.length){const q=U.vmlDrawings[ee.Target].comments;j.comments.forEach((te,H)=>{te.note=Object.assign({},te.note,q[H])})}return Y},{});if(U.commentsMap=(j.comments||[]).reduce((Y,ee)=>(ee.ref&&(Y[ee.ref]=ee),Y),{}),U.hyperlinkMap=(j.hyperlinks||[]).reduce((Y,ee)=>(ee.rId&&(Y[ee.address]=I[ee.rId].Target),Y),{}),U.formulae={},j.rows=j.rows&&j.rows.filter(Boolean)||[],j.rows.forEach(Y=>{Y.cells=Y.cells&&Y.cells.filter(Boolean)||[]}),this.map.cols.reconcile(j.cols,U),this.map.sheetData.reconcile(j.rows,U),this.map.conditionalFormatting.reconcile(j.conditionalFormattings,U),j.media=[],j.drawing){const Y=I[j.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(Y){const ee=Y[1];U.drawings[ee].anchors.forEach(q=>{if(q.medium){const te={type:"image",imageId:q.medium.index,range:q.range,hyperlinks:q.picture.hyperlinks};j.media.push(te)}})}}const Q=j.background&&I[j.background.rId];if(Q){const Y=Q.Target.split("/media/")[1],ee=U.mediaIndex&&U.mediaIndex[Y];ee!==void 0&&j.media.push({type:"background",imageId:ee})}j.tables=(j.tables||[]).map(Y=>{const ee=I[Y.rId];return U.tables[ee.Target]}),delete j.relationships,delete j.hyperlinks,delete j.comments}}A.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},n.exports=A},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{constructor(a){super(),this.tag=a.tag,this.attr=a.attr}render(a,l){l&&(a.openNode(this.tag),a.closeNode())}parseOpen(a){a.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{constructor(a){super(),this.tag=a.tag,this.attr=a.attr,this.attrs=a.attrs,this._format=a.format||function(l){try{return Number.isNaN(l.getTime())?"":l.toISOString()}catch{return""}},this._parse=a.parse||function(l){return new Date(l)}}render(a,l){l&&(a.openNode(this.tag),this.attrs&&a.addAttributes(this.attrs),this.attr?a.addAttribute(this.attr,this._format(l)):a.writeText(this._format(l)),a.closeNode())}parseOpen(a){a.name===this.tag&&(this.attr?this.model=this._parse(a.attributes[this.attr]):this.text=[])}parseText(a){this.attr||this.text.push(a)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{constructor(a){super(),this.tag=a.tag,this.attr=a.attr,this.attrs=a.attrs,this.zero=a.zero}render(a,l){(l||this.zero)&&(a.openNode(this.tag),this.attrs&&a.addAttributes(this.attrs),this.attr?a.addAttribute(this.attr,l):a.writeText(l),a.closeNode())}parseOpen(a){return a.name===this.tag&&(this.attr?this.model=parseInt(a.attributes[this.attr],10):this.text=[],!0)}parseText(a){this.attr||this.text.push(a)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{constructor(a){super(),this.tag=a.tag,this.attr=a.attr,this.attrs=a.attrs}render(a,l){l!==void 0&&(a.openNode(this.tag),this.attrs&&a.addAttributes(this.attrs),this.attr?a.addAttribute(this.attr,l):a.writeText(l),a.closeNode())}parseOpen(a){a.name===this.tag&&(this.attr?this.model=a.attributes[this.attr]:this.text=[])}parseText(a){this.attr||this.text.push(a)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(e,n,s){const i=e("./base-xform"),a=e("../../utils/xml-stream");n.exports=class extends i{constructor(l){super(),this._model=l}render(l){if(!this._xml){const c=new a;(function o(u,p){u.openNode(p.tag,p.$),p.c&&p.c.forEach(h=>{o(u,h)}),p.t&&u.writeText(p.t),u.closeNode()})(c,this._model),this._xml=c.xml}l.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(l){switch(l){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(e,n,s){const i=e("./text-xform"),a=e("./rich-text-xform"),l=e("../base-xform");n.exports=class extends l{constructor(){super(),this.map={r:new a,t:new i}}get tag(){return"rPh"}render(c,o){if(c.openNode(this.tag,{sb:o.sb||0,eb:o.eb||0}),o&&o.hasOwnProperty("richText")&&o.richText){const{r:u}=this.map;o.richText.forEach(p=>{u.render(c,p)})}else o&&this.map.t.render(c,o.text);c.closeNode()}parseOpen(c){const{name:o}=c;return this.parser?(this.parser.parseOpen(c),!0):o===this.tag?(this.model={sb:parseInt(c.attributes.sb,10),eb:parseInt(c.attributes.eb,10)},!0):(this.parser=this.map[o],!!this.parser&&(this.parser.parseOpen(c),!0))}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser){if(!this.parser.parseClose(c)){switch(c){case"r":{let o=this.model.richText;o||(o=this.model.richText=[]),o.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(c){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(e,n,s){const i=e("./text-xform"),a=e("../style/font-xform"),l=e("../base-xform");class c extends l{constructor(u){super(),this.model=u}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new i)}get fontXform(){return this._fontXform||(this._fontXform=new a(c.FONT_OPTIONS))}render(u,p){p=p||this.model,u.openNode("r"),p.font&&this.fontXform.render(u,p.font),this.textXform.render(u,p.text),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(u),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){switch(u){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(u),!0}}}c.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},n.exports=c},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(e,n,s){const i=e("./text-xform"),a=e("./rich-text-xform"),l=e("./phonetic-text-xform"),c=e("../base-xform");n.exports=class extends c{constructor(o){super(),this.model=o,this.map={r:new a,t:new i,rPh:new l}}get tag(){return"si"}render(o,u){o.openNode(this.tag),u&&u.hasOwnProperty("richText")&&u.richText?u.richText.length?u.richText.forEach(p=>{this.map.r.render(o,p)}):this.map.t.render(o,""):u!=null&&this.map.t.render(o,u),o.closeNode()}parseOpen(o){const{name:u}=o;return this.parser?(this.parser.parseOpen(o),!0):u===this.tag?(this.model={},!0):(this.parser=this.map[u],!!this.parser&&(this.parser.parseOpen(o),!0))}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser){if(!this.parser.parseClose(o)){switch(o){case"r":{let u=this.model.richText;u||(u=this.model.richText=[]),u.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(e,n,s){const i=e("../../../utils/xml-stream"),a=e("../base-xform"),l=e("./shared-string-xform");n.exports=class extends a{constructor(c){super(),this.model=c||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new l)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(c){return this.model.values[c]}add(c){return c.richText?this.addRichText(c):this.addText(c)}addText(c){let o=this.hash[c];return o===void 0&&(o=this.hash[c]=this.model.values.length,this.model.values.push(c)),this.model.count++,o}addRichText(c){const o=this.sharedStringXform.toXml(c);let u=this.rich[o];return u===void 0&&(u=this.rich[o]=this.model.values.length,this.model.values.push(c)),this.model.count++,u}render(c,o){o=o||this._values,c.openXml(i.StdDocAttributes),c.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:o.count,uniqueCount:o.values.length});const u=this.sharedStringXform;o.values.forEach(p=>{u.render(c,p)}),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(c),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(c))}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(c){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+c)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"t"}render(a,l){a.openNode("t"),/^\s|\n|\s$/.test(l)&&a.addAttribute("xml:space","preserve"),a.writeText(l),a.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(a,l)=>String.fromCharCode(parseInt(l,16)))}parseOpen(a){switch(a.name){case"t":return this._text=[],!0;default:return!1}}parseText(a){this._text.push(a)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(e,n,s){const i=e("../../../doc/enums"),a=e("../../../utils/utils"),l=e("../base-xform"),c={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((u,p)=>(u[p]=!0,u),{}),horizontal(u){return this.horizontalValues[u]?u:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((u,p)=>(u[p]=!0,u),{}),vertical(u){return u==="middle"?"center":this.verticalValues[u]?u:void 0},wrapText:u=>!!u||void 0,shrinkToFit:u=>!!u||void 0,textRotation(u){switch(u){case"vertical":return u;default:return(u=a.validInt(u))>=-90&&u<=90?u:void 0}},indent:u=>(u=a.validInt(u),Math.max(0,u)),readingOrder(u){switch(u){case"ltr":return i.ReadingOrder.LeftToRight;case"rtl":return i.ReadingOrder.RightToLeft;default:return}}},o={toXml(u){if(u=c.textRotation(u)){if(u==="vertical")return 255;const p=Math.round(u);if(p>=0&&p<=90)return p;if(p<0&&p>=-90)return 90-p}},toModel(u){const p=a.validInt(u);if(p!==void 0){if(p===255)return"vertical";if(p>=0&&p<=90)return p;if(p>90&&p<=180)return 90-p}}};n.exports=class extends l{get tag(){return"alignment"}render(u,p){u.addRollback(),u.openNode("alignment");let h=!1;function d(b,x){x&&(u.addAttribute(b,x),h=!0)}d("horizontal",c.horizontal(p.horizontal)),d("vertical",c.vertical(p.vertical)),d("wrapText",!!c.wrapText(p.wrapText)&&"1"),d("shrinkToFit",!!c.shrinkToFit(p.shrinkToFit)&&"1"),d("indent",c.indent(p.indent)),d("textRotation",o.toXml(p.textRotation)),d("readingOrder",c.readingOrder(p.readingOrder)),u.closeNode(),h?u.commit():u.rollback()}parseOpen(u){const p={};let h=!1;function d(b,x,g){b&&(p[x]=g,h=!0)}d(u.attributes.horizontal,"horizontal",u.attributes.horizontal),d(u.attributes.vertical,"vertical",u.attributes.vertical==="center"?"middle":u.attributes.vertical),d(u.attributes.wrapText,"wrapText",a.parseBoolean(u.attributes.wrapText)),d(u.attributes.shrinkToFit,"shrinkToFit",a.parseBoolean(u.attributes.shrinkToFit)),d(u.attributes.indent,"indent",parseInt(u.attributes.indent,10)),d(u.attributes.textRotation,"textRotation",o.toModel(u.attributes.textRotation)),d(u.attributes.readingOrder,"readingOrder",u.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=h?p:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(e,n,s){const i=e("../base-xform"),a=e("../../../utils/utils"),l=e("./color-xform");class c extends i{constructor(u){super(),this.name=u,this.map={color:new l}}get tag(){return this.name}render(u,p,h){const d=p&&p.color||h||this.defaultColor;u.openNode(this.name),p&&p.style&&(u.addAttribute("style",p.style),d&&this.map.color.render(u,d)),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.name:{const{style:p}=u.attributes;return this.model=p?{style:p}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.parser=void 0),!0):(u===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(u){return c.validStyleValues[u]}}c.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((o,u)=>(o[u]=!0,o),{}),n.exports=class extends i{constructor(){super(),this.map={top:new c("top"),left:new c("left"),bottom:new c("bottom"),right:new c("right"),diagonal:new c("diagonal")}}render(o,u){const{color:p}=u;function h(d,b){d&&!d.color&&u.color&&(d={...d,color:u.color}),b.render(o,d,p)}o.openNode("border"),u.diagonal&&u.diagonal.style&&(u.diagonal.up&&o.addAttribute("diagonalUp","1"),u.diagonal.down&&o.addAttribute("diagonalDown","1")),h(u.left,this.map.left),h(u.right,this.map.right),h(u.top,this.map.top),h(u.bottom,this.map.bottom),h(u.diagonal,this.map.diagonal),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"border":return this.reset(),this.diagonalUp=a.parseBoolean(o.attributes.diagonalUp),this.diagonalDown=a.parseBoolean(o.attributes.diagonalDown),!0;default:return this.parser=this.map[o.name],!!this.parser&&(this.parser.parseOpen(o),!0)}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;if(o==="border"){const u=this.model={},p=function(h,d,b){d&&(b&&Object.assign(d,b),u[h]=d)};p("left",this.map.left.model),p("right",this.map.right.model),p("top",this.map.top.model),p("bottom",this.map.bottom.model),p("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{constructor(a){super(),this.name=a||"color"}get tag(){return this.name}render(a,l){return!!l&&(a.openNode(this.name),l.argb?a.addAttribute("rgb",l.argb):l.theme!==void 0?(a.addAttribute("theme",l.theme),l.tint!==void 0&&a.addAttribute("tint",l.tint)):l.indexed!==void 0?a.addAttribute("indexed",l.indexed):a.addAttribute("auto","1"),a.closeNode(),!0)}parseOpen(a){return a.name===this.name&&(a.attributes.rgb?this.model={argb:a.attributes.rgb}:a.attributes.theme?(this.model={theme:parseInt(a.attributes.theme,10)},a.attributes.tint&&(this.model.tint=parseFloat(a.attributes.tint))):a.attributes.indexed?this.model={indexed:parseInt(a.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(e,n,s){const i=e("../base-xform"),a=e("./alignment-xform"),l=e("./border-xform"),c=e("./fill-xform"),o=e("./font-xform"),u=e("./numfmt-xform"),p=e("./protection-xform");n.exports=class extends i{constructor(){super(),this.map={alignment:new a,border:new l,fill:new c,font:new o,numFmt:new u,protection:new p}}get tag(){return"dxf"}render(h,d){if(h.openNode(this.tag),d.font&&this.map.font.render(h,d.font),d.numFmt&&d.numFmtId){const b={id:d.numFmtId,formatCode:d.numFmt};this.map.numFmt.render(h,b)}d.fill&&this.map.fill.render(h,d.fill),d.alignment&&this.map.alignment.render(h,d.alignment),d.border&&this.map.border.render(h,d.border),d.protection&&this.map.protection.render(h,d.protection),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h),!0}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return this.parser?(this.parser.parseClose(h)||(this.parser=void 0),!0):h!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(e,n,s){const i=e("../base-xform"),a=e("./color-xform");class l extends i{constructor(){super(),this.map={color:new a}}get tag(){return"stop"}render(h,d){h.openNode("stop"),h.addAttribute("position",d.position),this.map.color.render(h,d.color),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"stop":return this.model={position:parseFloat(h.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(h),!0;default:return!1}}parseText(){}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class c extends i{constructor(){super(),this.map={fgColor:new a("fgColor"),bgColor:new a("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(h,d){h.openNode("patternFill"),h.addAttribute("patternType",d.pattern),d.fgColor&&this.map.fgColor.render(h,d.fgColor),d.bgColor&&this.map.bgColor.render(h,d.bgColor),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"patternFill":return this.model={type:"pattern",pattern:h.attributes.patternType},!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.parser.model&&(this.model[h]=this.parser.model),this.parser=void 0),!0)}}class o extends i{constructor(){super(),this.map={stop:new l}}get name(){return"gradient"}get tag(){return"gradientFill"}render(h,d){switch(h.openNode("gradientFill"),d.gradient){case"angle":h.addAttribute("degree",d.degree);break;case"path":h.addAttribute("type","path"),d.center.left&&(h.addAttribute("left",d.center.left),d.center.right===void 0&&h.addAttribute("right",d.center.left)),d.center.right&&h.addAttribute("right",d.center.right),d.center.top&&(h.addAttribute("top",d.center.top),d.center.bottom===void 0&&h.addAttribute("bottom",d.center.top)),d.center.bottom&&h.addAttribute("bottom",d.center.bottom)}const b=this.map.stop;d.stops.forEach(x=>{b.render(h,x)}),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"gradientFill":{const d=this.model={stops:[]};return h.attributes.degree?(d.gradient="angle",d.degree=parseInt(h.attributes.degree,10)):h.attributes.type==="path"&&(d.gradient="path",d.center={left:h.attributes.left?parseFloat(h.attributes.left):0,top:h.attributes.top?parseFloat(h.attributes.top):0},h.attributes.right!==h.attributes.left&&(d.center.right=h.attributes.right?parseFloat(h.attributes.right):0),h.attributes.bottom!==h.attributes.top&&(d.center.bottom=h.attributes.bottom?parseFloat(h.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(h),!0;default:return!1}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class u extends i{constructor(){super(),this.map={patternFill:new c,gradientFill:new o}}get tag(){return"fill"}render(h,d){switch(h.addRollback(),h.openNode("fill"),d.type){case"pattern":this.map.patternFill.render(h,d);break;case"gradient":this.map.gradientFill.render(h,d);break;default:return void h.rollback()}h.closeNode(),h.commit()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"fill":return this.model={},!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(h){return u.validPatternValues[h]}}u.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((p,h)=>(p[h]=!0,p),{}),u.StopXform=l,u.PatternFillXform=c,u.GradientFillXform=o,n.exports=u},{"../base-xform":32,"./color-xform":128}],131:[function(e,n,s){const i=e("./color-xform"),a=e("../simple/boolean-xform"),l=e("../simple/integer-xform"),c=e("../simple/string-xform"),o=e("./underline-xform"),u=e("../../../utils/under-dash"),p=e("../base-xform");class h extends p{constructor(b){super(),this.options=b||h.OPTIONS,this.map={b:{prop:"bold",xform:new a({tag:"b",attr:"val"})},i:{prop:"italic",xform:new a({tag:"i",attr:"val"})},u:{prop:"underline",xform:new o},charset:{prop:"charset",xform:new l({tag:"charset",attr:"val"})},color:{prop:"color",xform:new i},condense:{prop:"condense",xform:new a({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new a({tag:"extend",attr:"val"})},family:{prop:"family",xform:new l({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new a({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new c({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new c({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new a({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new a({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new l({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new c({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(b,x){const{map:g}=this;b.openNode(this.options.tagName),u.each(this.map,(w,v)=>{g[v].xform.render(b,x[w.prop])}),b.closeNode()}parseOpen(b){if(this.parser)return this.parser.parseOpen(b),!0;if(this.map[b.name])return this.parser=this.map[b.name].xform,this.parser.parseOpen(b);switch(b.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(b){this.parser&&this.parser.parseText(b)}parseClose(b){if(this.parser&&!this.parser.parseClose(b)){const x=this.map[b];return this.parser.model&&(this.model[x.prop]=this.parser.model),this.parser=void 0,!0}switch(b){case this.options.tagName:return!1;default:return!0}}}h.OPTIONS={tagName:"font",fontNameTag:"name"},n.exports=h},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(e,n,s){const i=e("../../../utils/under-dash"),a=e("../../defaultnumformats"),l=e("../base-xform"),c=(function(){const u={};return i.each(a,(p,h)=>{p.f&&(u[p.f]=parseInt(h,10))}),u})();class o extends l{constructor(p,h){super(),this.id=p,this.formatCode=h}get tag(){return"numFmt"}render(p,h){p.leafNode("numFmt",{numFmtId:h.id,formatCode:h.formatCode})}parseOpen(p){switch(p.name){case"numFmt":return this.model={id:parseInt(p.attributes.numFmtId,10),formatCode:p.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}o.getDefaultFmtId=function(u){return c[u]},o.getDefaultFmtCode=function(u){return a[u]&&a[u].f},n.exports=o},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(e,n,s){const i=e("../base-xform"),a={boolean:(l,c)=>l===void 0?c:l};n.exports=class extends i{get tag(){return"protection"}render(l,c){l.addRollback(),l.openNode("protection");let o=!1;function u(p,h){h!==void 0&&(l.addAttribute(p,h),o=!0)}u("locked",a.boolean(c.locked,!0)?void 0:"0"),u("hidden",a.boolean(c.hidden,!1)?"1":void 0),l.closeNode(),o?l.commit():l.rollback()}parseOpen(l){const c={locked:l.attributes.locked!=="0",hidden:l.attributes.hidden==="1"},o=!c.locked||c.hidden;this.model=o?c:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(e,n,s){const i=e("../base-xform"),a=e("./alignment-xform"),l=e("./protection-xform");n.exports=class extends i{constructor(c){super(),this.xfId=!(!c||!c.xfId),this.map={alignment:new a,protection:new l}}get tag(){return"xf"}render(c,o){c.openNode("xf",{numFmtId:o.numFmtId||0,fontId:o.fontId||0,fillId:o.fillId||0,borderId:o.borderId||0}),this.xfId&&c.addAttribute("xfId",o.xfId||0),o.numFmtId&&c.addAttribute("applyNumberFormat","1"),o.fontId&&c.addAttribute("applyFont","1"),o.fillId&&c.addAttribute("applyFill","1"),o.borderId&&c.addAttribute("applyBorder","1"),o.alignment&&c.addAttribute("applyAlignment","1"),o.protection&&c.addAttribute("applyProtection","1"),o.alignment&&this.map.alignment.render(c,o.alignment),o.protection&&this.map.protection.render(c,o.protection),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"xf":return this.model={numFmtId:parseInt(c.attributes.numFmtId,10),fontId:parseInt(c.attributes.fontId,10),fillId:parseInt(c.attributes.fillId,10),borderId:parseInt(c.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(c.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(c),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){return this.parser?(this.parser.parseClose(c)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):c!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(e,n,s){const i=e("../../../doc/enums"),a=e("../../../utils/xml-stream"),l=e("../base-xform"),c=e("../static-xform"),o=e("../list-xform"),u=e("./font-xform"),p=e("./fill-xform"),h=e("./border-xform"),d=e("./numfmt-xform"),b=e("./style-xform"),x=e("./dxf-xform");class g extends l{constructor(v){super(),this.map={numFmts:new o({tag:"numFmts",count:!0,childXform:new d}),fonts:new o({tag:"fonts",count:!0,childXform:new u,$:{"x14ac:knownFonts":1}}),fills:new o({tag:"fills",count:!0,childXform:new p}),borders:new o({tag:"borders",count:!0,childXform:new h}),cellStyleXfs:new o({tag:"cellStyleXfs",count:!0,childXform:new b}),cellXfs:new o({tag:"cellXfs",count:!0,childXform:new b({xfId:!0})}),dxfs:new o({tag:"dxfs",always:!0,count:!0,childXform:new x}),numFmt:new d,font:new u,fill:new p,border:new h,style:new b({xfId:!0}),cellStyles:g.STATIC_XFORMS.cellStyles,tableStyles:g.STATIC_XFORMS.tableStyles,extLst:g.STATIC_XFORMS.extLst},v&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(v,k){k=k||this.model,v.openXml(a.StdDocAttributes),v.openNode("styleSheet",g.STYLESHEET_ATTRIBUTES),this.index?(k.numFmts&&k.numFmts.length&&(v.openNode("numFmts",{count:k.numFmts.length}),k.numFmts.forEach(R=>{v.writeXml(R)}),v.closeNode()),k.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),v.openNode("fonts",{count:k.fonts.length,"x14ac:knownFonts":1}),k.fonts.forEach(R=>{v.writeXml(R)}),v.closeNode(),v.openNode("fills",{count:k.fills.length}),k.fills.forEach(R=>{v.writeXml(R)}),v.closeNode(),v.openNode("borders",{count:k.borders.length}),k.borders.forEach(R=>{v.writeXml(R)}),v.closeNode(),this.map.cellStyleXfs.render(v,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),v.openNode("cellXfs",{count:k.styles.length}),k.styles.forEach(R=>{v.writeXml(R)}),v.closeNode()):(this.map.numFmts.render(v,k.numFmts),this.map.fonts.render(v,k.fonts),this.map.fills.render(v,k.fills),this.map.borders.render(v,k.borders),this.map.cellStyleXfs.render(v,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(v,k.styles)),g.STATIC_XFORMS.cellStyles.render(v),this.map.dxfs.render(v,k.dxfs),g.STATIC_XFORMS.tableStyles.render(v),g.STATIC_XFORMS.extLst.render(v),v.closeNode()}parseOpen(v){if(this.parser)return this.parser.parseOpen(v),!0;switch(v.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[v.name],this.parser&&this.parser.parseOpen(v),!0}}parseText(v){this.parser&&this.parser.parseText(v)}parseClose(v){if(this.parser)return this.parser.parseClose(v)||(this.parser=void 0),!0;switch(v){case"styleSheet":{this.model={};const k=(R,L)=>{L.model&&L.model.length&&(this.model[R]=L.model)};if(k("numFmts",this.map.numFmts),k("fonts",this.map.fonts),k("fills",this.map.fills),k("borders",this.map.borders),k("styles",this.map.cellXfs),k("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const R=this.index.numFmt;this.model.numFmts.forEach(L=>{R[L.id]=L.formatCode})}return!1}default:return!0}}addStyleModel(v,k){if(!v)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(v))return this.weakMap.get(v);const R={};if(k=k||i.ValueType.Number,v.numFmt)R.numFmtId=this._addNumFmtStr(v.numFmt);else switch(k){case i.ValueType.Number:R.numFmtId=this._addNumFmtStr("General");break;case i.ValueType.Date:R.numFmtId=this._addNumFmtStr("mm-dd-yy")}v.font&&(R.fontId=this._addFont(v.font)),v.border&&(R.borderId=this._addBorder(v.border)),v.fill&&(R.fillId=this._addFill(v.fill)),v.alignment&&(R.alignment=v.alignment),v.protection&&(R.protection=v.protection);const L=this._addStyle(R);return this.weakMap&&this.weakMap.set(v,L),L}getStyleModel(v){const k=this.model.styles[v];if(!k)return null;let R=this.index.model[v];if(R)return R;if(R=this.index.model[v]={},k.numFmtId){const G=this.index.numFmt[k.numFmtId]||d.getDefaultFmtCode(k.numFmtId);G&&(R.numFmt=G)}function L(G,V,O){if(O||O===0){const F=V[O];F&&(R[G]=F)}}return L("font",this.model.fonts,k.fontId),L("border",this.model.borders,k.borderId),L("fill",this.model.fills,k.fillId),k.alignment&&(R.alignment=k.alignment),k.protection&&(R.protection=k.protection),R}addDxfStyle(v){return v.numFmt&&(v.numFmtId=this._addNumFmtStr(v.numFmt)),this.model.dxfs.push(v),this.model.dxfs.length-1}getDxfStyle(v){return this.model.dxfs[v]}_addStyle(v){const k=this.map.style.toXml(v);let R=this.index.style[k];return R===void 0&&(R=this.index.style[k]=this.model.styles.length,this.model.styles.push(k)),R}_addNumFmtStr(v){let k=d.getDefaultFmtId(v);if(k!==void 0||(k=this.index.numFmt[v],k!==void 0))return k;k=this.index.numFmt[v]=164+this.model.numFmts.length;const R=this.map.numFmt.toXml({id:k,formatCode:v});return this.model.numFmts.push(R),k}_addFont(v){const k=this.map.font.toXml(v);let R=this.index.font[k];return R===void 0&&(R=this.index.font[k]=this.model.fonts.length,this.model.fonts.push(k)),R}_addBorder(v){const k=this.map.border.toXml(v);let R=this.index.border[k];return R===void 0&&(R=this.index.border[k]=this.model.borders.length,this.model.borders.push(k)),R}_addFill(v){const k=this.map.fill.toXml(v);let R=this.index.fill[k];return R===void 0&&(R=this.index.fill[k]=this.model.fills.length,this.model.fills.push(k)),R}}g.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},g.STATIC_XFORMS={cellStyles:new c({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new c({tag:"dxfs",$:{count:0}}),tableStyles:new c({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new c({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},g.Mock=class extends g{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(w){return w.autodrain(),Promise.resolve()}addStyleModel(w,v){switch(v){case i.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){const w={numFmtId:d.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(w)}return this._dateStyleId}getStyleModel(){return{}}},n.exports=g},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(e,n,s){const i=e("../base-xform");class a extends i{constructor(c){super(),this.model=c}get tag(){return"u"}render(c,o){if((o=o||this.model)===!0)c.leafNode("u");else{const u=a.Attributes[o];u&&c.leafNode("u",u)}}parseOpen(c){c.name==="u"&&(this.model=c.attributes.val||!0)}parseText(){}parseClose(){return!1}}a.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},n.exports=a},{"../base-xform":32}],137:[function(e,n,s){const i=e("../base-xform"),a=e("./filter-column-xform");n.exports=class extends i{constructor(){super(),this.map={filterColumn:new a}}get tag(){return"autoFilter"}prepare(l){l.columns.forEach((c,o)=>{this.map.filterColumn.prepare(c,{index:o})})}render(l,c){return l.openNode(this.tag,{ref:c.autoFilterRef}),c.columns.forEach(o=>{this.map.filterColumn.render(l,o)}),l.closeNode(),!0}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:return this.model={autoFilterRef:l.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[l.name],this.parser)return this.parseOpen(l),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(l))}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(l){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+l)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"customFilter"}render(a,l){a.leafNode(this.tag,{val:l.val,operator:l.operator})}parseOpen(a){return a.name===this.tag&&(this.model={val:a.attributes.val,operator:a.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(e,n,s){const i=e("../base-xform"),a=e("../list-xform"),l=e("./custom-filter-xform"),c=e("./filter-xform");n.exports=class extends i{constructor(){super(),this.map={customFilters:new a({tag:"customFilters",count:!1,empty:!0,childXform:new l}),filters:new a({tag:"filters",count:!1,empty:!0,childXform:new c})}}get tag(){return"filterColumn"}prepare(o,u){o.colId=u.index.toString()}render(o,u){return u.customFilters?(o.openNode(this.tag,{colId:u.colId,hiddenButton:u.filterButton?"0":"1"}),this.map.customFilters.render(o,u.customFilters),o.closeNode(),!0):(o.leafNode(this.tag,{colId:u.colId,hiddenButton:u.filterButton?"0":"1"}),!0)}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;const{attributes:u}=o;switch(o.name){case this.tag:return this.model={filterButton:u.hiddenButton==="0"},!0;default:if(this.parser=this.map[o.name],this.parser)return this.parseOpen(o),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(o))}}parseText(){}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"filter"}render(a,l){a.leafNode(this.tag,{val:l.val})}parseOpen(a){return a.name===this.tag&&(this.model={val:a.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"tableColumn"}prepare(a,l){a.id=l.index+1}render(a,l){return a.leafNode(this.tag,{id:l.id.toString(),name:l.name,totalsRowLabel:l.totalsRowLabel,totalsRowFunction:l.totalsRowFunction,dxfId:l.dxfId}),!0}parseOpen(a){if(a.name===this.tag){const{attributes:l}=a;return this.model={name:l.name,totalsRowLabel:l.totalsRowLabel,totalsRowFunction:l.totalsRowFunction,dxfId:l.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"tableStyleInfo"}render(a,l){return a.leafNode(this.tag,{name:l.theme?l.theme:void 0,showFirstColumn:l.showFirstColumn?"1":"0",showLastColumn:l.showLastColumn?"1":"0",showRowStripes:l.showRowStripes?"1":"0",showColumnStripes:l.showColumnStripes?"1":"0"}),!0}parseOpen(a){if(a.name===this.tag){const{attributes:l}=a;return this.model={theme:l.name?l.name:null,showFirstColumn:l.showFirstColumn==="1",showLastColumn:l.showLastColumn==="1",showRowStripes:l.showRowStripes==="1",showColumnStripes:l.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(e,n,s){const i=e("../../../utils/xml-stream"),a=e("../base-xform"),l=e("../list-xform"),c=e("./auto-filter-xform"),o=e("./table-column-xform"),u=e("./table-style-info-xform");class p extends a{constructor(){super(),this.map={autoFilter:new c,tableColumns:new l({tag:"tableColumns",count:!0,empty:!0,childXform:new o}),tableStyleInfo:new u}}prepare(d,b){this.map.autoFilter.prepare(d),this.map.tableColumns.prepare(d.columns,b)}get tag(){return"table"}render(d,b){d.openXml(i.StdDocAttributes),d.openNode(this.tag,{...p.TABLE_ATTRIBUTES,id:b.id,name:b.name,displayName:b.displayName||b.name,ref:b.tableRef,totalsRowCount:b.totalsRow?"1":void 0,totalsRowShown:b.totalsRow?void 0:"1",headerRowCount:b.headerRow?"1":"0"}),this.map.autoFilter.render(d,b),this.map.tableColumns.render(d,b.columns),this.map.tableStyleInfo.render(d,b.style),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;const{name:b,attributes:x}=d;switch(b){case this.tag:this.reset(),this.model={name:x.name,displayName:x.displayName||x.name,tableRef:x.ref,totalsRow:x.totalsRowCount==="1",headerRow:x.headerRowCount==="1"};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((b,x)=>{this.model.columns[x].filterButton=b.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(d,b){d.columns.forEach(x=>{x.dxfId!==void 0&&(x.style=b.styles.getDxfStyle(x.dxfId))})}}p.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},n.exports=p},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(e,n,s){(function(i,a){(function(){const l=e("fs"),c=e("jszip"),{PassThrough:o}=e("readable-stream"),u=e("../utils/zip-stream"),p=e("../utils/stream-buf"),h=e("../utils/utils"),d=e("../utils/xml-stream"),{bufferToString:b}=e("../utils/browser-buffer-decode"),x=e("./xform/style/styles-xform"),g=e("./xform/core/core-xform"),w=e("./xform/strings/shared-strings-xform"),v=e("./xform/core/relationships-xform"),k=e("./xform/core/content-types-xform"),R=e("./xform/core/app-xform"),L=e("./xform/book/workbook-xform"),G=e("./xform/sheet/worksheet-xform"),V=e("./xform/drawing/drawing-xform"),O=e("./xform/table/table-xform"),F=e("./xform/comment/comments-xform"),B=e("./xform/comment/vml-notes-xform"),W=e("./xml/theme1");class P{constructor(D){this.workbook=D}async readFile(D,C){if(!await h.fs.exists(D))throw new Error("File not found: "+D);const S=l.createReadStream(D);try{const T=await this.read(S,C);return S.close(),T}catch(T){throw S.close(),T}}parseRels(D){return new v().parseStream(D)}parseWorkbook(D){return new L().parseStream(D)}parseSharedStrings(D){return new w().parseStream(D)}reconcile(D,C){const S=new L,T=new G(C),A=new V,E=new O;S.reconcile(D);const j={media:D.media,mediaIndex:D.mediaIndex};Object.keys(D.drawings).forEach(Q=>{const Y=D.drawings[Q],ee=D.drawingRels[Q];ee&&(j.rels=ee.reduce((q,te)=>(q[te.Id]=te,q),{}),(Y.anchors||[]).forEach(q=>{const te=q.picture&&q.picture.hyperlinks;te&&j.rels[te.rId]&&(te.hyperlink=j.rels[te.rId].Target,delete te.rId)}),A.reconcile(Y,j))});const U={styles:D.styles};Object.values(D.tables).forEach(Q=>{E.reconcile(Q,U)});const I={styles:D.styles,sharedStrings:D.sharedStrings,media:D.media,mediaIndex:D.mediaIndex,date1904:D.properties&&D.properties.date1904,drawings:D.drawings,comments:D.comments,tables:D.tables,vmlDrawings:D.vmlDrawings};D.worksheets.forEach(Q=>{Q.relationships=D.worksheetRels[Q.sheetNo],T.reconcile(Q,I)}),delete D.worksheetHash,delete D.worksheetRels,delete D.globalRels,delete D.sharedStrings,delete D.workbookRels,delete D.sheetDefs,delete D.styles,delete D.mediaIndex,delete D.drawings,delete D.drawingRels,delete D.vmlDrawings}async _processWorksheetEntry(D,C,S,T,A){const E=new G(T),j=await E.parseStream(D);j.sheetNo=S,C.worksheetHash[A]=j,C.worksheets.push(j)}async _processCommentEntry(D,C,S){const T=new F,A=await T.parseStream(D);C.comments[`../${S}.xml`]=A}async _processTableEntry(D,C,S){const T=new O,A=await T.parseStream(D);C.tables[`../tables/${S}.xml`]=A}async _processWorksheetRelsEntry(D,C,S){const T=new v,A=await T.parseStream(D);C.worksheetRels[S]=A}async _processMediaEntry(D,C,S){const T=S.lastIndexOf(".");if(T>=1){const A=S.substr(T+1),E=S.substr(0,T);await new Promise((j,U)=>{const I=new p;I.on("finish",()=>{C.mediaIndex[S]=C.media.length,C.mediaIndex[E]=C.media.length;const Q={type:"image",name:E,extension:A,buffer:I.toBuffer()};C.media.push(Q),j()}),D.on("error",Q=>{U(Q)}),D.pipe(I)})}}async _processDrawingEntry(D,C,S){const T=new V,A=await T.parseStream(D);C.drawings[S]=A}async _processDrawingRelsEntry(D,C,S){const T=new v,A=await T.parseStream(D);C.drawingRels[S]=A}async _processVmlDrawingEntry(D,C,S){const T=new B,A=await T.parseStream(D);C.vmlDrawings[`../drawings/${S}.vml`]=A}async _processThemeEntry(D,C,S){await new Promise((T,A)=>{const E=new p;D.on("error",A),E.on("error",A),E.on("finish",()=>{C.themes[S]=E.read().toString(),T()}),D.pipe(E)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(D,C){!D[Symbol.asyncIterator]&&D.pipe&&(D=D.pipe(new o));const S=[];for await(const T of D)S.push(T);return this.load(a.concat(S),C)}async load(D,C){let S;S=C&&C.base64?a.from(D.toString(),"base64"):D;const T={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},A=await c.loadAsync(S);for(const E of Object.values(A.files))if(!E.dir){let j,U=E.name;if(U[0]==="/"&&(U=U.substr(1)),U.match(/xl\/media\//)||U.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))j=new o,j.write(await E.async("nodebuffer"));else{let I;j=new o({writableObjectMode:!0,readableObjectMode:!0}),I=i.browser?b(await E.async("nodebuffer")):await E.async("string");const Q=16384;for(let Y=0;Y<I.length;Y+=Q)j.write(I.substring(Y,Y+Q))}switch(j.end(),U){case"_rels/.rels":T.globalRels=await this.parseRels(j);break;case"xl/workbook.xml":{const I=await this.parseWorkbook(j);T.sheets=I.sheets,T.definedNames=I.definedNames,T.views=I.views,T.properties=I.properties,T.calcProperties=I.calcProperties;break}case"xl/_rels/workbook.xml.rels":T.workbookRels=await this.parseRels(j);break;case"xl/sharedStrings.xml":T.sharedStrings=new w,await T.sharedStrings.parseStream(j);break;case"xl/styles.xml":T.styles=new x,await T.styles.parseStream(j);break;case"docProps/app.xml":{const I=new R,Q=await I.parseStream(j);T.company=Q.company,T.manager=Q.manager;break}case"docProps/core.xml":{const I=new g,Q=await I.parseStream(j);Object.assign(T,Q);break}default:{let I=U.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(I){await this._processWorksheetEntry(j,T,I[1],C,U);break}if(I=U.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),I){await this._processWorksheetRelsEntry(j,T,I[1]);break}if(I=U.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),I){await this._processThemeEntry(j,T,I[1]);break}if(I=U.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),I){await this._processMediaEntry(j,T,I[1]);break}if(I=U.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),I){await this._processDrawingEntry(j,T,I[1]);break}if(I=U.match(/xl\/(comments\d+)[.]xml/),I){await this._processCommentEntry(j,T,I[1]);break}if(I=U.match(/xl\/tables\/(table\d+)[.]xml/),I){await this._processTableEntry(j,T,I[1]);break}if(I=U.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),I){await this._processDrawingRelsEntry(j,T,I[1]);break}if(I=U.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),I){await this._processVmlDrawingEntry(j,T,I[1]);break}}}}return this.reconcile(T,C),this.workbook.model=T,this.workbook}async addMedia(D,C){await Promise.all(C.media.map(async S=>{if(S.type==="image"){const T=`xl/media/${S.name}.${S.extension}`;if(S.filename){const A=await(function(E,j){return new Promise((U,I)=>{l.readFile(E,j,(Q,Y)=>{Q?I(Q):U(Y)})})})(S.filename);return D.append(A,{name:T})}if(S.buffer)return D.append(S.buffer,{name:T});if(S.base64){const A=S.base64,E=A.substring(A.indexOf(",")+1);return D.append(E,{name:T,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(D,C){const S=new V,T=new v;C.worksheets.forEach(A=>{const{drawing:E}=A;if(E){S.prepare(E,{});let j=S.toXml(E);D.append(j,{name:`xl/drawings/${E.name}.xml`}),j=T.toXml(E.rels),D.append(j,{name:`xl/drawings/_rels/${E.name}.xml.rels`})}})}addTables(D,C){const S=new O;C.worksheets.forEach(T=>{const{tables:A}=T;A.forEach(E=>{S.prepare(E,{});const j=S.toXml(E);D.append(j,{name:"xl/tables/"+E.target})})})}async addContentTypes(D,C){const S=new k().toXml(C);D.append(S,{name:"[Content_Types].xml"})}async addApp(D,C){const S=new R().toXml(C);D.append(S,{name:"docProps/app.xml"})}async addCore(D,C){const S=new g;D.append(S.toXml(C),{name:"docProps/core.xml"})}async addThemes(D,C){const S=C.themes||{theme1:W};Object.keys(S).forEach(T=>{const A=S[T],E=`xl/theme/${T}.xml`;D.append(A,{name:E})})}async addOfficeRels(D){const C=new v().toXml([{Id:"rId1",Type:P.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:P.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:P.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);D.append(C,{name:"_rels/.rels"})}async addWorkbookRels(D,C){let S=1;const T=[{Id:"rId"+S++,Type:P.RelType.Styles,Target:"styles.xml"},{Id:"rId"+S++,Type:P.RelType.Theme,Target:"theme/theme1.xml"}];C.sharedStrings.count&&T.push({Id:"rId"+S++,Type:P.RelType.SharedStrings,Target:"sharedStrings.xml"}),C.worksheets.forEach(E=>{E.rId="rId"+S++,T.push({Id:E.rId,Type:P.RelType.Worksheet,Target:`worksheets/sheet${E.id}.xml`})});const A=new v().toXml(T);D.append(A,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(D,C){C.sharedStrings&&C.sharedStrings.count&&D.append(C.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(D,C){const{xml:S}=C.styles;S&&D.append(S,{name:"xl/styles.xml"})}async addWorkbook(D,C){const S=new L;D.append(S.toXml(C),{name:"xl/workbook.xml"})}async addWorksheets(D,C){const S=new G,T=new v,A=new F,E=new B;C.worksheets.forEach(j=>{let U=new d;S.render(U,j),D.append(U.xml,{name:`xl/worksheets/sheet${j.id}.xml`}),j.rels&&j.rels.length&&(U=new d,T.render(U,j.rels),D.append(U.xml,{name:`xl/worksheets/_rels/sheet${j.id}.xml.rels`})),j.comments.length>0&&(U=new d,A.render(U,j),D.append(U.xml,{name:`xl/comments${j.id}.xml`}),U=new d,E.render(U,j),D.append(U.xml,{name:`xl/drawings/vmlDrawing${j.id}.vml`}))})}_finalize(D){return new Promise((C,S)=>{D.on("finish",()=>{C(this)}),D.on("error",S),D.finalize()})}prepareModel(D,C){D.creator=D.creator||"ExcelJS",D.lastModifiedBy=D.lastModifiedBy||"ExcelJS",D.created=D.created||new Date,D.modified=D.modified||new Date,D.useSharedStrings=C.useSharedStrings===void 0||C.useSharedStrings,D.useStyles=C.useStyles===void 0||C.useStyles,D.sharedStrings=new w,D.styles=D.useStyles?new x(!0):new x.Mock;const S=new L,T=new G;S.prepare(D);const A={sharedStrings:D.sharedStrings,styles:D.styles,date1904:D.properties.date1904,drawingsCount:0,media:D.media};A.drawings=D.drawings=[],A.commentRefs=D.commentRefs=[];let E=0;D.tables=[],D.worksheets.forEach(j=>{j.tables.forEach(U=>{E++,U.target=`table${E}.xml`,U.id=E,D.tables.push(U)}),T.prepare(j,A)})}async write(D,C){C=C||{};const{model:S}=this.workbook,T=new u.ZipWriter(C.zip);return T.pipe(D),this.prepareModel(S,C),await this.addContentTypes(T,S),await this.addOfficeRels(T,S),await this.addWorkbookRels(T,S),await this.addWorksheets(T,S),await this.addSharedStrings(T,S),await this.addDrawings(T,S),await this.addTables(T,S),await Promise.all([this.addThemes(T,S),this.addStyles(T,S)]),await this.addMedia(T,S),await Promise.all([this.addApp(T,S),this.addCore(T,S)]),await this.addWorkbook(T,S),this._finalize(T)}writeFile(D,C){const S=l.createWriteStream(D);return new Promise((T,A)=>{S.on("finish",()=>{T()}),S.on("error",E=>{A(E)}),this.write(S,C).then(()=>{S.end()}).catch(E=>{A(E)})})}async writeBuffer(D){const C=new p;return await this.write(C,D),C.read()}}P.RelType=e("./rel-type"),n.exports=P}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(e,n,s){n.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(e,n,s){(function(i){(function(){Object.defineProperty(s,"__esModule",{value:!0}),s.CsvFormatterStream=void 0;const a=e("stream"),l=e("./formatter");class c extends a.Transform{constructor(u){super({writableObjectMode:u.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=u,this.rowFormatter=new l.RowFormatter(u),this.hasWrittenBOM=!u.writeBOM}transform(u){return this.rowFormatter.rowTransform=u,this}_transform(u,p,h){let d=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(u,(b,x)=>b?(d=!0,h(b)):(x&&x.forEach(g=>{this.push(i.from(g,"utf8"))}),d=!0,h()))}catch(b){if(d)throw b;h(b)}}_flush(u){this.rowFormatter.finish((p,h)=>p?u(p):(h&&h.forEach(d=>{this.push(i.from(d,"utf8"))}),u()))}}s.CsvFormatterStream=c}).call(this)}).call(this,e("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.FormatterOptions=void 0,s.FormatterOptions=class{constructor(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var a;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,i||{}),(i==null?void 0:i.quoteHeaders)===void 0&&(this.quoteHeaders=this.quoteColumns),(i==null?void 0:i.quote)===!0?this.quote='"':(i==null?void 0:i.quote)===!1&&(this.quote=""),typeof(i==null?void 0:i.escape)!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((a=i.writeHeaders)===null||a===void 0||a),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(e,n,s){var i=function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(s,"__esModule",{value:!0}),s.FieldFormatter=void 0;const a=i(e("lodash.isboolean")),l=i(e("lodash.isnil")),c=i(e("lodash.escaperegexp"));s.FieldFormatter=class{constructor(o){this._headers=null,this.formatterOptions=o,o.headers!==null&&(this.headers=o.headers),this.REPLACE_REGEXP=new RegExp(o.quote,"g");const u=`[${o.delimiter}${c.default(o.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(u)}set headers(o){this._headers=o}shouldQuote(o,u){const p=u?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return a.default(p)?p:Array.isArray(p)?p[o]:this._headers!==null&&p[this._headers[o]]}format(o,u,p){const h=(""+(l.default(o)?"":o)).replace(/\0/g,""),{formatterOptions:d}=this;return d.quote!==""&&h.indexOf(d.quote)!==-1?this.quoteField(h.replace(this.REPLACE_REGEXP,d.escapedQuote)):h.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(u,p)?this.quoteField(h):h}quoteField(o){const{quote:u}=this.formatterOptions;return`${u}${o}${u}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(e,n,s){var i=function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(s,"__esModule",{value:!0}),s.RowFormatter=void 0;const a=i(e("lodash.isfunction")),l=i(e("lodash.isequal")),c=e("./FieldFormatter"),o=e("../types");class u{constructor(h){this.rowCount=0,this.formatterOptions=h,this.fieldFormatter=new c.FieldFormatter(h),this.headers=h.headers,this.shouldWriteHeaders=h.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),h.transform&&(this.rowTransform=h.transform)}static isRowHashArray(h){return!!Array.isArray(h)&&Array.isArray(h[0])&&h[0].length===2}static isRowArray(h){return Array.isArray(h)&&!this.isRowHashArray(h)}static gatherHeaders(h){return u.isRowHashArray(h)?h.map(d=>d[0]):Array.isArray(h)?h:Object.keys(h)}static createTransform(h){return o.isSyncTransform(h)?(d,b)=>{let x=null;try{x=h(d)}catch(g){return b(g)}return b(null,x)}:(d,b)=>{h(d,b)}}set rowTransform(h){if(!a.default(h))throw new TypeError("The transform should be a function");this._rowTransform=u.createTransform(h)}format(h,d){this.callTransformer(h,(b,x)=>{if(b)return d(b);if(!h)return d(null);const g=[];if(x){const{shouldFormatColumns:w,headers:v}=this.checkHeaders(x);if(this.shouldWriteHeaders&&v&&!this.hasWrittenHeaders&&(g.push(this.formatColumns(v,!0)),this.hasWrittenHeaders=!0),w){const k=this.gatherColumns(x);g.push(this.formatColumns(k,!1))}}return d(null,g)})}finish(h){const d=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return h(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));d.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&d.push(this.formatterOptions.rowDelimiter),h(null,d)}checkHeaders(h){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const d=u.gatherHeaders(h);return this.headers=d,this.fieldFormatter.headers=d,this.shouldWriteHeaders?{shouldFormatColumns:!l.default(d,h),headers:d}:{shouldFormatColumns:!0,headers:null}}gatherColumns(h){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(h)?u.isRowHashArray(h)?this.headers.map((d,b)=>{const x=h[b];return x?x[1]:""}):u.isRowArray(h)&&!this.shouldWriteHeaders?h:this.headers.map((d,b)=>h[b]):this.headers.map(d=>h[d])}callTransformer(h,d){return this._rowTransform?this._rowTransform(h,d):d(null,h)}formatColumns(h,d){const b=h.map((g,w)=>this.fieldFormatter.format(g,w,d)).join(this.formatterOptions.delimiter),{rowCount:x}=this;return this.rowCount+=1,x?[this.formatterOptions.rowDelimiter,b].join(""):b}}s.RowFormatter=u},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.FieldFormatter=s.RowFormatter=void 0;var i=e("./RowFormatter");Object.defineProperty(s,"RowFormatter",{enumerable:!0,get:function(){return i.RowFormatter}});var a=e("./FieldFormatter");Object.defineProperty(s,"FieldFormatter",{enumerable:!0,get:function(){return a.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(e,n,s){(function(i){(function(){var a=Object.create?function(w,v,k,R){R===void 0&&(R=k),Object.defineProperty(w,R,{enumerable:!0,get:function(){return v[k]}})}:function(w,v,k,R){R===void 0&&(R=k),w[R]=v[k]},l=Object.create?function(w,v){Object.defineProperty(w,"default",{enumerable:!0,value:v})}:function(w,v){w.default=v},c=function(w){if(w&&w.__esModule)return w;var v={};if(w!=null)for(var k in w)k!=="default"&&Object.prototype.hasOwnProperty.call(w,k)&&a(v,w,k);return l(v,w),v},o=function(w,v){for(var k in w)k==="default"||Object.prototype.hasOwnProperty.call(v,k)||a(v,w,k)};Object.defineProperty(s,"__esModule",{value:!0}),s.writeToPath=s.writeToString=s.writeToBuffer=s.writeToStream=s.write=s.format=s.FormatterOptions=s.CsvFormatterStream=void 0;const u=e("util"),p=e("stream"),h=c(e("fs")),d=e("./FormatterOptions"),b=e("./CsvFormatterStream");o(e("./types"),s);var x=e("./CsvFormatterStream");Object.defineProperty(s,"CsvFormatterStream",{enumerable:!0,get:function(){return x.CsvFormatterStream}});var g=e("./FormatterOptions");Object.defineProperty(s,"FormatterOptions",{enumerable:!0,get:function(){return g.FormatterOptions}}),s.format=w=>new b.CsvFormatterStream(new d.FormatterOptions(w)),s.write=(w,v)=>{const k=s.format(v),R=u.promisify((L,G)=>{k.write(L,void 0,G)});return w.reduce((L,G)=>L.then(()=>R(G)),Promise.resolve()).then(()=>k.end()).catch(L=>{k.emit("error",L)}),k},s.writeToStream=(w,v,k)=>s.write(v,k).pipe(w),s.writeToBuffer=function(w){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const k=[],R=new p.Writable({write(L,G,V){k.push(L),V()}});return new Promise((L,G)=>{R.on("error",G).on("finish",()=>L(i.concat(k))),s.write(w,v).pipe(R)})},s.writeToString=(w,v)=>s.writeToBuffer(w,v).then(k=>k.toString()),s.writeToPath=(w,v,k)=>{const R=h.createWriteStream(w,{encoding:"utf8"});return s.write(v,k).pipe(R)}}).call(this)}).call(this,e("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.isSyncTransform=void 0,s.isSyncTransform=i=>i.length===1},{}],153:[function(e,n,s){(function(i){(function(){Object.defineProperty(s,"__esModule",{value:!0}),s.CsvParserStream=void 0;const a=e("string_decoder"),l=e("stream"),c=e("./transforms"),o=e("./parser");class u extends l.Transform{constructor(h){super({objectMode:h.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=h,this.parser=new o.Parser(h),this.headerTransformer=new c.HeaderTransformer(h),this.decoder=new a.StringDecoder(h.encoding),this.rowTransformerValidator=new c.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(h){return this.rowTransformerValidator.rowTransform=h,this}validate(h){return this.rowTransformerValidator.rowValidator=h,this}emit(h){if(h==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var d=arguments.length,b=new Array(d>1?d-1:0),x=1;x<d;x++)b[x-1]=arguments[x];return super.emit(h,...b)}_transform(h,d,b){if(this.hasHitRowLimit)return b();const x=u.wrapDoneCallback(b);try{const{lines:g}=this,w=g+this.decoder.write(h),v=this.parse(w,!0);return this.processRows(v,x)}catch(g){return x(g)}}_flush(h){const d=u.wrapDoneCallback(h);if(this.hasHitRowLimit)return d();try{const b=this.lines+this.decoder.end(),x=this.parse(b,!1);return this.processRows(x,d)}catch(b){return d(b)}}parse(h,d){if(!h)return[];const{line:b,rows:x}=this.parser.parse(h,d);return this.lines=b,x}processRows(h,d){const b=h.length,x=g=>{const w=R=>R?d(R):g%100!=0?x(g+1):void i(()=>x(g+1));if(this.checkAndEmitHeaders(),g>=b||this.hasHitRowLimit)return d();if(this.parsedLineCount+=1,this.shouldSkipLine)return w();const v=h[g];this.rowCount+=1,this.parsedRowCount+=1;const k=this.rowCount;return this.transformRow(v,(R,L)=>{if(R)return this.rowCount-=1,w(R);if(!L)return w(new Error("expected transform result"));if(L.isValid){if(L.row)return this.pushRow(L.row,w)}else this.emit("data-invalid",L.row,k,L.reason);return w()})};x(0)}transformRow(h,d){try{this.headerTransformer.transform(h,(b,x)=>b?d(b):x?x.isValid?x.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(x.row,d):this.skipRow(d):(this.rowCount-=1,this.parsedRowCount-=1,d(null,{row:null,isValid:!0})):this.shouldEmitRows?d(null,{isValid:!1,row:h}):this.skipRow(d):d(new Error("Expected result from header transform")))}catch(b){d(b)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(h){return this.rowCount-=1,h(null,{row:null,isValid:!0})}pushRow(h,d){try{this.parserOptions.objectMode?this.push(h):this.push(JSON.stringify(h)),d()}catch(b){d(b)}}static wrapDoneCallback(h){let d=!1;return function(b){if(b){if(d)throw b;return d=!0,void h(b)}for(var x=arguments.length,g=new Array(x>1?x-1:0),w=1;w<x;w++)g[w-1]=arguments[w];h(...g)}}}s.CsvParserStream=u}).call(this)}).call(this,e("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(e,n,s){var i=function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(s,"__esModule",{value:!0}),s.ParserOptions=void 0;const a=i(e("lodash.escaperegexp")),l=i(e("lodash.isnil"));s.ParserOptions=class{constructor(c){var o;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,c||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=a.default(this.delimiter),this.escapeChar=(o=this.escape)!==null&&o!==void 0?o:this.quote,this.supportsComments=!l.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(e,n,s){var i=Object.create?function(x,g,w,v){v===void 0&&(v=w),Object.defineProperty(x,v,{enumerable:!0,get:function(){return g[w]}})}:function(x,g,w,v){v===void 0&&(v=w),x[v]=g[w]},a=Object.create?function(x,g){Object.defineProperty(x,"default",{enumerable:!0,value:g})}:function(x,g){x.default=g},l=function(x){if(x&&x.__esModule)return x;var g={};if(x!=null)for(var w in x)w!=="default"&&Object.prototype.hasOwnProperty.call(x,w)&&i(g,x,w);return a(g,x),g},c=function(x,g){for(var w in x)w==="default"||Object.prototype.hasOwnProperty.call(g,w)||i(g,x,w)};Object.defineProperty(s,"__esModule",{value:!0}),s.parseString=s.parseFile=s.parseStream=s.parse=s.ParserOptions=s.CsvParserStream=void 0;const o=l(e("fs")),u=e("stream"),p=e("./ParserOptions"),h=e("./CsvParserStream");c(e("./types"),s);var d=e("./CsvParserStream");Object.defineProperty(s,"CsvParserStream",{enumerable:!0,get:function(){return d.CsvParserStream}});var b=e("./ParserOptions");Object.defineProperty(s,"ParserOptions",{enumerable:!0,get:function(){return b.ParserOptions}}),s.parse=x=>new h.CsvParserStream(new p.ParserOptions(x)),s.parseStream=(x,g)=>x.pipe(new h.CsvParserStream(new p.ParserOptions(g))),s.parseFile=function(x){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return o.createReadStream(x).pipe(new h.CsvParserStream(new p.ParserOptions(g)))},s.parseString=(x,g)=>{const w=new u.Readable;return w.push(x),w.push(null),w.pipe(new h.CsvParserStream(new p.ParserOptions(g)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.Parser=void 0;const i=e("./Scanner"),a=e("./RowParser"),l=e("./Token");class c{constructor(u){this.parserOptions=u,this.rowParser=new a.RowParser(this.parserOptions)}static removeBOM(u){return u&&u.charCodeAt(0)===65279?u.slice(1):u}parse(u,p){const h=new i.Scanner({line:c.removeBOM(u),parserOptions:this.parserOptions,hasMoreData:p});return this.parserOptions.supportsComments?this.parseWithComments(h):this.parseWithoutComments(h)}parseWithoutComments(u){const p=[];let h=!0;for(;h;)h=this.parseRow(u,p);return{line:u.line,rows:p}}parseWithComments(u){const{parserOptions:p}=this,h=[];for(let d=u.nextCharacterToken;d!==null;d=u.nextCharacterToken)if(l.Token.isTokenComment(d,p)){if(u.advancePastLine()===null)return{line:u.lineFromCursor,rows:h};if(!u.hasMoreCharacters)return{line:u.lineFromCursor,rows:h};u.truncateToCursor()}else if(!this.parseRow(u,h))break;return{line:u.line,rows:h}}parseRow(u,p){if(!u.nextNonSpaceToken)return!1;const h=this.rowParser.parse(u);return h!==null&&(this.parserOptions.ignoreEmpty&&a.RowParser.isEmptyRow(h)||p.push(h),!0)}}s.Parser=c},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.RowParser=void 0;const i=e("./column"),a=e("./Token");s.RowParser=class{constructor(l){this.parserOptions=l,this.columnParser=new i.ColumnParser(l)}static isEmptyRow(l){return l.join("").replace(/\s+/g,"")===""}parse(l){const{parserOptions:c}=this,{hasMoreData:o}=l,u=l,p=[];let h=this.getStartToken(u,p);for(;h;){if(a.Token.isTokenRowDelimiter(h))return u.advancePastToken(h),!u.hasMoreCharacters&&a.Token.isTokenCarriageReturn(h,c)&&o?null:(u.truncateToCursor(),p);if(!this.shouldSkipColumnParse(u,h,p)){const d=this.columnParser.parse(u);if(d===null)return null;p.push(d)}h=u.nextNonSpaceToken}return o?null:(u.truncateToCursor(),p)}getStartToken(l,c){const o=l.nextNonSpaceToken;return o!==null&&a.Token.isTokenDelimiter(o,this.parserOptions)?(c.push(""),l.nextNonSpaceToken):o}shouldSkipColumnParse(l,c,o){const{parserOptions:u}=this;if(a.Token.isTokenDelimiter(c,u)){l.advancePastToken(c);const p=l.nextCharacterToken;if(!l.hasMoreCharacters||p!==null&&a.Token.isTokenRowDelimiter(p)||p!==null&&a.Token.isTokenDelimiter(p,u))return o.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.Scanner=void 0;const i=e("./Token"),a=/((?:\r\n)|\n|\r)/;s.Scanner=class{constructor(l){this.cursor=0,this.line=l.line,this.lineLength=this.line.length,this.parserOptions=l.parserOptions,this.hasMoreData=l.hasMoreData,this.cursor=l.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:l}=this,c=this.parserOptions.NEXT_TOKEN_REGEXP;if(l.search(c)===-1)return null;const o=c.exec(l);if(o==null)return null;const u=o[1],p=this.cursor+(o.index||0);return new i.Token({token:u,startCursor:p,endCursor:p+u.length-1})}get nextCharacterToken(){const{cursor:l,lineLength:c}=this;return c<=l?null:new i.Token({token:this.line[l],startCursor:l,endCursor:l})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const l=a.exec(this.lineFromCursor);return l?(this.cursor+=(l.index||0)+l[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(l){return this.cursor=l,this}advanceToToken(l){return this.cursor=l.startCursor,this}advancePastToken(l){return this.cursor=l.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.Token=void 0,s.Token=class{constructor(i){this.token=i.token,this.startCursor=i.startCursor,this.endCursor=i.endCursor}static isTokenRowDelimiter(i){const a=i.token;return a==="\r"||a===`
`||a===`\r
`}static isTokenCarriageReturn(i,a){return i.token===a.carriageReturn}static isTokenComment(i,a){return a.supportsComments&&!!i&&i.token===a.comment}static isTokenEscapeCharacter(i,a){return i.token===a.escapeChar}static isTokenQuote(i,a){return i.token===a.quote}static isTokenDelimiter(i,a){return i.token===a.delimiter}}},{}],160:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.ColumnFormatter=void 0,s.ColumnFormatter=class{constructor(i){i.trim?this.format=a=>a.trim():i.ltrim?this.format=a=>a.trimLeft():i.rtrim?this.format=a=>a.trimRight():this.format=a=>a}}},{}],161:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.ColumnParser=void 0;const i=e("./NonQuotedColumnParser"),a=e("./QuotedColumnParser"),l=e("../Token");s.ColumnParser=class{constructor(c){this.parserOptions=c,this.quotedColumnParser=new a.QuotedColumnParser(c),this.nonQuotedColumnParser=new i.NonQuotedColumnParser(c)}parse(c){const{nextNonSpaceToken:o}=c;return o!==null&&l.Token.isTokenQuote(o,this.parserOptions)?(c.advanceToToken(o),this.quotedColumnParser.parse(c)):this.nonQuotedColumnParser.parse(c)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.NonQuotedColumnParser=void 0;const i=e("./ColumnFormatter"),a=e("../Token");s.NonQuotedColumnParser=class{constructor(l){this.parserOptions=l,this.columnFormatter=new i.ColumnFormatter(l)}parse(l){if(!l.hasMoreCharacters)return null;const{parserOptions:c}=this,o=[];let u=l.nextCharacterToken;for(;u&&!a.Token.isTokenDelimiter(u,c)&&!a.Token.isTokenRowDelimiter(u);u=l.nextCharacterToken)o.push(u.token),l.advancePastToken(u);return this.columnFormatter.format(o.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.QuotedColumnParser=void 0;const i=e("./ColumnFormatter"),a=e("../Token");s.QuotedColumnParser=class{constructor(l){this.parserOptions=l,this.columnFormatter=new i.ColumnFormatter(l)}parse(l){if(!l.hasMoreCharacters)return null;const c=l.cursor,{foundClosingQuote:o,col:u}=this.gatherDataBetweenQuotes(l);if(!o){if(l.advanceTo(c),!l.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${l.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(l),u}gatherDataBetweenQuotes(l){const{parserOptions:c}=this;let o=!1,u=!1;const p=[];let h=l.nextCharacterToken;for(;!u&&h!==null;h=l.nextCharacterToken){const d=a.Token.isTokenQuote(h,c);if(!o&&d)o=!0;else if(o)if(a.Token.isTokenEscapeCharacter(h,c)){l.advancePastToken(h);const b=l.nextCharacterToken;b!==null&&(a.Token.isTokenQuote(b,c)||a.Token.isTokenEscapeCharacter(b,c))?(p.push(b.token),h=b):d?u=!0:p.push(h.token)}else d?u=!0:p.push(h.token);l.advancePastToken(h)}return{col:this.columnFormatter.format(p.join("")),foundClosingQuote:u}}checkForMalformedColumn(l){const{parserOptions:c}=this,{nextNonSpaceToken:o}=l;if(o){const u=a.Token.isTokenDelimiter(o,c),p=a.Token.isTokenRowDelimiter(o);if(!u&&!p){const h=l.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${c.escapedDelimiter}' OR new line got: '${o.token}'. at '${h}`)}l.advanceToToken(o)}else l.hasMoreData||l.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.ColumnFormatter=s.QuotedColumnParser=s.NonQuotedColumnParser=s.ColumnParser=void 0;var i=e("./ColumnParser");Object.defineProperty(s,"ColumnParser",{enumerable:!0,get:function(){return i.ColumnParser}});var a=e("./NonQuotedColumnParser");Object.defineProperty(s,"NonQuotedColumnParser",{enumerable:!0,get:function(){return a.NonQuotedColumnParser}});var l=e("./QuotedColumnParser");Object.defineProperty(s,"QuotedColumnParser",{enumerable:!0,get:function(){return l.QuotedColumnParser}});var c=e("./ColumnFormatter");Object.defineProperty(s,"ColumnFormatter",{enumerable:!0,get:function(){return c.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.QuotedColumnParser=s.NonQuotedColumnParser=s.ColumnParser=s.Token=s.Scanner=s.RowParser=s.Parser=void 0;var i=e("./Parser");Object.defineProperty(s,"Parser",{enumerable:!0,get:function(){return i.Parser}});var a=e("./RowParser");Object.defineProperty(s,"RowParser",{enumerable:!0,get:function(){return a.RowParser}});var l=e("./Scanner");Object.defineProperty(s,"Scanner",{enumerable:!0,get:function(){return l.Scanner}});var c=e("./Token");Object.defineProperty(s,"Token",{enumerable:!0,get:function(){return c.Token}});var o=e("./column");Object.defineProperty(s,"ColumnParser",{enumerable:!0,get:function(){return o.ColumnParser}}),Object.defineProperty(s,"NonQuotedColumnParser",{enumerable:!0,get:function(){return o.NonQuotedColumnParser}}),Object.defineProperty(s,"QuotedColumnParser",{enumerable:!0,get:function(){return o.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(e,n,s){var i=function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(s,"__esModule",{value:!0}),s.HeaderTransformer=void 0;const a=i(e("lodash.isundefined")),l=i(e("lodash.isfunction")),c=i(e("lodash.uniq")),o=i(e("lodash.groupby"));s.HeaderTransformer=class{constructor(u){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=u,u.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(u.headers)?this.setHeaders(u.headers):l.default(u.headers)&&(this.headersTransform=u.headers)}transform(u,p){return this.shouldMapRow(u)?p(null,this.processRow(u)):p(null,{row:null,isValid:!0})}shouldMapRow(u){const{parserOptions:p}=this;if(!this.headersTransform&&p.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(u)){if(this.headersTransform)this.setHeaders(this.headersTransform(u));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(u)}return!1}return!0}processRow(u){if(!this.headers)return{row:u,isValid:!0};const{parserOptions:p}=this;if(!p.discardUnmappedColumns&&u.length>this.headersLength){if(!p.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${u.length}`);return{row:u,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${u.length}`}}return p.strictColumnHandling&&u.length<this.headersLength?{row:u,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${u.length}`}:{row:this.mapHeaders(u),isValid:!0}}mapHeaders(u){const p={},{headers:h,headersLength:d}=this;for(let b=0;b<d;b+=1){const x=h[b];if(!a.default(x)){const g=u[b];a.default(g)?p[x]="":p[x]=g}}return p}setHeaders(u){var p;const h=u.filter(d=>!!d);if(c.default(h).length!==h.length){const d=o.default(h),b=Object.keys(d).filter(x=>d[x].length>1);throw new Error("Duplicate headers found "+JSON.stringify(b))}this.headers=u,this.receivedHeaders=!0,this.headersLength=((p=this.headers)===null||p===void 0?void 0:p.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(e,n,s){var i=function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(s,"__esModule",{value:!0}),s.RowTransformerValidator=void 0;const a=i(e("lodash.isfunction")),l=e("../types");class c{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(u){return l.isSyncTransform(u)?(p,h)=>{let d=null;try{d=u(p)}catch(b){return h(b)}return h(null,d)}:u}static createValidator(u){return l.isSyncValidate(u)?(p,h)=>{h(null,{row:p,isValid:u(p)})}:(p,h)=>{u(p,(d,b,x)=>d?h(d):h(null,b?{row:p,isValid:b,reason:x}:{row:p,isValid:!1,reason:x}))}}set rowTransform(u){if(!a.default(u))throw new TypeError("The transform should be a function");this._rowTransform=c.createTransform(u)}set rowValidator(u){if(!a.default(u))throw new TypeError("The validate should be a function");this._rowValidator=c.createValidator(u)}transformAndValidate(u,p){return this.callTransformer(u,(h,d)=>h?p(h):d?this.callValidator(d,(b,x)=>b?p(b):x&&!x.isValid?p(null,{row:d,isValid:!1,reason:x.reason}):p(null,{row:d,isValid:!0})):p(null,{row:null,isValid:!0}))}callTransformer(u,p){return this._rowTransform?this._rowTransform(u,p):p(null,u)}callValidator(u,p){return this._rowValidator?this._rowValidator(u,p):p(null,{row:u,isValid:!0})}}s.RowTransformerValidator=c},{"../types":169,"lodash.isfunction":446}],168:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.HeaderTransformer=s.RowTransformerValidator=void 0;var i=e("./RowTransformerValidator");Object.defineProperty(s,"RowTransformerValidator",{enumerable:!0,get:function(){return i.RowTransformerValidator}});var a=e("./HeaderTransformer");Object.defineProperty(s,"HeaderTransformer",{enumerable:!0,get:function(){return a.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.isSyncValidate=s.isSyncTransform=void 0,s.isSyncTransform=i=>i.length===1,s.isSyncValidate=i=>i.length===1},{}],170:[function(e,n,s){const i=s;i.bignum=e("bn.js"),i.define=e("./asn1/api").define,i.base=e("./asn1/base"),i.constants=e("./asn1/constants"),i.decoders=e("./asn1/decoders"),i.encoders=e("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(e,n,s){const i=e("./encoders"),a=e("./decoders"),l=e("inherits");function c(o,u){this.name=o,this.body=u,this.decoders={},this.encoders={}}s.define=function(o,u){return new c(o,u)},c.prototype._createNamed=function(o){const u=this.name;function p(h){this._initNamed(h,u)}return l(p,o),p.prototype._initNamed=function(h,d){o.call(this,h,d)},new p(this)},c.prototype._getDecoder=function(o){return o=o||"der",this.decoders.hasOwnProperty(o)||(this.decoders[o]=this._createNamed(a[o])),this.decoders[o]},c.prototype.decode=function(o,u,p){return this._getDecoder(u).decode(o,p)},c.prototype._getEncoder=function(o){return o=o||"der",this.encoders.hasOwnProperty(o)||(this.encoders[o]=this._createNamed(i[o])),this.encoders[o]},c.prototype.encode=function(o,u,p){return this._getEncoder(u).encode(o,p)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(e,n,s){const i=e("inherits"),a=e("../base/reporter").Reporter,l=e("safer-buffer").Buffer;function c(u,p){a.call(this,p),l.isBuffer(u)?(this.base=u,this.offset=0,this.length=u.length):this.error("Input not Buffer")}function o(u,p){if(Array.isArray(u))this.length=0,this.value=u.map((function(h){return o.isEncoderBuffer(h)||(h=new o(h,p)),this.length+=h.length,h}),this);else if(typeof u=="number"){if(!(0<=u&&u<=255))return p.error("non-byte EncoderBuffer value");this.value=u,this.length=1}else if(typeof u=="string")this.value=u,this.length=l.byteLength(u);else{if(!l.isBuffer(u))return p.error("Unsupported type: "+typeof u);this.value=u,this.length=u.length}}i(c,a),s.DecoderBuffer=c,c.isDecoderBuffer=function(u){return u instanceof c?!0:typeof u=="object"&&l.isBuffer(u.base)&&u.constructor.name==="DecoderBuffer"&&typeof u.offset=="number"&&typeof u.length=="number"&&typeof u.save=="function"&&typeof u.restore=="function"&&typeof u.isEmpty=="function"&&typeof u.readUInt8=="function"&&typeof u.skip=="function"&&typeof u.raw=="function"},c.prototype.save=function(){return{offset:this.offset,reporter:a.prototype.save.call(this)}},c.prototype.restore=function(u){const p=new c(this.base);return p.offset=u.offset,p.length=this.offset,this.offset=u.offset,a.prototype.restore.call(this,u.reporter),p},c.prototype.isEmpty=function(){return this.offset===this.length},c.prototype.readUInt8=function(u){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(u||"DecoderBuffer overrun")},c.prototype.skip=function(u,p){if(!(this.offset+u<=this.length))return this.error(p||"DecoderBuffer overrun");const h=new c(this.base);return h._reporterState=this._reporterState,h.offset=this.offset,h.length=this.offset+u,this.offset+=u,h},c.prototype.raw=function(u){return this.base.slice(u?u.offset:this.offset,this.length)},s.EncoderBuffer=o,o.isEncoderBuffer=function(u){return u instanceof o?!0:typeof u=="object"&&u.constructor.name==="EncoderBuffer"&&typeof u.length=="number"&&typeof u.join=="function"},o.prototype.join=function(u,p){return u||(u=l.alloc(this.length)),p||(p=0),this.length===0||(Array.isArray(this.value)?this.value.forEach((function(h){h.join(u,p),p+=h.length})):(typeof this.value=="number"?u[p]=this.value:typeof this.value=="string"?u.write(this.value,p):l.isBuffer(this.value)&&this.value.copy(u,p),p+=this.length)),u}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(e,n,s){const i=s;i.Reporter=e("./reporter").Reporter,i.DecoderBuffer=e("./buffer").DecoderBuffer,i.EncoderBuffer=e("./buffer").EncoderBuffer,i.Node=e("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(e,n,s){const i=e("../base/reporter").Reporter,a=e("../base/buffer").EncoderBuffer,l=e("../base/buffer").DecoderBuffer,c=e("minimalistic-assert"),o=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],u=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(o);function p(d,b,x){const g={};this._baseState=g,g.name=x,g.enc=d,g.parent=b||null,g.children=null,g.tag=null,g.args=null,g.reverseArgs=null,g.choice=null,g.optional=!1,g.any=!1,g.obj=!1,g.use=null,g.useDecoder=null,g.key=null,g.default=null,g.explicit=null,g.implicit=null,g.contains=null,g.parent||(g.children=[],this._wrap())}n.exports=p;const h=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];p.prototype.clone=function(){const d=this._baseState,b={};h.forEach((function(g){b[g]=d[g]}));const x=new this.constructor(b.parent);return x._baseState=b,x},p.prototype._wrap=function(){const d=this._baseState;u.forEach((function(b){this[b]=function(){const x=new this.constructor(this);return d.children.push(x),x[b].apply(x,arguments)}}),this)},p.prototype._init=function(d){const b=this._baseState;c(b.parent===null),d.call(this),b.children=b.children.filter((function(x){return x._baseState.parent===this}),this),c.equal(b.children.length,1,"Root node can have only one child")},p.prototype._useArgs=function(d){const b=this._baseState,x=d.filter((function(g){return g instanceof this.constructor}),this);d=d.filter((function(g){return!(g instanceof this.constructor)}),this),x.length!==0&&(c(b.children===null),b.children=x,x.forEach((function(g){g._baseState.parent=this}),this)),d.length!==0&&(c(b.args===null),b.args=d,b.reverseArgs=d.map((function(g){if(typeof g!="object"||g.constructor!==Object)return g;const w={};return Object.keys(g).forEach((function(v){v==(0|v)&&(v|=0);const k=g[v];w[k]=v})),w})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(d){p.prototype[d]=function(){const b=this._baseState;throw new Error(d+" not implemented for encoding: "+b.enc)}})),o.forEach((function(d){p.prototype[d]=function(){const b=this._baseState,x=Array.prototype.slice.call(arguments);return c(b.tag===null),b.tag=d,this._useArgs(x),this}})),p.prototype.use=function(d){c(d);const b=this._baseState;return c(b.use===null),b.use=d,this},p.prototype.optional=function(){return this._baseState.optional=!0,this},p.prototype.def=function(d){const b=this._baseState;return c(b.default===null),b.default=d,b.optional=!0,this},p.prototype.explicit=function(d){const b=this._baseState;return c(b.explicit===null&&b.implicit===null),b.explicit=d,this},p.prototype.implicit=function(d){const b=this._baseState;return c(b.explicit===null&&b.implicit===null),b.implicit=d,this},p.prototype.obj=function(){const d=this._baseState,b=Array.prototype.slice.call(arguments);return d.obj=!0,b.length!==0&&this._useArgs(b),this},p.prototype.key=function(d){const b=this._baseState;return c(b.key===null),b.key=d,this},p.prototype.any=function(){return this._baseState.any=!0,this},p.prototype.choice=function(d){const b=this._baseState;return c(b.choice===null),b.choice=d,this._useArgs(Object.keys(d).map((function(x){return d[x]}))),this},p.prototype.contains=function(d){const b=this._baseState;return c(b.use===null),b.contains=d,this},p.prototype._decode=function(d,b){const x=this._baseState;if(x.parent===null)return d.wrapResult(x.children[0]._decode(d,b));let g,w=x.default,v=!0,k=null;if(x.key!==null&&(k=d.enterKey(x.key)),x.optional){let R=null;if(x.explicit!==null?R=x.explicit:x.implicit!==null?R=x.implicit:x.tag!==null&&(R=x.tag),R!==null||x.any){if(v=this._peekTag(d,R,x.any),d.isError(v))return v}else{const L=d.save();try{x.choice===null?this._decodeGeneric(x.tag,d,b):this._decodeChoice(d,b),v=!0}catch{v=!1}d.restore(L)}}if(x.obj&&v&&(g=d.enterObject()),v){if(x.explicit!==null){const L=this._decodeTag(d,x.explicit);if(d.isError(L))return L;d=L}const R=d.offset;if(x.use===null&&x.choice===null){let L;x.any&&(L=d.save());const G=this._decodeTag(d,x.implicit!==null?x.implicit:x.tag,x.any);if(d.isError(G))return G;x.any?w=d.raw(L):d=G}if(b&&b.track&&x.tag!==null&&b.track(d.path(),R,d.length,"tagged"),b&&b.track&&x.tag!==null&&b.track(d.path(),d.offset,d.length,"content"),x.any||(w=x.choice===null?this._decodeGeneric(x.tag,d,b):this._decodeChoice(d,b)),d.isError(w))return w;if(x.any||x.choice!==null||x.children===null||x.children.forEach((function(L){L._decode(d,b)})),x.contains&&(x.tag==="octstr"||x.tag==="bitstr")){const L=new l(w);w=this._getUse(x.contains,d._reporterState.obj)._decode(L,b)}}return x.obj&&v&&(w=d.leaveObject(g)),x.key===null||w===null&&v!==!0?k!==null&&d.exitKey(k):d.leaveKey(k,x.key,w),w},p.prototype._decodeGeneric=function(d,b,x){const g=this._baseState;return d==="seq"||d==="set"?null:d==="seqof"||d==="setof"?this._decodeList(b,d,g.args[0],x):/str$/.test(d)?this._decodeStr(b,d,x):d==="objid"&&g.args?this._decodeObjid(b,g.args[0],g.args[1],x):d==="objid"?this._decodeObjid(b,null,null,x):d==="gentime"||d==="utctime"?this._decodeTime(b,d,x):d==="null_"?this._decodeNull(b,x):d==="bool"?this._decodeBool(b,x):d==="objDesc"?this._decodeStr(b,d,x):d==="int"||d==="enum"?this._decodeInt(b,g.args&&g.args[0],x):g.use!==null?this._getUse(g.use,b._reporterState.obj)._decode(b,x):b.error("unknown tag: "+d)},p.prototype._getUse=function(d,b){const x=this._baseState;return x.useDecoder=this._use(d,b),c(x.useDecoder._baseState.parent===null),x.useDecoder=x.useDecoder._baseState.children[0],x.implicit!==x.useDecoder._baseState.implicit&&(x.useDecoder=x.useDecoder.clone(),x.useDecoder._baseState.implicit=x.implicit),x.useDecoder},p.prototype._decodeChoice=function(d,b){const x=this._baseState;let g=null,w=!1;return Object.keys(x.choice).some((function(v){const k=d.save(),R=x.choice[v];try{const L=R._decode(d,b);if(d.isError(L))return!1;g={type:v,value:L},w=!0}catch{return d.restore(k),!1}return!0}),this),w?g:d.error("Choice not matched")},p.prototype._createEncoderBuffer=function(d){return new a(d,this.reporter)},p.prototype._encode=function(d,b,x){const g=this._baseState;if(g.default!==null&&g.default===d)return;const w=this._encodeValue(d,b,x);return w===void 0||this._skipDefault(w,b,x)?void 0:w},p.prototype._encodeValue=function(d,b,x){const g=this._baseState;if(g.parent===null)return g.children[0]._encode(d,b||new i);let w=null;if(this.reporter=b,g.optional&&d===void 0){if(g.default===null)return;d=g.default}let v=null,k=!1;if(g.any)w=this._createEncoderBuffer(d);else if(g.choice)w=this._encodeChoice(d,b);else if(g.contains)v=this._getUse(g.contains,x)._encode(d,b),k=!0;else if(g.children)v=g.children.map((function(R){if(R._baseState.tag==="null_")return R._encode(null,b,d);if(R._baseState.key===null)return b.error("Child should have a key");const L=b.enterKey(R._baseState.key);if(typeof d!="object")return b.error("Child expected, but input is not object");const G=R._encode(d[R._baseState.key],b,d);return b.leaveKey(L),G}),this).filter((function(R){return R})),v=this._createEncoderBuffer(v);else if(g.tag==="seqof"||g.tag==="setof"){if(!g.args||g.args.length!==1)return b.error("Too many args for : "+g.tag);if(!Array.isArray(d))return b.error("seqof/setof, but data is not Array");const R=this.clone();R._baseState.implicit=null,v=this._createEncoderBuffer(d.map((function(L){const G=this._baseState;return this._getUse(G.args[0],d)._encode(L,b)}),R))}else g.use!==null?w=this._getUse(g.use,x)._encode(d,b):(v=this._encodePrimitive(g.tag,d),k=!0);if(!g.any&&g.choice===null){const R=g.implicit!==null?g.implicit:g.tag,L=g.implicit===null?"universal":"context";R===null?g.use===null&&b.error("Tag could be omitted only for .use()"):g.use===null&&(w=this._encodeComposite(R,k,L,v))}return g.explicit!==null&&(w=this._encodeComposite(g.explicit,!1,"context",w)),w},p.prototype._encodeChoice=function(d,b){const x=this._baseState,g=x.choice[d.type];return g||c(!1,d.type+" not found in "+JSON.stringify(Object.keys(x.choice))),g._encode(d.value,b)},p.prototype._encodePrimitive=function(d,b){const x=this._baseState;if(/str$/.test(d))return this._encodeStr(b,d);if(d==="objid"&&x.args)return this._encodeObjid(b,x.reverseArgs[0],x.args[1]);if(d==="objid")return this._encodeObjid(b,null,null);if(d==="gentime"||d==="utctime")return this._encodeTime(b,d);if(d==="null_")return this._encodeNull();if(d==="int"||d==="enum")return this._encodeInt(b,x.args&&x.reverseArgs[0]);if(d==="bool")return this._encodeBool(b);if(d==="objDesc")return this._encodeStr(b,d);throw new Error("Unsupported tag: "+d)},p.prototype._isNumstr=function(d){return/^[0-9 ]*$/.test(d)},p.prototype._isPrintstr=function(d){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(d)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(e,n,s){const i=e("inherits");function a(c){this._reporterState={obj:null,path:[],options:c||{},errors:[]}}function l(c,o){this.path=c,this.rethrow(o)}s.Reporter=a,a.prototype.isError=function(c){return c instanceof l},a.prototype.save=function(){const c=this._reporterState;return{obj:c.obj,pathLen:c.path.length}},a.prototype.restore=function(c){const o=this._reporterState;o.obj=c.obj,o.path=o.path.slice(0,c.pathLen)},a.prototype.enterKey=function(c){return this._reporterState.path.push(c)},a.prototype.exitKey=function(c){const o=this._reporterState;o.path=o.path.slice(0,c-1)},a.prototype.leaveKey=function(c,o,u){const p=this._reporterState;this.exitKey(c),p.obj!==null&&(p.obj[o]=u)},a.prototype.path=function(){return this._reporterState.path.join("/")},a.prototype.enterObject=function(){const c=this._reporterState,o=c.obj;return c.obj={},o},a.prototype.leaveObject=function(c){const o=this._reporterState,u=o.obj;return o.obj=c,u},a.prototype.error=function(c){let o;const u=this._reporterState,p=c instanceof l;if(o=p?c:new l(u.path.map((function(h){return"["+JSON.stringify(h)+"]"})).join(""),c.message||c,c.stack),!u.options.partial)throw o;return p||u.errors.push(o),o},a.prototype.wrapResult=function(c){const o=this._reporterState;return o.options.partial?{result:this.isError(c)?null:c,errors:o.errors}:c},i(l,Error),l.prototype.rethrow=function(c){if(this.message=c+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,l),!this.stack)try{throw new Error(this.message)}catch(o){this.stack=o.stack}return this}},{inherits:440}],176:[function(e,n,s){function i(a){const l={};return Object.keys(a).forEach((function(c){(0|c)==c&&(c|=0);const o=a[c];l[o]=c})),l}s.tagClass={0:"universal",1:"application",2:"context",3:"private"},s.tagClassByName=i(s.tagClass),s.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},s.tagByName=i(s.tag)},{}],177:[function(e,n,s){const i=s;i._reverse=function(a){const l={};return Object.keys(a).forEach((function(c){(0|c)==c&&(c|=0);const o=a[c];l[o]=c})),l},i.der=e("./der")},{"./der":176}],178:[function(e,n,s){const i=e("inherits"),a=e("bn.js"),l=e("../base/buffer").DecoderBuffer,c=e("../base/node"),o=e("../constants/der");function u(b){this.enc="der",this.name=b.name,this.entity=b,this.tree=new p,this.tree._init(b.body)}function p(b){c.call(this,"der",b)}function h(b,x){let g=b.readUInt8(x);if(b.isError(g))return g;const w=o.tagClass[g>>6],v=(32&g)==0;if((31&g)==31){let k=g;for(g=0;(128&k)==128;){if(k=b.readUInt8(x),b.isError(k))return k;g<<=7,g|=127&k}}else g&=31;return{cls:w,primitive:v,tag:g,tagStr:o.tag[g]}}function d(b,x,g){let w=b.readUInt8(g);if(b.isError(w))return w;if(!x&&w===128)return null;if((128&w)==0)return w;const v=127&w;if(v>4)return b.error("length octect is too long");w=0;for(let k=0;k<v;k++){w<<=8;const R=b.readUInt8(g);if(b.isError(R))return R;w|=R}return w}n.exports=u,u.prototype.decode=function(b,x){return l.isDecoderBuffer(b)||(b=new l(b,x)),this.tree._decode(b,x)},i(p,c),p.prototype._peekTag=function(b,x,g){if(b.isEmpty())return!1;const w=b.save(),v=h(b,'Failed to peek tag: "'+x+'"');return b.isError(v)?v:(b.restore(w),v.tag===x||v.tagStr===x||v.tagStr+"of"===x||g)},p.prototype._decodeTag=function(b,x,g){const w=h(b,'Failed to decode tag of "'+x+'"');if(b.isError(w))return w;let v=d(b,w.primitive,'Failed to get length of "'+x+'"');if(b.isError(v))return v;if(!g&&w.tag!==x&&w.tagStr!==x&&w.tagStr+"of"!==x)return b.error('Failed to match tag: "'+x+'"');if(w.primitive||v!==null)return b.skip(v,'Failed to match body of: "'+x+'"');const k=b.save(),R=this._skipUntilEnd(b,'Failed to skip indefinite length body: "'+this.tag+'"');return b.isError(R)?R:(v=b.offset-k.offset,b.restore(k),b.skip(v,'Failed to match body of: "'+x+'"'))},p.prototype._skipUntilEnd=function(b,x){for(;;){const g=h(b,x);if(b.isError(g))return g;const w=d(b,g.primitive,x);if(b.isError(w))return w;let v;if(v=g.primitive||w!==null?b.skip(w):this._skipUntilEnd(b,x),b.isError(v))return v;if(g.tagStr==="end")break}},p.prototype._decodeList=function(b,x,g,w){const v=[];for(;!b.isEmpty();){const k=this._peekTag(b,"end");if(b.isError(k))return k;const R=g.decode(b,"der",w);if(b.isError(R)&&k)break;v.push(R)}return v},p.prototype._decodeStr=function(b,x){if(x==="bitstr"){const g=b.readUInt8();return b.isError(g)?g:{unused:g,data:b.raw()}}if(x==="bmpstr"){const g=b.raw();if(g.length%2==1)return b.error("Decoding of string type: bmpstr length mismatch");let w="";for(let v=0;v<g.length/2;v++)w+=String.fromCharCode(g.readUInt16BE(2*v));return w}if(x==="numstr"){const g=b.raw().toString("ascii");return this._isNumstr(g)?g:b.error("Decoding of string type: numstr unsupported characters")}if(x==="octstr"||x==="objDesc")return b.raw();if(x==="printstr"){const g=b.raw().toString("ascii");return this._isPrintstr(g)?g:b.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(x)?b.raw().toString():b.error("Decoding of string type: "+x+" unsupported")},p.prototype._decodeObjid=function(b,x,g){let w;const v=[];let k=0,R=0;for(;!b.isEmpty();)R=b.readUInt8(),k<<=7,k|=127&R,(128&R)==0&&(v.push(k),k=0);128&R&&v.push(k);const L=v[0]/40|0,G=v[0]%40;if(w=g?v:[L,G].concat(v.slice(1)),x){let V=x[w.join(" ")];V===void 0&&(V=x[w.join(".")]),V!==void 0&&(w=V)}return w},p.prototype._decodeTime=function(b,x){const g=b.raw().toString();let w,v,k,R,L,G;if(x==="gentime")w=0|g.slice(0,4),v=0|g.slice(4,6),k=0|g.slice(6,8),R=0|g.slice(8,10),L=0|g.slice(10,12),G=0|g.slice(12,14);else{if(x!=="utctime")return b.error("Decoding "+x+" time is not supported yet");w=0|g.slice(0,2),v=0|g.slice(2,4),k=0|g.slice(4,6),R=0|g.slice(6,8),L=0|g.slice(8,10),G=0|g.slice(10,12),w=w<70?2e3+w:1900+w}return Date.UTC(w,v-1,k,R,L,G,0)},p.prototype._decodeNull=function(){return null},p.prototype._decodeBool=function(b){const x=b.readUInt8();return b.isError(x)?x:x!==0},p.prototype._decodeInt=function(b,x){const g=b.raw();let w=new a(g);return x&&(w=x[w.toString(10)]||w),w},p.prototype._use=function(b,x){return typeof b=="function"&&(b=b(x)),b._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(e,n,s){const i=s;i.der=e("./der"),i.pem=e("./pem")},{"./der":178,"./pem":180}],180:[function(e,n,s){const i=e("inherits"),a=e("safer-buffer").Buffer,l=e("./der");function c(o){l.call(this,o),this.enc="pem"}i(c,l),n.exports=c,c.prototype.decode=function(o,u){const p=o.toString().split(/[\r\n]+/g),h=u.label.toUpperCase(),d=/^-----(BEGIN|END) ([^-]+)-----$/;let b=-1,x=-1;for(let v=0;v<p.length;v++){const k=p[v].match(d);if(k!==null&&k[2]===h){if(b!==-1){if(k[1]!=="END")break;x=v;break}if(k[1]!=="BEGIN")break;b=v}}if(b===-1||x===-1)throw new Error("PEM section not found for: "+h);const g=p.slice(b+1,x).join("");g.replace(/[^a-z0-9+/=]+/gi,"");const w=a.from(g,"base64");return l.prototype.decode.call(this,w,u)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(e,n,s){const i=e("inherits"),a=e("safer-buffer").Buffer,l=e("../base/node"),c=e("../constants/der");function o(h){this.enc="der",this.name=h.name,this.entity=h,this.tree=new u,this.tree._init(h.body)}function u(h){l.call(this,"der",h)}function p(h){return h<10?"0"+h:h}n.exports=o,o.prototype.encode=function(h,d){return this.tree._encode(h,d).join()},i(u,l),u.prototype._encodeComposite=function(h,d,b,x){const g=(function(k,R,L,G){let V;if(k==="seqof"?k="seq":k==="setof"&&(k="set"),c.tagByName.hasOwnProperty(k))V=c.tagByName[k];else{if(typeof k!="number"||(0|k)!==k)return G.error("Unknown tag: "+k);V=k}return V>=31?G.error("Multi-octet tag encoding unsupported"):(R||(V|=32),V|=c.tagClassByName[L||"universal"]<<6,V)})(h,d,b,this.reporter);if(x.length<128){const k=a.alloc(2);return k[0]=g,k[1]=x.length,this._createEncoderBuffer([k,x])}let w=1;for(let k=x.length;k>=256;k>>=8)w++;const v=a.alloc(2+w);v[0]=g,v[1]=128|w;for(let k=1+w,R=x.length;R>0;k--,R>>=8)v[k]=255&R;return this._createEncoderBuffer([v,x])},u.prototype._encodeStr=function(h,d){if(d==="bitstr")return this._createEncoderBuffer([0|h.unused,h.data]);if(d==="bmpstr"){const b=a.alloc(2*h.length);for(let x=0;x<h.length;x++)b.writeUInt16BE(h.charCodeAt(x),2*x);return this._createEncoderBuffer(b)}return d==="numstr"?this._isNumstr(h)?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: numstr supports only digits and space"):d==="printstr"?this._isPrintstr(h)?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(d)||d==="objDesc"?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: "+d+" unsupported")},u.prototype._encodeObjid=function(h,d,b){if(typeof h=="string"){if(!d)return this.reporter.error("string objid given, but no values map found");if(!d.hasOwnProperty(h))return this.reporter.error("objid not found in values map");h=d[h].split(/[\s.]+/g);for(let v=0;v<h.length;v++)h[v]|=0}else if(Array.isArray(h)){h=h.slice();for(let v=0;v<h.length;v++)h[v]|=0}if(!Array.isArray(h))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(h));if(!b){if(h[1]>=40)return this.reporter.error("Second objid identifier OOB");h.splice(0,2,40*h[0]+h[1])}let x=0;for(let v=0;v<h.length;v++){let k=h[v];for(x++;k>=128;k>>=7)x++}const g=a.alloc(x);let w=g.length-1;for(let v=h.length-1;v>=0;v--){let k=h[v];for(g[w--]=127&k;(k>>=7)>0;)g[w--]=128|127&k}return this._createEncoderBuffer(g)},u.prototype._encodeTime=function(h,d){let b;const x=new Date(h);return d==="gentime"?b=[p(x.getUTCFullYear()),p(x.getUTCMonth()+1),p(x.getUTCDate()),p(x.getUTCHours()),p(x.getUTCMinutes()),p(x.getUTCSeconds()),"Z"].join(""):d==="utctime"?b=[p(x.getUTCFullYear()%100),p(x.getUTCMonth()+1),p(x.getUTCDate()),p(x.getUTCHours()),p(x.getUTCMinutes()),p(x.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+d+" time is not supported yet"),this._encodeStr(b,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(h,d){if(typeof h=="string"){if(!d)return this.reporter.error("String int or enum given, but no values map");if(!d.hasOwnProperty(h))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(h));h=d[h]}if(typeof h!="number"&&!a.isBuffer(h)){const g=h.toArray();!h.sign&&128&g[0]&&g.unshift(0),h=a.from(g)}if(a.isBuffer(h)){let g=h.length;h.length===0&&g++;const w=a.alloc(g);return h.copy(w),h.length===0&&(w[0]=0),this._createEncoderBuffer(w)}if(h<128)return this._createEncoderBuffer(h);if(h<256)return this._createEncoderBuffer([0,h]);let b=1;for(let g=h;g>=256;g>>=8)b++;const x=new Array(b);for(let g=x.length-1;g>=0;g--)x[g]=255&h,h>>=8;return 128&x[0]&&x.unshift(0),this._createEncoderBuffer(a.from(x))},u.prototype._encodeBool=function(h){return this._createEncoderBuffer(h?255:0)},u.prototype._use=function(h,d){return typeof h=="function"&&(h=h(d)),h._getEncoder("der").tree},u.prototype._skipDefault=function(h,d,b){const x=this._baseState;let g;if(x.default===null)return!1;const w=h.join();if(x.defaultBuffer===void 0&&(x.defaultBuffer=this._encodeValue(x.default,d,b).join()),w.length!==x.defaultBuffer.length)return!1;for(g=0;g<w.length;g++)if(w[g]!==x.defaultBuffer[g])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(e,n,s){const i=s;i.der=e("./der"),i.pem=e("./pem")},{"./der":181,"./pem":183}],183:[function(e,n,s){const i=e("inherits"),a=e("./der");function l(c){a.call(this,c),this.enc="pem"}i(l,a),n.exports=l,l.prototype.encode=function(c,o){const u=a.prototype.encode.call(this,c).toString("base64"),p=["-----BEGIN "+o.label+"-----"];for(let h=0;h<u.length;h+=64)p.push(u.slice(h,h+64));return p.push("-----END "+o.label+"-----"),p.join(`
`)}},{"./der":181,inherits:440}],184:[function(e,n,s){(function(i,a){function l(N,D){if(!N)throw new Error(D||"Assertion failed")}function c(N,D){N.super_=D;var C=function(){};C.prototype=D.prototype,N.prototype=new C,N.prototype.constructor=N}function o(N,D,C){if(o.isBN(N))return N;this.negative=0,this.words=null,this.length=0,this.red=null,N!==null&&(D!=="le"&&D!=="be"||(C=D,D=10),this._init(N||0,D||10,C||"be"))}var u;typeof i=="object"?i.exports=o:(void 0).BN=o,o.BN=o,o.wordSize=26;try{u=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function p(N,D){var C=N.charCodeAt(D);return C>=65&&C<=70?C-55:C>=97&&C<=102?C-87:C-48&15}function h(N,D,C){var S=p(N,C);return C-1>=D&&(S|=p(N,C-1)<<4),S}function d(N,D,C,S){for(var T=0,A=Math.min(N.length,C),E=D;E<A;E++){var j=N.charCodeAt(E)-48;T*=S,T+=j>=49?j-49+10:j>=17?j-17+10:j}return T}o.isBN=function(N){return N instanceof o||N!==null&&typeof N=="object"&&N.constructor.wordSize===o.wordSize&&Array.isArray(N.words)},o.max=function(N,D){return N.cmp(D)>0?N:D},o.min=function(N,D){return N.cmp(D)<0?N:D},o.prototype._init=function(N,D,C){if(typeof N=="number")return this._initNumber(N,D,C);if(typeof N=="object")return this._initArray(N,D,C);D==="hex"&&(D=16),l(D===(0|D)&&D>=2&&D<=36);var S=0;(N=N.toString().replace(/\s+/g,""))[0]==="-"&&(S++,this.negative=1),S<N.length&&(D===16?this._parseHex(N,S,C):(this._parseBase(N,D,S),C==="le"&&this._initArray(this.toArray(),D,C)))},o.prototype._initNumber=function(N,D,C){N<0&&(this.negative=1,N=-N),N<67108864?(this.words=[67108863&N],this.length=1):N<4503599627370496?(this.words=[67108863&N,N/67108864&67108863],this.length=2):(l(N<9007199254740992),this.words=[67108863&N,N/67108864&67108863,1],this.length=3),C==="le"&&this._initArray(this.toArray(),D,C)},o.prototype._initArray=function(N,D,C){if(l(typeof N.length=="number"),N.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(N.length/3),this.words=new Array(this.length);for(var S=0;S<this.length;S++)this.words[S]=0;var T,A,E=0;if(C==="be")for(S=N.length-1,T=0;S>=0;S-=3)A=N[S]|N[S-1]<<8|N[S-2]<<16,this.words[T]|=A<<E&67108863,this.words[T+1]=A>>>26-E&67108863,(E+=24)>=26&&(E-=26,T++);else if(C==="le")for(S=0,T=0;S<N.length;S+=3)A=N[S]|N[S+1]<<8|N[S+2]<<16,this.words[T]|=A<<E&67108863,this.words[T+1]=A>>>26-E&67108863,(E+=24)>=26&&(E-=26,T++);return this.strip()},o.prototype._parseHex=function(N,D,C){this.length=Math.ceil((N.length-D)/6),this.words=new Array(this.length);for(var S=0;S<this.length;S++)this.words[S]=0;var T,A=0,E=0;if(C==="be")for(S=N.length-1;S>=D;S-=2)T=h(N,D,S)<<A,this.words[E]|=67108863&T,A>=18?(A-=18,E+=1,this.words[E]|=T>>>26):A+=8;else for(S=(N.length-D)%2==0?D+1:D;S<N.length;S+=2)T=h(N,D,S)<<A,this.words[E]|=67108863&T,A>=18?(A-=18,E+=1,this.words[E]|=T>>>26):A+=8;this.strip()},o.prototype._parseBase=function(N,D,C){this.words=[0],this.length=1;for(var S=0,T=1;T<=67108863;T*=D)S++;S--,T=T/D|0;for(var A=N.length-C,E=A%S,j=Math.min(A,A-E)+C,U=0,I=C;I<j;I+=S)U=d(N,I,I+S,D),this.imuln(T),this.words[0]+U<67108864?this.words[0]+=U:this._iaddn(U);if(E!==0){var Q=1;for(U=d(N,I,N.length,D),I=0;I<E;I++)Q*=D;this.imuln(Q),this.words[0]+U<67108864?this.words[0]+=U:this._iaddn(U)}this.strip()},o.prototype.copy=function(N){N.words=new Array(this.length);for(var D=0;D<this.length;D++)N.words[D]=this.words[D];N.length=this.length,N.negative=this.negative,N.red=this.red},o.prototype.clone=function(){var N=new o(null);return this.copy(N),N},o.prototype._expand=function(N){for(;this.length<N;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var b=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],x=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function w(N,D,C){C.negative=D.negative^N.negative;var S=N.length+D.length|0;C.length=S,S=S-1|0;var T=0|N.words[0],A=0|D.words[0],E=T*A,j=67108863&E,U=E/67108864|0;C.words[0]=j;for(var I=1;I<S;I++){for(var Q=U>>>26,Y=67108863&U,ee=Math.min(I,D.length-1),q=Math.max(0,I-N.length+1);q<=ee;q++){var te=I-q|0;Q+=(E=(T=0|N.words[te])*(A=0|D.words[q])+Y)/67108864|0,Y=67108863&E}C.words[I]=0|Y,U=0|Q}return U!==0?C.words[I]=0|U:C.length--,C.strip()}o.prototype.toString=function(N,D){var C;if(D=0|D||1,(N=N||10)===16||N==="hex"){C="";for(var S=0,T=0,A=0;A<this.length;A++){var E=this.words[A],j=(16777215&(E<<S|T)).toString(16);C=(T=E>>>24-S&16777215)!==0||A!==this.length-1?b[6-j.length]+j+C:j+C,(S+=2)>=26&&(S-=26,A--)}for(T!==0&&(C=T.toString(16)+C);C.length%D!=0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}if(N===(0|N)&&N>=2&&N<=36){var U=x[N],I=g[N];C="";var Q=this.clone();for(Q.negative=0;!Q.isZero();){var Y=Q.modn(I).toString(N);C=(Q=Q.idivn(I)).isZero()?Y+C:b[U-Y.length]+Y+C}for(this.isZero()&&(C="0"+C);C.length%D!=0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}l(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var N=this.words[0];return this.length===2?N+=67108864*this.words[1]:this.length===3&&this.words[2]===1?N+=4503599627370496+67108864*this.words[1]:this.length>2&&l(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-N:N},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(N,D){return l(u!==void 0),this.toArrayLike(u,N,D)},o.prototype.toArray=function(N,D){return this.toArrayLike(Array,N,D)},o.prototype.toArrayLike=function(N,D,C){var S=this.byteLength(),T=C||Math.max(1,S);l(S<=T,"byte array longer than desired length"),l(T>0,"Requested array length <= 0"),this.strip();var A,E,j=D==="le",U=new N(T),I=this.clone();if(j){for(E=0;!I.isZero();E++)A=I.andln(255),I.iushrn(8),U[E]=A;for(;E<T;E++)U[E]=0}else{for(E=0;E<T-S;E++)U[E]=0;for(E=0;!I.isZero();E++)A=I.andln(255),I.iushrn(8),U[T-E-1]=A}return U},Math.clz32?o.prototype._countBits=function(N){return 32-Math.clz32(N)}:o.prototype._countBits=function(N){var D=N,C=0;return D>=4096&&(C+=13,D>>>=13),D>=64&&(C+=7,D>>>=7),D>=8&&(C+=4,D>>>=4),D>=2&&(C+=2,D>>>=2),C+D},o.prototype._zeroBits=function(N){if(N===0)return 26;var D=N,C=0;return(8191&D)==0&&(C+=13,D>>>=13),(127&D)==0&&(C+=7,D>>>=7),(15&D)==0&&(C+=4,D>>>=4),(3&D)==0&&(C+=2,D>>>=2),(1&D)==0&&C++,C},o.prototype.bitLength=function(){var N=this.words[this.length-1],D=this._countBits(N);return 26*(this.length-1)+D},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var N=0,D=0;D<this.length;D++){var C=this._zeroBits(this.words[D]);if(N+=C,C!==26)break}return N},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(N){return this.negative!==0?this.abs().inotn(N).iaddn(1):this.clone()},o.prototype.fromTwos=function(N){return this.testn(N-1)?this.notn(N).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(N){for(;this.length<N.length;)this.words[this.length++]=0;for(var D=0;D<N.length;D++)this.words[D]=this.words[D]|N.words[D];return this.strip()},o.prototype.ior=function(N){return l((this.negative|N.negative)==0),this.iuor(N)},o.prototype.or=function(N){return this.length>N.length?this.clone().ior(N):N.clone().ior(this)},o.prototype.uor=function(N){return this.length>N.length?this.clone().iuor(N):N.clone().iuor(this)},o.prototype.iuand=function(N){var D;D=this.length>N.length?N:this;for(var C=0;C<D.length;C++)this.words[C]=this.words[C]&N.words[C];return this.length=D.length,this.strip()},o.prototype.iand=function(N){return l((this.negative|N.negative)==0),this.iuand(N)},o.prototype.and=function(N){return this.length>N.length?this.clone().iand(N):N.clone().iand(this)},o.prototype.uand=function(N){return this.length>N.length?this.clone().iuand(N):N.clone().iuand(this)},o.prototype.iuxor=function(N){var D,C;this.length>N.length?(D=this,C=N):(D=N,C=this);for(var S=0;S<C.length;S++)this.words[S]=D.words[S]^C.words[S];if(this!==D)for(;S<D.length;S++)this.words[S]=D.words[S];return this.length=D.length,this.strip()},o.prototype.ixor=function(N){return l((this.negative|N.negative)==0),this.iuxor(N)},o.prototype.xor=function(N){return this.length>N.length?this.clone().ixor(N):N.clone().ixor(this)},o.prototype.uxor=function(N){return this.length>N.length?this.clone().iuxor(N):N.clone().iuxor(this)},o.prototype.inotn=function(N){l(typeof N=="number"&&N>=0);var D=0|Math.ceil(N/26),C=N%26;this._expand(D),C>0&&D--;for(var S=0;S<D;S++)this.words[S]=67108863&~this.words[S];return C>0&&(this.words[S]=~this.words[S]&67108863>>26-C),this.strip()},o.prototype.notn=function(N){return this.clone().inotn(N)},o.prototype.setn=function(N,D){l(typeof N=="number"&&N>=0);var C=N/26|0,S=N%26;return this._expand(C+1),this.words[C]=D?this.words[C]|1<<S:this.words[C]&~(1<<S),this.strip()},o.prototype.iadd=function(N){var D,C,S;if(this.negative!==0&&N.negative===0)return this.negative=0,D=this.isub(N),this.negative^=1,this._normSign();if(this.negative===0&&N.negative!==0)return N.negative=0,D=this.isub(N),N.negative=1,D._normSign();this.length>N.length?(C=this,S=N):(C=N,S=this);for(var T=0,A=0;A<S.length;A++)D=(0|C.words[A])+(0|S.words[A])+T,this.words[A]=67108863&D,T=D>>>26;for(;T!==0&&A<C.length;A++)D=(0|C.words[A])+T,this.words[A]=67108863&D,T=D>>>26;if(this.length=C.length,T!==0)this.words[this.length]=T,this.length++;else if(C!==this)for(;A<C.length;A++)this.words[A]=C.words[A];return this},o.prototype.add=function(N){var D;return N.negative!==0&&this.negative===0?(N.negative=0,D=this.sub(N),N.negative^=1,D):N.negative===0&&this.negative!==0?(this.negative=0,D=N.sub(this),this.negative=1,D):this.length>N.length?this.clone().iadd(N):N.clone().iadd(this)},o.prototype.isub=function(N){if(N.negative!==0){N.negative=0;var D=this.iadd(N);return N.negative=1,D._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(N),this.negative=1,this._normSign();var C,S,T=this.cmp(N);if(T===0)return this.negative=0,this.length=1,this.words[0]=0,this;T>0?(C=this,S=N):(C=N,S=this);for(var A=0,E=0;E<S.length;E++)A=(D=(0|C.words[E])-(0|S.words[E])+A)>>26,this.words[E]=67108863&D;for(;A!==0&&E<C.length;E++)A=(D=(0|C.words[E])+A)>>26,this.words[E]=67108863&D;if(A===0&&E<C.length&&C!==this)for(;E<C.length;E++)this.words[E]=C.words[E];return this.length=Math.max(this.length,E),C!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(N){return this.clone().isub(N)};var v=function(N,D,C){var S,T,A,E=N.words,j=D.words,U=C.words,I=0,Q=0|E[0],Y=8191&Q,ee=Q>>>13,q=0|E[1],te=8191&q,H=q>>>13,z=0|E[2],Z=8191&z,ae=z>>>13,re=0|E[3],le=8191&re,de=re>>>13,ve=0|E[4],ge=8191&ve,se=ve>>>13,xe=0|E[5],pe=8191&xe,Te=xe>>>13,ke=0|E[6],Re=8191&ke,$e=ke>>>13,Pe=0|E[7],Je=8191&Pe,Ze=Pe>>>13,Ye=0|E[8],Xe=8191&Ye,ut=Ye>>>13,ot=0|E[9],je=8191&ot,He=ot>>>13,Ne=0|j[0],Ie=8191&Ne,lt=Ne>>>13,Ue=0|j[1],We=8191&Ue,bt=Ue>>>13,yt=0|j[2],nt=8191&yt,Et=yt>>>13,Oe=0|j[3],Ce=8191&Oe,rt=Oe>>>13,pt=0|j[4],ft=8191&pt,Mt=pt>>>13,At=0|j[5],wt=8191&At,ze=At>>>13,ht=0|j[6],Qe=8191&ht,Ee=ht>>>13,Ve=0|j[7],et=8191&Ve,ce=Ve>>>13,ye=0|j[8],ie=8191&ye,fe=ye>>>13,he=0|j[9],me=8191&he,Ae=he>>>13;C.negative=N.negative^D.negative,C.length=19;var Le=(I+(S=Math.imul(Y,Ie))|0)+((8191&(T=(T=Math.imul(Y,lt))+Math.imul(ee,Ie)|0))<<13)|0;I=((A=Math.imul(ee,lt))+(T>>>13)|0)+(Le>>>26)|0,Le&=67108863,S=Math.imul(te,Ie),T=(T=Math.imul(te,lt))+Math.imul(H,Ie)|0,A=Math.imul(H,lt);var De=(I+(S=S+Math.imul(Y,We)|0)|0)+((8191&(T=(T=T+Math.imul(Y,bt)|0)+Math.imul(ee,We)|0))<<13)|0;I=((A=A+Math.imul(ee,bt)|0)+(T>>>13)|0)+(De>>>26)|0,De&=67108863,S=Math.imul(Z,Ie),T=(T=Math.imul(Z,lt))+Math.imul(ae,Ie)|0,A=Math.imul(ae,lt),S=S+Math.imul(te,We)|0,T=(T=T+Math.imul(te,bt)|0)+Math.imul(H,We)|0,A=A+Math.imul(H,bt)|0;var Fe=(I+(S=S+Math.imul(Y,nt)|0)|0)+((8191&(T=(T=T+Math.imul(Y,Et)|0)+Math.imul(ee,nt)|0))<<13)|0;I=((A=A+Math.imul(ee,Et)|0)+(T>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,S=Math.imul(le,Ie),T=(T=Math.imul(le,lt))+Math.imul(de,Ie)|0,A=Math.imul(de,lt),S=S+Math.imul(Z,We)|0,T=(T=T+Math.imul(Z,bt)|0)+Math.imul(ae,We)|0,A=A+Math.imul(ae,bt)|0,S=S+Math.imul(te,nt)|0,T=(T=T+Math.imul(te,Et)|0)+Math.imul(H,nt)|0,A=A+Math.imul(H,Et)|0;var qe=(I+(S=S+Math.imul(Y,Ce)|0)|0)+((8191&(T=(T=T+Math.imul(Y,rt)|0)+Math.imul(ee,Ce)|0))<<13)|0;I=((A=A+Math.imul(ee,rt)|0)+(T>>>13)|0)+(qe>>>26)|0,qe&=67108863,S=Math.imul(ge,Ie),T=(T=Math.imul(ge,lt))+Math.imul(se,Ie)|0,A=Math.imul(se,lt),S=S+Math.imul(le,We)|0,T=(T=T+Math.imul(le,bt)|0)+Math.imul(de,We)|0,A=A+Math.imul(de,bt)|0,S=S+Math.imul(Z,nt)|0,T=(T=T+Math.imul(Z,Et)|0)+Math.imul(ae,nt)|0,A=A+Math.imul(ae,Et)|0,S=S+Math.imul(te,Ce)|0,T=(T=T+Math.imul(te,rt)|0)+Math.imul(H,Ce)|0,A=A+Math.imul(H,rt)|0;var xt=(I+(S=S+Math.imul(Y,ft)|0)|0)+((8191&(T=(T=T+Math.imul(Y,Mt)|0)+Math.imul(ee,ft)|0))<<13)|0;I=((A=A+Math.imul(ee,Mt)|0)+(T>>>13)|0)+(xt>>>26)|0,xt&=67108863,S=Math.imul(pe,Ie),T=(T=Math.imul(pe,lt))+Math.imul(Te,Ie)|0,A=Math.imul(Te,lt),S=S+Math.imul(ge,We)|0,T=(T=T+Math.imul(ge,bt)|0)+Math.imul(se,We)|0,A=A+Math.imul(se,bt)|0,S=S+Math.imul(le,nt)|0,T=(T=T+Math.imul(le,Et)|0)+Math.imul(de,nt)|0,A=A+Math.imul(de,Et)|0,S=S+Math.imul(Z,Ce)|0,T=(T=T+Math.imul(Z,rt)|0)+Math.imul(ae,Ce)|0,A=A+Math.imul(ae,rt)|0,S=S+Math.imul(te,ft)|0,T=(T=T+Math.imul(te,Mt)|0)+Math.imul(H,ft)|0,A=A+Math.imul(H,Mt)|0;var vt=(I+(S=S+Math.imul(Y,wt)|0)|0)+((8191&(T=(T=T+Math.imul(Y,ze)|0)+Math.imul(ee,wt)|0))<<13)|0;I=((A=A+Math.imul(ee,ze)|0)+(T>>>13)|0)+(vt>>>26)|0,vt&=67108863,S=Math.imul(Re,Ie),T=(T=Math.imul(Re,lt))+Math.imul($e,Ie)|0,A=Math.imul($e,lt),S=S+Math.imul(pe,We)|0,T=(T=T+Math.imul(pe,bt)|0)+Math.imul(Te,We)|0,A=A+Math.imul(Te,bt)|0,S=S+Math.imul(ge,nt)|0,T=(T=T+Math.imul(ge,Et)|0)+Math.imul(se,nt)|0,A=A+Math.imul(se,Et)|0,S=S+Math.imul(le,Ce)|0,T=(T=T+Math.imul(le,rt)|0)+Math.imul(de,Ce)|0,A=A+Math.imul(de,rt)|0,S=S+Math.imul(Z,ft)|0,T=(T=T+Math.imul(Z,Mt)|0)+Math.imul(ae,ft)|0,A=A+Math.imul(ae,Mt)|0,S=S+Math.imul(te,wt)|0,T=(T=T+Math.imul(te,ze)|0)+Math.imul(H,wt)|0,A=A+Math.imul(H,ze)|0;var Ct=(I+(S=S+Math.imul(Y,Qe)|0)|0)+((8191&(T=(T=T+Math.imul(Y,Ee)|0)+Math.imul(ee,Qe)|0))<<13)|0;I=((A=A+Math.imul(ee,Ee)|0)+(T>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,S=Math.imul(Je,Ie),T=(T=Math.imul(Je,lt))+Math.imul(Ze,Ie)|0,A=Math.imul(Ze,lt),S=S+Math.imul(Re,We)|0,T=(T=T+Math.imul(Re,bt)|0)+Math.imul($e,We)|0,A=A+Math.imul($e,bt)|0,S=S+Math.imul(pe,nt)|0,T=(T=T+Math.imul(pe,Et)|0)+Math.imul(Te,nt)|0,A=A+Math.imul(Te,Et)|0,S=S+Math.imul(ge,Ce)|0,T=(T=T+Math.imul(ge,rt)|0)+Math.imul(se,Ce)|0,A=A+Math.imul(se,rt)|0,S=S+Math.imul(le,ft)|0,T=(T=T+Math.imul(le,Mt)|0)+Math.imul(de,ft)|0,A=A+Math.imul(de,Mt)|0,S=S+Math.imul(Z,wt)|0,T=(T=T+Math.imul(Z,ze)|0)+Math.imul(ae,wt)|0,A=A+Math.imul(ae,ze)|0,S=S+Math.imul(te,Qe)|0,T=(T=T+Math.imul(te,Ee)|0)+Math.imul(H,Qe)|0,A=A+Math.imul(H,Ee)|0;var be=(I+(S=S+Math.imul(Y,et)|0)|0)+((8191&(T=(T=T+Math.imul(Y,ce)|0)+Math.imul(ee,et)|0))<<13)|0;I=((A=A+Math.imul(ee,ce)|0)+(T>>>13)|0)+(be>>>26)|0,be&=67108863,S=Math.imul(Xe,Ie),T=(T=Math.imul(Xe,lt))+Math.imul(ut,Ie)|0,A=Math.imul(ut,lt),S=S+Math.imul(Je,We)|0,T=(T=T+Math.imul(Je,bt)|0)+Math.imul(Ze,We)|0,A=A+Math.imul(Ze,bt)|0,S=S+Math.imul(Re,nt)|0,T=(T=T+Math.imul(Re,Et)|0)+Math.imul($e,nt)|0,A=A+Math.imul($e,Et)|0,S=S+Math.imul(pe,Ce)|0,T=(T=T+Math.imul(pe,rt)|0)+Math.imul(Te,Ce)|0,A=A+Math.imul(Te,rt)|0,S=S+Math.imul(ge,ft)|0,T=(T=T+Math.imul(ge,Mt)|0)+Math.imul(se,ft)|0,A=A+Math.imul(se,Mt)|0,S=S+Math.imul(le,wt)|0,T=(T=T+Math.imul(le,ze)|0)+Math.imul(de,wt)|0,A=A+Math.imul(de,ze)|0,S=S+Math.imul(Z,Qe)|0,T=(T=T+Math.imul(Z,Ee)|0)+Math.imul(ae,Qe)|0,A=A+Math.imul(ae,Ee)|0,S=S+Math.imul(te,et)|0,T=(T=T+Math.imul(te,ce)|0)+Math.imul(H,et)|0,A=A+Math.imul(H,ce)|0;var Me=(I+(S=S+Math.imul(Y,ie)|0)|0)+((8191&(T=(T=T+Math.imul(Y,fe)|0)+Math.imul(ee,ie)|0))<<13)|0;I=((A=A+Math.imul(ee,fe)|0)+(T>>>13)|0)+(Me>>>26)|0,Me&=67108863,S=Math.imul(je,Ie),T=(T=Math.imul(je,lt))+Math.imul(He,Ie)|0,A=Math.imul(He,lt),S=S+Math.imul(Xe,We)|0,T=(T=T+Math.imul(Xe,bt)|0)+Math.imul(ut,We)|0,A=A+Math.imul(ut,bt)|0,S=S+Math.imul(Je,nt)|0,T=(T=T+Math.imul(Je,Et)|0)+Math.imul(Ze,nt)|0,A=A+Math.imul(Ze,Et)|0,S=S+Math.imul(Re,Ce)|0,T=(T=T+Math.imul(Re,rt)|0)+Math.imul($e,Ce)|0,A=A+Math.imul($e,rt)|0,S=S+Math.imul(pe,ft)|0,T=(T=T+Math.imul(pe,Mt)|0)+Math.imul(Te,ft)|0,A=A+Math.imul(Te,Mt)|0,S=S+Math.imul(ge,wt)|0,T=(T=T+Math.imul(ge,ze)|0)+Math.imul(se,wt)|0,A=A+Math.imul(se,ze)|0,S=S+Math.imul(le,Qe)|0,T=(T=T+Math.imul(le,Ee)|0)+Math.imul(de,Qe)|0,A=A+Math.imul(de,Ee)|0,S=S+Math.imul(Z,et)|0,T=(T=T+Math.imul(Z,ce)|0)+Math.imul(ae,et)|0,A=A+Math.imul(ae,ce)|0,S=S+Math.imul(te,ie)|0,T=(T=T+Math.imul(te,fe)|0)+Math.imul(H,ie)|0,A=A+Math.imul(H,fe)|0;var Ke=(I+(S=S+Math.imul(Y,me)|0)|0)+((8191&(T=(T=T+Math.imul(Y,Ae)|0)+Math.imul(ee,me)|0))<<13)|0;I=((A=A+Math.imul(ee,Ae)|0)+(T>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,S=Math.imul(je,We),T=(T=Math.imul(je,bt))+Math.imul(He,We)|0,A=Math.imul(He,bt),S=S+Math.imul(Xe,nt)|0,T=(T=T+Math.imul(Xe,Et)|0)+Math.imul(ut,nt)|0,A=A+Math.imul(ut,Et)|0,S=S+Math.imul(Je,Ce)|0,T=(T=T+Math.imul(Je,rt)|0)+Math.imul(Ze,Ce)|0,A=A+Math.imul(Ze,rt)|0,S=S+Math.imul(Re,ft)|0,T=(T=T+Math.imul(Re,Mt)|0)+Math.imul($e,ft)|0,A=A+Math.imul($e,Mt)|0,S=S+Math.imul(pe,wt)|0,T=(T=T+Math.imul(pe,ze)|0)+Math.imul(Te,wt)|0,A=A+Math.imul(Te,ze)|0,S=S+Math.imul(ge,Qe)|0,T=(T=T+Math.imul(ge,Ee)|0)+Math.imul(se,Qe)|0,A=A+Math.imul(se,Ee)|0,S=S+Math.imul(le,et)|0,T=(T=T+Math.imul(le,ce)|0)+Math.imul(de,et)|0,A=A+Math.imul(de,ce)|0,S=S+Math.imul(Z,ie)|0,T=(T=T+Math.imul(Z,fe)|0)+Math.imul(ae,ie)|0,A=A+Math.imul(ae,fe)|0;var gt=(I+(S=S+Math.imul(te,me)|0)|0)+((8191&(T=(T=T+Math.imul(te,Ae)|0)+Math.imul(H,me)|0))<<13)|0;I=((A=A+Math.imul(H,Ae)|0)+(T>>>13)|0)+(gt>>>26)|0,gt&=67108863,S=Math.imul(je,nt),T=(T=Math.imul(je,Et))+Math.imul(He,nt)|0,A=Math.imul(He,Et),S=S+Math.imul(Xe,Ce)|0,T=(T=T+Math.imul(Xe,rt)|0)+Math.imul(ut,Ce)|0,A=A+Math.imul(ut,rt)|0,S=S+Math.imul(Je,ft)|0,T=(T=T+Math.imul(Je,Mt)|0)+Math.imul(Ze,ft)|0,A=A+Math.imul(Ze,Mt)|0,S=S+Math.imul(Re,wt)|0,T=(T=T+Math.imul(Re,ze)|0)+Math.imul($e,wt)|0,A=A+Math.imul($e,ze)|0,S=S+Math.imul(pe,Qe)|0,T=(T=T+Math.imul(pe,Ee)|0)+Math.imul(Te,Qe)|0,A=A+Math.imul(Te,Ee)|0,S=S+Math.imul(ge,et)|0,T=(T=T+Math.imul(ge,ce)|0)+Math.imul(se,et)|0,A=A+Math.imul(se,ce)|0,S=S+Math.imul(le,ie)|0,T=(T=T+Math.imul(le,fe)|0)+Math.imul(de,ie)|0,A=A+Math.imul(de,fe)|0;var jt=(I+(S=S+Math.imul(Z,me)|0)|0)+((8191&(T=(T=T+Math.imul(Z,Ae)|0)+Math.imul(ae,me)|0))<<13)|0;I=((A=A+Math.imul(ae,Ae)|0)+(T>>>13)|0)+(jt>>>26)|0,jt&=67108863,S=Math.imul(je,Ce),T=(T=Math.imul(je,rt))+Math.imul(He,Ce)|0,A=Math.imul(He,rt),S=S+Math.imul(Xe,ft)|0,T=(T=T+Math.imul(Xe,Mt)|0)+Math.imul(ut,ft)|0,A=A+Math.imul(ut,Mt)|0,S=S+Math.imul(Je,wt)|0,T=(T=T+Math.imul(Je,ze)|0)+Math.imul(Ze,wt)|0,A=A+Math.imul(Ze,ze)|0,S=S+Math.imul(Re,Qe)|0,T=(T=T+Math.imul(Re,Ee)|0)+Math.imul($e,Qe)|0,A=A+Math.imul($e,Ee)|0,S=S+Math.imul(pe,et)|0,T=(T=T+Math.imul(pe,ce)|0)+Math.imul(Te,et)|0,A=A+Math.imul(Te,ce)|0,S=S+Math.imul(ge,ie)|0,T=(T=T+Math.imul(ge,fe)|0)+Math.imul(se,ie)|0,A=A+Math.imul(se,fe)|0;var St=(I+(S=S+Math.imul(le,me)|0)|0)+((8191&(T=(T=T+Math.imul(le,Ae)|0)+Math.imul(de,me)|0))<<13)|0;I=((A=A+Math.imul(de,Ae)|0)+(T>>>13)|0)+(St>>>26)|0,St&=67108863,S=Math.imul(je,ft),T=(T=Math.imul(je,Mt))+Math.imul(He,ft)|0,A=Math.imul(He,Mt),S=S+Math.imul(Xe,wt)|0,T=(T=T+Math.imul(Xe,ze)|0)+Math.imul(ut,wt)|0,A=A+Math.imul(ut,ze)|0,S=S+Math.imul(Je,Qe)|0,T=(T=T+Math.imul(Je,Ee)|0)+Math.imul(Ze,Qe)|0,A=A+Math.imul(Ze,Ee)|0,S=S+Math.imul(Re,et)|0,T=(T=T+Math.imul(Re,ce)|0)+Math.imul($e,et)|0,A=A+Math.imul($e,ce)|0,S=S+Math.imul(pe,ie)|0,T=(T=T+Math.imul(pe,fe)|0)+Math.imul(Te,ie)|0,A=A+Math.imul(Te,fe)|0;var Dt=(I+(S=S+Math.imul(ge,me)|0)|0)+((8191&(T=(T=T+Math.imul(ge,Ae)|0)+Math.imul(se,me)|0))<<13)|0;I=((A=A+Math.imul(se,Ae)|0)+(T>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,S=Math.imul(je,wt),T=(T=Math.imul(je,ze))+Math.imul(He,wt)|0,A=Math.imul(He,ze),S=S+Math.imul(Xe,Qe)|0,T=(T=T+Math.imul(Xe,Ee)|0)+Math.imul(ut,Qe)|0,A=A+Math.imul(ut,Ee)|0,S=S+Math.imul(Je,et)|0,T=(T=T+Math.imul(Je,ce)|0)+Math.imul(Ze,et)|0,A=A+Math.imul(Ze,ce)|0,S=S+Math.imul(Re,ie)|0,T=(T=T+Math.imul(Re,fe)|0)+Math.imul($e,ie)|0,A=A+Math.imul($e,fe)|0;var Zt=(I+(S=S+Math.imul(pe,me)|0)|0)+((8191&(T=(T=T+Math.imul(pe,Ae)|0)+Math.imul(Te,me)|0))<<13)|0;I=((A=A+Math.imul(Te,Ae)|0)+(T>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,S=Math.imul(je,Qe),T=(T=Math.imul(je,Ee))+Math.imul(He,Qe)|0,A=Math.imul(He,Ee),S=S+Math.imul(Xe,et)|0,T=(T=T+Math.imul(Xe,ce)|0)+Math.imul(ut,et)|0,A=A+Math.imul(ut,ce)|0,S=S+Math.imul(Je,ie)|0,T=(T=T+Math.imul(Je,fe)|0)+Math.imul(Ze,ie)|0,A=A+Math.imul(Ze,fe)|0;var Wt=(I+(S=S+Math.imul(Re,me)|0)|0)+((8191&(T=(T=T+Math.imul(Re,Ae)|0)+Math.imul($e,me)|0))<<13)|0;I=((A=A+Math.imul($e,Ae)|0)+(T>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,S=Math.imul(je,et),T=(T=Math.imul(je,ce))+Math.imul(He,et)|0,A=Math.imul(He,ce),S=S+Math.imul(Xe,ie)|0,T=(T=T+Math.imul(Xe,fe)|0)+Math.imul(ut,ie)|0,A=A+Math.imul(ut,fe)|0;var Xt=(I+(S=S+Math.imul(Je,me)|0)|0)+((8191&(T=(T=T+Math.imul(Je,Ae)|0)+Math.imul(Ze,me)|0))<<13)|0;I=((A=A+Math.imul(Ze,Ae)|0)+(T>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,S=Math.imul(je,ie),T=(T=Math.imul(je,fe))+Math.imul(He,ie)|0,A=Math.imul(He,fe);var zt=(I+(S=S+Math.imul(Xe,me)|0)|0)+((8191&(T=(T=T+Math.imul(Xe,Ae)|0)+Math.imul(ut,me)|0))<<13)|0;I=((A=A+Math.imul(ut,Ae)|0)+(T>>>13)|0)+(zt>>>26)|0,zt&=67108863;var er=(I+(S=Math.imul(je,me))|0)+((8191&(T=(T=Math.imul(je,Ae))+Math.imul(He,me)|0))<<13)|0;return I=((A=Math.imul(He,Ae))+(T>>>13)|0)+(er>>>26)|0,er&=67108863,U[0]=Le,U[1]=De,U[2]=Fe,U[3]=qe,U[4]=xt,U[5]=vt,U[6]=Ct,U[7]=be,U[8]=Me,U[9]=Ke,U[10]=gt,U[11]=jt,U[12]=St,U[13]=Dt,U[14]=Zt,U[15]=Wt,U[16]=Xt,U[17]=zt,U[18]=er,I!==0&&(U[19]=I,C.length++),C};function k(N,D,C){return new R().mulp(N,D,C)}function R(N,D){this.x=N,this.y=D}Math.imul||(v=w),o.prototype.mulTo=function(N,D){var C=this.length+N.length;return this.length===10&&N.length===10?v(this,N,D):C<63?w(this,N,D):C<1024?(function(S,T,A){A.negative=T.negative^S.negative,A.length=S.length+T.length;for(var E=0,j=0,U=0;U<A.length-1;U++){var I=j;j=0;for(var Q=67108863&E,Y=Math.min(U,T.length-1),ee=Math.max(0,U-S.length+1);ee<=Y;ee++){var q=U-ee,te=(0|S.words[q])*(0|T.words[ee]),H=67108863&te;Q=67108863&(H=H+Q|0),j+=(I=(I=I+(te/67108864|0)|0)+(H>>>26)|0)>>>26,I&=67108863}A.words[U]=Q,E=I,I=j}return E!==0?A.words[U]=E:A.length--,A.strip()})(this,N,D):k(this,N,D)},R.prototype.makeRBT=function(N){for(var D=new Array(N),C=o.prototype._countBits(N)-1,S=0;S<N;S++)D[S]=this.revBin(S,C,N);return D},R.prototype.revBin=function(N,D,C){if(N===0||N===C-1)return N;for(var S=0,T=0;T<D;T++)S|=(1&N)<<D-T-1,N>>=1;return S},R.prototype.permute=function(N,D,C,S,T,A){for(var E=0;E<A;E++)S[E]=D[N[E]],T[E]=C[N[E]]},R.prototype.transform=function(N,D,C,S,T,A){this.permute(A,N,D,C,S,T);for(var E=1;E<T;E<<=1)for(var j=E<<1,U=Math.cos(2*Math.PI/j),I=Math.sin(2*Math.PI/j),Q=0;Q<T;Q+=j)for(var Y=U,ee=I,q=0;q<E;q++){var te=C[Q+q],H=S[Q+q],z=C[Q+q+E],Z=S[Q+q+E],ae=Y*z-ee*Z;Z=Y*Z+ee*z,z=ae,C[Q+q]=te+z,S[Q+q]=H+Z,C[Q+q+E]=te-z,S[Q+q+E]=H-Z,q!==j&&(ae=U*Y-I*ee,ee=U*ee+I*Y,Y=ae)}},R.prototype.guessLen13b=function(N,D){var C=1|Math.max(D,N),S=1&C,T=0;for(C=C/2|0;C;C>>>=1)T++;return 1<<T+1+S},R.prototype.conjugate=function(N,D,C){if(!(C<=1))for(var S=0;S<C/2;S++){var T=N[S];N[S]=N[C-S-1],N[C-S-1]=T,T=D[S],D[S]=-D[C-S-1],D[C-S-1]=-T}},R.prototype.normalize13b=function(N,D){for(var C=0,S=0;S<D/2;S++){var T=8192*Math.round(N[2*S+1]/D)+Math.round(N[2*S]/D)+C;N[S]=67108863&T,C=T<67108864?0:T/67108864|0}return N},R.prototype.convert13b=function(N,D,C,S){for(var T=0,A=0;A<D;A++)T+=0|N[A],C[2*A]=8191&T,T>>>=13,C[2*A+1]=8191&T,T>>>=13;for(A=2*D;A<S;++A)C[A]=0;l(T===0),l((-8192&T)==0)},R.prototype.stub=function(N){for(var D=new Array(N),C=0;C<N;C++)D[C]=0;return D},R.prototype.mulp=function(N,D,C){var S=2*this.guessLen13b(N.length,D.length),T=this.makeRBT(S),A=this.stub(S),E=new Array(S),j=new Array(S),U=new Array(S),I=new Array(S),Q=new Array(S),Y=new Array(S),ee=C.words;ee.length=S,this.convert13b(N.words,N.length,E,S),this.convert13b(D.words,D.length,I,S),this.transform(E,A,j,U,S,T),this.transform(I,A,Q,Y,S,T);for(var q=0;q<S;q++){var te=j[q]*Q[q]-U[q]*Y[q];U[q]=j[q]*Y[q]+U[q]*Q[q],j[q]=te}return this.conjugate(j,U,S),this.transform(j,U,ee,A,S,T),this.conjugate(ee,A,S),this.normalize13b(ee,S),C.negative=N.negative^D.negative,C.length=N.length+D.length,C.strip()},o.prototype.mul=function(N){var D=new o(null);return D.words=new Array(this.length+N.length),this.mulTo(N,D)},o.prototype.mulf=function(N){var D=new o(null);return D.words=new Array(this.length+N.length),k(this,N,D)},o.prototype.imul=function(N){return this.clone().mulTo(N,this)},o.prototype.imuln=function(N){l(typeof N=="number"),l(N<67108864);for(var D=0,C=0;C<this.length;C++){var S=(0|this.words[C])*N,T=(67108863&S)+(67108863&D);D>>=26,D+=S/67108864|0,D+=T>>>26,this.words[C]=67108863&T}return D!==0&&(this.words[C]=D,this.length++),this},o.prototype.muln=function(N){return this.clone().imuln(N)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(N){var D=(function(A){for(var E=new Array(A.bitLength()),j=0;j<E.length;j++){var U=j/26|0,I=j%26;E[j]=(A.words[U]&1<<I)>>>I}return E})(N);if(D.length===0)return new o(1);for(var C=this,S=0;S<D.length&&D[S]===0;S++,C=C.sqr());if(++S<D.length)for(var T=C.sqr();S<D.length;S++,T=T.sqr())D[S]!==0&&(C=C.mul(T));return C},o.prototype.iushln=function(N){l(typeof N=="number"&&N>=0);var D,C=N%26,S=(N-C)/26,T=67108863>>>26-C<<26-C;if(C!==0){var A=0;for(D=0;D<this.length;D++){var E=this.words[D]&T,j=(0|this.words[D])-E<<C;this.words[D]=j|A,A=E>>>26-C}A&&(this.words[D]=A,this.length++)}if(S!==0){for(D=this.length-1;D>=0;D--)this.words[D+S]=this.words[D];for(D=0;D<S;D++)this.words[D]=0;this.length+=S}return this.strip()},o.prototype.ishln=function(N){return l(this.negative===0),this.iushln(N)},o.prototype.iushrn=function(N,D,C){var S;l(typeof N=="number"&&N>=0),S=D?(D-D%26)/26:0;var T=N%26,A=Math.min((N-T)/26,this.length),E=67108863^67108863>>>T<<T,j=C;if(S-=A,S=Math.max(0,S),j){for(var U=0;U<A;U++)j.words[U]=this.words[U];j.length=A}if(A!==0)if(this.length>A)for(this.length-=A,U=0;U<this.length;U++)this.words[U]=this.words[U+A];else this.words[0]=0,this.length=1;var I=0;for(U=this.length-1;U>=0&&(I!==0||U>=S);U--){var Q=0|this.words[U];this.words[U]=I<<26-T|Q>>>T,I=Q&E}return j&&I!==0&&(j.words[j.length++]=I),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(N,D,C){return l(this.negative===0),this.iushrn(N,D,C)},o.prototype.shln=function(N){return this.clone().ishln(N)},o.prototype.ushln=function(N){return this.clone().iushln(N)},o.prototype.shrn=function(N){return this.clone().ishrn(N)},o.prototype.ushrn=function(N){return this.clone().iushrn(N)},o.prototype.testn=function(N){l(typeof N=="number"&&N>=0);var D=N%26,C=(N-D)/26,S=1<<D;return!(this.length<=C)&&!!(this.words[C]&S)},o.prototype.imaskn=function(N){l(typeof N=="number"&&N>=0);var D=N%26,C=(N-D)/26;if(l(this.negative===0,"imaskn works only with positive numbers"),this.length<=C)return this;if(D!==0&&C++,this.length=Math.min(C,this.length),D!==0){var S=67108863^67108863>>>D<<D;this.words[this.length-1]&=S}return this.strip()},o.prototype.maskn=function(N){return this.clone().imaskn(N)},o.prototype.iaddn=function(N){return l(typeof N=="number"),l(N<67108864),N<0?this.isubn(-N):this.negative!==0?this.length===1&&(0|this.words[0])<N?(this.words[0]=N-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(N),this.negative=1,this):this._iaddn(N)},o.prototype._iaddn=function(N){this.words[0]+=N;for(var D=0;D<this.length&&this.words[D]>=67108864;D++)this.words[D]-=67108864,D===this.length-1?this.words[D+1]=1:this.words[D+1]++;return this.length=Math.max(this.length,D+1),this},o.prototype.isubn=function(N){if(l(typeof N=="number"),l(N<67108864),N<0)return this.iaddn(-N);if(this.negative!==0)return this.negative=0,this.iaddn(N),this.negative=1,this;if(this.words[0]-=N,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var D=0;D<this.length&&this.words[D]<0;D++)this.words[D]+=67108864,this.words[D+1]-=1;return this.strip()},o.prototype.addn=function(N){return this.clone().iaddn(N)},o.prototype.subn=function(N){return this.clone().isubn(N)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(N,D,C){var S,T,A=N.length+C;this._expand(A);var E=0;for(S=0;S<N.length;S++){T=(0|this.words[S+C])+E;var j=(0|N.words[S])*D;E=((T-=67108863&j)>>26)-(j/67108864|0),this.words[S+C]=67108863&T}for(;S<this.length-C;S++)E=(T=(0|this.words[S+C])+E)>>26,this.words[S+C]=67108863&T;if(E===0)return this.strip();for(l(E===-1),E=0,S=0;S<this.length;S++)E=(T=-(0|this.words[S])+E)>>26,this.words[S]=67108863&T;return this.negative=1,this.strip()},o.prototype._wordDiv=function(N,D){var C=(this.length,N.length),S=this.clone(),T=N,A=0|T.words[T.length-1];(C=26-this._countBits(A))!==0&&(T=T.ushln(C),S.iushln(C),A=0|T.words[T.length-1]);var E,j=S.length-T.length;if(D!=="mod"){(E=new o(null)).length=j+1,E.words=new Array(E.length);for(var U=0;U<E.length;U++)E.words[U]=0}var I=S.clone()._ishlnsubmul(T,1,j);I.negative===0&&(S=I,E&&(E.words[j]=1));for(var Q=j-1;Q>=0;Q--){var Y=67108864*(0|S.words[T.length+Q])+(0|S.words[T.length+Q-1]);for(Y=Math.min(Y/A|0,67108863),S._ishlnsubmul(T,Y,Q);S.negative!==0;)Y--,S.negative=0,S._ishlnsubmul(T,1,Q),S.isZero()||(S.negative^=1);E&&(E.words[Q]=Y)}return E&&E.strip(),S.strip(),D!=="div"&&C!==0&&S.iushrn(C),{div:E||null,mod:S}},o.prototype.divmod=function(N,D,C){return l(!N.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:this.negative!==0&&N.negative===0?(A=this.neg().divmod(N,D),D!=="mod"&&(S=A.div.neg()),D!=="div"&&(T=A.mod.neg(),C&&T.negative!==0&&T.iadd(N)),{div:S,mod:T}):this.negative===0&&N.negative!==0?(A=this.divmod(N.neg(),D),D!=="mod"&&(S=A.div.neg()),{div:S,mod:A.mod}):(this.negative&N.negative)!=0?(A=this.neg().divmod(N.neg(),D),D!=="div"&&(T=A.mod.neg(),C&&T.negative!==0&&T.isub(N)),{div:A.div,mod:T}):N.length>this.length||this.cmp(N)<0?{div:new o(0),mod:this}:N.length===1?D==="div"?{div:this.divn(N.words[0]),mod:null}:D==="mod"?{div:null,mod:new o(this.modn(N.words[0]))}:{div:this.divn(N.words[0]),mod:new o(this.modn(N.words[0]))}:this._wordDiv(N,D);var S,T,A},o.prototype.div=function(N){return this.divmod(N,"div",!1).div},o.prototype.mod=function(N){return this.divmod(N,"mod",!1).mod},o.prototype.umod=function(N){return this.divmod(N,"mod",!0).mod},o.prototype.divRound=function(N){var D=this.divmod(N);if(D.mod.isZero())return D.div;var C=D.div.negative!==0?D.mod.isub(N):D.mod,S=N.ushrn(1),T=N.andln(1),A=C.cmp(S);return A<0||T===1&&A===0?D.div:D.div.negative!==0?D.div.isubn(1):D.div.iaddn(1)},o.prototype.modn=function(N){l(N<=67108863);for(var D=(1<<26)%N,C=0,S=this.length-1;S>=0;S--)C=(D*C+(0|this.words[S]))%N;return C},o.prototype.idivn=function(N){l(N<=67108863);for(var D=0,C=this.length-1;C>=0;C--){var S=(0|this.words[C])+67108864*D;this.words[C]=S/N|0,D=S%N}return this.strip()},o.prototype.divn=function(N){return this.clone().idivn(N)},o.prototype.egcd=function(N){l(N.negative===0),l(!N.isZero());var D=this,C=N.clone();D=D.negative!==0?D.umod(N):D.clone();for(var S=new o(1),T=new o(0),A=new o(0),E=new o(1),j=0;D.isEven()&&C.isEven();)D.iushrn(1),C.iushrn(1),++j;for(var U=C.clone(),I=D.clone();!D.isZero();){for(var Q=0,Y=1;(D.words[0]&Y)==0&&Q<26;++Q,Y<<=1);if(Q>0)for(D.iushrn(Q);Q-- >0;)(S.isOdd()||T.isOdd())&&(S.iadd(U),T.isub(I)),S.iushrn(1),T.iushrn(1);for(var ee=0,q=1;(C.words[0]&q)==0&&ee<26;++ee,q<<=1);if(ee>0)for(C.iushrn(ee);ee-- >0;)(A.isOdd()||E.isOdd())&&(A.iadd(U),E.isub(I)),A.iushrn(1),E.iushrn(1);D.cmp(C)>=0?(D.isub(C),S.isub(A),T.isub(E)):(C.isub(D),A.isub(S),E.isub(T))}return{a:A,b:E,gcd:C.iushln(j)}},o.prototype._invmp=function(N){l(N.negative===0),l(!N.isZero());var D=this,C=N.clone();D=D.negative!==0?D.umod(N):D.clone();for(var S,T=new o(1),A=new o(0),E=C.clone();D.cmpn(1)>0&&C.cmpn(1)>0;){for(var j=0,U=1;(D.words[0]&U)==0&&j<26;++j,U<<=1);if(j>0)for(D.iushrn(j);j-- >0;)T.isOdd()&&T.iadd(E),T.iushrn(1);for(var I=0,Q=1;(C.words[0]&Q)==0&&I<26;++I,Q<<=1);if(I>0)for(C.iushrn(I);I-- >0;)A.isOdd()&&A.iadd(E),A.iushrn(1);D.cmp(C)>=0?(D.isub(C),T.isub(A)):(C.isub(D),A.isub(T))}return(S=D.cmpn(1)===0?T:A).cmpn(0)<0&&S.iadd(N),S},o.prototype.gcd=function(N){if(this.isZero())return N.abs();if(N.isZero())return this.abs();var D=this.clone(),C=N.clone();D.negative=0,C.negative=0;for(var S=0;D.isEven()&&C.isEven();S++)D.iushrn(1),C.iushrn(1);for(;;){for(;D.isEven();)D.iushrn(1);for(;C.isEven();)C.iushrn(1);var T=D.cmp(C);if(T<0){var A=D;D=C,C=A}else if(T===0||C.cmpn(1)===0)break;D.isub(C)}return C.iushln(S)},o.prototype.invm=function(N){return this.egcd(N).a.umod(N)},o.prototype.isEven=function(){return(1&this.words[0])==0},o.prototype.isOdd=function(){return(1&this.words[0])==1},o.prototype.andln=function(N){return this.words[0]&N},o.prototype.bincn=function(N){l(typeof N=="number");var D=N%26,C=(N-D)/26,S=1<<D;if(this.length<=C)return this._expand(C+1),this.words[C]|=S,this;for(var T=S,A=C;T!==0&&A<this.length;A++){var E=0|this.words[A];T=(E+=T)>>>26,E&=67108863,this.words[A]=E}return T!==0&&(this.words[A]=T,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(N){var D,C=N<0;if(this.negative!==0&&!C)return-1;if(this.negative===0&&C)return 1;if(this.strip(),this.length>1)D=1;else{C&&(N=-N),l(N<=67108863,"Number is too big");var S=0|this.words[0];D=S===N?0:S<N?-1:1}return this.negative!==0?0|-D:D},o.prototype.cmp=function(N){if(this.negative!==0&&N.negative===0)return-1;if(this.negative===0&&N.negative!==0)return 1;var D=this.ucmp(N);return this.negative!==0?0|-D:D},o.prototype.ucmp=function(N){if(this.length>N.length)return 1;if(this.length<N.length)return-1;for(var D=0,C=this.length-1;C>=0;C--){var S=0|this.words[C],T=0|N.words[C];if(S!==T){S<T?D=-1:S>T&&(D=1);break}}return D},o.prototype.gtn=function(N){return this.cmpn(N)===1},o.prototype.gt=function(N){return this.cmp(N)===1},o.prototype.gten=function(N){return this.cmpn(N)>=0},o.prototype.gte=function(N){return this.cmp(N)>=0},o.prototype.ltn=function(N){return this.cmpn(N)===-1},o.prototype.lt=function(N){return this.cmp(N)===-1},o.prototype.lten=function(N){return this.cmpn(N)<=0},o.prototype.lte=function(N){return this.cmp(N)<=0},o.prototype.eqn=function(N){return this.cmpn(N)===0},o.prototype.eq=function(N){return this.cmp(N)===0},o.red=function(N){return new W(N)},o.prototype.toRed=function(N){return l(!this.red,"Already a number in reduction context"),l(this.negative===0,"red works only with positives"),N.convertTo(this)._forceRed(N)},o.prototype.fromRed=function(){return l(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(N){return this.red=N,this},o.prototype.forceRed=function(N){return l(!this.red,"Already a number in reduction context"),this._forceRed(N)},o.prototype.redAdd=function(N){return l(this.red,"redAdd works only with red numbers"),this.red.add(this,N)},o.prototype.redIAdd=function(N){return l(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,N)},o.prototype.redSub=function(N){return l(this.red,"redSub works only with red numbers"),this.red.sub(this,N)},o.prototype.redISub=function(N){return l(this.red,"redISub works only with red numbers"),this.red.isub(this,N)},o.prototype.redShl=function(N){return l(this.red,"redShl works only with red numbers"),this.red.shl(this,N)},o.prototype.redMul=function(N){return l(this.red,"redMul works only with red numbers"),this.red._verify2(this,N),this.red.mul(this,N)},o.prototype.redIMul=function(N){return l(this.red,"redMul works only with red numbers"),this.red._verify2(this,N),this.red.imul(this,N)},o.prototype.redSqr=function(){return l(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return l(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return l(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return l(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return l(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(N){return l(this.red&&!N.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,N)};var L={k256:null,p224:null,p192:null,p25519:null};function G(N,D){this.name=N,this.p=new o(D,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function V(){G.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function O(){G.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function F(){G.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function B(){G.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function W(N){if(typeof N=="string"){var D=o._prime(N);this.m=D.p,this.prime=D}else l(N.gtn(1),"modulus must be greater than 1"),this.m=N,this.prime=null}function P(N){W.call(this,N),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}G.prototype._tmp=function(){var N=new o(null);return N.words=new Array(Math.ceil(this.n/13)),N},G.prototype.ireduce=function(N){var D,C=N;do this.split(C,this.tmp),D=(C=(C=this.imulK(C)).iadd(this.tmp)).bitLength();while(D>this.n);var S=D<this.n?-1:C.ucmp(this.p);return S===0?(C.words[0]=0,C.length=1):S>0?C.isub(this.p):C.strip!==void 0?C.strip():C._strip(),C},G.prototype.split=function(N,D){N.iushrn(this.n,0,D)},G.prototype.imulK=function(N){return N.imul(this.k)},c(V,G),V.prototype.split=function(N,D){for(var C=Math.min(N.length,9),S=0;S<C;S++)D.words[S]=N.words[S];if(D.length=C,N.length<=9)return N.words[0]=0,void(N.length=1);var T=N.words[9];for(D.words[D.length++]=4194303&T,S=10;S<N.length;S++){var A=0|N.words[S];N.words[S-10]=(4194303&A)<<4|T>>>22,T=A}T>>>=22,N.words[S-10]=T,T===0&&N.length>10?N.length-=10:N.length-=9},V.prototype.imulK=function(N){N.words[N.length]=0,N.words[N.length+1]=0,N.length+=2;for(var D=0,C=0;C<N.length;C++){var S=0|N.words[C];D+=977*S,N.words[C]=67108863&D,D=64*S+(D/67108864|0)}return N.words[N.length-1]===0&&(N.length--,N.words[N.length-1]===0&&N.length--),N},c(O,G),c(F,G),c(B,G),B.prototype.imulK=function(N){for(var D=0,C=0;C<N.length;C++){var S=19*(0|N.words[C])+D,T=67108863&S;S>>>=26,N.words[C]=T,D=S}return D!==0&&(N.words[N.length++]=D),N},o._prime=function(N){if(L[N])return L[N];var D;if(N==="k256")D=new V;else if(N==="p224")D=new O;else if(N==="p192")D=new F;else{if(N!=="p25519")throw new Error("Unknown prime "+N);D=new B}return L[N]=D,D},W.prototype._verify1=function(N){l(N.negative===0,"red works only with positives"),l(N.red,"red works only with red numbers")},W.prototype._verify2=function(N,D){l((N.negative|D.negative)==0,"red works only with positives"),l(N.red&&N.red===D.red,"red works only with red numbers")},W.prototype.imod=function(N){return this.prime?this.prime.ireduce(N)._forceRed(this):N.umod(this.m)._forceRed(this)},W.prototype.neg=function(N){return N.isZero()?N.clone():this.m.sub(N)._forceRed(this)},W.prototype.add=function(N,D){this._verify2(N,D);var C=N.add(D);return C.cmp(this.m)>=0&&C.isub(this.m),C._forceRed(this)},W.prototype.iadd=function(N,D){this._verify2(N,D);var C=N.iadd(D);return C.cmp(this.m)>=0&&C.isub(this.m),C},W.prototype.sub=function(N,D){this._verify2(N,D);var C=N.sub(D);return C.cmpn(0)<0&&C.iadd(this.m),C._forceRed(this)},W.prototype.isub=function(N,D){this._verify2(N,D);var C=N.isub(D);return C.cmpn(0)<0&&C.iadd(this.m),C},W.prototype.shl=function(N,D){return this._verify1(N),this.imod(N.ushln(D))},W.prototype.imul=function(N,D){return this._verify2(N,D),this.imod(N.imul(D))},W.prototype.mul=function(N,D){return this._verify2(N,D),this.imod(N.mul(D))},W.prototype.isqr=function(N){return this.imul(N,N.clone())},W.prototype.sqr=function(N){return this.mul(N,N)},W.prototype.sqrt=function(N){if(N.isZero())return N.clone();var D=this.m.andln(3);if(l(D%2==1),D===3){var C=this.m.add(new o(1)).iushrn(2);return this.pow(N,C)}for(var S=this.m.subn(1),T=0;!S.isZero()&&S.andln(1)===0;)T++,S.iushrn(1);l(!S.isZero());var A=new o(1).toRed(this),E=A.redNeg(),j=this.m.subn(1).iushrn(1),U=this.m.bitLength();for(U=new o(2*U*U).toRed(this);this.pow(U,j).cmp(E)!==0;)U.redIAdd(E);for(var I=this.pow(U,S),Q=this.pow(N,S.addn(1).iushrn(1)),Y=this.pow(N,S),ee=T;Y.cmp(A)!==0;){for(var q=Y,te=0;q.cmp(A)!==0;te++)q=q.redSqr();l(te<ee);var H=this.pow(I,new o(1).iushln(ee-te-1));Q=Q.redMul(H),I=H.redSqr(),Y=Y.redMul(I),ee=te}return Q},W.prototype.invm=function(N){var D=N._invmp(this.m);return D.negative!==0?(D.negative=0,this.imod(D).redNeg()):this.imod(D)},W.prototype.pow=function(N,D){if(D.isZero())return new o(1).toRed(this);if(D.cmpn(1)===0)return N.clone();var C=new Array(16);C[0]=new o(1).toRed(this),C[1]=N;for(var S=2;S<C.length;S++)C[S]=this.mul(C[S-1],N);var T=C[0],A=0,E=0,j=D.bitLength()%26;for(j===0&&(j=26),S=D.length-1;S>=0;S--){for(var U=D.words[S],I=j-1;I>=0;I--){var Q=U>>I&1;T!==C[0]&&(T=this.sqr(T)),Q!==0||A!==0?(A<<=1,A|=Q,(++E===4||S===0&&I===0)&&(T=this.mul(T,C[A]),E=0,A=0)):E=0}j=26}return T},W.prototype.convertTo=function(N){var D=N.umod(this.m);return D===N?D.clone():D},W.prototype.convertFrom=function(N){var D=N.clone();return D.red=null,D},o.mont=function(N){return new P(N)},c(P,W),P.prototype.convertTo=function(N){return this.imod(N.ushln(this.shift))},P.prototype.convertFrom=function(N){var D=this.imod(N.mul(this.rinv));return D.red=null,D},P.prototype.imul=function(N,D){if(N.isZero()||D.isZero())return N.words[0]=0,N.length=1,N;var C=N.imul(D),S=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=C.isub(S).iushrn(this.shift),A=T;return T.cmp(this.m)>=0?A=T.isub(this.m):T.cmpn(0)<0&&(A=T.iadd(this.m)),A._forceRed(this)},P.prototype.mul=function(N,D){if(N.isZero()||D.isZero())return new o(0)._forceRed(this);var C=N.mul(D),S=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=C.isub(S).iushrn(this.shift),A=T;return T.cmp(this.m)>=0?A=T.isub(this.m):T.cmpn(0)<0&&(A=T.iadd(this.m)),A._forceRed(this)},P.prototype.invm=function(N){return this.imod(N._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],185:[function(e,n,s){s.byteLength=function(d){var b=p(d),x=b[0],g=b[1];return 3*(x+g)/4-g},s.toByteArray=function(d){var b,x,g=p(d),w=g[0],v=g[1],k=new l((function(G,V,O){return 3*(V+O)/4-O})(0,w,v)),R=0,L=v>0?w-4:w;for(x=0;x<L;x+=4)b=a[d.charCodeAt(x)]<<18|a[d.charCodeAt(x+1)]<<12|a[d.charCodeAt(x+2)]<<6|a[d.charCodeAt(x+3)],k[R++]=b>>16&255,k[R++]=b>>8&255,k[R++]=255&b;return v===2&&(b=a[d.charCodeAt(x)]<<2|a[d.charCodeAt(x+1)]>>4,k[R++]=255&b),v===1&&(b=a[d.charCodeAt(x)]<<10|a[d.charCodeAt(x+1)]<<4|a[d.charCodeAt(x+2)]>>2,k[R++]=b>>8&255,k[R++]=255&b),k},s.fromByteArray=function(d){for(var b,x=d.length,g=x%3,w=[],v=0,k=x-g;v<k;v+=16383)w.push(h(d,v,v+16383>k?k:v+16383));return g===1?(b=d[x-1],w.push(i[b>>2]+i[b<<4&63]+"==")):g===2&&(b=(d[x-2]<<8)+d[x-1],w.push(i[b>>10]+i[b>>4&63]+i[b<<2&63]+"=")),w.join("")};for(var i=[],a=[],l=typeof Uint8Array<"u"?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,u=c.length;o<u;++o)i[o]=c[o],a[c.charCodeAt(o)]=o;function p(d){var b=d.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=d.indexOf("=");return x===-1&&(x=b),[x,x===b?0:4-x%4]}function h(d,b,x){for(var g,w,v=[],k=b;k<x;k+=3)g=(d[k]<<16&16711680)+(d[k+1]<<8&65280)+(255&d[k+2]),v.push(i[(w=g)>>18&63]+i[w>>12&63]+i[w>>6&63]+i[63&w]);return v.join("")}a[45]=62,a[95]=63},{}],186:[function(e,n,s){(function(i,a){function l(C,S){if(!C)throw new Error(S||"Assertion failed")}function c(C,S){C.super_=S;var T=function(){};T.prototype=S.prototype,C.prototype=new T,C.prototype.constructor=C}function o(C,S,T){if(o.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,C!==null&&(S!=="le"&&S!=="be"||(T=S,S=10),this._init(C||0,S||10,T||"be"))}var u;typeof i=="object"?i.exports=o:(void 0).BN=o,o.BN=o,o.wordSize=26;try{u=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function p(C,S){var T=C.charCodeAt(S);return T>=48&&T<=57?T-48:T>=65&&T<=70?T-55:T>=97&&T<=102?T-87:void l(!1,"Invalid character in "+C)}function h(C,S,T){var A=p(C,T);return T-1>=S&&(A|=p(C,T-1)<<4),A}function d(C,S,T,A){for(var E=0,j=0,U=Math.min(C.length,T),I=S;I<U;I++){var Q=C.charCodeAt(I)-48;E*=A,j=Q>=49?Q-49+10:Q>=17?Q-17+10:Q,l(Q>=0&&j<A,"Invalid character"),E+=j}return E}function b(C,S){C.words=S.words,C.length=S.length,C.negative=S.negative,C.red=S.red}if(o.isBN=function(C){return C instanceof o||C!==null&&typeof C=="object"&&C.constructor.wordSize===o.wordSize&&Array.isArray(C.words)},o.max=function(C,S){return C.cmp(S)>0?C:S},o.min=function(C,S){return C.cmp(S)<0?C:S},o.prototype._init=function(C,S,T){if(typeof C=="number")return this._initNumber(C,S,T);if(typeof C=="object")return this._initArray(C,S,T);S==="hex"&&(S=16),l(S===(0|S)&&S>=2&&S<=36);var A=0;(C=C.toString().replace(/\s+/g,""))[0]==="-"&&(A++,this.negative=1),A<C.length&&(S===16?this._parseHex(C,A,T):(this._parseBase(C,S,A),T==="le"&&this._initArray(this.toArray(),S,T)))},o.prototype._initNumber=function(C,S,T){C<0&&(this.negative=1,C=-C),C<67108864?(this.words=[67108863&C],this.length=1):C<4503599627370496?(this.words=[67108863&C,C/67108864&67108863],this.length=2):(l(C<9007199254740992),this.words=[67108863&C,C/67108864&67108863,1],this.length=3),T==="le"&&this._initArray(this.toArray(),S,T)},o.prototype._initArray=function(C,S,T){if(l(typeof C.length=="number"),C.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(C.length/3),this.words=new Array(this.length);for(var A=0;A<this.length;A++)this.words[A]=0;var E,j,U=0;if(T==="be")for(A=C.length-1,E=0;A>=0;A-=3)j=C[A]|C[A-1]<<8|C[A-2]<<16,this.words[E]|=j<<U&67108863,this.words[E+1]=j>>>26-U&67108863,(U+=24)>=26&&(U-=26,E++);else if(T==="le")for(A=0,E=0;A<C.length;A+=3)j=C[A]|C[A+1]<<8|C[A+2]<<16,this.words[E]|=j<<U&67108863,this.words[E+1]=j>>>26-U&67108863,(U+=24)>=26&&(U-=26,E++);return this._strip()},o.prototype._parseHex=function(C,S,T){this.length=Math.ceil((C.length-S)/6),this.words=new Array(this.length);for(var A=0;A<this.length;A++)this.words[A]=0;var E,j=0,U=0;if(T==="be")for(A=C.length-1;A>=S;A-=2)E=h(C,S,A)<<j,this.words[U]|=67108863&E,j>=18?(j-=18,U+=1,this.words[U]|=E>>>26):j+=8;else for(A=(C.length-S)%2==0?S+1:S;A<C.length;A+=2)E=h(C,S,A)<<j,this.words[U]|=67108863&E,j>=18?(j-=18,U+=1,this.words[U]|=E>>>26):j+=8;this._strip()},o.prototype._parseBase=function(C,S,T){this.words=[0],this.length=1;for(var A=0,E=1;E<=67108863;E*=S)A++;A--,E=E/S|0;for(var j=C.length-T,U=j%A,I=Math.min(j,j-U)+T,Q=0,Y=T;Y<I;Y+=A)Q=d(C,Y,Y+A,S),this.imuln(E),this.words[0]+Q<67108864?this.words[0]+=Q:this._iaddn(Q);if(U!==0){var ee=1;for(Q=d(C,Y,C.length,S),Y=0;Y<U;Y++)ee*=S;this.imuln(ee),this.words[0]+Q<67108864?this.words[0]+=Q:this._iaddn(Q)}this._strip()},o.prototype.copy=function(C){C.words=new Array(this.length);for(var S=0;S<this.length;S++)C.words[S]=this.words[S];C.length=this.length,C.negative=this.negative,C.red=this.red},o.prototype._move=function(C){b(C,this)},o.prototype.clone=function(){var C=new o(null);return this.copy(C),C},o.prototype._expand=function(C){for(;this.length<C;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=x}catch{o.prototype.inspect=x}else o.prototype.inspect=x;function x(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],v=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(C,S){var T;if(S=0|S||1,(C=C||10)===16||C==="hex"){T="";for(var A=0,E=0,j=0;j<this.length;j++){var U=this.words[j],I=(16777215&(U<<A|E)).toString(16);E=U>>>24-A&16777215,(A+=2)>=26&&(A-=26,j--),T=E!==0||j!==this.length-1?g[6-I.length]+I+T:I+T}for(E!==0&&(T=E.toString(16)+T);T.length%S!=0;)T="0"+T;return this.negative!==0&&(T="-"+T),T}if(C===(0|C)&&C>=2&&C<=36){var Q=w[C],Y=v[C];T="";var ee=this.clone();for(ee.negative=0;!ee.isZero();){var q=ee.modrn(Y).toString(C);T=(ee=ee.idivn(Y)).isZero()?q+T:g[Q-q.length]+q+T}for(this.isZero()&&(T="0"+T);T.length%S!=0;)T="0"+T;return this.negative!==0&&(T="-"+T),T}l(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var C=this.words[0];return this.length===2?C+=67108864*this.words[1]:this.length===3&&this.words[2]===1?C+=4503599627370496+67108864*this.words[1]:this.length>2&&l(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-C:C},o.prototype.toJSON=function(){return this.toString(16,2)},u&&(o.prototype.toBuffer=function(C,S){return this.toArrayLike(u,C,S)}),o.prototype.toArray=function(C,S){return this.toArrayLike(Array,C,S)};function k(C,S,T){T.negative=S.negative^C.negative;var A=C.length+S.length|0;T.length=A,A=A-1|0;var E=0|C.words[0],j=0|S.words[0],U=E*j,I=67108863&U,Q=U/67108864|0;T.words[0]=I;for(var Y=1;Y<A;Y++){for(var ee=Q>>>26,q=67108863&Q,te=Math.min(Y,S.length-1),H=Math.max(0,Y-C.length+1);H<=te;H++){var z=Y-H|0;ee+=(U=(E=0|C.words[z])*(j=0|S.words[H])+q)/67108864|0,q=67108863&U}T.words[Y]=0|q,Q=0|ee}return Q!==0?T.words[Y]=0|Q:T.length--,T._strip()}o.prototype.toArrayLike=function(C,S,T){this._strip();var A=this.byteLength(),E=T||Math.max(1,A);l(A<=E,"byte array longer than desired length"),l(E>0,"Requested array length <= 0");var j=(function(U,I){return U.allocUnsafe?U.allocUnsafe(I):new U(I)})(C,E);return this["_toArrayLike"+(S==="le"?"LE":"BE")](j,A),j},o.prototype._toArrayLikeLE=function(C,S){for(var T=0,A=0,E=0,j=0;E<this.length;E++){var U=this.words[E]<<j|A;C[T++]=255&U,T<C.length&&(C[T++]=U>>8&255),T<C.length&&(C[T++]=U>>16&255),j===6?(T<C.length&&(C[T++]=U>>24&255),A=0,j=0):(A=U>>>24,j+=2)}if(T<C.length)for(C[T++]=A;T<C.length;)C[T++]=0},o.prototype._toArrayLikeBE=function(C,S){for(var T=C.length-1,A=0,E=0,j=0;E<this.length;E++){var U=this.words[E]<<j|A;C[T--]=255&U,T>=0&&(C[T--]=U>>8&255),T>=0&&(C[T--]=U>>16&255),j===6?(T>=0&&(C[T--]=U>>24&255),A=0,j=0):(A=U>>>24,j+=2)}if(T>=0)for(C[T--]=A;T>=0;)C[T--]=0},Math.clz32?o.prototype._countBits=function(C){return 32-Math.clz32(C)}:o.prototype._countBits=function(C){var S=C,T=0;return S>=4096&&(T+=13,S>>>=13),S>=64&&(T+=7,S>>>=7),S>=8&&(T+=4,S>>>=4),S>=2&&(T+=2,S>>>=2),T+S},o.prototype._zeroBits=function(C){if(C===0)return 26;var S=C,T=0;return(8191&S)==0&&(T+=13,S>>>=13),(127&S)==0&&(T+=7,S>>>=7),(15&S)==0&&(T+=4,S>>>=4),(3&S)==0&&(T+=2,S>>>=2),(1&S)==0&&T++,T},o.prototype.bitLength=function(){var C=this.words[this.length-1],S=this._countBits(C);return 26*(this.length-1)+S},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var C=0,S=0;S<this.length;S++){var T=this._zeroBits(this.words[S]);if(C+=T,T!==26)break}return C},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(C){return this.negative!==0?this.abs().inotn(C).iaddn(1):this.clone()},o.prototype.fromTwos=function(C){return this.testn(C-1)?this.notn(C).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(C){for(;this.length<C.length;)this.words[this.length++]=0;for(var S=0;S<C.length;S++)this.words[S]=this.words[S]|C.words[S];return this._strip()},o.prototype.ior=function(C){return l((this.negative|C.negative)==0),this.iuor(C)},o.prototype.or=function(C){return this.length>C.length?this.clone().ior(C):C.clone().ior(this)},o.prototype.uor=function(C){return this.length>C.length?this.clone().iuor(C):C.clone().iuor(this)},o.prototype.iuand=function(C){var S;S=this.length>C.length?C:this;for(var T=0;T<S.length;T++)this.words[T]=this.words[T]&C.words[T];return this.length=S.length,this._strip()},o.prototype.iand=function(C){return l((this.negative|C.negative)==0),this.iuand(C)},o.prototype.and=function(C){return this.length>C.length?this.clone().iand(C):C.clone().iand(this)},o.prototype.uand=function(C){return this.length>C.length?this.clone().iuand(C):C.clone().iuand(this)},o.prototype.iuxor=function(C){var S,T;this.length>C.length?(S=this,T=C):(S=C,T=this);for(var A=0;A<T.length;A++)this.words[A]=S.words[A]^T.words[A];if(this!==S)for(;A<S.length;A++)this.words[A]=S.words[A];return this.length=S.length,this._strip()},o.prototype.ixor=function(C){return l((this.negative|C.negative)==0),this.iuxor(C)},o.prototype.xor=function(C){return this.length>C.length?this.clone().ixor(C):C.clone().ixor(this)},o.prototype.uxor=function(C){return this.length>C.length?this.clone().iuxor(C):C.clone().iuxor(this)},o.prototype.inotn=function(C){l(typeof C=="number"&&C>=0);var S=0|Math.ceil(C/26),T=C%26;this._expand(S),T>0&&S--;for(var A=0;A<S;A++)this.words[A]=67108863&~this.words[A];return T>0&&(this.words[A]=~this.words[A]&67108863>>26-T),this._strip()},o.prototype.notn=function(C){return this.clone().inotn(C)},o.prototype.setn=function(C,S){l(typeof C=="number"&&C>=0);var T=C/26|0,A=C%26;return this._expand(T+1),this.words[T]=S?this.words[T]|1<<A:this.words[T]&~(1<<A),this._strip()},o.prototype.iadd=function(C){var S,T,A;if(this.negative!==0&&C.negative===0)return this.negative=0,S=this.isub(C),this.negative^=1,this._normSign();if(this.negative===0&&C.negative!==0)return C.negative=0,S=this.isub(C),C.negative=1,S._normSign();this.length>C.length?(T=this,A=C):(T=C,A=this);for(var E=0,j=0;j<A.length;j++)S=(0|T.words[j])+(0|A.words[j])+E,this.words[j]=67108863&S,E=S>>>26;for(;E!==0&&j<T.length;j++)S=(0|T.words[j])+E,this.words[j]=67108863&S,E=S>>>26;if(this.length=T.length,E!==0)this.words[this.length]=E,this.length++;else if(T!==this)for(;j<T.length;j++)this.words[j]=T.words[j];return this},o.prototype.add=function(C){var S;return C.negative!==0&&this.negative===0?(C.negative=0,S=this.sub(C),C.negative^=1,S):C.negative===0&&this.negative!==0?(this.negative=0,S=C.sub(this),this.negative=1,S):this.length>C.length?this.clone().iadd(C):C.clone().iadd(this)},o.prototype.isub=function(C){if(C.negative!==0){C.negative=0;var S=this.iadd(C);return C.negative=1,S._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(C),this.negative=1,this._normSign();var T,A,E=this.cmp(C);if(E===0)return this.negative=0,this.length=1,this.words[0]=0,this;E>0?(T=this,A=C):(T=C,A=this);for(var j=0,U=0;U<A.length;U++)j=(S=(0|T.words[U])-(0|A.words[U])+j)>>26,this.words[U]=67108863&S;for(;j!==0&&U<T.length;U++)j=(S=(0|T.words[U])+j)>>26,this.words[U]=67108863&S;if(j===0&&U<T.length&&T!==this)for(;U<T.length;U++)this.words[U]=T.words[U];return this.length=Math.max(this.length,U),T!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(C){return this.clone().isub(C)};var R=function(C,S,T){var A,E,j,U=C.words,I=S.words,Q=T.words,Y=0,ee=0|U[0],q=8191&ee,te=ee>>>13,H=0|U[1],z=8191&H,Z=H>>>13,ae=0|U[2],re=8191&ae,le=ae>>>13,de=0|U[3],ve=8191&de,ge=de>>>13,se=0|U[4],xe=8191&se,pe=se>>>13,Te=0|U[5],ke=8191&Te,Re=Te>>>13,$e=0|U[6],Pe=8191&$e,Je=$e>>>13,Ze=0|U[7],Ye=8191&Ze,Xe=Ze>>>13,ut=0|U[8],ot=8191&ut,je=ut>>>13,He=0|U[9],Ne=8191&He,Ie=He>>>13,lt=0|I[0],Ue=8191&lt,We=lt>>>13,bt=0|I[1],yt=8191&bt,nt=bt>>>13,Et=0|I[2],Oe=8191&Et,Ce=Et>>>13,rt=0|I[3],pt=8191&rt,ft=rt>>>13,Mt=0|I[4],At=8191&Mt,wt=Mt>>>13,ze=0|I[5],ht=8191&ze,Qe=ze>>>13,Ee=0|I[6],Ve=8191&Ee,et=Ee>>>13,ce=0|I[7],ye=8191&ce,ie=ce>>>13,fe=0|I[8],he=8191&fe,me=fe>>>13,Ae=0|I[9],Le=8191&Ae,De=Ae>>>13;T.negative=C.negative^S.negative,T.length=19;var Fe=(Y+(A=Math.imul(q,Ue))|0)+((8191&(E=(E=Math.imul(q,We))+Math.imul(te,Ue)|0))<<13)|0;Y=((j=Math.imul(te,We))+(E>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,A=Math.imul(z,Ue),E=(E=Math.imul(z,We))+Math.imul(Z,Ue)|0,j=Math.imul(Z,We);var qe=(Y+(A=A+Math.imul(q,yt)|0)|0)+((8191&(E=(E=E+Math.imul(q,nt)|0)+Math.imul(te,yt)|0))<<13)|0;Y=((j=j+Math.imul(te,nt)|0)+(E>>>13)|0)+(qe>>>26)|0,qe&=67108863,A=Math.imul(re,Ue),E=(E=Math.imul(re,We))+Math.imul(le,Ue)|0,j=Math.imul(le,We),A=A+Math.imul(z,yt)|0,E=(E=E+Math.imul(z,nt)|0)+Math.imul(Z,yt)|0,j=j+Math.imul(Z,nt)|0;var xt=(Y+(A=A+Math.imul(q,Oe)|0)|0)+((8191&(E=(E=E+Math.imul(q,Ce)|0)+Math.imul(te,Oe)|0))<<13)|0;Y=((j=j+Math.imul(te,Ce)|0)+(E>>>13)|0)+(xt>>>26)|0,xt&=67108863,A=Math.imul(ve,Ue),E=(E=Math.imul(ve,We))+Math.imul(ge,Ue)|0,j=Math.imul(ge,We),A=A+Math.imul(re,yt)|0,E=(E=E+Math.imul(re,nt)|0)+Math.imul(le,yt)|0,j=j+Math.imul(le,nt)|0,A=A+Math.imul(z,Oe)|0,E=(E=E+Math.imul(z,Ce)|0)+Math.imul(Z,Oe)|0,j=j+Math.imul(Z,Ce)|0;var vt=(Y+(A=A+Math.imul(q,pt)|0)|0)+((8191&(E=(E=E+Math.imul(q,ft)|0)+Math.imul(te,pt)|0))<<13)|0;Y=((j=j+Math.imul(te,ft)|0)+(E>>>13)|0)+(vt>>>26)|0,vt&=67108863,A=Math.imul(xe,Ue),E=(E=Math.imul(xe,We))+Math.imul(pe,Ue)|0,j=Math.imul(pe,We),A=A+Math.imul(ve,yt)|0,E=(E=E+Math.imul(ve,nt)|0)+Math.imul(ge,yt)|0,j=j+Math.imul(ge,nt)|0,A=A+Math.imul(re,Oe)|0,E=(E=E+Math.imul(re,Ce)|0)+Math.imul(le,Oe)|0,j=j+Math.imul(le,Ce)|0,A=A+Math.imul(z,pt)|0,E=(E=E+Math.imul(z,ft)|0)+Math.imul(Z,pt)|0,j=j+Math.imul(Z,ft)|0;var Ct=(Y+(A=A+Math.imul(q,At)|0)|0)+((8191&(E=(E=E+Math.imul(q,wt)|0)+Math.imul(te,At)|0))<<13)|0;Y=((j=j+Math.imul(te,wt)|0)+(E>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,A=Math.imul(ke,Ue),E=(E=Math.imul(ke,We))+Math.imul(Re,Ue)|0,j=Math.imul(Re,We),A=A+Math.imul(xe,yt)|0,E=(E=E+Math.imul(xe,nt)|0)+Math.imul(pe,yt)|0,j=j+Math.imul(pe,nt)|0,A=A+Math.imul(ve,Oe)|0,E=(E=E+Math.imul(ve,Ce)|0)+Math.imul(ge,Oe)|0,j=j+Math.imul(ge,Ce)|0,A=A+Math.imul(re,pt)|0,E=(E=E+Math.imul(re,ft)|0)+Math.imul(le,pt)|0,j=j+Math.imul(le,ft)|0,A=A+Math.imul(z,At)|0,E=(E=E+Math.imul(z,wt)|0)+Math.imul(Z,At)|0,j=j+Math.imul(Z,wt)|0;var be=(Y+(A=A+Math.imul(q,ht)|0)|0)+((8191&(E=(E=E+Math.imul(q,Qe)|0)+Math.imul(te,ht)|0))<<13)|0;Y=((j=j+Math.imul(te,Qe)|0)+(E>>>13)|0)+(be>>>26)|0,be&=67108863,A=Math.imul(Pe,Ue),E=(E=Math.imul(Pe,We))+Math.imul(Je,Ue)|0,j=Math.imul(Je,We),A=A+Math.imul(ke,yt)|0,E=(E=E+Math.imul(ke,nt)|0)+Math.imul(Re,yt)|0,j=j+Math.imul(Re,nt)|0,A=A+Math.imul(xe,Oe)|0,E=(E=E+Math.imul(xe,Ce)|0)+Math.imul(pe,Oe)|0,j=j+Math.imul(pe,Ce)|0,A=A+Math.imul(ve,pt)|0,E=(E=E+Math.imul(ve,ft)|0)+Math.imul(ge,pt)|0,j=j+Math.imul(ge,ft)|0,A=A+Math.imul(re,At)|0,E=(E=E+Math.imul(re,wt)|0)+Math.imul(le,At)|0,j=j+Math.imul(le,wt)|0,A=A+Math.imul(z,ht)|0,E=(E=E+Math.imul(z,Qe)|0)+Math.imul(Z,ht)|0,j=j+Math.imul(Z,Qe)|0;var Me=(Y+(A=A+Math.imul(q,Ve)|0)|0)+((8191&(E=(E=E+Math.imul(q,et)|0)+Math.imul(te,Ve)|0))<<13)|0;Y=((j=j+Math.imul(te,et)|0)+(E>>>13)|0)+(Me>>>26)|0,Me&=67108863,A=Math.imul(Ye,Ue),E=(E=Math.imul(Ye,We))+Math.imul(Xe,Ue)|0,j=Math.imul(Xe,We),A=A+Math.imul(Pe,yt)|0,E=(E=E+Math.imul(Pe,nt)|0)+Math.imul(Je,yt)|0,j=j+Math.imul(Je,nt)|0,A=A+Math.imul(ke,Oe)|0,E=(E=E+Math.imul(ke,Ce)|0)+Math.imul(Re,Oe)|0,j=j+Math.imul(Re,Ce)|0,A=A+Math.imul(xe,pt)|0,E=(E=E+Math.imul(xe,ft)|0)+Math.imul(pe,pt)|0,j=j+Math.imul(pe,ft)|0,A=A+Math.imul(ve,At)|0,E=(E=E+Math.imul(ve,wt)|0)+Math.imul(ge,At)|0,j=j+Math.imul(ge,wt)|0,A=A+Math.imul(re,ht)|0,E=(E=E+Math.imul(re,Qe)|0)+Math.imul(le,ht)|0,j=j+Math.imul(le,Qe)|0,A=A+Math.imul(z,Ve)|0,E=(E=E+Math.imul(z,et)|0)+Math.imul(Z,Ve)|0,j=j+Math.imul(Z,et)|0;var Ke=(Y+(A=A+Math.imul(q,ye)|0)|0)+((8191&(E=(E=E+Math.imul(q,ie)|0)+Math.imul(te,ye)|0))<<13)|0;Y=((j=j+Math.imul(te,ie)|0)+(E>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,A=Math.imul(ot,Ue),E=(E=Math.imul(ot,We))+Math.imul(je,Ue)|0,j=Math.imul(je,We),A=A+Math.imul(Ye,yt)|0,E=(E=E+Math.imul(Ye,nt)|0)+Math.imul(Xe,yt)|0,j=j+Math.imul(Xe,nt)|0,A=A+Math.imul(Pe,Oe)|0,E=(E=E+Math.imul(Pe,Ce)|0)+Math.imul(Je,Oe)|0,j=j+Math.imul(Je,Ce)|0,A=A+Math.imul(ke,pt)|0,E=(E=E+Math.imul(ke,ft)|0)+Math.imul(Re,pt)|0,j=j+Math.imul(Re,ft)|0,A=A+Math.imul(xe,At)|0,E=(E=E+Math.imul(xe,wt)|0)+Math.imul(pe,At)|0,j=j+Math.imul(pe,wt)|0,A=A+Math.imul(ve,ht)|0,E=(E=E+Math.imul(ve,Qe)|0)+Math.imul(ge,ht)|0,j=j+Math.imul(ge,Qe)|0,A=A+Math.imul(re,Ve)|0,E=(E=E+Math.imul(re,et)|0)+Math.imul(le,Ve)|0,j=j+Math.imul(le,et)|0,A=A+Math.imul(z,ye)|0,E=(E=E+Math.imul(z,ie)|0)+Math.imul(Z,ye)|0,j=j+Math.imul(Z,ie)|0;var gt=(Y+(A=A+Math.imul(q,he)|0)|0)+((8191&(E=(E=E+Math.imul(q,me)|0)+Math.imul(te,he)|0))<<13)|0;Y=((j=j+Math.imul(te,me)|0)+(E>>>13)|0)+(gt>>>26)|0,gt&=67108863,A=Math.imul(Ne,Ue),E=(E=Math.imul(Ne,We))+Math.imul(Ie,Ue)|0,j=Math.imul(Ie,We),A=A+Math.imul(ot,yt)|0,E=(E=E+Math.imul(ot,nt)|0)+Math.imul(je,yt)|0,j=j+Math.imul(je,nt)|0,A=A+Math.imul(Ye,Oe)|0,E=(E=E+Math.imul(Ye,Ce)|0)+Math.imul(Xe,Oe)|0,j=j+Math.imul(Xe,Ce)|0,A=A+Math.imul(Pe,pt)|0,E=(E=E+Math.imul(Pe,ft)|0)+Math.imul(Je,pt)|0,j=j+Math.imul(Je,ft)|0,A=A+Math.imul(ke,At)|0,E=(E=E+Math.imul(ke,wt)|0)+Math.imul(Re,At)|0,j=j+Math.imul(Re,wt)|0,A=A+Math.imul(xe,ht)|0,E=(E=E+Math.imul(xe,Qe)|0)+Math.imul(pe,ht)|0,j=j+Math.imul(pe,Qe)|0,A=A+Math.imul(ve,Ve)|0,E=(E=E+Math.imul(ve,et)|0)+Math.imul(ge,Ve)|0,j=j+Math.imul(ge,et)|0,A=A+Math.imul(re,ye)|0,E=(E=E+Math.imul(re,ie)|0)+Math.imul(le,ye)|0,j=j+Math.imul(le,ie)|0,A=A+Math.imul(z,he)|0,E=(E=E+Math.imul(z,me)|0)+Math.imul(Z,he)|0,j=j+Math.imul(Z,me)|0;var jt=(Y+(A=A+Math.imul(q,Le)|0)|0)+((8191&(E=(E=E+Math.imul(q,De)|0)+Math.imul(te,Le)|0))<<13)|0;Y=((j=j+Math.imul(te,De)|0)+(E>>>13)|0)+(jt>>>26)|0,jt&=67108863,A=Math.imul(Ne,yt),E=(E=Math.imul(Ne,nt))+Math.imul(Ie,yt)|0,j=Math.imul(Ie,nt),A=A+Math.imul(ot,Oe)|0,E=(E=E+Math.imul(ot,Ce)|0)+Math.imul(je,Oe)|0,j=j+Math.imul(je,Ce)|0,A=A+Math.imul(Ye,pt)|0,E=(E=E+Math.imul(Ye,ft)|0)+Math.imul(Xe,pt)|0,j=j+Math.imul(Xe,ft)|0,A=A+Math.imul(Pe,At)|0,E=(E=E+Math.imul(Pe,wt)|0)+Math.imul(Je,At)|0,j=j+Math.imul(Je,wt)|0,A=A+Math.imul(ke,ht)|0,E=(E=E+Math.imul(ke,Qe)|0)+Math.imul(Re,ht)|0,j=j+Math.imul(Re,Qe)|0,A=A+Math.imul(xe,Ve)|0,E=(E=E+Math.imul(xe,et)|0)+Math.imul(pe,Ve)|0,j=j+Math.imul(pe,et)|0,A=A+Math.imul(ve,ye)|0,E=(E=E+Math.imul(ve,ie)|0)+Math.imul(ge,ye)|0,j=j+Math.imul(ge,ie)|0,A=A+Math.imul(re,he)|0,E=(E=E+Math.imul(re,me)|0)+Math.imul(le,he)|0,j=j+Math.imul(le,me)|0;var St=(Y+(A=A+Math.imul(z,Le)|0)|0)+((8191&(E=(E=E+Math.imul(z,De)|0)+Math.imul(Z,Le)|0))<<13)|0;Y=((j=j+Math.imul(Z,De)|0)+(E>>>13)|0)+(St>>>26)|0,St&=67108863,A=Math.imul(Ne,Oe),E=(E=Math.imul(Ne,Ce))+Math.imul(Ie,Oe)|0,j=Math.imul(Ie,Ce),A=A+Math.imul(ot,pt)|0,E=(E=E+Math.imul(ot,ft)|0)+Math.imul(je,pt)|0,j=j+Math.imul(je,ft)|0,A=A+Math.imul(Ye,At)|0,E=(E=E+Math.imul(Ye,wt)|0)+Math.imul(Xe,At)|0,j=j+Math.imul(Xe,wt)|0,A=A+Math.imul(Pe,ht)|0,E=(E=E+Math.imul(Pe,Qe)|0)+Math.imul(Je,ht)|0,j=j+Math.imul(Je,Qe)|0,A=A+Math.imul(ke,Ve)|0,E=(E=E+Math.imul(ke,et)|0)+Math.imul(Re,Ve)|0,j=j+Math.imul(Re,et)|0,A=A+Math.imul(xe,ye)|0,E=(E=E+Math.imul(xe,ie)|0)+Math.imul(pe,ye)|0,j=j+Math.imul(pe,ie)|0,A=A+Math.imul(ve,he)|0,E=(E=E+Math.imul(ve,me)|0)+Math.imul(ge,he)|0,j=j+Math.imul(ge,me)|0;var Dt=(Y+(A=A+Math.imul(re,Le)|0)|0)+((8191&(E=(E=E+Math.imul(re,De)|0)+Math.imul(le,Le)|0))<<13)|0;Y=((j=j+Math.imul(le,De)|0)+(E>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,A=Math.imul(Ne,pt),E=(E=Math.imul(Ne,ft))+Math.imul(Ie,pt)|0,j=Math.imul(Ie,ft),A=A+Math.imul(ot,At)|0,E=(E=E+Math.imul(ot,wt)|0)+Math.imul(je,At)|0,j=j+Math.imul(je,wt)|0,A=A+Math.imul(Ye,ht)|0,E=(E=E+Math.imul(Ye,Qe)|0)+Math.imul(Xe,ht)|0,j=j+Math.imul(Xe,Qe)|0,A=A+Math.imul(Pe,Ve)|0,E=(E=E+Math.imul(Pe,et)|0)+Math.imul(Je,Ve)|0,j=j+Math.imul(Je,et)|0,A=A+Math.imul(ke,ye)|0,E=(E=E+Math.imul(ke,ie)|0)+Math.imul(Re,ye)|0,j=j+Math.imul(Re,ie)|0,A=A+Math.imul(xe,he)|0,E=(E=E+Math.imul(xe,me)|0)+Math.imul(pe,he)|0,j=j+Math.imul(pe,me)|0;var Zt=(Y+(A=A+Math.imul(ve,Le)|0)|0)+((8191&(E=(E=E+Math.imul(ve,De)|0)+Math.imul(ge,Le)|0))<<13)|0;Y=((j=j+Math.imul(ge,De)|0)+(E>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,A=Math.imul(Ne,At),E=(E=Math.imul(Ne,wt))+Math.imul(Ie,At)|0,j=Math.imul(Ie,wt),A=A+Math.imul(ot,ht)|0,E=(E=E+Math.imul(ot,Qe)|0)+Math.imul(je,ht)|0,j=j+Math.imul(je,Qe)|0,A=A+Math.imul(Ye,Ve)|0,E=(E=E+Math.imul(Ye,et)|0)+Math.imul(Xe,Ve)|0,j=j+Math.imul(Xe,et)|0,A=A+Math.imul(Pe,ye)|0,E=(E=E+Math.imul(Pe,ie)|0)+Math.imul(Je,ye)|0,j=j+Math.imul(Je,ie)|0,A=A+Math.imul(ke,he)|0,E=(E=E+Math.imul(ke,me)|0)+Math.imul(Re,he)|0,j=j+Math.imul(Re,me)|0;var Wt=(Y+(A=A+Math.imul(xe,Le)|0)|0)+((8191&(E=(E=E+Math.imul(xe,De)|0)+Math.imul(pe,Le)|0))<<13)|0;Y=((j=j+Math.imul(pe,De)|0)+(E>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,A=Math.imul(Ne,ht),E=(E=Math.imul(Ne,Qe))+Math.imul(Ie,ht)|0,j=Math.imul(Ie,Qe),A=A+Math.imul(ot,Ve)|0,E=(E=E+Math.imul(ot,et)|0)+Math.imul(je,Ve)|0,j=j+Math.imul(je,et)|0,A=A+Math.imul(Ye,ye)|0,E=(E=E+Math.imul(Ye,ie)|0)+Math.imul(Xe,ye)|0,j=j+Math.imul(Xe,ie)|0,A=A+Math.imul(Pe,he)|0,E=(E=E+Math.imul(Pe,me)|0)+Math.imul(Je,he)|0,j=j+Math.imul(Je,me)|0;var Xt=(Y+(A=A+Math.imul(ke,Le)|0)|0)+((8191&(E=(E=E+Math.imul(ke,De)|0)+Math.imul(Re,Le)|0))<<13)|0;Y=((j=j+Math.imul(Re,De)|0)+(E>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,A=Math.imul(Ne,Ve),E=(E=Math.imul(Ne,et))+Math.imul(Ie,Ve)|0,j=Math.imul(Ie,et),A=A+Math.imul(ot,ye)|0,E=(E=E+Math.imul(ot,ie)|0)+Math.imul(je,ye)|0,j=j+Math.imul(je,ie)|0,A=A+Math.imul(Ye,he)|0,E=(E=E+Math.imul(Ye,me)|0)+Math.imul(Xe,he)|0,j=j+Math.imul(Xe,me)|0;var zt=(Y+(A=A+Math.imul(Pe,Le)|0)|0)+((8191&(E=(E=E+Math.imul(Pe,De)|0)+Math.imul(Je,Le)|0))<<13)|0;Y=((j=j+Math.imul(Je,De)|0)+(E>>>13)|0)+(zt>>>26)|0,zt&=67108863,A=Math.imul(Ne,ye),E=(E=Math.imul(Ne,ie))+Math.imul(Ie,ye)|0,j=Math.imul(Ie,ie),A=A+Math.imul(ot,he)|0,E=(E=E+Math.imul(ot,me)|0)+Math.imul(je,he)|0,j=j+Math.imul(je,me)|0;var er=(Y+(A=A+Math.imul(Ye,Le)|0)|0)+((8191&(E=(E=E+Math.imul(Ye,De)|0)+Math.imul(Xe,Le)|0))<<13)|0;Y=((j=j+Math.imul(Xe,De)|0)+(E>>>13)|0)+(er>>>26)|0,er&=67108863,A=Math.imul(Ne,he),E=(E=Math.imul(Ne,me))+Math.imul(Ie,he)|0,j=Math.imul(Ie,me);var sr=(Y+(A=A+Math.imul(ot,Le)|0)|0)+((8191&(E=(E=E+Math.imul(ot,De)|0)+Math.imul(je,Le)|0))<<13)|0;Y=((j=j+Math.imul(je,De)|0)+(E>>>13)|0)+(sr>>>26)|0,sr&=67108863;var Kt=(Y+(A=Math.imul(Ne,Le))|0)+((8191&(E=(E=Math.imul(Ne,De))+Math.imul(Ie,Le)|0))<<13)|0;return Y=((j=Math.imul(Ie,De))+(E>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,Q[0]=Fe,Q[1]=qe,Q[2]=xt,Q[3]=vt,Q[4]=Ct,Q[5]=be,Q[6]=Me,Q[7]=Ke,Q[8]=gt,Q[9]=jt,Q[10]=St,Q[11]=Dt,Q[12]=Zt,Q[13]=Wt,Q[14]=Xt,Q[15]=zt,Q[16]=er,Q[17]=sr,Q[18]=Kt,Y!==0&&(Q[19]=Y,T.length++),T};function L(C,S,T){T.negative=S.negative^C.negative,T.length=C.length+S.length;for(var A=0,E=0,j=0;j<T.length-1;j++){var U=E;E=0;for(var I=67108863&A,Q=Math.min(j,S.length-1),Y=Math.max(0,j-C.length+1);Y<=Q;Y++){var ee=j-Y,q=(0|C.words[ee])*(0|S.words[Y]),te=67108863&q;I=67108863&(te=te+I|0),E+=(U=(U=U+(q/67108864|0)|0)+(te>>>26)|0)>>>26,U&=67108863}T.words[j]=I,A=U,U=E}return A!==0?T.words[j]=A:T.length--,T._strip()}function G(C,S,T){return L(C,S,T)}Math.imul||(R=k),o.prototype.mulTo=function(C,S){var T=this.length+C.length;return this.length===10&&C.length===10?R(this,C,S):T<63?k(this,C,S):T<1024?L(this,C,S):G(this,C,S)},o.prototype.mul=function(C){var S=new o(null);return S.words=new Array(this.length+C.length),this.mulTo(C,S)},o.prototype.mulf=function(C){var S=new o(null);return S.words=new Array(this.length+C.length),G(this,C,S)},o.prototype.imul=function(C){return this.clone().mulTo(C,this)},o.prototype.imuln=function(C){var S=C<0;S&&(C=-C),l(typeof C=="number"),l(C<67108864);for(var T=0,A=0;A<this.length;A++){var E=(0|this.words[A])*C,j=(67108863&E)+(67108863&T);T>>=26,T+=E/67108864|0,T+=j>>>26,this.words[A]=67108863&j}return T!==0&&(this.words[A]=T,this.length++),S?this.ineg():this},o.prototype.muln=function(C){return this.clone().imuln(C)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(C){var S=(function(j){for(var U=new Array(j.bitLength()),I=0;I<U.length;I++){var Q=I/26|0,Y=I%26;U[I]=j.words[Q]>>>Y&1}return U})(C);if(S.length===0)return new o(1);for(var T=this,A=0;A<S.length&&S[A]===0;A++,T=T.sqr());if(++A<S.length)for(var E=T.sqr();A<S.length;A++,E=E.sqr())S[A]!==0&&(T=T.mul(E));return T},o.prototype.iushln=function(C){l(typeof C=="number"&&C>=0);var S,T=C%26,A=(C-T)/26,E=67108863>>>26-T<<26-T;if(T!==0){var j=0;for(S=0;S<this.length;S++){var U=this.words[S]&E,I=(0|this.words[S])-U<<T;this.words[S]=I|j,j=U>>>26-T}j&&(this.words[S]=j,this.length++)}if(A!==0){for(S=this.length-1;S>=0;S--)this.words[S+A]=this.words[S];for(S=0;S<A;S++)this.words[S]=0;this.length+=A}return this._strip()},o.prototype.ishln=function(C){return l(this.negative===0),this.iushln(C)},o.prototype.iushrn=function(C,S,T){var A;l(typeof C=="number"&&C>=0),A=S?(S-S%26)/26:0;var E=C%26,j=Math.min((C-E)/26,this.length),U=67108863^67108863>>>E<<E,I=T;if(A-=j,A=Math.max(0,A),I){for(var Q=0;Q<j;Q++)I.words[Q]=this.words[Q];I.length=j}if(j!==0)if(this.length>j)for(this.length-=j,Q=0;Q<this.length;Q++)this.words[Q]=this.words[Q+j];else this.words[0]=0,this.length=1;var Y=0;for(Q=this.length-1;Q>=0&&(Y!==0||Q>=A);Q--){var ee=0|this.words[Q];this.words[Q]=Y<<26-E|ee>>>E,Y=ee&U}return I&&Y!==0&&(I.words[I.length++]=Y),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(C,S,T){return l(this.negative===0),this.iushrn(C,S,T)},o.prototype.shln=function(C){return this.clone().ishln(C)},o.prototype.ushln=function(C){return this.clone().iushln(C)},o.prototype.shrn=function(C){return this.clone().ishrn(C)},o.prototype.ushrn=function(C){return this.clone().iushrn(C)},o.prototype.testn=function(C){l(typeof C=="number"&&C>=0);var S=C%26,T=(C-S)/26,A=1<<S;return!(this.length<=T)&&!!(this.words[T]&A)},o.prototype.imaskn=function(C){l(typeof C=="number"&&C>=0);var S=C%26,T=(C-S)/26;if(l(this.negative===0,"imaskn works only with positive numbers"),this.length<=T)return this;if(S!==0&&T++,this.length=Math.min(T,this.length),S!==0){var A=67108863^67108863>>>S<<S;this.words[this.length-1]&=A}return this._strip()},o.prototype.maskn=function(C){return this.clone().imaskn(C)},o.prototype.iaddn=function(C){return l(typeof C=="number"),l(C<67108864),C<0?this.isubn(-C):this.negative!==0?this.length===1&&(0|this.words[0])<=C?(this.words[0]=C-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(C),this.negative=1,this):this._iaddn(C)},o.prototype._iaddn=function(C){this.words[0]+=C;for(var S=0;S<this.length&&this.words[S]>=67108864;S++)this.words[S]-=67108864,S===this.length-1?this.words[S+1]=1:this.words[S+1]++;return this.length=Math.max(this.length,S+1),this},o.prototype.isubn=function(C){if(l(typeof C=="number"),l(C<67108864),C<0)return this.iaddn(-C);if(this.negative!==0)return this.negative=0,this.iaddn(C),this.negative=1,this;if(this.words[0]-=C,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var S=0;S<this.length&&this.words[S]<0;S++)this.words[S]+=67108864,this.words[S+1]-=1;return this._strip()},o.prototype.addn=function(C){return this.clone().iaddn(C)},o.prototype.subn=function(C){return this.clone().isubn(C)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(C,S,T){var A,E,j=C.length+T;this._expand(j);var U=0;for(A=0;A<C.length;A++){E=(0|this.words[A+T])+U;var I=(0|C.words[A])*S;U=((E-=67108863&I)>>26)-(I/67108864|0),this.words[A+T]=67108863&E}for(;A<this.length-T;A++)U=(E=(0|this.words[A+T])+U)>>26,this.words[A+T]=67108863&E;if(U===0)return this._strip();for(l(U===-1),U=0,A=0;A<this.length;A++)U=(E=-(0|this.words[A])+U)>>26,this.words[A]=67108863&E;return this.negative=1,this._strip()},o.prototype._wordDiv=function(C,S){var T=(this.length,C.length),A=this.clone(),E=C,j=0|E.words[E.length-1];(T=26-this._countBits(j))!==0&&(E=E.ushln(T),A.iushln(T),j=0|E.words[E.length-1]);var U,I=A.length-E.length;if(S!=="mod"){(U=new o(null)).length=I+1,U.words=new Array(U.length);for(var Q=0;Q<U.length;Q++)U.words[Q]=0}var Y=A.clone()._ishlnsubmul(E,1,I);Y.negative===0&&(A=Y,U&&(U.words[I]=1));for(var ee=I-1;ee>=0;ee--){var q=67108864*(0|A.words[E.length+ee])+(0|A.words[E.length+ee-1]);for(q=Math.min(q/j|0,67108863),A._ishlnsubmul(E,q,ee);A.negative!==0;)q--,A.negative=0,A._ishlnsubmul(E,1,ee),A.isZero()||(A.negative^=1);U&&(U.words[ee]=q)}return U&&U._strip(),A._strip(),S!=="div"&&T!==0&&A.iushrn(T),{div:U||null,mod:A}},o.prototype.divmod=function(C,S,T){return l(!C.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:this.negative!==0&&C.negative===0?(j=this.neg().divmod(C,S),S!=="mod"&&(A=j.div.neg()),S!=="div"&&(E=j.mod.neg(),T&&E.negative!==0&&E.iadd(C)),{div:A,mod:E}):this.negative===0&&C.negative!==0?(j=this.divmod(C.neg(),S),S!=="mod"&&(A=j.div.neg()),{div:A,mod:j.mod}):(this.negative&C.negative)!=0?(j=this.neg().divmod(C.neg(),S),S!=="div"&&(E=j.mod.neg(),T&&E.negative!==0&&E.isub(C)),{div:j.div,mod:E}):C.length>this.length||this.cmp(C)<0?{div:new o(0),mod:this}:C.length===1?S==="div"?{div:this.divn(C.words[0]),mod:null}:S==="mod"?{div:null,mod:new o(this.modrn(C.words[0]))}:{div:this.divn(C.words[0]),mod:new o(this.modrn(C.words[0]))}:this._wordDiv(C,S);var A,E,j},o.prototype.div=function(C){return this.divmod(C,"div",!1).div},o.prototype.mod=function(C){return this.divmod(C,"mod",!1).mod},o.prototype.umod=function(C){return this.divmod(C,"mod",!0).mod},o.prototype.divRound=function(C){var S=this.divmod(C);if(S.mod.isZero())return S.div;var T=S.div.negative!==0?S.mod.isub(C):S.mod,A=C.ushrn(1),E=C.andln(1),j=T.cmp(A);return j<0||E===1&&j===0?S.div:S.div.negative!==0?S.div.isubn(1):S.div.iaddn(1)},o.prototype.modrn=function(C){var S=C<0;S&&(C=-C),l(C<=67108863);for(var T=(1<<26)%C,A=0,E=this.length-1;E>=0;E--)A=(T*A+(0|this.words[E]))%C;return S?-A:A},o.prototype.modn=function(C){return this.modrn(C)},o.prototype.idivn=function(C){var S=C<0;S&&(C=-C),l(C<=67108863);for(var T=0,A=this.length-1;A>=0;A--){var E=(0|this.words[A])+67108864*T;this.words[A]=E/C|0,T=E%C}return this._strip(),S?this.ineg():this},o.prototype.divn=function(C){return this.clone().idivn(C)},o.prototype.egcd=function(C){l(C.negative===0),l(!C.isZero());var S=this,T=C.clone();S=S.negative!==0?S.umod(C):S.clone();for(var A=new o(1),E=new o(0),j=new o(0),U=new o(1),I=0;S.isEven()&&T.isEven();)S.iushrn(1),T.iushrn(1),++I;for(var Q=T.clone(),Y=S.clone();!S.isZero();){for(var ee=0,q=1;(S.words[0]&q)==0&&ee<26;++ee,q<<=1);if(ee>0)for(S.iushrn(ee);ee-- >0;)(A.isOdd()||E.isOdd())&&(A.iadd(Q),E.isub(Y)),A.iushrn(1),E.iushrn(1);for(var te=0,H=1;(T.words[0]&H)==0&&te<26;++te,H<<=1);if(te>0)for(T.iushrn(te);te-- >0;)(j.isOdd()||U.isOdd())&&(j.iadd(Q),U.isub(Y)),j.iushrn(1),U.iushrn(1);S.cmp(T)>=0?(S.isub(T),A.isub(j),E.isub(U)):(T.isub(S),j.isub(A),U.isub(E))}return{a:j,b:U,gcd:T.iushln(I)}},o.prototype._invmp=function(C){l(C.negative===0),l(!C.isZero());var S=this,T=C.clone();S=S.negative!==0?S.umod(C):S.clone();for(var A,E=new o(1),j=new o(0),U=T.clone();S.cmpn(1)>0&&T.cmpn(1)>0;){for(var I=0,Q=1;(S.words[0]&Q)==0&&I<26;++I,Q<<=1);if(I>0)for(S.iushrn(I);I-- >0;)E.isOdd()&&E.iadd(U),E.iushrn(1);for(var Y=0,ee=1;(T.words[0]&ee)==0&&Y<26;++Y,ee<<=1);if(Y>0)for(T.iushrn(Y);Y-- >0;)j.isOdd()&&j.iadd(U),j.iushrn(1);S.cmp(T)>=0?(S.isub(T),E.isub(j)):(T.isub(S),j.isub(E))}return(A=S.cmpn(1)===0?E:j).cmpn(0)<0&&A.iadd(C),A},o.prototype.gcd=function(C){if(this.isZero())return C.abs();if(C.isZero())return this.abs();var S=this.clone(),T=C.clone();S.negative=0,T.negative=0;for(var A=0;S.isEven()&&T.isEven();A++)S.iushrn(1),T.iushrn(1);for(;;){for(;S.isEven();)S.iushrn(1);for(;T.isEven();)T.iushrn(1);var E=S.cmp(T);if(E<0){var j=S;S=T,T=j}else if(E===0||T.cmpn(1)===0)break;S.isub(T)}return T.iushln(A)},o.prototype.invm=function(C){return this.egcd(C).a.umod(C)},o.prototype.isEven=function(){return(1&this.words[0])==0},o.prototype.isOdd=function(){return(1&this.words[0])==1},o.prototype.andln=function(C){return this.words[0]&C},o.prototype.bincn=function(C){l(typeof C=="number");var S=C%26,T=(C-S)/26,A=1<<S;if(this.length<=T)return this._expand(T+1),this.words[T]|=A,this;for(var E=A,j=T;E!==0&&j<this.length;j++){var U=0|this.words[j];E=(U+=E)>>>26,U&=67108863,this.words[j]=U}return E!==0&&(this.words[j]=E,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(C){var S,T=C<0;if(this.negative!==0&&!T)return-1;if(this.negative===0&&T)return 1;if(this._strip(),this.length>1)S=1;else{T&&(C=-C),l(C<=67108863,"Number is too big");var A=0|this.words[0];S=A===C?0:A<C?-1:1}return this.negative!==0?0|-S:S},o.prototype.cmp=function(C){if(this.negative!==0&&C.negative===0)return-1;if(this.negative===0&&C.negative!==0)return 1;var S=this.ucmp(C);return this.negative!==0?0|-S:S},o.prototype.ucmp=function(C){if(this.length>C.length)return 1;if(this.length<C.length)return-1;for(var S=0,T=this.length-1;T>=0;T--){var A=0|this.words[T],E=0|C.words[T];if(A!==E){A<E?S=-1:A>E&&(S=1);break}}return S},o.prototype.gtn=function(C){return this.cmpn(C)===1},o.prototype.gt=function(C){return this.cmp(C)===1},o.prototype.gten=function(C){return this.cmpn(C)>=0},o.prototype.gte=function(C){return this.cmp(C)>=0},o.prototype.ltn=function(C){return this.cmpn(C)===-1},o.prototype.lt=function(C){return this.cmp(C)===-1},o.prototype.lten=function(C){return this.cmpn(C)<=0},o.prototype.lte=function(C){return this.cmp(C)<=0},o.prototype.eqn=function(C){return this.cmpn(C)===0},o.prototype.eq=function(C){return this.cmp(C)===0},o.red=function(C){return new N(C)},o.prototype.toRed=function(C){return l(!this.red,"Already a number in reduction context"),l(this.negative===0,"red works only with positives"),C.convertTo(this)._forceRed(C)},o.prototype.fromRed=function(){return l(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(C){return this.red=C,this},o.prototype.forceRed=function(C){return l(!this.red,"Already a number in reduction context"),this._forceRed(C)},o.prototype.redAdd=function(C){return l(this.red,"redAdd works only with red numbers"),this.red.add(this,C)},o.prototype.redIAdd=function(C){return l(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,C)},o.prototype.redSub=function(C){return l(this.red,"redSub works only with red numbers"),this.red.sub(this,C)},o.prototype.redISub=function(C){return l(this.red,"redISub works only with red numbers"),this.red.isub(this,C)},o.prototype.redShl=function(C){return l(this.red,"redShl works only with red numbers"),this.red.shl(this,C)},o.prototype.redMul=function(C){return l(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.mul(this,C)},o.prototype.redIMul=function(C){return l(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.imul(this,C)},o.prototype.redSqr=function(){return l(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return l(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return l(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return l(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return l(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(C){return l(this.red&&!C.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,C)};var V={k256:null,p224:null,p192:null,p25519:null};function O(C,S){this.name=C,this.p=new o(S,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function F(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function B(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function W(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function P(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function N(C){if(typeof C=="string"){var S=o._prime(C);this.m=S.p,this.prime=S}else l(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function D(C){N.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}O.prototype._tmp=function(){var C=new o(null);return C.words=new Array(Math.ceil(this.n/13)),C},O.prototype.ireduce=function(C){var S,T=C;do this.split(T,this.tmp),S=(T=(T=this.imulK(T)).iadd(this.tmp)).bitLength();while(S>this.n);var A=S<this.n?-1:T.ucmp(this.p);return A===0?(T.words[0]=0,T.length=1):A>0?T.isub(this.p):T.strip!==void 0?T.strip():T._strip(),T},O.prototype.split=function(C,S){C.iushrn(this.n,0,S)},O.prototype.imulK=function(C){return C.imul(this.k)},c(F,O),F.prototype.split=function(C,S){for(var T=Math.min(C.length,9),A=0;A<T;A++)S.words[A]=C.words[A];if(S.length=T,C.length<=9)return C.words[0]=0,void(C.length=1);var E=C.words[9];for(S.words[S.length++]=4194303&E,A=10;A<C.length;A++){var j=0|C.words[A];C.words[A-10]=(4194303&j)<<4|E>>>22,E=j}E>>>=22,C.words[A-10]=E,E===0&&C.length>10?C.length-=10:C.length-=9},F.prototype.imulK=function(C){C.words[C.length]=0,C.words[C.length+1]=0,C.length+=2;for(var S=0,T=0;T<C.length;T++){var A=0|C.words[T];S+=977*A,C.words[T]=67108863&S,S=64*A+(S/67108864|0)}return C.words[C.length-1]===0&&(C.length--,C.words[C.length-1]===0&&C.length--),C},c(B,O),c(W,O),c(P,O),P.prototype.imulK=function(C){for(var S=0,T=0;T<C.length;T++){var A=19*(0|C.words[T])+S,E=67108863&A;A>>>=26,C.words[T]=E,S=A}return S!==0&&(C.words[C.length++]=S),C},o._prime=function(C){if(V[C])return V[C];var S;if(C==="k256")S=new F;else if(C==="p224")S=new B;else if(C==="p192")S=new W;else{if(C!=="p25519")throw new Error("Unknown prime "+C);S=new P}return V[C]=S,S},N.prototype._verify1=function(C){l(C.negative===0,"red works only with positives"),l(C.red,"red works only with red numbers")},N.prototype._verify2=function(C,S){l((C.negative|S.negative)==0,"red works only with positives"),l(C.red&&C.red===S.red,"red works only with red numbers")},N.prototype.imod=function(C){return this.prime?this.prime.ireduce(C)._forceRed(this):(b(C,C.umod(this.m)._forceRed(this)),C)},N.prototype.neg=function(C){return C.isZero()?C.clone():this.m.sub(C)._forceRed(this)},N.prototype.add=function(C,S){this._verify2(C,S);var T=C.add(S);return T.cmp(this.m)>=0&&T.isub(this.m),T._forceRed(this)},N.prototype.iadd=function(C,S){this._verify2(C,S);var T=C.iadd(S);return T.cmp(this.m)>=0&&T.isub(this.m),T},N.prototype.sub=function(C,S){this._verify2(C,S);var T=C.sub(S);return T.cmpn(0)<0&&T.iadd(this.m),T._forceRed(this)},N.prototype.isub=function(C,S){this._verify2(C,S);var T=C.isub(S);return T.cmpn(0)<0&&T.iadd(this.m),T},N.prototype.shl=function(C,S){return this._verify1(C),this.imod(C.ushln(S))},N.prototype.imul=function(C,S){return this._verify2(C,S),this.imod(C.imul(S))},N.prototype.mul=function(C,S){return this._verify2(C,S),this.imod(C.mul(S))},N.prototype.isqr=function(C){return this.imul(C,C.clone())},N.prototype.sqr=function(C){return this.mul(C,C)},N.prototype.sqrt=function(C){if(C.isZero())return C.clone();var S=this.m.andln(3);if(l(S%2==1),S===3){var T=this.m.add(new o(1)).iushrn(2);return this.pow(C,T)}for(var A=this.m.subn(1),E=0;!A.isZero()&&A.andln(1)===0;)E++,A.iushrn(1);l(!A.isZero());var j=new o(1).toRed(this),U=j.redNeg(),I=this.m.subn(1).iushrn(1),Q=this.m.bitLength();for(Q=new o(2*Q*Q).toRed(this);this.pow(Q,I).cmp(U)!==0;)Q.redIAdd(U);for(var Y=this.pow(Q,A),ee=this.pow(C,A.addn(1).iushrn(1)),q=this.pow(C,A),te=E;q.cmp(j)!==0;){for(var H=q,z=0;H.cmp(j)!==0;z++)H=H.redSqr();l(z<te);var Z=this.pow(Y,new o(1).iushln(te-z-1));ee=ee.redMul(Z),Y=Z.redSqr(),q=q.redMul(Y),te=z}return ee},N.prototype.invm=function(C){var S=C._invmp(this.m);return S.negative!==0?(S.negative=0,this.imod(S).redNeg()):this.imod(S)},N.prototype.pow=function(C,S){if(S.isZero())return new o(1).toRed(this);if(S.cmpn(1)===0)return C.clone();var T=new Array(16);T[0]=new o(1).toRed(this),T[1]=C;for(var A=2;A<T.length;A++)T[A]=this.mul(T[A-1],C);var E=T[0],j=0,U=0,I=S.bitLength()%26;for(I===0&&(I=26),A=S.length-1;A>=0;A--){for(var Q=S.words[A],Y=I-1;Y>=0;Y--){var ee=Q>>Y&1;E!==T[0]&&(E=this.sqr(E)),ee!==0||j!==0?(j<<=1,j|=ee,(++U===4||A===0&&Y===0)&&(E=this.mul(E,T[j]),U=0,j=0)):U=0}I=26}return E},N.prototype.convertTo=function(C){var S=C.umod(this.m);return S===C?S.clone():S},N.prototype.convertFrom=function(C){var S=C.clone();return S.red=null,S},o.mont=function(C){return new D(C)},c(D,N),D.prototype.convertTo=function(C){return this.imod(C.ushln(this.shift))},D.prototype.convertFrom=function(C){var S=this.imod(C.mul(this.rinv));return S.red=null,S},D.prototype.imul=function(C,S){if(C.isZero()||S.isZero())return C.words[0]=0,C.length=1,C;var T=C.imul(S),A=T.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=T.isub(A).iushrn(this.shift),j=E;return E.cmp(this.m)>=0?j=E.isub(this.m):E.cmpn(0)<0&&(j=E.iadd(this.m)),j._forceRed(this)},D.prototype.mul=function(C,S){if(C.isZero()||S.isZero())return new o(0)._forceRed(this);var T=C.mul(S),A=T.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=T.isub(A).iushrn(this.shift),j=E;return E.cmp(this.m)>=0?j=E.isub(this.m):E.cmpn(0)<0&&(j=E.iadd(this.m)),j._forceRed(this)},D.prototype.invm=function(C){return this.imod(C._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],187:[function(e,n,s){var i;function a(c){this.rand=c}if(n.exports=function(c){return i||(i=new a(null)),i.generate(c)},n.exports.Rand=a,a.prototype.generate=function(c){return this._rand(c)},a.prototype._rand=function(c){if(this.rand.getBytes)return this.rand.getBytes(c);for(var o=new Uint8Array(c),u=0;u<o.length;u++)o[u]=this.rand.getByte();return o},typeof self=="object")self.crypto&&self.crypto.getRandomValues?a.prototype._rand=function(c){var o=new Uint8Array(c);return self.crypto.getRandomValues(o),o}:self.msCrypto&&self.msCrypto.getRandomValues?a.prototype._rand=function(c){var o=new Uint8Array(c);return self.msCrypto.getRandomValues(o),o}:typeof window=="object"&&(a.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var l=e("crypto");if(typeof l.randomBytes!="function")throw new Error("Not supported");a.prototype._rand=function(c){return l.randomBytes(c)}}catch{}},{crypto:188}],188:[function(e,n,s){},{}],189:[function(e,n,s){var i=e("safe-buffer").Buffer;function a(h){i.isBuffer(h)||(h=i.from(h));for(var d=h.length/4|0,b=new Array(d),x=0;x<d;x++)b[x]=h.readUInt32BE(4*x);return b}function l(h){for(;0<h.length;h++)h[0]=0}function c(h,d,b,x,g){for(var w,v,k,R,L=b[0],G=b[1],V=b[2],O=b[3],F=h[0]^d[0],B=h[1]^d[1],W=h[2]^d[2],P=h[3]^d[3],N=4,D=1;D<g;D++)w=L[F>>>24]^G[B>>>16&255]^V[W>>>8&255]^O[255&P]^d[N++],v=L[B>>>24]^G[W>>>16&255]^V[P>>>8&255]^O[255&F]^d[N++],k=L[W>>>24]^G[P>>>16&255]^V[F>>>8&255]^O[255&B]^d[N++],R=L[P>>>24]^G[F>>>16&255]^V[B>>>8&255]^O[255&W]^d[N++],F=w,B=v,W=k,P=R;return w=(x[F>>>24]<<24|x[B>>>16&255]<<16|x[W>>>8&255]<<8|x[255&P])^d[N++],v=(x[B>>>24]<<24|x[W>>>16&255]<<16|x[P>>>8&255]<<8|x[255&F])^d[N++],k=(x[W>>>24]<<24|x[P>>>16&255]<<16|x[F>>>8&255]<<8|x[255&B])^d[N++],R=(x[P>>>24]<<24|x[F>>>16&255]<<16|x[B>>>8&255]<<8|x[255&W])^d[N++],[w>>>=0,v>>>=0,k>>>=0,R>>>=0]}var o=[0,1,2,4,8,16,32,64,128,27,54],u=(function(){for(var h=new Array(256),d=0;d<256;d++)h[d]=d<128?d<<1:d<<1^283;for(var b=[],x=[],g=[[],[],[],[]],w=[[],[],[],[]],v=0,k=0,R=0;R<256;++R){var L=k^k<<1^k<<2^k<<3^k<<4;L=L>>>8^255&L^99,b[v]=L,x[L]=v;var G=h[v],V=h[G],O=h[V],F=257*h[L]^16843008*L;g[0][v]=F<<24|F>>>8,g[1][v]=F<<16|F>>>16,g[2][v]=F<<8|F>>>24,g[3][v]=F,F=16843009*O^65537*V^257*G^16843008*v,w[0][L]=F<<24|F>>>8,w[1][L]=F<<16|F>>>16,w[2][L]=F<<8|F>>>24,w[3][L]=F,v===0?v=k=1:(v=G^h[h[h[O^G]]],k^=h[h[k]])}return{SBOX:b,INV_SBOX:x,SUB_MIX:g,INV_SUB_MIX:w}})();function p(h){this._key=a(h),this._reset()}p.blockSize=16,p.keySize=32,p.prototype.blockSize=p.blockSize,p.prototype.keySize=p.keySize,p.prototype._reset=function(){for(var h=this._key,d=h.length,b=d+6,x=4*(b+1),g=[],w=0;w<d;w++)g[w]=h[w];for(w=d;w<x;w++){var v=g[w-1];w%d==0?(v=v<<8|v>>>24,v=u.SBOX[v>>>24]<<24|u.SBOX[v>>>16&255]<<16|u.SBOX[v>>>8&255]<<8|u.SBOX[255&v],v^=o[w/d|0]<<24):d>6&&w%d==4&&(v=u.SBOX[v>>>24]<<24|u.SBOX[v>>>16&255]<<16|u.SBOX[v>>>8&255]<<8|u.SBOX[255&v]),g[w]=g[w-d]^v}for(var k=[],R=0;R<x;R++){var L=x-R,G=g[L-(R%4?0:4)];k[R]=R<4||L<=4?G:u.INV_SUB_MIX[0][u.SBOX[G>>>24]]^u.INV_SUB_MIX[1][u.SBOX[G>>>16&255]]^u.INV_SUB_MIX[2][u.SBOX[G>>>8&255]]^u.INV_SUB_MIX[3][u.SBOX[255&G]]}this._nRounds=b,this._keySchedule=g,this._invKeySchedule=k},p.prototype.encryptBlockRaw=function(h){return c(h=a(h),this._keySchedule,u.SUB_MIX,u.SBOX,this._nRounds)},p.prototype.encryptBlock=function(h){var d=this.encryptBlockRaw(h),b=i.allocUnsafe(16);return b.writeUInt32BE(d[0],0),b.writeUInt32BE(d[1],4),b.writeUInt32BE(d[2],8),b.writeUInt32BE(d[3],12),b},p.prototype.decryptBlock=function(h){var d=(h=a(h))[1];h[1]=h[3],h[3]=d;var b=c(h,this._invKeySchedule,u.INV_SUB_MIX,u.INV_SBOX,this._nRounds),x=i.allocUnsafe(16);return x.writeUInt32BE(b[0],0),x.writeUInt32BE(b[3],4),x.writeUInt32BE(b[2],8),x.writeUInt32BE(b[1],12),x},p.prototype.scrub=function(){l(this._keySchedule),l(this._invKeySchedule),l(this._key)},n.exports.AES=p},{"safe-buffer":494}],190:[function(e,n,s){var i=e("./aes"),a=e("safe-buffer").Buffer,l=e("cipher-base"),c=e("inherits"),o=e("./ghash"),u=e("buffer-xor"),p=e("./incr32");function h(d,b,x,g){l.call(this);var w=a.alloc(4,0);this._cipher=new i.AES(b);var v=this._cipher.encryptBlock(w);this._ghash=new o(v),x=(function(k,R,L){if(R.length===12)return k._finID=a.concat([R,a.from([0,0,0,1])]),a.concat([R,a.from([0,0,0,2])]);var G=new o(L),V=R.length,O=V%16;G.update(R),O&&(O=16-O,G.update(a.alloc(O,0))),G.update(a.alloc(8,0));var F=8*V,B=a.alloc(8);B.writeUIntBE(F,0,8),G.update(B),k._finID=G.state;var W=a.from(k._finID);return p(W),W})(this,x,v),this._prev=a.from(x),this._cache=a.allocUnsafe(0),this._secCache=a.allocUnsafe(0),this._decrypt=g,this._alen=0,this._len=0,this._mode=d,this._authTag=null,this._called=!1}c(h,l),h.prototype._update=function(d){if(!this._called&&this._alen){var b=16-this._alen%16;b<16&&(b=a.alloc(b,0),this._ghash.update(b))}this._called=!0;var x=this._mode.encrypt(this,d);return this._decrypt?this._ghash.update(d):this._ghash.update(x),this._len+=d.length,x},h.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var d=u(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&(function(b,x){var g=0;b.length!==x.length&&g++;for(var w=Math.min(b.length,x.length),v=0;v<w;++v)g+=b[v]^x[v];return g})(d,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=d,this._cipher.scrub()},h.prototype.getAuthTag=function(){if(this._decrypt||!a.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},h.prototype.setAuthTag=function(d){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=d},h.prototype.setAAD=function(d){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(d),this._alen+=d.length},n.exports=h},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(e,n,s){var i=e("./encrypter"),a=e("./decrypter"),l=e("./modes/list.json");s.createCipher=s.Cipher=i.createCipher,s.createCipheriv=s.Cipheriv=i.createCipheriv,s.createDecipher=s.Decipher=a.createDecipher,s.createDecipheriv=s.Decipheriv=a.createDecipheriv,s.listCiphers=s.getCiphers=function(){return Object.keys(l)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(e,n,s){var i=e("./authCipher"),a=e("safe-buffer").Buffer,l=e("./modes"),c=e("./streamCipher"),o=e("cipher-base"),u=e("./aes"),p=e("evp_bytestokey");function h(x,g,w){o.call(this),this._cache=new d,this._last=void 0,this._cipher=new u.AES(g),this._prev=a.from(w),this._mode=x,this._autopadding=!0}function d(){this.cache=a.allocUnsafe(0)}function b(x,g,w){var v=l[x.toLowerCase()];if(!v)throw new TypeError("invalid suite type");if(typeof w=="string"&&(w=a.from(w)),v.mode!=="GCM"&&w.length!==v.iv)throw new TypeError("invalid iv length "+w.length);if(typeof g=="string"&&(g=a.from(g)),g.length!==v.key/8)throw new TypeError("invalid key length "+g.length);return v.type==="stream"?new c(v.module,g,w,!0):v.type==="auth"?new i(v.module,g,w,!0):new h(v.module,g,w)}e("inherits")(h,o),h.prototype._update=function(x){var g,w;this._cache.add(x);for(var v=[];g=this._cache.get(this._autopadding);)w=this._mode.decrypt(this,g),v.push(w);return a.concat(v)},h.prototype._final=function(){var x=this._cache.flush();if(this._autopadding)return(function(g){var w=g[15];if(w<1||w>16)throw new Error("unable to decrypt data");for(var v=-1;++v<w;)if(g[v+(16-w)]!==w)throw new Error("unable to decrypt data");if(w!==16)return g.slice(0,16-w)})(this._mode.decrypt(this,x));if(x)throw new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(x){return this._autopadding=!!x,this},d.prototype.add=function(x){this.cache=a.concat([this.cache,x])},d.prototype.get=function(x){var g;if(x){if(this.cache.length>16)return g=this.cache.slice(0,16),this.cache=this.cache.slice(16),g}else if(this.cache.length>=16)return g=this.cache.slice(0,16),this.cache=this.cache.slice(16),g;return null},d.prototype.flush=function(){if(this.cache.length)return this.cache},s.createDecipher=function(x,g){var w=l[x.toLowerCase()];if(!w)throw new TypeError("invalid suite type");var v=p(g,!1,w.key,w.iv);return b(x,v.key,v.iv)},s.createDecipheriv=b},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(e,n,s){var i=e("./modes"),a=e("./authCipher"),l=e("safe-buffer").Buffer,c=e("./streamCipher"),o=e("cipher-base"),u=e("./aes"),p=e("evp_bytestokey");function h(g,w,v){o.call(this),this._cache=new b,this._cipher=new u.AES(w),this._prev=l.from(v),this._mode=g,this._autopadding=!0}e("inherits")(h,o),h.prototype._update=function(g){var w,v;this._cache.add(g);for(var k=[];w=this._cache.get();)v=this._mode.encrypt(this,w),k.push(v);return l.concat(k)};var d=l.alloc(16,16);function b(){this.cache=l.allocUnsafe(0)}function x(g,w,v){var k=i[g.toLowerCase()];if(!k)throw new TypeError("invalid suite type");if(typeof w=="string"&&(w=l.from(w)),w.length!==k.key/8)throw new TypeError("invalid key length "+w.length);if(typeof v=="string"&&(v=l.from(v)),k.mode!=="GCM"&&v.length!==k.iv)throw new TypeError("invalid iv length "+v.length);return k.type==="stream"?new c(k.module,w,v):k.type==="auth"?new a(k.module,w,v):new h(k.module,w,v)}h.prototype._final=function(){var g=this._cache.flush();if(this._autopadding)return g=this._mode.encrypt(this,g),this._cipher.scrub(),g;if(!g.equals(d))throw this._cipher.scrub(),new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(g){return this._autopadding=!!g,this},b.prototype.add=function(g){this.cache=l.concat([this.cache,g])},b.prototype.get=function(){if(this.cache.length>15){var g=this.cache.slice(0,16);return this.cache=this.cache.slice(16),g}return null},b.prototype.flush=function(){for(var g=16-this.cache.length,w=l.allocUnsafe(g),v=-1;++v<g;)w.writeUInt8(g,v);return l.concat([this.cache,w])},s.createCipheriv=x,s.createCipher=function(g,w){var v=i[g.toLowerCase()];if(!v)throw new TypeError("invalid suite type");var k=p(w,!1,v.key,v.iv);return x(g,k.key,k.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(e,n,s){var i=e("safe-buffer").Buffer,a=i.alloc(16,0);function l(o){var u=i.allocUnsafe(16);return u.writeUInt32BE(o[0]>>>0,0),u.writeUInt32BE(o[1]>>>0,4),u.writeUInt32BE(o[2]>>>0,8),u.writeUInt32BE(o[3]>>>0,12),u}function c(o){this.h=o,this.state=i.alloc(16,0),this.cache=i.allocUnsafe(0)}c.prototype.ghash=function(o){for(var u=-1;++u<o.length;)this.state[u]^=o[u];this._multiply()},c.prototype._multiply=function(){for(var o,u,p,h=[(o=this.h).readUInt32BE(0),o.readUInt32BE(4),o.readUInt32BE(8),o.readUInt32BE(12)],d=[0,0,0,0],b=-1;++b<128;){for((this.state[~~(b/8)]&1<<7-b%8)!=0&&(d[0]^=h[0],d[1]^=h[1],d[2]^=h[2],d[3]^=h[3]),p=(1&h[3])!=0,u=3;u>0;u--)h[u]=h[u]>>>1|(1&h[u-1])<<31;h[0]=h[0]>>>1,p&&(h[0]=h[0]^225<<24)}this.state=l(d)},c.prototype.update=function(o){var u;for(this.cache=i.concat([this.cache,o]);this.cache.length>=16;)u=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(u)},c.prototype.final=function(o,u){return this.cache.length&&this.ghash(i.concat([this.cache,a],16)),this.ghash(l([0,o,0,u])),this.state},n.exports=c},{"safe-buffer":494}],195:[function(e,n,s){n.exports=function(i){for(var a,l=i.length;l--;){if((a=i.readUInt8(l))!==255){a++,i.writeUInt8(a,l);break}i.writeUInt8(0,l)}}},{}],196:[function(e,n,s){var i=e("buffer-xor");s.encrypt=function(a,l){var c=i(l,a._prev);return a._prev=a._cipher.encryptBlock(c),a._prev},s.decrypt=function(a,l){var c=a._prev;a._prev=l;var o=a._cipher.decryptBlock(l);return i(o,c)}},{"buffer-xor":219}],197:[function(e,n,s){var i=e("safe-buffer").Buffer,a=e("buffer-xor");function l(c,o,u){var p=o.length,h=a(o,c._cache);return c._cache=c._cache.slice(p),c._prev=i.concat([c._prev,u?o:h]),h}s.encrypt=function(c,o,u){for(var p,h=i.allocUnsafe(0);o.length;){if(c._cache.length===0&&(c._cache=c._cipher.encryptBlock(c._prev),c._prev=i.allocUnsafe(0)),!(c._cache.length<=o.length)){h=i.concat([h,l(c,o,u)]);break}p=c._cache.length,h=i.concat([h,l(c,o.slice(0,p),u)]),o=o.slice(p)}return h}},{"buffer-xor":219,"safe-buffer":494}],198:[function(e,n,s){var i=e("safe-buffer").Buffer;function a(c,o,u){for(var p,h,d=-1,b=0;++d<8;)p=o&1<<7-d?128:0,b+=(128&(h=c._cipher.encryptBlock(c._prev)[0]^p))>>d%8,c._prev=l(c._prev,u?p:h);return b}function l(c,o){var u=c.length,p=-1,h=i.allocUnsafe(c.length);for(c=i.concat([c,i.from([o])]);++p<u;)h[p]=c[p]<<1|c[p+1]>>7;return h}s.encrypt=function(c,o,u){for(var p=o.length,h=i.allocUnsafe(p),d=-1;++d<p;)h[d]=a(c,o[d],u);return h}},{"safe-buffer":494}],199:[function(e,n,s){var i=e("safe-buffer").Buffer;function a(l,c,o){var u=l._cipher.encryptBlock(l._prev)[0]^c;return l._prev=i.concat([l._prev.slice(1),i.from([o?c:u])]),u}s.encrypt=function(l,c,o){for(var u=c.length,p=i.allocUnsafe(u),h=-1;++h<u;)p[h]=a(l,c[h],o);return p}},{"safe-buffer":494}],200:[function(e,n,s){var i=e("buffer-xor"),a=e("safe-buffer").Buffer,l=e("../incr32");function c(o){var u=o._cipher.encryptBlockRaw(o._prev);return l(o._prev),u}s.encrypt=function(o,u){var p=Math.ceil(u.length/16),h=o._cache.length;o._cache=a.concat([o._cache,a.allocUnsafe(16*p)]);for(var d=0;d<p;d++){var b=c(o),x=h+16*d;o._cache.writeUInt32BE(b[0],x+0),o._cache.writeUInt32BE(b[1],x+4),o._cache.writeUInt32BE(b[2],x+8),o._cache.writeUInt32BE(b[3],x+12)}var g=o._cache.slice(0,u.length);return o._cache=o._cache.slice(u.length),i(u,g)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(e,n,s){s.encrypt=function(i,a){return i._cipher.encryptBlock(a)},s.decrypt=function(i,a){return i._cipher.decryptBlock(a)}},{}],202:[function(e,n,s){var i={ECB:e("./ecb"),CBC:e("./cbc"),CFB:e("./cfb"),CFB8:e("./cfb8"),CFB1:e("./cfb1"),OFB:e("./ofb"),CTR:e("./ctr"),GCM:e("./ctr")},a=e("./list.json");for(var l in a)a[l].module=i[a[l].mode];n.exports=a},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(e,n,s){n.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(e,n,s){(function(i){(function(){var a=e("buffer-xor");function l(c){return c._prev=c._cipher.encryptBlock(c._prev),c._prev}s.encrypt=function(c,o){for(;c._cache.length<o.length;)c._cache=i.concat([c._cache,l(c)]);var u=c._cache.slice(0,o.length);return c._cache=c._cache.slice(o.length),a(o,u)}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(e,n,s){var i=e("./aes"),a=e("safe-buffer").Buffer,l=e("cipher-base");function c(o,u,p,h){l.call(this),this._cipher=new i.AES(u),this._prev=a.from(p),this._cache=a.allocUnsafe(0),this._secCache=a.allocUnsafe(0),this._decrypt=h,this._mode=o}e("inherits")(c,l),c.prototype._update=function(o){return this._mode.encrypt(this,o,this._decrypt)},c.prototype._final=function(){this._cipher.scrub()},n.exports=c},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(e,n,s){var i=e("browserify-des"),a=e("browserify-aes/browser"),l=e("browserify-aes/modes"),c=e("browserify-des/modes"),o=e("evp_bytestokey");function u(h,d,b){if(h=h.toLowerCase(),l[h])return a.createCipheriv(h,d,b);if(c[h])return new i({key:d,iv:b,mode:h});throw new TypeError("invalid suite type")}function p(h,d,b){if(h=h.toLowerCase(),l[h])return a.createDecipheriv(h,d,b);if(c[h])return new i({key:d,iv:b,mode:h,decrypt:!0});throw new TypeError("invalid suite type")}s.createCipher=s.Cipher=function(h,d){var b,x;if(h=h.toLowerCase(),l[h])b=l[h].key,x=l[h].iv;else{if(!c[h])throw new TypeError("invalid suite type");b=8*c[h].key,x=c[h].iv}var g=o(d,!1,b,x);return u(h,g.key,g.iv)},s.createCipheriv=s.Cipheriv=u,s.createDecipher=s.Decipher=function(h,d){var b,x;if(h=h.toLowerCase(),l[h])b=l[h].key,x=l[h].iv;else{if(!c[h])throw new TypeError("invalid suite type");b=8*c[h].key,x=c[h].iv}var g=o(d,!1,b,x);return p(h,g.key,g.iv)},s.createDecipheriv=s.Decipheriv=p,s.listCiphers=s.getCiphers=function(){return Object.keys(c).concat(a.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(e,n,s){var i=e("cipher-base"),a=e("des.js"),l=e("inherits"),c=e("safe-buffer").Buffer,o={"des-ede3-cbc":a.CBC.instantiate(a.EDE),"des-ede3":a.EDE,"des-ede-cbc":a.CBC.instantiate(a.EDE),"des-ede":a.EDE,"des-cbc":a.CBC.instantiate(a.DES),"des-ecb":a.DES};function u(p){i.call(this);var h,d=p.mode.toLowerCase(),b=o[d];h=p.decrypt?"decrypt":"encrypt";var x=p.key;c.isBuffer(x)||(x=c.from(x)),d!=="des-ede"&&d!=="des-ede-cbc"||(x=c.concat([x,x.slice(0,8)]));var g=p.iv;c.isBuffer(g)||(g=c.from(g)),this._des=b.create({key:x,iv:g,type:h})}o.des=o["des-cbc"],o.des3=o["des-ede3-cbc"],n.exports=u,l(u,i),u.prototype._update=function(p){return c.from(this._des.update(p))},u.prototype._final=function(){return c.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(e,n,s){s["des-ecb"]={key:8,iv:0},s["des-cbc"]=s.des={key:8,iv:8},s["des-ede3-cbc"]=s.des3={key:24,iv:8},s["des-ede3"]={key:24,iv:0},s["des-ede-cbc"]={key:16,iv:8},s["des-ede"]={key:16,iv:0}},{}],209:[function(e,n,s){(function(i){(function(){var a=e("bn.js"),l=e("randombytes");function c(u){var p,h=u.modulus.byteLength();do p=new a(l(h));while(p.cmp(u.modulus)>=0||!p.umod(u.prime1)||!p.umod(u.prime2));return p}function o(u,p){var h=(function(V){var O=c(V);return{blinder:O.toRed(a.mont(V.modulus)).redPow(new a(V.publicExponent)).fromRed(),unblinder:O.invm(V.modulus)}})(p),d=p.modulus.byteLength(),b=new a(u).mul(h.blinder).umod(p.modulus),x=b.toRed(a.mont(p.prime1)),g=b.toRed(a.mont(p.prime2)),w=p.coefficient,v=p.prime1,k=p.prime2,R=x.redPow(p.exponent1).fromRed(),L=g.redPow(p.exponent2).fromRed(),G=R.isub(L).imul(w).umod(v).imul(k);return L.iadd(G).imul(h.unblinder).umod(p.modulus).toArrayLike(i,"be",d)}o.getr=c,n.exports=o}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(e,n,s){n.exports=e("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(e,n,s){n.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(e,n,s){n.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(e,n,s){var i=e("safe-buffer").Buffer,a=e("create-hash"),l=e("readable-stream"),c=e("inherits"),o=e("./sign"),u=e("./verify"),p=e("./algorithms.json");function h(g){l.Writable.call(this);var w=p[g];if(!w)throw new Error("Unknown message digest");this._hashType=w.hash,this._hash=a(w.hash),this._tag=w.id,this._signType=w.sign}function d(g){l.Writable.call(this);var w=p[g];if(!w)throw new Error("Unknown message digest");this._hash=a(w.hash),this._tag=w.id,this._signType=w.sign}function b(g){return new h(g)}function x(g){return new d(g)}Object.keys(p).forEach((function(g){p[g].id=i.from(p[g].id,"hex"),p[g.toLowerCase()]=p[g]})),c(h,l.Writable),h.prototype._write=function(g,w,v){this._hash.update(g),v()},h.prototype.update=function(g,w){return typeof g=="string"&&(g=i.from(g,w)),this._hash.update(g),this},h.prototype.sign=function(g,w){this.end();var v=this._hash.digest(),k=o(v,g,this._hashType,this._signType,this._tag);return w?k.toString(w):k},c(d,l.Writable),d.prototype._write=function(g,w,v){this._hash.update(g),v()},d.prototype.update=function(g,w){return typeof g=="string"&&(g=i.from(g,w)),this._hash.update(g),this},d.prototype.verify=function(g,w,v){typeof w=="string"&&(w=i.from(w,v)),this.end();var k=this._hash.digest();return u(w,k,g,this._signType,this._tag)},n.exports={Sign:b,Verify:x,createSign:b,createVerify:x}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(e,n,s){var i=e("safe-buffer").Buffer,a=e("create-hmac"),l=e("browserify-rsa"),c=e("elliptic").ec,o=e("bn.js"),u=e("parse-asn1"),p=e("./curves.json");function h(g,w,v,k){if((g=i.from(g.toArray())).length<w.byteLength()){var R=i.alloc(w.byteLength()-g.length);g=i.concat([R,g])}var L=v.length,G=(function(F,B){F=(F=d(F,B)).mod(B);var W=i.from(F.toArray());if(W.length<B.byteLength()){var P=i.alloc(B.byteLength()-W.length);W=i.concat([P,W])}return W})(v,w),V=i.alloc(L);V.fill(1);var O=i.alloc(L);return O=a(k,O).update(V).update(i.from([0])).update(g).update(G).digest(),V=a(k,O).update(V).digest(),{k:O=a(k,O).update(V).update(i.from([1])).update(g).update(G).digest(),v:V=a(k,O).update(V).digest()}}function d(g,w){var v=new o(g),k=(g.length<<3)-w.bitLength();return k>0&&v.ishrn(k),v}function b(g,w,v){var k,R;do{for(k=i.alloc(0);8*k.length<g.bitLength();)w.v=a(v,w.k).update(w.v).digest(),k=i.concat([k,w.v]);R=d(k,g),w.k=a(v,w.k).update(w.v).update(i.from([0])).digest(),w.v=a(v,w.k).update(w.v).digest()}while(R.cmp(g)!==-1);return R}function x(g,w,v,k){return g.toRed(o.mont(v)).redPow(w).fromRed().mod(k)}n.exports=function(g,w,v,k,R){var L=u(w);if(L.curve){if(k!=="ecdsa"&&k!=="ecdsa/rsa")throw new Error("wrong private key type");return(function(F,B){var W=p[B.curve.join(".")];if(!W)throw new Error("unknown curve "+B.curve.join("."));var P=new c(W).keyFromPrivate(B.privateKey).sign(F);return i.from(P.toDER())})(g,L)}if(L.type==="dsa"){if(k!=="dsa")throw new Error("wrong private key type");return(function(F,B,W){for(var P,N=B.params.priv_key,D=B.params.p,C=B.params.q,S=B.params.g,T=new o(0),A=d(F,C).mod(C),E=!1,j=h(N,C,F,W);E===!1;)P=b(C,j,W),T=x(S,P,D,C),(E=P.invm(C).imul(A.add(N.mul(T))).mod(C)).cmpn(0)===0&&(E=!1,T=new o(0));return(function(U,I){U=U.toArray(),I=I.toArray(),128&U[0]&&(U=[0].concat(U)),128&I[0]&&(I=[0].concat(I));var Q=[48,U.length+I.length+4,2,U.length];return Q=Q.concat(U,[2,I.length],I),i.from(Q)})(T,E)})(g,L,v)}if(k!=="rsa"&&k!=="ecdsa/rsa")throw new Error("wrong private key type");g=i.concat([R,g]);for(var G=L.modulus.byteLength(),V=[0,1];g.length+V.length+1<G;)V.push(255);V.push(0);for(var O=-1;++O<g.length;)V.push(g[O]);return l(V,L)},n.exports.getKey=h,n.exports.makeKey=b},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(e,n,s){var i=e("safe-buffer").Buffer,a=e("bn.js"),l=e("elliptic").ec,c=e("parse-asn1"),o=e("./curves.json");function u(p,h){if(p.cmpn(0)<=0)throw new Error("invalid sig");if(p.cmp(h)>=h)throw new Error("invalid sig")}n.exports=function(p,h,d,b,x){var g=c(d);if(g.type==="ec"){if(b!=="ecdsa"&&b!=="ecdsa/rsa")throw new Error("wrong public key type");return(function(V,O,F){var B=o[F.data.algorithm.curve.join(".")];if(!B)throw new Error("unknown curve "+F.data.algorithm.curve.join("."));var W=new l(B),P=F.data.subjectPrivateKey.data;return W.verify(O,V,P)})(p,h,g)}if(g.type==="dsa"){if(b!=="dsa")throw new Error("wrong public key type");return(function(V,O,F){var B=F.data.p,W=F.data.q,P=F.data.g,N=F.data.pub_key,D=c.signature.decode(V,"der"),C=D.s,S=D.r;u(C,W),u(S,W);var T=a.mont(B),A=C.invm(W);return P.toRed(T).redPow(new a(O).mul(A).mod(W)).fromRed().mul(N.toRed(T).redPow(S.mul(A).mod(W)).fromRed()).mod(B).mod(W).cmp(S)===0})(p,h,g)}if(b!=="rsa"&&b!=="ecdsa/rsa")throw new Error("wrong public key type");h=i.concat([x,h]);for(var w=g.modulus.byteLength(),v=[1],k=0;h.length+v.length+2<w;)v.push(255),k++;v.push(0);for(var R=-1;++R<h.length;)v.push(h[R]);v=i.from(v);var L=a.mont(g.modulus);p=(p=new a(p).toRed(L)).redPow(new a(g.publicExponent)),p=i.from(p.fromRed().toArray());var G=k<8?1:0;for(w=Math.min(p.length,v.length),p.length!==v.length&&(G=1),R=-1;++R<w;)G|=p[R]^v[R];return G===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(e,n,s){},{}],217:[function(e,n,s){var i=e("buffer"),a=i.Buffer;function l(o,u){for(var p in o)u[p]=o[p]}function c(o,u,p){return a(o,u,p)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?n.exports=i:(l(i,s),s.Buffer=c),l(a,c),c.from=function(o,u,p){if(typeof o=="number")throw new TypeError("Argument must not be a number");return a(o,u,p)},c.alloc=function(o,u,p){if(typeof o!="number")throw new TypeError("Argument must be a number");var h=a(o);return u!==void 0?typeof p=="string"?h.fill(u,p):h.fill(u):h.fill(0),h},c.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return a(o)},c.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return i.SlowBuffer(o)}},{buffer:220}],218:[function(e,n,s){var i=e("safe-buffer").Buffer,a=i.isEncoding||function(g){switch((g=""+g)&&g.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function l(g){var w;switch(this.encoding=(function(v){var k=(function(R){if(!R)return"utf8";for(var L;;)switch(R){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return R;default:if(L)return;R=(""+R).toLowerCase(),L=!0}})(v);if(typeof k!="string"&&(i.isEncoding===a||!a(v)))throw new Error("Unknown encoding: "+v);return k||v})(g),this.encoding){case"utf16le":this.text=u,this.end=p,w=4;break;case"utf8":this.fillLast=o,w=4;break;case"base64":this.text=h,this.end=d,w=3;break;default:return this.write=b,void(this.end=x)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(w)}function c(g){return g<=127?0:g>>5==6?2:g>>4==14?3:g>>3==30?4:g>>6==2?-1:-2}function o(g){var w=this.lastTotal-this.lastNeed,v=(function(k,R,L){if((192&R[0])!=128)return k.lastNeed=0,"";if(k.lastNeed>1&&R.length>1){if((192&R[1])!=128)return k.lastNeed=1,"";if(k.lastNeed>2&&R.length>2&&(192&R[2])!=128)return k.lastNeed=2,""}})(this,g);return v!==void 0?v:this.lastNeed<=g.length?(g.copy(this.lastChar,w,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(g.copy(this.lastChar,w,0,g.length),void(this.lastNeed-=g.length))}function u(g,w){if((g.length-w)%2==0){var v=g.toString("utf16le",w);if(v){var k=v.charCodeAt(v.length-1);if(k>=55296&&k<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=g[g.length-2],this.lastChar[1]=g[g.length-1],v.slice(0,-1)}return v}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=g[g.length-1],g.toString("utf16le",w,g.length-1)}function p(g){var w=g&&g.length?this.write(g):"";if(this.lastNeed){var v=this.lastTotal-this.lastNeed;return w+this.lastChar.toString("utf16le",0,v)}return w}function h(g,w){var v=(g.length-w)%3;return v===0?g.toString("base64",w):(this.lastNeed=3-v,this.lastTotal=3,v===1?this.lastChar[0]=g[g.length-1]:(this.lastChar[0]=g[g.length-2],this.lastChar[1]=g[g.length-1]),g.toString("base64",w,g.length-v))}function d(g){var w=g&&g.length?this.write(g):"";return this.lastNeed?w+this.lastChar.toString("base64",0,3-this.lastNeed):w}function b(g){return g.toString(this.encoding)}function x(g){return g&&g.length?this.write(g):""}s.StringDecoder=l,l.prototype.write=function(g){if(g.length===0)return"";var w,v;if(this.lastNeed){if((w=this.fillLast(g))===void 0)return"";v=this.lastNeed,this.lastNeed=0}else v=0;return v<g.length?w?w+this.text(g,v):this.text(g,v):w||""},l.prototype.end=function(g){var w=g&&g.length?this.write(g):"";return this.lastNeed?w+"":w},l.prototype.text=function(g,w){var v=(function(R,L,G){var V=L.length-1;if(V<G)return 0;var O=c(L[V]);return O>=0?(O>0&&(R.lastNeed=O-1),O):--V<G||O===-2?0:(O=c(L[V]))>=0?(O>0&&(R.lastNeed=O-2),O):--V<G||O===-2?0:(O=c(L[V]))>=0?(O>0&&(O===2?O=0:R.lastNeed=O-3),O):0})(this,g,w);if(!this.lastNeed)return g.toString("utf8",w);this.lastTotal=v;var k=g.length-(v-this.lastNeed);return g.copy(this.lastChar,0,k),g.toString("utf8",w,k)},l.prototype.fillLast=function(g){if(this.lastNeed<=g.length)return g.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);g.copy(this.lastChar,this.lastTotal-this.lastNeed,0,g.length),this.lastNeed-=g.length}},{"safe-buffer":217}],219:[function(e,n,s){(function(i){(function(){n.exports=function(a,l){for(var c=Math.min(a.length,l.length),o=new i(c),u=0;u<c;++u)o[u]=a[u]^l[u];return o}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],220:[function(e,n,s){(function(i){(function(){var a=e("base64-js"),l=e("ieee754");s.Buffer=o,s.SlowBuffer=function(H){return+H!=H&&(H=0),o.alloc(+H)},s.INSPECT_MAX_BYTES=50;function c(H){if(H>2147483647)throw new RangeError('The value "'+H+'" is invalid for option "size"');var z=new Uint8Array(H);return z.__proto__=o.prototype,z}function o(H,z,Z){if(typeof H=="number"){if(typeof z=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(H)}return u(H,z,Z)}function u(H,z,Z){if(typeof H=="string")return(function(le,de){if(typeof de=="string"&&de!==""||(de="utf8"),!o.isEncoding(de))throw new TypeError("Unknown encoding: "+de);var ve=0|x(le,de),ge=c(ve),se=ge.write(le,de);return se!==ve&&(ge=ge.slice(0,se)),ge})(H,z);if(ArrayBuffer.isView(H))return d(H);if(H==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H);if(q(H,ArrayBuffer)||H&&q(H.buffer,ArrayBuffer))return(function(le,de,ve){if(de<0||le.byteLength<de)throw new RangeError('"offset" is outside of buffer bounds');if(le.byteLength<de+(ve||0))throw new RangeError('"length" is outside of buffer bounds');var ge;return ge=de===void 0&&ve===void 0?new Uint8Array(le):ve===void 0?new Uint8Array(le,de):new Uint8Array(le,de,ve),ge.__proto__=o.prototype,ge})(H,z,Z);if(typeof H=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var ae=H.valueOf&&H.valueOf();if(ae!=null&&ae!==H)return o.from(ae,z,Z);var re=(function(le){if(o.isBuffer(le)){var de=0|b(le.length),ve=c(de);return ve.length===0||le.copy(ve,0,0,de),ve}if(le.length!==void 0)return typeof le.length!="number"||te(le.length)?c(0):d(le);if(le.type==="Buffer"&&Array.isArray(le.data))return d(le.data)})(H);if(re)return re;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof H[Symbol.toPrimitive]=="function")return o.from(H[Symbol.toPrimitive]("string"),z,Z);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H)}function p(H){if(typeof H!="number")throw new TypeError('"size" argument must be of type number');if(H<0)throw new RangeError('The value "'+H+'" is invalid for option "size"')}function h(H){return p(H),c(H<0?0:0|b(H))}function d(H){for(var z=H.length<0?0:0|b(H.length),Z=c(z),ae=0;ae<z;ae+=1)Z[ae]=255&H[ae];return Z}function b(H){if(H>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|H}function x(H,z){if(o.isBuffer(H))return H.length;if(ArrayBuffer.isView(H)||q(H,ArrayBuffer))return H.byteLength;if(typeof H!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof H);var Z=H.length,ae=arguments.length>2&&arguments[2]===!0;if(!ae&&Z===0)return 0;for(var re=!1;;)switch(z){case"ascii":case"latin1":case"binary":return Z;case"utf8":case"utf-8":return Q(H).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Z;case"hex":return Z>>>1;case"base64":return Y(H).length;default:if(re)return ae?-1:Q(H).length;z=(""+z).toLowerCase(),re=!0}}function g(H,z,Z){var ae=!1;if((z===void 0||z<0)&&(z=0),z>this.length||((Z===void 0||Z>this.length)&&(Z=this.length),Z<=0)||(Z>>>=0)<=(z>>>=0))return"";for(H||(H="utf8");;)switch(H){case"hex":return D(this,z,Z);case"utf8":case"utf-8":return W(this,z,Z);case"ascii":return P(this,z,Z);case"latin1":case"binary":return N(this,z,Z);case"base64":return B(this,z,Z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,z,Z);default:if(ae)throw new TypeError("Unknown encoding: "+H);H=(H+"").toLowerCase(),ae=!0}}function w(H,z,Z){var ae=H[z];H[z]=H[Z],H[Z]=ae}function v(H,z,Z,ae,re){if(H.length===0)return-1;if(typeof Z=="string"?(ae=Z,Z=0):Z>2147483647?Z=2147483647:Z<-2147483648&&(Z=-2147483648),te(Z=+Z)&&(Z=re?0:H.length-1),Z<0&&(Z=H.length+Z),Z>=H.length){if(re)return-1;Z=H.length-1}else if(Z<0){if(!re)return-1;Z=0}if(typeof z=="string"&&(z=o.from(z,ae)),o.isBuffer(z))return z.length===0?-1:k(H,z,Z,ae,re);if(typeof z=="number")return z&=255,typeof Uint8Array.prototype.indexOf=="function"?re?Uint8Array.prototype.indexOf.call(H,z,Z):Uint8Array.prototype.lastIndexOf.call(H,z,Z):k(H,[z],Z,ae,re);throw new TypeError("val must be string, number or Buffer")}function k(H,z,Z,ae,re){var le,de=1,ve=H.length,ge=z.length;if(ae!==void 0&&((ae=String(ae).toLowerCase())==="ucs2"||ae==="ucs-2"||ae==="utf16le"||ae==="utf-16le")){if(H.length<2||z.length<2)return-1;de=2,ve/=2,ge/=2,Z/=2}function se(ke,Re){return de===1?ke[Re]:ke.readUInt16BE(Re*de)}if(re){var xe=-1;for(le=Z;le<ve;le++)if(se(H,le)===se(z,xe===-1?0:le-xe)){if(xe===-1&&(xe=le),le-xe+1===ge)return xe*de}else xe!==-1&&(le-=le-xe),xe=-1}else for(Z+ge>ve&&(Z=ve-ge),le=Z;le>=0;le--){for(var pe=!0,Te=0;Te<ge;Te++)if(se(H,le+Te)!==se(z,Te)){pe=!1;break}if(pe)return le}return-1}function R(H,z,Z,ae){Z=Number(Z)||0;var re=H.length-Z;ae?(ae=Number(ae))>re&&(ae=re):ae=re;var le=z.length;ae>le/2&&(ae=le/2);for(var de=0;de<ae;++de){var ve=parseInt(z.substr(2*de,2),16);if(te(ve))return de;H[Z+de]=ve}return de}function L(H,z,Z,ae){return ee(Q(z,H.length-Z),H,Z,ae)}function G(H,z,Z,ae){return ee((function(re){for(var le=[],de=0;de<re.length;++de)le.push(255&re.charCodeAt(de));return le})(z),H,Z,ae)}function V(H,z,Z,ae){return G(H,z,Z,ae)}function O(H,z,Z,ae){return ee(Y(z),H,Z,ae)}function F(H,z,Z,ae){return ee((function(re,le){for(var de,ve,ge,se=[],xe=0;xe<re.length&&!((le-=2)<0);++xe)de=re.charCodeAt(xe),ve=de>>8,ge=de%256,se.push(ge),se.push(ve);return se})(z,H.length-Z),H,Z,ae)}function B(H,z,Z){return z===0&&Z===H.length?a.fromByteArray(H):a.fromByteArray(H.slice(z,Z))}function W(H,z,Z){Z=Math.min(H.length,Z);for(var ae=[],re=z;re<Z;){var le,de,ve,ge,se=H[re],xe=null,pe=se>239?4:se>223?3:se>191?2:1;if(re+pe<=Z)switch(pe){case 1:se<128&&(xe=se);break;case 2:(192&(le=H[re+1]))==128&&(ge=(31&se)<<6|63&le)>127&&(xe=ge);break;case 3:le=H[re+1],de=H[re+2],(192&le)==128&&(192&de)==128&&(ge=(15&se)<<12|(63&le)<<6|63&de)>2047&&(ge<55296||ge>57343)&&(xe=ge);break;case 4:le=H[re+1],de=H[re+2],ve=H[re+3],(192&le)==128&&(192&de)==128&&(192&ve)==128&&(ge=(15&se)<<18|(63&le)<<12|(63&de)<<6|63&ve)>65535&&ge<1114112&&(xe=ge)}xe===null?(xe=65533,pe=1):xe>65535&&(xe-=65536,ae.push(xe>>>10&1023|55296),xe=56320|1023&xe),ae.push(xe),re+=pe}return(function(Te){var ke=Te.length;if(ke<=4096)return String.fromCharCode.apply(String,Te);for(var Re="",$e=0;$e<ke;)Re+=String.fromCharCode.apply(String,Te.slice($e,$e+=4096));return Re})(ae)}s.kMaxLength=2147483647,o.TYPED_ARRAY_SUPPORT=(function(){try{var H=new Uint8Array(1);return H.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},H.foo()===42}catch{return!1}})(),o.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),o.poolSize=8192,o.from=function(H,z,Z){return u(H,z,Z)},o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,o.alloc=function(H,z,Z){return(function(ae,re,le){return p(ae),ae<=0?c(ae):re!==void 0?typeof le=="string"?c(ae).fill(re,le):c(ae).fill(re):c(ae)})(H,z,Z)},o.allocUnsafe=function(H){return h(H)},o.allocUnsafeSlow=function(H){return h(H)},o.isBuffer=function(H){return H!=null&&H._isBuffer===!0&&H!==o.prototype},o.compare=function(H,z){if(q(H,Uint8Array)&&(H=o.from(H,H.offset,H.byteLength)),q(z,Uint8Array)&&(z=o.from(z,z.offset,z.byteLength)),!o.isBuffer(H)||!o.isBuffer(z))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(H===z)return 0;for(var Z=H.length,ae=z.length,re=0,le=Math.min(Z,ae);re<le;++re)if(H[re]!==z[re]){Z=H[re],ae=z[re];break}return Z<ae?-1:ae<Z?1:0},o.isEncoding=function(H){switch(String(H).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(H,z){if(!Array.isArray(H))throw new TypeError('"list" argument must be an Array of Buffers');if(H.length===0)return o.alloc(0);var Z;if(z===void 0)for(z=0,Z=0;Z<H.length;++Z)z+=H[Z].length;var ae=o.allocUnsafe(z),re=0;for(Z=0;Z<H.length;++Z){var le=H[Z];if(q(le,Uint8Array)&&(le=o.from(le)),!o.isBuffer(le))throw new TypeError('"list" argument must be an Array of Buffers');le.copy(ae,re),re+=le.length}return ae},o.byteLength=x,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var H=this.length;if(H%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var z=0;z<H;z+=2)w(this,z,z+1);return this},o.prototype.swap32=function(){var H=this.length;if(H%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var z=0;z<H;z+=4)w(this,z,z+3),w(this,z+1,z+2);return this},o.prototype.swap64=function(){var H=this.length;if(H%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var z=0;z<H;z+=8)w(this,z,z+7),w(this,z+1,z+6),w(this,z+2,z+5),w(this,z+3,z+4);return this},o.prototype.toString=function(){var H=this.length;return H===0?"":arguments.length===0?W(this,0,H):g.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(H){if(!o.isBuffer(H))throw new TypeError("Argument must be a Buffer");return this===H||o.compare(this,H)===0},o.prototype.inspect=function(){var H="",z=s.INSPECT_MAX_BYTES;return H=this.toString("hex",0,z).replace(/(.{2})/g,"$1 ").trim(),this.length>z&&(H+=" ... "),"<Buffer "+H+">"},o.prototype.compare=function(H,z,Z,ae,re){if(q(H,Uint8Array)&&(H=o.from(H,H.offset,H.byteLength)),!o.isBuffer(H))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof H);if(z===void 0&&(z=0),Z===void 0&&(Z=H?H.length:0),ae===void 0&&(ae=0),re===void 0&&(re=this.length),z<0||Z>H.length||ae<0||re>this.length)throw new RangeError("out of range index");if(ae>=re&&z>=Z)return 0;if(ae>=re)return-1;if(z>=Z)return 1;if(this===H)return 0;for(var le=(re>>>=0)-(ae>>>=0),de=(Z>>>=0)-(z>>>=0),ve=Math.min(le,de),ge=this.slice(ae,re),se=H.slice(z,Z),xe=0;xe<ve;++xe)if(ge[xe]!==se[xe]){le=ge[xe],de=se[xe];break}return le<de?-1:de<le?1:0},o.prototype.includes=function(H,z,Z){return this.indexOf(H,z,Z)!==-1},o.prototype.indexOf=function(H,z,Z){return v(this,H,z,Z,!0)},o.prototype.lastIndexOf=function(H,z,Z){return v(this,H,z,Z,!1)},o.prototype.write=function(H,z,Z,ae){if(z===void 0)ae="utf8",Z=this.length,z=0;else if(Z===void 0&&typeof z=="string")ae=z,Z=this.length,z=0;else{if(!isFinite(z))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");z>>>=0,isFinite(Z)?(Z>>>=0,ae===void 0&&(ae="utf8")):(ae=Z,Z=void 0)}var re=this.length-z;if((Z===void 0||Z>re)&&(Z=re),H.length>0&&(Z<0||z<0)||z>this.length)throw new RangeError("Attempt to write outside buffer bounds");ae||(ae="utf8");for(var le=!1;;)switch(ae){case"hex":return R(this,H,z,Z);case"utf8":case"utf-8":return L(this,H,z,Z);case"ascii":return G(this,H,z,Z);case"latin1":case"binary":return V(this,H,z,Z);case"base64":return O(this,H,z,Z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,H,z,Z);default:if(le)throw new TypeError("Unknown encoding: "+ae);ae=(""+ae).toLowerCase(),le=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function P(H,z,Z){var ae="";Z=Math.min(H.length,Z);for(var re=z;re<Z;++re)ae+=String.fromCharCode(127&H[re]);return ae}function N(H,z,Z){var ae="";Z=Math.min(H.length,Z);for(var re=z;re<Z;++re)ae+=String.fromCharCode(H[re]);return ae}function D(H,z,Z){var ae=H.length;(!z||z<0)&&(z=0),(!Z||Z<0||Z>ae)&&(Z=ae);for(var re="",le=z;le<Z;++le)re+=I(H[le]);return re}function C(H,z,Z){for(var ae=H.slice(z,Z),re="",le=0;le<ae.length;le+=2)re+=String.fromCharCode(ae[le]+256*ae[le+1]);return re}function S(H,z,Z){if(H%1!=0||H<0)throw new RangeError("offset is not uint");if(H+z>Z)throw new RangeError("Trying to access beyond buffer length")}function T(H,z,Z,ae,re,le){if(!o.isBuffer(H))throw new TypeError('"buffer" argument must be a Buffer instance');if(z>re||z<le)throw new RangeError('"value" argument is out of bounds');if(Z+ae>H.length)throw new RangeError("Index out of range")}function A(H,z,Z,ae,re,le){if(Z+ae>H.length)throw new RangeError("Index out of range");if(Z<0)throw new RangeError("Index out of range")}function E(H,z,Z,ae,re){return z=+z,Z>>>=0,re||A(H,0,Z,4),l.write(H,z,Z,ae,23,4),Z+4}function j(H,z,Z,ae,re){return z=+z,Z>>>=0,re||A(H,0,Z,8),l.write(H,z,Z,ae,52,8),Z+8}o.prototype.slice=function(H,z){var Z=this.length;(H=~~H)<0?(H+=Z)<0&&(H=0):H>Z&&(H=Z),(z=z===void 0?Z:~~z)<0?(z+=Z)<0&&(z=0):z>Z&&(z=Z),z<H&&(z=H);var ae=this.subarray(H,z);return ae.__proto__=o.prototype,ae},o.prototype.readUIntLE=function(H,z,Z){H>>>=0,z>>>=0,Z||S(H,z,this.length);for(var ae=this[H],re=1,le=0;++le<z&&(re*=256);)ae+=this[H+le]*re;return ae},o.prototype.readUIntBE=function(H,z,Z){H>>>=0,z>>>=0,Z||S(H,z,this.length);for(var ae=this[H+--z],re=1;z>0&&(re*=256);)ae+=this[H+--z]*re;return ae},o.prototype.readUInt8=function(H,z){return H>>>=0,z||S(H,1,this.length),this[H]},o.prototype.readUInt16LE=function(H,z){return H>>>=0,z||S(H,2,this.length),this[H]|this[H+1]<<8},o.prototype.readUInt16BE=function(H,z){return H>>>=0,z||S(H,2,this.length),this[H]<<8|this[H+1]},o.prototype.readUInt32LE=function(H,z){return H>>>=0,z||S(H,4,this.length),(this[H]|this[H+1]<<8|this[H+2]<<16)+16777216*this[H+3]},o.prototype.readUInt32BE=function(H,z){return H>>>=0,z||S(H,4,this.length),16777216*this[H]+(this[H+1]<<16|this[H+2]<<8|this[H+3])},o.prototype.readIntLE=function(H,z,Z){H>>>=0,z>>>=0,Z||S(H,z,this.length);for(var ae=this[H],re=1,le=0;++le<z&&(re*=256);)ae+=this[H+le]*re;return ae>=(re*=128)&&(ae-=Math.pow(2,8*z)),ae},o.prototype.readIntBE=function(H,z,Z){H>>>=0,z>>>=0,Z||S(H,z,this.length);for(var ae=z,re=1,le=this[H+--ae];ae>0&&(re*=256);)le+=this[H+--ae]*re;return le>=(re*=128)&&(le-=Math.pow(2,8*z)),le},o.prototype.readInt8=function(H,z){return H>>>=0,z||S(H,1,this.length),128&this[H]?-1*(255-this[H]+1):this[H]},o.prototype.readInt16LE=function(H,z){H>>>=0,z||S(H,2,this.length);var Z=this[H]|this[H+1]<<8;return 32768&Z?4294901760|Z:Z},o.prototype.readInt16BE=function(H,z){H>>>=0,z||S(H,2,this.length);var Z=this[H+1]|this[H]<<8;return 32768&Z?4294901760|Z:Z},o.prototype.readInt32LE=function(H,z){return H>>>=0,z||S(H,4,this.length),this[H]|this[H+1]<<8|this[H+2]<<16|this[H+3]<<24},o.prototype.readInt32BE=function(H,z){return H>>>=0,z||S(H,4,this.length),this[H]<<24|this[H+1]<<16|this[H+2]<<8|this[H+3]},o.prototype.readFloatLE=function(H,z){return H>>>=0,z||S(H,4,this.length),l.read(this,H,!0,23,4)},o.prototype.readFloatBE=function(H,z){return H>>>=0,z||S(H,4,this.length),l.read(this,H,!1,23,4)},o.prototype.readDoubleLE=function(H,z){return H>>>=0,z||S(H,8,this.length),l.read(this,H,!0,52,8)},o.prototype.readDoubleBE=function(H,z){return H>>>=0,z||S(H,8,this.length),l.read(this,H,!1,52,8)},o.prototype.writeUIntLE=function(H,z,Z,ae){H=+H,z>>>=0,Z>>>=0,ae||T(this,H,z,Z,Math.pow(2,8*Z)-1,0);var re=1,le=0;for(this[z]=255&H;++le<Z&&(re*=256);)this[z+le]=H/re&255;return z+Z},o.prototype.writeUIntBE=function(H,z,Z,ae){H=+H,z>>>=0,Z>>>=0,ae||T(this,H,z,Z,Math.pow(2,8*Z)-1,0);var re=Z-1,le=1;for(this[z+re]=255&H;--re>=0&&(le*=256);)this[z+re]=H/le&255;return z+Z},o.prototype.writeUInt8=function(H,z,Z){return H=+H,z>>>=0,Z||T(this,H,z,1,255,0),this[z]=255&H,z+1},o.prototype.writeUInt16LE=function(H,z,Z){return H=+H,z>>>=0,Z||T(this,H,z,2,65535,0),this[z]=255&H,this[z+1]=H>>>8,z+2},o.prototype.writeUInt16BE=function(H,z,Z){return H=+H,z>>>=0,Z||T(this,H,z,2,65535,0),this[z]=H>>>8,this[z+1]=255&H,z+2},o.prototype.writeUInt32LE=function(H,z,Z){return H=+H,z>>>=0,Z||T(this,H,z,4,4294967295,0),this[z+3]=H>>>24,this[z+2]=H>>>16,this[z+1]=H>>>8,this[z]=255&H,z+4},o.prototype.writeUInt32BE=function(H,z,Z){return H=+H,z>>>=0,Z||T(this,H,z,4,4294967295,0),this[z]=H>>>24,this[z+1]=H>>>16,this[z+2]=H>>>8,this[z+3]=255&H,z+4},o.prototype.writeIntLE=function(H,z,Z,ae){if(H=+H,z>>>=0,!ae){var re=Math.pow(2,8*Z-1);T(this,H,z,Z,re-1,-re)}var le=0,de=1,ve=0;for(this[z]=255&H;++le<Z&&(de*=256);)H<0&&ve===0&&this[z+le-1]!==0&&(ve=1),this[z+le]=(H/de>>0)-ve&255;return z+Z},o.prototype.writeIntBE=function(H,z,Z,ae){if(H=+H,z>>>=0,!ae){var re=Math.pow(2,8*Z-1);T(this,H,z,Z,re-1,-re)}var le=Z-1,de=1,ve=0;for(this[z+le]=255&H;--le>=0&&(de*=256);)H<0&&ve===0&&this[z+le+1]!==0&&(ve=1),this[z+le]=(H/de>>0)-ve&255;return z+Z},o.prototype.writeInt8=function(H,z,Z){return H=+H,z>>>=0,Z||T(this,H,z,1,127,-128),H<0&&(H=255+H+1),this[z]=255&H,z+1},o.prototype.writeInt16LE=function(H,z,Z){return H=+H,z>>>=0,Z||T(this,H,z,2,32767,-32768),this[z]=255&H,this[z+1]=H>>>8,z+2},o.prototype.writeInt16BE=function(H,z,Z){return H=+H,z>>>=0,Z||T(this,H,z,2,32767,-32768),this[z]=H>>>8,this[z+1]=255&H,z+2},o.prototype.writeInt32LE=function(H,z,Z){return H=+H,z>>>=0,Z||T(this,H,z,4,2147483647,-2147483648),this[z]=255&H,this[z+1]=H>>>8,this[z+2]=H>>>16,this[z+3]=H>>>24,z+4},o.prototype.writeInt32BE=function(H,z,Z){return H=+H,z>>>=0,Z||T(this,H,z,4,2147483647,-2147483648),H<0&&(H=4294967295+H+1),this[z]=H>>>24,this[z+1]=H>>>16,this[z+2]=H>>>8,this[z+3]=255&H,z+4},o.prototype.writeFloatLE=function(H,z,Z){return E(this,H,z,!0,Z)},o.prototype.writeFloatBE=function(H,z,Z){return E(this,H,z,!1,Z)},o.prototype.writeDoubleLE=function(H,z,Z){return j(this,H,z,!0,Z)},o.prototype.writeDoubleBE=function(H,z,Z){return j(this,H,z,!1,Z)},o.prototype.copy=function(H,z,Z,ae){if(!o.isBuffer(H))throw new TypeError("argument should be a Buffer");if(Z||(Z=0),ae||ae===0||(ae=this.length),z>=H.length&&(z=H.length),z||(z=0),ae>0&&ae<Z&&(ae=Z),ae===Z||H.length===0||this.length===0)return 0;if(z<0)throw new RangeError("targetStart out of bounds");if(Z<0||Z>=this.length)throw new RangeError("Index out of range");if(ae<0)throw new RangeError("sourceEnd out of bounds");ae>this.length&&(ae=this.length),H.length-z<ae-Z&&(ae=H.length-z+Z);var re=ae-Z;if(this===H&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(z,Z,ae);else if(this===H&&Z<z&&z<ae)for(var le=re-1;le>=0;--le)H[le+z]=this[le+Z];else Uint8Array.prototype.set.call(H,this.subarray(Z,ae),z);return re},o.prototype.fill=function(H,z,Z,ae){if(typeof H=="string"){if(typeof z=="string"?(ae=z,z=0,Z=this.length):typeof Z=="string"&&(ae=Z,Z=this.length),ae!==void 0&&typeof ae!="string")throw new TypeError("encoding must be a string");if(typeof ae=="string"&&!o.isEncoding(ae))throw new TypeError("Unknown encoding: "+ae);if(H.length===1){var re=H.charCodeAt(0);(ae==="utf8"&&re<128||ae==="latin1")&&(H=re)}}else typeof H=="number"&&(H&=255);if(z<0||this.length<z||this.length<Z)throw new RangeError("Out of range index");if(Z<=z)return this;var le;if(z>>>=0,Z=Z===void 0?this.length:Z>>>0,H||(H=0),typeof H=="number")for(le=z;le<Z;++le)this[le]=H;else{var de=o.isBuffer(H)?H:o.from(H,ae),ve=de.length;if(ve===0)throw new TypeError('The value "'+H+'" is invalid for argument "value"');for(le=0;le<Z-z;++le)this[le+z]=de[le%ve]}return this};var U=/[^+/0-9A-Za-z-_]/g;function I(H){return H<16?"0"+H.toString(16):H.toString(16)}function Q(H,z){var Z;z=z||1/0;for(var ae=H.length,re=null,le=[],de=0;de<ae;++de){if((Z=H.charCodeAt(de))>55295&&Z<57344){if(!re){if(Z>56319){(z-=3)>-1&&le.push(239,191,189);continue}if(de+1===ae){(z-=3)>-1&&le.push(239,191,189);continue}re=Z;continue}if(Z<56320){(z-=3)>-1&&le.push(239,191,189),re=Z;continue}Z=65536+(re-55296<<10|Z-56320)}else re&&(z-=3)>-1&&le.push(239,191,189);if(re=null,Z<128){if((z-=1)<0)break;le.push(Z)}else if(Z<2048){if((z-=2)<0)break;le.push(Z>>6|192,63&Z|128)}else if(Z<65536){if((z-=3)<0)break;le.push(Z>>12|224,Z>>6&63|128,63&Z|128)}else{if(!(Z<1114112))throw new Error("Invalid code point");if((z-=4)<0)break;le.push(Z>>18|240,Z>>12&63|128,Z>>6&63|128,63&Z|128)}}return le}function Y(H){return a.toByteArray((function(z){if((z=(z=z.split("=")[0]).trim().replace(U,"")).length<2)return"";for(;z.length%4!=0;)z+="=";return z})(H))}function ee(H,z,Z,ae){for(var re=0;re<ae&&!(re+Z>=z.length||re>=H.length);++re)z[re+Z]=H[re];return re}function q(H,z){return H instanceof z||H!=null&&H.constructor!=null&&H.constructor.name!=null&&H.constructor.name===z.name}function te(H){return H!=H}}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(e,n,s){var i=e("safe-buffer").Buffer,a=e("stream").Transform,l=e("string_decoder").StringDecoder;function c(o){a.call(this),this.hashMode=typeof o=="string",this.hashMode?this[o]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}e("inherits")(c,a),c.prototype.update=function(o,u,p){typeof o=="string"&&(o=i.from(o,u));var h=this._update(o);return this.hashMode?this:(p&&(h=this._toString(h,p)),h)},c.prototype.setAutoPadding=function(){},c.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},c.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},c.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},c.prototype._transform=function(o,u,p){var h;try{this.hashMode?this._update(o):this.push(this._update(o))}catch(d){h=d}finally{p(h)}},c.prototype._flush=function(o){var u;try{this.push(this.__final())}catch(p){u=p}o(u)},c.prototype._finalOrDigest=function(o){var u=this.__final()||i.alloc(0);return o&&(u=this._toString(u,o,!0)),u},c.prototype._toString=function(o,u,p){if(this._decoder||(this._decoder=new l(u),this._encoding=u),this._encoding!==u)throw new Error("can't switch encodings");var h=this._decoder.write(o);return p&&(h+=this._decoder.end()),h},n.exports=c},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(e,n,s){var i=e("../internals/is-callable"),a=e("../internals/try-to-string"),l=TypeError;n.exports=function(c){if(i(c))return c;throw new l(a(c)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(e,n,s){var i=e("../internals/is-constructor"),a=e("../internals/try-to-string"),l=TypeError;n.exports=function(c){if(i(c))return c;throw new l(a(c)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(e,n,s){var i=e("../internals/is-callable"),a=String,l=TypeError;n.exports=function(c){if(typeof c=="object"||i(c))return c;throw new l("Can't set "+a(c)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(e,n,s){var i=e("../internals/well-known-symbol"),a=e("../internals/object-create"),l=e("../internals/object-define-property").f,c=i("unscopables"),o=Array.prototype;o[c]===void 0&&l(o,c,{configurable:!0,value:a(null)}),n.exports=function(u){o[c][u]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(e,n,s){var i=e("../internals/object-is-prototype-of"),a=TypeError;n.exports=function(l,c){if(i(c,l))return l;throw new a("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(e,n,s){var i=e("../internals/is-object"),a=String,l=TypeError;n.exports=function(c){if(i(c))return c;throw new l(a(c)+" is not an object")}},{"../internals/is-object":289}],228:[function(e,n,s){var i=e("../internals/to-indexed-object"),a=e("../internals/to-absolute-index"),l=e("../internals/length-of-array-like"),c=function(o){return function(u,p,h){var d,b=i(u),x=l(b),g=a(h,x);if(o&&p!=p){for(;x>g;)if((d=b[g++])!=d)return!0}else for(;x>g;g++)if((o||g in b)&&b[g]===p)return o||g||0;return!o&&-1}};n.exports={includes:c(!0),indexOf:c(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(e,n,s){var i=e("../internals/function-bind-context"),a=e("../internals/function-uncurry-this"),l=e("../internals/indexed-object"),c=e("../internals/to-object"),o=e("../internals/length-of-array-like"),u=e("../internals/array-species-create"),p=a([].push),h=function(d){var b=d===1,x=d===2,g=d===3,w=d===4,v=d===6,k=d===7,R=d===5||v;return function(L,G,V,O){for(var F,B,W=c(L),P=l(W),N=i(G,V),D=o(P),C=0,S=O||u,T=b?S(L,D):x||k?S(L,0):void 0;D>C;C++)if((R||C in P)&&(B=N(F=P[C],C,W),d))if(b)T[C]=B;else if(B)switch(d){case 3:return!0;case 5:return F;case 6:return C;case 2:p(T,F)}else switch(d){case 4:return!1;case 7:p(T,F)}return v?-1:g||w?w:T}};n.exports={forEach:h(0),map:h(1),filter:h(2),some:h(3),every:h(4),find:h(5),findIndex:h(6),filterReject:h(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(e,n,s){var i=e("../internals/to-absolute-index"),a=e("../internals/length-of-array-like"),l=e("../internals/create-property"),c=Array,o=Math.max;n.exports=function(u,p,h){for(var d=a(u),b=i(p,d),x=i(h===void 0?d:h,d),g=c(o(x-b,0)),w=0;b<x;b++,w++)l(g,w,u[b]);return g.length=w,g}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(e,n,s){var i=e("../internals/function-uncurry-this");n.exports=i([].slice)},{"../internals/function-uncurry-this":268}],232:[function(e,n,s){var i=e("../internals/is-array"),a=e("../internals/is-constructor"),l=e("../internals/is-object"),c=e("../internals/well-known-symbol")("species"),o=Array;n.exports=function(u){var p;return i(u)&&(p=u.constructor,(a(p)&&(p===o||i(p.prototype))||l(p)&&(p=p[c])===null)&&(p=void 0)),p===void 0?o:p}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(e,n,s){var i=e("../internals/array-species-constructor");n.exports=function(a,l){return new(i(a))(l===0?0:l)}},{"../internals/array-species-constructor":232}],234:[function(e,n,s){var i=e("../internals/well-known-symbol")("iterator"),a=!1;try{var l=0,c={next:function(){return{done:!!l++}},return:function(){a=!0}};c[i]=function(){return this},Array.from(c,(function(){throw 2}))}catch{}n.exports=function(o,u){try{if(!u&&!a)return!1}catch{return!1}var p=!1;try{var h={};h[i]=function(){return{next:function(){return{done:p=!0}}}},o(h)}catch{}return p}},{"../internals/well-known-symbol":357}],235:[function(e,n,s){var i=e("../internals/function-uncurry-this"),a=i({}.toString),l=i("".slice);n.exports=function(c){return l(a(c),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(e,n,s){var i=e("../internals/to-string-tag-support"),a=e("../internals/is-callable"),l=e("../internals/classof-raw"),c=e("../internals/well-known-symbol")("toStringTag"),o=Object,u=l((function(){return arguments})())==="Arguments";n.exports=i?l:function(p){var h,d,b;return p===void 0?"Undefined":p===null?"Null":typeof(d=(function(x,g){try{return x[g]}catch{}})(h=o(p),c))=="string"?d:u?l(h):(b=l(h))==="Object"&&a(h.callee)?"Arguments":b}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(e,n,s){var i=e("../internals/has-own-property"),a=e("../internals/own-keys"),l=e("../internals/object-get-own-property-descriptor"),c=e("../internals/object-define-property");n.exports=function(o,u,p){for(var h=a(u),d=c.f,b=l.f,x=0;x<h.length;x++){var g=h[x];i(o,g)||p&&i(p,g)||d(o,g,b(u,g))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(e,n,s){var i=e("../internals/well-known-symbol")("match");n.exports=function(a){var l=/./;try{"/./"[a](l)}catch{try{return l[i]=!1,"/./"[a](l)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(e,n,s){var i=e("../internals/fails");n.exports=!i((function(){function a(){}return a.prototype.constructor=null,Object.getPrototypeOf(new a)!==a.prototype}))},{"../internals/fails":260}],240:[function(e,n,s){n.exports=function(i,a){return{value:i,done:a}}},{}],241:[function(e,n,s){var i=e("../internals/descriptors"),a=e("../internals/object-define-property"),l=e("../internals/create-property-descriptor");n.exports=i?function(c,o,u){return a.f(c,o,l(1,u))}:function(c,o,u){return c[o]=u,c}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(e,n,s){n.exports=function(i,a){return{enumerable:!(1&i),configurable:!(2&i),writable:!(4&i),value:a}}},{}],243:[function(e,n,s){var i=e("../internals/to-property-key"),a=e("../internals/object-define-property"),l=e("../internals/create-property-descriptor");n.exports=function(c,o,u){var p=i(o);p in c?a.f(c,p,l(0,u)):c[p]=u}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(e,n,s){var i=e("../internals/make-built-in"),a=e("../internals/object-define-property");n.exports=function(l,c,o){return o.get&&i(o.get,c,{getter:!0}),o.set&&i(o.set,c,{setter:!0}),a.f(l,c,o)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(e,n,s){var i=e("../internals/is-callable"),a=e("../internals/object-define-property"),l=e("../internals/make-built-in"),c=e("../internals/define-global-property");n.exports=function(o,u,p,h){h||(h={});var d=h.enumerable,b=h.name!==void 0?h.name:u;if(i(p)&&l(p,b,h),h.global)d?o[u]=p:c(u,p);else{try{h.unsafe?o[u]&&(d=!0):delete o[u]}catch{}d?o[u]=p:a.f(o,u,{value:p,enumerable:!1,configurable:!h.nonConfigurable,writable:!h.nonWritable})}return o}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(e,n,s){var i=e("../internals/global"),a=Object.defineProperty;n.exports=function(l,c){try{a(i,l,{value:c,configurable:!0,writable:!0})}catch{i[l]=c}return c}},{"../internals/global":274}],247:[function(e,n,s){var i=e("../internals/fails");n.exports=!i((function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}))},{"../internals/fails":260}],248:[function(e,n,s){var i=typeof document=="object"&&document.all,a=i===void 0&&i!==void 0;n.exports={all:i,IS_HTMLDDA:a}},{}],249:[function(e,n,s){var i=e("../internals/global"),a=e("../internals/is-object"),l=i.document,c=a(l)&&a(l.createElement);n.exports=function(o){return c?l.createElement(o):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(e,n,s){var i=e("../internals/engine-is-deno"),a=e("../internals/engine-is-node");n.exports=!i&&!a&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(e,n,s){n.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(e,n,s){var i=e("../internals/engine-user-agent");n.exports=/ipad|iphone|ipod/i.test(i)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(e,n,s){var i=e("../internals/engine-user-agent");n.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(i)},{"../internals/engine-user-agent":256}],254:[function(e,n,s){var i=e("../internals/global"),a=e("../internals/classof-raw");n.exports=a(i.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(e,n,s){var i=e("../internals/engine-user-agent");n.exports=/web0s(?!.*chrome)/i.test(i)},{"../internals/engine-user-agent":256}],256:[function(e,n,s){n.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(e,n,s){var i,a,l=e("../internals/global"),c=e("../internals/engine-user-agent"),o=l.process,u=l.Deno,p=o&&o.versions||u&&u.version,h=p&&p.v8;h&&(a=(i=h.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!a&&c&&(!(i=c.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=c.match(/Chrome\/(\d+)/))&&(a=+i[1]),n.exports=a},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(e,n,s){n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(e,n,s){var i=e("../internals/global"),a=e("../internals/object-get-own-property-descriptor").f,l=e("../internals/create-non-enumerable-property"),c=e("../internals/define-built-in"),o=e("../internals/define-global-property"),u=e("../internals/copy-constructor-properties"),p=e("../internals/is-forced");n.exports=function(h,d){var b,x,g,w,v,k=h.target,R=h.global,L=h.stat;if(b=R?i:L?i[k]||o(k,{}):(i[k]||{}).prototype)for(x in d){if(w=d[x],g=h.dontCallGetSet?(v=a(b,x))&&v.value:b[x],!p(R?x:k+(L?".":"#")+x,h.forced)&&g!==void 0){if(typeof w==typeof g)continue;u(w,g)}(h.sham||g&&g.sham)&&l(w,"sham",!0),c(b,x,w,h)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(e,n,s){n.exports=function(i){try{return!!i()}catch{return!0}}},{}],261:[function(e,n,s){var i=e("../internals/function-bind-native"),a=Function.prototype,l=a.apply,c=a.call;n.exports=typeof Reflect=="object"&&Reflect.apply||(i?c.bind(l):function(){return c.apply(l,arguments)})},{"../internals/function-bind-native":263}],262:[function(e,n,s){var i=e("../internals/function-uncurry-this-clause"),a=e("../internals/a-callable"),l=e("../internals/function-bind-native"),c=i(i.bind);n.exports=function(o,u){return a(o),u===void 0?o:l?c(o,u):function(){return o.apply(u,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(e,n,s){var i=e("../internals/fails");n.exports=!i((function(){var a=(function(){}).bind();return typeof a!="function"||a.hasOwnProperty("prototype")}))},{"../internals/fails":260}],264:[function(e,n,s){var i=e("../internals/function-bind-native"),a=Function.prototype.call;n.exports=i?a.bind(a):function(){return a.apply(a,arguments)}},{"../internals/function-bind-native":263}],265:[function(e,n,s){var i=e("../internals/descriptors"),a=e("../internals/has-own-property"),l=Function.prototype,c=i&&Object.getOwnPropertyDescriptor,o=a(l,"name"),u=o&&(function(){}).name==="something",p=o&&(!i||i&&c(l,"name").configurable);n.exports={EXISTS:o,PROPER:u,CONFIGURABLE:p}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(e,n,s){var i=e("../internals/function-uncurry-this"),a=e("../internals/a-callable");n.exports=function(l,c,o){try{return i(a(Object.getOwnPropertyDescriptor(l,c)[o]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(e,n,s){var i=e("../internals/classof-raw"),a=e("../internals/function-uncurry-this");n.exports=function(l){if(i(l)==="Function")return a(l)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(e,n,s){var i=e("../internals/function-bind-native"),a=Function.prototype,l=a.call,c=i&&a.bind.bind(l,l);n.exports=i?c:function(o){return function(){return l.apply(o,arguments)}}},{"../internals/function-bind-native":263}],269:[function(e,n,s){var i=e("../internals/global"),a=e("../internals/is-callable"),l=function(c){return a(c)?c:void 0};n.exports=function(c,o){return arguments.length<2?l(i[c]):i[c]&&i[c][o]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(e,n,s){var i=e("../internals/classof"),a=e("../internals/get-method"),l=e("../internals/is-null-or-undefined"),c=e("../internals/iterators"),o=e("../internals/well-known-symbol")("iterator");n.exports=function(u){if(!l(u))return a(u,o)||a(u,"@@iterator")||c[i(u)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(e,n,s){var i=e("../internals/function-call"),a=e("../internals/a-callable"),l=e("../internals/an-object"),c=e("../internals/try-to-string"),o=e("../internals/get-iterator-method"),u=TypeError;n.exports=function(p,h){var d=arguments.length<2?o(p):h;if(a(d))return l(i(d,p));throw new u(c(p)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(e,n,s){var i=e("../internals/function-uncurry-this"),a=e("../internals/is-array"),l=e("../internals/is-callable"),c=e("../internals/classof-raw"),o=e("../internals/to-string"),u=i([].push);n.exports=function(p){if(l(p))return p;if(a(p)){for(var h=p.length,d=[],b=0;b<h;b++){var x=p[b];typeof x=="string"?u(d,x):typeof x!="number"&&c(x)!=="Number"&&c(x)!=="String"||u(d,o(x))}var g=d.length,w=!0;return function(v,k){if(w)return w=!1,k;if(a(this))return k;for(var R=0;R<g;R++)if(d[R]===v)return k}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(e,n,s){var i=e("../internals/a-callable"),a=e("../internals/is-null-or-undefined");n.exports=function(l,c){var o=l[c];return a(o)?void 0:i(o)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(e,n,s){(function(i){(function(){var a=function(l){return l&&l.Math===Math&&l};n.exports=a(typeof globalThis=="object"&&globalThis)||a(typeof window=="object"&&window)||a(typeof self=="object"&&self)||a(typeof i=="object"&&i)||(function(){return this})()||this||Function("return this")()}).call(this)}).call(this,typeof mr<"u"?mr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(e,n,s){var i=e("../internals/function-uncurry-this"),a=e("../internals/to-object"),l=i({}.hasOwnProperty);n.exports=Object.hasOwn||function(c,o){return l(a(c),o)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(e,n,s){n.exports={}},{}],277:[function(e,n,s){n.exports=function(i,a){try{arguments.length===1?console.error(i):console.error(i,a)}catch{}}},{}],278:[function(e,n,s){var i=e("../internals/get-built-in");n.exports=i("document","documentElement")},{"../internals/get-built-in":269}],279:[function(e,n,s){var i=e("../internals/descriptors"),a=e("../internals/fails"),l=e("../internals/document-create-element");n.exports=!i&&!a((function(){return Object.defineProperty(l("div"),"a",{get:function(){return 7}}).a!==7}))},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(e,n,s){var i=e("../internals/function-uncurry-this"),a=e("../internals/fails"),l=e("../internals/classof-raw"),c=Object,o=i("".split);n.exports=a((function(){return!c("z").propertyIsEnumerable(0)}))?function(u){return l(u)==="String"?o(u,""):c(u)}:c},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(e,n,s){var i=e("../internals/function-uncurry-this"),a=e("../internals/is-callable"),l=e("../internals/shared-store"),c=i(Function.toString);a(l.inspectSource)||(l.inspectSource=function(o){return c(o)}),n.exports=l.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(e,n,s){var i,a,l,c=e("../internals/weak-map-basic-detection"),o=e("../internals/global"),u=e("../internals/is-object"),p=e("../internals/create-non-enumerable-property"),h=e("../internals/has-own-property"),d=e("../internals/shared-store"),b=e("../internals/shared-key"),x=e("../internals/hidden-keys"),g=o.TypeError,w=o.WeakMap;if(c||d.state){var v=d.state||(d.state=new w);v.get=v.get,v.has=v.has,v.set=v.set,i=function(R,L){if(v.has(R))throw new g("Object already initialized");return L.facade=R,v.set(R,L),L},a=function(R){return v.get(R)||{}},l=function(R){return v.has(R)}}else{var k=b("state");x[k]=!0,i=function(R,L){if(h(R,k))throw new g("Object already initialized");return L.facade=R,p(R,k,L),L},a=function(R){return h(R,k)?R[k]:{}},l=function(R){return h(R,k)}}n.exports={set:i,get:a,has:l,enforce:function(R){return l(R)?a(R):i(R,{})},getterFor:function(R){return function(L){var G;if(!u(L)||(G=a(L)).type!==R)throw new g("Incompatible receiver, "+R+" required");return G}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(e,n,s){var i=e("../internals/well-known-symbol"),a=e("../internals/iterators"),l=i("iterator"),c=Array.prototype;n.exports=function(o){return o!==void 0&&(a.Array===o||c[l]===o)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(e,n,s){var i=e("../internals/classof-raw");n.exports=Array.isArray||function(a){return i(a)==="Array"}},{"../internals/classof-raw":235}],285:[function(e,n,s){var i=e("../internals/document-all"),a=i.all;n.exports=i.IS_HTMLDDA?function(l){return typeof l=="function"||l===a}:function(l){return typeof l=="function"}},{"../internals/document-all":248}],286:[function(e,n,s){var i=e("../internals/function-uncurry-this"),a=e("../internals/fails"),l=e("../internals/is-callable"),c=e("../internals/classof"),o=e("../internals/get-built-in"),u=e("../internals/inspect-source"),p=function(){},h=[],d=o("Reflect","construct"),b=/^\s*(?:class|function)\b/,x=i(b.exec),g=!b.test(p),w=function(k){if(!l(k))return!1;try{return d(p,h,k),!0}catch{return!1}},v=function(k){if(!l(k))return!1;switch(c(k)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return g||!!x(b,u(k))}catch{return!0}};v.sham=!0,n.exports=!d||a((function(){var k;return w(w.call)||!w(Object)||!w((function(){k=!0}))||k}))?v:w},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(e,n,s){var i=e("../internals/fails"),a=e("../internals/is-callable"),l=/#|\.prototype\./,c=function(d,b){var x=u[o(d)];return x===h||x!==p&&(a(b)?i(b):!!b)},o=c.normalize=function(d){return String(d).replace(l,".").toLowerCase()},u=c.data={},p=c.NATIVE="N",h=c.POLYFILL="P";n.exports=c},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(e,n,s){n.exports=function(i){return i==null}},{}],289:[function(e,n,s){var i=e("../internals/is-callable"),a=e("../internals/document-all"),l=a.all;n.exports=a.IS_HTMLDDA?function(c){return typeof c=="object"?c!==null:i(c)||c===l}:function(c){return typeof c=="object"?c!==null:i(c)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(e,n,s){n.exports=!1},{}],291:[function(e,n,s){var i=e("../internals/is-object"),a=e("../internals/classof-raw"),l=e("../internals/well-known-symbol")("match");n.exports=function(c){var o;return i(c)&&((o=c[l])!==void 0?!!o:a(c)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(e,n,s){var i=e("../internals/get-built-in"),a=e("../internals/is-callable"),l=e("../internals/object-is-prototype-of"),c=e("../internals/use-symbol-as-uid"),o=Object;n.exports=c?function(u){return typeof u=="symbol"}:function(u){var p=i("Symbol");return a(p)&&l(p.prototype,o(u))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(e,n,s){var i=e("../internals/function-bind-context"),a=e("../internals/function-call"),l=e("../internals/an-object"),c=e("../internals/try-to-string"),o=e("../internals/is-array-iterator-method"),u=e("../internals/length-of-array-like"),p=e("../internals/object-is-prototype-of"),h=e("../internals/get-iterator"),d=e("../internals/get-iterator-method"),b=e("../internals/iterator-close"),x=TypeError,g=function(v,k){this.stopped=v,this.result=k},w=g.prototype;n.exports=function(v,k,R){var L,G,V,O,F,B,W,P=R&&R.that,N=!(!R||!R.AS_ENTRIES),D=!(!R||!R.IS_RECORD),C=!(!R||!R.IS_ITERATOR),S=!(!R||!R.INTERRUPTED),T=i(k,P),A=function(j){return L&&b(L,"normal",j),new g(!0,j)},E=function(j){return N?(l(j),S?T(j[0],j[1],A):T(j[0],j[1])):S?T(j,A):T(j)};if(D)L=v.iterator;else if(C)L=v;else{if(!(G=d(v)))throw new x(c(v)+" is not iterable");if(o(G)){for(V=0,O=u(v);O>V;V++)if((F=E(v[V]))&&p(w,F))return F;return new g(!1)}L=h(v,G)}for(B=D?v.next:L.next;!(W=a(B,L)).done;){try{F=E(W.value)}catch(j){b(L,"throw",j)}if(typeof F=="object"&&F&&p(w,F))return F}return new g(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(e,n,s){var i=e("../internals/function-call"),a=e("../internals/an-object"),l=e("../internals/get-method");n.exports=function(c,o,u){var p,h;a(c);try{if(!(p=l(c,"return"))){if(o==="throw")throw u;return u}p=i(p,c)}catch(d){h=!0,p=d}if(o==="throw")throw u;if(h)throw p;return a(p),u}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(e,n,s){var i=e("../internals/iterators-core").IteratorPrototype,a=e("../internals/object-create"),l=e("../internals/create-property-descriptor"),c=e("../internals/set-to-string-tag"),o=e("../internals/iterators"),u=function(){return this};n.exports=function(p,h,d,b){var x=h+" Iterator";return p.prototype=a(i,{next:l(+!b,d)}),c(p,x,!1,!0),o[x]=u,p}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/function-call"),l=e("../internals/is-pure"),c=e("../internals/function-name"),o=e("../internals/is-callable"),u=e("../internals/iterator-create-constructor"),p=e("../internals/object-get-prototype-of"),h=e("../internals/object-set-prototype-of"),d=e("../internals/set-to-string-tag"),b=e("../internals/create-non-enumerable-property"),x=e("../internals/define-built-in"),g=e("../internals/well-known-symbol"),w=e("../internals/iterators"),v=e("../internals/iterators-core"),k=c.PROPER,R=c.CONFIGURABLE,L=v.IteratorPrototype,G=v.BUGGY_SAFARI_ITERATORS,V=g("iterator"),O=function(){return this};n.exports=function(F,B,W,P,N,D,C){u(W,B,P);var S,T,A,E=function(q){if(q===N&&Y)return Y;if(!G&&q&&q in I)return I[q];switch(q){case"keys":case"values":case"entries":return function(){return new W(this,q)}}return function(){return new W(this)}},j=B+" Iterator",U=!1,I=F.prototype,Q=I[V]||I["@@iterator"]||N&&I[N],Y=!G&&Q||E(N),ee=B==="Array"&&I.entries||Q;if(ee&&(S=p(ee.call(new F)))!==Object.prototype&&S.next&&(l||p(S)===L||(h?h(S,L):o(S[V])||x(S,V,O)),d(S,j,!0,!0),l&&(w[j]=O)),k&&N==="values"&&Q&&Q.name!=="values"&&(!l&&R?b(I,"name","values"):(U=!0,Y=function(){return a(Q,this)})),N)if(T={values:E("values"),keys:D?Y:E("keys"),entries:E("entries")},C)for(A in T)(G||U||!(A in I))&&x(I,A,T[A]);else i({target:B,proto:!0,forced:G||U},T);return l&&!C||I[V]===Y||x(I,V,Y,{name:N}),w[B]=Y,T}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(e,n,s){var i,a,l,c=e("../internals/fails"),o=e("../internals/is-callable"),u=e("../internals/is-object"),p=e("../internals/object-create"),h=e("../internals/object-get-prototype-of"),d=e("../internals/define-built-in"),b=e("../internals/well-known-symbol"),x=e("../internals/is-pure"),g=b("iterator"),w=!1;[].keys&&("next"in(l=[].keys())?(a=h(h(l)))!==Object.prototype&&(i=a):w=!0),!u(i)||c((function(){var v={};return i[g].call(v)!==v}))?i={}:x&&(i=p(i)),o(i[g])||d(i,g,(function(){return this})),n.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:w}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(e,n,s){arguments[4][276][0].apply(s,arguments)},{dup:276}],299:[function(e,n,s){var i=e("../internals/to-length");n.exports=function(a){return i(a.length)}},{"../internals/to-length":343}],300:[function(e,n,s){var i=e("../internals/function-uncurry-this"),a=e("../internals/fails"),l=e("../internals/is-callable"),c=e("../internals/has-own-property"),o=e("../internals/descriptors"),u=e("../internals/function-name").CONFIGURABLE,p=e("../internals/inspect-source"),h=e("../internals/internal-state"),d=h.enforce,b=h.get,x=String,g=Object.defineProperty,w=i("".slice),v=i("".replace),k=i([].join),R=o&&!a((function(){return g((function(){}),"length",{value:8}).length!==8})),L=String(String).split("String"),G=n.exports=function(V,O,F){w(x(O),0,7)==="Symbol("&&(O="["+v(x(O),/^Symbol\(([^)]*)\)/,"$1")+"]"),F&&F.getter&&(O="get "+O),F&&F.setter&&(O="set "+O),(!c(V,"name")||u&&V.name!==O)&&(o?g(V,"name",{value:O,configurable:!0}):V.name=O),R&&F&&c(F,"arity")&&V.length!==F.arity&&g(V,"length",{value:F.arity});try{F&&c(F,"constructor")&&F.constructor?o&&g(V,"prototype",{writable:!1}):V.prototype&&(V.prototype=void 0)}catch{}var B=d(V);return c(B,"source")||(B.source=k(L,typeof O=="string"?O:"")),V};Function.prototype.toString=G((function(){return l(this)&&b(this).source||p(this)}),"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(e,n,s){var i=Math.ceil,a=Math.floor;n.exports=Math.trunc||function(l){var c=+l;return(c>0?a:i)(c)}},{}],302:[function(e,n,s){var i,a,l,c,o,u=e("../internals/global"),p=e("../internals/function-bind-context"),h=e("../internals/object-get-own-property-descriptor").f,d=e("../internals/task").set,b=e("../internals/queue"),x=e("../internals/engine-is-ios"),g=e("../internals/engine-is-ios-pebble"),w=e("../internals/engine-is-webos-webkit"),v=e("../internals/engine-is-node"),k=u.MutationObserver||u.WebKitMutationObserver,R=u.document,L=u.process,G=u.Promise,V=h(u,"queueMicrotask"),O=V&&V.value;if(!O){var F=new b,B=function(){var W,P;for(v&&(W=L.domain)&&W.exit();P=F.get();)try{P()}catch(N){throw F.head&&i(),N}W&&W.enter()};x||v||w||!k||!R?!g&&G&&G.resolve?((c=G.resolve(void 0)).constructor=G,o=p(c.then,c),i=function(){o(B)}):v?i=function(){L.nextTick(B)}:(d=p(d,u),i=function(){d(B)}):(a=!0,l=R.createTextNode(""),new k(B).observe(l,{characterData:!0}),i=function(){l.data=a=!a}),O=function(W){F.head||i(),F.add(W)}}n.exports=O},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(e,n,s){var i=e("../internals/a-callable"),a=TypeError,l=function(c){var o,u;this.promise=new c((function(p,h){if(o!==void 0||u!==void 0)throw new a("Bad Promise constructor");o=p,u=h})),this.resolve=i(o),this.reject=i(u)};n.exports.f=function(c){return new l(c)}},{"../internals/a-callable":222}],304:[function(e,n,s){var i=e("../internals/is-regexp"),a=TypeError;n.exports=function(l){if(i(l))throw new a("The method doesn't accept regular expressions");return l}},{"../internals/is-regexp":291}],305:[function(e,n,s){var i=e("../internals/descriptors"),a=e("../internals/function-uncurry-this"),l=e("../internals/function-call"),c=e("../internals/fails"),o=e("../internals/object-keys"),u=e("../internals/object-get-own-property-symbols"),p=e("../internals/object-property-is-enumerable"),h=e("../internals/to-object"),d=e("../internals/indexed-object"),b=Object.assign,x=Object.defineProperty,g=a([].concat);n.exports=!b||c((function(){if(i&&b({b:1},b(x({},"a",{enumerable:!0,get:function(){x(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var w={},v={},k=Symbol("assign detection");return w[k]=7,"abcdefghijklmnopqrst".split("").forEach((function(R){v[R]=R})),b({},w)[k]!==7||o(b({},v)).join("")!=="abcdefghijklmnopqrst"}))?function(w,v){for(var k=h(w),R=arguments.length,L=1,G=u.f,V=p.f;R>L;)for(var O,F=d(arguments[L++]),B=G?g(o(F),G(F)):o(F),W=B.length,P=0;W>P;)O=B[P++],i&&!l(V,F,O)||(k[O]=F[O]);return k}:b},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(e,n,s){var i,a=e("../internals/an-object"),l=e("../internals/object-define-properties"),c=e("../internals/enum-bug-keys"),o=e("../internals/hidden-keys"),u=e("../internals/html"),p=e("../internals/document-create-element"),h=e("../internals/shared-key"),d=h("IE_PROTO"),b=function(){},x=function(v){return"<script>"+v+"<\/script>"},g=function(v){v.write(x("")),v.close();var k=v.parentWindow.Object;return v=null,k},w=function(){try{i=new ActiveXObject("htmlfile")}catch{}var v,k;w=typeof document<"u"?document.domain&&i?g(i):((k=p("iframe")).style.display="none",u.appendChild(k),k.src="javascript:",(v=k.contentWindow.document).open(),v.write(x("document.F=Object")),v.close(),v.F):g(i);for(var R=c.length;R--;)delete w.prototype[c[R]];return w()};o[d]=!0,n.exports=Object.create||function(v,k){var R;return v!==null?(b.prototype=a(v),R=new b,b.prototype=null,R[d]=v):R=w(),k===void 0?R:l.f(R,k)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(e,n,s){var i=e("../internals/descriptors"),a=e("../internals/v8-prototype-define-bug"),l=e("../internals/object-define-property"),c=e("../internals/an-object"),o=e("../internals/to-indexed-object"),u=e("../internals/object-keys");s.f=i&&!a?Object.defineProperties:function(p,h){c(p);for(var d,b=o(h),x=u(h),g=x.length,w=0;g>w;)l.f(p,d=x[w++],b[d]);return p}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(e,n,s){var i=e("../internals/descriptors"),a=e("../internals/ie8-dom-define"),l=e("../internals/v8-prototype-define-bug"),c=e("../internals/an-object"),o=e("../internals/to-property-key"),u=TypeError,p=Object.defineProperty,h=Object.getOwnPropertyDescriptor;s.f=i?l?function(d,b,x){if(c(d),b=o(b),c(x),typeof d=="function"&&b==="prototype"&&"value"in x&&"writable"in x&&!x.writable){var g=h(d,b);g&&g.writable&&(d[b]=x.value,x={configurable:"configurable"in x?x.configurable:g.configurable,enumerable:"enumerable"in x?x.enumerable:g.enumerable,writable:!1})}return p(d,b,x)}:p:function(d,b,x){if(c(d),b=o(b),c(x),a)try{return p(d,b,x)}catch{}if("get"in x||"set"in x)throw new u("Accessors not supported");return"value"in x&&(d[b]=x.value),d}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(e,n,s){var i=e("../internals/descriptors"),a=e("../internals/function-call"),l=e("../internals/object-property-is-enumerable"),c=e("../internals/create-property-descriptor"),o=e("../internals/to-indexed-object"),u=e("../internals/to-property-key"),p=e("../internals/has-own-property"),h=e("../internals/ie8-dom-define"),d=Object.getOwnPropertyDescriptor;s.f=i?d:function(b,x){if(b=o(b),x=u(x),h)try{return d(b,x)}catch{}if(p(b,x))return c(!a(l.f,b,x),b[x])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(e,n,s){var i=e("../internals/classof-raw"),a=e("../internals/to-indexed-object"),l=e("../internals/object-get-own-property-names").f,c=e("../internals/array-slice-simple"),o=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];n.exports.f=function(u){return o&&i(u)==="Window"?(function(p){try{return l(p)}catch{return c(o)}})(u):l(a(u))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(e,n,s){var i=e("../internals/object-keys-internal"),a=e("../internals/enum-bug-keys").concat("length","prototype");s.f=Object.getOwnPropertyNames||function(l){return i(l,a)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(e,n,s){s.f=Object.getOwnPropertySymbols},{}],313:[function(e,n,s){var i=e("../internals/has-own-property"),a=e("../internals/is-callable"),l=e("../internals/to-object"),c=e("../internals/shared-key"),o=e("../internals/correct-prototype-getter"),u=c("IE_PROTO"),p=Object,h=p.prototype;n.exports=o?p.getPrototypeOf:function(d){var b=l(d);if(i(b,u))return b[u];var x=b.constructor;return a(x)&&b instanceof x?x.prototype:b instanceof p?h:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(e,n,s){var i=e("../internals/function-uncurry-this");n.exports=i({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(e,n,s){var i=e("../internals/function-uncurry-this"),a=e("../internals/has-own-property"),l=e("../internals/to-indexed-object"),c=e("../internals/array-includes").indexOf,o=e("../internals/hidden-keys"),u=i([].push);n.exports=function(p,h){var d,b=l(p),x=0,g=[];for(d in b)!a(o,d)&&a(b,d)&&u(g,d);for(;h.length>x;)a(b,d=h[x++])&&(~c(g,d)||u(g,d));return g}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(e,n,s){var i=e("../internals/object-keys-internal"),a=e("../internals/enum-bug-keys");n.exports=Object.keys||function(l){return i(l,a)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(e,n,s){var i={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,l=a&&!i.call({1:2},1);s.f=l?function(c){var o=a(this,c);return!!o&&o.enumerable}:i},{}],318:[function(e,n,s){var i=e("../internals/function-uncurry-this-accessor"),a=e("../internals/an-object"),l=e("../internals/a-possible-prototype");n.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var c,o=!1,u={};try{(c=i(Object.prototype,"__proto__","set"))(u,[]),o=u instanceof Array}catch{}return function(p,h){return a(p),l(h),o?c(p,h):p.__proto__=h,p}})():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(e,n,s){var i=e("../internals/descriptors"),a=e("../internals/fails"),l=e("../internals/function-uncurry-this"),c=e("../internals/object-get-prototype-of"),o=e("../internals/object-keys"),u=e("../internals/to-indexed-object"),p=l(e("../internals/object-property-is-enumerable").f),h=l([].push),d=i&&a((function(){var x=Object.create(null);return x[2]=2,!p(x,2)})),b=function(x){return function(g){for(var w,v=u(g),k=o(v),R=d&&c(v)===null,L=k.length,G=0,V=[];L>G;)w=k[G++],i&&!(R?w in v:p(v,w))||h(V,x?[w,v[w]]:v[w]);return V}};n.exports={entries:b(!0),values:b(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(e,n,s){var i=e("../internals/function-call"),a=e("../internals/is-callable"),l=e("../internals/is-object"),c=TypeError;n.exports=function(o,u){var p,h;if(u==="string"&&a(p=o.toString)&&!l(h=i(p,o))||a(p=o.valueOf)&&!l(h=i(p,o))||u!=="string"&&a(p=o.toString)&&!l(h=i(p,o)))return h;throw new c("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(e,n,s){var i=e("../internals/get-built-in"),a=e("../internals/function-uncurry-this"),l=e("../internals/object-get-own-property-names"),c=e("../internals/object-get-own-property-symbols"),o=e("../internals/an-object"),u=a([].concat);n.exports=i("Reflect","ownKeys")||function(p){var h=l.f(o(p)),d=c.f;return d?u(h,d(p)):h}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(e,n,s){var i=e("../internals/global");n.exports=i},{"../internals/global":274}],323:[function(e,n,s){n.exports=function(i){try{return{error:!1,value:i()}}catch(a){return{error:!0,value:a}}}},{}],324:[function(e,n,s){var i=e("../internals/global"),a=e("../internals/promise-native-constructor"),l=e("../internals/is-callable"),c=e("../internals/is-forced"),o=e("../internals/inspect-source"),u=e("../internals/well-known-symbol"),p=e("../internals/engine-is-browser"),h=e("../internals/engine-is-deno"),d=e("../internals/is-pure"),b=e("../internals/engine-v8-version"),x=a&&a.prototype,g=u("species"),w=!1,v=l(i.PromiseRejectionEvent),k=c("Promise",(function(){var R=o(a),L=R!==String(a);if(!L&&b===66||d&&(!x.catch||!x.finally))return!0;if(!b||b<51||!/native code/.test(R)){var G=new a((function(O){O(1)})),V=function(O){O((function(){}),(function(){}))};if((G.constructor={})[g]=V,!(w=G.then((function(){}))instanceof V))return!0}return!L&&(p||h)&&!v}));n.exports={CONSTRUCTOR:k,REJECTION_EVENT:v,SUBCLASSING:w}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(e,n,s){var i=e("../internals/global");n.exports=i.Promise},{"../internals/global":274}],326:[function(e,n,s){var i=e("../internals/an-object"),a=e("../internals/is-object"),l=e("../internals/new-promise-capability");n.exports=function(c,o){if(i(c),a(o)&&o.constructor===c)return o;var u=l.f(c);return(0,u.resolve)(o),u.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(e,n,s){var i=e("../internals/promise-native-constructor"),a=e("../internals/check-correctness-of-iteration"),l=e("../internals/promise-constructor-detection").CONSTRUCTOR;n.exports=l||!a((function(c){i.all(c).then(void 0,(function(){}))}))},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(e,n,s){var i=function(){this.head=null,this.tail=null};i.prototype={add:function(a){var l={item:a,next:null},c=this.tail;c?c.next=l:this.head=l,this.tail=l},get:function(){var a=this.head;if(a)return(this.head=a.next)===null&&(this.tail=null),a.item}},n.exports=i},{}],329:[function(e,n,s){var i=e("../internals/is-null-or-undefined"),a=TypeError;n.exports=function(l){if(i(l))throw new a("Can't call method on "+l);return l}},{"../internals/is-null-or-undefined":288}],330:[function(e,n,s){var i=e("../internals/get-built-in"),a=e("../internals/define-built-in-accessor"),l=e("../internals/well-known-symbol"),c=e("../internals/descriptors"),o=l("species");n.exports=function(u){var p=i(u);c&&p&&!p[o]&&a(p,o,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(e,n,s){var i=e("../internals/object-define-property").f,a=e("../internals/has-own-property"),l=e("../internals/well-known-symbol")("toStringTag");n.exports=function(c,o,u){c&&!u&&(c=c.prototype),c&&!a(c,l)&&i(c,l,{configurable:!0,value:o})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(e,n,s){var i=e("../internals/shared"),a=e("../internals/uid"),l=i("keys");n.exports=function(c){return l[c]||(l[c]=a(c))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(e,n,s){var i=e("../internals/global"),a=e("../internals/define-global-property"),l=i["__core-js_shared__"]||a("__core-js_shared__",{});n.exports=l},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(e,n,s){var i=e("../internals/is-pure"),a=e("../internals/shared-store");(n.exports=function(l,c){return a[l]||(a[l]=c!==void 0?c:{})})("versions",[]).push({version:"3.33.0",mode:i?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(e,n,s){var i=e("../internals/an-object"),a=e("../internals/a-constructor"),l=e("../internals/is-null-or-undefined"),c=e("../internals/well-known-symbol")("species");n.exports=function(o,u){var p,h=i(o).constructor;return h===void 0||l(p=i(h)[c])?u:a(p)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(e,n,s){var i=e("../internals/engine-v8-version"),a=e("../internals/fails"),l=e("../internals/global").String;n.exports=!!Object.getOwnPropertySymbols&&!a((function(){var c=Symbol("symbol detection");return!l(c)||!(Object(c)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(e,n,s){var i=e("../internals/function-call"),a=e("../internals/get-built-in"),l=e("../internals/well-known-symbol"),c=e("../internals/define-built-in");n.exports=function(){var o=a("Symbol"),u=o&&o.prototype,p=u&&u.valueOf,h=l("toPrimitive");u&&!u[h]&&c(u,h,(function(d){return i(p,this)}),{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(e,n,s){var i=e("../internals/symbol-constructor-detection");n.exports=i&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(e,n,s){var i,a,l,c,o=e("../internals/global"),u=e("../internals/function-apply"),p=e("../internals/function-bind-context"),h=e("../internals/is-callable"),d=e("../internals/has-own-property"),b=e("../internals/fails"),x=e("../internals/html"),g=e("../internals/array-slice"),w=e("../internals/document-create-element"),v=e("../internals/validate-arguments-length"),k=e("../internals/engine-is-ios"),R=e("../internals/engine-is-node"),L=o.setImmediate,G=o.clearImmediate,V=o.process,O=o.Dispatch,F=o.Function,B=o.MessageChannel,W=o.String,P=0,N={};b((function(){i=o.location}));var D=function(A){if(d(N,A)){var E=N[A];delete N[A],E()}},C=function(A){return function(){D(A)}},S=function(A){D(A.data)},T=function(A){o.postMessage(W(A),i.protocol+"//"+i.host)};L&&G||(L=function(A){v(arguments.length,1);var E=h(A)?A:F(A),j=g(arguments,1);return N[++P]=function(){u(E,void 0,j)},a(P),P},G=function(A){delete N[A]},R?a=function(A){V.nextTick(C(A))}:O&&O.now?a=function(A){O.now(C(A))}:B&&!k?(c=(l=new B).port2,l.port1.onmessage=S,a=p(c.postMessage,c)):o.addEventListener&&h(o.postMessage)&&!o.importScripts&&i&&i.protocol!=="file:"&&!b(T)?(a=T,o.addEventListener("message",S,!1)):a="onreadystatechange"in w("script")?function(A){x.appendChild(w("script")).onreadystatechange=function(){x.removeChild(this),D(A)}}:function(A){setTimeout(C(A),0)}),n.exports={set:L,clear:G}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(e,n,s){var i=e("../internals/to-integer-or-infinity"),a=Math.max,l=Math.min;n.exports=function(c,o){var u=i(c);return u<0?a(u+o,0):l(u,o)}},{"../internals/to-integer-or-infinity":342}],341:[function(e,n,s){var i=e("../internals/indexed-object"),a=e("../internals/require-object-coercible");n.exports=function(l){return i(a(l))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(e,n,s){var i=e("../internals/math-trunc");n.exports=function(a){var l=+a;return l!=l||l===0?0:i(l)}},{"../internals/math-trunc":301}],343:[function(e,n,s){var i=e("../internals/to-integer-or-infinity"),a=Math.min;n.exports=function(l){return l>0?a(i(l),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(e,n,s){var i=e("../internals/require-object-coercible"),a=Object;n.exports=function(l){return a(i(l))}},{"../internals/require-object-coercible":329}],345:[function(e,n,s){var i=e("../internals/function-call"),a=e("../internals/is-object"),l=e("../internals/is-symbol"),c=e("../internals/get-method"),o=e("../internals/ordinary-to-primitive"),u=e("../internals/well-known-symbol"),p=TypeError,h=u("toPrimitive");n.exports=function(d,b){if(!a(d)||l(d))return d;var x,g=c(d,h);if(g){if(b===void 0&&(b="default"),x=i(g,d,b),!a(x)||l(x))return x;throw new p("Can't convert object to primitive value")}return b===void 0&&(b="number"),o(d,b)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(e,n,s){var i=e("../internals/to-primitive"),a=e("../internals/is-symbol");n.exports=function(l){var c=i(l,"string");return a(c)?c:c+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(e,n,s){var i={};i[e("../internals/well-known-symbol")("toStringTag")]="z",n.exports=String(i)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(e,n,s){var i=e("../internals/classof"),a=String;n.exports=function(l){if(i(l)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return a(l)}},{"../internals/classof":236}],349:[function(e,n,s){var i=String;n.exports=function(a){try{return i(a)}catch{return"Object"}}},{}],350:[function(e,n,s){var i=e("../internals/function-uncurry-this"),a=0,l=Math.random(),c=i(1 .toString);n.exports=function(o){return"Symbol("+(o===void 0?"":o)+")_"+c(++a+l,36)}},{"../internals/function-uncurry-this":268}],351:[function(e,n,s){var i=e("../internals/symbol-constructor-detection");n.exports=i&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(e,n,s){var i=e("../internals/descriptors"),a=e("../internals/fails");n.exports=i&&a((function(){return Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype!==42}))},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(e,n,s){var i=TypeError;n.exports=function(a,l){if(a<l)throw new i("Not enough arguments");return a}},{}],354:[function(e,n,s){var i=e("../internals/global"),a=e("../internals/is-callable"),l=i.WeakMap;n.exports=a(l)&&/native code/.test(String(l))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(e,n,s){var i=e("../internals/path"),a=e("../internals/has-own-property"),l=e("../internals/well-known-symbol-wrapped"),c=e("../internals/object-define-property").f;n.exports=function(o){var u=i.Symbol||(i.Symbol={});a(u,o)||c(u,o,{value:l.f(o)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(e,n,s){var i=e("../internals/well-known-symbol");s.f=i},{"../internals/well-known-symbol":357}],357:[function(e,n,s){var i=e("../internals/global"),a=e("../internals/shared"),l=e("../internals/has-own-property"),c=e("../internals/uid"),o=e("../internals/symbol-constructor-detection"),u=e("../internals/use-symbol-as-uid"),p=i.Symbol,h=a("wks"),d=u?p.for||p:p&&p.withoutSetter||c;n.exports=function(b){return l(h,b)||(h[b]=o&&l(p,b)?p[b]:d("Symbol."+b)),h[b]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/array-iteration").findIndex,l=e("../internals/add-to-unscopables"),c=!0;"findIndex"in[]&&Array(1).findIndex((function(){c=!1})),i({target:"Array",proto:!0,forced:c},{findIndex:function(o){return a(this,o,arguments.length>1?arguments[1]:void 0)}}),l("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/array-iteration").find,l=e("../internals/add-to-unscopables"),c=!0;"find"in[]&&Array(1).find((function(){c=!1})),i({target:"Array",proto:!0,forced:c},{find:function(o){return a(this,o,arguments.length>1?arguments[1]:void 0)}}),l("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/array-includes").includes,l=e("../internals/fails"),c=e("../internals/add-to-unscopables");i({target:"Array",proto:!0,forced:l((function(){return!Array(1).includes()}))},{includes:function(o){return a(this,o,arguments.length>1?arguments[1]:void 0)}}),c("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(e,n,s){var i=e("../internals/to-indexed-object"),a=e("../internals/add-to-unscopables"),l=e("../internals/iterators"),c=e("../internals/internal-state"),o=e("../internals/object-define-property").f,u=e("../internals/iterator-define"),p=e("../internals/create-iter-result-object"),h=e("../internals/is-pure"),d=e("../internals/descriptors"),b=c.set,x=c.getterFor("Array Iterator");n.exports=u(Array,"Array",(function(w,v){b(this,{type:"Array Iterator",target:i(w),index:0,kind:v})}),(function(){var w=x(this),v=w.target,k=w.kind,R=w.index++;if(!v||R>=v.length)return w.target=void 0,p(void 0,!0);switch(k){case"keys":return p(R,!1);case"values":return p(v[R],!1)}return p([R,v[R]],!1)}),"values");var g=l.Arguments=l.Array;if(a("keys"),a("values"),a("entries"),!h&&d&&g.name!=="values")try{o(g,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/get-built-in"),l=e("../internals/function-apply"),c=e("../internals/function-call"),o=e("../internals/function-uncurry-this"),u=e("../internals/fails"),p=e("../internals/is-callable"),h=e("../internals/is-symbol"),d=e("../internals/array-slice"),b=e("../internals/get-json-replacer-function"),x=e("../internals/symbol-constructor-detection"),g=String,w=a("JSON","stringify"),v=o(/./.exec),k=o("".charAt),R=o("".charCodeAt),L=o("".replace),G=o(1 .toString),V=/[\uD800-\uDFFF]/g,O=/^[\uD800-\uDBFF]$/,F=/^[\uDC00-\uDFFF]$/,B=!x||u((function(){var D=a("Symbol")("stringify detection");return w([D])!=="[null]"||w({a:D})!=="{}"||w(Object(D))!=="{}"})),W=u((function(){return w("\uDF06\uD834")!=='"\\udf06\\ud834"'||w("\uDEAD")!=='"\\udead"'})),P=function(D,C){var S=d(arguments),T=b(C);if(p(T)||D!==void 0&&!h(D))return S[1]=function(A,E){if(p(T)&&(E=c(T,this,g(A),E)),!h(E))return E},l(w,null,S)},N=function(D,C,S){var T=k(S,C-1),A=k(S,C+1);return v(O,D)&&!v(F,A)||v(F,D)&&!v(O,T)?"\\u"+G(R(D,0),16):D};w&&i({target:"JSON",stat:!0,arity:3,forced:B||W},{stringify:function(D,C,S){var T=d(arguments),A=l(B?P:w,null,T);return W&&typeof A=="string"?L(A,V,N):A}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(e,n,s){e("../internals/export")({target:"Number",stat:!0},{isNaN:function(i){return i!=i}})},{"../internals/export":259}],364:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/object-assign");i({target:"Object",stat:!0,arity:2,forced:Object.assign!==a},{assign:a})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/symbol-constructor-detection"),l=e("../internals/fails"),c=e("../internals/object-get-own-property-symbols"),o=e("../internals/to-object");i({target:"Object",stat:!0,forced:!a||l((function(){c.f(1)}))},{getOwnPropertySymbols:function(u){var p=c.f;return p?p(o(u)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/to-object"),l=e("../internals/object-keys");i({target:"Object",stat:!0,forced:e("../internals/fails")((function(){l(1)}))},{keys:function(c){return l(a(c))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/object-to-array").values;i({target:"Object",stat:!0},{values:function(l){return a(l)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/function-call"),l=e("../internals/a-callable"),c=e("../internals/new-promise-capability"),o=e("../internals/perform"),u=e("../internals/iterate");i({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{all:function(p){var h=this,d=c.f(h),b=d.resolve,x=d.reject,g=o((function(){var w=l(h.resolve),v=[],k=0,R=1;u(p,(function(L){var G=k++,V=!1;R++,a(w,h,L).then((function(O){V||(V=!0,v[G]=O,--R||b(v))}),x)})),--R||b(v)}));return g.error&&x(g.value),d.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/is-pure"),l=e("../internals/promise-constructor-detection").CONSTRUCTOR,c=e("../internals/promise-native-constructor"),o=e("../internals/get-built-in"),u=e("../internals/is-callable"),p=e("../internals/define-built-in"),h=c&&c.prototype;if(i({target:"Promise",proto:!0,forced:l,real:!0},{catch:function(b){return this.then(void 0,b)}}),!a&&u(c)){var d=o("Promise").prototype.catch;h.catch!==d&&p(h,"catch",d,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(e,n,s){var i,a,l,c=e("../internals/export"),o=e("../internals/is-pure"),u=e("../internals/engine-is-node"),p=e("../internals/global"),h=e("../internals/function-call"),d=e("../internals/define-built-in"),b=e("../internals/object-set-prototype-of"),x=e("../internals/set-to-string-tag"),g=e("../internals/set-species"),w=e("../internals/a-callable"),v=e("../internals/is-callable"),k=e("../internals/is-object"),R=e("../internals/an-instance"),L=e("../internals/species-constructor"),G=e("../internals/task").set,V=e("../internals/microtask"),O=e("../internals/host-report-errors"),F=e("../internals/perform"),B=e("../internals/queue"),W=e("../internals/internal-state"),P=e("../internals/promise-native-constructor"),N=e("../internals/promise-constructor-detection"),D=e("../internals/new-promise-capability"),C=N.CONSTRUCTOR,S=N.REJECTION_EVENT,T=N.SUBCLASSING,A=W.getterFor("Promise"),E=W.set,j=P&&P.prototype,U=P,I=j,Q=p.TypeError,Y=p.document,ee=p.process,q=D.f,te=q,H=!!(Y&&Y.createEvent&&p.dispatchEvent),z=function(pe){var Te;return!(!k(pe)||!v(Te=pe.then))&&Te},Z=function(pe,Te){var ke,Re,$e,Pe=Te.value,Je=Te.state===1,Ze=Je?pe.ok:pe.fail,Ye=pe.resolve,Xe=pe.reject,ut=pe.domain;try{Ze?(Je||(Te.rejection===2&&ve(Te),Te.rejection=1),Ze===!0?ke=Pe:(ut&&ut.enter(),ke=Ze(Pe),ut&&(ut.exit(),$e=!0)),ke===pe.promise?Xe(new Q("Promise-chain cycle")):(Re=z(ke))?h(Re,ke,Ye,Xe):Ye(ke)):Xe(Pe)}catch(ot){ut&&!$e&&ut.exit(),Xe(ot)}},ae=function(pe,Te){pe.notified||(pe.notified=!0,V((function(){for(var ke,Re=pe.reactions;ke=Re.get();)Z(ke,pe);pe.notified=!1,Te&&!pe.rejection&&le(pe)})))},re=function(pe,Te,ke){var Re,$e;H?((Re=Y.createEvent("Event")).promise=Te,Re.reason=ke,Re.initEvent(pe,!1,!0),p.dispatchEvent(Re)):Re={promise:Te,reason:ke},!S&&($e=p["on"+pe])?$e(Re):pe==="unhandledrejection"&&O("Unhandled promise rejection",ke)},le=function(pe){h(G,p,(function(){var Te,ke=pe.facade,Re=pe.value;if(de(pe)&&(Te=F((function(){u?ee.emit("unhandledRejection",Re,ke):re("unhandledrejection",ke,Re)})),pe.rejection=u||de(pe)?2:1,Te.error))throw Te.value}))},de=function(pe){return pe.rejection!==1&&!pe.parent},ve=function(pe){h(G,p,(function(){var Te=pe.facade;u?ee.emit("rejectionHandled",Te):re("rejectionhandled",Te,pe.value)}))},ge=function(pe,Te,ke){return function(Re){pe(Te,Re,ke)}},se=function(pe,Te,ke){pe.done||(pe.done=!0,ke&&(pe=ke),pe.value=Te,pe.state=2,ae(pe,!0))},xe=function(pe,Te,ke){if(!pe.done){pe.done=!0,ke&&(pe=ke);try{if(pe.facade===Te)throw new Q("Promise can't be resolved itself");var Re=z(Te);Re?V((function(){var $e={done:!1};try{h(Re,Te,ge(xe,$e,pe),ge(se,$e,pe))}catch(Pe){se($e,Pe,pe)}})):(pe.value=Te,pe.state=1,ae(pe,!1))}catch($e){se({done:!1},$e,pe)}}};if(C&&(I=(U=function(pe){R(this,I),w(pe),h(i,this);var Te=A(this);try{pe(ge(xe,Te),ge(se,Te))}catch(ke){se(Te,ke)}}).prototype,(i=function(pe){E(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new B,rejection:!1,state:0,value:void 0})}).prototype=d(I,"then",(function(pe,Te){var ke=A(this),Re=q(L(this,U));return ke.parent=!0,Re.ok=!v(pe)||pe,Re.fail=v(Te)&&Te,Re.domain=u?ee.domain:void 0,ke.state===0?ke.reactions.add(Re):V((function(){Z(Re,ke)})),Re.promise})),a=function(){var pe=new i,Te=A(pe);this.promise=pe,this.resolve=ge(xe,Te),this.reject=ge(se,Te)},D.f=q=function(pe){return pe===U||pe===void 0?new a(pe):te(pe)},!o&&v(P)&&j!==Object.prototype)){l=j.then,T||d(j,"then",(function(pe,Te){var ke=this;return new U((function(Re,$e){h(l,ke,Re,$e)})).then(pe,Te)}),{unsafe:!0});try{delete j.constructor}catch{}b&&b(j,I)}c({global:!0,constructor:!0,wrap:!0,forced:C},{Promise:U}),x(U,"Promise",!1,!0),g("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/is-pure"),l=e("../internals/promise-native-constructor"),c=e("../internals/fails"),o=e("../internals/get-built-in"),u=e("../internals/is-callable"),p=e("../internals/species-constructor"),h=e("../internals/promise-resolve"),d=e("../internals/define-built-in"),b=l&&l.prototype;if(i({target:"Promise",proto:!0,real:!0,forced:!!l&&c((function(){b.finally.call({then:function(){}},(function(){}))}))},{finally:function(g){var w=p(this,o("Promise")),v=u(g);return this.then(v?function(k){return h(w,g()).then((function(){return k}))}:g,v?function(k){return h(w,g()).then((function(){throw k}))}:g)}}),!a&&u(l)){var x=o("Promise").prototype.finally;b.finally!==x&&d(b,"finally",x,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(e,n,s){e("../modules/es.promise.constructor"),e("../modules/es.promise.all"),e("../modules/es.promise.catch"),e("../modules/es.promise.race"),e("../modules/es.promise.reject"),e("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/function-call"),l=e("../internals/a-callable"),c=e("../internals/new-promise-capability"),o=e("../internals/perform"),u=e("../internals/iterate");i({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{race:function(p){var h=this,d=c.f(h),b=d.reject,x=o((function(){var g=l(h.resolve);u(p,(function(w){a(g,h,w).then(d.resolve,b)}))}));return x.error&&b(x.value),d.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/function-call"),l=e("../internals/new-promise-capability");i({target:"Promise",stat:!0,forced:e("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(c){var o=l.f(this);return a(o.reject,void 0,c),o.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/get-built-in"),l=e("../internals/is-pure"),c=e("../internals/promise-native-constructor"),o=e("../internals/promise-constructor-detection").CONSTRUCTOR,u=e("../internals/promise-resolve"),p=a("Promise"),h=l&&!o;i({target:"Promise",stat:!0,forced:l||o},{resolve:function(d){return u(h&&this===p?c:this,d)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/function-uncurry-this"),l=e("../internals/to-absolute-index"),c=RangeError,o=String.fromCharCode,u=String.fromCodePoint,p=a([].join);i({target:"String",stat:!0,arity:1,forced:!!u&&u.length!==1},{fromCodePoint:function(h){for(var d,b=[],x=arguments.length,g=0;x>g;){if(d=+arguments[g++],l(d,1114111)!==d)throw new c(d+" is not a valid code point");b[g]=d<65536?o(d):o(55296+((d-=65536)>>10),d%1024+56320)}return p(b,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/function-uncurry-this"),l=e("../internals/not-a-regexp"),c=e("../internals/require-object-coercible"),o=e("../internals/to-string"),u=e("../internals/correct-is-regexp-logic"),p=a("".indexOf);i({target:"String",proto:!0,forced:!u("includes")},{includes:function(h){return!!~p(o(c(this)),o(l(h)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(e,n,s){e("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/global"),l=e("../internals/function-call"),c=e("../internals/function-uncurry-this"),o=e("../internals/is-pure"),u=e("../internals/descriptors"),p=e("../internals/symbol-constructor-detection"),h=e("../internals/fails"),d=e("../internals/has-own-property"),b=e("../internals/object-is-prototype-of"),x=e("../internals/an-object"),g=e("../internals/to-indexed-object"),w=e("../internals/to-property-key"),v=e("../internals/to-string"),k=e("../internals/create-property-descriptor"),R=e("../internals/object-create"),L=e("../internals/object-keys"),G=e("../internals/object-get-own-property-names"),V=e("../internals/object-get-own-property-names-external"),O=e("../internals/object-get-own-property-symbols"),F=e("../internals/object-get-own-property-descriptor"),B=e("../internals/object-define-property"),W=e("../internals/object-define-properties"),P=e("../internals/object-property-is-enumerable"),N=e("../internals/define-built-in"),D=e("../internals/define-built-in-accessor"),C=e("../internals/shared"),S=e("../internals/shared-key"),T=e("../internals/hidden-keys"),A=e("../internals/uid"),E=e("../internals/well-known-symbol"),j=e("../internals/well-known-symbol-wrapped"),U=e("../internals/well-known-symbol-define"),I=e("../internals/symbol-define-to-primitive"),Q=e("../internals/set-to-string-tag"),Y=e("../internals/internal-state"),ee=e("../internals/array-iteration").forEach,q=S("hidden"),te=Y.set,H=Y.getterFor("Symbol"),z=Object.prototype,Z=a.Symbol,ae=Z&&Z.prototype,re=a.RangeError,le=a.TypeError,de=a.QObject,ve=F.f,ge=B.f,se=V.f,xe=P.f,pe=c([].push),Te=C("symbols"),ke=C("op-symbols"),Re=C("wks"),$e=!de||!de.prototype||!de.prototype.findChild,Pe=function(Ne,Ie,lt){var Ue=ve(z,Ie);Ue&&delete z[Ie],ge(Ne,Ie,lt),Ue&&Ne!==z&&ge(z,Ie,Ue)},Je=u&&h((function(){return R(ge({},"a",{get:function(){return ge(this,"a",{value:7}).a}})).a!==7}))?Pe:ge,Ze=function(Ne,Ie){var lt=Te[Ne]=R(ae);return te(lt,{type:"Symbol",tag:Ne,description:Ie}),u||(lt.description=Ie),lt},Ye=function(Ne,Ie,lt){Ne===z&&Ye(ke,Ie,lt),x(Ne);var Ue=w(Ie);return x(lt),d(Te,Ue)?(lt.enumerable?(d(Ne,q)&&Ne[q][Ue]&&(Ne[q][Ue]=!1),lt=R(lt,{enumerable:k(0,!1)})):(d(Ne,q)||ge(Ne,q,k(1,{})),Ne[q][Ue]=!0),Je(Ne,Ue,lt)):ge(Ne,Ue,lt)},Xe=function(Ne,Ie){x(Ne);var lt=g(Ie),Ue=L(lt).concat(He(lt));return ee(Ue,(function(We){u&&!l(ut,lt,We)||Ye(Ne,We,lt[We])})),Ne},ut=function(Ne){var Ie=w(Ne),lt=l(xe,this,Ie);return!(this===z&&d(Te,Ie)&&!d(ke,Ie))&&(!(lt||!d(this,Ie)||!d(Te,Ie)||d(this,q)&&this[q][Ie])||lt)},ot=function(Ne,Ie){var lt=g(Ne),Ue=w(Ie);if(lt!==z||!d(Te,Ue)||d(ke,Ue)){var We=ve(lt,Ue);return!We||!d(Te,Ue)||d(lt,q)&&lt[q][Ue]||(We.enumerable=!0),We}},je=function(Ne){var Ie=se(g(Ne)),lt=[];return ee(Ie,(function(Ue){d(Te,Ue)||d(T,Ue)||pe(lt,Ue)})),lt},He=function(Ne){var Ie=Ne===z,lt=se(Ie?ke:g(Ne)),Ue=[];return ee(lt,(function(We){!d(Te,We)||Ie&&!d(z,We)||pe(Ue,Te[We])})),Ue};p||(N(ae=(Z=function(){if(b(ae,this))throw new le("Symbol is not a constructor");var Ne=arguments.length&&arguments[0]!==void 0?v(arguments[0]):void 0,Ie=A(Ne),lt=function(Ue){this===z&&l(lt,ke,Ue),d(this,q)&&d(this[q],Ie)&&(this[q][Ie]=!1);var We=k(1,Ue);try{Je(this,Ie,We)}catch(bt){if(!(bt instanceof re))throw bt;Pe(this,Ie,We)}};return u&&$e&&Je(z,Ie,{configurable:!0,set:lt}),Ze(Ie,Ne)}).prototype,"toString",(function(){return H(this).tag})),N(Z,"withoutSetter",(function(Ne){return Ze(A(Ne),Ne)})),P.f=ut,B.f=Ye,W.f=Xe,F.f=ot,G.f=V.f=je,O.f=He,j.f=function(Ne){return Ze(E(Ne),Ne)},u&&(D(ae,"description",{configurable:!0,get:function(){return H(this).description}}),o||N(z,"propertyIsEnumerable",ut,{unsafe:!0}))),i({global:!0,constructor:!0,wrap:!0,forced:!p,sham:!p},{Symbol:Z}),ee(L(Re),(function(Ne){U(Ne)})),i({target:"Symbol",stat:!0,forced:!p},{useSetter:function(){$e=!0},useSimple:function(){$e=!1}}),i({target:"Object",stat:!0,forced:!p,sham:!u},{create:function(Ne,Ie){return Ie===void 0?R(Ne):Xe(R(Ne),Ie)},defineProperty:Ye,defineProperties:Xe,getOwnPropertyDescriptor:ot}),i({target:"Object",stat:!0,forced:!p},{getOwnPropertyNames:je}),I(),Q(Z,"Symbol"),T[q]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/get-built-in"),l=e("../internals/has-own-property"),c=e("../internals/to-string"),o=e("../internals/shared"),u=e("../internals/symbol-registry-detection"),p=o("string-to-symbol-registry"),h=o("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!u},{for:function(d){var b=c(d);if(l(p,b))return p[b];var x=a("Symbol")(b);return p[b]=x,h[x]=b,x}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(e,n,s){e("../modules/es.symbol.constructor"),e("../modules/es.symbol.for"),e("../modules/es.symbol.key-for"),e("../modules/es.json.stringify"),e("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/has-own-property"),l=e("../internals/is-symbol"),c=e("../internals/try-to-string"),o=e("../internals/shared"),u=e("../internals/symbol-registry-detection"),p=o("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!u},{keyFor:function(h){if(!l(h))throw new TypeError(c(h)+" is not a symbol");if(a(p,h))return p[h]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(e,n,s){function i(a){return Object.prototype.toString.call(a)}s.isArray=function(a){return Array.isArray?Array.isArray(a):i(a)==="[object Array]"},s.isBoolean=function(a){return typeof a=="boolean"},s.isNull=function(a){return a===null},s.isNullOrUndefined=function(a){return a==null},s.isNumber=function(a){return typeof a=="number"},s.isString=function(a){return typeof a=="string"},s.isSymbol=function(a){return typeof a=="symbol"},s.isUndefined=function(a){return a===void 0},s.isRegExp=function(a){return i(a)==="[object RegExp]"},s.isObject=function(a){return typeof a=="object"&&a!==null},s.isDate=function(a){return i(a)==="[object Date]"},s.isError=function(a){return i(a)==="[object Error]"||a instanceof Error},s.isFunction=function(a){return typeof a=="function"},s.isPrimitive=function(a){return a===null||typeof a=="boolean"||typeof a=="number"||typeof a=="string"||typeof a=="symbol"||a===void 0},s.isBuffer=e("buffer").Buffer.isBuffer},{buffer:220}],384:[function(e,n,s){(function(i){(function(){var a=e("elliptic"),l=e("bn.js");n.exports=function(p){return new o(p)};var c={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function o(p){this.curveType=c[p],this.curveType||(this.curveType={name:p}),this.curve=new a.ec(this.curveType.name),this.keys=void 0}function u(p,h,d){Array.isArray(p)||(p=p.toArray());var b=new i(p);if(d&&b.length<d){var x=new i(d-b.length);x.fill(0),b=i.concat([x,b])}return h?b.toString(h):b}c.p224=c.secp224r1,c.p256=c.secp256r1=c.prime256v1,c.p192=c.secp192r1=c.prime192v1,c.p384=c.secp384r1,c.p521=c.secp521r1,o.prototype.generateKeys=function(p,h){return this.keys=this.curve.genKeyPair(),this.getPublicKey(p,h)},o.prototype.computeSecret=function(p,h,d){return h=h||"utf8",i.isBuffer(p)||(p=new i(p,h)),u(this.curve.keyFromPublic(p).getPublic().mul(this.keys.getPrivate()).getX(),d,this.curveType.byteLength)},o.prototype.getPublicKey=function(p,h){var d=this.keys.getPublic(h==="compressed",!0);return h==="hybrid"&&(d[d.length-1]%2?d[0]=7:d[0]=6),u(d,p)},o.prototype.getPrivateKey=function(p){return u(this.keys.getPrivate(),p)},o.prototype.setPublicKey=function(p,h){return h=h||"utf8",i.isBuffer(p)||(p=new i(p,h)),this.keys._importPublic(p),this},o.prototype.setPrivateKey=function(p,h){h=h||"utf8",i.isBuffer(p)||(p=new i(p,h));var d=new l(p);return d=d.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(d),this}}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(e,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],386:[function(e,n,s){var i=e("inherits"),a=e("md5.js"),l=e("ripemd160"),c=e("sha.js"),o=e("cipher-base");function u(p){o.call(this,"digest"),this._hash=p}i(u,o),u.prototype._update=function(p){this._hash.update(p)},u.prototype._final=function(){return this._hash.digest()},n.exports=function(p){return(p=p.toLowerCase())==="md5"?new a:p==="rmd160"||p==="ripemd160"?new l:new u(c(p))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(e,n,s){var i=e("md5.js");n.exports=function(a){return new i().update(a).digest()}},{"md5.js":450}],388:[function(e,n,s){var i=e("inherits"),a=e("./legacy"),l=e("cipher-base"),c=e("safe-buffer").Buffer,o=e("create-hash/md5"),u=e("ripemd160"),p=e("sha.js"),h=c.alloc(128);function d(b,x){l.call(this,"digest"),typeof x=="string"&&(x=c.from(x));var g=b==="sha512"||b==="sha384"?128:64;this._alg=b,this._key=x,x.length>g?x=(b==="rmd160"?new u:p(b)).update(x).digest():x.length<g&&(x=c.concat([x,h],g));for(var w=this._ipad=c.allocUnsafe(g),v=this._opad=c.allocUnsafe(g),k=0;k<g;k++)w[k]=54^x[k],v[k]=92^x[k];this._hash=b==="rmd160"?new u:p(b),this._hash.update(w)}i(d,l),d.prototype._update=function(b){this._hash.update(b)},d.prototype._final=function(){var b=this._hash.digest();return(this._alg==="rmd160"?new u:p(this._alg)).update(this._opad).update(b).digest()},n.exports=function(b,x){return(b=b.toLowerCase())==="rmd160"||b==="ripemd160"?new d("rmd160",x):b==="md5"?new a(o,x):new d(b,x)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(e,n,s){var i=e("inherits"),a=e("safe-buffer").Buffer,l=e("cipher-base"),c=a.alloc(128);function o(u,p){l.call(this,"digest"),typeof p=="string"&&(p=a.from(p)),this._alg=u,this._key=p,p.length>64?p=u(p):p.length<64&&(p=a.concat([p,c],64));for(var h=this._ipad=a.allocUnsafe(64),d=this._opad=a.allocUnsafe(64),b=0;b<64;b++)h[b]=54^p[b],d[b]=92^p[b];this._hash=[h]}i(o,l),o.prototype._update=function(u){this._hash.push(u)},o.prototype._final=function(){var u=this._alg(a.concat(this._hash));return this._alg(a.concat([this._opad,u]))},n.exports=o},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(e,n,s){s.randomBytes=s.rng=s.pseudoRandomBytes=s.prng=e("randombytes"),s.createHash=s.Hash=e("create-hash"),s.createHmac=s.Hmac=e("create-hmac");var i=e("browserify-sign/algos"),a=Object.keys(i),l=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(a);s.getHashes=function(){return l};var c=e("pbkdf2");s.pbkdf2=c.pbkdf2,s.pbkdf2Sync=c.pbkdf2Sync;var o=e("browserify-cipher");s.Cipher=o.Cipher,s.createCipher=o.createCipher,s.Cipheriv=o.Cipheriv,s.createCipheriv=o.createCipheriv,s.Decipher=o.Decipher,s.createDecipher=o.createDecipher,s.Decipheriv=o.Decipheriv,s.createDecipheriv=o.createDecipheriv,s.getCiphers=o.getCiphers,s.listCiphers=o.listCiphers;var u=e("diffie-hellman");s.DiffieHellmanGroup=u.DiffieHellmanGroup,s.createDiffieHellmanGroup=u.createDiffieHellmanGroup,s.getDiffieHellman=u.getDiffieHellman,s.createDiffieHellman=u.createDiffieHellman,s.DiffieHellman=u.DiffieHellman;var p=e("browserify-sign");s.createSign=p.createSign,s.Sign=p.Sign,s.createVerify=p.createVerify,s.Verify=p.Verify,s.createECDH=e("create-ecdh");var h=e("public-encrypt");s.publicEncrypt=h.publicEncrypt,s.privateEncrypt=h.privateEncrypt,s.publicDecrypt=h.publicDecrypt,s.privateDecrypt=h.privateDecrypt;var d=e("randomfill");s.randomFill=d.randomFill,s.randomFillSync=d.randomFillSync,s.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},s.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(e,n,s){(function(i,a){typeof s=="object"&&n!==void 0?n.exports=a():(i=typeof globalThis<"u"?globalThis:i||self).dayjs=a()})(void 0,(function(){var i=6e4,a=36e5,l="millisecond",c="second",o="minute",u="hour",p="day",h="week",d="month",b="quarter",x="year",g="date",w="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,k=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,R={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(S){var T=["th","st","nd","rd"],A=S%100;return"["+S+(T[(A-20)%10]||T[A]||T[0])+"]"}},L=function(S,T,A){var E=String(S);return!E||E.length>=T?S:""+Array(T+1-E.length).join(A)+S},G={s:L,z:function(S){var T=-S.utcOffset(),A=Math.abs(T),E=Math.floor(A/60),j=A%60;return(T<=0?"+":"-")+L(E,2,"0")+":"+L(j,2,"0")},m:function S(T,A){if(T.date()<A.date())return-S(A,T);var E=12*(A.year()-T.year())+(A.month()-T.month()),j=T.clone().add(E,d),U=A-j<0,I=T.clone().add(E+(U?-1:1),d);return+(-(E+(A-j)/(U?j-I:I-j))||0)},a:function(S){return S<0?Math.ceil(S)||0:Math.floor(S)},p:function(S){return{M:d,y:x,w:h,d:p,D:g,h:u,m:o,s:c,ms:l,Q:b}[S]||String(S||"").toLowerCase().replace(/s$/,"")},u:function(S){return S===void 0}},V="en",O={};O[V]=R;var F="$isDayjsObject",B=function(S){return S instanceof D||!(!S||!S[F])},W=function S(T,A,E){var j;if(!T)return V;if(typeof T=="string"){var U=T.toLowerCase();O[U]&&(j=U),A&&(O[U]=A,j=U);var I=T.split("-");if(!j&&I.length>1)return S(I[0])}else{var Q=T.name;O[Q]=T,j=Q}return!E&&j&&(V=j),j||!E&&V},P=function(S,T){if(B(S))return S.clone();var A=typeof T=="object"?T:{};return A.date=S,A.args=arguments,new D(A)},N=G;N.l=W,N.i=B,N.w=function(S,T){return P(S,{locale:T.$L,utc:T.$u,x:T.$x,$offset:T.$offset})};var D=(function(){function S(A){this.$L=W(A.locale,null,!0),this.parse(A),this.$x=this.$x||A.x||{},this[F]=!0}var T=S.prototype;return T.parse=function(A){this.$d=(function(E){var j=E.date,U=E.utc;if(j===null)return new Date(NaN);if(N.u(j))return new Date;if(j instanceof Date)return new Date(j);if(typeof j=="string"&&!/Z$/i.test(j)){var I=j.match(v);if(I){var Q=I[2]-1||0,Y=(I[7]||"0").substring(0,3);return U?new Date(Date.UTC(I[1],Q,I[3]||1,I[4]||0,I[5]||0,I[6]||0,Y)):new Date(I[1],Q,I[3]||1,I[4]||0,I[5]||0,I[6]||0,Y)}}return new Date(j)})(A),this.init()},T.init=function(){var A=this.$d;this.$y=A.getFullYear(),this.$M=A.getMonth(),this.$D=A.getDate(),this.$W=A.getDay(),this.$H=A.getHours(),this.$m=A.getMinutes(),this.$s=A.getSeconds(),this.$ms=A.getMilliseconds()},T.$utils=function(){return N},T.isValid=function(){return this.$d.toString()!==w},T.isSame=function(A,E){var j=P(A);return this.startOf(E)<=j&&j<=this.endOf(E)},T.isAfter=function(A,E){return P(A)<this.startOf(E)},T.isBefore=function(A,E){return this.endOf(E)<P(A)},T.$g=function(A,E,j){return N.u(A)?this[E]:this.set(j,A)},T.unix=function(){return Math.floor(this.valueOf()/1e3)},T.valueOf=function(){return this.$d.getTime()},T.startOf=function(A,E){var j=this,U=!!N.u(E)||E,I=N.p(A),Q=function(ae,re){var le=N.w(j.$u?Date.UTC(j.$y,re,ae):new Date(j.$y,re,ae),j);return U?le:le.endOf(p)},Y=function(ae,re){return N.w(j.toDate()[ae].apply(j.toDate("s"),(U?[0,0,0,0]:[23,59,59,999]).slice(re)),j)},ee=this.$W,q=this.$M,te=this.$D,H="set"+(this.$u?"UTC":"");switch(I){case x:return U?Q(1,0):Q(31,11);case d:return U?Q(1,q):Q(0,q+1);case h:var z=this.$locale().weekStart||0,Z=(ee<z?ee+7:ee)-z;return Q(U?te-Z:te+(6-Z),q);case p:case g:return Y(H+"Hours",0);case u:return Y(H+"Minutes",1);case o:return Y(H+"Seconds",2);case c:return Y(H+"Milliseconds",3);default:return this.clone()}},T.endOf=function(A){return this.startOf(A,!1)},T.$set=function(A,E){var j,U=N.p(A),I="set"+(this.$u?"UTC":""),Q=(j={},j[p]=I+"Date",j[g]=I+"Date",j[d]=I+"Month",j[x]=I+"FullYear",j[u]=I+"Hours",j[o]=I+"Minutes",j[c]=I+"Seconds",j[l]=I+"Milliseconds",j)[U],Y=U===p?this.$D+(E-this.$W):E;if(U===d||U===x){var ee=this.clone().set(g,1);ee.$d[Q](Y),ee.init(),this.$d=ee.set(g,Math.min(this.$D,ee.daysInMonth())).$d}else Q&&this.$d[Q](Y);return this.init(),this},T.set=function(A,E){return this.clone().$set(A,E)},T.get=function(A){return this[N.p(A)]()},T.add=function(A,E){var j,U=this;A=Number(A);var I=N.p(E),Q=function(q){var te=P(U);return N.w(te.date(te.date()+Math.round(q*A)),U)};if(I===d)return this.set(d,this.$M+A);if(I===x)return this.set(x,this.$y+A);if(I===p)return Q(1);if(I===h)return Q(7);var Y=(j={},j[o]=i,j[u]=a,j[c]=1e3,j)[I]||1,ee=this.$d.getTime()+A*Y;return N.w(ee,this)},T.subtract=function(A,E){return this.add(-1*A,E)},T.format=function(A){var E=this,j=this.$locale();if(!this.isValid())return j.invalidDate||w;var U=A||"YYYY-MM-DDTHH:mm:ssZ",I=N.z(this),Q=this.$H,Y=this.$m,ee=this.$M,q=j.weekdays,te=j.months,H=j.meridiem,z=function(re,le,de,ve){return re&&(re[le]||re(E,U))||de[le].slice(0,ve)},Z=function(re){return N.s(Q%12||12,re,"0")},ae=H||function(re,le,de){var ve=re<12?"AM":"PM";return de?ve.toLowerCase():ve};return U.replace(k,(function(re,le){return le||(function(de){switch(de){case"YY":return String(E.$y).slice(-2);case"YYYY":return N.s(E.$y,4,"0");case"M":return ee+1;case"MM":return N.s(ee+1,2,"0");case"MMM":return z(j.monthsShort,ee,te,3);case"MMMM":return z(te,ee);case"D":return E.$D;case"DD":return N.s(E.$D,2,"0");case"d":return String(E.$W);case"dd":return z(j.weekdaysMin,E.$W,q,2);case"ddd":return z(j.weekdaysShort,E.$W,q,3);case"dddd":return q[E.$W];case"H":return String(Q);case"HH":return N.s(Q,2,"0");case"h":return Z(1);case"hh":return Z(2);case"a":return ae(Q,Y,!0);case"A":return ae(Q,Y,!1);case"m":return String(Y);case"mm":return N.s(Y,2,"0");case"s":return String(E.$s);case"ss":return N.s(E.$s,2,"0");case"SSS":return N.s(E.$ms,3,"0");case"Z":return I}return null})(re)||I.replace(":","")}))},T.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},T.diff=function(A,E,j){var U,I=this,Q=N.p(E),Y=P(A),ee=(Y.utcOffset()-this.utcOffset())*i,q=this-Y,te=function(){return N.m(I,Y)};switch(Q){case x:U=te()/12;break;case d:U=te();break;case b:U=te()/3;break;case h:U=(q-ee)/6048e5;break;case p:U=(q-ee)/864e5;break;case u:U=q/a;break;case o:U=q/i;break;case c:U=q/1e3;break;default:U=q}return j?U:N.a(U)},T.daysInMonth=function(){return this.endOf(d).$D},T.$locale=function(){return O[this.$L]},T.locale=function(A,E){if(!A)return this.$L;var j=this.clone(),U=W(A,E,!0);return U&&(j.$L=U),j},T.clone=function(){return N.w(this.$d,this)},T.toDate=function(){return new Date(this.valueOf())},T.toJSON=function(){return this.isValid()?this.toISOString():null},T.toISOString=function(){return this.$d.toISOString()},T.toString=function(){return this.$d.toUTCString()},S})(),C=D.prototype;return P.prototype=C,[["$ms",l],["$s",c],["$m",o],["$H",u],["$W",p],["$M",d],["$y",x],["$D",g]].forEach((function(S){C[S[1]]=function(T){return this.$g(T,S[0],S[1])}})),P.extend=function(S,T){return S.$i||(S(T,D,P),S.$i=!0),P},P.locale=W,P.isDayjs=B,P.unix=function(S){return P(1e3*S)},P.en=O[V],P.Ls=O,P.p={},P}))},{}],392:[function(e,n,s){(function(i,a){typeof s=="object"&&n!==void 0?n.exports=a():(i=typeof globalThis<"u"?globalThis:i||self).dayjs_plugin_customParseFormat=a()})(void 0,(function(){var i={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},a=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,l=/\d\d/,c=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,u={},p=function(v){return(v=+v)+(v>68?1900:2e3)},h=function(v){return function(k){this[v]=+k}},d=[/[+-]\d\d:?(\d\d)?|Z/,function(v){(this.zone||(this.zone={})).offset=(function(k){if(!k||k==="Z")return 0;var R=k.match(/([+-]|\d\d)/g),L=60*R[1]+(+R[2]||0);return L===0?0:R[0]==="+"?-L:L})(v)}],b=function(v){var k=u[v];return k&&(k.indexOf?k:k.s.concat(k.f))},x=function(v,k){var R,L=u.meridiem;if(L){for(var G=1;G<=24;G+=1)if(v.indexOf(L(G,0,k))>-1){R=G>12;break}}else R=v===(k?"pm":"PM");return R},g={A:[o,function(v){this.afternoon=x(v,!1)}],a:[o,function(v){this.afternoon=x(v,!0)}],S:[/\d/,function(v){this.milliseconds=100*+v}],SS:[l,function(v){this.milliseconds=10*+v}],SSS:[/\d{3}/,function(v){this.milliseconds=+v}],s:[c,h("seconds")],ss:[c,h("seconds")],m:[c,h("minutes")],mm:[c,h("minutes")],H:[c,h("hours")],h:[c,h("hours")],HH:[c,h("hours")],hh:[c,h("hours")],D:[c,h("day")],DD:[l,h("day")],Do:[o,function(v){var k=u.ordinal,R=v.match(/\d+/);if(this.day=R[0],k)for(var L=1;L<=31;L+=1)k(L).replace(/\[|\]/g,"")===v&&(this.day=L)}],M:[c,h("month")],MM:[l,h("month")],MMM:[o,function(v){var k=b("months"),R=(b("monthsShort")||k.map((function(L){return L.slice(0,3)}))).indexOf(v)+1;if(R<1)throw new Error;this.month=R%12||R}],MMMM:[o,function(v){var k=b("months").indexOf(v)+1;if(k<1)throw new Error;this.month=k%12||k}],Y:[/[+-]?\d+/,h("year")],YY:[l,function(v){this.year=p(v)}],YYYY:[/\d{4}/,h("year")],Z:d,ZZ:d};function w(v){var k,R;k=v,R=u&&u.formats;for(var L=(v=k.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(P,N,D){var C=D&&D.toUpperCase();return N||R[D]||i[D]||R[C].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(S,T,A){return T||A.slice(1)}))}))).match(a),G=L.length,V=0;V<G;V+=1){var O=L[V],F=g[O],B=F&&F[0],W=F&&F[1];L[V]=W?{regex:B,parser:W}:O.replace(/^\[|\]$/g,"")}return function(P){for(var N={},D=0,C=0;D<G;D+=1){var S=L[D];if(typeof S=="string")C+=S.length;else{var T=S.regex,A=S.parser,E=P.slice(C),j=T.exec(E)[0];A.call(N,j),P=P.replace(j,"")}}return(function(U){var I=U.afternoon;if(I!==void 0){var Q=U.hours;I?Q<12&&(U.hours+=12):Q===12&&(U.hours=0),delete U.afternoon}})(N),N}}return function(v,k,R){R.p.customParseFormat=!0,v&&v.parseTwoDigitYear&&(p=v.parseTwoDigitYear);var L=k.prototype,G=L.parse;L.parse=function(V){var O=V.date,F=V.utc,B=V.args;this.$u=F;var W=B[1];if(typeof W=="string"){var P=B[2]===!0,N=B[3]===!0,D=P||N,C=B[2];N&&(C=B[2]),u=this.$locale(),!P&&C&&(u=R.Ls[C]),this.$d=(function(E,j,U){try{if(["x","X"].indexOf(j)>-1)return new Date((j==="X"?1e3:1)*E);var I=w(j)(E),Q=I.year,Y=I.month,ee=I.day,q=I.hours,te=I.minutes,H=I.seconds,z=I.milliseconds,Z=I.zone,ae=new Date,re=ee||(Q||Y?1:ae.getDate()),le=Q||ae.getFullYear(),de=0;Q&&!Y||(de=Y>0?Y-1:ae.getMonth());var ve=q||0,ge=te||0,se=H||0,xe=z||0;return Z?new Date(Date.UTC(le,de,re,ve,ge,se,xe+60*Z.offset*1e3)):U?new Date(Date.UTC(le,de,re,ve,ge,se,xe)):new Date(le,de,re,ve,ge,se,xe)}catch{return new Date("")}})(O,W,F),this.init(),C&&C!==!0&&(this.$L=this.locale(C).$L),D&&O!=this.format(W)&&(this.$d=new Date("")),u={}}else if(W instanceof Array)for(var S=W.length,T=1;T<=S;T+=1){B[1]=W[T-1];var A=R.apply(this,B);if(A.isValid()){this.$d=A.$d,this.$L=A.$L,this.init();break}T===S&&(this.$d=new Date(""))}else G.call(this,V)}}}))},{}],393:[function(e,n,s){(function(i,a){typeof s=="object"&&n!==void 0?n.exports=a():(i=typeof globalThis<"u"?globalThis:i||self).dayjs_plugin_utc=a()})(void 0,(function(){var i="minute",a=/[+-]\d\d(?::?\d\d)?/g,l=/([+-]|\d\d)/g;return function(c,o,u){var p=o.prototype;u.utc=function(v){var k={date:v,utc:!0,args:arguments};return new o(k)},p.utc=function(v){var k=u(this.toDate(),{locale:this.$L,utc:!0});return v?k.add(this.utcOffset(),i):k},p.local=function(){return u(this.toDate(),{locale:this.$L,utc:!1})};var h=p.parse;p.parse=function(v){v.utc&&(this.$u=!0),this.$utils().u(v.$offset)||(this.$offset=v.$offset),h.call(this,v)};var d=p.init;p.init=function(){if(this.$u){var v=this.$d;this.$y=v.getUTCFullYear(),this.$M=v.getUTCMonth(),this.$D=v.getUTCDate(),this.$W=v.getUTCDay(),this.$H=v.getUTCHours(),this.$m=v.getUTCMinutes(),this.$s=v.getUTCSeconds(),this.$ms=v.getUTCMilliseconds()}else d.call(this)};var b=p.utcOffset;p.utcOffset=function(v,k){var R=this.$utils().u;if(R(v))return this.$u?0:R(this.$offset)?b.call(this):this.$offset;if(typeof v=="string"&&(v=(function(O){O===void 0&&(O="");var F=O.match(a);if(!F)return null;var B=(""+F[0]).match(l)||["-",0,0],W=B[0],P=60*+B[1]+ +B[2];return P===0?0:W==="+"?P:-P})(v))===null)return this;var L=Math.abs(v)<=16?60*v:v,G=this;if(k)return G.$offset=L,G.$u=v===0,G;if(v!==0){var V=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(G=this.local().add(L+V,i)).$offset=L,G.$x.$localOffset=V}else G=this.utc();return G};var x=p.format;p.format=function(v){var k=v||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return x.call(this,k)},p.valueOf=function(){var v=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*v},p.isUTC=function(){return!!this.$u},p.toISOString=function(){return this.toDate().toISOString()},p.toString=function(){return this.toDate().toUTCString()};var g=p.toDate;p.toDate=function(v){return v==="s"&&this.$offset?u(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():g.call(this)};var w=p.diff;p.diff=function(v,k,R){if(v&&this.$u===v.$u)return w.call(this,v,k,R);var L=this.local(),G=u(v).local();return w.call(L,G,k,R)}}}))},{}],394:[function(e,n,s){s.utils=e("./des/utils"),s.Cipher=e("./des/cipher"),s.DES=e("./des/des"),s.CBC=e("./des/cbc"),s.EDE=e("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(e,n,s){var i=e("minimalistic-assert"),a=e("inherits"),l={};function c(o){i.equal(o.length,8,"Invalid IV length"),this.iv=new Array(8);for(var u=0;u<this.iv.length;u++)this.iv[u]=o[u]}s.instantiate=function(o){function u(b){o.call(this,b),this._cbcInit()}a(u,o);for(var p=Object.keys(l),h=0;h<p.length;h++){var d=p[h];u.prototype[d]=l[d]}return u.create=function(b){return new u(b)},u},l._cbcInit=function(){var o=new c(this.options.iv);this._cbcState=o},l._update=function(o,u,p,h){var d=this._cbcState,b=this.constructor.super_.prototype,x=d.iv;if(this.type==="encrypt"){for(var g=0;g<this.blockSize;g++)x[g]^=o[u+g];for(b._update.call(this,x,0,p,h),g=0;g<this.blockSize;g++)x[g]=p[h+g]}else{for(b._update.call(this,o,u,p,h),g=0;g<this.blockSize;g++)p[h+g]^=x[g];for(g=0;g<this.blockSize;g++)x[g]=o[u+g]}}},{inherits:440,"minimalistic-assert":453}],396:[function(e,n,s){var i=e("minimalistic-assert");function a(l){this.options=l,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=l.padding!==!1}n.exports=a,a.prototype._init=function(){},a.prototype.update=function(l){return l.length===0?[]:this.type==="decrypt"?this._updateDecrypt(l):this._updateEncrypt(l)},a.prototype._buffer=function(l,c){for(var o=Math.min(this.buffer.length-this.bufferOff,l.length-c),u=0;u<o;u++)this.buffer[this.bufferOff+u]=l[c+u];return this.bufferOff+=o,o},a.prototype._flushBuffer=function(l,c){return this._update(this.buffer,0,l,c),this.bufferOff=0,this.blockSize},a.prototype._updateEncrypt=function(l){var c=0,o=0,u=(this.bufferOff+l.length)/this.blockSize|0,p=new Array(u*this.blockSize);this.bufferOff!==0&&(c+=this._buffer(l,c),this.bufferOff===this.buffer.length&&(o+=this._flushBuffer(p,o)));for(var h=l.length-(l.length-c)%this.blockSize;c<h;c+=this.blockSize)this._update(l,c,p,o),o+=this.blockSize;for(;c<l.length;c++,this.bufferOff++)this.buffer[this.bufferOff]=l[c];return p},a.prototype._updateDecrypt=function(l){for(var c=0,o=0,u=Math.ceil((this.bufferOff+l.length)/this.blockSize)-1,p=new Array(u*this.blockSize);u>0;u--)c+=this._buffer(l,c),o+=this._flushBuffer(p,o);return c+=this._buffer(l,c),p},a.prototype.final=function(l){var c,o;return l&&(c=this.update(l)),o=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),c?c.concat(o):o},a.prototype._pad=function(l,c){if(c===0)return!1;for(;c<l.length;)l[c++]=0;return!0},a.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var l=new Array(this.blockSize);return this._update(this.buffer,0,l,0),l},a.prototype._unpad=function(l){return l},a.prototype._finalDecrypt=function(){i.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var l=new Array(this.blockSize);return this._flushBuffer(l,0),this._unpad(l)}},{"minimalistic-assert":453}],397:[function(e,n,s){var i=e("minimalistic-assert"),a=e("inherits"),l=e("./utils"),c=e("./cipher");function o(){this.tmp=new Array(2),this.keys=null}function u(h){c.call(this,h);var d=new o;this._desState=d,this.deriveKeys(d,h.key)}a(u,c),n.exports=u,u.create=function(h){return new u(h)};var p=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];u.prototype.deriveKeys=function(h,d){h.keys=new Array(32),i.equal(d.length,this.blockSize,"Invalid key length");var b=l.readUInt32BE(d,0),x=l.readUInt32BE(d,4);l.pc1(b,x,h.tmp,0),b=h.tmp[0],x=h.tmp[1];for(var g=0;g<h.keys.length;g+=2){var w=p[g>>>1];b=l.r28shl(b,w),x=l.r28shl(x,w),l.pc2(b,x,h.keys,g)}},u.prototype._update=function(h,d,b,x){var g=this._desState,w=l.readUInt32BE(h,d),v=l.readUInt32BE(h,d+4);l.ip(w,v,g.tmp,0),w=g.tmp[0],v=g.tmp[1],this.type==="encrypt"?this._encrypt(g,w,v,g.tmp,0):this._decrypt(g,w,v,g.tmp,0),w=g.tmp[0],v=g.tmp[1],l.writeUInt32BE(b,w,x),l.writeUInt32BE(b,v,x+4)},u.prototype._pad=function(h,d){if(this.padding===!1)return!1;for(var b=h.length-d,x=d;x<h.length;x++)h[x]=b;return!0},u.prototype._unpad=function(h){if(this.padding===!1)return h;for(var d=h[h.length-1],b=h.length-d;b<h.length;b++)i.equal(h[b],d);return h.slice(0,h.length-d)},u.prototype._encrypt=function(h,d,b,x,g){for(var w=d,v=b,k=0;k<h.keys.length;k+=2){var R=h.keys[k],L=h.keys[k+1];l.expand(v,h.tmp,0),R^=h.tmp[0],L^=h.tmp[1];var G=l.substitute(R,L),V=v;v=(w^l.permute(G))>>>0,w=V}l.rip(v,w,x,g)},u.prototype._decrypt=function(h,d,b,x,g){for(var w=b,v=d,k=h.keys.length-2;k>=0;k-=2){var R=h.keys[k],L=h.keys[k+1];l.expand(w,h.tmp,0),R^=h.tmp[0],L^=h.tmp[1];var G=l.substitute(R,L),V=w;w=(v^l.permute(G))>>>0,v=V}l.rip(w,v,x,g)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(e,n,s){var i=e("minimalistic-assert"),a=e("inherits"),l=e("./cipher"),c=e("./des");function o(p,h){i.equal(h.length,24,"Invalid key length");var d=h.slice(0,8),b=h.slice(8,16),x=h.slice(16,24);this.ciphers=p==="encrypt"?[c.create({type:"encrypt",key:d}),c.create({type:"decrypt",key:b}),c.create({type:"encrypt",key:x})]:[c.create({type:"decrypt",key:x}),c.create({type:"encrypt",key:b}),c.create({type:"decrypt",key:d})]}function u(p){l.call(this,p);var h=new o(this.type,this.options.key);this._edeState=h}a(u,l),n.exports=u,u.create=function(p){return new u(p)},u.prototype._update=function(p,h,d,b){var x=this._edeState;x.ciphers[0]._update(p,h,d,b),x.ciphers[1]._update(d,b,d,b),x.ciphers[2]._update(d,b,d,b)},u.prototype._pad=c.prototype._pad,u.prototype._unpad=c.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(e,n,s){s.readUInt32BE=function(c,o){return(c[0+o]<<24|c[1+o]<<16|c[2+o]<<8|c[3+o])>>>0},s.writeUInt32BE=function(c,o,u){c[0+u]=o>>>24,c[1+u]=o>>>16&255,c[2+u]=o>>>8&255,c[3+u]=255&o},s.ip=function(c,o,u,p){for(var h=0,d=0,b=6;b>=0;b-=2){for(var x=0;x<=24;x+=8)h<<=1,h|=o>>>x+b&1;for(x=0;x<=24;x+=8)h<<=1,h|=c>>>x+b&1}for(b=6;b>=0;b-=2){for(x=1;x<=25;x+=8)d<<=1,d|=o>>>x+b&1;for(x=1;x<=25;x+=8)d<<=1,d|=c>>>x+b&1}u[p+0]=h>>>0,u[p+1]=d>>>0},s.rip=function(c,o,u,p){for(var h=0,d=0,b=0;b<4;b++)for(var x=24;x>=0;x-=8)h<<=1,h|=o>>>x+b&1,h<<=1,h|=c>>>x+b&1;for(b=4;b<8;b++)for(x=24;x>=0;x-=8)d<<=1,d|=o>>>x+b&1,d<<=1,d|=c>>>x+b&1;u[p+0]=h>>>0,u[p+1]=d>>>0},s.pc1=function(c,o,u,p){for(var h=0,d=0,b=7;b>=5;b--){for(var x=0;x<=24;x+=8)h<<=1,h|=o>>x+b&1;for(x=0;x<=24;x+=8)h<<=1,h|=c>>x+b&1}for(x=0;x<=24;x+=8)h<<=1,h|=o>>x+b&1;for(b=1;b<=3;b++){for(x=0;x<=24;x+=8)d<<=1,d|=o>>x+b&1;for(x=0;x<=24;x+=8)d<<=1,d|=c>>x+b&1}for(x=0;x<=24;x+=8)d<<=1,d|=c>>x+b&1;u[p+0]=h>>>0,u[p+1]=d>>>0},s.r28shl=function(c,o){return c<<o&268435455|c>>>28-o};var i=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];s.pc2=function(c,o,u,p){for(var h=0,d=0,b=i.length>>>1,x=0;x<b;x++)h<<=1,h|=c>>>i[x]&1;for(x=b;x<i.length;x++)d<<=1,d|=o>>>i[x]&1;u[p+0]=h>>>0,u[p+1]=d>>>0},s.expand=function(c,o,u){var p=0,h=0;p=(1&c)<<5|c>>>27;for(var d=23;d>=15;d-=4)p<<=6,p|=c>>>d&63;for(d=11;d>=3;d-=4)h|=c>>>d&63,h<<=6;h|=(31&c)<<1|c>>>31,o[u+0]=p>>>0,o[u+1]=h>>>0};var a=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];s.substitute=function(c,o){for(var u=0,p=0;p<4;p++)u<<=4,u|=a[64*p+(c>>>18-6*p&63)];for(p=0;p<4;p++)u<<=4,u|=a[256+64*p+(o>>>18-6*p&63)];return u>>>0};var l=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];s.permute=function(c){for(var o=0,u=0;u<l.length;u++)o<<=1,o|=c>>>l[u]&1;return o>>>0},s.padSplit=function(c,o,u){for(var p=c.toString(2);p.length<o;)p="0"+p;for(var h=[],d=0;d<o;d+=u)h.push(p.slice(d,d+u));return h.join(" ")}},{}],400:[function(e,n,s){(function(i){(function(){var a=e("./lib/generatePrime"),l=e("./lib/primes.json"),c=e("./lib/dh"),o={binary:!0,hex:!0,base64:!0};s.DiffieHellmanGroup=s.createDiffieHellmanGroup=s.getDiffieHellman=function(u){var p=new i(l[u].prime,"hex"),h=new i(l[u].gen,"hex");return new c(p,h)},s.createDiffieHellman=s.DiffieHellman=function u(p,h,d,b){return i.isBuffer(h)||o[h]===void 0?u(p,"binary",h,d):(h=h||"binary",b=b||"binary",d=d||new i([2]),i.isBuffer(d)||(d=new i(d,b)),typeof p=="number"?new c(a(p,d),d,!0):(i.isBuffer(p)||(p=new i(p,h)),new c(p,d,!0)))}}).call(this)}).call(this,e("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(e,n,s){(function(i){(function(){var a=e("bn.js"),l=new(e("miller-rabin")),c=new a(24),o=new a(11),u=new a(10),p=new a(3),h=new a(7),d=e("./generatePrime"),b=e("randombytes");function x(R,L){return L=L||"utf8",i.isBuffer(R)||(R=new i(R,L)),this._pub=new a(R),this}function g(R,L){return L=L||"utf8",i.isBuffer(R)||(R=new i(R,L)),this._priv=new a(R),this}n.exports=v;var w={};function v(R,L,G){this.setGenerator(L),this.__prime=new a(R),this._prime=a.mont(this.__prime),this._primeLen=R.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,G?(this.setPublicKey=x,this.setPrivateKey=g):this._primeCode=8}function k(R,L){var G=new i(R.toArray());return L?G.toString(L):G}Object.defineProperty(v.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=(function(R,L){var G=L.toString("hex"),V=[G,R.toString(16)].join("_");if(V in w)return w[V];var O,F=0;if(R.isEven()||!d.simpleSieve||!d.fermatTest(R)||!l.test(R))return F+=1,F+=G==="02"||G==="05"?8:4,w[V]=F,F;switch(l.test(R.shrn(1))||(F+=2),G){case"02":R.mod(c).cmp(o)&&(F+=8);break;case"05":(O=R.mod(u)).cmp(p)&&O.cmp(h)&&(F+=8);break;default:F+=4}return w[V]=F,F})(this.__prime,this.__gen)),this._primeCode}}),v.prototype.generateKeys=function(){return this._priv||(this._priv=new a(b(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},v.prototype.computeSecret=function(R){var L=(R=(R=new a(R)).toRed(this._prime)).redPow(this._priv).fromRed(),G=new i(L.toArray()),V=this.getPrime();if(G.length<V.length){var O=new i(V.length-G.length);O.fill(0),G=i.concat([O,G])}return G},v.prototype.getPublicKey=function(R){return k(this._pub,R)},v.prototype.getPrivateKey=function(R){return k(this._priv,R)},v.prototype.getPrime=function(R){return k(this.__prime,R)},v.prototype.getGenerator=function(R){return k(this._gen,R)},v.prototype.setGenerator=function(R,L){return L=L||"utf8",i.isBuffer(R)||(R=new i(R,L)),this.__gen=R,this._gen=new a(R),this}}).call(this)}).call(this,e("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(e,n,s){var i=e("randombytes");n.exports=R,R.simpleSieve=v,R.fermatTest=k;var a=e("bn.js"),l=new a(24),c=new(e("miller-rabin")),o=new a(1),u=new a(2),p=new a(5),h=(new a(16),new a(8),new a(10)),d=new a(3),b=(new a(7),new a(11)),x=new a(4),g=(new a(12),null);function w(){if(g!==null)return g;var L=[];L[0]=2;for(var G=1,V=3;V<1048576;V+=2){for(var O=Math.ceil(Math.sqrt(V)),F=0;F<G&&L[F]<=O&&V%L[F]!=0;F++);G!==F&&L[F]<=O||(L[G++]=V)}return g=L,L}function v(L){for(var G=w(),V=0;V<G.length;V++)if(L.modn(G[V])===0)return L.cmpn(G[V])===0;return!0}function k(L){var G=a.mont(L);return u.toRed(G).redPow(L.subn(1)).fromRed().cmpn(1)===0}function R(L,G){if(L<16)return new a(G===2||G===5?[140,123]:[140,39]);var V,O;for(G=new a(G);;){for(V=new a(i(Math.ceil(L/8)));V.bitLength()>L;)V.ishrn(1);if(V.isEven()&&V.iadd(o),V.testn(1)||V.iadd(u),G.cmp(u)){if(!G.cmp(p))for(;V.mod(h).cmp(d);)V.iadd(x)}else for(;V.mod(l).cmp(b);)V.iadd(x);if(v(O=V.shrn(1))&&v(V)&&k(O)&&k(V)&&c.test(O)&&c.test(V))return V}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(e,n,s){n.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(e,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],405:[function(e,n,s){var i=s;i.version=e("../package.json").version,i.utils=e("./elliptic/utils"),i.rand=e("brorand"),i.curve=e("./elliptic/curve"),i.curves=e("./elliptic/curves"),i.ec=e("./elliptic/ec"),i.eddsa=e("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(e,n,s){var i=e("bn.js"),a=e("../utils"),l=a.getNAF,c=a.getJSF,o=a.assert;function u(h,d){this.type=h,this.p=new i(d.p,16),this.red=d.prime?i.red(d.prime):i.mont(this.p),this.zero=new i(0).toRed(this.red),this.one=new i(1).toRed(this.red),this.two=new i(2).toRed(this.red),this.n=d.n&&new i(d.n,16),this.g=d.g&&this.pointFromJSON(d.g,d.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var b=this.n&&this.p.div(this.n);!b||b.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function p(h,d){this.curve=h,this.type=d,this.precomputed=null}n.exports=u,u.prototype.point=function(){throw new Error("Not implemented")},u.prototype.validate=function(){throw new Error("Not implemented")},u.prototype._fixedNafMul=function(h,d){o(h.precomputed);var b=h._getDoubles(),x=l(d,1,this._bitLength),g=(1<<b.step+1)-(b.step%2==0?2:1);g/=3;var w,v,k=[];for(w=0;w<x.length;w+=b.step){v=0;for(var R=w+b.step-1;R>=w;R--)v=(v<<1)+x[R];k.push(v)}for(var L=this.jpoint(null,null,null),G=this.jpoint(null,null,null),V=g;V>0;V--){for(w=0;w<k.length;w++)(v=k[w])===V?G=G.mixedAdd(b.points[w]):v===-V&&(G=G.mixedAdd(b.points[w].neg()));L=L.add(G)}return L.toP()},u.prototype._wnafMul=function(h,d){var b=4,x=h._getNAFPoints(b);b=x.wnd;for(var g=x.points,w=l(d,b,this._bitLength),v=this.jpoint(null,null,null),k=w.length-1;k>=0;k--){for(var R=0;k>=0&&w[k]===0;k--)R++;if(k>=0&&R++,v=v.dblp(R),k<0)break;var L=w[k];o(L!==0),v=h.type==="affine"?L>0?v.mixedAdd(g[L-1>>1]):v.mixedAdd(g[-L-1>>1].neg()):L>0?v.add(g[L-1>>1]):v.add(g[-L-1>>1].neg())}return h.type==="affine"?v.toP():v},u.prototype._wnafMulAdd=function(h,d,b,x,g){var w,v,k,R=this._wnafT1,L=this._wnafT2,G=this._wnafT3,V=0;for(w=0;w<x;w++){var O=(k=d[w])._getNAFPoints(h);R[w]=O.wnd,L[w]=O.points}for(w=x-1;w>=1;w-=2){var F=w-1,B=w;if(R[F]===1&&R[B]===1){var W=[d[F],null,null,d[B]];d[F].y.cmp(d[B].y)===0?(W[1]=d[F].add(d[B]),W[2]=d[F].toJ().mixedAdd(d[B].neg())):d[F].y.cmp(d[B].y.redNeg())===0?(W[1]=d[F].toJ().mixedAdd(d[B]),W[2]=d[F].add(d[B].neg())):(W[1]=d[F].toJ().mixedAdd(d[B]),W[2]=d[F].toJ().mixedAdd(d[B].neg()));var P=[-3,-1,-5,-7,0,7,5,1,3],N=c(b[F],b[B]);for(V=Math.max(N[0].length,V),G[F]=new Array(V),G[B]=new Array(V),v=0;v<V;v++){var D=0|N[0][v],C=0|N[1][v];G[F][v]=P[3*(D+1)+(C+1)],G[B][v]=0,L[F]=W}}else G[F]=l(b[F],R[F],this._bitLength),G[B]=l(b[B],R[B],this._bitLength),V=Math.max(G[F].length,V),V=Math.max(G[B].length,V)}var S=this.jpoint(null,null,null),T=this._wnafT4;for(w=V;w>=0;w--){for(var A=0;w>=0;){var E=!0;for(v=0;v<x;v++)T[v]=0|G[v][w],T[v]!==0&&(E=!1);if(!E)break;A++,w--}if(w>=0&&A++,S=S.dblp(A),w<0)break;for(v=0;v<x;v++){var j=T[v];j!==0&&(j>0?k=L[v][j-1>>1]:j<0&&(k=L[v][-j-1>>1].neg()),S=k.type==="affine"?S.mixedAdd(k):S.add(k))}}for(w=0;w<x;w++)L[w]=null;return g?S:S.toP()},u.BasePoint=p,p.prototype.eq=function(){throw new Error("Not implemented")},p.prototype.validate=function(){return this.curve.validate(this)},u.prototype.decodePoint=function(h,d){h=a.toArray(h,d);var b=this.p.byteLength();if((h[0]===4||h[0]===6||h[0]===7)&&h.length-1==2*b)return h[0]===6?o(h[h.length-1]%2==0):h[0]===7&&o(h[h.length-1]%2==1),this.point(h.slice(1,1+b),h.slice(1+b,1+2*b));if((h[0]===2||h[0]===3)&&h.length-1===b)return this.pointFromX(h.slice(1,1+b),h[0]===3);throw new Error("Unknown point format")},p.prototype.encodeCompressed=function(h){return this.encode(h,!0)},p.prototype._encode=function(h){var d=this.curve.p.byteLength(),b=this.getX().toArray("be",d);return h?[this.getY().isEven()?2:3].concat(b):[4].concat(b,this.getY().toArray("be",d))},p.prototype.encode=function(h,d){return a.encode(this._encode(d),h)},p.prototype.precompute=function(h){if(this.precomputed)return this;var d={doubles:null,naf:null,beta:null};return d.naf=this._getNAFPoints(8),d.doubles=this._getDoubles(4,h),d.beta=this._getBeta(),this.precomputed=d,this},p.prototype._hasDoubles=function(h){if(!this.precomputed)return!1;var d=this.precomputed.doubles;return!!d&&d.points.length>=Math.ceil((h.bitLength()+1)/d.step)},p.prototype._getDoubles=function(h,d){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var b=[this],x=this,g=0;g<d;g+=h){for(var w=0;w<h;w++)x=x.dbl();b.push(x)}return{step:h,points:b}},p.prototype._getNAFPoints=function(h){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var d=[this],b=(1<<h)-1,x=b===1?null:this.dbl(),g=1;g<b;g++)d[g]=d[g-1].add(x);return{wnd:h,points:d}},p.prototype._getBeta=function(){return null},p.prototype.dblp=function(h){for(var d=this,b=0;b<h;b++)d=d.dbl();return d}},{"../utils":419,"bn.js":420}],407:[function(e,n,s){var i=e("../utils"),a=e("bn.js"),l=e("inherits"),c=e("./base"),o=i.assert;function u(h){this.twisted=(0|h.a)!=1,this.mOneA=this.twisted&&(0|h.a)==-1,this.extended=this.mOneA,c.call(this,"edwards",h),this.a=new a(h.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new a(h.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new a(h.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),o(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|h.c)==1}function p(h,d,b,x,g){c.BasePoint.call(this,h,"projective"),d===null&&b===null&&x===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new a(d,16),this.y=new a(b,16),this.z=x?new a(x,16):this.curve.one,this.t=g&&new a(g,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}l(u,c),n.exports=u,u.prototype._mulA=function(h){return this.mOneA?h.redNeg():this.a.redMul(h)},u.prototype._mulC=function(h){return this.oneC?h:this.c.redMul(h)},u.prototype.jpoint=function(h,d,b,x){return this.point(h,d,b,x)},u.prototype.pointFromX=function(h,d){(h=new a(h,16)).red||(h=h.toRed(this.red));var b=h.redSqr(),x=this.c2.redSub(this.a.redMul(b)),g=this.one.redSub(this.c2.redMul(this.d).redMul(b)),w=x.redMul(g.redInvm()),v=w.redSqrt();if(v.redSqr().redSub(w).cmp(this.zero)!==0)throw new Error("invalid point");var k=v.fromRed().isOdd();return(d&&!k||!d&&k)&&(v=v.redNeg()),this.point(h,v)},u.prototype.pointFromY=function(h,d){(h=new a(h,16)).red||(h=h.toRed(this.red));var b=h.redSqr(),x=b.redSub(this.c2),g=b.redMul(this.d).redMul(this.c2).redSub(this.a),w=x.redMul(g.redInvm());if(w.cmp(this.zero)===0){if(d)throw new Error("invalid point");return this.point(this.zero,h)}var v=w.redSqrt();if(v.redSqr().redSub(w).cmp(this.zero)!==0)throw new Error("invalid point");return v.fromRed().isOdd()!==d&&(v=v.redNeg()),this.point(v,h)},u.prototype.validate=function(h){if(h.isInfinity())return!0;h.normalize();var d=h.x.redSqr(),b=h.y.redSqr(),x=d.redMul(this.a).redAdd(b),g=this.c2.redMul(this.one.redAdd(this.d.redMul(d).redMul(b)));return x.cmp(g)===0},l(p,c.BasePoint),u.prototype.pointFromJSON=function(h){return p.fromJSON(this,h)},u.prototype.point=function(h,d,b,x){return new p(this,h,d,b,x)},p.fromJSON=function(h,d){return new p(h,d[0],d[1],d[2])},p.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},p.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},p.prototype._extDbl=function(){var h=this.x.redSqr(),d=this.y.redSqr(),b=this.z.redSqr();b=b.redIAdd(b);var x=this.curve._mulA(h),g=this.x.redAdd(this.y).redSqr().redISub(h).redISub(d),w=x.redAdd(d),v=w.redSub(b),k=x.redSub(d),R=g.redMul(v),L=w.redMul(k),G=g.redMul(k),V=v.redMul(w);return this.curve.point(R,L,V,G)},p.prototype._projDbl=function(){var h,d,b,x,g,w,v=this.x.redAdd(this.y).redSqr(),k=this.x.redSqr(),R=this.y.redSqr();if(this.curve.twisted){var L=(x=this.curve._mulA(k)).redAdd(R);this.zOne?(h=v.redSub(k).redSub(R).redMul(L.redSub(this.curve.two)),d=L.redMul(x.redSub(R)),b=L.redSqr().redSub(L).redSub(L)):(g=this.z.redSqr(),w=L.redSub(g).redISub(g),h=v.redSub(k).redISub(R).redMul(w),d=L.redMul(x.redSub(R)),b=L.redMul(w))}else x=k.redAdd(R),g=this.curve._mulC(this.z).redSqr(),w=x.redSub(g).redSub(g),h=this.curve._mulC(v.redISub(x)).redMul(w),d=this.curve._mulC(x).redMul(k.redISub(R)),b=x.redMul(w);return this.curve.point(h,d,b)},p.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},p.prototype._extAdd=function(h){var d=this.y.redSub(this.x).redMul(h.y.redSub(h.x)),b=this.y.redAdd(this.x).redMul(h.y.redAdd(h.x)),x=this.t.redMul(this.curve.dd).redMul(h.t),g=this.z.redMul(h.z.redAdd(h.z)),w=b.redSub(d),v=g.redSub(x),k=g.redAdd(x),R=b.redAdd(d),L=w.redMul(v),G=k.redMul(R),V=w.redMul(R),O=v.redMul(k);return this.curve.point(L,G,O,V)},p.prototype._projAdd=function(h){var d,b,x=this.z.redMul(h.z),g=x.redSqr(),w=this.x.redMul(h.x),v=this.y.redMul(h.y),k=this.curve.d.redMul(w).redMul(v),R=g.redSub(k),L=g.redAdd(k),G=this.x.redAdd(this.y).redMul(h.x.redAdd(h.y)).redISub(w).redISub(v),V=x.redMul(R).redMul(G);return this.curve.twisted?(d=x.redMul(L).redMul(v.redSub(this.curve._mulA(w))),b=R.redMul(L)):(d=x.redMul(L).redMul(v.redSub(w)),b=this.curve._mulC(R).redMul(L)),this.curve.point(V,d,b)},p.prototype.add=function(h){return this.isInfinity()?h:h.isInfinity()?this:this.curve.extended?this._extAdd(h):this._projAdd(h)},p.prototype.mul=function(h){return this._hasDoubles(h)?this.curve._fixedNafMul(this,h):this.curve._wnafMul(this,h)},p.prototype.mulAdd=function(h,d,b){return this.curve._wnafMulAdd(1,[this,d],[h,b],2,!1)},p.prototype.jmulAdd=function(h,d,b){return this.curve._wnafMulAdd(1,[this,d],[h,b],2,!0)},p.prototype.normalize=function(){if(this.zOne)return this;var h=this.z.redInvm();return this.x=this.x.redMul(h),this.y=this.y.redMul(h),this.t&&(this.t=this.t.redMul(h)),this.z=this.curve.one,this.zOne=!0,this},p.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},p.prototype.getX=function(){return this.normalize(),this.x.fromRed()},p.prototype.getY=function(){return this.normalize(),this.y.fromRed()},p.prototype.eq=function(h){return this===h||this.getX().cmp(h.getX())===0&&this.getY().cmp(h.getY())===0},p.prototype.eqXToP=function(h){var d=h.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(d)===0)return!0;for(var b=h.clone(),x=this.curve.redN.redMul(this.z);;){if(b.iadd(this.curve.n),b.cmp(this.curve.p)>=0)return!1;if(d.redIAdd(x),this.x.cmp(d)===0)return!0}},p.prototype.toP=p.prototype.normalize,p.prototype.mixedAdd=p.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(e,n,s){var i=s;i.base=e("./base"),i.short=e("./short"),i.mont=e("./mont"),i.edwards=e("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(e,n,s){var i=e("bn.js"),a=e("inherits"),l=e("./base"),c=e("../utils");function o(p){l.call(this,"mont",p),this.a=new i(p.a,16).toRed(this.red),this.b=new i(p.b,16).toRed(this.red),this.i4=new i(4).toRed(this.red).redInvm(),this.two=new i(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(p,h,d){l.BasePoint.call(this,p,"projective"),h===null&&d===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new i(h,16),this.z=new i(d,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}a(o,l),n.exports=o,o.prototype.validate=function(p){var h=p.normalize().x,d=h.redSqr(),b=d.redMul(h).redAdd(d.redMul(this.a)).redAdd(h);return b.redSqrt().redSqr().cmp(b)===0},a(u,l.BasePoint),o.prototype.decodePoint=function(p,h){return this.point(c.toArray(p,h),1)},o.prototype.point=function(p,h){return new u(this,p,h)},o.prototype.pointFromJSON=function(p){return u.fromJSON(this,p)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(p,h){return new u(p,h[0],h[1]||p.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.z.cmpn(0)===0},u.prototype.dbl=function(){var p=this.x.redAdd(this.z).redSqr(),h=this.x.redSub(this.z).redSqr(),d=p.redSub(h),b=p.redMul(h),x=d.redMul(h.redAdd(this.curve.a24.redMul(d)));return this.curve.point(b,x)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(p,h){var d=this.x.redAdd(this.z),b=this.x.redSub(this.z),x=p.x.redAdd(p.z),g=p.x.redSub(p.z).redMul(d),w=x.redMul(b),v=h.z.redMul(g.redAdd(w).redSqr()),k=h.x.redMul(g.redISub(w).redSqr());return this.curve.point(v,k)},u.prototype.mul=function(p){for(var h=p.clone(),d=this,b=this.curve.point(null,null),x=[];h.cmpn(0)!==0;h.iushrn(1))x.push(h.andln(1));for(var g=x.length-1;g>=0;g--)x[g]===0?(d=d.diffAdd(b,this),b=b.dbl()):(b=d.diffAdd(b,this),d=d.dbl());return b},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(p){return this.getX().cmp(p.getX())===0},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(e,n,s){var i=e("../utils"),a=e("bn.js"),l=e("inherits"),c=e("./base"),o=i.assert;function u(d){c.call(this,"short",d),this.a=new a(d.a,16).toRed(this.red),this.b=new a(d.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(d),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function p(d,b,x,g){c.BasePoint.call(this,d,"affine"),b===null&&x===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new a(b,16),this.y=new a(x,16),g&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function h(d,b,x,g){c.BasePoint.call(this,d,"jacobian"),b===null&&x===null&&g===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new a(0)):(this.x=new a(b,16),this.y=new a(x,16),this.z=new a(g,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}l(u,c),n.exports=u,u.prototype._getEndomorphism=function(d){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var b,x;if(d.beta)b=new a(d.beta,16).toRed(this.red);else{var g=this._getEndoRoots(this.p);b=(b=g[0].cmp(g[1])<0?g[0]:g[1]).toRed(this.red)}if(d.lambda)x=new a(d.lambda,16);else{var w=this._getEndoRoots(this.n);this.g.mul(w[0]).x.cmp(this.g.x.redMul(b))===0?x=w[0]:(x=w[1],o(this.g.mul(x).x.cmp(this.g.x.redMul(b))===0))}return{beta:b,lambda:x,basis:d.basis?d.basis.map((function(v){return{a:new a(v.a,16),b:new a(v.b,16)}})):this._getEndoBasis(x)}}},u.prototype._getEndoRoots=function(d){var b=d===this.p?this.red:a.mont(d),x=new a(2).toRed(b).redInvm(),g=x.redNeg(),w=new a(3).toRed(b).redNeg().redSqrt().redMul(x);return[g.redAdd(w).fromRed(),g.redSub(w).fromRed()]},u.prototype._getEndoBasis=function(d){for(var b,x,g,w,v,k,R,L,G,V=this.n.ushrn(Math.floor(this.n.bitLength()/2)),O=d,F=this.n.clone(),B=new a(1),W=new a(0),P=new a(0),N=new a(1),D=0;O.cmpn(0)!==0;){var C=F.div(O);L=F.sub(C.mul(O)),G=P.sub(C.mul(B));var S=N.sub(C.mul(W));if(!g&&L.cmp(V)<0)b=R.neg(),x=B,g=L.neg(),w=G;else if(g&&++D==2)break;R=L,F=O,O=L,P=B,B=G,N=W,W=S}v=L.neg(),k=G;var T=g.sqr().add(w.sqr());return v.sqr().add(k.sqr()).cmp(T)>=0&&(v=b,k=x),g.negative&&(g=g.neg(),w=w.neg()),v.negative&&(v=v.neg(),k=k.neg()),[{a:g,b:w},{a:v,b:k}]},u.prototype._endoSplit=function(d){var b=this.endo.basis,x=b[0],g=b[1],w=g.b.mul(d).divRound(this.n),v=x.b.neg().mul(d).divRound(this.n),k=w.mul(x.a),R=v.mul(g.a),L=w.mul(x.b),G=v.mul(g.b);return{k1:d.sub(k).sub(R),k2:L.add(G).neg()}},u.prototype.pointFromX=function(d,b){(d=new a(d,16)).red||(d=d.toRed(this.red));var x=d.redSqr().redMul(d).redIAdd(d.redMul(this.a)).redIAdd(this.b),g=x.redSqrt();if(g.redSqr().redSub(x).cmp(this.zero)!==0)throw new Error("invalid point");var w=g.fromRed().isOdd();return(b&&!w||!b&&w)&&(g=g.redNeg()),this.point(d,g)},u.prototype.validate=function(d){if(d.inf)return!0;var b=d.x,x=d.y,g=this.a.redMul(b),w=b.redSqr().redMul(b).redIAdd(g).redIAdd(this.b);return x.redSqr().redISub(w).cmpn(0)===0},u.prototype._endoWnafMulAdd=function(d,b,x){for(var g=this._endoWnafT1,w=this._endoWnafT2,v=0;v<d.length;v++){var k=this._endoSplit(b[v]),R=d[v],L=R._getBeta();k.k1.negative&&(k.k1.ineg(),R=R.neg(!0)),k.k2.negative&&(k.k2.ineg(),L=L.neg(!0)),g[2*v]=R,g[2*v+1]=L,w[2*v]=k.k1,w[2*v+1]=k.k2}for(var G=this._wnafMulAdd(1,g,w,2*v,x),V=0;V<2*v;V++)g[V]=null,w[V]=null;return G},l(p,c.BasePoint),u.prototype.point=function(d,b,x){return new p(this,d,b,x)},u.prototype.pointFromJSON=function(d,b){return p.fromJSON(this,d,b)},p.prototype._getBeta=function(){if(this.curve.endo){var d=this.precomputed;if(d&&d.beta)return d.beta;var b=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(d){var x=this.curve,g=function(w){return x.point(w.x.redMul(x.endo.beta),w.y)};d.beta=b,b.precomputed={beta:null,naf:d.naf&&{wnd:d.naf.wnd,points:d.naf.points.map(g)},doubles:d.doubles&&{step:d.doubles.step,points:d.doubles.points.map(g)}}}return b}},p.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},p.fromJSON=function(d,b,x){typeof b=="string"&&(b=JSON.parse(b));var g=d.point(b[0],b[1],x);if(!b[2])return g;function w(k){return d.point(k[0],k[1],x)}var v=b[2];return g.precomputed={beta:null,doubles:v.doubles&&{step:v.doubles.step,points:[g].concat(v.doubles.points.map(w))},naf:v.naf&&{wnd:v.naf.wnd,points:[g].concat(v.naf.points.map(w))}},g},p.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},p.prototype.isInfinity=function(){return this.inf},p.prototype.add=function(d){if(this.inf)return d;if(d.inf)return this;if(this.eq(d))return this.dbl();if(this.neg().eq(d))return this.curve.point(null,null);if(this.x.cmp(d.x)===0)return this.curve.point(null,null);var b=this.y.redSub(d.y);b.cmpn(0)!==0&&(b=b.redMul(this.x.redSub(d.x).redInvm()));var x=b.redSqr().redISub(this.x).redISub(d.x),g=b.redMul(this.x.redSub(x)).redISub(this.y);return this.curve.point(x,g)},p.prototype.dbl=function(){if(this.inf)return this;var d=this.y.redAdd(this.y);if(d.cmpn(0)===0)return this.curve.point(null,null);var b=this.curve.a,x=this.x.redSqr(),g=d.redInvm(),w=x.redAdd(x).redIAdd(x).redIAdd(b).redMul(g),v=w.redSqr().redISub(this.x.redAdd(this.x)),k=w.redMul(this.x.redSub(v)).redISub(this.y);return this.curve.point(v,k)},p.prototype.getX=function(){return this.x.fromRed()},p.prototype.getY=function(){return this.y.fromRed()},p.prototype.mul=function(d){return d=new a(d,16),this.isInfinity()?this:this._hasDoubles(d)?this.curve._fixedNafMul(this,d):this.curve.endo?this.curve._endoWnafMulAdd([this],[d]):this.curve._wnafMul(this,d)},p.prototype.mulAdd=function(d,b,x){var g=[this,b],w=[d,x];return this.curve.endo?this.curve._endoWnafMulAdd(g,w):this.curve._wnafMulAdd(1,g,w,2)},p.prototype.jmulAdd=function(d,b,x){var g=[this,b],w=[d,x];return this.curve.endo?this.curve._endoWnafMulAdd(g,w,!0):this.curve._wnafMulAdd(1,g,w,2,!0)},p.prototype.eq=function(d){return this===d||this.inf===d.inf&&(this.inf||this.x.cmp(d.x)===0&&this.y.cmp(d.y)===0)},p.prototype.neg=function(d){if(this.inf)return this;var b=this.curve.point(this.x,this.y.redNeg());if(d&&this.precomputed){var x=this.precomputed,g=function(w){return w.neg()};b.precomputed={naf:x.naf&&{wnd:x.naf.wnd,points:x.naf.points.map(g)},doubles:x.doubles&&{step:x.doubles.step,points:x.doubles.points.map(g)}}}return b},p.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},l(h,c.BasePoint),u.prototype.jpoint=function(d,b,x){return new h(this,d,b,x)},h.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var d=this.z.redInvm(),b=d.redSqr(),x=this.x.redMul(b),g=this.y.redMul(b).redMul(d);return this.curve.point(x,g)},h.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},h.prototype.add=function(d){if(this.isInfinity())return d;if(d.isInfinity())return this;var b=d.z.redSqr(),x=this.z.redSqr(),g=this.x.redMul(b),w=d.x.redMul(x),v=this.y.redMul(b.redMul(d.z)),k=d.y.redMul(x.redMul(this.z)),R=g.redSub(w),L=v.redSub(k);if(R.cmpn(0)===0)return L.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var G=R.redSqr(),V=G.redMul(R),O=g.redMul(G),F=L.redSqr().redIAdd(V).redISub(O).redISub(O),B=L.redMul(O.redISub(F)).redISub(v.redMul(V)),W=this.z.redMul(d.z).redMul(R);return this.curve.jpoint(F,B,W)},h.prototype.mixedAdd=function(d){if(this.isInfinity())return d.toJ();if(d.isInfinity())return this;var b=this.z.redSqr(),x=this.x,g=d.x.redMul(b),w=this.y,v=d.y.redMul(b).redMul(this.z),k=x.redSub(g),R=w.redSub(v);if(k.cmpn(0)===0)return R.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var L=k.redSqr(),G=L.redMul(k),V=x.redMul(L),O=R.redSqr().redIAdd(G).redISub(V).redISub(V),F=R.redMul(V.redISub(O)).redISub(w.redMul(G)),B=this.z.redMul(k);return this.curve.jpoint(O,F,B)},h.prototype.dblp=function(d){if(d===0)return this;if(this.isInfinity())return this;if(!d)return this.dbl();var b;if(this.curve.zeroA||this.curve.threeA){var x=this;for(b=0;b<d;b++)x=x.dbl();return x}var g=this.curve.a,w=this.curve.tinv,v=this.x,k=this.y,R=this.z,L=R.redSqr().redSqr(),G=k.redAdd(k);for(b=0;b<d;b++){var V=v.redSqr(),O=G.redSqr(),F=O.redSqr(),B=V.redAdd(V).redIAdd(V).redIAdd(g.redMul(L)),W=v.redMul(O),P=B.redSqr().redISub(W.redAdd(W)),N=W.redISub(P),D=B.redMul(N);D=D.redIAdd(D).redISub(F);var C=G.redMul(R);b+1<d&&(L=L.redMul(F)),v=P,R=C,G=D}return this.curve.jpoint(v,G.redMul(w),R)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},h.prototype._zeroDbl=function(){var d,b,x;if(this.zOne){var g=this.x.redSqr(),w=this.y.redSqr(),v=w.redSqr(),k=this.x.redAdd(w).redSqr().redISub(g).redISub(v);k=k.redIAdd(k);var R=g.redAdd(g).redIAdd(g),L=R.redSqr().redISub(k).redISub(k),G=v.redIAdd(v);G=(G=G.redIAdd(G)).redIAdd(G),d=L,b=R.redMul(k.redISub(L)).redISub(G),x=this.y.redAdd(this.y)}else{var V=this.x.redSqr(),O=this.y.redSqr(),F=O.redSqr(),B=this.x.redAdd(O).redSqr().redISub(V).redISub(F);B=B.redIAdd(B);var W=V.redAdd(V).redIAdd(V),P=W.redSqr(),N=F.redIAdd(F);N=(N=N.redIAdd(N)).redIAdd(N),d=P.redISub(B).redISub(B),b=W.redMul(B.redISub(d)).redISub(N),x=(x=this.y.redMul(this.z)).redIAdd(x)}return this.curve.jpoint(d,b,x)},h.prototype._threeDbl=function(){var d,b,x;if(this.zOne){var g=this.x.redSqr(),w=this.y.redSqr(),v=w.redSqr(),k=this.x.redAdd(w).redSqr().redISub(g).redISub(v);k=k.redIAdd(k);var R=g.redAdd(g).redIAdd(g).redIAdd(this.curve.a),L=R.redSqr().redISub(k).redISub(k);d=L;var G=v.redIAdd(v);G=(G=G.redIAdd(G)).redIAdd(G),b=R.redMul(k.redISub(L)).redISub(G),x=this.y.redAdd(this.y)}else{var V=this.z.redSqr(),O=this.y.redSqr(),F=this.x.redMul(O),B=this.x.redSub(V).redMul(this.x.redAdd(V));B=B.redAdd(B).redIAdd(B);var W=F.redIAdd(F),P=(W=W.redIAdd(W)).redAdd(W);d=B.redSqr().redISub(P),x=this.y.redAdd(this.z).redSqr().redISub(O).redISub(V);var N=O.redSqr();N=(N=(N=N.redIAdd(N)).redIAdd(N)).redIAdd(N),b=B.redMul(W.redISub(d)).redISub(N)}return this.curve.jpoint(d,b,x)},h.prototype._dbl=function(){var d=this.curve.a,b=this.x,x=this.y,g=this.z,w=g.redSqr().redSqr(),v=b.redSqr(),k=x.redSqr(),R=v.redAdd(v).redIAdd(v).redIAdd(d.redMul(w)),L=b.redAdd(b),G=(L=L.redIAdd(L)).redMul(k),V=R.redSqr().redISub(G.redAdd(G)),O=G.redISub(V),F=k.redSqr();F=(F=(F=F.redIAdd(F)).redIAdd(F)).redIAdd(F);var B=R.redMul(O).redISub(F),W=x.redAdd(x).redMul(g);return this.curve.jpoint(V,B,W)},h.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var d=this.x.redSqr(),b=this.y.redSqr(),x=this.z.redSqr(),g=b.redSqr(),w=d.redAdd(d).redIAdd(d),v=w.redSqr(),k=this.x.redAdd(b).redSqr().redISub(d).redISub(g),R=(k=(k=(k=k.redIAdd(k)).redAdd(k).redIAdd(k)).redISub(v)).redSqr(),L=g.redIAdd(g);L=(L=(L=L.redIAdd(L)).redIAdd(L)).redIAdd(L);var G=w.redIAdd(k).redSqr().redISub(v).redISub(R).redISub(L),V=b.redMul(G);V=(V=V.redIAdd(V)).redIAdd(V);var O=this.x.redMul(R).redISub(V);O=(O=O.redIAdd(O)).redIAdd(O);var F=this.y.redMul(G.redMul(L.redISub(G)).redISub(k.redMul(R)));F=(F=(F=F.redIAdd(F)).redIAdd(F)).redIAdd(F);var B=this.z.redAdd(k).redSqr().redISub(x).redISub(R);return this.curve.jpoint(O,F,B)},h.prototype.mul=function(d,b){return d=new a(d,b),this.curve._wnafMul(this,d)},h.prototype.eq=function(d){if(d.type==="affine")return this.eq(d.toJ());if(this===d)return!0;var b=this.z.redSqr(),x=d.z.redSqr();if(this.x.redMul(x).redISub(d.x.redMul(b)).cmpn(0)!==0)return!1;var g=b.redMul(this.z),w=x.redMul(d.z);return this.y.redMul(w).redISub(d.y.redMul(g)).cmpn(0)===0},h.prototype.eqXToP=function(d){var b=this.z.redSqr(),x=d.toRed(this.curve.red).redMul(b);if(this.x.cmp(x)===0)return!0;for(var g=d.clone(),w=this.curve.redN.redMul(b);;){if(g.iadd(this.curve.n),g.cmp(this.curve.p)>=0)return!1;if(x.redIAdd(w),this.x.cmp(x)===0)return!0}},h.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},h.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(e,n,s){var i,a=s,l=e("hash.js"),c=e("./curve"),o=e("./utils").assert;function u(h){h.type==="short"?this.curve=new c.short(h):h.type==="edwards"?this.curve=new c.edwards(h):this.curve=new c.mont(h),this.g=this.curve.g,this.n=this.curve.n,this.hash=h.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function p(h,d){Object.defineProperty(a,h,{configurable:!0,enumerable:!0,get:function(){var b=new u(d);return Object.defineProperty(a,h,{configurable:!0,enumerable:!0,value:b}),b}})}a.PresetCurve=u,p("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:l.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),p("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:l.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),p("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:l.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),p("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:l.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),p("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:l.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),p("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:l.sha256,gRed:!1,g:["9"]}),p("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:l.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{i=e("./precomputed/secp256k1")}catch{i=void 0}p("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:l.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",i]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(e,n,s){var i=e("bn.js"),a=e("hmac-drbg"),l=e("../utils"),c=e("../curves"),o=e("brorand"),u=l.assert,p=e("./key"),h=e("./signature");function d(b){if(!(this instanceof d))return new d(b);typeof b=="string"&&(u(Object.prototype.hasOwnProperty.call(c,b),"Unknown curve "+b),b=c[b]),b instanceof c.PresetCurve&&(b={curve:b}),this.curve=b.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=b.curve.g,this.g.precompute(b.curve.n.bitLength()+1),this.hash=b.hash||b.curve.hash}n.exports=d,d.prototype.keyPair=function(b){return new p(this,b)},d.prototype.keyFromPrivate=function(b,x){return p.fromPrivate(this,b,x)},d.prototype.keyFromPublic=function(b,x){return p.fromPublic(this,b,x)},d.prototype.genKeyPair=function(b){b||(b={});for(var x=new a({hash:this.hash,pers:b.pers,persEnc:b.persEnc||"utf8",entropy:b.entropy||o(this.hash.hmacStrength),entropyEnc:b.entropy&&b.entropyEnc||"utf8",nonce:this.n.toArray()}),g=this.n.byteLength(),w=this.n.sub(new i(2));;){var v=new i(x.generate(g));if(!(v.cmp(w)>0))return v.iaddn(1),this.keyFromPrivate(v)}},d.prototype._truncateToN=function(b,x){var g=8*b.byteLength()-this.n.bitLength();return g>0&&(b=b.ushrn(g)),!x&&b.cmp(this.n)>=0?b.sub(this.n):b},d.prototype.sign=function(b,x,g,w){typeof g=="object"&&(w=g,g=null),w||(w={}),x=this.keyFromPrivate(x,g),b=this._truncateToN(new i(b,16));for(var v=this.n.byteLength(),k=x.getPrivate().toArray("be",v),R=b.toArray("be",v),L=new a({hash:this.hash,entropy:k,nonce:R,pers:w.pers,persEnc:w.persEnc||"utf8"}),G=this.n.sub(new i(1)),V=0;;V++){var O=w.k?w.k(V):new i(L.generate(this.n.byteLength()));if(!((O=this._truncateToN(O,!0)).cmpn(1)<=0||O.cmp(G)>=0)){var F=this.g.mul(O);if(!F.isInfinity()){var B=F.getX(),W=B.umod(this.n);if(W.cmpn(0)!==0){var P=O.invm(this.n).mul(W.mul(x.getPrivate()).iadd(b));if((P=P.umod(this.n)).cmpn(0)!==0){var N=(F.getY().isOdd()?1:0)|(B.cmp(W)!==0?2:0);return w.canonical&&P.cmp(this.nh)>0&&(P=this.n.sub(P),N^=1),new h({r:W,s:P,recoveryParam:N})}}}}}},d.prototype.verify=function(b,x,g,w){b=this._truncateToN(new i(b,16)),g=this.keyFromPublic(g,w);var v=(x=new h(x,"hex")).r,k=x.s;if(v.cmpn(1)<0||v.cmp(this.n)>=0||k.cmpn(1)<0||k.cmp(this.n)>=0)return!1;var R,L=k.invm(this.n),G=L.mul(b).umod(this.n),V=L.mul(v).umod(this.n);return this.curve._maxwellTrick?!(R=this.g.jmulAdd(G,g.getPublic(),V)).isInfinity()&&R.eqXToP(v):!(R=this.g.mulAdd(G,g.getPublic(),V)).isInfinity()&&R.getX().umod(this.n).cmp(v)===0},d.prototype.recoverPubKey=function(b,x,g,w){u((3&g)===g,"The recovery param is more than two bits"),x=new h(x,w);var v=this.n,k=new i(b),R=x.r,L=x.s,G=1&g,V=g>>1;if(R.cmp(this.curve.p.umod(this.curve.n))>=0&&V)throw new Error("Unable to find sencond key candinate");R=V?this.curve.pointFromX(R.add(this.curve.n),G):this.curve.pointFromX(R,G);var O=x.r.invm(v),F=v.sub(k).mul(O).umod(v),B=L.mul(O).umod(v);return this.g.mulAdd(F,R,B)},d.prototype.getKeyRecoveryParam=function(b,x,g,w){if((x=new h(x,w)).recoveryParam!==null)return x.recoveryParam;for(var v=0;v<4;v++){var k;try{k=this.recoverPubKey(b,x,v)}catch{continue}if(k.eq(g))return v}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(e,n,s){var i=e("bn.js"),a=e("../utils").assert;function l(c,o){this.ec=c,this.priv=null,this.pub=null,o.priv&&this._importPrivate(o.priv,o.privEnc),o.pub&&this._importPublic(o.pub,o.pubEnc)}n.exports=l,l.fromPublic=function(c,o,u){return o instanceof l?o:new l(c,{pub:o,pubEnc:u})},l.fromPrivate=function(c,o,u){return o instanceof l?o:new l(c,{priv:o,privEnc:u})},l.prototype.validate=function(){var c=this.getPublic();return c.isInfinity()?{result:!1,reason:"Invalid public key"}:c.validate()?c.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},l.prototype.getPublic=function(c,o){return typeof c=="string"&&(o=c,c=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),o?this.pub.encode(o,c):this.pub},l.prototype.getPrivate=function(c){return c==="hex"?this.priv.toString(16,2):this.priv},l.prototype._importPrivate=function(c,o){this.priv=new i(c,o||16),this.priv=this.priv.umod(this.ec.curve.n)},l.prototype._importPublic=function(c,o){if(c.x||c.y)return this.ec.curve.type==="mont"?a(c.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||a(c.x&&c.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(c.x,c.y));this.pub=this.ec.curve.decodePoint(c,o)},l.prototype.derive=function(c){return c.validate()||a(c.validate(),"public point not validated"),c.mul(this.priv).getX()},l.prototype.sign=function(c,o,u){return this.ec.sign(c,this,o,u)},l.prototype.verify=function(c,o){return this.ec.verify(c,o,this)},l.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(e,n,s){var i=e("bn.js"),a=e("../utils"),l=a.assert;function c(d,b){if(d instanceof c)return d;this._importDER(d,b)||(l(d.r&&d.s,"Signature without r or s"),this.r=new i(d.r,16),this.s=new i(d.s,16),d.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=d.recoveryParam)}function o(){this.place=0}function u(d,b){var x=d[b.place++];if(!(128&x))return x;var g=15&x;if(g===0||g>4)return!1;for(var w=0,v=0,k=b.place;v<g;v++,k++)w<<=8,w|=d[k],w>>>=0;return!(w<=127)&&(b.place=k,w)}function p(d){for(var b=0,x=d.length-1;!d[b]&&!(128&d[b+1])&&b<x;)b++;return b===0?d:d.slice(b)}function h(d,b){if(b<128)d.push(b);else{var x=1+(Math.log(b)/Math.LN2>>>3);for(d.push(128|x);--x;)d.push(b>>>(x<<3)&255);d.push(b)}}n.exports=c,c.prototype._importDER=function(d,b){d=a.toArray(d,b);var x=new o;if(d[x.place++]!==48)return!1;var g=u(d,x);if(g===!1||g+x.place!==d.length||d[x.place++]!==2)return!1;var w=u(d,x);if(w===!1)return!1;var v=d.slice(x.place,w+x.place);if(x.place+=w,d[x.place++]!==2)return!1;var k=u(d,x);if(k===!1||d.length!==k+x.place)return!1;var R=d.slice(x.place,k+x.place);if(v[0]===0){if(!(128&v[1]))return!1;v=v.slice(1)}if(R[0]===0){if(!(128&R[1]))return!1;R=R.slice(1)}return this.r=new i(v),this.s=new i(R),this.recoveryParam=null,!0},c.prototype.toDER=function(d){var b=this.r.toArray(),x=this.s.toArray();for(128&b[0]&&(b=[0].concat(b)),128&x[0]&&(x=[0].concat(x)),b=p(b),x=p(x);!(x[0]||128&x[1]);)x=x.slice(1);var g=[2];h(g,b.length),(g=g.concat(b)).push(2),h(g,x.length);var w=g.concat(x),v=[48];return h(v,w.length),v=v.concat(w),a.encode(v,d)}},{"../utils":419,"bn.js":420}],415:[function(e,n,s){var i=e("hash.js"),a=e("../curves"),l=e("../utils"),c=l.assert,o=l.parseBytes,u=e("./key"),p=e("./signature");function h(d){if(c(d==="ed25519","only tested with ed25519 so far"),!(this instanceof h))return new h(d);d=a[d].curve,this.curve=d,this.g=d.g,this.g.precompute(d.n.bitLength()+1),this.pointClass=d.point().constructor,this.encodingLength=Math.ceil(d.n.bitLength()/8),this.hash=i.sha512}n.exports=h,h.prototype.sign=function(d,b){d=o(d);var x=this.keyFromSecret(b),g=this.hashInt(x.messagePrefix(),d),w=this.g.mul(g),v=this.encodePoint(w),k=this.hashInt(v,x.pubBytes(),d).mul(x.priv()),R=g.add(k).umod(this.curve.n);return this.makeSignature({R:w,S:R,Rencoded:v})},h.prototype.verify=function(d,b,x){d=o(d),b=this.makeSignature(b);var g=this.keyFromPublic(x),w=this.hashInt(b.Rencoded(),g.pubBytes(),d),v=this.g.mul(b.S());return b.R().add(g.pub().mul(w)).eq(v)},h.prototype.hashInt=function(){for(var d=this.hash(),b=0;b<arguments.length;b++)d.update(arguments[b]);return l.intFromLE(d.digest()).umod(this.curve.n)},h.prototype.keyFromPublic=function(d){return u.fromPublic(this,d)},h.prototype.keyFromSecret=function(d){return u.fromSecret(this,d)},h.prototype.makeSignature=function(d){return d instanceof p?d:new p(this,d)},h.prototype.encodePoint=function(d){var b=d.getY().toArray("le",this.encodingLength);return b[this.encodingLength-1]|=d.getX().isOdd()?128:0,b},h.prototype.decodePoint=function(d){var b=(d=l.parseBytes(d)).length-1,x=d.slice(0,b).concat(-129&d[b]),g=(128&d[b])!=0,w=l.intFromLE(x);return this.curve.pointFromY(w,g)},h.prototype.encodeInt=function(d){return d.toArray("le",this.encodingLength)},h.prototype.decodeInt=function(d){return l.intFromLE(d)},h.prototype.isPoint=function(d){return d instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(e,n,s){var i=e("../utils"),a=i.assert,l=i.parseBytes,c=i.cachedProperty;function o(u,p){this.eddsa=u,this._secret=l(p.secret),u.isPoint(p.pub)?this._pub=p.pub:this._pubBytes=l(p.pub)}o.fromPublic=function(u,p){return p instanceof o?p:new o(u,{pub:p})},o.fromSecret=function(u,p){return p instanceof o?p:new o(u,{secret:p})},o.prototype.secret=function(){return this._secret},c(o,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),c(o,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),c(o,"privBytes",(function(){var u=this.eddsa,p=this.hash(),h=u.encodingLength-1,d=p.slice(0,u.encodingLength);return d[0]&=248,d[h]&=127,d[h]|=64,d})),c(o,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),c(o,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),c(o,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),o.prototype.sign=function(u){return a(this._secret,"KeyPair can only verify"),this.eddsa.sign(u,this)},o.prototype.verify=function(u,p){return this.eddsa.verify(u,p,this)},o.prototype.getSecret=function(u){return a(this._secret,"KeyPair is public only"),i.encode(this.secret(),u)},o.prototype.getPublic=function(u){return i.encode(this.pubBytes(),u)},n.exports=o},{"../utils":419}],417:[function(e,n,s){var i=e("bn.js"),a=e("../utils"),l=a.assert,c=a.cachedProperty,o=a.parseBytes;function u(p,h){this.eddsa=p,typeof h!="object"&&(h=o(h)),Array.isArray(h)&&(h={R:h.slice(0,p.encodingLength),S:h.slice(p.encodingLength)}),l(h.R&&h.S,"Signature without R or S"),p.isPoint(h.R)&&(this._R=h.R),h.S instanceof i&&(this._S=h.S),this._Rencoded=Array.isArray(h.R)?h.R:h.Rencoded,this._Sencoded=Array.isArray(h.S)?h.S:h.Sencoded}c(u,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),c(u,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),c(u,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),c(u,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),u.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},u.prototype.toHex=function(){return a.encode(this.toBytes(),"hex").toUpperCase()},n.exports=u},{"../utils":419,"bn.js":420}],418:[function(e,n,s){n.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(e,n,s){var i=s,a=e("bn.js"),l=e("minimalistic-assert"),c=e("minimalistic-crypto-utils");i.assert=l,i.toArray=c.toArray,i.zero2=c.zero2,i.toHex=c.toHex,i.encode=c.encode,i.getNAF=function(o,u,p){var h=new Array(Math.max(o.bitLength(),p)+1);h.fill(0);for(var d=1<<u+1,b=o.clone(),x=0;x<h.length;x++){var g,w=b.andln(d-1);b.isOdd()?(g=w>(d>>1)-1?(d>>1)-w:w,b.isubn(g)):g=0,h[x]=g,b.iushrn(1)}return h},i.getJSF=function(o,u){var p=[[],[]];o=o.clone(),u=u.clone();for(var h,d=0,b=0;o.cmpn(-d)>0||u.cmpn(-b)>0;){var x,g,w=o.andln(3)+d&3,v=u.andln(3)+b&3;w===3&&(w=-1),v===3&&(v=-1),x=(1&w)==0?0:(h=o.andln(7)+d&7)!==3&&h!==5||v!==2?w:-w,p[0].push(x),g=(1&v)==0?0:(h=u.andln(7)+b&7)!==3&&h!==5||w!==2?v:-v,p[1].push(g),2*d===x+1&&(d=1-d),2*b===g+1&&(b=1-b),o.iushrn(1),u.iushrn(1)}return p},i.cachedProperty=function(o,u,p){var h="_"+u;o.prototype[u]=function(){return this[h]!==void 0?this[h]:this[h]=p.call(this)}},i.parseBytes=function(o){return typeof o=="string"?i.toArray(o,"hex"):o},i.intFromLE=function(o){return new a(o,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(e,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],421:[function(e,n,s){n.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(e,n,s){var i=Object.create||function(O){var F=function(){};return F.prototype=O,new F},a=Object.keys||function(O){var F=[];for(var B in O)Object.prototype.hasOwnProperty.call(O,B)&&F.push(B);return B},l=Function.prototype.bind||function(O){var F=this;return function(){return F.apply(O,arguments)}};function c(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=i(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}n.exports=c,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._maxListeners=void 0;var o,u=10;try{var p={};Object.defineProperty&&Object.defineProperty(p,"x",{value:0}),o=p.x===0}catch{o=!1}function h(O){return O._maxListeners===void 0?c.defaultMaxListeners:O._maxListeners}function d(O,F,B){if(F)O.call(B);else for(var W=O.length,P=V(O,W),N=0;N<W;++N)P[N].call(B)}function b(O,F,B,W){if(F)O.call(B,W);else for(var P=O.length,N=V(O,P),D=0;D<P;++D)N[D].call(B,W)}function x(O,F,B,W,P){if(F)O.call(B,W,P);else for(var N=O.length,D=V(O,N),C=0;C<N;++C)D[C].call(B,W,P)}function g(O,F,B,W,P,N){if(F)O.call(B,W,P,N);else for(var D=O.length,C=V(O,D),S=0;S<D;++S)C[S].call(B,W,P,N)}function w(O,F,B,W){if(F)O.apply(B,W);else for(var P=O.length,N=V(O,P),D=0;D<P;++D)N[D].apply(B,W)}function v(O,F,B,W){var P,N,D;if(typeof B!="function")throw new TypeError('"listener" argument must be a function');if((N=O._events)?(N.newListener&&(O.emit("newListener",F,B.listener?B.listener:B),N=O._events),D=N[F]):(N=O._events=i(null),O._eventsCount=0),D){if(typeof D=="function"?D=N[F]=W?[B,D]:[D,B]:W?D.unshift(B):D.push(B),!D.warned&&(P=h(O))&&P>0&&D.length>P){D.warned=!0;var C=new Error("Possible EventEmitter memory leak detected. "+D.length+' "'+String(F)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');C.name="MaxListenersExceededWarning",C.emitter=O,C.type=F,C.count=D.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",C.name,C.message)}}else D=N[F]=B,++O._eventsCount;return O}function k(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var O=new Array(arguments.length),F=0;F<O.length;++F)O[F]=arguments[F];this.listener.apply(this.target,O)}}function R(O,F,B){var W={fired:!1,wrapFn:void 0,target:O,type:F,listener:B},P=l.call(k,W);return P.listener=B,W.wrapFn=P,P}function L(O,F,B){var W=O._events;if(!W)return[];var P=W[F];return P?typeof P=="function"?B?[P.listener||P]:[P]:B?(function(N){for(var D=new Array(N.length),C=0;C<D.length;++C)D[C]=N[C].listener||N[C];return D})(P):V(P,P.length):[]}function G(O){var F=this._events;if(F){var B=F[O];if(typeof B=="function")return 1;if(B)return B.length}return 0}function V(O,F){for(var B=new Array(F),W=0;W<F;++W)B[W]=O[W];return B}o?Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(O){if(typeof O!="number"||O<0||O!=O)throw new TypeError('"defaultMaxListeners" must be a positive number');u=O}}):c.defaultMaxListeners=u,c.prototype.setMaxListeners=function(O){if(typeof O!="number"||O<0||isNaN(O))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=O,this},c.prototype.getMaxListeners=function(){return h(this)},c.prototype.emit=function(O){var F,B,W,P,N,D,C=O==="error";if(D=this._events)C=C&&D.error==null;else if(!C)return!1;if(C){if(arguments.length>1&&(F=arguments[1]),F instanceof Error)throw F;var S=new Error('Unhandled "error" event. ('+F+")");throw S.context=F,S}if(!(B=D[O]))return!1;var T=typeof B=="function";switch(W=arguments.length){case 1:d(B,T,this);break;case 2:b(B,T,this,arguments[1]);break;case 3:x(B,T,this,arguments[1],arguments[2]);break;case 4:g(B,T,this,arguments[1],arguments[2],arguments[3]);break;default:for(P=new Array(W-1),N=1;N<W;N++)P[N-1]=arguments[N];w(B,T,this,P)}return!0},c.prototype.addListener=function(O,F){return v(this,O,F,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(O,F){return v(this,O,F,!0)},c.prototype.once=function(O,F){if(typeof F!="function")throw new TypeError('"listener" argument must be a function');return this.on(O,R(this,O,F)),this},c.prototype.prependOnceListener=function(O,F){if(typeof F!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(O,R(this,O,F)),this},c.prototype.removeListener=function(O,F){var B,W,P,N,D;if(typeof F!="function")throw new TypeError('"listener" argument must be a function');if(!(W=this._events))return this;if(!(B=W[O]))return this;if(B===F||B.listener===F)--this._eventsCount==0?this._events=i(null):(delete W[O],W.removeListener&&this.emit("removeListener",O,B.listener||F));else if(typeof B!="function"){for(P=-1,N=B.length-1;N>=0;N--)if(B[N]===F||B[N].listener===F){D=B[N].listener,P=N;break}if(P<0)return this;P===0?B.shift():(function(C,S){for(var T=S,A=T+1,E=C.length;A<E;T+=1,A+=1)C[T]=C[A];C.pop()})(B,P),B.length===1&&(W[O]=B[0]),W.removeListener&&this.emit("removeListener",O,D||F)}return this},c.prototype.removeAllListeners=function(O){var F,B,W;if(!(B=this._events))return this;if(!B.removeListener)return arguments.length===0?(this._events=i(null),this._eventsCount=0):B[O]&&(--this._eventsCount==0?this._events=i(null):delete B[O]),this;if(arguments.length===0){var P,N=a(B);for(W=0;W<N.length;++W)(P=N[W])!=="removeListener"&&this.removeAllListeners(P);return this.removeAllListeners("removeListener"),this._events=i(null),this._eventsCount=0,this}if(typeof(F=B[O])=="function")this.removeListener(O,F);else if(F)for(W=F.length-1;W>=0;W--)this.removeListener(O,F[W]);return this},c.prototype.listeners=function(O){return L(this,O,!0)},c.prototype.rawListeners=function(O){return L(this,O,!1)},c.listenerCount=function(O,F){return typeof O.listenerCount=="function"?O.listenerCount(F):G.call(O,F)},c.prototype.listenerCount=G,c.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(e,n,s){var i=e("safe-buffer").Buffer,a=e("md5.js");n.exports=function(l,c,o,u){if(i.isBuffer(l)||(l=i.from(l,"binary")),c&&(i.isBuffer(c)||(c=i.from(c,"binary")),c.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var p=o/8,h=i.alloc(p),d=i.alloc(u||0),b=i.alloc(0);p>0||u>0;){var x=new a;x.update(b),x.update(l),c&&x.update(c),b=x.digest();var g=0;if(p>0){var w=h.length-p;g=Math.min(p,b.length),b.copy(h,w,0,g),p-=g}if(g<b.length&&u>0){var v=d.length-u,k=Math.min(u,b.length-g);b.copy(d,v,g,g+k),u-=k}}return b.fill(0),{key:h,iv:d}}},{"md5.js":450,"safe-buffer":494}],424:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.CsvParserStream=s.ParserOptions=s.parseFile=s.parseStream=s.parseString=s.parse=s.FormatterOptions=s.CsvFormatterStream=s.writeToPath=s.writeToString=s.writeToBuffer=s.writeToStream=s.write=s.format=void 0;var i=e("@fast-csv/format");Object.defineProperty(s,"format",{enumerable:!0,get:function(){return i.format}}),Object.defineProperty(s,"write",{enumerable:!0,get:function(){return i.write}}),Object.defineProperty(s,"writeToStream",{enumerable:!0,get:function(){return i.writeToStream}}),Object.defineProperty(s,"writeToBuffer",{enumerable:!0,get:function(){return i.writeToBuffer}}),Object.defineProperty(s,"writeToString",{enumerable:!0,get:function(){return i.writeToString}}),Object.defineProperty(s,"writeToPath",{enumerable:!0,get:function(){return i.writeToPath}}),Object.defineProperty(s,"CsvFormatterStream",{enumerable:!0,get:function(){return i.CsvFormatterStream}}),Object.defineProperty(s,"FormatterOptions",{enumerable:!0,get:function(){return i.FormatterOptions}});var a=e("@fast-csv/parse");Object.defineProperty(s,"parse",{enumerable:!0,get:function(){return a.parse}}),Object.defineProperty(s,"parseString",{enumerable:!0,get:function(){return a.parseString}}),Object.defineProperty(s,"parseStream",{enumerable:!0,get:function(){return a.parseStream}}),Object.defineProperty(s,"parseFile",{enumerable:!0,get:function(){return a.parseFile}}),Object.defineProperty(s,"ParserOptions",{enumerable:!0,get:function(){return a.ParserOptions}}),Object.defineProperty(s,"CsvParserStream",{enumerable:!0,get:function(){return a.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(e,n,s){var i=e("safe-buffer").Buffer,a=e("readable-stream").Transform;function l(c){a.call(this),this._block=i.allocUnsafe(c),this._blockSize=c,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}e("inherits")(l,a),l.prototype._transform=function(c,o,u){var p=null;try{this.update(c,o)}catch(h){p=h}u(p)},l.prototype._flush=function(c){var o=null;try{this.push(this.digest())}catch(u){o=u}c(o)},l.prototype.update=function(c,o){if((function(x,g){if(!i.isBuffer(x)&&typeof x!="string")throw new TypeError(g+" must be a string or a buffer")})(c,"Data"),this._finalized)throw new Error("Digest already called");i.isBuffer(c)||(c=i.from(c,o));for(var u=this._block,p=0;this._blockOffset+c.length-p>=this._blockSize;){for(var h=this._blockOffset;h<this._blockSize;)u[h++]=c[p++];this._update(),this._blockOffset=0}for(;p<c.length;)u[this._blockOffset++]=c[p++];for(var d=0,b=8*c.length;b>0;++d)this._length[d]+=b,(b=this._length[d]/4294967296|0)>0&&(this._length[d]-=4294967296*b);return this},l.prototype._update=function(){throw new Error("_update is not implemented")},l.prototype.digest=function(c){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var o=this._digest();c!==void 0&&(o=o.toString(c)),this._block.fill(0),this._blockOffset=0;for(var u=0;u<4;++u)this._length[u]=0;return o},l.prototype._digest=function(){throw new Error("_digest is not implemented")},n.exports=l},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(e,n,s){var i=s;i.utils=e("./hash/utils"),i.common=e("./hash/common"),i.sha=e("./hash/sha"),i.ripemd=e("./hash/ripemd"),i.hmac=e("./hash/hmac"),i.sha1=i.sha.sha1,i.sha256=i.sha.sha256,i.sha224=i.sha.sha224,i.sha384=i.sha.sha384,i.sha512=i.sha.sha512,i.ripemd160=i.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(e,n,s){var i=e("./utils"),a=e("minimalistic-assert");function l(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}s.BlockHash=l,l.prototype.update=function(c,o){if(c=i.toArray(c,o),this.pending?this.pending=this.pending.concat(c):this.pending=c,this.pendingTotal+=c.length,this.pending.length>=this._delta8){var u=(c=this.pending).length%this._delta8;this.pending=c.slice(c.length-u,c.length),this.pending.length===0&&(this.pending=null),c=i.join32(c,0,c.length-u,this.endian);for(var p=0;p<c.length;p+=this._delta32)this._update(c,p,p+this._delta32)}return this},l.prototype.digest=function(c){return this.update(this._pad()),a(this.pending===null),this._digest(c)},l.prototype._pad=function(){var c=this.pendingTotal,o=this._delta8,u=o-(c+this.padLength)%o,p=new Array(u+this.padLength);p[0]=128;for(var h=1;h<u;h++)p[h]=0;if(c<<=3,this.endian==="big"){for(var d=8;d<this.padLength;d++)p[h++]=0;p[h++]=0,p[h++]=0,p[h++]=0,p[h++]=0,p[h++]=c>>>24&255,p[h++]=c>>>16&255,p[h++]=c>>>8&255,p[h++]=255&c}else for(p[h++]=255&c,p[h++]=c>>>8&255,p[h++]=c>>>16&255,p[h++]=c>>>24&255,p[h++]=0,p[h++]=0,p[h++]=0,p[h++]=0,d=8;d<this.padLength;d++)p[h++]=0;return p}},{"./utils":437,"minimalistic-assert":453}],428:[function(e,n,s){var i=e("./utils"),a=e("minimalistic-assert");function l(c,o,u){if(!(this instanceof l))return new l(c,o,u);this.Hash=c,this.blockSize=c.blockSize/8,this.outSize=c.outSize/8,this.inner=null,this.outer=null,this._init(i.toArray(o,u))}n.exports=l,l.prototype._init=function(c){c.length>this.blockSize&&(c=new this.Hash().update(c).digest()),a(c.length<=this.blockSize);for(var o=c.length;o<this.blockSize;o++)c.push(0);for(o=0;o<c.length;o++)c[o]^=54;for(this.inner=new this.Hash().update(c),o=0;o<c.length;o++)c[o]^=106;this.outer=new this.Hash().update(c)},l.prototype.update=function(c,o){return this.inner.update(c,o),this},l.prototype.digest=function(c){return this.outer.update(this.inner.digest()),this.outer.digest(c)}},{"./utils":437,"minimalistic-assert":453}],429:[function(e,n,s){var i=e("./utils"),a=e("./common"),l=i.rotl32,c=i.sum32,o=i.sum32_3,u=i.sum32_4,p=a.BlockHash;function h(){if(!(this instanceof h))return new h;p.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function d(R,L,G,V){return R<=15?L^G^V:R<=31?L&G|~L&V:R<=47?(L|~G)^V:R<=63?L&V|G&~V:L^(G|~V)}function b(R){return R<=15?0:R<=31?1518500249:R<=47?1859775393:R<=63?2400959708:2840853838}function x(R){return R<=15?1352829926:R<=31?1548603684:R<=47?1836072691:R<=63?2053994217:0}i.inherits(h,p),s.ripemd160=h,h.blockSize=512,h.outSize=160,h.hmacStrength=192,h.padLength=64,h.prototype._update=function(R,L){for(var G=this.h[0],V=this.h[1],O=this.h[2],F=this.h[3],B=this.h[4],W=G,P=V,N=O,D=F,C=B,S=0;S<80;S++){var T=c(l(u(G,d(S,V,O,F),R[g[S]+L],b(S)),v[S]),B);G=B,B=F,F=l(O,10),O=V,V=T,T=c(l(u(W,d(79-S,P,N,D),R[w[S]+L],x(S)),k[S]),C),W=C,C=D,D=l(N,10),N=P,P=T}T=o(this.h[1],O,D),this.h[1]=o(this.h[2],F,C),this.h[2]=o(this.h[3],B,W),this.h[3]=o(this.h[4],G,P),this.h[4]=o(this.h[0],V,N),this.h[0]=T},h.prototype._digest=function(R){return R==="hex"?i.toHex32(this.h,"little"):i.split32(this.h,"little")};var g=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],w=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],v=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],k=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(e,n,s){s.sha1=e("./sha/1"),s.sha224=e("./sha/224"),s.sha256=e("./sha/256"),s.sha384=e("./sha/384"),s.sha512=e("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(e,n,s){var i=e("../utils"),a=e("../common"),l=e("./common"),c=i.rotl32,o=i.sum32,u=i.sum32_5,p=l.ft_1,h=a.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];function b(){if(!(this instanceof b))return new b;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}i.inherits(b,h),n.exports=b,b.blockSize=512,b.outSize=160,b.hmacStrength=80,b.padLength=64,b.prototype._update=function(x,g){for(var w=this.W,v=0;v<16;v++)w[v]=x[g+v];for(;v<w.length;v++)w[v]=c(w[v-3]^w[v-8]^w[v-14]^w[v-16],1);var k=this.h[0],R=this.h[1],L=this.h[2],G=this.h[3],V=this.h[4];for(v=0;v<w.length;v++){var O=~~(v/20),F=u(c(k,5),p(O,R,L,G),V,w[v],d[O]);V=G,G=L,L=c(R,30),R=k,k=F}this.h[0]=o(this.h[0],k),this.h[1]=o(this.h[1],R),this.h[2]=o(this.h[2],L),this.h[3]=o(this.h[3],G),this.h[4]=o(this.h[4],V)},b.prototype._digest=function(x){return x==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(e,n,s){var i=e("../utils"),a=e("./256");function l(){if(!(this instanceof l))return new l;a.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}i.inherits(l,a),n.exports=l,l.blockSize=512,l.outSize=224,l.hmacStrength=192,l.padLength=64,l.prototype._digest=function(c){return c==="hex"?i.toHex32(this.h.slice(0,7),"big"):i.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(e,n,s){var i=e("../utils"),a=e("../common"),l=e("./common"),c=e("minimalistic-assert"),o=i.sum32,u=i.sum32_4,p=i.sum32_5,h=l.ch32,d=l.maj32,b=l.s0_256,x=l.s1_256,g=l.g0_256,w=l.g1_256,v=a.BlockHash,k=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function R(){if(!(this instanceof R))return new R;v.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=k,this.W=new Array(64)}i.inherits(R,v),n.exports=R,R.blockSize=512,R.outSize=256,R.hmacStrength=192,R.padLength=64,R.prototype._update=function(L,G){for(var V=this.W,O=0;O<16;O++)V[O]=L[G+O];for(;O<V.length;O++)V[O]=u(w(V[O-2]),V[O-7],g(V[O-15]),V[O-16]);var F=this.h[0],B=this.h[1],W=this.h[2],P=this.h[3],N=this.h[4],D=this.h[5],C=this.h[6],S=this.h[7];for(c(this.k.length===V.length),O=0;O<V.length;O++){var T=p(S,x(N),h(N,D,C),this.k[O],V[O]),A=o(b(F),d(F,B,W));S=C,C=D,D=N,N=o(P,T),P=W,W=B,B=F,F=o(T,A)}this.h[0]=o(this.h[0],F),this.h[1]=o(this.h[1],B),this.h[2]=o(this.h[2],W),this.h[3]=o(this.h[3],P),this.h[4]=o(this.h[4],N),this.h[5]=o(this.h[5],D),this.h[6]=o(this.h[6],C),this.h[7]=o(this.h[7],S)},R.prototype._digest=function(L){return L==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(e,n,s){var i=e("../utils"),a=e("./512");function l(){if(!(this instanceof l))return new l;a.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}i.inherits(l,a),n.exports=l,l.blockSize=1024,l.outSize=384,l.hmacStrength=192,l.padLength=128,l.prototype._digest=function(c){return c==="hex"?i.toHex32(this.h.slice(0,12),"big"):i.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(e,n,s){var i=e("../utils"),a=e("../common"),l=e("minimalistic-assert"),c=i.rotr64_hi,o=i.rotr64_lo,u=i.shr64_hi,p=i.shr64_lo,h=i.sum64,d=i.sum64_hi,b=i.sum64_lo,x=i.sum64_4_hi,g=i.sum64_4_lo,w=i.sum64_5_hi,v=i.sum64_5_lo,k=a.BlockHash,R=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function L(){if(!(this instanceof L))return new L;k.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=R,this.W=new Array(160)}function G(A,E,j,U,I){var Q=A&j^~A&I;return Q<0&&(Q+=4294967296),Q}function V(A,E,j,U,I,Q){var Y=E&U^~E&Q;return Y<0&&(Y+=4294967296),Y}function O(A,E,j,U,I){var Q=A&j^A&I^j&I;return Q<0&&(Q+=4294967296),Q}function F(A,E,j,U,I,Q){var Y=E&U^E&Q^U&Q;return Y<0&&(Y+=4294967296),Y}function B(A,E){var j=c(A,E,28)^c(E,A,2)^c(E,A,7);return j<0&&(j+=4294967296),j}function W(A,E){var j=o(A,E,28)^o(E,A,2)^o(E,A,7);return j<0&&(j+=4294967296),j}function P(A,E){var j=c(A,E,14)^c(A,E,18)^c(E,A,9);return j<0&&(j+=4294967296),j}function N(A,E){var j=o(A,E,14)^o(A,E,18)^o(E,A,9);return j<0&&(j+=4294967296),j}function D(A,E){var j=c(A,E,1)^c(A,E,8)^u(A,E,7);return j<0&&(j+=4294967296),j}function C(A,E){var j=o(A,E,1)^o(A,E,8)^p(A,E,7);return j<0&&(j+=4294967296),j}function S(A,E){var j=c(A,E,19)^c(E,A,29)^u(A,E,6);return j<0&&(j+=4294967296),j}function T(A,E){var j=o(A,E,19)^o(E,A,29)^p(A,E,6);return j<0&&(j+=4294967296),j}i.inherits(L,k),n.exports=L,L.blockSize=1024,L.outSize=512,L.hmacStrength=192,L.padLength=128,L.prototype._prepareBlock=function(A,E){for(var j=this.W,U=0;U<32;U++)j[U]=A[E+U];for(;U<j.length;U+=2){var I=S(j[U-4],j[U-3]),Q=T(j[U-4],j[U-3]),Y=j[U-14],ee=j[U-13],q=D(j[U-30],j[U-29]),te=C(j[U-30],j[U-29]),H=j[U-32],z=j[U-31];j[U]=x(I,Q,Y,ee,q,te,H,z),j[U+1]=g(I,Q,Y,ee,q,te,H,z)}},L.prototype._update=function(A,E){this._prepareBlock(A,E);var j=this.W,U=this.h[0],I=this.h[1],Q=this.h[2],Y=this.h[3],ee=this.h[4],q=this.h[5],te=this.h[6],H=this.h[7],z=this.h[8],Z=this.h[9],ae=this.h[10],re=this.h[11],le=this.h[12],de=this.h[13],ve=this.h[14],ge=this.h[15];l(this.k.length===j.length);for(var se=0;se<j.length;se+=2){var xe=ve,pe=ge,Te=P(z,Z),ke=N(z,Z),Re=G(z,Z,ae,re,le),$e=V(z,Z,ae,re,le,de),Pe=this.k[se],Je=this.k[se+1],Ze=j[se],Ye=j[se+1],Xe=w(xe,pe,Te,ke,Re,$e,Pe,Je,Ze,Ye),ut=v(xe,pe,Te,ke,Re,$e,Pe,Je,Ze,Ye);xe=B(U,I),pe=W(U,I),Te=O(U,I,Q,Y,ee),ke=F(U,I,Q,Y,ee,q);var ot=d(xe,pe,Te,ke),je=b(xe,pe,Te,ke);ve=le,ge=de,le=ae,de=re,ae=z,re=Z,z=d(te,H,Xe,ut),Z=b(H,H,Xe,ut),te=ee,H=q,ee=Q,q=Y,Q=U,Y=I,U=d(Xe,ut,ot,je),I=b(Xe,ut,ot,je)}h(this.h,0,U,I),h(this.h,2,Q,Y),h(this.h,4,ee,q),h(this.h,6,te,H),h(this.h,8,z,Z),h(this.h,10,ae,re),h(this.h,12,le,de),h(this.h,14,ve,ge)},L.prototype._digest=function(A){return A==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(e,n,s){var i=e("../utils").rotr32;function a(o,u,p){return o&u^~o&p}function l(o,u,p){return o&u^o&p^u&p}function c(o,u,p){return o^u^p}s.ft_1=function(o,u,p,h){return o===0?a(u,p,h):o===1||o===3?c(u,p,h):o===2?l(u,p,h):void 0},s.ch32=a,s.maj32=l,s.p32=c,s.s0_256=function(o){return i(o,2)^i(o,13)^i(o,22)},s.s1_256=function(o){return i(o,6)^i(o,11)^i(o,25)},s.g0_256=function(o){return i(o,7)^i(o,18)^o>>>3},s.g1_256=function(o){return i(o,17)^i(o,19)^o>>>10}},{"../utils":437}],437:[function(e,n,s){var i=e("minimalistic-assert"),a=e("inherits");function l(p,h){return(64512&p.charCodeAt(h))==55296&&!(h<0||h+1>=p.length)&&(64512&p.charCodeAt(h+1))==56320}function c(p){return(p>>>24|p>>>8&65280|p<<8&16711680|(255&p)<<24)>>>0}function o(p){return p.length===1?"0"+p:p}function u(p){return p.length===7?"0"+p:p.length===6?"00"+p:p.length===5?"000"+p:p.length===4?"0000"+p:p.length===3?"00000"+p:p.length===2?"000000"+p:p.length===1?"0000000"+p:p}s.inherits=a,s.toArray=function(p,h){if(Array.isArray(p))return p.slice();if(!p)return[];var d=[];if(typeof p=="string")if(h){if(h==="hex")for((p=p.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(p="0"+p),x=0;x<p.length;x+=2)d.push(parseInt(p[x]+p[x+1],16))}else for(var b=0,x=0;x<p.length;x++){var g=p.charCodeAt(x);g<128?d[b++]=g:g<2048?(d[b++]=g>>6|192,d[b++]=63&g|128):l(p,x)?(g=65536+((1023&g)<<10)+(1023&p.charCodeAt(++x)),d[b++]=g>>18|240,d[b++]=g>>12&63|128,d[b++]=g>>6&63|128,d[b++]=63&g|128):(d[b++]=g>>12|224,d[b++]=g>>6&63|128,d[b++]=63&g|128)}else for(x=0;x<p.length;x++)d[x]=0|p[x];return d},s.toHex=function(p){for(var h="",d=0;d<p.length;d++)h+=o(p[d].toString(16));return h},s.htonl=c,s.toHex32=function(p,h){for(var d="",b=0;b<p.length;b++){var x=p[b];h==="little"&&(x=c(x)),d+=u(x.toString(16))}return d},s.zero2=o,s.zero8=u,s.join32=function(p,h,d,b){var x=d-h;i(x%4==0);for(var g=new Array(x/4),w=0,v=h;w<g.length;w++,v+=4){var k;k=b==="big"?p[v]<<24|p[v+1]<<16|p[v+2]<<8|p[v+3]:p[v+3]<<24|p[v+2]<<16|p[v+1]<<8|p[v],g[w]=k>>>0}return g},s.split32=function(p,h){for(var d=new Array(4*p.length),b=0,x=0;b<p.length;b++,x+=4){var g=p[b];h==="big"?(d[x]=g>>>24,d[x+1]=g>>>16&255,d[x+2]=g>>>8&255,d[x+3]=255&g):(d[x+3]=g>>>24,d[x+2]=g>>>16&255,d[x+1]=g>>>8&255,d[x]=255&g)}return d},s.rotr32=function(p,h){return p>>>h|p<<32-h},s.rotl32=function(p,h){return p<<h|p>>>32-h},s.sum32=function(p,h){return p+h>>>0},s.sum32_3=function(p,h,d){return p+h+d>>>0},s.sum32_4=function(p,h,d,b){return p+h+d+b>>>0},s.sum32_5=function(p,h,d,b,x){return p+h+d+b+x>>>0},s.sum64=function(p,h,d,b){var x=p[h],g=b+p[h+1]>>>0,w=(g<b?1:0)+d+x;p[h]=w>>>0,p[h+1]=g},s.sum64_hi=function(p,h,d,b){return(h+b>>>0<h?1:0)+p+d>>>0},s.sum64_lo=function(p,h,d,b){return h+b>>>0},s.sum64_4_hi=function(p,h,d,b,x,g,w,v){var k=0,R=h;return k+=(R=R+b>>>0)<h?1:0,k+=(R=R+g>>>0)<g?1:0,p+d+x+w+(k+=(R=R+v>>>0)<v?1:0)>>>0},s.sum64_4_lo=function(p,h,d,b,x,g,w,v){return h+b+g+v>>>0},s.sum64_5_hi=function(p,h,d,b,x,g,w,v,k,R){var L=0,G=h;return L+=(G=G+b>>>0)<h?1:0,L+=(G=G+g>>>0)<g?1:0,L+=(G=G+v>>>0)<v?1:0,p+d+x+w+k+(L+=(G=G+R>>>0)<R?1:0)>>>0},s.sum64_5_lo=function(p,h,d,b,x,g,w,v,k,R){return h+b+g+v+R>>>0},s.rotr64_hi=function(p,h,d){return(h<<32-d|p>>>d)>>>0},s.rotr64_lo=function(p,h,d){return(p<<32-d|h>>>d)>>>0},s.shr64_hi=function(p,h,d){return p>>>d},s.shr64_lo=function(p,h,d){return(p<<32-d|h>>>d)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(e,n,s){var i=e("hash.js"),a=e("minimalistic-crypto-utils"),l=e("minimalistic-assert");function c(o){if(!(this instanceof c))return new c(o);this.hash=o.hash,this.predResist=!!o.predResist,this.outLen=this.hash.outSize,this.minEntropy=o.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var u=a.toArray(o.entropy,o.entropyEnc||"hex"),p=a.toArray(o.nonce,o.nonceEnc||"hex"),h=a.toArray(o.pers,o.persEnc||"hex");l(u.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(u,p,h)}n.exports=c,c.prototype._init=function(o,u,p){var h=o.concat(u).concat(p);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var d=0;d<this.V.length;d++)this.K[d]=0,this.V[d]=1;this._update(h),this._reseed=1,this.reseedInterval=281474976710656},c.prototype._hmac=function(){return new i.hmac(this.hash,this.K)},c.prototype._update=function(o){var u=this._hmac().update(this.V).update([0]);o&&(u=u.update(o)),this.K=u.digest(),this.V=this._hmac().update(this.V).digest(),o&&(this.K=this._hmac().update(this.V).update([1]).update(o).digest(),this.V=this._hmac().update(this.V).digest())},c.prototype.reseed=function(o,u,p,h){typeof u!="string"&&(h=p,p=u,u=null),o=a.toArray(o,u),p=a.toArray(p,h),l(o.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(o.concat(p||[])),this._reseed=1},c.prototype.generate=function(o,u,p,h){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof u!="string"&&(h=p,p=u,u=null),p&&(p=a.toArray(p,h||"hex"),this._update(p));for(var d=[];d.length<o;)this.V=this._hmac().update(this.V).digest(),d=d.concat(this.V);var b=d.slice(0,o);return this._update(p),this._reseed++,a.encode(b,u)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(e,n,s){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */s.read=function(i,a,l,c,o){var u,p,h=8*o-c-1,d=(1<<h)-1,b=d>>1,x=-7,g=l?o-1:0,w=l?-1:1,v=i[a+g];for(g+=w,u=v&(1<<-x)-1,v>>=-x,x+=h;x>0;u=256*u+i[a+g],g+=w,x-=8);for(p=u&(1<<-x)-1,u>>=-x,x+=c;x>0;p=256*p+i[a+g],g+=w,x-=8);if(u===0)u=1-b;else{if(u===d)return p?NaN:1/0*(v?-1:1);p+=Math.pow(2,c),u-=b}return(v?-1:1)*p*Math.pow(2,u-c)},s.write=function(i,a,l,c,o,u){var p,h,d,b=8*u-o-1,x=(1<<b)-1,g=x>>1,w=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=c?0:u-1,k=c?1:-1,R=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(h=isNaN(a)?1:0,p=x):(p=Math.floor(Math.log(a)/Math.LN2),a*(d=Math.pow(2,-p))<1&&(p--,d*=2),(a+=p+g>=1?w/d:w*Math.pow(2,1-g))*d>=2&&(p++,d/=2),p+g>=x?(h=0,p=x):p+g>=1?(h=(a*d-1)*Math.pow(2,o),p+=g):(h=a*Math.pow(2,g-1)*Math.pow(2,o),p=0));o>=8;i[l+v]=255&h,v+=k,h/=256,o-=8);for(p=p<<o|h,b+=o;b>0;i[l+v]=255&p,v+=k,p/=256,b-=8);i[l+v-k]|=128*R}},{}],440:[function(e,n,s){typeof Object.create=="function"?n.exports=function(i,a){a&&(i.super_=a,i.prototype=Object.create(a.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}))}:n.exports=function(i,a){if(a){i.super_=a;var l=function(){};l.prototype=a.prototype,i.prototype=new l,i.prototype.constructor=i}}},{}],441:[function(e,n,s){(function(i,a,l,c,o,u,p,h){(function(){/*!

		JSZip v3.10.1 - A JavaScript class for generating and reading zip files
		<http://stuartk.com/jszip>

		(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
		Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

		JSZip uses the library pako released under the MIT license :
		https://github.com/nodeca/pako/blob/main/LICENSE
		*/(function(d){typeof s=="object"&&n!==void 0?n.exports=d():(typeof window<"u"?window:a!==void 0?a:typeof self<"u"?self:this).JSZip=d()})((function(){return(function d(b,x,g){function w(R,L){if(!x[R]){if(!b[R]){var G=typeof e=="function"&&e;if(!L&&G)return G(R,!0);if(v)return v(R,!0);var V=new Error("Cannot find module '"+R+"'");throw V.code="MODULE_NOT_FOUND",V}var O=x[R]={exports:{}};b[R][0].call(O.exports,(function(F){return w(b[R][1][F]||F)}),O,O.exports,d,b,x,g)}return x[R].exports}for(var v=typeof e=="function"&&e,k=0;k<g.length;k++)w(g[k]);return w})({1:[function(d,b,x){var g=d("./utils"),w=d("./support"),v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";x.encode=function(k){for(var R,L,G,V,O,F,B,W=[],P=0,N=k.length,D=N,C=g.getTypeOf(k)!=="string";P<k.length;)D=N-P,G=C?(R=k[P++],L=P<N?k[P++]:0,P<N?k[P++]:0):(R=k.charCodeAt(P++),L=P<N?k.charCodeAt(P++):0,P<N?k.charCodeAt(P++):0),V=R>>2,O=(3&R)<<4|L>>4,F=1<D?(15&L)<<2|G>>6:64,B=2<D?63&G:64,W.push(v.charAt(V)+v.charAt(O)+v.charAt(F)+v.charAt(B));return W.join("")},x.decode=function(k){var R,L,G,V,O,F,B=0,W=0,P="data:";if(k.substr(0,P.length)===P)throw new Error("Invalid base64 input, it looks like a data url.");var N,D=3*(k=k.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(k.charAt(k.length-1)===v.charAt(64)&&D--,k.charAt(k.length-2)===v.charAt(64)&&D--,D%1!=0)throw new Error("Invalid base64 input, bad content length.");for(N=w.uint8array?new Uint8Array(0|D):new Array(0|D);B<k.length;)R=v.indexOf(k.charAt(B++))<<2|(V=v.indexOf(k.charAt(B++)))>>4,L=(15&V)<<4|(O=v.indexOf(k.charAt(B++)))>>2,G=(3&O)<<6|(F=v.indexOf(k.charAt(B++))),N[W++]=R,O!==64&&(N[W++]=L),F!==64&&(N[W++]=G);return N}},{"./support":30,"./utils":32}],2:[function(d,b,x){var g=d("./external"),w=d("./stream/DataWorker"),v=d("./stream/Crc32Probe"),k=d("./stream/DataLengthProbe");function R(L,G,V,O,F){this.compressedSize=L,this.uncompressedSize=G,this.crc32=V,this.compression=O,this.compressedContent=F}R.prototype={getContentWorker:function(){var L=new w(g.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new k("data_length")),G=this;return L.on("end",(function(){if(this.streamInfo.data_length!==G.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),L},getCompressedWorker:function(){return new w(g.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},R.createWorkerFrom=function(L,G,V){return L.pipe(new v).pipe(new k("uncompressedSize")).pipe(G.compressWorker(V)).pipe(new k("compressedSize")).withStreamInfo("compression",G)},b.exports=R},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(d,b,x){var g=d("./stream/GenericWorker");x.STORE={magic:"\0\0",compressWorker:function(){return new g("STORE compression")},uncompressWorker:function(){return new g("STORE decompression")}},x.DEFLATE=d("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(d,b,x){var g=d("./utils"),w=(function(){for(var v,k=[],R=0;R<256;R++){v=R;for(var L=0;L<8;L++)v=1&v?3988292384^v>>>1:v>>>1;k[R]=v}return k})();b.exports=function(v,k){return v!==void 0&&v.length?g.getTypeOf(v)!=="string"?(function(R,L,G,V){var O=w,F=0+G;R^=-1;for(var B=0;B<F;B++)R=R>>>8^O[255&(R^L[B])];return-1^R})(0|k,v,v.length):(function(R,L,G,V){var O=w,F=0+G;R^=-1;for(var B=0;B<F;B++)R=R>>>8^O[255&(R^L.charCodeAt(B))];return-1^R})(0|k,v,v.length):0}},{"./utils":32}],5:[function(d,b,x){x.base64=!1,x.binary=!1,x.dir=!1,x.createFolders=!0,x.date=null,x.compression=null,x.compressionOptions=null,x.comment=null,x.unixPermissions=null,x.dosPermissions=null},{}],6:[function(d,b,x){var g;g=typeof Promise<"u"?Promise:d("lie"),b.exports={Promise:g}},{lie:37}],7:[function(d,b,x){var g=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",w=d("pako"),v=d("./utils"),k=d("./stream/GenericWorker"),R=g?"uint8array":"array";function L(G,V){k.call(this,"FlateWorker/"+G),this._pako=null,this._pakoAction=G,this._pakoOptions=V,this.meta={}}x.magic="\b\0",v.inherits(L,k),L.prototype.processChunk=function(G){this.meta=G.meta,this._pako===null&&this._createPako(),this._pako.push(v.transformTo(R,G.data),!1)},L.prototype.flush=function(){k.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},L.prototype.cleanUp=function(){k.prototype.cleanUp.call(this),this._pako=null},L.prototype._createPako=function(){this._pako=new w[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var G=this;this._pako.onData=function(V){G.push({data:V,meta:G.meta})}},x.compressWorker=function(G){return new L("Deflate",G)},x.uncompressWorker=function(){return new L("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(d,b,x){function g(O,F){var B,W="";for(B=0;B<F;B++)W+=String.fromCharCode(255&O),O>>>=8;return W}function w(O,F,B,W,P,N){var D,C,S=O.file,T=O.compression,A=N!==R.utf8encode,E=v.transformTo("string",N(S.name)),j=v.transformTo("string",R.utf8encode(S.name)),U=S.comment,I=v.transformTo("string",N(U)),Q=v.transformTo("string",R.utf8encode(U)),Y=j.length!==S.name.length,ee=Q.length!==U.length,q="",te="",H="",z=S.dir,Z=S.date,ae={crc32:0,compressedSize:0,uncompressedSize:0};F&&!B||(ae.crc32=O.crc32,ae.compressedSize=O.compressedSize,ae.uncompressedSize=O.uncompressedSize);var re=0;F&&(re|=8),A||!Y&&!ee||(re|=2048);var le=0,de=0;z&&(le|=16),P==="UNIX"?(de=798,le|=(function(ge,se){var xe=ge;return ge||(xe=se?16893:33204),(65535&xe)<<16})(S.unixPermissions,z)):(de=20,le|=(function(ge){return 63&(ge||0)})(S.dosPermissions)),D=Z.getUTCHours(),D<<=6,D|=Z.getUTCMinutes(),D<<=5,D|=Z.getUTCSeconds()/2,C=Z.getUTCFullYear()-1980,C<<=4,C|=Z.getUTCMonth()+1,C<<=5,C|=Z.getUTCDate(),Y&&(te=g(1,1)+g(L(E),4)+j,q+="up"+g(te.length,2)+te),ee&&(H=g(1,1)+g(L(I),4)+Q,q+="uc"+g(H.length,2)+H);var ve="";return ve+=`
\0`,ve+=g(re,2),ve+=T.magic,ve+=g(D,2),ve+=g(C,2),ve+=g(ae.crc32,4),ve+=g(ae.compressedSize,4),ve+=g(ae.uncompressedSize,4),ve+=g(E.length,2),ve+=g(q.length,2),{fileRecord:G.LOCAL_FILE_HEADER+ve+E+q,dirRecord:G.CENTRAL_FILE_HEADER+g(de,2)+ve+g(I.length,2)+"\0\0\0\0"+g(le,4)+g(W,4)+E+q+I}}var v=d("../utils"),k=d("../stream/GenericWorker"),R=d("../utf8"),L=d("../crc32"),G=d("../signature");function V(O,F,B,W){k.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=F,this.zipPlatform=B,this.encodeFileName=W,this.streamFiles=O,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}v.inherits(V,k),V.prototype.push=function(O){var F=O.meta.percent||0,B=this.entriesCount,W=this._sources.length;this.accumulate?this.contentBuffer.push(O):(this.bytesWritten+=O.data.length,k.prototype.push.call(this,{data:O.data,meta:{currentFile:this.currentFile,percent:B?(F+100*(B-W-1))/B:100}}))},V.prototype.openedSource=function(O){this.currentSourceOffset=this.bytesWritten,this.currentFile=O.file.name;var F=this.streamFiles&&!O.file.dir;if(F){var B=w(O,F,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:B.fileRecord,meta:{percent:0}})}else this.accumulate=!0},V.prototype.closedSource=function(O){this.accumulate=!1;var F=this.streamFiles&&!O.file.dir,B=w(O,F,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(B.dirRecord),F)this.push({data:(function(W){return G.DATA_DESCRIPTOR+g(W.crc32,4)+g(W.compressedSize,4)+g(W.uncompressedSize,4)})(O),meta:{percent:100}});else for(this.push({data:B.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},V.prototype.flush=function(){for(var O=this.bytesWritten,F=0;F<this.dirRecords.length;F++)this.push({data:this.dirRecords[F],meta:{percent:100}});var B=this.bytesWritten-O,W=(function(P,N,D,C,S){var T=v.transformTo("string",S(C));return G.CENTRAL_DIRECTORY_END+"\0\0\0\0"+g(P,2)+g(P,2)+g(N,4)+g(D,4)+g(T.length,2)+T})(this.dirRecords.length,B,O,this.zipComment,this.encodeFileName);this.push({data:W,meta:{percent:100}})},V.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},V.prototype.registerPrevious=function(O){this._sources.push(O);var F=this;return O.on("data",(function(B){F.processChunk(B)})),O.on("end",(function(){F.closedSource(F.previous.streamInfo),F._sources.length?F.prepareNextSource():F.end()})),O.on("error",(function(B){F.error(B)})),this},V.prototype.resume=function(){return!!k.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},V.prototype.error=function(O){var F=this._sources;if(!k.prototype.error.call(this,O))return!1;for(var B=0;B<F.length;B++)try{F[B].error(O)}catch{}return!0},V.prototype.lock=function(){k.prototype.lock.call(this);for(var O=this._sources,F=0;F<O.length;F++)O[F].lock()},b.exports=V},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(d,b,x){var g=d("../compressions"),w=d("./ZipFileWorker");x.generateWorker=function(v,k,R){var L=new w(k.streamFiles,R,k.platform,k.encodeFileName),G=0;try{v.forEach((function(V,O){G++;var F=(function(N,D){var C=N||D,S=g[C];if(!S)throw new Error(C+" is not a valid compression method !");return S})(O.options.compression,k.compression),B=O.options.compressionOptions||k.compressionOptions||{},W=O.dir,P=O.date;O._compressWorker(F,B).withStreamInfo("file",{name:V,dir:W,date:P,comment:O.comment||"",unixPermissions:O.unixPermissions,dosPermissions:O.dosPermissions}).pipe(L)})),L.entriesCount=G}catch(V){L.error(V)}return L}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(d,b,x){function g(){if(!(this instanceof g))return new g;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var w=new g;for(var v in this)typeof this[v]!="function"&&(w[v]=this[v]);return w}}(g.prototype=d("./object")).loadAsync=d("./load"),g.support=d("./support"),g.defaults=d("./defaults"),g.version="3.10.1",g.loadAsync=function(w,v){return new g().loadAsync(w,v)},g.external=d("./external"),b.exports=g},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(d,b,x){var g=d("./utils"),w=d("./external"),v=d("./utf8"),k=d("./zipEntries"),R=d("./stream/Crc32Probe"),L=d("./nodejsUtils");function G(V){return new w.Promise((function(O,F){var B=V.decompressed.getContentWorker().pipe(new R);B.on("error",(function(W){F(W)})).on("end",(function(){B.streamInfo.crc32!==V.decompressed.crc32?F(new Error("Corrupted zip : CRC32 mismatch")):O()})).resume()}))}b.exports=function(V,O){var F=this;return O=g.extend(O||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:v.utf8decode}),L.isNode&&L.isStream(V)?w.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):g.prepareContent("the loaded zip file",V,!0,O.optimizedBinaryString,O.base64).then((function(B){var W=new k(O);return W.load(B),W})).then((function(B){var W=[w.Promise.resolve(B)],P=B.files;if(O.checkCRC32)for(var N=0;N<P.length;N++)W.push(G(P[N]));return w.Promise.all(W)})).then((function(B){for(var W=B.shift(),P=W.files,N=0;N<P.length;N++){var D=P[N],C=D.fileNameStr,S=g.resolve(D.fileNameStr);F.file(S,D.decompressed,{binary:!0,optimizedBinaryString:!0,date:D.date,dir:D.dir,comment:D.fileCommentStr.length?D.fileCommentStr:null,unixPermissions:D.unixPermissions,dosPermissions:D.dosPermissions,createFolders:O.createFolders}),D.dir||(F.file(S).unsafeOriginalName=C)}return W.zipComment.length&&(F.comment=W.zipComment),F}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(d,b,x){var g=d("../utils"),w=d("../stream/GenericWorker");function v(k,R){w.call(this,"Nodejs stream input adapter for "+k),this._upstreamEnded=!1,this._bindStream(R)}g.inherits(v,w),v.prototype._bindStream=function(k){var R=this;(this._stream=k).pause(),k.on("data",(function(L){R.push({data:L,meta:{percent:0}})})).on("error",(function(L){R.isPaused?this.generatedError=L:R.error(L)})).on("end",(function(){R.isPaused?R._upstreamEnded=!0:R.end()}))},v.prototype.pause=function(){return!!w.prototype.pause.call(this)&&(this._stream.pause(),!0)},v.prototype.resume=function(){return!!w.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},b.exports=v},{"../stream/GenericWorker":28,"../utils":32}],13:[function(d,b,x){var g=d("readable-stream").Readable;function w(v,k,R){g.call(this,k),this._helper=v;var L=this;v.on("data",(function(G,V){L.push(G)||L._helper.pause(),R&&R(V)})).on("error",(function(G){L.emit("error",G)})).on("end",(function(){L.push(null)}))}d("../utils").inherits(w,g),w.prototype._read=function(){this._helper.resume()},b.exports=w},{"../utils":32,"readable-stream":16}],14:[function(d,b,x){b.exports={isNode:l!==void 0,newBufferFrom:function(g,w){if(l.from&&l.from!==Uint8Array.from)return l.from(g,w);if(typeof g=="number")throw new Error('The "data" argument must not be a number');return new l(g,w)},allocBuffer:function(g){if(l.alloc)return l.alloc(g);var w=new l(g);return w.fill(0),w},isBuffer:function(g){return l.isBuffer(g)},isStream:function(g){return g&&typeof g.on=="function"&&typeof g.pause=="function"&&typeof g.resume=="function"}}},{}],15:[function(d,b,x){function g(S,T,A){var E,j=v.getTypeOf(T),U=v.extend(A||{},L);U.date=U.date||new Date,U.compression!==null&&(U.compression=U.compression.toUpperCase()),typeof U.unixPermissions=="string"&&(U.unixPermissions=parseInt(U.unixPermissions,8)),U.unixPermissions&&16384&U.unixPermissions&&(U.dir=!0),U.dosPermissions&&16&U.dosPermissions&&(U.dir=!0),U.dir&&(S=P(S)),U.createFolders&&(E=W(S))&&N.call(this,E,!0);var I=j==="string"&&U.binary===!1&&U.base64===!1;A&&A.binary!==void 0||(U.binary=!I),(T instanceof G&&T.uncompressedSize===0||U.dir||!T||T.length===0)&&(U.base64=!1,U.binary=!0,T="",U.compression="STORE",j="string");var Q;Q=T instanceof G||T instanceof k?T:F.isNode&&F.isStream(T)?new B(S,T):v.prepareContent(S,T,U.binary,U.optimizedBinaryString,U.base64);var Y=new V(S,Q,U);this.files[S]=Y}var w=d("./utf8"),v=d("./utils"),k=d("./stream/GenericWorker"),R=d("./stream/StreamHelper"),L=d("./defaults"),G=d("./compressedObject"),V=d("./zipObject"),O=d("./generate"),F=d("./nodejsUtils"),B=d("./nodejs/NodejsStreamInputAdapter"),W=function(S){S.slice(-1)==="/"&&(S=S.substring(0,S.length-1));var T=S.lastIndexOf("/");return 0<T?S.substring(0,T):""},P=function(S){return S.slice(-1)!=="/"&&(S+="/"),S},N=function(S,T){return T=T!==void 0?T:L.createFolders,S=P(S),this.files[S]||g.call(this,S,null,{dir:!0,createFolders:T}),this.files[S]};function D(S){return Object.prototype.toString.call(S)==="[object RegExp]"}var C={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(S){var T,A,E;for(T in this.files)E=this.files[T],(A=T.slice(this.root.length,T.length))&&T.slice(0,this.root.length)===this.root&&S(A,E)},filter:function(S){var T=[];return this.forEach((function(A,E){S(A,E)&&T.push(E)})),T},file:function(S,T,A){if(arguments.length!==1)return S=this.root+S,g.call(this,S,T,A),this;if(D(S)){var E=S;return this.filter((function(U,I){return!I.dir&&E.test(U)}))}var j=this.files[this.root+S];return j&&!j.dir?j:null},folder:function(S){if(!S)return this;if(D(S))return this.filter((function(j,U){return U.dir&&S.test(j)}));var T=this.root+S,A=N.call(this,T),E=this.clone();return E.root=A.name,E},remove:function(S){S=this.root+S;var T=this.files[S];if(T||(S.slice(-1)!=="/"&&(S+="/"),T=this.files[S]),T&&!T.dir)delete this.files[S];else for(var A=this.filter((function(j,U){return U.name.slice(0,S.length)===S})),E=0;E<A.length;E++)delete this.files[A[E].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(S){var T,A={};try{if((A=v.extend(S||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:w.utf8encode})).type=A.type.toLowerCase(),A.compression=A.compression.toUpperCase(),A.type==="binarystring"&&(A.type="string"),!A.type)throw new Error("No output type specified.");v.checkSupport(A.type),A.platform!=="darwin"&&A.platform!=="freebsd"&&A.platform!=="linux"&&A.platform!=="sunos"||(A.platform="UNIX"),A.platform==="win32"&&(A.platform="DOS");var E=A.comment||this.comment||"";T=O.generateWorker(this,A,E)}catch(j){(T=new k("error")).error(j)}return new R(T,A.type||"string",A.mimeType)},generateAsync:function(S,T){return this.generateInternalStream(S).accumulate(T)},generateNodeStream:function(S,T){return(S=S||{}).type||(S.type="nodebuffer"),this.generateInternalStream(S).toNodejsStream(T)}};b.exports=C},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(d,b,x){b.exports=d("stream")},{stream:void 0}],17:[function(d,b,x){var g=d("./DataReader");function w(v){g.call(this,v);for(var k=0;k<this.data.length;k++)v[k]=255&v[k]}d("../utils").inherits(w,g),w.prototype.byteAt=function(v){return this.data[this.zero+v]},w.prototype.lastIndexOfSignature=function(v){for(var k=v.charCodeAt(0),R=v.charCodeAt(1),L=v.charCodeAt(2),G=v.charCodeAt(3),V=this.length-4;0<=V;--V)if(this.data[V]===k&&this.data[V+1]===R&&this.data[V+2]===L&&this.data[V+3]===G)return V-this.zero;return-1},w.prototype.readAndCheckSignature=function(v){var k=v.charCodeAt(0),R=v.charCodeAt(1),L=v.charCodeAt(2),G=v.charCodeAt(3),V=this.readData(4);return k===V[0]&&R===V[1]&&L===V[2]&&G===V[3]},w.prototype.readData=function(v){if(this.checkOffset(v),v===0)return[];var k=this.data.slice(this.zero+this.index,this.zero+this.index+v);return this.index+=v,k},b.exports=w},{"../utils":32,"./DataReader":18}],18:[function(d,b,x){var g=d("../utils");function w(v){this.data=v,this.length=v.length,this.index=0,this.zero=0}w.prototype={checkOffset:function(v){this.checkIndex(this.index+v)},checkIndex:function(v){if(this.length<this.zero+v||v<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+v+"). Corrupted zip ?")},setIndex:function(v){this.checkIndex(v),this.index=v},skip:function(v){this.setIndex(this.index+v)},byteAt:function(){},readInt:function(v){var k,R=0;for(this.checkOffset(v),k=this.index+v-1;k>=this.index;k--)R=(R<<8)+this.byteAt(k);return this.index+=v,R},readString:function(v){return g.transformTo("string",this.readData(v))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var v=this.readInt(4);return new Date(Date.UTC(1980+(v>>25&127),(v>>21&15)-1,v>>16&31,v>>11&31,v>>5&63,(31&v)<<1))}},b.exports=w},{"../utils":32}],19:[function(d,b,x){var g=d("./Uint8ArrayReader");function w(v){g.call(this,v)}d("../utils").inherits(w,g),w.prototype.readData=function(v){this.checkOffset(v);var k=this.data.slice(this.zero+this.index,this.zero+this.index+v);return this.index+=v,k},b.exports=w},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(d,b,x){var g=d("./DataReader");function w(v){g.call(this,v)}d("../utils").inherits(w,g),w.prototype.byteAt=function(v){return this.data.charCodeAt(this.zero+v)},w.prototype.lastIndexOfSignature=function(v){return this.data.lastIndexOf(v)-this.zero},w.prototype.readAndCheckSignature=function(v){return v===this.readData(4)},w.prototype.readData=function(v){this.checkOffset(v);var k=this.data.slice(this.zero+this.index,this.zero+this.index+v);return this.index+=v,k},b.exports=w},{"../utils":32,"./DataReader":18}],21:[function(d,b,x){var g=d("./ArrayReader");function w(v){g.call(this,v)}d("../utils").inherits(w,g),w.prototype.readData=function(v){if(this.checkOffset(v),v===0)return new Uint8Array(0);var k=this.data.subarray(this.zero+this.index,this.zero+this.index+v);return this.index+=v,k},b.exports=w},{"../utils":32,"./ArrayReader":17}],22:[function(d,b,x){var g=d("../utils"),w=d("../support"),v=d("./ArrayReader"),k=d("./StringReader"),R=d("./NodeBufferReader"),L=d("./Uint8ArrayReader");b.exports=function(G){var V=g.getTypeOf(G);return g.checkSupport(V),V!=="string"||w.uint8array?V==="nodebuffer"?new R(G):w.uint8array?new L(g.transformTo("uint8array",G)):new v(g.transformTo("array",G)):new k(G)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(d,b,x){x.LOCAL_FILE_HEADER="PK",x.CENTRAL_FILE_HEADER="PK",x.CENTRAL_DIRECTORY_END="PK",x.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",x.ZIP64_CENTRAL_DIRECTORY_END="PK",x.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(d,b,x){var g=d("./GenericWorker"),w=d("../utils");function v(k){g.call(this,"ConvertWorker to "+k),this.destType=k}w.inherits(v,g),v.prototype.processChunk=function(k){this.push({data:w.transformTo(this.destType,k.data),meta:k.meta})},b.exports=v},{"../utils":32,"./GenericWorker":28}],25:[function(d,b,x){var g=d("./GenericWorker"),w=d("../crc32");function v(){g.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}d("../utils").inherits(v,g),v.prototype.processChunk=function(k){this.streamInfo.crc32=w(k.data,this.streamInfo.crc32||0),this.push(k)},b.exports=v},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(d,b,x){var g=d("../utils"),w=d("./GenericWorker");function v(k){w.call(this,"DataLengthProbe for "+k),this.propName=k,this.withStreamInfo(k,0)}g.inherits(v,w),v.prototype.processChunk=function(k){if(k){var R=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=R+k.data.length}w.prototype.processChunk.call(this,k)},b.exports=v},{"../utils":32,"./GenericWorker":28}],27:[function(d,b,x){var g=d("../utils"),w=d("./GenericWorker");function v(k){w.call(this,"DataWorker");var R=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,k.then((function(L){R.dataIsReady=!0,R.data=L,R.max=L&&L.length||0,R.type=g.getTypeOf(L),R.isPaused||R._tickAndRepeat()}),(function(L){R.error(L)}))}g.inherits(v,w),v.prototype.cleanUp=function(){w.prototype.cleanUp.call(this),this.data=null},v.prototype.resume=function(){return!!w.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,g.delay(this._tickAndRepeat,[],this)),!0)},v.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(g.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},v.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var k=null,R=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":k=this.data.substring(this.index,R);break;case"uint8array":k=this.data.subarray(this.index,R);break;case"array":case"nodebuffer":k=this.data.slice(this.index,R)}return this.index=R,this.push({data:k,meta:{percent:this.max?this.index/this.max*100:0}})},b.exports=v},{"../utils":32,"./GenericWorker":28}],28:[function(d,b,x){function g(w){this.name=w||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}g.prototype={push:function(w){this.emit("data",w)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(w){this.emit("error",w)}return!0},error:function(w){return!this.isFinished&&(this.isPaused?this.generatedError=w:(this.isFinished=!0,this.emit("error",w),this.previous&&this.previous.error(w),this.cleanUp()),!0)},on:function(w,v){return this._listeners[w].push(v),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(w,v){if(this._listeners[w])for(var k=0;k<this._listeners[w].length;k++)this._listeners[w][k].call(this,v)},pipe:function(w){return w.registerPrevious(this)},registerPrevious:function(w){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=w.streamInfo,this.mergeStreamInfo(),this.previous=w;var v=this;return w.on("data",(function(k){v.processChunk(k)})),w.on("end",(function(){v.end()})),w.on("error",(function(k){v.error(k)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var w=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),w=!0),this.previous&&this.previous.resume(),!w},flush:function(){},processChunk:function(w){this.push(w)},withStreamInfo:function(w,v){return this.extraStreamInfo[w]=v,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var w in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,w)&&(this.streamInfo[w]=this.extraStreamInfo[w])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var w="Worker "+this.name;return this.previous?this.previous+" -> "+w:w}},b.exports=g},{}],29:[function(d,b,x){var g=d("../utils"),w=d("./ConvertWorker"),v=d("./GenericWorker"),k=d("../base64"),R=d("../support"),L=d("../external"),G=null;if(R.nodestream)try{G=d("../nodejs/NodejsStreamOutputAdapter")}catch{}function V(O,F,B){var W=F;switch(F){case"blob":case"arraybuffer":W="uint8array";break;case"base64":W="string"}try{this._internalType=W,this._outputType=F,this._mimeType=B,g.checkSupport(W),this._worker=O.pipe(new w(W)),O.lock()}catch(P){this._worker=new v("error"),this._worker.error(P)}}V.prototype={accumulate:function(O){return(function(F,B){return new L.Promise((function(W,P){var N=[],D=F._internalType,C=F._outputType,S=F._mimeType;F.on("data",(function(T,A){N.push(T),B&&B(A)})).on("error",(function(T){N=[],P(T)})).on("end",(function(){try{var T=(function(A,E,j){switch(A){case"blob":return g.newBlob(g.transformTo("arraybuffer",E),j);case"base64":return k.encode(E);default:return g.transformTo(A,E)}})(C,(function(A,E){var j,U=0,I=null,Q=0;for(j=0;j<E.length;j++)Q+=E[j].length;switch(A){case"string":return E.join("");case"array":return Array.prototype.concat.apply([],E);case"uint8array":for(I=new Uint8Array(Q),j=0;j<E.length;j++)I.set(E[j],U),U+=E[j].length;return I;case"nodebuffer":return l.concat(E);default:throw new Error("concat : unsupported type '"+A+"'")}})(D,N),S);W(T)}catch(A){P(A)}N=[]})).resume()}))})(this,O)},on:function(O,F){var B=this;return O==="data"?this._worker.on(O,(function(W){F.call(B,W.data,W.meta)})):this._worker.on(O,(function(){g.delay(F,arguments,B)})),this},resume:function(){return g.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(O){if(g.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new G(this,{objectMode:this._outputType!=="nodebuffer"},O)}},b.exports=V},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(d,b,x){if(x.base64=!0,x.array=!0,x.string=!0,x.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",x.nodebuffer=l!==void 0,x.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")x.blob=!1;else{var g=new ArrayBuffer(0);try{x.blob=new Blob([g],{type:"application/zip"}).size===0}catch{try{var w=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);w.append(g),x.blob=w.getBlob("application/zip").size===0}catch{x.blob=!1}}}try{x.nodestream=!!d("readable-stream").Readable}catch{x.nodestream=!1}},{"readable-stream":16}],31:[function(d,b,x){for(var g=d("./utils"),w=d("./support"),v=d("./nodejsUtils"),k=d("./stream/GenericWorker"),R=new Array(256),L=0;L<256;L++)R[L]=252<=L?6:248<=L?5:240<=L?4:224<=L?3:192<=L?2:1;function G(){k.call(this,"utf-8 decode"),this.leftOver=null}function V(){k.call(this,"utf-8 encode")}R[254]=R[254]=1,x.utf8encode=function(O){return w.nodebuffer?v.newBufferFrom(O,"utf-8"):(function(F){var B,W,P,N,D,C=F.length,S=0;for(N=0;N<C;N++)(64512&(W=F.charCodeAt(N)))==55296&&N+1<C&&(64512&(P=F.charCodeAt(N+1)))==56320&&(W=65536+(W-55296<<10)+(P-56320),N++),S+=W<128?1:W<2048?2:W<65536?3:4;for(B=w.uint8array?new Uint8Array(S):new Array(S),N=D=0;D<S;N++)(64512&(W=F.charCodeAt(N)))==55296&&N+1<C&&(64512&(P=F.charCodeAt(N+1)))==56320&&(W=65536+(W-55296<<10)+(P-56320),N++),W<128?B[D++]=W:(W<2048?B[D++]=192|W>>>6:(W<65536?B[D++]=224|W>>>12:(B[D++]=240|W>>>18,B[D++]=128|W>>>12&63),B[D++]=128|W>>>6&63),B[D++]=128|63&W);return B})(O)},x.utf8decode=function(O){return w.nodebuffer?g.transformTo("nodebuffer",O).toString("utf-8"):(function(F){var B,W,P,N,D=F.length,C=new Array(2*D);for(B=W=0;B<D;)if((P=F[B++])<128)C[W++]=P;else if(4<(N=R[P]))C[W++]=65533,B+=N-1;else{for(P&=N===2?31:N===3?15:7;1<N&&B<D;)P=P<<6|63&F[B++],N--;1<N?C[W++]=65533:P<65536?C[W++]=P:(P-=65536,C[W++]=55296|P>>10&1023,C[W++]=56320|1023&P)}return C.length!==W&&(C.subarray?C=C.subarray(0,W):C.length=W),g.applyFromCharCode(C)})(O=g.transformTo(w.uint8array?"uint8array":"array",O))},g.inherits(G,k),G.prototype.processChunk=function(O){var F=g.transformTo(w.uint8array?"uint8array":"array",O.data);if(this.leftOver&&this.leftOver.length){if(w.uint8array){var B=F;(F=new Uint8Array(B.length+this.leftOver.length)).set(this.leftOver,0),F.set(B,this.leftOver.length)}else F=this.leftOver.concat(F);this.leftOver=null}var W=(function(N,D){var C;for((D=D||N.length)>N.length&&(D=N.length),C=D-1;0<=C&&(192&N[C])==128;)C--;return C<0||C===0?D:C+R[N[C]]>D?C:D})(F),P=F;W!==F.length&&(w.uint8array?(P=F.subarray(0,W),this.leftOver=F.subarray(W,F.length)):(P=F.slice(0,W),this.leftOver=F.slice(W,F.length))),this.push({data:x.utf8decode(P),meta:O.meta})},G.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:x.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},x.Utf8DecodeWorker=G,g.inherits(V,k),V.prototype.processChunk=function(O){this.push({data:x.utf8encode(O.data),meta:O.meta})},x.Utf8EncodeWorker=V},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(d,b,x){var g=d("./support"),w=d("./base64"),v=d("./nodejsUtils"),k=d("./external");function R(B){return B}function L(B,W){for(var P=0;P<B.length;++P)W[P]=255&B.charCodeAt(P);return W}d("setimmediate"),x.newBlob=function(B,W){x.checkSupport("blob");try{return new Blob([B],{type:W})}catch{try{var P=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return P.append(B),P.getBlob(W)}catch{throw new Error("Bug : can't construct the Blob.")}}};var G={stringifyByChunk:function(B,W,P){var N=[],D=0,C=B.length;if(C<=P)return String.fromCharCode.apply(null,B);for(;D<C;)W==="array"||W==="nodebuffer"?N.push(String.fromCharCode.apply(null,B.slice(D,Math.min(D+P,C)))):N.push(String.fromCharCode.apply(null,B.subarray(D,Math.min(D+P,C)))),D+=P;return N.join("")},stringifyByChar:function(B){for(var W="",P=0;P<B.length;P++)W+=String.fromCharCode(B[P]);return W},applyCanBeUsed:{uint8array:(function(){try{return g.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return g.nodebuffer&&String.fromCharCode.apply(null,v.allocBuffer(1)).length===1}catch{return!1}})()}};function V(B){var W=65536,P=x.getTypeOf(B),N=!0;if(P==="uint8array"?N=G.applyCanBeUsed.uint8array:P==="nodebuffer"&&(N=G.applyCanBeUsed.nodebuffer),N)for(;1<W;)try{return G.stringifyByChunk(B,P,W)}catch{W=Math.floor(W/2)}return G.stringifyByChar(B)}function O(B,W){for(var P=0;P<B.length;P++)W[P]=B[P];return W}x.applyFromCharCode=V;var F={};F.string={string:R,array:function(B){return L(B,new Array(B.length))},arraybuffer:function(B){return F.string.uint8array(B).buffer},uint8array:function(B){return L(B,new Uint8Array(B.length))},nodebuffer:function(B){return L(B,v.allocBuffer(B.length))}},F.array={string:V,array:R,arraybuffer:function(B){return new Uint8Array(B).buffer},uint8array:function(B){return new Uint8Array(B)},nodebuffer:function(B){return v.newBufferFrom(B)}},F.arraybuffer={string:function(B){return V(new Uint8Array(B))},array:function(B){return O(new Uint8Array(B),new Array(B.byteLength))},arraybuffer:R,uint8array:function(B){return new Uint8Array(B)},nodebuffer:function(B){return v.newBufferFrom(new Uint8Array(B))}},F.uint8array={string:V,array:function(B){return O(B,new Array(B.length))},arraybuffer:function(B){return B.buffer},uint8array:R,nodebuffer:function(B){return v.newBufferFrom(B)}},F.nodebuffer={string:V,array:function(B){return O(B,new Array(B.length))},arraybuffer:function(B){return F.nodebuffer.uint8array(B).buffer},uint8array:function(B){return O(B,new Uint8Array(B.length))},nodebuffer:R},x.transformTo=function(B,W){if(W=W||"",!B)return W;x.checkSupport(B);var P=x.getTypeOf(W);return F[P][B](W)},x.resolve=function(B){for(var W=B.split("/"),P=[],N=0;N<W.length;N++){var D=W[N];D==="."||D===""&&N!==0&&N!==W.length-1||(D===".."?P.pop():P.push(D))}return P.join("/")},x.getTypeOf=function(B){return typeof B=="string"?"string":Object.prototype.toString.call(B)==="[object Array]"?"array":g.nodebuffer&&v.isBuffer(B)?"nodebuffer":g.uint8array&&B instanceof Uint8Array?"uint8array":g.arraybuffer&&B instanceof ArrayBuffer?"arraybuffer":void 0},x.checkSupport=function(B){if(!g[B.toLowerCase()])throw new Error(B+" is not supported by this platform")},x.MAX_VALUE_16BITS=65535,x.MAX_VALUE_32BITS=-1,x.pretty=function(B){var W,P,N="";for(P=0;P<(B||"").length;P++)N+="\\x"+((W=B.charCodeAt(P))<16?"0":"")+W.toString(16).toUpperCase();return N},x.delay=function(B,W,P){h((function(){B.apply(P||null,W||[])}))},x.inherits=function(B,W){function P(){}P.prototype=W.prototype,B.prototype=new P},x.extend=function(){var B,W,P={};for(B=0;B<arguments.length;B++)for(W in arguments[B])Object.prototype.hasOwnProperty.call(arguments[B],W)&&P[W]===void 0&&(P[W]=arguments[B][W]);return P},x.prepareContent=function(B,W,P,N,D){return k.Promise.resolve(W).then((function(C){return g.blob&&(C instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(C))!==-1)&&typeof FileReader<"u"?new k.Promise((function(S,T){var A=new FileReader;A.onload=function(E){S(E.target.result)},A.onerror=function(E){T(E.target.error)},A.readAsArrayBuffer(C)})):C})).then((function(C){var S=x.getTypeOf(C);return S?(S==="arraybuffer"?C=x.transformTo("uint8array",C):S==="string"&&(D?C=w.decode(C):P&&N!==!0&&(C=(function(T){return L(T,g.uint8array?new Uint8Array(T.length):new Array(T.length))})(C))),C):k.Promise.reject(new Error("Can't read the data of '"+B+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(d,b,x){var g=d("./reader/readerFor"),w=d("./utils"),v=d("./signature"),k=d("./zipEntry"),R=d("./support");function L(G){this.files=[],this.loadOptions=G}L.prototype={checkSignature:function(G){if(!this.reader.readAndCheckSignature(G)){this.reader.index-=4;var V=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+w.pretty(V)+", expected "+w.pretty(G)+")")}},isSignature:function(G,V){var O=this.reader.index;this.reader.setIndex(G);var F=this.reader.readString(4)===V;return this.reader.setIndex(O),F},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var G=this.reader.readData(this.zipCommentLength),V=R.uint8array?"uint8array":"array",O=w.transformTo(V,G);this.zipComment=this.loadOptions.decodeFileName(O)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var G,V,O,F=this.zip64EndOfCentralSize-44;0<F;)G=this.reader.readInt(2),V=this.reader.readInt(4),O=this.reader.readData(V),this.zip64ExtensibleData[G]={id:G,length:V,value:O}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var G,V;for(G=0;G<this.files.length;G++)V=this.files[G],this.reader.setIndex(V.localHeaderOffset),this.checkSignature(v.LOCAL_FILE_HEADER),V.readLocalPart(this.reader),V.handleUTF8(),V.processAttributes()},readCentralDir:function(){var G;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(v.CENTRAL_FILE_HEADER);)(G=new k({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(G);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var G=this.reader.lastIndexOfSignature(v.CENTRAL_DIRECTORY_END);if(G<0)throw this.isSignature(0,v.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(G);var V=G;if(this.checkSignature(v.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===w.MAX_VALUE_16BITS||this.diskWithCentralDirStart===w.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===w.MAX_VALUE_16BITS||this.centralDirRecords===w.MAX_VALUE_16BITS||this.centralDirSize===w.MAX_VALUE_32BITS||this.centralDirOffset===w.MAX_VALUE_32BITS){if(this.zip64=!0,(G=this.reader.lastIndexOfSignature(v.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(G),this.checkSignature(v.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,v.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(v.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(v.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var O=this.centralDirOffset+this.centralDirSize;this.zip64&&(O+=20,O+=12+this.zip64EndOfCentralSize);var F=V-O;if(0<F)this.isSignature(V,v.CENTRAL_FILE_HEADER)||(this.reader.zero=F);else if(F<0)throw new Error("Corrupted zip: missing "+Math.abs(F)+" bytes.")},prepareReader:function(G){this.reader=g(G)},load:function(G){this.prepareReader(G),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},b.exports=L},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(d,b,x){var g=d("./reader/readerFor"),w=d("./utils"),v=d("./compressedObject"),k=d("./crc32"),R=d("./utf8"),L=d("./compressions"),G=d("./support");function V(O,F){this.options=O,this.loadOptions=F}V.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(O){var F,B;if(O.skip(22),this.fileNameLength=O.readInt(2),B=O.readInt(2),this.fileName=O.readData(this.fileNameLength),O.skip(B),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((F=(function(W){for(var P in L)if(Object.prototype.hasOwnProperty.call(L,P)&&L[P].magic===W)return L[P];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+w.pretty(this.compressionMethod)+" unknown (inner file : "+w.transformTo("string",this.fileName)+")");this.decompressed=new v(this.compressedSize,this.uncompressedSize,this.crc32,F,O.readData(this.compressedSize))},readCentralPart:function(O){this.versionMadeBy=O.readInt(2),O.skip(2),this.bitFlag=O.readInt(2),this.compressionMethod=O.readString(2),this.date=O.readDate(),this.crc32=O.readInt(4),this.compressedSize=O.readInt(4),this.uncompressedSize=O.readInt(4);var F=O.readInt(2);if(this.extraFieldsLength=O.readInt(2),this.fileCommentLength=O.readInt(2),this.diskNumberStart=O.readInt(2),this.internalFileAttributes=O.readInt(2),this.externalFileAttributes=O.readInt(4),this.localHeaderOffset=O.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");O.skip(F),this.readExtraFields(O),this.parseZIP64ExtraField(O),this.fileComment=O.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var O=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),O==0&&(this.dosPermissions=63&this.externalFileAttributes),O==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var O=g(this.extraFields[1].value);this.uncompressedSize===w.MAX_VALUE_32BITS&&(this.uncompressedSize=O.readInt(8)),this.compressedSize===w.MAX_VALUE_32BITS&&(this.compressedSize=O.readInt(8)),this.localHeaderOffset===w.MAX_VALUE_32BITS&&(this.localHeaderOffset=O.readInt(8)),this.diskNumberStart===w.MAX_VALUE_32BITS&&(this.diskNumberStart=O.readInt(4))}},readExtraFields:function(O){var F,B,W,P=O.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});O.index+4<P;)F=O.readInt(2),B=O.readInt(2),W=O.readData(B),this.extraFields[F]={id:F,length:B,value:W};O.setIndex(P)},handleUTF8:function(){var O=G.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=R.utf8decode(this.fileName),this.fileCommentStr=R.utf8decode(this.fileComment);else{var F=this.findExtraFieldUnicodePath();if(F!==null)this.fileNameStr=F;else{var B=w.transformTo(O,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(B)}var W=this.findExtraFieldUnicodeComment();if(W!==null)this.fileCommentStr=W;else{var P=w.transformTo(O,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(P)}}},findExtraFieldUnicodePath:function(){var O=this.extraFields[28789];if(O){var F=g(O.value);return F.readInt(1)!==1||k(this.fileName)!==F.readInt(4)?null:R.utf8decode(F.readData(O.length-5))}return null},findExtraFieldUnicodeComment:function(){var O=this.extraFields[25461];if(O){var F=g(O.value);return F.readInt(1)!==1||k(this.fileComment)!==F.readInt(4)?null:R.utf8decode(F.readData(O.length-5))}return null}},b.exports=V},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(d,b,x){function g(F,B,W){this.name=F,this.dir=W.dir,this.date=W.date,this.comment=W.comment,this.unixPermissions=W.unixPermissions,this.dosPermissions=W.dosPermissions,this._data=B,this._dataBinary=W.binary,this.options={compression:W.compression,compressionOptions:W.compressionOptions}}var w=d("./stream/StreamHelper"),v=d("./stream/DataWorker"),k=d("./utf8"),R=d("./compressedObject"),L=d("./stream/GenericWorker");g.prototype={internalStream:function(F){var B=null,W="string";try{if(!F)throw new Error("No output type specified.");var P=(W=F.toLowerCase())==="string"||W==="text";W!=="binarystring"&&W!=="text"||(W="string"),B=this._decompressWorker();var N=!this._dataBinary;N&&!P&&(B=B.pipe(new k.Utf8EncodeWorker)),!N&&P&&(B=B.pipe(new k.Utf8DecodeWorker))}catch(D){(B=new L("error")).error(D)}return new w(B,W,"")},async:function(F,B){return this.internalStream(F).accumulate(B)},nodeStream:function(F,B){return this.internalStream(F||"nodebuffer").toNodejsStream(B)},_compressWorker:function(F,B){if(this._data instanceof R&&this._data.compression.magic===F.magic)return this._data.getCompressedWorker();var W=this._decompressWorker();return this._dataBinary||(W=W.pipe(new k.Utf8EncodeWorker)),R.createWorkerFrom(W,F,B)},_decompressWorker:function(){return this._data instanceof R?this._data.getContentWorker():this._data instanceof L?this._data:new v(this._data)}};for(var G=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],V=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},O=0;O<G.length;O++)g.prototype[G[O]]=V;b.exports=g},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(d,b,x){(function(g){var w,v,k=g.MutationObserver||g.WebKitMutationObserver;if(k){var R=0,L=new k(F),G=g.document.createTextNode("");L.observe(G,{characterData:!0}),w=function(){G.data=R=++R%2}}else if(g.setImmediate||g.MessageChannel===void 0)w="document"in g&&"onreadystatechange"in g.document.createElement("script")?function(){var B=g.document.createElement("script");B.onreadystatechange=function(){F(),B.onreadystatechange=null,B.parentNode.removeChild(B),B=null},g.document.documentElement.appendChild(B)}:function(){setTimeout(F,0)};else{var V=new g.MessageChannel;V.port1.onmessage=F,w=function(){V.port2.postMessage(0)}}var O=[];function F(){var B,W;v=!0;for(var P=O.length;P;){for(W=O,O=[],B=-1;++B<P;)W[B]();P=O.length}v=!1}b.exports=function(B){O.push(B)!==1||v||w()}}).call(this,a!==void 0?a:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(d,b,x){var g=d("immediate");function w(){}var v={},k=["REJECTED"],R=["FULFILLED"],L=["PENDING"];function G(P){if(typeof P!="function")throw new TypeError("resolver must be a function");this.state=L,this.queue=[],this.outcome=void 0,P!==w&&B(this,P)}function V(P,N,D){this.promise=P,typeof N=="function"&&(this.onFulfilled=N,this.callFulfilled=this.otherCallFulfilled),typeof D=="function"&&(this.onRejected=D,this.callRejected=this.otherCallRejected)}function O(P,N,D){g((function(){var C;try{C=N(D)}catch(S){return v.reject(P,S)}C===P?v.reject(P,new TypeError("Cannot resolve promise with itself")):v.resolve(P,C)}))}function F(P){var N=P&&P.then;if(P&&(typeof P=="object"||typeof P=="function")&&typeof N=="function")return function(){N.apply(P,arguments)}}function B(P,N){var D=!1;function C(A){D||(D=!0,v.reject(P,A))}function S(A){D||(D=!0,v.resolve(P,A))}var T=W((function(){N(S,C)}));T.status==="error"&&C(T.value)}function W(P,N){var D={};try{D.value=P(N),D.status="success"}catch(C){D.status="error",D.value=C}return D}(b.exports=G).prototype.finally=function(P){if(typeof P!="function")return this;var N=this.constructor;return this.then((function(D){return N.resolve(P()).then((function(){return D}))}),(function(D){return N.resolve(P()).then((function(){throw D}))}))},G.prototype.catch=function(P){return this.then(null,P)},G.prototype.then=function(P,N){if(typeof P!="function"&&this.state===R||typeof N!="function"&&this.state===k)return this;var D=new this.constructor(w);return this.state!==L?O(D,this.state===R?P:N,this.outcome):this.queue.push(new V(D,P,N)),D},V.prototype.callFulfilled=function(P){v.resolve(this.promise,P)},V.prototype.otherCallFulfilled=function(P){O(this.promise,this.onFulfilled,P)},V.prototype.callRejected=function(P){v.reject(this.promise,P)},V.prototype.otherCallRejected=function(P){O(this.promise,this.onRejected,P)},v.resolve=function(P,N){var D=W(F,N);if(D.status==="error")return v.reject(P,D.value);var C=D.value;if(C)B(P,C);else{P.state=R,P.outcome=N;for(var S=-1,T=P.queue.length;++S<T;)P.queue[S].callFulfilled(N)}return P},v.reject=function(P,N){P.state=k,P.outcome=N;for(var D=-1,C=P.queue.length;++D<C;)P.queue[D].callRejected(N);return P},G.resolve=function(P){return P instanceof this?P:v.resolve(new this(w),P)},G.reject=function(P){var N=new this(w);return v.reject(N,P)},G.all=function(P){var N=this;if(Object.prototype.toString.call(P)!=="[object Array]")return this.reject(new TypeError("must be an array"));var D=P.length,C=!1;if(!D)return this.resolve([]);for(var S=new Array(D),T=0,A=-1,E=new this(w);++A<D;)j(P[A],A);return E;function j(U,I){N.resolve(U).then((function(Q){S[I]=Q,++T!==D||C||(C=!0,v.resolve(E,S))}),(function(Q){C||(C=!0,v.reject(E,Q))}))}},G.race=function(P){if(Object.prototype.toString.call(P)!=="[object Array]")return this.reject(new TypeError("must be an array"));var N=P.length,D=!1;if(!N)return this.resolve([]);for(var C,S=-1,T=new this(w);++S<N;)C=P[S],this.resolve(C).then((function(A){D||(D=!0,v.resolve(T,A))}),(function(A){D||(D=!0,v.reject(T,A))}));return T}},{immediate:36}],38:[function(d,b,x){var g={};(0,d("./lib/utils/common").assign)(g,d("./lib/deflate"),d("./lib/inflate"),d("./lib/zlib/constants")),b.exports=g},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(d,b,x){var g=d("./zlib/deflate"),w=d("./utils/common"),v=d("./utils/strings"),k=d("./zlib/messages"),R=d("./zlib/zstream"),L=Object.prototype.toString;function G(O){if(!(this instanceof G))return new G(O);this.options=w.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},O||{});var F=this.options;F.raw&&0<F.windowBits?F.windowBits=-F.windowBits:F.gzip&&0<F.windowBits&&F.windowBits<16&&(F.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new R,this.strm.avail_out=0;var B=g.deflateInit2(this.strm,F.level,F.method,F.windowBits,F.memLevel,F.strategy);if(B!==0)throw new Error(k[B]);if(F.header&&g.deflateSetHeader(this.strm,F.header),F.dictionary){var W;if(W=typeof F.dictionary=="string"?v.string2buf(F.dictionary):L.call(F.dictionary)==="[object ArrayBuffer]"?new Uint8Array(F.dictionary):F.dictionary,(B=g.deflateSetDictionary(this.strm,W))!==0)throw new Error(k[B]);this._dict_set=!0}}function V(O,F){var B=new G(F);if(B.push(O,!0),B.err)throw B.msg||k[B.err];return B.result}G.prototype.push=function(O,F){var B,W,P=this.strm,N=this.options.chunkSize;if(this.ended)return!1;W=F===~~F?F:F===!0?4:0,typeof O=="string"?P.input=v.string2buf(O):L.call(O)==="[object ArrayBuffer]"?P.input=new Uint8Array(O):P.input=O,P.next_in=0,P.avail_in=P.input.length;do{if(P.avail_out===0&&(P.output=new w.Buf8(N),P.next_out=0,P.avail_out=N),(B=g.deflate(P,W))!==1&&B!==0)return this.onEnd(B),!(this.ended=!0);P.avail_out!==0&&(P.avail_in!==0||W!==4&&W!==2)||(this.options.to==="string"?this.onData(v.buf2binstring(w.shrinkBuf(P.output,P.next_out))):this.onData(w.shrinkBuf(P.output,P.next_out)))}while((0<P.avail_in||P.avail_out===0)&&B!==1);return W===4?(B=g.deflateEnd(this.strm),this.onEnd(B),this.ended=!0,B===0):W!==2||(this.onEnd(0),!(P.avail_out=0))},G.prototype.onData=function(O){this.chunks.push(O)},G.prototype.onEnd=function(O){O===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=w.flattenChunks(this.chunks)),this.chunks=[],this.err=O,this.msg=this.strm.msg},x.Deflate=G,x.deflate=V,x.deflateRaw=function(O,F){return(F=F||{}).raw=!0,V(O,F)},x.gzip=function(O,F){return(F=F||{}).gzip=!0,V(O,F)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(d,b,x){var g=d("./zlib/inflate"),w=d("./utils/common"),v=d("./utils/strings"),k=d("./zlib/constants"),R=d("./zlib/messages"),L=d("./zlib/zstream"),G=d("./zlib/gzheader"),V=Object.prototype.toString;function O(B){if(!(this instanceof O))return new O(B);this.options=w.assign({chunkSize:16384,windowBits:0,to:""},B||{});var W=this.options;W.raw&&0<=W.windowBits&&W.windowBits<16&&(W.windowBits=-W.windowBits,W.windowBits===0&&(W.windowBits=-15)),!(0<=W.windowBits&&W.windowBits<16)||B&&B.windowBits||(W.windowBits+=32),15<W.windowBits&&W.windowBits<48&&(15&W.windowBits)==0&&(W.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new L,this.strm.avail_out=0;var P=g.inflateInit2(this.strm,W.windowBits);if(P!==k.Z_OK)throw new Error(R[P]);this.header=new G,g.inflateGetHeader(this.strm,this.header)}function F(B,W){var P=new O(W);if(P.push(B,!0),P.err)throw P.msg||R[P.err];return P.result}O.prototype.push=function(B,W){var P,N,D,C,S,T,A=this.strm,E=this.options.chunkSize,j=this.options.dictionary,U=!1;if(this.ended)return!1;N=W===~~W?W:W===!0?k.Z_FINISH:k.Z_NO_FLUSH,typeof B=="string"?A.input=v.binstring2buf(B):V.call(B)==="[object ArrayBuffer]"?A.input=new Uint8Array(B):A.input=B,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new w.Buf8(E),A.next_out=0,A.avail_out=E),(P=g.inflate(A,k.Z_NO_FLUSH))===k.Z_NEED_DICT&&j&&(T=typeof j=="string"?v.string2buf(j):V.call(j)==="[object ArrayBuffer]"?new Uint8Array(j):j,P=g.inflateSetDictionary(this.strm,T)),P===k.Z_BUF_ERROR&&U===!0&&(P=k.Z_OK,U=!1),P!==k.Z_STREAM_END&&P!==k.Z_OK)return this.onEnd(P),!(this.ended=!0);A.next_out&&(A.avail_out!==0&&P!==k.Z_STREAM_END&&(A.avail_in!==0||N!==k.Z_FINISH&&N!==k.Z_SYNC_FLUSH)||(this.options.to==="string"?(D=v.utf8border(A.output,A.next_out),C=A.next_out-D,S=v.buf2string(A.output,D),A.next_out=C,A.avail_out=E-C,C&&w.arraySet(A.output,A.output,D,C,0),this.onData(S)):this.onData(w.shrinkBuf(A.output,A.next_out)))),A.avail_in===0&&A.avail_out===0&&(U=!0)}while((0<A.avail_in||A.avail_out===0)&&P!==k.Z_STREAM_END);return P===k.Z_STREAM_END&&(N=k.Z_FINISH),N===k.Z_FINISH?(P=g.inflateEnd(this.strm),this.onEnd(P),this.ended=!0,P===k.Z_OK):N!==k.Z_SYNC_FLUSH||(this.onEnd(k.Z_OK),!(A.avail_out=0))},O.prototype.onData=function(B){this.chunks.push(B)},O.prototype.onEnd=function(B){B===k.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=w.flattenChunks(this.chunks)),this.chunks=[],this.err=B,this.msg=this.strm.msg},x.Inflate=O,x.inflate=F,x.inflateRaw=function(B,W){return(W=W||{}).raw=!0,F(B,W)},x.ungzip=F},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(d,b,x){var g=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";x.assign=function(k){for(var R=Array.prototype.slice.call(arguments,1);R.length;){var L=R.shift();if(L){if(typeof L!="object")throw new TypeError(L+"must be non-object");for(var G in L)L.hasOwnProperty(G)&&(k[G]=L[G])}}return k},x.shrinkBuf=function(k,R){return k.length===R?k:k.subarray?k.subarray(0,R):(k.length=R,k)};var w={arraySet:function(k,R,L,G,V){if(R.subarray&&k.subarray)k.set(R.subarray(L,L+G),V);else for(var O=0;O<G;O++)k[V+O]=R[L+O]},flattenChunks:function(k){var R,L,G,V,O,F;for(R=G=0,L=k.length;R<L;R++)G+=k[R].length;for(F=new Uint8Array(G),R=V=0,L=k.length;R<L;R++)O=k[R],F.set(O,V),V+=O.length;return F}},v={arraySet:function(k,R,L,G,V){for(var O=0;O<G;O++)k[V+O]=R[L+O]},flattenChunks:function(k){return[].concat.apply([],k)}};x.setTyped=function(k){k?(x.Buf8=Uint8Array,x.Buf16=Uint16Array,x.Buf32=Int32Array,x.assign(x,w)):(x.Buf8=Array,x.Buf16=Array,x.Buf32=Array,x.assign(x,v))},x.setTyped(g)},{}],42:[function(d,b,x){var g=d("./common"),w=!0,v=!0;try{String.fromCharCode.apply(null,[0])}catch{w=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{v=!1}for(var k=new g.Buf8(256),R=0;R<256;R++)k[R]=252<=R?6:248<=R?5:240<=R?4:224<=R?3:192<=R?2:1;function L(G,V){if(V<65537&&(G.subarray&&v||!G.subarray&&w))return String.fromCharCode.apply(null,g.shrinkBuf(G,V));for(var O="",F=0;F<V;F++)O+=String.fromCharCode(G[F]);return O}k[254]=k[254]=1,x.string2buf=function(G){var V,O,F,B,W,P=G.length,N=0;for(B=0;B<P;B++)(64512&(O=G.charCodeAt(B)))==55296&&B+1<P&&(64512&(F=G.charCodeAt(B+1)))==56320&&(O=65536+(O-55296<<10)+(F-56320),B++),N+=O<128?1:O<2048?2:O<65536?3:4;for(V=new g.Buf8(N),B=W=0;W<N;B++)(64512&(O=G.charCodeAt(B)))==55296&&B+1<P&&(64512&(F=G.charCodeAt(B+1)))==56320&&(O=65536+(O-55296<<10)+(F-56320),B++),O<128?V[W++]=O:(O<2048?V[W++]=192|O>>>6:(O<65536?V[W++]=224|O>>>12:(V[W++]=240|O>>>18,V[W++]=128|O>>>12&63),V[W++]=128|O>>>6&63),V[W++]=128|63&O);return V},x.buf2binstring=function(G){return L(G,G.length)},x.binstring2buf=function(G){for(var V=new g.Buf8(G.length),O=0,F=V.length;O<F;O++)V[O]=G.charCodeAt(O);return V},x.buf2string=function(G,V){var O,F,B,W,P=V||G.length,N=new Array(2*P);for(O=F=0;O<P;)if((B=G[O++])<128)N[F++]=B;else if(4<(W=k[B]))N[F++]=65533,O+=W-1;else{for(B&=W===2?31:W===3?15:7;1<W&&O<P;)B=B<<6|63&G[O++],W--;1<W?N[F++]=65533:B<65536?N[F++]=B:(B-=65536,N[F++]=55296|B>>10&1023,N[F++]=56320|1023&B)}return L(N,F)},x.utf8border=function(G,V){var O;for((V=V||G.length)>G.length&&(V=G.length),O=V-1;0<=O&&(192&G[O])==128;)O--;return O<0||O===0?V:O+k[G[O]]>V?O:V}},{"./common":41}],43:[function(d,b,x){b.exports=function(g,w,v,k){for(var R=65535&g|0,L=g>>>16&65535|0,G=0;v!==0;){for(v-=G=2e3<v?2e3:v;L=L+(R=R+w[k++]|0)|0,--G;);R%=65521,L%=65521}return R|L<<16|0}},{}],44:[function(d,b,x){b.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(d,b,x){var g=(function(){for(var w,v=[],k=0;k<256;k++){w=k;for(var R=0;R<8;R++)w=1&w?3988292384^w>>>1:w>>>1;v[k]=w}return v})();b.exports=function(w,v,k,R){var L=g,G=R+k;w^=-1;for(var V=R;V<G;V++)w=w>>>8^L[255&(w^v[V])];return-1^w}},{}],46:[function(d,b,x){var g,w=d("../utils/common"),v=d("./trees"),k=d("./adler32"),R=d("./crc32"),L=d("./messages"),G=-2,V=258,O=262,F=113;function B(q,te){return q.msg=L[te],te}function W(q){return(q<<1)-(4<q?9:0)}function P(q){for(var te=q.length;0<=--te;)q[te]=0}function N(q){var te=q.state,H=te.pending;H>q.avail_out&&(H=q.avail_out),H!==0&&(w.arraySet(q.output,te.pending_buf,te.pending_out,H,q.next_out),q.next_out+=H,te.pending_out+=H,q.total_out+=H,q.avail_out-=H,te.pending-=H,te.pending===0&&(te.pending_out=0))}function D(q,te){v._tr_flush_block(q,0<=q.block_start?q.block_start:-1,q.strstart-q.block_start,te),q.block_start=q.strstart,N(q.strm)}function C(q,te){q.pending_buf[q.pending++]=te}function S(q,te){q.pending_buf[q.pending++]=te>>>8&255,q.pending_buf[q.pending++]=255&te}function T(q,te){var H,z,Z=q.max_chain_length,ae=q.strstart,re=q.prev_length,le=q.nice_match,de=q.strstart>q.w_size-O?q.strstart-(q.w_size-O):0,ve=q.window,ge=q.w_mask,se=q.prev,xe=q.strstart+V,pe=ve[ae+re-1],Te=ve[ae+re];q.prev_length>=q.good_match&&(Z>>=2),le>q.lookahead&&(le=q.lookahead);do if(ve[(H=te)+re]===Te&&ve[H+re-1]===pe&&ve[H]===ve[ae]&&ve[++H]===ve[ae+1]){ae+=2,H++;do;while(ve[++ae]===ve[++H]&&ve[++ae]===ve[++H]&&ve[++ae]===ve[++H]&&ve[++ae]===ve[++H]&&ve[++ae]===ve[++H]&&ve[++ae]===ve[++H]&&ve[++ae]===ve[++H]&&ve[++ae]===ve[++H]&&ae<xe);if(z=V-(xe-ae),ae=xe-V,re<z){if(q.match_start=te,le<=(re=z))break;pe=ve[ae+re-1],Te=ve[ae+re]}}while((te=se[te&ge])>de&&--Z!=0);return re<=q.lookahead?re:q.lookahead}function A(q){var te,H,z,Z,ae,re,le,de,ve,ge,se=q.w_size;do{if(Z=q.window_size-q.lookahead-q.strstart,q.strstart>=se+(se-O)){for(w.arraySet(q.window,q.window,se,se,0),q.match_start-=se,q.strstart-=se,q.block_start-=se,te=H=q.hash_size;z=q.head[--te],q.head[te]=se<=z?z-se:0,--H;);for(te=H=se;z=q.prev[--te],q.prev[te]=se<=z?z-se:0,--H;);Z+=se}if(q.strm.avail_in===0)break;if(re=q.strm,le=q.window,de=q.strstart+q.lookahead,ge=void 0,(ve=Z)<(ge=re.avail_in)&&(ge=ve),H=ge===0?0:(re.avail_in-=ge,w.arraySet(le,re.input,re.next_in,ge,de),re.state.wrap===1?re.adler=k(re.adler,le,ge,de):re.state.wrap===2&&(re.adler=R(re.adler,le,ge,de)),re.next_in+=ge,re.total_in+=ge,ge),q.lookahead+=H,q.lookahead+q.insert>=3)for(ae=q.strstart-q.insert,q.ins_h=q.window[ae],q.ins_h=(q.ins_h<<q.hash_shift^q.window[ae+1])&q.hash_mask;q.insert&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[ae+3-1])&q.hash_mask,q.prev[ae&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=ae,ae++,q.insert--,!(q.lookahead+q.insert<3)););}while(q.lookahead<O&&q.strm.avail_in!==0)}function E(q,te){for(var H,z;;){if(q.lookahead<O){if(A(q),q.lookahead<O&&te===0)return 1;if(q.lookahead===0)break}if(H=0,q.lookahead>=3&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+3-1])&q.hash_mask,H=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart),H!==0&&q.strstart-H<=q.w_size-O&&(q.match_length=T(q,H)),q.match_length>=3)if(z=v._tr_tally(q,q.strstart-q.match_start,q.match_length-3),q.lookahead-=q.match_length,q.match_length<=q.max_lazy_match&&q.lookahead>=3){for(q.match_length--;q.strstart++,q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+3-1])&q.hash_mask,H=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart,--q.match_length!=0;);q.strstart++}else q.strstart+=q.match_length,q.match_length=0,q.ins_h=q.window[q.strstart],q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+1])&q.hash_mask;else z=v._tr_tally(q,0,q.window[q.strstart]),q.lookahead--,q.strstart++;if(z&&(D(q,!1),q.strm.avail_out===0))return 1}return q.insert=q.strstart<2?q.strstart:2,te===4?(D(q,!0),q.strm.avail_out===0?3:4):q.last_lit&&(D(q,!1),q.strm.avail_out===0)?1:2}function j(q,te){for(var H,z,Z;;){if(q.lookahead<O){if(A(q),q.lookahead<O&&te===0)return 1;if(q.lookahead===0)break}if(H=0,q.lookahead>=3&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+3-1])&q.hash_mask,H=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart),q.prev_length=q.match_length,q.prev_match=q.match_start,q.match_length=2,H!==0&&q.prev_length<q.max_lazy_match&&q.strstart-H<=q.w_size-O&&(q.match_length=T(q,H),q.match_length<=5&&(q.strategy===1||q.match_length===3&&4096<q.strstart-q.match_start)&&(q.match_length=2)),q.prev_length>=3&&q.match_length<=q.prev_length){for(Z=q.strstart+q.lookahead-3,z=v._tr_tally(q,q.strstart-1-q.prev_match,q.prev_length-3),q.lookahead-=q.prev_length-1,q.prev_length-=2;++q.strstart<=Z&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+3-1])&q.hash_mask,H=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart),--q.prev_length!=0;);if(q.match_available=0,q.match_length=2,q.strstart++,z&&(D(q,!1),q.strm.avail_out===0))return 1}else if(q.match_available){if((z=v._tr_tally(q,0,q.window[q.strstart-1]))&&D(q,!1),q.strstart++,q.lookahead--,q.strm.avail_out===0)return 1}else q.match_available=1,q.strstart++,q.lookahead--}return q.match_available&&(z=v._tr_tally(q,0,q.window[q.strstart-1]),q.match_available=0),q.insert=q.strstart<2?q.strstart:2,te===4?(D(q,!0),q.strm.avail_out===0?3:4):q.last_lit&&(D(q,!1),q.strm.avail_out===0)?1:2}function U(q,te,H,z,Z){this.good_length=q,this.max_lazy=te,this.nice_length=H,this.max_chain=z,this.func=Z}function I(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new w.Buf16(1146),this.dyn_dtree=new w.Buf16(122),this.bl_tree=new w.Buf16(78),P(this.dyn_ltree),P(this.dyn_dtree),P(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new w.Buf16(16),this.heap=new w.Buf16(573),P(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new w.Buf16(573),P(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Q(q){var te;return q&&q.state?(q.total_in=q.total_out=0,q.data_type=2,(te=q.state).pending=0,te.pending_out=0,te.wrap<0&&(te.wrap=-te.wrap),te.status=te.wrap?42:F,q.adler=te.wrap===2?0:1,te.last_flush=0,v._tr_init(te),0):B(q,G)}function Y(q){var te=Q(q);return te===0&&(function(H){H.window_size=2*H.w_size,P(H.head),H.max_lazy_match=g[H.level].max_lazy,H.good_match=g[H.level].good_length,H.nice_match=g[H.level].nice_length,H.max_chain_length=g[H.level].max_chain,H.strstart=0,H.block_start=0,H.lookahead=0,H.insert=0,H.match_length=H.prev_length=2,H.match_available=0,H.ins_h=0})(q.state),te}function ee(q,te,H,z,Z,ae){if(!q)return G;var re=1;if(te===-1&&(te=6),z<0?(re=0,z=-z):15<z&&(re=2,z-=16),Z<1||9<Z||H!==8||z<8||15<z||te<0||9<te||ae<0||4<ae)return B(q,G);z===8&&(z=9);var le=new I;return(q.state=le).strm=q,le.wrap=re,le.gzhead=null,le.w_bits=z,le.w_size=1<<le.w_bits,le.w_mask=le.w_size-1,le.hash_bits=Z+7,le.hash_size=1<<le.hash_bits,le.hash_mask=le.hash_size-1,le.hash_shift=~~((le.hash_bits+3-1)/3),le.window=new w.Buf8(2*le.w_size),le.head=new w.Buf16(le.hash_size),le.prev=new w.Buf16(le.w_size),le.lit_bufsize=1<<Z+6,le.pending_buf_size=4*le.lit_bufsize,le.pending_buf=new w.Buf8(le.pending_buf_size),le.d_buf=1*le.lit_bufsize,le.l_buf=3*le.lit_bufsize,le.level=te,le.strategy=ae,le.method=H,Y(q)}g=[new U(0,0,0,0,(function(q,te){var H=65535;for(H>q.pending_buf_size-5&&(H=q.pending_buf_size-5);;){if(q.lookahead<=1){if(A(q),q.lookahead===0&&te===0)return 1;if(q.lookahead===0)break}q.strstart+=q.lookahead,q.lookahead=0;var z=q.block_start+H;if((q.strstart===0||q.strstart>=z)&&(q.lookahead=q.strstart-z,q.strstart=z,D(q,!1),q.strm.avail_out===0)||q.strstart-q.block_start>=q.w_size-O&&(D(q,!1),q.strm.avail_out===0))return 1}return q.insert=0,te===4?(D(q,!0),q.strm.avail_out===0?3:4):(q.strstart>q.block_start&&(D(q,!1),q.strm.avail_out),1)})),new U(4,4,8,4,E),new U(4,5,16,8,E),new U(4,6,32,32,E),new U(4,4,16,16,j),new U(8,16,32,32,j),new U(8,16,128,128,j),new U(8,32,128,256,j),new U(32,128,258,1024,j),new U(32,258,258,4096,j)],x.deflateInit=function(q,te){return ee(q,te,8,15,8,0)},x.deflateInit2=ee,x.deflateReset=Y,x.deflateResetKeep=Q,x.deflateSetHeader=function(q,te){return q&&q.state?q.state.wrap!==2?G:(q.state.gzhead=te,0):G},x.deflate=function(q,te){var H,z,Z,ae;if(!q||!q.state||5<te||te<0)return q?B(q,G):G;if(z=q.state,!q.output||!q.input&&q.avail_in!==0||z.status===666&&te!==4)return B(q,q.avail_out===0?-5:G);if(z.strm=q,H=z.last_flush,z.last_flush=te,z.status===42)if(z.wrap===2)q.adler=0,C(z,31),C(z,139),C(z,8),z.gzhead?(C(z,(z.gzhead.text?1:0)+(z.gzhead.hcrc?2:0)+(z.gzhead.extra?4:0)+(z.gzhead.name?8:0)+(z.gzhead.comment?16:0)),C(z,255&z.gzhead.time),C(z,z.gzhead.time>>8&255),C(z,z.gzhead.time>>16&255),C(z,z.gzhead.time>>24&255),C(z,z.level===9?2:2<=z.strategy||z.level<2?4:0),C(z,255&z.gzhead.os),z.gzhead.extra&&z.gzhead.extra.length&&(C(z,255&z.gzhead.extra.length),C(z,z.gzhead.extra.length>>8&255)),z.gzhead.hcrc&&(q.adler=R(q.adler,z.pending_buf,z.pending,0)),z.gzindex=0,z.status=69):(C(z,0),C(z,0),C(z,0),C(z,0),C(z,0),C(z,z.level===9?2:2<=z.strategy||z.level<2?4:0),C(z,3),z.status=F);else{var re=8+(z.w_bits-8<<4)<<8;re|=(2<=z.strategy||z.level<2?0:z.level<6?1:z.level===6?2:3)<<6,z.strstart!==0&&(re|=32),re+=31-re%31,z.status=F,S(z,re),z.strstart!==0&&(S(z,q.adler>>>16),S(z,65535&q.adler)),q.adler=1}if(z.status===69)if(z.gzhead.extra){for(Z=z.pending;z.gzindex<(65535&z.gzhead.extra.length)&&(z.pending!==z.pending_buf_size||(z.gzhead.hcrc&&z.pending>Z&&(q.adler=R(q.adler,z.pending_buf,z.pending-Z,Z)),N(q),Z=z.pending,z.pending!==z.pending_buf_size));)C(z,255&z.gzhead.extra[z.gzindex]),z.gzindex++;z.gzhead.hcrc&&z.pending>Z&&(q.adler=R(q.adler,z.pending_buf,z.pending-Z,Z)),z.gzindex===z.gzhead.extra.length&&(z.gzindex=0,z.status=73)}else z.status=73;if(z.status===73)if(z.gzhead.name){Z=z.pending;do{if(z.pending===z.pending_buf_size&&(z.gzhead.hcrc&&z.pending>Z&&(q.adler=R(q.adler,z.pending_buf,z.pending-Z,Z)),N(q),Z=z.pending,z.pending===z.pending_buf_size)){ae=1;break}ae=z.gzindex<z.gzhead.name.length?255&z.gzhead.name.charCodeAt(z.gzindex++):0,C(z,ae)}while(ae!==0);z.gzhead.hcrc&&z.pending>Z&&(q.adler=R(q.adler,z.pending_buf,z.pending-Z,Z)),ae===0&&(z.gzindex=0,z.status=91)}else z.status=91;if(z.status===91)if(z.gzhead.comment){Z=z.pending;do{if(z.pending===z.pending_buf_size&&(z.gzhead.hcrc&&z.pending>Z&&(q.adler=R(q.adler,z.pending_buf,z.pending-Z,Z)),N(q),Z=z.pending,z.pending===z.pending_buf_size)){ae=1;break}ae=z.gzindex<z.gzhead.comment.length?255&z.gzhead.comment.charCodeAt(z.gzindex++):0,C(z,ae)}while(ae!==0);z.gzhead.hcrc&&z.pending>Z&&(q.adler=R(q.adler,z.pending_buf,z.pending-Z,Z)),ae===0&&(z.status=103)}else z.status=103;if(z.status===103&&(z.gzhead.hcrc?(z.pending+2>z.pending_buf_size&&N(q),z.pending+2<=z.pending_buf_size&&(C(z,255&q.adler),C(z,q.adler>>8&255),q.adler=0,z.status=F)):z.status=F),z.pending!==0){if(N(q),q.avail_out===0)return z.last_flush=-1,0}else if(q.avail_in===0&&W(te)<=W(H)&&te!==4)return B(q,-5);if(z.status===666&&q.avail_in!==0)return B(q,-5);if(q.avail_in!==0||z.lookahead!==0||te!==0&&z.status!==666){var le=z.strategy===2?(function(de,ve){for(var ge;;){if(de.lookahead===0&&(A(de),de.lookahead===0)){if(ve===0)return 1;break}if(de.match_length=0,ge=v._tr_tally(de,0,de.window[de.strstart]),de.lookahead--,de.strstart++,ge&&(D(de,!1),de.strm.avail_out===0))return 1}return de.insert=0,ve===4?(D(de,!0),de.strm.avail_out===0?3:4):de.last_lit&&(D(de,!1),de.strm.avail_out===0)?1:2})(z,te):z.strategy===3?(function(de,ve){for(var ge,se,xe,pe,Te=de.window;;){if(de.lookahead<=V){if(A(de),de.lookahead<=V&&ve===0)return 1;if(de.lookahead===0)break}if(de.match_length=0,de.lookahead>=3&&0<de.strstart&&(se=Te[xe=de.strstart-1])===Te[++xe]&&se===Te[++xe]&&se===Te[++xe]){pe=de.strstart+V;do;while(se===Te[++xe]&&se===Te[++xe]&&se===Te[++xe]&&se===Te[++xe]&&se===Te[++xe]&&se===Te[++xe]&&se===Te[++xe]&&se===Te[++xe]&&xe<pe);de.match_length=V-(pe-xe),de.match_length>de.lookahead&&(de.match_length=de.lookahead)}if(de.match_length>=3?(ge=v._tr_tally(de,1,de.match_length-3),de.lookahead-=de.match_length,de.strstart+=de.match_length,de.match_length=0):(ge=v._tr_tally(de,0,de.window[de.strstart]),de.lookahead--,de.strstart++),ge&&(D(de,!1),de.strm.avail_out===0))return 1}return de.insert=0,ve===4?(D(de,!0),de.strm.avail_out===0?3:4):de.last_lit&&(D(de,!1),de.strm.avail_out===0)?1:2})(z,te):g[z.level].func(z,te);if(le!==3&&le!==4||(z.status=666),le===1||le===3)return q.avail_out===0&&(z.last_flush=-1),0;if(le===2&&(te===1?v._tr_align(z):te!==5&&(v._tr_stored_block(z,0,0,!1),te===3&&(P(z.head),z.lookahead===0&&(z.strstart=0,z.block_start=0,z.insert=0))),N(q),q.avail_out===0))return z.last_flush=-1,0}return te!==4?0:z.wrap<=0?1:(z.wrap===2?(C(z,255&q.adler),C(z,q.adler>>8&255),C(z,q.adler>>16&255),C(z,q.adler>>24&255),C(z,255&q.total_in),C(z,q.total_in>>8&255),C(z,q.total_in>>16&255),C(z,q.total_in>>24&255)):(S(z,q.adler>>>16),S(z,65535&q.adler)),N(q),0<z.wrap&&(z.wrap=-z.wrap),z.pending!==0?0:1)},x.deflateEnd=function(q){var te;return q&&q.state?(te=q.state.status)!==42&&te!==69&&te!==73&&te!==91&&te!==103&&te!==F&&te!==666?B(q,G):(q.state=null,te===F?B(q,-3):0):G},x.deflateSetDictionary=function(q,te){var H,z,Z,ae,re,le,de,ve,ge=te.length;if(!q||!q.state||(ae=(H=q.state).wrap)===2||ae===1&&H.status!==42||H.lookahead)return G;for(ae===1&&(q.adler=k(q.adler,te,ge,0)),H.wrap=0,ge>=H.w_size&&(ae===0&&(P(H.head),H.strstart=0,H.block_start=0,H.insert=0),ve=new w.Buf8(H.w_size),w.arraySet(ve,te,ge-H.w_size,H.w_size,0),te=ve,ge=H.w_size),re=q.avail_in,le=q.next_in,de=q.input,q.avail_in=ge,q.next_in=0,q.input=te,A(H);H.lookahead>=3;){for(z=H.strstart,Z=H.lookahead-2;H.ins_h=(H.ins_h<<H.hash_shift^H.window[z+3-1])&H.hash_mask,H.prev[z&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=z,z++,--Z;);H.strstart=z,H.lookahead=2,A(H)}return H.strstart+=H.lookahead,H.block_start=H.strstart,H.insert=H.lookahead,H.lookahead=0,H.match_length=H.prev_length=2,H.match_available=0,q.next_in=le,q.input=de,q.avail_in=re,H.wrap=ae,0},x.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(d,b,x){b.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(d,b,x){b.exports=function(g,w){var v,k,R,L,G,V,O,F,B,W,P,N,D,C,S,T,A,E,j,U,I,Q,Y,ee,q;v=g.state,k=g.next_in,ee=g.input,R=k+(g.avail_in-5),L=g.next_out,q=g.output,G=L-(w-g.avail_out),V=L+(g.avail_out-257),O=v.dmax,F=v.wsize,B=v.whave,W=v.wnext,P=v.window,N=v.hold,D=v.bits,C=v.lencode,S=v.distcode,T=(1<<v.lenbits)-1,A=(1<<v.distbits)-1;e:do{D<15&&(N+=ee[k++]<<D,D+=8,N+=ee[k++]<<D,D+=8),E=C[N&T];t:for(;;){if(N>>>=j=E>>>24,D-=j,(j=E>>>16&255)==0)q[L++]=65535&E;else{if(!(16&j)){if((64&j)==0){E=C[(65535&E)+(N&(1<<j)-1)];continue t}if(32&j){v.mode=12;break e}g.msg="invalid literal/length code",v.mode=30;break e}U=65535&E,(j&=15)&&(D<j&&(N+=ee[k++]<<D,D+=8),U+=N&(1<<j)-1,N>>>=j,D-=j),D<15&&(N+=ee[k++]<<D,D+=8,N+=ee[k++]<<D,D+=8),E=S[N&A];r:for(;;){if(N>>>=j=E>>>24,D-=j,!(16&(j=E>>>16&255))){if((64&j)==0){E=S[(65535&E)+(N&(1<<j)-1)];continue r}g.msg="invalid distance code",v.mode=30;break e}if(I=65535&E,D<(j&=15)&&(N+=ee[k++]<<D,(D+=8)<j&&(N+=ee[k++]<<D,D+=8)),O<(I+=N&(1<<j)-1)){g.msg="invalid distance too far back",v.mode=30;break e}if(N>>>=j,D-=j,(j=L-G)<I){if(B<(j=I-j)&&v.sane){g.msg="invalid distance too far back",v.mode=30;break e}if(Y=P,(Q=0)===W){if(Q+=F-j,j<U){for(U-=j;q[L++]=P[Q++],--j;);Q=L-I,Y=q}}else if(W<j){if(Q+=F+W-j,(j-=W)<U){for(U-=j;q[L++]=P[Q++],--j;);if(Q=0,W<U){for(U-=j=W;q[L++]=P[Q++],--j;);Q=L-I,Y=q}}}else if(Q+=W-j,j<U){for(U-=j;q[L++]=P[Q++],--j;);Q=L-I,Y=q}for(;2<U;)q[L++]=Y[Q++],q[L++]=Y[Q++],q[L++]=Y[Q++],U-=3;U&&(q[L++]=Y[Q++],1<U&&(q[L++]=Y[Q++]))}else{for(Q=L-I;q[L++]=q[Q++],q[L++]=q[Q++],q[L++]=q[Q++],2<(U-=3););U&&(q[L++]=q[Q++],1<U&&(q[L++]=q[Q++]))}break}}break}}while(k<R&&L<V);k-=U=D>>3,N&=(1<<(D-=U<<3))-1,g.next_in=k,g.next_out=L,g.avail_in=k<R?R-k+5:5-(k-R),g.avail_out=L<V?V-L+257:257-(L-V),v.hold=N,v.bits=D}},{}],49:[function(d,b,x){var g=d("../utils/common"),w=d("./adler32"),v=d("./crc32"),k=d("./inffast"),R=d("./inftrees"),L=-2;function G(T){return(T>>>24&255)+(T>>>8&65280)+((65280&T)<<8)+((255&T)<<24)}function V(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new g.Buf16(320),this.work=new g.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function O(T){var A;return T&&T.state?(A=T.state,T.total_in=T.total_out=A.total=0,T.msg="",A.wrap&&(T.adler=1&A.wrap),A.mode=1,A.last=0,A.havedict=0,A.dmax=32768,A.head=null,A.hold=0,A.bits=0,A.lencode=A.lendyn=new g.Buf32(852),A.distcode=A.distdyn=new g.Buf32(592),A.sane=1,A.back=-1,0):L}function F(T){var A;return T&&T.state?((A=T.state).wsize=0,A.whave=0,A.wnext=0,O(T)):L}function B(T,A){var E,j;return T&&T.state?(j=T.state,A<0?(E=0,A=-A):(E=1+(A>>4),A<48&&(A&=15)),A&&(A<8||15<A)?L:(j.window!==null&&j.wbits!==A&&(j.window=null),j.wrap=E,j.wbits=A,F(T))):L}function W(T,A){var E,j;return T?(j=new V,(T.state=j).window=null,(E=B(T,A))!==0&&(T.state=null),E):L}var P,N,D=!0;function C(T){if(D){var A;for(P=new g.Buf32(512),N=new g.Buf32(32),A=0;A<144;)T.lens[A++]=8;for(;A<256;)T.lens[A++]=9;for(;A<280;)T.lens[A++]=7;for(;A<288;)T.lens[A++]=8;for(R(1,T.lens,0,288,P,0,T.work,{bits:9}),A=0;A<32;)T.lens[A++]=5;R(2,T.lens,0,32,N,0,T.work,{bits:5}),D=!1}T.lencode=P,T.lenbits=9,T.distcode=N,T.distbits=5}function S(T,A,E,j){var U,I=T.state;return I.window===null&&(I.wsize=1<<I.wbits,I.wnext=0,I.whave=0,I.window=new g.Buf8(I.wsize)),j>=I.wsize?(g.arraySet(I.window,A,E-I.wsize,I.wsize,0),I.wnext=0,I.whave=I.wsize):(j<(U=I.wsize-I.wnext)&&(U=j),g.arraySet(I.window,A,E-j,U,I.wnext),(j-=U)?(g.arraySet(I.window,A,E-j,j,0),I.wnext=j,I.whave=I.wsize):(I.wnext+=U,I.wnext===I.wsize&&(I.wnext=0),I.whave<I.wsize&&(I.whave+=U))),0}x.inflateReset=F,x.inflateReset2=B,x.inflateResetKeep=O,x.inflateInit=function(T){return W(T,15)},x.inflateInit2=W,x.inflate=function(T,A){var E,j,U,I,Q,Y,ee,q,te,H,z,Z,ae,re,le,de,ve,ge,se,xe,pe,Te,ke,Re,$e=0,Pe=new g.Buf8(4),Je=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!T||!T.state||!T.output||!T.input&&T.avail_in!==0)return L;(E=T.state).mode===12&&(E.mode=13),Q=T.next_out,U=T.output,ee=T.avail_out,I=T.next_in,j=T.input,Y=T.avail_in,q=E.hold,te=E.bits,H=Y,z=ee,Te=0;e:for(;;)switch(E.mode){case 1:if(E.wrap===0){E.mode=13;break}for(;te<16;){if(Y===0)break e;Y--,q+=j[I++]<<te,te+=8}if(2&E.wrap&&q===35615){Pe[E.check=0]=255&q,Pe[1]=q>>>8&255,E.check=v(E.check,Pe,2,0),te=q=0,E.mode=2;break}if(E.flags=0,E.head&&(E.head.done=!1),!(1&E.wrap)||(((255&q)<<8)+(q>>8))%31){T.msg="incorrect header check",E.mode=30;break}if((15&q)!=8){T.msg="unknown compression method",E.mode=30;break}if(te-=4,pe=8+(15&(q>>>=4)),E.wbits===0)E.wbits=pe;else if(pe>E.wbits){T.msg="invalid window size",E.mode=30;break}E.dmax=1<<pe,T.adler=E.check=1,E.mode=512&q?10:12,te=q=0;break;case 2:for(;te<16;){if(Y===0)break e;Y--,q+=j[I++]<<te,te+=8}if(E.flags=q,(255&E.flags)!=8){T.msg="unknown compression method",E.mode=30;break}if(57344&E.flags){T.msg="unknown header flags set",E.mode=30;break}E.head&&(E.head.text=q>>8&1),512&E.flags&&(Pe[0]=255&q,Pe[1]=q>>>8&255,E.check=v(E.check,Pe,2,0)),te=q=0,E.mode=3;case 3:for(;te<32;){if(Y===0)break e;Y--,q+=j[I++]<<te,te+=8}E.head&&(E.head.time=q),512&E.flags&&(Pe[0]=255&q,Pe[1]=q>>>8&255,Pe[2]=q>>>16&255,Pe[3]=q>>>24&255,E.check=v(E.check,Pe,4,0)),te=q=0,E.mode=4;case 4:for(;te<16;){if(Y===0)break e;Y--,q+=j[I++]<<te,te+=8}E.head&&(E.head.xflags=255&q,E.head.os=q>>8),512&E.flags&&(Pe[0]=255&q,Pe[1]=q>>>8&255,E.check=v(E.check,Pe,2,0)),te=q=0,E.mode=5;case 5:if(1024&E.flags){for(;te<16;){if(Y===0)break e;Y--,q+=j[I++]<<te,te+=8}E.length=q,E.head&&(E.head.extra_len=q),512&E.flags&&(Pe[0]=255&q,Pe[1]=q>>>8&255,E.check=v(E.check,Pe,2,0)),te=q=0}else E.head&&(E.head.extra=null);E.mode=6;case 6:if(1024&E.flags&&(Y<(Z=E.length)&&(Z=Y),Z&&(E.head&&(pe=E.head.extra_len-E.length,E.head.extra||(E.head.extra=new Array(E.head.extra_len)),g.arraySet(E.head.extra,j,I,Z,pe)),512&E.flags&&(E.check=v(E.check,j,Z,I)),Y-=Z,I+=Z,E.length-=Z),E.length))break e;E.length=0,E.mode=7;case 7:if(2048&E.flags){if(Y===0)break e;for(Z=0;pe=j[I+Z++],E.head&&pe&&E.length<65536&&(E.head.name+=String.fromCharCode(pe)),pe&&Z<Y;);if(512&E.flags&&(E.check=v(E.check,j,Z,I)),Y-=Z,I+=Z,pe)break e}else E.head&&(E.head.name=null);E.length=0,E.mode=8;case 8:if(4096&E.flags){if(Y===0)break e;for(Z=0;pe=j[I+Z++],E.head&&pe&&E.length<65536&&(E.head.comment+=String.fromCharCode(pe)),pe&&Z<Y;);if(512&E.flags&&(E.check=v(E.check,j,Z,I)),Y-=Z,I+=Z,pe)break e}else E.head&&(E.head.comment=null);E.mode=9;case 9:if(512&E.flags){for(;te<16;){if(Y===0)break e;Y--,q+=j[I++]<<te,te+=8}if(q!==(65535&E.check)){T.msg="header crc mismatch",E.mode=30;break}te=q=0}E.head&&(E.head.hcrc=E.flags>>9&1,E.head.done=!0),T.adler=E.check=0,E.mode=12;break;case 10:for(;te<32;){if(Y===0)break e;Y--,q+=j[I++]<<te,te+=8}T.adler=E.check=G(q),te=q=0,E.mode=11;case 11:if(E.havedict===0)return T.next_out=Q,T.avail_out=ee,T.next_in=I,T.avail_in=Y,E.hold=q,E.bits=te,2;T.adler=E.check=1,E.mode=12;case 12:if(A===5||A===6)break e;case 13:if(E.last){q>>>=7&te,te-=7&te,E.mode=27;break}for(;te<3;){if(Y===0)break e;Y--,q+=j[I++]<<te,te+=8}switch(E.last=1&q,te-=1,3&(q>>>=1)){case 0:E.mode=14;break;case 1:if(C(E),E.mode=20,A!==6)break;q>>>=2,te-=2;break e;case 2:E.mode=17;break;case 3:T.msg="invalid block type",E.mode=30}q>>>=2,te-=2;break;case 14:for(q>>>=7&te,te-=7&te;te<32;){if(Y===0)break e;Y--,q+=j[I++]<<te,te+=8}if((65535&q)!=(q>>>16^65535)){T.msg="invalid stored block lengths",E.mode=30;break}if(E.length=65535&q,te=q=0,E.mode=15,A===6)break e;case 15:E.mode=16;case 16:if(Z=E.length){if(Y<Z&&(Z=Y),ee<Z&&(Z=ee),Z===0)break e;g.arraySet(U,j,I,Z,Q),Y-=Z,I+=Z,ee-=Z,Q+=Z,E.length-=Z;break}E.mode=12;break;case 17:for(;te<14;){if(Y===0)break e;Y--,q+=j[I++]<<te,te+=8}if(E.nlen=257+(31&q),q>>>=5,te-=5,E.ndist=1+(31&q),q>>>=5,te-=5,E.ncode=4+(15&q),q>>>=4,te-=4,286<E.nlen||30<E.ndist){T.msg="too many length or distance symbols",E.mode=30;break}E.have=0,E.mode=18;case 18:for(;E.have<E.ncode;){for(;te<3;){if(Y===0)break e;Y--,q+=j[I++]<<te,te+=8}E.lens[Je[E.have++]]=7&q,q>>>=3,te-=3}for(;E.have<19;)E.lens[Je[E.have++]]=0;if(E.lencode=E.lendyn,E.lenbits=7,ke={bits:E.lenbits},Te=R(0,E.lens,0,19,E.lencode,0,E.work,ke),E.lenbits=ke.bits,Te){T.msg="invalid code lengths set",E.mode=30;break}E.have=0,E.mode=19;case 19:for(;E.have<E.nlen+E.ndist;){for(;de=($e=E.lencode[q&(1<<E.lenbits)-1])>>>16&255,ve=65535&$e,!((le=$e>>>24)<=te);){if(Y===0)break e;Y--,q+=j[I++]<<te,te+=8}if(ve<16)q>>>=le,te-=le,E.lens[E.have++]=ve;else{if(ve===16){for(Re=le+2;te<Re;){if(Y===0)break e;Y--,q+=j[I++]<<te,te+=8}if(q>>>=le,te-=le,E.have===0){T.msg="invalid bit length repeat",E.mode=30;break}pe=E.lens[E.have-1],Z=3+(3&q),q>>>=2,te-=2}else if(ve===17){for(Re=le+3;te<Re;){if(Y===0)break e;Y--,q+=j[I++]<<te,te+=8}te-=le,pe=0,Z=3+(7&(q>>>=le)),q>>>=3,te-=3}else{for(Re=le+7;te<Re;){if(Y===0)break e;Y--,q+=j[I++]<<te,te+=8}te-=le,pe=0,Z=11+(127&(q>>>=le)),q>>>=7,te-=7}if(E.have+Z>E.nlen+E.ndist){T.msg="invalid bit length repeat",E.mode=30;break}for(;Z--;)E.lens[E.have++]=pe}}if(E.mode===30)break;if(E.lens[256]===0){T.msg="invalid code -- missing end-of-block",E.mode=30;break}if(E.lenbits=9,ke={bits:E.lenbits},Te=R(1,E.lens,0,E.nlen,E.lencode,0,E.work,ke),E.lenbits=ke.bits,Te){T.msg="invalid literal/lengths set",E.mode=30;break}if(E.distbits=6,E.distcode=E.distdyn,ke={bits:E.distbits},Te=R(2,E.lens,E.nlen,E.ndist,E.distcode,0,E.work,ke),E.distbits=ke.bits,Te){T.msg="invalid distances set",E.mode=30;break}if(E.mode=20,A===6)break e;case 20:E.mode=21;case 21:if(6<=Y&&258<=ee){T.next_out=Q,T.avail_out=ee,T.next_in=I,T.avail_in=Y,E.hold=q,E.bits=te,k(T,z),Q=T.next_out,U=T.output,ee=T.avail_out,I=T.next_in,j=T.input,Y=T.avail_in,q=E.hold,te=E.bits,E.mode===12&&(E.back=-1);break}for(E.back=0;de=($e=E.lencode[q&(1<<E.lenbits)-1])>>>16&255,ve=65535&$e,!((le=$e>>>24)<=te);){if(Y===0)break e;Y--,q+=j[I++]<<te,te+=8}if(de&&(240&de)==0){for(ge=le,se=de,xe=ve;de=($e=E.lencode[xe+((q&(1<<ge+se)-1)>>ge)])>>>16&255,ve=65535&$e,!(ge+(le=$e>>>24)<=te);){if(Y===0)break e;Y--,q+=j[I++]<<te,te+=8}q>>>=ge,te-=ge,E.back+=ge}if(q>>>=le,te-=le,E.back+=le,E.length=ve,de===0){E.mode=26;break}if(32&de){E.back=-1,E.mode=12;break}if(64&de){T.msg="invalid literal/length code",E.mode=30;break}E.extra=15&de,E.mode=22;case 22:if(E.extra){for(Re=E.extra;te<Re;){if(Y===0)break e;Y--,q+=j[I++]<<te,te+=8}E.length+=q&(1<<E.extra)-1,q>>>=E.extra,te-=E.extra,E.back+=E.extra}E.was=E.length,E.mode=23;case 23:for(;de=($e=E.distcode[q&(1<<E.distbits)-1])>>>16&255,ve=65535&$e,!((le=$e>>>24)<=te);){if(Y===0)break e;Y--,q+=j[I++]<<te,te+=8}if((240&de)==0){for(ge=le,se=de,xe=ve;de=($e=E.distcode[xe+((q&(1<<ge+se)-1)>>ge)])>>>16&255,ve=65535&$e,!(ge+(le=$e>>>24)<=te);){if(Y===0)break e;Y--,q+=j[I++]<<te,te+=8}q>>>=ge,te-=ge,E.back+=ge}if(q>>>=le,te-=le,E.back+=le,64&de){T.msg="invalid distance code",E.mode=30;break}E.offset=ve,E.extra=15&de,E.mode=24;case 24:if(E.extra){for(Re=E.extra;te<Re;){if(Y===0)break e;Y--,q+=j[I++]<<te,te+=8}E.offset+=q&(1<<E.extra)-1,q>>>=E.extra,te-=E.extra,E.back+=E.extra}if(E.offset>E.dmax){T.msg="invalid distance too far back",E.mode=30;break}E.mode=25;case 25:if(ee===0)break e;if(Z=z-ee,E.offset>Z){if((Z=E.offset-Z)>E.whave&&E.sane){T.msg="invalid distance too far back",E.mode=30;break}ae=Z>E.wnext?(Z-=E.wnext,E.wsize-Z):E.wnext-Z,Z>E.length&&(Z=E.length),re=E.window}else re=U,ae=Q-E.offset,Z=E.length;for(ee<Z&&(Z=ee),ee-=Z,E.length-=Z;U[Q++]=re[ae++],--Z;);E.length===0&&(E.mode=21);break;case 26:if(ee===0)break e;U[Q++]=E.length,ee--,E.mode=21;break;case 27:if(E.wrap){for(;te<32;){if(Y===0)break e;Y--,q|=j[I++]<<te,te+=8}if(z-=ee,T.total_out+=z,E.total+=z,z&&(T.adler=E.check=E.flags?v(E.check,U,z,Q-z):w(E.check,U,z,Q-z)),z=ee,(E.flags?q:G(q))!==E.check){T.msg="incorrect data check",E.mode=30;break}te=q=0}E.mode=28;case 28:if(E.wrap&&E.flags){for(;te<32;){if(Y===0)break e;Y--,q+=j[I++]<<te,te+=8}if(q!==(4294967295&E.total)){T.msg="incorrect length check",E.mode=30;break}te=q=0}E.mode=29;case 29:Te=1;break e;case 30:Te=-3;break e;case 31:return-4;case 32:default:return L}return T.next_out=Q,T.avail_out=ee,T.next_in=I,T.avail_in=Y,E.hold=q,E.bits=te,(E.wsize||z!==T.avail_out&&E.mode<30&&(E.mode<27||A!==4))&&S(T,T.output,T.next_out,z-T.avail_out)?(E.mode=31,-4):(H-=T.avail_in,z-=T.avail_out,T.total_in+=H,T.total_out+=z,E.total+=z,E.wrap&&z&&(T.adler=E.check=E.flags?v(E.check,U,z,T.next_out-z):w(E.check,U,z,T.next_out-z)),T.data_type=E.bits+(E.last?64:0)+(E.mode===12?128:0)+(E.mode===20||E.mode===15?256:0),(H==0&&z===0||A===4)&&Te===0&&(Te=-5),Te)},x.inflateEnd=function(T){if(!T||!T.state)return L;var A=T.state;return A.window&&(A.window=null),T.state=null,0},x.inflateGetHeader=function(T,A){var E;return T&&T.state?(2&(E=T.state).wrap)==0?L:((E.head=A).done=!1,0):L},x.inflateSetDictionary=function(T,A){var E,j=A.length;return T&&T.state?(E=T.state).wrap!==0&&E.mode!==11?L:E.mode===11&&w(1,A,j,0)!==E.check?-3:S(T,A,j,j)?(E.mode=31,-4):(E.havedict=1,0):L},x.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(d,b,x){var g=d("../utils/common"),w=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],v=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],k=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],R=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];b.exports=function(L,G,V,O,F,B,W,P){var N,D,C,S,T,A,E,j,U,I=P.bits,Q=0,Y=0,ee=0,q=0,te=0,H=0,z=0,Z=0,ae=0,re=0,le=null,de=0,ve=new g.Buf16(16),ge=new g.Buf16(16),se=null,xe=0;for(Q=0;Q<=15;Q++)ve[Q]=0;for(Y=0;Y<O;Y++)ve[G[V+Y]]++;for(te=I,q=15;1<=q&&ve[q]===0;q--);if(q<te&&(te=q),q===0)return F[B++]=20971520,F[B++]=20971520,P.bits=1,0;for(ee=1;ee<q&&ve[ee]===0;ee++);for(te<ee&&(te=ee),Q=Z=1;Q<=15;Q++)if(Z<<=1,(Z-=ve[Q])<0)return-1;if(0<Z&&(L===0||q!==1))return-1;for(ge[1]=0,Q=1;Q<15;Q++)ge[Q+1]=ge[Q]+ve[Q];for(Y=0;Y<O;Y++)G[V+Y]!==0&&(W[ge[G[V+Y]]++]=Y);if(A=L===0?(le=se=W,19):L===1?(le=w,de-=257,se=v,xe-=257,256):(le=k,se=R,-1),Q=ee,T=B,z=Y=re=0,C=-1,S=(ae=1<<(H=te))-1,L===1&&852<ae||L===2&&592<ae)return 1;for(;;){for(E=Q-z,U=W[Y]<A?(j=0,W[Y]):W[Y]>A?(j=se[xe+W[Y]],le[de+W[Y]]):(j=96,0),N=1<<Q-z,ee=D=1<<H;F[T+(re>>z)+(D-=N)]=E<<24|j<<16|U|0,D!==0;);for(N=1<<Q-1;re&N;)N>>=1;if(N!==0?(re&=N-1,re+=N):re=0,Y++,--ve[Q]==0){if(Q===q)break;Q=G[V+W[Y]]}if(te<Q&&(re&S)!==C){for(z===0&&(z=te),T+=ee,Z=1<<(H=Q-z);H+z<q&&!((Z-=ve[H+z])<=0);)H++,Z<<=1;if(ae+=1<<H,L===1&&852<ae||L===2&&592<ae)return 1;F[C=re&S]=te<<24|H<<16|T-B|0}}return re!==0&&(F[T+re]=Q-z<<24|64<<16|0),P.bits=te,0}},{"../utils/common":41}],51:[function(d,b,x){b.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(d,b,x){var g=d("../utils/common");function w(se){for(var xe=se.length;0<=--xe;)se[xe]=0}var v=256,k=286,R=30,L=15,G=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],V=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],B=new Array(576);w(B);var W=new Array(60);w(W);var P=new Array(512);w(P);var N=new Array(256);w(N);var D=new Array(29);w(D);var C,S,T,A=new Array(R);function E(se,xe,pe,Te,ke){this.static_tree=se,this.extra_bits=xe,this.extra_base=pe,this.elems=Te,this.max_length=ke,this.has_stree=se&&se.length}function j(se,xe){this.dyn_tree=se,this.max_code=0,this.stat_desc=xe}function U(se){return se<256?P[se]:P[256+(se>>>7)]}function I(se,xe){se.pending_buf[se.pending++]=255&xe,se.pending_buf[se.pending++]=xe>>>8&255}function Q(se,xe,pe){se.bi_valid>16-pe?(se.bi_buf|=xe<<se.bi_valid&65535,I(se,se.bi_buf),se.bi_buf=xe>>16-se.bi_valid,se.bi_valid+=pe-16):(se.bi_buf|=xe<<se.bi_valid&65535,se.bi_valid+=pe)}function Y(se,xe,pe){Q(se,pe[2*xe],pe[2*xe+1])}function ee(se,xe){for(var pe=0;pe|=1&se,se>>>=1,pe<<=1,0<--xe;);return pe>>>1}function q(se,xe,pe){var Te,ke,Re=new Array(16),$e=0;for(Te=1;Te<=L;Te++)Re[Te]=$e=$e+pe[Te-1]<<1;for(ke=0;ke<=xe;ke++){var Pe=se[2*ke+1];Pe!==0&&(se[2*ke]=ee(Re[Pe]++,Pe))}}function te(se){var xe;for(xe=0;xe<k;xe++)se.dyn_ltree[2*xe]=0;for(xe=0;xe<R;xe++)se.dyn_dtree[2*xe]=0;for(xe=0;xe<19;xe++)se.bl_tree[2*xe]=0;se.dyn_ltree[512]=1,se.opt_len=se.static_len=0,se.last_lit=se.matches=0}function H(se){8<se.bi_valid?I(se,se.bi_buf):0<se.bi_valid&&(se.pending_buf[se.pending++]=se.bi_buf),se.bi_buf=0,se.bi_valid=0}function z(se,xe,pe,Te){var ke=2*xe,Re=2*pe;return se[ke]<se[Re]||se[ke]===se[Re]&&Te[xe]<=Te[pe]}function Z(se,xe,pe){for(var Te=se.heap[pe],ke=pe<<1;ke<=se.heap_len&&(ke<se.heap_len&&z(xe,se.heap[ke+1],se.heap[ke],se.depth)&&ke++,!z(xe,Te,se.heap[ke],se.depth));)se.heap[pe]=se.heap[ke],pe=ke,ke<<=1;se.heap[pe]=Te}function ae(se,xe,pe){var Te,ke,Re,$e,Pe=0;if(se.last_lit!==0)for(;Te=se.pending_buf[se.d_buf+2*Pe]<<8|se.pending_buf[se.d_buf+2*Pe+1],ke=se.pending_buf[se.l_buf+Pe],Pe++,Te===0?Y(se,ke,xe):(Y(se,(Re=N[ke])+v+1,xe),($e=G[Re])!==0&&Q(se,ke-=D[Re],$e),Y(se,Re=U(--Te),pe),($e=V[Re])!==0&&Q(se,Te-=A[Re],$e)),Pe<se.last_lit;);Y(se,256,xe)}function re(se,xe){var pe,Te,ke,Re=xe.dyn_tree,$e=xe.stat_desc.static_tree,Pe=xe.stat_desc.has_stree,Je=xe.stat_desc.elems,Ze=-1;for(se.heap_len=0,se.heap_max=573,pe=0;pe<Je;pe++)Re[2*pe]!==0?(se.heap[++se.heap_len]=Ze=pe,se.depth[pe]=0):Re[2*pe+1]=0;for(;se.heap_len<2;)Re[2*(ke=se.heap[++se.heap_len]=Ze<2?++Ze:0)]=1,se.depth[ke]=0,se.opt_len--,Pe&&(se.static_len-=$e[2*ke+1]);for(xe.max_code=Ze,pe=se.heap_len>>1;1<=pe;pe--)Z(se,Re,pe);for(ke=Je;pe=se.heap[1],se.heap[1]=se.heap[se.heap_len--],Z(se,Re,1),Te=se.heap[1],se.heap[--se.heap_max]=pe,se.heap[--se.heap_max]=Te,Re[2*ke]=Re[2*pe]+Re[2*Te],se.depth[ke]=(se.depth[pe]>=se.depth[Te]?se.depth[pe]:se.depth[Te])+1,Re[2*pe+1]=Re[2*Te+1]=ke,se.heap[1]=ke++,Z(se,Re,1),2<=se.heap_len;);se.heap[--se.heap_max]=se.heap[1],(function(Ye,Xe){var ut,ot,je,He,Ne,Ie,lt=Xe.dyn_tree,Ue=Xe.max_code,We=Xe.stat_desc.static_tree,bt=Xe.stat_desc.has_stree,yt=Xe.stat_desc.extra_bits,nt=Xe.stat_desc.extra_base,Et=Xe.stat_desc.max_length,Oe=0;for(He=0;He<=L;He++)Ye.bl_count[He]=0;for(lt[2*Ye.heap[Ye.heap_max]+1]=0,ut=Ye.heap_max+1;ut<573;ut++)Et<(He=lt[2*lt[2*(ot=Ye.heap[ut])+1]+1]+1)&&(He=Et,Oe++),lt[2*ot+1]=He,Ue<ot||(Ye.bl_count[He]++,Ne=0,nt<=ot&&(Ne=yt[ot-nt]),Ie=lt[2*ot],Ye.opt_len+=Ie*(He+Ne),bt&&(Ye.static_len+=Ie*(We[2*ot+1]+Ne)));if(Oe!==0){do{for(He=Et-1;Ye.bl_count[He]===0;)He--;Ye.bl_count[He]--,Ye.bl_count[He+1]+=2,Ye.bl_count[Et]--,Oe-=2}while(0<Oe);for(He=Et;He!==0;He--)for(ot=Ye.bl_count[He];ot!==0;)Ue<(je=Ye.heap[--ut])||(lt[2*je+1]!==He&&(Ye.opt_len+=(He-lt[2*je+1])*lt[2*je],lt[2*je+1]=He),ot--)}})(se,xe),q(Re,Ze,se.bl_count)}function le(se,xe,pe){var Te,ke,Re=-1,$e=xe[1],Pe=0,Je=7,Ze=4;for($e===0&&(Je=138,Ze=3),xe[2*(pe+1)+1]=65535,Te=0;Te<=pe;Te++)ke=$e,$e=xe[2*(Te+1)+1],++Pe<Je&&ke===$e||(Pe<Ze?se.bl_tree[2*ke]+=Pe:ke!==0?(ke!==Re&&se.bl_tree[2*ke]++,se.bl_tree[32]++):Pe<=10?se.bl_tree[34]++:se.bl_tree[36]++,Re=ke,Ze=(Pe=0)===$e?(Je=138,3):ke===$e?(Je=6,3):(Je=7,4))}function de(se,xe,pe){var Te,ke,Re=-1,$e=xe[1],Pe=0,Je=7,Ze=4;for($e===0&&(Je=138,Ze=3),Te=0;Te<=pe;Te++)if(ke=$e,$e=xe[2*(Te+1)+1],!(++Pe<Je&&ke===$e)){if(Pe<Ze)for(;Y(se,ke,se.bl_tree),--Pe!=0;);else ke!==0?(ke!==Re&&(Y(se,ke,se.bl_tree),Pe--),Y(se,16,se.bl_tree),Q(se,Pe-3,2)):Pe<=10?(Y(se,17,se.bl_tree),Q(se,Pe-3,3)):(Y(se,18,se.bl_tree),Q(se,Pe-11,7));Re=ke,Ze=(Pe=0)===$e?(Je=138,3):ke===$e?(Je=6,3):(Je=7,4)}}w(A);var ve=!1;function ge(se,xe,pe,Te){Q(se,0+(Te?1:0),3),(function(ke,Re,$e,Pe){H(ke),I(ke,$e),I(ke,~$e),g.arraySet(ke.pending_buf,ke.window,Re,$e,ke.pending),ke.pending+=$e})(se,xe,pe)}x._tr_init=function(se){ve||((function(){var xe,pe,Te,ke,Re,$e=new Array(16);for(ke=Te=0;ke<28;ke++)for(D[ke]=Te,xe=0;xe<1<<G[ke];xe++)N[Te++]=ke;for(N[Te-1]=ke,ke=Re=0;ke<16;ke++)for(A[ke]=Re,xe=0;xe<1<<V[ke];xe++)P[Re++]=ke;for(Re>>=7;ke<R;ke++)for(A[ke]=Re<<7,xe=0;xe<1<<V[ke]-7;xe++)P[256+Re++]=ke;for(pe=0;pe<=L;pe++)$e[pe]=0;for(xe=0;xe<=143;)B[2*xe+1]=8,xe++,$e[8]++;for(;xe<=255;)B[2*xe+1]=9,xe++,$e[9]++;for(;xe<=279;)B[2*xe+1]=7,xe++,$e[7]++;for(;xe<=287;)B[2*xe+1]=8,xe++,$e[8]++;for(q(B,287,$e),xe=0;xe<R;xe++)W[2*xe+1]=5,W[2*xe]=ee(xe,5);C=new E(B,G,257,k,L),S=new E(W,V,0,R,L),T=new E(new Array(0),O,0,19,7)})(),ve=!0),se.l_desc=new j(se.dyn_ltree,C),se.d_desc=new j(se.dyn_dtree,S),se.bl_desc=new j(se.bl_tree,T),se.bi_buf=0,se.bi_valid=0,te(se)},x._tr_stored_block=ge,x._tr_flush_block=function(se,xe,pe,Te){var ke,Re,$e=0;0<se.level?(se.strm.data_type===2&&(se.strm.data_type=(function(Pe){var Je,Ze=4093624447;for(Je=0;Je<=31;Je++,Ze>>>=1)if(1&Ze&&Pe.dyn_ltree[2*Je]!==0)return 0;if(Pe.dyn_ltree[18]!==0||Pe.dyn_ltree[20]!==0||Pe.dyn_ltree[26]!==0)return 1;for(Je=32;Je<v;Je++)if(Pe.dyn_ltree[2*Je]!==0)return 1;return 0})(se)),re(se,se.l_desc),re(se,se.d_desc),$e=(function(Pe){var Je;for(le(Pe,Pe.dyn_ltree,Pe.l_desc.max_code),le(Pe,Pe.dyn_dtree,Pe.d_desc.max_code),re(Pe,Pe.bl_desc),Je=18;3<=Je&&Pe.bl_tree[2*F[Je]+1]===0;Je--);return Pe.opt_len+=3*(Je+1)+5+5+4,Je})(se),ke=se.opt_len+3+7>>>3,(Re=se.static_len+3+7>>>3)<=ke&&(ke=Re)):ke=Re=pe+5,pe+4<=ke&&xe!==-1?ge(se,xe,pe,Te):se.strategy===4||Re===ke?(Q(se,2+(Te?1:0),3),ae(se,B,W)):(Q(se,4+(Te?1:0),3),(function(Pe,Je,Ze,Ye){var Xe;for(Q(Pe,Je-257,5),Q(Pe,Ze-1,5),Q(Pe,Ye-4,4),Xe=0;Xe<Ye;Xe++)Q(Pe,Pe.bl_tree[2*F[Xe]+1],3);de(Pe,Pe.dyn_ltree,Je-1),de(Pe,Pe.dyn_dtree,Ze-1)})(se,se.l_desc.max_code+1,se.d_desc.max_code+1,$e+1),ae(se,se.dyn_ltree,se.dyn_dtree)),te(se),Te&&H(se)},x._tr_tally=function(se,xe,pe){return se.pending_buf[se.d_buf+2*se.last_lit]=xe>>>8&255,se.pending_buf[se.d_buf+2*se.last_lit+1]=255&xe,se.pending_buf[se.l_buf+se.last_lit]=255&pe,se.last_lit++,xe===0?se.dyn_ltree[2*pe]++:(se.matches++,xe--,se.dyn_ltree[2*(N[pe]+v+1)]++,se.dyn_dtree[2*U(xe)]++),se.last_lit===se.lit_bufsize-1},x._tr_align=function(se){Q(se,2,3),Y(se,256,B),(function(xe){xe.bi_valid===16?(I(xe,xe.bi_buf),xe.bi_buf=0,xe.bi_valid=0):8<=xe.bi_valid&&(xe.pending_buf[xe.pending++]=255&xe.bi_buf,xe.bi_buf>>=8,xe.bi_valid-=8)})(se)}},{"../utils/common":41}],53:[function(d,b,x){b.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(d,b,x){(function(g){(function(w,v){if(!w.setImmediate){var k,R,L,G,V=1,O={},F=!1,B=w.document,W=Object.getPrototypeOf&&Object.getPrototypeOf(w);W=W&&W.setTimeout?W:w,k={}.toString.call(w.process)==="[object process]"?function(C){i.nextTick((function(){N(C)}))}:(function(){if(w.postMessage&&!w.importScripts){var C=!0,S=w.onmessage;return w.onmessage=function(){C=!1},w.postMessage("","*"),w.onmessage=S,C}})()?(G="setImmediate$"+Math.random()+"$",w.addEventListener?w.addEventListener("message",D,!1):w.attachEvent("onmessage",D),function(C){w.postMessage(G+C,"*")}):w.MessageChannel?((L=new MessageChannel).port1.onmessage=function(C){N(C.data)},function(C){L.port2.postMessage(C)}):B&&"onreadystatechange"in B.createElement("script")?(R=B.documentElement,function(C){var S=B.createElement("script");S.onreadystatechange=function(){N(C),S.onreadystatechange=null,R.removeChild(S),S=null},R.appendChild(S)}):function(C){setTimeout(N,0,C)},W.setImmediate=function(C){typeof C!="function"&&(C=new Function(""+C));for(var S=new Array(arguments.length-1),T=0;T<S.length;T++)S[T]=arguments[T+1];var A={callback:C,args:S};return O[V]=A,k(V),V++},W.clearImmediate=P}function P(C){delete O[C]}function N(C){if(F)setTimeout(N,0,C);else{var S=O[C];if(S){F=!0;try{(function(T){var A=T.callback,E=T.args;switch(E.length){case 0:A();break;case 1:A(E[0]);break;case 2:A(E[0],E[1]);break;case 3:A(E[0],E[1],E[2]);break;default:A.apply(void 0,E)}})(S)}finally{P(C),F=!1}}}}function D(C){C.source===w&&typeof C.data=="string"&&C.data.indexOf(G)===0&&N(+C.data.slice(G.length))}})(typeof self>"u"?g===void 0?this:g:self)}).call(this,a!==void 0?a:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)}))}).call(this)}).call(this,e("_process"),typeof mr<"u"?mr:typeof self<"u"?self:typeof window<"u"?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(e,n,s){(function(i){(function(){var a=/[\\^$.*+?()[\]{}|]/g,l=RegExp(a.source),c=typeof i=="object"&&i&&i.Object===Object&&i,o=typeof self=="object"&&self&&self.Object===Object&&self,u=c||o||Function("return this")(),p=Object.prototype.toString,h=u.Symbol,d=h?h.prototype:void 0,b=d?d.toString:void 0;function x(g){if(typeof g=="string")return g;if((function(v){return typeof v=="symbol"||(function(k){return!!k&&typeof k=="object"})(v)&&p.call(v)=="[object Symbol]"})(g))return b?b.call(g):"";var w=g+"";return w=="0"&&1/g==-1/0?"-0":w}n.exports=function(g){var w;return(g=(w=g)==null?"":x(w))&&l.test(g)?g.replace(a,"\\$&"):g}}).call(this)}).call(this,typeof mr<"u"?mr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(e,n,s){(function(i){(function(){var a="[object Arguments]",l="[object Map]",c="[object Object]",o="[object Set]",u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,p=/^\w*$/,h=/^\./,d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,b=/\\(\\)?/g,x=/^\[object .+?Constructor\]$/,g=/^(?:0|[1-9]\d*)$/,w={};w["[object Float32Array]"]=w["[object Float64Array]"]=w["[object Int8Array]"]=w["[object Int16Array]"]=w["[object Int32Array]"]=w["[object Uint8Array]"]=w["[object Uint8ClampedArray]"]=w["[object Uint16Array]"]=w["[object Uint32Array]"]=!0,w[a]=w["[object Array]"]=w["[object ArrayBuffer]"]=w["[object Boolean]"]=w["[object DataView]"]=w["[object Date]"]=w["[object Error]"]=w["[object Function]"]=w[l]=w["[object Number]"]=w[c]=w["[object RegExp]"]=w[o]=w["[object String]"]=w["[object WeakMap]"]=!1;var v=typeof i=="object"&&i&&i.Object===Object&&i,k=typeof self=="object"&&self&&self.Object===Object&&self,R=v||k||Function("return this")(),L=typeof s=="object"&&s&&!s.nodeType&&s,G=L&&typeof n=="object"&&n&&!n.nodeType&&n,V=G&&G.exports===L&&v.process,O=(function(){try{return V&&V.binding("util")}catch{}})(),F=O&&O.isTypedArray;function B(be,Me,Ke,gt){for(var jt=-1,St=be?be.length:0;++jt<St;){var Dt=be[jt];Me(gt,Dt,Ke(Dt),be)}return gt}function W(be,Me){for(var Ke=-1,gt=be?be.length:0;++Ke<gt;)if(Me(be[Ke],Ke,be))return!0;return!1}function P(be){var Me=!1;if(be!=null&&typeof be.toString!="function")try{Me=!!(be+"")}catch{}return Me}function N(be){var Me=-1,Ke=Array(be.size);return be.forEach((function(gt,jt){Ke[++Me]=[jt,gt]})),Ke}function D(be){var Me=-1,Ke=Array(be.size);return be.forEach((function(gt){Ke[++Me]=gt})),Ke}var C,S,T,A=Array.prototype,E=Function.prototype,j=Object.prototype,U=R["__core-js_shared__"],I=(C=/[^.]+$/.exec(U&&U.keys&&U.keys.IE_PROTO||""))?"Symbol(src)_1."+C:"",Q=E.toString,Y=j.hasOwnProperty,ee=j.toString,q=RegExp("^"+Q.call(Y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),te=R.Symbol,H=R.Uint8Array,z=j.propertyIsEnumerable,Z=A.splice,ae=(S=Object.keys,T=Object,function(be){return S(T(be))}),re=ft(R,"DataView"),le=ft(R,"Map"),de=ft(R,"Promise"),ve=ft(R,"Set"),ge=ft(R,"WeakMap"),se=ft(Object,"create"),xe=Ve(re),pe=Ve(le),Te=Ve(de),ke=Ve(ve),Re=Ve(ge),$e=te?te.prototype:void 0,Pe=$e?$e.valueOf:void 0,Je=$e?$e.toString:void 0;function Ze(be){var Me=-1,Ke=be?be.length:0;for(this.clear();++Me<Ke;){var gt=be[Me];this.set(gt[0],gt[1])}}function Ye(be){var Me=-1,Ke=be?be.length:0;for(this.clear();++Me<Ke;){var gt=be[Me];this.set(gt[0],gt[1])}}function Xe(be){var Me=-1,Ke=be?be.length:0;for(this.clear();++Me<Ke;){var gt=be[Me];this.set(gt[0],gt[1])}}function ut(be){var Me=-1,Ke=be?be.length:0;for(this.__data__=new Xe;++Me<Ke;)this.add(be[Me])}function ot(be){this.__data__=new Ye(be)}function je(be,Me){var Ke=he(be)||fe(be)?(function(Dt,Zt){for(var Wt=-1,Xt=Array(Dt);++Wt<Dt;)Xt[Wt]=Zt(Wt);return Xt})(be.length,String):[],gt=Ke.length,jt=!!gt;for(var St in be)!Y.call(be,St)||jt&&(St=="length"||At(St,gt))||Ke.push(St);return Ke}function He(be,Me){for(var Ke=be.length;Ke--;)if(ie(be[Ke][0],Me))return Ke;return-1}function Ne(be,Me,Ke,gt){return lt(be,(function(jt,St,Dt){Me(gt,jt,Ke(jt),Dt)})),gt}Ze.prototype.clear=function(){this.__data__=se?se(null):{}},Ze.prototype.delete=function(be){return this.has(be)&&delete this.__data__[be]},Ze.prototype.get=function(be){var Me=this.__data__;if(se){var Ke=Me[be];return Ke==="__lodash_hash_undefined__"?void 0:Ke}return Y.call(Me,be)?Me[be]:void 0},Ze.prototype.has=function(be){var Me=this.__data__;return se?Me[be]!==void 0:Y.call(Me,be)},Ze.prototype.set=function(be,Me){return this.__data__[be]=se&&Me===void 0?"__lodash_hash_undefined__":Me,this},Ye.prototype.clear=function(){this.__data__=[]},Ye.prototype.delete=function(be){var Me=this.__data__,Ke=He(Me,be);return!(Ke<0)&&(Ke==Me.length-1?Me.pop():Z.call(Me,Ke,1),!0)},Ye.prototype.get=function(be){var Me=this.__data__,Ke=He(Me,be);return Ke<0?void 0:Me[Ke][1]},Ye.prototype.has=function(be){return He(this.__data__,be)>-1},Ye.prototype.set=function(be,Me){var Ke=this.__data__,gt=He(Ke,be);return gt<0?Ke.push([be,Me]):Ke[gt][1]=Me,this},Xe.prototype.clear=function(){this.__data__={hash:new Ze,map:new(le||Ye),string:new Ze}},Xe.prototype.delete=function(be){return pt(this,be).delete(be)},Xe.prototype.get=function(be){return pt(this,be).get(be)},Xe.prototype.has=function(be){return pt(this,be).has(be)},Xe.prototype.set=function(be,Me){return pt(this,be).set(be,Me),this},ut.prototype.add=ut.prototype.push=function(be){return this.__data__.set(be,"__lodash_hash_undefined__"),this},ut.prototype.has=function(be){return this.__data__.has(be)},ot.prototype.clear=function(){this.__data__=new Ye},ot.prototype.delete=function(be){return this.__data__.delete(be)},ot.prototype.get=function(be){return this.__data__.get(be)},ot.prototype.has=function(be){return this.__data__.has(be)},ot.prototype.set=function(be,Me){var Ke=this.__data__;if(Ke instanceof Ye){var gt=Ke.__data__;if(!le||gt.length<199)return gt.push([be,Me]),this;Ke=this.__data__=new Xe(gt)}return Ke.set(be,Me),this};var Ie,lt=(Ie=function(be,Me){return be&&Ue(be,Me,vt)},function(be,Me){if(be==null)return be;if(!me(be))return Ie(be,Me);for(var Ke=be.length,gt=-1,jt=Object(be);++gt<Ke&&Me(jt[gt],gt,jt)!==!1;);return be}),Ue=(function(be){return function(Me,Ke,gt){for(var jt=-1,St=Object(Me),Dt=gt(Me),Zt=Dt.length;Zt--;){var Wt=Dt[++jt];if(Ke(St[Wt],Wt,St)===!1)break}return Me}})();function We(be,Me){for(var Ke=0,gt=(Me=wt(Me,be)?[Me]:Ce(Me)).length;be!=null&&Ke<gt;)be=be[Ee(Me[Ke++])];return Ke&&Ke==gt?be:void 0}function bt(be,Me){return be!=null&&Me in Object(be)}function yt(be,Me,Ke,gt,jt){return be===Me||(be==null||Me==null||!De(be)&&!Fe(Me)?be!=be&&Me!=Me:(function(St,Dt,Zt,Wt,Xt,zt){var er=he(St),sr=he(Dt),Kt="[object Array]",lr="[object Array]";er||(Kt=(Kt=Mt(St))==a?c:Kt),sr||(lr=(lr=Mt(Dt))==a?c:lr);var $r=Kt==c&&!P(St),dn=lr==c&&!P(Dt),dr=Kt==lr;if(dr&&!$r)return zt||(zt=new ot),er||xt(St)?rt(St,Dt,Zt,Wt,Xt,zt):(function(br,gr,Ms,ns,gi,sn,Jr){switch(Ms){case"[object DataView]":if(br.byteLength!=gr.byteLength||br.byteOffset!=gr.byteOffset)return!1;br=br.buffer,gr=gr.buffer;case"[object ArrayBuffer]":return!(br.byteLength!=gr.byteLength||!ns(new H(br),new H(gr)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ie(+br,+gr);case"[object Error]":return br.name==gr.name&&br.message==gr.message;case"[object RegExp]":case"[object String]":return br==gr+"";case l:var $s=N;case o:var Sa=2&sn;if($s||($s=D),br.size!=gr.size&&!Sa)return!1;var qa=Jr.get(br);if(qa)return qa==gr;sn|=1,Jr.set(br,gr);var qs=rt($s(br),$s(gr),ns,gi,sn,Jr);return Jr.delete(br),qs;case"[object Symbol]":if(Pe)return Pe.call(br)==Pe.call(gr)}return!1})(St,Dt,Kt,Zt,Wt,Xt,zt);if(!(2&Xt)){var ys=$r&&Y.call(St,"__wrapped__"),Hn=dn&&Y.call(Dt,"__wrapped__");if(ys||Hn){var Rs=ys?St.value():St,pn=Hn?Dt.value():Dt;return zt||(zt=new ot),Zt(Rs,pn,Wt,Xt,zt)}}return dr?(zt||(zt=new ot),(function(br,gr,Ms,ns,gi,sn){var Jr=2&gi,$s=vt(br),Sa=$s.length,qa=vt(gr).length;if(Sa!=qa&&!Jr)return!1;for(var qs=Sa;qs--;){var Gs=$s[qs];if(!(Jr?Gs in gr:Y.call(gr,Gs)))return!1}var ka=sn.get(br);if(ka&&sn.get(gr))return ka==gr;var Ta=!0;sn.set(br,gr),sn.set(gr,br);for(var vs=Jr;++qs<Sa;){Gs=$s[qs];var Ga=br[Gs],$n=gr[Gs];if(ns)var Ea=Jr?ns($n,Ga,Gs,gr,br,sn):ns(Ga,$n,Gs,br,gr,sn);if(!(Ea===void 0?Ga===$n||Ms(Ga,$n,ns,gi,sn):Ea)){Ta=!1;break}vs||(vs=Gs=="constructor")}if(Ta&&!vs){var ws=br.constructor,aa=gr.constructor;ws==aa||!("constructor"in br)||!("constructor"in gr)||typeof ws=="function"&&ws instanceof ws&&typeof aa=="function"&&aa instanceof aa||(Ta=!1)}return sn.delete(br),sn.delete(gr),Ta})(St,Dt,Zt,Wt,Xt,zt)):!1})(be,Me,yt,Ke,gt,jt))}function nt(be){return!(!De(be)||(function(Me){return!!I&&I in Me})(be))&&(Ae(be)||P(be)?q:x).test(Ve(be))}function Et(be){return typeof be=="function"?be:be==null?Ct:typeof be=="object"?he(be)?(function(gt,jt){return wt(gt)&&ze(jt)?ht(Ee(gt),jt):function(St){var Dt=(function(Zt,Wt,Xt){var zt=Zt==null?void 0:We(Zt,Wt);return zt===void 0?Xt:zt})(St,gt);return Dt===void 0&&Dt===jt?(function(Zt,Wt){return Zt!=null&&(function(Xt,zt,er){zt=wt(zt,Xt)?[zt]:Ce(zt);for(var sr,Kt=-1,lr=zt.length;++Kt<lr;){var $r=Ee(zt[Kt]);if(!(sr=Xt!=null&&er(Xt,$r)))break;Xt=Xt[$r]}return sr||!!(lr=Xt?Xt.length:0)&&Le(lr)&&At($r,lr)&&(he(Xt)||fe(Xt))})(Zt,Wt,bt)})(St,gt):yt(jt,Dt,void 0,3)}})(be[0],be[1]):(function(gt){var jt=(function(St){for(var Dt=vt(St),Zt=Dt.length;Zt--;){var Wt=Dt[Zt],Xt=St[Wt];Dt[Zt]=[Wt,Xt,ze(Xt)]}return Dt})(gt);return jt.length==1&&jt[0][2]?ht(jt[0][0],jt[0][1]):function(St){return St===gt||(function(Dt,Zt,Wt,Xt){var zt=Wt.length,er=zt;if(Dt==null)return!er;for(Dt=Object(Dt);zt--;){var sr=Wt[zt];if(sr[2]?sr[1]!==Dt[sr[0]]:!(sr[0]in Dt))return!1}for(;++zt<er;){var Kt=(sr=Wt[zt])[0],lr=Dt[Kt],$r=sr[1];if(sr[2]){if(lr===void 0&&!(Kt in Dt))return!1}else{var dn=new ot,dr;if(!(dr===void 0?yt($r,lr,Xt,3,dn):dr))return!1}}return!0})(St,gt,jt)}})(be):wt(Me=be)?(Ke=Ee(Me),function(gt){return gt==null?void 0:gt[Ke]}):(function(gt){return function(jt){return We(jt,gt)}})(Me);var Me,Ke}function Oe(be){if(Ke=(Me=be)&&Me.constructor,gt=typeof Ke=="function"&&Ke.prototype||j,Me!==gt)return ae(be);var Me,Ke,gt,jt=[];for(var St in Object(be))Y.call(be,St)&&St!="constructor"&&jt.push(St);return jt}function Ce(be){return he(be)?be:Qe(be)}function rt(be,Me,Ke,gt,jt,St){var Dt=2&jt,Zt=be.length,Wt=Me.length;if(Zt!=Wt&&!(Dt&&Wt>Zt))return!1;var Xt=St.get(be);if(Xt&&St.get(Me))return Xt==Me;var zt=-1,er=!0,sr=1&jt?new ut:void 0;for(St.set(be,Me),St.set(Me,be);++zt<Zt;){var Kt=be[zt],lr=Me[zt];if(gt)var $r=Dt?gt(lr,Kt,zt,Me,be,St):gt(Kt,lr,zt,be,Me,St);if($r!==void 0){if($r)continue;er=!1;break}if(sr){if(!W(Me,(function(dn,dr){if(!sr.has(dr)&&(Kt===dn||Ke(Kt,dn,gt,jt,St)))return sr.add(dr)}))){er=!1;break}}else if(Kt!==lr&&!Ke(Kt,lr,gt,jt,St)){er=!1;break}}return St.delete(be),St.delete(Me),er}function pt(be,Me){var Ke,gt,jt=be.__data__;return((gt=typeof(Ke=Me))=="string"||gt=="number"||gt=="symbol"||gt=="boolean"?Ke!=="__proto__":Ke===null)?jt[typeof Me=="string"?"string":"hash"]:jt.map}function ft(be,Me){var Ke=(function(gt,jt){return gt==null?void 0:gt[jt]})(be,Me);return nt(Ke)?Ke:void 0}var Mt=function(be){return ee.call(be)};function At(be,Me){return!!(Me=Me??9007199254740991)&&(typeof be=="number"||g.test(be))&&be>-1&&be%1==0&&be<Me}function wt(be,Me){if(he(be))return!1;var Ke=typeof be;return!(Ke!="number"&&Ke!="symbol"&&Ke!="boolean"&&be!=null&&!qe(be))||p.test(be)||!u.test(be)||Me!=null&&be in Object(Me)}function ze(be){return be==be&&!De(be)}function ht(be,Me){return function(Ke){return Ke!=null&&Ke[be]===Me&&(Me!==void 0||be in Object(Ke))}}(re&&Mt(new re(new ArrayBuffer(1)))!="[object DataView]"||le&&Mt(new le)!=l||de&&Mt(de.resolve())!="[object Promise]"||ve&&Mt(new ve)!=o||ge&&Mt(new ge)!="[object WeakMap]")&&(Mt=function(be){var Me=ee.call(be),Ke=Me==c?be.constructor:void 0,gt=Ke?Ve(Ke):void 0;if(gt)switch(gt){case xe:return"[object DataView]";case pe:return l;case Te:return"[object Promise]";case ke:return o;case Re:return"[object WeakMap]"}return Me});var Qe=ye((function(be){var Me;be=(Me=be)==null?"":(function(gt){if(typeof gt=="string")return gt;if(qe(gt))return Je?Je.call(gt):"";var jt=gt+"";return jt=="0"&&1/gt==-1/0?"-0":jt})(Me);var Ke=[];return h.test(be)&&Ke.push(""),be.replace(d,(function(gt,jt,St,Dt){Ke.push(St?Dt.replace(b,"$1"):jt||gt)})),Ke}));function Ee(be){if(typeof be=="string"||qe(be))return be;var Me=be+"";return Me=="0"&&1/be==-1/0?"-0":Me}function Ve(be){if(be!=null){try{return Q.call(be)}catch{}try{return be+""}catch{}}return""}var et,ce=(et=function(be,Me,Ke){Y.call(be,Ke)?be[Ke].push(Me):be[Ke]=[Me]},function(be,Me){var Ke=he(be)?B:Ne,gt={};return Ke(be,et,Et(Me),gt)});function ye(be,Me){if(typeof be!="function"||Me&&typeof Me!="function")throw new TypeError("Expected a function");var Ke=function(){var gt=arguments,jt=Me?Me.apply(this,gt):gt[0],St=Ke.cache;if(St.has(jt))return St.get(jt);var Dt=be.apply(this,gt);return Ke.cache=St.set(jt,Dt),Dt};return Ke.cache=new(ye.Cache||Xe),Ke}function ie(be,Me){return be===Me||be!=be&&Me!=Me}function fe(be){return(function(Me){return Fe(Me)&&me(Me)})(be)&&Y.call(be,"callee")&&(!z.call(be,"callee")||ee.call(be)==a)}ye.Cache=Xe;var he=Array.isArray;function me(be){return be!=null&&Le(be.length)&&!Ae(be)}function Ae(be){var Me=De(be)?ee.call(be):"";return Me=="[object Function]"||Me=="[object GeneratorFunction]"}function Le(be){return typeof be=="number"&&be>-1&&be%1==0&&be<=9007199254740991}function De(be){var Me=typeof be;return!!be&&(Me=="object"||Me=="function")}function Fe(be){return!!be&&typeof be=="object"}function qe(be){return typeof be=="symbol"||Fe(be)&&ee.call(be)=="[object Symbol]"}var xt=F?(function(be){return function(Me){return be(Me)}})(F):function(be){return Fe(be)&&Le(be.length)&&!!w[ee.call(be)]};function vt(be){return me(be)?je(be):Oe(be)}function Ct(be){return be}n.exports=ce}).call(this)}).call(this,typeof mr<"u"?mr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(e,n,s){var i=Object.prototype.toString;n.exports=function(a){return a===!0||a===!1||(function(l){return!!l&&typeof l=="object"})(a)&&i.call(a)=="[object Boolean]"}},{}],445:[function(e,n,s){(function(i){(function(){var a="[object Arguments]",l="[object Map]",c="[object Object]",o="[object Set]",u=/^\[object .+?Constructor\]$/,p=/^(?:0|[1-9]\d*)$/,h={};h["[object Float32Array]"]=h["[object Float64Array]"]=h["[object Int8Array]"]=h["[object Int16Array]"]=h["[object Int32Array]"]=h["[object Uint8Array]"]=h["[object Uint8ClampedArray]"]=h["[object Uint16Array]"]=h["[object Uint32Array]"]=!0,h[a]=h["[object Array]"]=h["[object ArrayBuffer]"]=h["[object Boolean]"]=h["[object DataView]"]=h["[object Date]"]=h["[object Error]"]=h["[object Function]"]=h[l]=h["[object Number]"]=h[c]=h["[object RegExp]"]=h[o]=h["[object String]"]=h["[object WeakMap]"]=!1;var d=typeof i=="object"&&i&&i.Object===Object&&i,b=typeof self=="object"&&self&&self.Object===Object&&self,x=d||b||Function("return this")(),g=typeof s=="object"&&s&&!s.nodeType&&s,w=g&&typeof n=="object"&&n&&!n.nodeType&&n,v=w&&w.exports===g,k=v&&d.process,R=(function(){try{return k&&k.binding&&k.binding("util")}catch{}})(),L=R&&R.isTypedArray;function G(Ee,Ve){for(var et=-1,ce=Ee==null?0:Ee.length;++et<ce;)if(Ve(Ee[et],et,Ee))return!0;return!1}function V(Ee){var Ve=-1,et=Array(Ee.size);return Ee.forEach((function(ce,ye){et[++Ve]=[ye,ce]})),et}function O(Ee){var Ve=-1,et=Array(Ee.size);return Ee.forEach((function(ce){et[++Ve]=ce})),et}var F,B,W,P=Array.prototype,N=Function.prototype,D=Object.prototype,C=x["__core-js_shared__"],S=N.toString,T=D.hasOwnProperty,A=(F=/[^.]+$/.exec(C&&C.keys&&C.keys.IE_PROTO||""))?"Symbol(src)_1."+F:"",E=D.toString,j=RegExp("^"+S.call(T).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),U=v?x.Buffer:void 0,I=x.Symbol,Q=x.Uint8Array,Y=D.propertyIsEnumerable,ee=P.splice,q=I?I.toStringTag:void 0,te=Object.getOwnPropertySymbols,H=U?U.isBuffer:void 0,z=(B=Object.keys,W=Object,function(Ee){return B(W(Ee))}),Z=bt(x,"DataView"),ae=bt(x,"Map"),re=bt(x,"Promise"),le=bt(x,"Set"),de=bt(x,"WeakMap"),ve=bt(Object,"create"),ge=Oe(Z),se=Oe(ae),xe=Oe(re),pe=Oe(le),Te=Oe(de),ke=I?I.prototype:void 0,Re=ke?ke.valueOf:void 0;function $e(Ee){var Ve=-1,et=Ee==null?0:Ee.length;for(this.clear();++Ve<et;){var ce=Ee[Ve];this.set(ce[0],ce[1])}}function Pe(Ee){var Ve=-1,et=Ee==null?0:Ee.length;for(this.clear();++Ve<et;){var ce=Ee[Ve];this.set(ce[0],ce[1])}}function Je(Ee){var Ve=-1,et=Ee==null?0:Ee.length;for(this.clear();++Ve<et;){var ce=Ee[Ve];this.set(ce[0],ce[1])}}function Ze(Ee){var Ve=-1,et=Ee==null?0:Ee.length;for(this.__data__=new Je;++Ve<et;)this.add(Ee[Ve])}function Ye(Ee){var Ve=this.__data__=new Pe(Ee);this.size=Ve.size}function Xe(Ee,Ve){var et=pt(Ee),ce=!et&&rt(Ee),ye=!et&&!ce&&ft(Ee),ie=!et&&!ce&&!ye&&ht(Ee),fe=et||ce||ye||ie,he=fe?(function(Le,De){for(var Fe=-1,qe=Array(Le);++Fe<Le;)qe[Fe]=De(Fe);return qe})(Ee.length,String):[],me=he.length;for(var Ae in Ee)!T.call(Ee,Ae)||fe&&(Ae=="length"||ye&&(Ae=="offset"||Ae=="parent")||ie&&(Ae=="buffer"||Ae=="byteLength"||Ae=="byteOffset")||Et(Ae,me))||he.push(Ae);return he}function ut(Ee,Ve){for(var et=Ee.length;et--;)if(Ce(Ee[et][0],Ve))return et;return-1}function ot(Ee){return Ee==null?Ee===void 0?"[object Undefined]":"[object Null]":q&&q in Object(Ee)?(function(Ve){var et=T.call(Ve,q),ce=Ve[q];try{Ve[q]=void 0;var ye=!0}catch{}var ie=E.call(Ve);return ye&&(et?Ve[q]=ce:delete Ve[q]),ie})(Ee):(function(Ve){return E.call(Ve)})(Ee)}function je(Ee){return ze(Ee)&&ot(Ee)==a}function He(Ee,Ve,et,ce,ye){return Ee===Ve||(Ee==null||Ve==null||!ze(Ee)&&!ze(Ve)?Ee!=Ee&&Ve!=Ve:(function(ie,fe,he,me,Ae,Le){var De=pt(ie),Fe=pt(fe),qe=De?"[object Array]":nt(ie),xt=Fe?"[object Array]":nt(fe),vt=(qe=qe==a?c:qe)==c,Ct=(xt=xt==a?c:xt)==c,be=qe==xt;if(be&&ft(ie)){if(!ft(fe))return!1;De=!0,vt=!1}if(be&&!vt)return Le||(Le=new Ye),De||ht(ie)?lt(ie,fe,he,me,Ae,Le):(function(St,Dt,Zt,Wt,Xt,zt,er){switch(Zt){case"[object DataView]":if(St.byteLength!=Dt.byteLength||St.byteOffset!=Dt.byteOffset)return!1;St=St.buffer,Dt=Dt.buffer;case"[object ArrayBuffer]":return!(St.byteLength!=Dt.byteLength||!zt(new Q(St),new Q(Dt)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ce(+St,+Dt);case"[object Error]":return St.name==Dt.name&&St.message==Dt.message;case"[object RegExp]":case"[object String]":return St==Dt+"";case l:var sr=V;case o:var Kt=1&Wt;if(sr||(sr=O),St.size!=Dt.size&&!Kt)return!1;var lr=er.get(St);if(lr)return lr==Dt;Wt|=2,er.set(St,Dt);var $r=lt(sr(St),sr(Dt),Wt,Xt,zt,er);return er.delete(St),$r;case"[object Symbol]":if(Re)return Re.call(St)==Re.call(Dt)}return!1})(ie,fe,qe,he,me,Ae,Le);if(!(1&he)){var Me=vt&&T.call(ie,"__wrapped__"),Ke=Ct&&T.call(fe,"__wrapped__");if(Me||Ke){var gt=Me?ie.value():ie,jt=Ke?fe.value():fe;return Le||(Le=new Ye),Ae(gt,jt,he,me,Le)}}return be?(Le||(Le=new Ye),(function(St,Dt,Zt,Wt,Xt,zt){var er=1&Zt,sr=Ue(St),Kt=sr.length,lr=Ue(Dt).length;if(Kt!=lr&&!er)return!1;for(var $r=Kt;$r--;){var dn=sr[$r];if(!(er?dn in Dt:T.call(Dt,dn)))return!1}var dr=zt.get(St);if(dr&&zt.get(Dt))return dr==Dt;var ys=!0;zt.set(St,Dt),zt.set(Dt,St);for(var Hn=er;++$r<Kt;){dn=sr[$r];var Rs=St[dn],pn=Dt[dn];if(Wt)var br=er?Wt(pn,Rs,dn,Dt,St,zt):Wt(Rs,pn,dn,St,Dt,zt);if(!(br===void 0?Rs===pn||Xt(Rs,pn,Zt,Wt,zt):br)){ys=!1;break}Hn||(Hn=dn=="constructor")}if(ys&&!Hn){var gr=St.constructor,Ms=Dt.constructor;gr==Ms||!("constructor"in St)||!("constructor"in Dt)||typeof gr=="function"&&gr instanceof gr&&typeof Ms=="function"&&Ms instanceof Ms||(ys=!1)}return zt.delete(St),zt.delete(Dt),ys})(ie,fe,he,me,Ae,Le)):!1})(Ee,Ve,et,ce,He,ye))}function Ne(Ee){return!(!wt(Ee)||(function(Ve){return!!A&&A in Ve})(Ee))&&(Mt(Ee)?j:u).test(Oe(Ee))}function Ie(Ee){if(et=(Ve=Ee)&&Ve.constructor,ce=typeof et=="function"&&et.prototype||D,Ve!==ce)return z(Ee);var Ve,et,ce,ye=[];for(var ie in Object(Ee))T.call(Ee,ie)&&ie!="constructor"&&ye.push(ie);return ye}function lt(Ee,Ve,et,ce,ye,ie){var fe=1&et,he=Ee.length,me=Ve.length;if(he!=me&&!(fe&&me>he))return!1;var Ae=ie.get(Ee);if(Ae&&ie.get(Ve))return Ae==Ve;var Le=-1,De=!0,Fe=2&et?new Ze:void 0;for(ie.set(Ee,Ve),ie.set(Ve,Ee);++Le<he;){var qe=Ee[Le],xt=Ve[Le];if(ce)var vt=fe?ce(xt,qe,Le,Ve,Ee,ie):ce(qe,xt,Le,Ee,Ve,ie);if(vt!==void 0){if(vt)continue;De=!1;break}if(Fe){if(!G(Ve,(function(Ct,be){if(Me=be,!Fe.has(Me)&&(qe===Ct||ye(qe,Ct,et,ce,ie)))return Fe.push(be);var Me}))){De=!1;break}}else if(qe!==xt&&!ye(qe,xt,et,ce,ie)){De=!1;break}}return ie.delete(Ee),ie.delete(Ve),De}function Ue(Ee){return(function(Ve,et,ce){var ye=et(Ve);return pt(Ve)?ye:(function(ie,fe){for(var he=-1,me=fe.length,Ae=ie.length;++he<me;)ie[Ae+he]=fe[he];return ie})(ye,ce(Ve))})(Ee,Qe,yt)}function We(Ee,Ve){var et,ce,ye=Ee.__data__;return((ce=typeof(et=Ve))=="string"||ce=="number"||ce=="symbol"||ce=="boolean"?et!=="__proto__":et===null)?ye[typeof Ve=="string"?"string":"hash"]:ye.map}function bt(Ee,Ve){var et=(function(ce,ye){return ce==null?void 0:ce[ye]})(Ee,Ve);return Ne(et)?et:void 0}$e.prototype.clear=function(){this.__data__=ve?ve(null):{},this.size=0},$e.prototype.delete=function(Ee){var Ve=this.has(Ee)&&delete this.__data__[Ee];return this.size-=Ve?1:0,Ve},$e.prototype.get=function(Ee){var Ve=this.__data__;if(ve){var et=Ve[Ee];return et==="__lodash_hash_undefined__"?void 0:et}return T.call(Ve,Ee)?Ve[Ee]:void 0},$e.prototype.has=function(Ee){var Ve=this.__data__;return ve?Ve[Ee]!==void 0:T.call(Ve,Ee)},$e.prototype.set=function(Ee,Ve){var et=this.__data__;return this.size+=this.has(Ee)?0:1,et[Ee]=ve&&Ve===void 0?"__lodash_hash_undefined__":Ve,this},Pe.prototype.clear=function(){this.__data__=[],this.size=0},Pe.prototype.delete=function(Ee){var Ve=this.__data__,et=ut(Ve,Ee);return!(et<0)&&(et==Ve.length-1?Ve.pop():ee.call(Ve,et,1),--this.size,!0)},Pe.prototype.get=function(Ee){var Ve=this.__data__,et=ut(Ve,Ee);return et<0?void 0:Ve[et][1]},Pe.prototype.has=function(Ee){return ut(this.__data__,Ee)>-1},Pe.prototype.set=function(Ee,Ve){var et=this.__data__,ce=ut(et,Ee);return ce<0?(++this.size,et.push([Ee,Ve])):et[ce][1]=Ve,this},Je.prototype.clear=function(){this.size=0,this.__data__={hash:new $e,map:new(ae||Pe),string:new $e}},Je.prototype.delete=function(Ee){var Ve=We(this,Ee).delete(Ee);return this.size-=Ve?1:0,Ve},Je.prototype.get=function(Ee){return We(this,Ee).get(Ee)},Je.prototype.has=function(Ee){return We(this,Ee).has(Ee)},Je.prototype.set=function(Ee,Ve){var et=We(this,Ee),ce=et.size;return et.set(Ee,Ve),this.size+=et.size==ce?0:1,this},Ze.prototype.add=Ze.prototype.push=function(Ee){return this.__data__.set(Ee,"__lodash_hash_undefined__"),this},Ze.prototype.has=function(Ee){return this.__data__.has(Ee)},Ye.prototype.clear=function(){this.__data__=new Pe,this.size=0},Ye.prototype.delete=function(Ee){var Ve=this.__data__,et=Ve.delete(Ee);return this.size=Ve.size,et},Ye.prototype.get=function(Ee){return this.__data__.get(Ee)},Ye.prototype.has=function(Ee){return this.__data__.has(Ee)},Ye.prototype.set=function(Ee,Ve){var et=this.__data__;if(et instanceof Pe){var ce=et.__data__;if(!ae||ce.length<199)return ce.push([Ee,Ve]),this.size=++et.size,this;et=this.__data__=new Je(ce)}return et.set(Ee,Ve),this.size=et.size,this};var yt=te?function(Ee){return Ee==null?[]:(Ee=Object(Ee),(function(Ve,et){for(var ce=-1,ye=Ve==null?0:Ve.length,ie=0,fe=[];++ce<ye;){var he=Ve[ce];et(he,ce,Ve)&&(fe[ie++]=he)}return fe})(te(Ee),(function(Ve){return Y.call(Ee,Ve)})))}:function(){return[]},nt=ot;function Et(Ee,Ve){return!!(Ve=Ve??9007199254740991)&&(typeof Ee=="number"||p.test(Ee))&&Ee>-1&&Ee%1==0&&Ee<Ve}function Oe(Ee){if(Ee!=null){try{return S.call(Ee)}catch{}try{return Ee+""}catch{}}return""}function Ce(Ee,Ve){return Ee===Ve||Ee!=Ee&&Ve!=Ve}(Z&&nt(new Z(new ArrayBuffer(1)))!="[object DataView]"||ae&&nt(new ae)!=l||re&&nt(re.resolve())!="[object Promise]"||le&&nt(new le)!=o||de&&nt(new de)!="[object WeakMap]")&&(nt=function(Ee){var Ve=ot(Ee),et=Ve==c?Ee.constructor:void 0,ce=et?Oe(et):"";if(ce)switch(ce){case ge:return"[object DataView]";case se:return l;case xe:return"[object Promise]";case pe:return o;case Te:return"[object WeakMap]"}return Ve});var rt=je((function(){return arguments})())?je:function(Ee){return ze(Ee)&&T.call(Ee,"callee")&&!Y.call(Ee,"callee")},pt=Array.isArray,ft=H||function(){return!1};function Mt(Ee){if(!wt(Ee))return!1;var Ve=ot(Ee);return Ve=="[object Function]"||Ve=="[object GeneratorFunction]"||Ve=="[object AsyncFunction]"||Ve=="[object Proxy]"}function At(Ee){return typeof Ee=="number"&&Ee>-1&&Ee%1==0&&Ee<=9007199254740991}function wt(Ee){var Ve=typeof Ee;return Ee!=null&&(Ve=="object"||Ve=="function")}function ze(Ee){return Ee!=null&&typeof Ee=="object"}var ht=L?(function(Ee){return function(Ve){return Ee(Ve)}})(L):function(Ee){return ze(Ee)&&At(Ee.length)&&!!h[ot(Ee)]};function Qe(Ee){return(Ve=Ee)!=null&&At(Ve.length)&&!Mt(Ve)?Xe(Ee):Ie(Ee);var Ve}n.exports=function(Ee,Ve){return He(Ee,Ve)}}).call(this)}).call(this,typeof mr<"u"?mr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(e,n,s){(function(i){(function(){var a=typeof i=="object"&&i&&i.Object===Object&&i,l=typeof self=="object"&&self&&self.Object===Object&&self,c=a||l||Function("return this")(),o=Object.prototype,u=o.hasOwnProperty,p=o.toString,h=c.Symbol,d=h?h.toStringTag:void 0;function b(x){return x==null?x===void 0?"[object Undefined]":"[object Null]":d&&d in Object(x)?(function(g){var w=u.call(g,d),v=g[d];try{g[d]=void 0;var k=!0}catch{}var R=p.call(g);return k&&(w?g[d]=v:delete g[d]),R})(x):(function(g){return p.call(g)})(x)}n.exports=function(x){if(!(function(w){var v=typeof w;return w!=null&&(v=="object"||v=="function")})(x))return!1;var g=b(x);return g=="[object Function]"||g=="[object GeneratorFunction]"||g=="[object AsyncFunction]"||g=="[object Proxy]"}}).call(this)}).call(this,typeof mr<"u"?mr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(e,n,s){n.exports=function(i){return i==null}},{}],448:[function(e,n,s){n.exports=function(i){return i===void 0}},{}],449:[function(e,n,s){(function(i){(function(){var a=/^\[object .+?Constructor\]$/,l=typeof i=="object"&&i&&i.Object===Object&&i,c=typeof self=="object"&&self&&self.Object===Object&&self,o=l||c||Function("return this")();function u(I,Q){return!!(I&&I.length)&&(function(Y,ee,q){if(ee!=ee)return(function(z,Z,ae,re){for(var le=z.length,de=ae+-1;++de<le;)if(Z(z[de],de,z))return de;return-1})(Y,p,q);for(var te=q-1,H=Y.length;++te<H;)if(Y[te]===ee)return te;return-1})(I,Q,0)>-1}function p(I){return I!=I}function h(I,Q){return I.has(Q)}function d(I){var Q=-1,Y=Array(I.size);return I.forEach((function(ee){Y[++Q]=ee})),Y}var b,x=Array.prototype,g=Function.prototype,w=Object.prototype,v=o["__core-js_shared__"],k=(b=/[^.]+$/.exec(v&&v.keys&&v.keys.IE_PROTO||""))?"Symbol(src)_1."+b:"",R=g.toString,L=w.hasOwnProperty,G=w.toString,V=RegExp("^"+R.call(L).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),O=x.splice,F=j(o,"Map"),B=j(o,"Set"),W=j(Object,"create");function P(I){var Q=-1,Y=I?I.length:0;for(this.clear();++Q<Y;){var ee=I[Q];this.set(ee[0],ee[1])}}function N(I){var Q=-1,Y=I?I.length:0;for(this.clear();++Q<Y;){var ee=I[Q];this.set(ee[0],ee[1])}}function D(I){var Q=-1,Y=I?I.length:0;for(this.clear();++Q<Y;){var ee=I[Q];this.set(ee[0],ee[1])}}function C(I){var Q=-1,Y=I?I.length:0;for(this.__data__=new D;++Q<Y;)this.add(I[Q])}function S(I,Q){for(var Y,ee,q=I.length;q--;)if((Y=I[q][0])===(ee=Q)||Y!=Y&&ee!=ee)return q;return-1}function T(I){return!(!U(I)||(Q=I,k&&k in Q))&&((function(Y){var ee=U(Y)?G.call(Y):"";return ee=="[object Function]"||ee=="[object GeneratorFunction]"})(I)||(function(Y){var ee=!1;if(Y!=null&&typeof Y.toString!="function")try{ee=!!(Y+"")}catch{}return ee})(I)?V:a).test((function(Y){if(Y!=null){try{return R.call(Y)}catch{}try{return Y+""}catch{}}return""})(I));var Q}P.prototype.clear=function(){this.__data__=W?W(null):{}},P.prototype.delete=function(I){return this.has(I)&&delete this.__data__[I]},P.prototype.get=function(I){var Q=this.__data__;if(W){var Y=Q[I];return Y==="__lodash_hash_undefined__"?void 0:Y}return L.call(Q,I)?Q[I]:void 0},P.prototype.has=function(I){var Q=this.__data__;return W?Q[I]!==void 0:L.call(Q,I)},P.prototype.set=function(I,Q){return this.__data__[I]=W&&Q===void 0?"__lodash_hash_undefined__":Q,this},N.prototype.clear=function(){this.__data__=[]},N.prototype.delete=function(I){var Q=this.__data__,Y=S(Q,I);return!(Y<0)&&(Y==Q.length-1?Q.pop():O.call(Q,Y,1),!0)},N.prototype.get=function(I){var Q=this.__data__,Y=S(Q,I);return Y<0?void 0:Q[Y][1]},N.prototype.has=function(I){return S(this.__data__,I)>-1},N.prototype.set=function(I,Q){var Y=this.__data__,ee=S(Y,I);return ee<0?Y.push([I,Q]):Y[ee][1]=Q,this},D.prototype.clear=function(){this.__data__={hash:new P,map:new(F||N),string:new P}},D.prototype.delete=function(I){return E(this,I).delete(I)},D.prototype.get=function(I){return E(this,I).get(I)},D.prototype.has=function(I){return E(this,I).has(I)},D.prototype.set=function(I,Q){return E(this,I).set(I,Q),this},C.prototype.add=C.prototype.push=function(I){return this.__data__.set(I,"__lodash_hash_undefined__"),this},C.prototype.has=function(I){return this.__data__.has(I)};var A=B&&1/d(new B([,-0]))[1]==1/0?function(I){return new B(I)}:function(){};function E(I,Q){var Y,ee,q=I.__data__;return((ee=typeof(Y=Q))=="string"||ee=="number"||ee=="symbol"||ee=="boolean"?Y!=="__proto__":Y===null)?q[typeof Q=="string"?"string":"hash"]:q.map}function j(I,Q){var Y=(function(ee,q){return ee==null?void 0:ee[q]})(I,Q);return T(Y)?Y:void 0}function U(I){var Q=typeof I;return!!I&&(Q=="object"||Q=="function")}n.exports=function(I){return I&&I.length?(function(Q,Y,ee){var q=-1,te=u,H=Q.length,z=!0,Z=[],ae=Z;if(H>=200){var re=A(Q);if(re)return d(re);z=!1,te=h,ae=new C}else ae=Z;e:for(;++q<H;){var le=Q[q],de=le;if(le=le!==0?le:0,z&&de==de){for(var ve=ae.length;ve--;)if(ae[ve]===de)continue e;Z.push(le)}else te(ae,de,ee)||(ae!==Z&&ae.push(de),Z.push(le))}return Z})(I):[]}}).call(this)}).call(this,typeof mr<"u"?mr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(e,n,s){var i=e("inherits"),a=e("hash-base"),l=e("safe-buffer").Buffer,c=new Array(16);function o(){a.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function u(x,g){return x<<g|x>>>32-g}function p(x,g,w,v,k,R,L){return u(x+(g&w|~g&v)+k+R|0,L)+g|0}function h(x,g,w,v,k,R,L){return u(x+(g&v|w&~v)+k+R|0,L)+g|0}function d(x,g,w,v,k,R,L){return u(x+(g^w^v)+k+R|0,L)+g|0}function b(x,g,w,v,k,R,L){return u(x+(w^(g|~v))+k+R|0,L)+g|0}i(o,a),o.prototype._update=function(){for(var x=c,g=0;g<16;++g)x[g]=this._block.readInt32LE(4*g);var w=this._a,v=this._b,k=this._c,R=this._d;w=p(w,v,k,R,x[0],3614090360,7),R=p(R,w,v,k,x[1],3905402710,12),k=p(k,R,w,v,x[2],606105819,17),v=p(v,k,R,w,x[3],3250441966,22),w=p(w,v,k,R,x[4],4118548399,7),R=p(R,w,v,k,x[5],1200080426,12),k=p(k,R,w,v,x[6],2821735955,17),v=p(v,k,R,w,x[7],4249261313,22),w=p(w,v,k,R,x[8],1770035416,7),R=p(R,w,v,k,x[9],2336552879,12),k=p(k,R,w,v,x[10],4294925233,17),v=p(v,k,R,w,x[11],2304563134,22),w=p(w,v,k,R,x[12],1804603682,7),R=p(R,w,v,k,x[13],4254626195,12),k=p(k,R,w,v,x[14],2792965006,17),w=h(w,v=p(v,k,R,w,x[15],1236535329,22),k,R,x[1],4129170786,5),R=h(R,w,v,k,x[6],3225465664,9),k=h(k,R,w,v,x[11],643717713,14),v=h(v,k,R,w,x[0],3921069994,20),w=h(w,v,k,R,x[5],3593408605,5),R=h(R,w,v,k,x[10],38016083,9),k=h(k,R,w,v,x[15],3634488961,14),v=h(v,k,R,w,x[4],3889429448,20),w=h(w,v,k,R,x[9],568446438,5),R=h(R,w,v,k,x[14],3275163606,9),k=h(k,R,w,v,x[3],4107603335,14),v=h(v,k,R,w,x[8],1163531501,20),w=h(w,v,k,R,x[13],2850285829,5),R=h(R,w,v,k,x[2],4243563512,9),k=h(k,R,w,v,x[7],1735328473,14),w=d(w,v=h(v,k,R,w,x[12],2368359562,20),k,R,x[5],4294588738,4),R=d(R,w,v,k,x[8],2272392833,11),k=d(k,R,w,v,x[11],1839030562,16),v=d(v,k,R,w,x[14],4259657740,23),w=d(w,v,k,R,x[1],2763975236,4),R=d(R,w,v,k,x[4],1272893353,11),k=d(k,R,w,v,x[7],4139469664,16),v=d(v,k,R,w,x[10],3200236656,23),w=d(w,v,k,R,x[13],681279174,4),R=d(R,w,v,k,x[0],3936430074,11),k=d(k,R,w,v,x[3],3572445317,16),v=d(v,k,R,w,x[6],76029189,23),w=d(w,v,k,R,x[9],3654602809,4),R=d(R,w,v,k,x[12],3873151461,11),k=d(k,R,w,v,x[15],530742520,16),w=b(w,v=d(v,k,R,w,x[2],3299628645,23),k,R,x[0],4096336452,6),R=b(R,w,v,k,x[7],1126891415,10),k=b(k,R,w,v,x[14],2878612391,15),v=b(v,k,R,w,x[5],4237533241,21),w=b(w,v,k,R,x[12],1700485571,6),R=b(R,w,v,k,x[3],2399980690,10),k=b(k,R,w,v,x[10],4293915773,15),v=b(v,k,R,w,x[1],2240044497,21),w=b(w,v,k,R,x[8],1873313359,6),R=b(R,w,v,k,x[15],4264355552,10),k=b(k,R,w,v,x[6],2734768916,15),v=b(v,k,R,w,x[13],1309151649,21),w=b(w,v,k,R,x[4],4149444226,6),R=b(R,w,v,k,x[11],3174756917,10),k=b(k,R,w,v,x[2],718787259,15),v=b(v,k,R,w,x[9],3951481745,21),this._a=this._a+w|0,this._b=this._b+v|0,this._c=this._c+k|0,this._d=this._d+R|0},o.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var x=l.allocUnsafe(16);return x.writeInt32LE(this._a,0),x.writeInt32LE(this._b,4),x.writeInt32LE(this._c,8),x.writeInt32LE(this._d,12),x},n.exports=o},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(e,n,s){var i=e("bn.js"),a=e("brorand");function l(c){this.rand=c||new a.Rand}n.exports=l,l.create=function(c){return new l(c)},l.prototype._randbelow=function(c){var o=c.bitLength(),u=Math.ceil(o/8);do var p=new i(this.rand.generate(u));while(p.cmp(c)>=0);return p},l.prototype._randrange=function(c,o){var u=o.sub(c);return c.add(this._randbelow(u))},l.prototype.test=function(c,o,u){var p=c.bitLength(),h=i.mont(c),d=new i(1).toRed(h);o||(o=Math.max(1,p/48|0));for(var b=c.subn(1),x=0;!b.testn(x);x++);for(var g=c.shrn(x),w=b.toRed(h);o>0;o--){var v=this._randrange(new i(2),b);u&&u(v);var k=v.toRed(h).redPow(g);if(k.cmp(d)!==0&&k.cmp(w)!==0){for(var R=1;R<x;R++){if((k=k.redSqr()).cmp(d)===0)return!1;if(k.cmp(w)===0)break}if(R===x)return!1}}return!0},l.prototype.getDivisor=function(c,o){var u=c.bitLength(),p=i.mont(c),h=new i(1).toRed(p);o||(o=Math.max(1,u/48|0));for(var d=c.subn(1),b=0;!d.testn(b);b++);for(var x=c.shrn(b),g=d.toRed(p);o>0;o--){var w=this._randrange(new i(2),d),v=c.gcd(w);if(v.cmpn(1)!==0)return v;var k=w.toRed(p).redPow(x);if(k.cmp(h)!==0&&k.cmp(g)!==0){for(var R=1;R<b;R++){if((k=k.redSqr()).cmp(h)===0)return k.fromRed().subn(1).gcd(c);if(k.cmp(g)===0)break}if(R===b)return(k=k.redSqr()).fromRed().subn(1).gcd(c)}}return!1}},{"bn.js":452,brorand:187}],452:[function(e,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],453:[function(e,n,s){function i(a,l){if(!a)throw new Error(l||"Assertion failed")}n.exports=i,i.equal=function(a,l,c){if(a!=l)throw new Error(c||"Assertion failed: "+a+" != "+l)}},{}],454:[function(e,n,s){var i=s;function a(c){return c.length===1?"0"+c:c}function l(c){for(var o="",u=0;u<c.length;u++)o+=a(c[u].toString(16));return o}i.toArray=function(c,o){if(Array.isArray(c))return c.slice();if(!c)return[];var u=[];if(typeof c!="string"){for(var p=0;p<c.length;p++)u[p]=0|c[p];return u}if(o==="hex")for((c=c.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(c="0"+c),p=0;p<c.length;p+=2)u.push(parseInt(c[p]+c[p+1],16));else for(p=0;p<c.length;p++){var h=c.charCodeAt(p),d=h>>8,b=255&h;d?u.push(d,b):u.push(b)}return u},i.zero2=a,i.toHex=l,i.encode=function(c,o){return o==="hex"?l(c):c}},{}],455:[function(e,n,s){n.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(e,n,s){var i=e("asn1.js");s.certificate=e("./certificate");var a=i.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));s.RSAPrivateKey=a;var l=i.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));s.RSAPublicKey=l;var c=i.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(o),this.key("subjectPublicKey").bitstr())}));s.PublicKey=c;var o=i.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),u=i.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(o),this.key("subjectPrivateKey").octstr())}));s.PrivateKey=u;var p=i.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));s.EncryptedPrivateKey=p;var h=i.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));s.DSAPrivateKey=h,s.DSAparam=i.define("DSAparam",(function(){this.int()}));var d=i.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(b),this.key("publicKey").optional().explicit(1).bitstr())}));s.ECPrivateKey=d;var b=i.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));s.signature=i.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},{"./certificate":457,"asn1.js":170}],457:[function(e,n,s){var i=e("asn1.js"),a=i.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),l=i.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),c=i.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),o=i.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(c),this.key("subjectPublicKey").bitstr())})),u=i.define("RelativeDistinguishedName",(function(){this.setof(l)})),p=i.define("RDNSequence",(function(){this.seqof(u)})),h=i.define("Name",(function(){this.choice({rdnSequence:this.use(p)})})),d=i.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(a),this.key("notAfter").use(a))})),b=i.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),x=i.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(c),this.key("issuer").use(h),this.key("validity").use(d),this.key("subject").use(h),this.key("subjectPublicKeyInfo").use(o),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(b).optional())})),g=i.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(x),this.key("signatureAlgorithm").use(c),this.key("signatureValue").bitstr())}));n.exports=g},{"asn1.js":170}],458:[function(e,n,s){var i=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,a=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,l=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,c=e("evp_bytestokey"),o=e("browserify-aes"),u=e("safe-buffer").Buffer;n.exports=function(p,h){var d,b=p.toString(),x=b.match(i);if(x){var g="aes"+x[1],w=u.from(x[2],"hex"),v=u.from(x[3].replace(/[\r\n]/g,""),"base64"),k=c(h,w.slice(0,8),parseInt(x[1],10)).key,R=[],L=o.createDecipheriv(g,k,w);R.push(L.update(v)),R.push(L.final()),d=u.concat(R)}else{var G=b.match(l);d=u.from(G[2].replace(/[\r\n]/g,""),"base64")}return{tag:b.match(a)[1],data:d}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(e,n,s){var i=e("./asn1"),a=e("./aesid.json"),l=e("./fixProc"),c=e("browserify-aes"),o=e("pbkdf2"),u=e("safe-buffer").Buffer;function p(h){var d;typeof h!="object"||u.isBuffer(h)||(d=h.passphrase,h=h.key),typeof h=="string"&&(h=u.from(h));var b,x,g=l(h,d),w=g.tag,v=g.data;switch(w){case"CERTIFICATE":x=i.certificate.decode(v,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(x||(x=i.PublicKey.decode(v,"der")),b=x.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPublicKey.decode(x.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return x.subjectPrivateKey=x.subjectPublicKey,{type:"ec",data:x};case"1.2.840.10040.4.1":return x.algorithm.params.pub_key=i.DSAparam.decode(x.subjectPublicKey.data,"der"),{type:"dsa",data:x.algorithm.params};default:throw new Error("unknown key id "+b)}case"ENCRYPTED PRIVATE KEY":v=(function(k,R){var L=k.algorithm.decrypt.kde.kdeparams.salt,G=parseInt(k.algorithm.decrypt.kde.kdeparams.iters.toString(),10),V=a[k.algorithm.decrypt.cipher.algo.join(".")],O=k.algorithm.decrypt.cipher.iv,F=k.subjectPrivateKey,B=parseInt(V.split("-")[1],10)/8,W=o.pbkdf2Sync(R,L,G,B,"sha1"),P=c.createDecipheriv(V,W,O),N=[];return N.push(P.update(F)),N.push(P.final()),u.concat(N)})(v=i.EncryptedPrivateKey.decode(v,"der"),d);case"PRIVATE KEY":switch(b=(x=i.PrivateKey.decode(v,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPrivateKey.decode(x.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:x.algorithm.curve,privateKey:i.ECPrivateKey.decode(x.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return x.algorithm.params.priv_key=i.DSAparam.decode(x.subjectPrivateKey,"der"),{type:"dsa",params:x.algorithm.params};default:throw new Error("unknown key id "+b)}case"RSA PUBLIC KEY":return i.RSAPublicKey.decode(v,"der");case"RSA PRIVATE KEY":return i.RSAPrivateKey.decode(v,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:i.DSAPrivateKey.decode(v,"der")};case"EC PRIVATE KEY":return{curve:(v=i.ECPrivateKey.decode(v,"der")).parameters.value,privateKey:v.privateKey};default:throw new Error("unknown key type "+w)}}n.exports=p,p.signature=i.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(e,n,s){s.pbkdf2=e("./lib/async"),s.pbkdf2Sync=e("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(e,n,s){(function(i){(function(){var a,l,c=e("safe-buffer").Buffer,o=e("./precondition"),u=e("./default-encoding"),p=e("./sync"),h=e("./to-buffer"),d=i.crypto&&i.crypto.subtle,b={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},x=[];function g(){return l||(l=i.process&&i.process.nextTick?i.process.nextTick:i.queueMicrotask?i.queueMicrotask:i.setImmediate?i.setImmediate:i.setTimeout)}function w(v,k,R,L,G){return d.importKey("raw",v,{name:"PBKDF2"},!1,["deriveBits"]).then((function(V){return d.deriveBits({name:"PBKDF2",salt:k,iterations:R,hash:{name:G}},V,L<<3)})).then((function(V){return c.from(V)}))}n.exports=function(v,k,R,L,G,V){typeof G=="function"&&(V=G,G=void 0);var O=b[(G=G||"sha1").toLowerCase()];if(O&&typeof i.Promise=="function"){if(o(R,L),v=h(v,u,"Password"),k=h(k,u,"Salt"),typeof V!="function")throw new Error("No callback provided to pbkdf2");(function(F,B){F.then((function(W){g()((function(){B(null,W)}))}),(function(W){g()((function(){B(W)}))}))})((function(F){if(i.process&&!i.process.browser||!d||!d.importKey||!d.deriveBits)return Promise.resolve(!1);if(x[F]!==void 0)return x[F];var B=w(a=a||c.alloc(8),a,10,128,F).then((function(){return!0})).catch((function(){return!1}));return x[F]=B,B})(O).then((function(F){return F?w(v,k,R,L,O):p(v,k,R,L,G)})),V)}else g()((function(){var F;try{F=p(v,k,R,L,G)}catch(B){return V(B)}V(null,F)}))}}).call(this)}).call(this,typeof mr<"u"?mr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(e,n,s){(function(i,a){(function(){var l;a.process&&a.process.browser?l="utf-8":a.process&&a.process.version?l=parseInt(i.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":l="utf-8",n.exports=l}).call(this)}).call(this,e("_process"),typeof mr<"u"?mr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(e,n,s){var i=Math.pow(2,30)-1;n.exports=function(a,l){if(typeof a!="number")throw new TypeError("Iterations not a number");if(a<0)throw new TypeError("Bad iterations");if(typeof l!="number")throw new TypeError("Key length not a number");if(l<0||l>i||l!=l)throw new TypeError("Bad key length")}},{}],464:[function(e,n,s){var i=e("create-hash/md5"),a=e("ripemd160"),l=e("sha.js"),c=e("safe-buffer").Buffer,o=e("./precondition"),u=e("./default-encoding"),p=e("./to-buffer"),h=c.alloc(128),d={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function b(x,g,w){var v=(function(O){function F(B){return l(O).update(B).digest()}return O==="rmd160"||O==="ripemd160"?function(B){return new a().update(B).digest()}:O==="md5"?i:F})(x),k=x==="sha512"||x==="sha384"?128:64;g.length>k?g=v(g):g.length<k&&(g=c.concat([g,h],k));for(var R=c.allocUnsafe(k+d[x]),L=c.allocUnsafe(k+d[x]),G=0;G<k;G++)R[G]=54^g[G],L[G]=92^g[G];var V=c.allocUnsafe(k+w+4);R.copy(V,0,0,k),this.ipad1=V,this.ipad2=R,this.opad=L,this.alg=x,this.blocksize=k,this.hash=v,this.size=d[x]}b.prototype.run=function(x,g){return x.copy(g,this.blocksize),this.hash(g).copy(this.opad,this.blocksize),this.hash(this.opad)},n.exports=function(x,g,w,v,k){o(w,v);var R=new b(k=k||"sha1",x=p(x,u,"Password"),(g=p(g,u,"Salt")).length),L=c.allocUnsafe(v),G=c.allocUnsafe(g.length+4);g.copy(G,0,0,g.length);for(var V=0,O=d[k],F=Math.ceil(v/O),B=1;B<=F;B++){G.writeUInt32BE(B,g.length);for(var W=R.run(G,R.ipad1),P=W,N=1;N<w;N++){P=R.run(P,R.ipad2);for(var D=0;D<O;D++)W[D]^=P[D]}W.copy(L,V),V+=O}return L}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(e,n,s){var i=e("safe-buffer").Buffer;n.exports=function(a,l,c){if(i.isBuffer(a))return a;if(typeof a=="string")return i.from(a,l);if(ArrayBuffer.isView(a))return i.from(a.buffer);throw new TypeError(c+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(e,n,s){(function(i){(function(){i===void 0||!i.version||i.version.indexOf("v0.")===0||i.version.indexOf("v1.")===0&&i.version.indexOf("v1.8.")!==0?n.exports={nextTick:function(a,l,c,o){if(typeof a!="function")throw new TypeError('"callback" argument must be a function');var u,p,h=arguments.length;switch(h){case 0:case 1:return i.nextTick(a);case 2:return i.nextTick((function(){a.call(null,l)}));case 3:return i.nextTick((function(){a.call(null,l,c)}));case 4:return i.nextTick((function(){a.call(null,l,c,o)}));default:for(u=new Array(h-1),p=0;p<u.length;)u[p++]=arguments[p];return i.nextTick((function(){a.apply(null,u)}))}}}:n.exports=i}).call(this)}).call(this,e("_process"))},{_process:467}],467:[function(e,n,s){var i,a,l=n.exports={};function c(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function u(k){if(i===setTimeout)return setTimeout(k,0);if((i===c||!i)&&setTimeout)return i=setTimeout,setTimeout(k,0);try{return i(k,0)}catch{try{return i.call(null,k,0)}catch{return i.call(this,k,0)}}}(function(){try{i=typeof setTimeout=="function"?setTimeout:c}catch{i=c}try{a=typeof clearTimeout=="function"?clearTimeout:o}catch{a=o}})();var p,h=[],d=!1,b=-1;function x(){d&&p&&(d=!1,p.length?h=p.concat(h):b=-1,h.length&&g())}function g(){if(!d){var k=u(x);d=!0;for(var R=h.length;R;){for(p=h,h=[];++b<R;)p&&p[b].run();b=-1,R=h.length}p=null,d=!1,(function(L){if(a===clearTimeout)return clearTimeout(L);if((a===o||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(L);try{a(L)}catch{try{return a.call(null,L)}catch{return a.call(this,L)}}})(k)}}function w(k,R){this.fun=k,this.array=R}function v(){}l.nextTick=function(k){var R=new Array(arguments.length-1);if(arguments.length>1)for(var L=1;L<arguments.length;L++)R[L-1]=arguments[L];h.push(new w(k,R)),h.length!==1||d||u(g)},w.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=v,l.addListener=v,l.once=v,l.off=v,l.removeListener=v,l.removeAllListeners=v,l.emit=v,l.prependListener=v,l.prependOnceListener=v,l.listeners=function(k){return[]},l.binding=function(k){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(k){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},{}],468:[function(e,n,s){s.publicEncrypt=e("./publicEncrypt"),s.privateDecrypt=e("./privateDecrypt"),s.privateEncrypt=function(i,a){return s.publicEncrypt(i,a,!0)},s.publicDecrypt=function(i,a){return s.privateDecrypt(i,a,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(e,n,s){var i=e("create-hash"),a=e("safe-buffer").Buffer;function l(c){var o=a.allocUnsafe(4);return o.writeUInt32BE(c,0),o}n.exports=function(c,o){for(var u,p=a.alloc(0),h=0;p.length<o;)u=l(h++),p=a.concat([p,i("sha1").update(c).update(u).digest()]);return p.slice(0,o)}},{"create-hash":386,"safe-buffer":494}],470:[function(e,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],471:[function(e,n,s){var i=e("parse-asn1"),a=e("./mgf"),l=e("./xor"),c=e("bn.js"),o=e("browserify-rsa"),u=e("create-hash"),p=e("./withPublic"),h=e("safe-buffer").Buffer;n.exports=function(d,b,x){var g;g=d.padding?d.padding:x?1:4;var w,v=i(d),k=v.modulus.byteLength();if(b.length>k||new c(b).cmp(v.modulus)>=0)throw new Error("decryption error");w=x?p(new c(b),v):o(b,v);var R=h.alloc(k-w.length);if(w=h.concat([R,w],k),g===4)return(function(L,G){var V=L.modulus.byteLength(),O=u("sha1").update(h.alloc(0)).digest(),F=O.length;if(G[0]!==0)throw new Error("decryption error");var B=G.slice(1,F+1),W=G.slice(F+1),P=l(B,a(W,F)),N=l(W,a(P,V-F-1));if((function(C,S){C=h.from(C),S=h.from(S);var T=0,A=C.length;C.length!==S.length&&(T++,A=Math.min(C.length,S.length));for(var E=-1;++E<A;)T+=C[E]^S[E];return T})(O,N.slice(0,F)))throw new Error("decryption error");for(var D=F;N[D]===0;)D++;if(N[D++]!==1)throw new Error("decryption error");return N.slice(D)})(v,w);if(g===1)return(function(L,G,V){for(var O=G.slice(0,2),F=2,B=0;G[F++]!==0;)if(F>=G.length){B++;break}var W=G.slice(2,F-1);if((O.toString("hex")!=="0002"&&!V||O.toString("hex")!=="0001"&&V)&&B++,W.length<8&&B++,B)throw new Error("decryption error");return G.slice(F)})(0,w,x);if(g===3)return w;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(e,n,s){var i=e("parse-asn1"),a=e("randombytes"),l=e("create-hash"),c=e("./mgf"),o=e("./xor"),u=e("bn.js"),p=e("./withPublic"),h=e("browserify-rsa"),d=e("safe-buffer").Buffer;n.exports=function(b,x,g){var w;w=b.padding?b.padding:g?1:4;var v,k=i(b);if(w===4)v=(function(R,L){var G=R.modulus.byteLength(),V=L.length,O=l("sha1").update(d.alloc(0)).digest(),F=O.length,B=2*F;if(V>G-B-2)throw new Error("message too long");var W=d.alloc(G-V-B-2),P=G-F-1,N=a(F),D=o(d.concat([O,W,d.alloc(1,1),L],P),c(N,P)),C=o(N,c(D,F));return new u(d.concat([d.alloc(1),C,D],G))})(k,x);else if(w===1)v=(function(R,L,G){var V,O=L.length,F=R.modulus.byteLength();if(O>F-11)throw new Error("message too long");return V=G?d.alloc(F-O-3,255):(function(B){for(var W,P=d.allocUnsafe(B),N=0,D=a(2*B),C=0;N<B;)C===D.length&&(D=a(2*B),C=0),(W=D[C++])&&(P[N++]=W);return P})(F-O-3),new u(d.concat([d.from([0,G?1:2]),V,d.alloc(1),L],F))})(k,x,g);else{if(w!==3)throw new Error("unknown padding");if((v=new u(x)).cmp(k.modulus)>=0)throw new Error("data too long for modulus")}return g?h(v,k):p(v,k)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(e,n,s){var i=e("bn.js"),a=e("safe-buffer").Buffer;n.exports=function(l,c){return a.from(l.toRed(i.mont(c.modulus)).redPow(new i(c.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(e,n,s){n.exports=function(i,a){for(var l=i.length,c=-1;++c<l;)i[c]^=a[c];return i}},{}],475:[function(e,n,s){(function(i,a){(function(){var l=e("safe-buffer").Buffer,c=a.crypto||a.msCrypto;c&&c.getRandomValues?n.exports=function(o,u){if(o>4294967295)throw new RangeError("requested too many random bytes");var p=l.allocUnsafe(o);if(o>0)if(o>65536)for(var h=0;h<o;h+=65536)c.getRandomValues(p.slice(h,h+65536));else c.getRandomValues(p);return typeof u=="function"?i.nextTick((function(){u(null,p)})):p}:n.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,e("_process"),typeof mr<"u"?mr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(e,n,s){(function(i,a){(function(){function l(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var c=e("safe-buffer"),o=e("randombytes"),u=c.Buffer,p=c.kMaxLength,h=a.crypto||a.msCrypto,d=Math.pow(2,32)-1;function b(w,v){if(typeof w!="number"||w!=w)throw new TypeError("offset must be a number");if(w>d||w<0)throw new TypeError("offset must be a uint32");if(w>p||w>v)throw new RangeError("offset out of range")}function x(w,v,k){if(typeof w!="number"||w!=w)throw new TypeError("size must be a number");if(w>d||w<0)throw new TypeError("size must be a uint32");if(w+v>k||w>p)throw new RangeError("buffer too small")}function g(w,v,k,R){if(i.browser){var L=w.buffer,G=new Uint8Array(L,v,k);return h.getRandomValues(G),R?void i.nextTick((function(){R(null,w)})):w}if(!R)return o(k).copy(w,v),w;o(k,(function(V,O){if(V)return R(V);O.copy(w,v),R(null,w)}))}h&&h.getRandomValues||!i.browser?(s.randomFill=function(w,v,k,R){if(!(u.isBuffer(w)||w instanceof a.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof v=="function")R=v,v=0,k=w.length;else if(typeof k=="function")R=k,k=w.length-v;else if(typeof R!="function")throw new TypeError('"cb" argument must be a function');return b(v,w.length),x(k,v,w.length),g(w,v,k,R)},s.randomFillSync=function(w,v,k){if(v===void 0&&(v=0),!(u.isBuffer(w)||w instanceof a.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return b(v,w.length),k===void 0&&(k=w.length-v),x(k,v,w.length),g(w,v,k)}):(s.randomFill=l,s.randomFillSync=l)}).call(this)}).call(this,e("_process"),typeof mr<"u"?mr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(e,n,s){var i={};function a(c,o,u){u||(u=Error);var p=(function(h){var d,b;function x(g,w,v){return h.call(this,(function(k,R,L){return typeof o=="string"?o:o(k,R,L)})(g,w,v))||this}return b=h,(d=x).prototype=Object.create(b.prototype),d.prototype.constructor=d,d.__proto__=b,x})(u);p.prototype.name=u.name,p.prototype.code=c,i[c]=p}function l(c,o){if(Array.isArray(c)){var u=c.length;return c=c.map((function(p){return String(p)})),u>2?"one of ".concat(o," ").concat(c.slice(0,u-1).join(", "),", or ")+c[u-1]:u===2?"one of ".concat(o," ").concat(c[0]," or ").concat(c[1]):"of ".concat(o," ").concat(c[0])}return"of ".concat(o," ").concat(String(c))}a("ERR_INVALID_OPT_VALUE",(function(c,o){return'The value "'+o+'" is invalid for option "'+c+'"'}),TypeError),a("ERR_INVALID_ARG_TYPE",(function(c,o,u){var p,h,d;if(typeof o=="string"&&(h="not ",o.substr(0,h.length)===h)?(p="must not be",o=o.replace(/^not /,"")):p="must be",(function(x,g,w){return(w===void 0||w>x.length)&&(w=x.length),x.substring(w-g.length,w)===g})(c," argument"))d="The ".concat(c," ").concat(p," ").concat(l(o,"type"));else{var b=(function(x,g,w){return typeof w!="number"&&(w=0),!(w+g.length>x.length)&&x.indexOf(g,w)!==-1})(c,".")?"property":"argument";d='The "'.concat(c,'" ').concat(b," ").concat(p," ").concat(l(o,"type"))}return d+=". Received type ".concat(typeof u)}),TypeError),a("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),a("ERR_METHOD_NOT_IMPLEMENTED",(function(c){return"The "+c+" method is not implemented"})),a("ERR_STREAM_PREMATURE_CLOSE","Premature close"),a("ERR_STREAM_DESTROYED",(function(c){return"Cannot call "+c+" after a stream was destroyed"})),a("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),a("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),a("ERR_STREAM_WRITE_AFTER_END","write after end"),a("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),a("ERR_UNKNOWN_ENCODING",(function(c){return"Unknown encoding: "+c}),TypeError),a("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),n.exports.codes=i},{}],478:[function(e,n,s){(function(i){(function(){var a=Object.keys||function(x){var g=[];for(var w in x)g.push(w);return g};n.exports=h;var l=e("./_stream_readable"),c=e("./_stream_writable");e("inherits")(h,l);for(var o=a(c.prototype),u=0;u<o.length;u++){var p=o[u];h.prototype[p]||(h.prototype[p]=c.prototype[p])}function h(x){if(!(this instanceof h))return new h(x);l.call(this,x),c.call(this,x),this.allowHalfOpen=!0,x&&(x.readable===!1&&(this.readable=!1),x.writable===!1&&(this.writable=!1),x.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",d)))}function d(){this._writableState.ended||i.nextTick(b,this)}function b(x){x.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(h.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(x){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=x,this._writableState.destroyed=x)}})}).call(this)}).call(this,e("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(e,n,s){n.exports=a;var i=e("./_stream_transform");function a(l){if(!(this instanceof a))return new a(l);i.call(this,l)}e("inherits")(a,i),a.prototype._transform=function(l,c,o){o(null,l)}},{"./_stream_transform":481,inherits:440}],480:[function(e,n,s){(function(i,a){(function(){var l;n.exports=P,P.ReadableState=W,e("events").EventEmitter;var c=function(H,z){return H.listeners(z).length},o=e("./internal/streams/stream"),u=e("buffer").Buffer,p=(a!==void 0?a:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},h,d=e("util");h=d&&d.debuglog?d.debuglog("stream"):function(){};var b,x,g,w=e("./internal/streams/buffer_list"),v=e("./internal/streams/destroy"),k=e("./internal/streams/state").getHighWaterMark,R=e("../errors").codes,L=R.ERR_INVALID_ARG_TYPE,G=R.ERR_STREAM_PUSH_AFTER_EOF,V=R.ERR_METHOD_NOT_IMPLEMENTED,O=R.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(P,o);var F=v.errorOrDestroy,B=["error","close","destroy","pause","resume"];function W(H,z,Z){l=l||e("./_stream_duplex"),H=H||{},typeof Z!="boolean"&&(Z=z instanceof l),this.objectMode=!!H.objectMode,Z&&(this.objectMode=this.objectMode||!!H.readableObjectMode),this.highWaterMark=k(this,H,"readableHighWaterMark",Z),this.buffer=new w,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=H.emitClose!==!1,this.autoDestroy=!!H.autoDestroy,this.destroyed=!1,this.defaultEncoding=H.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,H.encoding&&(b||(b=e("string_decoder/").StringDecoder),this.decoder=new b(H.encoding),this.encoding=H.encoding)}function P(H){if(l=l||e("./_stream_duplex"),!(this instanceof P))return new P(H);var z=this instanceof l;this._readableState=new W(H,this,z),this.readable=!0,H&&(typeof H.read=="function"&&(this._read=H.read),typeof H.destroy=="function"&&(this._destroy=H.destroy)),o.call(this)}function N(H,z,Z,ae,re){h("readableAddChunk",z);var le,de=H._readableState;if(z===null)de.reading=!1,(function(ve,ge){if(h("onEofChunk"),!ge.ended){if(ge.decoder){var se=ge.decoder.end();se&&se.length&&(ge.buffer.push(se),ge.length+=ge.objectMode?1:se.length)}ge.ended=!0,ge.sync?S(ve):(ge.needReadable=!1,ge.emittedReadable||(ge.emittedReadable=!0,T(ve)))}})(H,de);else if(re||(le=(function(ve,ge){var se;xe=ge,u.isBuffer(xe)||xe instanceof p||typeof ge=="string"||ge===void 0||ve.objectMode||(se=new L("chunk",["string","Buffer","Uint8Array"],ge));var xe;return se})(de,z)),le)F(H,le);else if(de.objectMode||z&&z.length>0)if(typeof z=="string"||de.objectMode||Object.getPrototypeOf(z)===u.prototype||(z=(function(ve){return u.from(ve)})(z)),ae)de.endEmitted?F(H,new O):D(H,de,z,!0);else if(de.ended)F(H,new G);else{if(de.destroyed)return!1;de.reading=!1,de.decoder&&!Z?(z=de.decoder.write(z),de.objectMode||z.length!==0?D(H,de,z,!1):A(H,de)):D(H,de,z,!1)}else ae||(de.reading=!1,A(H,de));return!de.ended&&(de.length<de.highWaterMark||de.length===0)}function D(H,z,Z,ae){z.flowing&&z.length===0&&!z.sync?(z.awaitDrain=0,H.emit("data",Z)):(z.length+=z.objectMode?1:Z.length,ae?z.buffer.unshift(Z):z.buffer.push(Z),z.needReadable&&S(H)),A(H,z)}Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(H){this._readableState&&(this._readableState.destroyed=H)}}),P.prototype.destroy=v.destroy,P.prototype._undestroy=v.undestroy,P.prototype._destroy=function(H,z){z(H)},P.prototype.push=function(H,z){var Z,ae=this._readableState;return ae.objectMode?Z=!0:typeof H=="string"&&((z=z||ae.defaultEncoding)!==ae.encoding&&(H=u.from(H,z),z=""),Z=!0),N(this,H,z,!1,Z)},P.prototype.unshift=function(H){return N(this,H,null,!0,!1)},P.prototype.isPaused=function(){return this._readableState.flowing===!1},P.prototype.setEncoding=function(H){b||(b=e("string_decoder/").StringDecoder);var z=new b(H);this._readableState.decoder=z,this._readableState.encoding=this._readableState.decoder.encoding;for(var Z=this._readableState.buffer.head,ae="";Z!==null;)ae+=z.write(Z.data),Z=Z.next;return this._readableState.buffer.clear(),ae!==""&&this._readableState.buffer.push(ae),this._readableState.length=ae.length,this};function C(H,z){return H<=0||z.length===0&&z.ended?0:z.objectMode?1:H!=H?z.flowing&&z.length?z.buffer.head.data.length:z.length:(H>z.highWaterMark&&(z.highWaterMark=(function(Z){return Z>=1073741824?Z=1073741824:(Z--,Z|=Z>>>1,Z|=Z>>>2,Z|=Z>>>4,Z|=Z>>>8,Z|=Z>>>16,Z++),Z})(H)),H<=z.length?H:z.ended?z.length:(z.needReadable=!0,0))}function S(H){var z=H._readableState;h("emitReadable",z.needReadable,z.emittedReadable),z.needReadable=!1,z.emittedReadable||(h("emitReadable",z.flowing),z.emittedReadable=!0,i.nextTick(T,H))}function T(H){var z=H._readableState;h("emitReadable_",z.destroyed,z.length,z.ended),z.destroyed||!z.length&&!z.ended||(H.emit("readable"),z.emittedReadable=!1),z.needReadable=!z.flowing&&!z.ended&&z.length<=z.highWaterMark,Q(H)}function A(H,z){z.readingMore||(z.readingMore=!0,i.nextTick(E,H,z))}function E(H,z){for(;!z.reading&&!z.ended&&(z.length<z.highWaterMark||z.flowing&&z.length===0);){var Z=z.length;if(h("maybeReadMore read 0"),H.read(0),Z===z.length)break}z.readingMore=!1}function j(H){var z=H._readableState;z.readableListening=H.listenerCount("readable")>0,z.resumeScheduled&&!z.paused?z.flowing=!0:H.listenerCount("data")>0&&H.resume()}function U(H){h("readable nexttick read 0"),H.read(0)}function I(H,z){h("resume",z.reading),z.reading||H.read(0),z.resumeScheduled=!1,H.emit("resume"),Q(H),z.flowing&&!z.reading&&H.read(0)}function Q(H){var z=H._readableState;for(h("flow",z.flowing);z.flowing&&H.read()!==null;);}function Y(H,z){return z.length===0?null:(z.objectMode?Z=z.buffer.shift():!H||H>=z.length?(Z=z.decoder?z.buffer.join(""):z.buffer.length===1?z.buffer.first():z.buffer.concat(z.length),z.buffer.clear()):Z=z.buffer.consume(H,z.decoder),Z);var Z}function ee(H){var z=H._readableState;h("endReadable",z.endEmitted),z.endEmitted||(z.ended=!0,i.nextTick(q,z,H))}function q(H,z){if(h("endReadableNT",H.endEmitted,H.length),!H.endEmitted&&H.length===0&&(H.endEmitted=!0,z.readable=!1,z.emit("end"),H.autoDestroy)){var Z=z._writableState;(!Z||Z.autoDestroy&&Z.finished)&&z.destroy()}}function te(H,z){for(var Z=0,ae=H.length;Z<ae;Z++)if(H[Z]===z)return Z;return-1}P.prototype.read=function(H){h("read",H),H=parseInt(H,10);var z=this._readableState,Z=H;if(H!==0&&(z.emittedReadable=!1),H===0&&z.needReadable&&((z.highWaterMark!==0?z.length>=z.highWaterMark:z.length>0)||z.ended))return h("read: emitReadable",z.length,z.ended),z.length===0&&z.ended?ee(this):S(this),null;if((H=C(H,z))===0&&z.ended)return z.length===0&&ee(this),null;var ae,re=z.needReadable;return h("need readable",re),(z.length===0||z.length-H<z.highWaterMark)&&h("length less than watermark",re=!0),z.ended||z.reading?h("reading or ended",re=!1):re&&(h("do read"),z.reading=!0,z.sync=!0,z.length===0&&(z.needReadable=!0),this._read(z.highWaterMark),z.sync=!1,z.reading||(H=C(Z,z))),(ae=H>0?Y(H,z):null)===null?(z.needReadable=z.length<=z.highWaterMark,H=0):(z.length-=H,z.awaitDrain=0),z.length===0&&(z.ended||(z.needReadable=!0),Z!==H&&z.ended&&ee(this)),ae!==null&&this.emit("data",ae),ae},P.prototype._read=function(H){F(this,new V("_read()"))},P.prototype.pipe=function(H,z){var Z=this,ae=this._readableState;switch(ae.pipesCount){case 0:ae.pipes=H;break;case 1:ae.pipes=[ae.pipes,H];break;default:ae.pipes.push(H)}ae.pipesCount+=1,h("pipe count=%d opts=%j",ae.pipesCount,z);var re=(!z||z.end!==!1)&&H!==i.stdout&&H!==i.stderr?de:ke;function le(Re,$e){h("onunpipe"),Re===Z&&$e&&$e.hasUnpiped===!1&&($e.hasUnpiped=!0,h("cleanup"),H.removeListener("close",pe),H.removeListener("finish",Te),H.removeListener("drain",ve),H.removeListener("error",xe),H.removeListener("unpipe",le),Z.removeListener("end",de),Z.removeListener("end",ke),Z.removeListener("data",se),ge=!0,!ae.awaitDrain||H._writableState&&!H._writableState.needDrain||ve())}function de(){h("onend"),H.end()}ae.endEmitted?i.nextTick(re):Z.once("end",re),H.on("unpipe",le);var ve=(function(Re){return function(){var $e=Re._readableState;h("pipeOnDrain",$e.awaitDrain),$e.awaitDrain&&$e.awaitDrain--,$e.awaitDrain===0&&c(Re,"data")&&($e.flowing=!0,Q(Re))}})(Z);H.on("drain",ve);var ge=!1;function se(Re){h("ondata");var $e=H.write(Re);h("dest.write",$e),$e===!1&&((ae.pipesCount===1&&ae.pipes===H||ae.pipesCount>1&&te(ae.pipes,H)!==-1)&&!ge&&(h("false write response, pause",ae.awaitDrain),ae.awaitDrain++),Z.pause())}function xe(Re){h("onerror",Re),ke(),H.removeListener("error",xe),c(H,"error")===0&&F(H,Re)}function pe(){H.removeListener("finish",Te),ke()}function Te(){h("onfinish"),H.removeListener("close",pe),ke()}function ke(){h("unpipe"),Z.unpipe(H)}return Z.on("data",se),(function(Re,$e,Pe){if(typeof Re.prependListener=="function")return Re.prependListener($e,Pe);Re._events&&Re._events[$e]?Array.isArray(Re._events[$e])?Re._events[$e].unshift(Pe):Re._events[$e]=[Pe,Re._events[$e]]:Re.on($e,Pe)})(H,"error",xe),H.once("close",pe),H.once("finish",Te),H.emit("pipe",Z),ae.flowing||(h("pipe resume"),Z.resume()),H},P.prototype.unpipe=function(H){var z=this._readableState,Z={hasUnpiped:!1};if(z.pipesCount===0)return this;if(z.pipesCount===1)return H&&H!==z.pipes||(H||(H=z.pipes),z.pipes=null,z.pipesCount=0,z.flowing=!1,H&&H.emit("unpipe",this,Z)),this;if(!H){var ae=z.pipes,re=z.pipesCount;z.pipes=null,z.pipesCount=0,z.flowing=!1;for(var le=0;le<re;le++)ae[le].emit("unpipe",this,{hasUnpiped:!1});return this}var de=te(z.pipes,H);return de===-1||(z.pipes.splice(de,1),z.pipesCount-=1,z.pipesCount===1&&(z.pipes=z.pipes[0]),H.emit("unpipe",this,Z)),this},P.prototype.on=function(H,z){var Z=o.prototype.on.call(this,H,z),ae=this._readableState;return H==="data"?(ae.readableListening=this.listenerCount("readable")>0,ae.flowing!==!1&&this.resume()):H==="readable"&&(ae.endEmitted||ae.readableListening||(ae.readableListening=ae.needReadable=!0,ae.flowing=!1,ae.emittedReadable=!1,h("on readable",ae.length,ae.reading),ae.length?S(this):ae.reading||i.nextTick(U,this))),Z},P.prototype.addListener=P.prototype.on,P.prototype.removeListener=function(H,z){var Z=o.prototype.removeListener.call(this,H,z);return H==="readable"&&i.nextTick(j,this),Z},P.prototype.removeAllListeners=function(H){var z=o.prototype.removeAllListeners.apply(this,arguments);return H!=="readable"&&H!==void 0||i.nextTick(j,this),z},P.prototype.resume=function(){var H=this._readableState;return H.flowing||(h("resume"),H.flowing=!H.readableListening,(function(z,Z){Z.resumeScheduled||(Z.resumeScheduled=!0,i.nextTick(I,z,Z))})(this,H)),H.paused=!1,this},P.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},P.prototype.wrap=function(H){var z=this,Z=this._readableState,ae=!1;for(var re in H.on("end",(function(){if(h("wrapped end"),Z.decoder&&!Z.ended){var de=Z.decoder.end();de&&de.length&&z.push(de)}z.push(null)})),H.on("data",(function(de){h("wrapped data"),Z.decoder&&(de=Z.decoder.write(de)),Z.objectMode&&de==null||(Z.objectMode||de&&de.length)&&(z.push(de)||(ae=!0,H.pause()))})),H)this[re]===void 0&&typeof H[re]=="function"&&(this[re]=(function(de){return function(){return H[de].apply(H,arguments)}})(re));for(var le=0;le<B.length;le++)H.on(B[le],this.emit.bind(this,B[le]));return this._read=function(de){h("wrapped _read",de),ae&&(ae=!1,H.resume())},this},typeof Symbol=="function"&&(P.prototype[Symbol.asyncIterator]=function(){return x===void 0&&(x=e("./internal/streams/async_iterator")),x(this)}),Object.defineProperty(P.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(P.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(P.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(H){this._readableState&&(this._readableState.flowing=H)}}),P._fromList=Y,Object.defineProperty(P.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(P.from=function(H,z){return g===void 0&&(g=e("./internal/streams/from")),g(P,H,z)})}).call(this)}).call(this,e("_process"),typeof mr<"u"?mr:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(e,n,s){n.exports=h;var i=e("../errors").codes,a=i.ERR_METHOD_NOT_IMPLEMENTED,l=i.ERR_MULTIPLE_CALLBACK,c=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=i.ERR_TRANSFORM_WITH_LENGTH_0,u=e("./_stream_duplex");function p(x,g){var w=this._transformState;w.transforming=!1;var v=w.writecb;if(v===null)return this.emit("error",new l);w.writechunk=null,w.writecb=null,g!=null&&this.push(g),v(x);var k=this._readableState;k.reading=!1,(k.needReadable||k.length<k.highWaterMark)&&this._read(k.highWaterMark)}function h(x){if(!(this instanceof h))return new h(x);u.call(this,x),this._transformState={afterTransform:p.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,x&&(typeof x.transform=="function"&&(this._transform=x.transform),typeof x.flush=="function"&&(this._flush=x.flush)),this.on("prefinish",d)}function d(){var x=this;typeof this._flush!="function"||this._readableState.destroyed?b(this,null,null):this._flush((function(g,w){b(x,g,w)}))}function b(x,g,w){if(g)return x.emit("error",g);if(w!=null&&x.push(w),x._writableState.length)throw new o;if(x._transformState.transforming)throw new c;return x.push(null)}e("inherits")(h,u),h.prototype.push=function(x,g){return this._transformState.needTransform=!1,u.prototype.push.call(this,x,g)},h.prototype._transform=function(x,g,w){w(new a("_transform()"))},h.prototype._write=function(x,g,w){var v=this._transformState;if(v.writecb=w,v.writechunk=x,v.writeencoding=g,!v.transforming){var k=this._readableState;(v.needTransform||k.needReadable||k.length<k.highWaterMark)&&this._read(k.highWaterMark)}},h.prototype._read=function(x){var g=this._transformState;g.writechunk===null||g.transforming?g.needTransform=!0:(g.transforming=!0,this._transform(g.writechunk,g.writeencoding,g.afterTransform))},h.prototype._destroy=function(x,g){u.prototype._destroy.call(this,x,(function(w){g(w)}))}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(e,n,s){(function(i,a){(function(){function l(E){var j=this;this.next=null,this.entry=null,this.finish=function(){(function(U,I,Q){var Y=U.entry;for(U.entry=null;Y;){var ee=Y.callback;I.pendingcb--,ee(Q),Y=Y.next}I.corkedRequestsFree.next=U})(j,E)}}var c;n.exports=P,P.WritableState=W;var o={deprecate:e("util-deprecate")},u=e("./internal/streams/stream"),p=e("buffer").Buffer,h=(a!==void 0?a:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},d,b=e("./internal/streams/destroy"),x=e("./internal/streams/state").getHighWaterMark,g=e("../errors").codes,w=g.ERR_INVALID_ARG_TYPE,v=g.ERR_METHOD_NOT_IMPLEMENTED,k=g.ERR_MULTIPLE_CALLBACK,R=g.ERR_STREAM_CANNOT_PIPE,L=g.ERR_STREAM_DESTROYED,G=g.ERR_STREAM_NULL_VALUES,V=g.ERR_STREAM_WRITE_AFTER_END,O=g.ERR_UNKNOWN_ENCODING,F=b.errorOrDestroy;function B(){}function W(E,j,U){c=c||e("./_stream_duplex"),E=E||{},typeof U!="boolean"&&(U=j instanceof c),this.objectMode=!!E.objectMode,U&&(this.objectMode=this.objectMode||!!E.writableObjectMode),this.highWaterMark=x(this,E,"writableHighWaterMark",U),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var I=E.decodeStrings===!1;this.decodeStrings=!I,this.defaultEncoding=E.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Q){(function(Y,ee){var q=Y._writableState,te=q.sync,H=q.writecb;if(typeof H!="function")throw new k;if((function(Z){Z.writing=!1,Z.writecb=null,Z.length-=Z.writelen,Z.writelen=0})(q),ee)(function(Z,ae,re,le,de){--ae.pendingcb,re?(i.nextTick(de,le),i.nextTick(A,Z,ae),Z._writableState.errorEmitted=!0,F(Z,le)):(de(le),Z._writableState.errorEmitted=!0,F(Z,le),A(Z,ae))})(Y,q,te,ee,H);else{var z=S(q)||Y.destroyed;z||q.corked||q.bufferProcessing||!q.bufferedRequest||C(Y,q),te?i.nextTick(D,Y,q,z,H):D(Y,q,z,H)}})(j,Q)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=E.emitClose!==!1,this.autoDestroy=!!E.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new l(this)}function P(E){var j=this instanceof(c=c||e("./_stream_duplex"));if(!j&&!d.call(P,this))return new P(E);this._writableState=new W(E,this,j),this.writable=!0,E&&(typeof E.write=="function"&&(this._write=E.write),typeof E.writev=="function"&&(this._writev=E.writev),typeof E.destroy=="function"&&(this._destroy=E.destroy),typeof E.final=="function"&&(this._final=E.final)),u.call(this)}function N(E,j,U,I,Q,Y,ee){j.writelen=I,j.writecb=ee,j.writing=!0,j.sync=!0,j.destroyed?j.onwrite(new L("write")):U?E._writev(Q,j.onwrite):E._write(Q,Y,j.onwrite),j.sync=!1}function D(E,j,U,I){U||(function(Q,Y){Y.length===0&&Y.needDrain&&(Y.needDrain=!1,Q.emit("drain"))})(E,j),j.pendingcb--,I(),A(E,j)}function C(E,j){j.bufferProcessing=!0;var U=j.bufferedRequest;if(E._writev&&U&&U.next){var I=j.bufferedRequestCount,Q=new Array(I),Y=j.corkedRequestsFree;Y.entry=U;for(var ee=0,q=!0;U;)Q[ee]=U,U.isBuf||(q=!1),U=U.next,ee+=1;Q.allBuffers=q,N(E,j,!0,j.length,Q,"",Y.finish),j.pendingcb++,j.lastBufferedRequest=null,Y.next?(j.corkedRequestsFree=Y.next,Y.next=null):j.corkedRequestsFree=new l(j),j.bufferedRequestCount=0}else{for(;U;){var te=U.chunk,H=U.encoding,z=U.callback;if(N(E,j,!1,j.objectMode?1:te.length,te,H,z),U=U.next,j.bufferedRequestCount--,j.writing)break}U===null&&(j.lastBufferedRequest=null)}j.bufferedRequest=U,j.bufferProcessing=!1}function S(E){return E.ending&&E.length===0&&E.bufferedRequest===null&&!E.finished&&!E.writing}function T(E,j){E._final((function(U){j.pendingcb--,U&&F(E,U),j.prefinished=!0,E.emit("prefinish"),A(E,j)}))}function A(E,j){var U=S(j);if(U&&((function(Q,Y){Y.prefinished||Y.finalCalled||(typeof Q._final!="function"||Y.destroyed?(Y.prefinished=!0,Q.emit("prefinish")):(Y.pendingcb++,Y.finalCalled=!0,i.nextTick(T,Q,Y)))})(E,j),j.pendingcb===0&&(j.finished=!0,E.emit("finish"),j.autoDestroy))){var I=E._readableState;(!I||I.autoDestroy&&I.endEmitted)&&E.destroy()}return U}e("inherits")(P,u),W.prototype.getBuffer=function(){for(var E=this.bufferedRequest,j=[];E;)j.push(E),E=E.next;return j},(function(){try{Object.defineProperty(W.prototype,"buffer",{get:o.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(P,Symbol.hasInstance,{value:function(E){return!!d.call(this,E)||this===P&&E&&E._writableState instanceof W}})):d=function(E){return E instanceof this},P.prototype.pipe=function(){F(this,new R)},P.prototype.write=function(E,j,U){var I,Q=this._writableState,Y=!1,ee=!Q.objectMode&&(I=E,p.isBuffer(I)||I instanceof h);return ee&&!p.isBuffer(E)&&(E=(function(q){return p.from(q)})(E)),typeof j=="function"&&(U=j,j=null),ee?j="buffer":j||(j=Q.defaultEncoding),typeof U!="function"&&(U=B),Q.ending?(function(q,te){var H=new V;F(q,H),i.nextTick(te,H)})(this,U):(ee||(function(q,te,H,z){var Z;return H===null?Z=new G:typeof H=="string"||te.objectMode||(Z=new w("chunk",["string","Buffer"],H)),!Z||(F(q,Z),i.nextTick(z,Z),!1)})(this,Q,E,U))&&(Q.pendingcb++,Y=(function(q,te,H,z,Z,ae){if(!H){var re=(function(ge,se,xe){return ge.objectMode||ge.decodeStrings===!1||typeof se!="string"||(se=p.from(se,xe)),se})(te,z,Z);z!==re&&(H=!0,Z="buffer",z=re)}var le=te.objectMode?1:z.length;te.length+=le;var de=te.length<te.highWaterMark;if(de||(te.needDrain=!0),te.writing||te.corked){var ve=te.lastBufferedRequest;te.lastBufferedRequest={chunk:z,encoding:Z,isBuf:H,callback:ae,next:null},ve?ve.next=te.lastBufferedRequest:te.bufferedRequest=te.lastBufferedRequest,te.bufferedRequestCount+=1}else N(q,te,!1,le,z,Z,ae);return de})(this,Q,ee,E,j,U)),Y},P.prototype.cork=function(){this._writableState.corked++},P.prototype.uncork=function(){var E=this._writableState;E.corked&&(E.corked--,E.writing||E.corked||E.bufferProcessing||!E.bufferedRequest||C(this,E))},P.prototype.setDefaultEncoding=function(E){if(typeof E=="string"&&(E=E.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((E+"").toLowerCase())>-1))throw new O(E);return this._writableState.defaultEncoding=E,this},Object.defineProperty(P.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(P.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),P.prototype._write=function(E,j,U){U(new v("_write()"))},P.prototype._writev=null,P.prototype.end=function(E,j,U){var I=this._writableState;return typeof E=="function"?(U=E,E=null,j=null):typeof j=="function"&&(U=j,j=null),E!=null&&this.write(E,j),I.corked&&(I.corked=1,this.uncork()),I.ending||(function(Q,Y,ee){Y.ending=!0,A(Q,Y),ee&&(Y.finished?i.nextTick(ee):Q.once("finish",ee)),Y.ended=!0,Q.writable=!1})(this,I,U),this},Object.defineProperty(P.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(E){this._writableState&&(this._writableState.destroyed=E)}}),P.prototype.destroy=b.destroy,P.prototype._undestroy=b.undestroy,P.prototype._destroy=function(E,j){j(E)}}).call(this)}).call(this,e("_process"),typeof mr<"u"?mr:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(e,n,s){(function(i){(function(){var a;function l(L,G,V){return(G=(function(O){var F=(function(B,W){if(typeof B!="object"||B===null)return B;var P=B[Symbol.toPrimitive];if(P!==void 0){var N=P.call(B,W);if(typeof N!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return(W==="string"?String:Number)(B)})(O,"string");return typeof F=="symbol"?F:String(F)})(G))in L?Object.defineProperty(L,G,{value:V,enumerable:!0,configurable:!0,writable:!0}):L[G]=V,L}var c=e("./end-of-stream"),o=Symbol("lastResolve"),u=Symbol("lastReject"),p=Symbol("error"),h=Symbol("ended"),d=Symbol("lastPromise"),b=Symbol("handlePromise"),x=Symbol("stream");function g(L,G){return{value:L,done:G}}function w(L){var G=L[o];if(G!==null){var V=L[x].read();V!==null&&(L[d]=null,L[o]=null,L[u]=null,G(g(V,!1)))}}function v(L){i.nextTick(w,L)}var k=Object.getPrototypeOf((function(){})),R=Object.setPrototypeOf((l(a={get stream(){return this[x]},next:function(){var L=this,G=this[p];if(G!==null)return Promise.reject(G);if(this[h])return Promise.resolve(g(void 0,!0));if(this[x].destroyed)return new Promise((function(B,W){i.nextTick((function(){L[p]?W(L[p]):B(g(void 0,!0))}))}));var V,O=this[d];if(O)V=new Promise((function(B,W){return function(P,N){B.then((function(){W[h]?P(g(void 0,!0)):W[b](P,N)}),N)}})(O,this));else{var F=this[x].read();if(F!==null)return Promise.resolve(g(F,!1));V=new Promise(this[b])}return this[d]=V,V}},Symbol.asyncIterator,(function(){return this})),l(a,"return",(function(){var L=this;return new Promise((function(G,V){L[x].destroy(null,(function(O){O?V(O):G(g(void 0,!0))}))}))})),a),k);n.exports=function(L){var G,V=Object.create(R,(l(G={},x,{value:L,writable:!0}),l(G,o,{value:null,writable:!0}),l(G,u,{value:null,writable:!0}),l(G,p,{value:null,writable:!0}),l(G,h,{value:L._readableState.endEmitted,writable:!0}),l(G,b,{value:function(O,F){var B=V[x].read();B?(V[d]=null,V[o]=null,V[u]=null,O(g(B,!1))):(V[o]=O,V[u]=F)},writable:!0}),G));return V[d]=null,c(L,(function(O){if(O&&O.code!=="ERR_STREAM_PREMATURE_CLOSE"){var F=V[u];return F!==null&&(V[d]=null,V[o]=null,V[u]=null,F(O)),void(V[p]=O)}var B=V[o];B!==null&&(V[d]=null,V[o]=null,V[u]=null,B(g(void 0,!0))),V[h]=!0})),L.on("readable",v.bind(null,V)),V}}).call(this)}).call(this,e("_process"))},{"./end-of-stream":486,_process:467}],484:[function(e,n,s){function i(d,b){var x=Object.keys(d);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(d);b&&(g=g.filter((function(w){return Object.getOwnPropertyDescriptor(d,w).enumerable}))),x.push.apply(x,g)}return x}function a(d){for(var b=1;b<arguments.length;b++){var x=arguments[b]!=null?arguments[b]:{};b%2?i(Object(x),!0).forEach((function(g){l(d,g,x[g])})):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(x)):i(Object(x)).forEach((function(g){Object.defineProperty(d,g,Object.getOwnPropertyDescriptor(x,g))}))}return d}function l(d,b,x){return(b=o(b))in d?Object.defineProperty(d,b,{value:x,enumerable:!0,configurable:!0,writable:!0}):d[b]=x,d}function c(d,b){for(var x=0;x<b.length;x++){var g=b[x];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(d,o(g.key),g)}}function o(d){var b=(function(x,g){if(typeof x!="object"||x===null)return x;var w=x[Symbol.toPrimitive];if(w!==void 0){var v=w.call(x,g);if(typeof v!="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return(g==="string"?String:Number)(x)})(d,"string");return typeof b=="symbol"?b:String(b)}var u=e("buffer").Buffer,p=e("util").inspect,h=p&&p.custom||"inspect";n.exports=(function(){function d(){(function(g,w){if(!(g instanceof w))throw new TypeError("Cannot call a class as a function")})(this,d),this.head=null,this.tail=null,this.length=0}var b,x;return b=d,(x=[{key:"push",value:function(g){var w={data:g,next:null};this.length>0?this.tail.next=w:this.head=w,this.tail=w,++this.length}},{key:"unshift",value:function(g){var w={data:g,next:this.head};this.length===0&&(this.tail=w),this.head=w,++this.length}},{key:"shift",value:function(){if(this.length!==0){var g=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,g}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(g){if(this.length===0)return"";for(var w=this.head,v=""+w.data;w=w.next;)v+=g+w.data;return v}},{key:"concat",value:function(g){if(this.length===0)return u.alloc(0);for(var w,v,k,R=u.allocUnsafe(g>>>0),L=this.head,G=0;L;)w=L.data,v=R,k=G,u.prototype.copy.call(w,v,k),G+=L.data.length,L=L.next;return R}},{key:"consume",value:function(g,w){var v;return g<this.head.data.length?(v=this.head.data.slice(0,g),this.head.data=this.head.data.slice(g)):v=g===this.head.data.length?this.shift():w?this._getString(g):this._getBuffer(g),v}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(g){var w=this.head,v=1,k=w.data;for(g-=k.length;w=w.next;){var R=w.data,L=g>R.length?R.length:g;if(L===R.length?k+=R:k+=R.slice(0,g),(g-=L)==0){L===R.length?(++v,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=R.slice(L));break}++v}return this.length-=v,k}},{key:"_getBuffer",value:function(g){var w=u.allocUnsafe(g),v=this.head,k=1;for(v.data.copy(w),g-=v.data.length;v=v.next;){var R=v.data,L=g>R.length?R.length:g;if(R.copy(w,w.length-g,0,L),(g-=L)==0){L===R.length?(++k,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=R.slice(L));break}++k}return this.length-=k,w}},{key:h,value:function(g,w){return p(this,a(a({},w),{},{depth:0,customInspect:!1}))}}])&&c(b.prototype,x),Object.defineProperty(b,"prototype",{writable:!1}),d})()},{buffer:220,util:188}],485:[function(e,n,s){(function(i){(function(){function a(o,u){c(o,u),l(o)}function l(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}function c(o,u){o.emit("error",u)}n.exports={destroy:function(o,u){var p=this,h=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return h||d?(u?u(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(c,this,o)):i.nextTick(c,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,(function(b){!u&&b?p._writableState?p._writableState.errorEmitted?i.nextTick(l,p):(p._writableState.errorEmitted=!0,i.nextTick(a,p,b)):i.nextTick(a,p,b):u?(i.nextTick(l,p),u(b)):i.nextTick(l,p)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(o,u){var p=o._readableState,h=o._writableState;p&&p.autoDestroy||h&&h.autoDestroy?o.destroy(u):o.emit("error",u)}}}).call(this)}).call(this,e("_process"))},{_process:467}],486:[function(e,n,s){var i=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function a(){}n.exports=function l(c,o,u){if(typeof o=="function")return l(c,null,o);o||(o={}),u=(function(L){var G=!1;return function(){if(!G){G=!0;for(var V=arguments.length,O=new Array(V),F=0;F<V;F++)O[F]=arguments[F];L.apply(this,O)}}})(u||a);var p=o.readable||o.readable!==!1&&c.readable,h=o.writable||o.writable!==!1&&c.writable,d=function(){c.writable||x()},b=c._writableState&&c._writableState.finished,x=function(){h=!1,b=!0,p||u.call(c)},g=c._readableState&&c._readableState.endEmitted,w=function(){p=!1,g=!0,h||u.call(c)},v=function(L){u.call(c,L)},k=function(){var L;return p&&!g?(c._readableState&&c._readableState.ended||(L=new i),u.call(c,L)):h&&!b?(c._writableState&&c._writableState.ended||(L=new i),u.call(c,L)):void 0},R=function(){c.req.on("finish",x)};return(function(L){return L.setHeader&&typeof L.abort=="function"})(c)?(c.on("complete",x),c.on("abort",k),c.req?R():c.on("request",R)):h&&!c._writableState&&(c.on("end",d),c.on("close",d)),c.on("end",w),c.on("finish",x),o.error!==!1&&c.on("error",v),c.on("close",k),function(){c.removeListener("complete",x),c.removeListener("abort",k),c.removeListener("request",R),c.req&&c.req.removeListener("finish",x),c.removeListener("end",d),c.removeListener("close",d),c.removeListener("finish",x),c.removeListener("end",w),c.removeListener("error",v),c.removeListener("close",k)}}},{"../../../errors":477}],487:[function(e,n,s){n.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(e,n,s){var i,a=e("../../../errors").codes,l=a.ERR_MISSING_ARGS,c=a.ERR_STREAM_DESTROYED;function o(b){if(b)throw b}function u(b,x,g,w){w=(function(R){var L=!1;return function(){L||(L=!0,R.apply(void 0,arguments))}})(w);var v=!1;b.on("close",(function(){v=!0})),i===void 0&&(i=e("./end-of-stream")),i(b,{readable:x,writable:g},(function(R){if(R)return w(R);v=!0,w()}));var k=!1;return function(R){if(!v&&!k)return k=!0,(function(L){return L.setHeader&&typeof L.abort=="function"})(b)?b.abort():typeof b.destroy=="function"?b.destroy():void w(R||new c("pipe"))}}function p(b){b()}function h(b,x){return b.pipe(x)}function d(b){return b.length?typeof b[b.length-1]!="function"?o:b.pop():o}n.exports=function(){for(var b=arguments.length,x=new Array(b),g=0;g<b;g++)x[g]=arguments[g];var w,v=d(x);if(Array.isArray(x[0])&&(x=x[0]),x.length<2)throw new l("streams");var k=x.map((function(R,L){var G=L<x.length-1;return u(R,G,L>0,(function(V){w||(w=V),V&&k.forEach(p),G||(k.forEach(p),v(w))}))}));return x.reduce(h)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(e,n,s){var i=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;n.exports={getHighWaterMark:function(a,l,c,o){var u=(function(p,h,d){return p.highWaterMark!=null?p.highWaterMark:h?p[d]:null})(l,o,c);if(u!=null){if(!isFinite(u)||Math.floor(u)!==u||u<0)throw new i(o?c:"highWaterMark",u);return Math.floor(u)}return a.objectMode?16:16384}}},{"../../../errors":477}],490:[function(e,n,s){n.exports=e("events").EventEmitter},{events:422}],491:[function(e,n,s){(s=n.exports=e("./lib/_stream_readable.js")).Stream=s,s.Readable=s,s.Writable=e("./lib/_stream_writable.js"),s.Duplex=e("./lib/_stream_duplex.js"),s.Transform=e("./lib/_stream_transform.js"),s.PassThrough=e("./lib/_stream_passthrough.js"),s.finished=e("./lib/internal/streams/end-of-stream.js"),s.pipeline=e("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(e,n,s){var i=(function(a){var l=Object.prototype,c=l.hasOwnProperty,o=Object.defineProperty||function(A,E,j){A[E]=j.value},u=typeof Symbol=="function"?Symbol:{},p=u.iterator||"@@iterator",h=u.asyncIterator||"@@asyncIterator",d=u.toStringTag||"@@toStringTag";function b(A,E,j){return Object.defineProperty(A,E,{value:j,enumerable:!0,configurable:!0,writable:!0}),A[E]}try{b({},"")}catch{b=function(E,j,U){return E[j]=U}}function x(A,E,j,U){var I=E&&E.prototype instanceof v?E:v,Q=Object.create(I.prototype),Y=new C(U||[]);return o(Q,"_invoke",{value:W(A,j,Y)}),Q}function g(A,E,j){try{return{type:"normal",arg:A.call(E,j)}}catch(U){return{type:"throw",arg:U}}}a.wrap=x;var w={};function v(){}function k(){}function R(){}var L={};b(L,p,(function(){return this}));var G=Object.getPrototypeOf,V=G&&G(G(S([])));V&&V!==l&&c.call(V,p)&&(L=V);var O=R.prototype=v.prototype=Object.create(L);function F(A){["next","throw","return"].forEach((function(E){b(A,E,(function(j){return this._invoke(E,j)}))}))}function B(A,E){var j;o(this,"_invoke",{value:function(U,I){function Q(){return new E((function(Y,ee){(function q(te,H,z,Z){var ae=g(A[te],A,H);if(ae.type!=="throw"){var re=ae.arg,le=re.value;return le&&typeof le=="object"&&c.call(le,"__await")?E.resolve(le.__await).then((function(de){q("next",de,z,Z)}),(function(de){q("throw",de,z,Z)})):E.resolve(le).then((function(de){re.value=de,z(re)}),(function(de){return q("throw",de,z,Z)}))}Z(ae.arg)})(U,I,Y,ee)}))}return j=j?j.then(Q,Q):Q()}})}function W(A,E,j){var U="suspendedStart";return function(I,Q){if(U==="executing")throw new Error("Generator is already running");if(U==="completed"){if(I==="throw")throw Q;return T()}for(j.method=I,j.arg=Q;;){var Y=j.delegate;if(Y){var ee=P(Y,j);if(ee){if(ee===w)continue;return ee}}if(j.method==="next")j.sent=j._sent=j.arg;else if(j.method==="throw"){if(U==="suspendedStart")throw U="completed",j.arg;j.dispatchException(j.arg)}else j.method==="return"&&j.abrupt("return",j.arg);U="executing";var q=g(A,E,j);if(q.type==="normal"){if(U=j.done?"completed":"suspendedYield",q.arg===w)continue;return{value:q.arg,done:j.done}}q.type==="throw"&&(U="completed",j.method="throw",j.arg=q.arg)}}}function P(A,E){var j=E.method,U=A.iterator[j];if(U===void 0)return E.delegate=null,j==="throw"&&A.iterator.return&&(E.method="return",E.arg=void 0,P(A,E),E.method==="throw")||j!=="return"&&(E.method="throw",E.arg=new TypeError("The iterator does not provide a '"+j+"' method")),w;var I=g(U,A.iterator,E.arg);if(I.type==="throw")return E.method="throw",E.arg=I.arg,E.delegate=null,w;var Q=I.arg;return Q?Q.done?(E[A.resultName]=Q.value,E.next=A.nextLoc,E.method!=="return"&&(E.method="next",E.arg=void 0),E.delegate=null,w):Q:(E.method="throw",E.arg=new TypeError("iterator result is not an object"),E.delegate=null,w)}function N(A){var E={tryLoc:A[0]};1 in A&&(E.catchLoc=A[1]),2 in A&&(E.finallyLoc=A[2],E.afterLoc=A[3]),this.tryEntries.push(E)}function D(A){var E=A.completion||{};E.type="normal",delete E.arg,A.completion=E}function C(A){this.tryEntries=[{tryLoc:"root"}],A.forEach(N,this),this.reset(!0)}function S(A){if(A){var E=A[p];if(E)return E.call(A);if(typeof A.next=="function")return A;if(!isNaN(A.length)){var j=-1,U=function I(){for(;++j<A.length;)if(c.call(A,j))return I.value=A[j],I.done=!1,I;return I.value=void 0,I.done=!0,I};return U.next=U}}return{next:T}}function T(){return{value:void 0,done:!0}}return k.prototype=R,o(O,"constructor",{value:R,configurable:!0}),o(R,"constructor",{value:k,configurable:!0}),k.displayName=b(R,d,"GeneratorFunction"),a.isGeneratorFunction=function(A){var E=typeof A=="function"&&A.constructor;return!!E&&(E===k||(E.displayName||E.name)==="GeneratorFunction")},a.mark=function(A){return Object.setPrototypeOf?Object.setPrototypeOf(A,R):(A.__proto__=R,b(A,d,"GeneratorFunction")),A.prototype=Object.create(O),A},a.awrap=function(A){return{__await:A}},F(B.prototype),b(B.prototype,h,(function(){return this})),a.AsyncIterator=B,a.async=function(A,E,j,U,I){I===void 0&&(I=Promise);var Q=new B(x(A,E,j,U),I);return a.isGeneratorFunction(E)?Q:Q.next().then((function(Y){return Y.done?Y.value:Q.next()}))},F(O),b(O,d,"Generator"),b(O,p,(function(){return this})),b(O,"toString",(function(){return"[object Generator]"})),a.keys=function(A){var E=Object(A),j=[];for(var U in E)j.push(U);return j.reverse(),function I(){for(;j.length;){var Q=j.pop();if(Q in E)return I.value=Q,I.done=!1,I}return I.done=!0,I}},a.values=S,C.prototype={constructor:C,reset:function(A){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(D),!A)for(var E in this)E.charAt(0)==="t"&&c.call(this,E)&&!isNaN(+E.slice(1))&&(this[E]=void 0)},stop:function(){this.done=!0;var A=this.tryEntries[0].completion;if(A.type==="throw")throw A.arg;return this.rval},dispatchException:function(A){if(this.done)throw A;var E=this;function j(q,te){return Q.type="throw",Q.arg=A,E.next=q,te&&(E.method="next",E.arg=void 0),!!te}for(var U=this.tryEntries.length-1;U>=0;--U){var I=this.tryEntries[U],Q=I.completion;if(I.tryLoc==="root")return j("end");if(I.tryLoc<=this.prev){var Y=c.call(I,"catchLoc"),ee=c.call(I,"finallyLoc");if(Y&&ee){if(this.prev<I.catchLoc)return j(I.catchLoc,!0);if(this.prev<I.finallyLoc)return j(I.finallyLoc)}else if(Y){if(this.prev<I.catchLoc)return j(I.catchLoc,!0)}else{if(!ee)throw new Error("try statement without catch or finally");if(this.prev<I.finallyLoc)return j(I.finallyLoc)}}}},abrupt:function(A,E){for(var j=this.tryEntries.length-1;j>=0;--j){var U=this.tryEntries[j];if(U.tryLoc<=this.prev&&c.call(U,"finallyLoc")&&this.prev<U.finallyLoc){var I=U;break}}I&&(A==="break"||A==="continue")&&I.tryLoc<=E&&E<=I.finallyLoc&&(I=null);var Q=I?I.completion:{};return Q.type=A,Q.arg=E,I?(this.method="next",this.next=I.finallyLoc,w):this.complete(Q)},complete:function(A,E){if(A.type==="throw")throw A.arg;return A.type==="break"||A.type==="continue"?this.next=A.arg:A.type==="return"?(this.rval=this.arg=A.arg,this.method="return",this.next="end"):A.type==="normal"&&E&&(this.next=E),w},finish:function(A){for(var E=this.tryEntries.length-1;E>=0;--E){var j=this.tryEntries[E];if(j.finallyLoc===A)return this.complete(j.completion,j.afterLoc),D(j),w}},catch:function(A){for(var E=this.tryEntries.length-1;E>=0;--E){var j=this.tryEntries[E];if(j.tryLoc===A){var U=j.completion;if(U.type==="throw"){var I=U.arg;D(j)}return I}}throw new Error("illegal catch attempt")},delegateYield:function(A,E,j){return this.delegate={iterator:S(A),resultName:E,nextLoc:j},this.method==="next"&&(this.arg=void 0),w}},a})(typeof n=="object"?n.exports:{});try{regeneratorRuntime=i}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},{}],493:[function(e,n,s){var i=e("buffer").Buffer,a=e("inherits"),l=e("hash-base"),c=new Array(16),o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],p=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],h=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],d=[0,1518500249,1859775393,2400959708,2840853838],b=[1352829926,1548603684,1836072691,2053994217,0];function x(){l.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function g(G,V){return G<<V|G>>>32-V}function w(G,V,O,F,B,W,P,N){return g(G+(V^O^F)+W+P|0,N)+B|0}function v(G,V,O,F,B,W,P,N){return g(G+(V&O|~V&F)+W+P|0,N)+B|0}function k(G,V,O,F,B,W,P,N){return g(G+((V|~O)^F)+W+P|0,N)+B|0}function R(G,V,O,F,B,W,P,N){return g(G+(V&F|O&~F)+W+P|0,N)+B|0}function L(G,V,O,F,B,W,P,N){return g(G+(V^(O|~F))+W+P|0,N)+B|0}a(x,l),x.prototype._update=function(){for(var G=c,V=0;V<16;++V)G[V]=this._block.readInt32LE(4*V);for(var O=0|this._a,F=0|this._b,B=0|this._c,W=0|this._d,P=0|this._e,N=0|this._a,D=0|this._b,C=0|this._c,S=0|this._d,T=0|this._e,A=0;A<80;A+=1){var E,j;A<16?(E=w(O,F,B,W,P,G[o[A]],d[0],p[A]),j=L(N,D,C,S,T,G[u[A]],b[0],h[A])):A<32?(E=v(O,F,B,W,P,G[o[A]],d[1],p[A]),j=R(N,D,C,S,T,G[u[A]],b[1],h[A])):A<48?(E=k(O,F,B,W,P,G[o[A]],d[2],p[A]),j=k(N,D,C,S,T,G[u[A]],b[2],h[A])):A<64?(E=R(O,F,B,W,P,G[o[A]],d[3],p[A]),j=v(N,D,C,S,T,G[u[A]],b[3],h[A])):(E=L(O,F,B,W,P,G[o[A]],d[4],p[A]),j=w(N,D,C,S,T,G[u[A]],b[4],h[A])),O=P,P=W,W=g(B,10),B=F,F=E,N=T,T=S,S=g(C,10),C=D,D=j}var U=this._b+B+S|0;this._b=this._c+W+T|0,this._c=this._d+P+N|0,this._d=this._e+O+D|0,this._e=this._a+F+C|0,this._a=U},x.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var G=i.alloc?i.alloc(20):new i(20);return G.writeInt32LE(this._a,0),G.writeInt32LE(this._b,4),G.writeInt32LE(this._c,8),G.writeInt32LE(this._d,12),G.writeInt32LE(this._e,16),G},n.exports=x},{buffer:220,"hash-base":425,inherits:440}],494:[function(e,n,s){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var i=e("buffer"),a=i.Buffer;function l(o,u){for(var p in o)u[p]=o[p]}function c(o,u,p){return a(o,u,p)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?n.exports=i:(l(i,s),s.Buffer=c),c.prototype=Object.create(a.prototype),l(a,c),c.from=function(o,u,p){if(typeof o=="number")throw new TypeError("Argument must not be a number");return a(o,u,p)},c.alloc=function(o,u,p){if(typeof o!="number")throw new TypeError("Argument must be a number");var h=a(o);return u!==void 0?typeof p=="string"?h.fill(u,p):h.fill(u):h.fill(0),h},c.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return a(o)},c.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return i.SlowBuffer(o)}},{buffer:220}],495:[function(e,n,s){(function(i){(function(){var a,l=e("buffer"),c=l.Buffer,o={};for(a in l)l.hasOwnProperty(a)&&a!=="SlowBuffer"&&a!=="Buffer"&&(o[a]=l[a]);var u=o.Buffer={};for(a in c)c.hasOwnProperty(a)&&a!=="allocUnsafe"&&a!=="allocUnsafeSlow"&&(u[a]=c[a]);if(o.Buffer.prototype=c.prototype,u.from&&u.from!==Uint8Array.from||(u.from=function(p,h,d){if(typeof p=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof p);if(p&&p.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p);return c(p,h,d)}),u.alloc||(u.alloc=function(p,h,d){if(typeof p!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof p);if(p<0||p>=2*(1<<30))throw new RangeError('The value "'+p+'" is invalid for option "size"');var b=c(p);return h&&h.length!==0?typeof d=="string"?b.fill(h,d):b.fill(h):b.fill(0),b}),!o.kStringMaxLength)try{o.kStringMaxLength=i.binding("buffer").kStringMaxLength}catch{}o.constants||(o.constants={MAX_LENGTH:o.kMaxLength},o.kStringMaxLength&&(o.constants.MAX_STRING_LENGTH=o.kStringMaxLength)),n.exports=o}).call(this)}).call(this,e("_process"))},{_process:467,buffer:220}],496:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0});const i=e("xmlchars/xml/1.0/ed5"),a=e("xmlchars/xml/1.1/ed2"),l=e("xmlchars/xmlns/1.0/ed3");var c=i.isS,o=i.isChar,u=i.isNameStartChar,p=i.isNameChar,h=i.S_LIST,d=i.NAME_RE,b=a.isChar,x=l.isNCNameStartChar,g=l.isNCNameChar,w=l.NC_NAME_RE;const v="http://www.w3.org/XML/1998/namespace",k="http://www.w3.org/2000/xmlns/",R={__proto__:null,xml:v,xmlns:k},L={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},G=S=>S===34||S===39,V=[34,39],O=[...V,91,62],F=[...V,60,93],B=[61,63,...h],W=[...h,62,38,60];function P(S,T,A){switch(T){case"xml":A!==v&&S.fail(`xml prefix must be bound to ${v}.`);break;case"xmlns":A!==k&&S.fail(`xmlns prefix must be bound to ${k}.`)}switch(A){case k:S.fail(T===""?`the default namespace may not be set to ${A}.`:`may not assign a prefix (even "xmlns") to the URI ${k}.`);break;case v:switch(T){case"xml":break;case"":S.fail(`the default namespace may not be set to ${A}.`);break;default:S.fail("may not assign the xml namespace to another prefix.")}}}const N=S=>w.test(S),D=S=>d.test(S);s.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const C={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};s.SaxesParser=class{constructor(S){this.opt=S??{},this.fragmentOpt=!!this.opt.fragment;const T=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,T){this.nameStartCheck=x,this.nameCheck=g,this.isName=N,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},R);const A=this.opt.additionalNamespaces;A!=null&&((function(E,j){for(const U of Object.keys(j))P(E,U,j[U])})(this,A),Object.assign(this.ns,A))}else this.nameStartCheck=u,this.nameCheck=p,this.isName=D,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var S;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:T}=this;this.state=T?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=T,this.xmlDeclPossible=!T,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:A}=this.opt;if(A===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");A="1.0"}this.setXMLVersion(A),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(L),(S=this.readyHandler)===null||S===void 0||S.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(S,T){this[C[S]]=T}off(S){this[C[S]]=void 0}makeError(S){var T;let A=(T=this.fileName)!==null&&T!==void 0?T:"";return this.trackPosition&&(A.length>0&&(A+=":"),A+=`${this.line}:${this.column}`),A.length>0&&(A+=": "),new Error(A+S)}fail(S){const T=this.makeError(S),A=this.errorHandler;if(A===void 0)throw T;return A(T),this}write(S){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let T=!1;S===null?(T=!0,S=""):typeof S=="object"&&(S=S.toString()),this.carriedFromPrevious!==void 0&&(S=`${this.carriedFromPrevious}${S}`,this.carriedFromPrevious=void 0);let A=S.length;const E=S.charCodeAt(A-1);!T&&(E===13||E>=55296&&E<=56319)&&(this.carriedFromPrevious=S[A-1],A--,S=S.slice(0,A));const{stateTable:j}=this;for(this.chunk=S,this.i=0;this.i<A;)j[this.state].call(this);return this.chunkPosition+=A,T?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:S,i:T}=this;if(this.prevI=T,this.i=T+1,T>=S.length)return-1;const A=S.charCodeAt(T);if(this.column++,A<55296){if(A>=32||A===9)return A;switch(A){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return S.charCodeAt(T+1)===10&&(this.i=T+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),A}}if(A>56319)return A>=57344&&A<=65533||this.fail("disallowed character."),A;const E=65536+1024*(A-55296)+(S.charCodeAt(T+1)-56320);return this.i=T+2,E>1114111&&this.fail("disallowed character."),E}getCode11(){const{chunk:S,i:T}=this;if(this.prevI=T,this.i=T+1,T>=S.length)return-1;const A=S.charCodeAt(T);if(this.column++,A<55296){if(A>31&&A<127||A>159&&A!==8232||A===9)return A;switch(A){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const j=S.charCodeAt(T+1);j!==10&&j!==133||(this.i=T+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),A}}if(A>56319)return A>=57344&&A<=65533||this.fail("disallowed character."),A;const E=65536+1024*(A-55296)+(S.charCodeAt(T+1)-56320);return this.i=T+2,E>1114111&&this.fail("disallowed character."),E}getCodeNorm(){const S=this.getCode();return S===-2?10:S}unget(){this.i=this.prevI,this.column--}captureTo(S){let{i:T}=this;const{chunk:A}=this;for(;;){const E=this.getCode(),j=E===-2,U=j?10:E;if(U===-1||S.includes(U))return this.text+=A.slice(T,this.prevI),U;j&&(this.text+=A.slice(T,this.prevI)+`
`,T=this.i)}}captureToChar(S){let{i:T}=this;const{chunk:A}=this;for(;;){let E=this.getCode();switch(E){case-2:this.text+=A.slice(T,this.prevI)+`
`,T=this.i,E=10;break;case-1:return this.text+=A.slice(T),!1}if(E===S)return this.text+=A.slice(T,this.prevI),!0}}captureNameChars(){const{chunk:S,i:T}=this;for(;;){const A=this.getCode();if(A===-1)return this.name+=S.slice(T),-1;if(!p(A))return this.name+=S.slice(T,this.prevI),A===-2?10:A}}skipSpaces(){for(;;){const S=this.getCodeNorm();if(S===-1||!c(S))return S}}setXMLVersion(S){this.currentXMLVersion=S,S==="1.0"?(this.isChar=o,this.getCode=this.getCode10):(this.isChar=b,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const S=this.i,T=this.skipSpaces();switch(this.prevI!==S&&(this.xmlDeclPossible=!1),T){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var S;const T=this.captureTo(O);switch(T){case 62:(S=this.doctypeHandler)===null||S===void 0||S.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(T),T===91?this.state=4:G(T)&&(this.state=3,this.q=T)}}sDoctypeQuote(){const S=this.q;this.captureToChar(S)&&(this.text+=String.fromCodePoint(S),this.q=null,this.state=2)}sDTD(){const S=this.captureTo(F);S!==-1&&(this.text+=String.fromCodePoint(S),S===93?this.state=2:S===60?this.state=6:G(S)&&(this.state=5,this.q=S))}sDTDQuoted(){const S=this.q;this.captureToChar(S)&&(this.text+=String.fromCodePoint(S),this.state=4,this.q=null)}sDTDOpenWaka(){const S=this.getCodeNorm();switch(this.text+=String.fromCodePoint(S),S){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const S=String.fromCodePoint(this.getCodeNorm()),T=this.openWakaBang+=S;this.text+=S,T!=="-"&&(this.state=T==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const S=this.getCodeNorm();this.text+=String.fromCodePoint(S),this.state=S===45?10:8}sDTDCommentEnded(){const S=this.getCodeNorm();this.text+=String.fromCodePoint(S),S===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const S=this.getCodeNorm();this.text+=String.fromCodePoint(S),S===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:S}=this;const{chunk:T}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=T.slice(S,this.prevI)+`
`,S=this.i;break;case 59:{const{entityReturnState:A}=this,E=this.entity+T.slice(S,this.prevI);let j;this.state=A,E===""?(this.fail("empty entity name."),j="&;"):(j=this.parseEntity(E),this.entity=""),A===13&&this.textHandler===void 0||(this.text+=j);break e}case-1:this.entity+=T.slice(S);break e}}sOpenWaka(){const S=this.getCode();if(u(S))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(S){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var S;const T=this.getCodeNorm();T===45?(this.state=19,(S=this.commentHandler)===null||S===void 0||S.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(T),this.state=17)}sCommentEnded(){const S=this.getCodeNorm();S!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(S),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const S=this.getCodeNorm();S===93?this.state=22:(this.text+="]"+String.fromCodePoint(S),this.state=20)}sCDataEnding2(){var S;const T=this.getCodeNorm();switch(T){case 62:(S=this.cdataHandler)===null||S===void 0||S.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(T),this.state=20}}sPIFirstChar(){const S=this.getCodeNorm();this.nameStartCheck(S)?(this.piTarget+=String.fromCodePoint(S),this.state=24):S===63||c(S)?(this.fail("processing instruction without a target."),this.state=S===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(S),this.state=24)}sPIRest(){const{chunk:S,i:T}=this;for(;;){const A=this.getCodeNorm();if(A===-1)return void(this.piTarget+=S.slice(T));if(!this.nameCheck(A)){this.piTarget+=S.slice(T,this.prevI);const E=A===63;E||c(A)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=E?33:27):this.state=E?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(A));break}}}sPIBody(){if(this.text.length===0){const S=this.getCodeNorm();S===63?this.state=26:c(S)||(this.text=String.fromCodePoint(S))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var S;const T=this.getCodeNorm();if(T===62){const{piTarget:A}=this;A.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(S=this.piHandler)===null||S===void 0||S.call(this,{target:A,body:this.text}),this.piTarget=this.text="",this.state=13}else T===63?this.text+="?":(this.text+="?"+String.fromCodePoint(T),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const S=this.skipSpaces();S!==63?S!==-1&&(this.state=28,this.name=String.fromCodePoint(S)):this.state=33}sXMLDeclName(){const S=this.captureTo(B);if(S===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(c(S)||S===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=S===61?30:29}}sXMLDeclEq(){const S=this.getCodeNorm();if(S===63)return this.state=33,void this.fail("XML declaration is incomplete.");c(S)||(S!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const S=this.getCodeNorm();if(S===63)return this.state=33,void this.fail("XML declaration is incomplete.");c(S)||(G(S)?this.q=S:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const S=this.captureTo([this.q,63]);if(S===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(S===-1)return;const T=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const A=T;this.xmlDecl.version=A,/^1\.[0-9]+$/.test(A)?this.opt.forceXMLVersion||this.setXMLVersion(A):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(T)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=T;break;case"standalone":T!=="yes"&&T!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=T}this.name="",this.state=32}sXMLDeclSeparator(){const S=this.getCodeNorm();S!==63?(c(S)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var S;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(S=this.xmldeclHandler)===null||S===void 0||S.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var S;const T=this.captureNameChars();if(T===-1)return;const A=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=A.ns=Object.create(null)),(S=this.openTagStartHandler)===null||S===void 0||S.call(this,A),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),T){case 62:this.openTag();break;case 47:this.state=35;break;default:c(T)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const S=this.skipSpaces();S!==-1&&(u(S)?(this.unget(),this.state=37):S===62?this.openTag():S===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const S=this.captureNameChars();S===61?this.state=39:c(S)?this.state=38:S===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):S!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const S=this.skipSpaces();switch(S){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",S===62?this.openTag():u(S)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const S=this.getCodeNorm();G(S)?(this.q=S,this.state=40):c(S)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:S,chunk:T}=this;let{i:A}=this;for(;;)switch(this.getCode()){case S:return this.pushAttrib(this.name,this.text+T.slice(A,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=T.slice(A,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=T.slice(A,this.prevI)+" ",A=this.i;break;case 60:return this.text+=T.slice(A,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=T.slice(A))}}sAttribValueClosed(){const S=this.getCodeNorm();c(S)?this.state=36:S===62?this.openTag():S===47?this.state=35:u(S)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const S=this.captureTo(W);switch(S){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",S===62?this.openTag():this.state=36}}sCloseTag(){const S=this.captureNameChars();S===62?this.closeTag():c(S)?this.state=44:S!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:S,forbiddenState:T}=this;const{chunk:A,textHandler:E}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,E!==void 0){const{text:j}=this,U=A.slice(S,this.prevI);j.length!==0?(E(j+U),this.text=""):U.length!==0&&E(U)}T=0;break e;case 38:this.state=14,this.entityReturnState=13,E!==void 0&&(this.text+=A.slice(S,this.prevI)),T=0;break e;case 93:switch(T){case 0:T=1;break;case 1:T=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:T===2&&this.fail('the string "]]>" is disallowed in char data.'),T=0;break;case-2:E!==void 0&&(this.text+=A.slice(S,this.prevI)+`
`),S=this.i,T=0;break;case-1:E!==void 0&&(this.text+=A.slice(S));break e;default:T=0}this.forbiddenState=T}handleTextOutsideRoot(){let{i:S}=this;const{chunk:T,textHandler:A}=this;let E=!1;e:for(;;){const j=this.getCode();switch(j){case 60:if(this.state=15,A!==void 0){const{text:U}=this,I=T.slice(S,this.prevI);U.length!==0?(A(U+I),this.text=""):I.length!==0&&A(I)}break e;case 38:this.state=14,this.entityReturnState=13,A!==void 0&&(this.text+=T.slice(S,this.prevI)),E=!0;break e;case-2:A!==void 0&&(this.text+=T.slice(S,this.prevI)+`
`),S=this.i;break;case-1:A!==void 0&&(this.text+=T.slice(S));break e;default:c(j)||(E=!0)}}E&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(S,T){var A;const{prefix:E,local:j}=this.qname(S),U={name:S,prefix:E,local:j,value:T};if(this.attribList.push(U),(A=this.attributeHandler)===null||A===void 0||A.call(this,U),E==="xmlns"){const I=T.trim();this.currentXMLVersion==="1.0"&&I===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[j]=I,P(this,j,I)}else if(S==="xmlns"){const I=T.trim();this.topNS[""]=I,P(this,"",I)}}pushAttribPlain(S,T){var A;const E={name:S,value:T};this.attribList.push(E),(A=this.attributeHandler)===null||A===void 0||A.call(this,E)}end(){var S,T;this.sawRoot||this.fail("document must contain a root element.");const{tags:A}=this;for(;A.length>0;){const j=A.pop();this.fail("unclosed tag: "+j.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:E}=this;return E.length!==0&&((S=this.textHandler)===null||S===void 0||S.call(this,E),this.text=""),this._closed=!0,(T=this.endHandler)===null||T===void 0||T.call(this),this._init(),this}resolve(S){var T,A;let E=this.topNS[S];if(E!==void 0)return E;const{tags:j}=this;for(let U=j.length-1;U>=0;U--)if(E=j[U].ns[S],E!==void 0)return E;return E=this.ns[S],E!==void 0?E:(A=(T=this.opt).resolvePrefix)===null||A===void 0?void 0:A.call(T,S)}qname(S){const T=S.indexOf(":");if(T===-1)return{prefix:"",local:S};const A=S.slice(T+1),E=S.slice(0,T);return(E===""||A===""||A.includes(":"))&&this.fail(`malformed name: ${S}.`),{prefix:E,local:A}}processAttribsNS(){var S;const{attribList:T}=this,A=this.tag;{const{prefix:U,local:I}=this.qname(A.name);A.prefix=U,A.local=I;const Q=A.uri=(S=this.resolve(U))!==null&&S!==void 0?S:"";U!==""&&(U==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),Q===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(U)}.`),A.uri=U))}if(T.length===0)return;const{attributes:E}=A,j=new Set;for(const U of T){const{name:I,prefix:Q,local:Y}=U;let ee,q;Q===""?(ee=I==="xmlns"?k:"",q=I):(ee=this.resolve(Q),ee===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(Q)}.`),ee=Q),q=`{${ee}}${Y}`),j.has(q)&&this.fail(`duplicate attribute: ${q}.`),j.add(q),U.uri=ee,E[I]=U}this.attribList=[]}processAttribsPlain(){const{attribList:S}=this,T=this.tag.attributes;for(const{name:A,value:E}of S)T[A]!==void 0&&this.fail(`duplicate attribute: ${A}.`),T[A]=E;this.attribList=[]}openTag(){var S;this.processAttribs();const{tags:T}=this,A=this.tag;A.isSelfClosing=!1,(S=this.openTagHandler)===null||S===void 0||S.call(this,A),T.push(A),this.state=13,this.name=""}openSelfClosingTag(){var S,T,A;this.processAttribs();const{tags:E}=this,j=this.tag;j.isSelfClosing=!0,(S=this.openTagHandler)===null||S===void 0||S.call(this,j),(T=this.closeTagHandler)===null||T===void 0||T.call(this,j),(this.tag=(A=E[E.length-1])!==null&&A!==void 0?A:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:S,name:T}=this;if(this.state=13,this.name="",T==="")return this.fail("weird empty close tag."),void(this.text+="</>");const A=this.closeTagHandler;let E=S.length;for(;E-- >0;){const j=this.tag=S.pop();if(this.topNS=j.ns,A==null||A(j),j.name===T)break;this.fail("unexpected close tag.")}E===0?this.closedRoot=!0:E<0&&(this.fail(`unmatched closing tag: ${T}.`),this.text+=`</${T}>`)}parseEntity(S){if(S[0]!=="#"){const A=this.ENTITIES[S];return A!==void 0?A:(this.fail(this.isName(S)?"undefined entity.":"disallowed character in entity name."),`&${S};`)}let T=NaN;return S[1]==="x"&&/^#x[0-9a-f]+$/i.test(S)?T=parseInt(S.slice(2),16):/^#[0-9]+$/.test(S)&&(T=parseInt(S.slice(1),10)),this.isChar(T)?String.fromCodePoint(T):(this.fail("malformed character entity."),`&${S};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(e,n,s){var i=e("safe-buffer").Buffer;function a(l,c){this._block=i.alloc(l),this._finalSize=c,this._blockSize=l,this._len=0}a.prototype.update=function(l,c){typeof l=="string"&&(c=c||"utf8",l=i.from(l,c));for(var o=this._block,u=this._blockSize,p=l.length,h=this._len,d=0;d<p;){for(var b=h%u,x=Math.min(p-d,u-b),g=0;g<x;g++)o[b+g]=l[d+g];d+=x,(h+=x)%u==0&&this._update(o)}return this._len+=p,this},a.prototype.digest=function(l){var c=this._len%this._blockSize;this._block[c]=128,this._block.fill(0,c+1),c>=this._finalSize&&(this._update(this._block),this._block.fill(0));var o=8*this._len;if(o<=4294967295)this._block.writeUInt32BE(o,this._blockSize-4);else{var u=(4294967295&o)>>>0,p=(o-u)/4294967296;this._block.writeUInt32BE(p,this._blockSize-8),this._block.writeUInt32BE(u,this._blockSize-4)}this._update(this._block);var h=this._hash();return l?h.toString(l):h},a.prototype._update=function(){throw new Error("_update must be implemented by subclass")},n.exports=a},{"safe-buffer":494}],498:[function(e,n,s){var i=n.exports=function(a){a=a.toLowerCase();var l=i[a];if(!l)throw new Error(a+" is not supported (we accept pull requests)");return new l};i.sha=e("./sha"),i.sha1=e("./sha1"),i.sha224=e("./sha224"),i.sha256=e("./sha256"),i.sha384=e("./sha384"),i.sha512=e("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(e,n,s){var i=e("inherits"),a=e("./hash"),l=e("safe-buffer").Buffer,c=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function u(){this.init(),this._w=o,a.call(this,64,56)}function p(d){return d<<30|d>>>2}function h(d,b,x,g){return d===0?b&x|~b&g:d===2?b&x|b&g|x&g:b^x^g}i(u,a),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(d){for(var b,x=this._w,g=0|this._a,w=0|this._b,v=0|this._c,k=0|this._d,R=0|this._e,L=0;L<16;++L)x[L]=d.readInt32BE(4*L);for(;L<80;++L)x[L]=x[L-3]^x[L-8]^x[L-14]^x[L-16];for(var G=0;G<80;++G){var V=~~(G/20),O=0|((b=g)<<5|b>>>27)+h(V,w,v,k)+R+x[G]+c[V];R=k,k=v,v=p(w),w=g,g=O}this._a=g+this._a|0,this._b=w+this._b|0,this._c=v+this._c|0,this._d=k+this._d|0,this._e=R+this._e|0},u.prototype._hash=function(){var d=l.allocUnsafe(20);return d.writeInt32BE(0|this._a,0),d.writeInt32BE(0|this._b,4),d.writeInt32BE(0|this._c,8),d.writeInt32BE(0|this._d,12),d.writeInt32BE(0|this._e,16),d},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(e,n,s){var i=e("inherits"),a=e("./hash"),l=e("safe-buffer").Buffer,c=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function u(){this.init(),this._w=o,a.call(this,64,56)}function p(b){return b<<5|b>>>27}function h(b){return b<<30|b>>>2}function d(b,x,g,w){return b===0?x&g|~x&w:b===2?x&g|x&w|g&w:x^g^w}i(u,a),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(b){for(var x,g=this._w,w=0|this._a,v=0|this._b,k=0|this._c,R=0|this._d,L=0|this._e,G=0;G<16;++G)g[G]=b.readInt32BE(4*G);for(;G<80;++G)g[G]=(x=g[G-3]^g[G-8]^g[G-14]^g[G-16])<<1|x>>>31;for(var V=0;V<80;++V){var O=~~(V/20),F=p(w)+d(O,v,k,R)+L+g[V]+c[O]|0;L=R,R=k,k=h(v),v=w,w=F}this._a=w+this._a|0,this._b=v+this._b|0,this._c=k+this._c|0,this._d=R+this._d|0,this._e=L+this._e|0},u.prototype._hash=function(){var b=l.allocUnsafe(20);return b.writeInt32BE(0|this._a,0),b.writeInt32BE(0|this._b,4),b.writeInt32BE(0|this._c,8),b.writeInt32BE(0|this._d,12),b.writeInt32BE(0|this._e,16),b},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(e,n,s){var i=e("inherits"),a=e("./sha256"),l=e("./hash"),c=e("safe-buffer").Buffer,o=new Array(64);function u(){this.init(),this._w=o,l.call(this,64,56)}i(u,a),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var p=c.allocUnsafe(28);return p.writeInt32BE(this._a,0),p.writeInt32BE(this._b,4),p.writeInt32BE(this._c,8),p.writeInt32BE(this._d,12),p.writeInt32BE(this._e,16),p.writeInt32BE(this._f,20),p.writeInt32BE(this._g,24),p},n.exports=u},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(e,n,s){var i=e("inherits"),a=e("./hash"),l=e("safe-buffer").Buffer,c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],o=new Array(64);function u(){this.init(),this._w=o,a.call(this,64,56)}function p(g,w,v){return v^g&(w^v)}function h(g,w,v){return g&w|v&(g|w)}function d(g){return(g>>>2|g<<30)^(g>>>13|g<<19)^(g>>>22|g<<10)}function b(g){return(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7)}function x(g){return(g>>>7|g<<25)^(g>>>18|g<<14)^g>>>3}i(u,a),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},u.prototype._update=function(g){for(var w,v=this._w,k=0|this._a,R=0|this._b,L=0|this._c,G=0|this._d,V=0|this._e,O=0|this._f,F=0|this._g,B=0|this._h,W=0;W<16;++W)v[W]=g.readInt32BE(4*W);for(;W<64;++W)v[W]=0|(((w=v[W-2])>>>17|w<<15)^(w>>>19|w<<13)^w>>>10)+v[W-7]+x(v[W-15])+v[W-16];for(var P=0;P<64;++P){var N=B+b(V)+p(V,O,F)+c[P]+v[P]|0,D=d(k)+h(k,R,L)|0;B=F,F=O,O=V,V=G+N|0,G=L,L=R,R=k,k=N+D|0}this._a=k+this._a|0,this._b=R+this._b|0,this._c=L+this._c|0,this._d=G+this._d|0,this._e=V+this._e|0,this._f=O+this._f|0,this._g=F+this._g|0,this._h=B+this._h|0},u.prototype._hash=function(){var g=l.allocUnsafe(32);return g.writeInt32BE(this._a,0),g.writeInt32BE(this._b,4),g.writeInt32BE(this._c,8),g.writeInt32BE(this._d,12),g.writeInt32BE(this._e,16),g.writeInt32BE(this._f,20),g.writeInt32BE(this._g,24),g.writeInt32BE(this._h,28),g},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(e,n,s){var i=e("inherits"),a=e("./sha512"),l=e("./hash"),c=e("safe-buffer").Buffer,o=new Array(160);function u(){this.init(),this._w=o,l.call(this,128,112)}i(u,a),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var p=c.allocUnsafe(48);function h(d,b,x){p.writeInt32BE(d,x),p.writeInt32BE(b,x+4)}return h(this._ah,this._al,0),h(this._bh,this._bl,8),h(this._ch,this._cl,16),h(this._dh,this._dl,24),h(this._eh,this._el,32),h(this._fh,this._fl,40),p},n.exports=u},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(e,n,s){var i=e("inherits"),a=e("./hash"),l=e("safe-buffer").Buffer,c=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],o=new Array(160);function u(){this.init(),this._w=o,a.call(this,128,112)}function p(R,L,G){return G^R&(L^G)}function h(R,L,G){return R&L|G&(R|L)}function d(R,L){return(R>>>28|L<<4)^(L>>>2|R<<30)^(L>>>7|R<<25)}function b(R,L){return(R>>>14|L<<18)^(R>>>18|L<<14)^(L>>>9|R<<23)}function x(R,L){return(R>>>1|L<<31)^(R>>>8|L<<24)^R>>>7}function g(R,L){return(R>>>1|L<<31)^(R>>>8|L<<24)^(R>>>7|L<<25)}function w(R,L){return(R>>>19|L<<13)^(L>>>29|R<<3)^R>>>6}function v(R,L){return(R>>>19|L<<13)^(L>>>29|R<<3)^(R>>>6|L<<26)}function k(R,L){return R>>>0<L>>>0?1:0}i(u,a),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},u.prototype._update=function(R){for(var L=this._w,G=0|this._ah,V=0|this._bh,O=0|this._ch,F=0|this._dh,B=0|this._eh,W=0|this._fh,P=0|this._gh,N=0|this._hh,D=0|this._al,C=0|this._bl,S=0|this._cl,T=0|this._dl,A=0|this._el,E=0|this._fl,j=0|this._gl,U=0|this._hl,I=0;I<32;I+=2)L[I]=R.readInt32BE(4*I),L[I+1]=R.readInt32BE(4*I+4);for(;I<160;I+=2){var Q=L[I-30],Y=L[I-30+1],ee=x(Q,Y),q=g(Y,Q),te=w(Q=L[I-4],Y=L[I-4+1]),H=v(Y,Q),z=L[I-14],Z=L[I-14+1],ae=L[I-32],re=L[I-32+1],le=q+Z|0,de=ee+z+k(le,q)|0;de=(de=de+te+k(le=le+H|0,H)|0)+ae+k(le=le+re|0,re)|0,L[I]=de,L[I+1]=le}for(var ve=0;ve<160;ve+=2){de=L[ve],le=L[ve+1];var ge=h(G,V,O),se=h(D,C,S),xe=d(G,D),pe=d(D,G),Te=b(B,A),ke=b(A,B),Re=c[ve],$e=c[ve+1],Pe=p(B,W,P),Je=p(A,E,j),Ze=U+ke|0,Ye=N+Te+k(Ze,U)|0;Ye=(Ye=(Ye=Ye+Pe+k(Ze=Ze+Je|0,Je)|0)+Re+k(Ze=Ze+$e|0,$e)|0)+de+k(Ze=Ze+le|0,le)|0;var Xe=pe+se|0,ut=xe+ge+k(Xe,pe)|0;N=P,U=j,P=W,j=E,W=B,E=A,B=F+Ye+k(A=T+Ze|0,T)|0,F=O,T=S,O=V,S=C,V=G,C=D,G=Ye+ut+k(D=Ze+Xe|0,Ze)|0}this._al=this._al+D|0,this._bl=this._bl+C|0,this._cl=this._cl+S|0,this._dl=this._dl+T|0,this._el=this._el+A|0,this._fl=this._fl+E|0,this._gl=this._gl+j|0,this._hl=this._hl+U|0,this._ah=this._ah+G+k(this._al,D)|0,this._bh=this._bh+V+k(this._bl,C)|0,this._ch=this._ch+O+k(this._cl,S)|0,this._dh=this._dh+F+k(this._dl,T)|0,this._eh=this._eh+B+k(this._el,A)|0,this._fh=this._fh+W+k(this._fl,E)|0,this._gh=this._gh+P+k(this._gl,j)|0,this._hh=this._hh+N+k(this._hl,U)|0},u.prototype._hash=function(){var R=l.allocUnsafe(64);function L(G,V,O){R.writeInt32BE(G,O),R.writeInt32BE(V,O+4)}return L(this._ah,this._al,0),L(this._bh,this._bl,8),L(this._ch,this._cl,16),L(this._dh,this._dl,24),L(this._eh,this._el,32),L(this._fh,this._fl,40),L(this._gh,this._gl,48),L(this._hh,this._hl,56),R},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(e,n,s){n.exports=a;var i=e("events").EventEmitter;function a(){i.call(this)}e("inherits")(a,i),a.Readable=e("readable-stream/readable.js"),a.Writable=e("readable-stream/writable.js"),a.Duplex=e("readable-stream/duplex.js"),a.Transform=e("readable-stream/transform.js"),a.PassThrough=e("readable-stream/passthrough.js"),a.Stream=a,a.prototype.pipe=function(l,c){var o=this;function u(w){l.writable&&l.write(w)===!1&&o.pause&&o.pause()}function p(){o.readable&&o.resume&&o.resume()}o.on("data",u),l.on("drain",p),l._isStdio||c&&c.end===!1||(o.on("end",d),o.on("close",b));var h=!1;function d(){h||(h=!0,l.end())}function b(){h||(h=!0,typeof l.destroy=="function"&&l.destroy())}function x(w){if(g(),i.listenerCount(this,"error")===0)throw w}function g(){o.removeListener("data",u),l.removeListener("drain",p),o.removeListener("end",d),o.removeListener("close",b),o.removeListener("error",x),l.removeListener("error",x),o.removeListener("end",g),o.removeListener("close",g),l.removeListener("close",g)}return o.on("error",x),l.on("error",x),o.on("end",g),o.on("close",g),l.on("close",g),l.emit("pipe",o),l}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(e,n,s){var i={}.toString;n.exports=Array.isArray||function(a){return i.call(a)=="[object Array]"}},{}],507:[function(e,n,s){n.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(e,n,s){var i=e("process-nextick-args"),a=Object.keys||function(g){var w=[];for(var v in g)w.push(v);return w};n.exports=d;var l=Object.create(e("core-util-is"));l.inherits=e("inherits");var c=e("./_stream_readable"),o=e("./_stream_writable");l.inherits(d,c);for(var u=a(o.prototype),p=0;p<u.length;p++){var h=u[p];d.prototype[h]||(d.prototype[h]=o.prototype[h])}function d(g){if(!(this instanceof d))return new d(g);c.call(this,g),o.call(this,g),g&&g.readable===!1&&(this.readable=!1),g&&g.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,g&&g.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",b)}function b(){this.allowHalfOpen||this._writableState.ended||i.nextTick(x,this)}function x(g){g.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(g){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=g,this._writableState.destroyed=g)}}),d.prototype._destroy=function(g,w){this.push(null),this.end(),i.nextTick(w,g)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(e,n,s){n.exports=l;var i=e("./_stream_transform"),a=Object.create(e("core-util-is"));function l(c){if(!(this instanceof l))return new l(c);i.call(this,c)}a.inherits=e("inherits"),a.inherits(l,i),l.prototype._transform=function(c,o,u){u(null,c)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(e,n,s){(function(i,a){(function(){var l=e("process-nextick-args");n.exports=G;var c,o=e("isarray");G.ReadableState=L,e("events").EventEmitter;var u=function(U,I){return U.listeners(I).length},p=e("./internal/streams/stream"),h=e("safe-buffer").Buffer,d=(a!==void 0?a:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},b=Object.create(e("core-util-is"));b.inherits=e("inherits");var x=e("util"),g=void 0;g=x&&x.debuglog?x.debuglog("stream"):function(){};var w,v=e("./internal/streams/BufferList"),k=e("./internal/streams/destroy");b.inherits(G,p);var R=["error","close","destroy","pause","resume"];function L(U,I){U=U||{};var Q=I instanceof(c=c||e("./_stream_duplex"));this.objectMode=!!U.objectMode,Q&&(this.objectMode=this.objectMode||!!U.readableObjectMode);var Y=U.highWaterMark,ee=U.readableHighWaterMark,q=this.objectMode?16:16384;this.highWaterMark=Y||Y===0?Y:Q&&(ee||ee===0)?ee:q,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=U.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,U.encoding&&(w||(w=e("string_decoder/").StringDecoder),this.decoder=new w(U.encoding),this.encoding=U.encoding)}function G(U){if(c=c||e("./_stream_duplex"),!(this instanceof G))return new G(U);this._readableState=new L(U,this),this.readable=!0,U&&(typeof U.read=="function"&&(this._read=U.read),typeof U.destroy=="function"&&(this._destroy=U.destroy)),p.call(this)}function V(U,I,Q,Y,ee){var q,te=U._readableState;return I===null?(te.reading=!1,(function(H,z){if(!z.ended){if(z.decoder){var Z=z.decoder.end();Z&&Z.length&&(z.buffer.push(Z),z.length+=z.objectMode?1:Z.length)}z.ended=!0,B(H)}})(U,te)):(ee||(q=(function(H,z){var Z;ae=z,h.isBuffer(ae)||ae instanceof d||typeof z=="string"||z===void 0||H.objectMode||(Z=new TypeError("Invalid non-string/buffer chunk"));var ae;return Z})(te,I)),q?U.emit("error",q):te.objectMode||I&&I.length>0?(typeof I=="string"||te.objectMode||Object.getPrototypeOf(I)===h.prototype||(I=(function(H){return h.from(H)})(I)),Y?te.endEmitted?U.emit("error",new Error("stream.unshift() after end event")):O(U,te,I,!0):te.ended?U.emit("error",new Error("stream.push() after EOF")):(te.reading=!1,te.decoder&&!Q?(I=te.decoder.write(I),te.objectMode||I.length!==0?O(U,te,I,!1):P(U,te)):O(U,te,I,!1))):Y||(te.reading=!1)),(function(H){return!H.ended&&(H.needReadable||H.length<H.highWaterMark||H.length===0)})(te)}function O(U,I,Q,Y){I.flowing&&I.length===0&&!I.sync?(U.emit("data",Q),U.read(0)):(I.length+=I.objectMode?1:Q.length,Y?I.buffer.unshift(Q):I.buffer.push(Q),I.needReadable&&B(U)),P(U,I)}Object.defineProperty(G.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(U){this._readableState&&(this._readableState.destroyed=U)}}),G.prototype.destroy=k.destroy,G.prototype._undestroy=k.undestroy,G.prototype._destroy=function(U,I){this.push(null),I(U)},G.prototype.push=function(U,I){var Q,Y=this._readableState;return Y.objectMode?Q=!0:typeof U=="string"&&((I=I||Y.defaultEncoding)!==Y.encoding&&(U=h.from(U,I),I=""),Q=!0),V(this,U,I,!1,Q)},G.prototype.unshift=function(U){return V(this,U,null,!0,!1)},G.prototype.isPaused=function(){return this._readableState.flowing===!1},G.prototype.setEncoding=function(U){return w||(w=e("string_decoder/").StringDecoder),this._readableState.decoder=new w(U),this._readableState.encoding=U,this};function F(U,I){return U<=0||I.length===0&&I.ended?0:I.objectMode?1:U!=U?I.flowing&&I.length?I.buffer.head.data.length:I.length:(U>I.highWaterMark&&(I.highWaterMark=(function(Q){return Q>=8388608?Q=8388608:(Q--,Q|=Q>>>1,Q|=Q>>>2,Q|=Q>>>4,Q|=Q>>>8,Q|=Q>>>16,Q++),Q})(U)),U<=I.length?U:I.ended?I.length:(I.needReadable=!0,0))}function B(U){var I=U._readableState;I.needReadable=!1,I.emittedReadable||(g("emitReadable",I.flowing),I.emittedReadable=!0,I.sync?l.nextTick(W,U):W(U))}function W(U){g("emit readable"),U.emit("readable"),S(U)}function P(U,I){I.readingMore||(I.readingMore=!0,l.nextTick(N,U,I))}function N(U,I){for(var Q=I.length;!I.reading&&!I.flowing&&!I.ended&&I.length<I.highWaterMark&&(g("maybeReadMore read 0"),U.read(0),Q!==I.length);)Q=I.length;I.readingMore=!1}function D(U){g("readable nexttick read 0"),U.read(0)}function C(U,I){I.reading||(g("resume read 0"),U.read(0)),I.resumeScheduled=!1,I.awaitDrain=0,U.emit("resume"),S(U),I.flowing&&!I.reading&&U.read(0)}function S(U){var I=U._readableState;for(g("flow",I.flowing);I.flowing&&U.read()!==null;);}function T(U,I){return I.length===0?null:(I.objectMode?Q=I.buffer.shift():!U||U>=I.length?(Q=I.decoder?I.buffer.join(""):I.buffer.length===1?I.buffer.head.data:I.buffer.concat(I.length),I.buffer.clear()):Q=(function(Y,ee,q){var te;return Y<ee.head.data.length?(te=ee.head.data.slice(0,Y),ee.head.data=ee.head.data.slice(Y)):te=Y===ee.head.data.length?ee.shift():q?(function(H,z){var Z=z.head,ae=1,re=Z.data;for(H-=re.length;Z=Z.next;){var le=Z.data,de=H>le.length?le.length:H;if(de===le.length?re+=le:re+=le.slice(0,H),(H-=de)===0){de===le.length?(++ae,Z.next?z.head=Z.next:z.head=z.tail=null):(z.head=Z,Z.data=le.slice(de));break}++ae}return z.length-=ae,re})(Y,ee):(function(H,z){var Z=h.allocUnsafe(H),ae=z.head,re=1;for(ae.data.copy(Z),H-=ae.data.length;ae=ae.next;){var le=ae.data,de=H>le.length?le.length:H;if(le.copy(Z,Z.length-H,0,de),(H-=de)===0){de===le.length?(++re,ae.next?z.head=ae.next:z.head=z.tail=null):(z.head=ae,ae.data=le.slice(de));break}++re}return z.length-=re,Z})(Y,ee),te})(U,I.buffer,I.decoder),Q);var Q}function A(U){var I=U._readableState;if(I.length>0)throw new Error('"endReadable()" called on non-empty stream');I.endEmitted||(I.ended=!0,l.nextTick(E,I,U))}function E(U,I){U.endEmitted||U.length!==0||(U.endEmitted=!0,I.readable=!1,I.emit("end"))}function j(U,I){for(var Q=0,Y=U.length;Q<Y;Q++)if(U[Q]===I)return Q;return-1}G.prototype.read=function(U){g("read",U),U=parseInt(U,10);var I=this._readableState,Q=U;if(U!==0&&(I.emittedReadable=!1),U===0&&I.needReadable&&(I.length>=I.highWaterMark||I.ended))return g("read: emitReadable",I.length,I.ended),I.length===0&&I.ended?A(this):B(this),null;if((U=F(U,I))===0&&I.ended)return I.length===0&&A(this),null;var Y,ee=I.needReadable;return g("need readable",ee),(I.length===0||I.length-U<I.highWaterMark)&&g("length less than watermark",ee=!0),I.ended||I.reading?g("reading or ended",ee=!1):ee&&(g("do read"),I.reading=!0,I.sync=!0,I.length===0&&(I.needReadable=!0),this._read(I.highWaterMark),I.sync=!1,I.reading||(U=F(Q,I))),(Y=U>0?T(U,I):null)===null?(I.needReadable=!0,U=0):I.length-=U,I.length===0&&(I.ended||(I.needReadable=!0),Q!==U&&I.ended&&A(this)),Y!==null&&this.emit("data",Y),Y},G.prototype._read=function(U){this.emit("error",new Error("_read() is not implemented"))},G.prototype.pipe=function(U,I){var Q=this,Y=this._readableState;switch(Y.pipesCount){case 0:Y.pipes=U;break;case 1:Y.pipes=[Y.pipes,U];break;default:Y.pipes.push(U)}Y.pipesCount+=1,g("pipe count=%d opts=%j",Y.pipesCount,I);var ee=(!I||I.end!==!1)&&U!==i.stdout&&U!==i.stderr?te:ve;function q(ge,se){g("onunpipe"),ge===Q&&se&&se.hasUnpiped===!1&&(se.hasUnpiped=!0,g("cleanup"),U.removeListener("close",le),U.removeListener("finish",de),U.removeListener("drain",H),U.removeListener("error",re),U.removeListener("unpipe",q),Q.removeListener("end",te),Q.removeListener("end",ve),Q.removeListener("data",ae),z=!0,!Y.awaitDrain||U._writableState&&!U._writableState.needDrain||H())}function te(){g("onend"),U.end()}Y.endEmitted?l.nextTick(ee):Q.once("end",ee),U.on("unpipe",q);var H=(function(ge){return function(){var se=ge._readableState;g("pipeOnDrain",se.awaitDrain),se.awaitDrain&&se.awaitDrain--,se.awaitDrain===0&&u(ge,"data")&&(se.flowing=!0,S(ge))}})(Q);U.on("drain",H);var z=!1,Z=!1;function ae(ge){g("ondata"),Z=!1,U.write(ge)!==!1||Z||((Y.pipesCount===1&&Y.pipes===U||Y.pipesCount>1&&j(Y.pipes,U)!==-1)&&!z&&(g("false write response, pause",Y.awaitDrain),Y.awaitDrain++,Z=!0),Q.pause())}function re(ge){g("onerror",ge),ve(),U.removeListener("error",re),u(U,"error")===0&&U.emit("error",ge)}function le(){U.removeListener("finish",de),ve()}function de(){g("onfinish"),U.removeListener("close",le),ve()}function ve(){g("unpipe"),Q.unpipe(U)}return Q.on("data",ae),(function(ge,se,xe){if(typeof ge.prependListener=="function")return ge.prependListener(se,xe);ge._events&&ge._events[se]?o(ge._events[se])?ge._events[se].unshift(xe):ge._events[se]=[xe,ge._events[se]]:ge.on(se,xe)})(U,"error",re),U.once("close",le),U.once("finish",de),U.emit("pipe",Q),Y.flowing||(g("pipe resume"),Q.resume()),U},G.prototype.unpipe=function(U){var I=this._readableState,Q={hasUnpiped:!1};if(I.pipesCount===0)return this;if(I.pipesCount===1)return U&&U!==I.pipes||(U||(U=I.pipes),I.pipes=null,I.pipesCount=0,I.flowing=!1,U&&U.emit("unpipe",this,Q)),this;if(!U){var Y=I.pipes,ee=I.pipesCount;I.pipes=null,I.pipesCount=0,I.flowing=!1;for(var q=0;q<ee;q++)Y[q].emit("unpipe",this,{hasUnpiped:!1});return this}var te=j(I.pipes,U);return te===-1||(I.pipes.splice(te,1),I.pipesCount-=1,I.pipesCount===1&&(I.pipes=I.pipes[0]),U.emit("unpipe",this,Q)),this},G.prototype.on=function(U,I){var Q=p.prototype.on.call(this,U,I);if(U==="data")this._readableState.flowing!==!1&&this.resume();else if(U==="readable"){var Y=this._readableState;Y.endEmitted||Y.readableListening||(Y.readableListening=Y.needReadable=!0,Y.emittedReadable=!1,Y.reading?Y.length&&B(this):l.nextTick(D,this))}return Q},G.prototype.addListener=G.prototype.on,G.prototype.resume=function(){var U=this._readableState;return U.flowing||(g("resume"),U.flowing=!0,(function(I,Q){Q.resumeScheduled||(Q.resumeScheduled=!0,l.nextTick(C,I,Q))})(this,U)),this},G.prototype.pause=function(){return g("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(g("pause"),this._readableState.flowing=!1,this.emit("pause")),this},G.prototype.wrap=function(U){var I=this,Q=this._readableState,Y=!1;for(var ee in U.on("end",(function(){if(g("wrapped end"),Q.decoder&&!Q.ended){var te=Q.decoder.end();te&&te.length&&I.push(te)}I.push(null)})),U.on("data",(function(te){g("wrapped data"),Q.decoder&&(te=Q.decoder.write(te)),Q.objectMode&&te==null||(Q.objectMode||te&&te.length)&&(I.push(te)||(Y=!0,U.pause()))})),U)this[ee]===void 0&&typeof U[ee]=="function"&&(this[ee]=(function(te){return function(){return U[te].apply(U,arguments)}})(ee));for(var q=0;q<R.length;q++)U.on(R[q],this.emit.bind(this,R[q]));return this._read=function(te){g("wrapped _read",te),Y&&(Y=!1,U.resume())},this},Object.defineProperty(G.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),G._fromList=T}).call(this)}).call(this,e("_process"),typeof mr<"u"?mr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(e,n,s){n.exports=c;var i=e("./_stream_duplex"),a=Object.create(e("core-util-is"));function l(p,h){var d=this._transformState;d.transforming=!1;var b=d.writecb;if(!b)return this.emit("error",new Error("write callback called multiple times"));d.writechunk=null,d.writecb=null,h!=null&&this.push(h),b(p);var x=this._readableState;x.reading=!1,(x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}function c(p){if(!(this instanceof c))return new c(p);i.call(this,p),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,p&&(typeof p.transform=="function"&&(this._transform=p.transform),typeof p.flush=="function"&&(this._flush=p.flush)),this.on("prefinish",o)}function o(){var p=this;typeof this._flush=="function"?this._flush((function(h,d){u(p,h,d)})):u(this,null,null)}function u(p,h,d){if(h)return p.emit("error",h);if(d!=null&&p.push(d),p._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(p._transformState.transforming)throw new Error("Calling transform done when still transforming");return p.push(null)}a.inherits=e("inherits"),a.inherits(c,i),c.prototype.push=function(p,h){return this._transformState.needTransform=!1,i.prototype.push.call(this,p,h)},c.prototype._transform=function(p,h,d){throw new Error("_transform() is not implemented")},c.prototype._write=function(p,h,d){var b=this._transformState;if(b.writecb=d,b.writechunk=p,b.writeencoding=h,!b.transforming){var x=this._readableState;(b.needTransform||x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}},c.prototype._read=function(p){var h=this._transformState;h.writechunk!==null&&h.writecb&&!h.transforming?(h.transforming=!0,this._transform(h.writechunk,h.writeencoding,h.afterTransform)):h.needTransform=!0},c.prototype._destroy=function(p,h){var d=this;i.prototype._destroy.call(this,p,(function(b){h(b),d.emit("close")}))}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(e,n,s){(function(i,a,l){(function(){var c=e("process-nextick-args");function o(P){var N=this;this.next=null,this.entry=null,this.finish=function(){(function(D,C,S){var T=D.entry;for(D.entry=null;T;){var A=T.callback;C.pendingcb--,A(S),T=T.next}C.corkedRequestsFree.next=D})(N,P)}}n.exports=L;var u,p=!i.browser&&["v0.10","v0.9."].indexOf(i.version.slice(0,5))>-1?l:c.nextTick;L.WritableState=R;var h=Object.create(e("core-util-is"));h.inherits=e("inherits");var d={deprecate:e("util-deprecate")},b=e("./internal/streams/stream"),x=e("safe-buffer").Buffer,g=(a!==void 0?a:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},w,v=e("./internal/streams/destroy");function k(){}function R(P,N){u=u||e("./_stream_duplex"),P=P||{};var D=N instanceof u;this.objectMode=!!P.objectMode,D&&(this.objectMode=this.objectMode||!!P.writableObjectMode);var C=P.highWaterMark,S=P.writableHighWaterMark,T=this.objectMode?16:16384;this.highWaterMark=C||C===0?C:D&&(S||S===0)?S:T,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var A=P.decodeStrings===!1;this.decodeStrings=!A,this.defaultEncoding=P.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(E){(function(j,U){var I=j._writableState,Q=I.sync,Y=I.writecb;if((function(q){q.writing=!1,q.writecb=null,q.length-=q.writelen,q.writelen=0})(I),U)(function(q,te,H,z,Z){--te.pendingcb,H?(c.nextTick(Z,z),c.nextTick(W,q,te),q._writableState.errorEmitted=!0,q.emit("error",z)):(Z(z),q._writableState.errorEmitted=!0,q.emit("error",z),W(q,te))})(j,I,Q,U,Y);else{var ee=F(I);ee||I.corked||I.bufferProcessing||!I.bufferedRequest||O(j,I),Q?p(V,j,I,ee,Y):V(j,I,ee,Y)}})(N,E)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function L(P){if(u=u||e("./_stream_duplex"),!(w.call(L,this)||this instanceof u))return new L(P);this._writableState=new R(P,this),this.writable=!0,P&&(typeof P.write=="function"&&(this._write=P.write),typeof P.writev=="function"&&(this._writev=P.writev),typeof P.destroy=="function"&&(this._destroy=P.destroy),typeof P.final=="function"&&(this._final=P.final)),b.call(this)}function G(P,N,D,C,S,T,A){N.writelen=C,N.writecb=A,N.writing=!0,N.sync=!0,D?P._writev(S,N.onwrite):P._write(S,T,N.onwrite),N.sync=!1}function V(P,N,D,C){D||(function(S,T){T.length===0&&T.needDrain&&(T.needDrain=!1,S.emit("drain"))})(P,N),N.pendingcb--,C(),W(P,N)}function O(P,N){N.bufferProcessing=!0;var D=N.bufferedRequest;if(P._writev&&D&&D.next){var C=N.bufferedRequestCount,S=new Array(C),T=N.corkedRequestsFree;T.entry=D;for(var A=0,E=!0;D;)S[A]=D,D.isBuf||(E=!1),D=D.next,A+=1;S.allBuffers=E,G(P,N,!0,N.length,S,"",T.finish),N.pendingcb++,N.lastBufferedRequest=null,T.next?(N.corkedRequestsFree=T.next,T.next=null):N.corkedRequestsFree=new o(N),N.bufferedRequestCount=0}else{for(;D;){var j=D.chunk,U=D.encoding,I=D.callback;if(G(P,N,!1,N.objectMode?1:j.length,j,U,I),D=D.next,N.bufferedRequestCount--,N.writing)break}D===null&&(N.lastBufferedRequest=null)}N.bufferedRequest=D,N.bufferProcessing=!1}function F(P){return P.ending&&P.length===0&&P.bufferedRequest===null&&!P.finished&&!P.writing}function B(P,N){P._final((function(D){N.pendingcb--,D&&P.emit("error",D),N.prefinished=!0,P.emit("prefinish"),W(P,N)}))}function W(P,N){var D=F(N);return D&&((function(C,S){S.prefinished||S.finalCalled||(typeof C._final=="function"?(S.pendingcb++,S.finalCalled=!0,c.nextTick(B,C,S)):(S.prefinished=!0,C.emit("prefinish")))})(P,N),N.pendingcb===0&&(N.finished=!0,P.emit("finish"))),D}h.inherits(L,b),R.prototype.getBuffer=function(){for(var P=this.bufferedRequest,N=[];P;)N.push(P),P=P.next;return N},(function(){try{Object.defineProperty(R.prototype,"buffer",{get:d.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(w=Function.prototype[Symbol.hasInstance],Object.defineProperty(L,Symbol.hasInstance,{value:function(P){return!!w.call(this,P)||this===L&&P&&P._writableState instanceof R}})):w=function(P){return P instanceof this},L.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},L.prototype.write=function(P,N,D){var C,S=this._writableState,T=!1,A=!S.objectMode&&(C=P,x.isBuffer(C)||C instanceof g);return A&&!x.isBuffer(P)&&(P=(function(E){return x.from(E)})(P)),typeof N=="function"&&(D=N,N=null),A?N="buffer":N||(N=S.defaultEncoding),typeof D!="function"&&(D=k),S.ended?(function(E,j){var U=new Error("write after end");E.emit("error",U),c.nextTick(j,U)})(this,D):(A||(function(E,j,U,I){var Q=!0,Y=!1;return U===null?Y=new TypeError("May not write null values to stream"):typeof U=="string"||U===void 0||j.objectMode||(Y=new TypeError("Invalid non-string/buffer chunk")),Y&&(E.emit("error",Y),c.nextTick(I,Y),Q=!1),Q})(this,S,P,D))&&(S.pendingcb++,T=(function(E,j,U,I,Q,Y){if(!U){var ee=(function(z,Z,ae){return z.objectMode||z.decodeStrings===!1||typeof Z!="string"||(Z=x.from(Z,ae)),Z})(j,I,Q);I!==ee&&(U=!0,Q="buffer",I=ee)}var q=j.objectMode?1:I.length;j.length+=q;var te=j.length<j.highWaterMark;if(te||(j.needDrain=!0),j.writing||j.corked){var H=j.lastBufferedRequest;j.lastBufferedRequest={chunk:I,encoding:Q,isBuf:U,callback:Y,next:null},H?H.next=j.lastBufferedRequest:j.bufferedRequest=j.lastBufferedRequest,j.bufferedRequestCount+=1}else G(E,j,!1,q,I,Q,Y);return te})(this,S,A,P,N,D)),T},L.prototype.cork=function(){this._writableState.corked++},L.prototype.uncork=function(){var P=this._writableState;P.corked&&(P.corked--,P.writing||P.corked||P.bufferProcessing||!P.bufferedRequest||O(this,P))},L.prototype.setDefaultEncoding=function(P){if(typeof P=="string"&&(P=P.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((P+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+P);return this._writableState.defaultEncoding=P,this},Object.defineProperty(L.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),L.prototype._write=function(P,N,D){D(new Error("_write() is not implemented"))},L.prototype._writev=null,L.prototype.end=function(P,N,D){var C=this._writableState;typeof P=="function"?(D=P,P=null,N=null):typeof N=="function"&&(D=N,N=null),P!=null&&this.write(P,N),C.corked&&(C.corked=1,this.uncork()),C.ending||(function(S,T,A){T.ending=!0,W(S,T),A&&(T.finished?c.nextTick(A):S.once("finish",A)),T.ended=!0,S.writable=!1})(this,C,D)},Object.defineProperty(L.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(P){this._writableState&&(this._writableState.destroyed=P)}}),L.prototype.destroy=v.destroy,L.prototype._undestroy=v.undestroy,L.prototype._destroy=function(P,N){this.end(),N(P)}}).call(this)}).call(this,e("_process"),typeof mr<"u"?mr:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(e,n,s){var i=e("safe-buffer").Buffer,a=e("util");n.exports=(function(){function l(){(function(c,o){if(!(c instanceof o))throw new TypeError("Cannot call a class as a function")})(this,l),this.head=null,this.tail=null,this.length=0}return l.prototype.push=function(c){var o={data:c,next:null};this.length>0?this.tail.next=o:this.head=o,this.tail=o,++this.length},l.prototype.unshift=function(c){var o={data:c,next:this.head};this.length===0&&(this.tail=o),this.head=o,++this.length},l.prototype.shift=function(){if(this.length!==0){var c=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,c}},l.prototype.clear=function(){this.head=this.tail=null,this.length=0},l.prototype.join=function(c){if(this.length===0)return"";for(var o=this.head,u=""+o.data;o=o.next;)u+=c+o.data;return u},l.prototype.concat=function(c){if(this.length===0)return i.alloc(0);for(var o,u,p,h=i.allocUnsafe(c>>>0),d=this.head,b=0;d;)o=d.data,u=h,p=b,o.copy(u,p),b+=d.data.length,d=d.next;return h},l})(),a&&a.inspect&&a.inspect.custom&&(n.exports.prototype[a.inspect.custom]=function(){var l=a.inspect({length:this.length});return this.constructor.name+" "+l})},{"safe-buffer":520,util:188}],514:[function(e,n,s){var i=e("process-nextick-args");function a(l,c){l.emit("error",c)}n.exports={destroy:function(l,c){var o=this,u=this._readableState&&this._readableState.destroyed,p=this._writableState&&this._writableState.destroyed;return u||p?(c?c(l):l&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(a,this,l)):i.nextTick(a,this,l)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(l||null,(function(h){!c&&h?o._writableState?o._writableState.errorEmitted||(o._writableState.errorEmitted=!0,i.nextTick(a,o,h)):i.nextTick(a,o,h):c&&c(h)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(e,n,s){arguments[4][490][0].apply(s,arguments)},{dup:490,events:422}],516:[function(e,n,s){n.exports=e("./readable").PassThrough},{"./readable":517}],517:[function(e,n,s){(s=n.exports=e("./lib/_stream_readable.js")).Stream=s,s.Readable=s,s.Writable=e("./lib/_stream_writable.js"),s.Duplex=e("./lib/_stream_duplex.js"),s.Transform=e("./lib/_stream_transform.js"),s.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(e,n,s){n.exports=e("./readable").Transform},{"./readable":517}],519:[function(e,n,s){n.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(e,n,s){arguments[4][217][0].apply(s,arguments)},{buffer:220,dup:217}],521:[function(e,n,s){arguments[4][218][0].apply(s,arguments)},{dup:218,"safe-buffer":520}],522:[function(e,n,s){arguments[4][218][0].apply(s,arguments)},{dup:218,"safe-buffer":494}],523:[function(e,n,s){(function(i,a){(function(){var l=e("process/browser.js").nextTick,c=Function.prototype.apply,o=Array.prototype.slice,u={},p=0;function h(d,b){this._id=d,this._clearFn=b}s.setTimeout=function(){return new h(c.call(setTimeout,window,arguments),clearTimeout)},s.setInterval=function(){return new h(c.call(setInterval,window,arguments),clearInterval)},s.clearTimeout=s.clearInterval=function(d){d.close()},h.prototype.unref=h.prototype.ref=function(){},h.prototype.close=function(){this._clearFn.call(window,this._id)},s.enroll=function(d,b){clearTimeout(d._idleTimeoutId),d._idleTimeout=b},s.unenroll=function(d){clearTimeout(d._idleTimeoutId),d._idleTimeout=-1},s._unrefActive=s.active=function(d){clearTimeout(d._idleTimeoutId);var b=d._idleTimeout;b>=0&&(d._idleTimeoutId=setTimeout((function(){d._onTimeout&&d._onTimeout()}),b))},s.setImmediate=typeof i=="function"?i:function(d){var b=p++,x=!(arguments.length<2)&&o.call(arguments,1);return u[b]=!0,l((function(){u[b]&&(x?d.apply(null,x):d.call(null),s.clearImmediate(b))})),b},s.clearImmediate=typeof a=="function"?a:function(d){delete u[d]}}).call(this)}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(e,n,s){(function(i){(function(){function a(l){try{if(!i.localStorage)return!1}catch{return!1}var c=i.localStorage[l];return c!=null&&String(c).toLowerCase()==="true"}n.exports=function(l,c){if(a("noDeprecation"))return l;var o=!1;return function(){if(!o){if(a("throwDeprecation"))throw new Error(c);a("traceDeprecation")?console.trace(c):console.warn(c),o=!0}return l.apply(this,arguments)}}}).call(this)}).call(this,typeof mr<"u"?mr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(e,n,s){typeof Object.create=="function"?n.exports=function(i,a){i.super_=a,i.prototype=Object.create(a.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}})}:n.exports=function(i,a){i.super_=a;var l=function(){};l.prototype=a.prototype,i.prototype=new l,i.prototype.constructor=i}},{}],526:[function(e,n,s){n.exports=function(i){return i&&typeof i=="object"&&typeof i.copy=="function"&&typeof i.fill=="function"&&typeof i.readUInt8=="function"}},{}],527:[function(e,n,s){(function(i,a){(function(){var l=/%[sdj%]/g;s.format=function(S){if(!R(S)){for(var T=[],A=0;A<arguments.length;A++)T.push(u(arguments[A]));return T.join(" ")}A=1;for(var E=arguments,j=E.length,U=String(S).replace(l,(function(Q){if(Q==="%%")return"%";if(A>=j)return Q;switch(Q){case"%s":return String(E[A++]);case"%d":return Number(E[A++]);case"%j":try{return JSON.stringify(E[A++])}catch{return"[Circular]"}default:return Q}})),I=E[A];A<j;I=E[++A])v(I)||!V(I)?U+=" "+I:U+=" "+u(I);return U},s.deprecate=function(S,T){if(L(a.process))return function(){return s.deprecate(S,T).apply(this,arguments)};if(i.noDeprecation===!0)return S;var A=!1;return function(){if(!A){if(i.throwDeprecation)throw new Error(T);i.traceDeprecation?console.trace(T):console.error(T),A=!0}return S.apply(this,arguments)}};var c,o={};function u(S,T){var A={seen:[],stylize:h};return arguments.length>=3&&(A.depth=arguments[2]),arguments.length>=4&&(A.colors=arguments[3]),w(T)?A.showHidden=T:T&&s._extend(A,T),L(A.showHidden)&&(A.showHidden=!1),L(A.depth)&&(A.depth=2),L(A.colors)&&(A.colors=!1),L(A.customInspect)&&(A.customInspect=!0),A.colors&&(A.stylize=p),d(A,S,A.depth)}function p(S,T){var A=u.styles[T];return A?"\x1B["+u.colors[A][0]+"m"+S+"\x1B["+u.colors[A][1]+"m":S}function h(S,T){return S}function d(S,T,A){if(S.customInspect&&T&&B(T.inspect)&&T.inspect!==s.inspect&&(!T.constructor||T.constructor.prototype!==T)){var E=T.inspect(A,S);return R(E)||(E=d(S,E,A)),E}var j=(function(H,z){if(L(z))return H.stylize("undefined","undefined");if(R(z)){var Z="'"+JSON.stringify(z).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return H.stylize(Z,"string")}if(k(z))return H.stylize(""+z,"number");if(w(z))return H.stylize(""+z,"boolean");if(v(z))return H.stylize("null","null")})(S,T);if(j)return j;var U=Object.keys(T),I=(function(H){var z={};return H.forEach((function(Z,ae){z[Z]=!0})),z})(U);if(S.showHidden&&(U=Object.getOwnPropertyNames(T)),F(T)&&(U.indexOf("message")>=0||U.indexOf("description")>=0))return b(T);if(U.length===0){if(B(T)){var Q=T.name?": "+T.name:"";return S.stylize("[Function"+Q+"]","special")}if(G(T))return S.stylize(RegExp.prototype.toString.call(T),"regexp");if(O(T))return S.stylize(Date.prototype.toString.call(T),"date");if(F(T))return b(T)}var Y,ee="",q=!1,te=["{","}"];return g(T)&&(q=!0,te=["[","]"]),B(T)&&(ee=" [Function"+(T.name?": "+T.name:"")+"]"),G(T)&&(ee=" "+RegExp.prototype.toString.call(T)),O(T)&&(ee=" "+Date.prototype.toUTCString.call(T)),F(T)&&(ee=" "+b(T)),U.length!==0||q&&T.length!=0?A<0?G(T)?S.stylize(RegExp.prototype.toString.call(T),"regexp"):S.stylize("[Object]","special"):(S.seen.push(T),Y=q?(function(H,z,Z,ae,re){for(var le=[],de=0,ve=z.length;de<ve;++de)C(z,String(de))?le.push(x(H,z,Z,ae,String(de),!0)):le.push("");return re.forEach((function(ge){ge.match(/^\d+$/)||le.push(x(H,z,Z,ae,ge,!0))})),le})(S,T,A,I,U):U.map((function(H){return x(S,T,A,I,H,q)})),S.seen.pop(),(function(H,z,Z){return H.reduce((function(ae,re){return re.indexOf(`
`)>=0,ae+re.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?Z[0]+(z===""?"":z+`
 `)+" "+H.join(`,
  `)+" "+Z[1]:Z[0]+z+" "+H.join(", ")+" "+Z[1]})(Y,ee,te)):te[0]+ee+te[1]}function b(S){return"["+Error.prototype.toString.call(S)+"]"}function x(S,T,A,E,j,U){var I,Q,Y;if((Y=Object.getOwnPropertyDescriptor(T,j)||{value:T[j]}).get?Q=Y.set?S.stylize("[Getter/Setter]","special"):S.stylize("[Getter]","special"):Y.set&&(Q=S.stylize("[Setter]","special")),C(E,j)||(I="["+j+"]"),Q||(S.seen.indexOf(Y.value)<0?(Q=v(A)?d(S,Y.value,null):d(S,Y.value,A-1)).indexOf(`
`)>-1&&(Q=U?Q.split(`
`).map((function(ee){return"  "+ee})).join(`
`).substr(2):`
`+Q.split(`
`).map((function(ee){return"   "+ee})).join(`
`)):Q=S.stylize("[Circular]","special")),L(I)){if(U&&j.match(/^\d+$/))return Q;(I=JSON.stringify(""+j)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(I=I.substr(1,I.length-2),I=S.stylize(I,"name")):(I=I.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),I=S.stylize(I,"string"))}return I+": "+Q}function g(S){return Array.isArray(S)}function w(S){return typeof S=="boolean"}function v(S){return S===null}function k(S){return typeof S=="number"}function R(S){return typeof S=="string"}function L(S){return S===void 0}function G(S){return V(S)&&W(S)==="[object RegExp]"}function V(S){return typeof S=="object"&&S!==null}function O(S){return V(S)&&W(S)==="[object Date]"}function F(S){return V(S)&&(W(S)==="[object Error]"||S instanceof Error)}function B(S){return typeof S=="function"}function W(S){return Object.prototype.toString.call(S)}function P(S){return S<10?"0"+S.toString(10):S.toString(10)}s.debuglog=function(S){if(L(c)&&(c=i.env.NODE_DEBUG||""),S=S.toUpperCase(),!o[S])if(new RegExp("\\b"+S+"\\b","i").test(c)){var T=i.pid;o[S]=function(){var A=s.format.apply(s,arguments);console.error("%s %d: %s",S,T,A)}}else o[S]=function(){};return o[S]},s.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},s.isArray=g,s.isBoolean=w,s.isNull=v,s.isNullOrUndefined=function(S){return S==null},s.isNumber=k,s.isString=R,s.isSymbol=function(S){return typeof S=="symbol"},s.isUndefined=L,s.isRegExp=G,s.isObject=V,s.isDate=O,s.isError=F,s.isFunction=B,s.isPrimitive=function(S){return S===null||typeof S=="boolean"||typeof S=="number"||typeof S=="string"||typeof S=="symbol"||S===void 0},s.isBuffer=e("./support/isBuffer");var N=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function D(){var S=new Date,T=[P(S.getHours()),P(S.getMinutes()),P(S.getSeconds())].join(":");return[S.getDate(),N[S.getMonth()],T].join(" ")}function C(S,T){return Object.prototype.hasOwnProperty.call(S,T)}s.log=function(){console.log("%s - %s",D(),s.format.apply(s,arguments))},s.inherits=e("inherits"),s._extend=function(S,T){if(!T||!V(T))return S;for(var A=Object.keys(T),E=A.length;E--;)S[A[E]]=T[A[E]];return S}}).call(this)}).call(this,e("_process"),typeof mr<"u"?mr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"v1",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(s,"v3",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(s,"v4",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(s,"v5",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(s,"NIL",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(s,"version",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(s,"validate",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(s,"stringify",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(s,"parse",{enumerable:!0,get:function(){return d.default}});var i=b(e("./v1.js")),a=b(e("./v3.js")),l=b(e("./v4.js")),c=b(e("./v5.js")),o=b(e("./nil.js")),u=b(e("./version.js")),p=b(e("./validate.js")),h=b(e("./stringify.js")),d=b(e("./parse.js"));function b(x){return x&&x.__esModule?x:{default:x}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(e,n,s){function i(d){return 14+(d+64>>>9<<4)+1}function a(d,b){const x=(65535&d)+(65535&b);return(d>>16)+(b>>16)+(x>>16)<<16|65535&x}function l(d,b,x,g,w,v){return a((k=a(a(b,d),a(g,v)))<<(R=w)|k>>>32-R,x);var k,R}function c(d,b,x,g,w,v,k){return l(b&x|~b&g,d,b,w,v,k)}function o(d,b,x,g,w,v,k){return l(b&g|x&~g,d,b,w,v,k)}function u(d,b,x,g,w,v,k){return l(b^x^g,d,b,w,v,k)}function p(d,b,x,g,w,v,k){return l(x^(b|~g),d,b,w,v,k)}Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var h=function(d){if(typeof d=="string"){const b=unescape(encodeURIComponent(d));d=new Uint8Array(b.length);for(let x=0;x<b.length;++x)d[x]=b.charCodeAt(x)}return(function(b){const x=[],g=32*b.length;for(let w=0;w<g;w+=8){const v=b[w>>5]>>>w%32&255,k=parseInt("0123456789abcdef".charAt(v>>>4&15)+"0123456789abcdef".charAt(15&v),16);x.push(k)}return x})((function(b,x){b[x>>5]|=128<<x%32,b[i(x)-1]=x;let g=1732584193,w=-271733879,v=-1732584194,k=271733878;for(let R=0;R<b.length;R+=16){const L=g,G=w,V=v,O=k;g=c(g,w,v,k,b[R],7,-680876936),k=c(k,g,w,v,b[R+1],12,-389564586),v=c(v,k,g,w,b[R+2],17,606105819),w=c(w,v,k,g,b[R+3],22,-1044525330),g=c(g,w,v,k,b[R+4],7,-176418897),k=c(k,g,w,v,b[R+5],12,1200080426),v=c(v,k,g,w,b[R+6],17,-1473231341),w=c(w,v,k,g,b[R+7],22,-45705983),g=c(g,w,v,k,b[R+8],7,1770035416),k=c(k,g,w,v,b[R+9],12,-1958414417),v=c(v,k,g,w,b[R+10],17,-42063),w=c(w,v,k,g,b[R+11],22,-1990404162),g=c(g,w,v,k,b[R+12],7,1804603682),k=c(k,g,w,v,b[R+13],12,-40341101),v=c(v,k,g,w,b[R+14],17,-1502002290),w=c(w,v,k,g,b[R+15],22,1236535329),g=o(g,w,v,k,b[R+1],5,-165796510),k=o(k,g,w,v,b[R+6],9,-1069501632),v=o(v,k,g,w,b[R+11],14,643717713),w=o(w,v,k,g,b[R],20,-373897302),g=o(g,w,v,k,b[R+5],5,-701558691),k=o(k,g,w,v,b[R+10],9,38016083),v=o(v,k,g,w,b[R+15],14,-660478335),w=o(w,v,k,g,b[R+4],20,-405537848),g=o(g,w,v,k,b[R+9],5,568446438),k=o(k,g,w,v,b[R+14],9,-1019803690),v=o(v,k,g,w,b[R+3],14,-187363961),w=o(w,v,k,g,b[R+8],20,1163531501),g=o(g,w,v,k,b[R+13],5,-1444681467),k=o(k,g,w,v,b[R+2],9,-51403784),v=o(v,k,g,w,b[R+7],14,1735328473),w=o(w,v,k,g,b[R+12],20,-1926607734),g=u(g,w,v,k,b[R+5],4,-378558),k=u(k,g,w,v,b[R+8],11,-2022574463),v=u(v,k,g,w,b[R+11],16,1839030562),w=u(w,v,k,g,b[R+14],23,-35309556),g=u(g,w,v,k,b[R+1],4,-1530992060),k=u(k,g,w,v,b[R+4],11,1272893353),v=u(v,k,g,w,b[R+7],16,-155497632),w=u(w,v,k,g,b[R+10],23,-1094730640),g=u(g,w,v,k,b[R+13],4,681279174),k=u(k,g,w,v,b[R],11,-358537222),v=u(v,k,g,w,b[R+3],16,-722521979),w=u(w,v,k,g,b[R+6],23,76029189),g=u(g,w,v,k,b[R+9],4,-640364487),k=u(k,g,w,v,b[R+12],11,-421815835),v=u(v,k,g,w,b[R+15],16,530742520),w=u(w,v,k,g,b[R+2],23,-995338651),g=p(g,w,v,k,b[R],6,-198630844),k=p(k,g,w,v,b[R+7],10,1126891415),v=p(v,k,g,w,b[R+14],15,-1416354905),w=p(w,v,k,g,b[R+5],21,-57434055),g=p(g,w,v,k,b[R+12],6,1700485571),k=p(k,g,w,v,b[R+3],10,-1894986606),v=p(v,k,g,w,b[R+10],15,-1051523),w=p(w,v,k,g,b[R+1],21,-2054922799),g=p(g,w,v,k,b[R+8],6,1873313359),k=p(k,g,w,v,b[R+15],10,-30611744),v=p(v,k,g,w,b[R+6],15,-1560198380),w=p(w,v,k,g,b[R+13],21,1309151649),g=p(g,w,v,k,b[R+4],6,-145523070),k=p(k,g,w,v,b[R+11],10,-1120210379),v=p(v,k,g,w,b[R+2],15,718787259),w=p(w,v,k,g,b[R+9],21,-343485551),g=a(g,L),w=a(w,G),v=a(v,V),k=a(k,O)}return[g,w,v,k]})((function(b){if(b.length===0)return[];const x=8*b.length,g=new Uint32Array(i(x));for(let w=0;w<x;w+=8)g[w>>5]|=(255&b[w/8])<<w%32;return g})(d),8*d.length))};s.default=h},{}],530:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,s.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i,a=(i=e("./validate.js"))&&i.__esModule?i:{default:i},l=function(c){if(!(0,a.default)(c))throw TypeError("Invalid UUID");let o;const u=new Uint8Array(16);return u[0]=(o=parseInt(c.slice(0,8),16))>>>24,u[1]=o>>>16&255,u[2]=o>>>8&255,u[3]=255&o,u[4]=(o=parseInt(c.slice(9,13),16))>>>8,u[5]=255&o,u[6]=(o=parseInt(c.slice(14,18),16))>>>8,u[7]=255&o,u[8]=(o=parseInt(c.slice(19,23),16))>>>8,u[9]=255&o,u[10]=(o=parseInt(c.slice(24,36),16))/1099511627776&255,u[11]=o/4294967296&255,u[12]=o>>>24&255,u[13]=o>>>16&255,u[14]=o>>>8&255,u[15]=255&o,u};s.default=l},{"./validate.js":541}],532:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,s.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(e,n,s){let i;Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(){if(!i&&(i=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!i))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(a)};const a=new Uint8Array(16)},{}],534:[function(e,n,s){function i(c,o,u,p){switch(c){case 0:return o&u^~o&p;case 1:return o^u^p;case 2:return o&u^o&p^u&p;case 3:return o^u^p}}function a(c,o){return c<<o|c>>>32-o}Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=function(c){const o=[1518500249,1859775393,2400959708,3395469782],u=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof c=="string"){const b=unescape(encodeURIComponent(c));c=[];for(let x=0;x<b.length;++x)c.push(b.charCodeAt(x))}else Array.isArray(c)||(c=Array.prototype.slice.call(c));c.push(128);const p=c.length/4+2,h=Math.ceil(p/16),d=new Array(h);for(let b=0;b<h;++b){const x=new Uint32Array(16);for(let g=0;g<16;++g)x[g]=c[64*b+4*g]<<24|c[64*b+4*g+1]<<16|c[64*b+4*g+2]<<8|c[64*b+4*g+3];d[b]=x}d[h-1][14]=8*(c.length-1)/Math.pow(2,32),d[h-1][14]=Math.floor(d[h-1][14]),d[h-1][15]=8*(c.length-1)&4294967295;for(let b=0;b<h;++b){const x=new Uint32Array(80);for(let L=0;L<16;++L)x[L]=d[b][L];for(let L=16;L<80;++L)x[L]=a(x[L-3]^x[L-8]^x[L-14]^x[L-16],1);let g=u[0],w=u[1],v=u[2],k=u[3],R=u[4];for(let L=0;L<80;++L){const G=Math.floor(L/20),V=a(g,5)+i(G,w,v,k)+R+o[G]+x[L]>>>0;R=k,k=v,v=a(w,30)>>>0,w=g,g=V}u[0]=u[0]+g>>>0,u[1]=u[1]+w>>>0,u[2]=u[2]+v>>>0,u[3]=u[3]+k>>>0,u[4]=u[4]+R>>>0}return[u[0]>>24&255,u[0]>>16&255,u[0]>>8&255,255&u[0],u[1]>>24&255,u[1]>>16&255,u[1]>>8&255,255&u[1],u[2]>>24&255,u[2]>>16&255,u[2]>>8&255,255&u[2],u[3]>>24&255,u[3]>>16&255,u[3]>>8&255,255&u[3],u[4]>>24&255,u[4]>>16&255,u[4]>>8&255,255&u[4]]};s.default=l},{}],535:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i,a=(i=e("./validate.js"))&&i.__esModule?i:{default:i};const l=[];for(let o=0;o<256;++o)l.push((o+256).toString(16).substr(1));var c=function(o){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const p=(l[o[u+0]]+l[o[u+1]]+l[o[u+2]]+l[o[u+3]]+"-"+l[o[u+4]]+l[o[u+5]]+"-"+l[o[u+6]]+l[o[u+7]]+"-"+l[o[u+8]]+l[o[u+9]]+"-"+l[o[u+10]]+l[o[u+11]]+l[o[u+12]]+l[o[u+13]]+l[o[u+14]]+l[o[u+15]]).toLowerCase();if(!(0,a.default)(p))throw TypeError("Stringified UUID is invalid");return p};s.default=c},{"./validate.js":541}],536:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=l(e("./rng.js")),a=l(e("./stringify.js"));function l(d){return d&&d.__esModule?d:{default:d}}let c,o,u=0,p=0;var h=function(d,b,x){let g=b&&x||0;const w=b||new Array(16);let v=(d=d||{}).node||c,k=d.clockseq!==void 0?d.clockseq:o;if(v==null||k==null){const F=d.random||(d.rng||i.default)();v==null&&(v=c=[1|F[0],F[1],F[2],F[3],F[4],F[5]]),k==null&&(k=o=16383&(F[6]<<8|F[7]))}let R=d.msecs!==void 0?d.msecs:Date.now(),L=d.nsecs!==void 0?d.nsecs:p+1;const G=R-u+(L-p)/1e4;if(G<0&&d.clockseq===void 0&&(k=k+1&16383),(G<0||R>u)&&d.nsecs===void 0&&(L=0),L>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=R,p=L,o=k,R+=122192928e5;const V=(1e4*(268435455&R)+L)%4294967296;w[g++]=V>>>24&255,w[g++]=V>>>16&255,w[g++]=V>>>8&255,w[g++]=255&V;const O=R/4294967296*1e4&268435455;w[g++]=O>>>8&255,w[g++]=255&O,w[g++]=O>>>24&15|16,w[g++]=O>>>16&255,w[g++]=k>>>8|128,w[g++]=255&k;for(let F=0;F<6;++F)w[g+F]=v[F];return b||(0,a.default)(w)};s.default=h},{"./rng.js":533,"./stringify.js":535}],537:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=l(e("./v35.js")),a=l(e("./md5.js"));function l(o){return o&&o.__esModule?o:{default:o}}var c=(0,i.default)("v3",48,a.default);s.default=c},{"./md5.js":529,"./v35.js":538}],538:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(u,p,h){function d(b,x,g,w){if(typeof b=="string"&&(b=(function(k){k=unescape(encodeURIComponent(k));const R=[];for(let L=0;L<k.length;++L)R.push(k.charCodeAt(L));return R})(b)),typeof x=="string"&&(x=(0,a.default)(x)),x.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let v=new Uint8Array(16+b.length);if(v.set(x),v.set(b,x.length),v=h(v),v[6]=15&v[6]|p,v[8]=63&v[8]|128,g){w=w||0;for(let k=0;k<16;++k)g[w+k]=v[k];return g}return(0,i.default)(v)}try{d.name=u}catch{}return d.DNS=c,d.URL=o,d},s.URL=s.DNS=void 0;var i=l(e("./stringify.js")),a=l(e("./parse.js"));function l(u){return u&&u.__esModule?u:{default:u}}const c="6ba7b810-9dad-11d1-80b4-00c04fd430c8";s.DNS=c;const o="6ba7b811-9dad-11d1-80b4-00c04fd430c8";s.URL=o},{"./parse.js":531,"./stringify.js":535}],539:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=l(e("./rng.js")),a=l(e("./stringify.js"));function l(o){return o&&o.__esModule?o:{default:o}}var c=function(o,u,p){const h=(o=o||{}).random||(o.rng||i.default)();if(h[6]=15&h[6]|64,h[8]=63&h[8]|128,u){p=p||0;for(let d=0;d<16;++d)u[p+d]=h[d];return u}return(0,a.default)(h)};s.default=c},{"./rng.js":533,"./stringify.js":535}],540:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=l(e("./v35.js")),a=l(e("./sha1.js"));function l(o){return o&&o.__esModule?o:{default:o}}var c=(0,i.default)("v5",80,a.default);s.default=c},{"./sha1.js":534,"./v35.js":538}],541:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i,a=(i=e("./regex.js"))&&i.__esModule?i:{default:i},l=function(c){return typeof c=="string"&&a.default.test(c)};s.default=l},{"./regex.js":532}],542:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i,a=(i=e("./validate.js"))&&i.__esModule?i:{default:i},l=function(c){if(!(0,a.default)(c))throw TypeError("Invalid UUID");return parseInt(c.substr(14,1),16)};s.default=l},{"./validate.js":541}],543:[function(e,n,s){/**
* Character classes and associated utilities for the 5th edition of XML 1.0.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(s,"__esModule",{value:!0}),s.CHAR=`	
\r ---`,s.S=` 	\r
`,s.NAME_START_CHAR=":A-Z_a-z-----------",s.NAME_CHAR="-"+s.NAME_START_CHAR+".0-9--",s.CHAR_RE=new RegExp("^["+s.CHAR+"]$","u"),s.S_RE=new RegExp("^["+s.S+"]+$","u"),s.NAME_START_CHAR_RE=new RegExp("^["+s.NAME_START_CHAR+"]$","u"),s.NAME_CHAR_RE=new RegExp("^["+s.NAME_CHAR+"]$","u"),s.NAME_RE=new RegExp("^["+s.NAME_START_CHAR+"]["+s.NAME_CHAR+"]*$","u"),s.NMTOKEN_RE=new RegExp("^["+s.NAME_CHAR+"]+$","u");function i(a){return a>=65&&a<=90||a>=97&&a<=122||a===58||a===95||a===8204||a===8205||a>=192&&a<=214||a>=216&&a<=246||a>=248&&a<=767||a>=880&&a<=893||a>=895&&a<=8191||a>=8304&&a<=8591||a>=11264&&a<=12271||a>=12289&&a<=55295||a>=63744&&a<=64975||a>=65008&&a<=65533||a>=65536&&a<=983039}s.S_LIST=[32,10,13,9],s.isChar=function(a){return a>=32&&a<=55295||a===10||a===13||a===9||a>=57344&&a<=65533||a>=65536&&a<=1114111},s.isS=function(a){return a===32||a===10||a===13||a===9},s.isNameStartChar=i,s.isNameChar=function(a){return i(a)||a>=48&&a<=57||a===45||a===46||a===183||a>=768&&a<=879||a>=8255&&a<=8256}},{}],544:[function(e,n,s){/**
* Character classes and associated utilities for the 2nd edition of XML 1.1.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(s,"__esModule",{value:!0}),s.CHAR="---",s.RESTRICTED_CHAR="-\b\v\f---",s.S=` 	\r
`,s.NAME_START_CHAR=":A-Z_a-z-----------",s.NAME_CHAR="-"+s.NAME_START_CHAR+".0-9--",s.CHAR_RE=new RegExp("^["+s.CHAR+"]$","u"),s.RESTRICTED_CHAR_RE=new RegExp("^["+s.RESTRICTED_CHAR+"]$","u"),s.S_RE=new RegExp("^["+s.S+"]+$","u"),s.NAME_START_CHAR_RE=new RegExp("^["+s.NAME_START_CHAR+"]$","u"),s.NAME_CHAR_RE=new RegExp("^["+s.NAME_CHAR+"]$","u"),s.NAME_RE=new RegExp("^["+s.NAME_START_CHAR+"]["+s.NAME_CHAR+"]*$","u"),s.NMTOKEN_RE=new RegExp("^["+s.NAME_CHAR+"]+$","u");function i(a){return a>=65&&a<=90||a>=97&&a<=122||a===58||a===95||a===8204||a===8205||a>=192&&a<=214||a>=216&&a<=246||a>=248&&a<=767||a>=880&&a<=893||a>=895&&a<=8191||a>=8304&&a<=8591||a>=11264&&a<=12271||a>=12289&&a<=55295||a>=63744&&a<=64975||a>=65008&&a<=65533||a>=65536&&a<=983039}s.S_LIST=[32,10,13,9],s.isChar=function(a){return a>=1&&a<=55295||a>=57344&&a<=65533||a>=65536&&a<=1114111},s.isRestrictedChar=function(a){return a>=1&&a<=8||a===11||a===12||a>=14&&a<=31||a>=127&&a<=132||a>=134&&a<=159},s.isCharAndNotRestricted=function(a){return a===9||a===10||a===13||a>31&&a<127||a===133||a>159&&a<=55295||a>=57344&&a<=65533||a>=65536&&a<=1114111},s.isS=function(a){return a===32||a===10||a===13||a===9},s.isNameStartChar=i,s.isNameChar=function(a){return i(a)||a>=48&&a<=57||a===45||a===46||a===183||a>=768&&a<=879||a>=8255&&a<=8256}},{}],545:[function(e,n,s){/**
* Character class utilities for XML NS 1.0 edition 3.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/function i(a){return a>=65&&a<=90||a===95||a>=97&&a<=122||a>=192&&a<=214||a>=216&&a<=246||a>=248&&a<=767||a>=880&&a<=893||a>=895&&a<=8191||a>=8204&&a<=8205||a>=8304&&a<=8591||a>=11264&&a<=12271||a>=12289&&a<=55295||a>=63744&&a<=64975||a>=65008&&a<=65533||a>=65536&&a<=983039}Object.defineProperty(s,"__esModule",{value:!0}),s.NC_NAME_START_CHAR="A-Z_a-z------------",s.NC_NAME_CHAR="-"+s.NC_NAME_START_CHAR+".0-9--",s.NC_NAME_START_CHAR_RE=new RegExp("^["+s.NC_NAME_START_CHAR+"]$","u"),s.NC_NAME_CHAR_RE=new RegExp("^["+s.NC_NAME_CHAR+"]$","u"),s.NC_NAME_RE=new RegExp("^["+s.NC_NAME_START_CHAR+"]["+s.NC_NAME_CHAR+"]*$","u"),s.isNCNameStartChar=i,s.isNCNameChar=function(a){return i(a)||a===45||a===46||a>=48&&a<=57||a===183||a>=768&&a<=879||a>=8255&&a<=8256}},{}]},{},[15])(15)}))})(Bg)),Bg.exports}var Ej=Tj();const I6=V4(Ej);var h0={exports:{}},Aj=h0.exports,O_;function Nj(){return O_||(O_=1,(function(r,t){(function(e,n){n()})(Aj,function(){function e(o,u){return typeof u>"u"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(o.type)?new Blob(["\uFEFF",o],{type:o.type}):o}function n(o,u,p){var h=new XMLHttpRequest;h.open("GET",o),h.responseType="blob",h.onload=function(){c(h.response,u,p)},h.onerror=function(){console.error("could not download file")},h.send()}function s(o){var u=new XMLHttpRequest;u.open("HEAD",o,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function i(o){try{o.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),o.dispatchEvent(u)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof mr=="object"&&mr.global===mr?mr:void 0,l=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(o,u,p){var h=a.URL||a.webkitURL,d=document.createElement("a");u=u||o.name||"download",d.download=u,d.rel="noopener",typeof o=="string"?(d.href=o,d.origin===location.origin?i(d):s(d.href)?n(o,u,p):i(d,d.target="_blank")):(d.href=h.createObjectURL(o),setTimeout(function(){h.revokeObjectURL(d.href)},4e4),setTimeout(function(){i(d)},0))}:"msSaveOrOpenBlob"in navigator?function(o,u,p){if(u=u||o.name||"download",typeof o!="string")navigator.msSaveOrOpenBlob(e(o,p),u);else if(s(o))n(o,u,p);else{var h=document.createElement("a");h.href=o,h.target="_blank",setTimeout(function(){i(h)})}}:function(o,u,p,h){if(h=h||open("","_blank"),h&&(h.document.title=h.document.body.innerText="downloading..."),typeof o=="string")return n(o,u,p);var d=o.type==="application/octet-stream",b=/constructor/i.test(a.HTMLElement)||a.safari,x=/CriOS\/[\d]+/.test(navigator.userAgent);if((x||d&&b||l)&&typeof FileReader<"u"){var g=new FileReader;g.onloadend=function(){var k=g.result;k=x?k:k.replace(/^data:[^;]*;/,"data:attachment/file;"),h?h.location.href=k:location=k,h=null},g.readAsDataURL(o)}else{var w=a.URL||a.webkitURL,v=w.createObjectURL(o);h?h.location=v:location.href=v,h=null,setTimeout(function(){w.revokeObjectURL(v)},4e4)}});a.saveAs=c.saveAs=c,r.exports=c})})(h0)),h0.exports}var O6=Nj();const Cj=({rideType:r,className:t})=>{switch(r){case"FLOW":return y.jsx(za,{className:t});case"WAIT":return y.jsx(ai,{className:t});case"APP":return y.jsx(ai,{className:t});case"HIRE":return y.jsx(ai,{className:t});case"RESERVE":return y.jsx(ai,{className:t});case"WIRELESS":return y.jsx(ai,{className:t});default:return y.jsx(za,{className:t})}},F6=({breakdown:r,counts:t,enabledRideTypes:e,appBreakdown:n={},appCounts:s={}})=>{const[i,a]=_e.useState(!1),l=e||Ol;let c=0,o=0;Object.keys(r).forEach(d=>{d!=="FLOW"&&(c+=r[d],o+=t[d]||0)});const u=(n.GO||0)+(n.Didi||0)+(n.Uber||0)+(n["s.ride"]||0),p=(s.GO||0)+(s.Didi||0)+(s.Uber||0)+(s["s.ride"]||0),h=l.filter(d=>d!=="APP");return y.jsxs("div",{className:"space-y-4",children:[y.jsxs("h3",{className:"text-lg font-black text-gray-300 uppercase tracking-widest flex items-center gap-2 mb-2",children:[y.jsx(za,{className:"w-5 h-5"})," "]}),c>0&&y.jsxs("div",{className:"bg-gradient-to-r from-emerald-400/40 to-teal-400/40 p-4 rounded-2xl border border-emerald-300/50 flex justify-between items-center shadow-lg",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"p-2 bg-emerald-300/30 rounded-full",children:y.jsx(ai,{className:"w-6 h-6 text-emerald-200"})}),y.jsxs("div",{children:[y.jsx("span",{className:"text-sm font-bold text-emerald-100 block uppercase tracking-widest",children:""}),y.jsxs("span",{className:"text-sm font-medium text-emerald-200",children:[o,""]})]})]}),y.jsx("span",{className:"text-3xl font-black text-white tracking-tight",children:Rr(c)})]}),u>0&&y.jsxs(y.Fragment,{children:[y.jsxs("button",{onClick:()=>a(!i),className:"w-full bg-gradient-to-r from-purple-400/40 to-pink-400/40 p-4 rounded-2xl border border-purple-300/50 flex justify-between items-center shadow-lg hover:from-purple-400/50 hover:to-pink-400/50 transition-all active:scale-[0.98]",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"p-2 bg-purple-300/30 rounded-full",children:y.jsx(ai,{className:"w-6 h-6 text-purple-200"})}),y.jsxs("div",{children:[y.jsx("span",{className:"text-sm font-bold text-purple-100 block uppercase tracking-widest",children:""}),y.jsxs("span",{className:"text-sm font-medium text-purple-200",children:[p,""]})]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-3xl font-black text-white tracking-tight",children:Rr(u)}),i?y.jsx(zc,{className:"w-5 h-5 text-purple-200"}):y.jsx(As,{className:"w-5 h-5 text-purple-200"})]})]}),i&&y.jsx("div",{className:"animate-in slide-in-from-top-2 duration-200 space-y-3",children:y.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{key:"GO",label:"GO",gradient:"from-blue-300/40 to-cyan-300/40",border:"border-blue-200/50",iconBg:"bg-blue-200/30",iconColor:"text-blue-100",textColor:"text-blue-50",textSecondaryColor:"text-blue-100"},{key:"Didi",label:"Didi",gradient:"from-orange-300/40 to-amber-300/40",border:"border-orange-200/50",iconBg:"bg-orange-200/30",iconColor:"text-orange-100",textColor:"text-orange-50",textSecondaryColor:"text-orange-100"},{key:"Uber",label:"Uber",gradient:"from-gray-400/40 to-slate-400/40",border:"border-gray-300/50",iconBg:"bg-gray-300/30",iconColor:"text-gray-200",textColor:"text-gray-100",textSecondaryColor:"text-gray-200"},{key:"s.ride",label:"S.RIDE",gradient:"from-green-300/40 to-emerald-300/40",border:"border-green-200/50",iconBg:"bg-green-200/30",iconColor:"text-green-100",textColor:"text-green-50",textSecondaryColor:"text-green-100"}].map(({key:d,label:b,gradient:x,border:g,iconBg:w,iconColor:v,textColor:k,textSecondaryColor:R})=>{const L=n[d]||0,G=s[d]||0;return L===0&&G===0?null:y.jsxs("div",{className:`bg-gradient-to-r ${x} p-3 rounded-xl border ${g} flex flex-col justify-between shadow-sm`,children:[y.jsxs("div",{className:"flex justify-between items-start mb-2",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:`p-1.5 ${w} rounded-full`,children:y.jsx(ai,{className:`w-3.5 h-3.5 ${v}`})}),y.jsx("span",{className:`text-sm font-bold ${k} truncate max-w-[80px]`,children:b})]}),y.jsxs("span",{className:`text-xs font-medium ${R}`,children:[G,""]})]}),y.jsx("div",{className:"text-right",children:y.jsx("span",{className:`text-xl font-black block tracking-tight ${k}`,children:Rr(L)})})]},d)})})})]}),y.jsx("div",{className:"grid grid-cols-2 gap-3",children:h.map(d=>{const b=r[d]||0,x=t[d]||0;if(b===0&&x===0)return null;const g=Qi[d];let w="from-gray-300/40 to-slate-300/40",v="border-gray-200/50",k="bg-gray-200/30",R="text-gray-100",L="text-gray-50",G="text-gray-100";return d==="FLOW"?(w="from-blue-300/40 to-cyan-300/40",v="border-blue-200/50",k="bg-blue-200/30",R="text-blue-100",L="text-blue-50",G="text-blue-100"):d==="WAIT"?(w="from-amber-300/40 to-yellow-300/40",v="border-amber-200/50",k="bg-amber-200/30",R="text-amber-100",L="text-amber-50",G="text-amber-100"):d==="HIRE"?(w="from-green-300/40 to-emerald-300/40",v="border-green-200/50",k="bg-green-200/30",R="text-green-100",L="text-green-50",G="text-green-100"):d==="RESERVE"?(w="from-pink-300/40 to-rose-300/40",v="border-pink-200/50",k="bg-pink-200/30",R="text-pink-100",L="text-pink-50",G="text-pink-100"):d==="WIRELESS"&&(w="from-indigo-300/40 to-violet-300/40",v="border-indigo-200/50",k="bg-indigo-200/30",R="text-indigo-100",L="text-indigo-50",G="text-indigo-100"),y.jsxs("div",{className:`bg-gradient-to-r ${w} p-3 rounded-xl border ${v} flex flex-col justify-between shadow-sm`,children:[y.jsxs("div",{className:"flex justify-between items-start mb-2",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:`p-1.5 ${k} rounded-full`,children:y.jsx(Cj,{rideType:d,className:`w-3.5 h-3.5 ${R}`})}),y.jsx("span",{className:`text-sm font-bold ${L} truncate max-w-[80px]`,children:g})]}),y.jsxs("span",{className:`text-xs font-medium ${G}`,children:[x,""]})]}),y.jsx("div",{className:"text-right",children:y.jsx("span",{className:`text-xl font-black block tracking-tight ${L}`,children:Rr(b)})})]},d)})})]})},P6=({records:r,customLabels:t,startTime:e,endTime:n,totalRestMinutes:s,enabledMethods:i,startOdo:a,endOdo:l})=>{const c=r.reduce((Y,ee)=>Y+ee.amount,0),o=M6(c),u=Vb(r),p=Hb(r),h=u.CASH||0,d=zb(r),b=j6(r),{breakdown:x,counts:g}=fj(r),w=e||(r.length>0?Math.min(...r.map(Y=>Y.timestamp)):0),v=n||(r.length>0?Math.max(...r.map(Y=>Y.timestamp)):0),k=v-w,R=Math.floor(k/36e5),L=Math.floor(k%36e5/6e4),G=w&&v?`${R}${String(L).padStart(2,"0")}`:"----",V=Math.floor((s||0)/60),O=(s||0)%60,F=`${V}${String(O).padStart(2,"0")}`,B=r.reduce((Y,ee)=>Y+(ee.passengersMale||0),0),W=r.reduce((Y,ee)=>Y+(ee.passengersFemale||0),0),P=B+W,N=r.reduce((Y,ee)=>Y+ee.toll,0),D=r.reduce((Y,ee)=>Y+(ee.returnToll||0),0),C=a&&l&&l>a?l-a:0,S=t||{},[T,A]=_e.useState(!1),[E,j]=_e.useState(!1),U=Y=>new Date(Y).toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit"}),I=e||(r.length>0?Math.min(...r.map(Y=>Y.timestamp)):0),Q=n||(r.length>0?Math.max(...r.map(Y=>Y.timestamp)):0);return y.jsxs("div",{className:"w-full space-y-6",children:[T&&y.jsx(ea,{onClose:()=>A(!1),children:y.jsxs("div",{className:"bg-gray-900 rounded-2xl p-6 max-w-md w-full border border-gray-700",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsxs("h3",{className:"text-xl font-black text-white flex items-center gap-2",children:[y.jsx(Go,{className:"w-6 h-6 text-blue-400"}),""]}),y.jsx("button",{onClick:()=>A(!1),className:"text-gray-400 hover:text-white transition-colors",children:y.jsx(Vn,{className:"w-6 h-6"})})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[y.jsx("div",{className:"text-sm text-gray-400 font-bold mb-2",children:""}),y.jsx("div",{className:"text-2xl font-black text-white",children:I?U(I):"---"})]}),y.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[y.jsx("div",{className:"text-sm text-gray-400 font-bold mb-2",children:""}),y.jsx("div",{className:"text-2xl font-black text-white",children:Q?U(Q):"---"})]})]})]})}),E&&y.jsx(ea,{onClose:()=>j(!1),children:y.jsxs("div",{className:"bg-gray-900 rounded-2xl p-6 max-w-md w-full border border-gray-700 max-h-[80vh] overflow-y-auto",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsxs("h3",{className:"text-xl font-black text-white flex items-center gap-2",children:[y.jsx(Go,{className:"w-6 h-6 text-green-400"}),""]}),y.jsx("button",{onClick:()=>j(!1),className:"text-gray-400 hover:text-white transition-colors",children:y.jsx(Vn,{className:"w-6 h-6"})})]}),s&&s>0?y.jsxs("div",{className:"space-y-3",children:[y.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[y.jsx("div",{className:"text-sm text-gray-400 font-bold mb-2",children:""}),y.jsx("div",{className:"text-2xl font-black text-white",children:F})]}),y.jsx("div",{className:"text-sm text-gray-400 text-center py-4",children:""})]}):y.jsx("div",{className:"text-center py-8 text-gray-400",children:""})]})}),y.jsxs("div",{className:"text-center py-8 bg-gray-800 rounded-[32px] border-2 border-blue-500 shadow-2xl relative overflow-hidden group",children:[y.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-amber-500 to-transparent opacity-50"}),y.jsx("p",{className:"text-sm font-black text-amber-500 uppercase tracking-[0.3em] mb-2 opacity-80",children:" ()"}),y.jsxs("div",{className:"flex items-baseline justify-center gap-2 mb-2",children:[y.jsx("span",{className:"text-6xl font-black text-amber-600/80",children:""}),y.jsx("span",{className:"text-7xl font-black text-amber-500 leading-none tracking-tighter drop-shadow-[0_4px_10px_rgba(245,158,11,0.3)]",children:c.toLocaleString()})]}),y.jsxs("div",{className:"flex flex-col items-center gap-1 mb-8",children:[y.jsxs("p",{className:"text-xl font-bold text-gray-400",children:["( ",Rr(o),")"]}),y.jsxs("p",{className:"text-xl font-bold text-gray-400",children:["() ",Rr(c-o)]})]}),y.jsxs("div",{className:"bg-gray-800 mx-6 p-5 rounded-3xl border-2 border-blue-500 flex flex-col items-center gap-2 shadow-inner",children:[y.jsx("span",{className:"text-sm text-gray-400 font-bold uppercase tracking-widest flex items-center gap-1",children:" ()"}),y.jsx("span",{className:"text-5xl font-black text-white tracking-tight",children:Rr(h)})]})]}),N>0&&y.jsxs("div",{className:"bg-gradient-to-r from-orange-900/60 to-red-900/60 p-4 rounded-2xl border border-orange-500/30 flex justify-between items-center shadow-lg",children:[y.jsx("div",{children:y.jsx("span",{className:"text-xl font-bold text-orange-200 block uppercase tracking-widest",children:" "})}),y.jsx("span",{className:"text-3xl font-black text-white tracking-tight",children:Rr(N)})]}),D>0&&y.jsxs("div",{className:"bg-gradient-to-r from-indigo-900/60 to-blue-900/60 p-4 rounded-2xl border border-indigo-500/30 flex justify-between items-center shadow-lg",children:[y.jsx("div",{children:y.jsx("span",{className:"text-xl font-bold text-indigo-200 block uppercase tracking-widest",children:""})}),y.jsx("span",{className:"text-3xl font-black text-white tracking-tight",children:Rr(D)})]}),y.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[y.jsxs("div",{className:"bg-gray-800 p-2 rounded-3xl border-2 border-blue-500 flex flex-col items-center justify-center min-h-[100px] shadow-lg",children:[y.jsx("span",{className:"text-[12px] text-gray-500 font-black tracking-widest uppercase mb-1",children:""}),y.jsxs("span",{className:"text-2xl font-black text-white leading-none",children:[r.length,y.jsx("span",{className:"text-xs text-gray-600 ml-1",children:""})]})]}),y.jsxs("button",{onClick:()=>A(!0),className:"bg-gray-800 p-2 rounded-3xl border-2 border-blue-500 flex flex-col items-center justify-center min-h-[100px] shadow-lg active:scale-95 transition-transform cursor-pointer",children:[y.jsx("span",{className:"text-[12px] text-gray-500 font-black tracking-widest uppercase mb-1",children:""}),y.jsx("span",{className:"text-[clamp(0.8rem,3.2vw,1.2rem)] font-black text-white leading-none whitespace-nowrap",children:G})]}),y.jsxs("button",{onClick:()=>j(!0),className:"bg-gray-800 p-2 rounded-3xl border-2 border-blue-500 flex flex-col items-center justify-center min-h-[100px] shadow-lg active:scale-95 transition-transform cursor-pointer",children:[y.jsx("span",{className:"text-[12px] text-gray-500 font-black tracking-widest uppercase mb-1",children:""}),y.jsx("span",{className:"text-[clamp(0.8rem,3.2vw,1.2rem)] font-black text-white leading-none whitespace-nowrap",children:F})]})]}),(a||l)&&y.jsxs("div",{className:"grid grid-cols-3 gap-2 px-1",children:[y.jsxs("div",{className:"bg-gray-800 p-3 rounded-2xl text-center border-2 border-blue-500 flex flex-col items-center justify-center shadow-lg",children:[y.jsxs("span",{className:"text-[12px] text-gray-500 font-bold uppercase mb-1 flex items-center gap-1",children:[y.jsx(Fo,{className:"w-3 h-3"}),"ODO"]}),y.jsx("span",{className:"text-lg font-black text-white",children:a?a.toLocaleString():"---"})]}),y.jsxs("div",{className:"bg-gray-800 p-3 rounded-2xl text-center border-2 border-blue-500 flex flex-col items-center justify-center shadow-lg",children:[y.jsxs("span",{className:"text-[12px] text-gray-500 font-bold uppercase mb-1 flex items-center gap-1",children:[y.jsx(Fo,{className:"w-3 h-3"}),"ODO"]}),y.jsx("span",{className:`text-lg font-black ${l?"text-amber-500":"text-gray-600"}`,children:l?l.toLocaleString():"---"})]}),y.jsxs("div",{className:"bg-gray-800 p-3 rounded-2xl text-center border-2 border-blue-500 flex flex-col items-center justify-center shadow-lg",children:[y.jsx("span",{className:"text-[12px] text-gray-500 font-bold uppercase mb-1",children:""}),y.jsxs("span",{className:"text-lg font-black text-blue-400",children:[C.toLocaleString()," ",y.jsx("span",{className:"text-xs text-gray-500",children:"km"})]})]})]}),y.jsxs("div",{className:"bg-gray-800 p-6 rounded-[32px] border-2 border-blue-500 flex justify-around items-center",children:[y.jsxs("div",{className:"text-center",children:[y.jsx("span",{className:"text-sm font-bold text-blue-400 block mb-2 uppercase tracking-widest",children:""}),y.jsxs("span",{className:"text-4xl font-black text-white",children:[B,y.jsx("span",{className:"text-lg text-gray-600 ml-1",children:""})]})]}),y.jsxs("div",{className:"text-center",children:[y.jsx("span",{className:"text-sm font-bold text-pink-400 block mb-2 uppercase tracking-widest",children:""}),y.jsxs("span",{className:"text-4xl font-black text-white",children:[W,y.jsx("span",{className:"text-lg text-gray-600 ml-1",children:""})]})]}),y.jsx("div",{className:"w-px h-12 bg-gray-800"}),y.jsxs("div",{className:"text-center",children:[y.jsx("span",{className:"text-sm font-bold text-gray-400 block mb-2 uppercase tracking-widest",children:""}),y.jsxs("span",{className:"text-5xl font-black text-white",children:[P,y.jsx("span",{className:"text-lg text-gray-600 ml-1",children:""})]})]})]}),y.jsx("div",{className:"bg-gray-800 p-6 rounded-[32px] border-2 border-blue-500 shadow-2xl",children:y.jsx($b,{breakdown:u,counts:p,customLabels:S,enabledMethods:i,records:r})}),y.jsx("div",{className:"bg-gray-800 p-6 rounded-[32px] border-2 border-blue-500 shadow-2xl",children:y.jsx(F6,{breakdown:d,counts:b,enabledRideTypes:Object.keys(Qi),appBreakdown:x,appCounts:g})})]})},Rj=({date:r,records:t,meta:e,customLabels:n,businessStartHour:s,onBack:i,isMe:a,onUpdateMetadata:l,onEditRecord:c})=>{const[o,u]=_e.useState(!1),[p,h]=_e.useState(!0),[d,b]=_e.useState(!1),x=_e.useMemo(()=>{const v=[...t];return p?v.sort((k,R)=>R.timestamp-k.timestamp):v.sort((k,R)=>k.timestamp-R.timestamp)},[t,p]),g=n||{},w=async()=>{const v=e.totalRestMinutes||0,k=e.startOdo||0,R=e.endOdo||0,L=R>k?R-k:0,G=t.reduce((ve,ge)=>ve+ge.amount,0),V=ve=>ve?new Date(ve).toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit"}):"",O=ve=>{if(ve<=0)return"";const ge=Math.floor(ve/36e5),se=Math.floor(ve%36e5/6e4);return`${String(ge).padStart(2,"0")}:${String(se).padStart(2,"0")}`},F=new Date(r),B=`${F.getFullYear()}`,W=`${F.getMonth()+1}`,P=`${F.getDate()}`,N=new I6.Workbook,D=N.addWorksheet("",{views:[{state:"frozen",ySplit:5,activeCell:"A6"}]}),C=t.length>0?Math.min(...t.map(ve=>ve.timestamp)):0,S=t.length>0?Math.max(...t.map(ve=>ve.timestamp)):0,T=C&&S?S-C-v*60*1e3:0,A=Math.max(T/(1e3*60*60),.1),E=G>0?Math.round(G/A):0;D.addRow(["","","","","","","","",B,W,P,V(Date.now())]),D.addRow([]),D.addRow(["","",""," ","","","","","","","","","","","","","","","",""]),D.addRow(["","","",V(C),V(S),O(T),E.toLocaleString()]),D.addRow(["","","","","","","","","","","","","","","","","","B","A",""]);for(let ve=0;ve<30;ve++){const ge=t[ve];let se=[];if(ge){const xe=new Date(ge.timestamp),pe=ge.amount+ge.toll+(ge.returnToll||0),Te=ge.paymentMethod;let ke="",Re="",$e="";Te==="CARD"?ke=pe:Te==="NET"||Te==="TICKET"?Re=pe:(Te==="TRANSPORT"||Te!=="CASH")&&($e=pe);let Pe="",Je=ge.remarks||"";if(ge.remarks){const Ze=ge.remarks.match(/\(\)([^\s\n\r]+)/);Ze&&(Pe=Ze[1].trim(),Je=ge.remarks.replace(/\(\)[^\s\n\r]+[\s\n\r]*/,"").trim())}se=[ve+1,xe.getHours(),xe.getMinutes(),ge.pickupLocation||"",Pe,ge.dropoffLocation||"",ge.passengersMale||"",ge.passengersFemale||ge.passagersFemale||0,ge.amount,ge.toll>0?ge.toll:"",(ge.returnToll||0)>0?ge.returnToll||0:"",Je||"",ke,Re,$e,Qi[ge.rideType]||"",ve+1,"","",""]}else se=[ve+1,"","","","","","","","","","","","","","","",ve+1,"","",""];D.addRow(se)}D.addRow([" ","","","","","",0,0,0,0,0,"",0,0,0,"","","","",""]),D.addRow(["","","",""," ",k||""," ","",R||""," ",L||"","","",0,"",0,"","",0,""]),D.addRow(["","","","","","","","","","","","","B km","","km","","","","",""]),D.addRow(["","","","",L||"0","0",t.length,0,0,"","","","A km","","km","","","","",""]);for(let ve=6;ve<=35;ve++)D.getCell(`T${ve}`).value={formula:`SUM(G${ve}:H${ve})`};D.getCell("G36").value={formula:"SUM(G6:G35)"},D.getCell("H36").value={formula:"SUM(H6:H35)"},D.getCell("I36").value={formula:"SUM(I6:I35)"},D.getCell("J36").value={formula:"SUM(J6:J35)"},D.getCell("K36").value={formula:"SUM(K6:K35)"},D.getCell("M36").value={formula:"SUM(M6:M35)"},D.getCell("N36").value={formula:"SUM(N6:N35)"},D.getCell("O36").value={formula:"SUM(O6:O35)"},D.getCell("T36").value={formula:"SUM(T6:T35)"},D.getCell("N37").value={formula:"SUM(I6:I35)"},D.getCell("P37").value={formula:"M36+N36+O36"},D.getCell("S37").value={formula:"(I36+J36+K36)-(M36+N36+O36)"},D.getCell("Q38").value={formula:"P38/N38"},D.getCell("Q38").numFmt="0%",D.getCell("H39").value={formula:"G36+H36"},D.getCell("I39").value={formula:"SUM(I6:I35)"},D.getCell("Q39").value={formula:"P39/N39"},D.getCell("Q39").numFmt="0%";const j={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},U={bottom:{style:"double"}},I={name:"Meiryo",size:10},Q={name:"Meiryo",size:10,bold:!0},Y={name:"Meiryo",size:11,bold:!0},ee={name:"Meiryo",size:16,bold:!0},q={type:"pattern",pattern:"solid",fgColor:{argb:"E2EFDA"}},te={type:"pattern",pattern:"solid",fgColor:{argb:"FFF2CC"}},H={type:"pattern",pattern:"solid",fgColor:{argb:"FFCC99"}},z={type:"pattern",pattern:"solid",fgColor:{argb:"F2F2F2"}},Z={type:"pattern",pattern:"solid",fgColor:{argb:"FFFFCC"}};D.mergeCells("D1:F1"),D.mergeCells("G3:H3"),D.mergeCells("B4:C4"),D.mergeCells("G4:H4"),D.mergeCells("A36:C36"),D.mergeCells("G37:H37"),D.eachRow((ve,ge)=>{ve.eachCell((se,xe)=>{var pe;if(se.font=I,se.alignment={vertical:"middle",horizontal:"center"},ge===1)xe>=9&&xe<=12&&(se.font=Y),xe>=4&&xe<=12&&(se.border=U);else if(ge!==2){if(ge===3)xe>=10&&xe<=20||xe===9||xe<=3||([4,5,6,7].includes(xe)&&(se.fill=q),se.border=j);else if(ge===4)xe>=10||xe===9||xe<=1||(xe===2&&(se.fill=q),se.border=j);else if(ge===5)se.fill=q,se.font=Q,se.border=j;else if(ge>=6&&ge<=35){if(se.border=j,(xe===1||xe===17)&&(se.fill=z),xe===16){const Te=((pe=se.value)==null?void 0:pe.toString())||"";Te!==""&&Te!==""&&(se.fill=Z)}[4,5,6,12].includes(xe)?se.alignment={vertical:"middle",horizontal:"left",wrapText:!0}:[9,10,11,13,14,15].includes(xe)&&(se.alignment={vertical:"middle",horizontal:"right"},se.numFmt="#,##0")}else if(ge===36)se.fill=H,se.font=Q,se.border=j,[7,8,9,10,11,13,14,15].includes(xe)&&(se.alignment={vertical:"middle",horizontal:"right"},se.numFmt="#,##0");else if(ge>=37&&!(xe<=3)){se.border=j;const Te=ge===37&&[14,16,19].includes(xe)||ge===39&&[8,9].includes(xe),ke=ge===37&&[6,9,11].includes(xe)||ge===39&&xe===5;Te||ke?(se.alignment={vertical:"middle",horizontal:"right"},se.numFmt="#,##0"):(ge===37&&[4,5,7,10,13,15,18].includes(xe)||ge===38&&[4,5,6,7,8,9,13,15].includes(xe)||ge===39&&[13,15].includes(xe))&&(se.fill=te)}}})});const ae=D.getCell("D1");ae.font=ee,ae.alignment={vertical:"middle",horizontal:"center"},ae.border={bottom:{style:"double"}},D.getRow(1).height=45,D.getRow(36).height=30,[{c:1,w:4.38},{c:2,w:3},{c:3,w:3},{c:4,w:10.75},{c:5,w:10.75},{c:6,w:10.75},{c:7,w:4.13},{c:8,w:4.13},{c:9,w:7.5},{c:10,w:6.25},{c:11,w:6.25},{c:12,w:10.75},{c:13,w:8.13},{c:14,w:8.13},{c:15,w:8.13},{c:16,w:8.13},{c:17,w:4.38},{c:18,w:7.5},{c:19,w:7.5},{c:20,w:6}].forEach(ve=>{D.getColumn(ve.c).width=ve.w});const le=await N.xlsx.writeBuffer(),de=new Blob([le],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});O6.saveAs(de,`_${r.replace(/\//g,"-")}.xlsx`)};return y.jsxs("div",{className:"p-4 pb-28 space-y-5 animate-in slide-in-from-right duration-300 w-full overflow-hidden bg-[#0A0E14] min-h-screen",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("button",{onClick:i,className:"p-2.5 bg-gray-800 rounded-full active:scale-90 shadow-lg border border-gray-700 flex-shrink-0",children:y.jsx(q4,{className:"w-5 h-5"})}),y.jsx("h2",{className:"text-[clamp(1.6rem,7vw,2.2rem)] font-black text-white truncate",children:r}),y.jsxs("button",{onClick:w,className:"ml-auto flex items-center gap-2 bg-blue-900/30 text-blue-400 px-3 py-2 rounded-xl font-bold border border-blue-500/30 active:scale-95 transition-all",children:[y.jsx(lE,{className:"w-4 h-4"}),y.jsx("span",{className:"text-xs",children:"EXCEL"})]})]}),y.jsx(P6,{records:x,customLabels:g,totalRestMinutes:e.totalRestMinutes,enabledMethods:Object.keys(Hs),startOdo:e.startOdo,endOdo:e.endOdo}),a&&l&&y.jsxs("div",{className:"bg-gray-800 p-6 rounded-[32px] border-2 border-blue-500 shadow-2xl space-y-4 animate-in fade-in duration-500",children:[y.jsxs("div",{className:"flex items-center gap-2 px-1",children:[y.jsx(Fo,{className:"w-5 h-5 text-amber-500"}),y.jsx("h3",{className:"text-xs font-black text-gray-500 uppercase tracking-[0.2em]",children:""})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{className:"space-y-1.5",children:[y.jsx("label",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest px-1 block",children:" ODO (km)"}),y.jsx("input",{type:"number",inputMode:"numeric",value:e.startOdo||"",onChange:v=>l(r,{startOdo:v.target.value===""?void 0:Number(v.target.value)}),placeholder:"---",className:"w-full bg-gray-950 border-2 border-gray-800 rounded-2xl p-3 text-white text-xl font-black outline-none focus:border-amber-500 transition-all shadow-inner"})]}),y.jsxs("div",{className:"space-y-1.5",children:[y.jsx("label",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest px-1 block",children:" ODO (km)"}),y.jsx("input",{type:"number",inputMode:"numeric",value:e.endOdo||"",onChange:v=>l(r,{endOdo:v.target.value===""?void 0:Number(v.target.value)}),placeholder:"---",className:"w-full bg-gray-950 border-2 border-gray-800 rounded-2xl p-3 text-white text-xl font-black outline-none focus:border-amber-500 transition-all shadow-inner"})]})]}),y.jsx("p",{className:"text-[10px] text-gray-600 font-bold px-1 italic",children:""})]}),y.jsxs("section",{className:"space-y-4",children:[y.jsxs("div",{className:"flex justify-between items-center px-1 flex-wrap gap-4",children:[y.jsxs("h3",{className:"text-xs font-black text-gray-500 uppercase tracking-widest flex items-center gap-2",children:[y.jsx(Po,{className:"w-4 h-4"})," "]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>b(!d),className:`text-[12px] px-3 py-1.5 rounded-full flex items-center gap-1.5 font-black active:scale-95 shadow-sm border transition-all whitespace-nowrap ${d?"bg-amber-500 text-black border-amber-400":"bg-gray-800 text-gray-400 border-gray-700"}`,children:""}),y.jsx("button",{onClick:()=>u(!o),className:`text-[12px] px-3 py-1.5 rounded-full flex items-center gap-1.5 font-black active:scale-95 shadow-sm border transition-all whitespace-nowrap ${o?"bg-amber-500 text-black border-amber-400":"bg-gray-800 text-gray-400 border-gray-700"}`,children:""}),y.jsx("button",{onClick:()=>h(!p),className:"text-[12px] bg-gray-800 text-gray-400 px-3 py-1.5 rounded-full flex items-center gap-1.5 font-black active:scale-95 shadow-sm border border-gray-700 whitespace-nowrap",children:y.jsx(B1,{className:"w-3.5 h-3.5"})})]})]}),d?y.jsxs("div",{className:"bg-gray-800 rounded-lg border-2 border-blue-500 overflow-hidden shadow-sm",children:[y.jsxs("table",{className:"w-full border-collapse",children:[y.jsx("thead",{children:y.jsxs("tr",{className:"bg-orange-500 text-white",children:[y.jsx("th",{className:"py-2 px-1 border-r border-orange-600 text-center text-base font-black w-[40px]",children:""}),y.jsx("th",{className:"py-2 px-1 border-r border-orange-600 text-center text-base font-black w-[85px]",children:""}),y.jsx("th",{className:"py-2 px-2 border-r border-orange-600 text-center text-base font-black flex-1",children:"/"}),y.jsx("th",{className:"py-2 px-1 text-center text-base font-black w-[75px]",children:""})]})}),y.jsx("tbody",{children:x.length===0?y.jsx("tr",{children:y.jsx("td",{colSpan:4,className:"p-8 text-center text-gray-400 font-black uppercase tracking-widest text-sm",children:""})}):x.slice(0,200).map((v,k)=>y.jsx(au,{record:v,index:p?x.length-k:k+1,isDetailed:o,isSlim:d,customLabels:g,businessStartHour:s,onClick:()=>{a&&c&&c(v)}},v.id))})]}),x.length>200&&y.jsx("p",{className:"text-center text-gray-400 text-[10px] py-2 italic bg-gray-900",children:"200"})]}):y.jsxs("div",{className:"space-y-3",children:[x.length===0?y.jsx("div",{className:"text-center py-10 text-gray-600 font-bold",children:""}):x.slice(0,200).map((v,k)=>y.jsxs("div",{className:"relative",children:[v.amount===0&&y.jsx("div",{className:"absolute -top-2 -right-1 z-10",children:y.jsx("span",{className:"bg-red-500 text-white text-[10px] font-black px-2 py-1 rounded-full shadow-lg border border-red-400 animate-pulse",children:""})}),y.jsx("div",{className:v.amount===0?"ring-2 ring-red-500 ring-offset-2 ring-offset-[#0A0E14] rounded-[24px]":"",children:y.jsx(au,{record:v,index:p?x.length-k:k+1,isDetailed:o,isSlim:d,customLabels:g,businessStartHour:s,onClick:()=>{a&&c&&c(v)}})})]},v.id)),x.length>200&&y.jsx("p",{className:"text-center text-gray-600 text-[10px] py-2 italic",children:"200"})]})]}),a&&l&&y.jsx("section",{className:"space-y-5 pt-5 border-t border-gray-800",children:y.jsxs("div",{className:"bg-gray-800 p-4 rounded-[28px] border-2 border-blue-500 space-y-4 shadow-2xl",children:[y.jsxs("h3",{className:"text-xs font-black text-gray-500 uppercase tracking-widest flex items-center gap-2",children:[y.jsx(V1,{className:"w-4 h-4"})," "]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-xs font-bold text-gray-400 block mb-2 uppercase tracking-widest",children:""}),y.jsx("select",{value:e.attributedMonth||r.split("/").slice(0,2).join("-"),onChange:v=>l(r,{attributedMonth:v.target.value}),className:"w-full bg-gray-950 border-2 border-gray-800 rounded-xl p-3 text-white text-base font-black outline-none focus:border-amber-500 appearance-none",children:Array.from({length:12}).map((v,k)=>{const R=new Date;R.setMonth(R.getMonth()-6+k);const L=`${R.getFullYear()}-${String(R.getMonth()+1).padStart(2,"0")}`;return y.jsxs("option",{value:L,children:[R.getFullYear()," ",R.getMonth()+1,""]},`${L}-${k}`)})})]}),y.jsxs("div",{children:[y.jsxs("label",{className:"text-xs font-bold text-gray-400 block mb-2 flex items-center gap-2 uppercase tracking-widest",children:[y.jsx(U1,{className:"w-4 h-4"})," "]}),y.jsx("textarea",{value:e.memo,onChange:v=>l(r,{memo:v.target.value}),placeholder:"...",className:"w-full bg-gray-950 border-2 border-gray-800 rounded-xl p-3 text-white text-base min-h-[100px] outline-none focus:border-amber-500 shadow-inner"})]})]})})]})},F_=r=>r.rideType!=="FLOW"&&r.rideType!=="WAIT",Mj=({displayMonth:r,setCurrentMonth:t,monthData:e,dailyGroups:n,customLabels:s,onSelectDay:i,isMe:a,userName:l,history:c,shimebiDay:o,businessStartHour:u,monthsData:p})=>{const[h,d]=_e.useState(!0),b=`${r.getFullYear()} ${r.getMonth()+1}`,[x,g]=_e.useState("monthly"),[w,v]=_e.useState(new Date),[k,R]=_e.useState(!1),[L,G]=_e.useState(!1),[V,O]=_e.useState(null);d0.useEffect(()=>{v(new Date(r))},[r]);const F=Q=>{const{end:Y}=$t(Q,o,u);return Y},B=Q=>{const Y=new Date(w);x==="monthly"?Y.setMonth(Y.getMonth()+Q):Y.setFullYear(Y.getFullYear()+Q),v(Y)},W=_e.useMemo(()=>{const Y=F(w).getFullYear(),ee=[];let q=0,te=0,H=0,z=0;const Z=p||{},ae=c||[];for(let re=0;re<12;re++){const le=new Date(Y,re,o===0?28:o),{start:de,end:ve}=$t(le,o,u),ge=new Date(ve);o!==0&&ge.setDate(o);const se=`${Y}-${String(re+1).padStart(2,"0")}`,xe=Z[se];let pe=[],Te=0,ke=0,Re=0,$e=0;const Pe=Bt(de),Je=Bt(ge),Ze=ae.filter(Xe=>{const ut=It(Xe.timestamp,u);return ut>=Pe&&ut<=Je});pe=Wi(Ze,u),Te=new Set(pe.map(Xe=>It(Xe.timestamp,u))).size,ke=pe.length,Re=pe.filter(F_).length,$e=(xe==null?void 0:xe.sales)??pe.reduce((Xe,ut)=>Xe+ut.amount,0),q+=Te,te+=ke,H+=Re,z+=$e,ee.push({label:`${re+1}`,fullLabel:`${Y}${re+1}`,referenceDate:le,dutyDays:Te,count:ke,dispatch:Re,sales:$e,records:pe})}return{yearLabel:`${Y}`,periodLabel:`${o===0?Y:Y-1}${o===0?1:12}  ${Y}12`,months:ee,totals:{dutyDays:q,count:te,dispatch:H,sales:z}}},[c,p,w,o,u]),P=_e.useMemo(()=>{const{start:Q,end:Y}=$t(w,o,u),ee=new Date(Y);o!==0&&ee.getDate()!==o&&ee.setDate(o);const q=Bt(Q),te=Bt(ee),H=F(w),z=`${H.getFullYear()}-${String(H.getMonth()+1).padStart(2,"0")}`;(p||{})[z];const re=(c||[]).filter(se=>{const xe=It(se.timestamp,u);return xe>=q&&xe<=te}),le=Wi(re,u),de=[],ve=new Date(Q);for(;ve<=ee;)de.push(new Date(ve)),ve.setDate(ve.getDate()+1);const ge=de.map(se=>{const xe=Bt(se),pe=le.filter(Re=>It(Re.timestamp,u)===xe);let Te="",ke="";if(pe.length>0){const Re=[...pe].sort((Pe,Je)=>Pe.timestamp-Je.timestamp),$e=Pe=>new Date(Pe).toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit"});Te=$e(Re[0].timestamp),ke=$e(Re[Re.length-1].timestamp)}return{dateStr:xe,dateLabel:`${se.getMonth()+1}/${se.getDate()}`,weekDay:se.getDay(),startTimeStr:Te,endTimeStr:ke,count:pe.length,dispatch:pe.filter(F_).length,sales:pe.reduce((Re,$e)=>Re+$e.amount,0),hasData:pe.length>0,records:pe}});return{monthLabel:`${F(w).getFullYear()} ${F(w).getMonth()+1}`,periodLabel:`${q}  ${te}`,rows:ge,totals:{workDays:ge.filter(se=>se.hasData).length,count:ge.reduce((se,xe)=>se+xe.count,0),dispatch:ge.reduce((se,xe)=>se+xe.dispatch,0),sales:ge.reduce((se,xe)=>se+xe.sales,0)}}},[c,p,w,o,u]),N=["","","","","","",""],D=["text-red-400","text-gray-300","text-gray-300","text-gray-300","text-gray-300","text-gray-300","text-blue-400"],C=_e.useMemo(()=>[...n].sort((Q,Y)=>h?Y[0].localeCompare(Q[0]):Q[0].localeCompare(Y[0])),[n,h]),S=e.reduce((Q,Y)=>Q+Y.amount,0),T=M6(S),A=Vb(e),E=Hb(e);e.length>0&&Math.round(S/e.length);const j=zb(e),U=j6(e),I=s||{};return y.jsxs("div",{className:"space-y-5 animate-in slide-in-from-right duration-300",children:[!a&&l&&y.jsxs("div",{className:"bg-blue-900/20 border border-blue-500/30 p-3 rounded-xl flex items-center justify-center gap-2 mb-2",children:[y.jsx(Ll,{className:"w-4 h-4 text-blue-400"}),y.jsxs("span",{className:"text-blue-200 font-bold",children:[l," "]})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex bg-gray-800 p-1.5 rounded-2xl border-2 border-blue-500 shadow-sm",children:[y.jsxs("button",{onClick:()=>{g("monthly"),R(!0)},className:`flex-1 py-3 rounded-xl font-black transition-all flex items-center justify-center gap-2 text-sm whitespace-nowrap ${x==="monthly"?"bg-gray-700 text-amber-500 shadow-md border-2 border-amber-500":"text-gray-500"}`,children:[y.jsx(Zn,{className:"w-4 h-4"})," "]}),y.jsxs("button",{onClick:()=>{g("yearly"),R(!0)},className:`flex-1 py-3 rounded-xl font-black transition-all flex items-center justify-center gap-2 text-sm whitespace-nowrap ${x==="yearly"?"bg-gray-700 text-blue-400 shadow-md border-2 border-blue-400":"text-gray-500"}`,children:[y.jsx(nE,{className:"w-4 h-4"})," "]})]}),y.jsxs("div",{className:"space-y-0",children:[y.jsx("div",{onClick:()=>R(!k),className:`rounded-t-2xl p-4 text-center shadow-lg cursor-pointer active:brightness-95 transition-all ${x==="monthly"?"bg-[#EAB308]":"bg-[#CC6600]"}`,children:y.jsxs("div",{className:`flex justify-between items-center ${x==="monthly"?"text-black":"text-white"}`,children:[y.jsx("button",{onClick:Q=>{Q.stopPropagation(),B(-1)},className:"p-1 hover:bg-black/10 rounded-full active:scale-90",children:y.jsx(Ha,{className:"w-6 h-6"})}),y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-xl font-black tracking-tighter",children:x==="monthly"?P.monthLabel:`${W.yearLabel} `}),k?y.jsx(zc,{size:20}):y.jsx(As,{size:20})]}),y.jsx("span",{className:`text-xs font-bold opacity-80 ${x==="yearly"&&"text-orange-100"}`,children:x==="monthly"?P.periodLabel:W.periodLabel})]}),y.jsx("div",{className:"flex gap-2",children:y.jsx("button",{onClick:Q=>{Q.stopPropagation(),B(1)},className:"p-1 hover:bg-black/10 rounded-full active:scale-90",children:y.jsx(Us,{className:"w-6 h-6"})})})]})}),y.jsx("div",{className:`bg-gray-800 rounded-b-2xl overflow-hidden border-x-2 border-b-2 border-blue-500 shadow-2xl transition-all duration-300 ${k?"max-h-[2000px] opacity-100":"max-h-0 opacity-0"}`,children:y.jsx("div",{className:"overflow-x-auto",children:x==="monthly"?y.jsxs("table",{className:"w-full text-center text-base",children:[y.jsx("thead",{children:y.jsxs("tr",{className:"bg-[#0f371d] text-white text-sm border-b border-green-800/50",children:[y.jsx("th",{className:"py-3 px-1 font-bold w-[12%]",children:""}),y.jsx("th",{className:"py-3 px-1 font-bold w-[10%]",children:""}),y.jsx("th",{className:"py-3 px-1 font-bold w-[15%]",children:""}),y.jsx("th",{className:"py-3 px-1 font-bold w-[15%]",children:""}),y.jsx("th",{className:"py-3 px-1 font-bold w-[12%]",children:""}),y.jsx("th",{className:"py-3 px-1 font-bold w-[12%]",children:""}),y.jsx("th",{className:"py-3 px-2 font-bold w-[24%] text-right",children:""})]})}),y.jsxs("tbody",{className:"text-gray-300 font-medium text-base",children:[P.rows.map((Q,Y)=>y.jsxs("tr",{className:`${Y%2===0?"bg-[#1A222C]":"bg-[#151b24]"} border-b border-gray-800/50 hover:bg-white/5 cursor-pointer`,onClick:()=>Q.hasData&&i(Q.dateStr),children:[y.jsx("td",{className:`py-3 px-1 font-bold border-r border-gray-800/50 ${D[Q.weekDay]} ${Q.hasData&&"underline decoration-amber-500/50"}`,children:Q.dateLabel}),y.jsx("td",{className:`py-3 px-1 font-bold border-r border-gray-800/50 ${D[Q.weekDay]}`,children:N[Q.weekDay]}),y.jsx("td",{className:`py-3 px-1 font-mono tracking-tighter border-r border-gray-800/50 ${Q.hasData?"text-white":"text-gray-600"}`,children:Q.startTimeStr}),y.jsx("td",{className:`py-3 px-1 font-mono tracking-tighter border-r border-gray-800/50 ${Q.hasData?"text-white":"text-gray-600"}`,children:Q.endTimeStr}),y.jsx("td",{className:`py-3 px-1 font-bold border-r border-gray-800/50 ${Q.hasData?"text-white":"text-gray-600"}`,children:Q.hasData?Q.count:"-"}),y.jsx("td",{className:`py-3 px-1 font-bold border-r border-gray-800/50 ${Q.hasData?"text-white":"text-gray-600"}`,children:Q.hasData?Q.dispatch:"-"}),y.jsx("td",{className:`py-3 px-2 text-right font-mono font-black tracking-tight ${Q.sales>0?"text-amber-400":"text-gray-700"}`,children:Q.sales>0?Q.sales.toLocaleString():"-"})]},Y)),y.jsxs("tr",{className:"bg-[#EAB308] text-black font-black border-t-2 border-amber-600 text-lg",children:[y.jsx("td",{className:"py-3 px-1",colSpan:2,children:""}),y.jsxs("td",{className:"py-3 px-1 text-base",colSpan:2,children:[P.totals.workDays,""]}),y.jsx("td",{className:"py-3 px-1",children:P.totals.count}),y.jsx("td",{className:"py-3 px-1",children:P.totals.dispatch}),y.jsx("td",{className:"py-3 px-2 text-right",children:P.totals.sales.toLocaleString()})]})]})]}):y.jsxs("table",{className:"w-full text-center text-base",children:[y.jsx("thead",{children:y.jsxs("tr",{className:"bg-[#004d00] text-white text-sm border-b border-green-800/50",children:[y.jsx("th",{className:"py-3 px-2 font-bold w-[28%] whitespace-nowrap",children:""}),y.jsx("th",{className:"py-3 px-2 font-bold w-[15%]",children:""}),y.jsx("th",{className:"py-3 px-2 font-bold w-[15%]",children:""}),y.jsx("th",{className:"py-3 px-2 font-bold w-[15%]",children:""}),y.jsx("th",{className:"py-3 px-2 font-bold w-[27%] text-right",children:""})]})}),y.jsxs("tbody",{className:"text-gray-200 font-medium text-base",children:[W.months.map((Q,Y)=>y.jsxs("tr",{className:`${Y%2===0?"bg-[#1A222C]":"bg-[#151b24]"} border-b border-gray-800/50 hover:bg-white/5 cursor-pointer`,onClick:()=>{Q.sales>0&&(t(Q.referenceDate),g("monthly"),R(!0))},children:[y.jsx("td",{className:"py-3 px-2 font-bold text-blue-400 border-r border-gray-800/50 underline decoration-blue-500/30 whitespace-nowrap",children:Q.fullLabel}),y.jsx("td",{className:"py-3 px-2 font-bold border-r border-gray-800/50",children:Q.sales>0?Q.dutyDays:"-"}),y.jsx("td",{className:"py-3 px-2 font-bold border-r border-gray-800/50",children:Q.sales>0?Q.count:"-"}),y.jsx("td",{className:"py-3 px-2 font-bold border-r border-gray-800/50",children:Q.sales>0?Q.dispatch:"-"}),y.jsx("td",{className:`py-3 px-2 text-right font-mono font-black tracking-tight ${Q.sales>0?"text-white":"text-gray-700"}`,children:Q.sales>0?Q.sales.toLocaleString():"-"})]},Y)),y.jsxs("tr",{className:"bg-[#FFE4B5] text-black font-black border-t-2 border-orange-400 text-lg",children:[y.jsx("td",{className:"py-3 px-2",children:""}),y.jsx("td",{className:"py-3 px-2",children:W.totals.dutyDays}),y.jsx("td",{className:"py-3 px-2",children:W.totals.count.toLocaleString()}),y.jsx("td",{className:"py-3 px-2",children:W.totals.dispatch}),y.jsx("td",{className:"py-3 px-2 text-right",children:W.totals.sales.toLocaleString()})]})]})]})})})]})]}),y.jsxs("div",{className:"flex items-center justify-between bg-gray-800 rounded-[24px] p-2 border-2 border-blue-500 shadow-inner relative",children:[y.jsx("button",{onClick:()=>t(new Date(new Date(r).setMonth(r.getMonth()-1))),className:"p-3 text-gray-400 active:scale-90 flex-shrink-0",children:y.jsx(Ha,{className:"w-7 h-7"})}),y.jsx("button",{onClick:()=>{O(null),G(!0)},className:"font-black text-[clamp(1.4rem,6vw,2rem)] text-white tracking-tight whitespace-nowrap hover:text-blue-400 transition-colors cursor-pointer",children:b}),y.jsx("button",{onClick:()=>t(new Date(new Date(r).setMonth(r.getMonth()+1))),className:"p-3 text-gray-400 active:scale-90 flex-shrink-0",children:y.jsx(Us,{className:"w-7 h-7"})}),L&&y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:()=>{G(!1),O(null)}}),y.jsxs("div",{className:"absolute top-full mt-2 left-1/2 transform -translate-x-1/2 z-50 bg-gray-800 rounded-xl border-2 border-blue-500 shadow-2xl p-4 min-w-[280px] max-h-[400px] overflow-y-auto",children:[y.jsx("div",{className:"text-sm font-bold text-blue-400 mb-3 text-center",children:""}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("div",{className:"text-xs text-gray-400 font-bold mb-2",children:""}),y.jsx("div",{className:"grid grid-cols-3 gap-2",children:(()=>{const Q=new Date().getFullYear(),Y=[];for(let q=0;q<=5;q++)Y.push(Q-q);const ee=V!==null?V:r.getFullYear();return Y.map(q=>y.jsx("button",{onClick:()=>O(q),className:`px-3 py-2 rounded-lg text-sm font-black transition-colors ${q===ee?"bg-blue-500 text-white":"bg-gray-700 text-white hover:bg-gray-600"}`,children:q},q))})()})]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-xs text-gray-400 font-bold mb-2",children:""}),y.jsx("div",{className:"grid grid-cols-3 gap-2",children:[1,2,3,4,5,6,7,8,9,10,11,12].map(Q=>{const Y=V!==null?V:r.getFullYear(),ee=Q===r.getMonth()+1&&Y===r.getFullYear();return y.jsxs("button",{onClick:()=>{const q=new Date(Y,Q-1,o===0?28:o),{end:te}=$t(q,o,u);t(te),G(!1),O(null)},className:`px-3 py-2 rounded-lg text-sm font-black transition-colors ${ee?"bg-blue-500 text-white":"bg-gray-700 text-white hover:bg-gray-600"}`,children:[Q,""]},Q)})})]})]})]})]})]}),y.jsxs("section",{className:"space-y-6",children:[y.jsxs("div",{className:"bg-[#1A222C] rounded-[32px] border border-gray-800 shadow-2xl relative overflow-hidden p-6",children:[y.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-amber-500 to-transparent opacity-50"}),y.jsx("p",{className:"text-sm font-black text-amber-500 uppercase tracking-[0.3em] mb-4 text-center",children:" ()"}),y.jsx("div",{className:"text-center mb-4",children:y.jsx("span",{className:"text-[clamp(2.5rem,12vw,5.5rem)] font-black text-amber-500 leading-none tracking-tighter",children:Rr(S)})}),y.jsxs("div",{className:"flex flex-col items-center gap-1.5",children:[y.jsxs("p",{className:"text-base font-bold text-gray-400",children:["( ",Rr(T),")"]}),y.jsxs("p",{className:"text-base font-bold text-gray-400",children:[" ",Rr(S-T)]})]})]}),y.jsx("div",{className:"bg-[#1A222C] p-6 rounded-[32px] border border-gray-800 shadow-2xl",children:y.jsx($b,{breakdown:A,counts:E,customLabels:I,enabledMethods:Object.keys(Hs)})}),y.jsx("div",{className:"bg-[#1A222C] p-6 rounded-[32px] border border-gray-800 shadow-2xl",children:y.jsx(F6,{breakdown:j,counts:U,enabledRideTypes:Object.keys(Qi)})})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("h3",{className:"text-xs font-black text-gray-500 uppercase px-1 tracking-widest flex justify-between items-center italic flex-wrap gap-2",children:[y.jsx("span",{children:""}),y.jsxs("button",{onClick:()=>d(!h),className:"text-[12px] bg-gray-800 text-gray-400 px-3 py-1.5 rounded-full flex items-center gap-2 font-black active:scale-95 shadow-sm border border-gray-700 whitespace-nowrap",children:[y.jsx(B1,{className:"w-3.5 h-3.5"}),""]})]}),y.jsx("div",{className:"space-y-3",children:C.length>0?C.slice(0,100).map(([Q,Y])=>y.jsxs("div",{onClick:()=>i(Q),className:"bg-[#1A222C] rounded-[24px] p-4 border border-gray-800 flex justify-between items-center active:bg-gray-800 transition-all shadow-md group cursor-pointer gap-3 w-full",children:[y.jsxs("div",{className:"z-10 overflow-hidden min-w-0 flex-1",children:[y.jsx("p",{className:"font-black text-white text-[clamp(1.2rem,6vw,1.6rem)] tracking-tight truncate",children:Q}),y.jsx("div",{className:"flex gap-2 mt-1 items-center",children:y.jsxs("p",{className:"text-[12px] text-gray-400 font-black uppercase tracking-widest whitespace-nowrap",children:[Y.length,""]})})]}),y.jsxs("div",{className:"text-right flex items-center gap-2 flex-shrink-0",children:[y.jsx("p",{className:"font-black text-amber-500 text-[clamp(1.4rem,7vw,2rem)] truncate leading-tight",children:Rr(Y.reduce((ee,q)=>ee+q.amount,0))}),y.jsx(Us,{className:"w-5 h-5 text-gray-700"})]})]},Q)):y.jsx("p",{className:"text-center text-gray-600 font-bold py-10 italic uppercase tracking-widest",children:"No Data in this period"})})]})]})},jj=["toppo2000@gmail.com","admin-user@gmail.com"],Dj=({history:r,dayMetadata:t,customPaymentLabels:e,businessStartHour:n,shimebiDay:s,onEditRecord:i,onUpdateMetadata:a,stats:l,initialTargetDate:c,onClearTargetDate:o})=>{var q,te;const[u,p]=_e.useState((q=hr.currentUser)==null?void 0:q.uid),[h,d]=_e.useState(!0),[b,x]=_e.useState([]),[g,w]=_e.useState(null),[v,k]=_e.useState([]),[R,L]=_e.useState({}),[G,V]=_e.useState({}),[O,F]=_e.useState(()=>{const{end:H}=$t(new Date,s,n);return H}),[B,W]=_e.useState(null),P=_e.useRef(null),N=(te=hr.currentUser)==null?void 0:te.uid,D=u===N,C=b.find(H=>H.uid===u)||null,S=D?n:(C==null?void 0:C.businessStartHour)||9;_e.useEffect(()=>{const H=Hr(Gr(Pt,"public_status"),un("lastUpdated","desc"),T6(50)),z=fs(H,Z=>{const ae=[];Z.forEach(re=>{const le=re.data();ae.push({uid:re.id,...le}),re.id===N&&E(le.months||{})}),x(ae)});return()=>z()},[N]),_e.useEffect(()=>{(async()=>{if(!u)return;d(D),w(C);const{start:z,end:Z}=$t(O,s,S);try{let ae=[];const re=z.getTime(),le=Z.getTime();try{const ge=Gr(Pt,"public_status",u,"history"),se=Hr(ge,ds("timestamp",">=",re),ds("timestamp","<=",le),un("timestamp","asc")),xe=await Zr(se);xe.empty||(xe.forEach(pe=>{ae.push(pe.data())}),console.log(`[HistoryView] Loaded ${ae.length} records from subcollection for period ${Bt(z)} - ${Bt(Z)}`))}catch(ge){if((ge==null?void 0:ge.code)==="failed-precondition"){console.log("[HistoryView] Index not available, loading all records and filtering...");try{const se=Gr(Pt,"public_status",u,"history"),xe=Hr(se,un("timestamp","asc"));(await Zr(xe)).forEach(Te=>{const ke=Te.data();ke.timestamp>=re&&ke.timestamp<=le&&ae.push(ke)}),console.log(`[HistoryView] Loaded ${ae.length} records from subcollection (with client-side filtering)`)}catch{console.log("[HistoryView] Subcollection not available, falling back to array field")}}else console.log("[HistoryView] Subcollection not available, falling back to array field")}k(ae);const de=await os(tr(Pt,"public_status",u));if(de.exists()){const ge=de.data();V(ge.months||{})}else V({});const ve=await os(tr(Pt,"users",u));if(ve.exists()){const ge=ve.data();L(ge.dayMetadata||{})}else L({})}catch(ae){console.error(":",ae)}})()},[u,O,s,S,b]),_e.useEffect(()=>{if(c){const H=c.toString();if(P.current===H)return;if(typeof c=="string"){const z=new Date(c),{end:Z}=$t(z,s,n);F(new Date(Z)),W(c)}else if(c instanceof Date){const{end:z}=$t(c,s,n);F(new Date(z)),W(null)}P.current=H,o&&o()}},[c,s,n,o]);const T=_e.useMemo(()=>{var Z;const H=(Z=hr.currentUser)==null?void 0:Z.email,z=H&&jj.includes(H);return b.filter(ae=>{if(ae.uid===N||z)return!0;const re=ae.visibilityMode||"PUBLIC";return re==="PRIVATE"?!1:re==="CUSTOM"?ae.allowedViewers&&ae.allowedViewers.includes(N):!0}).sort((ae,re)=>ae.uid===N?-1:re.uid===N?1:0)},[b,N]),[A,E]=_e.useState({}),j=D?r:v,U=D?e:{},I=D?t:R,Q=D?A:G,Y=_e.useMemo(()=>{const H=j||[],z=new Map;return H.forEach(Z=>z.set(Z.id,Z)),Array.from(z.values()).sort((Z,ae)=>Z.timestamp-ae.timestamp)},[j]),ee=()=>{if(B)try{const Z=I[B]||{memo:"",attributedMonth:"",totalRestMinutes:0},ae=j||[],re=ae.filter(le=>{try{return It(le.timestamp,S)===B}catch(de){return console.error("[HistoryView] Error filtering record:",de,le),!1}});return console.log("[HistoryView] Rendering DailyDetailView:",{selectedDay:B,recordsCount:re.length,meta:Z,isViewingMe:D,targetHistoryLength:ae.length}),y.jsx("div",{className:"w-full bg-[#0A0E14] min-h-screen",children:y.jsx(Rj,{date:B,records:re,meta:Z,customLabels:U,businessStartHour:S,onBack:()=>W(null),isMe:D,onUpdateMetadata:D?a:void 0,onEditRecord:D?i:void 0})})}catch(Z){return console.error("[HistoryView] Error rendering DailyDetailView:",Z),y.jsxs("div",{className:"p-4 text-center text-red-400",children:[y.jsxs("p",{children:[": ",String(Z)]}),y.jsx("button",{onClick:()=>W(null),className:"mt-4 px-4 py-2 bg-gray-800 rounded-lg",children:""})]})}const{monthData:H,dailyGroups:z}=(()=>{const Z=new Date(O.getFullYear(),O.getMonth(),s===0?28:s),{start:ae,end:re}=$t(Z,s,S),le=new Date(re);s!==0&&le.setDate(s);const de=Bt(ae),ve=Bt(le),se=(j||[]).filter(pe=>{const Te=It(pe.timestamp,S);return Te>=de&&Te<=ve}),xe={};return se.forEach(pe=>{const Te=It(pe.timestamp,S);xe[Te]||(xe[Te]=[]),xe[Te].push(pe)}),{monthData:se,dailyGroups:Object.entries(xe)}})();return y.jsx("div",{className:"p-4 pb-32 w-full overflow-hidden",children:y.jsx(Mj,{displayMonth:O,setCurrentMonth:F,monthData:H,dailyGroups:z,customLabels:U,onSelectDay:W,isMe:D,userName:g==null?void 0:g.name,history:Y,shimebiDay:s,businessStartHour:S,monthsData:Q})})};return y.jsxs("div",{className:"w-full min-h-screen bg-[#0A0E14]",children:[!B&&y.jsx("div",{className:"p-4 pb-0",children:y.jsxs("div",{className:"relative",children:[y.jsx("select",{value:u||"",onChange:H=>p(H.target.value),className:"w-full appearance-none bg-gray-900 border border-gray-800 text-white font-bold py-3 px-4 rounded-2xl shadow-sm focus:outline-none focus:ring-2 focus:ring-amber-500/50",children:T.map(H=>{var z;return y.jsx("option",{value:H.uid,children:H.uid===((z=hr.currentUser)==null?void 0:z.uid)?` (${l.userName})`:H.name||""},H.uid)})}),y.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-gray-400",children:y.jsx(As,{className:"w-5 h-5"})})]})}),ee()]})},Ij=["toppo2000@gmail.com","admin-user@gmail.com"],Oj=({text:r,isScrolling:t,cardId:e,onAnimationComplete:n})=>{const s=_e.useRef(null),i=_e.useRef(null),[a,l]=_e.useState(!1),c=_e.useRef(null);return _e.useEffect(()=>{if(s.current&&i.current){const o=s.current.scrollWidth,u=i.current.clientWidth;l(o>u)}},[r]),_e.useEffect(()=>{if(!a||!t){s.current&&(s.current.style.transition="",s.current.style.transform=""),c.current&&(clearTimeout(c.current),c.current=null);return}if(s.current&&i.current){const o=s.current.scrollWidth,u=i.current.clientWidth,p=o-u;p>0&&(s.current.style.transition="transform 1.33s linear",s.current.style.transform=`translateX(-${p}px)`,c.current=setTimeout(()=>{s.current&&(s.current.style.transition="transform 0.3s ease-out",s.current.style.transform="",n(e))},1330))}return()=>{c.current&&clearTimeout(c.current)}},[t,a,e,n]),y.jsx("div",{ref:i,className:"overflow-hidden flex-1 min-w-0 opacity-70",children:y.jsx("span",{ref:s,className:"whitespace-nowrap inline-block",children:r})})},Fj=({history:r,stats:t,onNavigateToHistory:e})=>{var O,F;const[n,s]=_e.useState("allTime"),[i,a]=_e.useState([]),[l,c]=_e.useState(new Date),[o,u]=_e.useState([]),[p,h]=_e.useState({}),d=t.businessStartHour??9,b=t.shimebiDay??20,x=(O=hr.currentUser)==null?void 0:O.uid,g=((F=hr.currentUser)==null?void 0:F.email)||"",w=Ij.includes(g);_e.useEffect(()=>{const B=fs(Gr(Pt,"public_status"),W=>{const P=W.docs.map(N=>({...N.data(),uid:N.id}));a(P)});return()=>B()},[]);const v=B=>{if(B.uid===x||w)return!0;if(!t.followingUsers.includes(B.uid))return!1;const W=B.visibilityMode||"PUBLIC";return W==="PRIVATE"?!1:W==="CUSTOM"?B.allowedViewers&&B.allowedViewers.includes(x||""):!0},[k,R]=_e.useState([]);_e.useEffect(()=>{const B=async()=>{try{let W=[];for(const N of i.filter(v)){let D=[];try{const T=Gr(Pt,"public_status",N.uid,"history"),A=Hr(T,un("amount","desc"),T6(100)),E=await Zr(A),j=[];E.forEach(U=>{var Q;const I=U.data();(Q=I.remarks)!=null&&Q.includes("")||j.push(I)}),D=j.sort((U,I)=>I.amount-U.amount).slice(0,20)}catch(T){console.warn(`[AnalysisView] Failed to load records from subcollection for user ${N.uid}:`,T),N.topRecords&&Array.isArray(N.topRecords)&&N.topRecords.length>0?D=N.topRecords:N.history&&Array.isArray(N.history)&&N.history.length>0&&(D=N.history.filter(A=>{var E;return!((E=A.remarks)!=null&&E.includes(""))}).sort((A,E)=>E.amount-A.amount).slice(0,20))}const C=N.name||"Unknown",S=N.uid===x;Array.isArray(D)&&D.forEach(T=>{W.push({...T,userName:C,isMe:S})})}const P=W.sort((N,D)=>D.amount-N.amount).slice(0,20);R(P)}catch(W){console.error("[AnalysisView] Error loading all-time ranking:",W),R([])}};i.length>0?B():R([])},[i,x,t.followingUsers,w]);const L=_e.useMemo(()=>[...i].filter(v).sort((B,W)=>(W.monthlyTotal||0)-(B.monthlyTotal||0)).map((B,W)=>({uid:B.uid,rank:W+1,name:B.name||"Unknown",amount:B.monthlyTotal||0,monthlyGoal:B.monthlyGoal||1e6,rideCount:B.rideCount||0,isMe:B.uid===x})),[i,x,t.followingUsers,w]);_e.useEffect(()=>{n==="daily"&&(async()=>{try{const W=new Date(l);W.setHours(d,0,0,0);const P=It(W.getTime(),d),N=[];if(i.length===0){console.log("[AnalysisView] publicStatusData is empty"),u([]);return}const D=new Date(l);D.setHours(d,0,0,0);const C=new Date(D);C.setDate(C.getDate()+1),C.setHours(d,0,0,0),C.setMilliseconds(C.getMilliseconds()-1);const S=D.getTime(),T=C.getTime();console.log(`[AnalysisView] Selected date: ${Bt(l)}, Business date: ${P}`),console.log(`[AnalysisView] Timestamp range: ${new Date(S).toISOString()} to ${new Date(T).toISOString()}`),console.log(`[AnalysisView] Start: ${Bt(D)} ${D.getHours()}:00, End: ${Bt(C)} ${C.getHours()}:00`);const A=i.filter(v);console.log(`[AnalysisView] Date: ${P}, Total users: ${i.length}, Filtered users: ${A.length}`);for(const E of A)try{let j=0,U=[];const I=E.businessStartHour??d,Q=new Date(l);Q.setHours(I,0,0,0);const Y=It(Q.getTime(),I),ee=new Date(l);ee.setHours(I,0,0,0);const q=new Date(ee);q.setDate(q.getDate()+1),q.setHours(I,0,0,0),q.setMilliseconds(q.getMilliseconds()-1);const te=ee.getTime(),H=q.getTime();console.log(`[AnalysisView] User ${E.name} (${E.uid}), businessStartHour: ${I}, business date: ${Y}`),console.log(`[AnalysisView] User ${E.name}, timestamp range: ${new Date(te).toISOString()} to ${new Date(H).toISOString()}`);try{const re=Gr(Pt,"public_status",E.uid,"history");let le;try{const de=Hr(re,ds("timestamp",">=",te),ds("timestamp","<=",H),un("timestamp","asc"));le=await Zr(de)}catch(de){console.log(`[AnalysisView] User ${E.name} (${E.uid}), index error, trying without orderBy:`,de==null?void 0:de.code);const ve=Hr(re,ds("timestamp",">=",te),ds("timestamp","<=",H));le=await Zr(ve)}if(le.empty){console.log(`[AnalysisView] User ${E.name} (${E.uid}), date ${Y}: Subcollection query returned empty`);try{const de=Hr(re,un("timestamp","desc")),ve=await Zr(de);ve.empty||(ve.forEach(ge=>{const se=ge.data();It(se.timestamp,I)===Y&&U.push(se)}),console.log(`[AnalysisView] User ${E.name} (${E.uid}), date ${Y}: Found ${U.length} records from full subcollection scan`))}catch(de){console.log(`[AnalysisView] User ${E.name} (${E.uid}), full scan error:`,de==null?void 0:de.code)}}else{const de=[];if(le.forEach(ve=>{const ge=ve.data();de.push(ge),It(ge.timestamp,I)===Y&&U.push(ge)}),console.log(`[AnalysisView] User ${E.name} (${E.uid}), date ${Y}: Found ${de.length} records in timestamp range, ${U.length} records match business date`),console.log(`[AnalysisView] User ${E.name}, records in range:`,de.map(ve=>{var ge;return{timestamp:new Date(ve.timestamp).toISOString(),businessDate:It(ve.timestamp,I),amount:ve.amount,isSimple:(ge=ve.remarks)==null?void 0:ge.includes("")}})),console.log(`[AnalysisView] User ${E.name}, matching records:`,U.map(ve=>{var ge;return{id:ve.id,amount:ve.amount,isSimple:(ge=ve.remarks)==null?void 0:ge.includes("")}})),U.length===0||de.length<5){console.log(`[AnalysisView] User ${E.name} (${E.uid}), date ${Y}: Trying full scan as backup`);try{const ve=Hr(re,un("timestamp","desc")),ge=await Zr(ve);if(!ge.empty){const se=[];ge.forEach(xe=>{const pe=xe.data();It(pe.timestamp,I)===Y&&se.push(pe)}),U.push(...se),console.log(`[AnalysisView] User ${E.name} (${E.uid}), date ${Y}: Found ${se.length} additional records from full subcollection scan`)}}catch(ve){console.log(`[AnalysisView] User ${E.name} (${E.uid}), full scan error:`,ve==null?void 0:ve.code)}}}}catch(re){console.log(`[AnalysisView] User ${E.name} (${E.uid}), subcollection query error:`,re==null?void 0:re.code,re==null?void 0:re.message)}U.length===0&&(U=(E.history||[]).filter(le=>It(le.timestamp,I)===Y),console.log(`[AnalysisView] User ${E.name} (${E.uid}), date ${Y}: Found ${U.length} records from history array`));const z={};U.forEach(re=>{if(re.id&&!z[re.id])z[re.id]=re;else if(!re.id){const le=`${re.timestamp}_${re.amount}_${re.pickupLocation||""}`;z[le]||(z[le]=re)}});const Z=Object.values(z);console.log(`[AnalysisView] User ${E.name} (${E.uid}), date ${Y}: After deduplication: ${Z.length} records (was ${U.length})`),console.log(`[AnalysisView] User ${E.name} (${E.uid}), records before filtering:`,Z.map(re=>{var le;return{id:re.id,amount:re.amount,isSimple:(le=re.remarks)==null?void 0:le.includes("")}}));const ae=Wi(Z,I);j=ae.reduce((re,le)=>re+(le.amount||0),0),console.log(`[AnalysisView] User ${E.name}, after filtering: ${ae.length} records, total: ${j}`),console.log(`[AnalysisView] User ${E.name}, filtered records:`,ae.map(re=>{var le;return{id:re.id,amount:re.amount,isSimple:(le=re.remarks)==null?void 0:le.includes("")}})),j>0&&(N.push({uid:E.uid,rank:0,name:E.name||"Unknown",amount:j,isMe:E.uid===x}),console.log(`[AnalysisView] Added user ${E.name} to ranking with amount: ${j}`))}catch(j){if(console.error(`[AnalysisView] Error processing user ${E.name} (${E.uid}):`,j),(j==null?void 0:j.code)==="failed-precondition"||(j==null?void 0:j.code)==="unavailable"){const U=E.businessStartHour??d,I=new Date(l);I.setHours(U,0,0,0);const Q=It(I.getTime(),U),ee=(E.history||[]).filter(H=>It(H.timestamp,U)===Q);console.log(`[AnalysisView] User ${E.name} (${E.uid}), fallback to history array: Found ${ee.length} records`);const q=Wi(ee,U),te=q.reduce((H,z)=>H+(z.amount||0),0);console.log(`[AnalysisView] User ${E.name}, after filtering: ${q.length} records, total: ${te}`),te>0&&(N.push({uid:E.uid,rank:0,name:E.name||"Unknown",amount:te,isMe:E.uid===x}),console.log(`[AnalysisView] Added user ${E.name} to ranking with amount: ${te}`))}}console.log(`[AnalysisView] Final ranking count: ${N.length}`),N.sort((E,j)=>j.amount-E.amount),N.forEach((E,j)=>{E.rank=j+1}),u(N)}catch(W){console.error(":",W)}})()},[n,l,i,d,x,t.followingUsers,w]);const G=B=>{const W=new Date(l);W.setDate(W.getDate()+B),c(W)},V=new Date;return _e.useMemo(()=>{const{start:B,end:W}=$t(V,b,d),P=new Date(W);b!==0&&P.setDate(b);const N=Bt(B),D=Bt(P),C=r.filter(re=>{const le=It(re.timestamp,d);return le>=N&&le<=D}),S=C.reduce((re,le)=>re+le.amount,0),T=C.length,A=T>0?S/T:0,E=C.filter(re=>re.isBadCustomer).length;let j=0,U=0;C.forEach(re=>{j+=re.passengersMale||0,U+=re.passengersFemale||0});const I=j+U,Q={};let Y=0;C.forEach(re=>{const le=re.amount+re.toll;Q[re.paymentMethod]=(Q[re.paymentMethod]||0)+le,Y+=le});const ee=Object.entries(Q).sort(([,re],[,le])=>le-re).map(([re,le])=>({method:re,amount:le,percent:Y>0?le/Y*100:0})),q=Array(8).fill(0);C.forEach(re=>{q[Math.floor(new Date(re.timestamp).getHours()/3)]+=re.amount});const te=Math.max(...q,1),H=q.map((re,le)=>({label:["0-3","3-6","6-9","9-12","12-15","15-18","18-21","21-24"][le],value:re,percent:re/te*100})),z=Array(7).fill(0);C.forEach(re=>{z[new Date(re.timestamp).getDay()]+=re.amount});const Z=Math.max(...z,1),ae=z.map((re,le)=>({value:re,percent:re/Z*100}));return{totalSales:S,count:T,avg:A,badCustomers:E,badCustomerRate:T>0?E/T*100:0,gender:{male:j,female:U,total:I,malePer:I>0?j/I*100:0,femalePer:I>0?U/I*100:0},paymentData:ee,hourlyData:H,dayOfWeekData:ae,records:C}},[r,V,b,d]),y.jsx("div",{className:"p-4 pb-32 space-y-8 w-full overflow-hidden animate-in fade-in duration-500 bg-[#0A0E14] min-h-screen",children:y.jsxs("section",{className:"space-y-4",children:[y.jsx("div",{className:"sticky top-0 z-20 bg-[#0A0E14] pb-2",children:y.jsxs("h2",{className:"text-2xl font-black text-white mb-3 tracking-tight flex items-center gap-2",children:[y.jsx(Hc,{className:"w-6 h-6 text-[#EAB308]"}),y.jsx("span",{className:"bg-gradient-to-r from-amber-400 to-yellow-300 bg-clip-text text-transparent",children:""})]})}),y.jsxs("div",{className:"flex gap-2 sticky top-16 z-10",children:[y.jsxs("button",{onClick:()=>s("allTime"),className:`flex-1 py-3 rounded-2xl font-black transition-all flex items-center justify-center gap-2 text-sm shadow-lg border-2 whitespace-nowrap ${n==="allTime"?"bg-[#EAB308] text-black border-[#EAB308] scale-[1.02] shadow-[#EAB308]/50":"bg-gray-800/80 text-gray-300 border-gray-700 hover:bg-gray-700 hover:border-gray-600"}`,children:[y.jsx(Hc,{className:"w-4 h-4"})," "]}),y.jsxs("button",{onClick:()=>s("monthly"),className:`flex-1 py-3 rounded-2xl font-black transition-all flex items-center justify-center gap-2 text-sm shadow-lg border-2 whitespace-nowrap ${n==="monthly"?"bg-blue-500 text-white border-blue-500 scale-[1.02] shadow-blue-500/50":"bg-gray-800/80 text-gray-300 border-gray-700 hover:bg-gray-700 hover:border-gray-600"}`,children:[y.jsx(Kg,{className:"w-4 h-4"})," Rank"]}),y.jsxs("button",{onClick:()=>s("daily"),className:`flex-1 py-3 rounded-2xl font-black transition-all flex items-center justify-center gap-2 text-sm shadow-lg border-2 whitespace-nowrap ${n==="daily"?"bg-purple-500 text-white border-purple-500 scale-[1.02] shadow-purple-500/50":"bg-gray-800/80 text-gray-300 border-gray-700 hover:bg-gray-700 hover:border-gray-600"}`,children:[y.jsx(Zn,{className:"w-4 h-4"})," Rank"]})]}),n==="daily"&&y.jsx("div",{className:"bg-gray-800 rounded-2xl p-4 border border-gray-700",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("button",{onClick:()=>G(-1),className:"p-2 rounded-xl bg-gray-700 hover:bg-gray-600 transition-colors",children:y.jsx(Ha,{className:"w-5 h-5 text-white"})}),y.jsx("div",{className:"flex-1 text-center",children:y.jsx("input",{type:"date",value:Bt(l).replace(/\//g,"-"),onChange:B=>c(new Date(B.target.value)),className:"bg-gray-900 border border-gray-700 rounded-xl px-4 py-2 text-white font-black text-center focus:outline-none focus:border-blue-500"})}),y.jsx("button",{onClick:()=>G(1),className:"p-2 rounded-xl bg-gray-700 hover:bg-gray-600 transition-colors",children:y.jsx(Us,{className:"w-5 h-5 text-white"})})]})}),y.jsxs("div",{className:"space-y-3 min-h-[300px]",children:[n==="allTime"&&(k.length>0?k.map((B,W)=>{const P=`${B.id}-${W}`,N=`${B.pickupLocation||"---"}  ${B.dropoffLocation||"---"}`,D=p[P]||!1;return y.jsx("div",{onClick:()=>{h(C=>({...C,[P]:!C[P]}))},className:"cursor-pointer",children:y.jsxs("div",{className:`group relative overflow-hidden bg-gray-800 border-2 ${B.isMe?"border-amber-500 bg-amber-900/10":"border-blue-500"} rounded-2xl p-4 flex items-center gap-4 transition-all hover:border-blue-400`,children:[y.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center font-black text-lg flex-shrink-0 ${W===0?"bg-gradient-to-br from-amber-300 to-amber-600 text-black shadow-lg shadow-amber-500/30":W===1?"bg-gradient-to-br from-gray-300 to-gray-500 text-black":W===2?"bg-gradient-to-br from-orange-700 to-orange-900 text-white border border-white/20":"bg-gradient-to-br from-gray-600 to-gray-800 text-gray-300"}`,children:W+1}),y.jsxs("div",{className:"flex-1 min-w-0 z-10",children:[y.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[y.jsx("span",{className:`text-[2.2rem] font-black tracking-tighter ${B.isMe?"text-amber-500":"text-white"}`,children:Rr(B.amount)}),y.jsx("span",{className:"text-[15px] font-bold text-gray-500 uppercase",children:Bt(new Date(B.timestamp))})]}),y.jsxs("div",{className:"flex items-center gap-2 text-lg font-bold text-gray-400",children:[y.jsx("span",{className:`px-1.5 py-0.5 rounded text-[15px] uppercase border ${B.isMe?"bg-amber-500/20 text-amber-400 border-amber-500/30":"bg-gray-800 border-gray-700"}`,children:B.userName}),y.jsx(Oj,{text:N,isScrolling:D,cardId:P,onAnimationComplete:C=>{h(S=>({...S,[C]:!1}))}})]})]}),B.isMe&&y.jsx("div",{className:"absolute inset-0 bg-amber-500/5 pointer-events-none"})]})},P)}):y.jsxs("div",{className:"text-center py-12 text-gray-600 font-bold bg-gray-800 rounded-3xl border-2 border-blue-500",children:[y.jsx(Hc,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),y.jsx("p",{children:""})]})),n==="monthly"&&(L.length>0?L.map((B,W)=>y.jsxs("div",{className:`group relative overflow-hidden bg-gray-800 border-2 ${B.isMe?"border-blue-500 bg-blue-900/10":"border-blue-500"} rounded-2xl p-4 flex items-center justify-between transition-all hover:border-blue-400`,children:[y.jsxs("div",{className:"flex items-center gap-4 z-10",children:[y.jsxs("div",{className:`text-xl font-black italic w-6 text-center ${W<3?"text-white drop-shadow-md":"text-gray-600"}`,children:["#",B.rank]}),y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:`text-sm font-bold ${B.isMe?"text-blue-400":"text-gray-200"}`,children:B.name}),B.isMe&&y.jsx("span",{className:"text-[9px] bg-blue-500 text-white px-1.5 rounded font-black",children:"YOU"})]}),y.jsx("div",{className:"text-[10px] text-gray-500 font-mono mt-0.5 flex gap-2",children:y.jsxs("span",{children:[B.rideCount,""]})})]})]}),y.jsx("div",{className:"text-right z-10",children:y.jsx("p",{className:"text-lg font-black text-white tracking-tight",children:Rr(B.amount)})}),y.jsx("div",{className:"absolute inset-y-0 left-0 bg-white/5 z-0 transition-all duration-1000 origin-left",style:{width:`${Math.min(100,B.monthlyGoal>0?B.amount/B.monthlyGoal*100:0)}%`}})]},B.uid)):y.jsxs("div",{className:"text-center py-12 text-gray-600 font-bold bg-gray-900/50 rounded-3xl border border-gray-800",children:[y.jsx(Kg,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),y.jsx("p",{children:""})]})),n==="daily"&&(o.length>0?o.map((B,W)=>{var P;return y.jsxs("div",{className:`group relative overflow-hidden bg-gray-800 border-2 ${B.isMe?"border-orange-500 bg-orange-900/10":"border-blue-500"} rounded-2xl p-4 flex items-center justify-between transition-all hover:border-blue-400`,children:[y.jsxs("div",{className:"flex items-center gap-4 z-10",children:[y.jsxs("div",{className:`text-xl font-black italic w-6 text-center ${W<3?"text-white drop-shadow-md":"text-gray-600"}`,children:["#",B.rank]}),y.jsx("div",{children:y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:`text-sm font-bold ${B.isMe?"text-orange-400":"text-gray-200"}`,children:B.name}),B.isMe&&y.jsx("span",{className:"text-[9px] bg-orange-500 text-white px-1.5 rounded font-black",children:"YOU"})]})})]}),y.jsx("div",{className:"text-right z-10",children:y.jsx("p",{className:"text-lg font-black text-white tracking-tight",children:Rr(B.amount)})}),o.length>0&&y.jsx("div",{className:"absolute inset-y-0 left-0 bg-white/5 z-0 transition-all duration-1000 origin-left",style:{width:`${Math.min(100,B.amount/(((P=o[0])==null?void 0:P.amount)||1)*100)}%`}})]},B.uid)}):y.jsxs("div",{className:"text-center py-12 text-gray-600 font-bold bg-gray-800 rounded-3xl border-2 border-blue-500",children:[y.jsx(Zn,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),y.jsx("p",{children:""})]}))]})]})})},Pj=r=>{switch(r){case"CASH":return"bg-amber-400";case"CARD":return"bg-blue-400";case"NET":return"bg-purple-400";case"E_MONEY":return"bg-emerald-400";case"TRANSPORT":return"bg-cyan-400";case"DIDI":return"bg-orange-400";case"QR":return"bg-teal-400";case"TICKET":return"bg-rose-400";default:return"bg-gray-400"}},Lj=r=>{switch(r){case"FLOW":return"bg-green-400";case"WAIT":return"bg-yellow-400";case"APP":return"bg-blue-400";case"HIRE":return"bg-purple-400";case"RESERVE":return"bg-pink-400";case"WIRELESS":return"bg-indigo-400";default:return"bg-gray-400"}},Bj=({history:r,stats:t})=>{const[e,n]=_e.useState(new Date),s=t.businessStartHour??9,i=t.shimebiDay??20,a=o=>{const u=new Date(e);u.setMonth(u.getMonth()+o),n(u)},l=_e.useMemo(()=>{const{end:o}=$t(e,i,s);return`${o.getFullYear()} ${o.getMonth()+1}`},[e,i,s]),c=_e.useMemo(()=>{const{start:o,end:u}=$t(e,i,s),p=new Date(u);i!==0&&p.setDate(i);const h=Bt(o),d=Bt(p),b=r.filter(P=>{const N=It(P.timestamp,s);return N>=h&&N<=d}),x=b.reduce((P,N)=>P+N.amount,0),g=b.length,w=g>0?x/g:0,v=b.filter(P=>P.isBadCustomer).length;let k=0,R=0;b.forEach(P=>{k+=P.passengersMale||0,R+=P.passengersFemale||0});const L=k+R,G={};let V=0;b.forEach(P=>{const N=P.amount+P.toll;G[P.paymentMethod]=(G[P.paymentMethod]||0)+N,V+=N});const O=Object.entries(G).sort(([,P],[,N])=>N-P).map(([P,N])=>({method:P,amount:N,percent:V>0?N/V*100:0})),F=zb(b),B=Object.values(F).reduce((P,N)=>P+N,0),W=Object.entries(F).sort(([,P],[,N])=>N-P).map(([P,N])=>({rideType:P,amount:N,percent:B>0?N/B*100:0}));return{totalSales:x,count:g,avg:w,badCustomers:v,badCustomerRate:g>0?v/g*100:0,gender:{male:k,female:R,total:L,malePer:L>0?k/L*100:0,femalePer:L>0?R/L*100:0},paymentData:O,rideData:W,records:b}},[r,e,i,s]);return y.jsx("div",{className:"p-4 pb-32 space-y-5 w-full overflow-hidden animate-in fade-in duration-500",children:y.jsxs("section",{className:"space-y-5",children:[y.jsxs("div",{className:"flex items-center justify-between px-1",children:[y.jsxs("h3",{className:"text-lg font-black text-white flex items-center gap-2 italic uppercase tracking-tighter",children:[y.jsx(hT,{className:"w-5 h-5 text-indigo-500"})," "]}),y.jsxs("div",{className:"flex items-center bg-gray-800 rounded-full border-2 border-blue-500 p-1",children:[y.jsx("button",{onClick:()=>a(-1),className:"p-2 hover:bg-gray-800 rounded-full text-gray-400 active:scale-90 transition-all",children:y.jsx(Ha,{className:"w-4 h-4"})}),y.jsx("span",{className:"text-xs font-black text-white px-2 tabular-nums",children:l}),y.jsx("button",{onClick:()=>a(1),className:"p-2 hover:bg-gray-800 rounded-full text-gray-400 active:scale-90 transition-all",children:y.jsx(Us,{className:"w-4 h-4"})})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[y.jsxs("div",{className:"col-span-2 bg-gray-800 p-5 rounded-[28px] border-2 border-blue-500 shadow-xl relative overflow-hidden",children:[y.jsxs("p",{className:"text-xs font-black text-gray-500 uppercase tracking-widest mb-1 flex items-center gap-1.5",children:[y.jsx(VT,{className:"w-4 h-4 text-amber-500"})," "]}),y.jsx("p",{className:"text-[clamp(2.5rem,10vw,3.5rem)] font-black text-white leading-none tracking-tighter",children:Rr(c.totalSales)}),y.jsx("div",{className:"absolute top-4 right-4 opacity-10",children:y.jsx(CT,{className:"w-24 h-24 text-white"})})]}),y.jsxs("div",{className:"bg-gray-800 p-4 rounded-[24px] border-2 border-blue-500 flex flex-col justify-center min-h-[100px]",children:[y.jsx("p",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest mb-1",children:""}),y.jsx("p",{className:"text-xl font-black text-indigo-300 tracking-tight",children:Rr(Math.round(c.avg))})]}),y.jsxs("div",{className:"bg-gray-800 p-4 rounded-[24px] border-2 border-blue-500 flex flex-col justify-center min-h-[100px]",children:[y.jsx("p",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest mb-1",children:""}),y.jsxs("p",{className:"text-xl font-black text-white tracking-tight",children:[c.count,y.jsx("span",{className:"text-sm text-gray-500 ml-1",children:""})]})]})]}),y.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[y.jsx("div",{className:"bg-gray-800 p-4 rounded-[24px] border-2 border-blue-500 flex items-center justify-between",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"p-2 bg-red-900/20 rounded-xl border border-red-900/30",children:y.jsx(H1,{className:"w-5 h-5 text-red-500"})}),y.jsxs("div",{children:[y.jsx("p",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest",children:""}),y.jsxs("p",{className:"text-lg font-black text-white",children:[c.badCustomerRate.toFixed(1),"%",y.jsxs("span",{className:"text-[10px] text-gray-500",children:[" (",c.badCustomers,")"]})]})]})]})}),y.jsxs("div",{className:"bg-gray-800 p-5 rounded-[24px] border-2 border-blue-500 space-y-3",children:[y.jsx("div",{className:"flex justify-between items-center text-xs font-bold text-gray-400",children:y.jsxs("span",{className:"flex items-center gap-1.5",children:[y.jsx(jl,{className:"w-4 h-4 text-pink-400"}),"  ( ",c.gender.total,")"]})}),y.jsxs("div",{className:"h-6 w-full flex rounded-full overflow-hidden bg-gray-900 border border-gray-800",children:[y.jsx("div",{className:"h-full bg-blue-500 flex items-center justify-center text-[10px] font-black text-white",style:{width:`${c.gender.malePer}%`},children:c.gender.malePer>10&&`${Math.round(c.gender.malePer)}%`}),y.jsx("div",{className:"h-full bg-pink-500 flex items-center justify-center text-[10px] font-black text-white",style:{width:`${c.gender.femalePer}%`},children:c.gender.femalePer>10&&`${Math.round(c.gender.femalePer)}%`})]})]})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"bg-gray-800 p-5 rounded-[28px] border-2 border-blue-500 shadow-lg space-y-4",children:[y.jsxs("h4",{className:"text-xs font-black text-gray-500 uppercase tracking-widest flex items-center gap-2",children:[y.jsx(Pf,{className:"w-4 h-4 text-emerald-500"})," "]}),y.jsx("div",{className:"space-y-3",children:c.paymentData.slice(0,4).map(o=>y.jsxs("div",{className:"space-y-1",children:[y.jsxs("div",{className:"flex justify-between text-[10px] font-bold",children:[y.jsx("span",{className:"text-gray-300",children:Hs[o.method]||o.method}),y.jsxs("span",{className:"text-gray-500",children:[Math.round(o.percent),"%"]})]}),y.jsx("div",{className:"h-2 w-full bg-gray-900 rounded-full overflow-hidden",children:y.jsx("div",{className:`h-full ${Pj(o.method)}`,style:{width:`${o.percent}%`}})})]},o.method))})]}),y.jsxs("div",{className:"bg-gray-800 p-5 rounded-[28px] border-2 border-blue-500 shadow-lg space-y-4",children:[y.jsxs("h4",{className:"text-xs font-black text-gray-500 uppercase tracking-widest flex items-center gap-2",children:[y.jsx(za,{className:"w-4 h-4 text-cyan-500"})," "]}),y.jsx("div",{className:"space-y-3",children:c.rideData.slice(0,4).map(o=>y.jsxs("div",{className:"space-y-1",children:[y.jsxs("div",{className:"flex justify-between text-[10px] font-bold",children:[y.jsx("span",{className:"text-gray-300",children:Qi[o.rideType]||o.rideType}),y.jsxs("span",{className:"text-gray-500",children:[Math.round(o.percent),"%"]})]}),y.jsx("div",{className:"h-2 w-full bg-gray-900 rounded-full overflow-hidden",children:y.jsx("div",{className:`h-full ${Lj(o.rideType)}`,style:{width:`${o.percent}%`}})})]},o.rideType))})]})]}),y.jsx("div",{className:"bg-gray-800 p-6 rounded-[24px] border-2 border-blue-500/50 text-center",children:y.jsx("p",{className:"text-sm text-gray-400 font-bold",children:""})})]})})},ff=({page:r,title:t,children:e})=>y.jsxs("div",{className:"mb-12 animate-in fade-in slide-in-from-bottom-8 duration-1000",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[y.jsxs("div",{className:"bg-amber-500 text-black font-black px-3 py-1 rounded-full text-sm italic",children:["PAGE ",r]}),y.jsx("h3",{className:"text-xl font-black text-white italic tracking-tighter",children:t})]}),y.jsx("div",{className:"bg-[#1A222C] rounded-[40px] border-4 border-gray-800 overflow-hidden shadow-[0_0_30px_rgba(245,158,11,0.1)]",children:e})]}),xn=({char:r,text:t,side:e="left"})=>y.jsxs("div",{className:`flex flex-col ${e==="right"?"items-end":"items-start"} mb-4`,children:[y.jsxs("div",{className:`flex items-center gap-2 mb-1 ${e==="right"?"flex-row-reverse":""}`,children:[y.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center border-2 ${r==="kenji"?"bg-gray-700 border-gray-500":"bg-amber-500 border-white shadow-[0_0_10px_#f59e0b]"}`,children:r==="kenji"?y.jsx(Ll,{size:16,className:"text-white"}):y.jsx(m9,{size:16,className:"text-black"})}),y.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:r==="kenji"?"Kenji":"Navi-Chan"})]}),y.jsx("div",{className:`max-w-[85%] p-4 rounded-[20px] font-bold text-sm leading-relaxed shadow-lg ${r==="kenji"?"bg-gray-800 text-gray-100 rounded-tl-none border border-gray-700":"bg-gradient-to-br from-amber-500 to-yellow-600 text-black rounded-tr-none shadow-[4px_4px_0px_#78350f]"}`,children:t})]}),Uj=()=>y.jsxs("div",{className:"p-4 pb-32 max-w-md mx-auto",children:[y.jsxs("div",{className:"text-center py-10 space-y-2",children:[y.jsx("h1",{className:"text-5xl font-black italic text-transparent bg-clip-text bg-gradient-to-b from-yellow-200 via-amber-500 to-amber-700 filter drop-shadow-lg",children:""}),y.jsx("h2",{className:"text-2xl font-black text-white tracking-[0.3em] uppercase",children:"TAXI-NAVIGATOR"}),y.jsx("div",{className:"h-1 w-24 bg-amber-500 mx-auto rounded-full"}),y.jsx("p",{className:"text-gray-500 font-bold text-xs pt-2",children:""})]}),y.jsx(ff,{page:1,title:"",children:y.jsxs("div",{className:"p-6 space-y-6",children:[y.jsxs("div",{className:"bg-gray-950/80 p-6 rounded-3xl border border-dashed border-gray-700 relative text-center",children:[y.jsx(Jg,{className:"w-16 h-16 text-gray-700 mx-auto mb-2 opacity-20"}),y.jsxs("p",{className:"text-xs font-bold text-gray-500 leading-relaxed italic",children:["...",y.jsx("br",{}),""]})]}),y.jsx(xn,{char:"kenji",text:""}),y.jsx(xn,{char:"kenji",text:""}),y.jsx("div",{className:"py-4 flex justify-center",children:y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-0 bg-amber-500 blur-2xl opacity-40 animate-pulse"}),y.jsx(Jg,{size:80,className:"relative text-amber-500 animate-bounce"}),y.jsx(r3,{className:"absolute -top-4 -right-4 text-white animate-spin"})]})}),y.jsx(xn,{char:"navi",side:"right",text:" "}),y.jsx(xn,{char:"kenji",text:" "}),y.jsx(xn,{char:"navi",side:"right",text:"TAXI-NAVIGATOR "})]})}),y.jsx(ff,{page:2,title:"GPS",children:y.jsxs("div",{className:"p-6 space-y-6 bg-gradient-to-b from-transparent to-green-900/10",children:[y.jsxs("div",{className:"flex justify-around py-4",children:[y.jsx(Lf,{className:"text-green-500 animate-pulse",size:40}),y.jsx(CE,{className:"text-blue-500 animate-bounce",size:40})]}),y.jsx(xn,{char:"kenji",text:"3,400..."}),y.jsx(xn,{char:"navi",side:"right",text:" GPS"}),y.jsx("div",{className:"bg-gray-950 p-4 rounded-2xl border-2 border-amber-500/50 shadow-inner text-center font-black text-amber-500",children:"[  ]"}),y.jsx(xn,{char:"kenji",text:" "}),y.jsx(xn,{char:"navi",side:"right",text:" "})]})}),y.jsx(ff,{page:3,title:"",children:y.jsxs("div",{className:"p-6 space-y-6",children:[y.jsx(xn,{char:"kenji",text:""}),y.jsxs("div",{className:"bg-[#0A0E14] p-5 rounded-3xl border-2 border-gray-800 shadow-2xl space-y-2",children:[y.jsxs("div",{className:"flex justify-between text-[10px] font-black text-gray-500 uppercase tracking-widest",children:[y.jsx("span",{children:"Today's Sales"}),y.jsx("span",{children:"Next Goal"})]}),y.jsxs("div",{className:"flex justify-between items-baseline",children:[y.jsx("span",{className:"text-3xl font-black text-white italic",children:"28,500"}),y.jsx("span",{className:"text-lg font-black text-amber-500",children:" 21,500"})]}),y.jsx("div",{className:"w-full h-2 bg-gray-800 rounded-full overflow-hidden",children:y.jsx("div",{className:"w-[60%] h-full bg-amber-500 shadow-[0_0_10px_#f59e0b]"})})]}),y.jsx(xn,{char:"navi",side:"right",text:" "}),y.jsx(xn,{char:"kenji",text:" "})]})}),y.jsx(ff,{page:4,title:"",children:y.jsxs("div",{className:"p-6 space-y-6 bg-gradient-to-b from-transparent to-blue-900/10",children:[y.jsx(xn,{char:"kenji",text:""}),y.jsx("div",{className:"flex justify-center py-4",children:y.jsx("div",{className:"relative p-4 bg-gray-900 rounded-full border-4 border-blue-500/30",children:y.jsx(Lf,{className:"text-blue-400",size:48})})}),y.jsx(xn,{char:"navi",side:"right",text:""}),y.jsx(xn,{char:"kenji",text:" Google"}),y.jsx(xn,{char:"kenji",text:""})]})}),y.jsx(ff,{page:5,title:"",children:y.jsxs("div",{className:"p-6 space-y-6",children:[y.jsx(xn,{char:"kenji",text:" ..."}),y.jsx(xn,{char:"navi",side:"right",text:" "}),y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[y.jsxs("div",{className:"bg-gray-950 p-4 rounded-2xl border border-gray-800",children:[y.jsx("p",{className:"text-[10px] text-gray-500 font-bold mb-1 uppercase",children:""}),y.jsx("p",{className:"text-xl font-black text-white",children:"58,200"})]}),y.jsxs("div",{className:"bg-gray-950 p-4 rounded-2xl border border-gray-800",children:[y.jsx("p",{className:"text-[10px] text-gray-500 font-bold mb-1 uppercase",children:""}),y.jsx("p",{className:"text-xl font-black text-white",children:"24"})]})]}),y.jsx(xn,{char:"kenji",text:" "}),y.jsx(xn,{char:"navi",side:"right",text:" "}),y.jsx(xn,{char:"kenji",text:" "})]})}),y.jsxs("div",{className:"text-center py-12 space-y-6",children:[y.jsx(K0,{className:"w-20 h-20 text-green-500 mx-auto animate-bounce"}),y.jsx("div",{className:"space-y-2",children:y.jsxs("p",{className:"text-2xl font-black text-white italic tracking-tighter",children:["TAXI-NAVIGATOR",y.jsx("br",{}),""]})}),y.jsx("div",{className:"pt-4 italic font-black text-gray-500 text-sm tracking-widest",children:"- FIN -"})]}),y.jsxs("div",{className:"flex flex-col items-center text-gray-500 gap-2 animate-pulse",children:[y.jsx(FT,{size:32}),y.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest",children:"Scroll to explore"})]})]}),Vj=r=>{r.getFullYear();const t=r.getMonth()+1,e=r.getDate(),n=r.getDay();if(n===0||t===1&&e===1||t===2&&e===11||t===4&&e===29||t===5&&e===3||t===5&&e===4||t===5&&e===5||t===8&&e===11||t===11&&e===3||t===11&&e===23||t===12&&e===23)return!0;if(t===1&&n===1){const s=e<=7?e:0;if(s>0&&e>=s&&e<s+7)return!0}if(t===7&&n===1){const s=e<=7?e:0;if(s>0&&e>=s+14&&e<s+21)return!0}if(t===9&&n===1){const s=e<=7?e:0;if(s>0&&e>=s+14&&e<s+21)return!0}if(t===10&&n===1){const s=e<=7?e:0;if(s>0&&e>=s+7&&e<s+14)return!0}return!1},zj=r=>{const t=r.getMonth()+1,e=r.getDate();return t===1&&e===1?"":t===1&&r.getDay()===1&&e>=8&&e<=14?"":t===2&&e===11?"":t===4&&e===29?"":t===5&&e===3?"":t===5&&e===4?"":t===5&&e===5?"":t===7&&r.getDay()===1&&e>=15&&e<=21?"":t===8&&e===11?"":t===9&&r.getDay()===1&&e>=15&&e<=21?"":t===10&&r.getDay()===1&&e>=8&&e<=14?"":t===11&&e===3?"":t===11&&e===23?"":t===12&&e===23?"":""},Hj=({history:r,dayMetadata:t,businessStartHour:e,shimebiDay:n,monthlyStats:s})=>{const[i,a]=_e.useState(new Date),[l,c]=_e.useState(new Date().getFullYear()),[o,u]=_e.useState(new Date().getMonth()+1),p=_e.useMemo(()=>{const F={};return(r||[]).forEach(B=>{const W=It(B.timestamp,e);F[W]||(F[W]={records:[],total:0}),F[W].records.push(B),F[W].total+=B.amount}),F},[r,e]),h=_e.useMemo(()=>{const F=i.getFullYear(),B=i.getMonth(),W=new Date(F,B,1),P=new Date(W);P.setDate(P.getDate()-W.getDay());const N=[],D=new Date(P);for(let C=0;C<42;C++){const S=Bt(D);N.push({date:new Date(D),isCurrentMonth:D.getMonth()===B,dateStr:S}),D.setDate(D.getDate()+1)}return N},[i]),d=_e.useCallback(F=>{a(B=>{const W=new Date(B);return W.setMonth(W.getMonth()+F),W})},[]),b=_e.useCallback(F=>{c(F);const B=new Date(i);B.setFullYear(F),a(B)},[i]),x=_e.useCallback(F=>{u(F);const B=new Date(i);B.setMonth(F-1),a(B)},[i]),g=_e.useCallback(async(F,B,W)=>{const P=B.map(Ze=>Ze.timestamp),N=P.length>0?Math.min(...P):0,D=P.length>0?Math.max(...P):0,C=W.totalRestMinutes||0,S=W.startOdo||0,T=W.endOdo||0,A=T>S?T-S:0,E=D&&N?D-N-C*60*1e3:0,j=B.reduce((Ze,Ye)=>Ze+Ye.amount,0),U=Math.max(E/(1e3*60*60),.1),I=j>0?Math.round(j/U):0,Q=Ze=>Ze?new Date(Ze).toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit"}):"",Y=Ze=>{if(Ze<=0)return"";const Ye=Math.floor(Ze/36e5),Xe=Math.floor(Ze%36e5/6e4);return`${String(Ye).padStart(2,"0")}:${String(Xe).padStart(2,"0")}`},ee=new Date(F),q=`${ee.getFullYear()}`,te=`${ee.getMonth()+1}`,H=`${ee.getDate()}`,z=new I6.Workbook,Z=z.addWorksheet("",{views:[{state:"frozen",ySplit:5,activeCell:"A6"}]});Z.addRow(["","","","","","","","",q,te,H,Q(Date.now())]),Z.addRow([]),Z.addRow(["","",""," ","","","","","","","","","","","","","","","",""]),Z.addRow(["","","",Q(N),Q(D),Y(E),I.toLocaleString()]),Z.addRow(["","","","","","","","","","","","","","","","","","B","A",""]);for(let Ze=0;Ze<30;Ze++){const Ye=B[Ze];let Xe=[];if(Ye){const ut=new Date(Ye.timestamp),ot=Ye.amount+Ye.toll+(Ye.returnToll||0),je=Ye.paymentMethod;let He="",Ne="",Ie="";je==="CARD"?He=ot:je==="NET"||je==="TICKET"?Ne=ot:(je==="TRANSPORT"||je!=="CASH")&&(Ie=ot),Xe=[Ze+1,ut.getHours(),ut.getMinutes(),Ye.pickupLocation||"","",Ye.dropoffLocation||"",Ye.passengersMale||"",Ye.passengersFemale||Ye.passagersFemale||0,Ye.amount,Ye.toll>0?Ye.toll:"",(Ye.returnToll||0)>0?Ye.returnToll||0:"",Ye.remarks||"",He,Ne,Ie,Qi[Ye.rideType]||"",Ze+1,"","",""]}else Xe=[Ze+1,"","","","","","","","","","","","","","","",Ze+1,"","",""];Z.addRow(Xe)}Z.addRow([" ","","","","","",0,0,0,0,0,"",0,0,0,"","","","",""]),Z.addRow(["","","",""," ",S||""," ","",T||""," ",A||"","","",0,"",0,"","",0,""]),Z.addRow(["","","","","","","","","","","","","B km","","km","","","","",""]),Z.addRow(["","","","",A||"0","0",B.length,0,0,"","","","A km","","km","","","","",""]);for(let Ze=6;Ze<=35;Ze++)Z.getCell(`T${Ze}`).value={formula:`SUM(G${Ze}:H${Ze})`};Z.getCell("G36").value={formula:"SUM(G6:G35)"},Z.getCell("H36").value={formula:"SUM(H6:H35)"},Z.getCell("I36").value={formula:"SUM(I6:I35)"},Z.getCell("J36").value={formula:"SUM(J6:J35)"},Z.getCell("K36").value={formula:"SUM(K6:K35)"},Z.getCell("M36").value={formula:"SUM(M6:M35)"},Z.getCell("N36").value={formula:"SUM(N6:N35)"},Z.getCell("O36").value={formula:"SUM(O6:O35)"},Z.getCell("T36").value={formula:"SUM(T6:T35)"},Z.getCell("N37").value={formula:"SUM(I6:I35)"},Z.getCell("P37").value={formula:"M36+N36+O36"},Z.getCell("S37").value={formula:"(I36+J36+K36)-(M36+N36+O36)"},Z.getCell("Q38").value={formula:"P38/N38"},Z.getCell("Q38").numFmt="0%",Z.getCell("H39").value={formula:"G36+H36"},Z.getCell("I39").value={formula:"SUM(I6:I35)"},Z.getCell("Q39").value={formula:"P39/N39"},Z.getCell("Q39").numFmt="0%";const ae={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},re={bottom:{style:"double"}},le={name:"Meiryo",size:10},de={name:"Meiryo",size:10,bold:!0},ve={name:"Meiryo",size:11,bold:!0},ge={name:"Meiryo",size:16,bold:!0},se={type:"pattern",pattern:"solid",fgColor:{argb:"E2EFDA"}},xe={type:"pattern",pattern:"solid",fgColor:{argb:"FFF2CC"}},pe={type:"pattern",pattern:"solid",fgColor:{argb:"FFCC99"}},Te={type:"pattern",pattern:"solid",fgColor:{argb:"F2F2F2"}},ke={type:"pattern",pattern:"solid",fgColor:{argb:"FFFFCC"}};Z.mergeCells("D1:F1"),Z.mergeCells("G3:H3"),Z.mergeCells("B4:C4"),Z.mergeCells("G4:H4"),Z.mergeCells("A36:C36"),Z.mergeCells("G37:H37"),Z.eachRow((Ze,Ye)=>{Ze.eachCell((Xe,ut)=>{var ot;if(Xe.font=le,Xe.alignment={vertical:"middle",horizontal:"center"},Ye===1)ut>=9&&ut<=12&&(Xe.font=ve),ut>=4&&ut<=12&&(Xe.border=re);else if(Ye!==2){if(Ye===3)ut>=10&&ut<=20||ut===9||ut<=3||([4,5,6,7].includes(ut)&&(Xe.fill=se),Xe.border=ae);else if(Ye===4)ut>=10||ut===9||ut<=1||(ut===2&&(Xe.fill=se),Xe.border=ae);else if(Ye===5)Xe.fill=se,Xe.font=de,Xe.border=ae;else if(Ye>=6&&Ye<=35){if(Xe.border=ae,(ut===1||ut===17)&&(Xe.fill=Te),ut===16){const je=((ot=Xe.value)==null?void 0:ot.toString())||"";je!==""&&je!==""&&(Xe.fill=ke)}[4,5,6,12].includes(ut)?Xe.alignment={vertical:"middle",horizontal:"left",wrapText:!0}:[9,10,11,13,14,15].includes(ut)&&(Xe.alignment={vertical:"middle",horizontal:"right"},Xe.numFmt="#,##0")}else if(Ye===36)Xe.fill=pe,Xe.font=de,Xe.border=ae,[7,8,9,10,11,13,14,15].includes(ut)&&(Xe.alignment={vertical:"middle",horizontal:"right"},Xe.numFmt="#,##0");else if(Ye>=37&&!(ut<=3)){Xe.border=ae;const je=Ye===37&&[14,16,19].includes(ut)||Ye===39&&[8,9].includes(ut),He=Ye===37&&[6,9,11].includes(ut)||Ye===39&&ut===5;je||He?(Xe.alignment={vertical:"middle",horizontal:"right"},Xe.numFmt="#,##0"):(Ye===37&&[4,5,7,10,13,15,18].includes(ut)||Ye===38&&[4,5,6,7,8,9,13,15].includes(ut)||Ye===39&&[13,15].includes(ut))&&(Xe.fill=xe)}}})});const Re=Z.getCell("D1");Re.font=ge,Re.alignment={vertical:"middle",horizontal:"center"},Re.border={bottom:{style:"double"}},Z.getRow(1).height=45,Z.getRow(36).height=30,[{c:1,w:4.38},{c:2,w:3},{c:3,w:3},{c:4,w:10.75},{c:5,w:10.75},{c:6,w:10.75},{c:7,w:4.13},{c:8,w:4.13},{c:9,w:7.5},{c:10,w:6.25},{c:11,w:6.25},{c:12,w:10.75},{c:13,w:8.13},{c:14,w:8.13},{c:15,w:8.13},{c:16,w:8.13},{c:17,w:4.38},{c:18,w:7.5},{c:19,w:7.5},{c:20,w:6}].forEach(Ze=>{Z.getColumn(Ze.c).width=Ze.w});const Pe=await z.xlsx.writeBuffer(),Je=new Blob([Pe],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});O6.saveAs(Je,`_${F.replace(/\//g,"-")}.xlsx`)},[]);_e.useMemo(()=>{const F=new Date().getFullYear(),B=[];for(let W=F-5;W<=F+1;W++)B.push(W);return B},[]),_e.useMemo(()=>Array.from({length:12},(F,B)=>B+1),[]),_e.useMemo(()=>{const F=i.getFullYear(),B=i.getMonth();return Object.entries(p).reduce((W,[P,N])=>{const[D,C]=P.split("/").map(Number);return D===F&&C===B+1?W+N.total:W},0)},[p,i]);const w=["","","","","","",""];_e.useMemo(()=>`${i.getFullYear()} / ${String(i.getMonth()+1).padStart(2,"0")}`,[i]);const v=_e.useMemo(()=>{const F=i.getFullYear(),B=i.getMonth();return Object.entries(p).reduce((W,[P,N])=>{const D=new Date(P.replace(/\//g,"-"));return D.getFullYear()===F&&D.getMonth()===B?W+N.total:W},0)},[p,i]),R=["January","February","March","April","May","June","July","August","September","October","November","December"][i.getMonth()],G=`${i.getFullYear()-2018}`,V=new Date().getDate(),O=i.getMonth()===new Date().getMonth()&&i.getFullYear()===new Date().getFullYear();return y.jsx("div",{className:"w-full min-h-screen bg-white p-6",children:y.jsxs("div",{className:"max-w-6xl mx-auto",children:[y.jsx("div",{className:"mb-6",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"text-4xl font-black text-gray-900",children:["",v.toLocaleString()]}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("button",{onClick:()=>d(-1),className:"p-2 text-gray-600 hover:text-gray-900 active:scale-90",children:y.jsx(Ha,{className:"w-6 h-6"})}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"text-7xl font-black text-gray-900 leading-none",children:O?V:1}),y.jsxs("div",{className:"flex flex-col",children:[y.jsx("div",{className:"text-xl font-semibold text-gray-900",children:R}),y.jsxs("div",{className:"text-xs text-gray-700 mt-1",children:[G," ",i.getFullYear()]})]})]}),y.jsx("button",{onClick:()=>d(1),className:"p-2 text-gray-600 hover:text-gray-900 active:scale-90",children:y.jsx(Us,{className:"w-6 h-6"})})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("select",{value:i.getFullYear(),onChange:F=>b(parseInt(F.target.value)),className:"px-3 py-2 border border-gray-300 rounded-md bg-white text-gray-900 font-semibold cursor-pointer",children:Array.from({length:10},(F,B)=>new Date().getFullYear()-5+B).map(F=>y.jsxs("option",{value:F,children:[F,""]},F))}),y.jsx("select",{value:i.getMonth()+1,onChange:F=>x(parseInt(F.target.value)),className:"px-3 py-2 border border-gray-300 rounded-md bg-white text-gray-900 font-semibold cursor-pointer",children:Array.from({length:12},(F,B)=>B+1).map(F=>y.jsxs("option",{value:F,children:[F,""]},F))})]})]})}),y.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[y.jsx("div",{className:"grid grid-cols-7 border-b border-gray-200",children:w.map((F,B)=>{let W="bg-gray-900",P="text-white";return B===0?(W="bg-red-700",P="text-white"):B===6&&(W="bg-blue-700",P="text-white"),y.jsx("div",{className:`p-3 text-center text-2xl font-bold ${P} ${W}`,children:F},F)})}),y.jsx("div",{className:"grid grid-cols-7 border-t border-gray-200",children:h.map(({date:F,isCurrentMonth:B,dateStr:W},P)=>{const N=F.getDay(),D=Vj(F),C=D?zj(F):"",S=p[W],T=S&&S.total>0;let A="text-gray-900",E="bg-white";return B?N===0||D?A="text-red-600":N===6&&(A="text-blue-600"):A="text-gray-400",T&&(E="bg-yellow-50"),y.jsxs("div",{className:`min-h-[100px] border-r border-b border-gray-200 p-2 ${E} ${B?"":"opacity-50"} ${T?"cursor-pointer hover:bg-amber-300 transition-colors":""}`,onClick:()=>{if(T&&S.records.length>0){const j=t[W]||{memo:"",attributedMonth:"",totalRestMinutes:0};g(W,S.records,j)}},children:[y.jsx("div",{className:`text-base font-black ${A}`,children:F.getDate()}),C&&y.jsx("div",{className:"text-xs text-red-600 font-semibold mt-1",children:C}),T&&y.jsxs("div",{className:"mt-2 flex items-start justify-between",children:[y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"text-lg font-black text-amber-700 leading-tight",children:["",S.total.toLocaleString()]}),y.jsxs("div",{className:"text-lg font-black text-gray-700 mt-1",children:[S.records.length,""]})]}),y.jsx("div",{className:"flex-shrink-0 ml-2",children:y.jsx(K4,{className:"w-4 h-4 text-amber-600"})})]})]},P)})})]})]})})},$j=({label:r,value:t,colorClass:e,onChange:n,onConfirm:s})=>{const i=c=>{const o=t.replace(/,/g,""),u=o==="0"?c:o+c;n($o(u))},a=()=>{const c=t.replace(/,/g,""),o=c.length<=1?"0":c.slice(0,-1);n($o(o))},l=()=>{n("0")};return y.jsxs("div",{className:"space-y-5 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[y.jsxs("div",{className:"flex flex-col space-y-2",children:[y.jsxs("span",{className:"text-lg font-bold ml-2 uppercase tracking-widest text-gray-400",children:[r,""]}),y.jsx("div",{className:`rounded-3xl p-5 flex items-center justify-end border min-h-[80px] shadow-inner overflow-hidden ${e.replace("text-","border-").split(" ")[0]} bg-[#1A2536]`,children:y.jsxs("span",{className:`text-[clamp(3rem,12vw,4.5rem)] font-black tracking-tighter truncate w-full text-right ${e}`,children:["",t]})})]}),y.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[["7","8","9","DEL","4","5","6","C","1","2","3","000"].map(c=>y.jsx("button",{onClick:()=>{c==="DEL"?a():c==="C"?l():i(c.toString())},className:`h-16 rounded-2xl text-3xl font-bold flex items-center justify-center active:scale-95 transition-all shadow-md ${c==="DEL"||c==="C"?"bg-red-600/90 text-white":"bg-[#2D3848] text-white"}`,children:c==="DEL"?"":c},c)),y.jsxs("div",{className:"col-span-4 grid grid-cols-3 gap-3",children:[y.jsx("button",{onClick:()=>i("0"),className:"h-16 rounded-2xl text-3xl font-bold bg-[#2D3848] text-white flex items-center justify-center active:scale-95 shadow-md",children:"0"}),y.jsx("button",{onClick:()=>i("20"),className:"h-16 rounded-2xl text-3xl font-bold bg-[#2D3848] text-white flex items-center justify-center active:scale-95 shadow-md",children:"20"}),y.jsx("button",{onClick:()=>i("00"),className:"h-16 rounded-2xl text-3xl font-bold bg-[#2D3848] text-white flex items-center justify-center active:scale-95 shadow-md",children:"00"})]}),y.jsxs("button",{onClick:s,className:"col-span-4 h-20 bg-green-600 hover:bg-green-500 text-white rounded-3xl text-3xl font-black shadow-xl active:scale-95 flex items-center justify-center gap-3 mt-2",children:[y.jsx(t0,{className:"w-10 h-10"})," "]})]})]})},qj=[{id:"osaka_station",name:"",triggers:["3","",""],options:["",""]},{id:"shin_osaka",name:"",triggers:["","",""],options:["","",""]},{id:"kita_sinchi",name:"",triggers:["","","",""],options:["","","","","","",""]},{id:"minami",name:"",triggers:["","","",""],options:["","",""]},{id:"test",name:"",triggers:["",""],options:["","","","","","",""]}],Gj=r=>{if(!r)return null;for(const t of qj)if(t.triggers.some(e=>r.includes(e)))return t;return null},Wj=[{name:"",keywords:["",""]},{name:"",keywords:["",""]},{name:"",keywords:["",""]},{name:" ",keywords:["",""]},{name:" ",keywords:["",""]},{name:" ",keywords:["",""]},{name:"NCB",keywords:["",""]},{name:"",keywords:["",""]},{name:"",keywords:["",""]},{name:"",keywords:["",""]},{name:"",keywords:["",""]},{name:"",keywords:["",""]},{name:"",keywords:["",""]},{name:"",keywords:["Zentis",""]},{name:"",keywords:["","3"]},{name:"",keywords:["",""]},{name:"",keywords:["",""]}],Xj=r=>{const t=Wj.find(e=>e.keywords.some(n=>r.includes(n)));return t?t.name:null},Yj=({initialData:r,enabledMethods:t,enabledRideTypes:e,customLabels:n,onClose:s,onSave:i,onDelete:a,businessStartHour:l,followingUsers:c=[],shift:o,history:u=[],monthlyStats:p})=>{const h=_e.useRef((r==null?void 0:r.id)||Math.random().toString(36).substr(2,9)),[d,b]=_e.useState(null),[x,g]=_e.useState(r!=null&&r.amount?r.amount.toLocaleString():"0"),[w,v]=_e.useState(r!=null&&r.toll?r.toll.toLocaleString():"0"),[k,R]=_e.useState(r!=null&&r.returnToll?r.returnToll.toLocaleString():"0"),[L,G]=_e.useState((r==null?void 0:r.paymentMethod)||t[0]||"CASH"),V=e&&e.length>0?e:Ol,[O,F]=_e.useState((r==null?void 0:r.rideType)||V[0]),[B,W]=_e.useState(r!=null&&r.nonCashAmount?r.nonCashAmount.toLocaleString():"0"),[P,N]=_e.useState((r==null?void 0:r.pickupLocation)||""),[D,C]=_e.useState((r==null?void 0:r.dropoffLocation)||""),[S,T]=_e.useState((r==null?void 0:r.pickupCoords)||""),[A,E]=_e.useState((r==null?void 0:r.dropoffCoords)||""),[j,U]=_e.useState((r==null?void 0:r.passengersMale)??0),[I,Q]=_e.useState((r==null?void 0:r.passengersFemale)??0),[Y,ee]=_e.useState((r==null?void 0:r.remarks)||""),[q,te]=_e.useState((r==null?void 0:r.isBadCustomer)||!1);_e.useEffect(()=>{if(r!=null&&r.remarks){const ze=r.remarks;ze.includes("GO")?ke("GO"):ze.includes("Didi")?ke("Didi"):ze.includes("Uber")?ke("Uber"):ze.includes("QR")&&ke("QR")}},[r==null?void 0:r.remarks]);const[H,z]=_e.useState(null),[Z,ae]=_e.useState(!1),[re,le]=_e.useState(!1),[de,ve]=_e.useState(!1),[ge,se]=_e.useState(!1),[xe,pe]=_e.useState(!1),[Te,ke]=_e.useState(""),[Re,$e]=_e.useState(Date.now()),[Pe,Je]=_e.useState(null),[Ze,Ye]=_e.useState(null),[Xe,ut]=_e.useState(null);_e.useEffect(()=>{const ze=setInterval(()=>{$e(Date.now())},1e3);return()=>clearInterval(ze)},[]),_e.useEffect(()=>{var Qe;const ze=(Qe=hr.currentUser)==null?void 0:Qe.uid;if(!ze){Je(null);return}const ht=fs(tr(Pt,"public_status",ze),Ee=>{if(Ee.exists()){const et=Ee.data().todayStartTime;if(et){const ce=It(et,l),ye=It(Date.now(),l);Je(ce===ye?et:null)}else Je(null)}else Je(null)},Ee=>{console.error("[RecordModal] Error loading todayStartTime:",Ee),Je(null)});return()=>ht()},[l]),_e.useMemo(()=>{const ze=n[L]||Hs[L];return ze?ze.includes(""):!1},[L,n]),_e.useEffect(()=>{Y?Y.includes("GO")?ke("GO"):Y.includes("Didi")?ke("Didi"):Y.includes("Uber")?ke("Uber"):Y.includes("QR")?ke("QR"):Y.match(/(GO|Didi|Uber|QR)/)||L!=="QR"&&ke(""):L!=="QR"&&ke("")},[Y,L]);const ot=ze=>{const Qe=`${ze==="s.ride"?"S.RIDE":ze} `;ee(Ee=>{if(!Ee)return Qe;let Ve=Ee.replace(/GO\s*/g,"").replace(/Didi\s*/g,"").replace(/Uber\s*/g,"").replace(/S\.RIDE\s*/g,"").replace(/s\.ride\s*/g,"");return Ve?`${Ve}${Qe}`:Qe}),se(!1)},je=ze=>{const ht=`${ze} `;ee(Qe=>{if(!Qe)return ht;let Ee=Qe.replace(/GO\s*/g,"").replace(/Didi\s*/g,"").replace(/Uber\s*/g,"").replace(/QR\s*/g,"");return Ee?`${Ee}${ht}`:ht}),ke(ze==="QR"?"QR":`${ze}`),pe(!1)},He=_e.useRef(null),Ne=_e.useRef(null),Ie=_e.useRef(null),lt=async(ze,ht)=>{const[Qe,Ee,Ve]=Ue.split("-").map(Number),[et,ce]=bt.split(":").map(Number),ye=new Date(Qe,Ee-1,Ve,et,ce).getTime();await i(Cn(x),Cn(w),L,O,Cn(B),ye,ze,D,ht,A,j,I,Y,q,Cn(k),h.current,!0)},[Ue,We]=_e.useState(()=>{const ze=r!=null&&r.timestamp?new Date(r.timestamp):new Date,ht=ze.getTimezoneOffset()*6e4;return new Date(ze.getTime()-ht).toISOString().split("T")[0]}),[bt,yt]=_e.useState(()=>(r!=null&&r.timestamp?new Date(r.timestamp):new Date).toTimeString().split(" ")[0].slice(0,5)),nt=_e.useMemo(()=>{if(!Ue||!bt)return"";const[ze,ht,Qe]=Ue.split("-").map(Number),[Ee,Ve]=bt.split(":").map(Number),et=new Date(ze,ht-1,Qe,Ee,Ve),ce=It(et.getTime(),l),ye=T1(et.getTime(),l);return`${ce} ${ye}`},[Ue,bt,l]);_e.useEffect(()=>{d||setTimeout(()=>{var ze;(ze=He.current)==null||ze.scrollIntoView({behavior:"auto",block:"start"})},50)},[]),_e.useEffect(()=>{d===null&&(Ie.current==="amount"||Ie.current==="toll")&&setTimeout(()=>{var ze;(ze=Ne.current)==null||ze.scrollIntoView({behavior:"auto",block:"start"})},50),Ie.current=d},[d]),_e.useEffect(()=>{!(r!=null&&r.id)&&P===""&&Et("pickup")},[]),_e.useEffect(()=>{if(L!=="CASH"&&d!=="nonCash"){const ze=Cn(x),ht=Cn(w);W((ze+ht).toLocaleString())}},[x,w,L]);const Et=async ze=>{z(ze);try{const ht=await new Promise((ie,fe)=>{navigator.geolocation.getCurrentPosition(ie,fe,{timeout:1e4,enableHighAccuracy:!0})}),{latitude:Qe,longitude:Ee}=ht.coords,Ve=`${Qe},${Ee}`,et=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${Qe}&lon=${Ee}&zoom=18&addressdetails=1`,{headers:{"Accept-Language":"ja"}});if(!et.ok)throw new Error("Network error");const ce=await et.json(),ye=j_(ce);if(ye){if(ze==="pickup"){N(ye),T(Ve);const ie=Xj(ye),fe=Gj(ye);ie?(ut(ie),fe&&Ye(fe)):fe?Ye(fe):lt(ye,Ve)}else ze==="dropoff"&&(C(ye),E(Ve));return ye}}catch(ht){console.error("Geolocation failed",ht)}finally{z(null)}return""},Oe=async()=>{const ze=await Et("stopover");ze&&ee(ht=>{var Ve;return ht.includes("()")?((Ve=ht.split("()")[1].split("").pop())==null?void 0:Ve.trim())===ze?ht:ht+`${ze}`:(ht.trim()?ht.trim()+`
`:"")+`()${ze}`})},Ce=async()=>{if(de)return;ve(!0);let ze=D,ht=A;if(!(r!=null&&r.id)&&!ze){z("dropoff");try{const Ae=await new Promise((qe,xt)=>navigator.geolocation.getCurrentPosition(qe,xt));ht=`${Ae.coords.latitude},${Ae.coords.longitude}`;const De=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${Ae.coords.latitude}&lon=${Ae.coords.longitude}&zoom=18&addressdetails=1`,{headers:{"Accept-Language":"ja"}})).json(),Fe=j_(De);Fe&&(ze=Fe)}catch(Ae){console.error(Ae)}z(null)}const Qe=Cn(x),Ee=Cn(w),Ve=Cn(k),et=L!=="CASH"?Cn(B):0,[ce,ye,ie]=Ue.split("-").map(Number),[fe,he]=bt.split(":").map(Number),me=new Date(ce,ye-1,ie,fe,he).getTime();await i(Qe,Ee,L,O,et,me,P,ze,S,ht,j,I,Y,q,Ve,h.current,!1),ve(!1)},rt=ze=>{ze==="male"?U(ht=>ht+1>4?0:ht+1):Q(ht=>ht+1>4?0:ht+1)},pt=d==="amount"?x:d==="toll"?w:d==="returnToll"?k:d==="nonCash"?B:"0",ft=ze=>{d==="amount"?g(ze):d==="toll"?v(ze):d==="returnToll"?R(ze):d==="nonCash"&&W(ze)},Mt=()=>d==="amount"?"":d==="toll"?"":d==="returnToll"?"":d==="nonCash"?"":"",At=()=>d==="amount"?"text-amber-500":d==="toll"?"text-white":d==="returnToll"?"text-indigo-400":d==="nonCash"?"text-blue-500":"text-white",wt=ze=>{if(Ze){const ht=`${Ze.name} ${ze}`;N(ht),Ye(null),lt(ht,S)}};return y.jsxs(ea,{onClose:s,children:[y.jsx("div",{className:"space-y-6 pb-6 relative",children:Xe?y.jsxs("div",{className:"space-y-6 py-4 animate-in slide-in-from-bottom-4 flex flex-col h-full",children:[y.jsxs("div",{className:"text-center space-y-2 mb-2 mt-4",children:[y.jsx("div",{className:"bg-cyan-500/20 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4 shadow-[0_0_20px_rgba(6,182,212,0.3)] animate-pulse",children:y.jsx(wT,{className:"w-10 h-10 text-cyan-400"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-3xl font-black text-white leading-tight tracking-tight mb-2",children:Xe}),y.jsx("p",{className:"text-lg font-bold text-cyan-200/70",children:""})]})]}),y.jsx("div",{className:"flex-1 content-start space-y-4 px-4",children:y.jsxs("button",{onClick:()=>{N(Xe),ut(null),Ye(null),lt(Xe,S)},className:"relative w-full overflow-hidden bg-black hover:bg-gray-900 border-2 border-cyan-500/50 hover:border-cyan-400 text-white font-black py-6 rounded-3xl text-2xl transition-all active:scale-95 shadow-xl group",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),y.jsxs("div",{className:"relative z-10 flex items-center justify-center gap-3",children:[y.jsx(K0,{className:"w-8 h-8 text-cyan-400"}),y.jsx("span",{children:""})]})]})}),y.jsx("div",{className:"pt-6 mt-auto",children:y.jsxs("button",{onClick:()=>{ut(null),Ze||lt(P,S)},className:"group w-full py-5 bg-gradient-to-r from-rose-600 to-pink-600 hover:from-rose-500 hover:to-pink-500 text-white font-black rounded-2xl text-lg border border-rose-400/50 active:scale-95 transition-all shadow-[0_0_20px_rgba(225,29,72,0.4)] flex items-center justify-between px-6",children:[y.jsxs("span",{className:"flex flex-col items-start leading-none gap-1",children:[y.jsx("span",{className:"text-[10px] opacity-80 font-bold tracking-widest",children:"NO"}),y.jsx("span",{children:""})]}),y.jsx(Us,{className:"w-6 h-6 text-white group-hover:translate-x-1 transition-transform"})]})})]}):Ze?y.jsxs("div",{className:"space-y-6 py-4 animate-in slide-in-from-bottom-4 flex flex-col h-full",children:[y.jsxs("div",{className:"text-center space-y-2 mb-2",children:[y.jsx("div",{className:"bg-cyan-500/20 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-3 shadow-[0_0_20px_rgba(6,182,212,0.3)]",children:y.jsx(_E,{className:"w-8 h-8 text-cyan-400"})}),y.jsx("h3",{className:"text-3xl font-black text-white leading-tight tracking-tight",children:Ze.name}),y.jsx("p",{className:"text-sm font-bold text-cyan-200/70 bg-cyan-900/30 py-1 px-3 rounded-full inline-block",children:""})]}),y.jsx("div",{className:"grid grid-cols-2 gap-4 flex-1 content-start",children:Ze.options.map(ze=>y.jsxs("button",{onClick:()=>wt(ze),className:"relative overflow-hidden bg-black hover:bg-gray-900 border-2 border-cyan-500/50 hover:border-cyan-400 text-white font-black py-6 rounded-2xl text-2xl transition-all active:scale-95 shadow-lg group",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-500/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),y.jsx("span",{className:"relative z-10",children:ze})]},ze))}),y.jsx("div",{className:"pt-6 mt-auto",children:y.jsxs("button",{onClick:()=>{Ye(null),lt(P,S)},className:"group w-full py-5 bg-gradient-to-r from-rose-600 to-pink-600 hover:from-rose-500 hover:to-pink-500 text-white font-black rounded-2xl text-lg border border-rose-400/50 active:scale-95 transition-all shadow-[0_0_20px_rgba(225,29,72,0.4)] flex items-center justify-between px-6",children:[y.jsxs("span",{className:"flex flex-col items-start leading-none gap-1",children:[y.jsx("span",{className:"text-[10px] opacity-80 font-bold tracking-widest",children:"CANCEL"}),y.jsx("span",{children:""})]}),y.jsx("div",{className:"bg-white/20 p-1.5 rounded-full",children:y.jsx(Us,{className:"w-6 h-6 text-white group-hover:translate-x-1 transition-transform"})})]})})]}):d?y.jsx($j,{label:Mt(),value:pt,colorClass:At(),onChange:ft,onConfirm:()=>b(null)}):y.jsxs("div",{className:"space-y-5 max-h-[85vh] overflow-y-auto custom-scrollbar pb-2 relative",children:[y.jsxs("div",{className:"flex justify-between items-center border-b border-gray-800 pb-4",children:[y.jsx("div",{className:"flex flex-col w-full",children:y.jsx("h2",{className:"text-2xl font-black text-white",children:r!=null&&r.id?"":""})}),y.jsx("div",{className:"absolute top-0 right-14 flex items-center",children:y.jsx("button",{type:"button",onClick:()=>te(!q),className:`p-2 rounded-full border-2 transition-all ${q?"bg-red-900/50 border-red-500 text-red-500 shadow-[0_0_10px_rgba(239,68,68,0.5)]":"bg-gray-900 border-gray-700 text-gray-600"}`,children:y.jsx(H1,{className:"w-6 h-6"})})}),y.jsx("button",{onClick:s,className:"text-gray-500 p-2 absolute top-0 right-0",children:y.jsx(Vn,{className:"w-8 h-8"})})]}),y.jsxs("div",{className:"bg-gray-800 p-4 rounded-3xl border-2 border-blue-500 text-center relative overflow-hidden group",children:[y.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-amber-500 to-transparent opacity-50"}),y.jsxs("label",{className:"text-xs font-black text-amber-500 uppercase tracking-widest block mb-1 flex items-center justify-center gap-2",children:[y.jsx(Oo,{className:"w-4 h-4"})," "]}),y.jsx("input",{type:"date",value:Ue,onChange:ze=>We(ze.target.value),className:"bg-transparent text-white text-3xl font-black w-full text-center outline-none uppercase tracking-widest"})]}),y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"space-y-2 opacity-60 hover:opacity-100 transition-opacity",children:[y.jsx("label",{className:"text-xl font-black text-gray-500 uppercase block tracking-widest mb-3",children:"1. "}),y.jsx("div",{className:"flex gap-3",children:y.jsx("input",{type:"time",value:bt,onChange:ze=>yt(ze.target.value),className:"w-full bg-gray-800 border-2 border-blue-500 rounded-xl p-4 text-3xl font-black outline-none focus:border-blue-400 shadow-inner text-white text-center"})}),y.jsxs("div",{className:"flex items-center gap-2 text-indigo-400 text-xs font-bold px-1 mt-2 justify-center",children:[y.jsx(p0,{className:"w-4 h-4"}),y.jsxs("span",{children:[": ",nt]})]})]}),y.jsxs("div",{className:"space-y-4 bg-gray-800 p-2 rounded-3xl border-2 border-blue-500 opacity-80 hover:opacity-100 transition-opacity",children:[y.jsx("label",{className:"text-xl font-black text-gray-500 uppercase block tracking-widest px-2 mb-3",children:"2. "}),y.jsxs("div",{children:[y.jsxs("div",{className:"flex justify-between items-center mb-1 px-1",children:[y.jsxs("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest flex items-center gap-2",children:[y.jsx(Lf,{className:"w-3 h-3 text-green-400"})," "]}),y.jsxs("button",{onClick:()=>Et("pickup"),className:"text-[10px] bg-gray-800 text-green-400 font-black px-2 py-1 rounded-lg border border-green-500/20 active:scale-90 flex items-center gap-1 whitespace-nowrap",children:[H==="pickup"?y.jsx(Al,{className:"w-3 h-3 animate-spin"}):y.jsx(Lf,{className:"w-3 h-3"}),""]})]}),y.jsx("div",{className:"flex gap-2",children:y.jsx("input",{type:"text",value:P,onChange:ze=>{N(ze.target.value),ze.target.value||T("")},placeholder:"",className:"flex-1 bg-gray-700 border-2 border-blue-500 rounded-2xl p-3 text-lg font-black outline-none focus:border-green-500 shadow-inner"})})]}),y.jsxs("div",{children:[y.jsxs("div",{className:"flex justify-between items-center mb-1 px-1",children:[y.jsxs("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest flex items-center gap-2",children:[y.jsx(Zg,{className:"w-3 h-3 text-red-400"})," "]}),y.jsxs("button",{onClick:()=>Et("dropoff"),className:"text-[10px] bg-gray-800 text-red-400 font-black px-2 py-1 rounded-lg border border-red-500/20 active:scale-90 flex items-center gap-1 whitespace-nowrap",children:[H==="dropoff"?y.jsx(Al,{className:"w-3 h-3 animate-spin"}):y.jsx(Zg,{className:"w-3 h-3"}),""]})]}),y.jsx("div",{className:"flex gap-2",children:y.jsx("input",{type:"text",value:D,onChange:ze=>{C(ze.target.value),ze.target.value||E("")},placeholder:"",className:"flex-1 bg-gray-700 border-2 border-blue-500 rounded-2xl p-3 text-lg font-black outline-none focus:border-red-500 shadow-inner"})})]})]}),y.jsxs("div",{ref:He,className:"scroll-mt-4",children:[y.jsxs("label",{className:"text-xl font-black text-gray-500 uppercase mb-3 block tracking-widest flex items-center justify-between",children:[y.jsx("span",{children:"3. "}),O==="APP"&&(Y.includes("GO")?y.jsx("span",{className:"text-xl font-black text-gray-400",children:"GO"}):Y.includes("Didi")?y.jsx("span",{className:"text-xl font-black text-gray-400",children:"Didi"}):Y.includes("Uber")?y.jsx("span",{className:"text-xl font-black text-gray-400",children:"Uber"}):Y.includes("S.RIDE")||Y.includes("s.ride")?y.jsx("span",{className:"text-xl font-black text-gray-400",children:"S.RIDE"}):null)]}),y.jsx("div",{className:"grid grid-cols-3 gap-3",children:V.map(ze=>y.jsx("button",{onClick:()=>{F(ze),ze==="APP"&&!(r!=null&&r.id)&&se(!0)},className:`py-4 rounded-2xl font-black border-2 transition-all shadow-sm whitespace-nowrap ${ze==="HIRE"?"text-2xl":"text-3xl"} ${O===ze?"bg-amber-500 border-amber-500 text-black":"bg-gray-800 border-blue-500 text-gray-400"} active:scale-95`,children:Qi[ze]},ze))})]}),y.jsxs("div",{className:"bg-gray-800 p-4 rounded-3xl border-2 border-blue-500",children:[y.jsxs("label",{className:"text-xl font-black text-gray-400 uppercase tracking-widest flex items-center gap-2 mb-4",children:[y.jsx(jl,{className:"w-5 h-5 text-amber-500"})," 4. "]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("button",{type:"button",onClick:()=>rt("male"),className:`relative flex flex-col items-center justify-center p-4 rounded-2xl border-2 transition-all active:scale-95 h-32 ${j>0?"bg-blue-900/20 border-blue-500 text-blue-400 shadow-[0_0_15px_rgba(59,130,246,0.3)]":"bg-gray-700 border-blue-500 text-gray-500"}`,children:[y.jsx("span",{className:"text-sm font-bold uppercase tracking-widest mb-1",children:""}),y.jsx("span",{className:`text-6xl font-black ${j>0?"text-white":"text-gray-600"}`,children:j})]}),y.jsxs("button",{type:"button",onClick:()=>rt("female"),className:`relative flex flex-col items-center justify-center p-4 rounded-2xl border-2 transition-all active:scale-95 h-32 ${I>0?"bg-pink-900/20 border-pink-500 text-pink-400 shadow-[0_0_15px_rgba(236,72,153,0.3)]":"bg-gray-700 border-blue-500 text-gray-500"}`,children:[y.jsx("span",{className:"text-sm font-bold uppercase tracking-widest mb-1",children:""}),y.jsx("span",{className:`text-6xl font-black ${I>0?"text-white":"text-gray-600"}`,children:I})]})]})]}),y.jsxs("div",{ref:Ne,className:"scroll-mt-4",children:[y.jsxs("div",{className:"flex justify-between items-center mb-3",children:[y.jsx("label",{className:"text-xl font-black text-gray-400 uppercase tracking-widest",children:"5. "}),y.jsxs("button",{onClick:()=>b("returnToll"),className:`text-[10px] font-black px-3 py-1.5 rounded-full border transition-all active:scale-95 flex items-center gap-1 ${Cn(k)>0?"bg-indigo-600 border-indigo-400 text-white shadow-[0_0_10px_rgba(99,102,241,0.4)]":"bg-gray-800 border-gray-700 text-gray-500"}`,children:[": ",k]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[y.jsxs("div",{onClick:()=>b("amount"),className:"bg-gray-800 p-4 rounded-3xl border-2 border-blue-500 flex flex-col items-center justify-center shadow-inner cursor-pointer active:scale-[0.98] transition-all min-h-[100px]",children:[y.jsx("span",{className:"text-amber-500 font-bold text-sm uppercase mb-1 tracking-widest",children:""}),y.jsxs("div",{className:"flex items-baseline",children:[y.jsx("span",{className:"text-amber-500 font-black text-xl mr-1",children:""}),y.jsx("span",{className:"text-white text-[clamp(2rem,8vw,2.5rem)] font-black truncate leading-none",children:x||"0"})]})]}),y.jsxs("div",{onClick:()=>b("toll"),className:"bg-gray-800 border-2 border-blue-500 rounded-3xl p-4 flex flex-col items-center justify-center shadow-inner cursor-pointer active:scale-[0.98] transition-all min-h-[100px]",children:[y.jsx("span",{className:"text-gray-400 font-bold text-sm uppercase mb-1 tracking-widest",children:""}),y.jsx("div",{className:"flex items-baseline",children:y.jsx("span",{className:"text-white text-[clamp(2rem,8vw,2.5rem)] font-black truncate leading-none",children:w||"0"})})]})]})]}),y.jsxs("div",{children:[y.jsxs("label",{className:"text-xl font-black text-gray-400 uppercase mb-3 block tracking-widest flex items-center justify-between",children:[y.jsx("span",{children:"6. "}),Te&&y.jsx("button",{type:"button",onClick:()=>pe(!0),className:"text-xl font-black text-gray-400 normal-case hover:text-blue-400 active:scale-95 transition-all cursor-pointer underline decoration-dotted decoration-gray-500 hover:decoration-blue-400",children:Te})]}),y.jsxs("div",{className:"relative",children:[y.jsx("select",{value:L,onChange:ze=>{const ht=ze.target.value;G(ht),ht==="QR"?pe(!0):ke("")},className:"w-full bg-gray-800 border-2 border-blue-500 rounded-2xl p-4 text-white text-xl font-black outline-none appearance-none focus:border-blue-400 cursor-pointer shadow-inner",children:t.map(ze=>y.jsx("option",{value:ze,children:n[ze]||Hs[ze]},ze))}),y.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-500",children:y.jsx(Us,{className:"w-6 h-6 rotate-90"})})]})]}),L!=="CASH"&&y.jsxs("div",{className:"bg-blue-900/10 p-4 rounded-3xl border border-blue-900/30 shadow-inner",children:[y.jsxs("label",{className:"text-xs text-blue-400 font-bold uppercase mb-1 block tracking-widest",children:[n[L]||Hs[L],""]}),y.jsxs("div",{onClick:()=>b("nonCash"),className:"flex items-center gap-2 cursor-pointer active:scale-[0.99] transition-all",children:[y.jsx("span",{className:"text-blue-500 font-black text-2xl",children:""}),y.jsx("span",{className:"w-full bg-transparent border-b border-blue-900/50 p-1 text-3xl font-black text-white outline-none",children:B||"0"})]})]}),y.jsxs("div",{children:[y.jsxs("div",{className:"flex justify-between items-center mb-3",children:[y.jsxs("label",{className:"text-xl font-bold text-gray-400 flex items-center gap-2 uppercase tracking-widest",children:[y.jsx(U1,{className:"w-5 h-5"})," 7. "]}),y.jsxs("button",{type:"button",onClick:Oe,className:"text-xs bg-blue-600/20 text-blue-400 font-black px-3 py-1.5 rounded-full border border-blue-500/20 active:scale-95 flex items-center gap-1 transition-all",children:[H==="stopover"?y.jsx(Al,{className:"w-3 h-3 animate-spin"}):y.jsx(X4,{className:"w-3 h-3"}),""]})]}),y.jsx("textarea",{value:Y,onChange:ze=>ee(ze.target.value),placeholder:"...",className:"w-full bg-gray-800 border-2 border-blue-500 rounded-2xl p-3 text-white text-base min-h-[80px] outline-none focus:border-blue-400 shadow-inner"})]}),y.jsxs("div",{className:"flex flex-col gap-3 pt-5 pb-5",children:[y.jsx("button",{disabled:de,onClick:Ce,className:"w-full bg-amber-500 text-black py-5 rounded-2xl font-black text-2xl shadow-xl active:scale-95 transition-transform flex items-center justify-center gap-3",children:de?y.jsxs(y.Fragment,{children:[y.jsx(Al,{className:"w-6 h-6 animate-spin"})," ..."]}):r!=null&&r.id?"":""}),(r==null?void 0:r.id)&&y.jsx("button",{type:"button",onClick:ze=>{ze.stopPropagation(),Z?a():ae(!0)},className:`w-full py-4 font-black text-lg flex items-center justify-center gap-2 rounded-2xl transition-all border-2 active:scale-95 ${Z?"bg-red-600 border-red-500 text-white animate-pulse":"text-red-500 border-red-500/30"}`,children:Z?"":y.jsxs(y.Fragment,{children:[y.jsx(m0,{className:"w-5 h-5"})," "]})}),y.jsx("button",{type:"button",onClick:ze=>{ze.stopPropagation(),re?s():le(!0)},onBlur:()=>setTimeout(()=>le(!1),200),className:`w-full py-4 text-xl font-bold active:scale-90 tracking-widest uppercase transition-all ${re?"bg-red-600 text-white":"text-gray-500 hover:text-gray-400"}`,children:re?"":"Cancel"})]})]}),y.jsx("div",{className:"mt-6",children:y.jsx(E1,{followingUsers:c})}),o&&p&&Array.isArray(o.records)&&y.jsxs("div",{className:"mt-6 space-y-4 bg-gray-800 rounded-3xl p-4 border-2 border-blue-500",children:[y.jsxs("div",{className:"flex justify-between items-start mb-4",children:[y.jsxs("div",{className:"flex flex-col",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),y.jsxs("span",{className:"text-white font-black text-sm",children:[" ",(()=>{const ze=Date.now(),ht=Pe||o.startTime,Qe=ze-ht,Ee=Math.floor(Qe/(1e3*60*60)),Ve=Math.floor(Qe%(1e3*60*60)/(1e3*60));return`${Ee}${String(Ve).padStart(2,"0")}`})()]})]}),y.jsx("div",{className:"text-gray-400 text-xs font-bold ml-5",children:(()=>{const ze=new Date,ht=ze.toLocaleDateString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\//g,"/"),Qe=ze.toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit",hour12:!1});return`${ht} (~${Qe})`})()})]}),y.jsx("button",{onClick:s,className:"bg-red-600 hover:bg-red-500 text-white font-black text-xs px-4 py-2 rounded-full transition-all active:scale-95",children:""})]}),y.jsxs("div",{className:"text-center mb-4",children:[y.jsxs("div",{className:"flex items-baseline justify-center gap-1 mb-2",children:[y.jsx("span",{className:"text-amber-500 font-black text-4xl",children:""}),y.jsx("span",{className:"text-white font-black text-5xl",children:(o.records||[]).reduce((ht,Qe)=>ht+(Qe.amount||0),0).toLocaleString()})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-3",children:[y.jsxs("div",{className:"bg-gray-700 p-2 rounded-xl border-2 border-blue-500",children:[y.jsx("div",{className:"text-gray-400 text-xs font-bold mb-1",children:""}),y.jsxs("div",{className:"text-white font-black text-sm",children:["",(()=>{const ze=(o.records||[]).reduce((Qe,Ee)=>Qe+(Ee.amount||0),0);return Math.floor(ze/1.1).toLocaleString()})()]})]}),y.jsxs("div",{className:"bg-red-900/30 p-2 rounded-xl border border-red-500/30",children:[y.jsx("div",{className:"text-gray-400 text-xs font-bold mb-1",children:""}),y.jsx("div",{className:"text-white font-black text-sm",children:(()=>{const ze=Re,ht=(o.records||[]).reduce((ye,ie)=>ye+(ie.amount||0),0);if(!o.plannedHours||o.plannedHours===0)return"0";const Qe=Pe||o.startTime,Ee=(ze-Qe)/(1e3*60*60),et=(o.dailyGoal||0)/o.plannedHours*Ee,ce=ht-et;return ce>=0?`+${Math.round(ce).toLocaleString()}`:Math.round(ce).toLocaleString()})()})]})]})]}),y.jsxs("div",{className:"mb-4",children:[y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[y.jsx("span",{className:"text-white font-black text-sm",children:(()=>{const ze=(o.records||[]).reduce((Qe,Ee)=>Qe+(Ee.amount||0),0),ht=(o.dailyGoal||0)>0?ze/(o.dailyGoal||1)*100:0;return`${Math.floor(ht)}% `})()}),y.jsxs("span",{className:"text-gray-400 text-xs font-bold",children:[" ",(o.dailyGoal||0).toLocaleString()]})]}),y.jsx("div",{className:"w-full bg-gray-800 rounded-full h-2",children:y.jsx("div",{className:"bg-amber-500 h-2 rounded-full transition-all",style:{width:`${Math.min(100,(()=>{const ze=(o.records||[]).reduce((ht,Qe)=>ht+(Qe.amount||0),0);return(o.dailyGoal||0)>0?ze/(o.dailyGoal||1)*100:0})())}%`}})})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[y.jsxs("div",{className:"bg-gray-700 p-3 rounded-xl border-2 border-blue-500",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx(Go,{className:"w-4 h-4 text-gray-400"}),y.jsx("span",{className:"text-gray-400 text-xs font-bold",children:""})]}),y.jsxs("div",{className:"flex items-baseline gap-1",children:[y.jsx("span",{className:"text-amber-500 font-black text-lg",children:""}),y.jsx("span",{className:"text-white font-black text-xl",children:(()=>{const ze=Re,ht=(o.records||[]).reduce((Ve,et)=>Ve+(et.amount||0),0),Qe=Pe||o.startTime,Ee=(ze-Qe)/6e4;return Ee<=0?"0":Math.floor(ht/Ee*60).toLocaleString()})()})]})]}),y.jsxs("div",{className:"bg-gray-700 p-3 rounded-xl border-2 border-blue-500",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx(Q4,{className:"w-4 h-4 text-gray-400"}),y.jsx("span",{className:"text-gray-400 text-xs font-bold",children:""})]}),y.jsxs("div",{className:"text-white font-black text-xl",children:[(o.records||[]).length,""]})]}),y.jsxs("div",{className:"bg-gray-700 p-3 rounded-xl border-2 border-blue-500",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx(Oo,{className:"w-4 h-4 text-gray-400"}),y.jsx("span",{className:"text-gray-400 text-xs font-bold",children:" / "})]}),y.jsxs("div",{className:"flex items-baseline gap-1",children:[y.jsx("span",{className:"text-amber-500 font-black text-lg",children:""}),y.jsx("span",{className:"text-white font-black text-xl",children:(()=>{if(!p.monthlyGoal||!Array.isArray(p.dutyDays))return"0";const ze=p.dutyDays.filter(Ee=>{const Ve=It(Date.now(),l);return Ee>=Ve}).length;if(ze===0)return"0";const ht=p?Yf(p,u||[],o||null).totalSales:0,Qe=p.monthlyGoal-ht;return Qe>0?Math.ceil(Qe/ze).toLocaleString():"0"})()})]})]}),y.jsxs("div",{className:"bg-gray-700 p-3 rounded-xl border-2 border-blue-500",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx(Po,{className:"w-4 h-4 text-gray-400"}),y.jsx("span",{className:"text-gray-400 text-xs font-bold",children:""})]}),y.jsxs("div",{className:"flex items-baseline gap-1",children:[y.jsx("span",{className:"text-amber-500 font-black text-lg",children:""}),y.jsx("span",{className:"text-white font-black text-xl",children:(()=>{const ze=(o.records||[]).reduce((Qe,Ee)=>Qe+(Ee.amount||0),0);return Math.max(0,(o.dailyGoal||0)-ze).toLocaleString()})()})]})]})]})]})]})}),ge&&y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-sm p-4",children:y.jsxs("div",{className:"bg-gray-900 rounded-3xl p-6 max-w-md w-full border-2 border-blue-500 shadow-2xl animate-in fade-in zoom-in-95 duration-200",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsxs("h3",{className:"text-2xl font-black text-white flex items-center gap-2",children:[y.jsx(za,{className:"w-6 h-6 text-blue-400"}),""]}),y.jsx("button",{onClick:()=>se(!1),className:"text-gray-400 hover:text-white transition-colors",children:y.jsx(Vn,{className:"w-6 h-6"})})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsx("button",{onClick:()=>ot("GO"),className:"bg-blue-600 hover:bg-blue-700 text-white py-6 rounded-2xl font-black text-2xl border-2 border-blue-500 transition-all active:scale-95 shadow-lg",children:"GO"}),y.jsx("button",{onClick:()=>ot("Didi"),className:"bg-orange-600 hover:bg-orange-700 text-white py-6 rounded-2xl font-black text-2xl border-2 border-orange-500 transition-all active:scale-95 shadow-lg",children:"Didi"}),y.jsx("button",{onClick:()=>ot("Uber"),className:"bg-black hover:bg-gray-900 text-white py-6 rounded-2xl font-black text-2xl border-2 border-gray-700 transition-all active:scale-95 shadow-lg",children:"Uber"}),y.jsx("button",{onClick:()=>ot("s.ride"),className:"bg-green-500 hover:bg-green-600 text-white py-6 rounded-2xl font-black text-xl border-2 border-green-400 transition-all active:scale-95 shadow-lg",children:"S.RIDE"})]})]})}),xe&&y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-sm p-4",children:y.jsxs("div",{className:"bg-gray-900 rounded-3xl p-6 max-w-md w-full border-2 border-blue-500 shadow-2xl animate-in fade-in zoom-in-95 duration-200",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsxs("h3",{className:"text-2xl font-black text-white flex items-center gap-2",children:[y.jsx(Pf,{className:"w-6 h-6 text-blue-400"}),""]}),y.jsx("button",{onClick:()=>pe(!1),className:"text-gray-400 hover:text-white transition-colors",children:y.jsx(Vn,{className:"w-6 h-6"})})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsx("button",{onClick:()=>je("GO"),className:"bg-blue-600 hover:bg-blue-700 text-white py-6 rounded-2xl font-black text-2xl border-2 border-blue-500 transition-all active:scale-95 shadow-lg",children:"GO"}),y.jsx("button",{onClick:()=>je("Didi"),className:"bg-orange-600 hover:bg-orange-700 text-white py-6 rounded-2xl font-black text-2xl border-2 border-orange-500 transition-all active:scale-95 shadow-lg",children:"Didi"}),y.jsx("button",{onClick:()=>je("Uber"),className:"bg-black hover:bg-gray-900 text-white py-6 rounded-2xl font-black text-2xl border-2 border-gray-700 transition-all active:scale-95 shadow-lg",children:"Uber"}),y.jsx("button",{onClick:()=>je("QR"),className:"bg-purple-600 hover:bg-purple-700 text-white py-6 rounded-2xl font-black text-xl border-2 border-purple-500 transition-all active:scale-95 shadow-lg",children:"QR"})]})]})})]})},Kj=({shift:r,customLabels:t,enabledMethods:e,businessStartHour:n,onConfirm:s,onClose:i})=>{const[a,l]=_e.useState("input"),[c,o]=_e.useState(""),[u,p]=_e.useState(!1),h=r.startOdo||0,d=c?Number(c):0,b=d>h?d-h:0,x=()=>{c?l("confirm"):p(!0)},g=()=>{p(!1),l("confirm")},w=()=>{p(!1)},v=()=>{s(c!==""?Number(c):void 0)};return y.jsx(ea,{onClose:i,children:y.jsxs("div",{className:"space-y-6 pb-6 relative",children:[u&&y.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-sm rounded-[32px] animate-in fade-in duration-200 p-4",children:y.jsxs("div",{className:"w-full space-y-6 text-center",children:[y.jsx("div",{className:"bg-amber-500/10 p-4 rounded-full w-20 h-20 mx-auto flex items-center justify-center shadow-[0_0_20px_rgba(245,158,11,0.2)]",children:y.jsx(za,{className:"w-10 h-10 text-amber-500"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-xl font-black text-white mb-2",children:""}),y.jsxs("p",{className:"text-gray-300 font-bold leading-relaxed",children:["ODO",y.jsx("br",{}),""]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[y.jsx("button",{onClick:w,className:"bg-gray-800 text-gray-300 py-4 rounded-2xl font-black text-lg shadow-lg active:scale-95 transition-transform border border-gray-700",children:""}),y.jsx("button",{onClick:g,className:"bg-amber-500 text-black py-4 rounded-2xl font-black text-lg shadow-xl active:scale-95 transition-transform",children:""})]})]})}),a==="input"&&y.jsxs("div",{className:"space-y-8 animate-in slide-in-from-right-4 duration-300",children:[y.jsxs("div",{className:"text-center space-y-2",children:[y.jsxs("h3",{className:"text-2xl font-black text-white flex items-center justify-center gap-2",children:[y.jsx(Fo,{className:"w-8 h-8 text-amber-500"})," "]}),y.jsx("p",{className:"text-sm font-bold text-gray-500",children:""})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("p",{className:"text-xs font-black text-gray-500 uppercase tracking-widest text-left pl-1",children:""}),y.jsxs("div",{className:"flex items-center bg-gray-950 rounded-2xl p-5 border-2 border-gray-700 focus-within:border-amber-500 transition-all shadow-inner",children:[y.jsx(Fo,{className:"text-gray-500 w-8 h-8 mr-3"}),y.jsx("input",{type:"number",inputMode:"numeric",value:c,onChange:k=>o(k.target.value),placeholder:"ODO",className:"bg-transparent text-white text-[clamp(1.5rem,8vw,2.5rem)] font-black w-full outline-none text-center placeholder-gray-700",autoFocus:!0}),y.jsx("span",{className:"text-gray-500 font-bold ml-2",children:"km"})]}),h>0&&y.jsxs("p",{className:"text-right text-xs font-bold text-gray-600 px-1",children:[": ",h.toLocaleString()," km"]})]}),y.jsxs("div",{className:"flex flex-col gap-3 pt-4",children:[y.jsx("button",{onClick:x,className:"w-full bg-amber-500 text-black py-5 rounded-2xl font-black text-2xl shadow-xl active:scale-95 transition-transform",children:""}),y.jsx("button",{onClick:i,className:"w-full py-4 text-lg font-bold text-gray-500 uppercase active:scale-95 tracking-widest",children:""})]})]}),a==="confirm"&&y.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4 duration-300",children:[y.jsxs("div",{className:"text-center space-y-2",children:[y.jsx("h3",{className:"text-2xl font-black text-white",children:""}),y.jsx("p",{className:"text-sm font-bold text-gray-500",children:""})]}),y.jsxs("div",{className:"bg-gray-900/30 rounded-3xl p-2 border border-gray-800",children:[y.jsx(P6,{records:r.records,customLabels:t,startTime:r.startTime,endTime:Date.now(),totalRestMinutes:r.totalRestMinutes,enabledMethods:e,startOdo:h,endOdo:d>0?d:void 0}),y.jsxs("div",{className:"mt-2 grid grid-cols-3 gap-2 px-1 pb-1",children:[y.jsxs("div",{className:"bg-gray-900/50 p-2 rounded-xl text-center border border-gray-800",children:[y.jsx("span",{className:"text-[12px] text-gray-500 font-bold uppercase block",children:"ODO"}),y.jsx("span",{className:"text-lg font-black text-white",children:h.toLocaleString()})]}),y.jsxs("div",{className:"bg-gray-900/50 p-2 rounded-xl text-center border border-gray-800",children:[y.jsx("span",{className:"text-[12px] text-gray-500 font-bold uppercase block",children:"ODO"}),y.jsx("span",{className:`text-lg font-black ${c?"text-amber-500":"text-gray-600"}`,children:c?Number(c).toLocaleString():"---"})]}),y.jsxs("div",{className:"bg-gray-900/50 p-2 rounded-xl text-center border border-gray-800",children:[y.jsx("span",{className:"text-[12px] text-gray-500 font-bold uppercase block",children:""}),y.jsxs("span",{className:"text-lg font-black text-blue-400",children:[b.toLocaleString()," ",y.jsx("span",{className:"text-xs text-gray-500",children:"km"})]})]})]})]}),y.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[y.jsxs("button",{onClick:v,className:"w-full bg-gradient-to-r from-red-600 to-red-500 text-white py-5 rounded-2xl font-black text-2xl shadow-xl active:scale-95 transition-transform flex items-center justify-center gap-3 border border-red-400/30",children:[y.jsx(K0,{className:"w-8 h-8"})," "]}),y.jsx("button",{onClick:()=>l("input"),className:"w-full py-4 text-lg font-bold text-gray-500 uppercase active:scale-95 tracking-widest",children:""})]})]})]})})},Qj=({shift:r,onClose:t,onSave:e})=>{const[n,s]=_e.useState(()=>{const p=new Date(r.startTime),h=p.getTimezoneOffset()*6e4;return new Date(p.getTime()-h).toISOString().split("T")[0]}),[i,a]=_e.useState(()=>new Date(r.startTime).toTimeString().slice(0,5)),[l,c]=_e.useState(r.plannedHours),o=()=>{const[p,h,d]=n.split("-").map(Number),[b,x]=i.split(":").map(Number),g=new Date(p,h-1,d,b,x).getTime();e(g,l),t()},u=Array.from({length:21},(p,h)=>h+4);return y.jsx(ea,{onClose:t,children:y.jsxs("div",{className:"space-y-6 pb-6",children:[y.jsx("h3",{className:"text-2xl font-black text-white text-center",children:""}),y.jsxs("div",{className:"bg-gray-900/50 p-5 rounded-3xl border border-gray-800 space-y-5",children:[y.jsxs("div",{children:[y.jsxs("label",{className:"text-sm font-bold text-gray-400 mb-2 block uppercase tracking-widest flex items-center gap-2",children:[y.jsx(Go,{className:"w-4 h-4"})," "]}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx("input",{type:"date",value:n,onChange:p=>s(p.target.value),className:"flex-1 bg-gray-800 border border-gray-700 rounded-xl p-3 text-white font-black outline-none focus:border-amber-500"}),y.jsx("input",{type:"time",value:i,onChange:p=>a(p.target.value),className:"w-28 bg-gray-800 border border-gray-700 rounded-xl p-3 text-white font-black outline-none focus:border-amber-500"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-bold text-gray-400 mb-2 block uppercase tracking-widest",children:""}),y.jsxs("div",{className:"relative",children:[y.jsx("select",{value:l,onChange:p=>c(parseInt(p.target.value)),className:"w-full bg-gray-800 border border-gray-700 rounded-xl p-3 text-white text-lg font-black appearance-none focus:border-amber-500 outline-none",children:u.map(p=>y.jsxs("option",{value:p,children:[p," "]},p))}),y.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-500",children:y.jsx(As,{className:"w-5 h-5"})})]})]})]}),y.jsx("button",{onClick:o,className:"w-full bg-amber-500 text-black py-4 rounded-2xl font-black text-2xl shadow-xl active:scale-95 transition-transform",children:""})]})})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var L6=1252,Zj=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],qb={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},Gb=function(r){Zj.indexOf(r)!=-1&&(L6=qb[0]=r)};function Jj(){Gb(1252)}var La=function(r){Gb(r)};function B6(){La(1200),Jj()}function P_(r){for(var t=[],e=0,n=r.length;e<n;++e)t[e]=r.charCodeAt(e);return t}function eD(r){for(var t=[],e=0;e<r.length>>1;++e)t[e]=String.fromCharCode(r.charCodeAt(2*e)+(r.charCodeAt(2*e+1)<<8));return t.join("")}function U6(r){for(var t=[],e=0;e<r.length>>1;++e)t[e]=String.fromCharCode(r.charCodeAt(2*e+1)+(r.charCodeAt(2*e)<<8));return t.join("")}var gf=function(r){var t=r.charCodeAt(0),e=r.charCodeAt(1);return t==255&&e==254?eD(r.slice(2)):t==254&&e==255?U6(r.slice(2)):t==65279?r.slice(1):r},Gd=function(t){return String.fromCharCode(t)},L_=function(t){return String.fromCharCode(t)},Kf,Do="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function B_(r){for(var t="",e=0,n=0,s=0,i=0,a=0,l=0,c=0,o=0;o<r.length;)e=r.charCodeAt(o++),i=e>>2,n=r.charCodeAt(o++),a=(e&3)<<4|n>>4,s=r.charCodeAt(o++),l=(n&15)<<2|s>>6,c=s&63,isNaN(n)?l=c=64:isNaN(s)&&(c=64),t+=Do.charAt(i)+Do.charAt(a)+Do.charAt(l)+Do.charAt(c);return t}function sa(r){var t="",e=0,n=0,s=0,i=0,a=0,l=0,c=0;r=r.replace(/[^\w\+\/\=]/g,"");for(var o=0;o<r.length;)i=Do.indexOf(r.charAt(o++)),a=Do.indexOf(r.charAt(o++)),e=i<<2|a>>4,t+=String.fromCharCode(e),l=Do.indexOf(r.charAt(o++)),n=(a&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),c=Do.indexOf(r.charAt(o++)),s=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(s));return t}var Er=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Yl=(function(){if(typeof Buffer<"u"){var r=!Buffer.from;if(!r)try{Buffer.from("foo","utf8")}catch{r=!0}return r?function(t,e){return e?new Buffer(t,e):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function Jo(r){return Er?Buffer.alloc?Buffer.alloc(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}function U_(r){return Er?Buffer.allocUnsafe?Buffer.allocUnsafe(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}var Fa=function(t){return Er?Yl(t,"binary"):t.split("").map(function(e){return e.charCodeAt(0)&255})};function Kl(r){if(Array.isArray(r))return r.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],e=0;e<r.length;++e)t[e]=String.fromCharCode(r[e]);return t.join("")}function Wb(r){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(r instanceof ArrayBuffer)return Wb(new Uint8Array(r));for(var t=new Array(r.length),e=0;e<r.length;++e)t[e]=r[e];return t}var Mo=Er?function(r){return Buffer.concat(r.map(function(t){return Buffer.isBuffer(t)?t:Yl(t)}))}:function(r){if(typeof Uint8Array<"u"){var t=0,e=0;for(t=0;t<r.length;++t)e+=r[t].length;var n=new Uint8Array(e),s=0;for(t=0,e=0;t<r.length;e+=s,++t)if(s=r[t].length,r[t]instanceof Uint8Array)n.set(r[t],e);else{if(typeof r[t]=="string")throw"wtf";n.set(new Uint8Array(r[t]),e)}return n}return[].concat.apply([],r.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function tD(r){for(var t=[],e=0,n=r.length+250,s=Jo(r.length+255),i=0;i<r.length;++i){var a=r.charCodeAt(i);if(a<128)s[e++]=a;else if(a<2048)s[e++]=192|a>>6&31,s[e++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var l=r.charCodeAt(++i)&1023;s[e++]=240|a>>8&7,s[e++]=128|a>>2&63,s[e++]=128|l>>6&15|(a&3)<<4,s[e++]=128|l&63}else s[e++]=224|a>>12&15,s[e++]=128|a>>6&63,s[e++]=128|a&63;e>n&&(t.push(s.slice(0,e)),e=0,s=Jo(65535),n=65530)}return t.push(s.slice(0,e)),Mo(t)}var Ns=/\u0000/g,bf=/[\u0001-\u0006]/g;function Xc(r){for(var t="",e=r.length-1;e>=0;)t+=r.charAt(e--);return t}function Ba(r,t){var e=""+r;return e.length>=t?e:cn("0",t-e.length)+e}function Xb(r,t){var e=""+r;return e.length>=t?e:cn(" ",t-e.length)+e}function B0(r,t){var e=""+r;return e.length>=t?e:e+cn(" ",t-e.length)}function rD(r,t){var e=""+Math.round(r);return e.length>=t?e:cn("0",t-e.length)+e}function nD(r,t){var e=""+r;return e.length>=t?e:cn("0",t-e.length)+e}var V_=Math.pow(2,32);function Oc(r,t){if(r>V_||r<-V_)return rD(r,t);var e=Math.round(r);return nD(e,t)}function U0(r,t){return t=t||0,r.length>=7+t&&(r.charCodeAt(t)|32)===103&&(r.charCodeAt(t+1)|32)===101&&(r.charCodeAt(t+2)|32)===110&&(r.charCodeAt(t+3)|32)===101&&(r.charCodeAt(t+4)|32)===114&&(r.charCodeAt(t+5)|32)===97&&(r.charCodeAt(t+6)|32)===108}var z_=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Ug=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function sD(r){return r||(r={}),r[0]="General",r[1]="0",r[2]="0.00",r[3]="#,##0",r[4]="#,##0.00",r[9]="0%",r[10]="0.00%",r[11]="0.00E+00",r[12]="# ?/?",r[13]="# ??/??",r[14]="m/d/yy",r[15]="d-mmm-yy",r[16]="d-mmm",r[17]="mmm-yy",r[18]="h:mm AM/PM",r[19]="h:mm:ss AM/PM",r[20]="h:mm",r[21]="h:mm:ss",r[22]="m/d/yy h:mm",r[37]="#,##0 ;(#,##0)",r[38]="#,##0 ;[Red](#,##0)",r[39]="#,##0.00;(#,##0.00)",r[40]="#,##0.00;[Red](#,##0.00)",r[45]="mm:ss",r[46]="[h]:mm:ss",r[47]="mmss.0",r[48]="##0.0E+0",r[49]="@",r[56]='"/ "hh""mm""ss" "',r}var fr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},H_={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},aD={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function V0(r,t,e){for(var n=r<0?-1:1,s=r*n,i=0,a=1,l=0,c=1,o=0,u=0,p=Math.floor(s);o<t&&(p=Math.floor(s),l=p*a+i,u=p*o+c,!(s-p<5e-8));)s=1/(s-p),i=a,a=l,c=o,o=u;if(u>t&&(o>t?(u=c,l=i):(u=o,l=a)),!e)return[0,n*l,u];var h=Math.floor(n*l/u);return[h,n*l-h*u,u]}function Ml(r,t,e){if(r>2958465||r<0)return null;var n=r|0,s=Math.floor(86400*(r-n)),i=0,a=[],l={D:n,T:s,u:86400*(r-n)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++s==86400&&(l.T=s=0,++n,++l.D)),n===60)a=e?[1317,10,29]:[1900,2,29],i=3;else if(n===0)a=e?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),a=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),n<60&&(i=(i+6)%7),e&&(i=fD(c,a))}return l.y=a[0],l.m=a[1],l.d=a[2],l.S=s%60,s=Math.floor(s/60),l.M=s%60,s=Math.floor(s/60),l.H=s,l.q=i,l}var V6=new Date(1899,11,31,0,0,0),iD=V6.getTime(),oD=new Date(1900,2,1,0,0,0);function z6(r,t){var e=r.getTime();return t?e-=1461*24*60*60*1e3:r>=oD&&(e+=1440*60*1e3),(e-(iD+(r.getTimezoneOffset()-V6.getTimezoneOffset())*6e4))/(1440*60*1e3)}function Yb(r){return r.indexOf(".")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function lD(r){return r.indexOf("E")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function cD(r){var t=r<0?12:11,e=Yb(r.toFixed(12));return e.length<=t||(e=r.toPrecision(10),e.length<=t)?e:r.toExponential(5)}function uD(r){var t=Yb(r.toFixed(11));return t.length>(r<0?12:11)||t==="0"||t==="-0"?r.toPrecision(6):t}function Qf(r){var t=Math.floor(Math.log(Math.abs(r))*Math.LOG10E),e;return t>=-4&&t<=-1?e=r.toPrecision(10+t):Math.abs(t)<=9?e=cD(r):t===10?e=r.toFixed(10).substr(0,12):e=uD(r),Yb(lD(e.toUpperCase()))}function $l(r,t){switch(typeof r){case"string":return r;case"boolean":return r?"TRUE":"FALSE";case"number":return(r|0)===r?r.toString(10):Qf(r);case"undefined":return"";case"object":if(r==null)return"";if(r instanceof Date)return wa(14,z6(r,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+r)}function fD(r,t){t[0]-=581;var e=r.getDay();return r<60&&(e=(e+6)%7),e}function hD(r,t,e,n){var s="",i=0,a=0,l=e.y,c,o=0;switch(r){case 98:l=e.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,o=2;break;default:c=l%1e4,o=4;break}break;case 109:switch(t.length){case 1:case 2:c=e.m,o=t.length;break;case 3:return Ug[e.m-1][1];case 5:return Ug[e.m-1][0];default:return Ug[e.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=e.d,o=t.length;break;case 3:return z_[e.q][0];default:return z_[e.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(e.H+11)%12,o=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=e.H,o=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=e.M,o=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return e.u===0&&(t=="s"||t=="ss")?Ba(e.S,t.length):(n>=2?a=n===3?1e3:100:a=n===1?10:1,i=Math.round(a*(e.S+e.u)),i>=60*a&&(i=0),t==="s"?i===0?"0":""+i/a:(s=Ba(i,2+n),t==="ss"?s.substr(0,2):"."+s.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=e.D*24+e.H;break;case"[m]":case"[mm]":c=(e.D*24+e.H)*60+e.M;break;case"[s]":case"[ss]":c=((e.D*24+e.H)*60+e.M)*60+Math.round(e.S+e.u);break;default:throw"bad abstime format: "+t}o=t.length===3?1:2;break;case 101:c=l,o=1;break}var u=o>0?Ba(c,o):"";return u}function Io(r){var t=3;if(r.length<=t)return r;for(var e=r.length%t,n=r.substr(0,e);e!=r.length;e+=t)n+=(n.length>0?",":"")+r.substr(e,t);return n}var H6=/%/g;function dD(r,t,e){var n=t.replace(H6,""),s=t.length-n.length;return Ui(r,n,e*Math.pow(10,2*s))+cn("%",s)}function pD(r,t,e){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Ui(r,t.substr(0,n),e/Math.pow(10,3*(t.length-n)))}function $6(r,t){var e,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+$6(r,-t);var s=r.indexOf(".");s===-1&&(s=r.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%s;if(i<0&&(i+=s),e=(t/Math.pow(10,i)).toPrecision(n+1+(s+i)%s),e.indexOf("e")===-1){var a=Math.floor(Math.log(t)*Math.LOG10E);for(e.indexOf(".")===-1?e=e.charAt(0)+"."+e.substr(1)+"E+"+(a-e.length+i):e+="E+"+(a-i);e.substr(0,2)==="0.";)e=e.charAt(0)+e.substr(2,s)+"."+e.substr(2+s),e=e.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");e=e.replace(/\+-/,"-")}e=e.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,o,u){return c+o+u.substr(0,(s+i)%s)+"."+u.substr(i)+"E"})}else e=t.toExponential(n);return r.match(/E\+00$/)&&e.match(/e[+-]\d$/)&&(e=e.substr(0,e.length-1)+"0"+e.charAt(e.length-1)),r.match(/E\-/)&&e.match(/e\+/)&&(e=e.replace(/e\+/,"e")),e.replace("e","E")}var q6=/# (\?+)( ?)\/( ?)(\d+)/;function mD(r,t,e){var n=parseInt(r[4],10),s=Math.round(t*n),i=Math.floor(s/n),a=s-i*n,l=n;return e+(i===0?"":""+i)+" "+(a===0?cn(" ",r[1].length+1+r[4].length):Xb(a,r[1].length)+r[2]+"/"+r[3]+Ba(l,r[4].length))}function gD(r,t,e){return e+(t===0?"":""+t)+cn(" ",r[1].length+2+r[4].length)}var G6=/^#*0*\.([0#]+)/,W6=/\).*[0#]/,X6=/\(###\) ###\\?-####/;function ks(r){for(var t="",e,n=0;n!=r.length;++n)switch(e=r.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(e)}return t}function $_(r,t){var e=Math.pow(10,t);return""+Math.round(r*e)/e}function q_(r,t){var e=r-Math.floor(r),n=Math.pow(10,t);return t<(""+Math.round(e*n)).length?0:Math.round(e*n)}function bD(r,t){return t<(""+Math.round((r-Math.floor(r))*Math.pow(10,t))).length?1:0}function xD(r){return r<2147483647&&r>-2147483648?""+(r>=0?r|0:r-1|0):""+Math.floor(r)}function ba(r,t,e){if(r.charCodeAt(0)===40&&!t.match(W6)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return e>=0?ba("n",n,e):"("+ba("n",n,-e)+")"}if(t.charCodeAt(t.length-1)===44)return pD(r,t,e);if(t.indexOf("%")!==-1)return dD(r,t,e);if(t.indexOf("E")!==-1)return $6(t,e);if(t.charCodeAt(0)===36)return"$"+ba(r,t.substr(t.charAt(1)==" "?2:1),e);var s,i,a,l,c=Math.abs(e),o=e<0?"-":"";if(t.match(/^00+$/))return o+Oc(c,t.length);if(t.match(/^[#?]+$/))return s=Oc(e,0),s==="0"&&(s=""),s.length>t.length?s:ks(t.substr(0,t.length-s.length))+s;if(i=t.match(q6))return mD(i,c,o);if(t.match(/^#+0+$/))return o+Oc(c,t.length-t.indexOf("0"));if(i=t.match(G6))return s=$_(e,i[1].length).replace(/^([^\.]+)$/,"$1."+ks(i[1])).replace(/\.$/,"."+ks(i[1])).replace(/\.(\d*)$/,function(b,x){return"."+x+cn("0",ks(i[1]).length-x.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return o+$_(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return o+Io(Oc(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return e<0?"-"+ba(r,t,-e):Io(""+(Math.floor(e)+bD(e,i[1].length)))+"."+Ba(q_(e,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return ba(r,t.replace(/^#,#*,/,""),e);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=Xc(ba(r,t.replace(/[\\-]/g,""),e)),a=0,Xc(Xc(t.replace(/\\/g,"")).replace(/[0#]/g,function(b){return a<s.length?s.charAt(a++):b==="0"?"0":""}));if(t.match(X6))return s=ba(r,"##########",e),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(i[4].length,7),l=V0(c,Math.pow(10,a)-1,!1),s=""+o,u=Ui("n",i[1],l[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),s+=u+i[2]+"/"+i[3],u=B0(l[2],a),u.length<i[4].length&&(u=ks(i[4].substr(i[4].length-u.length))+u),s+=u,s;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(i[1].length,i[4].length),7),l=V0(c,Math.pow(10,a)-1,!0),o+(l[0]||(l[1]?"":"0"))+" "+(l[1]?Xb(l[1],a)+i[2]+"/"+i[3]+B0(l[2],a):cn(" ",2*a+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return s=Oc(e,0),t.length<=s.length?s:ks(t.substr(0,t.length-s.length))+s;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){s=""+e.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),a=s.indexOf(".");var p=t.indexOf(".")-a,h=t.length-s.length-p;return ks(t.substr(0,p)+s+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return a=q_(e,i[1].length),e<0?"-"+ba(r,t,-e):Io(xD(e)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?Ba(0,3-b.length):"")+b})+"."+Ba(a,i[1].length);switch(t){case"###,##0.00":return ba(r,"#,##0.00",e);case"###,###":case"##,###":case"#,###":var d=Io(Oc(c,0));return d!=="0"?o+d:"";case"###,###.00":return ba(r,"###,##0.00",e).replace(/^0\./,".");case"#,###.00":return ba(r,"#,##0.00",e).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function yD(r,t,e){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Ui(r,t.substr(0,n),e/Math.pow(10,3*(t.length-n)))}function vD(r,t,e){var n=t.replace(H6,""),s=t.length-n.length;return Ui(r,n,e*Math.pow(10,2*s))+cn("%",s)}function Y6(r,t){var e,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Y6(r,-t);var s=r.indexOf(".");s===-1&&(s=r.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%s;if(i<0&&(i+=s),e=(t/Math.pow(10,i)).toPrecision(n+1+(s+i)%s),!e.match(/[Ee]/)){var a=Math.floor(Math.log(t)*Math.LOG10E);e.indexOf(".")===-1?e=e.charAt(0)+"."+e.substr(1)+"E+"+(a-e.length+i):e+="E+"+(a-i),e=e.replace(/\+-/,"-")}e=e.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,o,u){return c+o+u.substr(0,(s+i)%s)+"."+u.substr(i)+"E"})}else e=t.toExponential(n);return r.match(/E\+00$/)&&e.match(/e[+-]\d$/)&&(e=e.substr(0,e.length-1)+"0"+e.charAt(e.length-1)),r.match(/E\-/)&&e.match(/e\+/)&&(e=e.replace(/e\+/,"e")),e.replace("e","E")}function ni(r,t,e){if(r.charCodeAt(0)===40&&!t.match(W6)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return e>=0?ni("n",n,e):"("+ni("n",n,-e)+")"}if(t.charCodeAt(t.length-1)===44)return yD(r,t,e);if(t.indexOf("%")!==-1)return vD(r,t,e);if(t.indexOf("E")!==-1)return Y6(t,e);if(t.charCodeAt(0)===36)return"$"+ni(r,t.substr(t.charAt(1)==" "?2:1),e);var s,i,a,l,c=Math.abs(e),o=e<0?"-":"";if(t.match(/^00+$/))return o+Ba(c,t.length);if(t.match(/^[#?]+$/))return s=""+e,e===0&&(s=""),s.length>t.length?s:ks(t.substr(0,t.length-s.length))+s;if(i=t.match(q6))return gD(i,c,o);if(t.match(/^#+0+$/))return o+Ba(c,t.length-t.indexOf("0"));if(i=t.match(G6))return s=(""+e).replace(/^([^\.]+)$/,"$1."+ks(i[1])).replace(/\.$/,"."+ks(i[1])),s=s.replace(/\.(\d*)$/,function(b,x){return"."+x+cn("0",ks(i[1]).length-x.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return o+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return o+Io(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return e<0?"-"+ni(r,t,-e):Io(""+e)+"."+cn("0",i[1].length);if(i=t.match(/^#,#*,#0/))return ni(r,t.replace(/^#,#*,/,""),e);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=Xc(ni(r,t.replace(/[\\-]/g,""),e)),a=0,Xc(Xc(t.replace(/\\/g,"")).replace(/[0#]/g,function(b){return a<s.length?s.charAt(a++):b==="0"?"0":""}));if(t.match(X6))return s=ni(r,"##########",e),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(i[4].length,7),l=V0(c,Math.pow(10,a)-1,!1),s=""+o,u=Ui("n",i[1],l[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),s+=u+i[2]+"/"+i[3],u=B0(l[2],a),u.length<i[4].length&&(u=ks(i[4].substr(i[4].length-u.length))+u),s+=u,s;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(i[1].length,i[4].length),7),l=V0(c,Math.pow(10,a)-1,!0),o+(l[0]||(l[1]?"":"0"))+" "+(l[1]?Xb(l[1],a)+i[2]+"/"+i[3]+B0(l[2],a):cn(" ",2*a+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return s=""+e,t.length<=s.length?s:ks(t.substr(0,t.length-s.length))+s;if(i=t.match(/^([#0]+)\.([#0]+)$/)){s=""+e.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),a=s.indexOf(".");var p=t.indexOf(".")-a,h=t.length-s.length-p;return ks(t.substr(0,p)+s+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return e<0?"-"+ni(r,t,-e):Io(""+e).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?Ba(0,3-b.length):"")+b})+"."+Ba(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var d=Io(""+c);return d!=="0"?o+d:"";default:if(t.match(/\.[0#?]*$/))return ni(r,t.slice(0,t.lastIndexOf(".")),e)+ks(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Ui(r,t,e){return(e|0)===e?ni(r,t,e):ba(r,t,e)}function wD(r){for(var t=[],e=!1,n=0,s=0;n<r.length;++n)switch(r.charCodeAt(n)){case 34:e=!e;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=r.substr(s,n-s),s=n+1}if(t[t.length]=r.substr(s),e===!0)throw new Error("Format |"+r+"| unterminated string ");return t}var K6=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function bu(r){for(var t=0,e="",n="";t<r.length;)switch(e=r.charAt(t)){case"G":U0(r,t)&&(t+=6),t++;break;case'"':for(;r.charCodeAt(++t)!==34&&t<r.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(r.charAt(t+1)==="1"||r.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(r.substr(t,3).toUpperCase()==="A/P"||r.substr(t,5).toUpperCase()==="AM/PM"||r.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=e;r.charAt(t++)!=="]"&&t<r.length;)n+=r.charAt(t);if(n.match(K6))return!0;break;case".":case"0":case"#":for(;t<r.length&&("0#?.,E+-%".indexOf(e=r.charAt(++t))>-1||e=="\\"&&r.charAt(t+1)=="-"&&"0#".indexOf(r.charAt(t+2))>-1););break;case"?":for(;r.charAt(++t)===e;);break;case"*":++t,(r.charAt(t)==" "||r.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<r.length&&"0123456789".indexOf(r.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function _D(r,t,e,n){for(var s=[],i="",a=0,l="",c="t",o,u,p,h="H";a<r.length;)switch(l=r.charAt(a)){case"G":if(!U0(r,a))throw new Error("unrecognized character "+l+" in "+r);s[s.length]={t:"G",v:"General"},a+=7;break;case'"':for(i="";(p=r.charCodeAt(++a))!==34&&a<r.length;)i+=String.fromCharCode(p);s[s.length]={t:"t",v:i},++a;break;case"\\":var d=r.charAt(++a),b=d==="("||d===")"?d:"t";s[s.length]={t:b,v:d},++a;break;case"_":s[s.length]={t:"t",v:" "},a+=2;break;case"@":s[s.length]={t:"T",v:t},++a;break;case"B":case"b":if(r.charAt(a+1)==="1"||r.charAt(a+1)==="2"){if(o==null&&(o=Ml(t,e,r.charAt(a+1)==="2"),o==null))return"";s[s.length]={t:"X",v:r.substr(a,2)},c=l,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||o==null&&(o=Ml(t,e),o==null))return"";for(i=l;++a<r.length&&r.charAt(a).toLowerCase()===l;)i+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=h),s[s.length]={t:l,v:i},c=l;break;case"A":case"a":case"":var x={t:l,v:l};if(o==null&&(o=Ml(t,e)),r.substr(a,3).toUpperCase()==="A/P"?(o!=null&&(x.v=o.H>=12?"P":"A"),x.t="T",h="h",a+=3):r.substr(a,5).toUpperCase()==="AM/PM"?(o!=null&&(x.v=o.H>=12?"PM":"AM"),x.t="T",a+=5,h="h"):r.substr(a,5).toUpperCase()==="/"?(o!=null&&(x.v=o.H>=12?"":""),x.t="T",a+=5,h="h"):(x.t="t",++a),o==null&&x.t==="T")return"";s[s.length]=x,c=l;break;case"[":for(i=l;r.charAt(a++)!=="]"&&a<r.length;)i+=r.charAt(a);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(K6)){if(o==null&&(o=Ml(t,e),o==null))return"";s[s.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",bu(r)||(s[s.length]={t:"t",v:i}));break;case".":if(o!=null){for(i=l;++a<r.length&&(l=r.charAt(a))==="0";)i+=l;s[s.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++a<r.length&&"0#?.,E+-%".indexOf(l=r.charAt(a))>-1;)i+=l;s[s.length]={t:"n",v:i};break;case"?":for(i=l;r.charAt(++a)===l;)i+=l;s[s.length]={t:l,v:i},c=l;break;case"*":++a,(r.charAt(a)==" "||r.charAt(a)=="*")&&++a;break;case"(":case")":s[s.length]={t:n===1?"t":l,v:l},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;a<r.length&&"0123456789".indexOf(r.charAt(++a))>-1;)i+=r.charAt(a);s[s.length]={t:"D",v:i};break;case" ":s[s.length]={t:l,v:l},++a;break;case"$":s[s.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+r);s[s.length]={t:"t",v:l},++a;break}var g=0,w=0,v;for(a=s.length-1,c="t";a>=0;--a)switch(s[a].t){case"h":case"H":s[a].t=h,c="h",g<1&&(g=1);break;case"s":(v=s[a].v.match(/\.0+$/))&&(w=Math.max(w,v[0].length-1)),g<3&&(g=3);case"d":case"y":case"M":case"e":c=s[a].t;break;case"m":c==="s"&&(s[a].t="M",g<2&&(g=2));break;case"X":break;case"Z":g<1&&s[a].v.match(/[Hh]/)&&(g=1),g<2&&s[a].v.match(/[Mm]/)&&(g=2),g<3&&s[a].v.match(/[Ss]/)&&(g=3)}switch(g){case 0:break;case 1:o.u>=.5&&(o.u=0,++o.S),o.S>=60&&(o.S=0,++o.M),o.M>=60&&(o.M=0,++o.H);break;case 2:o.u>=.5&&(o.u=0,++o.S),o.S>=60&&(o.S=0,++o.M);break}var k="",R;for(a=0;a<s.length;++a)switch(s[a].t){case"t":case"T":case" ":case"D":break;case"X":s[a].v="",s[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[a].v=hD(s[a].t.charCodeAt(0),s[a].v,o,w),s[a].t="t";break;case"n":case"?":for(R=a+1;s[R]!=null&&((l=s[R].t)==="?"||l==="D"||(l===" "||l==="t")&&s[R+1]!=null&&(s[R+1].t==="?"||s[R+1].t==="t"&&s[R+1].v==="/")||s[a].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(s[R].v==="/"||s[R].v===" "&&s[R+1]!=null&&s[R+1].t=="?"));)s[a].v+=s[R].v,s[R]={v:"",t:";"},++R;k+=s[a].v,a=R-1;break;case"G":s[a].t="t",s[a].v=$l(t,e);break}var L="",G,V;if(k.length>0){k.charCodeAt(0)==40?(G=t<0&&k.charCodeAt(0)===45?-t:t,V=Ui("n",k,G)):(G=t<0&&n>1?-t:t,V=Ui("n",k,G),G<0&&s[0]&&s[0].t=="t"&&(V=V.substr(1),s[0].v="-"+s[0].v)),R=V.length-1;var O=s.length;for(a=0;a<s.length;++a)if(s[a]!=null&&s[a].t!="t"&&s[a].v.indexOf(".")>-1){O=a;break}var F=s.length;if(O===s.length&&V.indexOf("E")===-1){for(a=s.length-1;a>=0;--a)s[a]==null||"n?".indexOf(s[a].t)===-1||(R>=s[a].v.length-1?(R-=s[a].v.length,s[a].v=V.substr(R+1,s[a].v.length)):R<0?s[a].v="":(s[a].v=V.substr(0,R+1),R=-1),s[a].t="t",F=a);R>=0&&F<s.length&&(s[F].v=V.substr(0,R+1)+s[F].v)}else if(O!==s.length&&V.indexOf("E")===-1){for(R=V.indexOf(".")-1,a=O;a>=0;--a)if(!(s[a]==null||"n?".indexOf(s[a].t)===-1)){for(u=s[a].v.indexOf(".")>-1&&a===O?s[a].v.indexOf(".")-1:s[a].v.length-1,L=s[a].v.substr(u+1);u>=0;--u)R>=0&&(s[a].v.charAt(u)==="0"||s[a].v.charAt(u)==="#")&&(L=V.charAt(R--)+L);s[a].v=L,s[a].t="t",F=a}for(R>=0&&F<s.length&&(s[F].v=V.substr(0,R+1)+s[F].v),R=V.indexOf(".")+1,a=O;a<s.length;++a)if(!(s[a]==null||"n?(".indexOf(s[a].t)===-1&&a!==O)){for(u=s[a].v.indexOf(".")>-1&&a===O?s[a].v.indexOf(".")+1:0,L=s[a].v.substr(0,u);u<s[a].v.length;++u)R<V.length&&(L+=V.charAt(R++));s[a].v=L,s[a].t="t",F=a}}}for(a=0;a<s.length;++a)s[a]!=null&&"n?".indexOf(s[a].t)>-1&&(G=n>1&&t<0&&a>0&&s[a-1].v==="-"?-t:t,s[a].v=Ui(s[a].t,s[a].v,G),s[a].t="t");var B="";for(a=0;a!==s.length;++a)s[a]!=null&&(B+=s[a].v);return B}var G_=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function W_(r,t){if(t==null)return!1;var e=parseFloat(t[2]);switch(t[1]){case"=":if(r==e)return!0;break;case">":if(r>e)return!0;break;case"<":if(r<e)return!0;break;case"<>":if(r!=e)return!0;break;case">=":if(r>=e)return!0;break;case"<=":if(r<=e)return!0;break}return!1}function SD(r,t){var e=wD(r),n=e.length,s=e[n-1].indexOf("@");if(n<4&&s>-1&&--n,e.length>4)throw new Error("cannot find right format for |"+e.join("|")+"|");if(typeof t!="number")return[4,e.length===4||s>-1?e[e.length-1]:"@"];switch(e.length){case 1:e=s>-1?["General","General","General",e[0]]:[e[0],e[0],e[0],"@"];break;case 2:e=s>-1?[e[0],e[0],e[0],e[1]]:[e[0],e[1],e[0],"@"];break;case 3:e=s>-1?[e[0],e[1],e[0],e[2]]:[e[0],e[1],e[2],"@"];break}var i=t>0?e[0]:t<0?e[1]:e[2];if(e[0].indexOf("[")===-1&&e[1].indexOf("[")===-1)return[n,i];if(e[0].match(/\[[=<>]/)!=null||e[1].match(/\[[=<>]/)!=null){var a=e[0].match(G_),l=e[1].match(G_);return W_(t,a)?[n,e[0]]:W_(t,l)?[n,e[1]]:[n,e[a!=null&&l!=null?2:1]]}return[n,i]}function wa(r,t,e){e==null&&(e={});var n="";switch(typeof r){case"string":r=="m/d/yy"&&e.dateNF?n=e.dateNF:n=r;break;case"number":r==14&&e.dateNF?n=e.dateNF:n=(e.table!=null?e.table:fr)[r],n==null&&(n=e.table&&e.table[H_[r]]||fr[H_[r]]),n==null&&(n=aD[r]||"General");break}if(U0(n,0))return $l(t,e);t instanceof Date&&(t=z6(t,e.date1904));var s=SD(n,t);if(U0(s[1]))return $l(t,e);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return _D(s[1],t,e,s[0])}function Fl(r,t){if(typeof t!="number"){t=+t||-1;for(var e=0;e<392;++e){if(fr[e]==null){t<0&&(t=e);continue}if(fr[e]==r){t=e;break}}t<0&&(t=391)}return fr[t]=r,t}function Q6(){fr=sD()}var kD={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},Z6=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function TD(r){var t=typeof r=="number"?fr[r]:r;return t=t.replace(Z6,"(\\d+)"),new RegExp("^"+t+"$")}function ED(r,t,e){var n=-1,s=-1,i=-1,a=-1,l=-1,c=-1;(t.match(Z6)||[]).forEach(function(p,h){var d=parseInt(e[h+1],10);switch(p.toLowerCase().charAt(0)){case"y":n=d;break;case"d":i=d;break;case"h":a=d;break;case"s":c=d;break;case"m":a>=0?l=d:s=d;break}}),c>=0&&l==-1&&s>=0&&(l=s,s=-1);var o=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);o.length==7&&(o="0"+o),o.length==8&&(o="20"+o);var u=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return a==-1&&l==-1&&c==-1?o:n==-1&&s==-1&&i==-1?u:o+"T"+u}var AD=(function(){var r={};r.version="1.2.0";function t(){for(var V=0,O=new Array(256),F=0;F!=256;++F)V=F,V=V&1?-306674912^V>>>1:V>>>1,V=V&1?-306674912^V>>>1:V>>>1,V=V&1?-306674912^V>>>1:V>>>1,V=V&1?-306674912^V>>>1:V>>>1,V=V&1?-306674912^V>>>1:V>>>1,V=V&1?-306674912^V>>>1:V>>>1,V=V&1?-306674912^V>>>1:V>>>1,V=V&1?-306674912^V>>>1:V>>>1,O[F]=V;return typeof Int32Array<"u"?new Int32Array(O):O}var e=t();function n(V){var O=0,F=0,B=0,W=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(B=0;B!=256;++B)W[B]=V[B];for(B=0;B!=256;++B)for(F=V[B],O=256+B;O<4096;O+=256)F=W[O]=F>>>8^V[F&255];var P=[];for(B=1;B!=16;++B)P[B-1]=typeof Int32Array<"u"?W.subarray(B*256,B*256+256):W.slice(B*256,B*256+256);return P}var s=n(e),i=s[0],a=s[1],l=s[2],c=s[3],o=s[4],u=s[5],p=s[6],h=s[7],d=s[8],b=s[9],x=s[10],g=s[11],w=s[12],v=s[13],k=s[14];function R(V,O){for(var F=O^-1,B=0,W=V.length;B<W;)F=F>>>8^e[(F^V.charCodeAt(B++))&255];return~F}function L(V,O){for(var F=O^-1,B=V.length-15,W=0;W<B;)F=k[V[W++]^F&255]^v[V[W++]^F>>8&255]^w[V[W++]^F>>16&255]^g[V[W++]^F>>>24]^x[V[W++]]^b[V[W++]]^d[V[W++]]^h[V[W++]]^p[V[W++]]^u[V[W++]]^o[V[W++]]^c[V[W++]]^l[V[W++]]^a[V[W++]]^i[V[W++]]^e[V[W++]];for(B+=15;W<B;)F=F>>>8^e[(F^V[W++])&255];return~F}function G(V,O){for(var F=O^-1,B=0,W=V.length,P=0,N=0;B<W;)P=V.charCodeAt(B++),P<128?F=F>>>8^e[(F^P)&255]:P<2048?(F=F>>>8^e[(F^(192|P>>6&31))&255],F=F>>>8^e[(F^(128|P&63))&255]):P>=55296&&P<57344?(P=(P&1023)+64,N=V.charCodeAt(B++)&1023,F=F>>>8^e[(F^(240|P>>8&7))&255],F=F>>>8^e[(F^(128|P>>2&63))&255],F=F>>>8^e[(F^(128|N>>6&15|(P&3)<<4))&255],F=F>>>8^e[(F^(128|N&63))&255]):(F=F>>>8^e[(F^(224|P>>12&15))&255],F=F>>>8^e[(F^(128|P>>6&63))&255],F=F>>>8^e[(F^(128|P&63))&255]);return~F}return r.table=e,r.bstr=R,r.buf=L,r.str=G,r})(),Nr=(function(){var t={};t.version="1.2.1";function e(ce,ye){for(var ie=ce.split("/"),fe=ye.split("/"),he=0,me=0,Ae=Math.min(ie.length,fe.length);he<Ae;++he){if(me=ie[he].length-fe[he].length)return me;if(ie[he]!=fe[he])return ie[he]<fe[he]?-1:1}return ie.length-fe.length}function n(ce){if(ce.charAt(ce.length-1)=="/")return ce.slice(0,-1).indexOf("/")===-1?ce:n(ce.slice(0,-1));var ye=ce.lastIndexOf("/");return ye===-1?ce:ce.slice(0,ye+1)}function s(ce){if(ce.charAt(ce.length-1)=="/")return s(ce.slice(0,-1));var ye=ce.lastIndexOf("/");return ye===-1?ce:ce.slice(ye+1)}function i(ce,ye){typeof ye=="string"&&(ye=new Date(ye));var ie=ye.getHours();ie=ie<<6|ye.getMinutes(),ie=ie<<5|ye.getSeconds()>>>1,ce.write_shift(2,ie);var fe=ye.getFullYear()-1980;fe=fe<<4|ye.getMonth()+1,fe=fe<<5|ye.getDate(),ce.write_shift(2,fe)}function a(ce){var ye=ce.read_shift(2)&65535,ie=ce.read_shift(2)&65535,fe=new Date,he=ie&31;ie>>>=5;var me=ie&15;ie>>>=4,fe.setMilliseconds(0),fe.setFullYear(ie+1980),fe.setMonth(me-1),fe.setDate(he);var Ae=ye&31;ye>>>=5;var Le=ye&63;return ye>>>=6,fe.setHours(ye),fe.setMinutes(Le),fe.setSeconds(Ae<<1),fe}function l(ce){Qn(ce,0);for(var ye={},ie=0;ce.l<=ce.length-4;){var fe=ce.read_shift(2),he=ce.read_shift(2),me=ce.l+he,Ae={};switch(fe){case 21589:ie=ce.read_shift(1),ie&1&&(Ae.mtime=ce.read_shift(4)),he>5&&(ie&2&&(Ae.atime=ce.read_shift(4)),ie&4&&(Ae.ctime=ce.read_shift(4))),Ae.mtime&&(Ae.mt=new Date(Ae.mtime*1e3));break}ce.l=me,ye[fe]=Ae}return ye}var c;function o(){return c||(c={})}function u(ce,ye){if(ce[0]==80&&ce[1]==75)return nt(ce,ye);if((ce[0]|32)==109&&(ce[1]|32)==105)return wt(ce,ye);if(ce.length<512)throw new Error("CFB file size "+ce.length+" < 512");var ie=3,fe=512,he=0,me=0,Ae=0,Le=0,De=0,Fe=[],qe=ce.slice(0,512);Qn(qe,0);var xt=p(qe);switch(ie=xt[0],ie){case 3:fe=512;break;case 4:fe=4096;break;case 0:if(xt[1]==0)return nt(ce,ye);default:throw new Error("Major Version: Expected 3 or 4 saw "+ie)}fe!==512&&(qe=ce.slice(0,fe),Qn(qe,28));var vt=ce.slice(0,fe);h(qe,ie);var Ct=qe.read_shift(4,"i");if(ie===3&&Ct!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ct);qe.l+=4,Ae=qe.read_shift(4,"i"),qe.l+=4,qe.chk("00100000","Mini Stream Cutoff Size: "),Le=qe.read_shift(4,"i"),he=qe.read_shift(4,"i"),De=qe.read_shift(4,"i"),me=qe.read_shift(4,"i");for(var be=-1,Me=0;Me<109&&(be=qe.read_shift(4,"i"),!(be<0));++Me)Fe[Me]=be;var Ke=d(ce,fe);g(De,me,Ke,fe,Fe);var gt=v(Ke,Ae,Fe,fe);gt[Ae].name="!Directory",he>0&&Le!==N&&(gt[Le].name="!MiniFAT"),gt[Fe[0]].name="!FAT",gt.fat_addrs=Fe,gt.ssz=fe;var jt={},St=[],Dt=[],Zt=[];k(Ae,gt,Ke,St,he,jt,Dt,Le),b(Dt,Zt,St),St.shift();var Wt={FileIndex:Dt,FullPaths:Zt};return ye&&ye.raw&&(Wt.raw={header:vt,sectors:Ke}),Wt}function p(ce){if(ce[ce.l]==80&&ce[ce.l+1]==75)return[0,0];ce.chk(D,"Header Signature: "),ce.l+=16;var ye=ce.read_shift(2,"u");return[ce.read_shift(2,"u"),ye]}function h(ce,ye){var ie=9;switch(ce.l+=2,ie=ce.read_shift(2)){case 9:if(ye!=3)throw new Error("Sector Shift: Expected 9 saw "+ie);break;case 12:if(ye!=4)throw new Error("Sector Shift: Expected 12 saw "+ie);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ie)}ce.chk("0600","Mini Sector Shift: "),ce.chk("000000000000","Reserved: ")}function d(ce,ye){for(var ie=Math.ceil(ce.length/ye)-1,fe=[],he=1;he<ie;++he)fe[he-1]=ce.slice(he*ye,(he+1)*ye);return fe[ie-1]=ce.slice(ie*ye),fe}function b(ce,ye,ie){for(var fe=0,he=0,me=0,Ae=0,Le=0,De=ie.length,Fe=[],qe=[];fe<De;++fe)Fe[fe]=qe[fe]=fe,ye[fe]=ie[fe];for(;Le<qe.length;++Le)fe=qe[Le],he=ce[fe].L,me=ce[fe].R,Ae=ce[fe].C,Fe[fe]===fe&&(he!==-1&&Fe[he]!==he&&(Fe[fe]=Fe[he]),me!==-1&&Fe[me]!==me&&(Fe[fe]=Fe[me])),Ae!==-1&&(Fe[Ae]=fe),he!==-1&&fe!=Fe[fe]&&(Fe[he]=Fe[fe],qe.lastIndexOf(he)<Le&&qe.push(he)),me!==-1&&fe!=Fe[fe]&&(Fe[me]=Fe[fe],qe.lastIndexOf(me)<Le&&qe.push(me));for(fe=1;fe<De;++fe)Fe[fe]===fe&&(me!==-1&&Fe[me]!==me?Fe[fe]=Fe[me]:he!==-1&&Fe[he]!==he&&(Fe[fe]=Fe[he]));for(fe=1;fe<De;++fe)if(ce[fe].type!==0){if(Le=fe,Le!=Fe[Le])do Le=Fe[Le],ye[fe]=ye[Le]+"/"+ye[fe];while(Le!==0&&Fe[Le]!==-1&&Le!=Fe[Le]);Fe[fe]=-1}for(ye[0]+="/",fe=1;fe<De;++fe)ce[fe].type!==2&&(ye[fe]+="/")}function x(ce,ye,ie){for(var fe=ce.start,he=ce.size,me=[],Ae=fe;ie&&he>0&&Ae>=0;)me.push(ye.slice(Ae*P,Ae*P+P)),he-=P,Ae=El(ie,Ae*4);return me.length===0?In(0):Mo(me).slice(0,ce.size)}function g(ce,ye,ie,fe,he){var me=N;if(ce===N){if(ye!==0)throw new Error("DIFAT chain shorter than expected")}else if(ce!==-1){var Ae=ie[ce],Le=(fe>>>2)-1;if(!Ae)return;for(var De=0;De<Le&&(me=El(Ae,De*4))!==N;++De)he.push(me);g(El(Ae,fe-4),ye-1,ie,fe,he)}}function w(ce,ye,ie,fe,he){var me=[],Ae=[];he||(he=[]);var Le=fe-1,De=0,Fe=0;for(De=ye;De>=0;){he[De]=!0,me[me.length]=De,Ae.push(ce[De]);var qe=ie[Math.floor(De*4/fe)];if(Fe=De*4&Le,fe<4+Fe)throw new Error("FAT boundary crossed: "+De+" 4 "+fe);if(!ce[qe])break;De=El(ce[qe],Fe)}return{nodes:me,data:n4([Ae])}}function v(ce,ye,ie,fe){var he=ce.length,me=[],Ae=[],Le=[],De=[],Fe=fe-1,qe=0,xt=0,vt=0,Ct=0;for(qe=0;qe<he;++qe)if(Le=[],vt=qe+ye,vt>=he&&(vt-=he),!Ae[vt]){De=[];var be=[];for(xt=vt;xt>=0;){be[xt]=!0,Ae[xt]=!0,Le[Le.length]=xt,De.push(ce[xt]);var Me=ie[Math.floor(xt*4/fe)];if(Ct=xt*4&Fe,fe<4+Ct)throw new Error("FAT boundary crossed: "+xt+" 4 "+fe);if(!ce[Me]||(xt=El(ce[Me],Ct),be[xt]))break}me[vt]={nodes:Le,data:n4([De])}}return me}function k(ce,ye,ie,fe,he,me,Ae,Le){for(var De=0,Fe=fe.length?2:0,qe=ye[ce].data,xt=0,vt=0,Ct;xt<qe.length;xt+=128){var be=qe.slice(xt,xt+128);Qn(be,64),vt=be.read_shift(2),Ct=ex(be,0,vt-Fe),fe.push(Ct);var Me={name:Ct,type:be.read_shift(1),color:be.read_shift(1),L:be.read_shift(4,"i"),R:be.read_shift(4,"i"),C:be.read_shift(4,"i"),clsid:be.read_shift(16),state:be.read_shift(4,"i"),start:0,size:0},Ke=be.read_shift(2)+be.read_shift(2)+be.read_shift(2)+be.read_shift(2);Ke!==0&&(Me.ct=R(be,be.l-8));var gt=be.read_shift(2)+be.read_shift(2)+be.read_shift(2)+be.read_shift(2);gt!==0&&(Me.mt=R(be,be.l-8)),Me.start=be.read_shift(4,"i"),Me.size=be.read_shift(4,"i"),Me.size<0&&Me.start<0&&(Me.size=Me.type=0,Me.start=N,Me.name=""),Me.type===5?(De=Me.start,he>0&&De!==N&&(ye[De].name="!StreamData")):Me.size>=4096?(Me.storage="fat",ye[Me.start]===void 0&&(ye[Me.start]=w(ie,Me.start,ye.fat_addrs,ye.ssz)),ye[Me.start].name=Me.name,Me.content=ye[Me.start].data.slice(0,Me.size)):(Me.storage="minifat",Me.size<0?Me.size=0:De!==N&&Me.start!==N&&ye[De]&&(Me.content=x(Me,ye[De].data,(ye[Le]||{}).data))),Me.content&&Qn(Me.content,0),me[Ct]=Me,Ae.push(Me)}}function R(ce,ye){return new Date((ta(ce,ye+4)/1e7*Math.pow(2,32)+ta(ce,ye)/1e7-11644473600)*1e3)}function L(ce,ye){return o(),u(c.readFileSync(ce),ye)}function G(ce,ye){var ie=ye&&ye.type;switch(ie||Er&&Buffer.isBuffer(ce)&&(ie="buffer"),ie||"base64"){case"file":return L(ce,ye);case"base64":return u(Fa(sa(ce)),ye);case"binary":return u(Fa(ce),ye)}return u(ce,ye)}function V(ce,ye){var ie=ye||{},fe=ie.root||"Root Entry";if(ce.FullPaths||(ce.FullPaths=[]),ce.FileIndex||(ce.FileIndex=[]),ce.FullPaths.length!==ce.FileIndex.length)throw new Error("inconsistent CFB structure");ce.FullPaths.length===0&&(ce.FullPaths[0]=fe+"/",ce.FileIndex[0]={name:fe,type:5}),ie.CLSID&&(ce.FileIndex[0].clsid=ie.CLSID),O(ce)}function O(ce){var ye="Sh33tJ5";if(!Nr.find(ce,"/"+ye)){var ie=In(4);ie[0]=55,ie[1]=ie[3]=50,ie[2]=54,ce.FileIndex.push({name:ye,type:2,content:ie,size:4,L:69,R:69,C:69}),ce.FullPaths.push(ce.FullPaths[0]+ye),F(ce)}}function F(ce,ye){V(ce);for(var ie=!1,fe=!1,he=ce.FullPaths.length-1;he>=0;--he){var me=ce.FileIndex[he];switch(me.type){case 0:fe?ie=!0:(ce.FileIndex.pop(),ce.FullPaths.pop());break;case 1:case 2:case 5:fe=!0,isNaN(me.R*me.L*me.C)&&(ie=!0),me.R>-1&&me.L>-1&&me.R==me.L&&(ie=!0);break;default:ie=!0;break}}if(!(!ie&&!ye)){var Ae=new Date(1987,1,19),Le=0,De=Object.create?Object.create(null):{},Fe=[];for(he=0;he<ce.FullPaths.length;++he)De[ce.FullPaths[he]]=!0,ce.FileIndex[he].type!==0&&Fe.push([ce.FullPaths[he],ce.FileIndex[he]]);for(he=0;he<Fe.length;++he){var qe=n(Fe[he][0]);fe=De[qe],fe||(Fe.push([qe,{name:s(qe).replace("/",""),type:1,clsid:S,ct:Ae,mt:Ae,content:null}]),De[qe]=!0)}for(Fe.sort(function(Ct,be){return e(Ct[0],be[0])}),ce.FullPaths=[],ce.FileIndex=[],he=0;he<Fe.length;++he)ce.FullPaths[he]=Fe[he][0],ce.FileIndex[he]=Fe[he][1];for(he=0;he<Fe.length;++he){var xt=ce.FileIndex[he],vt=ce.FullPaths[he];if(xt.name=s(vt).replace("/",""),xt.L=xt.R=xt.C=-(xt.color=1),xt.size=xt.content?xt.content.length:0,xt.start=0,xt.clsid=xt.clsid||S,he===0)xt.C=Fe.length>1?1:-1,xt.size=0,xt.type=5;else if(vt.slice(-1)=="/"){for(Le=he+1;Le<Fe.length&&n(ce.FullPaths[Le])!=vt;++Le);for(xt.C=Le>=Fe.length?-1:Le,Le=he+1;Le<Fe.length&&n(ce.FullPaths[Le])!=n(vt);++Le);xt.R=Le>=Fe.length?-1:Le,xt.type=1}else n(ce.FullPaths[he+1]||"")==n(vt)&&(xt.R=he+1),xt.type=2}}}function B(ce,ye){var ie=ye||{};if(ie.fileType=="mad")return ze(ce,ie);switch(F(ce),ie.fileType){case"zip":return Oe(ce,ie)}var fe=(function(Ct){for(var be=0,Me=0,Ke=0;Ke<Ct.FileIndex.length;++Ke){var gt=Ct.FileIndex[Ke];if(gt.content){var jt=gt.content.length;jt>0&&(jt<4096?be+=jt+63>>6:Me+=jt+511>>9)}}for(var St=Ct.FullPaths.length+3>>2,Dt=be+7>>3,Zt=be+127>>7,Wt=Dt+Me+St+Zt,Xt=Wt+127>>7,zt=Xt<=109?0:Math.ceil((Xt-109)/127);Wt+Xt+zt+127>>7>Xt;)zt=++Xt<=109?0:Math.ceil((Xt-109)/127);var er=[1,zt,Xt,Zt,St,Me,be,0];return Ct.FileIndex[0].size=be<<6,er[7]=(Ct.FileIndex[0].start=er[0]+er[1]+er[2]+er[3]+er[4]+er[5])+(er[6]+7>>3),er})(ce),he=In(fe[7]<<9),me=0,Ae=0;{for(me=0;me<8;++me)he.write_shift(1,C[me]);for(me=0;me<8;++me)he.write_shift(2,0);for(he.write_shift(2,62),he.write_shift(2,3),he.write_shift(2,65534),he.write_shift(2,9),he.write_shift(2,6),me=0;me<3;++me)he.write_shift(2,0);for(he.write_shift(4,0),he.write_shift(4,fe[2]),he.write_shift(4,fe[0]+fe[1]+fe[2]+fe[3]-1),he.write_shift(4,0),he.write_shift(4,4096),he.write_shift(4,fe[3]?fe[0]+fe[1]+fe[2]-1:N),he.write_shift(4,fe[3]),he.write_shift(-4,fe[1]?fe[0]-1:N),he.write_shift(4,fe[1]),me=0;me<109;++me)he.write_shift(-4,me<fe[2]?fe[1]+me:-1)}if(fe[1])for(Ae=0;Ae<fe[1];++Ae){for(;me<236+Ae*127;++me)he.write_shift(-4,me<fe[2]?fe[1]+me:-1);he.write_shift(-4,Ae===fe[1]-1?N:Ae+1)}var Le=function(Ct){for(Ae+=Ct;me<Ae-1;++me)he.write_shift(-4,me+1);Ct&&(++me,he.write_shift(-4,N))};for(Ae=me=0,Ae+=fe[1];me<Ae;++me)he.write_shift(-4,T.DIFSECT);for(Ae+=fe[2];me<Ae;++me)he.write_shift(-4,T.FATSECT);Le(fe[3]),Le(fe[4]);for(var De=0,Fe=0,qe=ce.FileIndex[0];De<ce.FileIndex.length;++De)qe=ce.FileIndex[De],qe.content&&(Fe=qe.content.length,!(Fe<4096)&&(qe.start=Ae,Le(Fe+511>>9)));for(Le(fe[6]+7>>3);he.l&511;)he.write_shift(-4,T.ENDOFCHAIN);for(Ae=me=0,De=0;De<ce.FileIndex.length;++De)qe=ce.FileIndex[De],qe.content&&(Fe=qe.content.length,!(!Fe||Fe>=4096)&&(qe.start=Ae,Le(Fe+63>>6)));for(;he.l&511;)he.write_shift(-4,T.ENDOFCHAIN);for(me=0;me<fe[4]<<2;++me){var xt=ce.FullPaths[me];if(!xt||xt.length===0){for(De=0;De<17;++De)he.write_shift(4,0);for(De=0;De<3;++De)he.write_shift(4,-1);for(De=0;De<12;++De)he.write_shift(4,0);continue}qe=ce.FileIndex[me],me===0&&(qe.start=qe.size?qe.start-1:N);var vt=me===0&&ie.root||qe.name;if(Fe=2*(vt.length+1),he.write_shift(64,vt,"utf16le"),he.write_shift(2,Fe),he.write_shift(1,qe.type),he.write_shift(1,qe.color),he.write_shift(-4,qe.L),he.write_shift(-4,qe.R),he.write_shift(-4,qe.C),qe.clsid)he.write_shift(16,qe.clsid,"hex");else for(De=0;De<4;++De)he.write_shift(4,0);he.write_shift(4,qe.state||0),he.write_shift(4,0),he.write_shift(4,0),he.write_shift(4,0),he.write_shift(4,0),he.write_shift(4,qe.start),he.write_shift(4,qe.size),he.write_shift(4,0)}for(me=1;me<ce.FileIndex.length;++me)if(qe=ce.FileIndex[me],qe.size>=4096)if(he.l=qe.start+1<<9,Er&&Buffer.isBuffer(qe.content))qe.content.copy(he,he.l,0,qe.size),he.l+=qe.size+511&-512;else{for(De=0;De<qe.size;++De)he.write_shift(1,qe.content[De]);for(;De&511;++De)he.write_shift(1,0)}for(me=1;me<ce.FileIndex.length;++me)if(qe=ce.FileIndex[me],qe.size>0&&qe.size<4096)if(Er&&Buffer.isBuffer(qe.content))qe.content.copy(he,he.l,0,qe.size),he.l+=qe.size+63&-64;else{for(De=0;De<qe.size;++De)he.write_shift(1,qe.content[De]);for(;De&63;++De)he.write_shift(1,0)}if(Er)he.l=he.length;else for(;he.l<he.length;)he.write_shift(1,0);return he}function W(ce,ye){var ie=ce.FullPaths.map(function(De){return De.toUpperCase()}),fe=ie.map(function(De){var Fe=De.split("/");return Fe[Fe.length-(De.slice(-1)=="/"?2:1)]}),he=!1;ye.charCodeAt(0)===47?(he=!0,ye=ie[0].slice(0,-1)+ye):he=ye.indexOf("/")!==-1;var me=ye.toUpperCase(),Ae=he===!0?ie.indexOf(me):fe.indexOf(me);if(Ae!==-1)return ce.FileIndex[Ae];var Le=!me.match(bf);for(me=me.replace(Ns,""),Le&&(me=me.replace(bf,"!")),Ae=0;Ae<ie.length;++Ae)if((Le?ie[Ae].replace(bf,"!"):ie[Ae]).replace(Ns,"")==me||(Le?fe[Ae].replace(bf,"!"):fe[Ae]).replace(Ns,"")==me)return ce.FileIndex[Ae];return null}var P=64,N=-2,D="d0cf11e0a1b11ae1",C=[208,207,17,224,161,177,26,225],S="00000000000000000000000000000000",T={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:N,FREESECT:-1,HEADER_SIGNATURE:D,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:S,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function A(ce,ye,ie){o();var fe=B(ce,ie);c.writeFileSync(ye,fe)}function E(ce){for(var ye=new Array(ce.length),ie=0;ie<ce.length;++ie)ye[ie]=String.fromCharCode(ce[ie]);return ye.join("")}function j(ce,ye){var ie=B(ce,ye);switch(ye&&ye.type||"buffer"){case"file":return o(),c.writeFileSync(ye.filename,ie),ie;case"binary":return typeof ie=="string"?ie:E(ie);case"base64":return B_(typeof ie=="string"?ie:E(ie));case"buffer":if(Er)return Buffer.isBuffer(ie)?ie:Yl(ie);case"array":return typeof ie=="string"?Fa(ie):ie}return ie}var U;function I(ce){try{var ye=ce.InflateRaw,ie=new ye;if(ie._processChunk(new Uint8Array([3,0]),ie._finishFlushFlag),ie.bytesRead)U=ce;else throw new Error("zlib does not expose bytesRead")}catch(fe){console.error("cannot use native zlib: "+(fe.message||fe))}}function Q(ce,ye){if(!U)return bt(ce,ye);var ie=U.InflateRaw,fe=new ie,he=fe._processChunk(ce.slice(ce.l),fe._finishFlushFlag);return ce.l+=fe.bytesRead,he}function Y(ce){return U?U.deflateRawSync(ce):ot(ce)}var ee=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],q=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],te=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function H(ce){var ye=(ce<<1|ce<<11)&139536|(ce<<5|ce<<15)&558144;return(ye>>16|ye>>8|ye)&255}for(var z=typeof Uint8Array<"u",Z=z?new Uint8Array(256):[],ae=0;ae<256;++ae)Z[ae]=H(ae);function re(ce,ye){var ie=Z[ce&255];return ye<=8?ie>>>8-ye:(ie=ie<<8|Z[ce>>8&255],ye<=16?ie>>>16-ye:(ie=ie<<8|Z[ce>>16&255],ie>>>24-ye))}function le(ce,ye){var ie=ye&7,fe=ye>>>3;return(ce[fe]|(ie<=6?0:ce[fe+1]<<8))>>>ie&3}function de(ce,ye){var ie=ye&7,fe=ye>>>3;return(ce[fe]|(ie<=5?0:ce[fe+1]<<8))>>>ie&7}function ve(ce,ye){var ie=ye&7,fe=ye>>>3;return(ce[fe]|(ie<=4?0:ce[fe+1]<<8))>>>ie&15}function ge(ce,ye){var ie=ye&7,fe=ye>>>3;return(ce[fe]|(ie<=3?0:ce[fe+1]<<8))>>>ie&31}function se(ce,ye){var ie=ye&7,fe=ye>>>3;return(ce[fe]|(ie<=1?0:ce[fe+1]<<8))>>>ie&127}function xe(ce,ye,ie){var fe=ye&7,he=ye>>>3,me=(1<<ie)-1,Ae=ce[he]>>>fe;return ie<8-fe||(Ae|=ce[he+1]<<8-fe,ie<16-fe)||(Ae|=ce[he+2]<<16-fe,ie<24-fe)||(Ae|=ce[he+3]<<24-fe),Ae&me}function pe(ce,ye,ie){var fe=ye&7,he=ye>>>3;return fe<=5?ce[he]|=(ie&7)<<fe:(ce[he]|=ie<<fe&255,ce[he+1]=(ie&7)>>8-fe),ye+3}function Te(ce,ye,ie){var fe=ye&7,he=ye>>>3;return ie=(ie&1)<<fe,ce[he]|=ie,ye+1}function ke(ce,ye,ie){var fe=ye&7,he=ye>>>3;return ie<<=fe,ce[he]|=ie&255,ie>>>=8,ce[he+1]=ie,ye+8}function Re(ce,ye,ie){var fe=ye&7,he=ye>>>3;return ie<<=fe,ce[he]|=ie&255,ie>>>=8,ce[he+1]=ie&255,ce[he+2]=ie>>>8,ye+16}function $e(ce,ye){var ie=ce.length,fe=2*ie>ye?2*ie:ye+5,he=0;if(ie>=ye)return ce;if(Er){var me=U_(fe);if(ce.copy)ce.copy(me);else for(;he<ce.length;++he)me[he]=ce[he];return me}else if(z){var Ae=new Uint8Array(fe);if(Ae.set)Ae.set(ce);else for(;he<ie;++he)Ae[he]=ce[he];return Ae}return ce.length=fe,ce}function Pe(ce){for(var ye=new Array(ce),ie=0;ie<ce;++ie)ye[ie]=0;return ye}function Je(ce,ye,ie){var fe=1,he=0,me=0,Ae=0,Le=0,De=ce.length,Fe=z?new Uint16Array(32):Pe(32);for(me=0;me<32;++me)Fe[me]=0;for(me=De;me<ie;++me)ce[me]=0;De=ce.length;var qe=z?new Uint16Array(De):Pe(De);for(me=0;me<De;++me)Fe[he=ce[me]]++,fe<he&&(fe=he),qe[me]=0;for(Fe[0]=0,me=1;me<=fe;++me)Fe[me+16]=Le=Le+Fe[me-1]<<1;for(me=0;me<De;++me)Le=ce[me],Le!=0&&(qe[me]=Fe[Le+16]++);var xt=0;for(me=0;me<De;++me)if(xt=ce[me],xt!=0)for(Le=re(qe[me],fe)>>fe-xt,Ae=(1<<fe+4-xt)-1;Ae>=0;--Ae)ye[Le|Ae<<xt]=xt&15|me<<4;return fe}var Ze=z?new Uint16Array(512):Pe(512),Ye=z?new Uint16Array(32):Pe(32);if(!z){for(var Xe=0;Xe<512;++Xe)Ze[Xe]=0;for(Xe=0;Xe<32;++Xe)Ye[Xe]=0}(function(){for(var ce=[],ye=0;ye<32;ye++)ce.push(5);Je(ce,Ye,32);var ie=[];for(ye=0;ye<=143;ye++)ie.push(8);for(;ye<=255;ye++)ie.push(9);for(;ye<=279;ye++)ie.push(7);for(;ye<=287;ye++)ie.push(8);Je(ie,Ze,288)})();var ut=(function(){for(var ye=z?new Uint8Array(32768):[],ie=0,fe=0;ie<te.length-1;++ie)for(;fe<te[ie+1];++fe)ye[fe]=ie;for(;fe<32768;++fe)ye[fe]=29;var he=z?new Uint8Array(259):[];for(ie=0,fe=0;ie<q.length-1;++ie)for(;fe<q[ie+1];++fe)he[fe]=ie;function me(Le,De){for(var Fe=0;Fe<Le.length;){var qe=Math.min(65535,Le.length-Fe),xt=Fe+qe==Le.length;for(De.write_shift(1,+xt),De.write_shift(2,qe),De.write_shift(2,~qe&65535);qe-- >0;)De[De.l++]=Le[Fe++]}return De.l}function Ae(Le,De){for(var Fe=0,qe=0,xt=z?new Uint16Array(32768):[];qe<Le.length;){var vt=Math.min(65535,Le.length-qe);if(vt<10){for(Fe=pe(De,Fe,+(qe+vt==Le.length)),Fe&7&&(Fe+=8-(Fe&7)),De.l=Fe/8|0,De.write_shift(2,vt),De.write_shift(2,~vt&65535);vt-- >0;)De[De.l++]=Le[qe++];Fe=De.l*8;continue}Fe=pe(De,Fe,+(qe+vt==Le.length)+2);for(var Ct=0;vt-- >0;){var be=Le[qe];Ct=(Ct<<5^be)&32767;var Me=-1,Ke=0;if((Me=xt[Ct])&&(Me|=qe&-32768,Me>qe&&(Me-=32768),Me<qe))for(;Le[Me+Ke]==Le[qe+Ke]&&Ke<250;)++Ke;if(Ke>2){be=he[Ke],be<=22?Fe=ke(De,Fe,Z[be+1]>>1)-1:(ke(De,Fe,3),Fe+=5,ke(De,Fe,Z[be-23]>>5),Fe+=3);var gt=be<8?0:be-4>>2;gt>0&&(Re(De,Fe,Ke-q[be]),Fe+=gt),be=ye[qe-Me],Fe=ke(De,Fe,Z[be]>>3),Fe-=3;var jt=be<4?0:be-2>>1;jt>0&&(Re(De,Fe,qe-Me-te[be]),Fe+=jt);for(var St=0;St<Ke;++St)xt[Ct]=qe&32767,Ct=(Ct<<5^Le[qe])&32767,++qe;vt-=Ke-1}else be<=143?be=be+48:Fe=Te(De,Fe,1),Fe=ke(De,Fe,Z[be]),xt[Ct]=qe&32767,++qe}Fe=ke(De,Fe,0)-1}return De.l=(Fe+7)/8|0,De.l}return function(De,Fe){return De.length<8?me(De,Fe):Ae(De,Fe)}})();function ot(ce){var ye=In(50+Math.floor(ce.length*1.1)),ie=ut(ce,ye);return ye.slice(0,ie)}var je=z?new Uint16Array(32768):Pe(32768),He=z?new Uint16Array(32768):Pe(32768),Ne=z?new Uint16Array(128):Pe(128),Ie=1,lt=1;function Ue(ce,ye){var ie=ge(ce,ye)+257;ye+=5;var fe=ge(ce,ye)+1;ye+=5;var he=ve(ce,ye)+4;ye+=4;for(var me=0,Ae=z?new Uint8Array(19):Pe(19),Le=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],De=1,Fe=z?new Uint8Array(8):Pe(8),qe=z?new Uint8Array(8):Pe(8),xt=Ae.length,vt=0;vt<he;++vt)Ae[ee[vt]]=me=de(ce,ye),De<me&&(De=me),Fe[me]++,ye+=3;var Ct=0;for(Fe[0]=0,vt=1;vt<=De;++vt)qe[vt]=Ct=Ct+Fe[vt-1]<<1;for(vt=0;vt<xt;++vt)(Ct=Ae[vt])!=0&&(Le[vt]=qe[Ct]++);var be=0;for(vt=0;vt<xt;++vt)if(be=Ae[vt],be!=0){Ct=Z[Le[vt]]>>8-be;for(var Me=(1<<7-be)-1;Me>=0;--Me)Ne[Ct|Me<<be]=be&7|vt<<3}var Ke=[];for(De=1;Ke.length<ie+fe;)switch(Ct=Ne[se(ce,ye)],ye+=Ct&7,Ct>>>=3){case 16:for(me=3+le(ce,ye),ye+=2,Ct=Ke[Ke.length-1];me-- >0;)Ke.push(Ct);break;case 17:for(me=3+de(ce,ye),ye+=3;me-- >0;)Ke.push(0);break;case 18:for(me=11+se(ce,ye),ye+=7;me-- >0;)Ke.push(0);break;default:Ke.push(Ct),De<Ct&&(De=Ct);break}var gt=Ke.slice(0,ie),jt=Ke.slice(ie);for(vt=ie;vt<286;++vt)gt[vt]=0;for(vt=fe;vt<30;++vt)jt[vt]=0;return Ie=Je(gt,je,286),lt=Je(jt,He,30),ye}function We(ce,ye){if(ce[0]==3&&!(ce[1]&3))return[Jo(ye),2];for(var ie=0,fe=0,he=U_(ye||1<<18),me=0,Ae=he.length>>>0,Le=0,De=0;(fe&1)==0;){if(fe=de(ce,ie),ie+=3,fe>>>1)fe>>1==1?(Le=9,De=5):(ie=Ue(ce,ie),Le=Ie,De=lt);else{ie&7&&(ie+=8-(ie&7));var Fe=ce[ie>>>3]|ce[(ie>>>3)+1]<<8;if(ie+=32,Fe>0)for(!ye&&Ae<me+Fe&&(he=$e(he,me+Fe),Ae=he.length);Fe-- >0;)he[me++]=ce[ie>>>3],ie+=8;continue}for(;;){!ye&&Ae<me+32767&&(he=$e(he,me+32767),Ae=he.length);var qe=xe(ce,ie,Le),xt=fe>>>1==1?Ze[qe]:je[qe];if(ie+=xt&15,xt>>>=4,(xt>>>8&255)===0)he[me++]=xt;else{if(xt==256)break;xt-=257;var vt=xt<8?0:xt-4>>2;vt>5&&(vt=0);var Ct=me+q[xt];vt>0&&(Ct+=xe(ce,ie,vt),ie+=vt),qe=xe(ce,ie,De),xt=fe>>>1==1?Ye[qe]:He[qe],ie+=xt&15,xt>>>=4;var be=xt<4?0:xt-2>>1,Me=te[xt];for(be>0&&(Me+=xe(ce,ie,be),ie+=be),!ye&&Ae<Ct&&(he=$e(he,Ct+100),Ae=he.length);me<Ct;)he[me]=he[me-Me],++me}}}return ye?[he,ie+7>>>3]:[he.slice(0,me),ie+7>>>3]}function bt(ce,ye){var ie=ce.slice(ce.l||0),fe=We(ie,ye);return ce.l+=fe[1],fe[0]}function yt(ce,ye){if(ce)typeof console<"u"&&console.error(ye);else throw new Error(ye)}function nt(ce,ye){var ie=ce;Qn(ie,0);var fe=[],he=[],me={FileIndex:fe,FullPaths:he};V(me,{root:ye.root});for(var Ae=ie.length-4;(ie[Ae]!=80||ie[Ae+1]!=75||ie[Ae+2]!=5||ie[Ae+3]!=6)&&Ae>=0;)--Ae;ie.l=Ae+4,ie.l+=4;var Le=ie.read_shift(2);ie.l+=6;var De=ie.read_shift(4);for(ie.l=De,Ae=0;Ae<Le;++Ae){ie.l+=20;var Fe=ie.read_shift(4),qe=ie.read_shift(4),xt=ie.read_shift(2),vt=ie.read_shift(2),Ct=ie.read_shift(2);ie.l+=8;var be=ie.read_shift(4),Me=l(ie.slice(ie.l+xt,ie.l+xt+vt));ie.l+=xt+vt+Ct;var Ke=ie.l;ie.l=be+4,Et(ie,Fe,qe,me,Me),ie.l=Ke}return me}function Et(ce,ye,ie,fe,he){ce.l+=2;var me=ce.read_shift(2),Ae=ce.read_shift(2),Le=a(ce);if(me&8257)throw new Error("Unsupported ZIP encryption");for(var De=ce.read_shift(4),Fe=ce.read_shift(4),qe=ce.read_shift(4),xt=ce.read_shift(2),vt=ce.read_shift(2),Ct="",be=0;be<xt;++be)Ct+=String.fromCharCode(ce[ce.l++]);if(vt){var Me=l(ce.slice(ce.l,ce.l+vt));(Me[21589]||{}).mt&&(Le=Me[21589].mt),((he||{})[21589]||{}).mt&&(Le=he[21589].mt)}ce.l+=vt;var Ke=ce.slice(ce.l,ce.l+Fe);switch(Ae){case 8:Ke=Q(ce,qe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ae)}var gt=!1;me&8&&(De=ce.read_shift(4),De==134695760&&(De=ce.read_shift(4),gt=!0),Fe=ce.read_shift(4),qe=ce.read_shift(4)),Fe!=ye&&yt(gt,"Bad compressed size: "+ye+" != "+Fe),qe!=ie&&yt(gt,"Bad uncompressed size: "+ie+" != "+qe),Qe(fe,Ct,Ke,{unsafe:!0,mt:Le})}function Oe(ce,ye){var ie=ye||{},fe=[],he=[],me=In(1),Ae=ie.compression?8:0,Le=0,De=0,Fe=0,qe=0,xt=0,vt=ce.FullPaths[0],Ct=vt,be=ce.FileIndex[0],Me=[],Ke=0;for(De=1;De<ce.FullPaths.length;++De)if(Ct=ce.FullPaths[De].slice(vt.length),be=ce.FileIndex[De],!(!be.size||!be.content||Ct=="Sh33tJ5")){var gt=qe,jt=In(Ct.length);for(Fe=0;Fe<Ct.length;++Fe)jt.write_shift(1,Ct.charCodeAt(Fe)&127);jt=jt.slice(0,jt.l),Me[xt]=AD.buf(be.content,0);var St=be.content;Ae==8&&(St=Y(St)),me=In(30),me.write_shift(4,67324752),me.write_shift(2,20),me.write_shift(2,Le),me.write_shift(2,Ae),be.mt?i(me,be.mt):me.write_shift(4,0),me.write_shift(-4,Me[xt]),me.write_shift(4,St.length),me.write_shift(4,be.content.length),me.write_shift(2,jt.length),me.write_shift(2,0),qe+=me.length,fe.push(me),qe+=jt.length,fe.push(jt),qe+=St.length,fe.push(St),me=In(46),me.write_shift(4,33639248),me.write_shift(2,0),me.write_shift(2,20),me.write_shift(2,Le),me.write_shift(2,Ae),me.write_shift(4,0),me.write_shift(-4,Me[xt]),me.write_shift(4,St.length),me.write_shift(4,be.content.length),me.write_shift(2,jt.length),me.write_shift(2,0),me.write_shift(2,0),me.write_shift(2,0),me.write_shift(2,0),me.write_shift(4,0),me.write_shift(4,gt),Ke+=me.l,he.push(me),Ke+=jt.length,he.push(jt),++xt}return me=In(22),me.write_shift(4,101010256),me.write_shift(2,0),me.write_shift(2,0),me.write_shift(2,xt),me.write_shift(2,xt),me.write_shift(4,Ke),me.write_shift(4,qe),me.write_shift(2,0),Mo([Mo(fe),Mo(he),me])}var Ce={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function rt(ce,ye){if(ce.ctype)return ce.ctype;var ie=ce.name||"",fe=ie.match(/\.([^\.]+)$/);return fe&&Ce[fe[1]]||ye&&(fe=(ie=ye).match(/[\.\\]([^\.\\])+$/),fe&&Ce[fe[1]])?Ce[fe[1]]:"application/octet-stream"}function pt(ce){for(var ye=B_(ce),ie=[],fe=0;fe<ye.length;fe+=76)ie.push(ye.slice(fe,fe+76));return ie.join(`\r
`)+`\r
`}function ft(ce){var ye=ce.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Fe){var qe=Fe.charCodeAt(0).toString(16).toUpperCase();return"="+(qe.length==1?"0"+qe:qe)});ye=ye.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ye.charAt(0)==`
`&&(ye="=0D"+ye.slice(1)),ye=ye.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ie=[],fe=ye.split(`\r
`),he=0;he<fe.length;++he){var me=fe[he];if(me.length==0){ie.push("");continue}for(var Ae=0;Ae<me.length;){var Le=76,De=me.slice(Ae,Ae+Le);De.charAt(Le-1)=="="?Le--:De.charAt(Le-2)=="="?Le-=2:De.charAt(Le-3)=="="&&(Le-=3),De=me.slice(Ae,Ae+Le),Ae+=Le,Ae<me.length&&(De+="="),ie.push(De)}}return ie.join(`\r
`)}function Mt(ce){for(var ye=[],ie=0;ie<ce.length;++ie){for(var fe=ce[ie];ie<=ce.length&&fe.charAt(fe.length-1)=="=";)fe=fe.slice(0,fe.length-1)+ce[++ie];ye.push(fe)}for(var he=0;he<ye.length;++he)ye[he]=ye[he].replace(/[=][0-9A-Fa-f]{2}/g,function(me){return String.fromCharCode(parseInt(me.slice(1),16))});return Fa(ye.join(`\r
`))}function At(ce,ye,ie){for(var fe="",he="",me="",Ae,Le=0;Le<10;++Le){var De=ye[Le];if(!De||De.match(/^\s*$/))break;var Fe=De.match(/^(.*?):\s*([^\s].*)$/);if(Fe)switch(Fe[1].toLowerCase()){case"content-location":fe=Fe[2].trim();break;case"content-type":me=Fe[2].trim();break;case"content-transfer-encoding":he=Fe[2].trim();break}}switch(++Le,he.toLowerCase()){case"base64":Ae=Fa(sa(ye.slice(Le).join("")));break;case"quoted-printable":Ae=Mt(ye.slice(Le));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+he)}var qe=Qe(ce,fe.slice(ie.length),Ae,{unsafe:!0});me&&(qe.ctype=me)}function wt(ce,ye){if(E(ce.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ie=ye&&ye.root||"",fe=(Er&&Buffer.isBuffer(ce)?ce.toString("binary"):E(ce)).split(`\r
`),he=0,me="";for(he=0;he<fe.length;++he)if(me=fe[he],!!/^Content-Location:/i.test(me)&&(me=me.slice(me.indexOf("file")),ie||(ie=me.slice(0,me.lastIndexOf("/")+1)),me.slice(0,ie.length)!=ie))for(;ie.length>0&&(ie=ie.slice(0,ie.length-1),ie=ie.slice(0,ie.lastIndexOf("/")+1),me.slice(0,ie.length)!=ie););var Ae=(fe[1]||"").match(/boundary="(.*?)"/);if(!Ae)throw new Error("MAD cannot find boundary");var Le="--"+(Ae[1]||""),De=[],Fe=[],qe={FileIndex:De,FullPaths:Fe};V(qe);var xt,vt=0;for(he=0;he<fe.length;++he){var Ct=fe[he];Ct!==Le&&Ct!==Le+"--"||(vt++&&At(qe,fe.slice(xt,he),ie),xt=he)}return qe}function ze(ce,ye){var ie=ye||{},fe=ie.boundary||"SheetJS";fe="------="+fe;for(var he=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+fe.slice(2)+'"',"","",""],me=ce.FullPaths[0],Ae=me,Le=ce.FileIndex[0],De=1;De<ce.FullPaths.length;++De)if(Ae=ce.FullPaths[De].slice(me.length),Le=ce.FileIndex[De],!(!Le.size||!Le.content||Ae=="Sh33tJ5")){Ae=Ae.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ke){return"_x"+Ke.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ke){return"_u"+Ke.charCodeAt(0).toString(16)+"_"});for(var Fe=Le.content,qe=Er&&Buffer.isBuffer(Fe)?Fe.toString("binary"):E(Fe),xt=0,vt=Math.min(1024,qe.length),Ct=0,be=0;be<=vt;++be)(Ct=qe.charCodeAt(be))>=32&&Ct<128&&++xt;var Me=xt>=vt*4/5;he.push(fe),he.push("Content-Location: "+(ie.root||"file:///C:/SheetJS/")+Ae),he.push("Content-Transfer-Encoding: "+(Me?"quoted-printable":"base64")),he.push("Content-Type: "+rt(Le,Ae)),he.push(""),he.push(Me?ft(qe):pt(qe))}return he.push(fe+`--\r
`),he.join(`\r
`)}function ht(ce){var ye={};return V(ye,ce),ye}function Qe(ce,ye,ie,fe){var he=fe&&fe.unsafe;he||V(ce);var me=!he&&Nr.find(ce,ye);if(!me){var Ae=ce.FullPaths[0];ye.slice(0,Ae.length)==Ae?Ae=ye:(Ae.slice(-1)!="/"&&(Ae+="/"),Ae=(Ae+ye).replace("//","/")),me={name:s(ye),type:2},ce.FileIndex.push(me),ce.FullPaths.push(Ae),he||Nr.utils.cfb_gc(ce)}return me.content=ie,me.size=ie?ie.length:0,fe&&(fe.CLSID&&(me.clsid=fe.CLSID),fe.mt&&(me.mt=fe.mt),fe.ct&&(me.ct=fe.ct)),me}function Ee(ce,ye){V(ce);var ie=Nr.find(ce,ye);if(ie){for(var fe=0;fe<ce.FileIndex.length;++fe)if(ce.FileIndex[fe]==ie)return ce.FileIndex.splice(fe,1),ce.FullPaths.splice(fe,1),!0}return!1}function Ve(ce,ye,ie){V(ce);var fe=Nr.find(ce,ye);if(fe){for(var he=0;he<ce.FileIndex.length;++he)if(ce.FileIndex[he]==fe)return ce.FileIndex[he].name=s(ie),ce.FullPaths[he]=ie,!0}return!1}function et(ce){F(ce,!0)}return t.find=W,t.read=G,t.parse=u,t.write=j,t.writeFile=A,t.utils={cfb_new:ht,cfb_add:Qe,cfb_del:Ee,cfb_mov:Ve,cfb_gc:et,ReadShift:Nf,CheckField:v8,prep_blob:Qn,bconcat:Mo,use_zlib:I,_deflateRaw:ot,_inflateRaw:bt,consts:T},t})();function ND(r){if(typeof Deno<"u")return Deno.readFileSync(r);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(r);t.open("r"),t.encoding="binary";var e=t.read();return t.close(),e}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+r)}function di(r){for(var t=Object.keys(r),e=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(r,t[n])&&e.push(t[n]);return e}function Kb(r){for(var t=[],e=di(r),n=0;n!==e.length;++n)t[r[e[n]]]=e[n];return t}var z0=new Date(1899,11,30,0,0,0);function Cs(r,t){var e=r.getTime(),n=z0.getTime()+(r.getTimezoneOffset()-z0.getTimezoneOffset())*6e4;return(e-n)/(1440*60*1e3)}var J6=new Date,CD=z0.getTime()+(J6.getTimezoneOffset()-z0.getTimezoneOffset())*6e4,X_=J6.getTimezoneOffset();function _p(r){var t=new Date;return t.setTime(r*24*60*60*1e3+CD),t.getTimezoneOffset()!==X_&&t.setTime(t.getTime()+(t.getTimezoneOffset()-X_)*6e4),t}function RD(r){var t=0,e=0,n=!1,s=r.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!s)throw new Error("|"+r+"| is not an ISO8601 Duration");for(var i=1;i!=s.length;++i)if(s[i]){switch(e=1,i>3&&(n=!0),s[i].slice(s[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+s[i].slice(s[i].length-1));case"D":e*=24;case"H":e*=60;case"M":if(n)e*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=e*parseInt(s[i],10)}return t}var Y_=new Date("2017-02-19T19:06:09.000Z"),e8=isNaN(Y_.getFullYear())?new Date("2/19/17"):Y_,MD=e8.getFullYear()==2017;function zn(r,t){var e=new Date(r);if(MD)return t>0?e.setTime(e.getTime()+e.getTimezoneOffset()*60*1e3):t<0&&e.setTime(e.getTime()-e.getTimezoneOffset()*60*1e3),e;if(r instanceof Date)return r;if(e8.getFullYear()==1917&&!isNaN(e.getFullYear())){var n=e.getFullYear();return r.indexOf(""+n)>-1||e.setFullYear(e.getFullYear()+100),e}var s=r.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return r.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function ql(r,t){if(Er&&Buffer.isBuffer(r)){if(t){if(r[0]==255&&r[1]==254)return yf(r.slice(2).toString("utf16le"));if(r[1]==254&&r[2]==255)return yf(U6(r.slice(2).toString("binary")))}return r.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(r[0]==255&&r[1]==254)return yf(new TextDecoder("utf-16le").decode(r.slice(2)));if(r[0]==254&&r[1]==255)return yf(new TextDecoder("utf-16be").decode(r.slice(2)))}var e={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(r)&&(r=new Uint8Array(r)),new TextDecoder("latin1").decode(r).replace(/[]/g,function(i){return e[i]||i})}catch{}for(var n=[],s=0;s!=r.length;++s)n.push(String.fromCharCode(r[s]));return n.join("")}function es(r){if(typeof JSON<"u"&&!Array.isArray(r))return JSON.parse(JSON.stringify(r));if(typeof r!="object"||r==null)return r;if(r instanceof Date)return new Date(r.getTime());var t={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=es(r[e]));return t}function cn(r,t){for(var e="";e.length<t;)e+=r;return e}function Va(r){var t=Number(r);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(r))return t;var e=1,n=r.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return e*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(s,i){return e=-e,i}),!isNaN(t=Number(n)))?t/e:t}var jD=["january","february","march","april","may","june","july","august","september","october","november","december"];function iu(r){var t=new Date(r),e=new Date(NaN),n=t.getYear(),s=t.getMonth(),i=t.getDate();if(isNaN(i))return e;var a=r.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&jD.indexOf(a)==-1)return e}else if(a.match(/[a-z]/))return e;return n<0||n>8099?e:(s>0||i>1)&&n!=101?t:r.match(/[^-0-9:,\/\\]/)?e:t}var DD=(function(){var r="abacaba".split(/(:?b)/i).length==5;return function(e,n,s){if(r||typeof n=="string")return e.split(n);for(var i=e.split(n),a=[i[0]],l=1;l<i.length;++l)a.push(s),a.push(i[l]);return a}})();function t8(r){return r?r.content&&r.type?ql(r.content,!0):r.data?gf(r.data):r.asNodeBuffer&&Er?gf(r.asNodeBuffer().toString("binary")):r.asBinary?gf(r.asBinary()):r._data&&r._data.getContent?gf(ql(Array.prototype.slice.call(r._data.getContent(),0))):null:null}function r8(r){if(!r)return null;if(r.data)return P_(r.data);if(r.asNodeBuffer&&Er)return r.asNodeBuffer();if(r._data&&r._data.getContent){var t=r._data.getContent();return typeof t=="string"?P_(t):Array.prototype.slice.call(t)}return r.content&&r.type?r.content:null}function ID(r){return r&&r.name.slice(-4)===".bin"?r8(r):t8(r)}function xa(r,t){for(var e=r.FullPaths||di(r.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),s=n.replace(/\\/g,"/"),i=0;i<e.length;++i){var a=e[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==a||s==a)return r.files?r.files[e[i]]:r.FileIndex[i]}return null}function Qb(r,t){var e=xa(r,t);if(e==null)throw new Error("Cannot find file "+t+" in zip");return e}function An(r,t,e){if(!e)return ID(Qb(r,t));if(!t)return null;try{return An(r,t)}catch{return null}}function ra(r,t,e){if(!e)return t8(Qb(r,t));if(!t)return null;try{return ra(r,t)}catch{return null}}function OD(r,t,e){return r8(Qb(r,t))}function K_(r){for(var t=r.FullPaths||di(r.files),e=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&e.push(t[n].replace(/^Root Entry[\/]/,""));return e.sort()}function FD(r,t,e){if(r.FullPaths){if(typeof e=="string"){var n;return Er?n=Yl(e):n=tD(e),Nr.utils.cfb_add(r,t,n)}Nr.utils.cfb_add(r,t,e)}else r.file(t,e)}function n8(r,t){switch(t.type){case"base64":return Nr.read(r,{type:"base64"});case"binary":return Nr.read(r,{type:"binary"});case"buffer":case"array":return Nr.read(r,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function xf(r,t){if(r.charAt(0)=="/")return r.slice(1);var e=t.split("/");t.slice(-1)!="/"&&e.pop();for(var n=r.split("/");n.length!==0;){var s=n.shift();s===".."?e.pop():s!=="."&&e.push(s)}return e.join("/")}var s8=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,PD=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,Q_=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,LD=/<[^>]*>/g,xs=s8.match(Q_)?Q_:LD,BD=/<\w*:/,UD=/<(\/?)\w+:/;function Jt(r,t,e){for(var n={},s=0,i=0;s!==r.length&&!((i=r.charCodeAt(s))===32||i===10||i===13);++s);if(t||(n[0]=r.slice(0,s)),s===r.length)return n;var a=r.match(PD),l=0,c="",o=0,u="",p="",h=1;if(a)for(o=0;o!=a.length;++o){for(p=a[o],i=0;i!=p.length&&p.charCodeAt(i)!==61;++i);for(u=p.slice(0,i).trim();p.charCodeAt(i+1)==32;)++i;for(h=(s=p.charCodeAt(i+1))==34||s==39?1:0,c=p.slice(i+1+h,p.length-h),l=0;l!=u.length&&u.charCodeAt(l)!==58;++l);if(l===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),n[u]=c,n[u.toLowerCase()]=c;else{var d=(l===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(l+1);if(n[d]&&u.slice(l-3,l)=="ext")continue;n[d]=c,n[d.toLowerCase()]=c}}return n}function pi(r){return r.replace(UD,"<$1")}var a8={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},VD=Kb(a8),Mr=(function(){var r=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function e(n){var s=n+"",i=s.indexOf("<![CDATA[");if(i==-1)return s.replace(r,function(l,c){return a8[l]||String.fromCharCode(parseInt(c,l.indexOf("x")>-1?16:10))||l}).replace(t,function(l,c){return String.fromCharCode(parseInt(c,16))});var a=s.indexOf("]]>");return e(s.slice(0,i))+s.slice(i+9,a)+e(s.slice(a+3))}})(),zD=/[&<>'"]/g,HD=/[\u0000-\u001f]/g;function Zb(r){var t=r+"";return t.replace(zD,function(e){return VD[e]}).replace(/\n/g,"<br/>").replace(HD,function(e){return"&#x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+";"})}var Z_=(function(){var r=/&#(\d+);/g;function t(e,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(r,t)}})();function rn(r){switch(r){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Vg(r){for(var t="",e=0,n=0,s=0,i=0,a=0,l=0;e<r.length;){if(n=r.charCodeAt(e++),n<128){t+=String.fromCharCode(n);continue}if(s=r.charCodeAt(e++),n>191&&n<224){a=(n&31)<<6,a|=s&63,t+=String.fromCharCode(a);continue}if(i=r.charCodeAt(e++),n<240){t+=String.fromCharCode((n&15)<<12|(s&63)<<6|i&63);continue}a=r.charCodeAt(e++),l=((n&7)<<18|(s&63)<<12|(i&63)<<6|a&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function J_(r){var t=Jo(2*r.length),e,n,s=1,i=0,a=0,l;for(n=0;n<r.length;n+=s)s=1,(l=r.charCodeAt(n))<128?e=l:l<224?(e=(l&31)*64+(r.charCodeAt(n+1)&63),s=2):l<240?(e=(l&15)*4096+(r.charCodeAt(n+1)&63)*64+(r.charCodeAt(n+2)&63),s=3):(s=4,e=(l&7)*262144+(r.charCodeAt(n+1)&63)*4096+(r.charCodeAt(n+2)&63)*64+(r.charCodeAt(n+3)&63),e-=65536,a=55296+(e>>>10&1023),e=56320+(e&1023)),a!==0&&(t[i++]=a&255,t[i++]=a>>>8,a=0),t[i++]=e%256,t[i++]=e>>>8;return t.slice(0,i).toString("ucs2")}function e4(r){return Yl(r,"binary").toString("utf8")}var Wd="foo bar baz",Xr=Er&&(e4(Wd)==Vg(Wd)&&e4||J_(Wd)==Vg(Wd)&&J_)||Vg,yf=Er?function(r){return Yl(r,"utf8").toString("binary")}:function(r){for(var t=[],e=0,n=0,s=0;e<r.length;)switch(n=r.charCodeAt(e++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,s=r.charCodeAt(e++)-56320+(n<<10),t.push(String.fromCharCode(240+(s>>18&7))),t.push(String.fromCharCode(144+(s>>12&63))),t.push(String.fromCharCode(128+(s>>6&63))),t.push(String.fromCharCode(128+(s&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},Zf=(function(){var r={};return function(e,n){var s=e+"|"+(n||"");return r[s]?r[s]:r[s]=new RegExp("<(?:\\w+:)?"+e+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+e+">",n||"")}})(),i8=(function(){var r=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(e){for(var n=e.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<r.length;++s)n=n.replace(r[s][0],r[s][1]);return n}})(),$D=(function(){var r={};return function(e){return r[e]!==void 0?r[e]:r[e]=new RegExp("<(?:vt:)?"+e+">([\\s\\S]*?)</(?:vt:)?"+e+">","g")}})(),qD=/<\/?(?:vt:)?variant>/g,GD=/<(?:vt:)([^>]*)>([\s\S]*)</;function t4(r,t){var e=Jt(r),n=r.match($D(e.baseType))||[],s=[];if(n.length!=e.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+e.size);return s}return n.forEach(function(i){var a=i.replace(qD,"").match(GD);a&&s.push({v:Xr(a[2]),t:a[1]})}),s}var WD=/(^\s|\s$|\n)/;function XD(r){return di(r).map(function(t){return" "+t+'="'+r[t]+'"'}).join("")}function YD(r,t,e){return"<"+r+(e!=null?XD(e):"")+(t!=null?(t.match(WD)?' xml:space="preserve"':"")+">"+t+"</"+r:"/")+">"}function Jb(r){if(Er&&Buffer.isBuffer(r))return r.toString("utf8");if(typeof r=="string")return r;if(typeof Uint8Array<"u"&&r instanceof Uint8Array)return Xr(Kl(Wb(r)));throw new Error("Bad input format: expected Buffer or string")}var Jf=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,KD={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},QD=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function ZD(r,t){for(var e=1-2*(r[t+7]>>>7),n=((r[t+7]&127)<<4)+(r[t+6]>>>4&15),s=r[t+6]&15,i=5;i>=0;--i)s=s*256+r[t+i];return n==2047?s==0?e*(1/0):NaN:(n==0?n=-1022:(n-=1023,s+=Math.pow(2,52)),e*Math.pow(2,n-52)*s)}function JD(r,t,e){var n=(t<0||1/t==-1/0?1:0)<<7,s=0,i=0,a=n?-t:t;isFinite(a)?a==0?s=i=0:(s=Math.floor(Math.log(a)/Math.LN2),i=a*Math.pow(2,52-s),s<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?s=-1022:(i-=Math.pow(2,52),s+=1023)):(s=2047,i=isNaN(t)?26985:0);for(var l=0;l<=5;++l,i/=256)r[e+l]=i&255;r[e+6]=(s&15)<<4|i&15,r[e+7]=s>>4|n}var r4=function(r){for(var t=[],e=10240,n=0;n<r[0].length;++n)if(r[0][n])for(var s=0,i=r[0][n].length;s<i;s+=e)t.push.apply(t,r[0][n].slice(s,s+e));return t},n4=Er?function(r){return r[0].length>0&&Buffer.isBuffer(r[0][0])?Buffer.concat(r[0].map(function(t){return Buffer.isBuffer(t)?t:Yl(t)})):r4(r)}:r4,s4=function(r,t,e){for(var n=[],s=t;s<e;s+=2)n.push(String.fromCharCode(Li(r,s)));return n.join("").replace(Ns,"")},ex=Er?function(r,t,e){return Buffer.isBuffer(r)?r.toString("utf16le",t,e).replace(Ns,""):s4(r,t,e)}:s4,a4=function(r,t,e){for(var n=[],s=t;s<t+e;++s)n.push(("0"+r[s].toString(16)).slice(-2));return n.join("")},o8=Er?function(r,t,e){return Buffer.isBuffer(r)?r.toString("hex",t,t+e):a4(r,t,e)}:a4,i4=function(r,t,e){for(var n=[],s=t;s<e;s++)n.push(String.fromCharCode(Uc(r,s)));return n.join("")},xh=Er?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf8",e,n):i4(t,e,n)}:i4,l8=function(r,t){var e=ta(r,t);return e>0?xh(r,t+4,t+4+e-1):""},c8=l8,u8=function(r,t){var e=ta(r,t);return e>0?xh(r,t+4,t+4+e-1):""},f8=u8,h8=function(r,t){var e=2*ta(r,t);return e>0?xh(r,t+4,t+4+e-1):""},d8=h8,p8=function(t,e){var n=ta(t,e);return n>0?ex(t,e+4,e+4+n):""},m8=p8,g8=function(r,t){var e=ta(r,t);return e>0?xh(r,t+4,t+4+e):""},b8=g8,x8=function(r,t){return ZD(r,t)},H0=x8,y8=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Er&&(c8=function(t,e){if(!Buffer.isBuffer(t))return l8(t,e);var n=t.readUInt32LE(e);return n>0?t.toString("utf8",e+4,e+4+n-1):""},f8=function(t,e){if(!Buffer.isBuffer(t))return u8(t,e);var n=t.readUInt32LE(e);return n>0?t.toString("utf8",e+4,e+4+n-1):""},d8=function(t,e){if(!Buffer.isBuffer(t))return h8(t,e);var n=2*t.readUInt32LE(e);return t.toString("utf16le",e+4,e+4+n-1)},m8=function(t,e){if(!Buffer.isBuffer(t))return p8(t,e);var n=t.readUInt32LE(e);return t.toString("utf16le",e+4,e+4+n)},b8=function(t,e){if(!Buffer.isBuffer(t))return g8(t,e);var n=t.readUInt32LE(e);return t.toString("utf8",e+4,e+4+n)},H0=function(t,e){return Buffer.isBuffer(t)?t.readDoubleLE(e):x8(t,e)},y8=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Uc=function(r,t){return r[t]},Li=function(r,t){return r[t+1]*256+r[t]},eI=function(r,t){var e=r[t+1]*256+r[t];return e<32768?e:(65535-e+1)*-1},ta=function(r,t){return r[t+3]*(1<<24)+(r[t+2]<<16)+(r[t+1]<<8)+r[t]},El=function(r,t){return r[t+3]<<24|r[t+2]<<16|r[t+1]<<8|r[t]},tI=function(r,t){return r[t]<<24|r[t+1]<<16|r[t+2]<<8|r[t+3]};function Nf(r,t){var e="",n,s,i=[],a,l,c,o;switch(t){case"dbcs":if(o=this.l,Er&&Buffer.isBuffer(this))e=this.slice(this.l,this.l+2*r).toString("utf16le");else for(c=0;c<r;++c)e+=String.fromCharCode(Li(this,o)),o+=2;r*=2;break;case"utf8":e=xh(this,this.l,this.l+r);break;case"utf16le":r*=2,e=ex(this,this.l,this.l+r);break;case"wstr":return Nf.call(this,r,"dbcs");case"lpstr-ansi":e=c8(this,this.l),r=4+ta(this,this.l);break;case"lpstr-cp":e=f8(this,this.l),r=4+ta(this,this.l);break;case"lpwstr":e=d8(this,this.l),r=4+2*ta(this,this.l);break;case"lpp4":r=4+ta(this,this.l),e=m8(this,this.l),r&2&&(r+=2);break;case"8lpp4":r=4+ta(this,this.l),e=b8(this,this.l),r&3&&(r+=4-(r&3));break;case"cstr":for(r=0,e="";(a=Uc(this,this.l+r++))!==0;)i.push(Gd(a));e=i.join("");break;case"_wstr":for(r=0,e="";(a=Li(this,this.l+r))!==0;)i.push(Gd(a)),r+=2;r+=2,e=i.join("");break;case"dbcs-cont":for(e="",o=this.l,c=0;c<r;++c){if(this.lens&&this.lens.indexOf(o)!==-1)return a=Uc(this,o),this.l=o+1,l=Nf.call(this,r-c,a?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(Gd(Li(this,o))),o+=2}e=i.join(""),r*=2;break;case"cpstr":case"sbcs-cont":for(e="",o=this.l,c=0;c!=r;++c){if(this.lens&&this.lens.indexOf(o)!==-1)return a=Uc(this,o),this.l=o+1,l=Nf.call(this,r-c,a?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(Gd(Uc(this,o))),o+=1}e=i.join("");break;default:switch(r){case 1:return n=Uc(this,this.l),this.l++,n;case 2:return n=(t==="i"?eI:Li)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(n=(r>0?El:tI)(this,this.l),this.l+=4,n):(s=ta(this,this.l),this.l+=4,s);case 8:case-8:if(t==="f")return r==8?s=H0(this,this.l):s=H0([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;r=8;case 16:e=o8(this,this.l,r);break}}return this.l+=r,e}var rI=function(r,t,e){r[e]=t&255,r[e+1]=t>>>8&255,r[e+2]=t>>>16&255,r[e+3]=t>>>24&255},nI=function(r,t,e){r[e]=t&255,r[e+1]=t>>8&255,r[e+2]=t>>16&255,r[e+3]=t>>24&255},sI=function(r,t,e){r[e]=t&255,r[e+1]=t>>>8&255};function aI(r,t,e){var n=0,s=0;if(e==="dbcs"){for(s=0;s!=t.length;++s)sI(this,t.charCodeAt(s),this.l+2*s);n=2*t.length}else if(e==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=t.length;++s)this[this.l+s]=t.charCodeAt(s)&255;n=t.length}else if(e==="hex"){for(;s<r;++s)this[this.l++]=parseInt(t.slice(2*s,2*s+2),16)||0;return this}else if(e==="utf16le"){var i=Math.min(this.l+r,this.length);for(s=0;s<Math.min(t.length,r);++s){var a=t.charCodeAt(s);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(r){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,rI(this,t,this.l);break;case 8:if(n=8,e==="f"){JD(this,t,this.l);break}case 16:break;case-4:n=4,nI(this,t,this.l);break}return this.l+=n,this}function v8(r,t){var e=o8(this,this.l,r.length>>1);if(e!==r)throw new Error(t+"Expected "+r+" saw "+e);this.l+=r.length>>1}function Qn(r,t){r.l=t,r.read_shift=Nf,r.chk=v8,r.write_shift=aI}function bs(r,t){r.l+=t}function In(r){var t=Jo(r);return Qn(t,0),t}function Zi(r,t,e){if(r){var n,s,i;Qn(r,r.l||0);for(var a=r.length,l=0,c=0;r.l<a;){l=r.read_shift(1),l&128&&(l=(l&127)+((r.read_shift(1)&127)<<7));var o=Y0[l]||Y0[65535];for(n=r.read_shift(1),i=n&127,s=1;s<4&&n&128;++s)i+=((n=r.read_shift(1))&127)<<7*s;c=r.l+i;var u=o.f&&o.f(r,i,e);if(r.l=c,t(u,o,l))return}}}function A1(){var r=[],t=Er?256:2048,e=function(o){var u=In(o);return Qn(u,0),u},n=e(t),s=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&r.push(n),n=null)},i=function(o){return n&&o<n.length-n.l?n:(s(),n=e(Math.max(o+1,t)))},a=function(){return s(),Mo(r)},l=function(o){s(),n=o,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:l,end:a,_bufs:r}}function Cf(r,t,e){var n=es(r);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!e||e.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function o4(r,t,e){var n=es(r);return n.s=Cf(n.s,t.s,e),n.e=Cf(n.e,t.s,e),n}function Rf(r,t){if(r.cRel&&r.c<0)for(r=es(r);r.c<0;)r.c+=t>8?16384:256;if(r.rRel&&r.r<0)for(r=es(r);r.r<0;)r.r+=t>8?1048576:t>5?65536:16384;var e=ir(r);return!r.cRel&&r.cRel!=null&&(e=lI(e)),!r.rRel&&r.rRel!=null&&(e=iI(e)),e}function zg(r,t){return r.s.r==0&&!r.s.rRel&&r.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!r.e.rRel?(r.s.cRel?"":"$")+On(r.s.c)+":"+(r.e.cRel?"":"$")+On(r.e.c):r.s.c==0&&!r.s.cRel&&r.e.c==(t.biff>=12?16383:255)&&!r.e.cRel?(r.s.rRel?"":"$")+ts(r.s.r)+":"+(r.e.rRel?"":"$")+ts(r.e.r):Rf(r.s,t.biff)+":"+Rf(r.e,t.biff)}function tx(r){return parseInt(oI(r),10)-1}function ts(r){return""+(r+1)}function iI(r){return r.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function oI(r){return r.replace(/\$(\d+)$/,"$1")}function rx(r){for(var t=cI(r),e=0,n=0;n!==t.length;++n)e=26*e+t.charCodeAt(n)-64;return e-1}function On(r){if(r<0)throw new Error("invalid column "+r);var t="";for(++r;r;r=Math.floor((r-1)/26))t=String.fromCharCode((r-1)%26+65)+t;return t}function lI(r){return r.replace(/^([A-Z])/,"$$$1")}function cI(r){return r.replace(/^\$([A-Z])/,"$1")}function uI(r){return r.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Es(r){for(var t=0,e=0,n=0;n<r.length;++n){var s=r.charCodeAt(n);s>=48&&s<=57?t=10*t+(s-48):s>=65&&s<=90&&(e=26*e+(s-64))}return{c:e-1,r:t-1}}function ir(r){for(var t=r.c+1,e="";t;t=(t-1)/26|0)e=String.fromCharCode((t-1)%26+65)+e;return e+(r.r+1)}function xu(r){var t=r.indexOf(":");return t==-1?{s:Es(r),e:Es(r)}:{s:Es(r.slice(0,t)),e:Es(r.slice(t+1))}}function Cr(r,t){return typeof t>"u"||typeof t=="number"?Cr(r.s,r.e):(typeof r!="string"&&(r=ir(r)),typeof t!="string"&&(t=ir(t)),r==t?r:r+":"+t)}function hn(r){var t={s:{c:0,r:0},e:{c:0,r:0}},e=0,n=0,s=0,i=r.length;for(e=0;n<i&&!((s=r.charCodeAt(n)-64)<1||s>26);++n)e=26*e+s;for(t.s.c=--e,e=0;n<i&&!((s=r.charCodeAt(n)-48)<0||s>9);++n)e=10*e+s;if(t.s.r=--e,n===i||s!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,e=0;n!=i&&!((s=r.charCodeAt(n)-64)<1||s>26);++n)e=26*e+s;for(t.e.c=--e,e=0;n!=i&&!((s=r.charCodeAt(n)-48)<0||s>9);++n)e=10*e+s;return t.e.r=--e,t}function l4(r,t){var e=r.t=="d"&&t instanceof Date;if(r.z!=null)try{return r.w=wa(r.z,e?Cs(t):t)}catch{}try{return r.w=wa((r.XF||{}).numFmtId||(e?14:0),e?Cs(t):t)}catch{return""+t}}function Xi(r,t,e){return r==null||r.t==null||r.t=="z"?"":r.w!==void 0?r.w:(r.t=="d"&&!r.z&&e&&e.dateNF&&(r.z=e.dateNF),r.t=="e"?Jl[r.v]||r.v:t==null?l4(r,r.v):l4(r,t))}function nl(r,t){var e=t&&t.sheet?t.sheet:"Sheet1",n={};return n[e]=r,{SheetNames:[e],Sheets:n}}function w8(r,t,e){var n=e||{},s=r?Array.isArray(r):n.dense,i=r||(s?[]:{}),a=0,l=0;if(i&&n.origin!=null){if(typeof n.origin=="number")a=n.origin;else{var c=typeof n.origin=="string"?Es(n.origin):n.origin;a=c.r,l=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var o={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=hn(i["!ref"]);o.s.c=u.s.c,o.s.r=u.s.r,o.e.c=Math.max(o.e.c,u.e.c),o.e.r=Math.max(o.e.r,u.e.r),a==-1&&(o.e.r=a=u.e.r+1)}for(var p=0;p!=t.length;++p)if(t[p]){if(!Array.isArray(t[p]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[p].length;++h)if(!(typeof t[p][h]>"u")){var d={v:t[p][h]},b=a+p,x=l+h;if(o.s.r>b&&(o.s.r=b),o.s.c>x&&(o.s.c=x),o.e.r<b&&(o.e.r=b),o.e.c<x&&(o.e.c=x),t[p][h]&&typeof t[p][h]=="object"&&!Array.isArray(t[p][h])&&!(t[p][h]instanceof Date))d=t[p][h];else if(Array.isArray(d.v)&&(d.f=t[p][h][1],d.v=d.v[0]),d.v===null)if(d.f)d.t="n";else if(n.nullError)d.t="e",d.v=0;else if(n.sheetStubs)d.t="z";else continue;else typeof d.v=="number"?d.t="n":typeof d.v=="boolean"?d.t="b":d.v instanceof Date?(d.z=n.dateNF||fr[14],n.cellDates?(d.t="d",d.w=wa(d.z,Cs(d.v))):(d.t="n",d.v=Cs(d.v),d.w=wa(d.z,d.v))):d.t="s";if(s)i[b]||(i[b]=[]),i[b][x]&&i[b][x].z&&(d.z=i[b][x].z),i[b][x]=d;else{var g=ir({c:x,r:b});i[g]&&i[g].z&&(d.z=i[g].z),i[g]=d}}}return o.s.c<1e7&&(i["!ref"]=Cr(o)),i}function yu(r,t){return w8(null,r,t)}function fI(r){return r.read_shift(4,"i")}function ms(r){var t=r.read_shift(4);return t===0?"":r.read_shift(t,"dbcs")}function hI(r){return{ich:r.read_shift(2),ifnt:r.read_shift(2)}}function nx(r,t){var e=r.l,n=r.read_shift(1),s=ms(r),i=[],a={t:s,h:s};if((n&1)!==0){for(var l=r.read_shift(4),c=0;c!=l;++c)i.push(hI(r));a.r=i}else a.r=[{ich:0,ifnt:0}];return r.l=e+t,a}var dI=nx;function _a(r){var t=r.read_shift(4),e=r.read_shift(2);return e+=r.read_shift(1)<<16,r.l++,{c:t,iStyleRef:e}}function Ql(r){var t=r.read_shift(2);return t+=r.read_shift(1)<<16,r.l++,{c:-1,iStyleRef:t}}var pI=ms;function sx(r){var t=r.read_shift(4);return t===0||t===4294967295?"":r.read_shift(t,"dbcs")}var mI=ms,N1=sx;function ax(r){var t=r.slice(r.l,r.l+4),e=t[0]&1,n=t[0]&2;r.l+=4;var s=n===0?H0([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):El(t,0)>>2;return e?s/100:s}function _8(r){var t={s:{},e:{}};return t.s.r=r.read_shift(4),t.e.r=r.read_shift(4),t.s.c=r.read_shift(4),t.e.c=r.read_shift(4),t}var Zl=_8;function hs(r){if(r.length-r.l<8)throw"XLS Xnum Buffer underflow";return r.read_shift(8,"f")}function gI(r){var t={},e=r.read_shift(1),n=e>>>1,s=r.read_shift(1),i=r.read_shift(2,"i"),a=r.read_shift(1),l=r.read_shift(1),c=r.read_shift(1);switch(r.l++,n){case 0:t.auto=1;break;case 1:t.index=s;var o=Pl[s];o&&(t.rgb=th(o));break;case 2:t.rgb=th([a,l,c]);break;case 3:t.theme=s;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function bI(r){var t=r.read_shift(1);r.l++;var e={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return e}function S8(r,t){var e={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=r.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return e[r.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return r.l-=4,r.read_shift(0,t==1?"lpstr":"lpwstr")}function xI(r){return S8(r,1)}function yI(r){return S8(r,2)}var ix=2,Ps=3,Xd=11,c4=12,$0=19,Yd=64,vI=65,wI=71,_I=4108,SI=4126,Un=80,k8=81,kI=[Un,k8],TI={1:{n:"CodePage",t:ix},2:{n:"Category",t:Un},3:{n:"PresentationFormat",t:Un},4:{n:"ByteCount",t:Ps},5:{n:"LineCount",t:Ps},6:{n:"ParagraphCount",t:Ps},7:{n:"SlideCount",t:Ps},8:{n:"NoteCount",t:Ps},9:{n:"HiddenCount",t:Ps},10:{n:"MultimediaClipCount",t:Ps},11:{n:"ScaleCrop",t:Xd},12:{n:"HeadingPairs",t:_I},13:{n:"TitlesOfParts",t:SI},14:{n:"Manager",t:Un},15:{n:"Company",t:Un},16:{n:"LinksUpToDate",t:Xd},17:{n:"CharacterCount",t:Ps},19:{n:"SharedDoc",t:Xd},22:{n:"HyperlinksChanged",t:Xd},23:{n:"AppVersion",t:Ps,p:"version"},24:{n:"DigSig",t:vI},26:{n:"ContentType",t:Un},27:{n:"ContentStatus",t:Un},28:{n:"Language",t:Un},29:{n:"Version",t:Un},255:{},2147483648:{n:"Locale",t:$0},2147483651:{n:"Behavior",t:$0},1919054434:{}},EI={1:{n:"CodePage",t:ix},2:{n:"Title",t:Un},3:{n:"Subject",t:Un},4:{n:"Author",t:Un},5:{n:"Keywords",t:Un},6:{n:"Comments",t:Un},7:{n:"Template",t:Un},8:{n:"LastAuthor",t:Un},9:{n:"RevNumber",t:Un},10:{n:"EditTime",t:Yd},11:{n:"LastPrinted",t:Yd},12:{n:"CreatedDate",t:Yd},13:{n:"ModifiedDate",t:Yd},14:{n:"PageCount",t:Ps},15:{n:"WordCount",t:Ps},16:{n:"CharCount",t:Ps},17:{n:"Thumbnail",t:wI},18:{n:"Application",t:Un},19:{n:"DocSecurity",t:Ps},255:{},2147483648:{n:"Locale",t:$0},2147483651:{n:"Behavior",t:$0},1919054434:{}},u4={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},AI=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function NI(r){return r.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var CI=NI([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Pl=es(CI),Jl={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},T8={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},f4={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function RI(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function MI(r){var t=RI();if(!r||!r.match)return t;var e={};if((r.match(xs)||[]).forEach(function(n){var s=Jt(n);switch(s[0].replace(BD,"<")){case"<?xml":break;case"<Types":t.xmlns=s["xmlns"+(s[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":e[s.Extension]=s.ContentType;break;case"<Override":t[f4[s.ContentType]]!==void 0&&t[f4[s.ContentType]].push(s.PartName);break}}),t.xmlns!==KD.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=e,delete t.calcchains,t}var Vc={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function C1(r){var t=r.lastIndexOf("/");return r.slice(0,t+1)+"_rels/"+r.slice(t+1)+".rels"}function Mf(r,t){var e={"!id":{}};if(!r)return e;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(r.match(xs)||[]).forEach(function(s){var i=Jt(s);if(i[0]==="<Relationship"){var a={};a.Type=i.Type,a.Target=i.Target,a.Id=i.Id,i.TargetMode&&(a.TargetMode=i.TargetMode);var l=i.TargetMode==="External"?i.Target:xf(i.Target,t);e[l]=a,n[i.Id]=a}}),e["!id"]=n,e}var jI="application/vnd.oasis.opendocument.spreadsheet";function DI(r,t){for(var e=Jb(r),n,s;n=Jf.exec(e);)switch(n[3]){case"manifest":break;case"file-entry":if(s=Jt(n[0],!1),s.path=="/"&&s.type!==jI)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var jf=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],II=(function(){for(var r=new Array(jf.length),t=0;t<jf.length;++t){var e=jf[t],n="(?:"+e[0].slice(0,e[0].indexOf(":"))+":)"+e[0].slice(e[0].indexOf(":")+1);r[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return r})();function E8(r){var t={};r=Xr(r);for(var e=0;e<jf.length;++e){var n=jf[e],s=r.match(II[e]);s!=null&&s.length>0&&(t[n[1]]=Mr(s[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=zn(t[n[1]]))}return t}var OI=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function A8(r,t,e,n){var s=[];if(typeof r=="string")s=t4(r,n);else for(var i=0;i<r.length;++i)s=s.concat(r[i].map(function(u){return{v:u}}));var a=typeof t=="string"?t4(t,n).map(function(u){return u.v}):t,l=0,c=0;if(a.length>0)for(var o=0;o!==s.length;o+=2){switch(c=+s[o+1].v,s[o].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":e.Worksheets=c,e.SheetNames=a.slice(l,l+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":e.NamedRanges=c,e.DefinedNames=a.slice(l,l+c);break;case"Charts":case"Diagramme":e.Chartsheets=c,e.ChartNames=a.slice(l,l+c);break}l+=c}}function FI(r,t,e){var n={};return t||(t={}),r=Xr(r),OI.forEach(function(s){var i=(r.match(Zf(s[0]))||[])[1];switch(s[2]){case"string":i&&(t[s[1]]=Mr(i));break;case"bool":t[s[1]]=i==="true";break;case"raw":var a=r.match(new RegExp("<"+s[0]+"[^>]*>([\\s\\S]*?)</"+s[0]+">"));a&&a.length>0&&(n[s[1]]=a[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&A8(n.HeadingPairs,n.TitlesOfParts,t,e),t}var PI=/<[^>]+>[^<]*/g;function LI(r,t){var e={},n="",s=r.match(PI);if(s)for(var i=0;i!=s.length;++i){var a=s[i],l=Jt(a);switch(l[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Mr(l.name);break;case"</property>":n=null;break;default:if(a.indexOf("<vt:")===0){var c=a.split(">"),o=c[0].slice(4),u=c[1];switch(o){case"lpstr":case"bstr":case"lpwstr":e[n]=Mr(u);break;case"bool":e[n]=rn(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":e[n]=parseInt(u,10);break;case"r4":case"r8":case"decimal":e[n]=parseFloat(u);break;case"filetime":case"date":e[n]=zn(u);break;case"cy":case"error":e[n]=Mr(u);break;default:if(o.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",a,o,c)}}else if(a.slice(0,2)!=="</"){if(t.WTF)throw new Error(a)}}}return e}var BI={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},Hg;function UI(r,t,e){Hg||(Hg=Kb(BI)),t=Hg[t]||t,r[t]=e}function ox(r){var t=r.read_shift(4),e=r.read_shift(4);return new Date((e/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function N8(r,t,e){var n=r.l,s=r.read_shift(0,"lpstr-cp");if(e)for(;r.l-n&3;)++r.l;return s}function C8(r,t,e){var n=r.read_shift(0,"lpwstr");return n}function R8(r,t,e){return t===31?C8(r):N8(r,t,e)}function R1(r,t,e){return R8(r,t,e===!1?0:4)}function VI(r,t){if(!t)throw new Error("VtUnalignedString must have positive length");return R8(r,t,0)}function zI(r){for(var t=r.read_shift(4),e=[],n=0;n!=t;++n){var s=r.l;e[n]=r.read_shift(0,"lpwstr").replace(Ns,""),r.l-s&2&&(r.l+=2)}return e}function HI(r){for(var t=r.read_shift(4),e=[],n=0;n!=t;++n)e[n]=r.read_shift(0,"lpstr-cp").replace(Ns,"");return e}function $I(r){var t=r.l,e=q0(r,k8);r[r.l]==0&&r[r.l+1]==0&&r.l-t&2&&(r.l+=2);var n=q0(r,Ps);return[e,n]}function qI(r){for(var t=r.read_shift(4),e=[],n=0;n<t/2;++n)e.push($I(r));return e}function h4(r,t){for(var e=r.read_shift(4),n={},s=0;s!=e;++s){var i=r.read_shift(4),a=r.read_shift(4);n[i]=r.read_shift(a,t===1200?"utf16le":"utf8").replace(Ns,"").replace(bf,"!"),t===1200&&a%2&&(r.l+=2)}return r.l&3&&(r.l=r.l>>3<<2),n}function M8(r){var t=r.read_shift(4),e=r.slice(r.l,r.l+t);return r.l+=t,(t&3)>0&&(r.l+=4-(t&3)&3),e}function GI(r){var t={};return t.Size=r.read_shift(4),r.l+=t.Size+3-(t.Size-1)%4,t}function q0(r,t,e){var n=r.read_shift(2),s,i=e||{};if(r.l+=2,t!==c4&&n!==t&&kI.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===c4?n:t){case 2:return s=r.read_shift(2,"i"),i.raw||(r.l+=2),s;case 3:return s=r.read_shift(4,"i"),s;case 11:return r.read_shift(4)!==0;case 19:return s=r.read_shift(4),s;case 30:return N8(r,n,4).replace(Ns,"");case 31:return C8(r);case 64:return ox(r);case 65:return M8(r);case 71:return GI(r);case 80:return R1(r,n,!i.raw).replace(Ns,"");case 81:return VI(r,n).replace(Ns,"");case 4108:return qI(r);case 4126:case 4127:return n==4127?zI(r):HI(r);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function d4(r,t){var e=r.l,n=r.read_shift(4),s=r.read_shift(4),i=[],a=0,l=0,c=-1,o={};for(a=0;a!=s;++a){var u=r.read_shift(4),p=r.read_shift(4);i[a]=[u,p+e]}i.sort(function(v,k){return v[1]-k[1]});var h={};for(a=0;a!=s;++a){if(r.l!==i[a][1]){var d=!0;if(a>0&&t)switch(t[i[a-1][0]].t){case 2:r.l+2===i[a][1]&&(r.l+=2,d=!1);break;case 80:r.l<=i[a][1]&&(r.l=i[a][1],d=!1);break;case 4108:r.l<=i[a][1]&&(r.l=i[a][1],d=!1);break}if((!t||a==0)&&r.l<=i[a][1]&&(d=!1,r.l=i[a][1]),d)throw new Error("Read Error: Expected address "+i[a][1]+" at "+r.l+" :"+a)}if(t){var b=t[i[a][0]];if(h[b.n]=q0(r,b.t,{raw:!0}),b.p==="version"&&(h[b.n]=String(h[b.n]>>16)+"."+("0000"+String(h[b.n]&65535)).slice(-4)),b.n=="CodePage")switch(h[b.n]){case 0:h[b.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:La(l=h[b.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[b.n])}}else if(i[a][0]===1){if(l=h.CodePage=q0(r,ix),La(l),c!==-1){var x=r.l;r.l=i[c][1],o=h4(r,l),r.l=x}}else if(i[a][0]===0){if(l===0){c=a,r.l=i[a+1][1];continue}o=h4(r,l)}else{var g=o[i[a][0]],w;switch(r[r.l]){case 65:r.l+=4,w=M8(r);break;case 30:r.l+=4,w=R1(r,r[r.l-4]).replace(/\u0000+$/,"");break;case 31:r.l+=4,w=R1(r,r[r.l-4]).replace(/\u0000+$/,"");break;case 3:r.l+=4,w=r.read_shift(4,"i");break;case 19:r.l+=4,w=r.read_shift(4);break;case 5:r.l+=4,w=r.read_shift(8,"f");break;case 11:r.l+=4,w=yn(r,4);break;case 64:r.l+=4,w=zn(ox(r));break;default:throw new Error("unparsed value: "+r[r.l])}h[g]=w}}return r.l=e+n,h}function p4(r,t,e){var n=r.content;if(!n)return{};Qn(n,0);var s,i,a,l,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var o=n.read_shift(4),u=n.read_shift(16);if(u!==Nr.utils.consts.HEADER_CLSID&&u!==e)throw new Error("Bad PropertySet CLSID "+u);if(s=n.read_shift(4),s!==1&&s!==2)throw new Error("Unrecognized #Sets: "+s);if(i=n.read_shift(16),l=n.read_shift(4),s===1&&l!==n.l)throw new Error("Length mismatch: "+l+" !== "+n.l);s===2&&(a=n.read_shift(16),c=n.read_shift(4));var p=d4(n,t),h={SystemIdentifier:o};for(var d in p)h[d]=p[d];if(h.FMTID=i,s===1)return h;if(c-n.l==2&&(n.l+=2),n.l!==c)throw new Error("Length mismatch 2: "+n.l+" !== "+c);var b;try{b=d4(n,null)}catch{}for(d in b)h[d]=b[d];return h.FMTID=[i,a],h}function Ao(r,t){return r.read_shift(t),null}function WI(r,t,e){for(var n=[],s=r.l+t;r.l<s;)n.push(e(r,s-r.l));if(s!==r.l)throw new Error("Slurp error");return n}function yn(r,t){return r.read_shift(t)===1}function Nn(r){return r.read_shift(2,"u")}function j8(r,t){return WI(r,t,Nn)}function XI(r){var t=r.read_shift(1),e=r.read_shift(1);return e===1?t:t===1}function yh(r,t,e){var n=r.read_shift(e&&e.biff>=12?2:1),s="sbcs-cont";if(e&&e.biff>=8,!e||e.biff==8){var i=r.read_shift(1);i&&(s="dbcs-cont")}else e.biff==12&&(s="wstr");e.biff>=2&&e.biff<=5&&(s="cpstr");var a=n?r.read_shift(n,s):"";return a}function YI(r){var t=r.read_shift(2),e=r.read_shift(1),n=e&4,s=e&8,i=1+(e&1),a=0,l,c={};s&&(a=r.read_shift(2)),n&&(l=r.read_shift(4));var o=i==2?"dbcs-cont":"sbcs-cont",u=t===0?"":r.read_shift(t,o);return s&&(r.l+=4*a),n&&(r.l+=l),c.t=u,s||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function Gl(r,t,e){var n;if(e){if(e.biff>=2&&e.biff<=5)return r.read_shift(t,"cpstr");if(e.biff>=12)return r.read_shift(t,"dbcs-cont")}var s=r.read_shift(1);return s===0?n=r.read_shift(t,"sbcs-cont"):n=r.read_shift(t,"dbcs-cont"),n}function vh(r,t,e){var n=r.read_shift(e&&e.biff==2?1:2);return n===0?(r.l++,""):Gl(r,n,e)}function ec(r,t,e){if(e.biff>5)return vh(r,t,e);var n=r.read_shift(1);return n===0?(r.l++,""):r.read_shift(n,e.biff<=4||!r.lens?"cpstr":"sbcs-cont")}function KI(r){var t=r.read_shift(1);r.l++;var e=r.read_shift(2);return r.l+=2,[t,e]}function QI(r){var t=r.read_shift(4),e=r.l,n=!1;t>24&&(r.l+=t-24,r.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),r.l=e);var s=r.read_shift((n?t-24:t)>>1,"utf16le").replace(Ns,"");return n&&(r.l+=24),s}function ZI(r){for(var t=r.read_shift(2),e="";t-- >0;)e+="../";var n=r.read_shift(0,"lpstr-ansi");if(r.l+=2,r.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var s=r.read_shift(4);if(s===0)return e+n.replace(/\\/g,"/");var i=r.read_shift(4);if(r.read_shift(2)!=3)throw new Error("Bad FileMoniker");var a=r.read_shift(i>>1,"utf16le").replace(Ns,"");return e+a}function JI(r,t){var e=r.read_shift(16);switch(e){case"e0c9ea79f9bace118c8200aa004ba90b":return QI(r);case"0303000000000000c000000000000046":return ZI(r);default:throw new Error("Unsupported Moniker "+e)}}function Kd(r){var t=r.read_shift(4),e=t>0?r.read_shift(t,"utf16le").replace(Ns,""):"";return e}function eO(r,t){var e=r.l+t,n=r.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var s=r.read_shift(2);r.l+=2;var i,a,l,c,o="",u,p;s&16&&(i=Kd(r,e-r.l)),s&128&&(a=Kd(r,e-r.l)),(s&257)===257&&(l=Kd(r,e-r.l)),(s&257)===1&&(c=JI(r,e-r.l)),s&8&&(o=Kd(r,e-r.l)),s&32&&(u=r.read_shift(16)),s&64&&(p=ox(r)),r.l=e;var h=a||l||c||"";h&&o&&(h+="#"+o),h||(h="#"+o),s&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var d={Target:h};return u&&(d.guid=u),p&&(d.time=p),i&&(d.Tooltip=i),d}function D8(r){var t=r.read_shift(1),e=r.read_shift(1),n=r.read_shift(1),s=r.read_shift(1);return[t,e,n,s]}function I8(r,t){var e=D8(r);return e[3]=0,e}function mi(r){var t=r.read_shift(2),e=r.read_shift(2),n=r.read_shift(2);return{r:t,c:e,ixfe:n}}function tO(r){var t=r.read_shift(2),e=r.read_shift(2);return r.l+=8,{type:t,flags:e}}function rO(r,t,e){return t===0?"":ec(r,t,e)}function nO(r,t,e){var n=e.biff>8?4:2,s=r.read_shift(n),i=r.read_shift(n,"i"),a=r.read_shift(n,"i");return[s,i,a]}function O8(r){var t=r.read_shift(2),e=ax(r);return[t,e]}function sO(r,t,e){r.l+=4,t-=4;var n=r.l+t,s=yh(r,t,e),i=r.read_shift(2);if(n-=r.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return r.l+=i,s}function Sp(r){var t=r.read_shift(2),e=r.read_shift(2),n=r.read_shift(2),s=r.read_shift(2);return{s:{c:n,r:t},e:{c:s,r:e}}}function F8(r){var t=r.read_shift(2),e=r.read_shift(2),n=r.read_shift(1),s=r.read_shift(1);return{s:{c:n,r:t},e:{c:s,r:e}}}var aO=F8;function P8(r){r.l+=4;var t=r.read_shift(2),e=r.read_shift(2),n=r.read_shift(2);return r.l+=12,[e,t,n]}function iO(r){var t={};return r.l+=4,r.l+=16,t.fSharedNote=r.read_shift(2),r.l+=4,t}function oO(r){var t={};return r.l+=4,r.cf=r.read_shift(2),t}function is(r){r.l+=2,r.l+=r.read_shift(2)}var lO={0:is,4:is,5:is,6:is,7:oO,8:is,9:is,10:is,11:is,12:is,13:iO,14:is,15:is,16:is,17:is,18:is,19:is,20:is,21:P8};function cO(r,t){for(var e=r.l+t,n=[];r.l<e;){var s=r.read_shift(2);r.l-=2;try{n.push(lO[s](r,e-r.l))}catch{return r.l=e,n}}return r.l!=e&&(r.l=e),n}function Qd(r,t){var e={BIFFVer:0,dt:0};switch(e.BIFFVer=r.read_shift(2),t-=2,t>=2&&(e.dt=r.read_shift(2),r.l-=2),e.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+e.BIFFVer)}return r.read_shift(t),e}function uO(r,t){return t===0||r.read_shift(2),1200}function fO(r,t,e){if(e.enc)return r.l+=t,"";var n=r.l,s=ec(r,0,e);return r.read_shift(t+n-r.l),s}function hO(r,t,e){var n=e&&e.biff==8||t==2?r.read_shift(2):(r.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function dO(r,t,e){var n=r.read_shift(4),s=r.read_shift(1)&3,i=r.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var a=yh(r,0,e);return a.length===0&&(a="Sheet1"),{pos:n,hs:s,dt:i,name:a}}function pO(r,t){for(var e=r.l+t,n=r.read_shift(4),s=r.read_shift(4),i=[],a=0;a!=s&&r.l<e;++a)i.push(YI(r));return i.Count=n,i.Unique=s,i}function mO(r,t){var e={};return e.dsst=r.read_shift(2),r.l+=t-2,e}function gO(r){var t={};t.r=r.read_shift(2),t.c=r.read_shift(2),t.cnt=r.read_shift(2)-t.c;var e=r.read_shift(2);r.l+=4;var n=r.read_shift(1);return r.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=e/20),t}function bO(r){var t=tO(r);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var e=r.read_shift(4);return e!==0}function xO(r){return r.read_shift(2),r.read_shift(4)}function m4(r,t,e){var n=0;e&&e.biff==2||(n=r.read_shift(2));var s=r.read_shift(2);e&&e.biff==2&&(n=1-(s>>15),s&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,s]}function yO(r){var t=r.read_shift(2),e=r.read_shift(2),n=r.read_shift(2),s=r.read_shift(2),i=r.read_shift(2),a=r.read_shift(2),l=r.read_shift(2),c=r.read_shift(2),o=r.read_shift(2);return{Pos:[t,e],Dim:[n,s],Flags:i,CurTab:a,FirstTab:l,Selected:c,TabRatio:o}}function vO(r,t,e){if(e&&e.biff>=2&&e.biff<5)return{};var n=r.read_shift(2);return{RTL:n&64}}function wO(){}function _O(r,t,e){var n={dyHeight:r.read_shift(2),fl:r.read_shift(2)};switch(e&&e.biff||8){case 2:break;case 3:case 4:r.l+=2;break;default:r.l+=10;break}return n.name=yh(r,0,e),n}function SO(r){var t=mi(r);return t.isst=r.read_shift(4),t}function kO(r,t,e){e.biffguess&&e.biff==2&&(e.biff=5);var n=r.l+t,s=mi(r);e.biff==2&&r.l++;var i=vh(r,n-r.l,e);return s.val=i,s}function TO(r,t,e){var n=r.read_shift(2),s=ec(r,0,e);return[n,s]}var EO=ec;function g4(r,t,e){var n=r.l+t,s=e.biff==8||!e.biff?4:2,i=r.read_shift(s),a=r.read_shift(s),l=r.read_shift(2),c=r.read_shift(2);return r.l=n,{s:{r:i,c:l},e:{r:a,c}}}function AO(r){var t=r.read_shift(2),e=r.read_shift(2),n=O8(r);return{r:t,c:e,ixfe:n[0],rknum:n[1]}}function NO(r,t){for(var e=r.l+t-2,n=r.read_shift(2),s=r.read_shift(2),i=[];r.l<e;)i.push(O8(r));if(r.l!==e)throw new Error("MulRK read error");var a=r.read_shift(2);if(i.length!=a-s+1)throw new Error("MulRK length mismatch");return{r:n,c:s,C:a,rkrec:i}}function CO(r,t){for(var e=r.l+t-2,n=r.read_shift(2),s=r.read_shift(2),i=[];r.l<e;)i.push(r.read_shift(2));if(r.l!==e)throw new Error("MulBlank read error");var a=r.read_shift(2);if(i.length!=a-s+1)throw new Error("MulBlank length mismatch");return{r:n,c:s,C:a,ixfe:i}}function RO(r,t,e,n){var s={},i=r.read_shift(4),a=r.read_shift(4),l=r.read_shift(4),c=r.read_shift(2);return s.patternType=AI[l>>26],n.cellStyles&&(s.alc=i&7,s.fWrap=i>>3&1,s.alcV=i>>4&7,s.fJustLast=i>>7&1,s.trot=i>>8&255,s.cIndent=i>>16&15,s.fShrinkToFit=i>>20&1,s.iReadOrder=i>>22&2,s.fAtrNum=i>>26&1,s.fAtrFnt=i>>27&1,s.fAtrAlc=i>>28&1,s.fAtrBdr=i>>29&1,s.fAtrPat=i>>30&1,s.fAtrProt=i>>31&1,s.dgLeft=a&15,s.dgRight=a>>4&15,s.dgTop=a>>8&15,s.dgBottom=a>>12&15,s.icvLeft=a>>16&127,s.icvRight=a>>23&127,s.grbitDiag=a>>30&3,s.icvTop=l&127,s.icvBottom=l>>7&127,s.icvDiag=l>>14&127,s.dgDiag=l>>21&15,s.icvFore=c&127,s.icvBack=c>>7&127,s.fsxButton=c>>14&1),s}function MO(r,t,e){var n={};return n.ifnt=r.read_shift(2),n.numFmtId=r.read_shift(2),n.flags=r.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=RO(r,t,n.fStyle,e),n}function jO(r){r.l+=4;var t=[r.read_shift(2),r.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function b4(r,t,e){var n=mi(r);(e.biff==2||t==9)&&++r.l;var s=XI(r);return n.val=s,n.t=s===!0||s===!1?"b":"e",n}function DO(r,t,e){e.biffguess&&e.biff==2&&(e.biff=5);var n=mi(r),s=hs(r);return n.val=s,n}var x4=rO;function IO(r,t,e){var n=r.l+t,s=r.read_shift(2),i=r.read_shift(2);if(e.sbcch=i,i==1025||i==14849)return[i,s];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var a=Gl(r,i),l=[];n>r.l;)l.push(vh(r));return[i,s,a,l]}function y4(r,t,e){var n=r.read_shift(2),s,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return e.sbcch===14849&&(s=sO(r,t-2,e)),i.body=s||r.read_shift(t-2),typeof s=="string"&&(i.Name=s),i}var OO=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function v4(r,t,e){var n=r.l+t,s=r.read_shift(2),i=r.read_shift(1),a=r.read_shift(1),l=r.read_shift(e&&e.biff==2?1:2),c=0;(!e||e.biff>=5)&&(e.biff!=5&&(r.l+=2),c=r.read_shift(2),e.biff==5&&(r.l+=2),r.l+=4);var o=Gl(r,a,e);s&32&&(o=OO[o.charCodeAt(0)]);var u=n-r.l;e&&e.biff==2&&--u;var p=n==r.l||l===0||!(u>0)?[]:gB(r,u,e,l);return{chKey:i,Name:o,itab:c,rgce:p}}function L8(r,t,e){if(e.biff<8)return FO(r,t,e);for(var n=[],s=r.l+t,i=r.read_shift(e.biff>8?4:2);i--!==0;)n.push(nO(r,e.biff>8?12:6,e));if(r.l!=s)throw new Error("Bad ExternSheet: "+r.l+" != "+s);return n}function FO(r,t,e){r[r.l+1]==3&&r[r.l]++;var n=yh(r,t,e);return n.charCodeAt(0)==3?n.slice(1):n}function PO(r,t,e){if(e.biff<8){r.l+=t;return}var n=r.read_shift(2),s=r.read_shift(2),i=Gl(r,n,e),a=Gl(r,s,e);return[i,a]}function LO(r,t,e){var n=F8(r);r.l++;var s=r.read_shift(1);return t-=8,[bB(r,t,e),s,n]}function w4(r,t,e){var n=aO(r);switch(e.biff){case 2:r.l++,t-=7;break;case 3:case 4:r.l+=2,t-=8;break;default:r.l+=6,t-=12}return[n,pB(r,t,e)]}function BO(r){var t=r.read_shift(4)!==0,e=r.read_shift(4)!==0,n=r.read_shift(4);return[t,e,n]}function UO(r,t,e){if(!(e.biff<8)){var n=r.read_shift(2),s=r.read_shift(2),i=r.read_shift(2),a=r.read_shift(2),l=ec(r,0,e);return e.biff<8&&r.read_shift(1),[{r:n,c:s},l,a,i]}}function VO(r,t,e){return UO(r,t,e)}function zO(r,t){for(var e=[],n=r.read_shift(2);n--;)e.push(Sp(r));return e}function HO(r,t,e){if(e&&e.biff<8)return qO(r,t,e);var n=P8(r),s=cO(r,t-22,n[1]);return{cmo:n,ft:s}}var $O={8:function(r,t){var e=r.l+t;r.l+=10;var n=r.read_shift(2);r.l+=4,r.l+=2,r.l+=2,r.l+=2,r.l+=4;var s=r.read_shift(1);return r.l+=s,r.l=e,{fmt:n}}};function qO(r,t,e){r.l+=4;var n=r.read_shift(2),s=r.read_shift(2),i=r.read_shift(2);r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=6,t-=36;var a=[];return a.push(($O[n]||bs)(r,t,e)),{cmo:[s,n,i],ft:a}}function GO(r,t,e){var n=r.l,s="";try{r.l+=4;var i=(e.lastobj||{cmo:[0,0]}).cmo[1],a;[0,5,7,11,12,14].indexOf(i)==-1?r.l+=6:a=KI(r,6,e);var l=r.read_shift(2);r.read_shift(2),Nn(r,2);var c=r.read_shift(2);r.l+=c;for(var o=1;o<r.lens.length-1;++o){if(r.l-n!=r.lens[o])throw new Error("TxO: bad continue record");var u=r[r.l],p=Gl(r,r.lens[o+1]-r.lens[o]-1);if(s+=p,s.length>=(u?l:2*l))break}if(s.length!==l&&s.length!==l*2)throw new Error("cchText: "+l+" != "+s.length);return r.l=n+t,{t:s}}catch{return r.l=n+t,{t:s}}}function WO(r,t){var e=Sp(r);r.l+=16;var n=eO(r,t-24);return[e,n]}function XO(r,t){r.read_shift(2);var e=Sp(r),n=r.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(Ns,""),[e,n]}function YO(r){var t=[0,0],e;return e=r.read_shift(2),t[0]=u4[e]||e,e=r.read_shift(2),t[1]=u4[e]||e,t}function KO(r){for(var t=r.read_shift(2),e=[];t-- >0;)e.push(I8(r));return e}function QO(r){for(var t=r.read_shift(2),e=[];t-- >0;)e.push(I8(r));return e}function ZO(r){r.l+=2;var t={cxfs:0,crc:0};return t.cxfs=r.read_shift(2),t.crc=r.read_shift(4),t}function B8(r,t,e){if(!e.cellStyles)return bs(r,t);var n=e&&e.biff>=12?4:2,s=r.read_shift(n),i=r.read_shift(n),a=r.read_shift(n),l=r.read_shift(n),c=r.read_shift(2);n==2&&(r.l+=2);var o={s,e:i,w:a,ixfe:l,flags:c};return(e.biff>=5||!e.biff)&&(o.level=c>>8&7),o}function JO(r,t){var e={};return t<32||(r.l+=16,e.header=hs(r),e.footer=hs(r),r.l+=2),e}function eF(r,t,e){var n={area:!1};if(e.biff!=5)return r.l+=t,n;var s=r.read_shift(1);return r.l+=3,s&16&&(n.area=!0),n}var tF=mi,rF=j8,nF=vh;function sF(r){var t=r.read_shift(2),e=r.read_shift(2),n=r.read_shift(4),s={fmt:t,env:e,len:n,data:r.slice(r.l,r.l+n)};return r.l+=n,s}function aF(r,t,e){e.biffguess&&e.biff==5&&(e.biff=2);var n=mi(r);++r.l;var s=ec(r,t-7,e);return n.t="str",n.val=s,n}function iF(r){var t=mi(r);++r.l;var e=hs(r);return t.t="n",t.val=e,t}function oF(r){var t=mi(r);++r.l;var e=r.read_shift(2);return t.t="n",t.val=e,t}function lF(r){var t=r.read_shift(1);return t===0?(r.l++,""):r.read_shift(t,"sbcs-cont")}function cF(r,t){r.l+=6,r.l+=2,r.l+=1,r.l+=3,r.l+=1,r.l+=t-13}function uF(r,t,e){var n=r.l+t,s=mi(r),i=r.read_shift(2),a=Gl(r,i,e);return r.l=n,s.t="str",s.val=a,s}var fF=[2,3,48,49,131,139,140,245],_4=(function(){var r={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=Kb({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function e(l,c){var o=[],u=Jo(1);switch(c.type){case"base64":u=Fa(sa(l));break;case"binary":u=Fa(l);break;case"buffer":case"array":u=l;break}Qn(u,0);var p=u.read_shift(1),h=!!(p&136),d=!1,b=!1;switch(p){case 2:break;case 3:break;case 48:d=!0,h=!0;break;case 49:d=!0,h=!0;break;case 131:break;case 139:break;case 140:b=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+p.toString(16))}var x=0,g=521;p==2&&(x=u.read_shift(2)),u.l+=3,p!=2&&(x=u.read_shift(4)),x>1048576&&(x=1e6),p!=2&&(g=u.read_shift(2));var w=u.read_shift(2),v=c.codepage||1252;p!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(v=r[u[u.l]]),u.l+=1,u.l+=2),b&&(u.l+=36);for(var k=[],R={},L=Math.min(u.length,p==2?521:g-10-(d?264:0)),G=b?32:11;u.l<L&&u[u.l]!=13;)switch(R={},R.name=Kf.utils.decode(v,u.slice(u.l,u.l+G)).replace(/[\u0000\r\n].*$/g,""),u.l+=G,R.type=String.fromCharCode(u.read_shift(1)),p!=2&&!b&&(R.offset=u.read_shift(4)),R.len=u.read_shift(1),p==2&&(R.offset=u.read_shift(2)),R.dec=u.read_shift(1),R.name.length&&k.push(R),p!=2&&(u.l+=b?13:14),R.type){case"B":(!d||R.len!=8)&&c.WTF&&console.log("Skipping "+R.name+":"+R.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+R.name+":"+R.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+R.type)}if(u[u.l]!==13&&(u.l=g-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=g;var V=0,O=0;for(o[0]=[],O=0;O!=k.length;++O)o[0][O]=k[O].name;for(;x-- >0;){if(u[u.l]===42){u.l+=w;continue}for(++u.l,o[++V]=[],O=0,O=0;O!=k.length;++O){var F=u.slice(u.l,u.l+k[O].len);u.l+=k[O].len,Qn(F,0);var B=Kf.utils.decode(v,F);switch(k[O].type){case"C":B.trim().length&&(o[V][O]=B.replace(/\s+$/,""));break;case"D":B.length===8?o[V][O]=new Date(+B.slice(0,4),+B.slice(4,6)-1,+B.slice(6,8)):o[V][O]=B;break;case"F":o[V][O]=parseFloat(B.trim());break;case"+":case"I":o[V][O]=b?F.read_shift(-4,"i")^2147483648:F.read_shift(4,"i");break;case"L":switch(B.trim().toUpperCase()){case"Y":case"T":o[V][O]=!0;break;case"N":case"F":o[V][O]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+B+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+p.toString(16));o[V][O]="##MEMO##"+(b?parseInt(B.trim(),10):F.read_shift(4));break;case"N":B=B.replace(/\u0000/g,"").trim(),B&&B!="."&&(o[V][O]=+B||0);break;case"@":o[V][O]=new Date(F.read_shift(-8,"f")-621356832e5);break;case"T":o[V][O]=new Date((F.read_shift(4)-2440588)*864e5+F.read_shift(4));break;case"Y":o[V][O]=F.read_shift(4,"i")/1e4+F.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":o[V][O]=-F.read_shift(-8,"f");break;case"B":if(d&&k[O].len==8){o[V][O]=F.read_shift(8,"f");break}case"G":case"P":F.l+=k[O].len;break;case"0":if(k[O].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+k[O].type)}}}if(p!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return c&&c.sheetRows&&(o=o.slice(0,c.sheetRows)),c.DBF=k,o}function n(l,c){var o=c||{};o.dateNF||(o.dateNF="yyyymmdd");var u=yu(e(l,o),o);return u["!cols"]=o.DBF.map(function(p){return{wch:p.len,DBF:p}}),delete o.DBF,u}function s(l,c){try{return nl(n(l,c),c)}catch(o){if(c&&c.WTF)throw o}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function a(l,c){var o=c||{};if(+o.codepage>=0&&La(+o.codepage),o.type=="string")throw new Error("Cannot write DBF to JS string");var u=A1(),p=P1(l,{header:1,raw:!0,cellDates:!0}),h=p[0],d=p.slice(1),b=l["!cols"]||[],x=0,g=0,w=0,v=1;for(x=0;x<h.length;++x){if(((b[x]||{}).DBF||{}).name){h[x]=b[x].DBF.name,++w;continue}if(h[x]!=null){if(++w,typeof h[x]=="number"&&(h[x]=h[x].toString(10)),typeof h[x]!="string")throw new Error("DBF Invalid column name "+h[x]+" |"+typeof h[x]+"|");if(h.indexOf(h[x])!==x){for(g=0;g<1024;++g)if(h.indexOf(h[x]+"_"+g)==-1){h[x]+="_"+g;break}}}}var k=hn(l["!ref"]),R=[],L=[],G=[];for(x=0;x<=k.e.c-k.s.c;++x){var V="",O="",F=0,B=[];for(g=0;g<d.length;++g)d[g][x]!=null&&B.push(d[g][x]);if(B.length==0||h[x]==null){R[x]="?";continue}for(g=0;g<B.length;++g){switch(typeof B[g]){case"number":O="B";break;case"string":O="C";break;case"boolean":O="L";break;case"object":O=B[g]instanceof Date?"D":"C";break;default:O="C"}F=Math.max(F,String(B[g]).length),V=V&&V!=O?"C":O}F>250&&(F=250),O=((b[x]||{}).DBF||{}).type,O=="C"&&b[x].DBF.len>F&&(F=b[x].DBF.len),V=="B"&&O=="N"&&(V="N",G[x]=b[x].DBF.dec,F=b[x].DBF.len),L[x]=V=="C"||O=="N"?F:i[V]||0,v+=L[x],R[x]=V}var W=u.next(32);for(W.write_shift(4,318902576),W.write_shift(4,d.length),W.write_shift(2,296+32*w),W.write_shift(2,v),x=0;x<4;++x)W.write_shift(4,0);for(W.write_shift(4,0|(+t[L6]||3)<<8),x=0,g=0;x<h.length;++x)if(h[x]!=null){var P=u.next(32),N=(h[x].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);P.write_shift(1,N,"sbcs"),P.write_shift(1,R[x]=="?"?"C":R[x],"sbcs"),P.write_shift(4,g),P.write_shift(1,L[x]||i[R[x]]||0),P.write_shift(1,G[x]||0),P.write_shift(1,2),P.write_shift(4,0),P.write_shift(1,0),P.write_shift(4,0),P.write_shift(4,0),g+=L[x]||i[R[x]]||0}var D=u.next(264);for(D.write_shift(4,13),x=0;x<65;++x)D.write_shift(4,0);for(x=0;x<d.length;++x){var C=u.next(v);for(C.write_shift(1,0),g=0;g<h.length;++g)if(h[g]!=null)switch(R[g]){case"L":C.write_shift(1,d[x][g]==null?63:d[x][g]?84:70);break;case"B":C.write_shift(8,d[x][g]||0,"f");break;case"N":var S="0";for(typeof d[x][g]=="number"&&(S=d[x][g].toFixed(G[g]||0)),w=0;w<L[g]-S.length;++w)C.write_shift(1,32);C.write_shift(1,S,"sbcs");break;case"D":d[x][g]?(C.write_shift(4,("0000"+d[x][g].getFullYear()).slice(-4),"sbcs"),C.write_shift(2,("00"+(d[x][g].getMonth()+1)).slice(-2),"sbcs"),C.write_shift(2,("00"+d[x][g].getDate()).slice(-2),"sbcs")):C.write_shift(8,"00000000","sbcs");break;case"C":var T=String(d[x][g]!=null?d[x][g]:"").slice(0,L[g]);for(C.write_shift(1,T,"sbcs"),w=0;w<L[g]-T.length;++w)C.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:s,to_sheet:n,from_sheet:a}})(),hF=(function(){var r={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+di(r).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),e=function(h,d){var b=r[d];return typeof b=="number"?L_(b):b},n=function(h,d,b){var x=d.charCodeAt(0)-32<<4|b.charCodeAt(0)-48;return x==59?h:L_(x)};r["|"]=254;function s(h,d){switch(d.type){case"base64":return i(sa(h),d);case"binary":return i(h,d);case"buffer":return i(Er&&Buffer.isBuffer(h)?h.toString("binary"):Kl(h),d);case"array":return i(ql(h),d)}throw new Error("Unrecognized type "+d.type)}function i(h,d){var b=h.split(/[\n\r]+/),x=-1,g=-1,w=0,v=0,k=[],R=[],L=null,G={},V=[],O=[],F=[],B=0,W;for(+d.codepage>=0&&La(+d.codepage);w!==b.length;++w){B=0;var P=b[w].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,e),N=P.replace(/;;/g,"\0").split(";").map(function(ee){return ee.replace(/\u0000/g,";")}),D=N[0],C;if(P.length>0)switch(D){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":N[1].charAt(0)=="P"&&R.push(P.slice(3).replace(/;;/g,";"));break;case"C":var S=!1,T=!1,A=!1,E=!1,j=-1,U=-1;for(v=1;v<N.length;++v)switch(N[v].charAt(0)){case"A":break;case"X":g=parseInt(N[v].slice(1))-1,T=!0;break;case"Y":for(x=parseInt(N[v].slice(1))-1,T||(g=0),W=k.length;W<=x;++W)k[W]=[];break;case"K":C=N[v].slice(1),C.charAt(0)==='"'?C=C.slice(1,C.length-1):C==="TRUE"?C=!0:C==="FALSE"?C=!1:isNaN(Va(C))?isNaN(iu(C).getDate())||(C=zn(C)):(C=Va(C),L!==null&&bu(L)&&(C=_p(C))),S=!0;break;case"E":E=!0;var I=Yc(N[v].slice(1),{r:x,c:g});k[x][g]=[k[x][g],I];break;case"S":A=!0,k[x][g]=[k[x][g],"S5S"];break;case"G":break;case"R":j=parseInt(N[v].slice(1))-1;break;case"C":U=parseInt(N[v].slice(1))-1;break;default:if(d&&d.WTF)throw new Error("SYLK bad record "+P)}if(S&&(k[x][g]&&k[x][g].length==2?k[x][g][0]=C:k[x][g]=C,L=null),A){if(E)throw new Error("SYLK shared formula cannot have own formula");var Q=j>-1&&k[j][U];if(!Q||!Q[1])throw new Error("SYLK shared formula cannot find base");k[x][g][1]=Y8(Q[1],{r:x-j,c:g-U})}break;case"F":var Y=0;for(v=1;v<N.length;++v)switch(N[v].charAt(0)){case"X":g=parseInt(N[v].slice(1))-1,++Y;break;case"Y":for(x=parseInt(N[v].slice(1))-1,W=k.length;W<=x;++W)k[W]=[];break;case"M":B=parseInt(N[v].slice(1))/20;break;case"F":break;case"G":break;case"P":L=R[parseInt(N[v].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(F=N[v].slice(1).split(" "),W=parseInt(F[0],10);W<=parseInt(F[1],10);++W)B=parseInt(F[2],10),O[W-1]=B===0?{hidden:!0}:{wch:B},ou(O[W-1]);break;case"C":g=parseInt(N[v].slice(1))-1,O[g]||(O[g]={});break;case"R":x=parseInt(N[v].slice(1))-1,V[x]||(V[x]={}),B>0?(V[x].hpt=B,V[x].hpx=rh(B)):B===0&&(V[x].hidden=!0);break;default:if(d&&d.WTF)throw new Error("SYLK bad record "+P)}Y<1&&(L=null);break;default:if(d&&d.WTF)throw new Error("SYLK bad record "+P)}}return V.length>0&&(G["!rows"]=V),O.length>0&&(G["!cols"]=O),d&&d.sheetRows&&(k=k.slice(0,d.sheetRows)),[k,G]}function a(h,d){var b=s(h,d),x=b[0],g=b[1],w=yu(x,d);return di(g).forEach(function(v){w[v]=g[v]}),w}function l(h,d){return nl(a(h,d),d)}function c(h,d,b,x){var g="C;Y"+(b+1)+";X"+(x+1)+";K";switch(h.t){case"n":g+=h.v||0,h.f&&!h.F&&(g+=";E"+ZP(h.f,{r:b,c:x}));break;case"b":g+=h.v?"TRUE":"FALSE";break;case"e":g+=h.w||h.v;break;case"d":g+='"'+(h.w||h.v)+'"';break;case"s":g+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return g}function o(h,d){d.forEach(function(b,x){var g="F;W"+(x+1)+" "+(x+1)+" ";b.hidden?g+="0":(typeof b.width=="number"&&!b.wpx&&(b.wpx=W0(b.width)),typeof b.wpx=="number"&&!b.wch&&(b.wch=X0(b.wpx)),typeof b.wch=="number"&&(g+=Math.round(b.wch))),g.charAt(g.length-1)!=" "&&h.push(g)})}function u(h,d){d.forEach(function(b,x){var g="F;";b.hidden?g+="M0;":b.hpt?g+="M"+20*b.hpt+";":b.hpx&&(g+="M"+20*G8(b.hpx)+";"),g.length>2&&h.push(g+"R"+(x+1))})}function p(h,d){var b=["ID;PWXL;N;E"],x=[],g=hn(h["!ref"]),w,v=Array.isArray(h),k=`\r
`;b.push("P;PGeneral"),b.push("F;P0;DG0G8;M255"),h["!cols"]&&o(b,h["!cols"]),h["!rows"]&&u(b,h["!rows"]),b.push("B;Y"+(g.e.r-g.s.r+1)+";X"+(g.e.c-g.s.c+1)+";D"+[g.s.c,g.s.r,g.e.c,g.e.r].join(" "));for(var R=g.s.r;R<=g.e.r;++R)for(var L=g.s.c;L<=g.e.c;++L){var G=ir({r:R,c:L});w=v?(h[R]||[])[L]:h[G],!(!w||w.v==null&&(!w.f||w.F))&&x.push(c(w,h,R,L))}return b.join(k)+k+x.join(k)+k+"E"+k}return{to_workbook:l,to_sheet:a,from_sheet:p}})(),dF=(function(){function r(i,a){switch(a.type){case"base64":return t(sa(i),a);case"binary":return t(i,a);case"buffer":return t(Er&&Buffer.isBuffer(i)?i.toString("binary"):Kl(i),a);case"array":return t(ql(i),a)}throw new Error("Unrecognized type "+a.type)}function t(i,a){for(var l=i.split(`
`),c=-1,o=-1,u=0,p=[];u!==l.length;++u){if(l[u].trim()==="BOT"){p[++c]=[],o=0;continue}if(!(c<0)){var h=l[u].trim().split(","),d=h[0],b=h[1];++u;for(var x=l[u]||"";(x.match(/["]/g)||[]).length&1&&u<l.length-1;)x+=`
`+l[++u];switch(x=x.trim(),+d){case-1:if(x==="BOT"){p[++c]=[],o=0;continue}else if(x!=="EOD")throw new Error("Unrecognized DIF special command "+x);break;case 0:x==="TRUE"?p[c][o]=!0:x==="FALSE"?p[c][o]=!1:isNaN(Va(b))?isNaN(iu(b).getDate())?p[c][o]=b:p[c][o]=zn(b):p[c][o]=Va(b),++o;break;case 1:x=x.slice(1,x.length-1),x=x.replace(/""/g,'"'),x&&x.match(/^=".*"$/)&&(x=x.slice(2,-1)),p[c][o++]=x!==""?x:null;break}if(x==="EOD")break}}return a&&a.sheetRows&&(p=p.slice(0,a.sheetRows)),p}function e(i,a){return yu(r(i,a),a)}function n(i,a){return nl(e(i,a),a)}var s=(function(){var i=function(c,o,u,p,h){c.push(o),c.push(u+","+p),c.push('"'+h.replace(/"/g,'""')+'"')},a=function(c,o,u,p){c.push(o+","+u),c.push(o==1?'"'+p.replace(/"/g,'""')+'"':p)};return function(c){var o=[],u=hn(c["!ref"]),p,h=Array.isArray(c);i(o,"TABLE",0,1,"sheetjs"),i(o,"VECTORS",0,u.e.r-u.s.r+1,""),i(o,"TUPLES",0,u.e.c-u.s.c+1,""),i(o,"DATA",0,0,"");for(var d=u.s.r;d<=u.e.r;++d){a(o,-1,0,"BOT");for(var b=u.s.c;b<=u.e.c;++b){var x=ir({r:d,c:b});if(p=h?(c[d]||[])[b]:c[x],!p){a(o,1,0,"");continue}switch(p.t){case"n":var g=p.w;!g&&p.v!=null&&(g=p.v),g==null?p.f&&!p.F?a(o,1,0,"="+p.f):a(o,1,0,""):a(o,0,g,"V");break;case"b":a(o,0,p.v?1:0,p.v?"TRUE":"FALSE");break;case"s":a(o,1,0,isNaN(p.v)?p.v:'="'+p.v+'"');break;case"d":p.w||(p.w=wa(p.z||fr[14],Cs(zn(p.v)))),a(o,0,p.w,"V");break;default:a(o,1,0,"")}}}a(o,-1,0,"EOD");var w=`\r
`,v=o.join(w);return v}})();return{to_workbook:n,to_sheet:e,from_sheet:s}})(),pF=(function(){function r(p){return p.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(p){return p.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function e(p,h){for(var d=p.split(`
`),b=-1,x=-1,g=0,w=[];g!==d.length;++g){var v=d[g].trim().split(":");if(v[0]==="cell"){var k=Es(v[1]);if(w.length<=k.r)for(b=w.length;b<=k.r;++b)w[b]||(w[b]=[]);switch(b=k.r,x=k.c,v[2]){case"t":w[b][x]=r(v[3]);break;case"v":w[b][x]=+v[3];break;case"vtf":var R=v[v.length-1];case"vtc":switch(v[3]){case"nl":w[b][x]=!!+v[4];break;default:w[b][x]=+v[4];break}v[2]=="vtf"&&(w[b][x]=[w[b][x],R])}}}return h&&h.sheetRows&&(w=w.slice(0,h.sheetRows)),w}function n(p,h){return yu(e(p,h),h)}function s(p,h){return nl(n(p,h),h)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function o(p){if(!p||!p["!ref"])return"";for(var h=[],d=[],b,x="",g=xu(p["!ref"]),w=Array.isArray(p),v=g.s.r;v<=g.e.r;++v)for(var k=g.s.c;k<=g.e.c;++k)if(x=ir({r:v,c:k}),b=w?(p[v]||[])[k]:p[x],!(!b||b.v==null||b.t==="z")){switch(d=["cell",x,"t"],b.t){case"s":case"str":d.push(t(b.v));break;case"n":b.f?(d[2]="vtf",d[3]="n",d[4]=b.v,d[5]=t(b.f)):(d[2]="v",d[3]=b.v);break;case"b":d[2]="vt"+(b.f?"f":"c"),d[3]="nl",d[4]=b.v?"1":"0",d[5]=t(b.f||(b.v?"TRUE":"FALSE"));break;case"d":var R=Cs(zn(b.v));d[2]="vtc",d[3]="nd",d[4]=""+R,d[5]=b.w||wa(b.z||fr[14],R);break;case"e":continue}h.push(d.join(":"))}return h.push("sheet:c:"+(g.e.c-g.s.c+1)+":r:"+(g.e.r-g.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function u(p){return[i,a,l,a,o(p),c].join(`
`)}return{to_workbook:s,to_sheet:n,from_sheet:u}})(),eh=(function(){function r(u,p,h,d,b){b.raw?p[h][d]=u:u===""||(u==="TRUE"?p[h][d]=!0:u==="FALSE"?p[h][d]=!1:isNaN(Va(u))?isNaN(iu(u).getDate())?p[h][d]=u:p[h][d]=zn(u):p[h][d]=Va(u))}function t(u,p){var h=p||{},d=[];if(!u||u.length===0)return d;for(var b=u.split(/[\r\n]/),x=b.length-1;x>=0&&b[x].length===0;)--x;for(var g=10,w=0,v=0;v<=x;++v)w=b[v].indexOf(" "),w==-1?w=b[v].length:w++,g=Math.max(g,w);for(v=0;v<=x;++v){d[v]=[];var k=0;for(r(b[v].slice(0,g).trim(),d,v,k,h),k=1;k<=(b[v].length-g)/10+1;++k)r(b[v].slice(g+(k-1)*10,g+k*10).trim(),d,v,k,h)}return h.sheetRows&&(d=d.slice(0,h.sheetRows)),d}var e={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function s(u){for(var p={},h=!1,d=0,b=0;d<u.length;++d)(b=u.charCodeAt(d))==34?h=!h:!h&&b in e&&(p[b]=(p[b]||0)+1);b=[];for(d in p)Object.prototype.hasOwnProperty.call(p,d)&&b.push([p[d],d]);if(!b.length){p=n;for(d in p)Object.prototype.hasOwnProperty.call(p,d)&&b.push([p[d],d])}return b.sort(function(x,g){return x[0]-g[0]||n[x[1]]-n[g[1]]}),e[b.pop()[1]]||44}function i(u,p){var h=p||{},d="",b=h.dense?[]:{},x={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(d=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(d=u.charAt(4),u=u.slice(6)):d=s(u.slice(0,1024)):h&&h.FS?d=h.FS:d=s(u.slice(0,1024));var g=0,w=0,v=0,k=0,R=0,L=d.charCodeAt(0),G=!1,V=0,O=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var F=h.dateNF!=null?TD(h.dateNF):null;function B(){var W=u.slice(k,R),P={};if(W.charAt(0)=='"'&&W.charAt(W.length-1)=='"'&&(W=W.slice(1,-1).replace(/""/g,'"')),W.length===0)P.t="z";else if(h.raw)P.t="s",P.v=W;else if(W.trim().length===0)P.t="s",P.v=W;else if(W.charCodeAt(0)==61)W.charCodeAt(1)==34&&W.charCodeAt(W.length-1)==34?(P.t="s",P.v=W.slice(2,-1).replace(/""/g,'"')):eL(W)?(P.t="n",P.f=W.slice(1)):(P.t="s",P.v=W);else if(W=="TRUE")P.t="b",P.v=!0;else if(W=="FALSE")P.t="b",P.v=!1;else if(!isNaN(v=Va(W)))P.t="n",h.cellText!==!1&&(P.w=W),P.v=v;else if(!isNaN(iu(W).getDate())||F&&W.match(F)){P.z=h.dateNF||fr[14];var N=0;F&&W.match(F)&&(W=ED(W,h.dateNF,W.match(F)||[]),N=1),h.cellDates?(P.t="d",P.v=zn(W,N)):(P.t="n",P.v=Cs(zn(W,N))),h.cellText!==!1&&(P.w=wa(P.z,P.v instanceof Date?Cs(P.v):P.v)),h.cellNF||delete P.z}else P.t="s",P.v=W;if(P.t=="z"||(h.dense?(b[g]||(b[g]=[]),b[g][w]=P):b[ir({c:w,r:g})]=P),k=R+1,O=u.charCodeAt(k),x.e.c<w&&(x.e.c=w),x.e.r<g&&(x.e.r=g),V==L)++w;else if(w=0,++g,h.sheetRows&&h.sheetRows<=g)return!0}e:for(;R<u.length;++R)switch(V=u.charCodeAt(R)){case 34:O===34&&(G=!G);break;case L:case 10:case 13:if(!G&&B())break e;break}return R-k>0&&B(),b["!ref"]=Cr(x),b}function a(u,p){return!(p&&p.PRN)||p.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,p):yu(t(u,p),p)}function l(u,p){var h="",d=p.type=="string"?[0,0,0,0]:mx(u,p);switch(p.type){case"base64":h=sa(u);break;case"binary":h=u;break;case"buffer":p.codepage==65001?h=u.toString("utf8"):p.codepage&&typeof Kf<"u"||(h=Er&&Buffer.isBuffer(u)?u.toString("binary"):Kl(u));break;case"array":h=ql(u);break;case"string":h=u;break;default:throw new Error("Unrecognized type "+p.type)}return d[0]==239&&d[1]==187&&d[2]==191?h=Xr(h.slice(3)):p.type!="string"&&p.type!="buffer"&&p.codepage==65001?h=Xr(h):p.type=="binary"&&typeof Kf<"u",h.slice(0,19)=="socialcalc:version:"?pF.to_sheet(p.type=="string"?h:Xr(h),p):a(h,p)}function c(u,p){return nl(l(u,p),p)}function o(u){for(var p=[],h=hn(u["!ref"]),d,b=Array.isArray(u),x=h.s.r;x<=h.e.r;++x){for(var g=[],w=h.s.c;w<=h.e.c;++w){var v=ir({r:x,c:w});if(d=b?(u[x]||[])[w]:u[v],!d||d.v==null){g.push("          ");continue}for(var k=(d.w||(Xi(d),d.w)||"").slice(0,10);k.length<10;)k+=" ";g.push(k+(w===0?" ":""))}p.push(g.join(""))}return p.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:o}})();function mF(r,t){var e=t||{},n=!!e.WTF;e.WTF=!0;try{var s=hF.to_workbook(r,e);return e.WTF=n,s}catch(i){if(e.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return eh.to_workbook(r,t)}}var Df=(function(){function r(I,Q,Y){if(I){Qn(I,I.l||0);for(var ee=Y.Enum||j;I.l<I.length;){var q=I.read_shift(2),te=ee[q]||ee[65535],H=I.read_shift(2),z=I.l+H,Z=te.f&&te.f(I,H,Y);if(I.l=z,Q(Z,te,q))return}}}function t(I,Q){switch(Q.type){case"base64":return e(Fa(sa(I)),Q);case"binary":return e(Fa(I),Q);case"buffer":case"array":return e(I,Q)}throw"Unsupported type "+Q.type}function e(I,Q){if(!I)return I;var Y=Q||{},ee=Y.dense?[]:{},q="Sheet1",te="",H=0,z={},Z=[],ae=[],re={s:{r:0,c:0},e:{r:0,c:0}},le=Y.sheetRows||0;if(I[2]==0&&(I[3]==8||I[3]==9)&&I.length>=16&&I[14]==5&&I[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(I[2]==2)Y.Enum=j,r(I,function(se,xe,pe){switch(pe){case 0:Y.vers=se,se>=4096&&(Y.qpro=!0);break;case 6:re=se;break;case 204:se&&(te=se);break;case 222:te=se;break;case 15:case 51:Y.qpro||(se[1].v=se[1].v.slice(1));case 13:case 14:case 16:pe==14&&(se[2]&112)==112&&(se[2]&15)>1&&(se[2]&15)<15&&(se[1].z=Y.dateNF||fr[14],Y.cellDates&&(se[1].t="d",se[1].v=_p(se[1].v))),Y.qpro&&se[3]>H&&(ee["!ref"]=Cr(re),z[q]=ee,Z.push(q),ee=Y.dense?[]:{},re={s:{r:0,c:0},e:{r:0,c:0}},H=se[3],q=te||"Sheet"+(H+1),te="");var Te=Y.dense?(ee[se[0].r]||[])[se[0].c]:ee[ir(se[0])];if(Te){Te.t=se[1].t,Te.v=se[1].v,se[1].z!=null&&(Te.z=se[1].z),se[1].f!=null&&(Te.f=se[1].f);break}Y.dense?(ee[se[0].r]||(ee[se[0].r]=[]),ee[se[0].r][se[0].c]=se[1]):ee[ir(se[0])]=se[1];break}},Y);else if(I[2]==26||I[2]==14)Y.Enum=U,I[2]==14&&(Y.qpro=!0,I.l=0),r(I,function(se,xe,pe){switch(pe){case 204:q=se;break;case 22:se[1].v=se[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(se[3]>H&&(ee["!ref"]=Cr(re),z[q]=ee,Z.push(q),ee=Y.dense?[]:{},re={s:{r:0,c:0},e:{r:0,c:0}},H=se[3],q="Sheet"+(H+1)),le>0&&se[0].r>=le)break;Y.dense?(ee[se[0].r]||(ee[se[0].r]=[]),ee[se[0].r][se[0].c]=se[1]):ee[ir(se[0])]=se[1],re.e.c<se[0].c&&(re.e.c=se[0].c),re.e.r<se[0].r&&(re.e.r=se[0].r);break;case 27:se[14e3]&&(ae[se[14e3][0]]=se[14e3][1]);break;case 1537:ae[se[0]]=se[1],se[0]==H&&(q=se[1]);break}},Y);else throw new Error("Unrecognized LOTUS BOF "+I[2]);if(ee["!ref"]=Cr(re),z[te||q]=ee,Z.push(te||q),!ae.length)return{SheetNames:Z,Sheets:z};for(var de={},ve=[],ge=0;ge<ae.length;++ge)z[Z[ge]]?(ve.push(ae[ge]||Z[ge]),de[ae[ge]]=z[ae[ge]]||z[Z[ge]]):(ve.push(ae[ge]),de[ae[ge]]={"!ref":"A1"});return{SheetNames:ve,Sheets:de}}function n(I,Q){var Y=Q||{};if(+Y.codepage>=0&&La(+Y.codepage),Y.type=="string")throw new Error("Cannot write WK1 to JS string");var ee=A1(),q=hn(I["!ref"]),te=Array.isArray(I),H=[];Oa(ee,0,i(1030)),Oa(ee,6,c(q));for(var z=Math.min(q.e.r,8191),Z=q.s.r;Z<=z;++Z)for(var ae=ts(Z),re=q.s.c;re<=q.e.c;++re){Z===q.s.r&&(H[re]=On(re));var le=H[re]+ae,de=te?(I[Z]||[])[re]:I[le];if(!(!de||de.t=="z"))if(de.t=="n")(de.v|0)==de.v&&de.v>=-32768&&de.v<=32767?Oa(ee,13,d(Z,re,de.v)):Oa(ee,14,x(Z,re,de.v));else{var ve=Xi(de);Oa(ee,15,p(Z,re,ve.slice(0,239)))}}return Oa(ee,1),ee.end()}function s(I,Q){var Y=Q||{};if(+Y.codepage>=0&&La(+Y.codepage),Y.type=="string")throw new Error("Cannot write WK3 to JS string");var ee=A1();Oa(ee,0,a(I));for(var q=0,te=0;q<I.SheetNames.length;++q)(I.Sheets[I.SheetNames[q]]||{})["!ref"]&&Oa(ee,27,E(I.SheetNames[q],te++));var H=0;for(q=0;q<I.SheetNames.length;++q){var z=I.Sheets[I.SheetNames[q]];if(!(!z||!z["!ref"])){for(var Z=hn(z["!ref"]),ae=Array.isArray(z),re=[],le=Math.min(Z.e.r,8191),de=Z.s.r;de<=le;++de)for(var ve=ts(de),ge=Z.s.c;ge<=Z.e.c;++ge){de===Z.s.r&&(re[ge]=On(ge));var se=re[ge]+ve,xe=ae?(z[de]||[])[ge]:z[se];if(!(!xe||xe.t=="z"))if(xe.t=="n")Oa(ee,23,B(de,ge,H,xe.v));else{var pe=Xi(xe);Oa(ee,22,V(de,ge,H,pe.slice(0,239)))}}++H}}return Oa(ee,1),ee.end()}function i(I){var Q=In(2);return Q.write_shift(2,I),Q}function a(I){var Q=In(26);Q.write_shift(2,4096),Q.write_shift(2,4),Q.write_shift(4,0);for(var Y=0,ee=0,q=0,te=0;te<I.SheetNames.length;++te){var H=I.SheetNames[te],z=I.Sheets[H];if(!(!z||!z["!ref"])){++q;var Z=xu(z["!ref"]);Y<Z.e.r&&(Y=Z.e.r),ee<Z.e.c&&(ee=Z.e.c)}}return Y>8191&&(Y=8191),Q.write_shift(2,Y),Q.write_shift(1,q),Q.write_shift(1,ee),Q.write_shift(2,0),Q.write_shift(2,0),Q.write_shift(1,1),Q.write_shift(1,2),Q.write_shift(4,0),Q.write_shift(4,0),Q}function l(I,Q,Y){var ee={s:{c:0,r:0},e:{c:0,r:0}};return Q==8&&Y.qpro?(ee.s.c=I.read_shift(1),I.l++,ee.s.r=I.read_shift(2),ee.e.c=I.read_shift(1),I.l++,ee.e.r=I.read_shift(2),ee):(ee.s.c=I.read_shift(2),ee.s.r=I.read_shift(2),Q==12&&Y.qpro&&(I.l+=2),ee.e.c=I.read_shift(2),ee.e.r=I.read_shift(2),Q==12&&Y.qpro&&(I.l+=2),ee.s.c==65535&&(ee.s.c=ee.e.c=ee.s.r=ee.e.r=0),ee)}function c(I){var Q=In(8);return Q.write_shift(2,I.s.c),Q.write_shift(2,I.s.r),Q.write_shift(2,I.e.c),Q.write_shift(2,I.e.r),Q}function o(I,Q,Y){var ee=[{c:0,r:0},{t:"n",v:0},0,0];return Y.qpro&&Y.vers!=20768?(ee[0].c=I.read_shift(1),ee[3]=I.read_shift(1),ee[0].r=I.read_shift(2),I.l+=2):(ee[2]=I.read_shift(1),ee[0].c=I.read_shift(2),ee[0].r=I.read_shift(2)),ee}function u(I,Q,Y){var ee=I.l+Q,q=o(I,Q,Y);if(q[1].t="s",Y.vers==20768){I.l++;var te=I.read_shift(1);return q[1].v=I.read_shift(te,"utf8"),q}return Y.qpro&&I.l++,q[1].v=I.read_shift(ee-I.l,"cstr"),q}function p(I,Q,Y){var ee=In(7+Y.length);ee.write_shift(1,255),ee.write_shift(2,Q),ee.write_shift(2,I),ee.write_shift(1,39);for(var q=0;q<ee.length;++q){var te=Y.charCodeAt(q);ee.write_shift(1,te>=128?95:te)}return ee.write_shift(1,0),ee}function h(I,Q,Y){var ee=o(I,Q,Y);return ee[1].v=I.read_shift(2,"i"),ee}function d(I,Q,Y){var ee=In(7);return ee.write_shift(1,255),ee.write_shift(2,Q),ee.write_shift(2,I),ee.write_shift(2,Y,"i"),ee}function b(I,Q,Y){var ee=o(I,Q,Y);return ee[1].v=I.read_shift(8,"f"),ee}function x(I,Q,Y){var ee=In(13);return ee.write_shift(1,255),ee.write_shift(2,Q),ee.write_shift(2,I),ee.write_shift(8,Y,"f"),ee}function g(I,Q,Y){var ee=I.l+Q,q=o(I,Q,Y);if(q[1].v=I.read_shift(8,"f"),Y.qpro)I.l=ee;else{var te=I.read_shift(2);R(I.slice(I.l,I.l+te),q),I.l+=te}return q}function w(I,Q,Y){var ee=Q&32768;return Q&=-32769,Q=(ee?I:0)+(Q>=8192?Q-16384:Q),(ee?"":"$")+(Y?On(Q):ts(Q))}var v={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},k=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function R(I,Q){Qn(I,0);for(var Y=[],ee=0,q="",te="",H="",z="";I.l<I.length;){var Z=I[I.l++];switch(Z){case 0:Y.push(I.read_shift(8,"f"));break;case 1:te=w(Q[0].c,I.read_shift(2),!0),q=w(Q[0].r,I.read_shift(2),!1),Y.push(te+q);break;case 2:{var ae=w(Q[0].c,I.read_shift(2),!0),re=w(Q[0].r,I.read_shift(2),!1);te=w(Q[0].c,I.read_shift(2),!0),q=w(Q[0].r,I.read_shift(2),!1),Y.push(ae+re+":"+te+q)}break;case 3:if(I.l<I.length){console.error("WK1 premature formula end");return}break;case 4:Y.push("("+Y.pop()+")");break;case 5:Y.push(I.read_shift(2));break;case 6:{for(var le="";Z=I[I.l++];)le+=String.fromCharCode(Z);Y.push('"'+le.replace(/"/g,'""')+'"')}break;case 8:Y.push("-"+Y.pop());break;case 23:Y.push("+"+Y.pop());break;case 22:Y.push("NOT("+Y.pop()+")");break;case 20:case 21:z=Y.pop(),H=Y.pop(),Y.push(["AND","OR"][Z-20]+"("+H+","+z+")");break;default:if(Z<32&&k[Z])z=Y.pop(),H=Y.pop(),Y.push(H+k[Z]+z);else if(v[Z]){if(ee=v[Z][1],ee==69&&(ee=I[I.l++]),ee>Y.length){console.error("WK1 bad formula parse 0x"+Z.toString(16)+":|"+Y.join("|")+"|");return}var de=Y.slice(-ee);Y.length-=ee,Y.push(v[Z][0]+"("+de.join(",")+")")}else return Z<=7?console.error("WK1 invalid opcode "+Z.toString(16)):Z<=24?console.error("WK1 unsupported op "+Z.toString(16)):Z<=30?console.error("WK1 invalid opcode "+Z.toString(16)):Z<=115?console.error("WK1 unsupported function opcode "+Z.toString(16)):console.error("WK1 unrecognized opcode "+Z.toString(16))}}Y.length==1?Q[1].f=""+Y[0]:console.error("WK1 bad formula parse |"+Y.join("|")+"|")}function L(I){var Q=[{c:0,r:0},{t:"n",v:0},0];return Q[0].r=I.read_shift(2),Q[3]=I[I.l++],Q[0].c=I[I.l++],Q}function G(I,Q){var Y=L(I);return Y[1].t="s",Y[1].v=I.read_shift(Q-4,"cstr"),Y}function V(I,Q,Y,ee){var q=In(6+ee.length);q.write_shift(2,I),q.write_shift(1,Y),q.write_shift(1,Q),q.write_shift(1,39);for(var te=0;te<ee.length;++te){var H=ee.charCodeAt(te);q.write_shift(1,H>=128?95:H)}return q.write_shift(1,0),q}function O(I,Q){var Y=L(I);Y[1].v=I.read_shift(2);var ee=Y[1].v>>1;if(Y[1].v&1)switch(ee&7){case 0:ee=(ee>>3)*5e3;break;case 1:ee=(ee>>3)*500;break;case 2:ee=(ee>>3)/20;break;case 3:ee=(ee>>3)/200;break;case 4:ee=(ee>>3)/2e3;break;case 5:ee=(ee>>3)/2e4;break;case 6:ee=(ee>>3)/16;break;case 7:ee=(ee>>3)/64;break}return Y[1].v=ee,Y}function F(I,Q){var Y=L(I),ee=I.read_shift(4),q=I.read_shift(4),te=I.read_shift(2);if(te==65535)return ee===0&&q===3221225472?(Y[1].t="e",Y[1].v=15):ee===0&&q===3489660928?(Y[1].t="e",Y[1].v=42):Y[1].v=0,Y;var H=te&32768;return te=(te&32767)-16446,Y[1].v=(1-H*2)*(q*Math.pow(2,te+32)+ee*Math.pow(2,te)),Y}function B(I,Q,Y,ee){var q=In(14);if(q.write_shift(2,I),q.write_shift(1,Y),q.write_shift(1,Q),ee==0)return q.write_shift(4,0),q.write_shift(4,0),q.write_shift(2,65535),q;var te=0,H=0,z=0,Z=0;return ee<0&&(te=1,ee=-ee),H=Math.log2(ee)|0,ee/=Math.pow(2,H-31),Z=ee>>>0,(Z&2147483648)==0&&(ee/=2,++H,Z=ee>>>0),ee-=Z,Z|=2147483648,Z>>>=0,ee*=Math.pow(2,32),z=ee>>>0,q.write_shift(4,z),q.write_shift(4,Z),H+=16383+(te?32768:0),q.write_shift(2,H),q}function W(I,Q){var Y=F(I);return I.l+=Q-14,Y}function P(I,Q){var Y=L(I),ee=I.read_shift(4);return Y[1].v=ee>>6,Y}function N(I,Q){var Y=L(I),ee=I.read_shift(8,"f");return Y[1].v=ee,Y}function D(I,Q){var Y=N(I);return I.l+=Q-10,Y}function C(I,Q){return I[I.l+Q-1]==0?I.read_shift(Q,"cstr"):""}function S(I,Q){var Y=I[I.l++];Y>Q-1&&(Y=Q-1);for(var ee="";ee.length<Y;)ee+=String.fromCharCode(I[I.l++]);return ee}function T(I,Q,Y){if(!(!Y.qpro||Q<21)){var ee=I.read_shift(1);I.l+=17,I.l+=1,I.l+=2;var q=I.read_shift(Q-21,"cstr");return[ee,q]}}function A(I,Q){for(var Y={},ee=I.l+Q;I.l<ee;){var q=I.read_shift(2);if(q==14e3){for(Y[q]=[0,""],Y[q][0]=I.read_shift(2);I[I.l];)Y[q][1]+=String.fromCharCode(I[I.l]),I.l++;I.l++}}return Y}function E(I,Q){var Y=In(5+I.length);Y.write_shift(2,14e3),Y.write_shift(2,Q);for(var ee=0;ee<I.length;++ee){var q=I.charCodeAt(ee);Y[Y.l++]=q>127?95:q}return Y[Y.l++]=0,Y}var j={0:{n:"BOF",f:Nn},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:b},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:g},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:C},222:{n:"SHEETNAMELP",f:S},65535:{n:""}},U={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:G},23:{n:"NUMBER17",f:F},24:{n:"NUMBER18",f:O},25:{n:"FORMULA19",f:W},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:A},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:P},38:{n:"??"},39:{n:"NUMBER27",f:N},40:{n:"FORMULA28",f:D},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:C},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:T},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:s,to_workbook:t}})();function gF(r){var t={},e=r.match(xs),n=0,s=!1;if(e)for(;n!=e.length;++n){var i=Jt(e[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=qb[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(i[0].charCodeAt(1)!==47&&!s)throw new Error("Unrecognized rich format "+i[0])}}return t}var bF=(function(){var r=Zf("t"),t=Zf("rPr");function e(i){var a=i.match(r);if(!a)return{t:"s",v:""};var l={t:"s",v:Mr(a[1])},c=i.match(t);return c&&(l.s=gF(c[1])),l}var n=/<(?:\w+:)?r>/g,s=/<\/(?:\w+:)?r>/;return function(a){return a.replace(n,"").split(s).map(e).filter(function(l){return l.v})}})(),xF=(function(){var t=/(\r\n|\n)/g;function e(s,i,a){var l=[];s.u&&l.push("text-decoration: underline;"),s.uval&&l.push("text-underline-style:"+s.uval+";"),s.sz&&l.push("font-size:"+s.sz+"pt;"),s.outline&&l.push("text-effect: outline;"),s.shadow&&l.push("text-shadow: auto;"),i.push('<span style="'+l.join("")+'">'),s.b&&(i.push("<b>"),a.push("</b>")),s.i&&(i.push("<i>"),a.push("</i>")),s.strike&&(i.push("<s>"),a.push("</s>"));var c=s.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(i.push("<"+c+">"),a.push("</"+c+">")),a.push("</span>"),s}function n(s){var i=[[],s.v,[]];return s.v?(s.s&&e(s.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}})(),yF=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,vF=/<(?:\w+:)?r>/,wF=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function lx(r,t){var e=t?t.cellHTML:!0,n={};return r?(r.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Mr(Xr(r.slice(r.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Xr(r),e&&(n.h=Zb(n.t))):r.match(vF)&&(n.r=Xr(r),n.t=Mr(Xr((r.replace(wF,"").match(yF)||[]).join("").replace(xs,""))),e&&(n.h=xF(bF(n.r)))),n):{t:""}}var _F=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,SF=/<(?:\w+:)?(?:si|sstItem)>/g,kF=/<\/(?:\w+:)?(?:si|sstItem)>/;function TF(r,t){var e=[],n="";if(!r)return e;var s=r.match(_F);if(s){n=s[2].replace(SF,"").split(kF);for(var i=0;i!=n.length;++i){var a=lx(n[i].trim(),t);a!=null&&(e[e.length]=a)}s=Jt(s[1]),e.Count=s.count,e.Unique=s.uniqueCount}return e}function EF(r){return[r.read_shift(4),r.read_shift(4)]}function AF(r,t){var e=[],n=!1;return Zi(r,function(i,a,l){switch(l){case 159:e.Count=i[0],e.Unique=i[1];break;case 19:e.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(a.T,!n||t.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),e}function U8(r){for(var t=[],e=r.split(""),n=0;n<e.length;++n)t[n]=e[n].charCodeAt(0);return t}function Vi(r,t){var e={};return e.Major=r.read_shift(2),e.Minor=r.read_shift(2),t>=4&&(r.l+=t-4),e}function NF(r){var t={};return t.id=r.read_shift(0,"lpp4"),t.R=Vi(r,4),t.U=Vi(r,4),t.W=Vi(r,4),t}function CF(r){for(var t=r.read_shift(4),e=r.l+t-4,n={},s=r.read_shift(4),i=[];s-- >0;)i.push({t:r.read_shift(4),v:r.read_shift(0,"lpp4")});if(n.name=r.read_shift(0,"lpp4"),n.comps=i,r.l!=e)throw new Error("Bad DataSpaceMapEntry: "+r.l+" != "+e);return n}function RF(r){var t=[];r.l+=4;for(var e=r.read_shift(4);e-- >0;)t.push(CF(r));return t}function MF(r){var t=[];r.l+=4;for(var e=r.read_shift(4);e-- >0;)t.push(r.read_shift(0,"lpp4"));return t}function jF(r){var t={};return r.read_shift(4),r.l+=4,t.id=r.read_shift(0,"lpp4"),t.name=r.read_shift(0,"lpp4"),t.R=Vi(r,4),t.U=Vi(r,4),t.W=Vi(r,4),t}function DF(r){var t=jF(r);if(t.ename=r.read_shift(0,"8lpp4"),t.blksz=r.read_shift(4),t.cmode=r.read_shift(4),r.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function V8(r,t){var e=r.l+t,n={};n.Flags=r.read_shift(4)&63,r.l+=4,n.AlgID=r.read_shift(4);var s=!1;switch(n.AlgID){case 26126:case 26127:case 26128:s=n.Flags==36;break;case 26625:s=n.Flags==4;break;case 0:s=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!s)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=r.read_shift(4),n.KeySize=r.read_shift(4),n.ProviderType=r.read_shift(4),r.l+=8,n.CSPName=r.read_shift(e-r.l>>1,"utf16le"),r.l=e,n}function z8(r,t){var e={},n=r.l+t;return r.l+=4,e.Salt=r.slice(r.l,r.l+16),r.l+=16,e.Verifier=r.slice(r.l,r.l+16),r.l+=16,r.read_shift(4),e.VerifierHash=r.slice(r.l,n),r.l=n,e}function IF(r){var t=Vi(r);switch(t.Minor){case 2:return[t.Minor,OF(r)];case 3:return[t.Minor,FF()];case 4:return[t.Minor,PF(r)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function OF(r){var t=r.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var e=r.read_shift(4),n=V8(r,e),s=z8(r,r.length-r.l);return{t:"Std",h:n,v:s}}function FF(){throw new Error("File is password-protected: ECMA-376 Extensible")}function PF(r){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];r.l+=4;var e=r.read_shift(r.length-r.l,"utf8"),n={};return e.replace(xs,function(i){var a=Jt(i);switch(pi(a[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(l){n[l]=a[l]});break;case"<dataIntegrity":n.encryptedHmacKey=a.encryptedHmacKey,n.encryptedHmacValue=a.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=a.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(a);break;default:throw a[0]}}),n}function LF(r,t){var e={},n=e.EncryptionVersionInfo=Vi(r,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);e.Flags=r.read_shift(4),t-=4;var s=r.read_shift(4);return t-=4,e.EncryptionHeader=V8(r,s),t-=s,e.EncryptionVerifier=z8(r,t),e}function BF(r){var t={},e=t.EncryptionVersionInfo=Vi(r,4);if(e.Major!=1||e.Minor!=1)throw"unrecognized version code "+e.Major+" : "+e.Minor;return t.Salt=r.read_shift(16),t.EncryptedVerifier=r.read_shift(16),t.EncryptedVerifierHash=r.read_shift(16),t}function UF(r){var t=0,e,n=U8(r),s=n.length+1,i,a,l,c,o;for(e=Jo(s),e[0]=n.length,i=1;i!=s;++i)e[i]=n[i-1];for(i=s-1;i>=0;--i)a=e[i],l=(t&16384)===0?0:1,c=t<<1&32767,o=l|c,t=o^a;return t^52811}var H8=(function(){var r=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],e=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(a){return(a/2|a*128)&255},s=function(a,l){return n(a^l)},i=function(a){for(var l=t[a.length-1],c=104,o=a.length-1;o>=0;--o)for(var u=a[o],p=0;p!=7;++p)u&64&&(l^=e[c]),u*=2,--c;return l};return function(a){for(var l=U8(a),c=i(l),o=l.length,u=Jo(16),p=0;p!=16;++p)u[p]=0;var h,d,b;for((o&1)===1&&(h=c>>8,u[o]=s(r[0],h),--o,h=c&255,d=l[l.length-1],u[o]=s(d,h));o>0;)--o,h=c>>8,u[o]=s(l[o],h),--o,h=c&255,u[o]=s(l[o],h);for(o=15,b=15-l.length;b>0;)h=c>>8,u[o]=s(r[b],h),--o,--b,h=c&255,u[o]=s(l[o],h),--o,--b;return u}})(),VF=function(r,t,e,n,s){s||(s=t),n||(n=H8(r));var i,a;for(i=0;i!=t.length;++i)a=t[i],a^=n[e],a=(a>>5|a<<3)&255,s[i]=a,++e;return[s,e,n]},zF=function(r){var t=0,e=H8(r);return function(n){var s=VF("",n,t,e);return t=s[1],s[0]}};function HF(r,t,e,n){var s={key:Nn(r),verificationBytes:Nn(r)};return e.password&&(s.verifier=UF(e.password)),n.valid=s.verificationBytes===s.verifier,n.valid&&(n.insitu=zF(e.password)),s}function $F(r,t,e){var n=e||{};return n.Info=r.read_shift(2),r.l-=2,n.Info===1?n.Data=BF(r):n.Data=LF(r,t),n}function qF(r,t,e){var n={Type:e.biff>=8?r.read_shift(2):0};return n.Type?$F(r,t-2,n):HF(r,e.biff>=8?t:t-2,e,n),n}var GF=(function(){function r(s,i){switch(i.type){case"base64":return t(sa(s),i);case"binary":return t(s,i);case"buffer":return t(Er&&Buffer.isBuffer(s)?s.toString("binary"):Kl(s),i);case"array":return t(ql(s),i)}throw new Error("Unrecognized type "+i.type)}function t(s,i){var a=i||{},l=a.dense?[]:{},c=s.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var o={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(u,p){Array.isArray(l)&&(l[p]=[]);for(var h=/\\\w+\b/g,d=0,b,x=-1;b=h.exec(u);){switch(b[0]){case"\\cell":var g=u.slice(d,h.lastIndex-b[0].length);if(g[0]==" "&&(g=g.slice(1)),++x,g.length){var w={v:g,t:"s"};Array.isArray(l)?l[p][x]=w:l[ir({r:p,c:x})]=w}break}d=h.lastIndex}x>o.e.c&&(o.e.c=x)}),l["!ref"]=Cr(o),l}function e(s,i){return nl(r(s,i),i)}function n(s){for(var i=["{\\rtf1\\ansi"],a=hn(s["!ref"]),l,c=Array.isArray(s),o=a.s.r;o<=a.e.r;++o){i.push("\\trowd\\trautofit1");for(var u=a.s.c;u<=a.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=a.s.c;u<=a.e.c;++u){var p=ir({r:o,c:u});l=c?(s[o]||[])[u]:s[p],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(Xi(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:e,to_sheet:r,from_sheet:n}})();function WF(r){var t=r.slice(r[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function th(r){for(var t=0,e=1;t!=3;++t)e=e*256+(r[t]>255?255:r[t]<0?0:r[t]);return e.toString(16).toUpperCase().slice(1)}function XF(r){var t=r[0]/255,e=r[1]/255,n=r[2]/255,s=Math.max(t,e,n),i=Math.min(t,e,n),a=s-i;if(a===0)return[0,0,t];var l=0,c=0,o=s+i;switch(c=a/(o>1?2-o:o),s){case t:l=((e-n)/a+6)%6;break;case e:l=(n-t)/a+2;break;case n:l=(t-e)/a+4;break}return[l/6,c,o/2]}function YF(r){var t=r[0],e=r[1],n=r[2],s=e*2*(n<.5?n:1-n),i=n-s/2,a=[i,i,i],l=6*t,c;if(e!==0)switch(l|0){case 0:case 6:c=s*l,a[0]+=s,a[1]+=c;break;case 1:c=s*(2-l),a[0]+=c,a[1]+=s;break;case 2:c=s*(l-2),a[1]+=s,a[2]+=c;break;case 3:c=s*(4-l),a[1]+=c,a[2]+=s;break;case 4:c=s*(l-4),a[2]+=s,a[0]+=c;break;case 5:c=s*(6-l),a[2]+=c,a[0]+=s;break}for(var o=0;o!=3;++o)a[o]=Math.round(a[o]*255);return a}function G0(r,t){if(t===0)return r;var e=XF(WF(r));return t<0?e[2]=e[2]*(1+t):e[2]=1-(1-e[2])*(1-t),th(YF(e))}var $8=6,KF=15,QF=1,Ts=$8;function W0(r){return Math.floor((r+Math.round(128/Ts)/256)*Ts)}function X0(r){return Math.floor((r-5)/Ts*100+.5)/100}function M1(r){return Math.round((r*Ts+5)/Ts*256)/256}function $g(r){return M1(X0(W0(r)))}function cx(r){var t=Math.abs(r-$g(r)),e=Ts;if(t>.005)for(Ts=QF;Ts<KF;++Ts)Math.abs(r-$g(r))<=t&&(t=Math.abs(r-$g(r)),e=Ts);Ts=e}function ou(r){r.width?(r.wpx=W0(r.width),r.wch=X0(r.wpx),r.MDW=Ts):r.wpx?(r.wch=X0(r.wpx),r.width=M1(r.wch),r.MDW=Ts):typeof r.wch=="number"&&(r.width=M1(r.wch),r.wpx=W0(r.width),r.MDW=Ts),r.customWidth&&delete r.customWidth}var ZF=96,q8=ZF;function G8(r){return r*96/q8}function rh(r){return r*q8/96}var JF={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function eP(r,t,e,n){t.Borders=[];var s={},i=!1;(r[0].match(xs)||[]).forEach(function(a){var l=Jt(a);switch(pi(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":s={},l.diagonalUp&&(s.diagonalUp=rn(l.diagonalUp)),l.diagonalDown&&(s.diagonalDown=rn(l.diagonalDown)),t.Borders.push(s);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in borders")}})}function tP(r,t,e,n){t.Fills=[];var s={},i=!1;(r[0].match(xs)||[]).forEach(function(a){var l=Jt(a);switch(pi(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":s={},t.Fills.push(s);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(s),s={};break;case"<patternFill":case"<patternFill>":l.patternType&&(s.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":s.bgColor||(s.bgColor={}),l.indexed&&(s.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(s.bgColor.theme=parseInt(l.theme,10)),l.tint&&(s.bgColor.tint=parseFloat(l.tint)),l.rgb&&(s.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":s.fgColor||(s.fgColor={}),l.theme&&(s.fgColor.theme=parseInt(l.theme,10)),l.tint&&(s.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(s.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fills")}})}function rP(r,t,e,n){t.Fonts=[];var s={},i=!1;(r[0].match(xs)||[]).forEach(function(a){var l=Jt(a);switch(pi(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(s),s={};break;case"<name":l.val&&(s.name=Xr(l.val));break;case"<name/>":case"</name>":break;case"<b":s.bold=l.val?rn(l.val):1;break;case"<b/>":s.bold=1;break;case"<i":s.italic=l.val?rn(l.val):1;break;case"<i/>":s.italic=1;break;case"<u":switch(l.val){case"none":s.underline=0;break;case"single":s.underline=1;break;case"double":s.underline=2;break;case"singleAccounting":s.underline=33;break;case"doubleAccounting":s.underline=34;break}break;case"<u/>":s.underline=1;break;case"<strike":s.strike=l.val?rn(l.val):1;break;case"<strike/>":s.strike=1;break;case"<outline":s.outline=l.val?rn(l.val):1;break;case"<outline/>":s.outline=1;break;case"<shadow":s.shadow=l.val?rn(l.val):1;break;case"<shadow/>":s.shadow=1;break;case"<condense":s.condense=l.val?rn(l.val):1;break;case"<condense/>":s.condense=1;break;case"<extend":s.extend=l.val?rn(l.val):1;break;case"<extend/>":s.extend=1;break;case"<sz":l.val&&(s.sz=+l.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":l.val&&(s.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":l.val&&(s.family=parseInt(l.val,10));break;case"<family/>":case"</family>":break;case"<scheme":l.val&&(s.scheme=l.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(l.val=="1")break;l.codepage=qb[parseInt(l.val,10)];break;case"<color":if(s.color||(s.color={}),l.auto&&(s.color.auto=rn(l.auto)),l.rgb)s.color.rgb=l.rgb.slice(-6);else if(l.indexed){s.color.index=parseInt(l.indexed,10);var c=Pl[s.color.index];s.color.index==81&&(c=Pl[1]),c||(c=Pl[1]),s.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else l.theme&&(s.color.theme=parseInt(l.theme,10),l.tint&&(s.color.tint=parseFloat(l.tint)),l.theme&&e.themeElements&&e.themeElements.clrScheme&&(s.color.rgb=G0(e.themeElements.clrScheme[s.color.theme].rgb,s.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fonts")}})}function nP(r,t,e){t.NumberFmt=[];for(var n=di(fr),s=0;s<n.length;++s)t.NumberFmt[n[s]]=fr[n[s]];var i=r[0].match(xs);if(i)for(s=0;s<i.length;++s){var a=Jt(i[s]);switch(pi(a[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=Mr(Xr(a.formatCode)),c=parseInt(a.numFmtId,10);if(t.NumberFmt[c]=l,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=l}Fl(l,c)}}break;case"</numFmt>":break;default:if(e.WTF)throw new Error("unrecognized "+a[0]+" in numFmts")}}}var Zd=["numFmtId","fillId","fontId","borderId","xfId"],Jd=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function sP(r,t,e){t.CellXf=[];var n,s=!1;(r[0].match(xs)||[]).forEach(function(i){var a=Jt(i),l=0;switch(pi(a[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=a,delete n[0],l=0;l<Zd.length;++l)n[Zd[l]]&&(n[Zd[l]]=parseInt(n[Zd[l]],10));for(l=0;l<Jd.length;++l)n[Jd[l]]&&(n[Jd[l]]=rn(n[Jd[l]]));if(t.NumberFmt&&n.numFmtId>392){for(l=392;l>60;--l)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[l]){n.numFmtId=l;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};a.vertical&&(c.vertical=a.vertical),a.horizontal&&(c.horizontal=a.horizontal),a.textRotation!=null&&(c.textRotation=a.textRotation),a.indent&&(c.indent=a.indent),a.wrapText&&(c.wrapText=rn(a.wrapText)),n.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(e&&e.WTF&&!s)throw new Error("unrecognized "+a[0]+" in cellXfs")}})}var aP=(function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,e=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,s=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(l,c,o){var u={};if(!l)return u;l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var p;return(p=l.match(t))&&nP(p,u,o),(p=l.match(s))&&rP(p,u,c,o),(p=l.match(n))&&tP(p,u,c,o),(p=l.match(i))&&eP(p,u,c,o),(p=l.match(e))&&sP(p,u,o),u}})();function iP(r,t){var e=r.read_shift(2),n=ms(r);return[e,n]}function oP(r,t,e){var n={};n.sz=r.read_shift(2)/20;var s=bI(r);s.fItalic&&(n.italic=1),s.fCondense&&(n.condense=1),s.fExtend&&(n.extend=1),s.fShadow&&(n.shadow=1),s.fOutline&&(n.outline=1),s.fStrikeout&&(n.strike=1);var i=r.read_shift(2);switch(i===700&&(n.bold=1),r.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var a=r.read_shift(1);a!=0&&(n.underline=a);var l=r.read_shift(1);l>0&&(n.family=l);var c=r.read_shift(1);switch(c>0&&(n.charset=c),r.l++,n.color=gI(r),r.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=ms(r),n}var lP=bs;function cP(r,t){var e=r.l+t,n=r.read_shift(2),s=r.read_shift(2);return r.l=e,{ixfe:n,numFmtId:s}}var uP=bs;function fP(r,t,e){var n={};n.NumberFmt=[];for(var s in fr)n.NumberFmt[s]=fr[s];n.CellXf=[],n.Fonts=[];var i=[],a=!1;return Zi(r,function(c,o,u){switch(u){case 44:n.NumberFmt[c[0]]=c[1],Fl(c[1],c[0]);break;case 43:n.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=G0(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:i.push(u),a=!0;break;case 38:i.pop(),a=!1;break;default:if(o.T>0)i.push(u);else if(o.T<0)i.pop();else if(!a||e.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),n}var hP=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function dP(r,t,e){t.themeElements.clrScheme=[];var n={};(r[0].match(xs)||[]).forEach(function(s){var i=Jt(s);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[hP.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(e&&e.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function pP(){}function mP(){}var gP=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,bP=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,xP=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function yP(r,t,e){t.themeElements={};var n;[["clrScheme",gP,dP],["fontScheme",bP,pP],["fmtScheme",xP,mP]].forEach(function(s){if(!(n=r.match(s[1])))throw new Error(s[0]+" not found in themeElements");s[2](n,t,e)})}var vP=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function W8(r,t){(!r||r.length===0)&&(r=wP());var e,n={};if(!(e=r.match(vP)))throw new Error("themeElements not found in theme");return yP(e[0],n,t),n.raw=r,n}function wP(r,t){var e=[s8];return e[e.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',e[e.length]="<a:themeElements>",e[e.length]='<a:clrScheme name="Office">',e[e.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',e[e.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',e[e.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',e[e.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',e[e.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',e[e.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',e[e.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',e[e.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',e[e.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',e[e.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',e[e.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',e[e.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',e[e.length]="</a:clrScheme>",e[e.length]='<a:fontScheme name="Office">',e[e.length]="<a:majorFont>",e[e.length]='<a:latin typeface="Cambria"/>',e[e.length]='<a:ea typeface=""/>',e[e.length]='<a:cs typeface=""/>',e[e.length]='<a:font script="Jpan" typeface=" "/>',e[e.length]='<a:font script="Hang" typeface=" "/>',e[e.length]='<a:font script="Hans" typeface=""/>',e[e.length]='<a:font script="Hant" typeface=""/>',e[e.length]='<a:font script="Arab" typeface="Times New Roman"/>',e[e.length]='<a:font script="Hebr" typeface="Times New Roman"/>',e[e.length]='<a:font script="Thai" typeface="Tahoma"/>',e[e.length]='<a:font script="Ethi" typeface="Nyala"/>',e[e.length]='<a:font script="Beng" typeface="Vrinda"/>',e[e.length]='<a:font script="Gujr" typeface="Shruti"/>',e[e.length]='<a:font script="Khmr" typeface="MoolBoran"/>',e[e.length]='<a:font script="Knda" typeface="Tunga"/>',e[e.length]='<a:font script="Guru" typeface="Raavi"/>',e[e.length]='<a:font script="Cans" typeface="Euphemia"/>',e[e.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',e[e.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',e[e.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',e[e.length]='<a:font script="Thaa" typeface="MV Boli"/>',e[e.length]='<a:font script="Deva" typeface="Mangal"/>',e[e.length]='<a:font script="Telu" typeface="Gautami"/>',e[e.length]='<a:font script="Taml" typeface="Latha"/>',e[e.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',e[e.length]='<a:font script="Orya" typeface="Kalinga"/>',e[e.length]='<a:font script="Mlym" typeface="Kartika"/>',e[e.length]='<a:font script="Laoo" typeface="DokChampa"/>',e[e.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',e[e.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',e[e.length]='<a:font script="Viet" typeface="Times New Roman"/>',e[e.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',e[e.length]='<a:font script="Geor" typeface="Sylfaen"/>',e[e.length]="</a:majorFont>",e[e.length]="<a:minorFont>",e[e.length]='<a:latin typeface="Calibri"/>',e[e.length]='<a:ea typeface=""/>',e[e.length]='<a:cs typeface=""/>',e[e.length]='<a:font script="Jpan" typeface=" "/>',e[e.length]='<a:font script="Hang" typeface=" "/>',e[e.length]='<a:font script="Hans" typeface=""/>',e[e.length]='<a:font script="Hant" typeface=""/>',e[e.length]='<a:font script="Arab" typeface="Arial"/>',e[e.length]='<a:font script="Hebr" typeface="Arial"/>',e[e.length]='<a:font script="Thai" typeface="Tahoma"/>',e[e.length]='<a:font script="Ethi" typeface="Nyala"/>',e[e.length]='<a:font script="Beng" typeface="Vrinda"/>',e[e.length]='<a:font script="Gujr" typeface="Shruti"/>',e[e.length]='<a:font script="Khmr" typeface="DaunPenh"/>',e[e.length]='<a:font script="Knda" typeface="Tunga"/>',e[e.length]='<a:font script="Guru" typeface="Raavi"/>',e[e.length]='<a:font script="Cans" typeface="Euphemia"/>',e[e.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',e[e.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',e[e.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',e[e.length]='<a:font script="Thaa" typeface="MV Boli"/>',e[e.length]='<a:font script="Deva" typeface="Mangal"/>',e[e.length]='<a:font script="Telu" typeface="Gautami"/>',e[e.length]='<a:font script="Taml" typeface="Latha"/>',e[e.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',e[e.length]='<a:font script="Orya" typeface="Kalinga"/>',e[e.length]='<a:font script="Mlym" typeface="Kartika"/>',e[e.length]='<a:font script="Laoo" typeface="DokChampa"/>',e[e.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',e[e.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',e[e.length]='<a:font script="Viet" typeface="Arial"/>',e[e.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',e[e.length]='<a:font script="Geor" typeface="Sylfaen"/>',e[e.length]="</a:minorFont>",e[e.length]="</a:fontScheme>",e[e.length]='<a:fmtScheme name="Office">',e[e.length]="<a:fillStyleLst>",e[e.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:lin ang="16200000" scaled="1"/>',e[e.length]="</a:gradFill>",e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:lin ang="16200000" scaled="0"/>',e[e.length]="</a:gradFill>",e[e.length]="</a:fillStyleLst>",e[e.length]="<a:lnStyleLst>",e[e.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',e[e.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',e[e.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',e[e.length]="</a:lnStyleLst>",e[e.length]="<a:effectStyleLst>",e[e.length]="<a:effectStyle>",e[e.length]="<a:effectLst>",e[e.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',e[e.length]="</a:effectLst>",e[e.length]="</a:effectStyle>",e[e.length]="<a:effectStyle>",e[e.length]="<a:effectLst>",e[e.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',e[e.length]="</a:effectLst>",e[e.length]="</a:effectStyle>",e[e.length]="<a:effectStyle>",e[e.length]="<a:effectLst>",e[e.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',e[e.length]="</a:effectLst>",e[e.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',e[e.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',e[e.length]="</a:effectStyle>",e[e.length]="</a:effectStyleLst>",e[e.length]="<a:bgFillStyleLst>",e[e.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',e[e.length]="</a:gradFill>",e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',e[e.length]="</a:gradFill>",e[e.length]="</a:bgFillStyleLst>",e[e.length]="</a:fmtScheme>",e[e.length]="</a:themeElements>",e[e.length]="<a:objectDefaults>",e[e.length]="<a:spDef>",e[e.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',e[e.length]="</a:spDef>",e[e.length]="<a:lnDef>",e[e.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',e[e.length]="</a:lnDef>",e[e.length]="</a:objectDefaults>",e[e.length]="<a:extraClrSchemeLst/>",e[e.length]="</a:theme>",e.join("")}function _P(r,t,e){var n=r.l+t,s=r.read_shift(4);if(s!==124226){if(!e.cellStyles){r.l=n;return}var i=r.slice(r.l);r.l=n;var a;try{a=n8(i,{type:"array"})}catch{return}var l=ra(a,"theme/theme/theme1.xml",!0);if(l)return W8(l,e)}}function SP(r){return r.read_shift(4)}function kP(r){var t={};switch(t.xclrType=r.read_shift(2),t.nTintShade=r.read_shift(2),t.xclrType){case 0:r.l+=4;break;case 1:t.xclrValue=TP(r,4);break;case 2:t.xclrValue=D8(r);break;case 3:t.xclrValue=SP(r);break;case 4:r.l+=4;break}return r.l+=8,t}function TP(r,t){return bs(r,t)}function EP(r,t){return bs(r,t)}function AP(r){var t=r.read_shift(2),e=r.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=kP(r);break;case 6:n[1]=EP(r,e);break;case 14:case 15:n[1]=r.read_shift(e===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+e)}return n}function NP(r,t){var e=r.l+t;r.l+=2;var n=r.read_shift(2);r.l+=2;for(var s=r.read_shift(2),i=[];s-- >0;)i.push(AP(r,e-r.l));return{ixfe:n,ext:i}}function CP(r,t){t.forEach(function(e){e[0]})}function RP(r,t){return{flags:r.read_shift(4),version:r.read_shift(4),name:ms(r)}}function MP(r){for(var t=[],e=r.read_shift(4);e-- >0;)t.push([r.read_shift(4),r.read_shift(4)]);return t}function jP(r){return r.l+=4,r.read_shift(4)!=0}function DP(r,t,e){var n={Types:[],Cell:[],Value:[]},s=e||{},i=[],a=!1,l=2;return Zi(r,function(c,o,u){switch(u){case 335:n.Types.push({name:c.name});break;case 51:c.forEach(function(p){l==1?n.Cell.push({type:n.Types[p[0]-1].name,index:p[1]}):l==0&&n.Value.push({type:n.Types[p[0]-1].name,index:p[1]})});break;case 337:l=c?1:0;break;case 338:l=2;break;case 35:i.push(u),a=!0;break;case 36:i.pop(),a=!1;break;default:if(!o.T){if(!a||s.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),n}function IP(r,t,e){var n={Types:[],Cell:[],Value:[]};if(!r)return n;var s=!1,i=2,a;return r.replace(xs,function(l){var c=Jt(l);switch(pi(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var o=0;o<n.Types.length;++o)n.Types[o].name==c.name&&(a=n.Types[o]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[c.t-1].name,index:+c.v}):i==0&&n.Value.push({type:n.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;case"<rvb":if(!a)break;a.offsets||(a.offsets=[]),a.offsets.push(+c.i);break;default:if(!s&&e.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return l}),n}function OP(r){var t=[];if(!r)return t;var e=1;return(r.match(xs)||[]).forEach(function(n){var s=Jt(n);switch(s[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete s[0],s.i?e=s.i:s.i=e,t.push(s);break}}),t}function FP(r){var t={};t.i=r.read_shift(4);var e={};e.r=r.read_shift(4),e.c=r.read_shift(4),t.r=ir(e);var n=r.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function PP(r,t,e){var n=[];return Zi(r,function(i,a,l){switch(l){case 63:n.push(i);break;default:if(!a.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),n}function LP(r,t,e,n){if(!r)return r;var s=n||{},i=!1;Zi(r,function(l,c,o){switch(o){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!c.T){if(!i||s.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}},s)}function BP(r,t){if(!r)return"??";var e=(r.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][e].Target}function S4(r,t,e,n){var s=Array.isArray(r),i;t.forEach(function(a){var l=Es(a.ref);if(s?(r[l.r]||(r[l.r]=[]),i=r[l.r][l.c]):i=r[a.ref],!i){i={t:"z"},s?r[l.r][l.c]=i:r[a.ref]=i;var c=hn(r["!ref"]||"BDWGO1000001:A1");c.s.r>l.r&&(c.s.r=l.r),c.e.r<l.r&&(c.e.r=l.r),c.s.c>l.c&&(c.s.c=l.c),c.e.c<l.c&&(c.e.c=l.c);var o=Cr(c);o!==r["!ref"]&&(r["!ref"]=o)}i.c||(i.c=[]);var u={a:a.author,t:a.t,r:a.r,T:e};a.h&&(u.h=a.h);for(var p=i.c.length-1;p>=0;--p){if(!e&&i.c[p].T)return;e&&!i.c[p].T&&i.c.splice(p,1)}if(e&&n){for(p=0;p<n.length;++p)if(u.a==n[p].id){u.a=n[p].name||u.a;break}}i.c.push(u)})}function UP(r,t){if(r.match(/<(?:\w+:)?comments *\/>/))return[];var e=[],n=[],s=r.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);s&&s[1]&&s[1].split(/<\/\w*:?author>/).forEach(function(a){if(!(a===""||a.trim()==="")){var l=a.match(/<(?:\w+:)?author[^>]*>(.*)/);l&&e.push(l[1])}});var i=r.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(a){if(!(a===""||a.trim()==="")){var l=a.match(/<(?:\w+:)?comment[^>]*>/);if(l){var c=Jt(l[0]),o={author:c.authorId&&e[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},u=Es(c.ref);if(!(t.sheetRows&&t.sheetRows<=u.r)){var p=a.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!p&&!!p[1]&&lx(p[1])||{r:"",t:"",h:""};o.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),o.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(o.h=h.h),n.push(o)}}}}),n}function VP(r,t){var e=[],n=!1,s={},i=0;return r.replace(xs,function(l,c){var o=Jt(l);switch(pi(o[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":s={author:o.personId,guid:o.id,ref:o.ref,T:1};break;case"</threadedComment>":s.t!=null&&e.push(s);break;case"<text>":case"<text":i=c+l.length;break;case"</text>":s.t=r.slice(i,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return l}),e}function zP(r,t){var e=[],n=!1;return r.replace(xs,function(i){var a=Jt(i);switch(pi(a[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":e.push({name:a.displayname,id:a.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+a[0]+" in threaded comments")}return i}),e}function HP(r){var t={};t.iauthor=r.read_shift(4);var e=Zl(r);return t.rfx=e.s,t.ref=ir(e.s),r.l+=16,t}var $P=ms;function qP(r,t){var e=[],n=[],s={},i=!1;return Zi(r,function(l,c,o){switch(o){case 632:n.push(l);break;case 635:s=l;break;case 637:s.t=l.t,s.h=l.h,s.r=l.r;break;case 636:if(s.author=n[s.iauthor],delete s.iauthor,t.sheetRows&&s.rfx&&t.sheetRows<=s.rfx.r)break;s.t||(s.t=""),delete s.rfx,e.push(s);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}}),e}var GP="application/vnd.ms-office.vbaProject";function WP(r){var t=Nr.utils.cfb_new({root:"R"});return r.FullPaths.forEach(function(e,n){if(!(e.slice(-1)==="/"||!e.match(/_VBA_PROJECT_CUR/))){var s=e.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Nr.utils.cfb_add(t,s,r.FileIndex[n].content)}}),Nr.write(t)}function XP(){return{"!type":"dialog"}}function YP(){return{"!type":"dialog"}}function KP(){return{"!type":"macro"}}function QP(){return{"!type":"macro"}}var Yc=(function(){var r=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function e(n,s,i,a){var l=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),a.length==0?l=!0:a.charAt(0)=="["&&(l=!0,a=a.slice(1,-1));var o=i.length>0?parseInt(i,10)|0:0,u=a.length>0?parseInt(a,10)|0:0;return l?u+=t.c:--u,c?o+=t.r:--o,s+(l?"":"$")+On(u)+(c?"":"$")+ts(o)}return function(s,i){return t=i,s.replace(r,e)}})(),X8=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,ZP=(function(){return function(t,e){return t.replace(X8,function(n,s,i,a,l,c){var o=rx(a)-(i?0:e.c),u=tx(c)-(l?0:e.r),p=u==0?"":l?u+1:"["+u+"]",h=o==0?"":i?o+1:"["+o+"]";return s+"R"+p+"C"+h})}})();function Y8(r,t){return r.replace(X8,function(e,n,s,i,a,l){return n+(s=="$"?s+i:On(rx(i)+t.c))+(a=="$"?a+l:ts(tx(l)+t.r))})}function JP(r,t,e){var n=xu(t),s=n.s,i=Es(e),a={r:i.r-s.r,c:i.c-s.c};return Y8(r,a)}function eL(r){return r.length!=1}function k4(r){return r.replace(/_xlfn\./g,"")}function Tn(r){r.l+=1}function el(r,t){var e=r.read_shift(2);return[e&16383,e>>14&1,e>>15&1]}function K8(r,t,e){var n=2;if(e){if(e.biff>=2&&e.biff<=5)return Q8(r);e.biff==12&&(n=4)}var s=r.read_shift(n),i=r.read_shift(n),a=el(r),l=el(r);return{s:{r:s,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function Q8(r){var t=el(r),e=el(r),n=r.read_shift(1),s=r.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:e[0],c:s,cRel:e[1],rRel:e[2]}}}function tL(r,t,e){if(e.biff<8)return Q8(r);var n=r.read_shift(e.biff==12?4:2),s=r.read_shift(e.biff==12?4:2),i=el(r),a=el(r);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:a[0],cRel:a[1],rRel:a[2]}}}function Z8(r,t,e){if(e&&e.biff>=2&&e.biff<=5)return rL(r);var n=r.read_shift(e&&e.biff==12?4:2),s=el(r);return{r:n,c:s[0],cRel:s[1],rRel:s[2]}}function rL(r){var t=el(r),e=r.read_shift(1);return{r:t[0],c:e,cRel:t[1],rRel:t[2]}}function nL(r){var t=r.read_shift(2),e=r.read_shift(2);return{r:t,c:e&255,fQuoted:!!(e&16384),cRel:e>>15,rRel:e>>15}}function sL(r,t,e){var n=e&&e.biff?e.biff:8;if(n>=2&&n<=5)return aL(r);var s=r.read_shift(n>=12?4:2),i=r.read_shift(2),a=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;s>524287;)s-=1048576;if(a==1)for(;i>8191;)i=i-16384;return{r:s,c:i,cRel:a,rRel:l}}function aL(r){var t=r.read_shift(2),e=r.read_shift(1),n=(t&32768)>>15,s=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),s==1&&e>=128&&(e=e-256),{r:t,c:e,cRel:s,rRel:n}}function iL(r,t,e){var n=(r[r.l++]&96)>>5,s=K8(r,e.biff>=2&&e.biff<=5?6:8,e);return[n,s]}function oL(r,t,e){var n=(r[r.l++]&96)>>5,s=r.read_shift(2,"i"),i=8;if(e)switch(e.biff){case 5:r.l+=12,i=6;break;case 12:i=12;break}var a=K8(r,i,e);return[n,s,a]}function lL(r,t,e){var n=(r[r.l++]&96)>>5;return r.l+=e&&e.biff>8?12:e.biff<8?6:8,[n]}function cL(r,t,e){var n=(r[r.l++]&96)>>5,s=r.read_shift(2),i=8;if(e)switch(e.biff){case 5:r.l+=12,i=6;break;case 12:i=12;break}return r.l+=i,[n,s]}function uL(r,t,e){var n=(r[r.l++]&96)>>5,s=tL(r,t-1,e);return[n,s]}function fL(r,t,e){var n=(r[r.l++]&96)>>5;return r.l+=e.biff==2?6:e.biff==12?14:7,[n]}function T4(r){var t=r[r.l+1]&1,e=1;return r.l+=4,[t,e]}function hL(r,t,e){r.l+=2;for(var n=r.read_shift(e&&e.biff==2?1:2),s=[],i=0;i<=n;++i)s.push(r.read_shift(e&&e.biff==2?1:2));return s}function dL(r,t,e){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(e&&e.biff==2?1:2)]}function pL(r,t,e){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(e&&e.biff==2?1:2)]}function mL(r){var t=r[r.l+1]&255?1:0;return r.l+=2,[t,r.read_shift(2)]}function gL(r,t,e){var n=r[r.l+1]&255?1:0;return r.l+=e&&e.biff==2?3:4,[n]}function J8(r){var t=r.read_shift(1),e=r.read_shift(1);return[t,e]}function bL(r){return r.read_shift(2),J8(r)}function xL(r){return r.read_shift(2),J8(r)}function yL(r,t,e){var n=(r[r.l]&96)>>5;r.l+=1;var s=Z8(r,0,e);return[n,s]}function vL(r,t,e){var n=(r[r.l]&96)>>5;r.l+=1;var s=sL(r,0,e);return[n,s]}function wL(r,t,e){var n=(r[r.l]&96)>>5;r.l+=1;var s=r.read_shift(2);e&&e.biff==5&&(r.l+=12);var i=Z8(r,0,e);return[n,s,i]}function _L(r,t,e){var n=(r[r.l]&96)>>5;r.l+=1;var s=r.read_shift(e&&e.biff<=3?1:2);return[SB[s],rS[s],n]}function SL(r,t,e){var n=r[r.l++],s=r.read_shift(1),i=e&&e.biff<=3?[n==88?-1:0,r.read_shift(1)]:kL(r);return[s,(i[0]===0?rS:_B)[i[1]]]}function kL(r){return[r[r.l+1]>>7,r.read_shift(2)&32767]}function TL(r,t,e){r.l+=e&&e.biff==2?3:4}function EL(r,t,e){if(r.l++,e&&e.biff==12)return[r.read_shift(4,"i"),0];var n=r.read_shift(2),s=r.read_shift(e&&e.biff==2?1:2);return[n,s]}function AL(r){return r.l++,Jl[r.read_shift(1)]}function NL(r){return r.l++,r.read_shift(2)}function CL(r){return r.l++,r.read_shift(1)!==0}function RL(r){return r.l++,hs(r)}function ML(r,t,e){return r.l++,yh(r,t-1,e)}function jL(r,t){var e=[r.read_shift(1)];if(t==12)switch(e[0]){case 2:e[0]=4;break;case 4:e[0]=16;break;case 0:e[0]=1;break;case 1:e[0]=2;break}switch(e[0]){case 4:e[1]=yn(r,1)?"TRUE":"FALSE",t!=12&&(r.l+=7);break;case 37:case 16:e[1]=Jl[r[r.l]],r.l+=t==12?4:8;break;case 0:r.l+=8;break;case 1:e[1]=hs(r);break;case 2:e[1]=ec(r,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+e[0])}return e}function DL(r,t,e){for(var n=r.read_shift(e.biff==12?4:2),s=[],i=0;i!=n;++i)s.push((e.biff==12?Zl:Sp)(r));return s}function IL(r,t,e){var n=0,s=0;e.biff==12?(n=r.read_shift(4),s=r.read_shift(4)):(s=1+r.read_shift(1),n=1+r.read_shift(2)),e.biff>=2&&e.biff<8&&(--n,--s==0&&(s=256));for(var i=0,a=[];i!=n&&(a[i]=[]);++i)for(var l=0;l!=s;++l)a[i][l]=jL(r,e.biff);return a}function OL(r,t,e){var n=r.read_shift(1)>>>5&3,s=!e||e.biff>=8?4:2,i=r.read_shift(s);switch(e.biff){case 2:r.l+=5;break;case 3:case 4:r.l+=8;break;case 5:r.l+=12;break}return[n,0,i]}function FL(r,t,e){if(e.biff==5)return PL(r);var n=r.read_shift(1)>>>5&3,s=r.read_shift(2),i=r.read_shift(4);return[n,s,i]}function PL(r){var t=r.read_shift(1)>>>5&3,e=r.read_shift(2,"i");r.l+=8;var n=r.read_shift(2);return r.l+=12,[t,e,n]}function LL(r,t,e){var n=r.read_shift(1)>>>5&3;r.l+=e&&e.biff==2?3:4;var s=r.read_shift(e&&e.biff==2?1:2);return[n,s]}function BL(r,t,e){var n=r.read_shift(1)>>>5&3,s=r.read_shift(e&&e.biff==2?1:2);return[n,s]}function UL(r,t,e){var n=r.read_shift(1)>>>5&3;return r.l+=4,e.biff<8&&r.l--,e.biff==12&&(r.l+=2),[n]}function VL(r,t,e){var n=(r[r.l++]&96)>>5,s=r.read_shift(2),i=4;if(e)switch(e.biff){case 5:i=15;break;case 12:i=6;break}return r.l+=i,[n,s]}var zL=bs,HL=bs,$L=bs;function wh(r,t,e){return r.l+=2,[nL(r)]}function ux(r){return r.l+=6,[]}var qL=wh,GL=ux,WL=ux,XL=wh;function eS(r){return r.l+=2,[Nn(r),r.read_shift(2)&1]}var YL=wh,KL=eS,QL=ux,ZL=wh,JL=wh,eB=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function tB(r){r.l+=2;var t=r.read_shift(2),e=r.read_shift(2),n=r.read_shift(4),s=r.read_shift(2),i=r.read_shift(2),a=eB[e>>2&31];return{ixti:t,coltype:e&3,rt:a,idx:n,c:s,C:i}}function rB(r){return r.l+=2,[r.read_shift(4)]}function nB(r,t,e){return r.l+=5,r.l+=2,r.l+=e.biff==2?1:4,["PTGSHEET"]}function sB(r,t,e){return r.l+=e.biff==2?4:5,["PTGENDSHEET"]}function aB(r){var t=r.read_shift(1)>>>5&3,e=r.read_shift(2);return[t,e]}function iB(r){var t=r.read_shift(1)>>>5&3,e=r.read_shift(2);return[t,e]}function oB(r){return r.l+=4,[0,0]}var E4={1:{n:"PtgExp",f:EL},2:{n:"PtgTbl",f:$L},3:{n:"PtgAdd",f:Tn},4:{n:"PtgSub",f:Tn},5:{n:"PtgMul",f:Tn},6:{n:"PtgDiv",f:Tn},7:{n:"PtgPower",f:Tn},8:{n:"PtgConcat",f:Tn},9:{n:"PtgLt",f:Tn},10:{n:"PtgLe",f:Tn},11:{n:"PtgEq",f:Tn},12:{n:"PtgGe",f:Tn},13:{n:"PtgGt",f:Tn},14:{n:"PtgNe",f:Tn},15:{n:"PtgIsect",f:Tn},16:{n:"PtgUnion",f:Tn},17:{n:"PtgRange",f:Tn},18:{n:"PtgUplus",f:Tn},19:{n:"PtgUminus",f:Tn},20:{n:"PtgPercent",f:Tn},21:{n:"PtgParen",f:Tn},22:{n:"PtgMissArg",f:Tn},23:{n:"PtgStr",f:ML},26:{n:"PtgSheet",f:nB},27:{n:"PtgEndSheet",f:sB},28:{n:"PtgErr",f:AL},29:{n:"PtgBool",f:CL},30:{n:"PtgInt",f:NL},31:{n:"PtgNum",f:RL},32:{n:"PtgArray",f:fL},33:{n:"PtgFunc",f:_L},34:{n:"PtgFuncVar",f:SL},35:{n:"PtgName",f:OL},36:{n:"PtgRef",f:yL},37:{n:"PtgArea",f:iL},38:{n:"PtgMemArea",f:LL},39:{n:"PtgMemErr",f:zL},40:{n:"PtgMemNoMem",f:HL},41:{n:"PtgMemFunc",f:BL},42:{n:"PtgRefErr",f:UL},43:{n:"PtgAreaErr",f:lL},44:{n:"PtgRefN",f:vL},45:{n:"PtgAreaN",f:uL},46:{n:"PtgMemAreaN",f:aB},47:{n:"PtgMemNoMemN",f:iB},57:{n:"PtgNameX",f:FL},58:{n:"PtgRef3d",f:wL},59:{n:"PtgArea3d",f:oL},60:{n:"PtgRefErr3d",f:VL},61:{n:"PtgAreaErr3d",f:cL},255:{}},lB={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},cB={1:{n:"PtgElfLel",f:eS},2:{n:"PtgElfRw",f:ZL},3:{n:"PtgElfCol",f:qL},6:{n:"PtgElfRwV",f:JL},7:{n:"PtgElfColV",f:XL},10:{n:"PtgElfRadical",f:YL},11:{n:"PtgElfRadicalS",f:QL},13:{n:"PtgElfColS",f:GL},15:{n:"PtgElfColSV",f:WL},16:{n:"PtgElfRadicalLel",f:KL},25:{n:"PtgList",f:tB},29:{n:"PtgSxName",f:rB},255:{}},uB={0:{n:"PtgAttrNoop",f:oB},1:{n:"PtgAttrSemi",f:gL},2:{n:"PtgAttrIf",f:pL},4:{n:"PtgAttrChoose",f:hL},8:{n:"PtgAttrGoto",f:dL},16:{n:"PtgAttrSum",f:TL},32:{n:"PtgAttrBaxcel",f:T4},33:{n:"PtgAttrBaxcel",f:T4},64:{n:"PtgAttrSpace",f:bL},65:{n:"PtgAttrSpaceSemi",f:xL},128:{n:"PtgAttrIfError",f:mL},255:{}};function _h(r,t,e,n){if(n.biff<8)return bs(r,t);for(var s=r.l+t,i=[],a=0;a!==e.length;++a)switch(e[a][0]){case"PtgArray":e[a][1]=IL(r,0,n),i.push(e[a][1]);break;case"PtgMemArea":e[a][2]=DL(r,e[a][1],n),i.push(e[a][2]);break;case"PtgExp":n&&n.biff==12&&(e[a][1][1]=r.read_shift(4),i.push(e[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+e[a][0]}return t=s-r.l,t!==0&&i.push(bs(r,t)),i}function Sh(r,t,e){for(var n=r.l+t,s,i,a=[];n!=r.l;)t=n-r.l,i=r[r.l],s=E4[i]||E4[lB[i]],(i===24||i===25)&&(s=(i===24?cB:uB)[r[r.l+1]]),!s||!s.f?bs(r,t):a.push([s.n,s.f(r,t,e)]);return a}function fB(r){for(var t=[],e=0;e<r.length;++e){for(var n=r[e],s=[],i=0;i<n.length;++i){var a=n[i];if(a)switch(a[0]){case 2:s.push('"'+a[1].replace(/"/g,'""')+'"');break;default:s.push(a[1])}else s.push("")}t.push(s.join(","))}return t.join(";")}var hB={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function dB(r,t){if(!r&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(r)?"'"+r+"'":r}function tS(r,t,e){if(!r)return"SH33TJSERR0";if(e.biff>8&&(!r.XTI||!r.XTI[t]))return r.SheetNames[t];if(!r.XTI)return"SH33TJSERR6";var n=r.XTI[t];if(e.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":r.XTI[t-1];if(!n)return"SH33TJSERR1";var s="";if(e.biff>8)switch(r[n[0]][0]){case 357:return s=n[1]==-1?"#REF":r.SheetNames[n[1]],n[1]==n[2]?s:s+":"+r.SheetNames[n[2]];case 358:return e.SID!=null?r.SheetNames[e.SID]:"SH33TJSSAME"+r[n[0]][0];case 355:default:return"SH33TJSSRC"+r[n[0]][0]}switch(r[n[0]][0][0]){case 1025:return s=n[1]==-1?"#REF":r.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?s:s+":"+r.SheetNames[n[2]];case 14849:return r[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return r[n[0]][0][3]?(s=n[1]==-1?"#REF":r[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?s:s+":"+r[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function A4(r,t,e){var n=tS(r,t,e);return n=="#REF"?n:dB(n,e)}function cs(r,t,e,n,s){var i=s&&s.biff||8,a={s:{c:0,r:0}},l=[],c,o,u,p=0,h=0,d,b="";if(!r[0]||!r[0][0])return"";for(var x=-1,g="",w=0,v=r[0].length;w<v;++w){var k=r[0][w];switch(k[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),o=l.pop(),x>=0){switch(r[0][x][1][0]){case 0:g=cn(" ",r[0][x][1][1]);break;case 1:g=cn("\r",r[0][x][1][1]);break;default:if(g="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][x][1][0])}o=o+g,x=-1}l.push(o+hB[k[0]]+c);break;case"PtgIsect":c=l.pop(),o=l.pop(),l.push(o+" "+c);break;case"PtgUnion":c=l.pop(),o=l.pop(),l.push(o+","+c);break;case"PtgRange":c=l.pop(),o=l.pop(),l.push(o+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=Cf(k[1][1],a,s),l.push(Rf(u,i));break;case"PtgRefN":u=e?Cf(k[1][1],e,s):k[1][1],l.push(Rf(u,i));break;case"PtgRef3d":p=k[1][1],u=Cf(k[1][2],a,s),b=A4(n,p,s),l.push(b+"!"+Rf(u,i));break;case"PtgFunc":case"PtgFuncVar":var R=k[1][0],L=k[1][1];R||(R=0),R&=127;var G=R==0?[]:l.slice(-R);l.length-=R,L==="User"&&(L=G.shift()),l.push(L+"("+G.join(",")+")");break;case"PtgBool":l.push(k[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(k[1]);break;case"PtgNum":l.push(String(k[1]));break;case"PtgStr":l.push('"'+k[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(k[1]);break;case"PtgAreaN":d=o4(k[1][1],e?{s:e}:a,s),l.push(zg(d,s));break;case"PtgArea":d=o4(k[1][1],a,s),l.push(zg(d,s));break;case"PtgArea3d":p=k[1][1],d=k[1][2],b=A4(n,p,s),l.push(b+"!"+zg(d,s));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=k[1][2];var V=(n.names||[])[h-1]||(n[0]||[])[h],O=V?V.Name:"SH33TJSNAME"+String(h);O&&O.slice(0,6)=="_xlfn."&&!s.xlfn&&(O=O.slice(6)),l.push(O);break;case"PtgNameX":var F=k[1][1];h=k[1][2];var B;if(s.biff<=5)F<0&&(F=-F),n[F]&&(B=n[F][h]);else{var W="";if(((n[F]||[])[0]||[])[0]==14849||(((n[F]||[])[0]||[])[0]==1025?n[F][h]&&n[F][h].itab>0&&(W=n.SheetNames[n[F][h].itab-1]+"!"):W=n.SheetNames[h-1]+"!"),n[F]&&n[F][h])W+=n[F][h].Name;else if(n[0]&&n[0][h])W+=n[0][h].Name;else{var P=(tS(n,F,s)||"").split(";;");P[h-1]?W=P[h-1]:W+="SH33TJSERRX"}l.push(W);break}B||(B={Name:"SH33TJSERRY"}),l.push(B.Name);break;case"PtgParen":var N="(",D=")";if(x>=0){switch(g="",r[0][x][1][0]){case 2:N=cn(" ",r[0][x][1][1])+N;break;case 3:N=cn("\r",r[0][x][1][1])+N;break;case 4:D=cn(" ",r[0][x][1][1])+D;break;case 5:D=cn("\r",r[0][x][1][1])+D;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][x][1][0])}x=-1}l.push(N+l.pop()+D);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":u={c:k[1][1],r:k[1][0]};var C={c:e.c,r:e.r};if(n.sharedf[ir(u)]){var S=n.sharedf[ir(u)];l.push(cs(S,a,C,n,s))}else{var T=!1;for(c=0;c!=n.arrayf.length;++c)if(o=n.arrayf[c],!(u.c<o[0].s.c||u.c>o[0].e.c)&&!(u.r<o[0].s.r||u.r>o[0].e.r)){l.push(cs(o[1],a,C,n,s)),T=!0;break}T||l.push(k[1])}break;case"PtgArray":l.push("{"+fB(k[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":x=w;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+k[1].idx+"[#"+k[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(k));default:throw new Error("Unrecognized Formula Token: "+String(k))}var A=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&x>=0&&A.indexOf(r[0][w][0])==-1){k=r[0][x];var E=!0;switch(k[1][0]){case 4:E=!1;case 0:g=cn(" ",k[1][1]);break;case 5:E=!1;case 1:g=cn("\r",k[1][1]);break;default:if(g="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+k[1][0])}l.push((E?g:"")+l.pop()+(E?"":g)),x=-1}}if(l.length>1&&s.WTF)throw new Error("bad formula stack");return l[0]}function pB(r,t,e){var n=r.l+t,s=e.biff==2?1:2,i,a=r.read_shift(s);if(a==65535)return[[],bs(r,t-2)];var l=Sh(r,a,e);return t!==a+s&&(i=_h(r,t-a-s,l,e)),r.l=n,[l,i]}function mB(r,t,e){var n=r.l+t,s=e.biff==2?1:2,i,a=r.read_shift(s);if(a==65535)return[[],bs(r,t-2)];var l=Sh(r,a,e);return t!==a+s&&(i=_h(r,t-a-s,l,e)),r.l=n,[l,i]}function gB(r,t,e,n){var s=r.l+t,i=Sh(r,n,e),a;return s!==r.l&&(a=_h(r,s-r.l,i,e)),[i,a]}function bB(r,t,e){var n=r.l+t,s,i=r.read_shift(2),a=Sh(r,i,e);return i==65535?[[],bs(r,t-2)]:(t!==i+2&&(s=_h(r,n-i-2,a,e)),[a,s])}function xB(r){var t;if(Li(r,r.l+6)!==65535)return[hs(r),"n"];switch(r[r.l]){case 0:return r.l+=8,["String","s"];case 1:return t=r[r.l+2]===1,r.l+=8,[t,"b"];case 2:return t=r[r.l+2],r.l+=8,[t,"e"];case 3:return r.l+=8,["","s"]}return[]}function qg(r,t,e){var n=r.l+t,s=mi(r);e.biff==2&&++r.l;var i=xB(r),a=r.read_shift(1);e.biff!=2&&(r.read_shift(1),e.biff>=5&&r.read_shift(4));var l=mB(r,n-r.l,e);return{cell:s,val:i[0],formula:l,shared:a>>3&1,tt:i[1]}}function kp(r,t,e){var n=r.read_shift(4),s=Sh(r,n,e),i=r.read_shift(4),a=i>0?_h(r,i,s,e):null;return[s,a]}var yB=kp,Tp=kp,vB=kp,wB=kp,_B={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},rS={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},SB={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function N4(r){return r.slice(0,3)=="of:"&&(r=r.slice(3)),r.charCodeAt(0)==61&&(r=r.slice(1),r.charCodeAt(0)==61&&(r=r.slice(1))),r=r.replace(/COM\.MICROSOFT\./g,""),r=r.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,e){return e.replace(/\./g,"")}),r=r.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),r.replace(/[;~]/g,",").replace(/\|/g,";")}function Gg(r){var t=r.split(":"),e=t[0].split(".")[0];return[e,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var If={},Kc={};function Of(r,t){if(r){var e=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(e=[1,1,1,1,.5,.5]),r.left==null&&(r.left=e[0]),r.right==null&&(r.right=e[1]),r.top==null&&(r.top=e[2]),r.bottom==null&&(r.bottom=e[3]),r.header==null&&(r.header=e[4]),r.footer==null&&(r.footer=e[5])}}function nS(r,t,e,n,s,i){try{n.cellNF&&(r.z=fr[t])}catch(l){if(n.WTF)throw l}if(!(r.t==="z"&&!n.cellStyles)){if(r.t==="d"&&typeof r.v=="string"&&(r.v=zn(r.v)),(!n||n.cellText!==!1)&&r.t!=="z")try{if(fr[t]==null&&Fl(kD[t]||"General",t),r.t==="e")r.w=r.w||Jl[r.v];else if(t===0)if(r.t==="n")(r.v|0)===r.v?r.w=r.v.toString(10):r.w=Qf(r.v);else if(r.t==="d"){var a=Cs(r.v);(a|0)===a?r.w=a.toString(10):r.w=Qf(a)}else{if(r.v===void 0)return"";r.w=$l(r.v,Kc)}else r.t==="d"?r.w=wa(t,Cs(r.v),Kc):r.w=wa(t,r.v,Kc)}catch(l){if(n.WTF)throw l}if(n.cellStyles&&e!=null)try{r.s=i.Fills[e],r.s.fgColor&&r.s.fgColor.theme&&!r.s.fgColor.rgb&&(r.s.fgColor.rgb=G0(s.themeElements.clrScheme[r.s.fgColor.theme].rgb,r.s.fgColor.tint||0),n.WTF&&(r.s.fgColor.raw_rgb=s.themeElements.clrScheme[r.s.fgColor.theme].rgb)),r.s.bgColor&&r.s.bgColor.theme&&(r.s.bgColor.rgb=G0(s.themeElements.clrScheme[r.s.bgColor.theme].rgb,r.s.bgColor.tint||0),n.WTF&&(r.s.bgColor.raw_rgb=s.themeElements.clrScheme[r.s.bgColor.theme].rgb))}catch(l){if(n.WTF&&i.Fills)throw l}}}function kB(r,t){var e=hn(t);e.s.r<=e.e.r&&e.s.c<=e.e.c&&e.s.r>=0&&e.s.c>=0&&(r["!ref"]=Cr(e))}var TB=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,EB=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,AB=/<(?:\w:)?hyperlink [^>]*>/mg,NB=/"(\w*:\w*)"/,CB=/<(?:\w:)?col\b[^>]*[\/]?>/g,RB=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,MB=/<(?:\w:)?pageMargins[^>]*\/>/g,sS=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,jB=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,DB=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function IB(r,t,e,n,s,i,a){if(!r)return r;n||(n={"!id":{}});var l=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},o="",u="",p=r.match(EB);p?(o=r.slice(0,p.index),u=r.slice(p.index+p[0].length)):o=u=r;var h=o.match(sS);h?fx(h[0],l,s,e):(h=o.match(jB))&&OB(h[0],h[1]||"",l,s,e);var d=(o.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(d>0){var b=o.slice(d,d+50).match(NB);b&&kB(l,b[1])}var x=o.match(DB);x&&x[1]&&VB(x[1],s);var g=[];if(t.cellStyles){var w=o.match(CB);w&&LB(g,w)}p&&zB(p[1],l,t,c,i,a);var v=u.match(RB);v&&(l["!autofilter"]=BB(v[0]));var k=[],R=u.match(TB);if(R)for(d=0;d!=R.length;++d)k[d]=hn(R[d].slice(R[d].indexOf('"')+1));var L=u.match(AB);L&&FB(l,L,n);var G=u.match(MB);if(G&&(l["!margins"]=PB(Jt(G[0]))),!l["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(l["!ref"]=Cr(c)),t.sheetRows>0&&l["!ref"]){var V=hn(l["!ref"]);t.sheetRows<=+V.e.r&&(V.e.r=t.sheetRows-1,V.e.r>c.e.r&&(V.e.r=c.e.r),V.e.r<V.s.r&&(V.s.r=V.e.r),V.e.c>c.e.c&&(V.e.c=c.e.c),V.e.c<V.s.c&&(V.s.c=V.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Cr(V))}return g.length>0&&(l["!cols"]=g),k.length>0&&(l["!merges"]=k),l}function fx(r,t,e,n){var s=Jt(r);e.Sheets[n]||(e.Sheets[n]={}),s.codeName&&(e.Sheets[n].CodeName=Mr(Xr(s.codeName)))}function OB(r,t,e,n,s){fx(r.slice(0,r.indexOf(">")),e,n,s)}function FB(r,t,e){for(var n=Array.isArray(r),s=0;s!=t.length;++s){var i=Jt(Xr(t[s]),!0);if(!i.ref)return;var a=((e||{})["!id"]||[])[i.id];a?(i.Target=a.Target,i.location&&(i.Target+="#"+Mr(i.location))):(i.Target="#"+Mr(i.location),a={Target:i.Target,TargetMode:"Internal"}),i.Rel=a,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var l=hn(i.ref),c=l.s.r;c<=l.e.r;++c)for(var o=l.s.c;o<=l.e.c;++o){var u=ir({c:o,r:c});n?(r[c]||(r[c]=[]),r[c][o]||(r[c][o]={t:"z",v:void 0}),r[c][o].l=i):(r[u]||(r[u]={t:"z",v:void 0}),r[u].l=i)}}}function PB(r){var t={};return["left","right","top","bottom","header","footer"].forEach(function(e){r[e]&&(t[e]=parseFloat(r[e]))}),t}function LB(r,t){for(var e=!1,n=0;n!=t.length;++n){var s=Jt(t[n],!0);s.hidden&&(s.hidden=rn(s.hidden));var i=parseInt(s.min,10)-1,a=parseInt(s.max,10)-1;for(s.outlineLevel&&(s.level=+s.outlineLevel||0),delete s.min,delete s.max,s.width=+s.width,!e&&s.width&&(e=!0,cx(s.width)),ou(s);i<=a;)r[i++]=es(s)}}function BB(r){var t={ref:(r.match(/ref="([^"]*)"/)||[])[1]};return t}var UB=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function VB(r,t){t.Views||(t.Views=[{}]),(r.match(UB)||[]).forEach(function(e,n){var s=Jt(e);t.Views[n]||(t.Views[n]={}),+s.zoomScale&&(t.Views[n].zoom=+s.zoomScale),rn(s.rightToLeft)&&(t.Views[n].RTL=!0)})}var zB=(function(){var r=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,e=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,s=/ref=["']([^"']*)["']/,i=Zf("v"),a=Zf("f");return function(c,o,u,p,h,d){for(var b=0,x="",g=[],w=[],v=0,k=0,R=0,L="",G,V,O=0,F=0,B,W,P=0,N=0,D=Array.isArray(d.CellXf),C,S=[],T=[],A=Array.isArray(o),E=[],j={},U=!1,I=!!u.sheetStubs,Q=c.split(t),Y=0,ee=Q.length;Y!=ee;++Y){x=Q[Y].trim();var q=x.length;if(q!==0){var te=0;e:for(b=0;b<q;++b)switch(x[b]){case">":if(x[b-1]!="/"){++b;break e}if(u&&u.cellStyles){if(V=Jt(x.slice(te,b),!0),O=V.r!=null?parseInt(V.r,10):O+1,F=-1,u.sheetRows&&u.sheetRows<O)continue;j={},U=!1,V.ht&&(U=!0,j.hpt=parseFloat(V.ht),j.hpx=rh(j.hpt)),V.hidden=="1"&&(U=!0,j.hidden=!0),V.outlineLevel!=null&&(U=!0,j.level=+V.outlineLevel),U&&(E[O-1]=j)}break;case"<":te=b;break}if(te>=b)break;if(V=Jt(x.slice(te,b),!0),O=V.r!=null?parseInt(V.r,10):O+1,F=-1,!(u.sheetRows&&u.sheetRows<O)){p.s.r>O-1&&(p.s.r=O-1),p.e.r<O-1&&(p.e.r=O-1),u&&u.cellStyles&&(j={},U=!1,V.ht&&(U=!0,j.hpt=parseFloat(V.ht),j.hpx=rh(j.hpt)),V.hidden=="1"&&(U=!0,j.hidden=!0),V.outlineLevel!=null&&(U=!0,j.level=+V.outlineLevel),U&&(E[O-1]=j)),g=x.slice(b).split(r);for(var H=0;H!=g.length&&g[H].trim().charAt(0)=="<";++H);for(g=g.slice(H),b=0;b!=g.length;++b)if(x=g[b].trim(),x.length!==0){if(w=x.match(e),v=b,k=0,R=0,x="<c "+(x.slice(0,1)=="<"?">":"")+x,w!=null&&w.length===2){for(v=0,L=w[1],k=0;k!=L.length&&!((R=L.charCodeAt(k)-64)<1||R>26);++k)v=26*v+R;--v,F=v}else++F;for(k=0;k!=x.length&&x.charCodeAt(k)!==62;++k);if(++k,V=Jt(x.slice(0,k),!0),V.r||(V.r=ir({r:O-1,c:F})),L=x.slice(k),G={t:""},(w=L.match(i))!=null&&w[1]!==""&&(G.v=Mr(w[1])),u.cellFormula){if((w=L.match(a))!=null&&w[1]!==""){if(G.f=Mr(Xr(w[1])).replace(/\r\n/g,`
`),u.xlfn||(G.f=k4(G.f)),w[0].indexOf('t="array"')>-1)G.F=(L.match(s)||[])[1],G.F.indexOf(":")>-1&&S.push([hn(G.F),G.F]);else if(w[0].indexOf('t="shared"')>-1){W=Jt(w[0]);var z=Mr(Xr(w[1]));u.xlfn||(z=k4(z)),T[parseInt(W.si,10)]=[W,z,V.r]}}else(w=L.match(/<f[^>]*\/>/))&&(W=Jt(w[0]),T[W.si]&&(G.f=JP(T[W.si][1],T[W.si][2],V.r)));var Z=Es(V.r);for(k=0;k<S.length;++k)Z.r>=S[k][0].s.r&&Z.r<=S[k][0].e.r&&Z.c>=S[k][0].s.c&&Z.c<=S[k][0].e.c&&(G.F=S[k][1])}if(V.t==null&&G.v===void 0)if(G.f||G.F)G.v=0,G.t="n";else if(I)G.t="z";else continue;else G.t=V.t||"n";switch(p.s.c>F&&(p.s.c=F),p.e.c<F&&(p.e.c=F),G.t){case"n":if(G.v==""||G.v==null){if(!I)continue;G.t="z"}else G.v=parseFloat(G.v);break;case"s":if(typeof G.v>"u"){if(!I)continue;G.t="z"}else B=If[parseInt(G.v,10)],G.v=B.t,G.r=B.r,u.cellHTML&&(G.h=B.h);break;case"str":G.t="s",G.v=G.v!=null?Xr(G.v):"",u.cellHTML&&(G.h=Zb(G.v));break;case"inlineStr":w=L.match(n),G.t="s",w!=null&&(B=lx(w[1]))?(G.v=B.t,u.cellHTML&&(G.h=B.h)):G.v="";break;case"b":G.v=rn(G.v);break;case"d":u.cellDates?G.v=zn(G.v,1):(G.v=Cs(zn(G.v,1)),G.t="n");break;case"e":(!u||u.cellText!==!1)&&(G.w=G.v),G.v=T8[G.v];break}if(P=N=0,C=null,D&&V.s!==void 0&&(C=d.CellXf[V.s],C!=null&&(C.numFmtId!=null&&(P=C.numFmtId),u.cellStyles&&C.fillId!=null&&(N=C.fillId))),nS(G,P,N,u,h,d),u.cellDates&&D&&G.t=="n"&&bu(fr[P])&&(G.t="d",G.v=_p(G.v)),V.cm&&u.xlmeta){var ae=(u.xlmeta.Cell||[])[+V.cm-1];ae&&ae.type=="XLDAPR"&&(G.D=!0)}if(A){var re=Es(V.r);o[re.r]||(o[re.r]=[]),o[re.r][re.c]=G}else o[V.r]=G}}}}E.length>0&&(o["!rows"]=E)}})();function HB(r,t){var e={},n=r.l+t;e.r=r.read_shift(4),r.l+=4;var s=r.read_shift(2);r.l+=1;var i=r.read_shift(1);return r.l=n,i&7&&(e.level=i&7),i&16&&(e.hidden=!0),i&32&&(e.hpt=s/20),e}var $B=Zl;function qB(){}function GB(r,t){var e={},n=r[r.l];return++r.l,e.above=!(n&64),e.left=!(n&128),r.l+=18,e.name=pI(r),e}function WB(r){var t=_a(r);return[t]}function XB(r){var t=Ql(r);return[t]}function YB(r){var t=_a(r),e=r.read_shift(1);return[t,e,"b"]}function KB(r){var t=Ql(r),e=r.read_shift(1);return[t,e,"b"]}function QB(r){var t=_a(r),e=r.read_shift(1);return[t,e,"e"]}function ZB(r){var t=Ql(r),e=r.read_shift(1);return[t,e,"e"]}function JB(r){var t=_a(r),e=r.read_shift(4);return[t,e,"s"]}function eU(r){var t=Ql(r),e=r.read_shift(4);return[t,e,"s"]}function tU(r){var t=_a(r),e=hs(r);return[t,e,"n"]}function aS(r){var t=Ql(r),e=hs(r);return[t,e,"n"]}function rU(r){var t=_a(r),e=ax(r);return[t,e,"n"]}function nU(r){var t=Ql(r),e=ax(r);return[t,e,"n"]}function sU(r){var t=_a(r),e=nx(r);return[t,e,"is"]}function aU(r){var t=_a(r),e=ms(r);return[t,e,"str"]}function iU(r){var t=Ql(r),e=ms(r);return[t,e,"str"]}function oU(r,t,e){var n=r.l+t,s=_a(r);s.r=e["!row"];var i=r.read_shift(1),a=[s,i,"b"];if(e.cellFormula){r.l+=2;var l=Tp(r,n-r.l,e);a[3]=cs(l,null,s,e.supbooks,e)}else r.l=n;return a}function lU(r,t,e){var n=r.l+t,s=_a(r);s.r=e["!row"];var i=r.read_shift(1),a=[s,i,"e"];if(e.cellFormula){r.l+=2;var l=Tp(r,n-r.l,e);a[3]=cs(l,null,s,e.supbooks,e)}else r.l=n;return a}function cU(r,t,e){var n=r.l+t,s=_a(r);s.r=e["!row"];var i=hs(r),a=[s,i,"n"];if(e.cellFormula){r.l+=2;var l=Tp(r,n-r.l,e);a[3]=cs(l,null,s,e.supbooks,e)}else r.l=n;return a}function uU(r,t,e){var n=r.l+t,s=_a(r);s.r=e["!row"];var i=ms(r),a=[s,i,"str"];if(e.cellFormula){r.l+=2;var l=Tp(r,n-r.l,e);a[3]=cs(l,null,s,e.supbooks,e)}else r.l=n;return a}var fU=Zl;function hU(r,t){var e=r.l+t,n=Zl(r),s=sx(r),i=ms(r),a=ms(r),l=ms(r);r.l=e;var c={rfx:n,relId:s,loc:i,display:l};return a&&(c.Tooltip=a),c}function dU(){}function pU(r,t,e){var n=r.l+t,s=_8(r),i=r.read_shift(1),a=[s];if(a[2]=i,e.cellFormula){var l=yB(r,n-r.l,e);a[1]=l}else r.l=n;return a}function mU(r,t,e){var n=r.l+t,s=Zl(r),i=[s];if(e.cellFormula){var a=wB(r,n-r.l,e);i[1]=a,r.l=n}else r.l=n;return i}var gU=["left","right","top","bottom","header","footer"];function bU(r){var t={};return gU.forEach(function(e){t[e]=hs(r)}),t}function xU(r){var t=r.read_shift(2);return r.l+=28,{RTL:t&32}}function yU(){}function vU(){}function wU(r,t,e,n,s,i,a){if(!r)return r;var l=t||{};n||(n={"!id":{}});var c=l.dense?[]:{},o,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},p=!1,h=!1,d,b,x,g,w,v,k,R,L,G=[];l.biff=12,l["!row"]=0;var V=0,O=!1,F=[],B={},W=l.supbooks||s.supbooks||[[]];if(W.sharedf=B,W.arrayf=F,W.SheetNames=s.SheetNames||s.Sheets.map(function(A){return A.name}),!l.supbooks&&(l.supbooks=W,s.Names))for(var P=0;P<s.Names.length;++P)W[0][P+1]=s.Names[P];var N=[],D=[],C=!1;Y0[16]={n:"BrtShortReal",f:aS};var S;if(Zi(r,function(E,j,U){if(!h)switch(U){case 148:o=E;break;case 0:d=E,l.sheetRows&&l.sheetRows<=d.r&&(h=!0),R=ts(g=d.r),l["!row"]=d.r,(E.hidden||E.hpt||E.level!=null)&&(E.hpt&&(E.hpx=rh(E.hpt)),D[E.r]=E);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(b={t:E[2]},E[2]){case"n":b.v=E[1];break;case"s":k=If[E[1]],b.v=k.t,b.r=k.r;break;case"b":b.v=!!E[1];break;case"e":b.v=E[1],l.cellText!==!1&&(b.w=Jl[b.v]);break;case"str":b.t="s",b.v=E[1];break;case"is":b.t="s",b.v=E[1].t;break}if((x=a.CellXf[E[0].iStyleRef])&&nS(b,x.numFmtId,null,l,i,a),w=E[0].c==-1?w+1:E[0].c,l.dense?(c[g]||(c[g]=[]),c[g][w]=b):c[On(w)+R]=b,l.cellFormula){for(O=!1,V=0;V<F.length;++V){var I=F[V];d.r>=I[0].s.r&&d.r<=I[0].e.r&&w>=I[0].s.c&&w<=I[0].e.c&&(b.F=Cr(I[0]),O=!0)}!O&&E.length>3&&(b.f=E[3])}if(u.s.r>d.r&&(u.s.r=d.r),u.s.c>w&&(u.s.c=w),u.e.r<d.r&&(u.e.r=d.r),u.e.c<w&&(u.e.c=w),l.cellDates&&x&&b.t=="n"&&bu(fr[x.numFmtId])){var Q=Ml(b.v);Q&&(b.t="d",b.v=new Date(Q.y,Q.m-1,Q.d,Q.H,Q.M,Q.S,Q.u))}S&&(S.type=="XLDAPR"&&(b.D=!0),S=void 0);break;case 1:case 12:if(!l.sheetStubs||p)break;b={t:"z",v:void 0},w=E[0].c==-1?w+1:E[0].c,l.dense?(c[g]||(c[g]=[]),c[g][w]=b):c[On(w)+R]=b,u.s.r>d.r&&(u.s.r=d.r),u.s.c>w&&(u.s.c=w),u.e.r<d.r&&(u.e.r=d.r),u.e.c<w&&(u.e.c=w),S&&(S.type=="XLDAPR"&&(b.D=!0),S=void 0);break;case 176:G.push(E);break;case 49:S=((l.xlmeta||{}).Cell||[])[E-1];break;case 494:var Y=n["!id"][E.relId];for(Y?(E.Target=Y.Target,E.loc&&(E.Target+="#"+E.loc),E.Rel=Y):E.relId==""&&(E.Target="#"+E.loc),g=E.rfx.s.r;g<=E.rfx.e.r;++g)for(w=E.rfx.s.c;w<=E.rfx.e.c;++w)l.dense?(c[g]||(c[g]=[]),c[g][w]||(c[g][w]={t:"z",v:void 0}),c[g][w].l=E):(v=ir({c:w,r:g}),c[v]||(c[v]={t:"z",v:void 0}),c[v].l=E);break;case 426:if(!l.cellFormula)break;F.push(E),L=l.dense?c[g][w]:c[On(w)+R],L.f=cs(E[1],u,{r:d.r,c:w},W,l),L.F=Cr(E[0]);break;case 427:if(!l.cellFormula)break;B[ir(E[0].s)]=E[1],L=l.dense?c[g][w]:c[On(w)+R],L.f=cs(E[1],u,{r:d.r,c:w},W,l);break;case 60:if(!l.cellStyles)break;for(;E.e>=E.s;)N[E.e--]={width:E.w/256,hidden:!!(E.flags&1),level:E.level},C||(C=!0,cx(E.w/256)),ou(N[E.e+1]);break;case 161:c["!autofilter"]={ref:Cr(E)};break;case 476:c["!margins"]=E;break;case 147:s.Sheets[e]||(s.Sheets[e]={}),E.name&&(s.Sheets[e].CodeName=E.name),(E.above||E.left)&&(c["!outline"]={above:E.above,left:E.left});break;case 137:s.Views||(s.Views=[{}]),s.Views[0]||(s.Views[0]={}),E.RTL&&(s.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:p=!0;break;case 36:p=!1;break;case 37:p=!0;break;case 38:p=!1;break;default:if(!j.T){if(!p||l.WTF)throw new Error("Unexpected record 0x"+U.toString(16))}}},l),delete l.supbooks,delete l["!row"],!c["!ref"]&&(u.s.r<2e6||o&&(o.e.r>0||o.e.c>0||o.s.r>0||o.s.c>0))&&(c["!ref"]=Cr(o||u)),l.sheetRows&&c["!ref"]){var T=hn(c["!ref"]);l.sheetRows<=+T.e.r&&(T.e.r=l.sheetRows-1,T.e.r>u.e.r&&(T.e.r=u.e.r),T.e.r<T.s.r&&(T.s.r=T.e.r),T.e.c>u.e.c&&(T.e.c=u.e.c),T.e.c<T.s.c&&(T.s.c=T.e.c),c["!fullref"]=c["!ref"],c["!ref"]=Cr(T))}return G.length>0&&(c["!merges"]=G),N.length>0&&(c["!cols"]=N),D.length>0&&(c["!rows"]=D),c}function _U(r){var t=[],e=r.match(/^<c:numCache>/),n;(r.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var a=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);a&&(t[+a[1]]=e?+a[2]:a[2])});var s=Mr((r.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(r.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[t,s,n]}function SU(r,t,e,n,s,i){var a=i||{"!type":"chart"};if(!r)return i;var l=0,c=0,o="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(r.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(p){var h=_U(p);u.s.r=u.s.c=0,u.e.c=l,o=On(l),h[0].forEach(function(d,b){a[o+ts(b)]={t:"n",v:d,z:h[1]},c=b}),u.e.r<c&&(u.e.r=c),++l}),l>0&&(a["!ref"]=Cr(u)),a}function kU(r,t,e,n,s){if(!r)return r;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},a,l=r.match(sS);return l&&fx(l[0],i,s,e),(a=r.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=a[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function TU(r,t){r.l+=10;var e=ms(r);return{name:e}}function EU(r,t,e,n,s){if(!r)return r;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},a=!1;return Zi(r,function(c,o,u){switch(u){case 550:i["!rel"]=c;break;case 651:s.Sheets[e]||(s.Sheets[e]={}),c.name&&(s.Sheets[e].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!(o.T>0)){if(!(o.T<0)){if(!a||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},t),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var iS=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],AU=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],NU=[],CU=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function C4(r,t){for(var e=0;e!=r.length;++e)for(var n=r[e],s=0;s!=t.length;++s){var i=t[s];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=rn(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function R4(r,t){for(var e=0;e!=t.length;++e){var n=t[e];if(r[n[0]]==null)r[n[0]]=n[1];else switch(n[2]){case"bool":typeof r[n[0]]=="string"&&(r[n[0]]=rn(r[n[0]]));break;case"int":typeof r[n[0]]=="string"&&(r[n[0]]=parseInt(r[n[0]],10));break}}}function oS(r){R4(r.WBProps,iS),R4(r.CalcPr,CU),C4(r.WBView,AU),C4(r.Sheets,NU),Kc.date1904=rn(r.WBProps.date1904)}var RU="][*?/\\".split("");function MU(r,t){if(r.length>31)throw new Error("Sheet names cannot exceed 31 chars");var e=!0;return RU.forEach(function(n){if(r.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),e}var jU=/<\w+:workbook/;function DU(r,t){if(!r)throw new Error("Could not find file");var e={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,s="xmlns",i={},a=0;if(r.replace(xs,function(c,o){var u=Jt(c);switch(pi(u[0])){case"<?xml":break;case"<workbook":c.match(jU)&&(s="xmlns"+c.match(/<(\w+):/)[1]),e.xmlns=u[s];break;case"</workbook>":break;case"<fileVersion":delete u[0],e.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":iS.forEach(function(p){if(u[p[0]]!=null)switch(p[2]){case"bool":e.WBProps[p[0]]=rn(u[p[0]]);break;case"int":e.WBProps[p[0]]=parseInt(u[p[0]],10);break;default:e.WBProps[p[0]]=u[p[0]]}}),u.codeName&&(e.WBProps.CodeName=Xr(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],e.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=Mr(Xr(u.name)),delete u[0],e.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=Xr(u.name),u.comment&&(i.Comment=u.comment),u.localSheetId&&(i.Sheet=+u.localSheetId),rn(u.hidden||"0")&&(i.Hidden=!0),a=o+c.length;break;case"</definedName>":i.Ref=Mr(Xr(r.slice(a,o))),e.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete u[0],e.CalcPr=u;break;case"<calcPr/>":delete u[0],e.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return c}),QD.indexOf(e.xmlns)===-1)throw new Error("Unknown Namespace: "+e.xmlns);return oS(e),e}function IU(r,t){var e={};return e.Hidden=r.read_shift(4),e.iTabID=r.read_shift(4),e.strRelID=N1(r),e.name=ms(r),e}function OU(r,t){var e={},n=r.read_shift(4);e.defaultThemeVersion=r.read_shift(4);var s=t>8?ms(r):"";return s.length>0&&(e.CodeName=s),e.autoCompressPictures=!!(n&65536),e.backupFile=!!(n&64),e.checkCompatibility=!!(n&4096),e.date1904=!!(n&1),e.filterPrivacy=!!(n&8),e.hidePivotFieldList=!!(n&1024),e.promptedSolutions=!!(n&16),e.publishItems=!!(n&2048),e.refreshAllConnections=!!(n&262144),e.saveExternalLinkValues=!!(n&128),e.showBorderUnselectedTables=!!(n&4),e.showInkAnnotation=!!(n&32),e.showObjects=["all","placeholders","none"][n>>13&3],e.showPivotChartFilter=!!(n&32768),e.updateLinks=["userSet","never","always"][n>>8&3],e}function FU(r,t){var e={};return r.read_shift(4),e.ArchID=r.read_shift(4),r.l+=t-8,e}function PU(r,t,e){var n=r.l+t;r.l+=4,r.l+=1;var s=r.read_shift(4),i=mI(r),a=vB(r,0,e),l=sx(r);r.l=n;var c={Name:i,Ptg:a};return s<268435455&&(c.Sheet=s),l&&(c.Comment=l),c}function LU(r,t){var e={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],s=!1;t||(t={}),t.biff=12;var i=[],a=[[]];return a.SheetNames=[],a.XTI=[],Y0[16]={n:"BrtFRTArchID$",f:FU},Zi(r,function(c,o,u){switch(u){case 156:a.SheetNames.push(c.name),e.Sheets.push(c);break;case 153:e.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=cs(c.Ptg,null,null,a,t),delete t.SID,delete c.Ptg,i.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:a[0].length?a.push([u,c]):a[0]=[u,c],a[a.length-1].XTI=[];break;case 362:a.length===0&&(a[0]=[],a[0].XTI=[]),a[a.length-1].XTI=a[a.length-1].XTI.concat(c),a.XTI=a.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(u),s=!0;break;case 36:n.pop(),s=!1;break;case 37:n.push(u),s=!0;break;case 38:n.pop(),s=!1;break;case 16:break;default:if(!o.T){if(!s||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},t),oS(e),e.Names=i,e.supbooks=a,e}function BU(r,t,e){return t.slice(-4)===".bin"?LU(r,e):DU(r,e)}function UU(r,t,e,n,s,i,a,l){return t.slice(-4)===".bin"?wU(r,n,e,s,i,a,l):IB(r,n,e,s,i,a,l)}function VU(r,t,e,n,s,i,a,l){return t.slice(-4)===".bin"?EU(r,n,e,s,i):kU(r,n,e,s,i)}function zU(r,t,e,n,s,i,a,l){return t.slice(-4)===".bin"?KP():QP()}function HU(r,t,e,n,s,i,a,l){return t.slice(-4)===".bin"?XP():YP()}function $U(r,t,e,n){return t.slice(-4)===".bin"?fP(r,e,n):aP(r,e,n)}function qU(r,t,e){return W8(r,e)}function GU(r,t,e){return t.slice(-4)===".bin"?AF(r,e):TF(r,e)}function WU(r,t,e){return t.slice(-4)===".bin"?qP(r,e):UP(r,e)}function XU(r,t,e){return t.slice(-4)===".bin"?PP(r):OP(r)}function YU(r,t,e,n){return e.slice(-4)===".bin"?LP(r,t,e,n):void 0}function KU(r,t,e){return t.slice(-4)===".bin"?DP(r,t,e):IP(r,t,e)}var lS=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,cS=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Ia(r,t){var e=r.split(/\s+/),n=[];if(n[0]=e[0],e.length===1)return n;var s=r.match(lS),i,a,l,c;if(s)for(c=0;c!=s.length;++c)i=s[c].match(cS),(a=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?l="xmlns"+i[1].slice(6):l=i[1].slice(a+1),n[l]=i[2].slice(1,i[2].length-1));return n}function QU(r){var t=r.split(/\s+/),e={};if(t.length===1)return e;var n=r.match(lS),s,i,a,l;if(n)for(l=0;l!=n.length;++l)s=n[l].match(cS),(i=s[1].indexOf(":"))===-1?e[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?a="xmlns"+s[1].slice(6):a=s[1].slice(i+1),e[a]=s[2].slice(1,s[2].length-1));return e}var Ff;function ZU(r,t){var e=Ff[r]||Mr(r);return e==="General"?$l(t):wa(e,t)}function JU(r,t,e,n){var s=n;switch((e[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":s=rn(n);break;case"i2":case"int":s=parseInt(n,10);break;case"r4":case"float":s=parseFloat(n);break;case"date":case"dateTime.tz":s=zn(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+e[0])}r[Mr(t)]=s}function eV(r,t,e){if(r.t!=="z"){if(!e||e.cellText!==!1)try{r.t==="e"?r.w=r.w||Jl[r.v]:t==="General"?r.t==="n"?(r.v|0)===r.v?r.w=r.v.toString(10):r.w=Qf(r.v):r.w=$l(r.v):r.w=ZU(t||"General",r.v)}catch(i){if(e.WTF)throw i}try{var n=Ff[t]||t||"General";if(e.cellNF&&(r.z=n),e.cellDates&&r.t=="n"&&bu(n)){var s=Ml(r.v);s&&(r.t="d",r.v=new Date(s.y,s.m-1,s.d,s.H,s.M,s.S,s.u))}}catch(i){if(e.WTF)throw i}}}function tV(r,t,e){if(e.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=JF[n.Pattern]||n.Pattern)}r[t.ID]=t}function rV(r,t,e,n,s,i,a,l,c,o){var u="General",p=n.StyleID,h={};o=o||{};var d=[],b=0;for(p===void 0&&l&&(p=l.StyleID),p===void 0&&a&&(p=a.StyleID);i[p]!==void 0&&(i[p].nf&&(u=i[p].nf),i[p].Interior&&d.push(i[p].Interior),!!i[p].Parent);)p=i[p].Parent;switch(e.Type){case"Boolean":n.t="b",n.v=rn(r);break;case"String":n.t="s",n.r=Z_(Mr(r)),n.v=r.indexOf("<")>-1?Mr(t||r).replace(/<.*?>/g,""):n.r;break;case"DateTime":r.slice(-1)!="Z"&&(r+="Z"),n.v=(zn(r)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),n.v!==n.v?n.v=Mr(r):n.v<60&&(n.v=n.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+r),n.t||(n.t="n");break;case"Error":n.t="e",n.v=T8[r],o.cellText!==!1&&(n.w=r);break;default:r==""&&t==""?n.t="z":(n.t="s",n.v=Z_(t||r));break}if(eV(n,u,o),o.cellFormula!==!1)if(n.Formula){var x=Mr(n.Formula);x.charCodeAt(0)==61&&(x=x.slice(1)),n.f=Yc(x,s),delete n.Formula,n.ArrayRange=="RC"?n.F=Yc("RC:RC",s):n.ArrayRange&&(n.F=Yc(n.ArrayRange,s),c.push([hn(n.F),n.F]))}else for(b=0;b<c.length;++b)s.r>=c[b][0].s.r&&s.r<=c[b][0].e.r&&s.c>=c[b][0].s.c&&s.c<=c[b][0].e.c&&(n.F=c[b][1]);o.cellStyles&&(d.forEach(function(g){!h.patternType&&g.patternType&&(h.patternType=g.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function nV(r){r.t=r.v||"",r.t=r.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),r.v=r.w=r.ixfe=void 0}function Wg(r,t){var e=t||{};Q6();var n=gf(Jb(r));(e.type=="binary"||e.type=="array"||e.type=="base64")&&(n=Xr(n));var s=n.slice(0,1024).toLowerCase(),i=!1;if(s=s.replace(/".*?"/g,""),(s.indexOf(">")&1023)>Math.min(s.indexOf(",")&1023,s.indexOf(";")&1023)){var a=es(e);return a.type="string",eh.to_workbook(n,a)}if(s.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(xe){s.indexOf("<"+xe)>=0&&(i=!0)}),i)return hV(n,e);Ff={"General Number":"General","General Date":fr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":fr[15],"Short Date":fr[14],"Long Time":fr[19],"Medium Time":fr[18],"Short Time":fr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:fr[2],Standard:fr[4],Percent:fr[10],Scientific:fr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,c=[],o,u={},p=[],h=e.dense?[]:{},d="",b={},x={},g=Ia('<Data ss:Type="String">'),w=0,v=0,k=0,R={s:{r:2e6,c:2e6},e:{r:0,c:0}},L={},G={},V="",O=0,F=[],B={},W={},P=0,N=[],D=[],C={},S=[],T,A=!1,E=[],j=[],U={},I=0,Q=0,Y={Sheets:[],WBProps:{date1904:!1}},ee={};Jf.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var q="";l=Jf.exec(n);)switch(l[3]=(q=l[3]).toLowerCase()){case"data":if(q=="data"){if(l[1]==="/"){if((o=c.pop())[0]!==l[3])throw new Error("Bad state: "+o.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break}if(c[c.length-1][1])break;l[1]==="/"?rV(n.slice(w,l.index),V,g,c[c.length-1][0]=="comment"?C:b,{c:v,r:k},L,S[v],x,E,e):(V="",g=Ia(l[0]),w=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(D.length>0&&(b.c=D),(!e.sheetRows||e.sheetRows>k)&&b.v!==void 0&&(e.dense?(h[k]||(h[k]=[]),h[k][v]=b):h[On(v)+ts(k)]=b),b.HRef&&(b.l={Target:Mr(b.HRef)},b.HRefScreenTip&&(b.l.Tooltip=b.HRefScreenTip),delete b.HRef,delete b.HRefScreenTip),(b.MergeAcross||b.MergeDown)&&(I=v+(parseInt(b.MergeAcross,10)|0),Q=k+(parseInt(b.MergeDown,10)|0),F.push({s:{c:v,r:k},e:{c:I,r:Q}})),!e.sheetStubs)b.MergeAcross?v=I+1:++v;else if(b.MergeAcross||b.MergeDown){for(var te=v;te<=I;++te)for(var H=k;H<=Q;++H)(te>v||H>k)&&(e.dense?(h[H]||(h[H]=[]),h[H][te]={t:"z"}):h[On(te)+ts(H)]={t:"z"});v=I+1}else++v;else b=QU(l[0]),b.Index&&(v=+b.Index-1),v<R.s.c&&(R.s.c=v),v>R.e.c&&(R.e.c=v),l[0].slice(-2)==="/>"&&++v,D=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(k<R.s.r&&(R.s.r=k),k>R.e.r&&(R.e.r=k),l[0].slice(-2)==="/>"&&(x=Ia(l[0]),x.Index&&(k=+x.Index-1)),v=0,++k):(x=Ia(l[0]),x.Index&&(k=+x.Index-1),U={},(x.AutoFitHeight=="0"||x.Height)&&(U.hpx=parseInt(x.Height,10),U.hpt=G8(U.hpx),j[k]=U),x.Hidden=="1"&&(U.hidden=!0,j[k]=U));break;case"worksheet":if(l[1]==="/"){if((o=c.pop())[0]!==l[3])throw new Error("Bad state: "+o.join("|"));p.push(d),R.s.r<=R.e.r&&R.s.c<=R.e.c&&(h["!ref"]=Cr(R),e.sheetRows&&e.sheetRows<=R.e.r&&(h["!fullref"]=h["!ref"],R.e.r=e.sheetRows-1,h["!ref"]=Cr(R))),F.length&&(h["!merges"]=F),S.length>0&&(h["!cols"]=S),j.length>0&&(h["!rows"]=j),u[d]=h}else R={s:{r:2e6,c:2e6},e:{r:0,c:0}},k=v=0,c.push([l[3],!1]),o=Ia(l[0]),d=Mr(o.Name),h=e.dense?[]:{},F=[],E=[],j=[],ee={name:d,Hidden:0},Y.Sheets.push(ee);break;case"table":if(l[1]==="/"){if((o=c.pop())[0]!==l[3])throw new Error("Bad state: "+o.join("|"))}else{if(l[0].slice(-2)=="/>")break;c.push([l[3],!1]),S=[],A=!1}break;case"style":l[1]==="/"?tV(L,G,e):G=Ia(l[0]);break;case"numberformat":G.nf=Mr(Ia(l[0]).Format||"General"),Ff[G.nf]&&(G.nf=Ff[G.nf]);for(var z=0;z!=392&&fr[z]!=G.nf;++z);if(z==392){for(z=57;z!=392;++z)if(fr[z]==null){Fl(G.nf,z);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(T=Ia(l[0]),T.Hidden&&(T.hidden=!0,delete T.Hidden),T.Width&&(T.wpx=parseInt(T.Width,10)),!A&&T.wpx>10){A=!0,Ts=$8;for(var Z=0;Z<S.length;++Z)S[Z]&&ou(S[Z])}A&&ou(T),S[T.Index-1||S.length]=T;for(var ae=0;ae<+T.Span;++ae)S[S.length]=es(T);break;case"namedrange":if(l[1]==="/")break;Y.Names||(Y.Names=[]);var re=Jt(l[0]),le={Name:re.Name,Ref:Yc(re.RefersTo.slice(1),{r:0,c:0})};Y.Sheets.length>0&&(le.Sheet=Y.Sheets.length-1),Y.Names.push(le);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?V+=n.slice(O,l.index):O=l.index+l[0].length;break;case"interior":if(!e.cellStyles)break;G.Interior=Ia(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?UI(B,q,n.slice(P,l.index)):P=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((o=c.pop())[0]!==l[3])throw new Error("Bad state: "+o.join("|"))}else c.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((o=c.pop())[0]!==l[3])throw new Error("Bad state: "+o.join("|"));nV(C),D.push(C)}else c.push([l[3],!1]),o=Ia(l[0]),C={a:o.Author};break;case"autofilter":if(l[1]==="/"){if((o=c.pop())[0]!==l[3])throw new Error("Bad state: "+o.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var de=Ia(l[0]);h["!autofilter"]={ref:Yc(de.Range).replace(/\$/g,"")},c.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((o=c.pop())[0]!==l[3])throw new Error("Bad state: "+o.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((o=c.pop())[0]!==l[3])throw new Error("Bad state: "+o.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"null":break;default:if(c.length==0&&l[3]=="document"||c.length==0&&l[3]=="uof")return F4(n,e);var ve=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:ve=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:ve=!1}break;case"excelworkbook":switch(l[3]){case"date1904":Y.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:ve=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:ve=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(n.slice(P,l.index)){case"SheetHidden":ee.Hidden=1;break;case"SheetVeryHidden":ee.Hidden=2;break}else P=l.index+l[0].length;break;case"header":h["!margins"]||Of(h["!margins"]={},"xlml"),isNaN(+Jt(l[0]).Margin)||(h["!margins"].header=+Jt(l[0]).Margin);break;case"footer":h["!margins"]||Of(h["!margins"]={},"xlml"),isNaN(+Jt(l[0]).Margin)||(h["!margins"].footer=+Jt(l[0]).Margin);break;case"pagemargins":var ge=Jt(l[0]);h["!margins"]||Of(h["!margins"]={},"xlml"),isNaN(+ge.Top)||(h["!margins"].top=+ge.Top),isNaN(+ge.Left)||(h["!margins"].left=+ge.Left),isNaN(+ge.Right)||(h["!margins"].right=+ge.Right),isNaN(+ge.Bottom)||(h["!margins"].bottom=+ge.Bottom);break;case"displayrighttoleft":Y.Views||(Y.Views=[]),Y.Views[0]||(Y.Views[0]={}),Y.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:ve=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:ve=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:ve=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:ve=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:ve=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:ve=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:ve=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:ve=!1}break;case"smarttags":break;default:ve=!1;break}if(ve||l[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?JU(W,q,N,n.slice(P,l.index)):(N=l,P=l.index+l[0].length);break}if(e.WTF)throw"Unrecognized tag: "+l[3]+"|"+c.join("|")}var se={};return!e.bookSheets&&!e.bookProps&&(se.Sheets=u),se.SheetNames=p,se.Workbook=Y,se.SSF=es(fr),se.Props=B,se.Custprops=W,se}function j1(r,t){switch(px(t=t||{}),t.type||"base64"){case"base64":return Wg(sa(r),t);case"binary":case"buffer":case"file":return Wg(r,t);case"array":return Wg(Kl(r),t)}}function sV(r){var t={},e=r.content;if(e.l=28,t.AnsiUserType=e.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=xI(e),e.length-e.l<=4)return t;var n=e.read_shift(4);if(n==0||n>40||(e.l-=4,t.Reserved1=e.read_shift(0,"lpstr-ansi"),e.length-e.l<=4)||(n=e.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=yI(e),n=e.read_shift(4),n==0||n>40))return t;e.l-=4,t.Reserved2=e.read_shift(0,"lpwstr")}var aV=[60,1084,2066,2165,2175];function iV(r,t,e,n,s){var i=n,a=[],l=e.slice(e.l,e.l+i);if(s&&s.enc&&s.enc.insitu&&l.length>0)switch(r){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:s.enc.insitu(l)}a.push(l),e.l+=i;for(var c=Li(e,e.l),o=D1[c],u=0;o!=null&&aV.indexOf(c)>-1;)i=Li(e,e.l+2),u=e.l+4,c==2066?u+=4:(c==2165||c==2175)&&(u+=12),l=e.slice(u,e.l+4+i),a.push(l),e.l+=4+i,o=D1[c=Li(e,e.l)];var p=Mo(a);Qn(p,0);var h=0;p.lens=[];for(var d=0;d<a.length;++d)p.lens.push(h),h+=a[d].length;if(p.length<n)throw"XLS Record 0x"+r.toString(16)+" Truncated: "+p.length+" < "+n;return t.f(p,p.length,s)}function ri(r,t,e){if(r.t!=="z"&&r.XF){var n=0;try{n=r.z||r.XF.numFmtId||0,t.cellNF&&(r.z=fr[n])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{r.t==="e"?r.w=r.w||Jl[r.v]:n===0||n=="General"?r.t==="n"?(r.v|0)===r.v?r.w=r.v.toString(10):r.w=Qf(r.v):r.w=$l(r.v):r.w=wa(n,r.v,{date1904:!!e,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&n&&r.t=="n"&&bu(fr[n]||String(n))){var s=Ml(r.v);s&&(r.t="d",r.v=new Date(s.y,s.m-1,s.d,s.H,s.M,s.S,s.u))}}}function e0(r,t,e){return{v:r,ixfe:t,t:e}}function oV(r,t){var e={opts:{}},n={},s=t.dense?[]:{},i={},a={},l=null,c=[],o="",u={},p,h="",d,b,x,g,w={},v=[],k,R,L=[],G=[],V={Sheets:[],WBProps:{date1904:!1},Views:[{}]},O={},F=function(ot){return ot<8?Pl[ot]:ot<64&&G[ot-8]||Pl[ot]},B=function(ot,je,He){var Ne=je.XF.data;if(!(!Ne||!Ne.patternType||!He||!He.cellStyles)){je.s={},je.s.patternType=Ne.patternType;var Ie;(Ie=th(F(Ne.icvFore)))&&(je.s.fgColor={rgb:Ie}),(Ie=th(F(Ne.icvBack)))&&(je.s.bgColor={rgb:Ie})}},W=function(ot,je,He){if(!(U>1)&&!(He.sheetRows&&ot.r>=He.sheetRows)){if(He.cellStyles&&je.XF&&je.XF.data&&B(ot,je,He),delete je.ixfe,delete je.XF,p=ot,h=ir(ot),(!a||!a.s||!a.e)&&(a={s:{r:0,c:0},e:{r:0,c:0}}),ot.r<a.s.r&&(a.s.r=ot.r),ot.c<a.s.c&&(a.s.c=ot.c),ot.r+1>a.e.r&&(a.e.r=ot.r+1),ot.c+1>a.e.c&&(a.e.c=ot.c+1),He.cellFormula&&je.f){for(var Ne=0;Ne<v.length;++Ne)if(!(v[Ne][0].s.c>ot.c||v[Ne][0].s.r>ot.r)&&!(v[Ne][0].e.c<ot.c||v[Ne][0].e.r<ot.r)){je.F=Cr(v[Ne][0]),(v[Ne][0].s.c!=ot.c||v[Ne][0].s.r!=ot.r)&&delete je.f,je.f&&(je.f=""+cs(v[Ne][1],a,ot,E,P));break}}He.dense?(s[ot.r]||(s[ot.r]=[]),s[ot.r][ot.c]=je):s[h]=je}},P={enc:!1,sbcch:0,snames:[],sharedf:w,arrayf:v,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(P.password=t.password);var N,D=[],C=[],S=[],T=[],A=!1,E=[];E.SheetNames=P.snames,E.sharedf=P.sharedf,E.arrayf=P.arrayf,E.names=[],E.XTI=[];var j=0,U=0,I=0,Q=[],Y=[],ee;P.codepage=1200,La(1200);for(var q=!1;r.l<r.length-1;){var te=r.l,H=r.read_shift(2);if(H===0&&j===10)break;var z=r.l===r.length?0:r.read_shift(2),Z=D1[H];if(Z&&Z.f){if(t.bookSheets&&j===133&&H!==133)break;if(j=H,Z.r===2||Z.r==12){var ae=r.read_shift(2);if(z-=2,!P.enc&&ae!==H&&((ae&255)<<8|ae>>8)!==H)throw new Error("rt mismatch: "+ae+"!="+H);Z.r==12&&(r.l+=10,z-=10)}var re={};if(H===10?re=Z.f(r,z,P):re=iV(H,Z,r,z,P),U==0&&[9,521,1033,2057].indexOf(j)===-1)continue;switch(H){case 34:e.opts.Date1904=V.WBProps.date1904=re;break;case 134:e.opts.WriteProtect=!0;break;case 47:if(P.enc||(r.l=0),P.enc=re,!t.password)throw new Error("File is password-protected");if(re.valid==null)throw new Error("Encryption scheme unsupported");if(!re.valid)throw new Error("Password is incorrect");break;case 92:P.lastuser=re;break;case 66:var le=Number(re);switch(le){case 21010:le=1200;break;case 32768:le=1e4;break;case 32769:le=1252;break}La(P.codepage=le),q=!0;break;case 317:P.rrtabid=re;break;case 25:P.winlocked=re;break;case 439:e.opts.RefreshAll=re;break;case 12:e.opts.CalcCount=re;break;case 16:e.opts.CalcDelta=re;break;case 17:e.opts.CalcIter=re;break;case 13:e.opts.CalcMode=re;break;case 14:e.opts.CalcPrecision=re;break;case 95:e.opts.CalcSaveRecalc=re;break;case 15:P.CalcRefMode=re;break;case 2211:e.opts.FullCalc=re;break;case 129:re.fDialog&&(s["!type"]="dialog"),re.fBelow||((s["!outline"]||(s["!outline"]={})).above=!0),re.fRight||((s["!outline"]||(s["!outline"]={})).left=!0);break;case 224:L.push(re);break;case 430:E.push([re]),E[E.length-1].XTI=[];break;case 35:case 547:E[E.length-1].push(re);break;case 24:case 536:ee={Name:re.Name,Ref:cs(re.rgce,a,null,E,P)},re.itab>0&&(ee.Sheet=re.itab-1),E.names.push(ee),E[0]||(E[0]=[],E[0].XTI=[]),E[E.length-1].push(re),re.Name=="_xlnm._FilterDatabase"&&re.itab>0&&re.rgce&&re.rgce[0]&&re.rgce[0][0]&&re.rgce[0][0][0]=="PtgArea3d"&&(Y[re.itab-1]={ref:Cr(re.rgce[0][0][1][2])});break;case 22:P.ExternCount=re;break;case 23:E.length==0&&(E[0]=[],E[0].XTI=[]),E[E.length-1].XTI=E[E.length-1].XTI.concat(re),E.XTI=E.XTI.concat(re);break;case 2196:if(P.biff<8)break;ee!=null&&(ee.Comment=re[1]);break;case 18:s["!protect"]=re;break;case 19:re!==0&&P.WTF&&console.error("Password verifier: "+re);break;case 133:i[re.pos]=re,P.snames.push(re.name);break;case 10:{if(--U)break;if(a.e){if(a.e.r>0&&a.e.c>0){if(a.e.r--,a.e.c--,s["!ref"]=Cr(a),t.sheetRows&&t.sheetRows<=a.e.r){var de=a.e.r;a.e.r=t.sheetRows-1,s["!fullref"]=s["!ref"],s["!ref"]=Cr(a),a.e.r=de}a.e.r++,a.e.c++}D.length>0&&(s["!merges"]=D),C.length>0&&(s["!objects"]=C),S.length>0&&(s["!cols"]=S),T.length>0&&(s["!rows"]=T),V.Sheets.push(O)}o===""?u=s:n[o]=s,s=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(P.biff===8&&(P.biff={9:2,521:3,1033:4}[H]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[re.BIFFVer]||8),P.biffguess=re.BIFFVer==0,re.BIFFVer==0&&re.dt==4096&&(P.biff=5,q=!0,La(P.codepage=28591)),P.biff==8&&re.BIFFVer==0&&re.dt==16&&(P.biff=2),U++)break;if(s=t.dense?[]:{},P.biff<8&&!q&&(q=!0,La(P.codepage=t.codepage||1252)),P.biff<5||re.BIFFVer==0&&re.dt==4096){o===""&&(o="Sheet1"),a={s:{r:0,c:0},e:{r:0,c:0}};var ve={pos:r.l-z,name:o};i[ve.pos]=ve,P.snames.push(o)}else o=(i[te]||{name:""}).name;re.dt==32&&(s["!type"]="chart"),re.dt==64&&(s["!type"]="macro"),D=[],C=[],P.arrayf=v=[],S=[],T=[],A=!1,O={Hidden:(i[te]||{hs:0}).hs,name:o}}break;case 515:case 3:case 2:s["!type"]=="chart"&&(t.dense?(s[re.r]||[])[re.c]:s[ir({c:re.c,r:re.r})])&&++re.c,k={ixfe:re.ixfe,XF:L[re.ixfe]||{},v:re.val,t:"n"},I>0&&(k.z=Q[k.ixfe>>8&63]),ri(k,t,e.opts.Date1904),W({c:re.c,r:re.r},k,t);break;case 5:case 517:k={ixfe:re.ixfe,XF:L[re.ixfe],v:re.val,t:re.t},I>0&&(k.z=Q[k.ixfe>>8&63]),ri(k,t,e.opts.Date1904),W({c:re.c,r:re.r},k,t);break;case 638:k={ixfe:re.ixfe,XF:L[re.ixfe],v:re.rknum,t:"n"},I>0&&(k.z=Q[k.ixfe>>8&63]),ri(k,t,e.opts.Date1904),W({c:re.c,r:re.r},k,t);break;case 189:for(var ge=re.c;ge<=re.C;++ge){var se=re.rkrec[ge-re.c][0];k={ixfe:se,XF:L[se],v:re.rkrec[ge-re.c][1],t:"n"},I>0&&(k.z=Q[k.ixfe>>8&63]),ri(k,t,e.opts.Date1904),W({c:ge,r:re.r},k,t)}break;case 6:case 518:case 1030:{if(re.val=="String"){l=re;break}if(k=e0(re.val,re.cell.ixfe,re.tt),k.XF=L[k.ixfe],t.cellFormula){var xe=re.formula;if(xe&&xe[0]&&xe[0][0]&&xe[0][0][0]=="PtgExp"){var pe=xe[0][0][1][0],Te=xe[0][0][1][1],ke=ir({r:pe,c:Te});w[ke]?k.f=""+cs(re.formula,a,re.cell,E,P):k.F=((t.dense?(s[pe]||[])[Te]:s[ke])||{}).F}else k.f=""+cs(re.formula,a,re.cell,E,P)}I>0&&(k.z=Q[k.ixfe>>8&63]),ri(k,t,e.opts.Date1904),W(re.cell,k,t),l=re}break;case 7:case 519:if(l)l.val=re,k=e0(re,l.cell.ixfe,"s"),k.XF=L[k.ixfe],t.cellFormula&&(k.f=""+cs(l.formula,a,l.cell,E,P)),I>0&&(k.z=Q[k.ixfe>>8&63]),ri(k,t,e.opts.Date1904),W(l.cell,k,t),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{v.push(re);var Re=ir(re[0].s);if(d=t.dense?(s[re[0].s.r]||[])[re[0].s.c]:s[Re],t.cellFormula&&d){if(!l||!Re||!d)break;d.f=""+cs(re[1],a,re[0],E,P),d.F=Cr(re[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!l)break;w[ir(l.cell)]=re[0],d=t.dense?(s[l.cell.r]||[])[l.cell.c]:s[ir(l.cell)],(d||{}).f=""+cs(re[0],a,p,E,P)}}break;case 253:k=e0(c[re.isst].t,re.ixfe,"s"),c[re.isst].h&&(k.h=c[re.isst].h),k.XF=L[k.ixfe],I>0&&(k.z=Q[k.ixfe>>8&63]),ri(k,t,e.opts.Date1904),W({c:re.c,r:re.r},k,t);break;case 513:t.sheetStubs&&(k={ixfe:re.ixfe,XF:L[re.ixfe],t:"z"},I>0&&(k.z=Q[k.ixfe>>8&63]),ri(k,t,e.opts.Date1904),W({c:re.c,r:re.r},k,t));break;case 190:if(t.sheetStubs)for(var $e=re.c;$e<=re.C;++$e){var Pe=re.ixfe[$e-re.c];k={ixfe:Pe,XF:L[Pe],t:"z"},I>0&&(k.z=Q[k.ixfe>>8&63]),ri(k,t,e.opts.Date1904),W({c:$e,r:re.r},k,t)}break;case 214:case 516:case 4:k=e0(re.val,re.ixfe,"s"),k.XF=L[k.ixfe],I>0&&(k.z=Q[k.ixfe>>8&63]),ri(k,t,e.opts.Date1904),W({c:re.c,r:re.r},k,t);break;case 0:case 512:U===1&&(a=re);break;case 252:c=re;break;case 1054:if(P.biff==4){Q[I++]=re[1];for(var Je=0;Je<I+163&&fr[Je]!=re[1];++Je);Je>=163&&Fl(re[1],I+163)}else Fl(re[1],re[0]);break;case 30:{Q[I++]=re;for(var Ze=0;Ze<I+163&&fr[Ze]!=re;++Ze);Ze>=163&&Fl(re,I+163)}break;case 229:D=D.concat(re);break;case 93:C[re.cmo[0]]=P.lastobj=re;break;case 438:P.lastobj.TxO=re;break;case 127:P.lastobj.ImData=re;break;case 440:for(g=re[0].s.r;g<=re[0].e.r;++g)for(x=re[0].s.c;x<=re[0].e.c;++x)d=t.dense?(s[g]||[])[x]:s[ir({c:x,r:g})],d&&(d.l=re[1]);break;case 2048:for(g=re[0].s.r;g<=re[0].e.r;++g)for(x=re[0].s.c;x<=re[0].e.c;++x)d=t.dense?(s[g]||[])[x]:s[ir({c:x,r:g})],d&&d.l&&(d.l.Tooltip=re[1]);break;case 28:{if(P.biff<=5&&P.biff>=2)break;d=t.dense?(s[re[0].r]||[])[re[0].c]:s[ir(re[0])];var Ye=C[re[2]];d||(t.dense?(s[re[0].r]||(s[re[0].r]=[]),d=s[re[0].r][re[0].c]={t:"z"}):d=s[ir(re[0])]={t:"z"},a.e.r=Math.max(a.e.r,re[0].r),a.s.r=Math.min(a.s.r,re[0].r),a.e.c=Math.max(a.e.c,re[0].c),a.s.c=Math.min(a.s.c,re[0].c)),d.c||(d.c=[]),b={a:re[1],t:Ye.TxO.t},d.c.push(b)}break;case 2173:CP(L[re.ixfe],re.ext);break;case 125:{if(!P.cellStyles)break;for(;re.e>=re.s;)S[re.e--]={width:re.w/256,level:re.level||0,hidden:!!(re.flags&1)},A||(A=!0,cx(re.w/256)),ou(S[re.e+1])}break;case 520:{var Xe={};re.level!=null&&(T[re.r]=Xe,Xe.level=re.level),re.hidden&&(T[re.r]=Xe,Xe.hidden=!0),re.hpt&&(T[re.r]=Xe,Xe.hpt=re.hpt,Xe.hpx=rh(re.hpt))}break;case 38:case 39:case 40:case 41:s["!margins"]||Of(s["!margins"]={}),s["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[H]]=re;break;case 161:s["!margins"]||Of(s["!margins"]={}),s["!margins"].header=re.header,s["!margins"].footer=re.footer;break;case 574:re.RTL&&(V.Views[0].RTL=!0);break;case 146:G=re;break;case 2198:N=re;break;case 140:R=re;break;case 442:o?O.CodeName=re||O.name:V.WBProps.CodeName=re||"ThisWorkbook";break}}else Z||console.error("Missing Info for XLS Record 0x"+H.toString(16)),r.l+=z}return e.SheetNames=di(i).sort(function(ut,ot){return Number(ut)-Number(ot)}).map(function(ut){return i[ut].name}),t.bookSheets||(e.Sheets=n),!e.SheetNames.length&&u["!ref"]?(e.SheetNames.push("Sheet1"),e.Sheets&&(e.Sheets.Sheet1=u)):e.Preamble=u,e.Sheets&&Y.forEach(function(ut,ot){e.Sheets[e.SheetNames[ot]]["!autofilter"]=ut}),e.Strings=c,e.SSF=es(fr),P.enc&&(e.Encryption=P.enc),N&&(e.Themes=N),e.Metadata={},R!==void 0&&(e.Metadata.Country=R),E.names.length>0&&(V.Names=E.names),e.Workbook=V,e}var M4={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function lV(r,t,e){var n=Nr.find(r,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var s=p4(n,TI,M4.DSI);for(var i in s)t[i]=s[i]}catch(o){if(e.WTF)throw o}var a=Nr.find(r,"/!SummaryInformation");if(a&&a.size>0)try{var l=p4(a,EI,M4.SI);for(var c in l)t[c]==null&&(t[c]=l[c])}catch(o){if(e.WTF)throw o}t.HeadingPairs&&t.TitlesOfParts&&(A8(t.HeadingPairs,t.TitlesOfParts,t,e),delete t.HeadingPairs,delete t.TitlesOfParts)}function uS(r,t){t||(t={}),px(t),B6(),t.codepage&&Gb(t.codepage);var e,n;if(r.FullPaths){if(Nr.find(r,"/encryption"))throw new Error("File is password-protected");e=Nr.find(r,"!CompObj"),n=Nr.find(r,"/Workbook")||Nr.find(r,"/Book")}else{switch(t.type){case"base64":r=Fa(sa(r));break;case"binary":r=Fa(r);break;case"buffer":break;case"array":Array.isArray(r)||(r=Array.prototype.slice.call(r));break}Qn(r,0),n={content:r}}var s,i;if(e&&sV(e),t.bookProps&&!t.bookSheets)s={};else{var a=Er?"buffer":"array";if(n&&n.content)s=oV(n.content,t);else if((i=Nr.find(r,"PerfectOffice_MAIN"))&&i.content)s=Df.to_workbook(i.content,(t.type=a,t));else if((i=Nr.find(r,"NativeContent_MAIN"))&&i.content)s=Df.to_workbook(i.content,(t.type=a,t));else throw(i=Nr.find(r,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&r.FullPaths&&Nr.find(r,"/_VBA_PROJECT_CUR/VBA/dir")&&(s.vbaraw=WP(r))}var l={};return r.FullPaths&&lV(r,l,t),s.Props=s.Custprops=l,t.bookFiles&&(s.cfb=r),s}var Y0={0:{f:HB},1:{f:WB},2:{f:rU},3:{f:QB},4:{f:YB},5:{f:tU},6:{f:aU},7:{f:JB},8:{f:uU},9:{f:cU},10:{f:oU},11:{f:lU},12:{f:XB},13:{f:nU},14:{f:ZB},15:{f:KB},16:{f:aS},17:{f:iU},18:{f:eU},19:{f:nx},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:PU},40:{},42:{},43:{f:oP},44:{f:iP},45:{f:lP},46:{f:uP},47:{f:cP},48:{},49:{f:fI},50:{},51:{f:MP},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:B8},62:{f:sU},63:{f:FP},64:{f:yU},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:bs,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:xU},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:GB},148:{f:$B,p:16},151:{f:dU},152:{},153:{f:OU},154:{},155:{},156:{f:IU},157:{},158:{},159:{T:1,f:EF},160:{T:-1},161:{T:1,f:Zl},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:fU},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:RP},336:{T:-1},337:{f:jP,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:N1},357:{},358:{},359:{},360:{T:1},361:{},362:{f:L8},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:pU},427:{f:mU},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:bU},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:qB},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:hU},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:N1},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:$P},633:{T:1},634:{T:-1},635:{T:1,f:HP},636:{T:-1},637:{f:dI},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:TU},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:vU},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},D1={6:{f:qg},10:{f:Ao},12:{f:Nn},13:{f:Nn},14:{f:yn},15:{f:yn},16:{f:hs},17:{f:yn},18:{f:yn},19:{f:Nn},20:{f:x4},21:{f:x4},23:{f:L8},24:{f:v4},25:{f:yn},26:{},27:{},28:{f:VO},29:{},34:{f:yn},35:{f:y4},38:{f:hs},39:{f:hs},40:{f:hs},41:{f:hs},42:{f:yn},43:{f:yn},47:{f:qF},49:{f:_O},51:{f:Nn},60:{},61:{f:yO},64:{f:yn},65:{f:wO},66:{f:Nn},77:{},80:{},81:{},82:{},85:{f:Nn},89:{},90:{},91:{},92:{f:fO},93:{f:HO},94:{},95:{f:yn},96:{},97:{},99:{f:yn},125:{f:B8},128:{f:jO},129:{f:hO},130:{f:Nn},131:{f:yn},132:{f:yn},133:{f:dO},134:{},140:{f:YO},141:{f:Nn},144:{},146:{f:QO},151:{},152:{},153:{},154:{},155:{},156:{f:Nn},157:{},158:{},160:{f:rF},161:{f:JO},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:NO},190:{f:CO},193:{f:Ao},197:{},198:{},199:{},200:{},201:{},202:{f:yn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Nn},220:{},221:{f:yn},222:{},224:{f:MO},225:{f:uO},226:{f:Ao},227:{},229:{f:zO},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:pO},253:{f:SO},255:{f:mO},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:j8},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:yn},353:{f:Ao},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:IO},431:{f:yn},432:{},433:{},434:{},437:{},438:{f:GO},439:{f:yn},440:{f:WO},441:{},442:{f:vh},443:{},444:{f:Nn},445:{},446:{},448:{f:Ao},449:{f:xO,r:2},450:{f:Ao},512:{f:g4},513:{f:tF},515:{f:DO},516:{f:kO},517:{f:b4},519:{f:nF},520:{f:gO},523:{},545:{f:w4},549:{f:m4},566:{},574:{f:vO},638:{f:AO},659:{},1048:{},1054:{f:TO},1084:{},1212:{f:LO},2048:{f:XO},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Qd},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Ao},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:ZO,r:12},2173:{f:NP,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:yn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:PO,r:12},2197:{},2198:{f:_P,r:12},2199:{},2200:{},2201:{},2202:{f:BO,r:12},2203:{f:Ao},2204:{},2205:{},2206:{},2207:{},2211:{f:bO},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Nn},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:eF},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:KO},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:g4},1:{},2:{f:oF},3:{f:iF},4:{f:aF},5:{f:b4},7:{f:lF},8:{},9:{f:Qd},11:{},22:{f:Nn},30:{f:EO},31:{},32:{},33:{f:w4},36:{},37:{f:m4},50:{f:cF},62:{},52:{},67:{},68:{f:Nn},69:{},86:{},126:{},127:{f:sF},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:uF},223:{},234:{},354:{},421:{},518:{f:qg},521:{f:Qd},536:{f:v4},547:{f:y4},561:{},579:{},1030:{f:qg},1033:{f:Qd},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Oa(r,t,e,n){var s=t;if(!isNaN(s)){var i=(e||[]).length||0,a=r.next(4);a.write_shift(2,s),a.write_shift(2,i),i>0&&y8(e)&&r.push(e)}}function j4(r,t){var e=t||{},n=e.dense?[]:{};r=r.replace(/<!--.*?-->/g,"");var s=r.match(/<table/i);if(!s)throw new Error("Invalid HTML: could not find <table>");var i=r.match(/<\/table/i),a=s.index,l=i&&i.index||r.length,c=DD(r.slice(a,l),/(:?<tr[^>]*>)/i,"<tr>"),o=-1,u=0,p=0,h=0,d={s:{r:1e7,c:1e7},e:{r:0,c:0}},b=[];for(a=0;a<c.length;++a){var x=c[a].trim(),g=x.slice(0,3).toLowerCase();if(g=="<tr"){if(++o,e.sheetRows&&e.sheetRows<=o){--o;break}u=0;continue}if(!(g!="<td"&&g!="<th")){var w=x.split(/<\/t[dh]>/i);for(l=0;l<w.length;++l){var v=w[l].trim();if(v.match(/<t[dh]/i)){for(var k=v,R=0;k.charAt(0)=="<"&&(R=k.indexOf(">"))>-1;)k=k.slice(R+1);for(var L=0;L<b.length;++L){var G=b[L];G.s.c==u&&G.s.r<o&&o<=G.e.r&&(u=G.e.c+1,L=-1)}var V=Jt(v.slice(0,v.indexOf(">")));h=V.colspan?+V.colspan:1,((p=+V.rowspan)>1||h>1)&&b.push({s:{r:o,c:u},e:{r:o+(p||1)-1,c:u+h-1}});var O=V.t||V["data-t"]||"";if(!k.length){u+=h;continue}if(k=i8(k),d.s.r>o&&(d.s.r=o),d.e.r<o&&(d.e.r=o),d.s.c>u&&(d.s.c=u),d.e.c<u&&(d.e.c=u),!k.length){u+=h;continue}var F={t:"s",v:k};e.raw||!k.trim().length||O=="s"||(k==="TRUE"?F={t:"b",v:!0}:k==="FALSE"?F={t:"b",v:!1}:isNaN(Va(k))?isNaN(iu(k).getDate())||(F={t:"d",v:zn(k)},e.cellDates||(F={t:"n",v:Cs(F.v)}),F.z=e.dateNF||fr[14]):F={t:"n",v:Va(k)}),e.dense?(n[o]||(n[o]=[]),n[o][u]=F):n[ir({r:o,c:u})]=F,u+=h}}}}return n["!ref"]=Cr(d),b.length&&(n["!merges"]=b),n}function cV(r,t,e,n){for(var s=r["!merges"]||[],i=[],a=t.s.c;a<=t.e.c;++a){for(var l=0,c=0,o=0;o<s.length;++o)if(!(s[o].s.r>e||s[o].s.c>a)&&!(s[o].e.r<e||s[o].e.c<a)){if(s[o].s.r<e||s[o].s.c<a){l=-1;break}l=s[o].e.r-s[o].s.r+1,c=s[o].e.c-s[o].s.c+1;break}if(!(l<0)){var u=ir({r:e,c:a}),p=n.dense?(r[e]||[])[a]:r[u],h=p&&p.v!=null&&(p.h||Zb(p.w||(Xi(p),p.w)||""))||"",d={};l>1&&(d.rowspan=l),c>1&&(d.colspan=c),n.editable?h='<span contenteditable="true">'+h+"</span>":p&&(d["data-t"]=p&&p.t||"z",p.v!=null&&(d["data-v"]=p.v),p.z!=null&&(d["data-z"]=p.z),p.l&&(p.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+p.l.Target+'">'+h+"</a>")),d.id=(n.id||"sjs")+"-"+u,i.push(YD("td",h,d))}}var b="<tr>";return b+i.join("")+"</tr>"}var uV='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',fV="</body></html>";function hV(r,t){var e=r.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!e||e.length==0)throw new Error("Invalid HTML: could not find <table>");if(e.length==1)return nl(j4(e[0],t),t);var n=gx();return e.forEach(function(s,i){bx(n,j4(s,t),"Sheet"+(i+1))}),n}function dV(r,t,e){var n=[];return n.join("")+"<table"+(e&&e.id?' id="'+e.id+'"':"")+">"}function pV(r,t){var e=t||{},n=e.header!=null?e.header:uV,s=e.footer!=null?e.footer:fV,i=[n],a=xu(r["!ref"]);e.dense=Array.isArray(r),i.push(dV(r,a,e));for(var l=a.s.r;l<=a.e.r;++l)i.push(cV(r,a,l,e));return i.push("</table>"+s),i.join("")}function fS(r,t,e){var n=e||{},s=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var a=typeof n.origin=="string"?Es(n.origin):n.origin;s=a.r,i=a.c}var l=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),o={s:{r:0,c:0},e:{r:s,c:i}};if(r["!ref"]){var u=xu(r["!ref"]);o.s.r=Math.min(o.s.r,u.s.r),o.s.c=Math.min(o.s.c,u.s.c),o.e.r=Math.max(o.e.r,u.e.r),o.e.c=Math.max(o.e.c,u.e.c),s==-1&&(o.e.r=s=u.e.r+1)}var p=[],h=0,d=r["!rows"]||(r["!rows"]=[]),b=0,x=0,g=0,w=0,v=0,k=0;for(r["!cols"]||(r["!cols"]=[]);b<l.length&&x<c;++b){var R=l[b];if(D4(R)){if(n.display)continue;d[x]={hidden:!0}}var L=R.children;for(g=w=0;g<L.length;++g){var G=L[g];if(!(n.display&&D4(G))){var V=G.hasAttribute("data-v")?G.getAttribute("data-v"):G.hasAttribute("v")?G.getAttribute("v"):i8(G.innerHTML),O=G.getAttribute("data-z")||G.getAttribute("z");for(h=0;h<p.length;++h){var F=p[h];F.s.c==w+i&&F.s.r<x+s&&x+s<=F.e.r&&(w=F.e.c+1-i,h=-1)}k=+G.getAttribute("colspan")||1,((v=+G.getAttribute("rowspan")||1)>1||k>1)&&p.push({s:{r:x+s,c:w+i},e:{r:x+s+(v||1)-1,c:w+i+(k||1)-1}});var B={t:"s",v:V},W=G.getAttribute("data-t")||G.getAttribute("t")||"";V!=null&&(V.length==0?B.t=W||"z":n.raw||V.trim().length==0||W=="s"||(V==="TRUE"?B={t:"b",v:!0}:V==="FALSE"?B={t:"b",v:!1}:isNaN(Va(V))?isNaN(iu(V).getDate())||(B={t:"d",v:zn(V)},n.cellDates||(B={t:"n",v:Cs(B.v)}),B.z=n.dateNF||fr[14]):B={t:"n",v:Va(V)})),B.z===void 0&&O!=null&&(B.z=O);var P="",N=G.getElementsByTagName("A");if(N&&N.length)for(var D=0;D<N.length&&!(N[D].hasAttribute("href")&&(P=N[D].getAttribute("href"),P.charAt(0)!="#"));++D);P&&P.charAt(0)!="#"&&(B.l={Target:P}),n.dense?(r[x+s]||(r[x+s]=[]),r[x+s][w+i]=B):r[ir({c:w+i,r:x+s})]=B,o.e.c<w+i&&(o.e.c=w+i),w+=k}}++x}return p.length&&(r["!merges"]=(r["!merges"]||[]).concat(p)),o.e.r=Math.max(o.e.r,x-1+s),r["!ref"]=Cr(o),x>=c&&(r["!fullref"]=Cr((o.e.r=l.length-b+x-1+s,o))),r}function hS(r,t){var e=t||{},n=e.dense?[]:{};return fS(n,r,t)}function mV(r,t){return nl(hS(r,t),t)}function D4(r){var t="",e=gV(r);return e&&(t=e(r).getPropertyValue("display")),t||(t=r.style&&r.style.display),t==="none"}function gV(r){return r.ownerDocument.defaultView&&typeof r.ownerDocument.defaultView.getComputedStyle=="function"?r.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function bV(r){var t=r.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,s){return Array(parseInt(s,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),e=Mr(t.replace(/<[^>]*>/g,""));return[e]}var I4={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function dS(r,t){var e=t||{},n=Jb(r),s=[],i,a,l={name:""},c="",o=0,u,p,h={},d=[],b=e.dense?[]:{},x,g,w={value:""},v="",k=0,R=[],L=-1,G=-1,V={s:{r:1e6,c:1e7},e:{r:0,c:0}},O=0,F={},B=[],W={},P=0,N=0,D=[],C=1,S=1,T=[],A={Names:[]},E={},j=["",""],U=[],I={},Q="",Y=0,ee=!1,q=!1,te=0;for(Jf.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");x=Jf.exec(n);)switch(x[3]=x[3].replace(/_.*$/,"")){case"table":case"":x[1]==="/"?(V.e.c>=V.s.c&&V.e.r>=V.s.r?b["!ref"]=Cr(V):b["!ref"]="A1:A1",e.sheetRows>0&&e.sheetRows<=V.e.r&&(b["!fullref"]=b["!ref"],V.e.r=e.sheetRows-1,b["!ref"]=Cr(V)),B.length&&(b["!merges"]=B),D.length&&(b["!rows"]=D),u.name=u.||u.name,typeof JSON<"u"&&JSON.stringify(u),d.push(u.name),h[u.name]=b,q=!1):x[0].charAt(x[0].length-2)!=="/"&&(u=Jt(x[0],!1),L=G=-1,V.s.r=V.s.c=1e7,V.e.r=V.e.c=0,b=e.dense?[]:{},B=[],D=[],q=!0);break;case"table-row-group":x[1]==="/"?--O:++O;break;case"table-row":case"":if(x[1]==="/"){L+=C,C=1;break}if(p=Jt(x[0],!1),p.?L=p.-1:L==-1&&(L=0),C=+p["number-rows-repeated"]||1,C<10)for(te=0;te<C;++te)O>0&&(D[L+te]={level:O});G=-1;break;case"covered-table-cell":x[1]!=="/"&&++G,e.sheetStubs&&(e.dense?(b[L]||(b[L]=[]),b[L][G]={t:"z"}):b[ir({r:L,c:G})]={t:"z"}),v="",R=[];break;case"table-cell":case"":if(x[0].charAt(x[0].length-2)==="/")++G,w=Jt(x[0],!1),S=parseInt(w["number-columns-repeated"]||"1",10),g={t:"z",v:null},w.formula&&e.cellFormula!=!1&&(g.f=N4(Mr(w.formula))),(w.||w["value-type"])=="string"&&(g.t="s",g.v=Mr(w["string-value"]||""),e.dense?(b[L]||(b[L]=[]),b[L][G]=g):b[ir({r:L,c:G})]=g),G+=S-1;else if(x[1]!=="/"){++G,v="",k=0,R=[],S=1;var H=C?L+C-1:L;if(G>V.e.c&&(V.e.c=G),G<V.s.c&&(V.s.c=G),L<V.s.r&&(V.s.r=L),H>V.e.r&&(V.e.r=H),w=Jt(x[0],!1),U=[],I={},g={t:w.||w["value-type"],v:null},e.cellFormula)if(w.formula&&(w.formula=Mr(w.formula)),w["number-matrix-columns-spanned"]&&w["number-matrix-rows-spanned"]&&(P=parseInt(w["number-matrix-rows-spanned"],10)||0,N=parseInt(w["number-matrix-columns-spanned"],10)||0,W={s:{r:L,c:G},e:{r:L+P-1,c:G+N-1}},g.F=Cr(W),T.push([W,g.F])),w.formula)g.f=N4(w.formula);else for(te=0;te<T.length;++te)L>=T[te][0].s.r&&L<=T[te][0].e.r&&G>=T[te][0].s.c&&G<=T[te][0].e.c&&(g.F=T[te][1]);switch((w["number-columns-spanned"]||w["number-rows-spanned"])&&(P=parseInt(w["number-rows-spanned"],10)||0,N=parseInt(w["number-columns-spanned"],10)||0,W={s:{r:L,c:G},e:{r:L+P-1,c:G+N-1}},B.push(W)),w["number-columns-repeated"]&&(S=parseInt(w["number-columns-repeated"],10)),g.t){case"boolean":g.t="b",g.v=rn(w["boolean-value"]);break;case"float":g.t="n",g.v=parseFloat(w.value);break;case"percentage":g.t="n",g.v=parseFloat(w.value);break;case"currency":g.t="n",g.v=parseFloat(w.value);break;case"date":g.t="d",g.v=zn(w["date-value"]),e.cellDates||(g.t="n",g.v=Cs(g.v)),g.z="m/d/yy";break;case"time":g.t="n",g.v=RD(w["time-value"])/86400,e.cellDates&&(g.t="d",g.v=_p(g.v)),g.z="HH:MM:SS";break;case"number":g.t="n",g.v=parseFloat(w.);break;default:if(g.t==="string"||g.t==="text"||!g.t)g.t="s",w["string-value"]!=null&&(v=Mr(w["string-value"]),R=[]);else throw new Error("Unsupported value type "+g.t)}}else{if(ee=!1,g.t==="s"&&(g.v=v||"",R.length&&(g.R=R),ee=k==0),E.Target&&(g.l=E),U.length>0&&(g.c=U,U=[]),v&&e.cellText!==!1&&(g.w=v),ee&&(g.t="z",delete g.v),(!ee||e.sheetStubs)&&!(e.sheetRows&&e.sheetRows<=L))for(var z=0;z<C;++z){if(S=parseInt(w["number-columns-repeated"]||"1",10),e.dense)for(b[L+z]||(b[L+z]=[]),b[L+z][G]=z==0?g:es(g);--S>0;)b[L+z][G+S]=es(g);else for(b[ir({r:L+z,c:G})]=g;--S>0;)b[ir({r:L+z,c:G+S})]=es(g);V.e.c<=G&&(V.e.c=G)}S=parseInt(w["number-columns-repeated"]||"1",10),G+=S-1,S=0,g={},v="",R=[]}E={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(x[1]==="/"){if((i=s.pop())[0]!==x[3])throw"Bad state: "+i}else x[0].charAt(x[0].length-2)!=="/"&&s.push([x[3],!0]);break;case"annotation":if(x[1]==="/"){if((i=s.pop())[0]!==x[3])throw"Bad state: "+i;I.t=v,R.length&&(I.R=R),I.a=Q,U.push(I)}else x[0].charAt(x[0].length-2)!=="/"&&s.push([x[3],!1]);Q="",Y=0,v="",k=0,R=[];break;case"creator":x[1]==="/"?Q=n.slice(Y,x.index):Y=x.index+x[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(x[1]==="/"){if((i=s.pop())[0]!==x[3])throw"Bad state: "+i}else x[0].charAt(x[0].length-2)!=="/"&&s.push([x[3],!1]);v="",k=0,R=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(x[1]==="/"){if(F[l.name]=c,(i=s.pop())[0]!==x[3])throw"Bad state: "+i}else x[0].charAt(x[0].length-2)!=="/"&&(c="",l=Jt(x[0],!1),s.push([x[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(s[s.length-1][0]){case"time-style":case"date-style":a=Jt(x[0],!1),c+=I4[x[3]][a.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(s[s.length-1][0]){case"time-style":case"date-style":a=Jt(x[0],!1),c+=I4[x[3]][a.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(x[0].slice(-2)==="/>")break;if(x[1]==="/")switch(s[s.length-1][0]){case"number-style":case"date-style":case"time-style":c+=n.slice(o,x.index);break}else o=x.index+x[0].length;break;case"named-range":a=Jt(x[0],!1),j=Gg(a["cell-range-address"]);var Z={Name:a.name,Ref:j[0]+"!"+j[1]};q&&(Z.Sheet=d.length),A.Names.push(Z);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(s[s.length-1][0])>-1)break;if(x[1]==="/"&&(!w||!w["string-value"])){var ae=bV(n.slice(k,x.index));v=(v.length>0?v+`
`:"")+ae[0]}else Jt(x[0],!1),k=x.index+x[0].length;break;case"s":break;case"database-range":if(x[1]==="/")break;try{j=Gg(Jt(x[0])["target-range-address"]),h[j[0]]["!autofilter"]={ref:j[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(x[1]!=="/"){if(E=Jt(x[0],!1),!E.href)break;E.Target=Mr(E.href),delete E.href,E.Target.charAt(0)=="#"&&E.Target.indexOf(".")>-1?(j=Gg(E.Target.slice(1)),E.Target="#"+j[0]+"!"+j[1]):E.Target.match(/^\.\.[\\\/]/)&&(E.Target=E.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(x[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(e.WTF)throw new Error(x)}}var re={Sheets:h,SheetNames:d,Workbook:A};return e.bookSheets&&delete re.Sheets,re}function O4(r,t){t=t||{},xa(r,"META-INF/manifest.xml")&&DI(An(r,"META-INF/manifest.xml"),t);var e=ra(r,"content.xml");if(!e)throw new Error("Missing content.xml in ODS / UOF file");var n=dS(Xr(e),t);return xa(r,"meta.xml")&&(n.Props=E8(An(r,"meta.xml"))),n}function F4(r,t){return dS(r,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function hx(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function I1(r){return typeof TextDecoder<"u"?new TextDecoder().decode(r):Xr(Kl(r))}function O1(r){var t=r.reduce(function(s,i){return s+i.length},0),e=new Uint8Array(t),n=0;return r.forEach(function(s){e.set(s,n),n+=s.length}),e}function P4(r){return r-=r>>1&1431655765,r=(r&858993459)+(r>>2&858993459),(r+(r>>4)&252645135)*16843009>>>24}function xV(r,t){for(var e=(r[t+15]&127)<<7|r[t+14]>>1,n=r[t+14]&1,s=t+13;s>=t;--s)n=n*256+r[s];return(r[t+15]&128?-n:n)*Math.pow(10,e-6176)}function nh(r,t){var e=t?t[0]:0,n=r[e]&127;e:if(r[e++]>=128&&(n|=(r[e]&127)<<7,r[e++]<128||(n|=(r[e]&127)<<14,r[e++]<128)||(n|=(r[e]&127)<<21,r[e++]<128)||(n+=(r[e]&127)*Math.pow(2,28),++e,r[e++]<128)||(n+=(r[e]&127)*Math.pow(2,35),++e,r[e++]<128)||(n+=(r[e]&127)*Math.pow(2,42),++e,r[e++]<128)))break e;return t&&(t[0]=e),n}function Pn(r){var t=0,e=r[t]&127;e:if(r[t++]>=128){if(e|=(r[t]&127)<<7,r[t++]<128||(e|=(r[t]&127)<<14,r[t++]<128)||(e|=(r[t]&127)<<21,r[t++]<128))break e;e|=(r[t]&127)<<28}return e}function ps(r){for(var t=[],e=[0];e[0]<r.length;){var n=e[0],s=nh(r,e),i=s&7;s=Math.floor(s/8);var a=0,l;if(s==0)break;switch(i){case 0:{for(var c=e[0];r[e[0]++]>=128;);l=r.slice(c,e[0])}break;case 5:a=4,l=r.slice(e[0],e[0]+a),e[0]+=a;break;case 1:a=8,l=r.slice(e[0],e[0]+a),e[0]+=a;break;case 2:a=nh(r,e),l=r.slice(e[0],e[0]+a),e[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(s," at offset ").concat(n))}var o={data:l,type:i};t[s]==null?t[s]=[o]:t[s].push(o)}return t}function dx(r,t){return(r==null?void 0:r.map(function(e){return t(e.data)}))||[]}function yV(r){for(var t,e=[],n=[0];n[0]<r.length;){var s=nh(r,n),i=ps(r.slice(n[0],n[0]+s));n[0]+=s;var a={id:Pn(i[1][0].data),messages:[]};i[2].forEach(function(l){var c=ps(l.data),o=Pn(c[3][0].data);a.messages.push({meta:c,data:r.slice(n[0],n[0]+o)}),n[0]+=o}),(t=i[3])!=null&&t[0]&&(a.merge=Pn(i[3][0].data)>>>0>0),e.push(a)}return e}function vV(r,t){if(r!=0)throw new Error("Unexpected Snappy chunk type ".concat(r));for(var e=[0],n=nh(t,e),s=[];e[0]<t.length;){var i=t[e[0]]&3;if(i==0){var a=t[e[0]++]>>2;if(a<60)++a;else{var l=a-59;a=t[e[0]],l>1&&(a|=t[e[0]+1]<<8),l>2&&(a|=t[e[0]+2]<<16),l>3&&(a|=t[e[0]+3]<<24),a>>>=0,a++,e[0]+=l}s.push(t.slice(e[0],e[0]+a)),e[0]+=a;continue}else{var c=0,o=0;if(i==1?(o=(t[e[0]]>>2&7)+4,c=(t[e[0]++]&224)<<3,c|=t[e[0]++]):(o=(t[e[0]++]>>2)+1,i==2?(c=t[e[0]]|t[e[0]+1]<<8,e[0]+=2):(c=(t[e[0]]|t[e[0]+1]<<8|t[e[0]+2]<<16|t[e[0]+3]<<24)>>>0,e[0]+=4)),s=[O1(s)],c==0)throw new Error("Invalid offset 0");if(c>s[0].length)throw new Error("Invalid offset beyond length");if(o>=c)for(s.push(s[0].slice(-c)),o-=c;o>=s[s.length-1].length;)s.push(s[s.length-1]),o-=s[s.length-1].length;s.push(s[0].slice(-c,-c+o))}}var u=O1(s);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function wV(r){for(var t=[],e=0;e<r.length;){var n=r[e++],s=r[e]|r[e+1]<<8|r[e+2]<<16;e+=3,t.push(vV(n,r.slice(e,e+s))),e+=s}if(e!==r.length)throw new Error("data is not a valid framed stream!");return O1(t)}function _V(r,t,e,n){var s=hx(r),i=s.getUint32(4,!0),a=(n>1?12:8)+P4(i&(n>1?3470:398))*4,l=-1,c=-1,o=NaN,u=new Date(2001,0,1);i&512&&(l=s.getUint32(a,!0),a+=4),a+=P4(i&(n>1?12288:4096))*4,i&16&&(c=s.getUint32(a,!0),a+=4),i&32&&(o=s.getFloat64(a,!0),a+=8),i&64&&(u.setTime(u.getTime()+s.getFloat64(a,!0)*1e3),a+=8);var p;switch(r[2]){case 0:break;case 2:p={t:"n",v:o};break;case 3:p={t:"s",v:t[c]};break;case 5:p={t:"d",v:u};break;case 6:p={t:"b",v:o>0};break;case 7:p={t:"n",v:o/86400};break;case 8:p={t:"e",v:0};break;case 9:if(l>-1)p={t:"s",v:e[l]};else if(c>-1)p={t:"s",v:t[c]};else if(!isNaN(o))p={t:"n",v:o};else throw new Error("Unsupported cell type ".concat(r.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(r.slice(0,4)))}return p}function SV(r,t,e){var n=hx(r),s=n.getUint32(8,!0),i=12,a=-1,l=-1,c=NaN,o=NaN,u=new Date(2001,0,1);s&1&&(c=xV(r,i),i+=16),s&2&&(o=n.getFloat64(i,!0),i+=8),s&4&&(u.setTime(u.getTime()+n.getFloat64(i,!0)*1e3),i+=8),s&8&&(l=n.getUint32(i,!0),i+=4),s&16&&(a=n.getUint32(i,!0),i+=4);var p;switch(r[1]){case 0:break;case 2:p={t:"n",v:c};break;case 3:p={t:"s",v:t[l]};break;case 5:p={t:"d",v:u};break;case 6:p={t:"b",v:o>0};break;case 7:p={t:"n",v:o/86400};break;case 8:p={t:"e",v:0};break;case 9:if(a>-1)p={t:"s",v:e[a]};else throw new Error("Unsupported cell type ".concat(r[1]," : ").concat(s&31," : ").concat(r.slice(0,4)));break;case 10:p={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(r[1]," : ").concat(s&31," : ").concat(r.slice(0,4)))}return p}function kV(r,t,e){switch(r[0]){case 0:case 1:case 2:case 3:return _V(r,t,e,r[0]);case 5:return SV(r,t,e);default:throw new Error("Unsupported payload version ".concat(r[0]))}}function qo(r){var t=ps(r);return nh(t[1][0].data)}function L4(r,t){var e=ps(t.data),n=Pn(e[1][0].data),s=e[3],i=[];return(s||[]).forEach(function(a){var l=ps(a.data),c=Pn(l[1][0].data)>>>0;switch(n){case 1:i[c]=I1(l[3][0].data);break;case 8:{var o=r[qo(l[9][0].data)][0],u=ps(o.data),p=r[qo(u[1][0].data)][0],h=Pn(p.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var d=ps(p.data);i[c]=d[3].map(function(b){return I1(b.data)}).join("")}break}}),i}function TV(r,t){var e,n,s,i,a,l,c,o,u,p,h,d,b,x,g=ps(r),w=Pn(g[1][0].data)>>>0,v=Pn(g[2][0].data)>>>0,k=((n=(e=g[8])==null?void 0:e[0])==null?void 0:n.data)&&Pn(g[8][0].data)>0||!1,R,L;if((i=(s=g[7])==null?void 0:s[0])!=null&&i.data&&t!=0)R=(l=(a=g[7])==null?void 0:a[0])==null?void 0:l.data,L=(o=(c=g[6])==null?void 0:c[0])==null?void 0:o.data;else if((p=(u=g[4])==null?void 0:u[0])!=null&&p.data&&t!=1)R=(d=(h=g[4])==null?void 0:h[0])==null?void 0:d.data,L=(x=(b=g[3])==null?void 0:b[0])==null?void 0:x.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var G=k?4:1,V=hx(R),O=[],F=0;F<R.length/2;++F){var B=V.getUint16(F*2,!0);B<65535&&O.push([F,B])}if(O.length!=v)throw"Expected ".concat(v," cells, found ").concat(O.length);var W=[];for(F=0;F<O.length-1;++F)W[O[F][0]]=L.subarray(O[F][1]*G,O[F+1][1]*G);return O.length>=1&&(W[O[O.length-1][0]]=L.subarray(O[O.length-1][1]*G)),{R:w,cells:W}}function EV(r,t){var e,n=ps(t.data),s=(e=n==null?void 0:n[7])!=null&&e[0]?Pn(n[7][0].data)>>>0>0?1:0:-1,i=dx(n[5],function(a){return TV(a,s)});return{nrows:Pn(n[4][0].data)>>>0,data:i.reduce(function(a,l){return a[l.R]||(a[l.R]=[]),l.cells.forEach(function(c,o){if(a[l.R][o])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(o));a[l.R][o]=c}),a},[])}}function AV(r,t,e){var n,s=ps(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(Pn(s[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(s[6][0].data));if(i.e.c=(Pn(s[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(s[7][0].data));e["!ref"]=Cr(i);var a=ps(s[4][0].data),l=L4(r,r[qo(a[4][0].data)][0]),c=(n=a[17])!=null&&n[0]?L4(r,r[qo(a[17][0].data)][0]):[],o=ps(a[3][0].data),u=0;o[1].forEach(function(p){var h=ps(p.data),d=r[qo(h[2][0].data)][0],b=Pn(d.meta[1][0].data);if(b!=6002)throw new Error("6001 unexpected reference to ".concat(b));var x=EV(r,d);x.data.forEach(function(g,w){g.forEach(function(v,k){var R=ir({r:u+w,c:k}),L=kV(v,l,c);L&&(e[R]=L)})}),u+=x.nrows})}function NV(r,t){var e=ps(t.data),n={"!ref":"A1"},s=r[qo(e[2][0].data)],i=Pn(s[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return AV(r,s[0],n),n}function CV(r,t){var e,n=ps(t.data),s={name:(e=n[1])!=null&&e[0]?I1(n[1][0].data):"",sheets:[]},i=dx(n[2],qo);return i.forEach(function(a){r[a].forEach(function(l){var c=Pn(l.meta[1][0].data);c==6e3&&s.sheets.push(NV(r,l))})}),s}function RV(r,t){var e=gx(),n=ps(t.data),s=dx(n[1],qo);if(s.forEach(function(i){r[i].forEach(function(a){var l=Pn(a.meta[1][0].data);if(l==2){var c=CV(r,a);c.sheets.forEach(function(o,u){bx(e,o,u==0?c.name:c.name+"_"+u,!0)})}})}),e.SheetNames.length==0)throw new Error("Empty NUMBERS file");return e}function Xg(r){var t,e,n,s,i={},a=[];if(r.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),r.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var o;try{o=wV(c.content)}catch(p){return console.log("?? "+c.content.length+" "+(p.message||p))}var u;try{u=yV(o)}catch(p){return console.log("## "+(p.message||p))}u.forEach(function(p){i[p.id]=p.messages,a.push(p.id)})}}),!a.length)throw new Error("File has no messages");var l=((s=(n=(e=(t=i==null?void 0:i[1])==null?void 0:t[0])==null?void 0:e.meta)==null?void 0:n[1])==null?void 0:s[0].data)&&Pn(i[1][0].meta[1][0].data)==1&&i[1][0];if(l||a.forEach(function(c){i[c].forEach(function(o){var u=Pn(o.meta[1][0].data)>>>0;if(u==1)if(!l)l=o;else throw new Error("Document has multiple roots")})}),!l)throw new Error("Cannot find Document root");return RV(i,l)}function MV(r){return function(e){for(var n=0;n!=r.length;++n){var s=r[n];e[s[0]]===void 0&&(e[s[0]]=s[1]),s[2]==="n"&&(e[s[0]]=Number(e[s[0]]))}}}function px(r){MV([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(r)}function jV(r){return Vc.WS.indexOf(r)>-1?"sheet":r==Vc.CS?"chart":r==Vc.DS?"dialog":r==Vc.MS?"macro":r&&r.length?r:"sheet"}function DV(r,t){if(!r)return 0;try{r=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,r["!id"][n.id].Target,jV(r["!id"][n.id].Type)]})}catch{return null}return!r||r.length===0?null:r}function IV(r,t,e,n,s,i,a,l,c,o,u,p){try{i[n]=Mf(ra(r,e,!0),t);var h=An(r,t),d;switch(l){case"sheet":d=UU(h,t,s,c,i[n],o,u,p);break;case"chart":if(d=VU(h,t,s,c,i[n],o,u,p),!d||!d["!drawel"])break;var b=xf(d["!drawel"].Target,t),x=C1(b),g=BP(ra(r,b,!0),Mf(ra(r,x,!0),b)),w=xf(g,b),v=C1(w);d=SU(ra(r,w,!0),w,c,Mf(ra(r,v,!0),w),o,d);break;case"macro":d=zU(h,t,s,c,i[n],o,u,p);break;case"dialog":d=HU(h,t,s,c,i[n],o,u,p);break;default:throw new Error("Unrecognized sheet type "+l)}a[n]=d;var k=[];i&&i[n]&&di(i[n]).forEach(function(R){var L="";if(i[n][R].Type==Vc.CMNT){L=xf(i[n][R].Target,t);var G=WU(An(r,L,!0),L,c);if(!G||!G.length)return;S4(d,G,!1)}i[n][R].Type==Vc.TCMNT&&(L=xf(i[n][R].Target,t),k=k.concat(VP(An(r,L,!0),c)))}),k&&k.length&&S4(d,k,!0,c.people||[])}catch(R){if(c.WTF)throw R}}function ga(r){return r.charAt(0)=="/"?r.slice(1):r}function OV(r,t){if(Q6(),t=t||{},px(t),xa(r,"META-INF/manifest.xml")||xa(r,"objectdata.xml"))return O4(r,t);if(xa(r,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof Xg<"u"){if(r.FileIndex)return Xg(r);var e=Nr.utils.cfb_new();return K_(r).forEach(function(D){FD(e,D,OD(r,D))}),Xg(e)}throw new Error("Unsupported NUMBERS file")}if(!xa(r,"[Content_Types].xml"))throw xa(r,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):xa(r,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=K_(r),s=MI(ra(r,"[Content_Types].xml")),i=!1,a,l;if(s.workbooks.length===0&&(l="xl/workbook.xml",An(r,l,!0)&&s.workbooks.push(l)),s.workbooks.length===0){if(l="xl/workbook.bin",!An(r,l,!0))throw new Error("Could not find workbook");s.workbooks.push(l),i=!0}s.workbooks[0].slice(-3)=="bin"&&(i=!0);var c={},o={};if(!t.bookSheets&&!t.bookProps){if(If=[],s.sst)try{If=GU(An(r,ga(s.sst)),s.sst,t)}catch(D){if(t.WTF)throw D}t.cellStyles&&s.themes.length&&(c=qU(ra(r,s.themes[0].replace(/^\//,""),!0)||"",s.themes[0],t)),s.style&&(o=$U(An(r,ga(s.style)),s.style,c,t))}s.links.map(function(D){try{var C=Mf(ra(r,C1(ga(D))),D);return YU(An(r,ga(D)),C,D,t)}catch{}});var u=BU(An(r,ga(s.workbooks[0])),s.workbooks[0],t),p={},h="";s.coreprops.length&&(h=An(r,ga(s.coreprops[0]),!0),h&&(p=E8(h)),s.extprops.length!==0&&(h=An(r,ga(s.extprops[0]),!0),h&&FI(h,p,t)));var d={};(!t.bookSheets||t.bookProps)&&s.custprops.length!==0&&(h=ra(r,ga(s.custprops[0]),!0),h&&(d=LI(h,t)));var b={};if((t.bookSheets||t.bookProps)&&(u.Sheets?a=u.Sheets.map(function(C){return C.name}):p.Worksheets&&p.SheetNames.length>0&&(a=p.SheetNames),t.bookProps&&(b.Props=p,b.Custprops=d),t.bookSheets&&typeof a<"u"&&(b.SheetNames=a),t.bookSheets?b.SheetNames:t.bookProps))return b;a={};var x={};t.bookDeps&&s.calcchain&&(x=XU(An(r,ga(s.calcchain)),s.calcchain));var g=0,w={},v,k;{var R=u.Sheets;p.Worksheets=R.length,p.SheetNames=[];for(var L=0;L!=R.length;++L)p.SheetNames[L]=R[L].name}var G=i?"bin":"xml",V=s.workbooks[0].lastIndexOf("/"),O=(s.workbooks[0].slice(0,V+1)+"_rels/"+s.workbooks[0].slice(V+1)+".rels").replace(/^\//,"");xa(r,O)||(O="xl/_rels/workbook."+G+".rels");var F=Mf(ra(r,O,!0),O.replace(/_rels.*/,"s5s"));(s.metadata||[]).length>=1&&(t.xlmeta=KU(An(r,ga(s.metadata[0])),s.metadata[0],t)),(s.people||[]).length>=1&&(t.people=zP(An(r,ga(s.people[0])),t)),F&&(F=DV(F,u.Sheets));var B=An(r,"xl/worksheets/sheet.xml",!0)?1:0;e:for(g=0;g!=p.Worksheets;++g){var W="sheet";if(F&&F[g]?(v="xl/"+F[g][1].replace(/[\/]?xl\//,""),xa(r,v)||(v=F[g][1]),xa(r,v)||(v=O.replace(/_rels\/.*$/,"")+F[g][1]),W=F[g][2]):(v="xl/worksheets/sheet"+(g+1-B)+"."+G,v=v.replace(/sheet0\./,"sheet.")),k=v.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(g!=t.sheets)continue e;break;case"string":if(p.SheetNames[g].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var P=!1,N=0;N!=t.sheets.length;++N)typeof t.sheets[N]=="number"&&t.sheets[N]==g&&(P=1),typeof t.sheets[N]=="string"&&t.sheets[N].toLowerCase()==p.SheetNames[g].toLowerCase()&&(P=1);if(!P)continue e}}IV(r,v,k,p.SheetNames[g],g,w,a,W,t,u,c,o)}return b={Directory:s,Workbook:u,Props:p,Custprops:d,Deps:x,Sheets:a,SheetNames:p.SheetNames,Strings:If,Styles:o,Themes:c,SSF:es(fr)},t&&t.bookFiles&&(r.files?(b.keys=n,b.files=r.files):(b.keys=[],b.files={},r.FullPaths.forEach(function(D,C){D=D.replace(/^Root Entry[\/]/,""),b.keys.push(D),b.files[D]=r.FileIndex[C]}))),t&&t.bookVBA&&(s.vba.length>0?b.vbaraw=An(r,ga(s.vba[0]),!0):s.defaults&&s.defaults.bin===GP&&(b.vbaraw=An(r,"xl/vbaProject.bin",!0))),b}function FV(r,t){var e=t||{},n="Workbook",s=Nr.find(r,n);try{if(n="/!DataSpaces/Version",s=Nr.find(r,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(NF(s.content),n="/!DataSpaces/DataSpaceMap",s=Nr.find(r,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=RF(s.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",s=Nr.find(r,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);var a=MF(s.content);if(a.length!=1||a[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",s=Nr.find(r,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);DF(s.content)}catch{}if(n="/EncryptionInfo",s=Nr.find(r,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);var l=IF(s.content);if(n="/EncryptedPackage",s=Nr.find(r,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],s.content,e.password||"",e);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],s.content,e.password||"",e);throw new Error("File is password-protected")}function mx(r,t){var e="";switch((t||{}).type||"base64"){case"buffer":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];case"base64":e=sa(r.slice(0,12));break;case"binary":e=r;break;case"array":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3),e.charCodeAt(4),e.charCodeAt(5),e.charCodeAt(6),e.charCodeAt(7)]}function PV(r,t){return Nr.find(r,"EncryptedPackage")?FV(r,t):uS(r,t)}function LV(r,t){var e,n=r,s=t||{};return s.type||(s.type=Er&&Buffer.isBuffer(r)?"buffer":"base64"),e=n8(n,s),OV(e,s)}function pS(r,t){var e=0;e:for(;e<r.length;)switch(r.charCodeAt(e)){case 10:case 13:case 32:++e;break;case 60:return j1(r.slice(e),t);default:break e}return eh.to_workbook(r,t)}function BV(r,t){var e="",n=mx(r,t);switch(t.type){case"base64":e=sa(r);break;case"binary":e=r;break;case"buffer":e=r.toString("binary");break;case"array":e=ql(r);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(e=Xr(e)),t.type="binary",pS(e,t)}function UV(r,t){var e=r;return t.type=="base64"&&(e=sa(e)),e=Kf.utils.decode(1200,e.slice(2),"str"),t.type="binary",pS(e,t)}function VV(r){return r.match(/[^\x00-\x7F]/)?yf(r):r}function Yg(r,t,e,n){return n?(e.type="string",eh.to_workbook(r,e)):eh.to_workbook(t,e)}function F1(r,t){B6();var e=t||{};if(typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer)return F1(new Uint8Array(r),(e=es(e),e.type="array",e));typeof Uint8Array<"u"&&r instanceof Uint8Array&&!e.type&&(e.type=typeof Deno<"u"?"buffer":"array");var n=r,s=[0,0,0,0],i=!1;if(e.cellStyles&&(e.cellNF=!0,e.sheetStubs=!0),Kc={},e.dateNF&&(Kc.dateNF=e.dateNF),e.type||(e.type=Er&&Buffer.isBuffer(r)?"buffer":"base64"),e.type=="file"&&(e.type=Er?"buffer":"binary",n=ND(r),typeof Uint8Array<"u"&&!Er&&(e.type="array")),e.type=="string"&&(i=!0,e.type="binary",e.codepage=65001,n=VV(r)),e.type=="array"&&typeof Uint8Array<"u"&&r instanceof Uint8Array&&typeof ArrayBuffer<"u"){var a=new ArrayBuffer(3),l=new Uint8Array(a);if(l.foo="bar",!l.foo)return e=es(e),e.type="array",F1(Wb(n),e)}switch((s=mx(n,e))[0]){case 208:if(s[1]===207&&s[2]===17&&s[3]===224&&s[4]===161&&s[5]===177&&s[6]===26&&s[7]===225)return PV(Nr.read(n,e),e);break;case 9:if(s[1]<=8)return uS(n,e);break;case 60:return j1(n,e);case 73:if(s[1]===73&&s[2]===42&&s[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(s[1]===68)return mF(n,e);break;case 84:if(s[1]===65&&s[2]===66&&s[3]===76)return dF.to_workbook(n,e);break;case 80:return s[1]===75&&s[2]<9&&s[3]<9?LV(n,e):Yg(r,n,e,i);case 239:return s[3]===60?j1(n,e):Yg(r,n,e,i);case 255:if(s[1]===254)return UV(n,e);if(s[1]===0&&s[2]===2&&s[3]===0)return Df.to_workbook(n,e);break;case 0:if(s[1]===0&&(s[2]>=2&&s[3]===0||s[2]===0&&(s[3]===8||s[3]===9)))return Df.to_workbook(n,e);break;case 3:case 131:case 139:case 140:return _4.to_workbook(n,e);case 123:if(s[1]===92&&s[2]===114&&s[3]===116)return GF.to_workbook(n,e);break;case 10:case 13:case 32:return BV(n,e);case 137:if(s[1]===80&&s[2]===78&&s[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return fF.indexOf(s[0])>-1&&s[2]<=12&&s[3]<=31?_4.to_workbook(n,e):Yg(r,n,e,i)}function zV(r,t,e,n,s,i,a,l){var c=ts(e),o=l.defval,u=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),p=!0,h=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:e,enumerable:!1})}catch{h.__rowNum__=e}else h.__rowNum__=e;if(!a||r[e])for(var d=t.s.c;d<=t.e.c;++d){var b=a?r[e][d]:r[n[d]+c];if(b===void 0||b.t===void 0){if(o===void 0)continue;i[d]!=null&&(h[i[d]]=o);continue}var x=b.v;switch(b.t){case"z":if(x==null)break;continue;case"e":x=x==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+b.t)}if(i[d]!=null){if(x==null)if(b.t=="e"&&x===null)h[i[d]]=null;else if(o!==void 0)h[i[d]]=o;else if(u&&x===null)h[i[d]]=null;else continue;else h[i[d]]=u&&(b.t!=="n"||b.t==="n"&&l.rawNumbers!==!1)?x:Xi(b,x,l);x!=null&&(p=!1)}}return{row:h,isempty:p}}function P1(r,t){if(r==null||r["!ref"]==null)return[];var e={t:"n",v:0},n=0,s=1,i=[],a=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},o=t||{},u=o.range!=null?o.range:r["!ref"];switch(o.header===1?n=1:o.header==="A"?n=2:Array.isArray(o.header)?n=3:o.header==null&&(n=0),typeof u){case"string":c=hn(u);break;case"number":c=hn(r["!ref"]),c.s.r=u;break;default:c=u}n>0&&(s=0);var p=ts(c.s.r),h=[],d=[],b=0,x=0,g=Array.isArray(r),w=c.s.r,v=0,k={};g&&!r[w]&&(r[w]=[]);var R=o.skipHidden&&r["!cols"]||[],L=o.skipHidden&&r["!rows"]||[];for(v=c.s.c;v<=c.e.c;++v)if(!(R[v]||{}).hidden)switch(h[v]=On(v),e=g?r[w][v]:r[h[v]+p],n){case 1:i[v]=v-c.s.c;break;case 2:i[v]=h[v];break;case 3:i[v]=o.header[v-c.s.c];break;default:if(e==null&&(e={w:"__EMPTY",t:"s"}),l=a=Xi(e,null,o),x=k[a]||0,!x)k[a]=1;else{do l=a+"_"+x++;while(k[l]);k[a]=x,k[l]=1}i[v]=l}for(w=c.s.r+s;w<=c.e.r;++w)if(!(L[w]||{}).hidden){var G=zV(r,c,w,h,n,i,g,o);(G.isempty===!1||(n===1?o.blankrows!==!1:o.blankrows))&&(d[b++]=G.row)}return d.length=b,d}var B4=/"/g;function HV(r,t,e,n,s,i,a,l){for(var c=!0,o=[],u="",p=ts(e),h=t.s.c;h<=t.e.c;++h)if(n[h]){var d=l.dense?(r[e]||[])[h]:r[n[h]+p];if(d==null)u="";else if(d.v!=null){c=!1,u=""+(l.rawNumbers&&d.t=="n"?d.v:Xi(d,null,l));for(var b=0,x=0;b!==u.length;++b)if((x=u.charCodeAt(b))===s||x===i||x===34||l.forceQuotes){u='"'+u.replace(B4,'""')+'"';break}u=="ID"&&(u='"ID"')}else d.f!=null&&!d.F?(c=!1,u="="+d.f,u.indexOf(",")>=0&&(u='"'+u.replace(B4,'""')+'"')):u="";o.push(u)}return l.blankrows===!1&&c?null:o.join(a)}function mS(r,t){var e=[],n=t??{};if(r==null||r["!ref"]==null)return"";var s=hn(r["!ref"]),i=n.FS!==void 0?n.FS:",",a=i.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),o=new RegExp((i=="|"?"\\|":i)+"+$"),u="",p=[];n.dense=Array.isArray(r);for(var h=n.skipHidden&&r["!cols"]||[],d=n.skipHidden&&r["!rows"]||[],b=s.s.c;b<=s.e.c;++b)(h[b]||{}).hidden||(p[b]=On(b));for(var x=0,g=s.s.r;g<=s.e.r;++g)(d[g]||{}).hidden||(u=HV(r,s,g,p,a,c,i,n),u!=null&&(n.strip&&(u=u.replace(o,"")),(u||n.blankrows!==!1)&&e.push((x++?l:"")+u)));return delete n.dense,e.join("")}function $V(r,t){t||(t={}),t.FS="	",t.RS=`
`;var e=mS(r,t);return e}function qV(r){var t="",e,n="";if(r==null||r["!ref"]==null)return[];var s=hn(r["!ref"]),i="",a=[],l,c=[],o=Array.isArray(r);for(l=s.s.c;l<=s.e.c;++l)a[l]=On(l);for(var u=s.s.r;u<=s.e.r;++u)for(i=ts(u),l=s.s.c;l<=s.e.c;++l)if(t=a[l]+i,e=o?(r[u]||[])[l]:r[t],n="",e!==void 0){if(e.F!=null){if(t=e.F,!e.f)continue;n=e.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(e.f!=null)n=e.f;else{if(e.t=="z")continue;if(e.t=="n"&&e.v!=null)n=""+e.v;else if(e.t=="b")n=e.v?"TRUE":"FALSE";else if(e.w!==void 0)n="'"+e.w;else{if(e.v===void 0)continue;e.t=="s"?n="'"+e.v:n=""+e.v}}c[c.length]=t+"="+n}return c}function gS(r,t,e){var n=e||{},s=+!n.skipHeader,i=r||{},a=0,l=0;if(i&&n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var c=typeof n.origin=="string"?Es(n.origin):n.origin;a=c.r,l=c.c}var o,u={s:{c:0,r:0},e:{c:l,r:a+t.length-1+s}};if(i["!ref"]){var p=hn(i["!ref"]);u.e.c=Math.max(u.e.c,p.e.c),u.e.r=Math.max(u.e.r,p.e.r),a==-1&&(a=p.e.r+1,u.e.r=a+t.length-1+s)}else a==-1&&(a=0,u.e.r=t.length-1+s);var h=n.header||[],d=0;t.forEach(function(x,g){di(x).forEach(function(w){(d=h.indexOf(w))==-1&&(h[d=h.length]=w);var v=x[w],k="z",R="",L=ir({c:l+d,r:a+g+s});o=sh(i,L),v&&typeof v=="object"&&!(v instanceof Date)?i[L]=v:(typeof v=="number"?k="n":typeof v=="boolean"?k="b":typeof v=="string"?k="s":v instanceof Date?(k="d",n.cellDates||(k="n",v=Cs(v)),R=n.dateNF||fr[14]):v===null&&n.nullError&&(k="e",v=0),o?(o.t=k,o.v=v,delete o.w,delete o.R,R&&(o.z=R)):i[L]=o={t:k,v},R&&(o.z=R))})}),u.e.c=Math.max(u.e.c,l+h.length-1);var b=ts(a);if(s)for(d=0;d<h.length;++d)i[On(d+l)+b]={t:"s",v:h[d]};return i["!ref"]=Cr(u),i}function GV(r,t){return gS(null,r,t)}function sh(r,t,e){if(typeof t=="string"){if(Array.isArray(r)){var n=Es(t);return r[n.r]||(r[n.r]=[]),r[n.r][n.c]||(r[n.r][n.c]={t:"z"})}return r[t]||(r[t]={t:"z"})}return typeof t!="number"?sh(r,ir(t)):sh(r,ir({r:t,c:e||0}))}function WV(r,t){if(typeof t=="number"){if(t>=0&&r.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var e=r.SheetNames.indexOf(t);if(e>-1)return e;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function gx(){return{SheetNames:[],Sheets:{}}}function bx(r,t,e,n){var s=1;if(!e)for(;s<=65535&&r.SheetNames.indexOf(e="Sheet"+s)!=-1;++s,e=void 0);if(!e||r.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&r.SheetNames.indexOf(e)>=0){var i=e.match(/(^.*?)(\d+)$/);s=i&&+i[2]||0;var a=i&&i[1]||e;for(++s;s<=65535&&r.SheetNames.indexOf(e=a+s)!=-1;++s);}if(MU(e),r.SheetNames.indexOf(e)>=0)throw new Error("Worksheet with name |"+e+"| already exists!");return r.SheetNames.push(e),r.Sheets[e]=t,e}function XV(r,t,e){r.Workbook||(r.Workbook={}),r.Workbook.Sheets||(r.Workbook.Sheets=[]);var n=WV(r,t);switch(r.Workbook.Sheets[n]||(r.Workbook.Sheets[n]={}),e){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+e)}r.Workbook.Sheets[n].Hidden=e}function YV(r,t){return r.z=t,r}function bS(r,t,e){return t?(r.l={Target:t},e&&(r.l.Tooltip=e)):delete r.l,r}function KV(r,t,e){return bS(r,"#"+t,e)}function QV(r,t,e){r.c||(r.c=[]),r.c.push({t,a:e||"SheetJS"})}function ZV(r,t,e,n){for(var s=typeof t!="string"?t:hn(t),i=typeof t=="string"?t:Cr(t),a=s.s.r;a<=s.e.r;++a)for(var l=s.s.c;l<=s.e.c;++l){var c=sh(r,a,l);c.t="n",c.F=i,delete c.v,a==s.s.r&&l==s.s.c&&(c.f=e,n&&(c.D=!0))}return r}var JV={encode_col:On,encode_row:ts,encode_cell:ir,encode_range:Cr,decode_col:rx,decode_row:tx,split_cell:uI,decode_cell:Es,decode_range:xu,format_cell:Xi,sheet_add_aoa:w8,sheet_add_json:gS,sheet_add_dom:fS,aoa_to_sheet:yu,json_to_sheet:GV,table_to_sheet:hS,table_to_book:mV,sheet_to_csv:mS,sheet_to_txt:$V,sheet_to_json:P1,sheet_to_html:pV,sheet_to_formulae:qV,sheet_to_row_object_array:P1,sheet_get_cell:sh,book_new:gx,book_append_sheet:bx,book_set_sheet_visibility:XV,cell_set_number_format:YV,cell_set_hyperlink:bS,cell_set_internal_link:KV,cell_add_comment:QV,sheet_set_array_formula:ZV,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const xS=({onImport:r,isAdmin:t,users:e,customPaymentLabels:n={},enabledPaymentMethods:s=[]})=>{const[i,a]=_e.useState(!1),[l,c]=_e.useState({current:0,total:0,message:""}),[o,u]=_e.useState(null),[p,h]=_e.useState(""),d=()=>{const k=["","()","()","()","()","()","()","()","()","()","()","()","()","()","","","","","","","","","","","","","","",""],R=["2025-12-20","22","2","3","34.6401","135.5532","22","15","","34.6654","135.5606","2","0","0","2","2800","10","2800","0","0","0","0","0","0","0","0","DiDi","0",""],L=[k.join(","),R.join(",")].join(`\r
`),G=new Uint8Array([239,187,191]),V=new Blob([G,L],{type:"text/csv;charset=utf-8"}),O=document.createElement("a"),F=URL.createObjectURL(V);O.setAttribute("href",F),O.setAttribute("download","sample_taxi_data.csv"),document.body.appendChild(O),O.click(),document.body.removeChild(O)},b=(k,R,L)=>{let G;const V=String(k||"").trim();if(typeof k=="number"||!isNaN(Number(k))&&!V.includes("/")&&!V.includes("-")){const W=parseFloat(V);G=new Date((W-25569)*86400*1e3)}else{const W=V.match(/^(\d{4})[-\/](\d{1,2})[-\/](\d{1,2})/);if(W){const P=parseInt(W[1],10),N=parseInt(W[2],10)-1,D=parseInt(W[3],10);G=new Date(P,N,D)}else G=new Date(V.replace(/-/g,"/"))}if(isNaN(G.getTime()))return NaN;let O=parseInt(String(R||0),10),F=parseInt(String(L||0),10);if(O>=24){const W=Math.floor(O/24);G.setDate(G.getDate()+W),O=O%24}G.setHours(O,F,0,0);const B=new Date(G.getTime());return B.getFullYear()===2025&&B.getMonth()===11&&B.getDate()>=20&&console.log(":",{:k,:R,:L,:B.toLocaleString("ja-JP"),timestamp:G.getTime()}),G.getTime()},x=(k,R,L)=>{for(const[G,V]of Object.entries(R))if(V&&k.includes(V)&&L.includes(G))return G;for(const[G,V]of Object.entries(Hs))if(k.includes(V)&&L.includes(G))return G;if(k.includes("DiDi")||k.includes("GO")||k.includes("Uber")){if(L.includes("DIDI"))return"DIDI";if(L.includes("GO"))return"GO";if(L.includes("UBER"))return"UBER"}return(k.includes("")||k.includes(""))&&L.includes("CARD")?"CARD":k.includes("")&&L.includes("NET")?"NET":k.includes("")&&L.includes("TICKET")?"TICKET":k.includes("")&&L.includes("E_MONEY")?"E_MONEY":(k.includes("Suica")||k.includes("")||k.includes("IC"))&&L.includes("TRANSPORT")?"TRANSPORT":(k.includes("QR")||k.includes("PayPay"))&&L.includes("QR")?"QR":"CASH"},g=async(k,R,L,G)=>new Promise((V,O)=>{const F=new FileReader;F.onload=B=>{var W;try{G==null||G(0,100,"Excel...");const P=new Uint8Array((W=B.target)==null?void 0:W.result),N=F1(P,{type:"array"}),D=N.Sheets[N.SheetNames[0]],C=JV.sheet_to_json(D,{range:0,defval:""});G==null||G(10,100,"...");const S=[];let T=0,A=0;const E=C.length;for(let j=0;j<C.length;j++){const U=C[j],I=10+Math.floor(j/E*80);G==null||G(I,100,`${j+1}/${E} ...`);const Q=b(U.,U["()"],U["()"]);if(isNaN(Q)){console.warn(":",U.,U["()"],U["()"]);continue}const Y=new Date(Q);Y.getFullYear()===2025&&Y.getMonth()===11&&Y.getDate()>=20&&console.log("12/20:",{:U.,:U["()"],:U["()"],:Y.toLocaleString("ja-JP"),timestamp:Q});const ee=parseInt(String(U.||0).replace(/,/g,""));if(!ee||ee<=0)continue;const q=String(U.||""),te=x(q,R,L),H=parseInt(String(U.||0).replace(/,/g,"")),z=String(U.||"");let Z="FLOW";z.includes("")?Z="APP":z.includes("")?Z="WAIT":(z.includes("")||z.includes(""))&&(Z="APP");const ae=parseInt(String(U["()"]||0)),re=parseInt(String(U["()"]||0)),le=parseInt(String(U.||0).replace(/,/g,"")),de=parseInt(String(U.||0).replace(/,/g,"")),ve=le+de,ge=de,se={id:Math.random().toString(36).substr(2,9),timestamp:Q,amount:ee,sales:ee,toll:ve,returnToll:ge,paymentMethod:te,rideType:Z,nonCashAmount:H,pickupLocation:String(U["()"]||""),dropoffLocation:String(U["()"]||""),pickupCoords:U["()"]&&U["()"]?`${U["()"]},${U["()"]}`:"",dropoffCoords:U["()"]&&U["()"]?`${U["()"]},${U["()"]}`:"",isBadCustomer:!1,remarks:q,passengersMale:ae,passengersFemale:re};S.push(se)}G==null||G(100,100,""),V({records:S,addedCount:0,replaceCount:0})}catch(P){O(P)}},F.onerror=O,F.readAsArrayBuffer(k)}),w=(k,R,L,G,V)=>{var C;V==null||V(0,100,"CSV...");const O=k.split(/\r\n|\n/).filter(S=>S.trim()!=="");if(O.length===0)return{records:[],success:!1};const F=O[0];let B=",";F.indexOf("	")!==-1&&(B="	");const W=F.split(B).map(S=>S.trim().replace(/^"|"$/g,""));if(!W.includes("")||!W.includes("")&&!W.includes(""))return{records:[],success:!1};const P=[],N=S=>{if(!S)return 0;const T=S.replace(/[",\s]/g,""),A=parseInt(T,10);return isNaN(A)?0:A},D=O.length-1;for(let S=1;S<O.length;S++){const T=Math.floor(S/D*90);V==null||V(T,100,`${S}/${D} ...`);const A=O[S].split(B).map(Je=>Je.trim().replace(/^"|"$/g,""));if(A.length<W.length-10)continue;const E=((C=A[W.indexOf("")])==null?void 0:C.replace(/\//g,"-"))||"",j=A[W.indexOf("()")]||"0",U=A[W.indexOf("()")]||"0",I=W.indexOf("")!==-1?W.indexOf(""):W.indexOf(""),Q=N(A[I]),Y=N(A[W.indexOf("")]),ee=N(A[W.indexOf("")]),q=Y+ee,te=N(A[W.indexOf("")]),H=W.indexOf("")!==-1?A[W.indexOf("")]:"",z=W.indexOf("")!==-1?A[W.indexOf("")]:"",Z=W.indexOf("()")!==-1?A[W.indexOf("()")]:"",ae=W.indexOf("()")!==-1?A[W.indexOf("()")]:"",re=W.indexOf("()")!==-1?A[W.indexOf("()")]:"",le=W.indexOf("()")!==-1?A[W.indexOf("()")]:"",de=W.indexOf("()")!==-1?A[W.indexOf("()")]:"",ve=W.indexOf("()")!==-1?A[W.indexOf("()")]:"",ge=re&&le?`${re},${le}`:"",se=de&&ve?`${de},${ve}`:"",xe=N(A[W.indexOf("()")]),pe=N(A[W.indexOf("()")]),Te=z||"",ke=(A[W.indexOf("")]||"").includes("")||(A[W.indexOf("")]||"").includes("");let Re="FLOW";H&&(H.includes("")||H.includes("")?Re="DISPATCH":H.includes("")?Re="PICKUP":H.includes("")?Re="WAIT":Re="FLOW");const $e=x(z,L,G),Pe=N(A[W.indexOf("")]);if(E&&Q>0){const[Je,Ze,Ye]=E.split("-").map(Number),Xe=parseInt(j)||0,ut=parseInt(U)||0,ot=new Date(Je,Ze-1,Ye,Xe,ut).getTime();P.push({id:Math.random().toString(36).substr(2,9),amount:Q,toll:q,returnToll:Pe,paymentMethod:$e,nonCashAmount:te,rideType:Re,timestamp:ot,pickupLocation:Z,dropoffLocation:ae,pickupCoords:ge,dropoffCoords:se,passengersMale:xe,passengersFemale:pe,remarks:Te,isBadCustomer:ke})}}return V==null||V(100,100,""),{records:P,success:P.length>0}},v=async k=>{var L;const R=(L=k.target.files)==null?void 0:L[0];if(R){a(!0),c({current:0,total:100,message:"..."}),u(null);try{const G=n,V=s.length>0?s:["CASH","CARD","NET","TICKET","E_MONEY","TRANSPORT","QR","DIDI","GO","UBER","PAYPAY","LINEPAY","IC","CREDIT"],O=R.name.toLowerCase();if(O.endsWith(".xlsx")||O.endsWith(".xls")){const B=await g(R,G,V,(W,P,N)=>{c({current:W,total:P,message:N})});if(B.records.length>0){const W=t&&p?p:void 0;c({current:90,total:100,message:"..."});const P=await r(B.records,W,{mergeMode:"overwrite"},(N,D,C)=>{c({current:90+Math.floor(N/D*10),total:100,message:C})});u(P),c({current:100,total:100,message:""})}else alert(""),a(!1)}else{let B=await R.text();const W=!O.endsWith(".csv")||B.includes("");if(W){c({current:5,total:100,message:"Shift-JIS..."});const D=await R.arrayBuffer();B=new TextDecoder("shift-jis").decode(D)}const{records:P,success:N}=w(B,W,G,V,(D,C,S)=>{c({current:D,total:C,message:S})});if(N&&P.length>0){const D=t&&p?p:void 0;c({current:90,total:100,message:"..."});const C=await r(P,D,{mergeMode:"overwrite"},(S,T,A)=>{c({current:90+Math.floor(S/T*10),total:100,message:A})});u(C),c({current:100,total:100,message:""})}else alert("CSVCSV"),a(!1)}}catch(G){console.error("Import error:",G),alert(""),a(!1)}finally{setTimeout(()=>{a(!1),c({current:0,total:0,message:""}),u(null),k.target.value=""},3e3)}}};return y.jsxs("div",{className:"space-y-4",children:[o&&!i&&y.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/80 backdrop-blur-sm animate-in fade-in",children:y.jsx("div",{className:"bg-[#131C2B] rounded-3xl p-6 max-w-md w-full mx-4 border-2 border-green-500/30 shadow-2xl",children:y.jsxs("div",{className:"flex flex-col items-center gap-4",children:[y.jsx(K0,{className:"w-16 h-16 text-green-500"}),y.jsx("h3",{className:"text-2xl font-black text-white",children:""}),y.jsxs("div",{className:"w-full space-y-2",children:[y.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-700",children:[y.jsx("span",{className:"text-gray-400 font-bold",children:""}),y.jsxs("span",{className:"text-white font-black text-xl",children:[o.addedCount,""]})]}),y.jsxs("div",{className:"flex justify-between items-center py-2",children:[y.jsx("span",{className:"text-gray-400 font-bold",children:""}),y.jsxs("span",{className:"text-white font-black text-xl",children:[o.replaceCount,""]})]})]}),y.jsx("button",{onClick:()=>{u(null),a(!1),c({current:0,total:0,message:""})},className:"w-full bg-green-500 text-black py-3 rounded-2xl font-black text-lg active:scale-95 transition-all",children:""})]})})}),y.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-2xl border border-gray-800",children:[y.jsxs("div",{className:"flex items-center justify-between mb-3",children:[y.jsx("h4",{className:"text-sm font-black text-gray-400 uppercase tracking-widest",children:"CSV / Excel"}),y.jsxs("button",{onClick:d,className:"text-xs bg-blue-600/20 text-blue-400 font-black px-3 py-1.5 rounded-full border border-blue-500/20 active:scale-95 flex items-center gap-1",children:[y.jsx(K4,{className:"w-3 h-3"}),""]})]}),t&&e.length>0&&y.jsxs("div",{className:"mb-3",children:[y.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest block mb-2",children:""}),y.jsxs("select",{value:p,onChange:k=>h(k.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-xl p-2 text-white text-sm font-black outline-none focus:border-blue-500",children:[y.jsx("option",{value:"",children:""}),e.map(k=>y.jsx("option",{value:k.uid,children:k.name},k.uid))]})]}),i&&y.jsxs("div",{className:"mb-4 space-y-2",children:[y.jsx("div",{className:"w-full bg-gray-800 rounded-full h-3 overflow-hidden",children:y.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-green-500 transition-all duration-300 ease-out",style:{width:`${l.current/l.total*100}%`}})}),y.jsxs("div",{className:"flex justify-between items-center text-xs",children:[y.jsx("span",{className:"text-gray-400 font-bold",children:l.message}),y.jsxs("span",{className:"text-gray-500 font-black",children:[l.current,"%"]})]})]}),y.jsxs("label",{className:"relative block",children:[y.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",onChange:v,disabled:i,className:"hidden"}),y.jsx("div",{className:`w-full py-4 rounded-xl border-2 border-dashed transition-all flex flex-col items-center justify-center gap-2 cursor-pointer ${i?"bg-gray-800 border-gray-700 cursor-not-allowed":"bg-gray-800/50 border-blue-500/30 hover:border-blue-500/50 active:scale-95"}`,children:i?y.jsxs(y.Fragment,{children:[y.jsx(Al,{className:"w-6 h-6 text-blue-400 animate-spin"}),y.jsx("span",{className:"text-sm font-bold text-gray-400",children:l.message})]}):y.jsxs(y.Fragment,{children:[y.jsx(Z4,{className:"w-6 h-6 text-blue-400"}),y.jsx("span",{className:"text-sm font-black text-white",children:"CSV / Excel"}),y.jsx("span",{className:"text-xs text-gray-500",children:"CSV: Shift-JIS / UTF-8 | Excel: .xlsx / .xls"})]})})]})]})]})},ez=({onClose:r,onImport:t,isAdmin:e,currentUid:n})=>{const[s,i]=_e.useState([]);return _e.useEffect(()=>{e&&(async()=>{try{const c=(await Zr(Gr(Pt,"public_status"))).docs.map(o=>({uid:o.id,name:o.data().name||""})).filter(o=>o.uid!==n);i(c)}catch(l){console.error("Failed to fetch users",l)}})()},[e,n]),y.jsx(ea,{onClose:r,children:y.jsxs("div",{className:"space-y-6 pb-6",children:[y.jsxs("div",{className:"flex justify-between items-center border-b border-gray-800 pb-4",children:[y.jsxs("h3",{className:"text-xl font-black text-white flex items-center gap-2",children:[y.jsx(Z4,{className:"w-6 h-6 text-blue-400"})," CSV"]}),y.jsx("button",{onClick:r,className:"p-2 bg-gray-800 rounded-full text-gray-400 hover:text-white active:scale-95",children:y.jsx(Vn,{className:"w-5 h-5"})})]}),y.jsx(xS,{onImport:t,isAdmin:e,users:s})]})})},tz=({stats:r,isAdmin:t,onUpdateStats:e,onImportRecords:n,onClose:s,onImpersonate:i,onNavigateToDashboard:a,history:l=[]})=>{var Et;const[c,o]=_e.useState("basic"),[u,p]=_e.useState(r.shimebiDay.toString()),[h,d]=_e.useState(r.businessStartHour??9),[b,x]=_e.useState(r.monthlyGoal.toLocaleString()),[g,w]=_e.useState(r.defaultDailyGoal.toLocaleString()),[v,k]=_e.useState(r.dutyDays||[]),[R,L]=_e.useState(new Date),[G,V]=_e.useState(r.enabledPaymentMethods||Ef),[O,F]=_e.useState(r.customPaymentLabels||{}),[B,W]=_e.useState(r.userName||""),[P,N]=_e.useState(r.enabledRideTypes||Ol),[D,C]=_e.useState(r.visibilityMode||"PUBLIC"),[S,T]=_e.useState(r.allowedViewers||[]),[A,E]=_e.useState([]),[j,U]=_e.useState(""),[I,Q]=_e.useState(!1),[Y,ee]=_e.useState(r.followingUsers||[]),[q,te]=_e.useState(r.inputMode||"DETAILED"),[H,z]=_e.useState((r.plannedWorkDays||0).toString()),[Z,ae]=_e.useState((r.dailyGoalSimple||0).toLocaleString()),[re,le]=_e.useState((r.workingHours||0).toString()),[de,ve]=_e.useState(!1),[ge,se]=_e.useState(null),[xe,pe]=_e.useState(!1),[Te,ke]=_e.useState([]);_e.useEffect(()=>{(async()=>{var rt;try{const ft=(await Zr(Gr(Pt,"public_status"))).docs.map(At=>{const wt=At.data();return{uid:At.id,name:wt.name||"",visibilityMode:wt.visibilityMode,allowedViewers:wt.allowedViewers||[]}}).filter(At=>{var wt;return At.uid!==(r.uid||((wt=hr.currentUser)==null?void 0:wt.uid))}),Mt=r.uid||((rt=hr.currentUser)==null?void 0:rt.uid);console.log("[SettingsModal] Fetched users:",ft.map(At=>({uid:At.uid,name:At.name,visibilityMode:At.visibilityMode,allowedViewers:At.allowedViewers}))),console.log("[SettingsModal] Current user uid:",Mt),E(ft)}catch(pt){console.error("Failed to fetch users",pt)}})();const Ce=fs(Gr(Pt,"public_status"),rt=>{const pt=rt.docs.map(ft=>{const Mt=ft.data();return{uid:ft.id,name:Mt.name||"",visibilityMode:Mt.visibilityMode,allowedViewers:Mt.allowedViewers||[]}}).filter(ft=>ft.uid!==r.uid);E(pt)});return()=>Ce()},[r.uid]),_e.useEffect(()=>{c==="admin"&&t&&(async()=>{try{const Ce=Hr(Gr(Pt,"public_status"),un("lastUpdated","desc")),rt=await Zr(Ce);ke(rt.docs.map(pt=>({uid:pt.id,...pt.data()})))}catch(Ce){console.error("Admin fetch failed",Ce)}})()},[c,t]);const Re=_e.useMemo(()=>{const Oe=parseInt(u),Ce=isNaN(Oe)?20:Oe,{start:rt,end:pt}=$t(R,Ce,h),ft=rt.getFullYear(),Mt=rt.getMonth(),At=new Date(ft,Mt,rt.getDate()),wt=new Date(At),ze=At.getDay();wt.setDate(wt.getDate()-ze);const ht=new Date(ft,pt.getMonth(),pt.getDate()),Qe=new Date(ht),Ee=ht.getDay();Qe.setDate(Qe.getDate()+(6-Ee));const Ve=[],et=new Date(wt);for(let ce=0;ce<35;ce++)Ve.push(new Date(et)),et.setDate(et.getDate()+1);return Ve},[R,u,h]),$e=_e.useMemo(()=>{const Oe=parseInt(u),Ce=isNaN(Oe)?20:Oe,{end:rt}=$t(R,Ce,h);return`${rt.getFullYear()} / ${String(rt.getMonth()+1).padStart(2,"0")}`},[R,u,h]),Pe=_e.useMemo(()=>{const Oe={},Ce={};return l.forEach(rt=>{const pt=It(rt.timestamp,h);Ce[pt]||(Ce[pt]=[]),Ce[pt].push(rt)}),Object.keys(Ce).forEach(rt=>{const pt=Ce[rt];pt.some(Mt=>{var At;return(At=Mt.remarks)==null?void 0:At.includes("")})?pt.filter(At=>{var wt;return(wt=At.remarks)==null?void 0:wt.includes("")}).length>0&&(Oe[rt]=!0):pt.filter(At=>{var wt;return!((wt=At.remarks)!=null&&wt.includes(""))}).length>0&&(Oe[rt]=!0)}),Oe},[l,h]),Je=_e.useMemo(()=>{const Oe=parseInt(u),Ce=isNaN(Oe)?20:Oe,{start:rt,end:pt}=$t(R,Ce,h),ft=Bt(rt),Mt=Bt(pt),At=It(Date.now(),h),wt=new Set;return Re.forEach(ze=>{const ht=new Date(ze);ht.setHours(h,0,0,0);const Qe=It(ht.getTime(),h),Ee=Qe>=ft&&Qe<=Mt,Ve=Qe<At,et=Pe[Qe]||!1,ce=v.includes(Qe);Ee&&(Ve&&et||!Ve&&ce)&&wt.add(Qe)}),wt.size},[Re,v,R,u,h,Pe]),Ze=Oe=>{const Ce=It(Date.now(),h);if(Oe<Ce)return;const pt=parseInt(u),ft=isNaN(pt)?20:pt,{start:Mt,end:At}=$t(R,ft,h),wt=Bt(Mt),ze=Bt(At);Oe>=wt&&Oe<=ze&&k(Qe=>{const Ee=Qe.filter(et=>et<wt||et>ze),Ve=Qe.filter(et=>et>=wt&&et<=ze);return Ve.includes(Oe)?[...Ee,...Ve.filter(et=>et!==Oe)]:[...Ee,...Ve,Oe]})},Ye=Oe=>{V(Ce=>Ce.includes(Oe)?Ce.filter(rt=>rt!==Oe):[...Ce,Oe])},Xe=Oe=>{N(Ce=>Ce.includes(Oe)?Ce.filter(rt=>rt!==Oe):[...Ce,Oe])},ut=(Oe,Ce)=>{F(rt=>({...rt,[Oe]:Ce}))},ot=(Oe,Ce)=>{const rt=[...G],pt=Ce==="up"?Oe-1:Oe+1;if(pt<0||pt>=rt.length)return;const ft=rt[Oe];rt[Oe]=rt[pt],rt[pt]=ft,V(rt)},je=Oe=>{T(Ce=>Ce.includes(Oe)?Ce.filter(rt=>rt!==Oe):[...Ce,Oe])},He=Oe=>{ee(Ce=>Ce.includes(Oe)?Ce.filter(rt=>rt!==Oe):[...Ce,Oe])},Ne=()=>{const Oe=parseInt(u),Ce=isNaN(Oe)?20:Oe,{start:rt,end:pt}=$t(R,Ce,h),ft=Bt(rt),Mt=Bt(pt),At=[];let wt=new Date(rt);for(;wt<=pt;){const ze=wt.getDay();if(ze!==0&&ze!==6){const ht=new Date(wt);ht.setHours(h,0,0,0);const Qe=It(ht.getTime(),h);At.push(Qe)}wt.setDate(wt.getDate()+1)}k(ze=>[...ze.filter(Qe=>Qe<ft||Qe>Mt),...At])},Ie=A.filter(Oe=>Oe.name.toLowerCase().includes(j.toLowerCase())),lt=r.uid||((Et=hr.currentUser)==null?void 0:Et.uid),Ue=Oe=>{if(!lt)return console.warn("[SettingsModal] currentUserId is undefined, cannot filter by visibility"),Oe;const Ce=Oe.filter(rt=>{if(t)return console.log(`[SettingsModal] Admin user, showing ${rt.uid} (${rt.name})`),!0;const pt=rt.visibilityMode||"PUBLIC";if(pt==="PRIVATE")return console.log(`[SettingsModal] User ${rt.uid} (${rt.name}) is PRIVATE, hiding`),!1;if(pt==="PUBLIC")return console.log(`[SettingsModal] User ${rt.uid} (${rt.name}) is PUBLIC, showing`),!0;if(pt==="CUSTOM"){const ft=rt.allowedViewers||[],Mt=ft.includes(lt);return console.log(`[SettingsModal] User ${rt.uid} (${rt.name}) is CUSTOM, allowedViewers=${JSON.stringify(ft)}, currentUser=${lt}, isAllowed=${Mt}`),Mt}return!0});return console.log(`[SettingsModal] Filtered users: ${Ce.length} out of ${Oe.length}, currentUser=${lt}, isAdmin=${t}`),Ce},We=Ue(Ie),bt=Ue(Ie),yt=async()=>{if(!ge)return;const Oe=parseInt(u);e({inputMode:ge,shimebiDay:isNaN(Oe)?20:Oe,businessStartHour:h,monthlyGoal:Cn(b),defaultDailyGoal:Cn(g),dutyDays:v,enabledPaymentMethods:G,customPaymentLabels:O,enabledRideTypes:P,visibilityMode:D,allowedViewers:S,followingUsers:Y}),te(ge),ve(!1),se(null),ge==="SIMPLE"&&a&&(s(),setTimeout(()=>a(),100))},nt=()=>{const Oe=parseInt(u);e({shimebiDay:isNaN(Oe)?20:Oe,businessStartHour:h,monthlyGoal:Cn(b),defaultDailyGoal:Cn(g),dutyDays:v,enabledPaymentMethods:G,customPaymentLabels:O,userName:B,enabledRideTypes:P,visibilityMode:D,allowedViewers:S,followingUsers:Y,inputMode:q==="DETAILED"?"DETAILED":r.inputMode}),s()};return It(Date.now(),h),console.log("[SettingsModal] Rendering modal, activeTab:",c),y.jsxs(ea,{onClose:s,children:[y.jsxs("div",{className:"space-y-6 pb-6 bg-[#131C2B]",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("h3",{className:"text-xl font-black text-white flex items-center gap-2",children:[y.jsx(V1,{className:"w-6 h-6 text-gray-400"})," "]}),y.jsx("button",{onClick:s,className:"p-2 bg-gray-800 rounded-full text-gray-400 hover:text-white active:scale-95",children:y.jsx(Vn,{className:"w-5 h-5"})})]}),y.jsxs("div",{className:"flex gap-2 bg-gray-900/50 p-1 rounded-xl",children:[y.jsx("button",{onClick:()=>o("basic"),className:`flex-1 py-2 rounded-lg text-sm font-bold transition-all ${c==="basic"?"bg-gray-700 text-white shadow":"text-gray-500"}`,children:""}),y.jsx("button",{onClick:()=>o("display"),className:`flex-1 py-2 rounded-lg text-sm font-bold transition-all ${c==="display"?"bg-gray-700 text-white shadow":"text-gray-500"}`,children:""}),t&&y.jsx("button",{onClick:()=>o("admin"),className:`flex-1 py-2 rounded-lg text-sm font-bold transition-all ${c==="admin"?"bg-purple-900/50 text-purple-300 shadow border border-purple-500/30":"text-gray-500"}`,children:""})]}),y.jsxs("div",{className:"overflow-y-auto max-h-[60vh] space-y-6 pr-1 custom-scrollbar",children:[y.jsxs("div",{className:`bg-gray-800 p-5 rounded-3xl border-2 ${q==="DETAILED"?"border-blue-500":"border-gray-700"} space-y-3`,children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("label",{className:"text-sm font-bold text-gray-400 block uppercase tracking-widest",children:""}),y.jsx("button",{onClick:()=>pe(!0),className:"p-2 text-gray-400 hover:text-blue-400 transition-colors",children:y.jsx(Q4,{className:"w-5 h-5"})})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[y.jsx("button",{onClick:()=>{q!=="DETAILED"&&(se("DETAILED"),ve(!0))},className:`p-3 rounded-2xl border-2 transition-all ${q==="DETAILED"?"border-blue-500 bg-blue-500/10 text-blue-400":"border-gray-600 bg-gray-800 text-gray-500 hover:border-gray-500"}`,children:y.jsx("div",{className:"text-xs font-black whitespace-nowrap leading-tight",children:""})}),y.jsx("button",{onClick:()=>{q!=="SIMPLE"&&(se("SIMPLE"),ve(!0))},className:`p-3 rounded-2xl border-2 transition-all ${q==="SIMPLE"?"border-orange-500 bg-orange-500/10 text-orange-400":"border-gray-600 bg-gray-800 text-gray-500 hover:border-gray-500"}`,children:y.jsx("div",{className:"text-xs font-black whitespace-nowrap leading-tight",children:""})})]})]}),c==="basic"&&q!=="SIMPLE"&&y.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-2 duration-200",children:[y.jsxs("div",{className:`bg-gray-800 p-5 rounded-3xl border-2 ${q==="DETAILED"?"border-blue-500":"border-gray-700"} space-y-3`,children:[y.jsxs("label",{className:"text-sm font-bold text-gray-400 block uppercase tracking-widest flex items-center gap-2",children:[y.jsx(Ll,{className:"w-4 h-4"})," "]}),y.jsx("input",{type:"text",value:B,onChange:Oe=>W(Oe.target.value),placeholder:"",className:"bg-white text-gray-900 font-black w-full outline-none p-3 rounded-2xl border-2 border-gray-700"})]}),y.jsxs("div",{className:`bg-gray-800 p-5 rounded-3xl border-2 ${q==="DETAILED"?"border-blue-500":"border-gray-700"} space-y-5`,children:[y.jsx("label",{className:"text-lg font-black text-gray-500 uppercase tracking-widest block",children:""}),y.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-bold text-gray-400 mb-2 block uppercase tracking-widest",children:""}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("span",{className:"text-2xl font-black text-blue-400",children:""}),y.jsx("input",{type:"text",inputMode:"numeric",value:b,onChange:Oe=>x($o(Oe.target.value)),className:"bg-white text-gray-900 text-[clamp(1.6rem,6vw,2.2rem)] font-black w-full outline-none p-3 rounded-2xl border-2 border-gray-700"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-bold text-gray-400 mb-2 block uppercase tracking-widest",children:""}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("span",{className:"text-2xl font-black text-amber-400",children:""}),y.jsx("input",{type:"text",inputMode:"numeric",value:g,onChange:Oe=>w($o(Oe.target.value)),className:"bg-white text-gray-900 text-[clamp(1.6rem,6vw,2.2rem)] font-black w-full outline-none p-3 rounded-2xl border-2 border-gray-700"})]})]})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[y.jsxs("div",{className:`bg-gray-800 p-4 rounded-2xl border-2 ${q==="DETAILED"?"border-blue-500":"border-gray-700"} relative`,children:[y.jsx("label",{className:"text-lg font-bold text-gray-400 mb-2 block uppercase tracking-widest",children:""}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsxs("select",{value:u,onChange:Oe=>p(Oe.target.value),className:"bg-white text-gray-900 text-2xl font-black w-full outline-none p-2 rounded-xl border-2 border-gray-700 appearance-none cursor-pointer",children:[y.jsx("option",{value:"0",children:""}),Array.from({length:28}).map((Oe,Ce)=>y.jsxs("option",{value:Ce+1,children:[Ce+1,""]},Ce+1))]}),y.jsx(As,{className:"absolute right-6 top-12 pointer-events-none text-gray-500 w-6 h-6"})]})]}),y.jsxs("div",{className:`bg-gray-800 p-4 rounded-2xl border-2 ${q==="DETAILED"?"border-blue-500":"border-gray-700"} relative`,children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx("label",{className:"text-lg font-bold text-gray-400 block uppercase tracking-widest text-nowrap",children:""}),y.jsx("button",{onClick:()=>Q(!0),className:"p-1 text-gray-400 hover:text-blue-500 transition-colors",type:"button",children:y.jsx(p0,{className:"w-4 h-4"})})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("select",{value:h,onChange:Oe=>d(parseInt(Oe.target.value)),className:"bg-white text-gray-900 text-2xl font-black w-full outline-none p-2 rounded-xl border-2 border-gray-700 appearance-none cursor-pointer",children:Array.from({length:24}).map((Oe,Ce)=>y.jsxs("option",{value:Ce,children:[String(Ce).padStart(2,"0"),":00"]},Ce))}),y.jsx(As,{className:"absolute right-6 top-12 pointer-events-none text-gray-500 w-6 h-6"})]})]})]}),y.jsxs("div",{className:`bg-gray-800 p-5 rounded-3xl border-2 ${q==="DETAILED"?"border-blue-500":"border-gray-700"} shadow-inner`,children:[y.jsxs("div",{className:"flex flex-col mb-4",children:[y.jsx("div",{className:"flex justify-between items-center mb-4",children:y.jsxs("h3",{className:"text-xl font-black text-white flex items-center gap-2",children:[y.jsx(Oo,{className:"w-6 h-6 text-yellow-500"})," "]})}),y.jsxs("div",{className:"mt-4 bg-gray-800 rounded-xl p-4 border-2 border-orange-500/50",children:[y.jsx("div",{className:"text-sm text-gray-400 mb-1",children:""}),y.jsxs("div",{className:"text-2xl font-black text-white",children:[Je," "]})]}),y.jsxs("div",{className:"mt-4 flex items-center justify-between bg-gray-950 rounded-2xl p-2 border-2 border-gray-700",children:[y.jsx("button",{onClick:()=>{const Oe=parseInt(u),Ce=isNaN(Oe)?20:Oe,{start:rt}=$t(R,Ce,h),pt=new Date(rt);pt.setMonth(pt.getMonth()-1);const{start:ft}=$t(pt,Ce,h);L(ft)},className:"p-3 text-gray-400 active:scale-90",children:y.jsx(Ha,{className:"w-6 h-6"})}),y.jsx("span",{className:"text-xl font-black text-white",children:$e}),y.jsx("button",{onClick:()=>{const Oe=parseInt(u),Ce=isNaN(Oe)?20:Oe,{start:rt}=$t(R,Ce,h),pt=new Date(rt);pt.setMonth(pt.getMonth()+1);const{start:ft}=$t(pt,Ce,h);L(ft)},className:"p-3 text-gray-400 active:scale-90",children:y.jsx(Us,{className:"w-6 h-6"})})]})]}),y.jsx("div",{className:"grid grid-cols-7 gap-2 mb-2",children:["","","","","","",""].map(Oe=>y.jsx("div",{className:"text-center text-sm font-bold text-gray-400",children:Oe},Oe))}),y.jsx("div",{className:"grid grid-cols-7 gap-2",children:Re.map(Oe=>{const Ce=new Date(Oe);Ce.setHours(h,0,0,0);const rt=It(Ce.getTime(),h),pt=Bt(Oe),ft=v.includes(rt),Mt=It(Date.now(),h),At=rt===Mt,wt=rt<Mt,ze=Pe[rt]||!1,ht=wt&&ze,Qe=!wt||!ze;return y.jsx("button",{onClick:()=>Ze(rt),disabled:ht,className:`aspect-square rounded-xl flex items-center justify-center transition-all ${wt&&ze?"bg-yellow-500 text-gray-900 font-black cursor-not-allowed":wt&&!ze?"bg-gray-800/50 text-gray-500":ft?"bg-orange-500 text-gray-900 font-black":"bg-gray-800 text-white font-bold hover:bg-gray-700"} ${At?"ring-2 ring-orange-500":""} ${Qe?"active:scale-95":""}`,children:y.jsx("span",{className:"text-base",children:Oe.getDate()})},pt)})}),y.jsxs("button",{onClick:Ne,className:"w-full mt-4 py-3 bg-gray-800 border border-gray-700 rounded-xl text-sm font-bold text-gray-400 hover:bg-gray-700 active:scale-95 transition-all flex items-center justify-center gap-2",children:[y.jsx(Oo,{className:"w-4 h-4"})," (20)"]})]})]}),c==="display"&&y.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-2 duration-200",children:[y.jsxs("div",{className:`bg-gray-800 p-5 rounded-3xl border-2 ${q==="DETAILED"?"border-blue-500":"border-gray-700"} space-y-4`,children:[y.jsxs("label",{className:"text-lg font-black text-gray-500 uppercase tracking-widest block flex items-center gap-2",children:[y.jsx(Qg,{className:"w-5 h-5"})," "]}),y.jsx("div",{className:"p-3 bg-blue-900/10 border border-blue-500/20 rounded-xl text-[15px] text-blue-300 mb-2",children:y.jsx("p",{children:""})}),y.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[y.jsxs("button",{onClick:()=>C("PUBLIC"),className:`flex flex-col items-center gap-2 p-3 rounded-xl border transition-all ${D==="PUBLIC"?"bg-green-500/10 border-green-500 text-green-400":"bg-gray-800 border-gray-700 text-gray-500 hover:bg-gray-700"}`,children:[y.jsx(J4,{size:24}),y.jsxs("div",{className:"text-center",children:[y.jsx("p",{className:"text-xs font-bold",children:""}),y.jsx("p",{className:"text-[9px] opacity-70",children:""})]})]}),y.jsxs("button",{onClick:()=>C("CUSTOM"),className:`flex flex-col items-center gap-2 p-3 rounded-xl border transition-all ${D==="CUSTOM"?"bg-amber-500/10 border-amber-500 text-amber-400":"bg-gray-800 border-gray-700 text-gray-500 hover:bg-gray-700"}`,children:[y.jsx(jl,{size:24}),y.jsxs("div",{className:"text-center",children:[y.jsx("p",{className:"text-xs font-bold",children:""}),y.jsx("p",{className:"text-[9px] opacity-70",children:""})]})]}),y.jsxs("button",{onClick:()=>C("PRIVATE"),className:`flex flex-col items-center gap-2 p-3 rounded-xl border transition-all ${D==="PRIVATE"?"bg-red-500/10 border-red-500 text-red-400":"bg-gray-800 border-gray-700 text-gray-500 hover:bg-gray-700"}`,children:[y.jsx(Qg,{size:24}),y.jsxs("div",{className:"text-center",children:[y.jsx("p",{className:"text-xs font-bold",children:""}),y.jsx("p",{className:"text-[9px] opacity-70",children:""})]})]})]}),D==="CUSTOM"&&y.jsxs("div",{className:"bg-gray-950 p-4 rounded-xl border border-gray-800 space-y-3 animate-in fade-in slide-in-from-top-2",children:[y.jsxs("div",{className:"flex items-center gap-2 bg-gray-900 p-2 rounded-lg border border-gray-700",children:[y.jsx(Zv,{size:16,className:"text-gray-500"}),y.jsx("input",{type:"text",placeholder:"...",value:j,onChange:Oe=>U(Oe.target.value),className:"bg-transparent text-sm text-white w-full focus:outline-none"})]}),y.jsx("div",{className:"max-h-48 overflow-y-auto space-y-1 custom-scrollbar",children:We.length>0?We.map(Oe=>{const Ce=S.includes(Oe.uid);return y.jsxs("div",{onClick:()=>je(Oe.uid),className:`flex items-center justify-between p-3 rounded-lg cursor-pointer transition-colors border ${Ce?"bg-amber-500/10 border-amber-500/30":"bg-gray-900 border-gray-800 hover:bg-gray-800"}`,children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:`p-1.5 rounded-full ${Ce?"bg-amber-500 text-black":"bg-gray-800 text-gray-500"}`,children:Ce?y.jsx(i9,{size:14}):y.jsx(l9,{size:14})}),y.jsx("span",{className:`text-sm font-bold ${Ce?"text-white":"text-gray-500"}`,children:Oe.name})]}),Ce&&y.jsx(t0,{size:16,className:"text-amber-500"})]},Oe.uid)}):y.jsx("p",{className:"text-center text-[10px] text-gray-600 py-4",children:""})}),y.jsxs("p",{className:"text-[10px] text-gray-500 text-right",children:[" ",S.length," "]})]})]}),y.jsxs("div",{className:`bg-gray-800 p-5 rounded-3xl border-2 ${q==="DETAILED"?"border-blue-500":"border-gray-700"} space-y-4`,children:[y.jsxs("label",{className:"text-lg font-black text-gray-500 uppercase tracking-widest block flex items-center gap-2",children:[y.jsx(jl,{className:"w-5 h-5"})," "]}),y.jsxs("div",{className:"p-3 bg-gray-800/50 border border-gray-700 rounded-xl text-[15px] text-gray-400 mb-2",children:[y.jsx("p",{children:""}),y.jsx("p",{children:""})]}),y.jsxs("div",{className:"bg-gray-950 p-4 rounded-xl border border-gray-800 space-y-3",children:[y.jsxs("div",{className:"flex items-center gap-2 bg-gray-900 p-2 rounded-lg border border-gray-700",children:[y.jsx(Zv,{size:16,className:"text-gray-500"}),y.jsx("input",{type:"text",placeholder:"...",value:j,onChange:Oe=>U(Oe.target.value),className:"bg-transparent text-sm text-white w-full focus:outline-none"})]}),y.jsx("div",{className:"max-h-48 overflow-y-auto space-y-1 custom-scrollbar",children:bt.length>0?bt.map(Oe=>{const Ce=Y.includes(Oe.uid);return y.jsxs("div",{onClick:()=>He(Oe.uid),className:`flex items-center justify-between p-3 rounded-lg cursor-pointer transition-colors border ${Ce?"bg-blue-500/10 border-blue-500/30":"bg-gray-900 border-gray-800 hover:bg-gray-800"}`,children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:`p-1.5 rounded-full ${Ce?"bg-blue-500 text-white":"bg-gray-800 text-gray-500"}`,children:Ce?y.jsx(t0,{size:14}):y.jsx(X4,{size:14})}),y.jsx("span",{className:`text-sm font-bold ${Ce?"text-white":"text-gray-500"}`,children:Oe.name})]}),Ce&&y.jsx("span",{className:"text-[10px] font-bold text-blue-400",children:""})]},Oe.uid)}):y.jsx("p",{className:"text-center text-[10px] text-gray-600 py-4",children:""})}),y.jsxs("p",{className:"text-[10px] text-gray-500 text-right",children:[" ",Y.length," "]})]})]}),q==="DETAILED"&&y.jsxs("div",{className:"bg-gray-800 p-5 rounded-3xl border-2 border-blue-500",children:[y.jsx("label",{className:"text-lg font-black text-gray-500 uppercase tracking-widest mb-2 block",children:""}),y.jsx("p",{className:"text-sm text-gray-400 mb-5",children:""}),y.jsx("div",{className:"space-y-3 mb-5",children:G.map((Oe,Ce)=>y.jsx("div",{className:"flex flex-col gap-2 bg-[#1A2536] border border-gray-700 p-3 rounded-2xl",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("input",{type:"text",value:O[Oe]!==void 0?O[Oe]:"",placeholder:Hs[Oe],onChange:rt=>ut(Oe,rt.target.value),className:"w-1/2 bg-gray-900 text-white text-lg font-black px-3 py-2 rounded-xl border border-gray-700 outline-none focus:border-blue-500"}),y.jsxs("div",{className:"flex-1 flex justify-end gap-2",children:[y.jsx("button",{onClick:()=>ot(Ce,"up"),disabled:Ce===0,className:"p-2 bg-gray-800 rounded-xl text-gray-400 disabled:opacity-20 active:scale-90",children:y.jsx(G4,{className:"w-5 h-5"})}),y.jsx("button",{onClick:()=>ot(Ce,"down"),disabled:Ce===G.length-1,className:"p-2 bg-gray-800 rounded-xl text-gray-400 disabled:opacity-20 active:scale-90",children:y.jsx($4,{className:"w-5 h-5"})}),y.jsx("button",{onClick:()=>Ye(Oe),className:"p-2 bg-red-500/20 text-red-500 rounded-xl active:scale-90",children:y.jsx(Vn,{className:"w-5 h-5"})})]})]})},Oe))}),y.jsxs("div",{className:"border-t border-gray-800 pt-4",children:[y.jsx("p",{className:"text-sm font-bold text-gray-500 uppercase mb-4 tracking-widest",children:""}),y.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.keys(Hs).filter(Oe=>!G.includes(Oe)).map(Oe=>y.jsxs("button",{onClick:()=>Ye(Oe),className:"p-3 bg-gray-800/50 border border-gray-700 rounded-2xl text-gray-500 text-base font-bold active:scale-95 text-left flex items-center justify-between",children:[y.jsx("span",{className:"truncate mr-1",children:O[Oe]||Hs[Oe]}),y.jsx(t0,{className:"w-5 h-5 opacity-10 flex-shrink-0"})]},Oe))})]})]}),q==="DETAILED"&&y.jsxs("div",{className:"bg-gray-800 p-5 rounded-3xl border-2 border-blue-500",children:[y.jsxs("label",{className:"text-lg font-black text-gray-500 uppercase tracking-widest mb-2 block flex items-center gap-2",children:[y.jsx(za,{className:"w-5 h-5"})," "]}),y.jsx("p",{className:"text-sm text-gray-400 mb-3",children:""}),y.jsx("div",{className:"grid grid-cols-3 gap-2",children:Ol.map(Oe=>y.jsx("button",{onClick:()=>Xe(Oe),className:`p-2 rounded-xl text-xs font-bold border transition-all ${P.includes(Oe)?"bg-amber-500 text-black border-amber-400":"bg-gray-800 text-gray-500 border-gray-700"}`,children:Qi[Oe]},Oe))})]})]}),c==="admin"&&t&&y.jsx("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-2 duration-200",children:y.jsxs("div",{className:"bg-purple-900/20 p-4 rounded-2xl border border-purple-500/30",children:[y.jsxs("h4",{className:"text-sm font-black text-purple-300 mb-3 flex items-center gap-2",children:[y.jsx(jl,{className:"w-4 h-4"}),"  ()"]}),y.jsxs("p",{className:"text-[10px] text-gray-400 mb-4",children:["",y.jsx("br",{}),y.jsx("span",{className:"text-red-400 font-bold",children:""})]}),y.jsx("div",{className:"space-y-2 max-h-[300px] overflow-y-auto custom-scrollbar",children:Te.map(Oe=>y.jsxs("button",{onClick:()=>i&&i(Oe.uid),className:"w-full bg-gray-900 hover:bg-gray-800 p-3 rounded-xl flex justify-between items-center border border-gray-700 active:scale-95 transition-all",children:[y.jsxs("div",{className:"text-left",children:[y.jsx("span",{className:"block text-sm font-bold text-white",children:Oe.name||""}),y.jsx("span",{className:"text-[10px] text-gray-500",children:Oe.uid})]}),y.jsx("div",{className:"text-right",children:y.jsx("span",{className:"text-[10px] bg-gray-800 px-2 py-1 rounded text-gray-400",children:Oe.lastUpdated?new Date(Oe.lastUpdated).toLocaleDateString():"-"})})]},Oe.uid))})]})}),t&&n&&y.jsx("div",{className:"pt-4 border-t border-gray-800 animate-in fade-in",children:y.jsx(xS,{onImport:n,isAdmin:t,users:A,customPaymentLabels:r.customPaymentLabels,enabledPaymentMethods:r.enabledPaymentMethods})})]}),c!=="admin"&&y.jsx("button",{onClick:nt,className:"w-full bg-amber-500 py-4 rounded-2xl font-black text-2xl text-black shadow-lg active:scale-95 transition-transform mt-5",children:""}),c==="basic"&&q==="SIMPLE"&&y.jsx("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-2 duration-200 mt-4",children:y.jsxs("div",{className:"bg-orange-900/20 p-5 rounded-3xl border border-orange-500/30 space-y-3",children:[y.jsx("div",{className:"text-center text-orange-300 font-black text-base",children:""}),y.jsx("div",{className:"text-xs text-orange-200 text-center",children:""})]})}),de&&ge&&y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm",children:y.jsxs("div",{className:"bg-[#131C2B] p-6 rounded-3xl space-y-6 max-w-md w-full mx-4",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("h3",{className:"text-xl font-black text-white",children:[ge==="DETAILED"?"":"",""]}),y.jsx("button",{onClick:()=>{ve(!1),se(null)},className:"p-2 bg-gray-800 rounded-full text-gray-400 hover:text-white active:scale-95",children:y.jsx(Vn,{className:"w-5 h-5"})})]}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{onClick:()=>{ve(!1),se(null)},className:"flex-1 py-3 bg-gray-800 text-gray-300 font-bold rounded-xl border border-gray-700 hover:bg-gray-700 transition-colors",children:""}),y.jsx("button",{onClick:yt,className:"flex-1 py-3 bg-orange-500 text-white font-black rounded-xl hover:bg-orange-600 active:scale-95 transition-all",children:""})]})]})}),xe&&y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm",children:y.jsxs("div",{className:"bg-[#131C2B] p-6 rounded-3xl space-y-6 max-w-md w-full mx-4 max-h-[80vh] overflow-y-auto",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("h3",{className:"text-xl font-black text-white flex items-center gap-2",children:[y.jsx(p0,{className:"w-6 h-6 text-blue-400"})," "]}),y.jsx("button",{onClick:()=>pe(!1),className:"p-2 bg-gray-800 rounded-full text-gray-400 hover:text-white active:scale-95",children:y.jsx(Vn,{className:"w-5 h-5"})})]}),y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"bg-gray-800 p-5 rounded-2xl border-2 border-blue-500",children:[y.jsx("h4",{className:"text-lg font-black text-blue-400 mb-3",children:""}),y.jsx("p",{className:"text-sm text-white leading-relaxed",children:"1"}),y.jsx("p",{className:"text-sm text-gray-300 leading-relaxed mt-2",children:""})]}),y.jsxs("div",{className:"bg-gray-800 p-5 rounded-2xl border-2 border-orange-500",children:[y.jsx("h4",{className:"text-lg font-black text-orange-400 mb-3",children:""}),y.jsx("p",{className:"text-sm text-white leading-relaxed",children:"1"}),y.jsx("p",{className:"text-sm text-gray-300 leading-relaxed mt-2",children:""})]})]}),y.jsx("button",{onClick:()=>pe(!1),className:"w-full py-4 bg-blue-500 text-white font-black rounded-xl hover:bg-blue-600 active:scale-95 transition-all",children:"OK"})]})}),y.jsx("div",{className:"pt-6 border-t border-gray-800",children:y.jsxs("button",{onClick:()=>{window.confirm("")&&BA(hr)},className:"w-full bg-red-900/20 text-red-500 font-bold py-3 rounded-xl border border-red-900/50 hover:bg-red-900/30 active:scale-[0.98] transition-all flex items-center justify-center gap-2",children:[y.jsx(e3,{className:"w-4 h-4"})," "]})})]}),I&&y.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/80 backdrop-blur-sm",children:y.jsxs("div",{className:"bg-[#131C2B] p-6 rounded-3xl space-y-6 max-w-md w-full mx-4",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("h3",{className:"text-xl font-black text-white flex items-center gap-2",children:[y.jsx(Go,{className:"w-6 h-6 text-blue-500"})," "]}),y.jsx("button",{onClick:()=>Q(!1),className:"p-2 bg-gray-800 rounded-full text-gray-400 hover:text-white active:scale-95",children:y.jsx(Vn,{className:"w-5 h-5"})})]}),y.jsx("div",{className:"space-y-4",children:y.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-xl border border-gray-700",children:[y.jsx("p",{className:"text-base text-gray-300 leading-relaxed",children:"1"}),y.jsx("p",{className:"text-sm text-gray-400 mt-3 leading-relaxed",children:"9119001285911"})]})}),y.jsx("button",{onClick:()=>Q(!1),className:"w-full bg-blue-500 rounded-xl py-4 font-black text-white text-lg hover:bg-blue-600 active:scale-95 transition-all",children:""})]})})]})},U4=({onSelect:r,onClose:t,isInitialLogin:e=!1})=>{const[n,s]=_e.useState(null),[i,a]=_e.useState(!1);_e.useEffect(()=>{e&&a(!0)},[e]);const l=()=>{a(!1),r("SIMPLE")},c=()=>{a(!1)},o=()=>{n&&r(n)};return i?y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:y.jsxs("div",{className:"bg-[#131C2B] rounded-2xl p-6 max-w-md w-full space-y-6 border border-amber-500/30 shadow-2xl animate-in fade-in duration-300",children:[y.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[y.jsx("div",{className:"bg-amber-500/20 rounded-full p-3",children:y.jsx(r3,{className:"w-6 h-6 text-amber-400"})}),y.jsx("h2",{className:"text-xl font-black text-white",children:""})]}),y.jsx("div",{className:"space-y-4",children:y.jsxs("p",{className:"text-base text-gray-200 leading-relaxed text-center",children:["",y.jsx("br",{}),"",y.jsx("strong",{className:"text-amber-400",children:""}),"",y.jsx("br",{}),"",y.jsx("br",{}),y.jsx("br",{}),"",y.jsx("br",{}),"",y.jsx("br",{}),"",y.jsx("br",{}),y.jsx("br",{}),y.jsx("strong",{className:"text-amber-400",children:""}),""]})}),y.jsxs("div",{className:"flex gap-3 pt-2",children:[y.jsx("button",{onClick:c,className:"flex-1 py-3 rounded-xl font-bold text-base bg-gray-700 text-gray-300 hover:bg-gray-600 transition-all active:scale-95",children:""}),y.jsx("button",{onClick:l,className:"flex-1 py-3 rounded-xl font-black text-base bg-amber-500 text-white hover:bg-amber-600 transition-all active:scale-95 shadow-lg shadow-amber-500/30",children:""})]})]})}):y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:y.jsxs("div",{className:"bg-[#131C2B] rounded-2xl p-6 max-w-md w-full space-y-6 border border-gray-700 shadow-2xl",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(p0,{className:"w-5 h-5 text-gray-400"}),y.jsx("h2",{className:"text-xl font-black text-white",children:e?"":""})]}),t&&y.jsx("button",{onClick:t,className:"p-1 text-gray-400 hover:text-white transition-colors",children:y.jsx(Vn,{className:"w-5 h-5"})})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("button",{onClick:()=>s("DETAILED"),className:`w-full p-4 rounded-xl border-2 transition-all text-left ${n==="DETAILED"?"border-blue-500 bg-blue-500/20 shadow-lg shadow-blue-500/20":"border-blue-500/30 bg-blue-500/5 hover:border-blue-500/50 hover:bg-blue-500/10"}`,children:[y.jsx("h3",{className:"text-base font-black text-white mb-2",children:""}),y.jsx("p",{className:"text-sm text-gray-300 leading-relaxed",children:"1"})]}),y.jsxs("button",{onClick:()=>s("SIMPLE"),className:`w-full p-4 rounded-xl border-2 transition-all text-left ${n==="SIMPLE"?"border-orange-500 bg-orange-500/20 shadow-lg shadow-orange-500/20":"border-orange-500/30 bg-orange-500/5 hover:border-orange-500/50 hover:bg-orange-500/10"}`,children:[y.jsx("h3",{className:"text-base font-black text-white mb-2",children:""}),y.jsx("p",{className:"text-sm text-gray-300 leading-relaxed",children:"1"})]})]}),y.jsx("p",{className:"text-xs text-gray-400 text-center",children:""}),y.jsx("button",{onClick:o,disabled:!n,className:`w-full py-4 rounded-xl font-black text-lg transition-all ${n?"bg-blue-500 text-white hover:bg-blue-600 active:scale-95":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:"OK"})]})})},rz=({stats:r,onUpdateStats:t,initialDate:e,initialRecordId:n,onClearInitialDate:s,onBack:i})=>{const[a,l]=_e.useState(()=>e?typeof e=="string"?new Date(e):e:new Date),[c,o]=_e.useState(""),[u,p]=_e.useState(""),[h,d]=_e.useState(""),[b,x]=_e.useState(""),[g,w]=_e.useState(""),[v,k]=_e.useState(""),[R,L]=_e.useState(""),[G,V]=_e.useState(""),[O,F]=_e.useState(!1),[B,W]=_e.useState(""),[P,N]=_e.useState(!1),[D,C]=_e.useState(!1),S=!!e&&!!n,T=r.businessStartHour??9,A=It(a.getTime(),T),E=async(Y,ee,q)=>{if(!ee||ee.length===0){console.log(`[SimpleInputView] No records to save for ${q}/${Y}/history`);return}console.log(`[SimpleInputView] Starting to save ${ee.length} records to ${q}/${Y}/history`),console.log("[SimpleInputView] Sample record IDs:",ee.slice(0,5).map(te=>te.id));try{const te=tr(Pt,q,Y);(await os(te)).exists()||(console.log(`[SimpleInputView] Parent document ${q}/${Y} does not exist, creating...`),await ln(te,{_created:new Date().toISOString()},{merge:!0}),console.log("[SimpleInputView]  Parent document created"));let z=0,Z=0;console.log(`[SimpleInputView] Saving ${ee.length} records to ${q}/${Y}/history using writeBatch`);const ae=500;for(let re=0;re<ee.length;re+=ae){const le=ee.slice(re,re+ae),de=L0(Pt);let ve=0;console.log(`[SimpleInputView] Processing batch ${Math.floor(re/ae)+1}, records: ${le.length}`);for(const ge of le){if(!ge.id){console.warn("[SimpleInputView] Record missing ID, skipping:",ge);continue}const se=tr(Pt,q,Y,"history",ge.id),xe=`${q}/${Y}/history/${ge.id}`;de.set(se,ge,{merge:!1}),ve++}if(ve>0){console.log(`[SimpleInputView] Committing batch with ${ve} records...`),console.log(`[SimpleInputView] Batch will write to: ${q}/${Y}/history`);try{if(await de.commit(),z+=ve,console.log(`[SimpleInputView]  Committed batch: ${ve} records (total: ${z}/${ee.length})`),le.length>0&&le[0].id){const ge=tr(Pt,q,Y,"history",le[0].id);(await os(ge)).exists()?console.log(`[SimpleInputView]  Verified: Record ${le[0].id} exists in subcollection`):console.error(`[SimpleInputView]  WARNING: Record ${le[0].id} NOT found in subcollection after commit!`)}}catch(ge){Z+=ve,console.error("[SimpleInputView]  Batch commit failed:",ge),console.error("[SimpleInputView] Batch error details:",{message:ge==null?void 0:ge.message,code:ge==null?void 0:ge.code,stack:ge==null?void 0:ge.stack}),console.log("[SimpleInputView] Retrying with individual setDoc() calls...");for(const se of le)if(se.id)try{const xe=tr(Pt,q,Y,"history",se.id);await ln(xe,se,{merge:!1}),z++,Z--,console.log(`[SimpleInputView]  Saved individual record: ${se.id}`)}catch(xe){console.error(`[SimpleInputView]  Failed to save individual record ${se.id}:`,xe)}}}else console.warn(`[SimpleInputView] Batch ${Math.floor(re/ae)+1} has no valid records to save`)}Z>0?console.warn(`[SimpleInputView]  Completed with errors: ${z} saved, ${Z} failed`):console.log(`[SimpleInputView]  Successfully saved ${z} records to ${q}/${Y}/history`)}catch(te){console.error(`[SimpleInputView]  Error saving to ${q}/${Y}/history:`,te),console.error("[SimpleInputView] Error details:",{message:te==null?void 0:te.message,code:te==null?void 0:te.code,stack:te==null?void 0:te.stack})}},j=async(Y,ee,q)=>{try{const te=tr(Pt,q,Y,"history",ee);await P0(te),console.log(`[SimpleInputView] Deleted record ${ee} from ${q}/${Y}/history`)}catch{console.log(`[SimpleInputView] Record ${ee} may not exist in subcollection, ignoring delete error`)}};_e.useEffect(()=>{(async()=>{var ee,q,te,H,z,Z;try{const ae=(ee=hr.currentUser)==null?void 0:ee.uid;if(!ae)return;const re=Gr(Pt,"users",ae,"history"),le=Hr(re,un("timestamp","desc")),de=await Zr(le),ve=[];de.forEach(se=>{ve.push(se.data())});const ge=n?ve.find(se=>{var xe;return se.id===n&&((xe=se.remarks)==null?void 0:xe.includes(""))}):ve.find(se=>{var pe;return It(se.timestamp,T)===A&&((pe=se.remarks)==null?void 0:pe.includes(""))});if(ge){o(ge.amount.toString());let se="";const xe=(q=ge.remarks)==null?void 0:q.match(/=(\d+)/);xe&&(se=xe[1]),p(se);let pe="",Te="";const ke=(te=ge.remarks)==null?void 0:te.match(/(\d+)(\d+)/);ke&&(pe=ke[1],Te=ke[2]),d(pe),x(Te);let Re="",$e="";const Pe=(H=ge.remarks)==null?void 0:H.match(/=(\d{2}:\d{2})/),Je=(z=ge.remarks)==null?void 0:z.match(/=(\d{2}:\d{2})/);Pe&&(Re=Pe[1]),Je&&($e=Je[1]),w(Re),k($e);let Ze="";const Ye=(Z=ge.remarks)==null?void 0:Z.match(/=(.+)$/);Ye&&(Ze=Ye[1]),L(Ze)}else o(""),p(""),d(""),x(""),w(""),k(""),L("")}catch(ae){console.error(":",ae)}})()},[A,T,n]),_e.useEffect(()=>{e&&l(typeof e=="string"?new Date(e):e)},[e]);const U=async()=>{var Y;if(!O){if(!c||!u){alert("");return}F(!0),W("");try{const ee=parseInt(c.replace(/,/g,""),10),q=parseInt(u,10),te=parseInt(h||"0",10),H=parseInt(b||"0",10),z=te*60+H,Z=new Date(a);Z.setHours(T,0,0,0);const ae=Z.getTime(),re=A.replace(/\//g,"-");let le=`: =${q}, =${te}${H}`;g&&(le+=`, =${g}`),v&&(le+=`, =${v}`),R&&(le+=`, =${R}`);const de={id:n||`simple_${re}_${Date.now()}`,amount:ee,toll:0,paymentMethod:"CASH",nonCashAmount:0,rideType:"FLOW",timestamp:ae,remarks:le},ve=(Y=hr.currentUser)==null?void 0:Y.uid;if(!ve)return;const ge=new Date(a);ge.setHours(T,0,0,0);const se=new Date(ge);se.setDate(se.getDate()+1);const xe=ge.getTime(),pe=se.getTime()-1,Te=Gr(Pt,"users",ve,"history"),ke=Hr(Te,ds("timestamp",">=",xe),ds("timestamp","<=",pe)),Re=await Zr(ke),$e=[];if(Re.forEach(We=>{$e.push(We.data())}),!n){const We=$e.filter(bt=>{var nt;return It(bt.timestamp,T)===A&&!((nt=bt.remarks)!=null&&nt.includes(""))});if(We.length>0){const bt=We.reduce((nt,Et)=>nt+Et.amount,0);if(!window.confirm(`${Rr(bt)}
${Rr(ee)}



OK
`)){F(!1);return}}}const Pe=$e.filter(We=>{var Et;const yt=It(We.timestamp,T)===A,nt=(Et=We.remarks)==null?void 0:Et.includes("");return n&&We.id===n||yt&&nt}),Je=L0(Pt);for(const We of Pe){const bt=tr(Pt,"users",ve,"history",We.id);Je.delete(bt);const yt=tr(Pt,"public_status",ve,"history",We.id);Je.delete(yt)}Pe.length>0&&(await Je.commit(),console.log(`[SimpleInputView] Deleted ${Pe.length} records from both users and public_status subcollections`)),E(ve,[de],"users").catch(We=>{console.error("[SimpleInputView] Failed to save to users subcollection:",We)}),E(ve,[de],"public_status").catch(We=>{console.error("[SimpleInputView] Failed to save to public_status subcollection:",We)});const Ze=Gr(Pt,"public_status",ve,"history"),Ye=Hr(Ze,un("timestamp","desc")),Xe=await Zr(Ye),ut=[];Xe.forEach(We=>{ut.push(We.data())});const je=Yf(r,ut,null).totalSales,He=ut.filter(We=>{var bt;return!((bt=We.remarks)!=null&&bt.includes(""))}).sort((We,bt)=>bt.amount-We.amount).slice(0,20),Ne=tr(Pt,"public_status",ve),lt=(await os(Ne)).data()||{},Ue={monthlyTotal:je,monthlyGoal:r.monthlyGoal||lt.monthlyGoal||1e6,topRecords:He,name:r.userName||lt.name||"",lastUpdated:Date.now()};await ln(Ne,Ue,{merge:!0}),W(""),setTimeout(()=>W(""),3e3),s&&s(),S&&i&&setTimeout(()=>i(),1500)}catch(ee){console.error(":",ee),alert("")}finally{F(!1)}}},I=async()=>{var Y;if(n){C(!0);try{const ee=(Y=hr.currentUser)==null?void 0:Y.uid;if(!ee)return;await j(ee,n,"users"),await j(ee,n,"public_status");const q=Gr(Pt,"public_status",ee,"history"),te=Hr(q,un("timestamp","desc")),H=await Zr(te),z=[];H.forEach(se=>{z.push(se.data())});const ae=Yf(r,z,null).totalSales,re=z.filter(se=>{var xe;return!((xe=se.remarks)!=null&&xe.includes(""))}).sort((se,xe)=>xe.amount-se.amount).slice(0,20),le=tr(Pt,"public_status",ee),ve=(await os(le)).data()||{},ge={monthlyTotal:ae,monthlyGoal:r.monthlyGoal||ve.monthlyGoal||1e6,topRecords:re,name:r.userName||ve.name||"",lastUpdated:Date.now()};await ln(le,ge,{merge:!0}),N(!1),i&&i()}catch(ee){console.error(":",ee),alert(""),C(!1)}}},Q=_e.useMemo(()=>{const Y=[],ee=new Date;for(let q=-6;q<=6;q++){const te=new Date(ee.getFullYear(),ee.getMonth()+q,1),H=te.getFullYear(),z=te.getMonth()+1;Y.push(`${H}${z}`)}return Y},[]);return _e.useEffect(()=>{if(!G){const{end:Y}=$t(a,r.shimebiDay,T),ee=Y.getFullYear(),q=Y.getMonth()+1;V(`${ee}${q}`)}},[a,r.shimebiDay,T,G]),y.jsxs("div",{className:"pb-32 w-full overflow-hidden animate-in fade-in duration-500 bg-[#0A0E14] min-h-screen",children:[y.jsxs("div",{className:"bg-[#0A0E14] border-b border-gray-700 px-4 py-3 flex items-center justify-between sticky top-0 z-20",children:[y.jsx("button",{onClick:i,className:"w-8 h-8 flex items-center justify-center text-white",children:y.jsx(Ha,{className:"w-5 h-5"})}),y.jsx("h2",{className:"text-lg font-black text-white",children:S?"":""}),S&&y.jsx("button",{onClick:()=>N(!0),className:"w-8 h-8 flex items-center justify-center text-red-400 hover:text-red-300 transition-colors",children:y.jsx(m0,{className:"w-5 h-5"})}),!S&&y.jsx("div",{className:"w-8"})]}),y.jsxs("div",{className:"p-4 space-y-3",children:[y.jsx("div",{className:"bg-gray-800 rounded-xl p-4 border-2 border-orange-500/50",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(Zn,{className:"w-6 h-6 text-orange-500 flex-shrink-0"}),y.jsx("label",{className:"text-base font-bold text-white flex-shrink-0",children:""}),y.jsxs("div",{className:"flex-1 relative",children:[y.jsx("input",{type:"date",value:Bt(a).replace(/\//g,"-"),onChange:Y=>{const ee=new Date(Y.target.value);l(ee)},className:"absolute inset-0 opacity-0 cursor-pointer w-full z-10",id:"work-date-input"}),y.jsx("label",{htmlFor:"work-date-input",onClick:Y=>{Y.preventDefault();const ee=document.getElementById("work-date-input");ee&&ee.click()},className:"block text-white font-black text-base cursor-pointer text-right relative z-0",children:(()=>{const Y=a,ee=Y.getFullYear(),q=String(Y.getMonth()+1).padStart(2,"0"),te=String(Y.getDate()).padStart(2,"0"),z=["","","","","","",""][Y.getDay()];return`${ee}${q}${te}(${z})`})()})]})]})}),y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[y.jsx("div",{className:"bg-gray-800 rounded-xl p-4 border-2 border-orange-500/50",children:y.jsxs("div",{className:"flex flex-col gap-2 relative",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(Go,{className:"w-6 h-6 text-orange-500 flex-shrink-0"}),y.jsx("label",{className:"text-base font-bold text-white flex-shrink-0",children:""})]}),y.jsxs("div",{className:"flex-1 flex items-center justify-end gap-1 min-w-0 relative",children:[y.jsx("input",{type:"time",value:g,onChange:Y=>w(Y.target.value),className:"absolute inset-0 opacity-0 cursor-pointer w-full z-10",id:"start-time-input"}),y.jsx("label",{htmlFor:"start-time-input",onClick:Y=>{Y.preventDefault();const ee=document.getElementById("start-time-input");ee&&ee.click()},className:"block text-white font-black text-base cursor-pointer text-right relative z-0 pr-8 w-full",children:g||""}),y.jsx("div",{className:"absolute right-0 top-0 bottom-0 flex items-center pointer-events-none z-0",children:y.jsx(As,{className:"w-5 h-5 text-orange-400"})})]})]})}),y.jsx("div",{className:"bg-gray-800 rounded-xl p-4 border-2 border-orange-500/50",children:y.jsxs("div",{className:"flex flex-col gap-2 relative",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(Go,{className:"w-6 h-6 text-orange-500 flex-shrink-0"}),y.jsx("label",{className:"text-base font-bold text-white flex-shrink-0",children:""})]}),y.jsxs("div",{className:"flex-1 flex items-center justify-end gap-1 min-w-0 relative",children:[y.jsx("input",{type:"time",value:v,onChange:Y=>k(Y.target.value),className:"absolute inset-0 opacity-0 cursor-pointer w-full z-10",id:"end-time-input"}),y.jsx("label",{htmlFor:"end-time-input",onClick:Y=>{Y.preventDefault();const ee=document.getElementById("end-time-input");ee&&ee.click()},className:"block text-white font-black text-base cursor-pointer text-right relative z-0 pr-8 w-full",children:v||""}),y.jsx("div",{className:"absolute right-0 top-0 bottom-0 flex items-center pointer-events-none z-0",children:y.jsx(As,{className:"w-5 h-5 text-orange-400"})})]})]})})]}),y.jsx("div",{className:"bg-gray-800 rounded-xl p-4 border-2 border-orange-500/50",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(aE,{className:"w-6 h-6 text-yellow-500 flex-shrink-0"}),y.jsx("label",{className:"text-base font-bold text-white flex-shrink-0",children:""}),y.jsxs("div",{className:"flex-1 flex items-center justify-end gap-1 min-w-0",children:[y.jsx("input",{type:"text",value:c,onKeyDown:Y=>{const ee=Y.key;!/[\d0-9]/.test(ee)&&!["Backspace","Delete","Tab","Enter","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"].includes(ee)&&!(Y.ctrlKey||Y.metaKey)&&!(Y.ctrlKey&&["a","c","v","x"].includes(ee.toLowerCase()))&&Y.preventDefault()},onChange:Y=>{const q=Y.target.value.replace(/[^0-9]/g,"");o(q)},onFocus:Y=>{const ee=Y.target,q=ee.value;q&&setTimeout(()=>{const te=q.length;ee.setSelectionRange(te,te)},0)},placeholder:"0",className:"bg-transparent text-white font-black text-base focus:outline-none text-right flex-1 min-w-0",style:{maxWidth:"100%"}}),y.jsx("span",{className:"text-base text-white font-black whitespace-nowrap flex-shrink-0",children:""})]})]})}),y.jsx("div",{className:"bg-gray-800 rounded-xl p-4 border-2 border-orange-500/50",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(za,{className:"w-6 h-6 text-yellow-500 flex-shrink-0"}),y.jsx("label",{className:"text-base font-bold text-white flex-shrink-0",children:""}),y.jsxs("div",{className:"flex-1 flex items-center justify-end gap-1 min-w-0",children:[y.jsx("input",{type:"text",value:u,onKeyDown:Y=>{const ee=Y.key;!/[\d0-9]/.test(ee)&&!["Backspace","Delete","Tab","Enter","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"].includes(ee)&&!(Y.ctrlKey||Y.metaKey)&&!(Y.ctrlKey&&["a","c","v","x"].includes(ee.toLowerCase()))&&Y.preventDefault()},onChange:Y=>{const q=Y.target.value.replace(/[^0-9]/g,"");p(q)},onFocus:Y=>{const ee=Y.target,q=ee.value;q&&setTimeout(()=>{const te=q.length;ee.setSelectionRange(te,te)},0)},placeholder:"0",className:"bg-transparent text-white font-black text-base focus:outline-none text-right flex-1 min-w-0",style:{maxWidth:"100%"}}),y.jsx("span",{className:"text-base text-white font-black whitespace-nowrap flex-shrink-0",children:""})]})]})}),y.jsx("div",{className:"bg-gray-800 rounded-xl p-4 border-2 border-orange-500/50",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(GE,{className:"w-6 h-6 text-yellow-500 flex-shrink-0"}),y.jsx("label",{className:"text-base font-bold text-white flex-shrink-0",children:""}),y.jsxs("div",{className:"flex-1 flex items-center justify-end",children:[y.jsx("select",{value:G,onChange:Y=>V(Y.target.value),className:"flex-1 bg-transparent text-white font-black text-base focus:outline-none appearance-none text-right pr-6",children:Q.map(Y=>y.jsxs("option",{value:Y,className:"bg-gray-800",children:[Y," "]},Y))}),y.jsx("span",{className:"text-gray-400 flex-shrink-0 -ml-6 pointer-events-none",children:y.jsx(As,{className:"w-5 h-5"})})]})]})}),y.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border-2 border-orange-500/50",children:[y.jsxs("div",{className:"mb-2",children:[y.jsx("label",{className:"text-base font-bold text-white",children:""}),y.jsx("span",{className:"text-sm text-gray-400 ml-2",children:"500()"})]}),y.jsx("textarea",{value:R,onChange:Y=>{Y.target.value.length<=500&&L(Y.target.value)},placeholder:"",rows:3,className:"w-full bg-gray-900 border border-gray-700 rounded-lg p-3 text-white font-bold text-sm focus:outline-none focus:border-orange-500 resize-none"}),y.jsxs("div",{className:"text-sm text-gray-400 mt-1 text-right",children:[R.length,"/500"]})]}),y.jsxs("button",{onClick:U,disabled:O||!c||!u,className:`w-full py-5 rounded-xl font-black text-lg transition-all flex items-center justify-center gap-2 shadow-lg mt-4 ${O||!c||!u?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-yellow-500 text-gray-900 hover:bg-yellow-600 active:scale-95"}`,children:[y.jsx(IE,{className:"w-6 h-6"}),O?"...":""]}),B&&y.jsx("div",{className:"text-center text-green-500 font-bold text-xs",children:B})]}),P&&y.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:y.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-2xl p-6 max-w-sm w-full",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[y.jsx(n9,{className:"w-6 h-6 text-red-500 flex-shrink-0"}),y.jsx("h3",{className:"text-lg font-black text-white",children:""})]}),y.jsx("p",{className:"text-sm text-gray-300 mb-6",children:""}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{onClick:()=>N(!1),disabled:D,className:"flex-1 py-3 rounded-xl font-black text-base bg-gray-800 text-gray-300 hover:bg-gray-700 transition-colors disabled:opacity-50 border border-gray-700",children:""}),y.jsx("button",{onClick:I,disabled:D,className:"flex-1 py-3 rounded-xl font-black text-base bg-red-500 text-white hover:bg-red-600 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:D?y.jsxs(y.Fragment,{children:[y.jsx("span",{className:"animate-spin",children:""}),"..."]}):y.jsxs(y.Fragment,{children:[y.jsx(m0,{className:"w-5 h-5"}),""]})})]})]})})]})},nz=["toppo2000@gmail.com","admin-user@gmail.com"],sz=({stats:r})=>{var w,v;const[t,e]=_e.useState("monthly"),[n,s]=_e.useState([]),[i,a]=_e.useState(new Date),[l,c]=_e.useState([]),o=r.businessStartHour??9,u=(w=hr.currentUser)==null?void 0:w.uid,p=((v=hr.currentUser)==null?void 0:v.email)||"",h=nz.includes(p);_e.useEffect(()=>{const k=fs(Gr(Pt,"public_status"),R=>{const L=R.docs.map(G=>({...G.data(),uid:G.id}));s(L)});return()=>k()},[]);const d=k=>{if(k.uid===u||h)return!0;if(!r.followingUsers.includes(k.uid))return!1;const R=k.visibilityMode||"PUBLIC";return R==="PRIVATE"?!1:R==="CUSTOM"?k.allowedViewers&&k.allowedViewers.includes(u||""):!0};_e.useEffect(()=>{t==="daily"&&(async()=>{try{const R=new Date(i);R.setHours(o,0,0,0);const L=It(R.getTime(),o),G=[];if(n.length===0){console.log("[SimpleRankingView] publicStatusData is empty"),c([]);return}const V=new Date(i);V.setHours(o,0,0,0);const O=new Date(V);O.setDate(O.getDate()+1),O.setHours(o,0,0,0),O.setMilliseconds(O.getMilliseconds()-1);const F=V.getTime(),B=O.getTime();console.log(`[SimpleRankingView] Selected date: ${Bt(i)}, Business date: ${L}`),console.log(`[SimpleRankingView] Timestamp range: ${new Date(F).toISOString()} to ${new Date(B).toISOString()}`),console.log(`[SimpleRankingView] Start: ${Bt(V)} ${V.getHours()}:00, End: ${Bt(O)} ${O.getHours()}:00`);const W=n.filter(d);console.log(`[SimpleRankingView] Date: ${L}, Total users: ${n.length}, Filtered users: ${W.length}`);for(const P of W)try{let N=0,D=[];const C=P.businessStartHour??o,S=new Date(i);S.setHours(C,0,0,0);const T=It(S.getTime(),C),A=new Date(i);A.setHours(C,0,0,0);const E=new Date(A);E.setDate(E.getDate()+1),E.setHours(C,0,0,0),E.setMilliseconds(E.getMilliseconds()-1);const j=A.getTime(),U=E.getTime();console.log(`[SimpleRankingView] User ${P.name} (${P.uid}), businessStartHour: ${C}, business date: ${T}`),console.log(`[SimpleRankingView] User ${P.name}, timestamp range: ${new Date(j).toISOString()} to ${new Date(U).toISOString()}`);try{const ee=Gr(Pt,"public_status",P.uid,"history");let q;try{const te=Hr(ee,ds("timestamp",">=",j),ds("timestamp","<=",U),un("timestamp","asc"));q=await Zr(te)}catch(te){console.log(`[SimpleRankingView] User ${P.name} (${P.uid}), index error, trying without orderBy:`,te==null?void 0:te.code);const H=Hr(ee,ds("timestamp",">=",j),ds("timestamp","<=",U));q=await Zr(H)}if(q.empty){console.log(`[SimpleRankingView] User ${P.name} (${P.uid}), date ${T}: Subcollection query returned empty`);try{const te=Hr(ee,un("timestamp","desc")),H=await Zr(te);H.empty||(H.forEach(z=>{const Z=z.data();It(Z.timestamp,C)===T&&D.push(Z)}),console.log(`[SimpleRankingView] User ${P.name} (${P.uid}), date ${T}: Found ${D.length} records from full subcollection scan`))}catch(te){console.log(`[SimpleRankingView] User ${P.name} (${P.uid}), full scan error:`,te==null?void 0:te.code)}}else{const te=[];if(q.forEach(H=>{const z=H.data();te.push(z),It(z.timestamp,C)===T&&D.push(z)}),console.log(`[SimpleRankingView] User ${P.name} (${P.uid}), date ${T}: Found ${te.length} records in timestamp range, ${D.length} records match business date`),console.log(`[SimpleRankingView] User ${P.name}, records in range:`,te.map(H=>{var z;return{timestamp:new Date(H.timestamp).toISOString(),businessDate:It(H.timestamp,C),amount:H.amount,isSimple:(z=H.remarks)==null?void 0:z.includes("")}})),console.log(`[SimpleRankingView] User ${P.name}, matching records:`,D.map(H=>{var z;return{id:H.id,amount:H.amount,isSimple:(z=H.remarks)==null?void 0:z.includes("")}})),D.length===0||te.length<5){console.log(`[SimpleRankingView] User ${P.name} (${P.uid}), date ${T}: Trying full scan as backup`);try{const H=Hr(ee,un("timestamp","desc")),z=await Zr(H);if(!z.empty){const Z=[];z.forEach(ae=>{const re=ae.data();It(re.timestamp,C)===T&&Z.push(re)}),D.push(...Z),console.log(`[SimpleRankingView] User ${P.name} (${P.uid}), date ${T}: Found ${Z.length} additional records from full subcollection scan`)}}catch(H){console.log(`[SimpleRankingView] User ${P.name} (${P.uid}), full scan error:`,H==null?void 0:H.code)}}}}catch(ee){console.log(`[SimpleRankingView] User ${P.name} (${P.uid}), subcollection query error:`,ee==null?void 0:ee.code,ee==null?void 0:ee.message)}D.length===0&&(D=(P.history||[]).filter(q=>It(q.timestamp,C)===T),console.log(`[SimpleRankingView] User ${P.name} (${P.uid}), date ${T}: Found ${D.length} records from history array`));const I={};D.forEach(ee=>{if(ee.id&&!I[ee.id])I[ee.id]=ee;else if(!ee.id){const q=`${ee.timestamp}_${ee.amount}_${ee.pickupLocation||""}`;I[q]||(I[q]=ee)}});const Q=Object.values(I);console.log(`[SimpleRankingView] User ${P.name} (${P.uid}), date ${T}: After deduplication: ${Q.length} records (was ${D.length})`),console.log(`[SimpleRankingView] User ${P.name} (${P.uid}), records before filtering:`,Q.map(ee=>{var q;return{id:ee.id,amount:ee.amount,isSimple:(q=ee.remarks)==null?void 0:q.includes("")}}));const Y=Wi(Q,C);N=Y.reduce((ee,q)=>ee+(q.amount||0),0),console.log(`[SimpleRankingView] User ${P.name}, after filtering: ${Y.length} records, total: ${N}`),console.log(`[SimpleRankingView] User ${P.name}, filtered records:`,Y.map(ee=>{var q;return{id:ee.id,amount:ee.amount,isSimple:(q=ee.remarks)==null?void 0:q.includes("")}})),N>0&&(G.push({uid:P.uid,rank:0,name:P.name||"Unknown",amount:N,isMe:P.uid===u}),console.log(`[SimpleRankingView] Added user ${P.name} to ranking with amount: ${N}`))}catch(N){if(console.error(`[SimpleRankingView] Error processing user ${P.name} (${P.uid}):`,N),(N==null?void 0:N.code)==="failed-precondition"||(N==null?void 0:N.code)==="unavailable"){const D=P.businessStartHour??o,C=new Date(i);C.setHours(D,0,0,0);const S=It(C.getTime(),D),A=(P.history||[]).filter(U=>It(U.timestamp,D)===S);console.log(`[SimpleRankingView] User ${P.name} (${P.uid}), fallback to history array: Found ${A.length} records`);const E=Wi(A,D),j=E.reduce((U,I)=>U+(I.amount||0),0);console.log(`[SimpleRankingView] User ${P.name}, after filtering: ${E.length} records, total: ${j}`),j>0&&(G.push({uid:P.uid,rank:0,name:P.name||"Unknown",amount:j,isMe:P.uid===u}),console.log(`[SimpleRankingView] Added user ${P.name} to ranking with amount: ${j}`))}}console.log(`[SimpleRankingView] Final ranking count: ${G.length}`),G.sort((P,N)=>N.amount-P.amount),G.forEach((P,N)=>{P.rank=N+1}),c(G)}catch(R){console.error(":",R)}})()},[t,i,n,o,u,r.followingUsers,h]);const b=_e.useMemo(()=>[...n].filter(d).sort((k,R)=>(R.monthlyTotal||0)-(k.monthlyTotal||0)).map((k,R)=>({uid:k.uid,rank:R+1,name:k.name||"Unknown",amount:k.monthlyTotal||0,monthlyGoal:k.monthlyGoal||1e6,isMe:k.uid===u})),[n,u,r.followingUsers,h]),x=k=>{const R=new Date(i);R.setDate(R.getDate()+k),a(R)},g=k=>k.length===0?y.jsxs("div",{className:"text-center py-12 text-gray-600 font-bold bg-gray-900/50 rounded-3xl border border-gray-800",children:[y.jsx(Hc,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),y.jsx("p",{children:""})]}):k.map((R,L)=>{var G;return y.jsxs("div",{className:`group relative overflow-hidden bg-[#1A222C] border ${R.isMe?"border-blue-500/50 bg-blue-900/10":"border-gray-800"} rounded-2xl p-4 flex items-center justify-between transition-all hover:border-gray-600`,children:[y.jsxs("div",{className:"flex items-center gap-4 z-10",children:[y.jsxs("div",{className:`text-xl font-black italic w-6 text-center ${L<3?"text-white drop-shadow-md":"text-gray-600"}`,children:["#",R.rank]}),y.jsx("div",{children:y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:`text-sm font-bold ${R.isMe?"text-blue-400":"text-gray-200"}`,children:R.name}),R.isMe&&y.jsx("span",{className:"text-[9px] bg-blue-500 text-white px-1.5 rounded font-black",children:"YOU"})]})})]}),y.jsx("div",{className:"text-right z-10",children:y.jsx("p",{className:"text-lg font-black text-white tracking-tight",children:Rr(R.amount)})}),y.jsx("div",{className:"absolute inset-y-0 left-0 bg-white/5 z-0 transition-all duration-1000 origin-left",style:{width:`${Math.min(100,R.monthlyGoal&&R.monthlyGoal>0?R.amount/R.monthlyGoal*100:k.length>0?R.amount/(((G=k[0])==null?void 0:G.amount)||1)*100:0)}%`}})]},R.uid)});return y.jsxs("div",{className:"p-4 pb-32 space-y-6 w-full overflow-hidden animate-in fade-in duration-500",children:[y.jsxs("div",{className:"flex bg-gray-900/80 p-1.5 rounded-2xl border border-gray-800 backdrop-blur-sm sticky top-0 z-20 shadow-lg",children:[y.jsxs("button",{onClick:()=>e("monthly"),className:`flex-1 py-3 rounded-xl font-black transition-all flex items-center justify-center gap-2 text-sm whitespace-nowrap ${t==="monthly"?"bg-blue-500 text-white shadow-lg scale-[1.02]":"text-gray-500 hover:bg-white/5"}`,children:[y.jsx(Kg,{className:"w-4 h-4"})," "]}),y.jsxs("button",{onClick:()=>e("daily"),className:`flex-1 py-3 rounded-xl font-black transition-all flex items-center justify-center gap-2 text-sm whitespace-nowrap ${t==="daily"?"bg-orange-500 text-white shadow-lg scale-[1.02]":"text-gray-500 hover:bg-white/5"}`,children:[y.jsx(Zn,{className:"w-4 h-4"})," "]})]}),t==="daily"&&y.jsx("div",{className:"bg-gray-800 rounded-2xl p-4 border border-gray-700",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("button",{onClick:()=>x(-1),className:"p-2 rounded-xl bg-gray-700 hover:bg-gray-600 transition-colors",children:y.jsx(Ha,{className:"w-5 h-5 text-white"})}),y.jsx("div",{className:"flex-1 text-center",children:y.jsx("input",{type:"date",value:Bt(i).replace(/\//g,"-"),onChange:k=>a(new Date(k.target.value)),className:"bg-gray-900 border border-gray-700 rounded-xl px-4 py-2 text-white font-black text-center focus:outline-none focus:border-blue-500"})}),y.jsx("button",{onClick:()=>x(1),className:"p-2 rounded-xl bg-gray-700 hover:bg-gray-600 transition-colors",children:y.jsx(Us,{className:"w-5 h-5 text-white"})})]})}),y.jsx("div",{className:"space-y-3 min-h-[300px]",children:g(t==="monthly"?b:l)})]})},az=({stats:r,onEditRecord:t})=>{var N;const[e,n]=_e.useState([]),[s,i]=_e.useState("desc"),[a,l]=_e.useState(!1),[c,o]=_e.useState(null),u=parseInt(((N=r.shimebiDay)==null?void 0:N.toString())||"20"),p=r.businessStartHour??9,[h,d]=_e.useState(()=>{const D=new Date,{start:C,end:S}=$t(D,u,p);return console.log("[SimpleHistoryView] Initializing currentMonth:",{now:`${D.getFullYear()}/${D.getMonth()+1}/${D.getDate()}`,billingPeriod:`${Bt(C)}  ${Bt(S)}`,end:`${S.getFullYear()}/${S.getMonth()+1}/${S.getDate()}`}),S});_e.useEffect(()=>{var E;const D=(E=hr.currentUser)==null?void 0:E.uid;if(!D){n([]);return}(async()=>{try{const j=Gr(Pt,"public_status",D,"history"),U=Hr(j,un("timestamp","desc")),I=await Zr(U),Q=[];I.forEach(ee=>{Q.push(ee.data())});const Y=Q.filter(ee=>{var q;return(q=ee.remarks)==null?void 0:q.includes("")}).sort((ee,q)=>ee.timestamp-q.timestamp);n(Y),console.log("[SimpleHistoryView] Loaded",Y.length,"records from public_status subcollection (total:",Q.length,")")}catch(j){console.error("[SimpleHistoryView] Error loading history:",j),n([])}})();const S=Gr(Pt,"public_status",D,"history"),T=Hr(S,un("timestamp","desc")),A=fs(T,j=>{const U=[];j.forEach(Q=>{U.push(Q.data())});const I=U.filter(Q=>{var Y;return(Y=Q.remarks)==null?void 0:Y.includes("")}).sort((Q,Y)=>Q.timestamp-Y.timestamp);n(I),console.log("[SimpleHistoryView] Subcollection updated:",I.length,"simple mode records (total:",U.length,")")},j=>{console.error("[SimpleHistoryView] Error in subcollection snapshot:",j),n([])});return()=>A()},[]);const b=_e.useMemo(()=>{const D={},C=new Date(h.getFullYear(),h.getMonth(),u===0?28:u),{start:S,end:T}=$t(C,u,p),A=new Date(T);u!==0&&(A.setDate(u),A.setHours(23,59,59,999));const E=Bt(S),j=Bt(A);Array.from(new Map(e.map(Y=>[Y.id,Y])).values()).forEach(Y=>{var q,te,H;const ee=It(Y.timestamp,p);if(ee>=E&&ee<=j){const z=new Date(Y.timestamp);let Z=0;const ae=(q=Y.remarks)==null?void 0:q.match(/=(\d+)/);ae&&(Z=parseInt(ae[1],10));let re,le;const de=(te=Y.remarks)==null?void 0:te.match(/=(\d{2}:\d{2})/),ve=(H=Y.remarks)==null?void 0:H.match(/=(\d{2}:\d{2})/);de&&(re=de[1]),ve&&(le=ve[1]);let ge;if(re&&le){const[xe,pe]=re.split(":").map(Number),[Te,ke]=le.split(":").map(Number),Re=xe*60+pe;let Pe=Te*60+ke-Re;if(Pe<0&&(Pe+=1440),Pe>0){const Je=Pe/60;ge=Math.round(Y.amount/Je)}}D[ee]||(D[ee]=[]),D[ee].find(xe=>xe.record.id===Y.id)||D[ee].push({date:ee,dateObj:z,rideCount:Z,sales:Y.amount,record:Y,startTime:re,endTime:le,hourlySales:ge})}});const Q=Object.keys(D).sort((Y,ee)=>{const q=new Date(Y.replace(/\//g,"-")),te=new Date(ee.replace(/\//g,"-"));return s==="desc"?te.getTime()-q.getTime():q.getTime()-te.getTime()}).map(Y=>D[Y].sort((te,H)=>H.record.timestamp-te.record.timestamp)[0]).filter(Boolean);return console.log("[SimpleHistoryView] Daily records:",{currentMonth:`${h.getFullYear()}/${h.getMonth()+1}/${h.getDate()}`,targetReferenceDate:`${C.getFullYear()}/${C.getMonth()+1}/${C.getDate()}`,month:`${A.getFullYear()}${A.getMonth()+1}`,billingPeriod:`${E}  ${j}`,count:Q.length,records:Q.map(Y=>Y.date)}),Q},[e,h,u,p,s]),x=d0.useCallback((D,C)=>{if(!D||!C)return 0;const[S,T]=D.split(":").map(Number),[A,E]=C.split(":").map(Number),j=S*60+T;let I=A*60+E-j;return I<0&&(I+=1440),I},[]),g=d0.useCallback(D=>{const C=Math.floor(D/60),S=D%60;return`${C}${String(S).padStart(2,"0")}`},[]),w=_e.useMemo(()=>{const D=b.reduce((I,Q)=>I+Q.sales,0),C=b.reduce((I,Q)=>I+Q.rideCount,0),S=new Set(b.map(I=>I.date)).size,T=b.filter(I=>I.hourlySales!==void 0),A=T.reduce((I,Q)=>I+(Q.hourlySales||0),0),E=T.length,j=E>0?Math.round(A/E):0,U=b.reduce((I,Q)=>I+x(Q.startTime,Q.endTime),0);return{totalSales:D,averageSales:S>0?Math.round(D/S):0,totalRides:C,averageRides:S>0?Math.round(C/S):0,averageHourlySales:j,totalWorkMinutes:U}},[b]),v=D=>{d(C=>{const S=new Date(C);D==="prev"?S.setMonth(S.getMonth()-1):S.setMonth(S.getMonth()+1);const{end:T}=$t(S,u,p);return T})},k=D=>{const C=new Date(D.replace(/\//g,"-")),S=C.getFullYear(),T=C.getMonth()+1,A=C.getDate(),j=["","","","","","",""][C.getDay()];return`${S}${T}${A}(${j})`},R=_e.useMemo(()=>{const D=new Date(h.getFullYear(),h.getMonth(),u===0?28:u),{end:C}=$t(D,u,p),S=new Date(C);return u!==0&&S.setDate(u),`${S.getFullYear()}${S.getMonth()+1}`},[h,u,p]),L=_e.useMemo(()=>{const D=new Date(h.getFullYear(),h.getMonth(),u===0?28:u),{end:C}=$t(D,u,p),S=new Date(C);return u!==0&&S.setDate(u),S.getFullYear()},[h,u,p]),G=_e.useMemo(()=>{const D=new Date(h.getFullYear(),h.getMonth(),u===0?28:u),{end:C}=$t(D,u,p),S=new Date(C);return u!==0&&S.setDate(u),S.getMonth()+1},[h,u,p]),V=D=>{o(D)},O=D=>{const C=c!==null?c:L,S=new Date(C,D-1,u===0?28:u),{end:T}=$t(S,u,p);d(T),l(!1),o(null)},F=_e.useMemo(()=>{const D=new Date().getFullYear(),C=[];for(let S=0;S<=5;S++)C.push(D-S);return C},[]),B=()=>{o(null),l(!0)},W=c!==null?c:L,P=[1,2,3,4,5,6,7,8,9,10,11,12];return y.jsxs("div",{className:"w-full bg-[#0A0E14] min-h-screen pb-32",children:[y.jsxs("div",{className:"bg-[#0A0E14] border-b border-gray-700 px-4 py-3 flex items-center justify-between",children:[y.jsx("div",{className:"w-8"}),y.jsx("h1",{className:"text-lg font-black text-white",children:""}),y.jsx("div",{className:"w-8"})]}),y.jsxs("div",{className:"p-4 space-y-4",children:[y.jsxs("div",{className:"flex items-center justify-center relative",children:[y.jsx("button",{onClick:()=>v("prev"),className:"p-2 text-gray-400 hover:text-white",children:y.jsx(Ha,{className:"w-5 h-5"})}),y.jsxs("button",{onClick:B,className:"mx-4 px-4 py-2 border-2 border-orange-500 rounded-lg bg-white flex items-center gap-2 hover:bg-gray-50 transition-colors",children:[y.jsx("span",{className:"text-base font-black text-gray-900",children:R}),y.jsxs("div",{className:"flex flex-col",children:[y.jsx(zc,{className:"w-3 h-3 text-gray-600"}),y.jsx(As,{className:"w-3 h-3 text-gray-600"})]})]}),y.jsx("button",{onClick:()=>v("next"),className:"p-2 text-gray-400 hover:text-white",children:y.jsx(Us,{className:"w-5 h-5"})}),a&&y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:()=>{l(!1),o(null)}}),y.jsxs("div",{className:"absolute top-full mt-2 left-1/2 transform -translate-x-1/2 z-50 bg-gray-800 rounded-xl border-2 border-orange-500 shadow-2xl p-4 min-w-[280px] max-h-[400px] overflow-y-auto",children:[y.jsx("div",{className:"text-sm font-bold text-orange-400 mb-3 text-center",children:""}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("div",{className:"text-xs text-gray-400 font-bold mb-2",children:""}),y.jsx("div",{className:"grid grid-cols-3 gap-2",children:F.map(D=>y.jsx("button",{onClick:()=>V(D),className:`px-3 py-2 rounded-lg text-sm font-black transition-colors ${D===W?"bg-orange-500 text-white":"bg-gray-700 text-white hover:bg-gray-600"}`,children:D},D))})]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-xs text-gray-400 font-bold mb-2",children:""}),y.jsx("div",{className:"grid grid-cols-3 gap-2",children:P.map(D=>y.jsxs("button",{onClick:()=>O(D),className:`px-3 py-2 rounded-lg text-sm font-black transition-colors ${D===G&&W===L?"bg-orange-500 text-white":"bg-gray-700 text-white hover:bg-gray-600"}`,children:[D,""]},D))})]})]})]})]})]}),y.jsxs("div",{className:"bg-gray-800 rounded-2xl p-4 border border-gray-700",children:[y.jsxs("h2",{className:"text-base font-black text-white mb-3 flex items-center gap-2",children:[y.jsx(Zn,{className:"w-5 h-5 text-yellow-500"}),""]}),y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[y.jsxs("div",{className:"bg-gray-800 rounded-xl p-3 border-2 border-orange-500/50",children:[y.jsx("div",{className:"text-xs text-orange-400 font-bold mb-1",children:""}),y.jsxs("div",{className:"text-xl font-black text-white",children:["",w.totalSales.toLocaleString()]})]}),y.jsxs("div",{className:"bg-gray-800 rounded-xl p-3 border-2 border-orange-500/50",children:[y.jsx("div",{className:"text-xs text-orange-400 font-bold mb-1",children:"1"}),y.jsxs("div",{className:"text-xl font-black text-white",children:["",w.averageSales.toLocaleString()]})]}),y.jsxs("div",{className:"bg-gray-800 rounded-xl p-3 border-2 border-orange-500/50",children:[y.jsx("div",{className:"text-xs text-orange-400 font-bold mb-1",children:""}),y.jsxs("div",{className:"text-xl font-black text-white",children:[w.totalRides,""]})]}),y.jsxs("div",{className:"bg-gray-800 rounded-xl p-3 border-2 border-orange-500/50",children:[y.jsx("div",{className:"text-xs text-orange-400 font-bold mb-1",children:""}),y.jsxs("div",{className:"text-xl font-black text-white",children:[w.averageRides,""]})]})]}),(w.averageHourlySales>0||w.totalWorkMinutes>0)&&y.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-3",children:[w.averageHourlySales>0&&y.jsxs("div",{className:"bg-gray-800 rounded-xl p-3 border-2 border-orange-500/50",children:[y.jsx("div",{className:"text-xs text-orange-400 font-bold mb-1",children:""}),y.jsxs("div",{className:"text-xl font-black text-white",children:["",w.averageHourlySales.toLocaleString()]})]}),w.totalWorkMinutes>0&&y.jsxs("div",{className:"bg-gray-800 rounded-xl p-3 border-2 border-orange-500/50",children:[y.jsx("div",{className:"text-xs text-orange-400 font-bold mb-1",children:""}),y.jsx("div",{className:"text-xl font-black text-white",children:g(w.totalWorkMinutes)})]})]})]}),y.jsxs("div",{className:"bg-gray-800 rounded-2xl p-4 border border-gray-700",children:[y.jsx("div",{className:"mb-4",children:y.jsx("button",{onClick:()=>i(D=>D==="desc"?"asc":"desc"),className:"w-full py-4 px-4 bg-orange-500 hover:bg-orange-600 rounded-xl transition-colors flex items-center justify-center gap-3 shadow-lg active:scale-95",children:s==="desc"?y.jsxs(y.Fragment,{children:[y.jsx(As,{className:"w-6 h-6 text-white"}),y.jsx("span",{className:"text-lg font-black text-white",children:""}),y.jsx(As,{className:"w-6 h-6 text-white"})]}):y.jsxs(y.Fragment,{children:[y.jsx(zc,{className:"w-6 h-6 text-white"}),y.jsx("span",{className:"text-lg font-black text-white",children:""}),y.jsx(zc,{className:"w-6 h-6 text-white"})]})})}),y.jsx("div",{className:"space-y-3",children:b.length===0?y.jsxs("div",{className:"text-center py-12 text-gray-400 bg-gray-900/50 rounded-2xl border border-gray-800",children:[y.jsx(Zn,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),y.jsx("p",{className:"text-sm font-bold",children:""})]}):b.map((D,C)=>y.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border-2 border-orange-500/50 hover:border-orange-500 transition-colors shadow-lg",children:[y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[y.jsx("div",{className:"text-lg font-black text-white",children:k(D.date)}),t&&y.jsx("button",{onClick:()=>t(D.record),className:"px-4 py-2 bg-orange-500 rounded-lg text-sm font-black text-white hover:bg-orange-600 transition-colors active:scale-95 shadow-md whitespace-nowrap",children:""})]}),y.jsxs("div",{className:"flex flex-col gap-2",children:[y.jsxs("div",{className:"flex items-center gap-6",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-sm text-orange-400 font-bold whitespace-nowrap",children:""}),y.jsxs("span",{className:"text-lg font-black text-white whitespace-nowrap",children:[D.rideCount,""]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-sm text-orange-400 font-bold whitespace-nowrap",children:""}),y.jsxs("span",{className:"text-lg font-black text-yellow-400 whitespace-nowrap",children:[D.sales.toLocaleString(),""]})]})]}),D.hourlySales!==void 0&&y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-sm text-orange-400 font-bold whitespace-nowrap",children:""}),y.jsxs("span",{className:"text-lg font-black text-green-400 whitespace-nowrap",children:[D.hourlySales.toLocaleString(),""]})]}),D.startTime&&D.endTime&&y.jsxs("div",{className:"flex flex-col gap-1 pt-2 border-t border-gray-700",children:[y.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-sm text-orange-400 font-bold whitespace-nowrap",children:""}),y.jsx("span",{className:"text-base font-black text-white whitespace-nowrap",children:D.startTime})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-sm text-orange-400 font-bold whitespace-nowrap",children:""}),y.jsx("span",{className:"text-base font-black text-white whitespace-nowrap",children:D.endTime})]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-sm text-orange-400 font-bold whitespace-nowrap",children:""}),y.jsx("span",{className:"text-base font-black text-blue-400 whitespace-nowrap",children:g(x(D.startTime,D.endTime))})]})]})]})]},`${D.date}-${C}`))})]})]})]})},iz=({progress:r,color:t})=>{const e=t==="amber",n=e?"bg-amber-500 shadow-[0_0_15px_#F59E0B]":"bg-blue-500 shadow-[0_0_15px_#3B82F6]",s=e?"border-amber-400/40":"border-blue-400/40";return y.jsx("div",{className:`w-full bg-[#05080C] border-2 ${s} rounded-full h-8 p-1 overflow-hidden shadow-[inset_0_2px_10px_rgba(0,0,0,0.8)]`,children:y.jsx("div",{className:`h-full transition-all duration-1000 ease-out rounded-full ${n}`,style:{width:`${Math.min(100,r)}%`}})})},oz=({stats:r,onUpdateStats:t,onNavigateToInput:e,history:n=[]})=>{const[s,i]=_e.useState(r.monthlyGoal.toLocaleString()),[a,l]=_e.useState(r.shimebiDay.toString()),[c,o]=_e.useState(!1),[u,p]=_e.useState(!1),[h,d]=_e.useState(!1),[b,x]=_e.useState(!1),[g,w]=_e.useState(!1),[v,k]=_e.useState(!1),[R,L]=_e.useState([]),[G,V]=_e.useState(new Date),[O,F]=_e.useState(""),[B,W]=_e.useState(r.userName||""),P=_e.useRef(0),N=r.businessStartHour??9,D=parseInt(a)||r.shimebiDay||20,C=_e.useMemo(()=>{if(r.dutyDays&&r.dutyDays.length>0){const pe=It(Date.now(),N),{start:Te,end:ke}=$t(new Date,D,N),Re=Bt(Te),$e=Bt(ke),Pe=ut=>{const[ot,je,He]=ut.split("/").map(Number);return ot*1e4+je*100+He},Je=Pe(pe),Ze=Pe(Re),Ye=Pe($e);return r.dutyDays.filter(ut=>{const ot=Pe(ut);return ot<Je?!1:ot>=Ze&&ot<=Ye}).length.toString()}return(r.plannedWorkDays||0).toString()},[r.dutyDays,r.plannedWorkDays,N,D]),[S,T]=_e.useState(C);_e.useEffect(()=>{T(C)},[C]),_e.useEffect(()=>{l(r.shimebiDay.toString())},[r.shimebiDay]),_e.useEffect(()=>{W(r.userName||"")},[r.userName]);const{start:A,end:E}=_e.useMemo(()=>$t(new Date,D,N),[D,N]),j=_e.useMemo(()=>{const pe=`${A.getFullYear()}/${String(A.getMonth()+1).padStart(2,"0")}/${String(A.getDate()).padStart(2,"0")}`,Te=`${E.getFullYear()}/${String(E.getMonth()+1).padStart(2,"0")}/${String(E.getDate()).padStart(2,"0")}`;return`${pe} ~ ${Te}`},[A,E]),[U,I]=_e.useState(0);_e.useEffect(()=>{var ke;const pe=tr(Pt,"public_status",((ke=hr.currentUser)==null?void 0:ke.uid)||""),Te=fs(pe,Re=>{if(Re.exists()){const $e=Re.data();I($e.monthlyTotal||0)}else I(0)},Re=>{console.error(":",Re),I(0)});return()=>Te()},[]);const Q=Math.max(0,r.monthlyGoal-U),Y=_e.useMemo(()=>{const pe=parseInt(S)||0;return pe>0?Math.ceil(Q/pe):0},[Q,S]),ee=_e.useMemo(()=>{const pe=new Date(E);D!==0&&(pe.setDate(D),pe.setHours(23,59,59,999));const Te=Bt(A),ke=Bt(pe),Re={};n.forEach(Ze=>{var Ye;if((Ye=Ze.remarks)!=null&&Ye.includes("")){const Xe=It(Ze.timestamp,N);Xe>=Te&&Xe<=ke&&(Re[Xe]||(Re[Xe]=[]),Re[Xe].push(Ze))}});const Pe=Object.values(Re).flat().reduce((Ze,Ye)=>Ze+Ye.amount,0),Je=Object.keys(Re).length;return Je>0?Math.round(Pe/Je):0},[n,N,A,E,D]),q=_e.useMemo(()=>r.monthlyGoal>0?Math.min(100,Math.round(U/r.monthlyGoal*100)):0,[U,r.monthlyGoal]),te=_e.useMemo(()=>It(Date.now(),N),[N]);_e.useMemo(()=>{const pe=[],Te=It(E.getTime(),N);pe.includes(te)||pe.push(te);const ke=new Date;ke.setHours(N,0,0,0),ke.setDate(ke.getDate()+1);const Re=new Date(E);Re.setHours(23,59,59,999);const $e=new Date(ke);for(;$e<=Re;){const Pe=It($e.getTime(),N);Pe>te&&Pe<=Te&&(pe.includes(Pe)||pe.push(Pe)),$e.setDate($e.getDate()+1)}return pe.sort()},[E,N,te]);const H=_e.useMemo(()=>{const pe=new Set;return n.forEach(Te=>{const ke=It(Te.timestamp,N);pe.add(ke)}),pe},[n,N]),z=_e.useMemo(()=>{const{start:pe,end:Te}=$t(G,D,N);Te.getFullYear(),Te.getMonth();const ke=new Date(pe),Re=ke.getDay();ke.setDate(ke.getDate()-Re),ke.setHours(0,0,0,0);const $e=new Date(Te),Pe=$e.getDay();$e.setDate($e.getDate()+(6-Pe)),$e.setHours(23,59,59,999);const Je=[],Ze=new Date(ke),Ye=Bt(pe),Xe=Bt(Te);for(let ut=0;ut<35;ut++){const ot=Bt(Ze),je=new Date(Ze);je.setHours(N,0,0,0);const He=It(je.getTime(),N),Ne=He>=Ye&&He<=Xe;Je.push({date:new Date(Ze),dateStr:ot,isInBillingPeriod:Ne}),Ze.setDate(Ze.getDate()+1)}return Je},[G,D,N]),Z=_e.useMemo(()=>{const{start:pe,end:Te}=$t(G,D,N);Bt(pe),Bt(Te);const ke=It(Date.now(),N),Re=new Set;return z.forEach(({date:$e,isInBillingPeriod:Pe})=>{if(!Pe)return;const Je=new Date($e);Je.setHours(N,0,0,0);const Ze=It(Je.getTime(),N),Ye=Ze<ke,Xe=H.has(Ze),ut=R.includes(Ze);(Ye&&Xe||!Ye&&ut)&&Re.add(Ze)}),Re.size},[z,R,G,D,N,H]);_e.useEffect(()=>{if(v){if(r.dutyDays&&r.dutyDays.length>0){L([...r.dutyDays]);const Te=It(Date.now(),N),{start:ke,end:Re}=$t(new Date,D,N),$e=Bt(ke),Pe=Bt(Re),Je=ot=>{const[je,He,Ne]=ot.split("/").map(Number);return je*1e4+He*100+Ne},Ze=Je(Te),Ye=Je($e),Xe=Je(Pe),ut=r.dutyDays.filter(ot=>{const je=Je(ot);return je>=Ze&&je>=Ye&&je<=Xe});T(ut.length.toString())}else L([]),T("0");const{end:pe}=$t(new Date,D,N);V(pe)}},[v,r.dutyDays,N,D]);const ae=async()=>{var Te;P.current=window.scrollY;const pe=Cn(O||s);i(pe.toLocaleString()),t({monthlyGoal:pe}),x(!1),F("");try{const ke=tr(Pt,"public_status",((Te=hr.currentUser)==null?void 0:Te.uid)||"");await ln(ke,{monthlyGoal:pe,lastUpdated:Date.now()},{merge:!0})}catch(ke){console.error(":",ke)}setTimeout(()=>{window.scrollTo({top:P.current,behavior:"auto"})},100)},re=async pe=>{var Re;P.current=window.scrollY;const Te=pe||a,ke=Te==="0"||Te===""?0:parseInt(Te)||20;l(ke.toString()),t({shimebiDay:ke}),d(!1);try{const $e=tr(Pt,"public_status",((Re=hr.currentUser)==null?void 0:Re.uid)||"");await ln($e,{shimebiDay:ke,lastUpdated:Date.now()},{merge:!0})}catch($e){console.error(":",$e)}setTimeout(()=>{window.scrollTo({top:P.current,behavior:"auto"})},100)},le=pe=>{P.current=window.scrollY,pe()},de=async()=>{var ot;P.current=window.scrollY;const pe=It(Date.now(),N),{start:Te,end:ke}=$t(new Date,D,N),Re=Bt(Te),$e=Bt(ke),Pe=je=>{const[He,Ne,Ie]=je.split("/").map(Number);return He*1e4+Ne*100+Ie},Je=Pe(pe),Ze=Pe(Re),Ye=Pe($e),ut=R.filter(je=>{const He=Pe(je);return He>=Je&&He>=Ze&&He<=Ye}).length;T(ut.toString()),t({plannedWorkDays:ut,dutyDays:R}),k(!1);try{const je=tr(Pt,"public_status",((ot=hr.currentUser)==null?void 0:ot.uid)||"");await ln(je,{plannedWorkDays:ut,lastUpdated:Date.now()},{merge:!0})}catch(je){console.error(":",je)}setTimeout(()=>{window.scrollTo({top:P.current,behavior:"auto"})},100)},ve=pe=>{const Te=It(Date.now(),N);if(pe<Te)return;const Re=parseInt(a),$e=isNaN(Re)?20:Re,{start:Pe,end:Je}=$t(G,$e,N),Ze=Bt(Pe),Ye=Bt(Je);!(pe>=Ze&&pe<=Ye)||H.has(pe)||L(ot=>{const je=ot.filter(Ne=>Ne<Ze||Ne>Ye),He=ot.filter(Ne=>Ne>=Ze&&Ne<=Ye);return He.includes(pe)?[...je,...He.filter(Ne=>Ne!==pe)]:[...je,...He,pe]})},ge=()=>{const pe=parseInt(a),Te=isNaN(pe)?20:pe,{start:ke,end:Re}=$t(G,Te,N),$e=Bt(ke),Pe=Bt(Re),Je=It(Date.now(),N),Ze=[];let Ye=new Date(ke);for(;Ye<=Re;){const Xe=Ye.getDay();if(Xe!==0&&Xe!==6){const ut=new Date(Ye);ut.setHours(N,0,0,0);const ot=It(ut.getTime(),N);!(ot<Je)&&!H.has(ot)&&Ze.push(ot)}Ye.setDate(Ye.getDate()+1)}L(Xe=>[...Xe.filter(ot=>ot<$e||ot>Pe),...Ze])},se=pe=>{V(Te=>{const ke=new Date(Te);pe==="prev"?ke.setMonth(ke.getMonth()-1):ke.setMonth(ke.getMonth()+1);const{end:Re}=$t(ke,D,N);return Re})},xe=async()=>{var Te;P.current=window.scrollY;const pe=B.trim();t({userName:pe}),w(!1);try{const ke=tr(Pt,"public_status",((Te=hr.currentUser)==null?void 0:Te.uid)||"");await ln(ke,{name:pe,lastUpdated:Date.now()},{merge:!0})}catch(ke){console.error(":",ke)}setTimeout(()=>{window.scrollTo({top:P.current,behavior:"auto"})},100)};return y.jsxs("div",{className:"w-full bg-[#0A0E14] min-h-screen pb-32",children:[y.jsx("div",{className:"bg-[#0A0E14] border-b border-gray-700 px-4 py-3",children:y.jsx("h1",{className:"text-lg font-black text-white text-center",children:""})}),y.jsxs("div",{className:"p-4 space-y-4",children:[y.jsxs("div",{className:"bg-gray-900 rounded-2xl p-4 border border-gray-800",children:[y.jsxs("div",{className:"flex items-center justify-between mb-3",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(Zn,{className:"w-5 h-5 text-yellow-500"}),y.jsx("h2",{className:"text-base font-black text-white",children:""})]}),y.jsx("div",{className:"px-3 py-1 bg-purple-900/30 border border-purple-500/30 rounded-full",children:y.jsx("span",{className:"text-xs text-purple-300 font-bold",children:j})})]}),y.jsxs("div",{className:"flex items-end justify-between gap-4 mb-3",children:[y.jsxs("div",{className:"flex items-baseline",children:[y.jsx("span",{className:"text-3xl font-black text-orange-500 relative",style:{textShadow:"2px 2px 0 #DC2626, -2px 0 0 #DC2626, 0 2px 0 #DC2626"},children:""}),y.jsx("span",{className:"text-4xl font-black text-white ml-1",children:U.toLocaleString()})]}),y.jsxs("div",{className:"text-right",children:[y.jsx("div",{className:"text-xs text-gray-400 mb-1",children:""}),y.jsxs("div",{className:"text-xl font-black text-orange-500",children:[S,""]})]})]}),y.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border-2 border-orange-500/50 mb-3",children:[y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[y.jsx("div",{className:"text-xs text-gray-400",children:" (1)"}),y.jsx(g0,{className:"w-5 h-5 text-gray-400"})]}),y.jsxs("div",{className:"text-2xl font-black text-white",children:["",Y.toLocaleString()]})]}),y.jsxs("div",{className:"mb-3",children:[y.jsx(iz,{progress:q,color:"amber"}),y.jsxs("div",{className:"flex items-center justify-between mt-2",children:[y.jsxs("span",{className:"text-xs text-gray-400",children:[q,"% "]}),y.jsxs("span",{className:"text-xs text-gray-400 underline",children:[" ",r.monthlyGoal.toLocaleString()]})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[y.jsxs("div",{className:"bg-gray-800 rounded-xl p-3 border-2 border-orange-500/50",children:[y.jsx(Po,{className:"w-5 h-5 text-orange-500 mb-2"}),y.jsx("div",{className:"text-xs text-gray-400 mb-1",children:""}),y.jsxs("div",{className:"text-xl font-black text-white",children:["",Q.toLocaleString()]})]}),y.jsxs("div",{className:"bg-gray-800 rounded-xl p-3 border-2 border-orange-500/50",children:[y.jsx(g0,{className:"w-5 h-5 text-orange-500 mb-2"}),y.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"1"}),y.jsxs("div",{className:"text-xl font-black text-white",children:["",ee.toLocaleString()]})]})]})]}),y.jsx("button",{onClick:e,className:"w-full bg-yellow-500 rounded-2xl py-5 font-black text-xl text-gray-900 shadow-lg hover:bg-yellow-600 active:scale-95 transition-all",children:""}),y.jsxs("div",{className:"bg-gray-900 rounded-2xl p-4 border border-gray-800 space-y-3",children:[y.jsx("h3",{className:"text-base font-black text-white mb-3",children:""}),y.jsx("div",{className:"bg-gray-800 rounded-xl p-3 border-2 border-orange-500/50",children:y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(Ll,{className:"w-4 h-4 text-yellow-500 flex-shrink-0"}),y.jsx("label",{className:"text-sm font-bold text-gray-400 flex-1",children:""}),y.jsx("span",{className:"text-base font-black text-white flex-1 text-right",children:r.userName||""}),y.jsx("button",{onClick:()=>{W(r.userName||""),le(()=>w(!0))},className:"p-2 text-yellow-500 hover:text-yellow-400 transition-colors",children:y.jsx(Kv,{className:"w-5 h-5"})})]})}),y.jsx("div",{className:"bg-gray-800 rounded-xl p-3 border-2 border-orange-500/50",children:y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(Po,{className:"w-4 h-4 text-yellow-500 flex-shrink-0"}),y.jsx("label",{className:"text-xs font-bold text-gray-400 w-16 flex-shrink-0",children:""}),y.jsxs("button",{onClick:()=>{F(s),le(()=>x(!0))},className:"flex-1 bg-white border-2 border-orange-500 rounded-lg px-4 py-3 text-gray-900 font-black text-base flex items-center justify-between",children:[y.jsxs("span",{children:[s," "]}),y.jsx(Kv,{className:"w-4 h-4"})]})]})}),y.jsx("div",{className:"bg-gray-800 rounded-xl p-3 border-2 border-orange-500/50",children:y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(Zn,{className:"w-4 h-4 text-yellow-500 flex-shrink-0"}),y.jsx("label",{className:"text-sm font-bold text-gray-400 flex-1",children:""}),y.jsxs("button",{onClick:()=>le(()=>k(!0)),className:"flex-1 bg-white border-2 border-orange-500 rounded-lg px-4 py-3 text-gray-900 font-black text-base flex items-center justify-between",children:[y.jsxs("span",{children:[S," "]}),y.jsx(Zn,{className:"w-4 h-4"})]})]})}),y.jsx("div",{className:"bg-gray-800 rounded-xl p-3 border-2 border-orange-500/50",children:y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(Zn,{className:"w-4 h-4 text-yellow-500 flex-shrink-0"}),y.jsx("label",{className:"text-xs font-bold text-gray-400 w-16 flex-shrink-0",children:""}),y.jsxs("button",{onClick:()=>le(()=>d(!0)),className:"flex-1 bg-white border-2 border-orange-500 rounded-lg px-4 py-3 text-gray-900 font-black text-base flex items-center justify-between",children:[y.jsx("span",{children:D===0?"":`${D}`}),y.jsx(As,{className:"w-4 h-4"})]})]})})]}),h&&y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm",children:y.jsxs("div",{className:"bg-[#131C2B] p-6 rounded-3xl space-y-6 max-w-md w-full mx-4 max-h-[80vh] overflow-y-auto",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("h3",{className:"text-xl font-black text-white flex items-center gap-2",children:[y.jsx(Zn,{className:"w-6 h-6 text-yellow-500"})," "]}),y.jsx("button",{onClick:()=>{d(!1),setTimeout(()=>{window.scrollTo({top:P.current,behavior:"auto"})},100)},className:"p-2 bg-gray-800 rounded-full text-gray-400 hover:text-white active:scale-95",children:y.jsx(Vn,{className:"w-5 h-5"})})]}),y.jsxs("div",{className:"space-y-2",children:[Array.from({length:28}).map((pe,Te)=>{const ke=Te+1;return y.jsxs("button",{onClick:()=>re(ke.toString()),className:`w-full p-4 rounded-xl text-left transition-all ${D===ke?"bg-yellow-500 text-gray-900 font-black":"bg-gray-800 text-white font-bold hover:bg-gray-700"}`,children:[ke,""]},ke)}),y.jsx("button",{onClick:()=>re("0"),className:`w-full p-4 rounded-xl text-left transition-all ${D===0?"bg-yellow-500 text-gray-900 font-black":"bg-gray-800 text-white font-bold hover:bg-gray-700"}`,children:""})]})]})}),b&&y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm",children:y.jsxs("div",{className:"bg-[#131C2B] p-6 rounded-3xl space-y-6 max-w-md w-full mx-4",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("h3",{className:"text-xl font-black text-white flex items-center gap-2",children:[y.jsx(Po,{className:"w-6 h-6 text-yellow-500"})," "]}),y.jsx("button",{onClick:()=>{x(!1),setTimeout(()=>{window.scrollTo({top:P.current,behavior:"auto"})},100)},className:"p-2 bg-gray-800 rounded-full text-gray-400 hover:text-white active:scale-95",children:y.jsx(Vn,{className:"w-5 h-5"})})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-bold text-gray-400 block mb-2",children:""}),y.jsx("input",{type:"text",value:O,onChange:pe=>F($o(pe.target.value)),placeholder:": 1,000,000",className:"w-full bg-white border-2 border-orange-500 rounded-xl px-4 py-3 text-gray-900 font-black text-lg focus:outline-none focus:ring-2 focus:ring-orange-500",autoFocus:!0,onKeyDown:pe=>{pe.key==="Enter"&&O.trim()&&ae()}})]}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{onClick:()=>{x(!1),setTimeout(()=>{window.scrollTo({top:P.current,behavior:"auto"})},100)},className:"flex-1 py-3 bg-gray-800 text-gray-300 font-bold rounded-xl border border-gray-700 hover:bg-gray-700 transition-colors",children:""}),y.jsx("button",{onClick:ae,disabled:!O.trim(),className:`flex-1 py-3 rounded-xl font-black transition-all ${O.trim()?"bg-orange-500 text-white hover:bg-orange-600 active:scale-95":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:""})]})]})]})}),g&&y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm",children:y.jsxs("div",{className:"bg-[#131C2B] p-6 rounded-3xl space-y-6 max-w-md w-full mx-4",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("h3",{className:"text-xl font-black text-white flex items-center gap-2",children:[y.jsx(Ll,{className:"w-6 h-6 text-yellow-500"})," "]}),y.jsx("button",{onClick:()=>{w(!1),setTimeout(()=>{window.scrollTo({top:P.current,behavior:"auto"})},100)},className:"p-2 bg-gray-800 rounded-full text-gray-400 hover:text-white active:scale-95",children:y.jsx(Vn,{className:"w-5 h-5"})})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-bold text-gray-400 block mb-2",children:""}),y.jsx("input",{type:"text",value:B,onChange:pe=>W(pe.target.value),placeholder:"",className:"w-full bg-white border-2 border-orange-500 rounded-xl px-4 py-3 text-gray-900 font-black text-lg focus:outline-none focus:ring-2 focus:ring-orange-500",autoFocus:!0,onKeyDown:pe=>{pe.key==="Enter"&&B.trim()&&xe()}})]}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{onClick:()=>{w(!1),setTimeout(()=>{window.scrollTo({top:P.current,behavior:"auto"})},100)},className:"flex-1 py-3 bg-gray-800 text-gray-300 font-bold rounded-xl border border-gray-700 hover:bg-gray-700 transition-colors",children:""}),y.jsx("button",{onClick:xe,disabled:!B.trim(),className:`flex-1 py-3 rounded-xl font-black transition-all ${B.trim()?"bg-orange-500 text-white hover:bg-orange-600 active:scale-95":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:""})]})]})]})}),v&&y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm",children:y.jsxs("div",{className:"bg-[#131C2B] p-6 rounded-3xl space-y-6 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("h3",{className:"text-xl font-black text-white flex items-center gap-2",children:[y.jsx(Zn,{className:"w-6 h-6 text-yellow-500"})," "]}),y.jsx("button",{onClick:()=>{k(!1),setTimeout(()=>{window.scrollTo({top:P.current,behavior:"auto"})},100)},className:"p-2 bg-gray-800 rounded-full text-gray-400 hover:text-white active:scale-95",children:y.jsx(Vn,{className:"w-5 h-5"})})]}),y.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border-2 border-orange-500/50",children:[y.jsx("div",{className:"text-sm text-gray-400 mb-1",children:""}),y.jsxs("div",{className:"text-2xl font-black text-white",children:[Z," "]})]}),y.jsxs("div",{className:"flex items-center justify-between bg-gray-950 rounded-2xl p-2 border-2 border-gray-700",children:[y.jsx("button",{onClick:()=>se("prev"),className:"p-3 text-gray-400 active:scale-90",children:y.jsx(Ha,{className:"w-6 h-6"})}),y.jsx("div",{className:"text-xl font-black text-white",children:(()=>{const{end:pe}=$t(G,D,N);return`${pe.getFullYear()} / ${String(pe.getMonth()+1).padStart(2,"0")}`})()}),y.jsx("button",{onClick:()=>se("next"),className:"p-3 text-gray-400 active:scale-90",children:y.jsx(Us,{className:"w-6 h-6"})})]}),y.jsxs("div",{children:[y.jsx("div",{className:"grid grid-cols-7 gap-2 mb-2",children:["","","","","","",""].map(pe=>y.jsx("div",{className:"text-center text-sm font-bold text-gray-400",children:pe},pe))}),y.jsx("div",{className:"grid grid-cols-7 gap-2",children:z.map(({date:pe,isCurrentMonth:Te,dateStr:ke,isInBillingPeriod:Re})=>{const $e=new Date(pe);$e.setHours(N,0,0,0);const Pe=It($e.getTime(),N);if(!Re)return y.jsx("div",{className:"aspect-square rounded-xl flex items-center justify-center bg-gray-900/50 opacity-50 cursor-not-allowed",children:y.jsx("span",{className:"text-base text-gray-400",children:pe.getDate()})},ke);const Je=R.includes(Pe),Ze=Pe===te,Ye=H.has(Pe),Xe=Pe<te,ut=Xe&&Ye,ot=!Xe&&!Ye&&Re;return y.jsx("button",{onClick:()=>ot&&ve(Pe),disabled:!ot,className:`aspect-square rounded-xl flex items-center justify-center transition-all ${ut?"bg-yellow-500 text-gray-900 font-black cursor-not-allowed":ot?Je?"bg-orange-500 text-gray-900 font-black":Xe?"bg-gray-800/50 text-gray-500":Te?"bg-gray-800 text-white font-bold hover:bg-gray-700":"bg-gray-800/50 text-gray-500":Ye?"bg-orange-500 text-gray-900 font-black cursor-not-allowed":"bg-gray-800/50 text-gray-500 cursor-not-allowed"} ${Ze?"ring-2 ring-orange-500":""} ${ot?"active:scale-95":""}`,children:y.jsx("span",{className:"text-base",children:pe.getDate()})},ke)})})]}),y.jsxs("button",{onClick:ge,className:"w-full mt-4 py-3 bg-gray-800 border border-gray-700 rounded-xl text-sm font-bold text-gray-400 hover:bg-gray-700 active:scale-95 transition-all flex items-center justify-center gap-2",children:[y.jsx(Oo,{className:"w-4 h-4"})," (20)"]}),y.jsxs("button",{onClick:de,className:"w-full mt-4 py-4 bg-orange-500 text-white font-black text-lg rounded-xl hover:bg-orange-600 active:scale-95 transition-all",children:[" (",Z," )"]})]})})]})]})},lz="/assets/navi-loading-BiSO-nA6.png",cz=()=>y.jsxs("div",{className:"min-h-screen bg-[#0A0E14] flex flex-col items-center justify-center text-amber-500 space-y-8 animate-in fade-in duration-500",children:[y.jsxs("div",{className:"relative w-64 h-64 flex items-center justify-center",children:[y.jsx("div",{className:"absolute inset-0 bg-amber-500/20 blur-[60px] rounded-full animate-pulse"}),y.jsx("img",{src:lz,alt:"System Navi",className:"relative z-10 w-full h-full object-contain drop-shadow-[0_0_15px_rgba(245,158,11,0.5)]"})]}),y.jsxs("div",{className:"flex flex-col items-center gap-4",children:[y.jsx(Al,{className:"animate-spin text-amber-500",size:40}),y.jsxs("div",{className:"flex flex-col items-center",children:[y.jsx("span",{className:"text-amber-500 font-black tracking-[0.3em] uppercase text-xs animate-pulse",children:"Initializing Navi System"}),y.jsx("div",{className:"h-[2px] w-48 bg-gray-800 mt-2 overflow-hidden rounded-full",children:y.jsx("div",{className:"h-full bg-amber-500 w-1/3 animate-[loading_1.5s_infinite_linear]"})})]})]}),y.jsx("style",{children:`
        @keyframes loading {
          0% { transform: translateX(-100%); }
          100% { transform: translateX(200%); }
        }
      `})]}),yS="/assets/navi-chibi-B6uWjRBG.png",uz=({onLoginStart:r})=>{const t=async()=>{var e;try{r&&r(),console.log("Login button clicked");const n=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),s=window.navigator.standalone||window.matchMedia("(display-mode: standalone)").matches;if(n||s){if(console.log("Mobile/Standalone detected, using redirect method"),typeof window<"u"){const a=window.location.href,l=window.location.hostname,c=window.location.port||"",o=`${window.location.protocol}//${l}${c?":"+c:""}`;console.log("[Login] Saving redirect info (mobile):",{currentUrl:a,hostname:l,port:c,origin:o});try{localStorage.setItem("login_redirect_url",a),localStorage.setItem("auth_redirect_origin",o),localStorage.setItem("auth_redirect_hostname",l),c&&localStorage.setItem("auth_redirect_port",c),localStorage.setItem("auth_login_attempt",new Date().toISOString()),console.log("[Login] Successfully saved redirect info to localStorage")}catch(u){console.error("[Login] Failed to save redirect info to localStorage:",u),alert("")}try{sessionStorage.setItem("login_redirect_url",a),sessionStorage.setItem("auth_redirect_origin",o),sessionStorage.setItem("auth_redirect_hostname",l),c&&sessionStorage.setItem("auth_redirect_port",c),console.log("[Login] Successfully saved redirect info to sessionStorage")}catch(u){console.warn("[Login] sessionStorage not available (this is normal on some mobile browsers):",u)}}console.log("[Login] Calling signInWithRedirect..."),console.log("[Login] Current URL before redirect:",window.location.href),console.log("[Login] Auth domain:",hr.config.authDomain),console.log("[Login] Google provider:",Rl);const i=localStorage.getItem("auth_redirect_origin");console.log("[Login] Saved redirect origin:",i);try{const a=vw(hr,Rl);console.log("[Login] signInWithRedirect called, waiting for redirect...");const l=new Promise((c,o)=>{setTimeout(()=>{o(new Error("Redirect timeout: signInWithRedirect did not redirect within 5 seconds"))},5e3)});await Promise.race([a,l]),console.warn("[Login]  signInWithRedirect completed without redirect"),alert("")}catch(a){console.error("[Login]  signInWithRedirect error:",a),console.error("[Login] Error code:",a==null?void 0:a.code),console.error("[Login] Error message:",a==null?void 0:a.message),console.error("[Login] Error stack:",a==null?void 0:a.stack);let l=`

`;(a==null?void 0:a.code)==="auth/unauthorized-domain"?l+=`: 
Firebase Console`:(a==null?void 0:a.code)==="auth/operation-not-allowed"?l+=`: Google
Firebase ConsoleGoogle`:(e=a==null?void 0:a.message)!=null&&e.includes("timeout")?l+=`: 
`:l+=`: ${(a==null?void 0:a.code)||"unknown"}
: ${(a==null?void 0:a.message)||"Unknown error"}`,alert(l+`

`)}return}if(console.log("Desktop detected, trying popup method"),typeof window<"u"){const i=window.location.hostname,a=window.location.port||"5173",l=`${window.location.protocol}//${i}${a?":"+a:""}`;localStorage.setItem("local_dev_hostname",i),localStorage.setItem("local_dev_port",a),localStorage.setItem("local_dev_origin",l);try{sessionStorage.setItem("local_dev_hostname",i),sessionStorage.setItem("local_dev_port",a),sessionStorage.setItem("local_dev_origin",l)}catch(c){console.warn("sessionStorage not available:",c)}}await aN(hr,Rl),console.log("Login successful")}catch(n){if(console.error("Login error:",n),(n==null?void 0:n.code)==="auth/popup-blocked"){if(confirm(`



Firebase`))try{if(typeof window<"u"){const i=window.location.hostname,a=window.location.port||"",l=`${window.location.protocol}//${i}${a?":"+a:""}`;console.log("[Login] Saving redirect info (fallback):",{hostname:i,port:a,origin:l}),localStorage.setItem("auth_redirect_origin",l),localStorage.setItem("auth_redirect_hostname",i),a&&localStorage.setItem("auth_redirect_port",a);try{sessionStorage.setItem("auth_redirect_origin",l),sessionStorage.setItem("auth_redirect_hostname",i),a&&sessionStorage.setItem("auth_redirect_port",a)}catch(c){console.warn("sessionStorage not available:",c)}}await vw(hr,Rl);return}catch(i){console.error("Redirect login error:",i),alert("")}}else if((n==null?void 0:n.code)==="auth/popup-closed-by-user")console.log("User closed popup");else if((n==null?void 0:n.code)==="auth/cancelled-popup-request")console.log("Popup request cancelled");else{const s=(n==null?void 0:n.message)||"";alert(`: ${s}

: ${(n==null?void 0:n.code)||"unknown"}`)}}};return y.jsxs("div",{className:"min-h-screen bg-[#0A0E14] flex flex-col items-center justify-center p-8 relative overflow-hidden",children:[y.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[y.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[50%] h-[50%] bg-amber-500/10 rounded-full blur-[100px] animate-pulse"}),y.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[50%] h-[50%] bg-blue-500/10 rounded-full blur-[100px] animate-pulse delay-1000"})]}),y.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-6 w-full max-w-sm",children:[y.jsxs("div",{className:"relative w-64 h-64 animate-bounce-slow",children:[y.jsx("div",{className:"absolute inset-0 bg-amber-500/20 blur-2xl rounded-full"}),y.jsx("img",{src:yS,alt:"Navi Chibi",className:"w-full h-full object-contain drop-shadow-[0_0_15px_rgba(245,158,11,0.5)]"})]}),y.jsxs("div",{className:"text-center space-y-2",children:[y.jsx("h1",{className:"text-4xl font-black italic text-transparent bg-clip-text bg-gradient-to-br from-white via-amber-200 to-amber-500 tracking-tighter filter drop-shadow-lg",children:"TAXI-NAVIGATOR"}),y.jsx("p",{className:"text-gray-500 text-xs font-bold tracking-[0.5em] uppercase",children:"System Login"})]}),y.jsxs("button",{type:"button",onClick:t,className:"group relative w-full bg-white text-black px-8 py-4 rounded-2xl font-black text-xl shadow-[0_0_20px_rgba(255,255,255,0.3)] hover:shadow-[0_0_30px_rgba(245,158,11,0.6)] active:scale-95 transition-all duration-300 overflow-hidden cursor-pointer z-10",children:[y.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/50 to-transparent -translate-x-full group-hover:animate-shine"}),y.jsxs("div",{className:"flex items-center justify-center gap-3 relative z-10",children:[y.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[y.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),y.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),y.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),y.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"}),y.jsx("path",{fill:"none",d:"M1 1h22v22H1z"})]}),y.jsx("span",{children:"Google"})]})]}),y.jsx("p",{className:"text-[10px] text-gray-600 font-bold",children:" 2025 Taxi Navigator System"})]}),y.jsx("style",{children:`
        @keyframes shine {
          100% { transform: translateX(200%); }
        }
        .animate-shine {
          animation: shine 1s;
        }
        @keyframes bounce-slow {
          0%, 100% { transform: translateY(0); }
          50% { transform: translateY(-10px); }
        }
        .animate-bounce-slow {
          animation: bounce-slow 3s infinite ease-in-out;
        }
      `})]})},fz=({userProfile:r,onAdminClick:t,onSettingsClick:e,onLogoClick:n})=>y.jsxs("header",{className:"bg-[#1A222C] border-b border-gray-800 p-4 safe-top sticky top-0 z-30 overflow-hidden relative",children:[y.jsxs("div",{className:"flex justify-between items-center relative z-10",children:[y.jsxs("div",{onClick:n,className:`flex items-center transform active:scale-95 transition-transform select-none ${(r==null?void 0:r.role)==="admin"?"cursor-pointer":"cursor-default"}`,children:[y.jsx("div",{className:"relative z-10 flex items-center -space-x-2 mr-1",children:y.jsxs("div",{className:"relative w-12 h-12 drop-shadow-[0_0_10px_rgba(245,158,11,0.6)] animate-bounce-slow",children:[y.jsx("div",{className:"absolute inset-0 bg-amber-500/20 blur-xl rounded-full"}),y.jsx("img",{src:yS,alt:"Navi",className:"w-full h-full object-contain"})]})}),y.jsxs("div",{className:"flex flex-col -space-y-1",children:[y.jsxs("div",{className:"flex items-baseline gap-1",children:[y.jsx("span",{className:"text-2xl font-black italic tracking-tighter text-transparent bg-clip-text bg-gradient-to-b from-yellow-200 via-amber-400 to-yellow-600 filter drop-shadow-[0_2px_4px_rgba(0,0,0,0.5)]",children:"TAXI"}),y.jsx("span",{className:"text-sm font-bold italic tracking-widest text-amber-500/80 uppercase",children:"navigator"})]}),y.jsx("div",{className:"h-[2px] w-full bg-gradient-to-r from-amber-500 to-transparent rounded-full opacity-50"})]})]}),y.jsxs("div",{className:"flex items-center gap-3",children:[(r==null?void 0:r.role)==="admin"&&y.jsx("button",{type:"button",onClick:t,className:"p-2 bg-purple-900/50 border border-purple-500/50 rounded-full text-purple-400 hover:text-white transition-all active:scale-90 cursor-pointer",title:"",children:y.jsx(z1,{size:22})}),y.jsx("button",{type:"button",onClick:s=>{s.stopPropagation(),console.log("Settings button clicked"),e()},className:"p-2 bg-gray-800 rounded-full text-gray-400 hover:text-white transition-all active:scale-90 border border-gray-700 cursor-pointer z-50 relative",children:y.jsx(V1,{size:22})})]})]}),y.jsx("div",{className:"absolute -top-10 -left-10 w-40 h-40 bg-amber-500/10 rounded-full blur-3xl pointer-events-none mix-blend-screen"})]}),hz=({activeTab:r,monthlyStats:t,showCalendar:e,targetHistoryDate:n,onTabChange:s,onTargetHistoryDateChange:i,onTargetHistoryRecordIdChange:a})=>{if(e)return null;const l=(t.inputMode||"DETAILED")==="SIMPLE";return y.jsx("nav",{className:"fixed bottom-0 left-0 right-0 max-w-md mx-auto bg-[#0A0E14]/95 backdrop-blur-2xl border-t border-gray-800 flex justify-around pt-4 pb-[calc(1rem+env(safe-area-inset-bottom))] z-50 shadow-[0_-15px_45px_rgba(0,0,0,0.8)] pointer-events-auto",children:l?y.jsxs(y.Fragment,{children:[y.jsxs("button",{onClick:()=>{console.log("Simple Dashboard clicked"),s("home"),i(null),a(null)},type:"button",className:`flex flex-col items-center gap-1 transition-all active:scale-95 cursor-pointer ${r==="home"&&!n?"text-amber-500":"text-gray-500"}`,children:[y.jsx(Y4,{className:"w-6 h-6"}),y.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:""})]}),y.jsxs("button",{onClick:()=>{console.log("Simple History clicked"),s("history"),i(null),a(null)},type:"button",className:`flex flex-col items-center gap-1 transition-all active:scale-95 cursor-pointer ${r==="history"?"text-amber-500":"text-gray-500"}`,children:[y.jsx(Zn,{className:"w-6 h-6"}),y.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:""})]}),y.jsxs("button",{onClick:()=>{console.log("Simple Ranking clicked"),s("analysis"),i(null),a(null)},type:"button",className:`flex flex-col items-center gap-1 transition-all active:scale-95 cursor-pointer ${r==="analysis"?"text-amber-500":"text-gray-500"}`,children:[y.jsx(Hc,{className:"w-6 h-6"}),y.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:""})]})]}):y.jsxs(y.Fragment,{children:[y.jsxs("button",{onClick:()=>{console.log("Home clicked"),s("home")},type:"button",className:`flex flex-col items-center gap-1 transition-all active:scale-95 cursor-pointer ${r==="home"?"text-amber-500":"text-gray-500"}`,children:[y.jsx(za,{className:"w-6 h-6"}),y.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:""})]}),y.jsxs("button",{onClick:()=>{console.log("History clicked"),s("history")},type:"button",className:`flex flex-col items-center gap-1 transition-all active:scale-95 cursor-pointer ${r==="history"?"text-amber-500":"text-gray-500"}`,children:[y.jsx(Zn,{className:"w-6 h-6"}),y.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:""})]}),y.jsxs("button",{onClick:()=>{console.log("Analysis clicked"),s("analysis")},type:"button",className:`flex flex-col items-center gap-1 transition-all active:scale-95 cursor-pointer ${r==="analysis"?"text-amber-500":"text-gray-500"}`,children:[y.jsx(Hc,{className:"w-6 h-6"}),y.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:""})]}),y.jsxs("button",{onClick:()=>{console.log("Analytics clicked"),s("analytics")},type:"button",className:`flex flex-col items-center gap-1 transition-all active:scale-95 cursor-pointer ${r==="analytics"?"text-amber-500":"text-gray-500"}`,children:[y.jsx(AT,{className:"w-6 h-6"}),y.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:""})]}),y.jsxs("button",{onClick:()=>{console.log("Guide clicked"),window.open("https://cf750778.cloudfree.jp/core/","_blank")},type:"button",className:"flex flex-col items-center gap-1 transition-all active:scale-95 cursor-pointer text-gray-500",children:[y.jsx(JE,{className:"w-6 h-6"}),y.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:""})]})]})})},dz=(r=20,t=9)=>{const e=new Date,{start:n,end:s}=$t(e,r,t),i=[],a=new Date(n);for(;a<=s;){const l=a.getDay();l!==0&&l!==3&&i.push(Bt(new Date(a))),a.setDate(a.getDate()+1)}for(let l=i.length-1;l>0;l--){const c=Math.floor(Math.random()*(l+1));[i[l],i[c]]=[i[c],i[l]]}return i.slice(0,20).sort()};function pz(){const[r,t]=_e.useState(null),[e,n]=_e.useState(!0),[s,i]=_e.useState(!1),[a,l]=_e.useState(null),[c,o]=_e.useState(!1),[u,p]=_e.useState(null),h=u||(r==null?void 0:r.uid),[d,b]=_e.useState(!0),[x,g]=_e.useState("home"),[w,v]=_e.useState(null),[k,R]=_e.useState(null),[L,G]=_e.useState(!1),[V,O]=_e.useState(!1),F=_e.useRef(!1),[B,W]=_e.useState(null),[P,N]=_e.useState([]),[D,C]=_e.useState({}),[S,T]=_e.useState({isActive:!1,startTime:null}),[A,E]=_e.useState({monthLabel:"",totalSales:0,totalRides:0,monthlyGoal:1e6,defaultDailyGoal:5e4,shimebiDay:20,businessStartHour:9,dutyDays:[],enabledPaymentMethods:Ef,customPaymentLabels:{},userName:"",enabledRideTypes:Ol,visibilityMode:"PUBLIC",allowedViewers:[],followingUsers:[]}),[j,U]=_e.useState({open:!1}),[I,Q]=_e.useState(!1),[Y,ee]=_e.useState(!1),[q,te]=_e.useState(!1),[H,z]=_e.useState(!1);_e.useEffect(()=>{console.log("[App.tsx] isSettingsOpen changed to:",Y)},[Y]);const[Z,ae]=_e.useState(""),[re,le]=_e.useState(!1),de=_e.useRef(!1);_e.useEffect(()=>{const je=setTimeout(()=>{b(!1)},1200);return()=>clearTimeout(je)},[]),_e.useEffect(()=>{const je=He=>{(B||j.open)&&(He.preventDefault(),He.returnValue="")};return window.addEventListener("beforeunload",je),()=>window.removeEventListener("beforeunload",je)},[B,j.open]);const ve=async(je,He,Ne)=>{if(!He||He.length===0){console.log(`[saveHistoryToSubcollection] No records to save for ${Ne}/${je}/history`);return}console.log(`[saveHistoryToSubcollection] Starting to save ${He.length} records to ${Ne}/${je}/history`),console.log("[saveHistoryToSubcollection] Sample record IDs:",He.slice(0,5).map(Ie=>Ie.id));try{const Ie=tr(Pt,Ne,je);(await os(Ie)).exists()||(console.log(`[saveHistoryToSubcollection] Parent document ${Ne}/${je} does not exist, creating...`),await ln(Ie,{_created:new Date().toISOString()},{merge:!0}),console.log("[saveHistoryToSubcollection]  Parent document created"));const Ue=500;let We=0,bt=0;for(let yt=0;yt<He.length;yt+=Ue){const nt=He.slice(yt,yt+Ue),Et=L0(Pt);let Oe=0;console.log(`[saveHistoryToSubcollection] Processing batch ${Math.floor(yt/Ue)+1}, records: ${nt.length}`);for(const Ce of nt){if(!Ce.id){console.warn("[saveHistoryToSubcollection] Record missing ID, skipping:",Ce);continue}const rt=tr(Pt,Ne,je,"history",Ce.id),pt=`${Ne}/${je}/history/${Ce.id}`;Et.set(rt,Ce,{merge:!1}),Oe++}if(Oe>0){console.log(`[saveHistoryToSubcollection] Committing batch with ${Oe} records...`),console.log(`[saveHistoryToSubcollection] Batch will write to: ${Ne}/${je}/history`);try{if(await Et.commit(),We+=Oe,console.log(`[saveHistoryToSubcollection]  Committed batch: ${Oe} records (total: ${We}/${He.length})`),nt.length>0&&nt[0].id){const Ce=tr(Pt,Ne,je,"history",nt[0].id);(await os(Ce)).exists()?console.log(`[saveHistoryToSubcollection]  Verified: Record ${nt[0].id} exists in subcollection`):console.error(`[saveHistoryToSubcollection]  WARNING: Record ${nt[0].id} NOT found in subcollection after commit!`)}}catch(Ce){bt+=Oe,console.error("[saveHistoryToSubcollection]  Batch commit failed:",Ce),console.error("[saveHistoryToSubcollection] Batch error details:",{message:Ce==null?void 0:Ce.message,code:Ce==null?void 0:Ce.code,stack:Ce==null?void 0:Ce.stack}),console.log("[saveHistoryToSubcollection] Retrying with individual setDoc() calls...");for(const rt of nt)if(rt.id)try{const pt=tr(Pt,Ne,je,"history",rt.id);await ln(pt,rt,{merge:!1}),We++,bt--,console.log(`[saveHistoryToSubcollection]  Saved individual record: ${rt.id}`)}catch(pt){console.error(`[saveHistoryToSubcollection]  Failed to save individual record ${rt.id}:`,pt)}}}else console.warn(`[saveHistoryToSubcollection] Batch ${Math.floor(yt/Ue)+1} has no valid records to save`)}bt>0?console.warn(`[saveHistoryToSubcollection]  Completed with errors: ${We} saved, ${bt} failed`):console.log(`[saveHistoryToSubcollection]  Successfully saved ${We} records to ${Ne}/${je}/history`)}catch(Ie){console.error(`[saveHistoryToSubcollection]  Error saving to ${Ne}/${je}/history:`,Ie),console.error("[saveHistoryToSubcollection] Error details:",{message:Ie==null?void 0:Ie.message,code:Ie==null?void 0:Ie.code,stack:Ie==null?void 0:Ie.stack})}},ge=async(je,He,Ne,Ie,lt)=>{var We;if(!je||!Ie.userName)return;const Ue=je.uid;try{const bt=Ie.businessStartHour??9,{start:yt,end:nt}=$t(new Date,Ie.shimebiDay,bt),Et=new Date(nt);Ie.shimebiDay!==0&&Et.setDate(Ie.shimebiDay);const Oe=Bt(yt),Ce=Bt(Et),pt=Yf(Ie,Ne,He).totalSales,ft=[...Ne,...He?He.records:[]].filter(ie=>{var fe;return!((fe=ie.remarks)!=null&&fe.includes(""))});ft.sort((ie,fe)=>fe.amount-ie.amount);const Mt=ft.slice(0,20),At=[...Ne,...(He==null?void 0:He.records)||[]];console.log("[broadcastStatus] Input data:",{currentHistoryCount:Ne.length,currentShiftRecordsCount:He?He.records.length:0,allRecordsCount:At.length,latestRecordTimestamp:At.length>0?new Date(Math.max(...At.map(ie=>ie.timestamp))).toISOString():"N/A",latestRecordId:At.length>0?(We=At[At.length-1])==null?void 0:We.id:"N/A"});const wt=new Map;At.forEach(ie=>wt.set(ie.id,ie));const ze=Array.from(wt.values()),ht=Date.now()-2*365*24*60*60*1e3,Qe=ze.filter(ie=>ie.timestamp>=ht);console.log("[broadcastStatus] Data summary:",{allRecordsCount:At.length,uniqueRecordsCount:ze.length,recentRecordsCount:Qe.length,twoYearsAgo:new Date(ht).toISOString(),filteredOutCount:ze.length-Qe.length});const Ee={},et=Date.now()-365*24*60*60*1e3;ze.forEach(ie=>{const fe=$t(new Date(ie.timestamp),Ie.shimebiDay,bt),he=fe.end.getFullYear(),me=fe.end.getMonth()+1,Ae=`${he}-${String(me).padStart(2,"0")}`;Ee[Ae]||(Ee[Ae]={label:`${he}${me}`,sortKey:Ae,sales:0,records:[],startStr:Bt(fe.start),endStr:Bt(fe.end)}),Ee[Ae].records.push(ie)}),Object.keys(Ee).forEach(ie=>{const fe=Ee[ie].records,he=Wi(fe,bt);Ee[ie].sales=he.reduce((me,Ae)=>me+Ae.amount,0),delete Ee[ie].records});const ce=He?He.records:[],ye={uid:Ue,name:Ie.userName,monthlyTotal:pt,monthlyGoal:Ie.monthlyGoal||1e6,status:lt,lastUpdated:Date.now(),businessStartHour:Ie.businessStartHour,visibilityMode:Ie.visibilityMode,allowedViewers:Ie.allowedViewers,topRecords:Mt,records:ce,months:Ee,...Lg?{}:{history:Qe}};if(He){const ie=He.records.length,fe=He.records.filter(Fe=>Fe.rideType!=="FLOW"&&Fe.rideType!=="WAIT").length,he=He.startTime+He.plannedHours*36e5,me=He.records.reduce((Fe,qe)=>Fe+qe.amount,0),Ae={...ye,startTime:He.startTime,plannedEndTime:he,sales:me,rideCount:ie,dispatchCount:fe},Le=Af(Ae),De=Date.now();Le.lastUpdated=De,console.log("[broadcastStatus] Saving public_status for uid:",Ue,"at",new Date(De).toISOString(),"data:",{status:Le.status,sales:Le.sales,rideCount:Le.rideCount,name:Le.name}),ln(tr(Pt,"public_status",Ue),Le,{merge:!0}).then(()=>{console.log("[broadcastStatus] Successfully saved public_status for uid:",Ue)}).catch(Fe=>{console.error("[broadcastStatus] Failed to save public_status:",Fe)})}else{const ie=tr(Pt,"public_status",Ue),fe=await os(ie),he=fe.exists()?fe.data():null,me=It(Date.now(),bt);let Ae=0,Le=0,De=0,Fe,qe="offline";if((he==null?void 0:he.status)==="completed")qe="completed",he.todayStartTime?It(he.todayStartTime,bt)===me&&(Fe=he.todayStartTime,Ae=he.sales!==void 0&&he.sales!==null?he.sales:0,Le=he.rideCount!==void 0&&he.rideCount!==null?he.rideCount:0,De=he.dispatchCount!==void 0&&he.dispatchCount!==null?he.dispatchCount:0):(he.sales!==void 0&&he.sales!==null&&(Ae=he.sales),he.rideCount!==void 0&&he.rideCount!==null&&(Le=he.rideCount),he.dispatchCount!==void 0&&he.dispatchCount!==null&&(De=he.dispatchCount));else{const be=It(Date.now(),bt);Ae=Ne.filter(Me=>It(Me.timestamp,bt)===be).reduce((Me,Ke)=>Me+Ke.amount,0)}const xt={...ye,status:qe,sales:Ae,rideCount:Le,dispatchCount:De,...Fe!==void 0&&{todayStartTime:Fe}},vt=Af(xt),Ct=Date.now();vt.lastUpdated=Ct,console.log("[broadcastStatus] Saving offline/completed status for uid:",Ue,"at",new Date(Ct).toISOString(),"status:",qe,"sales:",Ae,"rideCount:",Le,"dispatchCount:",De),ln(tr(Pt,"public_status",Ue),vt,{merge:!0}).then(()=>{console.log("[broadcastStatus] Successfully saved offline/completed status for uid:",Ue)}).catch(be=>{console.error("[broadcastStatus] Failed to save offline/completed status:",be)})}}catch(bt){console.error("Broadcast failed:",bt)}};_e.useEffect(()=>{(async()=>{var Ne,Ie,lt,Ue,We,bt,yt,nt;try{if(window.location.hostname.includes("firebaseapp.com")&&window.location.pathname.includes("/__/auth/handler")){console.log("[App.tsx] Detected Firebase Hosting auth handler, redirecting to original environment..."),console.log("[App.tsx] Current URL:",window.location.href);const Ce=new URLSearchParams(window.location.search);console.log("[App.tsx] URL params:",Object.fromEntries(Ce.entries())),console.log("[App.tsx] Has code:",Ce.has("code")),console.log("[App.tsx] Has state:",Ce.has("state"));let rt=null,pt=null,ft="";try{rt=localStorage.getItem("auth_redirect_origin"),pt=localStorage.getItem("auth_redirect_hostname"),ft=localStorage.getItem("auth_redirect_port")||""}catch(ze){console.warn("[App.tsx] localStorage access failed:",ze)}if(!rt)try{rt=sessionStorage.getItem("auth_redirect_origin"),pt=sessionStorage.getItem("auth_redirect_hostname"),ft=sessionStorage.getItem("auth_redirect_port")||""}catch(ze){console.warn("[App.tsx] sessionStorage access failed:",ze)}console.log("[App.tsx] Saved redirect info:",{savedOrigin:rt,savedHostname:pt,savedPort:ft});let Mt;if(rt)Mt=rt;else if(pt)Mt=`${pt==="localhost"?"http":window.location.protocol}//${pt}${ft?":"+ft:""}`;else{const ze=Ce.get("context_uri")||Ce.get("continue");if(ze)try{const ht=new URL(decodeURIComponent(ze));ht.hostname.includes("web.app")||ht.hostname.includes("firebaseapp.com")?(Mt=ht.origin,console.log("[App.tsx] Using context_uri:",Mt)):(Mt=window.location.protocol+"//pro-taxi-d3945.web.app",console.warn("[App.tsx] context_uri not usable, using fallback:",Mt))}catch{Mt=window.location.protocol+"//pro-taxi-d3945.web.app",console.warn("[App.tsx] Failed to parse context_uri, using fallback:",Mt)}else Mt=window.location.protocol+"//pro-taxi-d3945.web.app",console.warn("[App.tsx] No saved origin found, using fallback:",Mt)}const At=Ce.toString(),wt=Mt+(At?"?"+At:"");console.log("[App.tsx] Redirecting to:",wt),console.log("[App.tsx] Preserving params:",At),(!At||!Ce.has("code")&&!Ce.has("state"))&&(console.error("[App.tsx]  WARNING: No auth params found in URL!"),console.error("[App.tsx] This might cause authentication to fail."),console.error("[App.tsx] Current search:",window.location.search)),window.location.href=wt;return}console.log("[App.tsx] Processing redirect result...");const Et=new URLSearchParams(window.location.search),Oe=Et.has("code")||Et.has("state")||Et.has("authuser")||Et.has("prompt");if(console.log("[App.tsx] Current URL:",window.location.href),console.log("[App.tsx] URL params:",Object.fromEntries(Et.entries())),console.log("[App.tsx] Has auth params:",Oe),Oe){console.log("[App.tsx] Auth parameters detected in URL:",{hasCode:Et.has("code"),hasState:Et.has("state"),hasAuthUser:Et.has("authuser"),hasPrompt:Et.has("prompt"),code:Et.get("code")?((Ne=Et.get("code"))==null?void 0:Ne.substring(0,20))+"...":null,state:Et.get("state")?((Ie=Et.get("state"))==null?void 0:Ie.substring(0,20))+"...":null}),console.log("[App.tsx] Auth params detected, keeping isAuthChecking=true until auth state updates");try{console.log("[App.tsx] Calling getRedirectResult...");const Ce=await uf(hr);if(Ce){console.log("[App.tsx]  Redirect login successful:",Ce.user.email),console.log("[App.tsx] User UID:",Ce.user.uid),console.log("[App.tsx] User:",Ce.user);const rt=localStorage.getItem("login_redirect_url")||sessionStorage.getItem("login_redirect_url");if(rt){console.log("[App.tsx] Restoring saved URL:",rt);try{localStorage.removeItem("login_redirect_url"),sessionStorage.removeItem("login_redirect_url")}catch(pt){console.warn("[App.tsx] Failed to remove saved URL:",pt)}if(window.location.href!==rt){const pt=new URL(rt),ft=pt.origin+pt.pathname;console.log("[App.tsx] Redirecting to saved URL:",ft),window.location.replace(ft);return}}window.history.replaceState&&window.history.replaceState({},document.title,window.location.pathname)}else console.warn("[App.tsx]  No redirect result, but auth params exist. Waiting for onAuthStateChanged..."),console.warn("[App.tsx] This might indicate a sessionStorage issue on mobile devices.")}catch(Ce){(lt=Ce==null?void 0:Ce.message)!=null&&lt.includes("sessionStorage")||(Ue=Ce==null?void 0:Ce.message)!=null&&Ue.includes("initial state")||(We=Ce==null?void 0:Ce.message)!=null&&We.includes("missing initial state")?(console.warn("[App.tsx] sessionStorage error - this is common on mobile devices. Auth state will be updated by onAuthStateChanged if login was successful."),console.warn("[App.tsx] Error details:",Ce==null?void 0:Ce.message)):(console.error("[App.tsx] Auth redirect error:",Ce),console.error("[App.tsx] Error details:",{message:Ce==null?void 0:Ce.message,code:Ce==null?void 0:Ce.code,stack:Ce==null?void 0:Ce.stack}))}}else try{const Ce=await uf(hr);if(Ce){console.log("[App.tsx]  Redirect login successful (no params):",Ce.user.email),console.log("[App.tsx] User UID:",Ce.user.uid);const rt=localStorage.getItem("login_redirect_url")||sessionStorage.getItem("login_redirect_url");if(rt){console.log("[App.tsx] Restoring saved URL:",rt);try{localStorage.removeItem("login_redirect_url"),sessionStorage.removeItem("login_redirect_url")}catch(pt){console.warn("[App.tsx] Failed to remove saved URL:",pt)}if(window.location.href!==rt){const pt=new URL(rt),ft=pt.origin+pt.pathname;console.log("[App.tsx] Redirecting to saved URL:",ft),window.location.replace(ft);return}}}else console.log("[App.tsx] No redirect result and no auth code in URL")}catch(Ce){(bt=Ce==null?void 0:Ce.message)!=null&&bt.includes("sessionStorage")||(yt=Ce==null?void 0:Ce.message)!=null&&yt.includes("initial state")||(nt=Ce==null?void 0:Ce.message)!=null&&nt.includes("missing initial state")?console.warn("[App.tsx] sessionStorage error - this is common on mobile devices."):console.error("[App.tsx] Auth redirect error:",Ce)}}catch(Et){console.error("[App.tsx] Unexpected error in handleRedirectResult:",Et)}})();const He=P3(hr,async Ne=>{console.log("[App.tsx] ===== Auth state changed ====="),console.log("[App.tsx] Current user:",Ne?{email:Ne.email,uid:Ne.uid,emailVerified:Ne.emailVerified}:"null (signed out)"),console.log("[App.tsx] Current URL:",window.location.href);const Ie=new URLSearchParams(window.location.search),lt=Ie.has("code")||Ie.has("state")||Ie.has("authuser")||Ie.has("prompt");if(lt&&Ne&&(console.log("[App.tsx] Auth params exist and user is authenticated, clearing URL params"),window.history.replaceState&&window.history.replaceState({},document.title,window.location.pathname),await new Promise(Ue=>setTimeout(Ue,100))),lt&&!Ne){console.log("[App.tsx]  Auth params exist but user is null. This might be a sessionStorage issue on mobile."),console.log("[App.tsx] Waiting for auth state to update..."),n(!0),uf(hr).then(Ue=>{if(Ue&&Ue.user)console.log("[App.tsx]  getRedirectResult succeeded immediately:",Ue.user.email),t(Ue.user),n(!0);else{console.warn("[App.tsx]  getRedirectResult returned no result, waiting for onAuthStateChanged...");const We=setTimeout(()=>{const yt=hr.currentUser;yt?(console.log("[App.tsx]  Auth state updated after waiting:",yt.email),t(yt),n(!0)):(console.error("[App.tsx]  Auth state still null after waiting"),n(!1))},5e3),bt=setInterval(()=>{const yt=hr.currentUser;yt&&(clearTimeout(We),clearInterval(bt),console.log("[App.tsx]  Auth state updated during wait:",yt.email),t(yt),n(!0))},100);setTimeout(()=>{clearInterval(bt)},5e3)}}).catch(Ue=>{var We,bt,yt;console.error("[App.tsx]  getRedirectResult failed:",Ue),(We=Ue==null?void 0:Ue.message)!=null&&We.includes("sessionStorage")||(bt=Ue==null?void 0:Ue.message)!=null&&bt.includes("initial state")||(yt=Ue==null?void 0:Ue.message)!=null&&yt.includes("missing initial state")?(console.warn("[App.tsx] sessionStorage error - waiting for onAuthStateChanged to update auth state"),n(!0)):n(!1)});return}if(!lt&&!Ne){const Ue=document.referrer;if(Ue.includes("firebaseapp.com")||Ue.includes("__/auth/handler")){console.log("[App.tsx]  No auth params but might have come from firebaseapp.com"),console.log("[App.tsx] Referrer:",Ue),console.log("[App.tsx] Trying getRedirectResult..."),n(!0),uf(hr).then(We=>{We&&We.user?(console.log("[App.tsx]  getRedirectResult succeeded (no params):",We.user.email),t(We.user),n(!0)):(console.warn("[App.tsx]  getRedirectResult returned no result"),setTimeout(()=>{const bt=hr.currentUser;bt?(console.log("[App.tsx]  Auth state updated after waiting:",bt.email),t(bt),n(!0)):(console.error("[App.tsx]  Auth state still null"),n(!1))},2e3))}).catch(We=>{var bt,yt,nt;console.error("[App.tsx]  getRedirectResult failed:",We),(bt=We==null?void 0:We.message)!=null&&bt.includes("sessionStorage")||(yt=We==null?void 0:We.message)!=null&&yt.includes("initial state")||(nt=We==null?void 0:We.message)!=null&&nt.includes("missing initial state")?(console.warn("[App.tsx] sessionStorage error - waiting for onAuthStateChanged"),n(!0)):n(!1)});return}}t(Ne),Ne?(console.log("[App.tsx] User logged in, isAuthChecking will remain true until userProfile is loaded"),console.log("[App.tsx] Current state - user:",Ne.email,"isAuthChecking: true (will be set to false after userProfile is loaded)"),a?console.log("[App.tsx] userProfile already exists:",a,"keeping isAuthChecking as is"):(console.log("[App.tsx] userProfile is null, setting isAuthChecking to true"),n(!0))):lt?(console.log("[App.tsx]  User is null but auth params exist. This might be a sessionStorage issue on mobile."),console.log("[App.tsx] Keeping isAuthChecking=true and waiting for auth state to update..."),n(!0),setTimeout(async()=>{const Ue=hr.currentUser;if(Ue)console.log("[App.tsx]  Auth state updated after waiting:",Ue.email),t(Ue);else{console.warn("[App.tsx]  Auth state still null after waiting. Trying getRedirectResult...");try{const We=await uf(hr);We&&We.user&&(console.log("[App.tsx]  getRedirectResult succeeded:",We.user.email),t(We.user))}catch(We){console.error("[App.tsx]  getRedirectResult failed:",We)}}},3e3)):(console.log("[App.tsx] User logged out, resetting state"),p(null),i(!1),W(null),l(null),n(!1))});return()=>He()},[]),_e.useEffect(()=>{if(!r||!h){console.log("[App.tsx] Data sync useEffect skipped - user:",(r==null?void 0:r.email)||"null","targetUid:",h);return}console.log("[App.tsx] Data sync useEffect started - user:",r.email,"targetUid:",h);const je=async()=>{i(!0);try{if(h===r.uid){console.log("[App.tsx] Fetching userProfile for:",r.uid);const We=tr(Pt,"users",r.uid),bt=new Promise((yt,nt)=>{setTimeout(()=>{nt(new Error(": userProfile10"))},1e4)});try{const yt=await Promise.race([os(We),bt]);if(yt.exists()){const nt=yt.data(),Et={role:nt.role||"user",status:nt.status||"pending"};console.log("[App.tsx] UserProfile loaded from Firestore:",Et),l(Et),console.log("[App.tsx] Setting isAuthChecking to false after userProfile loaded"),n(!1)}else{const nt={role:"user",status:"pending"};console.log("[App.tsx] Creating new user profile:",nt);try{await Promise.race([ln(We,{...nt,email:r.email,createdAt:C_()},{merge:!1}),bt]),console.log("[App.tsx] New user profile created successfully in users collection"),l(nt),console.log("[App.tsx] Setting isAuthChecking to false after new userProfile created"),n(!1)}catch(Et){console.error("[App.tsx] Error creating user profile:",Et),l(nt),n(!1),ln(We,{...nt,email:r.email,createdAt:C_()},{merge:!1}).catch(Oe=>{console.error("[App.tsx] Retry failed to create user profile:",Oe)})}}}catch(yt){console.error("[App.tsx] Error fetching/creating userProfile:",yt);const nt={role:"user",status:"pending"};console.warn("[App.tsx] Using default profile due to error:",nt),l(nt),n(!1)}}else console.log("[App.tsx] Proxy mode, skipping userProfile check"),n(!1);const Ne=fs(tr(Pt,"users",h),We=>{var bt;if(console.log("[onSnapshot users] Document snapshot received, exists:",We.exists(),"isSavingNameRef.current:",de.current),de.current){console.log("[onSnapshot users] Skipping update during name registration (isSavingNameRef.current = true)");return}if(We.exists()){const yt=We.data();console.log("[onSnapshot users] Data exists, shift:",yt.shift?"exists":"null","startOdo:",(bt=yt.shift)==null?void 0:bt.startOdo);const nt=bj(yt.shift);console.log("[onSnapshot users] safeShift after sanitize:",nt?"exists":"null","startOdo:",nt==null?void 0:nt.startOdo);let Et=!1;yt.shift&&nt?(yt.shift.dailyGoal!==nt.dailyGoal||yt.shift.plannedHours!==nt.plannedHours||yt.shift.totalRestMinutes!==nt.totalRestMinutes||yt.shift.startTime!==nt.startTime||yt.shift.startOdo!==nt.startOdo||JSON.stringify(yt.shift.records)!==JSON.stringify(nt.records))&&(Et=!0):yt.shift!==nt&&(Et=!0),Et&&(console.log("[onSnapshot users] Shift format changed, updating..."),ln(tr(Pt,"users",h),{shift:nt},{merge:!0})),W(ft=>{if(!ft&&!nt)return console.log("[onSnapshot users] Both shifts are null, keeping prev"),ft;if(!ft||!nt)return console.log("[onSnapshot users] One shift is null, updating:",{prev:!!ft,safe:!!nt}),nt;const Mt=JSON.stringify(ft),At=JSON.stringify(nt);return Mt!==At?(console.log("[onSnapshot users] Shift changed, updating. prevOdo:",ft.startOdo,"newOdo:",nt.startOdo),nt):(console.log("[onSnapshot users] Shift unchanged, keeping prev"),ft)}),C(yt.dayMetadata||{});const Oe=yt.breakState||{isActive:!1,startTime:null};T(ft=>{const Mt=JSON.stringify(ft),At=JSON.stringify(Oe);return Mt!==At?(console.log("[onSnapshot] BreakState changed:",ft,"->",Oe),Oe):ft});const Ce=yt.stats||{},rt=Ce.shimebiDay!==void 0?Ce.shimebiDay:20,pt=Ce.businessStartHour??9;E(ft=>{const Mt=Ce.userName?Ce.userName:ft.userName||"",At={monthLabel:Ce.monthLabel||ft.monthLabel||"",totalSales:Ce.totalSales||ft.totalSales||0,totalRides:Ce.totalRides||ft.totalRides||0,monthlyGoal:Ce.monthlyGoal||ft.monthlyGoal||1e6,defaultDailyGoal:Ce.defaultDailyGoal??ft.defaultDailyGoal??5e4,shimebiDay:rt,businessStartHour:pt,dutyDays:Ce.dutyDays||ft.dutyDays||[],enabledPaymentMethods:Ce.enabledPaymentMethods||ft.enabledPaymentMethods||Ef,customPaymentLabels:Ce.customPaymentLabels||ft.customPaymentLabels||{},userName:Mt,enabledRideTypes:Ce.enabledRideTypes||ft.enabledRideTypes||Ol,visibilityMode:Ce.visibilityMode||ft.visibilityMode||"PUBLIC",allowedViewers:Ce.allowedViewers||ft.allowedViewers||[],followingUsers:Ce.followingUsers||ft.followingUsers||[],inputMode:F.current?Ce.inputMode||ft.inputMode:Ce.inputMode||ft.inputMode||"DETAILED",plannedWorkDays:Ce.plannedWorkDays??ft.plannedWorkDays??0,dailyGoalSimple:Ce.dailyGoalSimple??ft.dailyGoalSimple??0,workingHours:Ce.workingHours??ft.workingHours??0};return console.log("[onSnapshot] Updating monthlyStats, userName:",At.userName,"from savedStats:",Ce.userName,"from prev:",ft.userName,"final:",Mt),!Ce.inputMode&&!ft.inputMode&&(a==null?void 0:a.status)==="active"&&Ce.userName&&ft.userName&&(console.log("[onSnapshot] Existing user without mode detected, showing mode selection"),setTimeout(()=>{O(!0),F.current=!0},500)),At})}else W(null),E(yt=>({...yt,uid:h}))}),lt=await(async()=>{try{const We=Gr(Pt,"public_status",h,"history"),bt=Hr(We,un("timestamp","asc")),yt=await Zr(bt);if(console.log(`[App] getDocs result: empty=${yt.empty}, size=${yt.size}, targetUid=${h}`),!yt.empty){const nt=[];let Et=0;yt.forEach(Oe=>{Et<5&&(nt.push(Oe.id),Et++)}),console.log("[App] First few record IDs:",nt)}if(yt.empty){N([]),console.log("[App] Subcollection empty, starting with empty array");const nt=Gr(Pt,"public_status",h,"history"),Et=Hr(nt,un("timestamp","asc"));return fs(Et,Ce=>{const rt=[];Ce.forEach(pt=>{rt.push(pt.data())}),N(rt),rt.length>0&&console.log(`[App] Subcollection updated: ${rt.length} records`)},Ce=>{console.error("[App] Error in subcollection snapshot (empty case):",Ce),N([])})}else{const nt=[];return yt.forEach(Oe=>{nt.push(Oe.data())}),N(nt),console.log(`[App] Loaded ${nt.length} records from subcollection`),fs(bt,Oe=>{const Ce=[];Oe.forEach(rt=>{Ce.push(rt.data())}),N(Ce),console.log(`[App] Subcollection updated: ${Ce.length} records`)},Oe=>{console.error("[App] Error in subcollection snapshot:",Oe),N([])})}}catch(We){console.error("[App] Error loading history from subcollection:",We),console.error("[App] Error details:",{message:We==null?void 0:We.message,code:We==null?void 0:We.code,stack:We==null?void 0:We.stack}),N([]);const bt=Gr(Pt,"public_status",h,"history"),yt=Hr(bt,un("timestamp","asc"));return fs(yt,Et=>{const Oe=[];Et.forEach(Ce=>{Oe.push(Ce.data())}),N(Oe),Oe.length>0&&console.log(`[App] Subcollection updated: ${Oe.length} records`)},Et=>{console.error("[App] Error in subcollection snapshot (error case):",Et),N([])})}})(),Ue=fs(tr(Pt,"public_status",h),We=>{console.log("[onSnapshot public_status] Document snapshot received, exists:",We.exists()),i(!1)});return()=>{Ne(),Ue(),lt&&lt()}}catch(Ne){console.error("Data sync failed",Ne),i(!1)}};let He;return je().then(Ne=>{He=Ne}),()=>{He&&He()}},[r,h]),_e.useEffect(()=>{const je=()=>{const Ie=new URLSearchParams(window.location.search).has("cal");console.log("[App] Checking calendar param:",{hasCal:Ie,search:window.location.search}),G(Ie)};je();const He=()=>{je()};return window.addEventListener("popstate",He),window.addEventListener("hashchange",je),()=>{window.removeEventListener("popstate",He),window.removeEventListener("hashchange",je)}},[]),_e.useEffect(()=>{F.current=V},[V]),_e.useEffect(()=>{new URLSearchParams(window.location.search).has("firstLogin")&&r&&A.userName&&(console.log("[App] firstLogin param detected, forcing mode selection screen"),O(!0),F.current=!0)},[r,A.userName]);const se=_e.useMemo(()=>{const je=Yf(A,P,B);return{...A,totalSales:je.totalSales,totalRides:je.totalRides}},[P,B,A]);_e.useEffect(()=>{if(r&&A.userName){const je={...r,uid:h};if(j.open)ge(je,B,P,A,"riding").catch(He=>{console.error("[App] Broadcast status (riding) failed after history state update:",He)});else{const He=B?S.isActive?"break":"active":"offline";ge(je,B,P,A,He).catch(Ne=>{console.error("[App] Broadcast status failed after history state update:",Ne)})}}},[P,B,A.userName,r,h,S.isActive,j.open]);const xe=async(je,He)=>{var Ne,Ie,lt;if(!r||!h)throw new Error("User or targetUid is not available");r.uid!==h&&console.warn("[saveToDB] WARNING: user.uid !== targetUid",{userUid:r.uid,targetUid:h});try{const{history:Ue,...We}=je,bt=Af(We);console.log("[saveToDB] Saving to users collection:",Object.keys(bt),"for uid:",h,"user.uid:",r.uid),console.log("[saveToDB] Updates preview:",JSON.stringify(bt).substring(0,200));const yt=Date.now(),nt=new Promise((Oe,Ce)=>{setTimeout(()=>{const rt=Date.now()-yt;Ce(new Error(`: Firestore30: ${rt}ms`))},3e4)});await Promise.race([ln(tr(Pt,"users",h),bt,{merge:!0}),nt]);const Et=Date.now()-yt;console.log("[saveToDB] Successfully saved to users collection (took",Et,"ms)")}catch(Ue){throw console.error("Save to DB failed:",Ue),(Ne=Ue==null?void 0:Ue.message)!=null&&Ne.includes("")&&(console.error("[saveToDB] Timeout error. Possible causes:"),console.error("  1. "),console.error("  2. Firestore"),console.error("  3. "),console.error("  4. Firestore"),console.error("[saveToDB] Troubleshooting:"),console.error("  - "),console.error("  - Firebase ConsoleFirestore"),console.error("  - ")),((Ue==null?void 0:Ue.code)===403||(Ue==null?void 0:Ue.code)==="permission-denied")&&(console.error("[saveToDB] Permission denied. Details:",{userUid:r.uid,targetUid:h,uidMatch:r.uid===h,errorCode:Ue==null?void 0:Ue.code,errorMessage:Ue==null?void 0:Ue.message,errorStack:Ue==null?void 0:Ue.stack}),console.error("[saveToDB] This usually means:"),console.error("  1. Firestore security rules are blocking the write"),console.error("  2. user.uid does not match targetUid"),console.error("  3. Security rules are not deployed correctly")),((Ue==null?void 0:Ue.code)==="unavailable"||(Ie=Ue==null?void 0:Ue.message)!=null&&Ie.includes("network")||(lt=Ue==null?void 0:Ue.message)!=null&&lt.includes("Network"))&&console.error("[saveToDB] Network error. Check internet connection."),Ue}},pe=_e.useCallback(je=>{v(je),g("history")},[]),Te=(je,He,Ne)=>{if(!r)return;const Ie=A.businessStartHour??9,lt=It(Date.now(),Ie),Ue=P.filter(Oe=>It(Oe.timestamp,Ie)===lt),We=P.filter(Oe=>It(Oe.timestamp,Ie)!==lt),bt=Ue.length>0?Math.min(...Ue.map(Oe=>Oe.timestamp)):Date.now(),yt=D[lt],nt=(yt==null?void 0:yt.totalRestMinutes)||0,Et={id:Math.random().toString(36).substr(2,9),startTime:bt,dailyGoal:je,plannedHours:He,records:Ue,totalRestMinutes:nt,startOdo:Ne};W(Et),N(We),xe({shift:Et}).catch(Oe=>{console.error("[handleStart] Failed to save shift:",Oe)}),window.scrollTo(0,0)},ke=async je=>{if(B&&r){const He=new Map;P.forEach(Qe=>{Qe.id&&He.set(Qe.id,Qe)}),B.records.forEach(Qe=>{Qe.id&&He.set(Qe.id,Qe)});const Ne=Array.from(He.values()).sort((Qe,Ee)=>Qe.timestamp-Ee.timestamp),Ie=A.businessStartHour??9,lt=It(B.startTime,Ie),Ue={...D,[lt]:{...D[lt]||{memo:"",attributedMonth:""},totalRestMinutes:B.totalRestMinutes,startOdo:B.startOdo||null,endOdo:je!==void 0?je:null}},{start:We,end:bt}=$t(new Date,A.shimebiDay,Ie),yt=new Date(bt);A.shimebiDay!==0&&yt.setDate(A.shimebiDay);const nt=Bt(We),Et=Bt(yt),Oe=Ne.filter(Qe=>{const Ee=It(Qe.timestamp,Ie);return Ee>=nt&&Ee<=Et}).reduce((Qe,Ee)=>Qe+Ee.amount,0),Ce=tr(Pt,"public_status",r.uid),rt=await os(Ce),pt=rt.exists()?rt.data():null,ft=It(Date.now(),Ie),Mt=Ne.filter(Qe=>It(Qe.timestamp,Ie)===ft),At=Mt.reduce((Qe,Ee)=>Qe+Ee.amount,0),wt=Mt.length,ze=Mt.filter(Qe=>Qe.rideType!=="FLOW"&&Qe.rideType!=="WAIT").length;let ht=B.startTime;if(Mt.length>0)ht=Math.min(...Mt.map(Qe=>Qe.timestamp));else if(pt!=null&&pt.todayStartTime){const Qe=pt.todayStartTime;It(Qe,Ie)===ft&&(ht=Qe)}ln(tr(Pt,"users",r.uid),{shift:null,history:Ne,dayMetadata:Ue,breakState:{isActive:!1,startTime:null}},{merge:!0}),ln(tr(Pt,"public_status",r.uid),{uid:r.uid,name:A.userName,status:"completed",todayStartTime:ht,sales:At,rideCount:wt,dispatchCount:ze,monthlyTotal:Oe,plannedEndTime:Date.now(),lastUpdated:Date.now(),businessStartHour:A.businessStartHour,visibilityMode:A.visibilityMode,allowedViewers:A.allowedViewers},{merge:!0})}W(null),T({isActive:!1,startTime:null}),g("home"),Q(!1)},Re=je=>{U({open:!0,initialData:je});const He={...r,uid:h};r&&A.userName&&B&&ge(He,B,P,A,"riding").catch(Ne=>{console.error("[handleOpenRecordModal] Broadcast status (riding) failed:",Ne)}),xe({}).catch(Ne=>{console.error("[handleAddRecord] Failed to save:",Ne)})},$e=()=>{U({open:!1});const je={...r,uid:h};r&&A.userName&&B&&ge(je,B,P,A,"active").catch(He=>{console.error("[handleCloseRecordModal] Broadcast status failed:",He)}),xe({}).catch(He=>{console.error("[handleCloseRecordModal] Failed to save:",He)})},Pe=_e.useCallback(async(je,He,Ne,Ie,lt,Ue,We,bt,yt,nt,Et,Oe,Ce,rt,pt,ft,Mt)=>{var fe,he,me;if(!r)return;const At=!!((fe=j.initialData)!=null&&fe.id),wt=((he=j.initialData)==null?void 0:he.id)||ft,ze=A.businessStartHour??9;let ht=P;console.log("[handleSaveRecord] Called with params:",{isEditMode:At,editId:wt,idOverride:ft,initialDataId:(me=j.initialData)==null?void 0:me.id,targetUid:h,timestamp:new Date(Ue).toISOString(),keepOpen:Mt,historyStateCount:P.length});const Qe={id:wt||Math.random().toString(36).substr(2,9),amount:je,toll:He,returnToll:pt||0,paymentMethod:Ne,nonCashAmount:lt,rideType:Ie,timestamp:Ue,pickupLocation:We,dropoffLocation:bt,pickupCoords:yt||"",dropoffCoords:nt||"",passengersMale:Et,passengersFemale:Oe,remarks:Ce,isBadCustomer:rt},Ee=It(Ue,ze),Ve=B?It(B.startTime,ze):null,et=B&&Ve===Ee;if(!At&&h)try{console.log("[handleSaveRecord] Checking for simple mode records on same day:",Ee);const Ae=new Date(Ue);Ae.setHours(ze,0,0,0);const Le=new Date(Ae);Le.setDate(Le.getDate()+1);const De=Ae.getTime(),Fe=Le.getTime()-1;console.log("[handleSaveRecord] Query range:",{start:new Date(De).toISOString(),end:new Date(Fe).toISOString(),targetUid:h});const qe=Gr(Pt,"public_status",h,"history"),xt=Hr(qe,ds("timestamp",">=",De),ds("timestamp","<=",Fe)),vt=await Zr(xt);console.log("[handleSaveRecord] Found",vt.size,"records in date range");const Ct=[];if(vt.forEach(be=>{var jt,St;const Me=be.data(),Ke=It(Me.timestamp,ze),gt=(jt=Me.remarks)==null?void 0:jt.includes("");console.log("[handleSaveRecord] Checking record:",{id:Me.id,recordDateStr:Ke,targetDate:Ee,isSimpleMode:gt,amount:Me.amount,remarks:(St=Me.remarks)==null?void 0:St.substring(0,50)}),Ke===Ee&&gt&&Ct.push(Me)}),console.log("[handleSaveRecord] Found",Ct.length,"simple mode records on same day"),Ct.length>0){const be=Ct.reduce((jt,St)=>jt+St.amount,0),Me=je+He+(pt||0);if(console.log("[handleSaveRecord] Simple mode conflict detected:",{simpleModeTotal:be,newRecordTotal:Me,simpleModeRecords:Ct.map(jt=>({id:jt.id,amount:jt.amount}))}),!window.confirm(`${Rr(be)}
${Rr(Me)}



OK
`)){console.log("[handleSaveRecord] User cancelled, aborting save");return}console.log("[handleSaveRecord] User confirmed, deleting simple mode records");const gt=L0(Pt);for(const jt of Ct){const St=tr(Pt,"users",h,"history",jt.id),Dt=tr(Pt,"public_status",h,"history",jt.id);gt.delete(St),gt.delete(Dt)}await gt.commit(),console.log(`[handleSaveRecord]  Deleted ${Ct.length} simple mode records from subcollections`),ht=ht.filter(jt=>!Ct.some(St=>St.id===jt.id)),console.log("[handleSaveRecord] Removed",Ct.length,"simple mode records from currentHistory")}else console.log("[handleSaveRecord] No simple mode records found on same day")}catch(Ae){console.error("[handleSaveRecord] Error checking simple mode records:",Ae)}let ce=B,ye=ht;if(At){const Ae=[...(B==null?void 0:B.records)||[],...ht].find(De=>De.id===wt);if(Ae&&It(Ae.timestamp,ze),(B==null?void 0:B.records.some(De=>De.id===wt))?ce={...B,records:B.records.filter(De=>De.id!==wt)}:ye=ht.filter(De=>De.id!==wt),et){const De=((ce==null?void 0:ce.records)||[]).filter(Fe=>Fe.id!==Qe.id);ce={...B,records:[...De,Qe].sort((Fe,qe)=>Fe.timestamp-qe.timestamp)}}else ye=[...ye.filter(Fe=>Fe.id!==Qe.id),Qe].sort((Fe,qe)=>Fe.timestamp-qe.timestamp)}else if(et){const Ae=B.records.filter(Le=>Le.id!==Qe.id);ce={...B,records:[...Ae,Qe].sort((Le,De)=>Le.timestamp-De.timestamp)}}else ye=[...ht.filter(Le=>Le.id!==Qe.id),Qe].sort((Le,De)=>Le.timestamp-De.timestamp);W(ce),N(ye);const ie={...r,uid:h};r&&A.userName&&ge(ie,ce,ye,A,"riding").catch(Ae=>{console.error("[handleSaveRecord] Broadcast status (riding) failed:",Ae)}),await xe({shift:ce}).catch(Ae=>{console.error("[handleSaveRecord] Failed to save (riding):",Ae)}),h&&Qe&&(ve(h,[Qe],"users").catch(Ae=>{console.error("[handleSaveRecord] Failed to save to users subcollection:",Ae)}),ve(h,[Qe],"public_status").catch(Ae=>{console.error("[handleSaveRecord] Failed to save to public_status subcollection:",Ae)})),Mt||(r&&A.userName&&ge(ie,ce,ye,A,"active").catch(Ae=>{console.error("[handleSaveRecord] Broadcast status (active) failed:",Ae)}),U({open:!1}))},[B,P,j.initialData,A,r,h]),Je=async(je,He,Ne)=>{try{const Ie=tr(Pt,Ne,je,"history",He);await P0(Ie),console.log(`[App] Deleted record ${He} from ${Ne}/${je}/history`)}catch{console.log(`[App] Record ${He} may not exist in subcollection, ignoring delete error`)}},Ze=_e.useCallback(()=>{var lt;if(!r)return;const je=(lt=j.initialData)==null?void 0:lt.id;if(!je)return;const He=B?{...B,records:B.records.filter(Ue=>Ue.id!==je)}:null,Ne=P.filter(Ue=>Ue.id!==je);W(He),N(Ne),h&&je&&(Je(h,je,"public_status").catch(Ue=>{console.error("[handleDeleteRecord] Failed to delete from public_status subcollection:",Ue)}),Je(h,je,"users").catch(Ue=>{console.error("[handleDeleteRecord] Failed to delete from users subcollection:",Ue)}));const Ie={...r,uid:h};r&&A.userName&&ge(Ie,He,Ne,A,"active").catch(Ue=>{console.error("[handleDeleteRecord] Broadcast status failed:",Ue)}),xe({shift:He}).catch(Ue=>{console.error("[handleDeleteRecord] Failed to save:",Ue)}),U({open:!1})},[j.initialData,B,P,r,h,A]),Ye=je=>{E(He=>{let Ne=je.dutyDays||He.dutyDays;je.shimebiDay!==void 0&&je.shimebiDay!==He.shimebiDay&&(Ne=dz(je.shimebiDay,je.businessStartHour??He.businessStartHour));const Ie={...He,...je,dutyDays:Ne};return je.inputMode&&je.inputMode!==He.inputMode&&(je.inputMode,g("home")),xe({stats:Ie}).then(()=>{const lt=je.visibilityMode!==void 0&&je.visibilityMode!==He.visibilityMode,Ue=je.allowedViewers!==void 0&&JSON.stringify(je.allowedViewers)!==JSON.stringify(He.allowedViewers);if((lt||Ue)&&r&&Ie.userName){const We={...r,uid:h},bt=B?S.isActive?"break":"active":"offline";ge(We,B,P,Ie,bt).catch(yt=>{console.error("[handleUpdateMonthlyStats] Broadcast status failed:",yt)})}}).catch(lt=>{console.error("[handleUpdateMonthlyStats] Failed to save stats:",lt)}),Ie})},Xe=async()=>{var He;if(!Z.trim()){console.warn("[handleSaveInitialName] tempUserName is empty");return}console.log("[DEBUG] handleSaveInitialName called"),console.log("[DEBUG] tempUserName:",Z),console.log("[DEBUG] user:",r==null?void 0:r.uid),console.log("[DEBUG] targetUid:",h),console.log("[DEBUG] monthlyStats:",A),le(!0),de.current=!0;const je=new Promise((Ne,Ie)=>{setTimeout(()=>{Ie(new Error(": 60"))},6e4)});try{const{inputMode:Ne,...Ie}=A,lt={...Ie,userName:Z.trim()};console.log("[DEBUG] updatedStats:",lt),console.log("[DEBUG] Calling saveToDB with:",{stats:lt}),await Promise.race([xe({stats:lt}),je]);const Ue=Z.trim();if(console.log("[handleSaveInitialName] Setting userName to:",Ue),r){const We={...r,uid:h};await ge(We,null,[],lt,"offline").catch(bt=>{console.error("[handleSaveInitialName] Broadcast status failed:",bt)})}E(We=>{const{inputMode:bt,...yt}=We,nt={...yt,userName:Ue};return console.log("[handleSaveInitialName] Updating monthlyStats, prev.userName:",We.userName,"new userName:",Ue),nt}),console.log("[handleSaveInitialName] Name saved successfully:",Ue),await new Promise(We=>setTimeout(We,100)),console.log("[handleSaveInitialName] After state update, checking if userName is set..."),le(!1),de.current=!1,O(!0),F.current=!0}catch(Ne){console.error("[handleSaveInitialName] Failed to save stats:",Ne),console.error("[handleSaveInitialName] Error details:",{code:Ne==null?void 0:Ne.code,message:Ne==null?void 0:Ne.message,stack:Ne==null?void 0:Ne.stack}),le(!1),de.current=!1,(Ne==null?void 0:Ne.code)===403||(Ne==null?void 0:Ne.code)==="permission-denied"?alert(`: 

Firebase ConsoleFirestore

: `+(Ne==null?void 0:Ne.code)+`

ID: `+(r==null?void 0:r.uid)+`
UID: `+h):(Ne==null?void 0:Ne.code)==="unavailable"?alert(`: Firebase

`):(He=Ne==null?void 0:Ne.message)!=null&&He.includes("")?alert(`: 30

`):alert(`

: `+((Ne==null?void 0:Ne.message)||"Unknown error")+`

`)}},ut=_e.useCallback(()=>{v(null)},[]),ot=je=>{if(B){const He={...B,startOdo:je};W(He),xe({shift:He}).catch(Ne=>{console.error("[handleUpdateStartOdo] Failed to save shift:",Ne)})}};if((d||e||s)&&console.log("[App] Showing splash screen:",{appInitLoading:d,isAuthChecking:e,isDataLoading:s,user:(r==null?void 0:r.email)||"null",userProfile:a?{role:a.role,status:a.status}:"null"}),d||e||s)return y.jsx(cz,{});if(!r&&!e)return console.log("[App] Showing login screen - user:",(r==null?void 0:r.email)||"null","isAuthChecking:",e,"userProfile:",a),y.jsx(uz,{});if(r&&!e){if(console.log("[App] Checking user authorization:",{user:r.email,userProfile:a?{role:a.role,status:a.status}:"null",isAuthChecking:e,userUid:r.uid}),!a)return console.warn("[App] User is logged in but userProfile is null. This might be an error. Showing UnauthorizedView."),console.warn("[App] Attempting to re-fetch userProfile..."),setTimeout(async()=>{try{const je=tr(Pt,"users",r.uid),He=await os(je);if(He.exists()){const Ne=He.data(),Ie={role:Ne.role||"user",status:Ne.status||"pending"};console.log("[App] UserProfile re-fetched successfully:",Ie),l(Ie)}else console.warn("[App] UserProfile still does not exist after re-fetch")}catch(je){console.error("[App] Error re-fetching userProfile:",je)}},1e3),y.jsx(R_,{});if(a.status!=="active")return console.log("[App] User status is not active:",a.status,"- showing UnauthorizedView"),y.jsx(R_,{})}if(r&&A.userName&&V){const je=async He=>{try{const Ne={...A,inputMode:He};await xe({stats:Ne}),E(Ie=>({...Ie,inputMode:He})),O(!1),F.current=!1,He==="SIMPLE"&&g("home")}catch(Ne){console.error("[handleModeSelect] Failed to save mode:",Ne),alert("")}};return y.jsx(U4,{onSelect:je,isInitialLogin:!0})}return r&&!A.userName&&!re?y.jsx("div",{className:"min-h-screen bg-[#0A0E14] flex flex-col items-center justify-center p-6 text-white animate-in fade-in duration-700",children:y.jsxs("div",{className:"w-full max-w-sm space-y-8",children:[y.jsxs("div",{className:"text-center space-y-2",children:[y.jsx("div",{className:"bg-amber-500/10 w-20 h-20 rounded-3xl border border-amber-500/20 flex items-center justify-center mx-auto mb-6",children:y.jsx(za,{size:40,className:"text-amber-500"})}),y.jsx("h2",{className:"text-3xl font-black italic text-white tracking-tighter",children:"WELCOME"}),y.jsx("p",{className:"text-gray-500 font-bold uppercase tracking-widest text-xs",children:""})]}),y.jsxs("div",{className:"bg-[#1A222C] p-6 rounded-[32px] border border-gray-800 shadow-2xl space-y-6",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-[10px] font-black text-gray-500 uppercase tracking-[0.2em] ml-2",children:""}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute inset-y-0 left-4 flex items-center pointer-events-none text-gray-600",children:y.jsx(Ll,{size:18})}),y.jsx("input",{type:"text",placeholder:":  ",value:Z,onChange:je=>ae(je.target.value),className:"w-full bg-gray-950 border border-gray-800 rounded-2xl py-4 pl-12 pr-4 text-white font-black outline-none focus:border-amber-500/50 transition-all"})]})]}),y.jsx("button",{disabled:!Z.trim()||re,onClick:Xe,className:"w-full bg-amber-500 disabled:bg-gray-800 disabled:text-gray-600 text-black py-4 rounded-2xl font-black text-xl shadow-xl active:scale-95 transition-all flex items-center justify-center gap-2",children:re?y.jsx(Al,{className:"animate-spin",size:20}):y.jsxs(y.Fragment,{children:[" ",y.jsx(gT,{size:20})]})})]}),y.jsx("p",{className:"text-center text-[10px] text-gray-600 font-bold px-8",children:""})]})}):r&&c?y.jsx(cj,{onBack:()=>o(!1)}):L?y.jsx("div",{className:"w-full min-h-screen bg-[#0A0E14]",children:r?y.jsx(Hj,{history:[...P,...(B==null?void 0:B.records)||[]],dayMetadata:D,businessStartHour:A.businessStartHour??9,shimebiDay:A.shimebiDay,monthlyStats:A}):y.jsx("div",{className:"flex items-center justify-center min-h-screen text-white",children:y.jsxs("div",{className:"text-center",children:[y.jsx("p",{className:"text-lg font-bold mb-4",children:""}),y.jsx("p",{className:"text-sm text-gray-400",children:""})]})})}):y.jsxs("div",{className:"max-w-md mx-auto min-h-screen bg-[#0A0E14] text-white font-sans pb-28 overflow-x-hidden relative w-full",children:[u&&u!==(r==null?void 0:r.uid)&&y.jsxs("div",{className:"bg-red-600 text-white px-4 py-2 flex justify-between items-center sticky top-0 z-50 shadow-md safe-top animate-in slide-in-from-top",children:[y.jsxs("span",{className:"text-xs font-bold animate-pulse flex items-center gap-2",children:[y.jsx(z1,{size:16}),": ",A.userName||""]}),y.jsx("button",{onClick:()=>p(null),className:"bg-white text-red-600 text-xs font-black px-3 py-1.5 rounded-full active:scale-95 shadow-sm",children:""})]}),y.jsx(fz,{userProfile:a,onAdminClick:()=>{console.log("Admin button clicked"),o(!0)},onSettingsClick:()=>{console.log("Settings button clicked"),console.log("Current isSettingsOpen:",Y),ee(!0),console.log("setIsSettingsOpen(true) called")},onLogoClick:()=>{(a==null?void 0:a.role)==="admin"&&(console.log("Logo clicked - opening CSV modal"),z(!0))}}),y.jsx("main",{className:"w-full overflow-x-hidden",children:(A.inputMode||"DETAILED")==="SIMPLE"?y.jsxs(y.Fragment,{children:[x==="home"&&!w&&y.jsx(oz,{stats:A,onUpdateStats:Ye,onNavigateToInput:()=>v(new Date),history:P}),x==="home"&&w&&y.jsx(rz,{stats:A,onUpdateStats:Ye,initialDate:w,initialRecordId:k,onClearInitialDate:()=>{v(null),R(null)},onBack:()=>{v(null),R(null)}}),x==="history"&&y.jsx(az,{stats:A,onEditRecord:je=>{const He=new Date(je.timestamp);v(He),R(je.id),g("home")}}),x==="analysis"&&y.jsx(sz,{stats:A})]}):y.jsxs(y.Fragment,{children:[x==="home"&&y.jsx(kj,{shift:B,stats:se,breakState:S,history:P,dayMetadata:D,onUpdateStats:Ye,onStart:Te,onEnd:()=>Q(!0),onAdd:je=>Re(je?{remarks:je}:void 0),onEdit:je=>Re(je),onUpdateGoal:je=>Ye({monthlyGoal:je}),onUpdateShiftGoal:je=>{if(B){const He={...B,dailyGoal:je};W(He),xe({shift:He}).catch(Ne=>{console.error("[onUpdateShiftGoal] Failed to save shift:",Ne)})}},onAddRestMinutes:je=>{if(B){const He={...B,totalRestMinutes:(B.totalRestMinutes||0)+je};W(He),xe({shift:He}).catch(Ne=>{console.error("[onUpdateRestMinutes] Failed to save shift:",Ne)})}},onToggleBreak:()=>{console.log("[onToggleBreak] Called, current breakState:",S),console.log("[onToggleBreak] Current shift:",B?"exists":"null","startOdo:",B==null?void 0:B.startOdo);const je=S.isActive?{isActive:!1,startTime:null}:{isActive:!0,startTime:Date.now()},He=je.isActive?"break":"active";if(console.log("[onToggleBreak] New breakState:",je,"nextStatus:",He),T(je),r&&A.userName){const Ne={...r,uid:h};console.log("[onToggleBreak] Broadcasting status immediately, status:",He,"newState:",je),ge(Ne,B,P,A,He).catch(Ie=>{console.error("[onToggleBreak] Broadcast status failed:",Ie)})}console.log("[onToggleBreak] Calling saveToDB..."),xe({breakState:je}).catch(Ne=>{console.error("[onToggleBreak] Failed to save break state:",Ne)})},setBreakState:je=>{console.log("[setBreakState] Setting breakState:",je),T(je);const He=je.isActive?"break":"active";if(r&&A.userName){const Ne={...r,uid:h};console.log("[setBreakState] Broadcasting status immediately, status:",He),ge(Ne,B,P,A,He).catch(Ie=>{console.error("[setBreakState] Broadcast status failed:",Ie)})}xe({breakState:je}).catch(Ne=>{console.error("[setBreakState] Failed to save break state:",Ne)})},onShiftEdit:()=>te(!0),onUpdateStartOdo:ot}),x==="history"&&y.jsx(Dj,{history:(()=>{const je=[...P,...(B==null?void 0:B.records)||[]],He=new Map;return je.forEach(Ne=>He.set(Ne.id,Ne)),Array.from(He.values()).sort((Ne,Ie)=>Ne.timestamp-Ie.timestamp)})(),dayMetadata:D,customPaymentLabels:A.customPaymentLabels||{},businessStartHour:A.businessStartHour??9,shimebiDay:A.shimebiDay,onEditRecord:je=>Re(je),onUpdateMetadata:(je,He)=>{const Ne={...D,[je]:{...D[je]||{},...He}};C(Ne),xe({dayMetadata:Ne}).catch(Ie=>{console.error("[onUpdateMetadata] Failed to save dayMetadata:",Ie)})},stats:A,initialTargetDate:w,onClearTargetDate:ut}),x==="analysis"&&y.jsx(Fj,{history:[...P,...(B==null?void 0:B.records)||[]],stats:A,onNavigateToHistory:pe}),x==="analytics"&&y.jsx(Bj,{history:[...P,...(B==null?void 0:B.records)||[]],stats:A}),x==="guide"&&y.jsx(Uj,{})]})}),j.open&&y.jsx(Yj,{initialData:j.initialData,enabledMethods:A.enabledPaymentMethods,enabledRideTypes:A.enabledRideTypes||Ol,customLabels:A.customPaymentLabels||{},onClose:$e,onSave:Pe,onDelete:Ze,businessStartHour:A.businessStartHour??9,followingUsers:A.followingUsers||[],shift:B,history:P,monthlyStats:A}),I&&B&&y.jsx(Kj,{shift:B,customLabels:A.customPaymentLabels||{},enabledMethods:A.enabledPaymentMethods,businessStartHour:A.businessStartHour??9,onConfirm:ke,onClose:()=>Q(!1)}),Y&&y.jsx(tz,{stats:A,isAdmin:(a==null?void 0:a.role)==="admin",onUpdateStats:Ye,history:P,onClose:()=>{console.log("SettingsModal onClose called"),ee(!1)},onNavigateToDashboard:()=>{(A.inputMode||"DETAILED")==="SIMPLE"&&(g("home"),v(null))},onImpersonate:je=>{p(je),ee(!1)},onImportRecords:async(je,He,Ne,Ie)=>{var Ue,We,bt,yt;if(!r)return{addedCount:0,replaceCount:0};const lt=He||h;if(!lt)return{addedCount:0,replaceCount:0};try{i(!0),Ie==null||Ie(0,100,"...");const nt=tr(Pt,"users",lt),Et=tr(Pt,"public_status",lt);Ie==null||Ie(10,100,"...");const[Oe,Ce]=await Promise.all([os(nt),os(Et)]);let rt=[];try{const fe=Gr(Pt,"public_status",lt,"history"),he=Hr(fe,un("timestamp","asc")),me=await Zr(he);me.empty?(rt=[],console.log("[CSV Import] Subcollection is empty, starting with empty array")):(me.forEach(Ae=>{rt.push(Ae.data())}),console.log(`[CSV Import] Loaded ${rt.length} records from subcollection`))}catch(fe){console.error("[CSV Import] Error loading from subcollection:",fe),rt=[]}const pt=((Ue=Oe.data())==null?void 0:Ue.stats)||{},ft=pt.customPaymentLabels||{},Mt=pt.enabledPaymentMethods||Ef,At=((We=Ce.data())==null?void 0:We.name)||"";let wt=0,ze=0;if(Ie==null||Ie(20,100,"..."),((Ne==null?void 0:Ne.mergeMode)||"skip")==="overwrite")je.forEach(fe=>{const he=rt.findIndex(me=>me.timestamp===fe.timestamp&&me.amount===fe.amount);if(he!==-1){const me=rt[he].id;rt[he]={...fe,id:me},ze++}else rt.push(fe),wt++});else{const fe=new Set(rt.map(me=>me.id)),he=je.filter(me=>!fe.has(me.id));rt=[...rt,...he],wt=he.length}Ie==null||Ie(50,100,"...");const Qe=rt.sort((fe,he)=>fe.timestamp-he.timestamp);Ie==null||Ie(60,100,"...");const Ee=((bt=Oe.data())==null?void 0:bt.stats)||{},Ve=Ee.shimebiDay??20,et=Ee.businessStartHour??9,ce={};Qe.forEach((fe,he)=>{const me=$t(new Date(fe.timestamp),Ve,et),Ae=me.end.getFullYear(),Le=me.end.getMonth()+1,De=`${Ae}-${String(Le).padStart(2,"0")}`;if(ce[De]||(ce[De]={label:`${Ae}${Le}`,startStr:Bt(me.start),endStr:Bt(me.end),records:[],sales:0}),ce[De].records.push(fe),ce[De].sales+=fe.amount,(he+1)%100===0){const Fe=60+Math.floor(he/Qe.length*20);Ie==null||Ie(Fe,100,`... (${he+1}/${Qe.length})`)}}),Ie==null||Ie(90,100,"..."),await Promise.all([ln(nt,{records:Qe},{merge:!0}),ln(Et,{months:ce,...Lg?{}:{history:Qe},lastUpdated:Date.now()},{merge:!0})]),Ie==null||Ie(92,100,"..."),await ve(lt,Qe,"public_status").catch(fe=>{console.error("[onImportRecords] Failed to save to subcollection:",fe)}),await ve(lt,Qe,"users").catch(fe=>{console.error("[onImportRecords] Failed to save to users subcollection:",fe)});const ye={...r,uid:lt},ie=((yt=Oe.data())==null?void 0:yt.stats)||A;return ye&&ie.userName&&(Ie==null||Ie(95,100,"..."),await ge(ye,null,Qe,ie,"offline").catch(fe=>{console.error("[onImportRecords] Broadcast status failed:",fe)})),Ie==null||Ie(100,100,""),{addedCount:wt,replaceCount:ze}}catch(nt){return console.error("Import failed",nt),alert(""),{addedCount:0,replaceCount:0}}finally{i(!1)}}}),q&&B&&y.jsx(Qj,{shift:B,onClose:()=>te(!1),onSave:(je,He)=>{if(B){const Ne={...B,startTime:je,plannedHours:He};W(Ne),xe({shift:Ne}).catch(Ie=>{console.error("[onSave] Failed to save shift:",Ie)})}}}),H&&y.jsx(ez,{onClose:()=>z(!1),isAdmin:(a==null?void 0:a.role)==="admin",currentUid:(r==null?void 0:r.uid)||"",onImport:async(je,He)=>{var Ie,lt;if(!r)return{addedCount:0,replaceCount:0};const Ne=He||h;if(!Ne)return{addedCount:0,replaceCount:0};try{i(!0);const Ue=tr(Pt,"users",Ne),We=tr(Pt,"public_status",Ne),[bt,yt]=await Promise.all([os(Ue),os(We)]);let nt=[];try{const ze=Gr(Pt,"public_status",Ne,"history"),ht=Hr(ze,un("timestamp","asc")),Qe=await Zr(ht);Qe.empty?(nt=[],console.log("[CSV Import] Subcollection is empty, starting with empty array")):(Qe.forEach(Ee=>{nt.push(Ee.data())}),console.log(`[CSV Import] Loaded ${nt.length} records from subcollection`))}catch(ze){console.error("[CSV Import] Error loading from subcollection:",ze),nt=[]}let Et=0,Oe=0;je.forEach(ze=>{const ht=nt.findIndex(Qe=>Qe.timestamp===ze.timestamp&&Qe.amount===ze.amount);if(ht!==-1){const Qe=nt[ht].id;nt[ht]={...ze,id:Qe},Oe++}else nt.push(ze),Et++});const Ce=nt.sort((ze,ht)=>ze.timestamp-ht.timestamp),rt=((Ie=bt.data())==null?void 0:Ie.stats)||A,pt=rt.shimebiDay??20,ft=rt.businessStartHour??9,Mt={};Ce.forEach(ze=>{const ht=$t(new Date(ze.timestamp),pt,ft),Qe=ht.end.getFullYear(),Ee=ht.end.getMonth()+1,Ve=`${Qe}-${String(Ee).padStart(2,"0")}`;Mt[Ve]||(Mt[Ve]={label:`${Qe}${Ee}`,startStr:Bt(ht.start),endStr:Bt(ht.end),records:[],sales:0}),Mt[Ve].records.push(ze),Mt[Ve].sales+=ze.amount}),await Promise.all([ln(Ue,{records:Ce},{merge:!0}),ln(We,{months:Mt,...Lg?{}:{history:Ce},lastUpdated:Date.now()},{merge:!0})]),await ve(Ne,Ce,"public_status").catch(ze=>{console.error("[CsvImportModal] Failed to save to subcollection:",ze)}),await ve(Ne,Ce,"users").catch(ze=>{console.error("[CsvImportModal] Failed to save to users subcollection:",ze)});const At={...r,uid:Ne},wt=((lt=bt.data())==null?void 0:lt.stats)||A;return At&&wt.userName&&await ge(At,null,Ce,wt,"offline").catch(ze=>{console.error("[CsvImportModal] Broadcast status failed:",ze)}),z(!1),{addedCount:Et,replaceCount:Oe}}catch(Ue){return console.error("Import failed",Ue),alert(""),{addedCount:0,replaceCount:0}}finally{i(!1)}}}),r&&y.jsx(hz,{activeTab:x,monthlyStats:A,showCalendar:L,targetHistoryDate:w,onTabChange:je=>g(je),onTargetHistoryDateChange:je=>v(je),onTargetHistoryRecordIdChange:je=>R(je)}),V&&y.jsx(U4,{onSelect:async je=>{O(!1),F.current=!1,await Ye({inputMode:je})}})]})}const vS=document.getElementById("root");if(!vS)throw new Error("Could not find root element to mount to");const mz=aT.createRoot(vS);mz.render(y.jsx(d0.StrictMode,{children:y.jsx(pz,{})}));
