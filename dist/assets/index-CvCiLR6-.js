(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function e(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=e(s);fetch(s.href,i)}})();var pr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function U4(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var bg={exports:{}},af={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv;function Xk(){if(Pv)return af;Pv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(n,s,i){var a=null;if(i!==void 0&&(a=""+i),s.key!==void 0&&(a=""+s.key),"key"in s){i={};for(var l in s)l!=="key"&&(i[l]=s[l])}else i=s;return s=i.ref,{$$typeof:r,type:n,key:a,ref:s!==void 0?s:null,props:i}}return af.Fragment=t,af.jsx=e,af.jsxs=e,af}var Lv;function Yk(){return Lv||(Lv=1,bg.exports=Xk()),bg.exports}var w=Yk(),xg={exports:{}},sr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function Kk(){if(Bv)return sr;Bv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),o=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),h=Symbol.iterator;function d(L){return L===null||typeof L!="object"?null:(L=h&&L[h]||L["@@iterator"],typeof L=="function"?L:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,g={};function v(L,D,Z){this.props=L,this.context=D,this.refs=g,this.updater=Z||b}v.prototype.isReactComponent={},v.prototype.setState=function(L,D){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,D,"setState")},v.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function y(){}y.prototype=v.prototype;function k(L,D,Z){this.props=L,this.context=D,this.refs=g,this.updater=Z||b}var R=k.prototype=new y;R.constructor=k,x(R,v.prototype),R.isPureReactComponent=!0;var z=Array.isArray;function q(){}var B={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function O(L,D,Z){var K=Z.ref;return{$$typeof:r,type:L,key:D,ref:K!==void 0?K:null,props:Z}}function F(L,D){return O(L.type,D,L.props)}function W(L){return typeof L=="object"&&L!==null&&L.$$typeof===r}function V(L){var D={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(Z){return D[Z]})}var N=/\/+/g;function P(L,D){return typeof L=="object"&&L!==null&&L.key!=null?V(""+L.key):D.toString(36)}function C(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(q,q):(L.status="pending",L.then(function(D){L.status==="pending"&&(L.status="fulfilled",L.value=D)},function(D){L.status==="pending"&&(L.status="rejected",L.reason=D)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function S(L,D,Z,K,ee){var G=typeof L;(G==="undefined"||G==="boolean")&&(L=null);var te=!1;if(L===null)te=!0;else switch(G){case"bigint":case"string":case"number":te=!0;break;case"object":switch(L.$$typeof){case r:case t:te=!0;break;case u:return te=L._init,S(te(L._payload),D,Z,K,ee)}}if(te)return ee=ee(L),te=K===""?"."+P(L,0):K,z(ee)?(Z="",te!=null&&(Z=te.replace(N,"$&/")+"/"),S(ee,D,Z,"",function(Q){return Q})):ee!=null&&(W(ee)&&(ee=F(ee,Z+(ee.key==null||L&&L.key===ee.key?"":(""+ee.key).replace(N,"$&/")+"/")+te)),D.push(ee)),1;te=0;var H=K===""?".":K+":";if(z(L))for(var U=0;U<L.length;U++)K=L[U],G=H+P(K,U),te+=S(K,D,Z,G,ee);else if(U=d(L),typeof U=="function")for(L=U.call(L),U=0;!(K=L.next()).done;)K=K.value,G=H+P(K,U++),te+=S(K,D,Z,G,ee);else if(G==="object"){if(typeof L.then=="function")return S(C(L),D,Z,K,ee);throw D=String(L),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.")}return te}function E(L,D,Z){if(L==null)return L;var K=[],ee=0;return S(L,K,"","",function(G){return D.call(Z,G,ee++)}),K}function A(L){if(L._status===-1){var D=L._result;D=D(),D.then(function(Z){(L._status===0||L._status===-1)&&(L._status=1,L._result=Z)},function(Z){(L._status===0||L._status===-1)&&(L._status=2,L._result=Z)}),L._status===-1&&(L._status=0,L._result=D)}if(L._status===1)return L._result.default;throw L._result}var T=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var D=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(D))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},j={map:E,forEach:function(L,D,Z){E(L,function(){D.apply(this,arguments)},Z)},count:function(L){var D=0;return E(L,function(){D++}),D},toArray:function(L){return E(L,function(D){return D})||[]},only:function(L){if(!W(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return sr.Activity=p,sr.Children=j,sr.Component=v,sr.Fragment=e,sr.Profiler=s,sr.PureComponent=k,sr.StrictMode=n,sr.Suspense=c,sr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,sr.__COMPILER_RUNTIME={__proto__:null,c:function(L){return B.H.useMemoCache(L)}},sr.cache=function(L){return function(){return L.apply(null,arguments)}},sr.cacheSignal=function(){return null},sr.cloneElement=function(L,D,Z){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var K=x({},L.props),ee=L.key;if(D!=null)for(G in D.key!==void 0&&(ee=""+D.key),D)!I.call(D,G)||G==="key"||G==="__self"||G==="__source"||G==="ref"&&D.ref===void 0||(K[G]=D[G]);var G=arguments.length-2;if(G===1)K.children=Z;else if(1<G){for(var te=Array(G),H=0;H<G;H++)te[H]=arguments[H+2];K.children=te}return O(L.type,ee,K)},sr.createContext=function(L){return L={$$typeof:a,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:i,_context:L},L},sr.createElement=function(L,D,Z){var K,ee={},G=null;if(D!=null)for(K in D.key!==void 0&&(G=""+D.key),D)I.call(D,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(ee[K]=D[K]);var te=arguments.length-2;if(te===1)ee.children=Z;else if(1<te){for(var H=Array(te),U=0;U<te;U++)H[U]=arguments[U+2];ee.children=H}if(L&&L.defaultProps)for(K in te=L.defaultProps,te)ee[K]===void 0&&(ee[K]=te[K]);return O(L,G,ee)},sr.createRef=function(){return{current:null}},sr.forwardRef=function(L){return{$$typeof:l,render:L}},sr.isValidElement=W,sr.lazy=function(L){return{$$typeof:u,_payload:{_status:-1,_result:L},_init:A}},sr.memo=function(L,D){return{$$typeof:o,type:L,compare:D===void 0?null:D}},sr.startTransition=function(L){var D=B.T,Z={};B.T=Z;try{var K=L(),ee=B.S;ee!==null&&ee(Z,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(q,T)}catch(G){T(G)}finally{D!==null&&Z.types!==null&&(D.types=Z.types),B.T=D}},sr.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},sr.use=function(L){return B.H.use(L)},sr.useActionState=function(L,D,Z){return B.H.useActionState(L,D,Z)},sr.useCallback=function(L,D){return B.H.useCallback(L,D)},sr.useContext=function(L){return B.H.useContext(L)},sr.useDebugValue=function(){},sr.useDeferredValue=function(L,D){return B.H.useDeferredValue(L,D)},sr.useEffect=function(L,D){return B.H.useEffect(L,D)},sr.useEffectEvent=function(L){return B.H.useEffectEvent(L)},sr.useId=function(){return B.H.useId()},sr.useImperativeHandle=function(L,D,Z){return B.H.useImperativeHandle(L,D,Z)},sr.useInsertionEffect=function(L,D){return B.H.useInsertionEffect(L,D)},sr.useLayoutEffect=function(L,D){return B.H.useLayoutEffect(L,D)},sr.useMemo=function(L,D){return B.H.useMemo(L,D)},sr.useOptimistic=function(L,D){return B.H.useOptimistic(L,D)},sr.useReducer=function(L,D,Z){return B.H.useReducer(L,D,Z)},sr.useRef=function(L){return B.H.useRef(L)},sr.useState=function(L){return B.H.useState(L)},sr.useSyncExternalStore=function(L,D,Z){return B.H.useSyncExternalStore(L,D,Z)},sr.useTransition=function(){return B.H.useTransition()},sr.version="19.2.3",sr}var Uv;function F1(){return Uv||(Uv=1,xg.exports=Kk()),xg.exports}var _e=F1();const V4=U4(_e);var yg={exports:{}},of={},vg={exports:{}},wg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vv;function Qk(){return Vv||(Vv=1,(function(r){function t(S,E){var A=S.length;S.push(E);e:for(;0<A;){var T=A-1>>>1,j=S[T];if(0<s(j,E))S[T]=E,S[A]=j,A=T;else break e}}function e(S){return S.length===0?null:S[0]}function n(S){if(S.length===0)return null;var E=S[0],A=S.pop();if(A!==E){S[0]=A;e:for(var T=0,j=S.length,L=j>>>1;T<L;){var D=2*(T+1)-1,Z=S[D],K=D+1,ee=S[K];if(0>s(Z,A))K<j&&0>s(ee,Z)?(S[T]=ee,S[K]=A,T=K):(S[T]=Z,S[D]=A,T=D);else if(K<j&&0>s(ee,A))S[T]=ee,S[K]=A,T=K;else break e}}return E}function s(S,E){var A=S.sortIndex-E.sortIndex;return A!==0?A:S.id-E.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;r.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();r.unstable_now=function(){return a.now()-l}}var c=[],o=[],u=1,p=null,h=3,d=!1,b=!1,x=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function R(S){for(var E=e(o);E!==null;){if(E.callback===null)n(o);else if(E.startTime<=S)n(o),E.sortIndex=E.expirationTime,t(c,E);else break;E=e(o)}}function z(S){if(x=!1,R(S),!b)if(e(c)!==null)b=!0,q||(q=!0,V());else{var E=e(o);E!==null&&C(z,E.startTime-S)}}var q=!1,B=-1,I=5,O=-1;function F(){return g?!0:!(r.unstable_now()-O<I)}function W(){if(g=!1,q){var S=r.unstable_now();O=S;var E=!0;try{e:{b=!1,x&&(x=!1,y(B),B=-1),d=!0;var A=h;try{t:{for(R(S),p=e(c);p!==null&&!(p.expirationTime>S&&F());){var T=p.callback;if(typeof T=="function"){p.callback=null,h=p.priorityLevel;var j=T(p.expirationTime<=S);if(S=r.unstable_now(),typeof j=="function"){p.callback=j,R(S),E=!0;break t}p===e(c)&&n(c),R(S)}else n(c);p=e(c)}if(p!==null)E=!0;else{var L=e(o);L!==null&&C(z,L.startTime-S),E=!1}}break e}finally{p=null,h=A,d=!1}E=void 0}}finally{E?V():q=!1}}}var V;if(typeof k=="function")V=function(){k(W)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,P=N.port2;N.port1.onmessage=W,V=function(){P.postMessage(null)}}else V=function(){v(W,0)};function C(S,E){B=v(function(){S(r.unstable_now())},E)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(S){S.callback=null},r.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<S?Math.floor(1e3/S):5},r.unstable_getCurrentPriorityLevel=function(){return h},r.unstable_next=function(S){switch(h){case 1:case 2:case 3:var E=3;break;default:E=h}var A=h;h=E;try{return S()}finally{h=A}},r.unstable_requestPaint=function(){g=!0},r.unstable_runWithPriority=function(S,E){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var A=h;h=S;try{return E()}finally{h=A}},r.unstable_scheduleCallback=function(S,E,A){var T=r.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?T+A:T):A=T,S){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=A+j,S={id:u++,callback:E,priorityLevel:S,startTime:A,expirationTime:j,sortIndex:-1},A>T?(S.sortIndex=A,t(o,S),e(c)===null&&S===e(o)&&(x?(y(B),B=-1):x=!0,C(z,A-T))):(S.sortIndex=j,t(c,S),b||d||(b=!0,q||(q=!0,V()))),S},r.unstable_shouldYield=F,r.unstable_wrapCallback=function(S){var E=h;return function(){var A=h;h=E;try{return S.apply(this,arguments)}finally{h=A}}}})(wg)),wg}var zv;function Zk(){return zv||(zv=1,vg.exports=Qk()),vg.exports}var _g={exports:{}},ns={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv;function Jk(){if(Hv)return ns;Hv=1;var r=F1();function t(c){var o="https://react.dev/errors/"+c;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+c+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var n={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},s=Symbol.for("react.portal");function i(c,o,u){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:p==null?null:""+p,children:c,containerInfo:o,implementation:u}}var a=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,o){if(c==="font")return"";if(typeof o=="string")return o==="use-credentials"?o:""}return ns.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,ns.createPortal=function(c,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)throw Error(t(299));return i(c,o,null,u)},ns.flushSync=function(c){var o=a.T,u=n.p;try{if(a.T=null,n.p=2,c)return c()}finally{a.T=o,n.p=u,n.d.f()}},ns.preconnect=function(c,o){typeof c=="string"&&(o?(o=o.crossOrigin,o=typeof o=="string"?o==="use-credentials"?o:"":void 0):o=null,n.d.C(c,o))},ns.prefetchDNS=function(c){typeof c=="string"&&n.d.D(c)},ns.preinit=function(c,o){if(typeof c=="string"&&o&&typeof o.as=="string"){var u=o.as,p=l(u,o.crossOrigin),h=typeof o.integrity=="string"?o.integrity:void 0,d=typeof o.fetchPriority=="string"?o.fetchPriority:void 0;u==="style"?n.d.S(c,typeof o.precedence=="string"?o.precedence:void 0,{crossOrigin:p,integrity:h,fetchPriority:d}):u==="script"&&n.d.X(c,{crossOrigin:p,integrity:h,fetchPriority:d,nonce:typeof o.nonce=="string"?o.nonce:void 0})}},ns.preinitModule=function(c,o){if(typeof c=="string")if(typeof o=="object"&&o!==null){if(o.as==null||o.as==="script"){var u=l(o.as,o.crossOrigin);n.d.M(c,{crossOrigin:u,integrity:typeof o.integrity=="string"?o.integrity:void 0,nonce:typeof o.nonce=="string"?o.nonce:void 0})}}else o==null&&n.d.M(c)},ns.preload=function(c,o){if(typeof c=="string"&&typeof o=="object"&&o!==null&&typeof o.as=="string"){var u=o.as,p=l(u,o.crossOrigin);n.d.L(c,u,{crossOrigin:p,integrity:typeof o.integrity=="string"?o.integrity:void 0,nonce:typeof o.nonce=="string"?o.nonce:void 0,type:typeof o.type=="string"?o.type:void 0,fetchPriority:typeof o.fetchPriority=="string"?o.fetchPriority:void 0,referrerPolicy:typeof o.referrerPolicy=="string"?o.referrerPolicy:void 0,imageSrcSet:typeof o.imageSrcSet=="string"?o.imageSrcSet:void 0,imageSizes:typeof o.imageSizes=="string"?o.imageSizes:void 0,media:typeof o.media=="string"?o.media:void 0})}},ns.preloadModule=function(c,o){if(typeof c=="string")if(o){var u=l(o.as,o.crossOrigin);n.d.m(c,{as:typeof o.as=="string"&&o.as!=="script"?o.as:void 0,crossOrigin:u,integrity:typeof o.integrity=="string"?o.integrity:void 0})}else n.d.m(c)},ns.requestFormReset=function(c){n.d.r(c)},ns.unstable_batchedUpdates=function(c,o){return c(o)},ns.useFormState=function(c,o,u){return a.H.useFormState(c,o,u)},ns.useFormStatus=function(){return a.H.useHostTransitionStatus()},ns.version="19.2.3",ns}var $v;function z4(){if($v)return _g.exports;$v=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),_g.exports=Jk(),_g.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function eT(){if(qv)return of;qv=1;var r=Zk(),t=F1(),e=z4();function n(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)}function i(f){var m=f,_=f;if(f.alternate)for(;m.return;)m=m.return;else{f=m;do m=f,(m.flags&4098)!==0&&(_=m.return),f=m.return;while(f)}return m.tag===3?_:null}function a(f){if(f.tag===13){var m=f.memoizedState;if(m===null&&(f=f.alternate,f!==null&&(m=f.memoizedState)),m!==null)return m.dehydrated}return null}function l(f){if(f.tag===31){var m=f.memoizedState;if(m===null&&(f=f.alternate,f!==null&&(m=f.memoizedState)),m!==null)return m.dehydrated}return null}function c(f){if(i(f)!==f)throw Error(n(188))}function o(f){var m=f.alternate;if(!m){if(m=i(f),m===null)throw Error(n(188));return m!==f?null:f}for(var _=f,M=m;;){var Y=_.return;if(Y===null)break;var J=Y.alternate;if(J===null){if(M=Y.return,M!==null){_=M;continue}break}if(Y.child===J.child){for(J=Y.child;J;){if(J===_)return c(Y),f;if(J===M)return c(Y),m;J=J.sibling}throw Error(n(188))}if(_.return!==M.return)_=Y,M=J;else{for(var le=!1,we=Y.child;we;){if(we===_){le=!0,_=Y,M=J;break}if(we===M){le=!0,M=Y,_=J;break}we=we.sibling}if(!le){for(we=J.child;we;){if(we===_){le=!0,_=J,M=Y;break}if(we===M){le=!0,M=J,_=Y;break}we=we.sibling}if(!le)throw Error(n(189))}}if(_.alternate!==M)throw Error(n(190))}if(_.tag!==3)throw Error(n(188));return _.stateNode.current===_?f:m}function u(f){var m=f.tag;if(m===5||m===26||m===27||m===6)return f;for(f=f.child;f!==null;){if(m=u(f),m!==null)return m;f=f.sibling}return null}var p=Object.assign,h=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),y=Symbol.for("react.consumer"),k=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function V(f){return f===null||typeof f!="object"?null:(f=W&&f[W]||f["@@iterator"],typeof f=="function"?f:null)}var N=Symbol.for("react.client.reference");function P(f){if(f==null)return null;if(typeof f=="function")return f.$$typeof===N?null:f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case x:return"Fragment";case v:return"Profiler";case g:return"StrictMode";case z:return"Suspense";case q:return"SuspenseList";case O:return"Activity"}if(typeof f=="object")switch(f.$$typeof){case b:return"Portal";case k:return f.displayName||"Context";case y:return(f._context.displayName||"Context")+".Consumer";case R:var m=f.render;return f=f.displayName,f||(f=m.displayName||m.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case B:return m=f.displayName||null,m!==null?m:P(f.type)||"Memo";case I:m=f._payload,f=f._init;try{return P(f(m))}catch{}}return null}var C=Array.isArray,S=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,E=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,A={pending:!1,data:null,method:null,action:null},T=[],j=-1;function L(f){return{current:f}}function D(f){0>j||(f.current=T[j],T[j]=null,j--)}function Z(f,m){j++,T[j]=f.current,f.current=m}var K=L(null),ee=L(null),G=L(null),te=L(null);function H(f,m){switch(Z(G,m),Z(ee,f),Z(K,null),m.nodeType){case 9:case 11:f=(f=m.documentElement)&&(f=f.namespaceURI)?iv(f):0;break;default:if(f=m.tagName,m=m.namespaceURI)m=iv(m),f=ov(m,f);else switch(f){case"svg":f=1;break;case"math":f=2;break;default:f=0}}D(K),Z(K,f)}function U(){D(K),D(ee),D(G)}function Q(f){f.memoizedState!==null&&Z(te,f);var m=K.current,_=ov(m,f.type);m!==_&&(Z(ee,f),Z(K,_))}function ie(f){ee.current===f&&(D(K),D(ee)),te.current===f&&(D(te),tf._currentValue=A)}var re,oe;function he(f){if(re===void 0)try{throw Error()}catch(_){var m=_.stack.trim().match(/\n( *(at )?)/);re=m&&m[1]||"",oe=-1<_.stack.indexOf(`
    at`)?" (<anonymous>)":-1<_.stack.indexOf("@")?"@unknown:0:0":""}return`
`+re+f+oe}var ve=!1;function me(f,m){if(!f||ve)return"";ve=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var M={DetermineComponentFrameRoot:function(){try{if(m){var kt=function(){throw Error()};if(Object.defineProperty(kt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(kt,[])}catch(ft){var ot=ft}Reflect.construct(f,[],kt)}else{try{kt.call()}catch(ft){ot=ft}f.call(kt.prototype)}}else{try{throw Error()}catch(ft){ot=ft}(kt=f())&&typeof kt.catch=="function"&&kt.catch(function(){})}}catch(ft){if(ft&&ot&&typeof ft.stack=="string")return[ft.stack,ot.stack]}return[null,null]}};M.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var Y=Object.getOwnPropertyDescriptor(M.DetermineComponentFrameRoot,"name");Y&&Y.configurable&&Object.defineProperty(M.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var J=M.DetermineComponentFrameRoot(),le=J[0],we=J[1];if(le&&we){var Le=le.split(`
`),st=we.split(`
`);for(Y=M=0;M<Le.length&&!Le[M].includes("DetermineComponentFrameRoot");)M++;for(;Y<st.length&&!st[Y].includes("DetermineComponentFrameRoot");)Y++;if(M===Le.length||Y===st.length)for(M=Le.length-1,Y=st.length-1;1<=M&&0<=Y&&Le[M]!==st[Y];)Y--;for(;1<=M&&0<=Y;M--,Y--)if(Le[M]!==st[Y]){if(M!==1||Y!==1)do if(M--,Y--,0>Y||Le[M]!==st[Y]){var gt=`
`+Le[M].replace(" at new "," at ");return f.displayName&&gt.includes("<anonymous>")&&(gt=gt.replace("<anonymous>",f.displayName)),gt}while(1<=M&&0<=Y);break}}}finally{ve=!1,Error.prepareStackTrace=_}return(_=f?f.displayName||f.name:"")?he(_):""}function ne(f,m){switch(f.tag){case 26:case 27:case 5:return he(f.type);case 16:return he("Lazy");case 13:return f.child!==m&&m!==null?he("Suspense Fallback"):he("Suspense");case 19:return he("SuspenseList");case 0:case 15:return me(f.type,!1);case 11:return me(f.type.render,!1);case 1:return me(f.type,!0);case 31:return he("Activity");default:return""}}function de(f){try{var m="",_=null;do m+=ne(f,_),_=f,f=f.return;while(f);return m}catch(M){return`
Error generating stack: `+M.message+`
`+M.stack}}var xe=Object.prototype.hasOwnProperty,Te=r.unstable_scheduleCallback,Re=r.unstable_cancelCallback,Pe=r.unstable_shouldYield,Xe=r.unstable_requestPaint,Ue=r.unstable_now,tt=r.unstable_getCurrentPriorityLevel,at=r.unstable_ImmediatePriority,Je=r.unstable_UserBlockingPriority,Ze=r.unstable_NormalPriority,vt=r.unstable_LowPriority,pt=r.unstable_IdlePriority,Ie=r.log,$e=r.unstable_setDisableYieldValue,Ce=null,De=null;function it(f){if(typeof Ie=="function"&&$e(f),De&&typeof De.setStrictMode=="function")try{De.setStrictMode(Ce,f)}catch{}}var Be=Math.clz32?Math.clz32:dt,Ge=Math.log,mt=Math.LN2;function dt(f){return f>>>=0,f===0?32:31-(Ge(f)/mt|0)|0}var ke=256,We=262144,Ae=4194304;function Ee(f){var m=f&42;if(m!==0)return m;switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return f&261888;case 262144:case 524288:case 1048576:case 2097152:return f&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return f&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return f}}function et(f,m,_){var M=f.pendingLanes;if(M===0)return 0;var Y=0,J=f.suspendedLanes,le=f.pingedLanes;f=f.warmLanes;var we=M&134217727;return we!==0?(M=we&~J,M!==0?Y=Ee(M):(le&=we,le!==0?Y=Ee(le):_||(_=we&~f,_!==0&&(Y=Ee(_))))):(we=M&~J,we!==0?Y=Ee(we):le!==0?Y=Ee(le):_||(_=M&~f,_!==0&&(Y=Ee(_)))),Y===0?0:m!==0&&m!==Y&&(m&J)===0&&(J=Y&-Y,_=m&-m,J>=_||J===32&&(_&4194048)!==0)?m:Y}function lt(f,m){return(f.pendingLanes&~(f.suspendedLanes&~f.pingedLanes)&m)===0}function Ke(f,m){switch(f){case 1:case 2:case 4:case 8:case 64:return m+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xt(){var f=Ae;return Ae<<=1,(Ae&62914560)===0&&(Ae=4194304),f}function jt(f){for(var m=[],_=0;31>_;_++)m.push(f);return m}function At(f,m){f.pendingLanes|=m,m!==268435456&&(f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0)}function Ct(f,m,_,M,Y,J){var le=f.pendingLanes;f.pendingLanes=_,f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0,f.expiredLanes&=_,f.entangledLanes&=_,f.errorRecoveryDisabledLanes&=_,f.shellSuspendCounter=0;var we=f.entanglements,Le=f.expirationTimes,st=f.hiddenUpdates;for(_=le&~_;0<_;){var gt=31-Be(_),kt=1<<gt;we[gt]=0,Le[gt]=-1;var ot=st[gt];if(ot!==null)for(st[gt]=null,gt=0;gt<ot.length;gt++){var ft=ot[gt];ft!==null&&(ft.lane&=-536870913)}_&=~kt}M!==0&&Dt(f,M,0),J!==0&&Y===0&&f.tag!==0&&(f.suspendedLanes|=J&~(le&~m))}function Dt(f,m,_){f.pendingLanes|=m,f.suspendedLanes&=~m;var M=31-Be(m);f.entangledLanes|=m,f.entanglements[M]=f.entanglements[M]|1073741824|_&261930}function Mt(f,m){var _=f.entangledLanes|=m;for(f=f.entanglements;_;){var M=31-Be(_),Y=1<<M;Y&m|f[M]&m&&(f[M]|=m),_&=~Y}}function je(f,m){var _=m&-m;return _=(_&42)!==0?1:qe(_),(_&(f.suspendedLanes|m))!==0?0:_}function qe(f){switch(f){case 2:f=1;break;case 8:f=4;break;case 32:f=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:f=128;break;case 268435456:f=134217728;break;default:f=0}return f}function ct(f){return f&=-f,2<f?8<f?(f&134217727)!==0?32:268435456:8:2}function ae(){var f=E.p;return f!==0?f:(f=window.event,f===void 0?32:Rv(f.type))}function pe(f,m){var _=E.p;try{return E.p=f,m()}finally{E.p=_}}var ce=Math.random().toString(36).slice(2),fe="__reactFiber$"+ce,ge="__reactProps$"+ce,ye="__reactContainer$"+ce,Ne="__reactEvents$"+ce,Fe="__reactListeners$"+ce,Oe="__reactHandles$"+ce,Ve="__reactResources$"+ce,ze="__reactMarker$"+ce;function bt(f){delete f[fe],delete f[ge],delete f[Ne],delete f[Fe],delete f[Oe]}function St(f){var m=f[fe];if(m)return m;for(var _=f.parentNode;_;){if(m=_[ye]||_[fe]){if(_=m.alternate,m.child!==null||_!==null&&_.child!==null)for(f=pv(f);f!==null;){if(_=f[fe])return _;f=pv(f)}return m}f=_,_=f.parentNode}return null}function Tt(f){if(f=f[fe]||f[ye]){var m=f.tag;if(m===5||m===6||m===13||m===31||m===26||m===27||m===3)return f}return null}function be(f){var m=f.tag;if(m===5||m===26||m===27||m===6)return f.stateNode;throw Error(n(33))}function Me(f){var m=f[Ve];return m||(m=f[Ve]={hoistableStyles:new Map,hoistableScripts:new Map}),m}function Ye(f){f[ze]=!0}var ht=new Set,Nt={};function yt(f,m){Rt(f,m),Rt(f+"Capture",m)}function Rt(f,m){for(Nt[f]=m,f=0;f<m.length;f++)ht.add(m[f])}var Qt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gt={},Wt={};function Vt(f){return xe.call(Wt,f)?!0:xe.call(Gt,f)?!1:Qt.test(f)?Wt[f]=!0:(Gt[f]=!0,!1)}function Jt(f,m,_){if(Vt(m))if(_===null)f.removeAttribute(m);else{switch(typeof _){case"undefined":case"function":case"symbol":f.removeAttribute(m);return;case"boolean":var M=m.toLowerCase().slice(0,5);if(M!=="data-"&&M!=="aria-"){f.removeAttribute(m);return}}f.setAttribute(m,""+_)}}function nr(f,m,_){if(_===null)f.removeAttribute(m);else{switch(typeof _){case"undefined":case"function":case"symbol":case"boolean":f.removeAttribute(m);return}f.setAttribute(m,""+_)}}function Yt(f,m,_,M){if(M===null)f.removeAttribute(_);else{switch(typeof M){case"undefined":case"function":case"symbol":case"boolean":f.removeAttribute(_);return}f.setAttributeNS(m,_,""+M)}}function lr(f){switch(typeof f){case"bigint":case"boolean":case"number":case"string":case"undefined":return f;case"object":return f;default:return""}}function $r(f){var m=f.type;return(f=f.nodeName)&&f.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function dn(f,m,_){var M=Object.getOwnPropertyDescriptor(f.constructor.prototype,m);if(!f.hasOwnProperty(m)&&typeof M<"u"&&typeof M.get=="function"&&typeof M.set=="function"){var Y=M.get,J=M.set;return Object.defineProperty(f,m,{configurable:!0,get:function(){return Y.call(this)},set:function(le){_=""+le,J.call(this,le)}}),Object.defineProperty(f,m,{enumerable:M.enumerable}),{getValue:function(){return _},setValue:function(le){_=""+le},stopTracking:function(){f._valueTracker=null,delete f[m]}}}}function hr(f){if(!f._valueTracker){var m=$r(f)?"checked":"value";f._valueTracker=dn(f,m,""+f[m])}}function ms(f){if(!f)return!1;var m=f._valueTracker;if(!m)return!0;var _=m.getValue(),M="";return f&&(M=$r(f)?f.checked?"true":"false":f.value),f=M,f!==_?(m.setValue(f),!0):!1}function zn(f){if(f=f||(typeof document<"u"?document:void 0),typeof f>"u")return null;try{return f.activeElement||f.body}catch{return f.body}}var As=/[\n"\\]/g;function pn(f){return f.replace(As,function(m){return"\\"+m.charCodeAt(0).toString(16)+" "})}function br(f,m,_,M,Y,J,le,we){f.name="",le!=null&&typeof le!="function"&&typeof le!="symbol"&&typeof le!="boolean"?f.type=le:f.removeAttribute("type"),m!=null?le==="number"?(m===0&&f.value===""||f.value!=m)&&(f.value=""+lr(m)):f.value!==""+lr(m)&&(f.value=""+lr(m)):le!=="submit"&&le!=="reset"||f.removeAttribute("value"),m!=null?Cs(f,le,lr(m)):_!=null?Cs(f,le,lr(_)):M!=null&&f.removeAttribute("value"),Y==null&&J!=null&&(f.defaultChecked=!!J),Y!=null&&(f.checked=Y&&typeof Y!="function"&&typeof Y!="symbol"),we!=null&&typeof we!="function"&&typeof we!="symbol"&&typeof we!="boolean"?f.name=""+lr(we):f.removeAttribute("name")}function gr(f,m,_,M,Y,J,le,we){if(J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"&&(f.type=J),m!=null||_!=null){if(!(J!=="submit"&&J!=="reset"||m!=null)){hr(f);return}_=_!=null?""+lr(_):"",m=m!=null?""+lr(m):_,we||m===f.value||(f.value=m),f.defaultValue=m}M=M??Y,M=typeof M!="function"&&typeof M!="symbol"&&!!M,f.checked=we?f.checked:!!M,f.defaultChecked=!!M,le!=null&&typeof le!="function"&&typeof le!="symbol"&&typeof le!="boolean"&&(f.name=le),hr(f)}function Cs(f,m,_){m==="number"&&zn(f.ownerDocument)===f||f.defaultValue===""+_||(f.defaultValue=""+_)}function rs(f,m,_,M){if(f=f.options,m){m={};for(var Y=0;Y<_.length;Y++)m["$"+_[Y]]=!0;for(_=0;_<f.length;_++)Y=m.hasOwnProperty("$"+f[_].value),f[_].selected!==Y&&(f[_].selected=Y),Y&&M&&(f[_].defaultSelected=!0)}else{for(_=""+lr(_),m=null,Y=0;Y<f.length;Y++){if(f[Y].value===_){f[Y].selected=!0,M&&(f[Y].defaultSelected=!0);return}m!==null||f[Y].disabled||(m=f[Y])}m!==null&&(m.selected=!0)}}function mi(f,m,_){if(m!=null&&(m=""+lr(m),m!==f.value&&(f.value=m),_==null)){f.defaultValue!==m&&(f.defaultValue=m);return}f.defaultValue=_!=null?""+lr(_):""}function sn(f,m,_,M){if(m==null){if(M!=null){if(_!=null)throw Error(n(92));if(C(M)){if(1<M.length)throw Error(n(93));M=M[0]}_=M}_==null&&(_=""),m=_}_=lr(m),f.defaultValue=_,M=f.textContent,M===_&&M!==""&&M!==null&&(f.value=M),hr(f)}function Jr(f,m){if(m){var _=f.firstChild;if(_&&_===f.lastChild&&_.nodeType===3){_.nodeValue=m;return}}f.textContent=m}var zs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sa(f,m,_){var M=m.indexOf("--")===0;_==null||typeof _=="boolean"||_===""?M?f.setProperty(m,""):m==="float"?f.cssFloat="":f[m]="":M?f.setProperty(m,_):typeof _!="number"||_===0||zs.has(m)?m==="float"?f.cssFloat=_:f[m]=(""+_).trim():f[m]=_+"px"}function $a(f,m,_){if(m!=null&&typeof m!="object")throw Error(n(62));if(f=f.style,_!=null){for(var M in _)!_.hasOwnProperty(M)||m!=null&&m.hasOwnProperty(M)||(M.indexOf("--")===0?f.setProperty(M,""):M==="float"?f.cssFloat="":f[M]="");for(var Y in m)M=m[Y],m.hasOwnProperty(Y)&&_[Y]!==M&&Sa(f,Y,M)}else for(var J in m)m.hasOwnProperty(J)&&Sa(f,J,m[J])}function Hs(f){if(f.indexOf("-")===-1)return!1;switch(f){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $s=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ka=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ta(f){return ka.test(""+f)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":f}function gs(){}var qa=null;function Hn(f){return f=f.target||f.srcElement||window,f.correspondingUseElement&&(f=f.correspondingUseElement),f.nodeType===3?f.parentNode:f}var Ea=null,bs=null;function sa(f){var m=Tt(f);if(m&&(f=m.stateNode)){var _=f[ge]||null;e:switch(f=m.stateNode,m.type){case"input":if(br(f,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name),m=_.name,_.type==="radio"&&m!=null){for(_=f;_.parentNode;)_=_.parentNode;for(_=_.querySelectorAll('input[name="'+pn(""+m)+'"][type="radio"]'),m=0;m<_.length;m++){var M=_[m];if(M!==f&&M.form===f.form){var Y=M[ge]||null;if(!Y)throw Error(n(90));br(M,Y.value,Y.defaultValue,Y.defaultValue,Y.checked,Y.defaultChecked,Y.type,Y.name)}}for(m=0;m<_.length;m++)M=_[m],M.form===f.form&&ms(M)}break e;case"textarea":mi(f,_.value,_.defaultValue);break e;case"select":m=_.value,m!=null&&rs(f,!!_.multiple,m,!1)}}}var ec=!1;function Zi(f,m,_){if(ec)return f(m,_);ec=!0;try{var M=f(m);return M}finally{if(ec=!1,(Ea!==null||bs!==null)&&(pd(),Ea&&(m=Ea,f=bs,bs=Ea=null,sa(m),f)))for(m=0;m<f.length;m++)sa(f[m])}}function Aa(f,m){var _=f.stateNode;if(_===null)return null;var M=_[ge]||null;if(M===null)return null;_=M[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(M=!M.disabled)||(f=f.type,M=!(f==="button"||f==="input"||f==="select"||f==="textarea")),f=!M;break e;default:f=!1}if(f)return null;if(_&&typeof _!="function")throw Error(n(231,m,typeof _));return _}var aa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tl=!1;if(aa)try{var Br={};Object.defineProperty(Br,"passive",{get:function(){tl=!0}}),window.addEventListener("test",Br,Br),window.removeEventListener("test",Br,Br)}catch{tl=!1}var Ga=null,xu=null,rl=null;function yu(){if(rl)return rl;var f,m=xu,_=m.length,M,Y="value"in Ga?Ga.value:Ga.textContent,J=Y.length;for(f=0;f<_&&m[f]===Y[f];f++);var le=_-f;for(M=1;M<=le&&m[_-M]===Y[J-M];M++);return rl=Y.slice(f,1<M?1-M:void 0)}function nl(f){var m=f.keyCode;return"charCode"in f?(f=f.charCode,f===0&&m===13&&(f=13)):f=m,f===10&&(f=13),32<=f||f===13?f:0}function gi(){return!0}function Ca(){return!1}function $n(f){function m(_,M,Y,J,le){this._reactName=_,this._targetInst=Y,this.type=M,this.nativeEvent=J,this.target=le,this.currentTarget=null;for(var we in f)f.hasOwnProperty(we)&&(_=f[we],this[we]=_?_(J):J[we]);return this.isDefaultPrevented=(J.defaultPrevented!=null?J.defaultPrevented:J.returnValue===!1)?gi:Ca,this.isPropagationStopped=Ca,this}return p(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var _=this.nativeEvent;_&&(_.preventDefault?_.preventDefault():typeof _.returnValue!="unknown"&&(_.returnValue=!1),this.isDefaultPrevented=gi)},stopPropagation:function(){var _=this.nativeEvent;_&&(_.stopPropagation?_.stopPropagation():typeof _.cancelBubble!="unknown"&&(_.cancelBubble=!0),this.isPropagationStopped=gi)},persist:function(){},isPersistent:gi}),m}var bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(f){return f.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wa=$n(bi),Ji=p({},bi,{view:0,detail:0}),vu=$n(Ji),eo,tc,Xa,rc=p({},Ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:to,button:0,buttons:0,relatedTarget:function(f){return f.relatedTarget===void 0?f.fromElement===f.srcElement?f.toElement:f.fromElement:f.relatedTarget},movementX:function(f){return"movementX"in f?f.movementX:(f!==Xa&&(Xa&&f.type==="mousemove"?(eo=f.screenX-Xa.screenX,tc=f.screenY-Xa.screenY):tc=eo=0,Xa=f),eo)},movementY:function(f){return"movementY"in f?f.movementY:tc}}),wu=$n(rc),sl=p({},rc,{dataTransfer:0}),_h=$n(sl),Sh=p({},Ji,{relatedTarget:0}),al=$n(Sh),_u=p({},bi,{animationName:0,elapsedTime:0,pseudoElement:0}),kh=$n(_u),nc=p({},bi,{clipboardData:function(f){return"clipboardData"in f?f.clipboardData:window.clipboardData}}),Th=$n(nc),Eh=p({},bi,{data:0}),Ya=$n(Eh),Ah={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ch={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rh(f){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(f):(f=Nh[f])?!!m[f]:!1}function to(){return Rh}var xs=p({},Ji,{key:function(f){if(f.key){var m=Ah[f.key]||f.key;if(m!=="Unidentified")return m}return f.type==="keypress"?(f=nl(f),f===13?"Enter":String.fromCharCode(f)):f.type==="keydown"||f.type==="keyup"?Ch[f.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:to,charCode:function(f){return f.type==="keypress"?nl(f):0},keyCode:function(f){return f.type==="keydown"||f.type==="keyup"?f.keyCode:0},which:function(f){return f.type==="keypress"?nl(f):f.type==="keydown"||f.type==="keyup"?f.keyCode:0}}),Mh=$n(xs),jh=p({},rc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xi=$n(jh),X=p({},Ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:to}),se=$n(X),ue=p({},bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Se=$n(ue),rt=p({},rc,{deltaX:function(f){return"deltaX"in f?f.deltaX:"wheelDeltaX"in f?-f.wheelDeltaX:0},deltaY:function(f){return"deltaY"in f?f.deltaY:"wheelDeltaY"in f?-f.wheelDeltaY:"wheelDelta"in f?-f.wheelDelta:0},deltaZ:0,deltaMode:0}),ut=$n(rt),It=p({},bi,{newState:0,oldState:0}),cr=$n(It),mn=[9,13,27,32],Dr=aa&&"CompositionEvent"in window,en=null;aa&&"documentMode"in document&&(en=document.documentMode);var ia=aa&&"TextEvent"in window&&!en,Ka=aa&&(!Dr||en&&8<en&&11>=en),Na=" ",Ra=!1;function il(f,m){switch(f){case"keyup":return mn.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sc(f){return f=f.detail,typeof f=="object"&&"data"in f?f.data:null}var ac=!1;function xS(f,m){switch(f){case"compositionend":return sc(m);case"keypress":return m.which!==32?null:(Ra=!0,Na);case"textInput":return f=m.data,f===Na&&Ra?null:f;default:return null}}function yS(f,m){if(ac)return f==="compositionend"||!Dr&&il(f,m)?(f=yu(),rl=xu=Ga=null,ac=!1,f):null;switch(f){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return Ka&&m.locale!=="ko"?null:m.data;default:return null}}var vS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bx(f){var m=f&&f.nodeName&&f.nodeName.toLowerCase();return m==="input"?!!vS[f.type]:m==="textarea"}function xx(f,m,_,M){Ea?bs?bs.push(M):bs=[M]:Ea=M,m=wd(m,"onChange"),0<m.length&&(_=new Wa("onChange","change",null,_,M),f.push({event:_,listeners:m}))}var Su=null,ku=null;function wS(f){ev(f,0)}function Dh(f){var m=be(f);if(ms(m))return f}function yx(f,m){if(f==="change")return m}var vx=!1;if(aa){var kp;if(aa){var Tp="oninput"in document;if(!Tp){var wx=document.createElement("div");wx.setAttribute("oninput","return;"),Tp=typeof wx.oninput=="function"}kp=Tp}else kp=!1;vx=kp&&(!document.documentMode||9<document.documentMode)}function _x(){Su&&(Su.detachEvent("onpropertychange",Sx),ku=Su=null)}function Sx(f){if(f.propertyName==="value"&&Dh(ku)){var m=[];xx(m,ku,f,Hn(f)),Zi(wS,m)}}function _S(f,m,_){f==="focusin"?(_x(),Su=m,ku=_,Su.attachEvent("onpropertychange",Sx)):f==="focusout"&&_x()}function SS(f){if(f==="selectionchange"||f==="keyup"||f==="keydown")return Dh(ku)}function kS(f,m){if(f==="click")return Dh(m)}function TS(f,m){if(f==="input"||f==="change")return Dh(m)}function ES(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var qs=typeof Object.is=="function"?Object.is:ES;function Tu(f,m){if(qs(f,m))return!0;if(typeof f!="object"||f===null||typeof m!="object"||m===null)return!1;var _=Object.keys(f),M=Object.keys(m);if(_.length!==M.length)return!1;for(M=0;M<_.length;M++){var Y=_[M];if(!xe.call(m,Y)||!qs(f[Y],m[Y]))return!1}return!0}function kx(f){for(;f&&f.firstChild;)f=f.firstChild;return f}function Tx(f,m){var _=kx(f);f=0;for(var M;_;){if(_.nodeType===3){if(M=f+_.textContent.length,f<=m&&M>=m)return{node:_,offset:m-f};f=M}e:{for(;_;){if(_.nextSibling){_=_.nextSibling;break e}_=_.parentNode}_=void 0}_=kx(_)}}function Ex(f,m){return f&&m?f===m?!0:f&&f.nodeType===3?!1:m&&m.nodeType===3?Ex(f,m.parentNode):"contains"in f?f.contains(m):f.compareDocumentPosition?!!(f.compareDocumentPosition(m)&16):!1:!1}function Ax(f){f=f!=null&&f.ownerDocument!=null&&f.ownerDocument.defaultView!=null?f.ownerDocument.defaultView:window;for(var m=zn(f.document);m instanceof f.HTMLIFrameElement;){try{var _=typeof m.contentWindow.location.href=="string"}catch{_=!1}if(_)f=m.contentWindow;else break;m=zn(f.document)}return m}function Ep(f){var m=f&&f.nodeName&&f.nodeName.toLowerCase();return m&&(m==="input"&&(f.type==="text"||f.type==="search"||f.type==="tel"||f.type==="url"||f.type==="password")||m==="textarea"||f.contentEditable==="true")}var AS=aa&&"documentMode"in document&&11>=document.documentMode,ic=null,Ap=null,Eu=null,Cp=!1;function Cx(f,m,_){var M=_.window===_?_.document:_.nodeType===9?_:_.ownerDocument;Cp||ic==null||ic!==zn(M)||(M=ic,"selectionStart"in M&&Ep(M)?M={start:M.selectionStart,end:M.selectionEnd}:(M=(M.ownerDocument&&M.ownerDocument.defaultView||window).getSelection(),M={anchorNode:M.anchorNode,anchorOffset:M.anchorOffset,focusNode:M.focusNode,focusOffset:M.focusOffset}),Eu&&Tu(Eu,M)||(Eu=M,M=wd(Ap,"onSelect"),0<M.length&&(m=new Wa("onSelect","select",null,m,_),f.push({event:m,listeners:M}),m.target=ic)))}function ol(f,m){var _={};return _[f.toLowerCase()]=m.toLowerCase(),_["Webkit"+f]="webkit"+m,_["Moz"+f]="moz"+m,_}var oc={animationend:ol("Animation","AnimationEnd"),animationiteration:ol("Animation","AnimationIteration"),animationstart:ol("Animation","AnimationStart"),transitionrun:ol("Transition","TransitionRun"),transitionstart:ol("Transition","TransitionStart"),transitioncancel:ol("Transition","TransitionCancel"),transitionend:ol("Transition","TransitionEnd")},Np={},Nx={};aa&&(Nx=document.createElement("div").style,"AnimationEvent"in window||(delete oc.animationend.animation,delete oc.animationiteration.animation,delete oc.animationstart.animation),"TransitionEvent"in window||delete oc.transitionend.transition);function ll(f){if(Np[f])return Np[f];if(!oc[f])return f;var m=oc[f],_;for(_ in m)if(m.hasOwnProperty(_)&&_ in Nx)return Np[f]=m[_];return f}var Rx=ll("animationend"),Mx=ll("animationiteration"),jx=ll("animationstart"),CS=ll("transitionrun"),NS=ll("transitionstart"),RS=ll("transitioncancel"),Dx=ll("transitionend"),Ix=new Map,Rp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rp.push("scrollEnd");function Ma(f,m){Ix.set(f,m),yt(m,[f])}var Ih=typeof reportError=="function"?reportError:function(f){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var m=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof f=="object"&&f!==null&&typeof f.message=="string"?String(f.message):String(f),error:f});if(!window.dispatchEvent(m))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",f);return}console.error(f)},oa=[],lc=0,Mp=0;function Oh(){for(var f=lc,m=Mp=lc=0;m<f;){var _=oa[m];oa[m++]=null;var M=oa[m];oa[m++]=null;var Y=oa[m];oa[m++]=null;var J=oa[m];if(oa[m++]=null,M!==null&&Y!==null){var le=M.pending;le===null?Y.next=Y:(Y.next=le.next,le.next=Y),M.pending=Y}J!==0&&Ox(_,Y,J)}}function Fh(f,m,_,M){oa[lc++]=f,oa[lc++]=m,oa[lc++]=_,oa[lc++]=M,Mp|=M,f.lanes|=M,f=f.alternate,f!==null&&(f.lanes|=M)}function jp(f,m,_,M){return Fh(f,m,_,M),Ph(f)}function cl(f,m){return Fh(f,null,null,m),Ph(f)}function Ox(f,m,_){f.lanes|=_;var M=f.alternate;M!==null&&(M.lanes|=_);for(var Y=!1,J=f.return;J!==null;)J.childLanes|=_,M=J.alternate,M!==null&&(M.childLanes|=_),J.tag===22&&(f=J.stateNode,f===null||f._visibility&1||(Y=!0)),f=J,J=J.return;return f.tag===3?(J=f.stateNode,Y&&m!==null&&(Y=31-Be(_),f=J.hiddenUpdates,M=f[Y],M===null?f[Y]=[m]:M.push(m),m.lane=_|536870912),J):null}function Ph(f){if(50<Xu)throw Xu=0,Vm=null,Error(n(185));for(var m=f.return;m!==null;)f=m,m=f.return;return f.tag===3?f.stateNode:null}var cc={};function MS(f,m,_,M){this.tag=f,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gs(f,m,_,M){return new MS(f,m,_,M)}function Dp(f){return f=f.prototype,!(!f||!f.isReactComponent)}function yi(f,m){var _=f.alternate;return _===null?(_=Gs(f.tag,m,f.key,f.mode),_.elementType=f.elementType,_.type=f.type,_.stateNode=f.stateNode,_.alternate=f,f.alternate=_):(_.pendingProps=m,_.type=f.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=f.flags&65011712,_.childLanes=f.childLanes,_.lanes=f.lanes,_.child=f.child,_.memoizedProps=f.memoizedProps,_.memoizedState=f.memoizedState,_.updateQueue=f.updateQueue,m=f.dependencies,_.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},_.sibling=f.sibling,_.index=f.index,_.ref=f.ref,_.refCleanup=f.refCleanup,_}function Fx(f,m){f.flags&=65011714;var _=f.alternate;return _===null?(f.childLanes=0,f.lanes=m,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=_.childLanes,f.lanes=_.lanes,f.child=_.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=_.memoizedProps,f.memoizedState=_.memoizedState,f.updateQueue=_.updateQueue,f.type=_.type,m=_.dependencies,f.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),f}function Lh(f,m,_,M,Y,J){var le=0;if(M=f,typeof f=="function")Dp(f)&&(le=1);else if(typeof f=="string")le=Fk(f,_,K.current)?26:f==="html"||f==="head"||f==="body"?27:5;else e:switch(f){case O:return f=Gs(31,_,m,Y),f.elementType=O,f.lanes=J,f;case x:return ul(_.children,Y,J,m);case g:le=8,Y|=24;break;case v:return f=Gs(12,_,m,Y|2),f.elementType=v,f.lanes=J,f;case z:return f=Gs(13,_,m,Y),f.elementType=z,f.lanes=J,f;case q:return f=Gs(19,_,m,Y),f.elementType=q,f.lanes=J,f;default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case k:le=10;break e;case y:le=9;break e;case R:le=11;break e;case B:le=14;break e;case I:le=16,M=null;break e}le=29,_=Error(n(130,f===null?"null":typeof f,"")),M=null}return m=Gs(le,_,m,Y),m.elementType=f,m.type=M,m.lanes=J,m}function ul(f,m,_,M){return f=Gs(7,f,M,m),f.lanes=_,f}function Ip(f,m,_){return f=Gs(6,f,null,m),f.lanes=_,f}function Px(f){var m=Gs(18,null,null,0);return m.stateNode=f,m}function Op(f,m,_){return m=Gs(4,f.children!==null?f.children:[],f.key,m),m.lanes=_,m.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},m}var Lx=new WeakMap;function la(f,m){if(typeof f=="object"&&f!==null){var _=Lx.get(f);return _!==void 0?_:(m={value:f,source:m,stack:de(m)},Lx.set(f,m),m)}return{value:f,source:m,stack:de(m)}}var uc=[],fc=0,Bh=null,Au=0,ca=[],ua=0,ro=null,Qa=1,Za="";function vi(f,m){uc[fc++]=Au,uc[fc++]=Bh,Bh=f,Au=m}function Bx(f,m,_){ca[ua++]=Qa,ca[ua++]=Za,ca[ua++]=ro,ro=f;var M=Qa;f=Za;var Y=32-Be(M)-1;M&=~(1<<Y),_+=1;var J=32-Be(m)+Y;if(30<J){var le=Y-Y%5;J=(M&(1<<le)-1).toString(32),M>>=le,Y-=le,Qa=1<<32-Be(m)+Y|_<<Y|M,Za=J+f}else Qa=1<<J|_<<Y|M,Za=f}function Fp(f){f.return!==null&&(vi(f,1),Bx(f,1,0))}function Pp(f){for(;f===Bh;)Bh=uc[--fc],uc[fc]=null,Au=uc[--fc],uc[fc]=null;for(;f===ro;)ro=ca[--ua],ca[ua]=null,Za=ca[--ua],ca[ua]=null,Qa=ca[--ua],ca[ua]=null}function Ux(f,m){ca[ua++]=Qa,ca[ua++]=Za,ca[ua++]=ro,Qa=m.id,Za=m.overflow,ro=f}var qn=null,Yr=null,Tr=!1,no=null,fa=!1,Lp=Error(n(519));function so(f){var m=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Cu(la(m,f)),Lp}function Vx(f){var m=f.stateNode,_=f.type,M=f.memoizedProps;switch(m[fe]=f,m[ge]=M,_){case"dialog":yr("cancel",m),yr("close",m);break;case"iframe":case"object":case"embed":yr("load",m);break;case"video":case"audio":for(_=0;_<Ku.length;_++)yr(Ku[_],m);break;case"source":yr("error",m);break;case"img":case"image":case"link":yr("error",m),yr("load",m);break;case"details":yr("toggle",m);break;case"input":yr("invalid",m),gr(m,M.value,M.defaultValue,M.checked,M.defaultChecked,M.type,M.name,!0);break;case"select":yr("invalid",m);break;case"textarea":yr("invalid",m),sn(m,M.value,M.defaultValue,M.children)}_=M.children,typeof _!="string"&&typeof _!="number"&&typeof _!="bigint"||m.textContent===""+_||M.suppressHydrationWarning===!0||sv(m.textContent,_)?(M.popover!=null&&(yr("beforetoggle",m),yr("toggle",m)),M.onScroll!=null&&yr("scroll",m),M.onScrollEnd!=null&&yr("scrollend",m),M.onClick!=null&&(m.onclick=gs),m=!0):m=!1,m||so(f,!0)}function zx(f){for(qn=f.return;qn;)switch(qn.tag){case 5:case 31:case 13:fa=!1;return;case 27:case 3:fa=!0;return;default:qn=qn.return}}function hc(f){if(f!==qn)return!1;if(!Tr)return zx(f),Tr=!0,!1;var m=f.tag,_;if((_=m!==3&&m!==27)&&((_=m===5)&&(_=f.type,_=!(_!=="form"&&_!=="button")||rg(f.type,f.memoizedProps)),_=!_),_&&Yr&&so(f),zx(f),m===13){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));Yr=dv(f)}else if(m===31){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));Yr=dv(f)}else m===27?(m=Yr,yo(f.type)?(f=og,og=null,Yr=f):Yr=m):Yr=qn?da(f.stateNode.nextSibling):null;return!0}function fl(){Yr=qn=null,Tr=!1}function Bp(){var f=no;return f!==null&&(js===null?js=f:js.push.apply(js,f),no=null),f}function Cu(f){no===null?no=[f]:no.push(f)}var Up=L(null),hl=null,wi=null;function ao(f,m,_){Z(Up,m._currentValue),m._currentValue=_}function _i(f){f._currentValue=Up.current,D(Up)}function Vp(f,m,_){for(;f!==null;){var M=f.alternate;if((f.childLanes&m)!==m?(f.childLanes|=m,M!==null&&(M.childLanes|=m)):M!==null&&(M.childLanes&m)!==m&&(M.childLanes|=m),f===_)break;f=f.return}}function zp(f,m,_,M){var Y=f.child;for(Y!==null&&(Y.return=f);Y!==null;){var J=Y.dependencies;if(J!==null){var le=Y.child;J=J.firstContext;e:for(;J!==null;){var we=J;J=Y;for(var Le=0;Le<m.length;Le++)if(we.context===m[Le]){J.lanes|=_,we=J.alternate,we!==null&&(we.lanes|=_),Vp(J.return,_,f),M||(le=null);break e}J=we.next}}else if(Y.tag===18){if(le=Y.return,le===null)throw Error(n(341));le.lanes|=_,J=le.alternate,J!==null&&(J.lanes|=_),Vp(le,_,f),le=null}else le=Y.child;if(le!==null)le.return=Y;else for(le=Y;le!==null;){if(le===f){le=null;break}if(Y=le.sibling,Y!==null){Y.return=le.return,le=Y;break}le=le.return}Y=le}}function dc(f,m,_,M){f=null;for(var Y=m,J=!1;Y!==null;){if(!J){if((Y.flags&524288)!==0)J=!0;else if((Y.flags&262144)!==0)break}if(Y.tag===10){var le=Y.alternate;if(le===null)throw Error(n(387));if(le=le.memoizedProps,le!==null){var we=Y.type;qs(Y.pendingProps.value,le.value)||(f!==null?f.push(we):f=[we])}}else if(Y===te.current){if(le=Y.alternate,le===null)throw Error(n(387));le.memoizedState.memoizedState!==Y.memoizedState.memoizedState&&(f!==null?f.push(tf):f=[tf])}Y=Y.return}f!==null&&zp(m,f,_,M),m.flags|=262144}function Uh(f){for(f=f.firstContext;f!==null;){if(!qs(f.context._currentValue,f.memoizedValue))return!0;f=f.next}return!1}function dl(f){hl=f,wi=null,f=f.dependencies,f!==null&&(f.firstContext=null)}function Gn(f){return Hx(hl,f)}function Vh(f,m){return hl===null&&dl(f),Hx(f,m)}function Hx(f,m){var _=m._currentValue;if(m={context:m,memoizedValue:_,next:null},wi===null){if(f===null)throw Error(n(308));wi=m,f.dependencies={lanes:0,firstContext:m},f.flags|=524288}else wi=wi.next=m;return _}var jS=typeof AbortController<"u"?AbortController:function(){var f=[],m=this.signal={aborted:!1,addEventListener:function(_,M){f.push(M)}};this.abort=function(){m.aborted=!0,f.forEach(function(_){return _()})}},DS=r.unstable_scheduleCallback,IS=r.unstable_NormalPriority,wn={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hp(){return{controller:new jS,data:new Map,refCount:0}}function Nu(f){f.refCount--,f.refCount===0&&DS(IS,function(){f.controller.abort()})}var Ru=null,$p=0,pc=0,mc=null;function OS(f,m){if(Ru===null){var _=Ru=[];$p=0,pc=Wm(),mc={status:"pending",value:void 0,then:function(M){_.push(M)}}}return $p++,m.then($x,$x),m}function $x(){if(--$p===0&&Ru!==null){mc!==null&&(mc.status="fulfilled");var f=Ru;Ru=null,pc=0,mc=null;for(var m=0;m<f.length;m++)(0,f[m])()}}function FS(f,m){var _=[],M={status:"pending",value:null,reason:null,then:function(Y){_.push(Y)}};return f.then(function(){M.status="fulfilled",M.value=m;for(var Y=0;Y<_.length;Y++)(0,_[Y])(m)},function(Y){for(M.status="rejected",M.reason=Y,Y=0;Y<_.length;Y++)(0,_[Y])(void 0)}),M}var qx=S.S;S.S=function(f,m){C2=Ue(),typeof m=="object"&&m!==null&&typeof m.then=="function"&&OS(f,m),qx!==null&&qx(f,m)};var pl=L(null);function qp(){var f=pl.current;return f!==null?f:qr.pooledCache}function zh(f,m){m===null?Z(pl,pl.current):Z(pl,m.pool)}function Gx(){var f=qp();return f===null?null:{parent:wn._currentValue,pool:f}}var gc=Error(n(460)),Gp=Error(n(474)),Hh=Error(n(542)),$h={then:function(){}};function Wx(f){return f=f.status,f==="fulfilled"||f==="rejected"}function Xx(f,m,_){switch(_=f[_],_===void 0?f.push(m):_!==m&&(m.then(gs,gs),m=_),m.status){case"fulfilled":return m.value;case"rejected":throw f=m.reason,Kx(f),f;default:if(typeof m.status=="string")m.then(gs,gs);else{if(f=qr,f!==null&&100<f.shellSuspendCounter)throw Error(n(482));f=m,f.status="pending",f.then(function(M){if(m.status==="pending"){var Y=m;Y.status="fulfilled",Y.value=M}},function(M){if(m.status==="pending"){var Y=m;Y.status="rejected",Y.reason=M}})}switch(m.status){case"fulfilled":return m.value;case"rejected":throw f=m.reason,Kx(f),f}throw gl=m,gc}}function ml(f){try{var m=f._init;return m(f._payload)}catch(_){throw _!==null&&typeof _=="object"&&typeof _.then=="function"?(gl=_,gc):_}}var gl=null;function Yx(){if(gl===null)throw Error(n(459));var f=gl;return gl=null,f}function Kx(f){if(f===gc||f===Hh)throw Error(n(483))}var bc=null,Mu=0;function qh(f){var m=Mu;return Mu+=1,bc===null&&(bc=[]),Xx(bc,f,m)}function ju(f,m){m=m.props.ref,f.ref=m!==void 0?m:null}function Gh(f,m){throw m.$$typeof===h?Error(n(525)):(f=Object.prototype.toString.call(m),Error(n(31,f==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":f)))}function Qx(f){function m(Qe,He){if(f){var nt=Qe.deletions;nt===null?(Qe.deletions=[He],Qe.flags|=16):nt.push(He)}}function _(Qe,He){if(!f)return null;for(;He!==null;)m(Qe,He),He=He.sibling;return null}function M(Qe){for(var He=new Map;Qe!==null;)Qe.key!==null?He.set(Qe.key,Qe):He.set(Qe.index,Qe),Qe=Qe.sibling;return He}function Y(Qe,He){return Qe=yi(Qe,He),Qe.index=0,Qe.sibling=null,Qe}function J(Qe,He,nt){return Qe.index=nt,f?(nt=Qe.alternate,nt!==null?(nt=nt.index,nt<He?(Qe.flags|=67108866,He):nt):(Qe.flags|=67108866,He)):(Qe.flags|=1048576,He)}function le(Qe){return f&&Qe.alternate===null&&(Qe.flags|=67108866),Qe}function we(Qe,He,nt,_t){return He===null||He.tag!==6?(He=Ip(nt,Qe.mode,_t),He.return=Qe,He):(He=Y(He,nt),He.return=Qe,He)}function Le(Qe,He,nt,_t){var $t=nt.type;return $t===x?gt(Qe,He,nt.props.children,_t,nt.key):He!==null&&(He.elementType===$t||typeof $t=="object"&&$t!==null&&$t.$$typeof===I&&ml($t)===He.type)?(He=Y(He,nt.props),ju(He,nt),He.return=Qe,He):(He=Lh(nt.type,nt.key,nt.props,null,Qe.mode,_t),ju(He,nt),He.return=Qe,He)}function st(Qe,He,nt,_t){return He===null||He.tag!==4||He.stateNode.containerInfo!==nt.containerInfo||He.stateNode.implementation!==nt.implementation?(He=Op(nt,Qe.mode,_t),He.return=Qe,He):(He=Y(He,nt.children||[]),He.return=Qe,He)}function gt(Qe,He,nt,_t,$t){return He===null||He.tag!==7?(He=ul(nt,Qe.mode,_t,$t),He.return=Qe,He):(He=Y(He,nt),He.return=Qe,He)}function kt(Qe,He,nt){if(typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint")return He=Ip(""+He,Qe.mode,nt),He.return=Qe,He;if(typeof He=="object"&&He!==null){switch(He.$$typeof){case d:return nt=Lh(He.type,He.key,He.props,null,Qe.mode,nt),ju(nt,He),nt.return=Qe,nt;case b:return He=Op(He,Qe.mode,nt),He.return=Qe,He;case I:return He=ml(He),kt(Qe,He,nt)}if(C(He)||V(He))return He=ul(He,Qe.mode,nt,null),He.return=Qe,He;if(typeof He.then=="function")return kt(Qe,qh(He),nt);if(He.$$typeof===k)return kt(Qe,Vh(Qe,He),nt);Gh(Qe,He)}return null}function ot(Qe,He,nt,_t){var $t=He!==null?He.key:null;if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return $t!==null?null:we(Qe,He,""+nt,_t);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case d:return nt.key===$t?Le(Qe,He,nt,_t):null;case b:return nt.key===$t?st(Qe,He,nt,_t):null;case I:return nt=ml(nt),ot(Qe,He,nt,_t)}if(C(nt)||V(nt))return $t!==null?null:gt(Qe,He,nt,_t,null);if(typeof nt.then=="function")return ot(Qe,He,qh(nt),_t);if(nt.$$typeof===k)return ot(Qe,He,Vh(Qe,nt),_t);Gh(Qe,nt)}return null}function ft(Qe,He,nt,_t,$t){if(typeof _t=="string"&&_t!==""||typeof _t=="number"||typeof _t=="bigint")return Qe=Qe.get(nt)||null,we(He,Qe,""+_t,$t);if(typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case d:return Qe=Qe.get(_t.key===null?nt:_t.key)||null,Le(He,Qe,_t,$t);case b:return Qe=Qe.get(_t.key===null?nt:_t.key)||null,st(He,Qe,_t,$t);case I:return _t=ml(_t),ft(Qe,He,nt,_t,$t)}if(C(_t)||V(_t))return Qe=Qe.get(nt)||null,gt(He,Qe,_t,$t,null);if(typeof _t.then=="function")return ft(Qe,He,nt,qh(_t),$t);if(_t.$$typeof===k)return ft(Qe,He,nt,Vh(He,_t),$t);Gh(He,_t)}return null}function Ut(Qe,He,nt,_t){for(var $t=null,Mr=null,zt=He,dr=He=0,wr=null;zt!==null&&dr<nt.length;dr++){zt.index>dr?(wr=zt,zt=null):wr=zt.sibling;var jr=ot(Qe,zt,nt[dr],_t);if(jr===null){zt===null&&(zt=wr);break}f&&zt&&jr.alternate===null&&m(Qe,zt),He=J(jr,He,dr),Mr===null?$t=jr:Mr.sibling=jr,Mr=jr,zt=wr}if(dr===nt.length)return _(Qe,zt),Tr&&vi(Qe,dr),$t;if(zt===null){for(;dr<nt.length;dr++)zt=kt(Qe,nt[dr],_t),zt!==null&&(He=J(zt,He,dr),Mr===null?$t=zt:Mr.sibling=zt,Mr=zt);return Tr&&vi(Qe,dr),$t}for(zt=M(zt);dr<nt.length;dr++)wr=ft(zt,Qe,dr,nt[dr],_t),wr!==null&&(f&&wr.alternate!==null&&zt.delete(wr.key===null?dr:wr.key),He=J(wr,He,dr),Mr===null?$t=wr:Mr.sibling=wr,Mr=wr);return f&&zt.forEach(function(ko){return m(Qe,ko)}),Tr&&vi(Qe,dr),$t}function Xt(Qe,He,nt,_t){if(nt==null)throw Error(n(151));for(var $t=null,Mr=null,zt=He,dr=He=0,wr=null,jr=nt.next();zt!==null&&!jr.done;dr++,jr=nt.next()){zt.index>dr?(wr=zt,zt=null):wr=zt.sibling;var ko=ot(Qe,zt,jr.value,_t);if(ko===null){zt===null&&(zt=wr);break}f&&zt&&ko.alternate===null&&m(Qe,zt),He=J(ko,He,dr),Mr===null?$t=ko:Mr.sibling=ko,Mr=ko,zt=wr}if(jr.done)return _(Qe,zt),Tr&&vi(Qe,dr),$t;if(zt===null){for(;!jr.done;dr++,jr=nt.next())jr=kt(Qe,jr.value,_t),jr!==null&&(He=J(jr,He,dr),Mr===null?$t=jr:Mr.sibling=jr,Mr=jr);return Tr&&vi(Qe,dr),$t}for(zt=M(zt);!jr.done;dr++,jr=nt.next())jr=ft(zt,Qe,dr,jr.value,_t),jr!==null&&(f&&jr.alternate!==null&&zt.delete(jr.key===null?dr:jr.key),He=J(jr,He,dr),Mr===null?$t=jr:Mr.sibling=jr,Mr=jr);return f&&zt.forEach(function(Wk){return m(Qe,Wk)}),Tr&&vi(Qe,dr),$t}function zr(Qe,He,nt,_t){if(typeof nt=="object"&&nt!==null&&nt.type===x&&nt.key===null&&(nt=nt.props.children),typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case d:e:{for(var $t=nt.key;He!==null;){if(He.key===$t){if($t=nt.type,$t===x){if(He.tag===7){_(Qe,He.sibling),_t=Y(He,nt.props.children),_t.return=Qe,Qe=_t;break e}}else if(He.elementType===$t||typeof $t=="object"&&$t!==null&&$t.$$typeof===I&&ml($t)===He.type){_(Qe,He.sibling),_t=Y(He,nt.props),ju(_t,nt),_t.return=Qe,Qe=_t;break e}_(Qe,He);break}else m(Qe,He);He=He.sibling}nt.type===x?(_t=ul(nt.props.children,Qe.mode,_t,nt.key),_t.return=Qe,Qe=_t):(_t=Lh(nt.type,nt.key,nt.props,null,Qe.mode,_t),ju(_t,nt),_t.return=Qe,Qe=_t)}return le(Qe);case b:e:{for($t=nt.key;He!==null;){if(He.key===$t)if(He.tag===4&&He.stateNode.containerInfo===nt.containerInfo&&He.stateNode.implementation===nt.implementation){_(Qe,He.sibling),_t=Y(He,nt.children||[]),_t.return=Qe,Qe=_t;break e}else{_(Qe,He);break}else m(Qe,He);He=He.sibling}_t=Op(nt,Qe.mode,_t),_t.return=Qe,Qe=_t}return le(Qe);case I:return nt=ml(nt),zr(Qe,He,nt,_t)}if(C(nt))return Ut(Qe,He,nt,_t);if(V(nt)){if($t=V(nt),typeof $t!="function")throw Error(n(150));return nt=$t.call(nt),Xt(Qe,He,nt,_t)}if(typeof nt.then=="function")return zr(Qe,He,qh(nt),_t);if(nt.$$typeof===k)return zr(Qe,He,Vh(Qe,nt),_t);Gh(Qe,nt)}return typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint"?(nt=""+nt,He!==null&&He.tag===6?(_(Qe,He.sibling),_t=Y(He,nt),_t.return=Qe,Qe=_t):(_(Qe,He),_t=Ip(nt,Qe.mode,_t),_t.return=Qe,Qe=_t),le(Qe)):_(Qe,He)}return function(Qe,He,nt,_t){try{Mu=0;var $t=zr(Qe,He,nt,_t);return bc=null,$t}catch(zt){if(zt===gc||zt===Hh)throw zt;var Mr=Gs(29,zt,null,Qe.mode);return Mr.lanes=_t,Mr.return=Qe,Mr}finally{}}}var bl=Qx(!0),Zx=Qx(!1),io=!1;function Wp(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xp(f,m){f=f.updateQueue,m.updateQueue===f&&(m.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,callbacks:null})}function oo(f){return{lane:f,tag:0,payload:null,callback:null,next:null}}function lo(f,m,_){var M=f.updateQueue;if(M===null)return null;if(M=M.shared,(Ir&2)!==0){var Y=M.pending;return Y===null?m.next=m:(m.next=Y.next,Y.next=m),M.pending=m,m=Ph(f),Ox(f,null,_),m}return Fh(f,M,m,_),Ph(f)}function Du(f,m,_){if(m=m.updateQueue,m!==null&&(m=m.shared,(_&4194048)!==0)){var M=m.lanes;M&=f.pendingLanes,_|=M,m.lanes=_,Mt(f,_)}}function Yp(f,m){var _=f.updateQueue,M=f.alternate;if(M!==null&&(M=M.updateQueue,_===M)){var Y=null,J=null;if(_=_.firstBaseUpdate,_!==null){do{var le={lane:_.lane,tag:_.tag,payload:_.payload,callback:null,next:null};J===null?Y=J=le:J=J.next=le,_=_.next}while(_!==null);J===null?Y=J=m:J=J.next=m}else Y=J=m;_={baseState:M.baseState,firstBaseUpdate:Y,lastBaseUpdate:J,shared:M.shared,callbacks:M.callbacks},f.updateQueue=_;return}f=_.lastBaseUpdate,f===null?_.firstBaseUpdate=m:f.next=m,_.lastBaseUpdate=m}var Kp=!1;function Iu(){if(Kp){var f=mc;if(f!==null)throw f}}function Ou(f,m,_,M){Kp=!1;var Y=f.updateQueue;io=!1;var J=Y.firstBaseUpdate,le=Y.lastBaseUpdate,we=Y.shared.pending;if(we!==null){Y.shared.pending=null;var Le=we,st=Le.next;Le.next=null,le===null?J=st:le.next=st,le=Le;var gt=f.alternate;gt!==null&&(gt=gt.updateQueue,we=gt.lastBaseUpdate,we!==le&&(we===null?gt.firstBaseUpdate=st:we.next=st,gt.lastBaseUpdate=Le))}if(J!==null){var kt=Y.baseState;le=0,gt=st=Le=null,we=J;do{var ot=we.lane&-536870913,ft=ot!==we.lane;if(ft?(vr&ot)===ot:(M&ot)===ot){ot!==0&&ot===pc&&(Kp=!0),gt!==null&&(gt=gt.next={lane:0,tag:we.tag,payload:we.payload,callback:null,next:null});e:{var Ut=f,Xt=we;ot=m;var zr=_;switch(Xt.tag){case 1:if(Ut=Xt.payload,typeof Ut=="function"){kt=Ut.call(zr,kt,ot);break e}kt=Ut;break e;case 3:Ut.flags=Ut.flags&-65537|128;case 0:if(Ut=Xt.payload,ot=typeof Ut=="function"?Ut.call(zr,kt,ot):Ut,ot==null)break e;kt=p({},kt,ot);break e;case 2:io=!0}}ot=we.callback,ot!==null&&(f.flags|=64,ft&&(f.flags|=8192),ft=Y.callbacks,ft===null?Y.callbacks=[ot]:ft.push(ot))}else ft={lane:ot,tag:we.tag,payload:we.payload,callback:we.callback,next:null},gt===null?(st=gt=ft,Le=kt):gt=gt.next=ft,le|=ot;if(we=we.next,we===null){if(we=Y.shared.pending,we===null)break;ft=we,we=ft.next,ft.next=null,Y.lastBaseUpdate=ft,Y.shared.pending=null}}while(!0);gt===null&&(Le=kt),Y.baseState=Le,Y.firstBaseUpdate=st,Y.lastBaseUpdate=gt,J===null&&(Y.shared.lanes=0),po|=le,f.lanes=le,f.memoizedState=kt}}function Jx(f,m){if(typeof f!="function")throw Error(n(191,f));f.call(m)}function ey(f,m){var _=f.callbacks;if(_!==null)for(f.callbacks=null,f=0;f<_.length;f++)Jx(_[f],m)}var xc=L(null),Wh=L(0);function ty(f,m){f=Mi,Z(Wh,f),Z(xc,m),Mi=f|m.baseLanes}function Qp(){Z(Wh,Mi),Z(xc,xc.current)}function Zp(){Mi=Wh.current,D(xc),D(Wh)}var Ws=L(null),ha=null;function co(f){var m=f.alternate;Z(gn,gn.current&1),Z(Ws,f),ha===null&&(m===null||xc.current!==null||m.memoizedState!==null)&&(ha=f)}function Jp(f){Z(gn,gn.current),Z(Ws,f),ha===null&&(ha=f)}function ry(f){f.tag===22?(Z(gn,gn.current),Z(Ws,f),ha===null&&(ha=f)):uo()}function uo(){Z(gn,gn.current),Z(Ws,Ws.current)}function Xs(f){D(Ws),ha===f&&(ha=null),D(gn)}var gn=L(0);function Xh(f){for(var m=f;m!==null;){if(m.tag===13){var _=m.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||ag(_)||ig(_)))return m}else if(m.tag===19&&(m.memoizedProps.revealOrder==="forwards"||m.memoizedProps.revealOrder==="backwards"||m.memoizedProps.revealOrder==="unstable_legacy-backwards"||m.memoizedProps.revealOrder==="together")){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===f)break;for(;m.sibling===null;){if(m.return===null||m.return===f)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var Si=0,ur=null,Ur=null,_n=null,Yh=!1,yc=!1,xl=!1,Kh=0,Fu=0,vc=null,PS=0;function an(){throw Error(n(321))}function em(f,m){if(m===null)return!1;for(var _=0;_<m.length&&_<f.length;_++)if(!qs(f[_],m[_]))return!1;return!0}function tm(f,m,_,M,Y,J){return Si=J,ur=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,S.H=f===null||f.memoizedState===null?By:gm,xl=!1,J=_(M,Y),xl=!1,yc&&(J=sy(m,_,M,Y)),ny(f),J}function ny(f){S.H=Bu;var m=Ur!==null&&Ur.next!==null;if(Si=0,_n=Ur=ur=null,Yh=!1,Fu=0,vc=null,m)throw Error(n(300));f===null||Sn||(f=f.dependencies,f!==null&&Uh(f)&&(Sn=!0))}function sy(f,m,_,M){ur=f;var Y=0;do{if(yc&&(vc=null),Fu=0,yc=!1,25<=Y)throw Error(n(301));if(Y+=1,_n=Ur=null,f.updateQueue!=null){var J=f.updateQueue;J.lastEffect=null,J.events=null,J.stores=null,J.memoCache!=null&&(J.memoCache.index=0)}S.H=Uy,J=m(_,M)}while(yc);return J}function LS(){var f=S.H,m=f.useState()[0];return m=typeof m.then=="function"?Pu(m):m,f=f.useState()[0],(Ur!==null?Ur.memoizedState:null)!==f&&(ur.flags|=1024),m}function rm(){var f=Kh!==0;return Kh=0,f}function nm(f,m,_){m.updateQueue=f.updateQueue,m.flags&=-2053,f.lanes&=~_}function sm(f){if(Yh){for(f=f.memoizedState;f!==null;){var m=f.queue;m!==null&&(m.pending=null),f=f.next}Yh=!1}Si=0,_n=Ur=ur=null,yc=!1,Fu=Kh=0,vc=null}function ys(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?ur.memoizedState=_n=f:_n=_n.next=f,_n}function bn(){if(Ur===null){var f=ur.alternate;f=f!==null?f.memoizedState:null}else f=Ur.next;var m=_n===null?ur.memoizedState:_n.next;if(m!==null)_n=m,Ur=f;else{if(f===null)throw ur.alternate===null?Error(n(467)):Error(n(310));Ur=f,f={memoizedState:Ur.memoizedState,baseState:Ur.baseState,baseQueue:Ur.baseQueue,queue:Ur.queue,next:null},_n===null?ur.memoizedState=_n=f:_n=_n.next=f}return _n}function Qh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pu(f){var m=Fu;return Fu+=1,vc===null&&(vc=[]),f=Xx(vc,f,m),m=ur,(_n===null?m.memoizedState:_n.next)===null&&(m=m.alternate,S.H=m===null||m.memoizedState===null?By:gm),f}function Zh(f){if(f!==null&&typeof f=="object"){if(typeof f.then=="function")return Pu(f);if(f.$$typeof===k)return Gn(f)}throw Error(n(438,String(f)))}function am(f){var m=null,_=ur.updateQueue;if(_!==null&&(m=_.memoCache),m==null){var M=ur.alternate;M!==null&&(M=M.updateQueue,M!==null&&(M=M.memoCache,M!=null&&(m={data:M.data.map(function(Y){return Y.slice()}),index:0})))}if(m==null&&(m={data:[],index:0}),_===null&&(_=Qh(),ur.updateQueue=_),_.memoCache=m,_=m.data[m.index],_===void 0)for(_=m.data[m.index]=Array(f),M=0;M<f;M++)_[M]=F;return m.index++,_}function ki(f,m){return typeof m=="function"?m(f):m}function Jh(f){var m=bn();return im(m,Ur,f)}function im(f,m,_){var M=f.queue;if(M===null)throw Error(n(311));M.lastRenderedReducer=_;var Y=f.baseQueue,J=M.pending;if(J!==null){if(Y!==null){var le=Y.next;Y.next=J.next,J.next=le}m.baseQueue=Y=J,M.pending=null}if(J=f.baseState,Y===null)f.memoizedState=J;else{m=Y.next;var we=le=null,Le=null,st=m,gt=!1;do{var kt=st.lane&-536870913;if(kt!==st.lane?(vr&kt)===kt:(Si&kt)===kt){var ot=st.revertLane;if(ot===0)Le!==null&&(Le=Le.next={lane:0,revertLane:0,gesture:null,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null}),kt===pc&&(gt=!0);else if((Si&ot)===ot){st=st.next,ot===pc&&(gt=!0);continue}else kt={lane:0,revertLane:st.revertLane,gesture:null,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null},Le===null?(we=Le=kt,le=J):Le=Le.next=kt,ur.lanes|=ot,po|=ot;kt=st.action,xl&&_(J,kt),J=st.hasEagerState?st.eagerState:_(J,kt)}else ot={lane:kt,revertLane:st.revertLane,gesture:st.gesture,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null},Le===null?(we=Le=ot,le=J):Le=Le.next=ot,ur.lanes|=kt,po|=kt;st=st.next}while(st!==null&&st!==m);if(Le===null?le=J:Le.next=we,!qs(J,f.memoizedState)&&(Sn=!0,gt&&(_=mc,_!==null)))throw _;f.memoizedState=J,f.baseState=le,f.baseQueue=Le,M.lastRenderedState=J}return Y===null&&(M.lanes=0),[f.memoizedState,M.dispatch]}function om(f){var m=bn(),_=m.queue;if(_===null)throw Error(n(311));_.lastRenderedReducer=f;var M=_.dispatch,Y=_.pending,J=m.memoizedState;if(Y!==null){_.pending=null;var le=Y=Y.next;do J=f(J,le.action),le=le.next;while(le!==Y);qs(J,m.memoizedState)||(Sn=!0),m.memoizedState=J,m.baseQueue===null&&(m.baseState=J),_.lastRenderedState=J}return[J,M]}function ay(f,m,_){var M=ur,Y=bn(),J=Tr;if(J){if(_===void 0)throw Error(n(407));_=_()}else _=m();var le=!qs((Ur||Y).memoizedState,_);if(le&&(Y.memoizedState=_,Sn=!0),Y=Y.queue,um(ly.bind(null,M,Y,f),[f]),Y.getSnapshot!==m||le||_n!==null&&_n.memoizedState.tag&1){if(M.flags|=2048,wc(9,{destroy:void 0},oy.bind(null,M,Y,_,m),null),qr===null)throw Error(n(349));J||(Si&127)!==0||iy(M,m,_)}return _}function iy(f,m,_){f.flags|=16384,f={getSnapshot:m,value:_},m=ur.updateQueue,m===null?(m=Qh(),ur.updateQueue=m,m.stores=[f]):(_=m.stores,_===null?m.stores=[f]:_.push(f))}function oy(f,m,_,M){m.value=_,m.getSnapshot=M,cy(m)&&uy(f)}function ly(f,m,_){return _(function(){cy(m)&&uy(f)})}function cy(f){var m=f.getSnapshot;f=f.value;try{var _=m();return!qs(f,_)}catch{return!0}}function uy(f){var m=cl(f,2);m!==null&&Ds(m,f,2)}function lm(f){var m=ys();if(typeof f=="function"){var _=f;if(f=_(),xl){it(!0);try{_()}finally{it(!1)}}}return m.memoizedState=m.baseState=f,m.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:f},m}function fy(f,m,_,M){return f.baseState=_,im(f,Ur,typeof M=="function"?M:ki)}function BS(f,m,_,M,Y){if(rd(f))throw Error(n(485));if(f=m.action,f!==null){var J={payload:Y,action:f,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(le){J.listeners.push(le)}};S.T!==null?_(!0):J.isTransition=!1,M(J),_=m.pending,_===null?(J.next=m.pending=J,hy(m,J)):(J.next=_.next,m.pending=_.next=J)}}function hy(f,m){var _=m.action,M=m.payload,Y=f.state;if(m.isTransition){var J=S.T,le={};S.T=le;try{var we=_(Y,M),Le=S.S;Le!==null&&Le(le,we),dy(f,m,we)}catch(st){cm(f,m,st)}finally{J!==null&&le.types!==null&&(J.types=le.types),S.T=J}}else try{J=_(Y,M),dy(f,m,J)}catch(st){cm(f,m,st)}}function dy(f,m,_){_!==null&&typeof _=="object"&&typeof _.then=="function"?_.then(function(M){py(f,m,M)},function(M){return cm(f,m,M)}):py(f,m,_)}function py(f,m,_){m.status="fulfilled",m.value=_,my(m),f.state=_,m=f.pending,m!==null&&(_=m.next,_===m?f.pending=null:(_=_.next,m.next=_,hy(f,_)))}function cm(f,m,_){var M=f.pending;if(f.pending=null,M!==null){M=M.next;do m.status="rejected",m.reason=_,my(m),m=m.next;while(m!==M)}f.action=null}function my(f){f=f.listeners;for(var m=0;m<f.length;m++)(0,f[m])()}function gy(f,m){return m}function by(f,m){if(Tr){var _=qr.formState;if(_!==null){e:{var M=ur;if(Tr){if(Yr){t:{for(var Y=Yr,J=fa;Y.nodeType!==8;){if(!J){Y=null;break t}if(Y=da(Y.nextSibling),Y===null){Y=null;break t}}J=Y.data,Y=J==="F!"||J==="F"?Y:null}if(Y){Yr=da(Y.nextSibling),M=Y.data==="F!";break e}}so(M)}M=!1}M&&(m=_[0])}}return _=ys(),_.memoizedState=_.baseState=m,M={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gy,lastRenderedState:m},_.queue=M,_=Fy.bind(null,ur,M),M.dispatch=_,M=lm(!1),J=mm.bind(null,ur,!1,M.queue),M=ys(),Y={state:m,dispatch:null,action:f,pending:null},M.queue=Y,_=BS.bind(null,ur,Y,J,_),Y.dispatch=_,M.memoizedState=f,[m,_,!1]}function xy(f){var m=bn();return yy(m,Ur,f)}function yy(f,m,_){if(m=im(f,m,gy)[0],f=Jh(ki)[0],typeof m=="object"&&m!==null&&typeof m.then=="function")try{var M=Pu(m)}catch(le){throw le===gc?Hh:le}else M=m;m=bn();var Y=m.queue,J=Y.dispatch;return _!==m.memoizedState&&(ur.flags|=2048,wc(9,{destroy:void 0},US.bind(null,Y,_),null)),[M,J,f]}function US(f,m){f.action=m}function vy(f){var m=bn(),_=Ur;if(_!==null)return yy(m,_,f);bn(),m=m.memoizedState,_=bn();var M=_.queue.dispatch;return _.memoizedState=f,[m,M,!1]}function wc(f,m,_,M){return f={tag:f,create:_,deps:M,inst:m,next:null},m=ur.updateQueue,m===null&&(m=Qh(),ur.updateQueue=m),_=m.lastEffect,_===null?m.lastEffect=f.next=f:(M=_.next,_.next=f,f.next=M,m.lastEffect=f),f}function wy(){return bn().memoizedState}function ed(f,m,_,M){var Y=ys();ur.flags|=f,Y.memoizedState=wc(1|m,{destroy:void 0},_,M===void 0?null:M)}function td(f,m,_,M){var Y=bn();M=M===void 0?null:M;var J=Y.memoizedState.inst;Ur!==null&&M!==null&&em(M,Ur.memoizedState.deps)?Y.memoizedState=wc(m,J,_,M):(ur.flags|=f,Y.memoizedState=wc(1|m,J,_,M))}function _y(f,m){ed(8390656,8,f,m)}function um(f,m){td(2048,8,f,m)}function VS(f){ur.flags|=4;var m=ur.updateQueue;if(m===null)m=Qh(),ur.updateQueue=m,m.events=[f];else{var _=m.events;_===null?m.events=[f]:_.push(f)}}function Sy(f){var m=bn().memoizedState;return VS({ref:m,nextImpl:f}),function(){if((Ir&2)!==0)throw Error(n(440));return m.impl.apply(void 0,arguments)}}function ky(f,m){return td(4,2,f,m)}function Ty(f,m){return td(4,4,f,m)}function Ey(f,m){if(typeof m=="function"){f=f();var _=m(f);return function(){typeof _=="function"?_():m(null)}}if(m!=null)return f=f(),m.current=f,function(){m.current=null}}function Ay(f,m,_){_=_!=null?_.concat([f]):null,td(4,4,Ey.bind(null,m,f),_)}function fm(){}function Cy(f,m){var _=bn();m=m===void 0?null:m;var M=_.memoizedState;return m!==null&&em(m,M[1])?M[0]:(_.memoizedState=[f,m],f)}function Ny(f,m){var _=bn();m=m===void 0?null:m;var M=_.memoizedState;if(m!==null&&em(m,M[1]))return M[0];if(M=f(),xl){it(!0);try{f()}finally{it(!1)}}return _.memoizedState=[M,m],M}function hm(f,m,_){return _===void 0||(Si&1073741824)!==0&&(vr&261930)===0?f.memoizedState=m:(f.memoizedState=_,f=R2(),ur.lanes|=f,po|=f,_)}function Ry(f,m,_,M){return qs(_,m)?_:xc.current!==null?(f=hm(f,_,M),qs(f,m)||(Sn=!0),f):(Si&42)===0||(Si&1073741824)!==0&&(vr&261930)===0?(Sn=!0,f.memoizedState=_):(f=R2(),ur.lanes|=f,po|=f,m)}function My(f,m,_,M,Y){var J=E.p;E.p=J!==0&&8>J?J:8;var le=S.T,we={};S.T=we,mm(f,!1,m,_);try{var Le=Y(),st=S.S;if(st!==null&&st(we,Le),Le!==null&&typeof Le=="object"&&typeof Le.then=="function"){var gt=FS(Le,M);Lu(f,m,gt,Qs(f))}else Lu(f,m,M,Qs(f))}catch(kt){Lu(f,m,{then:function(){},status:"rejected",reason:kt},Qs())}finally{E.p=J,le!==null&&we.types!==null&&(le.types=we.types),S.T=le}}function zS(){}function dm(f,m,_,M){if(f.tag!==5)throw Error(n(476));var Y=jy(f).queue;My(f,Y,m,A,_===null?zS:function(){return Dy(f),_(M)})}function jy(f){var m=f.memoizedState;if(m!==null)return m;m={memoizedState:A,baseState:A,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:A},next:null};var _={};return m.next={memoizedState:_,baseState:_,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:_},next:null},f.memoizedState=m,f=f.alternate,f!==null&&(f.memoizedState=m),m}function Dy(f){var m=jy(f);m.next===null&&(m=f.alternate.memoizedState),Lu(f,m.next.queue,{},Qs())}function pm(){return Gn(tf)}function Iy(){return bn().memoizedState}function Oy(){return bn().memoizedState}function HS(f){for(var m=f.return;m!==null;){switch(m.tag){case 24:case 3:var _=Qs();f=oo(_);var M=lo(m,f,_);M!==null&&(Ds(M,m,_),Du(M,m,_)),m={cache:Hp()},f.payload=m;return}m=m.return}}function $S(f,m,_){var M=Qs();_={lane:M,revertLane:0,gesture:null,action:_,hasEagerState:!1,eagerState:null,next:null},rd(f)?Py(m,_):(_=jp(f,m,_,M),_!==null&&(Ds(_,f,M),Ly(_,m,M)))}function Fy(f,m,_){var M=Qs();Lu(f,m,_,M)}function Lu(f,m,_,M){var Y={lane:M,revertLane:0,gesture:null,action:_,hasEagerState:!1,eagerState:null,next:null};if(rd(f))Py(m,Y);else{var J=f.alternate;if(f.lanes===0&&(J===null||J.lanes===0)&&(J=m.lastRenderedReducer,J!==null))try{var le=m.lastRenderedState,we=J(le,_);if(Y.hasEagerState=!0,Y.eagerState=we,qs(we,le))return Fh(f,m,Y,0),qr===null&&Oh(),!1}catch{}finally{}if(_=jp(f,m,Y,M),_!==null)return Ds(_,f,M),Ly(_,m,M),!0}return!1}function mm(f,m,_,M){if(M={lane:2,revertLane:Wm(),gesture:null,action:M,hasEagerState:!1,eagerState:null,next:null},rd(f)){if(m)throw Error(n(479))}else m=jp(f,_,M,2),m!==null&&Ds(m,f,2)}function rd(f){var m=f.alternate;return f===ur||m!==null&&m===ur}function Py(f,m){yc=Yh=!0;var _=f.pending;_===null?m.next=m:(m.next=_.next,_.next=m),f.pending=m}function Ly(f,m,_){if((_&4194048)!==0){var M=m.lanes;M&=f.pendingLanes,_|=M,m.lanes=_,Mt(f,_)}}var Bu={readContext:Gn,use:Zh,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useLayoutEffect:an,useInsertionEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useSyncExternalStore:an,useId:an,useHostTransitionStatus:an,useFormState:an,useActionState:an,useOptimistic:an,useMemoCache:an,useCacheRefresh:an};Bu.useEffectEvent=an;var By={readContext:Gn,use:Zh,useCallback:function(f,m){return ys().memoizedState=[f,m===void 0?null:m],f},useContext:Gn,useEffect:_y,useImperativeHandle:function(f,m,_){_=_!=null?_.concat([f]):null,ed(4194308,4,Ey.bind(null,m,f),_)},useLayoutEffect:function(f,m){return ed(4194308,4,f,m)},useInsertionEffect:function(f,m){ed(4,2,f,m)},useMemo:function(f,m){var _=ys();m=m===void 0?null:m;var M=f();if(xl){it(!0);try{f()}finally{it(!1)}}return _.memoizedState=[M,m],M},useReducer:function(f,m,_){var M=ys();if(_!==void 0){var Y=_(m);if(xl){it(!0);try{_(m)}finally{it(!1)}}}else Y=m;return M.memoizedState=M.baseState=Y,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:Y},M.queue=f,f=f.dispatch=$S.bind(null,ur,f),[M.memoizedState,f]},useRef:function(f){var m=ys();return f={current:f},m.memoizedState=f},useState:function(f){f=lm(f);var m=f.queue,_=Fy.bind(null,ur,m);return m.dispatch=_,[f.memoizedState,_]},useDebugValue:fm,useDeferredValue:function(f,m){var _=ys();return hm(_,f,m)},useTransition:function(){var f=lm(!1);return f=My.bind(null,ur,f.queue,!0,!1),ys().memoizedState=f,[!1,f]},useSyncExternalStore:function(f,m,_){var M=ur,Y=ys();if(Tr){if(_===void 0)throw Error(n(407));_=_()}else{if(_=m(),qr===null)throw Error(n(349));(vr&127)!==0||iy(M,m,_)}Y.memoizedState=_;var J={value:_,getSnapshot:m};return Y.queue=J,_y(ly.bind(null,M,J,f),[f]),M.flags|=2048,wc(9,{destroy:void 0},oy.bind(null,M,J,_,m),null),_},useId:function(){var f=ys(),m=qr.identifierPrefix;if(Tr){var _=Za,M=Qa;_=(M&~(1<<32-Be(M)-1)).toString(32)+_,m="_"+m+"R_"+_,_=Kh++,0<_&&(m+="H"+_.toString(32)),m+="_"}else _=PS++,m="_"+m+"r_"+_.toString(32)+"_";return f.memoizedState=m},useHostTransitionStatus:pm,useFormState:by,useActionState:by,useOptimistic:function(f){var m=ys();m.memoizedState=m.baseState=f;var _={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return m.queue=_,m=mm.bind(null,ur,!0,_),_.dispatch=m,[f,m]},useMemoCache:am,useCacheRefresh:function(){return ys().memoizedState=HS.bind(null,ur)},useEffectEvent:function(f){var m=ys(),_={impl:f};return m.memoizedState=_,function(){if((Ir&2)!==0)throw Error(n(440));return _.impl.apply(void 0,arguments)}}},gm={readContext:Gn,use:Zh,useCallback:Cy,useContext:Gn,useEffect:um,useImperativeHandle:Ay,useInsertionEffect:ky,useLayoutEffect:Ty,useMemo:Ny,useReducer:Jh,useRef:wy,useState:function(){return Jh(ki)},useDebugValue:fm,useDeferredValue:function(f,m){var _=bn();return Ry(_,Ur.memoizedState,f,m)},useTransition:function(){var f=Jh(ki)[0],m=bn().memoizedState;return[typeof f=="boolean"?f:Pu(f),m]},useSyncExternalStore:ay,useId:Iy,useHostTransitionStatus:pm,useFormState:xy,useActionState:xy,useOptimistic:function(f,m){var _=bn();return fy(_,Ur,f,m)},useMemoCache:am,useCacheRefresh:Oy};gm.useEffectEvent=Sy;var Uy={readContext:Gn,use:Zh,useCallback:Cy,useContext:Gn,useEffect:um,useImperativeHandle:Ay,useInsertionEffect:ky,useLayoutEffect:Ty,useMemo:Ny,useReducer:om,useRef:wy,useState:function(){return om(ki)},useDebugValue:fm,useDeferredValue:function(f,m){var _=bn();return Ur===null?hm(_,f,m):Ry(_,Ur.memoizedState,f,m)},useTransition:function(){var f=om(ki)[0],m=bn().memoizedState;return[typeof f=="boolean"?f:Pu(f),m]},useSyncExternalStore:ay,useId:Iy,useHostTransitionStatus:pm,useFormState:vy,useActionState:vy,useOptimistic:function(f,m){var _=bn();return Ur!==null?fy(_,Ur,f,m):(_.baseState=f,[f,_.queue.dispatch])},useMemoCache:am,useCacheRefresh:Oy};Uy.useEffectEvent=Sy;function bm(f,m,_,M){m=f.memoizedState,_=_(M,m),_=_==null?m:p({},m,_),f.memoizedState=_,f.lanes===0&&(f.updateQueue.baseState=_)}var xm={enqueueSetState:function(f,m,_){f=f._reactInternals;var M=Qs(),Y=oo(M);Y.payload=m,_!=null&&(Y.callback=_),m=lo(f,Y,M),m!==null&&(Ds(m,f,M),Du(m,f,M))},enqueueReplaceState:function(f,m,_){f=f._reactInternals;var M=Qs(),Y=oo(M);Y.tag=1,Y.payload=m,_!=null&&(Y.callback=_),m=lo(f,Y,M),m!==null&&(Ds(m,f,M),Du(m,f,M))},enqueueForceUpdate:function(f,m){f=f._reactInternals;var _=Qs(),M=oo(_);M.tag=2,m!=null&&(M.callback=m),m=lo(f,M,_),m!==null&&(Ds(m,f,_),Du(m,f,_))}};function Vy(f,m,_,M,Y,J,le){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(M,J,le):m.prototype&&m.prototype.isPureReactComponent?!Tu(_,M)||!Tu(Y,J):!0}function zy(f,m,_,M){f=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(_,M),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(_,M),m.state!==f&&xm.enqueueReplaceState(m,m.state,null)}function yl(f,m){var _=m;if("ref"in m){_={};for(var M in m)M!=="ref"&&(_[M]=m[M])}if(f=f.defaultProps){_===m&&(_=p({},_));for(var Y in f)_[Y]===void 0&&(_[Y]=f[Y])}return _}function Hy(f){Ih(f)}function $y(f){console.error(f)}function qy(f){Ih(f)}function nd(f,m){try{var _=f.onUncaughtError;_(m.value,{componentStack:m.stack})}catch(M){setTimeout(function(){throw M})}}function Gy(f,m,_){try{var M=f.onCaughtError;M(_.value,{componentStack:_.stack,errorBoundary:m.tag===1?m.stateNode:null})}catch(Y){setTimeout(function(){throw Y})}}function ym(f,m,_){return _=oo(_),_.tag=3,_.payload={element:null},_.callback=function(){nd(f,m)},_}function Wy(f){return f=oo(f),f.tag=3,f}function Xy(f,m,_,M){var Y=_.type.getDerivedStateFromError;if(typeof Y=="function"){var J=M.value;f.payload=function(){return Y(J)},f.callback=function(){Gy(m,_,M)}}var le=_.stateNode;le!==null&&typeof le.componentDidCatch=="function"&&(f.callback=function(){Gy(m,_,M),typeof Y!="function"&&(mo===null?mo=new Set([this]):mo.add(this));var we=M.stack;this.componentDidCatch(M.value,{componentStack:we!==null?we:""})})}function qS(f,m,_,M,Y){if(_.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){if(m=_.alternate,m!==null&&dc(m,_,Y,!0),_=Ws.current,_!==null){switch(_.tag){case 31:case 13:return ha===null?md():_.alternate===null&&on===0&&(on=3),_.flags&=-257,_.flags|=65536,_.lanes=Y,M===$h?_.flags|=16384:(m=_.updateQueue,m===null?_.updateQueue=new Set([M]):m.add(M),$m(f,M,Y)),!1;case 22:return _.flags|=65536,M===$h?_.flags|=16384:(m=_.updateQueue,m===null?(m={transitions:null,markerInstances:null,retryQueue:new Set([M])},_.updateQueue=m):(_=m.retryQueue,_===null?m.retryQueue=new Set([M]):_.add(M)),$m(f,M,Y)),!1}throw Error(n(435,_.tag))}return $m(f,M,Y),md(),!1}if(Tr)return m=Ws.current,m!==null?((m.flags&65536)===0&&(m.flags|=256),m.flags|=65536,m.lanes=Y,M!==Lp&&(f=Error(n(422),{cause:M}),Cu(la(f,_)))):(M!==Lp&&(m=Error(n(423),{cause:M}),Cu(la(m,_))),f=f.current.alternate,f.flags|=65536,Y&=-Y,f.lanes|=Y,M=la(M,_),Y=ym(f.stateNode,M,Y),Yp(f,Y),on!==4&&(on=2)),!1;var J=Error(n(520),{cause:M});if(J=la(J,_),Wu===null?Wu=[J]:Wu.push(J),on!==4&&(on=2),m===null)return!0;M=la(M,_),_=m;do{switch(_.tag){case 3:return _.flags|=65536,f=Y&-Y,_.lanes|=f,f=ym(_.stateNode,M,f),Yp(_,f),!1;case 1:if(m=_.type,J=_.stateNode,(_.flags&128)===0&&(typeof m.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(mo===null||!mo.has(J))))return _.flags|=65536,Y&=-Y,_.lanes|=Y,Y=Wy(Y),Xy(Y,f,_,M),Yp(_,Y),!1}_=_.return}while(_!==null);return!1}var vm=Error(n(461)),Sn=!1;function Wn(f,m,_,M){m.child=f===null?Zx(m,null,_,M):bl(m,f.child,_,M)}function Yy(f,m,_,M,Y){_=_.render;var J=m.ref;if("ref"in M){var le={};for(var we in M)we!=="ref"&&(le[we]=M[we])}else le=M;return dl(m),M=tm(f,m,_,le,J,Y),we=rm(),f!==null&&!Sn?(nm(f,m,Y),Ti(f,m,Y)):(Tr&&we&&Fp(m),m.flags|=1,Wn(f,m,M,Y),m.child)}function Ky(f,m,_,M,Y){if(f===null){var J=_.type;return typeof J=="function"&&!Dp(J)&&J.defaultProps===void 0&&_.compare===null?(m.tag=15,m.type=J,Qy(f,m,J,M,Y)):(f=Lh(_.type,null,M,m,m.mode,Y),f.ref=m.ref,f.return=m,m.child=f)}if(J=f.child,!Cm(f,Y)){var le=J.memoizedProps;if(_=_.compare,_=_!==null?_:Tu,_(le,M)&&f.ref===m.ref)return Ti(f,m,Y)}return m.flags|=1,f=yi(J,M),f.ref=m.ref,f.return=m,m.child=f}function Qy(f,m,_,M,Y){if(f!==null){var J=f.memoizedProps;if(Tu(J,M)&&f.ref===m.ref)if(Sn=!1,m.pendingProps=M=J,Cm(f,Y))(f.flags&131072)!==0&&(Sn=!0);else return m.lanes=f.lanes,Ti(f,m,Y)}return wm(f,m,_,M,Y)}function Zy(f,m,_,M){var Y=M.children,J=f!==null?f.memoizedState:null;if(f===null&&m.stateNode===null&&(m.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),M.mode==="hidden"){if((m.flags&128)!==0){if(J=J!==null?J.baseLanes|_:_,f!==null){for(M=m.child=f.child,Y=0;M!==null;)Y=Y|M.lanes|M.childLanes,M=M.sibling;M=Y&~J}else M=0,m.child=null;return Jy(f,m,J,_,M)}if((_&536870912)!==0)m.memoizedState={baseLanes:0,cachePool:null},f!==null&&zh(m,J!==null?J.cachePool:null),J!==null?ty(m,J):Qp(),ry(m);else return M=m.lanes=536870912,Jy(f,m,J!==null?J.baseLanes|_:_,_,M)}else J!==null?(zh(m,J.cachePool),ty(m,J),uo(),m.memoizedState=null):(f!==null&&zh(m,null),Qp(),uo());return Wn(f,m,Y,_),m.child}function Uu(f,m){return f!==null&&f.tag===22||m.stateNode!==null||(m.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.sibling}function Jy(f,m,_,M,Y){var J=qp();return J=J===null?null:{parent:wn._currentValue,pool:J},m.memoizedState={baseLanes:_,cachePool:J},f!==null&&zh(m,null),Qp(),ry(m),f!==null&&dc(f,m,M,!0),m.childLanes=Y,null}function sd(f,m){return m=id({mode:m.mode,children:m.children},f.mode),m.ref=f.ref,f.child=m,m.return=f,m}function e2(f,m,_){return bl(m,f.child,null,_),f=sd(m,m.pendingProps),f.flags|=2,Xs(m),m.memoizedState=null,f}function GS(f,m,_){var M=m.pendingProps,Y=(m.flags&128)!==0;if(m.flags&=-129,f===null){if(Tr){if(M.mode==="hidden")return f=sd(m,M),m.lanes=536870912,Uu(null,f);if(Jp(m),(f=Yr)?(f=hv(f,fa),f=f!==null&&f.data==="&"?f:null,f!==null&&(m.memoizedState={dehydrated:f,treeContext:ro!==null?{id:Qa,overflow:Za}:null,retryLane:536870912,hydrationErrors:null},_=Px(f),_.return=m,m.child=_,qn=m,Yr=null)):f=null,f===null)throw so(m);return m.lanes=536870912,null}return sd(m,M)}var J=f.memoizedState;if(J!==null){var le=J.dehydrated;if(Jp(m),Y)if(m.flags&256)m.flags&=-257,m=e2(f,m,_);else if(m.memoizedState!==null)m.child=f.child,m.flags|=128,m=null;else throw Error(n(558));else if(Sn||dc(f,m,_,!1),Y=(_&f.childLanes)!==0,Sn||Y){if(M=qr,M!==null&&(le=je(M,_),le!==0&&le!==J.retryLane))throw J.retryLane=le,cl(f,le),Ds(M,f,le),vm;md(),m=e2(f,m,_)}else f=J.treeContext,Yr=da(le.nextSibling),qn=m,Tr=!0,no=null,fa=!1,f!==null&&Ux(m,f),m=sd(m,M),m.flags|=4096;return m}return f=yi(f.child,{mode:M.mode,children:M.children}),f.ref=m.ref,m.child=f,f.return=m,f}function ad(f,m){var _=m.ref;if(_===null)f!==null&&f.ref!==null&&(m.flags|=4194816);else{if(typeof _!="function"&&typeof _!="object")throw Error(n(284));(f===null||f.ref!==_)&&(m.flags|=4194816)}}function wm(f,m,_,M,Y){return dl(m),_=tm(f,m,_,M,void 0,Y),M=rm(),f!==null&&!Sn?(nm(f,m,Y),Ti(f,m,Y)):(Tr&&M&&Fp(m),m.flags|=1,Wn(f,m,_,Y),m.child)}function t2(f,m,_,M,Y,J){return dl(m),m.updateQueue=null,_=sy(m,M,_,Y),ny(f),M=rm(),f!==null&&!Sn?(nm(f,m,J),Ti(f,m,J)):(Tr&&M&&Fp(m),m.flags|=1,Wn(f,m,_,J),m.child)}function r2(f,m,_,M,Y){if(dl(m),m.stateNode===null){var J=cc,le=_.contextType;typeof le=="object"&&le!==null&&(J=Gn(le)),J=new _(M,J),m.memoizedState=J.state!==null&&J.state!==void 0?J.state:null,J.updater=xm,m.stateNode=J,J._reactInternals=m,J=m.stateNode,J.props=M,J.state=m.memoizedState,J.refs={},Wp(m),le=_.contextType,J.context=typeof le=="object"&&le!==null?Gn(le):cc,J.state=m.memoizedState,le=_.getDerivedStateFromProps,typeof le=="function"&&(bm(m,_,le,M),J.state=m.memoizedState),typeof _.getDerivedStateFromProps=="function"||typeof J.getSnapshotBeforeUpdate=="function"||typeof J.UNSAFE_componentWillMount!="function"&&typeof J.componentWillMount!="function"||(le=J.state,typeof J.componentWillMount=="function"&&J.componentWillMount(),typeof J.UNSAFE_componentWillMount=="function"&&J.UNSAFE_componentWillMount(),le!==J.state&&xm.enqueueReplaceState(J,J.state,null),Ou(m,M,J,Y),Iu(),J.state=m.memoizedState),typeof J.componentDidMount=="function"&&(m.flags|=4194308),M=!0}else if(f===null){J=m.stateNode;var we=m.memoizedProps,Le=yl(_,we);J.props=Le;var st=J.context,gt=_.contextType;le=cc,typeof gt=="object"&&gt!==null&&(le=Gn(gt));var kt=_.getDerivedStateFromProps;gt=typeof kt=="function"||typeof J.getSnapshotBeforeUpdate=="function",we=m.pendingProps!==we,gt||typeof J.UNSAFE_componentWillReceiveProps!="function"&&typeof J.componentWillReceiveProps!="function"||(we||st!==le)&&zy(m,J,M,le),io=!1;var ot=m.memoizedState;J.state=ot,Ou(m,M,J,Y),Iu(),st=m.memoizedState,we||ot!==st||io?(typeof kt=="function"&&(bm(m,_,kt,M),st=m.memoizedState),(Le=io||Vy(m,_,Le,M,ot,st,le))?(gt||typeof J.UNSAFE_componentWillMount!="function"&&typeof J.componentWillMount!="function"||(typeof J.componentWillMount=="function"&&J.componentWillMount(),typeof J.UNSAFE_componentWillMount=="function"&&J.UNSAFE_componentWillMount()),typeof J.componentDidMount=="function"&&(m.flags|=4194308)):(typeof J.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=M,m.memoizedState=st),J.props=M,J.state=st,J.context=le,M=Le):(typeof J.componentDidMount=="function"&&(m.flags|=4194308),M=!1)}else{J=m.stateNode,Xp(f,m),le=m.memoizedProps,gt=yl(_,le),J.props=gt,kt=m.pendingProps,ot=J.context,st=_.contextType,Le=cc,typeof st=="object"&&st!==null&&(Le=Gn(st)),we=_.getDerivedStateFromProps,(st=typeof we=="function"||typeof J.getSnapshotBeforeUpdate=="function")||typeof J.UNSAFE_componentWillReceiveProps!="function"&&typeof J.componentWillReceiveProps!="function"||(le!==kt||ot!==Le)&&zy(m,J,M,Le),io=!1,ot=m.memoizedState,J.state=ot,Ou(m,M,J,Y),Iu();var ft=m.memoizedState;le!==kt||ot!==ft||io||f!==null&&f.dependencies!==null&&Uh(f.dependencies)?(typeof we=="function"&&(bm(m,_,we,M),ft=m.memoizedState),(gt=io||Vy(m,_,gt,M,ot,ft,Le)||f!==null&&f.dependencies!==null&&Uh(f.dependencies))?(st||typeof J.UNSAFE_componentWillUpdate!="function"&&typeof J.componentWillUpdate!="function"||(typeof J.componentWillUpdate=="function"&&J.componentWillUpdate(M,ft,Le),typeof J.UNSAFE_componentWillUpdate=="function"&&J.UNSAFE_componentWillUpdate(M,ft,Le)),typeof J.componentDidUpdate=="function"&&(m.flags|=4),typeof J.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof J.componentDidUpdate!="function"||le===f.memoizedProps&&ot===f.memoizedState||(m.flags|=4),typeof J.getSnapshotBeforeUpdate!="function"||le===f.memoizedProps&&ot===f.memoizedState||(m.flags|=1024),m.memoizedProps=M,m.memoizedState=ft),J.props=M,J.state=ft,J.context=Le,M=gt):(typeof J.componentDidUpdate!="function"||le===f.memoizedProps&&ot===f.memoizedState||(m.flags|=4),typeof J.getSnapshotBeforeUpdate!="function"||le===f.memoizedProps&&ot===f.memoizedState||(m.flags|=1024),M=!1)}return J=M,ad(f,m),M=(m.flags&128)!==0,J||M?(J=m.stateNode,_=M&&typeof _.getDerivedStateFromError!="function"?null:J.render(),m.flags|=1,f!==null&&M?(m.child=bl(m,f.child,null,Y),m.child=bl(m,null,_,Y)):Wn(f,m,_,Y),m.memoizedState=J.state,f=m.child):f=Ti(f,m,Y),f}function n2(f,m,_,M){return fl(),m.flags|=256,Wn(f,m,_,M),m.child}var _m={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sm(f){return{baseLanes:f,cachePool:Gx()}}function km(f,m,_){return f=f!==null?f.childLanes&~_:0,m&&(f|=Ks),f}function s2(f,m,_){var M=m.pendingProps,Y=!1,J=(m.flags&128)!==0,le;if((le=J)||(le=f!==null&&f.memoizedState===null?!1:(gn.current&2)!==0),le&&(Y=!0,m.flags&=-129),le=(m.flags&32)!==0,m.flags&=-33,f===null){if(Tr){if(Y?co(m):uo(),(f=Yr)?(f=hv(f,fa),f=f!==null&&f.data!=="&"?f:null,f!==null&&(m.memoizedState={dehydrated:f,treeContext:ro!==null?{id:Qa,overflow:Za}:null,retryLane:536870912,hydrationErrors:null},_=Px(f),_.return=m,m.child=_,qn=m,Yr=null)):f=null,f===null)throw so(m);return ig(f)?m.lanes=32:m.lanes=536870912,null}var we=M.children;return M=M.fallback,Y?(uo(),Y=m.mode,we=id({mode:"hidden",children:we},Y),M=ul(M,Y,_,null),we.return=m,M.return=m,we.sibling=M,m.child=we,M=m.child,M.memoizedState=Sm(_),M.childLanes=km(f,le,_),m.memoizedState=_m,Uu(null,M)):(co(m),Tm(m,we))}var Le=f.memoizedState;if(Le!==null&&(we=Le.dehydrated,we!==null)){if(J)m.flags&256?(co(m),m.flags&=-257,m=Em(f,m,_)):m.memoizedState!==null?(uo(),m.child=f.child,m.flags|=128,m=null):(uo(),we=M.fallback,Y=m.mode,M=id({mode:"visible",children:M.children},Y),we=ul(we,Y,_,null),we.flags|=2,M.return=m,we.return=m,M.sibling=we,m.child=M,bl(m,f.child,null,_),M=m.child,M.memoizedState=Sm(_),M.childLanes=km(f,le,_),m.memoizedState=_m,m=Uu(null,M));else if(co(m),ig(we)){if(le=we.nextSibling&&we.nextSibling.dataset,le)var st=le.dgst;le=st,M=Error(n(419)),M.stack="",M.digest=le,Cu({value:M,source:null,stack:null}),m=Em(f,m,_)}else if(Sn||dc(f,m,_,!1),le=(_&f.childLanes)!==0,Sn||le){if(le=qr,le!==null&&(M=je(le,_),M!==0&&M!==Le.retryLane))throw Le.retryLane=M,cl(f,M),Ds(le,f,M),vm;ag(we)||md(),m=Em(f,m,_)}else ag(we)?(m.flags|=192,m.child=f.child,m=null):(f=Le.treeContext,Yr=da(we.nextSibling),qn=m,Tr=!0,no=null,fa=!1,f!==null&&Ux(m,f),m=Tm(m,M.children),m.flags|=4096);return m}return Y?(uo(),we=M.fallback,Y=m.mode,Le=f.child,st=Le.sibling,M=yi(Le,{mode:"hidden",children:M.children}),M.subtreeFlags=Le.subtreeFlags&65011712,st!==null?we=yi(st,we):(we=ul(we,Y,_,null),we.flags|=2),we.return=m,M.return=m,M.sibling=we,m.child=M,Uu(null,M),M=m.child,we=f.child.memoizedState,we===null?we=Sm(_):(Y=we.cachePool,Y!==null?(Le=wn._currentValue,Y=Y.parent!==Le?{parent:Le,pool:Le}:Y):Y=Gx(),we={baseLanes:we.baseLanes|_,cachePool:Y}),M.memoizedState=we,M.childLanes=km(f,le,_),m.memoizedState=_m,Uu(f.child,M)):(co(m),_=f.child,f=_.sibling,_=yi(_,{mode:"visible",children:M.children}),_.return=m,_.sibling=null,f!==null&&(le=m.deletions,le===null?(m.deletions=[f],m.flags|=16):le.push(f)),m.child=_,m.memoizedState=null,_)}function Tm(f,m){return m=id({mode:"visible",children:m},f.mode),m.return=f,f.child=m}function id(f,m){return f=Gs(22,f,null,m),f.lanes=0,f}function Em(f,m,_){return bl(m,f.child,null,_),f=Tm(m,m.pendingProps.children),f.flags|=2,m.memoizedState=null,f}function a2(f,m,_){f.lanes|=m;var M=f.alternate;M!==null&&(M.lanes|=m),Vp(f.return,m,_)}function Am(f,m,_,M,Y,J){var le=f.memoizedState;le===null?f.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:M,tail:_,tailMode:Y,treeForkCount:J}:(le.isBackwards=m,le.rendering=null,le.renderingStartTime=0,le.last=M,le.tail=_,le.tailMode=Y,le.treeForkCount=J)}function i2(f,m,_){var M=m.pendingProps,Y=M.revealOrder,J=M.tail;M=M.children;var le=gn.current,we=(le&2)!==0;if(we?(le=le&1|2,m.flags|=128):le&=1,Z(gn,le),Wn(f,m,M,_),M=Tr?Au:0,!we&&f!==null&&(f.flags&128)!==0)e:for(f=m.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&a2(f,_,m);else if(f.tag===19)a2(f,_,m);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===m)break e;for(;f.sibling===null;){if(f.return===null||f.return===m)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}switch(Y){case"forwards":for(_=m.child,Y=null;_!==null;)f=_.alternate,f!==null&&Xh(f)===null&&(Y=_),_=_.sibling;_=Y,_===null?(Y=m.child,m.child=null):(Y=_.sibling,_.sibling=null),Am(m,!1,Y,_,J,M);break;case"backwards":case"unstable_legacy-backwards":for(_=null,Y=m.child,m.child=null;Y!==null;){if(f=Y.alternate,f!==null&&Xh(f)===null){m.child=Y;break}f=Y.sibling,Y.sibling=_,_=Y,Y=f}Am(m,!0,_,null,J,M);break;case"together":Am(m,!1,null,null,void 0,M);break;default:m.memoizedState=null}return m.child}function Ti(f,m,_){if(f!==null&&(m.dependencies=f.dependencies),po|=m.lanes,(_&m.childLanes)===0)if(f!==null){if(dc(f,m,_,!1),(_&m.childLanes)===0)return null}else return null;if(f!==null&&m.child!==f.child)throw Error(n(153));if(m.child!==null){for(f=m.child,_=yi(f,f.pendingProps),m.child=_,_.return=m;f.sibling!==null;)f=f.sibling,_=_.sibling=yi(f,f.pendingProps),_.return=m;_.sibling=null}return m.child}function Cm(f,m){return(f.lanes&m)!==0?!0:(f=f.dependencies,!!(f!==null&&Uh(f)))}function WS(f,m,_){switch(m.tag){case 3:H(m,m.stateNode.containerInfo),ao(m,wn,f.memoizedState.cache),fl();break;case 27:case 5:Q(m);break;case 4:H(m,m.stateNode.containerInfo);break;case 10:ao(m,m.type,m.memoizedProps.value);break;case 31:if(m.memoizedState!==null)return m.flags|=128,Jp(m),null;break;case 13:var M=m.memoizedState;if(M!==null)return M.dehydrated!==null?(co(m),m.flags|=128,null):(_&m.child.childLanes)!==0?s2(f,m,_):(co(m),f=Ti(f,m,_),f!==null?f.sibling:null);co(m);break;case 19:var Y=(f.flags&128)!==0;if(M=(_&m.childLanes)!==0,M||(dc(f,m,_,!1),M=(_&m.childLanes)!==0),Y){if(M)return i2(f,m,_);m.flags|=128}if(Y=m.memoizedState,Y!==null&&(Y.rendering=null,Y.tail=null,Y.lastEffect=null),Z(gn,gn.current),M)break;return null;case 22:return m.lanes=0,Zy(f,m,_,m.pendingProps);case 24:ao(m,wn,f.memoizedState.cache)}return Ti(f,m,_)}function o2(f,m,_){if(f!==null)if(f.memoizedProps!==m.pendingProps)Sn=!0;else{if(!Cm(f,_)&&(m.flags&128)===0)return Sn=!1,WS(f,m,_);Sn=(f.flags&131072)!==0}else Sn=!1,Tr&&(m.flags&1048576)!==0&&Bx(m,Au,m.index);switch(m.lanes=0,m.tag){case 16:e:{var M=m.pendingProps;if(f=ml(m.elementType),m.type=f,typeof f=="function")Dp(f)?(M=yl(f,M),m.tag=1,m=r2(null,m,f,M,_)):(m.tag=0,m=wm(null,m,f,M,_));else{if(f!=null){var Y=f.$$typeof;if(Y===R){m.tag=11,m=Yy(null,m,f,M,_);break e}else if(Y===B){m.tag=14,m=Ky(null,m,f,M,_);break e}}throw m=P(f)||f,Error(n(306,m,""))}}return m;case 0:return wm(f,m,m.type,m.pendingProps,_);case 1:return M=m.type,Y=yl(M,m.pendingProps),r2(f,m,M,Y,_);case 3:e:{if(H(m,m.stateNode.containerInfo),f===null)throw Error(n(387));M=m.pendingProps;var J=m.memoizedState;Y=J.element,Xp(f,m),Ou(m,M,null,_);var le=m.memoizedState;if(M=le.cache,ao(m,wn,M),M!==J.cache&&zp(m,[wn],_,!0),Iu(),M=le.element,J.isDehydrated)if(J={element:M,isDehydrated:!1,cache:le.cache},m.updateQueue.baseState=J,m.memoizedState=J,m.flags&256){m=n2(f,m,M,_);break e}else if(M!==Y){Y=la(Error(n(424)),m),Cu(Y),m=n2(f,m,M,_);break e}else{switch(f=m.stateNode.containerInfo,f.nodeType){case 9:f=f.body;break;default:f=f.nodeName==="HTML"?f.ownerDocument.body:f}for(Yr=da(f.firstChild),qn=m,Tr=!0,no=null,fa=!0,_=Zx(m,null,M,_),m.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling}else{if(fl(),M===Y){m=Ti(f,m,_);break e}Wn(f,m,M,_)}m=m.child}return m;case 26:return ad(f,m),f===null?(_=xv(m.type,null,m.pendingProps,null))?m.memoizedState=_:Tr||(_=m.type,f=m.pendingProps,M=_d(G.current).createElement(_),M[fe]=m,M[ge]=f,Xn(M,_,f),Ye(M),m.stateNode=M):m.memoizedState=xv(m.type,f.memoizedProps,m.pendingProps,f.memoizedState),null;case 27:return Q(m),f===null&&Tr&&(M=m.stateNode=mv(m.type,m.pendingProps,G.current),qn=m,fa=!0,Y=Yr,yo(m.type)?(og=Y,Yr=da(M.firstChild)):Yr=Y),Wn(f,m,m.pendingProps.children,_),ad(f,m),f===null&&(m.flags|=4194304),m.child;case 5:return f===null&&Tr&&((Y=M=Yr)&&(M=Sk(M,m.type,m.pendingProps,fa),M!==null?(m.stateNode=M,qn=m,Yr=da(M.firstChild),fa=!1,Y=!0):Y=!1),Y||so(m)),Q(m),Y=m.type,J=m.pendingProps,le=f!==null?f.memoizedProps:null,M=J.children,rg(Y,J)?M=null:le!==null&&rg(Y,le)&&(m.flags|=32),m.memoizedState!==null&&(Y=tm(f,m,LS,null,null,_),tf._currentValue=Y),ad(f,m),Wn(f,m,M,_),m.child;case 6:return f===null&&Tr&&((f=_=Yr)&&(_=kk(_,m.pendingProps,fa),_!==null?(m.stateNode=_,qn=m,Yr=null,f=!0):f=!1),f||so(m)),null;case 13:return s2(f,m,_);case 4:return H(m,m.stateNode.containerInfo),M=m.pendingProps,f===null?m.child=bl(m,null,M,_):Wn(f,m,M,_),m.child;case 11:return Yy(f,m,m.type,m.pendingProps,_);case 7:return Wn(f,m,m.pendingProps,_),m.child;case 8:return Wn(f,m,m.pendingProps.children,_),m.child;case 12:return Wn(f,m,m.pendingProps.children,_),m.child;case 10:return M=m.pendingProps,ao(m,m.type,M.value),Wn(f,m,M.children,_),m.child;case 9:return Y=m.type._context,M=m.pendingProps.children,dl(m),Y=Gn(Y),M=M(Y),m.flags|=1,Wn(f,m,M,_),m.child;case 14:return Ky(f,m,m.type,m.pendingProps,_);case 15:return Qy(f,m,m.type,m.pendingProps,_);case 19:return i2(f,m,_);case 31:return GS(f,m,_);case 22:return Zy(f,m,_,m.pendingProps);case 24:return dl(m),M=Gn(wn),f===null?(Y=qp(),Y===null&&(Y=qr,J=Hp(),Y.pooledCache=J,J.refCount++,J!==null&&(Y.pooledCacheLanes|=_),Y=J),m.memoizedState={parent:M,cache:Y},Wp(m),ao(m,wn,Y)):((f.lanes&_)!==0&&(Xp(f,m),Ou(m,null,null,_),Iu()),Y=f.memoizedState,J=m.memoizedState,Y.parent!==M?(Y={parent:M,cache:M},m.memoizedState=Y,m.lanes===0&&(m.memoizedState=m.updateQueue.baseState=Y),ao(m,wn,M)):(M=J.cache,ao(m,wn,M),M!==Y.cache&&zp(m,[wn],_,!0))),Wn(f,m,m.pendingProps.children,_),m.child;case 29:throw m.pendingProps}throw Error(n(156,m.tag))}function Ei(f){f.flags|=4}function Nm(f,m,_,M,Y){if((m=(f.mode&32)!==0)&&(m=!1),m){if(f.flags|=16777216,(Y&335544128)===Y)if(f.stateNode.complete)f.flags|=8192;else if(I2())f.flags|=8192;else throw gl=$h,Gp}else f.flags&=-16777217}function l2(f,m){if(m.type!=="stylesheet"||(m.state.loading&4)!==0)f.flags&=-16777217;else if(f.flags|=16777216,!Sv(m))if(I2())f.flags|=8192;else throw gl=$h,Gp}function od(f,m){m!==null&&(f.flags|=4),f.flags&16384&&(m=f.tag!==22?xt():536870912,f.lanes|=m,Tc|=m)}function Vu(f,m){if(!Tr)switch(f.tailMode){case"hidden":m=f.tail;for(var _=null;m!==null;)m.alternate!==null&&(_=m),m=m.sibling;_===null?f.tail=null:_.sibling=null;break;case"collapsed":_=f.tail;for(var M=null;_!==null;)_.alternate!==null&&(M=_),_=_.sibling;M===null?m||f.tail===null?f.tail=null:f.tail.sibling=null:M.sibling=null}}function Kr(f){var m=f.alternate!==null&&f.alternate.child===f.child,_=0,M=0;if(m)for(var Y=f.child;Y!==null;)_|=Y.lanes|Y.childLanes,M|=Y.subtreeFlags&65011712,M|=Y.flags&65011712,Y.return=f,Y=Y.sibling;else for(Y=f.child;Y!==null;)_|=Y.lanes|Y.childLanes,M|=Y.subtreeFlags,M|=Y.flags,Y.return=f,Y=Y.sibling;return f.subtreeFlags|=M,f.childLanes=_,m}function XS(f,m,_){var M=m.pendingProps;switch(Pp(m),m.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kr(m),null;case 1:return Kr(m),null;case 3:return _=m.stateNode,M=null,f!==null&&(M=f.memoizedState.cache),m.memoizedState.cache!==M&&(m.flags|=2048),_i(wn),U(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(f===null||f.child===null)&&(hc(m)?Ei(m):f===null||f.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,Bp())),Kr(m),null;case 26:var Y=m.type,J=m.memoizedState;return f===null?(Ei(m),J!==null?(Kr(m),l2(m,J)):(Kr(m),Nm(m,Y,null,M,_))):J?J!==f.memoizedState?(Ei(m),Kr(m),l2(m,J)):(Kr(m),m.flags&=-16777217):(f=f.memoizedProps,f!==M&&Ei(m),Kr(m),Nm(m,Y,f,M,_)),null;case 27:if(ie(m),_=G.current,Y=m.type,f!==null&&m.stateNode!=null)f.memoizedProps!==M&&Ei(m);else{if(!M){if(m.stateNode===null)throw Error(n(166));return Kr(m),null}f=K.current,hc(m)?Vx(m):(f=mv(Y,M,_),m.stateNode=f,Ei(m))}return Kr(m),null;case 5:if(ie(m),Y=m.type,f!==null&&m.stateNode!=null)f.memoizedProps!==M&&Ei(m);else{if(!M){if(m.stateNode===null)throw Error(n(166));return Kr(m),null}if(J=K.current,hc(m))Vx(m);else{var le=_d(G.current);switch(J){case 1:J=le.createElementNS("http://www.w3.org/2000/svg",Y);break;case 2:J=le.createElementNS("http://www.w3.org/1998/Math/MathML",Y);break;default:switch(Y){case"svg":J=le.createElementNS("http://www.w3.org/2000/svg",Y);break;case"math":J=le.createElementNS("http://www.w3.org/1998/Math/MathML",Y);break;case"script":J=le.createElement("div"),J.innerHTML="<script><\/script>",J=J.removeChild(J.firstChild);break;case"select":J=typeof M.is=="string"?le.createElement("select",{is:M.is}):le.createElement("select"),M.multiple?J.multiple=!0:M.size&&(J.size=M.size);break;default:J=typeof M.is=="string"?le.createElement(Y,{is:M.is}):le.createElement(Y)}}J[fe]=m,J[ge]=M;e:for(le=m.child;le!==null;){if(le.tag===5||le.tag===6)J.appendChild(le.stateNode);else if(le.tag!==4&&le.tag!==27&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===m)break e;for(;le.sibling===null;){if(le.return===null||le.return===m)break e;le=le.return}le.sibling.return=le.return,le=le.sibling}m.stateNode=J;e:switch(Xn(J,Y,M),Y){case"button":case"input":case"select":case"textarea":M=!!M.autoFocus;break e;case"img":M=!0;break e;default:M=!1}M&&Ei(m)}}return Kr(m),Nm(m,m.type,f===null?null:f.memoizedProps,m.pendingProps,_),null;case 6:if(f&&m.stateNode!=null)f.memoizedProps!==M&&Ei(m);else{if(typeof M!="string"&&m.stateNode===null)throw Error(n(166));if(f=G.current,hc(m)){if(f=m.stateNode,_=m.memoizedProps,M=null,Y=qn,Y!==null)switch(Y.tag){case 27:case 5:M=Y.memoizedProps}f[fe]=m,f=!!(f.nodeValue===_||M!==null&&M.suppressHydrationWarning===!0||sv(f.nodeValue,_)),f||so(m,!0)}else f=_d(f).createTextNode(M),f[fe]=m,m.stateNode=f}return Kr(m),null;case 31:if(_=m.memoizedState,f===null||f.memoizedState!==null){if(M=hc(m),_!==null){if(f===null){if(!M)throw Error(n(318));if(f=m.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(557));f[fe]=m}else fl(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;Kr(m),f=!1}else _=Bp(),f!==null&&f.memoizedState!==null&&(f.memoizedState.hydrationErrors=_),f=!0;if(!f)return m.flags&256?(Xs(m),m):(Xs(m),null);if((m.flags&128)!==0)throw Error(n(558))}return Kr(m),null;case 13:if(M=m.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(Y=hc(m),M!==null&&M.dehydrated!==null){if(f===null){if(!Y)throw Error(n(318));if(Y=m.memoizedState,Y=Y!==null?Y.dehydrated:null,!Y)throw Error(n(317));Y[fe]=m}else fl(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;Kr(m),Y=!1}else Y=Bp(),f!==null&&f.memoizedState!==null&&(f.memoizedState.hydrationErrors=Y),Y=!0;if(!Y)return m.flags&256?(Xs(m),m):(Xs(m),null)}return Xs(m),(m.flags&128)!==0?(m.lanes=_,m):(_=M!==null,f=f!==null&&f.memoizedState!==null,_&&(M=m.child,Y=null,M.alternate!==null&&M.alternate.memoizedState!==null&&M.alternate.memoizedState.cachePool!==null&&(Y=M.alternate.memoizedState.cachePool.pool),J=null,M.memoizedState!==null&&M.memoizedState.cachePool!==null&&(J=M.memoizedState.cachePool.pool),J!==Y&&(M.flags|=2048)),_!==f&&_&&(m.child.flags|=8192),od(m,m.updateQueue),Kr(m),null);case 4:return U(),f===null&&Qm(m.stateNode.containerInfo),Kr(m),null;case 10:return _i(m.type),Kr(m),null;case 19:if(D(gn),M=m.memoizedState,M===null)return Kr(m),null;if(Y=(m.flags&128)!==0,J=M.rendering,J===null)if(Y)Vu(M,!1);else{if(on!==0||f!==null&&(f.flags&128)!==0)for(f=m.child;f!==null;){if(J=Xh(f),J!==null){for(m.flags|=128,Vu(M,!1),f=J.updateQueue,m.updateQueue=f,od(m,f),m.subtreeFlags=0,f=_,_=m.child;_!==null;)Fx(_,f),_=_.sibling;return Z(gn,gn.current&1|2),Tr&&vi(m,M.treeForkCount),m.child}f=f.sibling}M.tail!==null&&Ue()>hd&&(m.flags|=128,Y=!0,Vu(M,!1),m.lanes=4194304)}else{if(!Y)if(f=Xh(J),f!==null){if(m.flags|=128,Y=!0,f=f.updateQueue,m.updateQueue=f,od(m,f),Vu(M,!0),M.tail===null&&M.tailMode==="hidden"&&!J.alternate&&!Tr)return Kr(m),null}else 2*Ue()-M.renderingStartTime>hd&&_!==536870912&&(m.flags|=128,Y=!0,Vu(M,!1),m.lanes=4194304);M.isBackwards?(J.sibling=m.child,m.child=J):(f=M.last,f!==null?f.sibling=J:m.child=J,M.last=J)}return M.tail!==null?(f=M.tail,M.rendering=f,M.tail=f.sibling,M.renderingStartTime=Ue(),f.sibling=null,_=gn.current,Z(gn,Y?_&1|2:_&1),Tr&&vi(m,M.treeForkCount),f):(Kr(m),null);case 22:case 23:return Xs(m),Zp(),M=m.memoizedState!==null,f!==null?f.memoizedState!==null!==M&&(m.flags|=8192):M&&(m.flags|=8192),M?(_&536870912)!==0&&(m.flags&128)===0&&(Kr(m),m.subtreeFlags&6&&(m.flags|=8192)):Kr(m),_=m.updateQueue,_!==null&&od(m,_.retryQueue),_=null,f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(_=f.memoizedState.cachePool.pool),M=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(M=m.memoizedState.cachePool.pool),M!==_&&(m.flags|=2048),f!==null&&D(pl),null;case 24:return _=null,f!==null&&(_=f.memoizedState.cache),m.memoizedState.cache!==_&&(m.flags|=2048),_i(wn),Kr(m),null;case 25:return null;case 30:return null}throw Error(n(156,m.tag))}function YS(f,m){switch(Pp(m),m.tag){case 1:return f=m.flags,f&65536?(m.flags=f&-65537|128,m):null;case 3:return _i(wn),U(),f=m.flags,(f&65536)!==0&&(f&128)===0?(m.flags=f&-65537|128,m):null;case 26:case 27:case 5:return ie(m),null;case 31:if(m.memoizedState!==null){if(Xs(m),m.alternate===null)throw Error(n(340));fl()}return f=m.flags,f&65536?(m.flags=f&-65537|128,m):null;case 13:if(Xs(m),f=m.memoizedState,f!==null&&f.dehydrated!==null){if(m.alternate===null)throw Error(n(340));fl()}return f=m.flags,f&65536?(m.flags=f&-65537|128,m):null;case 19:return D(gn),null;case 4:return U(),null;case 10:return _i(m.type),null;case 22:case 23:return Xs(m),Zp(),f!==null&&D(pl),f=m.flags,f&65536?(m.flags=f&-65537|128,m):null;case 24:return _i(wn),null;case 25:return null;default:return null}}function c2(f,m){switch(Pp(m),m.tag){case 3:_i(wn),U();break;case 26:case 27:case 5:ie(m);break;case 4:U();break;case 31:m.memoizedState!==null&&Xs(m);break;case 13:Xs(m);break;case 19:D(gn);break;case 10:_i(m.type);break;case 22:case 23:Xs(m),Zp(),f!==null&&D(pl);break;case 24:_i(wn)}}function zu(f,m){try{var _=m.updateQueue,M=_!==null?_.lastEffect:null;if(M!==null){var Y=M.next;_=Y;do{if((_.tag&f)===f){M=void 0;var J=_.create,le=_.inst;M=J(),le.destroy=M}_=_.next}while(_!==Y)}}catch(we){Pr(m,m.return,we)}}function fo(f,m,_){try{var M=m.updateQueue,Y=M!==null?M.lastEffect:null;if(Y!==null){var J=Y.next;M=J;do{if((M.tag&f)===f){var le=M.inst,we=le.destroy;if(we!==void 0){le.destroy=void 0,Y=m;var Le=_,st=we;try{st()}catch(gt){Pr(Y,Le,gt)}}}M=M.next}while(M!==J)}}catch(gt){Pr(m,m.return,gt)}}function u2(f){var m=f.updateQueue;if(m!==null){var _=f.stateNode;try{ey(m,_)}catch(M){Pr(f,f.return,M)}}}function f2(f,m,_){_.props=yl(f.type,f.memoizedProps),_.state=f.memoizedState;try{_.componentWillUnmount()}catch(M){Pr(f,m,M)}}function Hu(f,m){try{var _=f.ref;if(_!==null){switch(f.tag){case 26:case 27:case 5:var M=f.stateNode;break;case 30:M=f.stateNode;break;default:M=f.stateNode}typeof _=="function"?f.refCleanup=_(M):_.current=M}}catch(Y){Pr(f,m,Y)}}function Ja(f,m){var _=f.ref,M=f.refCleanup;if(_!==null)if(typeof M=="function")try{M()}catch(Y){Pr(f,m,Y)}finally{f.refCleanup=null,f=f.alternate,f!=null&&(f.refCleanup=null)}else if(typeof _=="function")try{_(null)}catch(Y){Pr(f,m,Y)}else _.current=null}function h2(f){var m=f.type,_=f.memoizedProps,M=f.stateNode;try{e:switch(m){case"button":case"input":case"select":case"textarea":_.autoFocus&&M.focus();break e;case"img":_.src?M.src=_.src:_.srcSet&&(M.srcset=_.srcSet)}}catch(Y){Pr(f,f.return,Y)}}function Rm(f,m,_){try{var M=f.stateNode;bk(M,f.type,_,m),M[ge]=m}catch(Y){Pr(f,f.return,Y)}}function d2(f){return f.tag===5||f.tag===3||f.tag===26||f.tag===27&&yo(f.type)||f.tag===4}function Mm(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||d2(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.tag===27&&yo(f.type)||f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function jm(f,m,_){var M=f.tag;if(M===5||M===6)f=f.stateNode,m?(_.nodeType===9?_.body:_.nodeName==="HTML"?_.ownerDocument.body:_).insertBefore(f,m):(m=_.nodeType===9?_.body:_.nodeName==="HTML"?_.ownerDocument.body:_,m.appendChild(f),_=_._reactRootContainer,_!=null||m.onclick!==null||(m.onclick=gs));else if(M!==4&&(M===27&&yo(f.type)&&(_=f.stateNode,m=null),f=f.child,f!==null))for(jm(f,m,_),f=f.sibling;f!==null;)jm(f,m,_),f=f.sibling}function ld(f,m,_){var M=f.tag;if(M===5||M===6)f=f.stateNode,m?_.insertBefore(f,m):_.appendChild(f);else if(M!==4&&(M===27&&yo(f.type)&&(_=f.stateNode),f=f.child,f!==null))for(ld(f,m,_),f=f.sibling;f!==null;)ld(f,m,_),f=f.sibling}function p2(f){var m=f.stateNode,_=f.memoizedProps;try{for(var M=f.type,Y=m.attributes;Y.length;)m.removeAttributeNode(Y[0]);Xn(m,M,_),m[fe]=f,m[ge]=_}catch(J){Pr(f,f.return,J)}}var Ai=!1,kn=!1,Dm=!1,m2=typeof WeakSet=="function"?WeakSet:Set,Ln=null;function KS(f,m){if(f=f.containerInfo,eg=Nd,f=Ax(f),Ep(f)){if("selectionStart"in f)var _={start:f.selectionStart,end:f.selectionEnd};else e:{_=(_=f.ownerDocument)&&_.defaultView||window;var M=_.getSelection&&_.getSelection();if(M&&M.rangeCount!==0){_=M.anchorNode;var Y=M.anchorOffset,J=M.focusNode;M=M.focusOffset;try{_.nodeType,J.nodeType}catch{_=null;break e}var le=0,we=-1,Le=-1,st=0,gt=0,kt=f,ot=null;t:for(;;){for(var ft;kt!==_||Y!==0&&kt.nodeType!==3||(we=le+Y),kt!==J||M!==0&&kt.nodeType!==3||(Le=le+M),kt.nodeType===3&&(le+=kt.nodeValue.length),(ft=kt.firstChild)!==null;)ot=kt,kt=ft;for(;;){if(kt===f)break t;if(ot===_&&++st===Y&&(we=le),ot===J&&++gt===M&&(Le=le),(ft=kt.nextSibling)!==null)break;kt=ot,ot=kt.parentNode}kt=ft}_=we===-1||Le===-1?null:{start:we,end:Le}}else _=null}_=_||{start:0,end:0}}else _=null;for(tg={focusedElem:f,selectionRange:_},Nd=!1,Ln=m;Ln!==null;)if(m=Ln,f=m.child,(m.subtreeFlags&1028)!==0&&f!==null)f.return=m,Ln=f;else for(;Ln!==null;){switch(m=Ln,J=m.alternate,f=m.flags,m.tag){case 0:if((f&4)!==0&&(f=m.updateQueue,f=f!==null?f.events:null,f!==null))for(_=0;_<f.length;_++)Y=f[_],Y.ref.impl=Y.nextImpl;break;case 11:case 15:break;case 1:if((f&1024)!==0&&J!==null){f=void 0,_=m,Y=J.memoizedProps,J=J.memoizedState,M=_.stateNode;try{var Ut=yl(_.type,Y);f=M.getSnapshotBeforeUpdate(Ut,J),M.__reactInternalSnapshotBeforeUpdate=f}catch(Xt){Pr(_,_.return,Xt)}}break;case 3:if((f&1024)!==0){if(f=m.stateNode.containerInfo,_=f.nodeType,_===9)sg(f);else if(_===1)switch(f.nodeName){case"HEAD":case"HTML":case"BODY":sg(f);break;default:f.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((f&1024)!==0)throw Error(n(163))}if(f=m.sibling,f!==null){f.return=m.return,Ln=f;break}Ln=m.return}}function g2(f,m,_){var M=_.flags;switch(_.tag){case 0:case 11:case 15:Ni(f,_),M&4&&zu(5,_);break;case 1:if(Ni(f,_),M&4)if(f=_.stateNode,m===null)try{f.componentDidMount()}catch(le){Pr(_,_.return,le)}else{var Y=yl(_.type,m.memoizedProps);m=m.memoizedState;try{f.componentDidUpdate(Y,m,f.__reactInternalSnapshotBeforeUpdate)}catch(le){Pr(_,_.return,le)}}M&64&&u2(_),M&512&&Hu(_,_.return);break;case 3:if(Ni(f,_),M&64&&(f=_.updateQueue,f!==null)){if(m=null,_.child!==null)switch(_.child.tag){case 27:case 5:m=_.child.stateNode;break;case 1:m=_.child.stateNode}try{ey(f,m)}catch(le){Pr(_,_.return,le)}}break;case 27:m===null&&M&4&&p2(_);case 26:case 5:Ni(f,_),m===null&&M&4&&h2(_),M&512&&Hu(_,_.return);break;case 12:Ni(f,_);break;case 31:Ni(f,_),M&4&&y2(f,_);break;case 13:Ni(f,_),M&4&&v2(f,_),M&64&&(f=_.memoizedState,f!==null&&(f=f.dehydrated,f!==null&&(_=ak.bind(null,_),Tk(f,_))));break;case 22:if(M=_.memoizedState!==null||Ai,!M){m=m!==null&&m.memoizedState!==null||kn,Y=Ai;var J=kn;Ai=M,(kn=m)&&!J?Ri(f,_,(_.subtreeFlags&8772)!==0):Ni(f,_),Ai=Y,kn=J}break;case 30:break;default:Ni(f,_)}}function b2(f){var m=f.alternate;m!==null&&(f.alternate=null,b2(m)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(m=f.stateNode,m!==null&&bt(m)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}var tn=null,Ns=!1;function Ci(f,m,_){for(_=_.child;_!==null;)x2(f,m,_),_=_.sibling}function x2(f,m,_){if(De&&typeof De.onCommitFiberUnmount=="function")try{De.onCommitFiberUnmount(Ce,_)}catch{}switch(_.tag){case 26:kn||Ja(_,m),Ci(f,m,_),_.memoizedState?_.memoizedState.count--:_.stateNode&&(_=_.stateNode,_.parentNode.removeChild(_));break;case 27:kn||Ja(_,m);var M=tn,Y=Ns;yo(_.type)&&(tn=_.stateNode,Ns=!1),Ci(f,m,_),Zu(_.stateNode),tn=M,Ns=Y;break;case 5:kn||Ja(_,m);case 6:if(M=tn,Y=Ns,tn=null,Ci(f,m,_),tn=M,Ns=Y,tn!==null)if(Ns)try{(tn.nodeType===9?tn.body:tn.nodeName==="HTML"?tn.ownerDocument.body:tn).removeChild(_.stateNode)}catch(J){Pr(_,m,J)}else try{tn.removeChild(_.stateNode)}catch(J){Pr(_,m,J)}break;case 18:tn!==null&&(Ns?(f=tn,uv(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,_.stateNode),Dc(f)):uv(tn,_.stateNode));break;case 4:M=tn,Y=Ns,tn=_.stateNode.containerInfo,Ns=!0,Ci(f,m,_),tn=M,Ns=Y;break;case 0:case 11:case 14:case 15:fo(2,_,m),kn||fo(4,_,m),Ci(f,m,_);break;case 1:kn||(Ja(_,m),M=_.stateNode,typeof M.componentWillUnmount=="function"&&f2(_,m,M)),Ci(f,m,_);break;case 21:Ci(f,m,_);break;case 22:kn=(M=kn)||_.memoizedState!==null,Ci(f,m,_),kn=M;break;default:Ci(f,m,_)}}function y2(f,m){if(m.memoizedState===null&&(f=m.alternate,f!==null&&(f=f.memoizedState,f!==null))){f=f.dehydrated;try{Dc(f)}catch(_){Pr(m,m.return,_)}}}function v2(f,m){if(m.memoizedState===null&&(f=m.alternate,f!==null&&(f=f.memoizedState,f!==null&&(f=f.dehydrated,f!==null))))try{Dc(f)}catch(_){Pr(m,m.return,_)}}function QS(f){switch(f.tag){case 31:case 13:case 19:var m=f.stateNode;return m===null&&(m=f.stateNode=new m2),m;case 22:return f=f.stateNode,m=f._retryCache,m===null&&(m=f._retryCache=new m2),m;default:throw Error(n(435,f.tag))}}function cd(f,m){var _=QS(f);m.forEach(function(M){if(!_.has(M)){_.add(M);var Y=ik.bind(null,f,M);M.then(Y,Y)}})}function Rs(f,m){var _=m.deletions;if(_!==null)for(var M=0;M<_.length;M++){var Y=_[M],J=f,le=m,we=le;e:for(;we!==null;){switch(we.tag){case 27:if(yo(we.type)){tn=we.stateNode,Ns=!1;break e}break;case 5:tn=we.stateNode,Ns=!1;break e;case 3:case 4:tn=we.stateNode.containerInfo,Ns=!0;break e}we=we.return}if(tn===null)throw Error(n(160));x2(J,le,Y),tn=null,Ns=!1,J=Y.alternate,J!==null&&(J.return=null),Y.return=null}if(m.subtreeFlags&13886)for(m=m.child;m!==null;)w2(m,f),m=m.sibling}var ja=null;function w2(f,m){var _=f.alternate,M=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:Rs(m,f),Ms(f),M&4&&(fo(3,f,f.return),zu(3,f),fo(5,f,f.return));break;case 1:Rs(m,f),Ms(f),M&512&&(kn||_===null||Ja(_,_.return)),M&64&&Ai&&(f=f.updateQueue,f!==null&&(M=f.callbacks,M!==null&&(_=f.shared.hiddenCallbacks,f.shared.hiddenCallbacks=_===null?M:_.concat(M))));break;case 26:var Y=ja;if(Rs(m,f),Ms(f),M&512&&(kn||_===null||Ja(_,_.return)),M&4){var J=_!==null?_.memoizedState:null;if(M=f.memoizedState,_===null)if(M===null)if(f.stateNode===null){e:{M=f.type,_=f.memoizedProps,Y=Y.ownerDocument||Y;t:switch(M){case"title":J=Y.getElementsByTagName("title")[0],(!J||J[ze]||J[fe]||J.namespaceURI==="http://www.w3.org/2000/svg"||J.hasAttribute("itemprop"))&&(J=Y.createElement(M),Y.head.insertBefore(J,Y.querySelector("head > title"))),Xn(J,M,_),J[fe]=f,Ye(J),M=J;break e;case"link":var le=wv("link","href",Y).get(M+(_.href||""));if(le){for(var we=0;we<le.length;we++)if(J=le[we],J.getAttribute("href")===(_.href==null||_.href===""?null:_.href)&&J.getAttribute("rel")===(_.rel==null?null:_.rel)&&J.getAttribute("title")===(_.title==null?null:_.title)&&J.getAttribute("crossorigin")===(_.crossOrigin==null?null:_.crossOrigin)){le.splice(we,1);break t}}J=Y.createElement(M),Xn(J,M,_),Y.head.appendChild(J);break;case"meta":if(le=wv("meta","content",Y).get(M+(_.content||""))){for(we=0;we<le.length;we++)if(J=le[we],J.getAttribute("content")===(_.content==null?null:""+_.content)&&J.getAttribute("name")===(_.name==null?null:_.name)&&J.getAttribute("property")===(_.property==null?null:_.property)&&J.getAttribute("http-equiv")===(_.httpEquiv==null?null:_.httpEquiv)&&J.getAttribute("charset")===(_.charSet==null?null:_.charSet)){le.splice(we,1);break t}}J=Y.createElement(M),Xn(J,M,_),Y.head.appendChild(J);break;default:throw Error(n(468,M))}J[fe]=f,Ye(J),M=J}f.stateNode=M}else _v(Y,f.type,f.stateNode);else f.stateNode=vv(Y,M,f.memoizedProps);else J!==M?(J===null?_.stateNode!==null&&(_=_.stateNode,_.parentNode.removeChild(_)):J.count--,M===null?_v(Y,f.type,f.stateNode):vv(Y,M,f.memoizedProps)):M===null&&f.stateNode!==null&&Rm(f,f.memoizedProps,_.memoizedProps)}break;case 27:Rs(m,f),Ms(f),M&512&&(kn||_===null||Ja(_,_.return)),_!==null&&M&4&&Rm(f,f.memoizedProps,_.memoizedProps);break;case 5:if(Rs(m,f),Ms(f),M&512&&(kn||_===null||Ja(_,_.return)),f.flags&32){Y=f.stateNode;try{Jr(Y,"")}catch(Ut){Pr(f,f.return,Ut)}}M&4&&f.stateNode!=null&&(Y=f.memoizedProps,Rm(f,Y,_!==null?_.memoizedProps:Y)),M&1024&&(Dm=!0);break;case 6:if(Rs(m,f),Ms(f),M&4){if(f.stateNode===null)throw Error(n(162));M=f.memoizedProps,_=f.stateNode;try{_.nodeValue=M}catch(Ut){Pr(f,f.return,Ut)}}break;case 3:if(Td=null,Y=ja,ja=Sd(m.containerInfo),Rs(m,f),ja=Y,Ms(f),M&4&&_!==null&&_.memoizedState.isDehydrated)try{Dc(m.containerInfo)}catch(Ut){Pr(f,f.return,Ut)}Dm&&(Dm=!1,_2(f));break;case 4:M=ja,ja=Sd(f.stateNode.containerInfo),Rs(m,f),Ms(f),ja=M;break;case 12:Rs(m,f),Ms(f);break;case 31:Rs(m,f),Ms(f),M&4&&(M=f.updateQueue,M!==null&&(f.updateQueue=null,cd(f,M)));break;case 13:Rs(m,f),Ms(f),f.child.flags&8192&&f.memoizedState!==null!=(_!==null&&_.memoizedState!==null)&&(fd=Ue()),M&4&&(M=f.updateQueue,M!==null&&(f.updateQueue=null,cd(f,M)));break;case 22:Y=f.memoizedState!==null;var Le=_!==null&&_.memoizedState!==null,st=Ai,gt=kn;if(Ai=st||Y,kn=gt||Le,Rs(m,f),kn=gt,Ai=st,Ms(f),M&8192)e:for(m=f.stateNode,m._visibility=Y?m._visibility&-2:m._visibility|1,Y&&(_===null||Le||Ai||kn||vl(f)),_=null,m=f;;){if(m.tag===5||m.tag===26){if(_===null){Le=_=m;try{if(J=Le.stateNode,Y)le=J.style,typeof le.setProperty=="function"?le.setProperty("display","none","important"):le.display="none";else{we=Le.stateNode;var kt=Le.memoizedProps.style,ot=kt!=null&&kt.hasOwnProperty("display")?kt.display:null;we.style.display=ot==null||typeof ot=="boolean"?"":(""+ot).trim()}}catch(Ut){Pr(Le,Le.return,Ut)}}}else if(m.tag===6){if(_===null){Le=m;try{Le.stateNode.nodeValue=Y?"":Le.memoizedProps}catch(Ut){Pr(Le,Le.return,Ut)}}}else if(m.tag===18){if(_===null){Le=m;try{var ft=Le.stateNode;Y?fv(ft,!0):fv(Le.stateNode,!1)}catch(Ut){Pr(Le,Le.return,Ut)}}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===f)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===f)break e;for(;m.sibling===null;){if(m.return===null||m.return===f)break e;_===m&&(_=null),m=m.return}_===m&&(_=null),m.sibling.return=m.return,m=m.sibling}M&4&&(M=f.updateQueue,M!==null&&(_=M.retryQueue,_!==null&&(M.retryQueue=null,cd(f,_))));break;case 19:Rs(m,f),Ms(f),M&4&&(M=f.updateQueue,M!==null&&(f.updateQueue=null,cd(f,M)));break;case 30:break;case 21:break;default:Rs(m,f),Ms(f)}}function Ms(f){var m=f.flags;if(m&2){try{for(var _,M=f.return;M!==null;){if(d2(M)){_=M;break}M=M.return}if(_==null)throw Error(n(160));switch(_.tag){case 27:var Y=_.stateNode,J=Mm(f);ld(f,J,Y);break;case 5:var le=_.stateNode;_.flags&32&&(Jr(le,""),_.flags&=-33);var we=Mm(f);ld(f,we,le);break;case 3:case 4:var Le=_.stateNode.containerInfo,st=Mm(f);jm(f,st,Le);break;default:throw Error(n(161))}}catch(gt){Pr(f,f.return,gt)}f.flags&=-3}m&4096&&(f.flags&=-4097)}function _2(f){if(f.subtreeFlags&1024)for(f=f.child;f!==null;){var m=f;_2(m),m.tag===5&&m.flags&1024&&m.stateNode.reset(),f=f.sibling}}function Ni(f,m){if(m.subtreeFlags&8772)for(m=m.child;m!==null;)g2(f,m.alternate,m),m=m.sibling}function vl(f){for(f=f.child;f!==null;){var m=f;switch(m.tag){case 0:case 11:case 14:case 15:fo(4,m,m.return),vl(m);break;case 1:Ja(m,m.return);var _=m.stateNode;typeof _.componentWillUnmount=="function"&&f2(m,m.return,_),vl(m);break;case 27:Zu(m.stateNode);case 26:case 5:Ja(m,m.return),vl(m);break;case 22:m.memoizedState===null&&vl(m);break;case 30:vl(m);break;default:vl(m)}f=f.sibling}}function Ri(f,m,_){for(_=_&&(m.subtreeFlags&8772)!==0,m=m.child;m!==null;){var M=m.alternate,Y=f,J=m,le=J.flags;switch(J.tag){case 0:case 11:case 15:Ri(Y,J,_),zu(4,J);break;case 1:if(Ri(Y,J,_),M=J,Y=M.stateNode,typeof Y.componentDidMount=="function")try{Y.componentDidMount()}catch(st){Pr(M,M.return,st)}if(M=J,Y=M.updateQueue,Y!==null){var we=M.stateNode;try{var Le=Y.shared.hiddenCallbacks;if(Le!==null)for(Y.shared.hiddenCallbacks=null,Y=0;Y<Le.length;Y++)Jx(Le[Y],we)}catch(st){Pr(M,M.return,st)}}_&&le&64&&u2(J),Hu(J,J.return);break;case 27:p2(J);case 26:case 5:Ri(Y,J,_),_&&M===null&&le&4&&h2(J),Hu(J,J.return);break;case 12:Ri(Y,J,_);break;case 31:Ri(Y,J,_),_&&le&4&&y2(Y,J);break;case 13:Ri(Y,J,_),_&&le&4&&v2(Y,J);break;case 22:J.memoizedState===null&&Ri(Y,J,_),Hu(J,J.return);break;case 30:break;default:Ri(Y,J,_)}m=m.sibling}}function Im(f,m){var _=null;f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(_=f.memoizedState.cachePool.pool),f=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(f=m.memoizedState.cachePool.pool),f!==_&&(f!=null&&f.refCount++,_!=null&&Nu(_))}function Om(f,m){f=null,m.alternate!==null&&(f=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==f&&(m.refCount++,f!=null&&Nu(f))}function Da(f,m,_,M){if(m.subtreeFlags&10256)for(m=m.child;m!==null;)S2(f,m,_,M),m=m.sibling}function S2(f,m,_,M){var Y=m.flags;switch(m.tag){case 0:case 11:case 15:Da(f,m,_,M),Y&2048&&zu(9,m);break;case 1:Da(f,m,_,M);break;case 3:Da(f,m,_,M),Y&2048&&(f=null,m.alternate!==null&&(f=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==f&&(m.refCount++,f!=null&&Nu(f)));break;case 12:if(Y&2048){Da(f,m,_,M),f=m.stateNode;try{var J=m.memoizedProps,le=J.id,we=J.onPostCommit;typeof we=="function"&&we(le,m.alternate===null?"mount":"update",f.passiveEffectDuration,-0)}catch(Le){Pr(m,m.return,Le)}}else Da(f,m,_,M);break;case 31:Da(f,m,_,M);break;case 13:Da(f,m,_,M);break;case 23:break;case 22:J=m.stateNode,le=m.alternate,m.memoizedState!==null?J._visibility&2?Da(f,m,_,M):$u(f,m):J._visibility&2?Da(f,m,_,M):(J._visibility|=2,_c(f,m,_,M,(m.subtreeFlags&10256)!==0||!1)),Y&2048&&Im(le,m);break;case 24:Da(f,m,_,M),Y&2048&&Om(m.alternate,m);break;default:Da(f,m,_,M)}}function _c(f,m,_,M,Y){for(Y=Y&&((m.subtreeFlags&10256)!==0||!1),m=m.child;m!==null;){var J=f,le=m,we=_,Le=M,st=le.flags;switch(le.tag){case 0:case 11:case 15:_c(J,le,we,Le,Y),zu(8,le);break;case 23:break;case 22:var gt=le.stateNode;le.memoizedState!==null?gt._visibility&2?_c(J,le,we,Le,Y):$u(J,le):(gt._visibility|=2,_c(J,le,we,Le,Y)),Y&&st&2048&&Im(le.alternate,le);break;case 24:_c(J,le,we,Le,Y),Y&&st&2048&&Om(le.alternate,le);break;default:_c(J,le,we,Le,Y)}m=m.sibling}}function $u(f,m){if(m.subtreeFlags&10256)for(m=m.child;m!==null;){var _=f,M=m,Y=M.flags;switch(M.tag){case 22:$u(_,M),Y&2048&&Im(M.alternate,M);break;case 24:$u(_,M),Y&2048&&Om(M.alternate,M);break;default:$u(_,M)}m=m.sibling}}var qu=8192;function Sc(f,m,_){if(f.subtreeFlags&qu)for(f=f.child;f!==null;)k2(f,m,_),f=f.sibling}function k2(f,m,_){switch(f.tag){case 26:Sc(f,m,_),f.flags&qu&&f.memoizedState!==null&&Pk(_,ja,f.memoizedState,f.memoizedProps);break;case 5:Sc(f,m,_);break;case 3:case 4:var M=ja;ja=Sd(f.stateNode.containerInfo),Sc(f,m,_),ja=M;break;case 22:f.memoizedState===null&&(M=f.alternate,M!==null&&M.memoizedState!==null?(M=qu,qu=16777216,Sc(f,m,_),qu=M):Sc(f,m,_));break;default:Sc(f,m,_)}}function T2(f){var m=f.alternate;if(m!==null&&(f=m.child,f!==null)){m.child=null;do m=f.sibling,f.sibling=null,f=m;while(f!==null)}}function Gu(f){var m=f.deletions;if((f.flags&16)!==0){if(m!==null)for(var _=0;_<m.length;_++){var M=m[_];Ln=M,A2(M,f)}T2(f)}if(f.subtreeFlags&10256)for(f=f.child;f!==null;)E2(f),f=f.sibling}function E2(f){switch(f.tag){case 0:case 11:case 15:Gu(f),f.flags&2048&&fo(9,f,f.return);break;case 3:Gu(f);break;case 12:Gu(f);break;case 22:var m=f.stateNode;f.memoizedState!==null&&m._visibility&2&&(f.return===null||f.return.tag!==13)?(m._visibility&=-3,ud(f)):Gu(f);break;default:Gu(f)}}function ud(f){var m=f.deletions;if((f.flags&16)!==0){if(m!==null)for(var _=0;_<m.length;_++){var M=m[_];Ln=M,A2(M,f)}T2(f)}for(f=f.child;f!==null;){switch(m=f,m.tag){case 0:case 11:case 15:fo(8,m,m.return),ud(m);break;case 22:_=m.stateNode,_._visibility&2&&(_._visibility&=-3,ud(m));break;default:ud(m)}f=f.sibling}}function A2(f,m){for(;Ln!==null;){var _=Ln;switch(_.tag){case 0:case 11:case 15:fo(8,_,m);break;case 23:case 22:if(_.memoizedState!==null&&_.memoizedState.cachePool!==null){var M=_.memoizedState.cachePool.pool;M!=null&&M.refCount++}break;case 24:Nu(_.memoizedState.cache)}if(M=_.child,M!==null)M.return=_,Ln=M;else e:for(_=f;Ln!==null;){M=Ln;var Y=M.sibling,J=M.return;if(b2(M),M===_){Ln=null;break e}if(Y!==null){Y.return=J,Ln=Y;break e}Ln=J}}}var ZS={getCacheForType:function(f){var m=Gn(wn),_=m.data.get(f);return _===void 0&&(_=f(),m.data.set(f,_)),_},cacheSignal:function(){return Gn(wn).controller.signal}},JS=typeof WeakMap=="function"?WeakMap:Map,Ir=0,qr=null,xr=null,vr=0,Fr=0,Ys=null,ho=!1,kc=!1,Fm=!1,Mi=0,on=0,po=0,wl=0,Pm=0,Ks=0,Tc=0,Wu=null,js=null,Lm=!1,fd=0,C2=0,hd=1/0,dd=null,mo=null,Dn=0,go=null,Ec=null,ji=0,Bm=0,Um=null,N2=null,Xu=0,Vm=null;function Qs(){return(Ir&2)!==0&&vr!==0?vr&-vr:S.T!==null?Wm():ae()}function R2(){if(Ks===0)if((vr&536870912)===0||Tr){var f=We;We<<=1,(We&3932160)===0&&(We=262144),Ks=f}else Ks=536870912;return f=Ws.current,f!==null&&(f.flags|=32),Ks}function Ds(f,m,_){(f===qr&&(Fr===2||Fr===9)||f.cancelPendingCommit!==null)&&(Ac(f,0),bo(f,vr,Ks,!1)),At(f,_),((Ir&2)===0||f!==qr)&&(f===qr&&((Ir&2)===0&&(wl|=_),on===4&&bo(f,vr,Ks,!1)),ei(f))}function M2(f,m,_){if((Ir&6)!==0)throw Error(n(327));var M=!_&&(m&127)===0&&(m&f.expiredLanes)===0||lt(f,m),Y=M?rk(f,m):Hm(f,m,!0),J=M;do{if(Y===0){kc&&!M&&bo(f,m,0,!1);break}else{if(_=f.current.alternate,J&&!ek(_)){Y=Hm(f,m,!1),J=!1;continue}if(Y===2){if(J=m,f.errorRecoveryDisabledLanes&J)var le=0;else le=f.pendingLanes&-536870913,le=le!==0?le:le&536870912?536870912:0;if(le!==0){m=le;e:{var we=f;Y=Wu;var Le=we.current.memoizedState.isDehydrated;if(Le&&(Ac(we,le).flags|=256),le=Hm(we,le,!1),le!==2){if(Fm&&!Le){we.errorRecoveryDisabledLanes|=J,wl|=J,Y=4;break e}J=js,js=Y,J!==null&&(js===null?js=J:js.push.apply(js,J))}Y=le}if(J=!1,Y!==2)continue}}if(Y===1){Ac(f,0),bo(f,m,0,!0);break}e:{switch(M=f,J=Y,J){case 0:case 1:throw Error(n(345));case 4:if((m&4194048)!==m)break;case 6:bo(M,m,Ks,!ho);break e;case 2:js=null;break;case 3:case 5:break;default:throw Error(n(329))}if((m&62914560)===m&&(Y=fd+300-Ue(),10<Y)){if(bo(M,m,Ks,!ho),et(M,0,!0)!==0)break e;ji=m,M.timeoutHandle=lv(j2.bind(null,M,_,js,dd,Lm,m,Ks,wl,Tc,ho,J,"Throttled",-0,0),Y);break e}j2(M,_,js,dd,Lm,m,Ks,wl,Tc,ho,J,null,-0,0)}}break}while(!0);ei(f)}function j2(f,m,_,M,Y,J,le,we,Le,st,gt,kt,ot,ft){if(f.timeoutHandle=-1,kt=m.subtreeFlags,kt&8192||(kt&16785408)===16785408){kt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:gs},k2(m,J,kt);var Ut=(J&62914560)===J?fd-Ue():(J&4194048)===J?C2-Ue():0;if(Ut=Lk(kt,Ut),Ut!==null){ji=J,f.cancelPendingCommit=Ut(U2.bind(null,f,m,J,_,M,Y,le,we,Le,gt,kt,null,ot,ft)),bo(f,J,le,!st);return}}U2(f,m,J,_,M,Y,le,we,Le)}function ek(f){for(var m=f;;){var _=m.tag;if((_===0||_===11||_===15)&&m.flags&16384&&(_=m.updateQueue,_!==null&&(_=_.stores,_!==null)))for(var M=0;M<_.length;M++){var Y=_[M],J=Y.getSnapshot;Y=Y.value;try{if(!qs(J(),Y))return!1}catch{return!1}}if(_=m.child,m.subtreeFlags&16384&&_!==null)_.return=m,m=_;else{if(m===f)break;for(;m.sibling===null;){if(m.return===null||m.return===f)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function bo(f,m,_,M){m&=~Pm,m&=~wl,f.suspendedLanes|=m,f.pingedLanes&=~m,M&&(f.warmLanes|=m),M=f.expirationTimes;for(var Y=m;0<Y;){var J=31-Be(Y),le=1<<J;M[J]=-1,Y&=~le}_!==0&&Dt(f,_,m)}function pd(){return(Ir&6)===0?(Yu(0),!1):!0}function zm(){if(xr!==null){if(Fr===0)var f=xr.return;else f=xr,wi=hl=null,sm(f),bc=null,Mu=0,f=xr;for(;f!==null;)c2(f.alternate,f),f=f.return;xr=null}}function Ac(f,m){var _=f.timeoutHandle;_!==-1&&(f.timeoutHandle=-1,vk(_)),_=f.cancelPendingCommit,_!==null&&(f.cancelPendingCommit=null,_()),ji=0,zm(),qr=f,xr=_=yi(f.current,null),vr=m,Fr=0,Ys=null,ho=!1,kc=lt(f,m),Fm=!1,Tc=Ks=Pm=wl=po=on=0,js=Wu=null,Lm=!1,(m&8)!==0&&(m|=m&32);var M=f.entangledLanes;if(M!==0)for(f=f.entanglements,M&=m;0<M;){var Y=31-Be(M),J=1<<Y;m|=f[Y],M&=~J}return Mi=m,Oh(),_}function D2(f,m){ur=null,S.H=Bu,m===gc||m===Hh?(m=Yx(),Fr=3):m===Gp?(m=Yx(),Fr=4):Fr=m===vm?8:m!==null&&typeof m=="object"&&typeof m.then=="function"?6:1,Ys=m,xr===null&&(on=1,nd(f,la(m,f.current)))}function I2(){var f=Ws.current;return f===null?!0:(vr&4194048)===vr?ha===null:(vr&62914560)===vr||(vr&536870912)!==0?f===ha:!1}function O2(){var f=S.H;return S.H=Bu,f===null?Bu:f}function F2(){var f=S.A;return S.A=ZS,f}function md(){on=4,ho||(vr&4194048)!==vr&&Ws.current!==null||(kc=!0),(po&134217727)===0&&(wl&134217727)===0||qr===null||bo(qr,vr,Ks,!1)}function Hm(f,m,_){var M=Ir;Ir|=2;var Y=O2(),J=F2();(qr!==f||vr!==m)&&(dd=null,Ac(f,m)),m=!1;var le=on;e:do try{if(Fr!==0&&xr!==null){var we=xr,Le=Ys;switch(Fr){case 8:zm(),le=6;break e;case 3:case 2:case 9:case 6:Ws.current===null&&(m=!0);var st=Fr;if(Fr=0,Ys=null,Cc(f,we,Le,st),_&&kc){le=0;break e}break;default:st=Fr,Fr=0,Ys=null,Cc(f,we,Le,st)}}tk(),le=on;break}catch(gt){D2(f,gt)}while(!0);return m&&f.shellSuspendCounter++,wi=hl=null,Ir=M,S.H=Y,S.A=J,xr===null&&(qr=null,vr=0,Oh()),le}function tk(){for(;xr!==null;)P2(xr)}function rk(f,m){var _=Ir;Ir|=2;var M=O2(),Y=F2();qr!==f||vr!==m?(dd=null,hd=Ue()+500,Ac(f,m)):kc=lt(f,m);e:do try{if(Fr!==0&&xr!==null){m=xr;var J=Ys;t:switch(Fr){case 1:Fr=0,Ys=null,Cc(f,m,J,1);break;case 2:case 9:if(Wx(J)){Fr=0,Ys=null,L2(m);break}m=function(){Fr!==2&&Fr!==9||qr!==f||(Fr=7),ei(f)},J.then(m,m);break e;case 3:Fr=7;break e;case 4:Fr=5;break e;case 7:Wx(J)?(Fr=0,Ys=null,L2(m)):(Fr=0,Ys=null,Cc(f,m,J,7));break;case 5:var le=null;switch(xr.tag){case 26:le=xr.memoizedState;case 5:case 27:var we=xr;if(le?Sv(le):we.stateNode.complete){Fr=0,Ys=null;var Le=we.sibling;if(Le!==null)xr=Le;else{var st=we.return;st!==null?(xr=st,gd(st)):xr=null}break t}}Fr=0,Ys=null,Cc(f,m,J,5);break;case 6:Fr=0,Ys=null,Cc(f,m,J,6);break;case 8:zm(),on=6;break e;default:throw Error(n(462))}}nk();break}catch(gt){D2(f,gt)}while(!0);return wi=hl=null,S.H=M,S.A=Y,Ir=_,xr!==null?0:(qr=null,vr=0,Oh(),on)}function nk(){for(;xr!==null&&!Pe();)P2(xr)}function P2(f){var m=o2(f.alternate,f,Mi);f.memoizedProps=f.pendingProps,m===null?gd(f):xr=m}function L2(f){var m=f,_=m.alternate;switch(m.tag){case 15:case 0:m=t2(_,m,m.pendingProps,m.type,void 0,vr);break;case 11:m=t2(_,m,m.pendingProps,m.type.render,m.ref,vr);break;case 5:sm(m);default:c2(_,m),m=xr=Fx(m,Mi),m=o2(_,m,Mi)}f.memoizedProps=f.pendingProps,m===null?gd(f):xr=m}function Cc(f,m,_,M){wi=hl=null,sm(m),bc=null,Mu=0;var Y=m.return;try{if(qS(f,Y,m,_,vr)){on=1,nd(f,la(_,f.current)),xr=null;return}}catch(J){if(Y!==null)throw xr=Y,J;on=1,nd(f,la(_,f.current)),xr=null;return}m.flags&32768?(Tr||M===1?f=!0:kc||(vr&536870912)!==0?f=!1:(ho=f=!0,(M===2||M===9||M===3||M===6)&&(M=Ws.current,M!==null&&M.tag===13&&(M.flags|=16384))),B2(m,f)):gd(m)}function gd(f){var m=f;do{if((m.flags&32768)!==0){B2(m,ho);return}f=m.return;var _=XS(m.alternate,m,Mi);if(_!==null){xr=_;return}if(m=m.sibling,m!==null){xr=m;return}xr=m=f}while(m!==null);on===0&&(on=5)}function B2(f,m){do{var _=YS(f.alternate,f);if(_!==null){_.flags&=32767,xr=_;return}if(_=f.return,_!==null&&(_.flags|=32768,_.subtreeFlags=0,_.deletions=null),!m&&(f=f.sibling,f!==null)){xr=f;return}xr=f=_}while(f!==null);on=6,xr=null}function U2(f,m,_,M,Y,J,le,we,Le){f.cancelPendingCommit=null;do bd();while(Dn!==0);if((Ir&6)!==0)throw Error(n(327));if(m!==null){if(m===f.current)throw Error(n(177));if(J=m.lanes|m.childLanes,J|=Mp,Ct(f,_,J,le,we,Le),f===qr&&(xr=qr=null,vr=0),Ec=m,go=f,ji=_,Bm=J,Um=Y,N2=M,(m.subtreeFlags&10256)!==0||(m.flags&10256)!==0?(f.callbackNode=null,f.callbackPriority=0,ok(Ze,function(){return q2(),null})):(f.callbackNode=null,f.callbackPriority=0),M=(m.flags&13878)!==0,(m.subtreeFlags&13878)!==0||M){M=S.T,S.T=null,Y=E.p,E.p=2,le=Ir,Ir|=4;try{KS(f,m,_)}finally{Ir=le,E.p=Y,S.T=M}}Dn=1,V2(),z2(),H2()}}function V2(){if(Dn===1){Dn=0;var f=go,m=Ec,_=(m.flags&13878)!==0;if((m.subtreeFlags&13878)!==0||_){_=S.T,S.T=null;var M=E.p;E.p=2;var Y=Ir;Ir|=4;try{w2(m,f);var J=tg,le=Ax(f.containerInfo),we=J.focusedElem,Le=J.selectionRange;if(le!==we&&we&&we.ownerDocument&&Ex(we.ownerDocument.documentElement,we)){if(Le!==null&&Ep(we)){var st=Le.start,gt=Le.end;if(gt===void 0&&(gt=st),"selectionStart"in we)we.selectionStart=st,we.selectionEnd=Math.min(gt,we.value.length);else{var kt=we.ownerDocument||document,ot=kt&&kt.defaultView||window;if(ot.getSelection){var ft=ot.getSelection(),Ut=we.textContent.length,Xt=Math.min(Le.start,Ut),zr=Le.end===void 0?Xt:Math.min(Le.end,Ut);!ft.extend&&Xt>zr&&(le=zr,zr=Xt,Xt=le);var Qe=Tx(we,Xt),He=Tx(we,zr);if(Qe&&He&&(ft.rangeCount!==1||ft.anchorNode!==Qe.node||ft.anchorOffset!==Qe.offset||ft.focusNode!==He.node||ft.focusOffset!==He.offset)){var nt=kt.createRange();nt.setStart(Qe.node,Qe.offset),ft.removeAllRanges(),Xt>zr?(ft.addRange(nt),ft.extend(He.node,He.offset)):(nt.setEnd(He.node,He.offset),ft.addRange(nt))}}}}for(kt=[],ft=we;ft=ft.parentNode;)ft.nodeType===1&&kt.push({element:ft,left:ft.scrollLeft,top:ft.scrollTop});for(typeof we.focus=="function"&&we.focus(),we=0;we<kt.length;we++){var _t=kt[we];_t.element.scrollLeft=_t.left,_t.element.scrollTop=_t.top}}Nd=!!eg,tg=eg=null}finally{Ir=Y,E.p=M,S.T=_}}f.current=m,Dn=2}}function z2(){if(Dn===2){Dn=0;var f=go,m=Ec,_=(m.flags&8772)!==0;if((m.subtreeFlags&8772)!==0||_){_=S.T,S.T=null;var M=E.p;E.p=2;var Y=Ir;Ir|=4;try{g2(f,m.alternate,m)}finally{Ir=Y,E.p=M,S.T=_}}Dn=3}}function H2(){if(Dn===4||Dn===3){Dn=0,Xe();var f=go,m=Ec,_=ji,M=N2;(m.subtreeFlags&10256)!==0||(m.flags&10256)!==0?Dn=5:(Dn=0,Ec=go=null,$2(f,f.pendingLanes));var Y=f.pendingLanes;if(Y===0&&(mo=null),ct(_),m=m.stateNode,De&&typeof De.onCommitFiberRoot=="function")try{De.onCommitFiberRoot(Ce,m,void 0,(m.current.flags&128)===128)}catch{}if(M!==null){m=S.T,Y=E.p,E.p=2,S.T=null;try{for(var J=f.onRecoverableError,le=0;le<M.length;le++){var we=M[le];J(we.value,{componentStack:we.stack})}}finally{S.T=m,E.p=Y}}(ji&3)!==0&&bd(),ei(f),Y=f.pendingLanes,(_&261930)!==0&&(Y&42)!==0?f===Vm?Xu++:(Xu=0,Vm=f):Xu=0,Yu(0)}}function $2(f,m){(f.pooledCacheLanes&=m)===0&&(m=f.pooledCache,m!=null&&(f.pooledCache=null,Nu(m)))}function bd(){return V2(),z2(),H2(),q2()}function q2(){if(Dn!==5)return!1;var f=go,m=Bm;Bm=0;var _=ct(ji),M=S.T,Y=E.p;try{E.p=32>_?32:_,S.T=null,_=Um,Um=null;var J=go,le=ji;if(Dn=0,Ec=go=null,ji=0,(Ir&6)!==0)throw Error(n(331));var we=Ir;if(Ir|=4,E2(J.current),S2(J,J.current,le,_),Ir=we,Yu(0,!1),De&&typeof De.onPostCommitFiberRoot=="function")try{De.onPostCommitFiberRoot(Ce,J)}catch{}return!0}finally{E.p=Y,S.T=M,$2(f,m)}}function G2(f,m,_){m=la(_,m),m=ym(f.stateNode,m,2),f=lo(f,m,2),f!==null&&(At(f,2),ei(f))}function Pr(f,m,_){if(f.tag===3)G2(f,f,_);else for(;m!==null;){if(m.tag===3){G2(m,f,_);break}else if(m.tag===1){var M=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(mo===null||!mo.has(M))){f=la(_,f),_=Wy(2),M=lo(m,_,2),M!==null&&(Xy(_,M,m,f),At(M,2),ei(M));break}}m=m.return}}function $m(f,m,_){var M=f.pingCache;if(M===null){M=f.pingCache=new JS;var Y=new Set;M.set(m,Y)}else Y=M.get(m),Y===void 0&&(Y=new Set,M.set(m,Y));Y.has(_)||(Fm=!0,Y.add(_),f=sk.bind(null,f,m,_),m.then(f,f))}function sk(f,m,_){var M=f.pingCache;M!==null&&M.delete(m),f.pingedLanes|=f.suspendedLanes&_,f.warmLanes&=~_,qr===f&&(vr&_)===_&&(on===4||on===3&&(vr&62914560)===vr&&300>Ue()-fd?(Ir&2)===0&&Ac(f,0):Pm|=_,Tc===vr&&(Tc=0)),ei(f)}function W2(f,m){m===0&&(m=xt()),f=cl(f,m),f!==null&&(At(f,m),ei(f))}function ak(f){var m=f.memoizedState,_=0;m!==null&&(_=m.retryLane),W2(f,_)}function ik(f,m){var _=0;switch(f.tag){case 31:case 13:var M=f.stateNode,Y=f.memoizedState;Y!==null&&(_=Y.retryLane);break;case 19:M=f.stateNode;break;case 22:M=f.stateNode._retryCache;break;default:throw Error(n(314))}M!==null&&M.delete(m),W2(f,_)}function ok(f,m){return Te(f,m)}var xd=null,Nc=null,qm=!1,yd=!1,Gm=!1,xo=0;function ei(f){f!==Nc&&f.next===null&&(Nc===null?xd=Nc=f:Nc=Nc.next=f),yd=!0,qm||(qm=!0,ck())}function Yu(f,m){if(!Gm&&yd){Gm=!0;do for(var _=!1,M=xd;M!==null;){if(f!==0){var Y=M.pendingLanes;if(Y===0)var J=0;else{var le=M.suspendedLanes,we=M.pingedLanes;J=(1<<31-Be(42|f)+1)-1,J&=Y&~(le&~we),J=J&201326741?J&201326741|1:J?J|2:0}J!==0&&(_=!0,Q2(M,J))}else J=vr,J=et(M,M===qr?J:0,M.cancelPendingCommit!==null||M.timeoutHandle!==-1),(J&3)===0||lt(M,J)||(_=!0,Q2(M,J));M=M.next}while(_);Gm=!1}}function lk(){X2()}function X2(){yd=qm=!1;var f=0;xo!==0&&yk()&&(f=xo);for(var m=Ue(),_=null,M=xd;M!==null;){var Y=M.next,J=Y2(M,m);J===0?(M.next=null,_===null?xd=Y:_.next=Y,Y===null&&(Nc=_)):(_=M,(f!==0||(J&3)!==0)&&(yd=!0)),M=Y}Dn!==0&&Dn!==5||Yu(f),xo!==0&&(xo=0)}function Y2(f,m){for(var _=f.suspendedLanes,M=f.pingedLanes,Y=f.expirationTimes,J=f.pendingLanes&-62914561;0<J;){var le=31-Be(J),we=1<<le,Le=Y[le];Le===-1?((we&_)===0||(we&M)!==0)&&(Y[le]=Ke(we,m)):Le<=m&&(f.expiredLanes|=we),J&=~we}if(m=qr,_=vr,_=et(f,f===m?_:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),M=f.callbackNode,_===0||f===m&&(Fr===2||Fr===9)||f.cancelPendingCommit!==null)return M!==null&&M!==null&&Re(M),f.callbackNode=null,f.callbackPriority=0;if((_&3)===0||lt(f,_)){if(m=_&-_,m===f.callbackPriority)return m;switch(M!==null&&Re(M),ct(_)){case 2:case 8:_=Je;break;case 32:_=Ze;break;case 268435456:_=pt;break;default:_=Ze}return M=K2.bind(null,f),_=Te(_,M),f.callbackPriority=m,f.callbackNode=_,m}return M!==null&&M!==null&&Re(M),f.callbackPriority=2,f.callbackNode=null,2}function K2(f,m){if(Dn!==0&&Dn!==5)return f.callbackNode=null,f.callbackPriority=0,null;var _=f.callbackNode;if(bd()&&f.callbackNode!==_)return null;var M=vr;return M=et(f,f===qr?M:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),M===0?null:(M2(f,M,m),Y2(f,Ue()),f.callbackNode!=null&&f.callbackNode===_?K2.bind(null,f):null)}function Q2(f,m){if(bd())return null;M2(f,m,!0)}function ck(){wk(function(){(Ir&6)!==0?Te(at,lk):X2()})}function Wm(){if(xo===0){var f=pc;f===0&&(f=ke,ke<<=1,(ke&261888)===0&&(ke=256)),xo=f}return xo}function Z2(f){return f==null||typeof f=="symbol"||typeof f=="boolean"?null:typeof f=="function"?f:Ta(""+f)}function J2(f,m){var _=m.ownerDocument.createElement("input");return _.name=m.name,_.value=m.value,f.id&&_.setAttribute("form",f.id),m.parentNode.insertBefore(_,m),f=new FormData(f),_.parentNode.removeChild(_),f}function uk(f,m,_,M,Y){if(m==="submit"&&_&&_.stateNode===Y){var J=Z2((Y[ge]||null).action),le=M.submitter;le&&(m=(m=le[ge]||null)?Z2(m.formAction):le.getAttribute("formAction"),m!==null&&(J=m,le=null));var we=new Wa("action","action",null,M,Y);f.push({event:we,listeners:[{instance:null,listener:function(){if(M.defaultPrevented){if(xo!==0){var Le=le?J2(Y,le):new FormData(Y);dm(_,{pending:!0,data:Le,method:Y.method,action:J},null,Le)}}else typeof J=="function"&&(we.preventDefault(),Le=le?J2(Y,le):new FormData(Y),dm(_,{pending:!0,data:Le,method:Y.method,action:J},J,Le))},currentTarget:Y}]})}}for(var Xm=0;Xm<Rp.length;Xm++){var Ym=Rp[Xm],fk=Ym.toLowerCase(),hk=Ym[0].toUpperCase()+Ym.slice(1);Ma(fk,"on"+hk)}Ma(Rx,"onAnimationEnd"),Ma(Mx,"onAnimationIteration"),Ma(jx,"onAnimationStart"),Ma("dblclick","onDoubleClick"),Ma("focusin","onFocus"),Ma("focusout","onBlur"),Ma(CS,"onTransitionRun"),Ma(NS,"onTransitionStart"),Ma(RS,"onTransitionCancel"),Ma(Dx,"onTransitionEnd"),Rt("onMouseEnter",["mouseout","mouseover"]),Rt("onMouseLeave",["mouseout","mouseover"]),Rt("onPointerEnter",["pointerout","pointerover"]),Rt("onPointerLeave",["pointerout","pointerover"]),yt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yt("onBeforeInput",["compositionend","keypress","textInput","paste"]),yt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ku="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ku));function ev(f,m){m=(m&4)!==0;for(var _=0;_<f.length;_++){var M=f[_],Y=M.event;M=M.listeners;e:{var J=void 0;if(m)for(var le=M.length-1;0<=le;le--){var we=M[le],Le=we.instance,st=we.currentTarget;if(we=we.listener,Le!==J&&Y.isPropagationStopped())break e;J=we,Y.currentTarget=st;try{J(Y)}catch(gt){Ih(gt)}Y.currentTarget=null,J=Le}else for(le=0;le<M.length;le++){if(we=M[le],Le=we.instance,st=we.currentTarget,we=we.listener,Le!==J&&Y.isPropagationStopped())break e;J=we,Y.currentTarget=st;try{J(Y)}catch(gt){Ih(gt)}Y.currentTarget=null,J=Le}}}}function yr(f,m){var _=m[Ne];_===void 0&&(_=m[Ne]=new Set);var M=f+"__bubble";_.has(M)||(tv(m,f,2,!1),_.add(M))}function Km(f,m,_){var M=0;m&&(M|=4),tv(_,f,M,m)}var vd="_reactListening"+Math.random().toString(36).slice(2);function Qm(f){if(!f[vd]){f[vd]=!0,ht.forEach(function(_){_!=="selectionchange"&&(dk.has(_)||Km(_,!1,f),Km(_,!0,f))});var m=f.nodeType===9?f:f.ownerDocument;m===null||m[vd]||(m[vd]=!0,Km("selectionchange",!1,m))}}function tv(f,m,_,M){switch(Rv(m)){case 2:var Y=Vk;break;case 8:Y=zk;break;default:Y=hg}_=Y.bind(null,m,_,f),Y=void 0,!tl||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(Y=!0),M?Y!==void 0?f.addEventListener(m,_,{capture:!0,passive:Y}):f.addEventListener(m,_,!0):Y!==void 0?f.addEventListener(m,_,{passive:Y}):f.addEventListener(m,_,!1)}function Zm(f,m,_,M,Y){var J=M;if((m&1)===0&&(m&2)===0&&M!==null)e:for(;;){if(M===null)return;var le=M.tag;if(le===3||le===4){var we=M.stateNode.containerInfo;if(we===Y)break;if(le===4)for(le=M.return;le!==null;){var Le=le.tag;if((Le===3||Le===4)&&le.stateNode.containerInfo===Y)return;le=le.return}for(;we!==null;){if(le=St(we),le===null)return;if(Le=le.tag,Le===5||Le===6||Le===26||Le===27){M=J=le;continue e}we=we.parentNode}}M=M.return}Zi(function(){var st=J,gt=Hn(_),kt=[];e:{var ot=Ix.get(f);if(ot!==void 0){var ft=Wa,Ut=f;switch(f){case"keypress":if(nl(_)===0)break e;case"keydown":case"keyup":ft=Mh;break;case"focusin":Ut="focus",ft=al;break;case"focusout":Ut="blur",ft=al;break;case"beforeblur":case"afterblur":ft=al;break;case"click":if(_.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ft=wu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ft=_h;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ft=se;break;case Rx:case Mx:case jx:ft=kh;break;case Dx:ft=Se;break;case"scroll":case"scrollend":ft=vu;break;case"wheel":ft=ut;break;case"copy":case"cut":case"paste":ft=Th;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ft=xi;break;case"toggle":case"beforetoggle":ft=cr}var Xt=(m&4)!==0,zr=!Xt&&(f==="scroll"||f==="scrollend"),Qe=Xt?ot!==null?ot+"Capture":null:ot;Xt=[];for(var He=st,nt;He!==null;){var _t=He;if(nt=_t.stateNode,_t=_t.tag,_t!==5&&_t!==26&&_t!==27||nt===null||Qe===null||(_t=Aa(He,Qe),_t!=null&&Xt.push(Qu(He,_t,nt))),zr)break;He=He.return}0<Xt.length&&(ot=new ft(ot,Ut,null,_,gt),kt.push({event:ot,listeners:Xt}))}}if((m&7)===0){e:{if(ot=f==="mouseover"||f==="pointerover",ft=f==="mouseout"||f==="pointerout",ot&&_!==qa&&(Ut=_.relatedTarget||_.fromElement)&&(St(Ut)||Ut[ye]))break e;if((ft||ot)&&(ot=gt.window===gt?gt:(ot=gt.ownerDocument)?ot.defaultView||ot.parentWindow:window,ft?(Ut=_.relatedTarget||_.toElement,ft=st,Ut=Ut?St(Ut):null,Ut!==null&&(zr=i(Ut),Xt=Ut.tag,Ut!==zr||Xt!==5&&Xt!==27&&Xt!==6)&&(Ut=null)):(ft=null,Ut=st),ft!==Ut)){if(Xt=wu,_t="onMouseLeave",Qe="onMouseEnter",He="mouse",(f==="pointerout"||f==="pointerover")&&(Xt=xi,_t="onPointerLeave",Qe="onPointerEnter",He="pointer"),zr=ft==null?ot:be(ft),nt=Ut==null?ot:be(Ut),ot=new Xt(_t,He+"leave",ft,_,gt),ot.target=zr,ot.relatedTarget=nt,_t=null,St(gt)===st&&(Xt=new Xt(Qe,He+"enter",Ut,_,gt),Xt.target=nt,Xt.relatedTarget=zr,_t=Xt),zr=_t,ft&&Ut)t:{for(Xt=pk,Qe=ft,He=Ut,nt=0,_t=Qe;_t;_t=Xt(_t))nt++;_t=0;for(var $t=He;$t;$t=Xt($t))_t++;for(;0<nt-_t;)Qe=Xt(Qe),nt--;for(;0<_t-nt;)He=Xt(He),_t--;for(;nt--;){if(Qe===He||He!==null&&Qe===He.alternate){Xt=Qe;break t}Qe=Xt(Qe),He=Xt(He)}Xt=null}else Xt=null;ft!==null&&rv(kt,ot,ft,Xt,!1),Ut!==null&&zr!==null&&rv(kt,zr,Ut,Xt,!0)}}e:{if(ot=st?be(st):window,ft=ot.nodeName&&ot.nodeName.toLowerCase(),ft==="select"||ft==="input"&&ot.type==="file")var Mr=yx;else if(bx(ot))if(vx)Mr=TS;else{Mr=SS;var zt=_S}else ft=ot.nodeName,!ft||ft.toLowerCase()!=="input"||ot.type!=="checkbox"&&ot.type!=="radio"?st&&Hs(st.elementType)&&(Mr=yx):Mr=kS;if(Mr&&(Mr=Mr(f,st))){xx(kt,Mr,_,gt);break e}zt&&zt(f,ot,st),f==="focusout"&&st&&ot.type==="number"&&st.memoizedProps.value!=null&&Cs(ot,"number",ot.value)}switch(zt=st?be(st):window,f){case"focusin":(bx(zt)||zt.contentEditable==="true")&&(ic=zt,Ap=st,Eu=null);break;case"focusout":Eu=Ap=ic=null;break;case"mousedown":Cp=!0;break;case"contextmenu":case"mouseup":case"dragend":Cp=!1,Cx(kt,_,gt);break;case"selectionchange":if(AS)break;case"keydown":case"keyup":Cx(kt,_,gt)}var dr;if(Dr)e:{switch(f){case"compositionstart":var wr="onCompositionStart";break e;case"compositionend":wr="onCompositionEnd";break e;case"compositionupdate":wr="onCompositionUpdate";break e}wr=void 0}else ac?il(f,_)&&(wr="onCompositionEnd"):f==="keydown"&&_.keyCode===229&&(wr="onCompositionStart");wr&&(Ka&&_.locale!=="ko"&&(ac||wr!=="onCompositionStart"?wr==="onCompositionEnd"&&ac&&(dr=yu()):(Ga=gt,xu="value"in Ga?Ga.value:Ga.textContent,ac=!0)),zt=wd(st,wr),0<zt.length&&(wr=new Ya(wr,f,null,_,gt),kt.push({event:wr,listeners:zt}),dr?wr.data=dr:(dr=sc(_),dr!==null&&(wr.data=dr)))),(dr=ia?xS(f,_):yS(f,_))&&(wr=wd(st,"onBeforeInput"),0<wr.length&&(zt=new Ya("onBeforeInput","beforeinput",null,_,gt),kt.push({event:zt,listeners:wr}),zt.data=dr)),uk(kt,f,st,_,gt)}ev(kt,m)})}function Qu(f,m,_){return{instance:f,listener:m,currentTarget:_}}function wd(f,m){for(var _=m+"Capture",M=[];f!==null;){var Y=f,J=Y.stateNode;if(Y=Y.tag,Y!==5&&Y!==26&&Y!==27||J===null||(Y=Aa(f,_),Y!=null&&M.unshift(Qu(f,Y,J)),Y=Aa(f,m),Y!=null&&M.push(Qu(f,Y,J))),f.tag===3)return M;f=f.return}return[]}function pk(f){if(f===null)return null;do f=f.return;while(f&&f.tag!==5&&f.tag!==27);return f||null}function rv(f,m,_,M,Y){for(var J=m._reactName,le=[];_!==null&&_!==M;){var we=_,Le=we.alternate,st=we.stateNode;if(we=we.tag,Le!==null&&Le===M)break;we!==5&&we!==26&&we!==27||st===null||(Le=st,Y?(st=Aa(_,J),st!=null&&le.unshift(Qu(_,st,Le))):Y||(st=Aa(_,J),st!=null&&le.push(Qu(_,st,Le)))),_=_.return}le.length!==0&&f.push({event:m,listeners:le})}var mk=/\r\n?/g,gk=/\u0000|\uFFFD/g;function nv(f){return(typeof f=="string"?f:""+f).replace(mk,`
`).replace(gk,"")}function sv(f,m){return m=nv(m),nv(f)===m}function Vr(f,m,_,M,Y,J){switch(_){case"children":typeof M=="string"?m==="body"||m==="textarea"&&M===""||Jr(f,M):(typeof M=="number"||typeof M=="bigint")&&m!=="body"&&Jr(f,""+M);break;case"className":nr(f,"class",M);break;case"tabIndex":nr(f,"tabindex",M);break;case"dir":case"role":case"viewBox":case"width":case"height":nr(f,_,M);break;case"style":$a(f,M,J);break;case"data":if(m!=="object"){nr(f,"data",M);break}case"src":case"href":if(M===""&&(m!=="a"||_!=="href")){f.removeAttribute(_);break}if(M==null||typeof M=="function"||typeof M=="symbol"||typeof M=="boolean"){f.removeAttribute(_);break}M=Ta(""+M),f.setAttribute(_,M);break;case"action":case"formAction":if(typeof M=="function"){f.setAttribute(_,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof J=="function"&&(_==="formAction"?(m!=="input"&&Vr(f,m,"name",Y.name,Y,null),Vr(f,m,"formEncType",Y.formEncType,Y,null),Vr(f,m,"formMethod",Y.formMethod,Y,null),Vr(f,m,"formTarget",Y.formTarget,Y,null)):(Vr(f,m,"encType",Y.encType,Y,null),Vr(f,m,"method",Y.method,Y,null),Vr(f,m,"target",Y.target,Y,null)));if(M==null||typeof M=="symbol"||typeof M=="boolean"){f.removeAttribute(_);break}M=Ta(""+M),f.setAttribute(_,M);break;case"onClick":M!=null&&(f.onclick=gs);break;case"onScroll":M!=null&&yr("scroll",f);break;case"onScrollEnd":M!=null&&yr("scrollend",f);break;case"dangerouslySetInnerHTML":if(M!=null){if(typeof M!="object"||!("__html"in M))throw Error(n(61));if(_=M.__html,_!=null){if(Y.children!=null)throw Error(n(60));f.innerHTML=_}}break;case"multiple":f.multiple=M&&typeof M!="function"&&typeof M!="symbol";break;case"muted":f.muted=M&&typeof M!="function"&&typeof M!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(M==null||typeof M=="function"||typeof M=="boolean"||typeof M=="symbol"){f.removeAttribute("xlink:href");break}_=Ta(""+M),f.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",_);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":M!=null&&typeof M!="function"&&typeof M!="symbol"?f.setAttribute(_,""+M):f.removeAttribute(_);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":M&&typeof M!="function"&&typeof M!="symbol"?f.setAttribute(_,""):f.removeAttribute(_);break;case"capture":case"download":M===!0?f.setAttribute(_,""):M!==!1&&M!=null&&typeof M!="function"&&typeof M!="symbol"?f.setAttribute(_,M):f.removeAttribute(_);break;case"cols":case"rows":case"size":case"span":M!=null&&typeof M!="function"&&typeof M!="symbol"&&!isNaN(M)&&1<=M?f.setAttribute(_,M):f.removeAttribute(_);break;case"rowSpan":case"start":M==null||typeof M=="function"||typeof M=="symbol"||isNaN(M)?f.removeAttribute(_):f.setAttribute(_,M);break;case"popover":yr("beforetoggle",f),yr("toggle",f),Jt(f,"popover",M);break;case"xlinkActuate":Yt(f,"http://www.w3.org/1999/xlink","xlink:actuate",M);break;case"xlinkArcrole":Yt(f,"http://www.w3.org/1999/xlink","xlink:arcrole",M);break;case"xlinkRole":Yt(f,"http://www.w3.org/1999/xlink","xlink:role",M);break;case"xlinkShow":Yt(f,"http://www.w3.org/1999/xlink","xlink:show",M);break;case"xlinkTitle":Yt(f,"http://www.w3.org/1999/xlink","xlink:title",M);break;case"xlinkType":Yt(f,"http://www.w3.org/1999/xlink","xlink:type",M);break;case"xmlBase":Yt(f,"http://www.w3.org/XML/1998/namespace","xml:base",M);break;case"xmlLang":Yt(f,"http://www.w3.org/XML/1998/namespace","xml:lang",M);break;case"xmlSpace":Yt(f,"http://www.w3.org/XML/1998/namespace","xml:space",M);break;case"is":Jt(f,"is",M);break;case"innerText":case"textContent":break;default:(!(2<_.length)||_[0]!=="o"&&_[0]!=="O"||_[1]!=="n"&&_[1]!=="N")&&(_=$s.get(_)||_,Jt(f,_,M))}}function Jm(f,m,_,M,Y,J){switch(_){case"style":$a(f,M,J);break;case"dangerouslySetInnerHTML":if(M!=null){if(typeof M!="object"||!("__html"in M))throw Error(n(61));if(_=M.__html,_!=null){if(Y.children!=null)throw Error(n(60));f.innerHTML=_}}break;case"children":typeof M=="string"?Jr(f,M):(typeof M=="number"||typeof M=="bigint")&&Jr(f,""+M);break;case"onScroll":M!=null&&yr("scroll",f);break;case"onScrollEnd":M!=null&&yr("scrollend",f);break;case"onClick":M!=null&&(f.onclick=gs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nt.hasOwnProperty(_))e:{if(_[0]==="o"&&_[1]==="n"&&(Y=_.endsWith("Capture"),m=_.slice(2,Y?_.length-7:void 0),J=f[ge]||null,J=J!=null?J[_]:null,typeof J=="function"&&f.removeEventListener(m,J,Y),typeof M=="function")){typeof J!="function"&&J!==null&&(_ in f?f[_]=null:f.hasAttribute(_)&&f.removeAttribute(_)),f.addEventListener(m,M,Y);break e}_ in f?f[_]=M:M===!0?f.setAttribute(_,""):Jt(f,_,M)}}}function Xn(f,m,_){switch(m){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":yr("error",f),yr("load",f);var M=!1,Y=!1,J;for(J in _)if(_.hasOwnProperty(J)){var le=_[J];if(le!=null)switch(J){case"src":M=!0;break;case"srcSet":Y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,m));default:Vr(f,m,J,le,_,null)}}Y&&Vr(f,m,"srcSet",_.srcSet,_,null),M&&Vr(f,m,"src",_.src,_,null);return;case"input":yr("invalid",f);var we=J=le=Y=null,Le=null,st=null;for(M in _)if(_.hasOwnProperty(M)){var gt=_[M];if(gt!=null)switch(M){case"name":Y=gt;break;case"type":le=gt;break;case"checked":Le=gt;break;case"defaultChecked":st=gt;break;case"value":J=gt;break;case"defaultValue":we=gt;break;case"children":case"dangerouslySetInnerHTML":if(gt!=null)throw Error(n(137,m));break;default:Vr(f,m,M,gt,_,null)}}gr(f,J,we,Le,st,le,Y,!1);return;case"select":yr("invalid",f),M=le=J=null;for(Y in _)if(_.hasOwnProperty(Y)&&(we=_[Y],we!=null))switch(Y){case"value":J=we;break;case"defaultValue":le=we;break;case"multiple":M=we;default:Vr(f,m,Y,we,_,null)}m=J,_=le,f.multiple=!!M,m!=null?rs(f,!!M,m,!1):_!=null&&rs(f,!!M,_,!0);return;case"textarea":yr("invalid",f),J=Y=M=null;for(le in _)if(_.hasOwnProperty(le)&&(we=_[le],we!=null))switch(le){case"value":M=we;break;case"defaultValue":Y=we;break;case"children":J=we;break;case"dangerouslySetInnerHTML":if(we!=null)throw Error(n(91));break;default:Vr(f,m,le,we,_,null)}sn(f,M,Y,J);return;case"option":for(Le in _)if(_.hasOwnProperty(Le)&&(M=_[Le],M!=null))switch(Le){case"selected":f.selected=M&&typeof M!="function"&&typeof M!="symbol";break;default:Vr(f,m,Le,M,_,null)}return;case"dialog":yr("beforetoggle",f),yr("toggle",f),yr("cancel",f),yr("close",f);break;case"iframe":case"object":yr("load",f);break;case"video":case"audio":for(M=0;M<Ku.length;M++)yr(Ku[M],f);break;case"image":yr("error",f),yr("load",f);break;case"details":yr("toggle",f);break;case"embed":case"source":case"link":yr("error",f),yr("load",f);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(st in _)if(_.hasOwnProperty(st)&&(M=_[st],M!=null))switch(st){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,m));default:Vr(f,m,st,M,_,null)}return;default:if(Hs(m)){for(gt in _)_.hasOwnProperty(gt)&&(M=_[gt],M!==void 0&&Jm(f,m,gt,M,_,void 0));return}}for(we in _)_.hasOwnProperty(we)&&(M=_[we],M!=null&&Vr(f,m,we,M,_,null))}function bk(f,m,_,M){switch(m){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var Y=null,J=null,le=null,we=null,Le=null,st=null,gt=null;for(ft in _){var kt=_[ft];if(_.hasOwnProperty(ft)&&kt!=null)switch(ft){case"checked":break;case"value":break;case"defaultValue":Le=kt;default:M.hasOwnProperty(ft)||Vr(f,m,ft,null,M,kt)}}for(var ot in M){var ft=M[ot];if(kt=_[ot],M.hasOwnProperty(ot)&&(ft!=null||kt!=null))switch(ot){case"type":J=ft;break;case"name":Y=ft;break;case"checked":st=ft;break;case"defaultChecked":gt=ft;break;case"value":le=ft;break;case"defaultValue":we=ft;break;case"children":case"dangerouslySetInnerHTML":if(ft!=null)throw Error(n(137,m));break;default:ft!==kt&&Vr(f,m,ot,ft,M,kt)}}br(f,le,we,Le,st,gt,J,Y);return;case"select":ft=le=we=ot=null;for(J in _)if(Le=_[J],_.hasOwnProperty(J)&&Le!=null)switch(J){case"value":break;case"multiple":ft=Le;default:M.hasOwnProperty(J)||Vr(f,m,J,null,M,Le)}for(Y in M)if(J=M[Y],Le=_[Y],M.hasOwnProperty(Y)&&(J!=null||Le!=null))switch(Y){case"value":ot=J;break;case"defaultValue":we=J;break;case"multiple":le=J;default:J!==Le&&Vr(f,m,Y,J,M,Le)}m=we,_=le,M=ft,ot!=null?rs(f,!!_,ot,!1):!!M!=!!_&&(m!=null?rs(f,!!_,m,!0):rs(f,!!_,_?[]:"",!1));return;case"textarea":ft=ot=null;for(we in _)if(Y=_[we],_.hasOwnProperty(we)&&Y!=null&&!M.hasOwnProperty(we))switch(we){case"value":break;case"children":break;default:Vr(f,m,we,null,M,Y)}for(le in M)if(Y=M[le],J=_[le],M.hasOwnProperty(le)&&(Y!=null||J!=null))switch(le){case"value":ot=Y;break;case"defaultValue":ft=Y;break;case"children":break;case"dangerouslySetInnerHTML":if(Y!=null)throw Error(n(91));break;default:Y!==J&&Vr(f,m,le,Y,M,J)}mi(f,ot,ft);return;case"option":for(var Ut in _)if(ot=_[Ut],_.hasOwnProperty(Ut)&&ot!=null&&!M.hasOwnProperty(Ut))switch(Ut){case"selected":f.selected=!1;break;default:Vr(f,m,Ut,null,M,ot)}for(Le in M)if(ot=M[Le],ft=_[Le],M.hasOwnProperty(Le)&&ot!==ft&&(ot!=null||ft!=null))switch(Le){case"selected":f.selected=ot&&typeof ot!="function"&&typeof ot!="symbol";break;default:Vr(f,m,Le,ot,M,ft)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Xt in _)ot=_[Xt],_.hasOwnProperty(Xt)&&ot!=null&&!M.hasOwnProperty(Xt)&&Vr(f,m,Xt,null,M,ot);for(st in M)if(ot=M[st],ft=_[st],M.hasOwnProperty(st)&&ot!==ft&&(ot!=null||ft!=null))switch(st){case"children":case"dangerouslySetInnerHTML":if(ot!=null)throw Error(n(137,m));break;default:Vr(f,m,st,ot,M,ft)}return;default:if(Hs(m)){for(var zr in _)ot=_[zr],_.hasOwnProperty(zr)&&ot!==void 0&&!M.hasOwnProperty(zr)&&Jm(f,m,zr,void 0,M,ot);for(gt in M)ot=M[gt],ft=_[gt],!M.hasOwnProperty(gt)||ot===ft||ot===void 0&&ft===void 0||Jm(f,m,gt,ot,M,ft);return}}for(var Qe in _)ot=_[Qe],_.hasOwnProperty(Qe)&&ot!=null&&!M.hasOwnProperty(Qe)&&Vr(f,m,Qe,null,M,ot);for(kt in M)ot=M[kt],ft=_[kt],!M.hasOwnProperty(kt)||ot===ft||ot==null&&ft==null||Vr(f,m,kt,ot,M,ft)}function av(f){switch(f){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function xk(){if(typeof performance.getEntriesByType=="function"){for(var f=0,m=0,_=performance.getEntriesByType("resource"),M=0;M<_.length;M++){var Y=_[M],J=Y.transferSize,le=Y.initiatorType,we=Y.duration;if(J&&we&&av(le)){for(le=0,we=Y.responseEnd,M+=1;M<_.length;M++){var Le=_[M],st=Le.startTime;if(st>we)break;var gt=Le.transferSize,kt=Le.initiatorType;gt&&av(kt)&&(Le=Le.responseEnd,le+=gt*(Le<we?1:(we-st)/(Le-st)))}if(--M,m+=8*(J+le)/(Y.duration/1e3),f++,10<f)break}}if(0<f)return m/f/1e6}return navigator.connection&&(f=navigator.connection.downlink,typeof f=="number")?f:5}var eg=null,tg=null;function _d(f){return f.nodeType===9?f:f.ownerDocument}function iv(f){switch(f){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ov(f,m){if(f===0)switch(m){case"svg":return 1;case"math":return 2;default:return 0}return f===1&&m==="foreignObject"?0:f}function rg(f,m){return f==="textarea"||f==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.children=="bigint"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var ng=null;function yk(){var f=window.event;return f&&f.type==="popstate"?f===ng?!1:(ng=f,!0):(ng=null,!1)}var lv=typeof setTimeout=="function"?setTimeout:void 0,vk=typeof clearTimeout=="function"?clearTimeout:void 0,cv=typeof Promise=="function"?Promise:void 0,wk=typeof queueMicrotask=="function"?queueMicrotask:typeof cv<"u"?function(f){return cv.resolve(null).then(f).catch(_k)}:lv;function _k(f){setTimeout(function(){throw f})}function yo(f){return f==="head"}function uv(f,m){var _=m,M=0;do{var Y=_.nextSibling;if(f.removeChild(_),Y&&Y.nodeType===8)if(_=Y.data,_==="/$"||_==="/&"){if(M===0){f.removeChild(Y),Dc(m);return}M--}else if(_==="$"||_==="$?"||_==="$~"||_==="$!"||_==="&")M++;else if(_==="html")Zu(f.ownerDocument.documentElement);else if(_==="head"){_=f.ownerDocument.head,Zu(_);for(var J=_.firstChild;J;){var le=J.nextSibling,we=J.nodeName;J[ze]||we==="SCRIPT"||we==="STYLE"||we==="LINK"&&J.rel.toLowerCase()==="stylesheet"||_.removeChild(J),J=le}}else _==="body"&&Zu(f.ownerDocument.body);_=Y}while(_);Dc(m)}function fv(f,m){var _=f;f=0;do{var M=_.nextSibling;if(_.nodeType===1?m?(_._stashedDisplay=_.style.display,_.style.display="none"):(_.style.display=_._stashedDisplay||"",_.getAttribute("style")===""&&_.removeAttribute("style")):_.nodeType===3&&(m?(_._stashedText=_.nodeValue,_.nodeValue=""):_.nodeValue=_._stashedText||""),M&&M.nodeType===8)if(_=M.data,_==="/$"){if(f===0)break;f--}else _!=="$"&&_!=="$?"&&_!=="$~"&&_!=="$!"||f++;_=M}while(_)}function sg(f){var m=f.firstChild;for(m&&m.nodeType===10&&(m=m.nextSibling);m;){var _=m;switch(m=m.nextSibling,_.nodeName){case"HTML":case"HEAD":case"BODY":sg(_),bt(_);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(_.rel.toLowerCase()==="stylesheet")continue}f.removeChild(_)}}function Sk(f,m,_,M){for(;f.nodeType===1;){var Y=_;if(f.nodeName.toLowerCase()!==m.toLowerCase()){if(!M&&(f.nodeName!=="INPUT"||f.type!=="hidden"))break}else if(M){if(!f[ze])switch(m){case"meta":if(!f.hasAttribute("itemprop"))break;return f;case"link":if(J=f.getAttribute("rel"),J==="stylesheet"&&f.hasAttribute("data-precedence"))break;if(J!==Y.rel||f.getAttribute("href")!==(Y.href==null||Y.href===""?null:Y.href)||f.getAttribute("crossorigin")!==(Y.crossOrigin==null?null:Y.crossOrigin)||f.getAttribute("title")!==(Y.title==null?null:Y.title))break;return f;case"style":if(f.hasAttribute("data-precedence"))break;return f;case"script":if(J=f.getAttribute("src"),(J!==(Y.src==null?null:Y.src)||f.getAttribute("type")!==(Y.type==null?null:Y.type)||f.getAttribute("crossorigin")!==(Y.crossOrigin==null?null:Y.crossOrigin))&&J&&f.hasAttribute("async")&&!f.hasAttribute("itemprop"))break;return f;default:return f}}else if(m==="input"&&f.type==="hidden"){var J=Y.name==null?null:""+Y.name;if(Y.type==="hidden"&&f.getAttribute("name")===J)return f}else return f;if(f=da(f.nextSibling),f===null)break}return null}function kk(f,m,_){if(m==="")return null;for(;f.nodeType!==3;)if((f.nodeType!==1||f.nodeName!=="INPUT"||f.type!=="hidden")&&!_||(f=da(f.nextSibling),f===null))return null;return f}function hv(f,m){for(;f.nodeType!==8;)if((f.nodeType!==1||f.nodeName!=="INPUT"||f.type!=="hidden")&&!m||(f=da(f.nextSibling),f===null))return null;return f}function ag(f){return f.data==="$?"||f.data==="$~"}function ig(f){return f.data==="$!"||f.data==="$?"&&f.ownerDocument.readyState!=="loading"}function Tk(f,m){var _=f.ownerDocument;if(f.data==="$~")f._reactRetry=m;else if(f.data!=="$?"||_.readyState!=="loading")m();else{var M=function(){m(),_.removeEventListener("DOMContentLoaded",M)};_.addEventListener("DOMContentLoaded",M),f._reactRetry=M}}function da(f){for(;f!=null;f=f.nextSibling){var m=f.nodeType;if(m===1||m===3)break;if(m===8){if(m=f.data,m==="$"||m==="$!"||m==="$?"||m==="$~"||m==="&"||m==="F!"||m==="F")break;if(m==="/$"||m==="/&")return null}}return f}var og=null;function dv(f){f=f.nextSibling;for(var m=0;f;){if(f.nodeType===8){var _=f.data;if(_==="/$"||_==="/&"){if(m===0)return da(f.nextSibling);m--}else _!=="$"&&_!=="$!"&&_!=="$?"&&_!=="$~"&&_!=="&"||m++}f=f.nextSibling}return null}function pv(f){f=f.previousSibling;for(var m=0;f;){if(f.nodeType===8){var _=f.data;if(_==="$"||_==="$!"||_==="$?"||_==="$~"||_==="&"){if(m===0)return f;m--}else _!=="/$"&&_!=="/&"||m++}f=f.previousSibling}return null}function mv(f,m,_){switch(m=_d(_),f){case"html":if(f=m.documentElement,!f)throw Error(n(452));return f;case"head":if(f=m.head,!f)throw Error(n(453));return f;case"body":if(f=m.body,!f)throw Error(n(454));return f;default:throw Error(n(451))}}function Zu(f){for(var m=f.attributes;m.length;)f.removeAttributeNode(m[0]);bt(f)}var pa=new Map,gv=new Set;function Sd(f){return typeof f.getRootNode=="function"?f.getRootNode():f.nodeType===9?f:f.ownerDocument}var Di=E.d;E.d={f:Ek,r:Ak,D:Ck,C:Nk,L:Rk,m:Mk,X:Dk,S:jk,M:Ik};function Ek(){var f=Di.f(),m=pd();return f||m}function Ak(f){var m=Tt(f);m!==null&&m.tag===5&&m.type==="form"?Dy(m):Di.r(f)}var Rc=typeof document>"u"?null:document;function bv(f,m,_){var M=Rc;if(M&&typeof m=="string"&&m){var Y=pn(m);Y='link[rel="'+f+'"][href="'+Y+'"]',typeof _=="string"&&(Y+='[crossorigin="'+_+'"]'),gv.has(Y)||(gv.add(Y),f={rel:f,crossOrigin:_,href:m},M.querySelector(Y)===null&&(m=M.createElement("link"),Xn(m,"link",f),Ye(m),M.head.appendChild(m)))}}function Ck(f){Di.D(f),bv("dns-prefetch",f,null)}function Nk(f,m){Di.C(f,m),bv("preconnect",f,m)}function Rk(f,m,_){Di.L(f,m,_);var M=Rc;if(M&&f&&m){var Y='link[rel="preload"][as="'+pn(m)+'"]';m==="image"&&_&&_.imageSrcSet?(Y+='[imagesrcset="'+pn(_.imageSrcSet)+'"]',typeof _.imageSizes=="string"&&(Y+='[imagesizes="'+pn(_.imageSizes)+'"]')):Y+='[href="'+pn(f)+'"]';var J=Y;switch(m){case"style":J=Mc(f);break;case"script":J=jc(f)}pa.has(J)||(f=p({rel:"preload",href:m==="image"&&_&&_.imageSrcSet?void 0:f,as:m},_),pa.set(J,f),M.querySelector(Y)!==null||m==="style"&&M.querySelector(Ju(J))||m==="script"&&M.querySelector(ef(J))||(m=M.createElement("link"),Xn(m,"link",f),Ye(m),M.head.appendChild(m)))}}function Mk(f,m){Di.m(f,m);var _=Rc;if(_&&f){var M=m&&typeof m.as=="string"?m.as:"script",Y='link[rel="modulepreload"][as="'+pn(M)+'"][href="'+pn(f)+'"]',J=Y;switch(M){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":J=jc(f)}if(!pa.has(J)&&(f=p({rel:"modulepreload",href:f},m),pa.set(J,f),_.querySelector(Y)===null)){switch(M){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(_.querySelector(ef(J)))return}M=_.createElement("link"),Xn(M,"link",f),Ye(M),_.head.appendChild(M)}}}function jk(f,m,_){Di.S(f,m,_);var M=Rc;if(M&&f){var Y=Me(M).hoistableStyles,J=Mc(f);m=m||"default";var le=Y.get(J);if(!le){var we={loading:0,preload:null};if(le=M.querySelector(Ju(J)))we.loading=5;else{f=p({rel:"stylesheet",href:f,"data-precedence":m},_),(_=pa.get(J))&&lg(f,_);var Le=le=M.createElement("link");Ye(Le),Xn(Le,"link",f),Le._p=new Promise(function(st,gt){Le.onload=st,Le.onerror=gt}),Le.addEventListener("load",function(){we.loading|=1}),Le.addEventListener("error",function(){we.loading|=2}),we.loading|=4,kd(le,m,M)}le={type:"stylesheet",instance:le,count:1,state:we},Y.set(J,le)}}}function Dk(f,m){Di.X(f,m);var _=Rc;if(_&&f){var M=Me(_).hoistableScripts,Y=jc(f),J=M.get(Y);J||(J=_.querySelector(ef(Y)),J||(f=p({src:f,async:!0},m),(m=pa.get(Y))&&cg(f,m),J=_.createElement("script"),Ye(J),Xn(J,"link",f),_.head.appendChild(J)),J={type:"script",instance:J,count:1,state:null},M.set(Y,J))}}function Ik(f,m){Di.M(f,m);var _=Rc;if(_&&f){var M=Me(_).hoistableScripts,Y=jc(f),J=M.get(Y);J||(J=_.querySelector(ef(Y)),J||(f=p({src:f,async:!0,type:"module"},m),(m=pa.get(Y))&&cg(f,m),J=_.createElement("script"),Ye(J),Xn(J,"link",f),_.head.appendChild(J)),J={type:"script",instance:J,count:1,state:null},M.set(Y,J))}}function xv(f,m,_,M){var Y=(Y=G.current)?Sd(Y):null;if(!Y)throw Error(n(446));switch(f){case"meta":case"title":return null;case"style":return typeof _.precedence=="string"&&typeof _.href=="string"?(m=Mc(_.href),_=Me(Y).hoistableStyles,M=_.get(m),M||(M={type:"style",instance:null,count:0,state:null},_.set(m,M)),M):{type:"void",instance:null,count:0,state:null};case"link":if(_.rel==="stylesheet"&&typeof _.href=="string"&&typeof _.precedence=="string"){f=Mc(_.href);var J=Me(Y).hoistableStyles,le=J.get(f);if(le||(Y=Y.ownerDocument||Y,le={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},J.set(f,le),(J=Y.querySelector(Ju(f)))&&!J._p&&(le.instance=J,le.state.loading=5),pa.has(f)||(_={rel:"preload",as:"style",href:_.href,crossOrigin:_.crossOrigin,integrity:_.integrity,media:_.media,hrefLang:_.hrefLang,referrerPolicy:_.referrerPolicy},pa.set(f,_),J||Ok(Y,f,_,le.state))),m&&M===null)throw Error(n(528,""));return le}if(m&&M!==null)throw Error(n(529,""));return null;case"script":return m=_.async,_=_.src,typeof _=="string"&&m&&typeof m!="function"&&typeof m!="symbol"?(m=jc(_),_=Me(Y).hoistableScripts,M=_.get(m),M||(M={type:"script",instance:null,count:0,state:null},_.set(m,M)),M):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,f))}}function Mc(f){return'href="'+pn(f)+'"'}function Ju(f){return'link[rel="stylesheet"]['+f+"]"}function yv(f){return p({},f,{"data-precedence":f.precedence,precedence:null})}function Ok(f,m,_,M){f.querySelector('link[rel="preload"][as="style"]['+m+"]")?M.loading=1:(m=f.createElement("link"),M.preload=m,m.addEventListener("load",function(){return M.loading|=1}),m.addEventListener("error",function(){return M.loading|=2}),Xn(m,"link",_),Ye(m),f.head.appendChild(m))}function jc(f){return'[src="'+pn(f)+'"]'}function ef(f){return"script[async]"+f}function vv(f,m,_){if(m.count++,m.instance===null)switch(m.type){case"style":var M=f.querySelector('style[data-href~="'+pn(_.href)+'"]');if(M)return m.instance=M,Ye(M),M;var Y=p({},_,{"data-href":_.href,"data-precedence":_.precedence,href:null,precedence:null});return M=(f.ownerDocument||f).createElement("style"),Ye(M),Xn(M,"style",Y),kd(M,_.precedence,f),m.instance=M;case"stylesheet":Y=Mc(_.href);var J=f.querySelector(Ju(Y));if(J)return m.state.loading|=4,m.instance=J,Ye(J),J;M=yv(_),(Y=pa.get(Y))&&lg(M,Y),J=(f.ownerDocument||f).createElement("link"),Ye(J);var le=J;return le._p=new Promise(function(we,Le){le.onload=we,le.onerror=Le}),Xn(J,"link",M),m.state.loading|=4,kd(J,_.precedence,f),m.instance=J;case"script":return J=jc(_.src),(Y=f.querySelector(ef(J)))?(m.instance=Y,Ye(Y),Y):(M=_,(Y=pa.get(J))&&(M=p({},_),cg(M,Y)),f=f.ownerDocument||f,Y=f.createElement("script"),Ye(Y),Xn(Y,"link",M),f.head.appendChild(Y),m.instance=Y);case"void":return null;default:throw Error(n(443,m.type))}else m.type==="stylesheet"&&(m.state.loading&4)===0&&(M=m.instance,m.state.loading|=4,kd(M,_.precedence,f));return m.instance}function kd(f,m,_){for(var M=_.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),Y=M.length?M[M.length-1]:null,J=Y,le=0;le<M.length;le++){var we=M[le];if(we.dataset.precedence===m)J=we;else if(J!==Y)break}J?J.parentNode.insertBefore(f,J.nextSibling):(m=_.nodeType===9?_.head:_,m.insertBefore(f,m.firstChild))}function lg(f,m){f.crossOrigin==null&&(f.crossOrigin=m.crossOrigin),f.referrerPolicy==null&&(f.referrerPolicy=m.referrerPolicy),f.title==null&&(f.title=m.title)}function cg(f,m){f.crossOrigin==null&&(f.crossOrigin=m.crossOrigin),f.referrerPolicy==null&&(f.referrerPolicy=m.referrerPolicy),f.integrity==null&&(f.integrity=m.integrity)}var Td=null;function wv(f,m,_){if(Td===null){var M=new Map,Y=Td=new Map;Y.set(_,M)}else Y=Td,M=Y.get(_),M||(M=new Map,Y.set(_,M));if(M.has(f))return M;for(M.set(f,null),_=_.getElementsByTagName(f),Y=0;Y<_.length;Y++){var J=_[Y];if(!(J[ze]||J[fe]||f==="link"&&J.getAttribute("rel")==="stylesheet")&&J.namespaceURI!=="http://www.w3.org/2000/svg"){var le=J.getAttribute(m)||"";le=f+le;var we=M.get(le);we?we.push(J):M.set(le,[J])}}return M}function _v(f,m,_){f=f.ownerDocument||f,f.head.insertBefore(_,m==="title"?f.querySelector("head > title"):null)}function Fk(f,m,_){if(_===1||m.itemProp!=null)return!1;switch(f){case"meta":case"title":return!0;case"style":if(typeof m.precedence!="string"||typeof m.href!="string"||m.href==="")break;return!0;case"link":if(typeof m.rel!="string"||typeof m.href!="string"||m.href===""||m.onLoad||m.onError)break;switch(m.rel){case"stylesheet":return f=m.disabled,typeof m.precedence=="string"&&f==null;default:return!0}case"script":if(m.async&&typeof m.async!="function"&&typeof m.async!="symbol"&&!m.onLoad&&!m.onError&&m.src&&typeof m.src=="string")return!0}return!1}function Sv(f){return!(f.type==="stylesheet"&&(f.state.loading&3)===0)}function Pk(f,m,_,M){if(_.type==="stylesheet"&&(typeof M.media!="string"||matchMedia(M.media).matches!==!1)&&(_.state.loading&4)===0){if(_.instance===null){var Y=Mc(M.href),J=m.querySelector(Ju(Y));if(J){m=J._p,m!==null&&typeof m=="object"&&typeof m.then=="function"&&(f.count++,f=Ed.bind(f),m.then(f,f)),_.state.loading|=4,_.instance=J,Ye(J);return}J=m.ownerDocument||m,M=yv(M),(Y=pa.get(Y))&&lg(M,Y),J=J.createElement("link"),Ye(J);var le=J;le._p=new Promise(function(we,Le){le.onload=we,le.onerror=Le}),Xn(J,"link",M),_.instance=J}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(_,m),(m=_.state.preload)&&(_.state.loading&3)===0&&(f.count++,_=Ed.bind(f),m.addEventListener("load",_),m.addEventListener("error",_))}}var ug=0;function Lk(f,m){return f.stylesheets&&f.count===0&&Cd(f,f.stylesheets),0<f.count||0<f.imgCount?function(_){var M=setTimeout(function(){if(f.stylesheets&&Cd(f,f.stylesheets),f.unsuspend){var J=f.unsuspend;f.unsuspend=null,J()}},6e4+m);0<f.imgBytes&&ug===0&&(ug=62500*xk());var Y=setTimeout(function(){if(f.waitingForImages=!1,f.count===0&&(f.stylesheets&&Cd(f,f.stylesheets),f.unsuspend)){var J=f.unsuspend;f.unsuspend=null,J()}},(f.imgBytes>ug?50:800)+m);return f.unsuspend=_,function(){f.unsuspend=null,clearTimeout(M),clearTimeout(Y)}}:null}function Ed(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Cd(this,this.stylesheets);else if(this.unsuspend){var f=this.unsuspend;this.unsuspend=null,f()}}}var Ad=null;function Cd(f,m){f.stylesheets=null,f.unsuspend!==null&&(f.count++,Ad=new Map,m.forEach(Bk,f),Ad=null,Ed.call(f))}function Bk(f,m){if(!(m.state.loading&4)){var _=Ad.get(f);if(_)var M=_.get(null);else{_=new Map,Ad.set(f,_);for(var Y=f.querySelectorAll("link[data-precedence],style[data-precedence]"),J=0;J<Y.length;J++){var le=Y[J];(le.nodeName==="LINK"||le.getAttribute("media")!=="not all")&&(_.set(le.dataset.precedence,le),M=le)}M&&_.set(null,M)}Y=m.instance,le=Y.getAttribute("data-precedence"),J=_.get(le)||M,J===M&&_.set(null,Y),_.set(le,Y),this.count++,M=Ed.bind(this),Y.addEventListener("load",M),Y.addEventListener("error",M),J?J.parentNode.insertBefore(Y,J.nextSibling):(f=f.nodeType===9?f.head:f,f.insertBefore(Y,f.firstChild)),m.state.loading|=4}}var tf={$$typeof:k,Provider:null,Consumer:null,_currentValue:A,_currentValue2:A,_threadCount:0};function Uk(f,m,_,M,Y,J,le,we,Le){this.tag=1,this.containerInfo=f,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jt(0),this.hiddenUpdates=jt(null),this.identifierPrefix=M,this.onUncaughtError=Y,this.onCaughtError=J,this.onRecoverableError=le,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Le,this.incompleteTransitions=new Map}function kv(f,m,_,M,Y,J,le,we,Le,st,gt,kt){return f=new Uk(f,m,_,le,Le,st,gt,kt,we),m=1,J===!0&&(m|=24),J=Gs(3,null,null,m),f.current=J,J.stateNode=f,m=Hp(),m.refCount++,f.pooledCache=m,m.refCount++,J.memoizedState={element:M,isDehydrated:_,cache:m},Wp(J),f}function Tv(f){return f?(f=cc,f):cc}function Ev(f,m,_,M,Y,J){Y=Tv(Y),M.context===null?M.context=Y:M.pendingContext=Y,M=oo(m),M.payload={element:_},J=J===void 0?null:J,J!==null&&(M.callback=J),_=lo(f,M,m),_!==null&&(Ds(_,f,m),Du(_,f,m))}function Av(f,m){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var _=f.retryLane;f.retryLane=_!==0&&_<m?_:m}}function fg(f,m){Av(f,m),(f=f.alternate)&&Av(f,m)}function Cv(f){if(f.tag===13||f.tag===31){var m=cl(f,67108864);m!==null&&Ds(m,f,67108864),fg(f,67108864)}}function Nv(f){if(f.tag===13||f.tag===31){var m=Qs();m=qe(m);var _=cl(f,m);_!==null&&Ds(_,f,m),fg(f,m)}}var Nd=!0;function Vk(f,m,_,M){var Y=S.T;S.T=null;var J=E.p;try{E.p=2,hg(f,m,_,M)}finally{E.p=J,S.T=Y}}function zk(f,m,_,M){var Y=S.T;S.T=null;var J=E.p;try{E.p=8,hg(f,m,_,M)}finally{E.p=J,S.T=Y}}function hg(f,m,_,M){if(Nd){var Y=dg(M);if(Y===null)Zm(f,m,M,Rd,_),Mv(f,M);else if($k(Y,f,m,_,M))M.stopPropagation();else if(Mv(f,M),m&4&&-1<Hk.indexOf(f)){for(;Y!==null;){var J=Tt(Y);if(J!==null)switch(J.tag){case 3:if(J=J.stateNode,J.current.memoizedState.isDehydrated){var le=Ee(J.pendingLanes);if(le!==0){var we=J;for(we.pendingLanes|=2,we.entangledLanes|=2;le;){var Le=1<<31-Be(le);we.entanglements[1]|=Le,le&=~Le}ei(J),(Ir&6)===0&&(hd=Ue()+500,Yu(0))}}break;case 31:case 13:we=cl(J,2),we!==null&&Ds(we,J,2),pd(),fg(J,2)}if(J=dg(M),J===null&&Zm(f,m,M,Rd,_),J===Y)break;Y=J}Y!==null&&M.stopPropagation()}else Zm(f,m,M,null,_)}}function dg(f){return f=Hn(f),pg(f)}var Rd=null;function pg(f){if(Rd=null,f=St(f),f!==null){var m=i(f);if(m===null)f=null;else{var _=m.tag;if(_===13){if(f=a(m),f!==null)return f;f=null}else if(_===31){if(f=l(m),f!==null)return f;f=null}else if(_===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;f=null}else m!==f&&(f=null)}}return Rd=f,null}function Rv(f){switch(f){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tt()){case at:return 2;case Je:return 8;case Ze:case vt:return 32;case pt:return 268435456;default:return 32}default:return 32}}var mg=!1,vo=null,wo=null,_o=null,rf=new Map,nf=new Map,So=[],Hk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Mv(f,m){switch(f){case"focusin":case"focusout":vo=null;break;case"dragenter":case"dragleave":wo=null;break;case"mouseover":case"mouseout":_o=null;break;case"pointerover":case"pointerout":rf.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":nf.delete(m.pointerId)}}function sf(f,m,_,M,Y,J){return f===null||f.nativeEvent!==J?(f={blockedOn:m,domEventName:_,eventSystemFlags:M,nativeEvent:J,targetContainers:[Y]},m!==null&&(m=Tt(m),m!==null&&Cv(m)),f):(f.eventSystemFlags|=M,m=f.targetContainers,Y!==null&&m.indexOf(Y)===-1&&m.push(Y),f)}function $k(f,m,_,M,Y){switch(m){case"focusin":return vo=sf(vo,f,m,_,M,Y),!0;case"dragenter":return wo=sf(wo,f,m,_,M,Y),!0;case"mouseover":return _o=sf(_o,f,m,_,M,Y),!0;case"pointerover":var J=Y.pointerId;return rf.set(J,sf(rf.get(J)||null,f,m,_,M,Y)),!0;case"gotpointercapture":return J=Y.pointerId,nf.set(J,sf(nf.get(J)||null,f,m,_,M,Y)),!0}return!1}function jv(f){var m=St(f.target);if(m!==null){var _=i(m);if(_!==null){if(m=_.tag,m===13){if(m=a(_),m!==null){f.blockedOn=m,pe(f.priority,function(){Nv(_)});return}}else if(m===31){if(m=l(_),m!==null){f.blockedOn=m,pe(f.priority,function(){Nv(_)});return}}else if(m===3&&_.stateNode.current.memoizedState.isDehydrated){f.blockedOn=_.tag===3?_.stateNode.containerInfo:null;return}}}f.blockedOn=null}function Md(f){if(f.blockedOn!==null)return!1;for(var m=f.targetContainers;0<m.length;){var _=dg(f.nativeEvent);if(_===null){_=f.nativeEvent;var M=new _.constructor(_.type,_);qa=M,_.target.dispatchEvent(M),qa=null}else return m=Tt(_),m!==null&&Cv(m),f.blockedOn=_,!1;m.shift()}return!0}function Dv(f,m,_){Md(f)&&_.delete(m)}function qk(){mg=!1,vo!==null&&Md(vo)&&(vo=null),wo!==null&&Md(wo)&&(wo=null),_o!==null&&Md(_o)&&(_o=null),rf.forEach(Dv),nf.forEach(Dv)}function jd(f,m){f.blockedOn===m&&(f.blockedOn=null,mg||(mg=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,qk)))}var Dd=null;function Iv(f){Dd!==f&&(Dd=f,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Dd===f&&(Dd=null);for(var m=0;m<f.length;m+=3){var _=f[m],M=f[m+1],Y=f[m+2];if(typeof M!="function"){if(pg(M||_)===null)continue;break}var J=Tt(_);J!==null&&(f.splice(m,3),m-=3,dm(J,{pending:!0,data:Y,method:_.method,action:M},M,Y))}}))}function Dc(f){function m(Le){return jd(Le,f)}vo!==null&&jd(vo,f),wo!==null&&jd(wo,f),_o!==null&&jd(_o,f),rf.forEach(m),nf.forEach(m);for(var _=0;_<So.length;_++){var M=So[_];M.blockedOn===f&&(M.blockedOn=null)}for(;0<So.length&&(_=So[0],_.blockedOn===null);)jv(_),_.blockedOn===null&&So.shift();if(_=(f.ownerDocument||f).$$reactFormReplay,_!=null)for(M=0;M<_.length;M+=3){var Y=_[M],J=_[M+1],le=Y[ge]||null;if(typeof J=="function")le||Iv(_);else if(le){var we=null;if(J&&J.hasAttribute("formAction")){if(Y=J,le=J[ge]||null)we=le.formAction;else if(pg(Y)!==null)continue}else we=le.action;typeof we=="function"?_[M+1]=we:(_.splice(M,3),M-=3),Iv(_)}}}function Ov(){function f(J){J.canIntercept&&J.info==="react-transition"&&J.intercept({handler:function(){return new Promise(function(le){return Y=le})},focusReset:"manual",scroll:"manual"})}function m(){Y!==null&&(Y(),Y=null),M||setTimeout(_,20)}function _(){if(!M&&!navigation.transition){var J=navigation.currentEntry;J&&J.url!=null&&navigation.navigate(J.url,{state:J.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var M=!1,Y=null;return navigation.addEventListener("navigate",f),navigation.addEventListener("navigatesuccess",m),navigation.addEventListener("navigateerror",m),setTimeout(_,100),function(){M=!0,navigation.removeEventListener("navigate",f),navigation.removeEventListener("navigatesuccess",m),navigation.removeEventListener("navigateerror",m),Y!==null&&(Y(),Y=null)}}}function gg(f){this._internalRoot=f}Id.prototype.render=gg.prototype.render=function(f){var m=this._internalRoot;if(m===null)throw Error(n(409));var _=m.current,M=Qs();Ev(_,M,f,m,null,null)},Id.prototype.unmount=gg.prototype.unmount=function(){var f=this._internalRoot;if(f!==null){this._internalRoot=null;var m=f.containerInfo;Ev(f.current,2,null,f,null,null),pd(),m[ye]=null}};function Id(f){this._internalRoot=f}Id.prototype.unstable_scheduleHydration=function(f){if(f){var m=ae();f={blockedOn:null,target:f,priority:m};for(var _=0;_<So.length&&m!==0&&m<So[_].priority;_++);So.splice(_,0,f),_===0&&jv(f)}};var Fv=t.version;if(Fv!=="19.2.3")throw Error(n(527,Fv,"19.2.3"));E.findDOMNode=function(f){var m=f._reactInternals;if(m===void 0)throw typeof f.render=="function"?Error(n(188)):(f=Object.keys(f).join(","),Error(n(268,f)));return f=o(m),f=f!==null?u(f):null,f=f===null?null:f.stateNode,f};var Gk={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:S,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Od=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Od.isDisabled&&Od.supportsFiber)try{Ce=Od.inject(Gk),De=Od}catch{}}return of.createRoot=function(f,m){if(!s(f))throw Error(n(299));var _=!1,M="",Y=Hy,J=$y,le=qy;return m!=null&&(m.unstable_strictMode===!0&&(_=!0),m.identifierPrefix!==void 0&&(M=m.identifierPrefix),m.onUncaughtError!==void 0&&(Y=m.onUncaughtError),m.onCaughtError!==void 0&&(J=m.onCaughtError),m.onRecoverableError!==void 0&&(le=m.onRecoverableError)),m=kv(f,1,!1,null,null,_,M,null,Y,J,le,Ov),f[ye]=m.current,Qm(f),new gg(m)},of.hydrateRoot=function(f,m,_){if(!s(f))throw Error(n(299));var M=!1,Y="",J=Hy,le=$y,we=qy,Le=null;return _!=null&&(_.unstable_strictMode===!0&&(M=!0),_.identifierPrefix!==void 0&&(Y=_.identifierPrefix),_.onUncaughtError!==void 0&&(J=_.onUncaughtError),_.onCaughtError!==void 0&&(le=_.onCaughtError),_.onRecoverableError!==void 0&&(we=_.onRecoverableError),_.formState!==void 0&&(Le=_.formState)),m=kv(f,1,!0,m,_??null,M,Y,Le,J,le,we,Ov),m.context=Tv(null),_=m.current,M=Qs(),M=qe(M),Y=oo(M),Y.callback=null,lo(_,Y,M),_=M,m.current.lanes=_,At(m,_),ei(m),f[ye]=m.current,Qm(f),new Id(m)},of.version="19.2.3",of}var Gv;function tT(){if(Gv)return yg.exports;Gv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),yg.exports=eT(),yg.exports}var rT=tT();/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sT=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,n)=>n?n.toUpperCase():e.toLowerCase()),Wv=r=>{const t=sT(r);return t.charAt(0).toUpperCase()+t.slice(1)},H4=(...r)=>r.filter((t,e,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===e).join(" ").trim(),aT=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var iT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=_e.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:a,...l},c)=>_e.createElement("svg",{ref:c,...iT,width:t,height:t,stroke:r,strokeWidth:n?Number(e)*24/Number(t):e,className:H4("lucide",s),...!i&&!aT(l)&&{"aria-hidden":"true"},...l},[...a.map(([o,u])=>_e.createElement(o,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=(r,t)=>{const e=_e.forwardRef(({className:n,...s},i)=>_e.createElement(oT,{ref:i,iconNode:t,className:H4(`lucide-${nT(Wv(r))}`,`lucide-${r}`,n),...s}));return e.displayName=Wv(r),e};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],cT=Ft("activity",lT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],fT=Ft("arrow-down",uT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],$4=Ft("arrow-left",hT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],pT=Ft("arrow-right",dT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],P1=Ft("arrow-up-down",mT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],bT=Ft("arrow-up",gT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],yT=Ft("banknote",xT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],wT=Ft("building-2",vT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],Nl=Ft("calendar-days",_T);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Qn=Ft("calendar",ST);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=[["path",{d:"M10 2h4",key:"n1abiw"}],["path",{d:"m21 8-2 2-1.5-3.7A2 2 0 0 0 15.646 5H8.4a2 2 0 0 0-1.903 1.257L5 10 3 8",key:"1imjwt"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 14h.01",key:"7oqj8z"}],["rect",{width:"18",height:"8",x:"3",y:"10",rx:"2",key:"a7itu8"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]],Oc=Ft("car-taxi-front",kT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],ci=Ft("car",TT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],AT=Ft("chart-column",ET);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],NT=Ft("chart-no-axes-column",CT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Jd=Ft("check",RT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ra=Ft("chevron-down",MT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],za=Ft("chevron-left",jT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Bs=Ft("chevron-right",DT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],e0=Ft("chevron-up",IT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],FT=Ft("circle-arrow-down",OT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],LT=Ft("circle-check-big",PT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],X0=Ft("circle-check",BT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]],VT=Ft("circle-dollar-sign",UT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],q4=Ft("circle-plus",zT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]],$T=Ft("circle-stop",HT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],GT=Ft("circle-x",qT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],XT=Ft("circle",WT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],G4=Ft("clipboard-list",YT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Fl=Ft("clock",KT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],Xv=Ft("coffee",QT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],JT=Ft("coins",ZT);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],h0=Ft("credit-card",eE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Xg=Ft("crown",tE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],nE=Ft("database",rE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],aE=Ft("dollar-sign",sE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],W4=Ft("download",iE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],lE=Ft("file-down",oE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],X4=Ft("file-text",cE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],Y4=Ft("file-up",uE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],Io=Ft("gauge",fE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],K4=Ft("globe",hE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],L1=Ft("info",dE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]],mE=Ft("layout-list",pE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],kl=Ft("loader-circle",gE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Yg=Ft("lock",bE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Q4=Ft("log-out",xE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Of=Ft("map-pin",yE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=[["path",{d:"M18 8c0 3.613-3.869 7.429-5.393 8.795a1 1 0 0 1-1.214 0C9.87 15.429 6 11.613 6 8a6 6 0 0 1 12 0",key:"11u0oz"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.714 14h-3.71a1 1 0 0 0-.948.683l-2.004 6A1 1 0 0 0 3 22h18a1 1 0 0 0 .948-1.316l-2-6a1 1 0 0 0-.949-.684h-3.712",key:"q8zwxj"}]],Kg=Ft("map-pinned",vE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],_E=Ft("map",wE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],kE=Ft("message-circle",SE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],B1=Ft("message-square",TE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],AE=Ft("monitor",EE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],NE=Ft("navigation",CE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Yv=Ft("pen",RE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Kv=Ft("play",ME);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],DE=Ft("qr-code",jE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],OE=Ft("save",IE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Qv=Ft("search",FE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],U1=Ft("settings",PE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],BE=Ft("shield-alert",LE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],VE=Ft("shield-check",UE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],V1=Ft("shield",zE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],z1=Ft("skull",HE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Qg=Ft("smartphone",$E);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Z4=Ft("sparkles",qE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],WE=Ft("square-check-big",GE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Oo=Ft("target",XE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],KE=Ft("ticket",YE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],ZE=Ft("timer",QE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=[["path",{d:"M8 3.1V7a4 4 0 0 0 8 0V3.1",key:"1v71zp"}],["path",{d:"m9 15-1-1",key:"1yrq24"}],["path",{d:"m15 15 1-1",key:"1t0d6s"}],["path",{d:"M9 19c-2.8 0-5-2.2-5-5v-4a8 8 0 0 1 16 0v4c0 2.8-2.2 5-5 5Z",key:"1p0hjs"}],["path",{d:"m8 19-2 3",key:"13i0xs"}],["path",{d:"m16 19 2 3",key:"xo31yx"}]],e9=Ft("train-front",JE);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t9=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],d0=Ft("trash-2",t9);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r9=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],p0=Ft("trending-up",r9);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n9=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],s9=Ft("triangle-alert",n9);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a9=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],zc=Ft("trophy",a9);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i9=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],o9=Ft("user-check",i9);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l9=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],c9=Ft("user-plus",l9);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u9=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Pl=Ft("user",u9);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Rl=Ft("users",f9);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h9=[["path",{d:"M12 10v2.2l1.6 1",key:"n3r21l"}],["path",{d:"m16.13 7.66-.81-4.05a2 2 0 0 0-2-1.61h-2.68a2 2 0 0 0-2 1.61l-.78 4.05",key:"18k57s"}],["path",{d:"m7.88 16.36.8 4a2 2 0 0 0 2 1.61h2.72a2 2 0 0 0 2-1.61l.81-4.05",key:"16ny36"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}]],d9=Ft("watch",h9);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p9=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],_s=Ft("x",p9);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m9=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],g9=Ft("zap",m9),b9=()=>{};var Zv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4=function(r){const t=[];let e=0;for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);s<128?t[e++]=s:s<2048?(t[e++]=s>>6|192,t[e++]=s&63|128):(s&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(r.charCodeAt(++n)&1023),t[e++]=s>>18|240,t[e++]=s>>12&63|128,t[e++]=s>>6&63|128,t[e++]=s&63|128):(t[e++]=s>>12|224,t[e++]=s>>6&63|128,t[e++]=s&63|128)}return t},x9=function(r){const t=[];let e=0,n=0;for(;e<r.length;){const s=r[e++];if(s<128)t[n++]=String.fromCharCode(s);else if(s>191&&s<224){const i=r[e++];t[n++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=r[e++],a=r[e++],l=r[e++],c=((s&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;t[n++]=String.fromCharCode(55296+(c>>10)),t[n++]=String.fromCharCode(56320+(c&1023))}else{const i=r[e++],a=r[e++];t[n++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return t.join("")},e3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<r.length;s+=3){const i=r[s],a=s+1<r.length,l=a?r[s+1]:0,c=s+2<r.length,o=c?r[s+2]:0,u=i>>2,p=(i&3)<<4|l>>4;let h=(l&15)<<2|o>>6,d=o&63;c||(d=64,a||(h=64)),n.push(e[u],e[p],e[h],e[d])}return n.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(J4(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):x9(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<r.length;){const i=e[r.charAt(s++)],l=s<r.length?e[r.charAt(s)]:0;++s;const o=s<r.length?e[r.charAt(s)]:64;++s;const p=s<r.length?e[r.charAt(s)]:64;if(++s,i==null||l==null||o==null||p==null)throw new y9;const h=i<<2|l>>4;if(n.push(h),o!==64){const d=l<<4&240|o>>2;if(n.push(d),p!==64){const b=o<<6&192|p;n.push(b)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class y9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const v9=function(r){const t=J4(r);return e3.encodeByteArray(t,!0)},m0=function(r){return v9(r).replace(/\./g,"")},t3=function(r){try{return e3.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _9=()=>w9().__FIREBASE_DEFAULTS__,S9=()=>{if(typeof process>"u"||typeof Zv>"u")return;const r=Zv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},k9=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&t3(r[1]);return t&&JSON.parse(t)},Y0=()=>{try{return b9()||_9()||S9()||k9()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},r3=r=>{var t,e;return(e=(t=Y0())==null?void 0:t.emulatorHosts)==null?void 0:e[r]},T9=r=>{const t=r3(r);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),n]:[t.substring(0,e),n]},n3=()=>{var r;return(r=Y0())==null?void 0:r.config},s3=r=>{var t;return(t=Y0())==null?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function a3(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A9(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},n=t||"demo-project",s=r.iat||0,i=r.sub||r.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${n}`,aud:n,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...r};return[m0(JSON.stringify(e)),m0(JSON.stringify(a)),""].join(".")}const xf={};function C9(){const r={prod:[],emulator:[]};for(const t of Object.keys(xf))xf[t]?r.emulator.push(t):r.prod.push(t);return r}function N9(r){let t=document.getElementById(r),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),e=!0),{created:e,element:t}}let Jv=!1;function i3(r,t){if(typeof window>"u"||typeof document>"u"||!iu(window.location.host)||xf[r]===t||xf[r]||Jv)return;xf[r]=t;function e(h){return`__firebase__banner__${h}`}const n="__firebase__banner",i=C9().prod.length>0;function a(){const h=document.getElementById(n);h&&h.remove()}function l(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function c(h,d){h.setAttribute("width","24"),h.setAttribute("id",d),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function o(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{Jv=!0,a()},h}function u(h,d){h.setAttribute("id",d),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function p(){const h=N9(n),d=e("text"),b=document.getElementById(d)||document.createElement("span"),x=e("learnmore"),g=document.getElementById(x)||document.createElement("a"),v=e("preprendIcon"),y=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const k=h.element;l(k),u(g,x);const R=o();c(y,v),k.append(y,b,g,R),document.body.appendChild(k)}i?(b.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",d)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function R9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hs())}function M9(){var t;const r=(t=Y0())==null?void 0:t.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function j9(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function D9(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function I9(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function O9(){const r=hs();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function F9(){return!M9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function P9(){try{return typeof indexedDB=="object"}catch{return!1}}function L9(){return new Promise((r,t)=>{try{let e=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),e||self.indexedDB.deleteDatabase(n),r(!0)},s.onupgradeneeded=()=>{e=!1},s.onerror=()=>{var i;t(((i=s.error)==null?void 0:i.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B9="FirebaseError";class Xi extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name=B9,Object.setPrototypeOf(this,Xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nh.prototype.create)}}class nh{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){const n=e[0]||{},s=`${this.service}/${t}`,i=this.errors[t],a=i?U9(i,n):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new Xi(s,l,n)}}function U9(r,t){return r.replace(V9,(e,n)=>{const s=t[n];return s!=null?String(s):`<${n}?>`})}const V9=/\{\$([^}]+)}/g;function z9(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Ll(r,t){if(r===t)return!0;const e=Object.keys(r),n=Object.keys(t);for(const s of e){if(!n.includes(s))return!1;const i=r[s],a=t[s];if(ew(i)&&ew(a)){if(!Ll(i,a))return!1}else if(i!==a)return!1}for(const s of n)if(!e.includes(s))return!1;return!0}function ew(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(r){const t=[];for(const[e,n]of Object.entries(r))Array.isArray(n)?n.forEach(s=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function H9(r,t){const e=new $9(r,t);return e.subscribe.bind(e)}class $9{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(n=>{this.error(n)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,n){let s;if(t===void 0&&e===void 0&&n===void 0)throw new Error("Missing Observer.");q9(t,["next","error","complete"])?s=t:s={next:t,error:e,complete:n},s.next===void 0&&(s.next=Sg),s.error===void 0&&(s.error=Sg),s.complete===void 0&&(s.complete=Sg);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function q9(r,t){if(typeof r!="object"||r===null)return!1;for(const e of t)if(e in r&&typeof r[e]=="function")return!0;return!1}function Sg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(r){return r&&r._delegate?r._delegate:r}class Bl{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _l="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const n=new E9;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:e});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),n=(t==null?void 0:t.optional)??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(s){if(n)return null;throw s}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(X9(t))try{this.getOrInitializeService({instanceIdentifier:_l})}catch{}for(const[e,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(e);try{const i=this.getOrInitializeService({instanceIdentifier:s});n.resolve(i)}catch{}}}}clearInstance(t=_l){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=_l){return this.instances.has(t)}getOptions(t=_l){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);n===l&&a.resolve(s)}return s}onInit(t,e){const n=this.normalizeInstanceIdentifier(e),s=this.onInitCallbacks.get(n)??new Set;s.add(t),this.onInitCallbacks.set(n,s);const i=this.instances.get(n);return i&&t(i,n),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const s of n)try{s(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:W9(t),options:e}),this.instances.set(t,n),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=_l){return this.component?this.component.multipleInstances?t:_l:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function W9(r){return r===_l?void 0:r}function X9(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new G9(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _r;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(_r||(_r={}));const K9={debug:_r.DEBUG,verbose:_r.VERBOSE,info:_r.INFO,warn:_r.WARN,error:_r.ERROR,silent:_r.SILENT},Q9=_r.INFO,Z9={[_r.DEBUG]:"log",[_r.VERBOSE]:"log",[_r.INFO]:"info",[_r.WARN]:"warn",[_r.ERROR]:"error"},J9=(r,t,...e)=>{if(t<r.logLevel)return;const n=new Date().toISOString(),s=Z9[t];if(s)console[s](`[${n}]  ${r.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class H1{constructor(t){this.name=t,this._logLevel=Q9,this._logHandler=J9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in _r))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?K9[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,_r.DEBUG,...t),this._logHandler(this,_r.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,_r.VERBOSE,...t),this._logHandler(this,_r.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,_r.INFO,...t),this._logHandler(this,_r.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,_r.WARN,...t),this._logHandler(this,_r.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,_r.ERROR,...t),this._logHandler(this,_r.ERROR,...t)}}const e7=(r,t)=>t.some(e=>r instanceof e);let tw,rw;function t7(){return tw||(tw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function r7(){return rw||(rw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const o3=new WeakMap,Zg=new WeakMap,l3=new WeakMap,kg=new WeakMap,$1=new WeakMap;function n7(r){const t=new Promise((e,n)=>{const s=()=>{r.removeEventListener("success",i),r.removeEventListener("error",a)},i=()=>{e(Fo(r.result)),s()},a=()=>{n(r.error),s()};r.addEventListener("success",i),r.addEventListener("error",a)});return t.then(e=>{e instanceof IDBCursor&&o3.set(e,r)}).catch(()=>{}),$1.set(t,r),t}function s7(r){if(Zg.has(r))return;const t=new Promise((e,n)=>{const s=()=>{r.removeEventListener("complete",i),r.removeEventListener("error",a),r.removeEventListener("abort",a)},i=()=>{e(),s()},a=()=>{n(r.error||new DOMException("AbortError","AbortError")),s()};r.addEventListener("complete",i),r.addEventListener("error",a),r.addEventListener("abort",a)});Zg.set(r,t)}let Jg={get(r,t,e){if(r instanceof IDBTransaction){if(t==="done")return Zg.get(r);if(t==="objectStoreNames")return r.objectStoreNames||l3.get(r);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Fo(r[t])},set(r,t,e){return r[t]=e,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function a7(r){Jg=r(Jg)}function i7(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const n=r.call(Tg(this),t,...e);return l3.set(n,t.sort?t.sort():[t]),Fo(n)}:r7().includes(r)?function(...t){return r.apply(Tg(this),t),Fo(o3.get(this))}:function(...t){return Fo(r.apply(Tg(this),t))}}function o7(r){return typeof r=="function"?i7(r):(r instanceof IDBTransaction&&s7(r),e7(r,t7())?new Proxy(r,Jg):r)}function Fo(r){if(r instanceof IDBRequest)return n7(r);if(kg.has(r))return kg.get(r);const t=o7(r);return t!==r&&(kg.set(r,t),$1.set(t,r)),t}const Tg=r=>$1.get(r);function l7(r,t,{blocked:e,upgrade:n,blocking:s,terminated:i}={}){const a=indexedDB.open(r,t),l=Fo(a);return n&&a.addEventListener("upgradeneeded",c=>{n(Fo(a.result),c.oldVersion,c.newVersion,Fo(a.transaction),c)}),e&&a.addEventListener("blocked",c=>e(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",o=>s(o.oldVersion,o.newVersion,o))}).catch(()=>{}),l}const c7=["get","getKey","getAll","getAllKeys","count"],u7=["put","add","delete","clear"],Eg=new Map;function nw(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Eg.get(t))return Eg.get(t);const e=t.replace(/FromIndex$/,""),n=t!==e,s=u7.includes(e);if(!(e in(n?IDBIndex:IDBObjectStore).prototype)||!(s||c7.includes(e)))return;const i=async function(a,...l){const c=this.transaction(a,s?"readwrite":"readonly");let o=c.store;return n&&(o=o.index(l.shift())),(await Promise.all([o[e](...l),s&&c.done]))[0]};return Eg.set(t,i),i}a7(r=>({...r,get:(t,e,n)=>nw(t,e)||r.get(t,e,n),has:(t,e)=>!!nw(t,e)||r.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f7{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(h7(e)){const n=e.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(e=>e).join(" ")}}function h7(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const e1="@firebase/app",sw="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new H1("@firebase/app"),d7="@firebase/app-compat",p7="@firebase/analytics-compat",m7="@firebase/analytics",g7="@firebase/app-check-compat",b7="@firebase/app-check",x7="@firebase/auth",y7="@firebase/auth-compat",v7="@firebase/database",w7="@firebase/data-connect",_7="@firebase/database-compat",S7="@firebase/functions",k7="@firebase/functions-compat",T7="@firebase/installations",E7="@firebase/installations-compat",A7="@firebase/messaging",C7="@firebase/messaging-compat",N7="@firebase/performance",R7="@firebase/performance-compat",M7="@firebase/remote-config",j7="@firebase/remote-config-compat",D7="@firebase/storage",I7="@firebase/storage-compat",O7="@firebase/firestore",F7="@firebase/ai",P7="@firebase/firestore-compat",L7="firebase",B7="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1="[DEFAULT]",U7={[e1]:"fire-core",[d7]:"fire-core-compat",[m7]:"fire-analytics",[p7]:"fire-analytics-compat",[b7]:"fire-app-check",[g7]:"fire-app-check-compat",[x7]:"fire-auth",[y7]:"fire-auth-compat",[v7]:"fire-rtdb",[w7]:"fire-data-connect",[_7]:"fire-rtdb-compat",[S7]:"fire-fn",[k7]:"fire-fn-compat",[T7]:"fire-iid",[E7]:"fire-iid-compat",[A7]:"fire-fcm",[C7]:"fire-fcm-compat",[N7]:"fire-perf",[R7]:"fire-perf-compat",[M7]:"fire-rc",[j7]:"fire-rc-compat",[D7]:"fire-gcs",[I7]:"fire-gcs-compat",[O7]:"fire-fst",[P7]:"fire-fst-compat",[F7]:"fire-vertex","fire-js":"fire-js",[L7]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0=new Map,V7=new Map,r1=new Map;function aw(r,t){try{r.container.addComponent(t)}catch(e){Vi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,e)}}function Kc(r){const t=r.name;if(r1.has(t))return Vi.debug(`There were multiple attempts to register component ${t}.`),!1;r1.set(t,r);for(const e of g0.values())aw(e,r);for(const e of V7.values())aw(e,r);return!0}function q1(r,t){const e=r.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),r.container.getProvider(t)}function xa(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z7={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Po=new nh("app","Firebase",z7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H7{constructor(t,e,n){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Bl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Po.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ou=B7;function c3(r,t={}){let e=r;typeof t!="object"&&(t={name:t});const n={name:t1,automaticDataCollectionEnabled:!0,...t},s=n.name;if(typeof s!="string"||!s)throw Po.create("bad-app-name",{appName:String(s)});if(e||(e=n3()),!e)throw Po.create("no-options");const i=g0.get(s);if(i){if(Ll(e,i.options)&&Ll(n,i.config))return i;throw Po.create("duplicate-app",{appName:s})}const a=new Y9(s);for(const c of r1.values())a.addComponent(c);const l=new H7(e,n,a);return g0.set(s,l),l}function u3(r=t1){const t=g0.get(r);if(!t&&r===t1&&n3())return c3();if(!t)throw Po.create("no-app",{appName:r});return t}function Lo(r,t,e){let n=U7[r]??r;e&&(n+=`-${e}`);const s=n.match(/\s|\//),i=t.match(/\s|\//);if(s||i){const a=[`Unable to register library "${n}" with version "${t}":`];s&&a.push(`library name "${n}" contains illegal characters (whitespace or "/")`),s&&i&&a.push("and"),i&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Vi.warn(a.join(" "));return}Kc(new Bl(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $7="firebase-heartbeat-database",q7=1,Ff="firebase-heartbeat-store";let Ag=null;function f3(){return Ag||(Ag=l7($7,q7,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Ff)}catch(e){console.warn(e)}}}}).catch(r=>{throw Po.create("idb-open",{originalErrorMessage:r.message})})),Ag}async function G7(r){try{const e=(await f3()).transaction(Ff),n=await e.objectStore(Ff).get(h3(r));return await e.done,n}catch(t){if(t instanceof Xi)Vi.warn(t.message);else{const e=Po.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Vi.warn(e.message)}}}async function iw(r,t){try{const n=(await f3()).transaction(Ff,"readwrite");await n.objectStore(Ff).put(t,h3(r)),await n.done}catch(e){if(e instanceof Xi)Vi.warn(e.message);else{const n=Po.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});Vi.warn(n.message)}}}function h3(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W7=1024,X7=30;class Y7{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new Q7(e),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,e;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=ow();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>X7){const a=Z7(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Vi.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ow(),{heartbeatsToSend:n,unsentEntries:s}=K7(this._heartbeatsCache.heartbeats),i=m0(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Vi.warn(e),""}}}function ow(){return new Date().toISOString().substring(0,10)}function K7(r,t=W7){const e=[];let n=r.slice();for(const s of r){const i=e.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),lw(e)>t){i.dates.pop();break}}else if(e.push({agent:s.agent,dates:[s.date]}),lw(e)>t){e.pop();break}n=n.slice(1)}return{heartbeatsToSend:e,unsentEntries:n}}class Q7{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return P9()?L9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await G7(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return iw(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return iw(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}else return}}function lw(r){return m0(JSON.stringify({version:2,heartbeats:r})).length}function Z7(r){if(r.length===0)return-1;let t=0,e=r[0].date;for(let n=1;n<r.length;n++)r[n].date<e&&(e=r[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J7(r){Kc(new Bl("platform-logger",t=>new f7(t),"PRIVATE")),Kc(new Bl("heartbeat",t=>new Y7(t),"PRIVATE")),Lo(e1,sw,r),Lo(e1,sw,"esm2020"),Lo("fire-js","")}J7("");function d3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eA=d3,p3=new nh("auth","Firebase",d3());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0=new H1("@firebase/auth");function tA(r,...t){b0.logLevel<=_r.WARN&&b0.warn(`Auth (${ou}): ${r}`,...t)}function t0(r,...t){b0.logLevel<=_r.ERROR&&b0.error(`Auth (${ou}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(r,...t){throw W1(r,...t)}function Ua(r,...t){return W1(r,...t)}function G1(r,t,e){const n={...eA(),[t]:e};return new nh("auth","Firebase",n).create(t,{appName:r.name})}function Bo(r){return G1(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function m3(r,t,e){const n=e;if(!(t instanceof n))throw n.name!==t.constructor.name&&ui(r,"argument-error"),G1(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function W1(r,...t){if(typeof r!="string"){const e=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(e,...n)}return p3.create(r,...t)}function er(r,t,...e){if(!r)throw W1(t,...e)}function Oi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw t0(t),new Error(t)}function zi(r,t){r||Oi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function rA(){return cw()==="http:"||cw()==="https:"}function cw(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rA()||D9()||"connection"in navigator)?navigator.onLine:!0}function sA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(t,e){this.shortDelay=t,this.longDelay=e,zi(e>t,"Short delay should be less than long delay!"),this.isMobile=R9()||I9()}get(){return nA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(r,t){zi(r.emulator,"Emulator should always be set here");const{url:e}=r.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],oA=new ah(3e4,6e4);function Y1(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function lu(r,t,e,n,s={}){return b3(r,s,async()=>{let i={},a={};n&&(t==="GET"?a=n:i={body:JSON.stringify(n)});const l=sh({key:r.config.apiKey,...a}).slice(1),c=await r._getAdditionalHeaders();c["Content-Type"]="application/json",r.languageCode&&(c["X-Firebase-Locale"]=r.languageCode);const o={method:t,headers:c,...i};return j9()||(o.referrerPolicy="no-referrer"),r.emulatorConfig&&iu(r.emulatorConfig.host)&&(o.credentials="include"),g3.fetch()(await x3(r,r.config.apiHost,e,l),o)})}async function b3(r,t,e){r._canInitEmulator=!1;const n={...aA,...t};try{const s=new cA(r),i=await Promise.race([e(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw Fd(r,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const l=i.ok?a.errorMessage:a.error.message,[c,o]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fd(r,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw Fd(r,"email-already-in-use",a);if(c==="USER_DISABLED")throw Fd(r,"user-disabled",a);const u=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw G1(r,u,o);ui(r,u)}}catch(s){if(s instanceof Xi)throw s;ui(r,"network-request-failed",{message:String(s)})}}async function lA(r,t,e,n,s={}){const i=await lu(r,t,e,n,s);return"mfaPendingCredential"in i&&ui(r,"multi-factor-auth-required",{_serverResponse:i}),i}async function x3(r,t,e,n){const s=`${t}${e}?${n}`,i=r,a=i.config.emulator?X1(r.config,s):`${r.config.apiScheme}://${s}`;return iA.includes(e)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(a).toString():a}class cA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,n)=>{this.timer=setTimeout(()=>n(Ua(this.auth,"network-request-failed")),oA.get())})}}function Fd(r,t,e){const n={appName:r.name};e.email&&(n.email=e.email),e.phoneNumber&&(n.phoneNumber=e.phoneNumber);const s=Ua(r,t,n);return s.customData._tokenResponse=e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uA(r,t){return lu(r,"POST","/v1/accounts:delete",t)}async function x0(r,t){return lu(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function fA(r,t=!1){const e=jn(r),n=await e.getIdToken(t),s=K1(n);er(s&&s.exp&&s.auth_time&&s.iat,e.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:n,authTime:yf(Cg(s.auth_time)),issuedAtTime:yf(Cg(s.iat)),expirationTime:yf(Cg(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Cg(r){return Number(r)*1e3}function K1(r){const[t,e,n]=r.split(".");if(t===void 0||e===void 0||n===void 0)return t0("JWT malformed, contained fewer than 3 sections"),null;try{const s=t3(e);return s?JSON.parse(s):(t0("Failed to decode base64 JWT payload"),null)}catch(s){return t0("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function uw(r){const t=K1(r);return er(t,"internal-error"),er(typeof t.exp<"u","internal-error"),er(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pf(r,t,e=!1){if(e)return t;try{return await t}catch(n){throw n instanceof Xi&&hA(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function hA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=yf(this.lastLoginAt),this.creationTime=yf(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y0(r){var p;const t=r.auth,e=await r.getIdToken(),n=await Pf(r,x0(t,{idToken:e}));er(n==null?void 0:n.users.length,t,"internal-error");const s=n.users[0];r._notifyReloadListener(s);const i=(p=s.providerUserInfo)!=null&&p.length?y3(s.providerUserInfo):[],a=mA(r.providerData,i),l=r.isAnonymous,c=!(r.email&&s.passwordHash)&&!(a!=null&&a.length),o=l?c:!1,u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new s1(s.createdAt,s.lastLoginAt),isAnonymous:o};Object.assign(r,u)}async function pA(r){const t=jn(r);await y0(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function mA(r,t){return[...r.filter(n=>!t.some(s=>s.providerId===n.providerId)),...t]}function y3(r){return r.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gA(r,t){const e=await b3(r,{},async()=>{const n=sh({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:i}=r.config,a=await x3(r,s,"/v1/token",`key=${i}`),l=await r._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:n};return r.emulatorConfig&&iu(r.emulatorConfig.host)&&(c.credentials="include"),g3.fetch()(a,c)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function bA(r,t){return lu(r,"POST","/v2/accounts:revokeToken",Y1(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){er(t.idToken,"internal-error"),er(typeof t.idToken<"u","internal-error"),er(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):uw(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){er(t.length!==0,"internal-error");const e=uw(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(er(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:n,refreshToken:s,expiresIn:i}=await gA(t,e);this.updateTokensAndExpiration(n,s,Number(i))}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,e){const{refreshToken:n,accessToken:s,expirationTime:i}=e,a=new Hc;return n&&(er(typeof n=="string","internal-error",{appName:t}),a.refreshToken=n),s&&(er(typeof s=="string","internal-error",{appName:t}),a.accessToken=s),i&&(er(typeof i=="number","internal-error",{appName:t}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Hc,this.toJSON())}_performRefresh(){return Oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(r,t){er(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Pa{constructor({uid:t,auth:e,stsTokenManager:n,...s}){this.providerId="firebase",this.proactiveRefresh=new dA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new s1(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const e=await Pf(this,this.stsTokenManager.getToken(this.auth,t));return er(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return fA(this,t)}reload(){return pA(this)}_assign(t){this!==t&&(er(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Pa({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){er(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),e&&await y0(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xa(this.auth.app))return Promise.reject(Bo(this.auth));const t=await this.getIdToken();return await Pf(this,uA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const n=e.displayName??void 0,s=e.email??void 0,i=e.phoneNumber??void 0,a=e.photoURL??void 0,l=e.tenantId??void 0,c=e._redirectEventId??void 0,o=e.createdAt??void 0,u=e.lastLoginAt??void 0,{uid:p,emailVerified:h,isAnonymous:d,providerData:b,stsTokenManager:x}=e;er(p&&x,t,"internal-error");const g=Hc.fromJSON(this.name,x);er(typeof p=="string",t,"internal-error"),To(n,t.name),To(s,t.name),er(typeof h=="boolean",t,"internal-error"),er(typeof d=="boolean",t,"internal-error"),To(i,t.name),To(a,t.name),To(l,t.name),To(c,t.name),To(o,t.name),To(u,t.name);const v=new Pa({uid:p,auth:t,email:s,emailVerified:h,displayName:n,isAnonymous:d,photoURL:a,phoneNumber:i,tenantId:l,stsTokenManager:g,createdAt:o,lastLoginAt:u});return b&&Array.isArray(b)&&(v.providerData=b.map(y=>({...y}))),c&&(v._redirectEventId=c),v}static async _fromIdTokenResponse(t,e,n=!1){const s=new Hc;s.updateFromServerResponse(e);const i=new Pa({uid:e.localId,auth:t,stsTokenManager:s,isAnonymous:n});return await y0(i),i}static async _fromGetAccountInfoResponse(t,e,n){const s=e.users[0];er(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?y3(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new Hc;l.updateFromIdToken(n);const c=new Pa({uid:s.localId,auth:t,stsTokenManager:l,isAnonymous:a}),o={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new s1(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,o),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw=new Map;function Fi(r){zi(r instanceof Function,"Expected a class definition");let t=fw.get(r);return t?(zi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,fw.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}v3.type="NONE";const hw=v3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(r,t,e){return`firebase:${r}:${t}:${e}`}class $c{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;const{config:s,name:i}=this.auth;this.fullUserKey=r0(this.userKey,s.apiKey,i),this.fullPersistenceKey=r0("persistence",s.apiKey,i),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await x0(this.auth,{idToken:t}).catch(()=>{});return e?Pa._fromGetAccountInfoResponse(this.auth,e,t):null}return Pa._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,n="authUser"){if(!e.length)return new $c(Fi(hw),t,n);const s=(await Promise.all(e.map(async o=>{if(await o._isAvailable())return o}))).filter(o=>o);let i=s[0]||Fi(hw);const a=r0(n,t.config.apiKey,t.name);let l=null;for(const o of e)try{const u=await o._get(a);if(u){let p;if(typeof u=="string"){const h=await x0(t,{idToken:u}).catch(()=>{});if(!h)break;p=await Pa._fromGetAccountInfoResponse(t,h,u)}else p=Pa._fromJSON(t,u);o!==i&&(l=p),i=o;break}}catch{}const c=s.filter(o=>o._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new $c(i,t,n):(i=c[0],l&&await i._set(a,l.toJSON()),await Promise.all(e.map(async o=>{if(o!==i)try{await o._remove(a)}catch{}})),new $c(i,t,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(k3(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(w3(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(E3(t))return"Blackberry";if(A3(t))return"Webos";if(_3(t))return"Safari";if((t.includes("chrome/")||S3(t))&&!t.includes("edge/"))return"Chrome";if(T3(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(e);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function w3(r=hs()){return/firefox\//i.test(r)}function _3(r=hs()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function S3(r=hs()){return/crios\//i.test(r)}function k3(r=hs()){return/iemobile/i.test(r)}function T3(r=hs()){return/android/i.test(r)}function E3(r=hs()){return/blackberry/i.test(r)}function A3(r=hs()){return/webos/i.test(r)}function Q1(r=hs()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function xA(r=hs()){var t;return Q1(r)&&!!((t=window.navigator)!=null&&t.standalone)}function yA(){return O9()&&document.documentMode===10}function C3(r=hs()){return Q1(r)||T3(r)||A3(r)||E3(r)||/windows phone/i.test(r)||k3(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N3(r,t=[]){let e;switch(r){case"Browser":e=dw(hs());break;case"Worker":e=`${dw(hs())}-${r}`;break;default:e=r}const n=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${ou}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const n=i=>new Promise((a,l)=>{try{const c=t(i);a(c)}catch(c){l(c)}});n.onAbort=e,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const n of this.queue)await n(t),n.onAbort&&e.push(n.onAbort)}catch(n){e.reverse();for(const s of e)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wA(r,t={}){return lu(r,"GET","/v2/passwordPolicy",Y1(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A=6;class SA{constructor(t){var n;const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??_A,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=t.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const n=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;n&&(e.meetsMinPasswordLength=t.length>=n),s&&(e.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let n;for(let s=0;s<t.length;s++)n=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(e,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,e,n,s,i){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(t,e,n,s){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pw(this),this.idTokenSubscription=new pw(this),this.beforeStateQueue=new vA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=p3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Fi(e)),this._initializationPromise=this.queue(async()=>{var n,s,i;if(!this._deleted&&(this.persistenceManager=await $c.create(this,t),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await x0(this,{idToken:t}),n=await Pa._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(n)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var i;if(xa(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let n=e,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(i=this.redirectUser)==null?void 0:i._redirectEventId,l=n==null?void 0:n._redirectEventId,c=await this.tryRedirectSignIn(t);(!a||a===l)&&(c!=null&&c.user)&&(n=c.user,s=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(n)}catch(a){n=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return er(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await y0(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=sA()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(xa(this.app))return Promise.reject(Bo(this));const e=t?jn(t):null;return e&&er(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&er(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return xa(this.app)?Promise.reject(Bo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return xa(this.app)?Promise.reject(Bo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await wA(this),e=new SA(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new nh("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged(()=>{n(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(n.tenantId=this.tenantId),await bA(this,n)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,e){const n=await this.getOrInitRedirectPersistenceManager(e);return t===null?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Fi(t)||this._popupRedirectResolver;er(e,this,"argument-error"),this.redirectPersistenceManager=await $c.create(this,[Fi(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,n;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)==null?void 0:e._redirectEventId)===t?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((e=this.currentUser)==null?void 0:e.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,s){if(this._deleted)return()=>{};const i=typeof e=="function"?e:e.next.bind(e);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(er(l,this,"internal-error"),l.then(()=>{a||i(this.currentUser)}),typeof e=="function"){const c=t.addObserver(e,n,s);return()=>{a=!0,c()}}else{const c=t.addObserver(e);return()=>{a=!0,c()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return er(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=N3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());e&&(t["X-Firebase-Client"]=e);const n=await this._getAppCheckToken();return n&&(t["X-Firebase-AppCheck"]=n),t}async _getAppCheckToken(){var e;if(xa(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:e.getToken());return t!=null&&t.error&&tA(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function cu(r){return jn(r)}class pw{constructor(t){this.auth=t,this.observer=null,this.addObserver=H9(e=>this.observer=e)}get next(){return er(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Z1={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TA(r){Z1=r}function EA(r){return Z1.loadJS(r)}function AA(){return Z1.gapiScript}function CA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(r,t){const e=q1(r,"auth");if(e.isInitialized()){const s=e.getImmediate(),i=e.getOptions();if(Ll(i,t??{}))return s;ui(s,"already-initialized")}return e.initialize({options:t})}function RA(r,t){const e=(t==null?void 0:t.persistence)||[],n=(Array.isArray(e)?e:[e]).map(Fi);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(n,t==null?void 0:t.popupRedirectResolver)}function MA(r,t,e){const n=cu(r);er(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const s=!1,i=R3(t),{host:a,port:l}=jA(t),c=l===null?"":`:${l}`,o={url:`${i}//${a}${c}/`},u=Object.freeze({host:a,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!n._canInitEmulator){er(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),er(Ll(o,n.config.emulator)&&Ll(u,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=o,n.emulatorConfig=u,n.settings.appVerificationDisabledForTesting=!0,iu(a)?(a3(`${i}//${a}${c}`),i3("Auth",!0)):DA()}function R3(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function jA(r){const t=R3(r),e=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!e)return{host:"",port:null};const n=e[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(n);if(s){const i=s[1];return{host:i,port:mw(n.substr(i.length+1))}}else{const[i,a]=n.split(":");return{host:i,port:mw(a)}}}function mw(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function DA(){function r(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Oi("not implemented")}_getIdTokenResponse(t){return Oi("not implemented")}_linkToIdToken(t,e){return Oi("not implemented")}_getReauthenticationResolver(t){return Oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qc(r,t){return lA(r,"POST","/v1/accounts:signInWithIdp",Y1(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA="http://localhost";class Ul extends M3{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Ul(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):ui("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:n,signInMethod:s,...i}=e;if(!n||!s)return null;const a=new Ul(n,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(t){const e=this.buildRequest();return qc(t,e)}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,qc(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,qc(t,e)}buildRequest(){const t={requestUri:IA,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=sh(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih extends K0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao extends ih{constructor(){super("facebook.com")}static credential(t){return Ul._fromParams({providerId:Ao.PROVIDER_ID,signInMethod:Ao.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ao.credentialFromTaggedObject(t)}static credentialFromError(t){return Ao.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ao.credential(t.oauthAccessToken)}catch{return null}}}Ao.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ao.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends ih{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Ul._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Ii.credentialFromTaggedObject(t)}static credentialFromError(t){return Ii.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:n}=t;if(!e&&!n)return null;try{return Ii.credential(e,n)}catch{return null}}}Ii.GOOGLE_SIGN_IN_METHOD="google.com";Ii.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co extends ih{constructor(){super("github.com")}static credential(t){return Ul._fromParams({providerId:Co.PROVIDER_ID,signInMethod:Co.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Co.credentialFromTaggedObject(t)}static credentialFromError(t){return Co.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Co.credential(t.oauthAccessToken)}catch{return null}}}Co.GITHUB_SIGN_IN_METHOD="github.com";Co.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No extends ih{constructor(){super("twitter.com")}static credential(t,e){return Ul._fromParams({providerId:No.PROVIDER_ID,signInMethod:No.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return No.credentialFromTaggedObject(t)}static credentialFromError(t){return No.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:n}=t;if(!e||!n)return null;try{return No.credential(e,n)}catch{return null}}}No.TWITTER_SIGN_IN_METHOD="twitter.com";No.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,n,s=!1){const i=await Pa._fromIdTokenResponse(t,n,s),a=gw(n);return new Qc({user:i,providerId:a,_tokenResponse:n,operationType:e})}static async _forOperation(t,e,n){await t._updateTokensIfNecessary(n,!0);const s=gw(n);return new Qc({user:t,providerId:s,_tokenResponse:n,operationType:e})}}function gw(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0 extends Xi{constructor(t,e,n,s){super(e.code,e.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,v0.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,e,n,s){return new v0(t,e,n,s)}}function j3(r,t,e,n){return(t==="reauthenticate"?e._getReauthenticationResolver(r):e._getIdTokenResponse(r)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?v0._fromErrorAndOperation(r,i,t,n):i})}async function OA(r,t,e=!1){const n=await Pf(r,t._linkToIdToken(r.auth,await r.getIdToken()),e);return Qc._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FA(r,t,e=!1){const{auth:n}=r;if(xa(n.app))return Promise.reject(Bo(n));const s="reauthenticate";try{const i=await Pf(r,j3(n,s,t,r),e);er(i.idToken,n,"internal-error");const a=K1(i.idToken);er(a,n,"internal-error");const{sub:l}=a;return er(r.uid===l,n,"user-mismatch"),Qc._forOperation(r,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&ui(n,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PA(r,t,e=!1){if(xa(r.app))return Promise.reject(Bo(r));const n="signIn",s=await j3(r,n,t),i=await Qc._fromIdTokenResponse(r,n,s);return e||await r._updateCurrentUser(i.user),i}function LA(r,t,e,n){return jn(r).onIdTokenChanged(t,e,n)}function BA(r,t,e){return jn(r).beforeAuthStateChanged(t,e)}function D3(r,t,e,n){return jn(r).onAuthStateChanged(t,e,n)}function UA(r){return jn(r).signOut()}const w0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(w0,"1"),this.storage.removeItem(w0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA=1e3,zA=10;class O3 extends I3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=C3(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const n=this.storage.getItem(e),s=this.localCache[e];n!==s&&t(e,s,n)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const n=t.key;e?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(n);!e&&this.localCache[n]===a||this.notifyListeners(n,a)},i=this.storage.getItem(n);yA()&&i!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,zA):s()}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const s of Array.from(n))s(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:n}),!0)})},VA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}O3.type="LOCAL";const HA=O3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3 extends I3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}F3.type="SESSION";const P3=F3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(s=>s.isListeningto(t));if(e)return e;const n=new Q0(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:n,eventType:s,data:i}=e.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;e.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const l=Array.from(a).map(async o=>o(e.origin,i)),c=await $A(l);e.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:c})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Q0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(r="",t=10){let e="";for(let n=0;n<t;n++)e+=Math.floor(Math.random()*10);return r+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,n=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((l,c)=>{const o=J1("",20);s.port1.start();const u=setTimeout(()=>{c(new Error("unsupported_event"))},n);a={messageChannel:s,onMessage(p){const h=p;if(h.data.eventId===o)switch(h.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(h.data.response);break;default:clearTimeout(u),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:o,data:e},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(){return window}function GA(r){si().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L3(){return typeof si().WorkerGlobalScope<"u"&&typeof si().importScripts=="function"}async function WA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function XA(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function YA(){return L3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3="firebaseLocalStorageDb",KA=1,_0="firebaseLocalStorage",U3="fbase_key";class oh{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Z0(r,t){return r.transaction([_0],t?"readwrite":"readonly").objectStore(_0)}function QA(){const r=indexedDB.deleteDatabase(B3);return new oh(r).toPromise()}function a1(){const r=indexedDB.open(B3,KA);return new Promise((t,e)=>{r.addEventListener("error",()=>{e(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(_0,{keyPath:U3})}catch(s){e(s)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(_0)?t(n):(n.close(),await QA(),t(await a1()))})})}async function bw(r,t,e){const n=Z0(r,!0).put({[U3]:t,value:e});return new oh(n).toPromise()}async function ZA(r,t){const e=Z0(r,!1).get(t),n=await new oh(e).toPromise();return n===void 0?null:n.value}function xw(r,t){const e=Z0(r,!0).delete(t);return new oh(e).toPromise()}const JA=800,eC=3;class V3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await a1(),this.db)}async _withRetries(t){let e=0;for(;;)try{const n=await this._openDb();return await t(n)}catch(n){if(e++>eC)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return L3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Q0._getInstance(YA()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await WA(),!this.activeServiceWorker)return;this.sender=new qA(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(e=t[0])!=null&&e.fulfilled&&(n=t[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||XA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await a1();return await bw(t,w0,"1"),await xw(t,w0),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(n=>bw(n,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(n=>ZA(n,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>xw(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const i=Z0(s,!1).getAll();return new oh(i).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],n=new Set;if(t.length!==0)for(const{fbase_key:s,value:i}of t)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),e.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),e.push(s));return e}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const s of Array.from(n))s(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),JA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}V3.type="LOCAL";const tC=V3;new ah(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(r,t){return t?Fi(t):(er(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb extends M3{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return qc(t,this._buildIdpRequest())}_linkToIdToken(t,e){return qc(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return qc(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function rC(r){return PA(r.auth,new tb(r),r.bypassAuthState)}function nC(r){const{auth:t,user:e}=r;return er(e,t,"internal-error"),FA(e,new tb(r),r.bypassAuthState)}async function sC(r){const{auth:t,user:e}=r;return er(e,t,"internal-error"),OA(e,new tb(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(t,e,n,s,i=!1){this.auth=t,this.resolver=n,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:n,postBody:s,tenantId:i,error:a,type:l}=t;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:e,sessionId:n,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(o){this.reject(o)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return rC;case"linkViaPopup":case"linkViaRedirect":return sC;case"reauthViaPopup":case"reauthViaRedirect":return nC;default:ui(this.auth,"internal-error")}}resolve(t){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC=new ah(2e3,1e4);async function iC(r,t,e){if(xa(r.app))return Promise.reject(Ua(r,"operation-not-supported-in-this-environment"));const n=cu(r);m3(r,t,K0);const s=eb(n,e);return new Tl(n,"signInViaPopup",t,s).executeNotNull()}class Tl extends z3{constructor(t,e,n,s,i){super(t,e,s,i),this.provider=n,this.authWindow=null,this.pollId=null,Tl.currentPopupAction&&Tl.currentPopupAction.cancel(),Tl.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return er(t,this.auth,"internal-error"),t}async onExecution(){zi(this.filter.length===1,"Popup operations only handle one event");const t=J1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Ua(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(Ua(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Tl.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,n;if((n=(e=this.authWindow)==null?void 0:e.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ua(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,aC.get())};t()}}Tl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC="pendingRedirect",n0=new Map;class lC extends z3{constructor(t,e,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,n),this.eventId=null}async execute(){let t=n0.get(this.auth._key());if(!t){try{const n=await cC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(n)}catch(e){t=()=>Promise.reject(e)}n0.set(this.auth._key(),t)}return this.bypassAuthState||n0.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cC(r,t){const e=$3(t),n=H3(r);if(!await n._isAvailable())return!1;const s=await n._get(e)==="true";return await n._remove(e),s}async function uC(r,t){return H3(r)._set($3(t),"true")}function fC(r,t){n0.set(r._key(),t)}function H3(r){return Fi(r._redirectPersistence)}function $3(r){return r0(oC,r.config.apiKey,r.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(r,t,e){return hC(r,t,e)}async function hC(r,t,e){if(xa(r.app))return Promise.reject(Bo(r));const n=cu(r);m3(r,t,K0),await n._initializationPromise;const s=eb(n,e);return await uC(s,n),s._openRedirect(n,t,"signInViaRedirect")}async function lf(r,t){return await cu(r)._initializationPromise,q3(r,t,!1)}async function q3(r,t,e=!1){if(xa(r.app))return Promise.reject(Bo(r));const n=cu(r),s=eb(n,t),a=await new lC(n,s,e).execute();return a&&!e&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC=600*1e3;class pC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(e=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!mC(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var n;if(t.error&&!G3(t)){const s=((n=t.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";e.onError(Ua(this.auth,s))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const n=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=dC&&this.cachedEventUids.clear(),this.cachedEventUids.has(vw(t))}saveEventToCache(t){this.cachedEventUids.add(vw(t)),this.lastProcessedEventTime=Date.now()}}function vw(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function G3({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function mC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return G3(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gC(r,t={}){return lu(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xC=/^https?/;async function yC(r){if(r.config.emulator)return;const{authorizedDomains:t}=await gC(r);for(const e of t)try{if(vC(e))return}catch{}ui(r,"unauthorized-domain")}function vC(r){const t=n1(),{protocol:e,hostname:n}=new URL(t);if(r.startsWith("chrome-extension://")){const a=new URL(r);return a.hostname===""&&n===""?e==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&a.hostname===n}if(!xC.test(e))return!1;if(bC.test(r))return n===r;const s=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=new ah(3e4,6e4);function ww(){const r=si().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let e=0;e<r.CP.length;e++)r.CP[e]=null}}function _C(r){return new Promise((t,e)=>{var s,i,a;function n(){ww(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ww(),e(Ua(r,"network-request-failed"))},timeout:wC.get()})}if((i=(s=si().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)t(gapi.iframes.getContext());else if((a=si().gapi)!=null&&a.load)n();else{const l=CA("iframefcb");return si()[l]=()=>{gapi.load?n():e(Ua(r,"network-request-failed"))},EA(`${AA()}?onload=${l}`).catch(c=>e(c))}}).catch(t=>{throw s0=null,t})}let s0=null;function SC(r){return s0=s0||_C(r),s0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=new ah(5e3,15e3),TC="__/auth/iframe",EC="emulator/auth/iframe",AC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NC(r){const t=r.config;er(t.authDomain,r,"auth-domain-config-required");const e=t.emulator?X1(t,EC):`https://${r.config.authDomain}/${TC}`,n={apiKey:t.apiKey,appName:r.name,v:ou},s=CC.get(r.config.apiHost);s&&(n.eid=s);const i=r._getFrameworks();return i.length&&(n.fw=i.join(",")),`${e}?${sh(n).slice(1)}`}async function RC(r){const t=await SC(r),e=si().gapi;return er(e,r,"internal-error"),t.open({where:document.body,url:NC(r),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AC,dontclear:!0},n=>new Promise(async(s,i)=>{await n.restyle({setHideOnLeave:!1});const a=Ua(r,"network-request-failed"),l=si().setTimeout(()=>{i(a)},kC.get());function c(){si().clearTimeout(l),s(n)}n.ping(c).then(c,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jC=500,DC=600,IC="_blank",OC="http://localhost";class _w{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FC(r,t,e,n=jC,s=DC){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let l="";const c={...MC,width:n.toString(),height:s.toString(),top:i,left:a},o=hs().toLowerCase();e&&(l=S3(o)?IC:e),w3(o)&&(t=t||OC,c.scrollbars="yes");const u=Object.entries(c).reduce((h,[d,b])=>`${h}${d}=${b},`,"");if(xA(o)&&l!=="_self")return PC(t||"",l),new _w(null);const p=window.open(t||"",l,u);er(p,r,"popup-blocked");try{p.focus()}catch{}return new _w(p)}function PC(r,t){const e=document.createElement("a");e.href=r,e.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC="__/auth/handler",BC="emulator/auth/handler",UC=encodeURIComponent("fac");async function Sw(r,t,e,n,s,i){er(r.config.authDomain,r,"auth-domain-config-required"),er(r.config.apiKey,r,"invalid-api-key");const a={apiKey:r.config.apiKey,appName:r.name,authType:e,redirectUrl:n,v:ou,eventId:s};if(t instanceof K0){t.setDefaultLanguage(r.languageCode),a.providerId=t.providerId||"",z9(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[u,p]of Object.entries({}))a[u]=p}if(t instanceof ih){const u=t.getScopes().filter(p=>p!=="");u.length>0&&(a.scopes=u.join(","))}r.tenantId&&(a.tid=r.tenantId);const l=a;for(const u of Object.keys(l))l[u]===void 0&&delete l[u];const c=await r._getAppCheckToken(),o=c?`#${UC}=${encodeURIComponent(c)}`:"";return`${VC(r)}?${sh(l).slice(1)}${o}`}function VC({config:r}){return r.emulator?X1(r,BC):`https://${r.authDomain}/${LC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng="webStorageSupport";class zC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=P3,this._completeRedirectFn=q3,this._overrideRedirectResult=fC}async _openPopup(t,e,n,s){var a;zi((a=this.eventManagers[t._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const i=await Sw(t,e,n,n1(),s);return FC(t,i,J1())}async _openRedirect(t,e,n,s){await this._originValidation(t);const i=await Sw(t,e,n,n1(),s);return GA(i),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:s,promise:i}=this.eventManagers[e];return s?Promise.resolve(s):(zi(i,"If manager is not set, promise should be"),i)}const n=this.initAndGetManager(t);return this.eventManagers[e]={promise:n},n.catch(()=>{delete this.eventManagers[e]}),n}async initAndGetManager(t){const e=await RC(t),n=new pC(t);return e.register("authEvent",s=>(er(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:n.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=e,n}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Ng,{type:Ng},s=>{var a;const i=(a=s==null?void 0:s[0])==null?void 0:a[Ng];i!==void 0&&e(!!i),ui(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=yC(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return C3()||_3()||Q1()}}const HC=zC;var kw="@firebase/auth",Tw="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(n=>{t((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){er(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GC(r){Kc(new Bl("auth",(t,{options:e})=>{const n=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),i=t.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=n.options;er(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:a,authDomain:l,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:N3(r)},o=new kA(n,s,i,c);return RA(o,e),o},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider("auth-internal").initialize()})),Kc(new Bl("auth-internal",t=>{const e=cu(t.getProvider("auth").getImmediate());return(n=>new $C(n))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Lo(kw,Tw,qC(r)),Lo(kw,Tw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=300,XC=s3("authIdTokenMaxAge")||WC;let Ew=null;const YC=r=>async t=>{const e=t&&await t.getIdTokenResult(),n=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(n&&n>XC)return;const s=e==null?void 0:e.token;Ew!==s&&(Ew=s,await fetch(r,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function KC(r=u3()){const t=q1(r,"auth");if(t.isInitialized())return t.getImmediate();const e=NA(r,{popupRedirectResolver:HC,persistence:[tC,HA,P3]}),n=s3("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(n,location.origin);if(location.origin===i.origin){const a=YC(i.toString());BA(e,a,()=>a(e.currentUser)),LA(e,l=>a(l))}}const s=r3("auth");return s&&MA(e,`http://${s}`),e}function QC(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}TA({loadJS(r){return new Promise((t,e)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=t,n.onerror=s=>{const i=Ua("internal-error");i.customData=s,e(i)},n.type="text/javascript",n.charset="UTF-8",QC().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GC("Browser");var Aw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Uo,W3;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(B,I){function O(){}O.prototype=I.prototype,B.F=I.prototype,B.prototype=new O,B.prototype.constructor=B,B.D=function(F,W,V){for(var N=Array(arguments.length-2),P=2;P<arguments.length;P++)N[P-2]=arguments[P];return I.prototype[W].apply(F,N)}}function e(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(n,e),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(B,I,O){O||(O=0);const F=Array(16);if(typeof I=="string")for(var W=0;W<16;++W)F[W]=I.charCodeAt(O++)|I.charCodeAt(O++)<<8|I.charCodeAt(O++)<<16|I.charCodeAt(O++)<<24;else for(W=0;W<16;++W)F[W]=I[O++]|I[O++]<<8|I[O++]<<16|I[O++]<<24;I=B.g[0],O=B.g[1],W=B.g[2];let V=B.g[3],N;N=I+(V^O&(W^V))+F[0]+3614090360&4294967295,I=O+(N<<7&4294967295|N>>>25),N=V+(W^I&(O^W))+F[1]+3905402710&4294967295,V=I+(N<<12&4294967295|N>>>20),N=W+(O^V&(I^O))+F[2]+606105819&4294967295,W=V+(N<<17&4294967295|N>>>15),N=O+(I^W&(V^I))+F[3]+3250441966&4294967295,O=W+(N<<22&4294967295|N>>>10),N=I+(V^O&(W^V))+F[4]+4118548399&4294967295,I=O+(N<<7&4294967295|N>>>25),N=V+(W^I&(O^W))+F[5]+1200080426&4294967295,V=I+(N<<12&4294967295|N>>>20),N=W+(O^V&(I^O))+F[6]+2821735955&4294967295,W=V+(N<<17&4294967295|N>>>15),N=O+(I^W&(V^I))+F[7]+4249261313&4294967295,O=W+(N<<22&4294967295|N>>>10),N=I+(V^O&(W^V))+F[8]+1770035416&4294967295,I=O+(N<<7&4294967295|N>>>25),N=V+(W^I&(O^W))+F[9]+2336552879&4294967295,V=I+(N<<12&4294967295|N>>>20),N=W+(O^V&(I^O))+F[10]+4294925233&4294967295,W=V+(N<<17&4294967295|N>>>15),N=O+(I^W&(V^I))+F[11]+2304563134&4294967295,O=W+(N<<22&4294967295|N>>>10),N=I+(V^O&(W^V))+F[12]+1804603682&4294967295,I=O+(N<<7&4294967295|N>>>25),N=V+(W^I&(O^W))+F[13]+4254626195&4294967295,V=I+(N<<12&4294967295|N>>>20),N=W+(O^V&(I^O))+F[14]+2792965006&4294967295,W=V+(N<<17&4294967295|N>>>15),N=O+(I^W&(V^I))+F[15]+1236535329&4294967295,O=W+(N<<22&4294967295|N>>>10),N=I+(W^V&(O^W))+F[1]+4129170786&4294967295,I=O+(N<<5&4294967295|N>>>27),N=V+(O^W&(I^O))+F[6]+3225465664&4294967295,V=I+(N<<9&4294967295|N>>>23),N=W+(I^O&(V^I))+F[11]+643717713&4294967295,W=V+(N<<14&4294967295|N>>>18),N=O+(V^I&(W^V))+F[0]+3921069994&4294967295,O=W+(N<<20&4294967295|N>>>12),N=I+(W^V&(O^W))+F[5]+3593408605&4294967295,I=O+(N<<5&4294967295|N>>>27),N=V+(O^W&(I^O))+F[10]+38016083&4294967295,V=I+(N<<9&4294967295|N>>>23),N=W+(I^O&(V^I))+F[15]+3634488961&4294967295,W=V+(N<<14&4294967295|N>>>18),N=O+(V^I&(W^V))+F[4]+3889429448&4294967295,O=W+(N<<20&4294967295|N>>>12),N=I+(W^V&(O^W))+F[9]+568446438&4294967295,I=O+(N<<5&4294967295|N>>>27),N=V+(O^W&(I^O))+F[14]+3275163606&4294967295,V=I+(N<<9&4294967295|N>>>23),N=W+(I^O&(V^I))+F[3]+4107603335&4294967295,W=V+(N<<14&4294967295|N>>>18),N=O+(V^I&(W^V))+F[8]+1163531501&4294967295,O=W+(N<<20&4294967295|N>>>12),N=I+(W^V&(O^W))+F[13]+2850285829&4294967295,I=O+(N<<5&4294967295|N>>>27),N=V+(O^W&(I^O))+F[2]+4243563512&4294967295,V=I+(N<<9&4294967295|N>>>23),N=W+(I^O&(V^I))+F[7]+1735328473&4294967295,W=V+(N<<14&4294967295|N>>>18),N=O+(V^I&(W^V))+F[12]+2368359562&4294967295,O=W+(N<<20&4294967295|N>>>12),N=I+(O^W^V)+F[5]+4294588738&4294967295,I=O+(N<<4&4294967295|N>>>28),N=V+(I^O^W)+F[8]+2272392833&4294967295,V=I+(N<<11&4294967295|N>>>21),N=W+(V^I^O)+F[11]+1839030562&4294967295,W=V+(N<<16&4294967295|N>>>16),N=O+(W^V^I)+F[14]+4259657740&4294967295,O=W+(N<<23&4294967295|N>>>9),N=I+(O^W^V)+F[1]+2763975236&4294967295,I=O+(N<<4&4294967295|N>>>28),N=V+(I^O^W)+F[4]+1272893353&4294967295,V=I+(N<<11&4294967295|N>>>21),N=W+(V^I^O)+F[7]+4139469664&4294967295,W=V+(N<<16&4294967295|N>>>16),N=O+(W^V^I)+F[10]+3200236656&4294967295,O=W+(N<<23&4294967295|N>>>9),N=I+(O^W^V)+F[13]+681279174&4294967295,I=O+(N<<4&4294967295|N>>>28),N=V+(I^O^W)+F[0]+3936430074&4294967295,V=I+(N<<11&4294967295|N>>>21),N=W+(V^I^O)+F[3]+3572445317&4294967295,W=V+(N<<16&4294967295|N>>>16),N=O+(W^V^I)+F[6]+76029189&4294967295,O=W+(N<<23&4294967295|N>>>9),N=I+(O^W^V)+F[9]+3654602809&4294967295,I=O+(N<<4&4294967295|N>>>28),N=V+(I^O^W)+F[12]+3873151461&4294967295,V=I+(N<<11&4294967295|N>>>21),N=W+(V^I^O)+F[15]+530742520&4294967295,W=V+(N<<16&4294967295|N>>>16),N=O+(W^V^I)+F[2]+3299628645&4294967295,O=W+(N<<23&4294967295|N>>>9),N=I+(W^(O|~V))+F[0]+4096336452&4294967295,I=O+(N<<6&4294967295|N>>>26),N=V+(O^(I|~W))+F[7]+1126891415&4294967295,V=I+(N<<10&4294967295|N>>>22),N=W+(I^(V|~O))+F[14]+2878612391&4294967295,W=V+(N<<15&4294967295|N>>>17),N=O+(V^(W|~I))+F[5]+4237533241&4294967295,O=W+(N<<21&4294967295|N>>>11),N=I+(W^(O|~V))+F[12]+1700485571&4294967295,I=O+(N<<6&4294967295|N>>>26),N=V+(O^(I|~W))+F[3]+2399980690&4294967295,V=I+(N<<10&4294967295|N>>>22),N=W+(I^(V|~O))+F[10]+4293915773&4294967295,W=V+(N<<15&4294967295|N>>>17),N=O+(V^(W|~I))+F[1]+2240044497&4294967295,O=W+(N<<21&4294967295|N>>>11),N=I+(W^(O|~V))+F[8]+1873313359&4294967295,I=O+(N<<6&4294967295|N>>>26),N=V+(O^(I|~W))+F[15]+4264355552&4294967295,V=I+(N<<10&4294967295|N>>>22),N=W+(I^(V|~O))+F[6]+2734768916&4294967295,W=V+(N<<15&4294967295|N>>>17),N=O+(V^(W|~I))+F[13]+1309151649&4294967295,O=W+(N<<21&4294967295|N>>>11),N=I+(W^(O|~V))+F[4]+4149444226&4294967295,I=O+(N<<6&4294967295|N>>>26),N=V+(O^(I|~W))+F[11]+3174756917&4294967295,V=I+(N<<10&4294967295|N>>>22),N=W+(I^(V|~O))+F[2]+718787259&4294967295,W=V+(N<<15&4294967295|N>>>17),N=O+(V^(W|~I))+F[9]+3951481745&4294967295,B.g[0]=B.g[0]+I&4294967295,B.g[1]=B.g[1]+(W+(N<<21&4294967295|N>>>11))&4294967295,B.g[2]=B.g[2]+W&4294967295,B.g[3]=B.g[3]+V&4294967295}n.prototype.v=function(B,I){I===void 0&&(I=B.length);const O=I-this.blockSize,F=this.C;let W=this.h,V=0;for(;V<I;){if(W==0)for(;V<=O;)s(this,B,V),V+=this.blockSize;if(typeof B=="string"){for(;V<I;)if(F[W++]=B.charCodeAt(V++),W==this.blockSize){s(this,F),W=0;break}}else for(;V<I;)if(F[W++]=B[V++],W==this.blockSize){s(this,F),W=0;break}}this.h=W,this.o+=I},n.prototype.A=function(){var B=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);B[0]=128;for(var I=1;I<B.length-8;++I)B[I]=0;I=this.o*8;for(var O=B.length-8;O<B.length;++O)B[O]=I&255,I/=256;for(this.v(B),B=Array(16),I=0,O=0;O<4;++O)for(let F=0;F<32;F+=8)B[I++]=this.g[O]>>>F&255;return B};function i(B,I){var O=l;return Object.prototype.hasOwnProperty.call(O,B)?O[B]:O[B]=I(B)}function a(B,I){this.h=I;const O=[];let F=!0;for(let W=B.length-1;W>=0;W--){const V=B[W]|0;F&&V==I||(O[W]=V,F=!1)}this.g=O}var l={};function c(B){return-128<=B&&B<128?i(B,function(I){return new a([I|0],I<0?-1:0)}):new a([B|0],B<0?-1:0)}function o(B){if(isNaN(B)||!isFinite(B))return p;if(B<0)return g(o(-B));const I=[];let O=1;for(let F=0;B>=O;F++)I[F]=B/O|0,O*=4294967296;return new a(I,0)}function u(B,I){if(B.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(B.charAt(0)=="-")return g(u(B.substring(1),I));if(B.indexOf("-")>=0)throw Error('number format error: interior "-" character');const O=o(Math.pow(I,8));let F=p;for(let V=0;V<B.length;V+=8){var W=Math.min(8,B.length-V);const N=parseInt(B.substring(V,V+W),I);W<8?(W=o(Math.pow(I,W)),F=F.j(W).add(o(N))):(F=F.j(O),F=F.add(o(N)))}return F}var p=c(0),h=c(1),d=c(16777216);r=a.prototype,r.m=function(){if(x(this))return-g(this).m();let B=0,I=1;for(let O=0;O<this.g.length;O++){const F=this.i(O);B+=(F>=0?F:4294967296+F)*I,I*=4294967296}return B},r.toString=function(B){if(B=B||10,B<2||36<B)throw Error("radix out of range: "+B);if(b(this))return"0";if(x(this))return"-"+g(this).toString(B);const I=o(Math.pow(B,6));var O=this;let F="";for(;;){const W=R(O,I).g;O=v(O,W.j(I));let V=((O.g.length>0?O.g[0]:O.h)>>>0).toString(B);if(O=W,b(O))return V+F;for(;V.length<6;)V="0"+V;F=V+F}},r.i=function(B){return B<0?0:B<this.g.length?this.g[B]:this.h};function b(B){if(B.h!=0)return!1;for(let I=0;I<B.g.length;I++)if(B.g[I]!=0)return!1;return!0}function x(B){return B.h==-1}r.l=function(B){return B=v(this,B),x(B)?-1:b(B)?0:1};function g(B){const I=B.g.length,O=[];for(let F=0;F<I;F++)O[F]=~B.g[F];return new a(O,~B.h).add(h)}r.abs=function(){return x(this)?g(this):this},r.add=function(B){const I=Math.max(this.g.length,B.g.length),O=[];let F=0;for(let W=0;W<=I;W++){let V=F+(this.i(W)&65535)+(B.i(W)&65535),N=(V>>>16)+(this.i(W)>>>16)+(B.i(W)>>>16);F=N>>>16,V&=65535,N&=65535,O[W]=N<<16|V}return new a(O,O[O.length-1]&-2147483648?-1:0)};function v(B,I){return B.add(g(I))}r.j=function(B){if(b(this)||b(B))return p;if(x(this))return x(B)?g(this).j(g(B)):g(g(this).j(B));if(x(B))return g(this.j(g(B)));if(this.l(d)<0&&B.l(d)<0)return o(this.m()*B.m());const I=this.g.length+B.g.length,O=[];for(var F=0;F<2*I;F++)O[F]=0;for(F=0;F<this.g.length;F++)for(let W=0;W<B.g.length;W++){const V=this.i(F)>>>16,N=this.i(F)&65535,P=B.i(W)>>>16,C=B.i(W)&65535;O[2*F+2*W]+=N*C,y(O,2*F+2*W),O[2*F+2*W+1]+=V*C,y(O,2*F+2*W+1),O[2*F+2*W+1]+=N*P,y(O,2*F+2*W+1),O[2*F+2*W+2]+=V*P,y(O,2*F+2*W+2)}for(B=0;B<I;B++)O[B]=O[2*B+1]<<16|O[2*B];for(B=I;B<2*I;B++)O[B]=0;return new a(O,0)};function y(B,I){for(;(B[I]&65535)!=B[I];)B[I+1]+=B[I]>>>16,B[I]&=65535,I++}function k(B,I){this.g=B,this.h=I}function R(B,I){if(b(I))throw Error("division by zero");if(b(B))return new k(p,p);if(x(B))return I=R(g(B),I),new k(g(I.g),g(I.h));if(x(I))return I=R(B,g(I)),new k(g(I.g),I.h);if(B.g.length>30){if(x(B)||x(I))throw Error("slowDivide_ only works with positive integers.");for(var O=h,F=I;F.l(B)<=0;)O=z(O),F=z(F);var W=q(O,1),V=q(F,1);for(F=q(F,2),O=q(O,2);!b(F);){var N=V.add(F);N.l(B)<=0&&(W=W.add(O),V=N),F=q(F,1),O=q(O,1)}return I=v(B,W.j(I)),new k(W,I)}for(W=p;B.l(I)>=0;){for(O=Math.max(1,Math.floor(B.m()/I.m())),F=Math.ceil(Math.log(O)/Math.LN2),F=F<=48?1:Math.pow(2,F-48),V=o(O),N=V.j(I);x(N)||N.l(B)>0;)O-=F,V=o(O),N=V.j(I);b(V)&&(V=h),W=W.add(V),B=v(B,N)}return new k(W,B)}r.B=function(B){return R(this,B).h},r.and=function(B){const I=Math.max(this.g.length,B.g.length),O=[];for(let F=0;F<I;F++)O[F]=this.i(F)&B.i(F);return new a(O,this.h&B.h)},r.or=function(B){const I=Math.max(this.g.length,B.g.length),O=[];for(let F=0;F<I;F++)O[F]=this.i(F)|B.i(F);return new a(O,this.h|B.h)},r.xor=function(B){const I=Math.max(this.g.length,B.g.length),O=[];for(let F=0;F<I;F++)O[F]=this.i(F)^B.i(F);return new a(O,this.h^B.h)};function z(B){const I=B.g.length+1,O=[];for(let F=0;F<I;F++)O[F]=B.i(F)<<1|B.i(F-1)>>>31;return new a(O,B.h)}function q(B,I){const O=I>>5;I%=32;const F=B.g.length-O,W=[];for(let V=0;V<F;V++)W[V]=I>0?B.i(V+O)>>>I|B.i(V+O+1)<<32-I:B.i(V+O);return new a(W,B.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,W3=n,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=o,a.fromString=u,Uo=a}).apply(typeof Aw<"u"?Aw:typeof self<"u"?self:typeof window<"u"?window:{});var Pd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var X3,uf,Y3,a0,i1,K3,Q3,Z3;(function(){var r,t=Object.defineProperty;function e(X){X=[typeof globalThis=="object"&&globalThis,X,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pd=="object"&&Pd];for(var se=0;se<X.length;++se){var ue=X[se];if(ue&&ue.Math==Math)return ue}throw Error("Cannot find global object")}var n=e(this);function s(X,se){if(se)e:{var ue=n;X=X.split(".");for(var Se=0;Se<X.length-1;Se++){var rt=X[Se];if(!(rt in ue))break e;ue=ue[rt]}X=X[X.length-1],Se=ue[X],se=se(Se),se!=Se&&se!=null&&t(ue,X,{configurable:!0,writable:!0,value:se})}}s("Symbol.dispose",function(X){return X||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(X){return X||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(X){return X||function(se){var ue=[],Se;for(Se in se)Object.prototype.hasOwnProperty.call(se,Se)&&ue.push([Se,se[Se]]);return ue}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},a=this||self;function l(X){var se=typeof X;return se=="object"&&X!=null||se=="function"}function c(X,se,ue){return X.call.apply(X.bind,arguments)}function o(X,se,ue){return o=c,o.apply(null,arguments)}function u(X,se){var ue=Array.prototype.slice.call(arguments,1);return function(){var Se=ue.slice();return Se.push.apply(Se,arguments),X.apply(this,Se)}}function p(X,se){function ue(){}ue.prototype=se.prototype,X.Z=se.prototype,X.prototype=new ue,X.prototype.constructor=X,X.Ob=function(Se,rt,ut){for(var It=Array(arguments.length-2),cr=2;cr<arguments.length;cr++)It[cr-2]=arguments[cr];return se.prototype[rt].apply(Se,It)}}var h=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?X=>X&&AsyncContext.Snapshot.wrap(X):X=>X;function d(X){const se=X.length;if(se>0){const ue=Array(se);for(let Se=0;Se<se;Se++)ue[Se]=X[Se];return ue}return[]}function b(X,se){for(let Se=1;Se<arguments.length;Se++){const rt=arguments[Se];var ue=typeof rt;if(ue=ue!="object"?ue:rt?Array.isArray(rt)?"array":ue:"null",ue=="array"||ue=="object"&&typeof rt.length=="number"){ue=X.length||0;const ut=rt.length||0;X.length=ue+ut;for(let It=0;It<ut;It++)X[ue+It]=rt[It]}else X.push(rt)}}class x{constructor(se,ue){this.i=se,this.j=ue,this.h=0,this.g=null}get(){let se;return this.h>0?(this.h--,se=this.g,this.g=se.next,se.next=null):se=this.i(),se}}function g(X){a.setTimeout(()=>{throw X},0)}function v(){var X=B;let se=null;return X.g&&(se=X.g,X.g=X.g.next,X.g||(X.h=null),se.next=null),se}class y{constructor(){this.h=this.g=null}add(se,ue){const Se=k.get();Se.set(se,ue),this.h?this.h.next=Se:this.g=Se,this.h=Se}}var k=new x(()=>new R,X=>X.reset());class R{constructor(){this.next=this.g=this.h=null}set(se,ue){this.h=se,this.g=ue,this.next=null}reset(){this.next=this.g=this.h=null}}let z,q=!1,B=new y,I=()=>{const X=Promise.resolve(void 0);z=()=>{X.then(O)}};function O(){for(var X;X=v();){try{X.h.call(X.g)}catch(ue){g(ue)}var se=k;se.j(X),se.h<100&&(se.h++,X.next=se.g,se.g=X)}q=!1}function F(){this.u=this.u,this.C=this.C}F.prototype.u=!1,F.prototype.dispose=function(){this.u||(this.u=!0,this.N())},F.prototype[Symbol.dispose]=function(){this.dispose()},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(X,se){this.type=X,this.g=this.target=se,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var X=!1,se=Object.defineProperty({},"passive",{get:function(){X=!0}});try{const ue=()=>{};a.addEventListener("test",ue,se),a.removeEventListener("test",ue,se)}catch{}return X})();function N(X){return/^[\s\xa0]*$/.test(X)}function P(X,se){W.call(this,X?X.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,X&&this.init(X,se)}p(P,W),P.prototype.init=function(X,se){const ue=this.type=X.type,Se=X.changedTouches&&X.changedTouches.length?X.changedTouches[0]:null;this.target=X.target||X.srcElement,this.g=se,se=X.relatedTarget,se||(ue=="mouseover"?se=X.fromElement:ue=="mouseout"&&(se=X.toElement)),this.relatedTarget=se,Se?(this.clientX=Se.clientX!==void 0?Se.clientX:Se.pageX,this.clientY=Se.clientY!==void 0?Se.clientY:Se.pageY,this.screenX=Se.screenX||0,this.screenY=Se.screenY||0):(this.clientX=X.clientX!==void 0?X.clientX:X.pageX,this.clientY=X.clientY!==void 0?X.clientY:X.pageY,this.screenX=X.screenX||0,this.screenY=X.screenY||0),this.button=X.button,this.key=X.key||"",this.ctrlKey=X.ctrlKey,this.altKey=X.altKey,this.shiftKey=X.shiftKey,this.metaKey=X.metaKey,this.pointerId=X.pointerId||0,this.pointerType=X.pointerType,this.state=X.state,this.i=X,X.defaultPrevented&&P.Z.h.call(this)},P.prototype.h=function(){P.Z.h.call(this);const X=this.i;X.preventDefault?X.preventDefault():X.returnValue=!1};var C="closure_listenable_"+(Math.random()*1e6|0),S=0;function E(X,se,ue,Se,rt){this.listener=X,this.proxy=null,this.src=se,this.type=ue,this.capture=!!Se,this.ha=rt,this.key=++S,this.da=this.fa=!1}function A(X){X.da=!0,X.listener=null,X.proxy=null,X.src=null,X.ha=null}function T(X,se,ue){for(const Se in X)se.call(ue,X[Se],Se,X)}function j(X,se){for(const ue in X)se.call(void 0,X[ue],ue,X)}function L(X){const se={};for(const ue in X)se[ue]=X[ue];return se}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Z(X,se){let ue,Se;for(let rt=1;rt<arguments.length;rt++){Se=arguments[rt];for(ue in Se)X[ue]=Se[ue];for(let ut=0;ut<D.length;ut++)ue=D[ut],Object.prototype.hasOwnProperty.call(Se,ue)&&(X[ue]=Se[ue])}}function K(X){this.src=X,this.g={},this.h=0}K.prototype.add=function(X,se,ue,Se,rt){const ut=X.toString();X=this.g[ut],X||(X=this.g[ut]=[],this.h++);const It=G(X,se,Se,rt);return It>-1?(se=X[It],ue||(se.fa=!1)):(se=new E(se,this.src,ut,!!Se,rt),se.fa=ue,X.push(se)),se};function ee(X,se){const ue=se.type;if(ue in X.g){var Se=X.g[ue],rt=Array.prototype.indexOf.call(Se,se,void 0),ut;(ut=rt>=0)&&Array.prototype.splice.call(Se,rt,1),ut&&(A(se),X.g[ue].length==0&&(delete X.g[ue],X.h--))}}function G(X,se,ue,Se){for(let rt=0;rt<X.length;++rt){const ut=X[rt];if(!ut.da&&ut.listener==se&&ut.capture==!!ue&&ut.ha==Se)return rt}return-1}var te="closure_lm_"+(Math.random()*1e6|0),H={};function U(X,se,ue,Se,rt){if(Array.isArray(se)){for(let ut=0;ut<se.length;ut++)U(X,se[ut],ue,Se,rt);return null}return ue=de(ue),X&&X[C]?X.J(se,ue,l(Se)?!!Se.capture:!1,rt):Q(X,se,ue,!1,Se,rt)}function Q(X,se,ue,Se,rt,ut){if(!se)throw Error("Invalid event type");const It=l(rt)?!!rt.capture:!!rt;let cr=me(X);if(cr||(X[te]=cr=new K(X)),ue=cr.add(se,ue,Se,It,ut),ue.proxy)return ue;if(Se=ie(),ue.proxy=Se,Se.src=X,Se.listener=ue,X.addEventListener)V||(rt=It),rt===void 0&&(rt=!1),X.addEventListener(se.toString(),Se,rt);else if(X.attachEvent)X.attachEvent(he(se.toString()),Se);else if(X.addListener&&X.removeListener)X.addListener(Se);else throw Error("addEventListener and attachEvent are unavailable.");return ue}function ie(){function X(ue){return se.call(X.src,X.listener,ue)}const se=ve;return X}function re(X,se,ue,Se,rt){if(Array.isArray(se))for(var ut=0;ut<se.length;ut++)re(X,se[ut],ue,Se,rt);else Se=l(Se)?!!Se.capture:!!Se,ue=de(ue),X&&X[C]?(X=X.i,ut=String(se).toString(),ut in X.g&&(se=X.g[ut],ue=G(se,ue,Se,rt),ue>-1&&(A(se[ue]),Array.prototype.splice.call(se,ue,1),se.length==0&&(delete X.g[ut],X.h--)))):X&&(X=me(X))&&(se=X.g[se.toString()],X=-1,se&&(X=G(se,ue,Se,rt)),(ue=X>-1?se[X]:null)&&oe(ue))}function oe(X){if(typeof X!="number"&&X&&!X.da){var se=X.src;if(se&&se[C])ee(se.i,X);else{var ue=X.type,Se=X.proxy;se.removeEventListener?se.removeEventListener(ue,Se,X.capture):se.detachEvent?se.detachEvent(he(ue),Se):se.addListener&&se.removeListener&&se.removeListener(Se),(ue=me(se))?(ee(ue,X),ue.h==0&&(ue.src=null,se[te]=null)):A(X)}}}function he(X){return X in H?H[X]:H[X]="on"+X}function ve(X,se){if(X.da)X=!0;else{se=new P(se,this);const ue=X.listener,Se=X.ha||X.src;X.fa&&oe(X),X=ue.call(Se,se)}return X}function me(X){return X=X[te],X instanceof K?X:null}var ne="__closure_events_fn_"+(Math.random()*1e9>>>0);function de(X){return typeof X=="function"?X:(X[ne]||(X[ne]=function(se){return X.handleEvent(se)}),X[ne])}function xe(){F.call(this),this.i=new K(this),this.M=this,this.G=null}p(xe,F),xe.prototype[C]=!0,xe.prototype.removeEventListener=function(X,se,ue,Se){re(this,X,se,ue,Se)};function Te(X,se){var ue,Se=X.G;if(Se)for(ue=[];Se;Se=Se.G)ue.push(Se);if(X=X.M,Se=se.type||se,typeof se=="string")se=new W(se,X);else if(se instanceof W)se.target=se.target||X;else{var rt=se;se=new W(Se,X),Z(se,rt)}rt=!0;let ut,It;if(ue)for(It=ue.length-1;It>=0;It--)ut=se.g=ue[It],rt=Re(ut,Se,!0,se)&&rt;if(ut=se.g=X,rt=Re(ut,Se,!0,se)&&rt,rt=Re(ut,Se,!1,se)&&rt,ue)for(It=0;It<ue.length;It++)ut=se.g=ue[It],rt=Re(ut,Se,!1,se)&&rt}xe.prototype.N=function(){if(xe.Z.N.call(this),this.i){var X=this.i;for(const se in X.g){const ue=X.g[se];for(let Se=0;Se<ue.length;Se++)A(ue[Se]);delete X.g[se],X.h--}}this.G=null},xe.prototype.J=function(X,se,ue,Se){return this.i.add(String(X),se,!1,ue,Se)},xe.prototype.K=function(X,se,ue,Se){return this.i.add(String(X),se,!0,ue,Se)};function Re(X,se,ue,Se){if(se=X.i.g[String(se)],!se)return!0;se=se.concat();let rt=!0;for(let ut=0;ut<se.length;++ut){const It=se[ut];if(It&&!It.da&&It.capture==ue){const cr=It.listener,mn=It.ha||It.src;It.fa&&ee(X.i,It),rt=cr.call(mn,Se)!==!1&&rt}}return rt&&!Se.defaultPrevented}function Pe(X,se){if(typeof X!="function")if(X&&typeof X.handleEvent=="function")X=o(X.handleEvent,X);else throw Error("Invalid listener argument");return Number(se)>2147483647?-1:a.setTimeout(X,se||0)}function Xe(X){X.g=Pe(()=>{X.g=null,X.i&&(X.i=!1,Xe(X))},X.l);const se=X.h;X.h=null,X.m.apply(null,se)}class Ue extends F{constructor(se,ue){super(),this.m=se,this.l=ue,this.h=null,this.i=!1,this.g=null}j(se){this.h=arguments,this.g?this.i=!0:Xe(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tt(X){F.call(this),this.h=X,this.g={}}p(tt,F);var at=[];function Je(X){T(X.g,function(se,ue){this.g.hasOwnProperty(ue)&&oe(se)},X),X.g={}}tt.prototype.N=function(){tt.Z.N.call(this),Je(this)},tt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ze=a.JSON.stringify,vt=a.JSON.parse,pt=class{stringify(X){return a.JSON.stringify(X,void 0)}parse(X){return a.JSON.parse(X,void 0)}};function Ie(){}function $e(){}var Ce={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function De(){W.call(this,"d")}p(De,W);function it(){W.call(this,"c")}p(it,W);var Be={},Ge=null;function mt(){return Ge=Ge||new xe}Be.Ia="serverreachability";function dt(X){W.call(this,Be.Ia,X)}p(dt,W);function ke(X){const se=mt();Te(se,new dt(se))}Be.STAT_EVENT="statevent";function We(X,se){W.call(this,Be.STAT_EVENT,X),this.stat=se}p(We,W);function Ae(X){const se=mt();Te(se,new We(se,X))}Be.Ja="timingevent";function Ee(X,se){W.call(this,Be.Ja,X),this.size=se}p(Ee,W);function et(X,se){if(typeof X!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){X()},se)}function lt(){this.g=!0}lt.prototype.ua=function(){this.g=!1};function Ke(X,se,ue,Se,rt,ut){X.info(function(){if(X.g)if(ut){var It="",cr=ut.split("&");for(let Dr=0;Dr<cr.length;Dr++){var mn=cr[Dr].split("=");if(mn.length>1){const en=mn[0];mn=mn[1];const ia=en.split("_");It=ia.length>=2&&ia[1]=="type"?It+(en+"="+mn+"&"):It+(en+"=redacted&")}}}else It=null;else It=ut;return"XMLHTTP REQ ("+Se+") [attempt "+rt+"]: "+se+`
`+ue+`
`+It})}function xt(X,se,ue,Se,rt,ut,It){X.info(function(){return"XMLHTTP RESP ("+Se+") [ attempt "+rt+"]: "+se+`
`+ue+`
`+ut+" "+It})}function jt(X,se,ue,Se){X.info(function(){return"XMLHTTP TEXT ("+se+"): "+Ct(X,ue)+(Se?" "+Se:"")})}function At(X,se){X.info(function(){return"TIMEOUT: "+se})}lt.prototype.info=function(){};function Ct(X,se){if(!X.g)return se;if(!se)return null;try{const ut=JSON.parse(se);if(ut){for(X=0;X<ut.length;X++)if(Array.isArray(ut[X])){var ue=ut[X];if(!(ue.length<2)){var Se=ue[1];if(Array.isArray(Se)&&!(Se.length<1)){var rt=Se[0];if(rt!="noop"&&rt!="stop"&&rt!="close")for(let It=1;It<Se.length;It++)Se[It]=""}}}}return Ze(ut)}catch{return se}}var Dt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Mt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},je;function qe(){}p(qe,Ie),qe.prototype.g=function(){return new XMLHttpRequest},je=new qe;function ct(X){return encodeURIComponent(String(X))}function ae(X){var se=1;X=X.split(":");const ue=[];for(;se>0&&X.length;)ue.push(X.shift()),se--;return X.length&&ue.push(X.join(":")),ue}function pe(X,se,ue,Se){this.j=X,this.i=se,this.l=ue,this.S=Se||1,this.V=new tt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ce}function ce(){this.i=null,this.g="",this.h=!1}var fe={},ge={};function ye(X,se,ue){X.M=1,X.A=ms(Yt(se)),X.u=ue,X.R=!0,Ne(X,null)}function Ne(X,se){X.F=Date.now(),ze(X),X.B=Yt(X.A);var ue=X.B,Se=X.S;Array.isArray(Se)||(Se=[String(Se)]),Hs(ue.i,"t",Se),X.C=0,ue=X.j.L,X.h=new ce,X.g=Nh(X.j,ue?se:null,!X.u),X.P>0&&(X.O=new Ue(o(X.Y,X,X.g),X.P)),se=X.V,ue=X.g,Se=X.ba;var rt="readystatechange";Array.isArray(rt)||(rt&&(at[0]=rt.toString()),rt=at);for(let ut=0;ut<rt.length;ut++){const It=U(ue,rt[ut],Se||se.handleEvent,!1,se.h||se);if(!It)break;se.g[It.key]=It}se=X.J?L(X.J):{},X.u?(X.v||(X.v="POST"),se["Content-Type"]="application/x-www-form-urlencoded",X.g.ea(X.B,X.v,X.u,se)):(X.v="GET",X.g.ea(X.B,X.v,null,se)),ke(),Ke(X.i,X.v,X.B,X.l,X.S,X.u)}pe.prototype.ba=function(X){X=X.target;const se=this.O;se&&Ca(X)==3?se.j():this.Y(X)},pe.prototype.Y=function(X){try{if(X==this.g)e:{const cr=Ca(this.g),mn=this.g.ya(),Dr=this.g.ca();if(!(cr<3)&&(cr!=3||this.g&&(this.h.h||this.g.la()||$n(this.g)))){this.K||cr!=4||mn==7||(mn==8||Dr<=0?ke(3):ke(2)),St(this);var se=this.g.ca();this.X=se;var ue=Fe(this);if(this.o=se==200,xt(this.i,this.v,this.B,this.l,this.S,cr,se),this.o){if(this.U&&!this.L){t:{if(this.g){var Se,rt=this.g;if((Se=rt.g?rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(Se)){var ut=Se;break t}}ut=null}if(X=ut)jt(this.i,this.l,X,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Me(this,X);else{this.o=!1,this.m=3,Ae(12),be(this),Tt(this);break e}}if(this.R){X=!0;let en;for(;!this.K&&this.C<ue.length;)if(en=Ve(this,ue),en==ge){cr==4&&(this.m=4,Ae(14),X=!1),jt(this.i,this.l,null,"[Incomplete Response]");break}else if(en==fe){this.m=4,Ae(15),jt(this.i,this.l,ue,"[Invalid Chunk]"),X=!1;break}else jt(this.i,this.l,en,null),Me(this,en);if(Oe(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),cr!=4||ue.length!=0||this.h.h||(this.m=1,Ae(16),X=!1),this.o=this.o&&X,!X)jt(this.i,this.l,ue,"[Invalid Chunked Response]"),be(this),Tt(this);else if(ue.length>0&&!this.W){this.W=!0;var It=this.j;It.g==this&&It.aa&&!It.P&&(It.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),_u(It),It.P=!0,Ae(11))}}else jt(this.i,this.l,ue,null),Me(this,ue);cr==4&&be(this),this.o&&!this.K&&(cr==4?Th(this.j,this):(this.o=!1,ze(this)))}else bi(this.g),se==400&&ue.indexOf("Unknown SID")>0?(this.m=3,Ae(12)):(this.m=0,Ae(13)),be(this),Tt(this)}}}catch{}finally{}};function Fe(X){if(!Oe(X))return X.g.la();const se=$n(X.g);if(se==="")return"";let ue="";const Se=se.length,rt=Ca(X.g)==4;if(!X.h.i){if(typeof TextDecoder>"u")return be(X),Tt(X),"";X.h.i=new a.TextDecoder}for(let ut=0;ut<Se;ut++)X.h.h=!0,ue+=X.h.i.decode(se[ut],{stream:!(rt&&ut==Se-1)});return se.length=0,X.h.g+=ue,X.C=0,X.h.g}function Oe(X){return X.g?X.v=="GET"&&X.M!=2&&X.j.Aa:!1}function Ve(X,se){var ue=X.C,Se=se.indexOf(`
`,ue);return Se==-1?ge:(ue=Number(se.substring(ue,Se)),isNaN(ue)?fe:(Se+=1,Se+ue>se.length?ge:(se=se.slice(Se,Se+ue),X.C=Se+ue,se)))}pe.prototype.cancel=function(){this.K=!0,be(this)};function ze(X){X.T=Date.now()+X.H,bt(X,X.H)}function bt(X,se){if(X.D!=null)throw Error("WatchDog timer not null");X.D=et(o(X.aa,X),se)}function St(X){X.D&&(a.clearTimeout(X.D),X.D=null)}pe.prototype.aa=function(){this.D=null;const X=Date.now();X-this.T>=0?(At(this.i,this.B),this.M!=2&&(ke(),Ae(17)),be(this),this.m=2,Tt(this)):bt(this,this.T-X)};function Tt(X){X.j.I==0||X.K||Th(X.j,X)}function be(X){St(X);var se=X.O;se&&typeof se.dispose=="function"&&se.dispose(),X.O=null,Je(X.V),X.g&&(se=X.g,X.g=null,se.abort(),se.dispose())}function Me(X,se){try{var ue=X.j;if(ue.I!=0&&(ue.g==X||Rt(ue.h,X))){if(!X.L&&Rt(ue.h,X)&&ue.I==3){try{var Se=ue.Ba.g.parse(se)}catch{Se=null}if(Array.isArray(Se)&&Se.length==3){var rt=Se;if(rt[0]==0){e:if(!ue.v){if(ue.g)if(ue.g.F+3e3<X.F)nc(ue),eo(ue);else break e;al(ue),Ae(18)}}else ue.xa=rt[1],0<ue.xa-ue.K&&rt[2]<37500&&ue.F&&ue.A==0&&!ue.C&&(ue.C=et(o(ue.Va,ue),6e3));yt(ue.h)<=1&&ue.ta&&(ue.ta=void 0)}else Ya(ue,11)}else if((X.L||ue.g==X)&&nc(ue),!N(se))for(rt=ue.Ba.g.parse(se),se=0;se<rt.length;se++){let Dr=rt[se];const en=Dr[0];if(!(en<=ue.K))if(ue.K=en,Dr=Dr[1],ue.I==2)if(Dr[0]=="c"){ue.M=Dr[1],ue.ba=Dr[2];const ia=Dr[3];ia!=null&&(ue.ka=ia,ue.j.info("VER="+ue.ka));const Ka=Dr[4];Ka!=null&&(ue.za=Ka,ue.j.info("SVER="+ue.za));const Na=Dr[5];Na!=null&&typeof Na=="number"&&Na>0&&(Se=1.5*Na,ue.O=Se,ue.j.info("backChannelRequestTimeoutMs_="+Se)),Se=ue;const Ra=X.g;if(Ra){const il=Ra.g?Ra.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(il){var ut=Se.h;ut.g||il.indexOf("spdy")==-1&&il.indexOf("quic")==-1&&il.indexOf("h2")==-1||(ut.j=ut.l,ut.g=new Set,ut.h&&(Qt(ut,ut.h),ut.h=null))}if(Se.G){const sc=Ra.g?Ra.g.getResponseHeader("X-HTTP-Session-Id"):null;sc&&(Se.wa=sc,hr(Se.J,Se.G,sc))}}ue.I=3,ue.l&&ue.l.ra(),ue.aa&&(ue.T=Date.now()-X.F,ue.j.info("Handshake RTT: "+ue.T+"ms")),Se=ue;var It=X;if(Se.na=Ch(Se,Se.L?Se.ba:null,Se.W),It.L){Gt(Se.h,It);var cr=It,mn=Se.O;mn&&(cr.H=mn),cr.D&&(St(cr),ze(cr)),Se.g=It}else Sh(Se);ue.i.length>0&&Xa(ue)}else Dr[0]!="stop"&&Dr[0]!="close"||Ya(ue,7);else ue.I==3&&(Dr[0]=="stop"||Dr[0]=="close"?Dr[0]=="stop"?Ya(ue,7):vu(ue):Dr[0]!="noop"&&ue.l&&ue.l.qa(Dr),ue.A=0)}}ke(4)}catch{}}var Ye=class{constructor(X,se){this.g=X,this.map=se}};function ht(X){this.l=X||10,a.PerformanceNavigationTiming?(X=a.performance.getEntriesByType("navigation"),X=X.length>0&&(X[0].nextHopProtocol=="hq"||X[0].nextHopProtocol=="h2")):X=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=X?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Nt(X){return X.h?!0:X.g?X.g.size>=X.j:!1}function yt(X){return X.h?1:X.g?X.g.size:0}function Rt(X,se){return X.h?X.h==se:X.g?X.g.has(se):!1}function Qt(X,se){X.g?X.g.add(se):X.h=se}function Gt(X,se){X.h&&X.h==se?X.h=null:X.g&&X.g.has(se)&&X.g.delete(se)}ht.prototype.cancel=function(){if(this.i=Wt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const X of this.g.values())X.cancel();this.g.clear()}};function Wt(X){if(X.h!=null)return X.i.concat(X.h.G);if(X.g!=null&&X.g.size!==0){let se=X.i;for(const ue of X.g.values())se=se.concat(ue.G);return se}return d(X.i)}var Vt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jt(X,se){if(X){X=X.split("&");for(let ue=0;ue<X.length;ue++){const Se=X[ue].indexOf("=");let rt,ut=null;Se>=0?(rt=X[ue].substring(0,Se),ut=X[ue].substring(Se+1)):rt=X[ue],se(rt,ut?decodeURIComponent(ut.replace(/\+/g," ")):"")}}}function nr(X){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let se;X instanceof nr?(this.l=X.l,lr(this,X.j),this.o=X.o,this.g=X.g,$r(this,X.u),this.h=X.h,dn(this,$s(X.i)),this.m=X.m):X&&(se=String(X).match(Vt))?(this.l=!1,lr(this,se[1]||"",!0),this.o=zn(se[2]||""),this.g=zn(se[3]||"",!0),$r(this,se[4]),this.h=zn(se[5]||"",!0),dn(this,se[6]||"",!0),this.m=zn(se[7]||"")):(this.l=!1,this.i=new sn(null,this.l))}nr.prototype.toString=function(){const X=[];var se=this.j;se&&X.push(As(se,br,!0),":");var ue=this.g;return(ue||se=="file")&&(X.push("//"),(se=this.o)&&X.push(As(se,br,!0),"@"),X.push(ct(ue).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),ue=this.u,ue!=null&&X.push(":",String(ue))),(ue=this.h)&&(this.g&&ue.charAt(0)!="/"&&X.push("/"),X.push(As(ue,ue.charAt(0)=="/"?Cs:gr,!0))),(ue=this.i.toString())&&X.push("?",ue),(ue=this.m)&&X.push("#",As(ue,mi)),X.join("")},nr.prototype.resolve=function(X){const se=Yt(this);let ue=!!X.j;ue?lr(se,X.j):ue=!!X.o,ue?se.o=X.o:ue=!!X.g,ue?se.g=X.g:ue=X.u!=null;var Se=X.h;if(ue)$r(se,X.u);else if(ue=!!X.h){if(Se.charAt(0)!="/")if(this.g&&!this.h)Se="/"+Se;else{var rt=se.h.lastIndexOf("/");rt!=-1&&(Se=se.h.slice(0,rt+1)+Se)}if(rt=Se,rt==".."||rt==".")Se="";else if(rt.indexOf("./")!=-1||rt.indexOf("/.")!=-1){Se=rt.lastIndexOf("/",0)==0,rt=rt.split("/");const ut=[];for(let It=0;It<rt.length;){const cr=rt[It++];cr=="."?Se&&It==rt.length&&ut.push(""):cr==".."?((ut.length>1||ut.length==1&&ut[0]!="")&&ut.pop(),Se&&It==rt.length&&ut.push("")):(ut.push(cr),Se=!0)}Se=ut.join("/")}else Se=rt}return ue?se.h=Se:ue=X.i.toString()!=="",ue?dn(se,$s(X.i)):ue=!!X.m,ue&&(se.m=X.m),se};function Yt(X){return new nr(X)}function lr(X,se,ue){X.j=ue?zn(se,!0):se,X.j&&(X.j=X.j.replace(/:$/,""))}function $r(X,se){if(se){if(se=Number(se),isNaN(se)||se<0)throw Error("Bad port number "+se);X.u=se}else X.u=null}function dn(X,se,ue){se instanceof sn?(X.i=se,Ta(X.i,X.l)):(ue||(se=As(se,rs)),X.i=new sn(se,X.l))}function hr(X,se,ue){X.i.set(se,ue)}function ms(X){return hr(X,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),X}function zn(X,se){return X?se?decodeURI(X.replace(/%25/g,"%2525")):decodeURIComponent(X):""}function As(X,se,ue){return typeof X=="string"?(X=encodeURI(X).replace(se,pn),ue&&(X=X.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),X):null}function pn(X){return X=X.charCodeAt(0),"%"+(X>>4&15).toString(16)+(X&15).toString(16)}var br=/[#\/\?@]/g,gr=/[#\?:]/g,Cs=/[#\?]/g,rs=/[#\?@]/g,mi=/#/g;function sn(X,se){this.h=this.g=null,this.i=X||null,this.j=!!se}function Jr(X){X.g||(X.g=new Map,X.h=0,X.i&&Jt(X.i,function(se,ue){X.add(decodeURIComponent(se.replace(/\+/g," ")),ue)}))}r=sn.prototype,r.add=function(X,se){Jr(this),this.i=null,X=ka(this,X);let ue=this.g.get(X);return ue||this.g.set(X,ue=[]),ue.push(se),this.h+=1,this};function zs(X,se){Jr(X),se=ka(X,se),X.g.has(se)&&(X.i=null,X.h-=X.g.get(se).length,X.g.delete(se))}function Sa(X,se){return Jr(X),se=ka(X,se),X.g.has(se)}r.forEach=function(X,se){Jr(this),this.g.forEach(function(ue,Se){ue.forEach(function(rt){X.call(se,rt,Se,this)},this)},this)};function $a(X,se){Jr(X);let ue=[];if(typeof se=="string")Sa(X,se)&&(ue=ue.concat(X.g.get(ka(X,se))));else for(X=Array.from(X.g.values()),se=0;se<X.length;se++)ue=ue.concat(X[se]);return ue}r.set=function(X,se){return Jr(this),this.i=null,X=ka(this,X),Sa(this,X)&&(this.h-=this.g.get(X).length),this.g.set(X,[se]),this.h+=1,this},r.get=function(X,se){return X?(X=$a(this,X),X.length>0?String(X[0]):se):se};function Hs(X,se,ue){zs(X,se),ue.length>0&&(X.i=null,X.g.set(ka(X,se),d(ue)),X.h+=ue.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const X=[],se=Array.from(this.g.keys());for(let Se=0;Se<se.length;Se++){var ue=se[Se];const rt=ct(ue);ue=$a(this,ue);for(let ut=0;ut<ue.length;ut++){let It=rt;ue[ut]!==""&&(It+="="+ct(ue[ut])),X.push(It)}}return this.i=X.join("&")};function $s(X){const se=new sn;return se.i=X.i,X.g&&(se.g=new Map(X.g),se.h=X.h),se}function ka(X,se){return se=String(se),X.j&&(se=se.toLowerCase()),se}function Ta(X,se){se&&!X.j&&(Jr(X),X.i=null,X.g.forEach(function(ue,Se){const rt=Se.toLowerCase();Se!=rt&&(zs(this,Se),Hs(this,rt,ue))},X)),X.j=se}function gs(X,se){const ue=new lt;if(a.Image){const Se=new Image;Se.onload=u(Hn,ue,"TestLoadImage: loaded",!0,se,Se),Se.onerror=u(Hn,ue,"TestLoadImage: error",!1,se,Se),Se.onabort=u(Hn,ue,"TestLoadImage: abort",!1,se,Se),Se.ontimeout=u(Hn,ue,"TestLoadImage: timeout",!1,se,Se),a.setTimeout(function(){Se.ontimeout&&Se.ontimeout()},1e4),Se.src=X}else se(!1)}function qa(X,se){const ue=new lt,Se=new AbortController,rt=setTimeout(()=>{Se.abort(),Hn(ue,"TestPingServer: timeout",!1,se)},1e4);fetch(X,{signal:Se.signal}).then(ut=>{clearTimeout(rt),ut.ok?Hn(ue,"TestPingServer: ok",!0,se):Hn(ue,"TestPingServer: server error",!1,se)}).catch(()=>{clearTimeout(rt),Hn(ue,"TestPingServer: error",!1,se)})}function Hn(X,se,ue,Se,rt){try{rt&&(rt.onload=null,rt.onerror=null,rt.onabort=null,rt.ontimeout=null),Se(ue)}catch{}}function Ea(){this.g=new pt}function bs(X){this.i=X.Sb||null,this.h=X.ab||!1}p(bs,Ie),bs.prototype.g=function(){return new sa(this.i,this.h)};function sa(X,se){xe.call(this),this.H=X,this.o=se,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(sa,xe),r=sa.prototype,r.open=function(X,se){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=X,this.D=se,this.readyState=1,Aa(this)},r.send=function(X){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const se={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};X&&(se.body=X),(this.H||a).fetch(new Request(this.D,se)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Zi(this)),this.readyState=0},r.Pa=function(X){if(this.g&&(this.l=X,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=X.headers,this.readyState=2,Aa(this)),this.g&&(this.readyState=3,Aa(this),this.g)))if(this.responseType==="arraybuffer")X.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in X){if(this.j=X.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ec(this)}else X.text().then(this.Oa.bind(this),this.ga.bind(this))};function ec(X){X.j.read().then(X.Ma.bind(X)).catch(X.ga.bind(X))}r.Ma=function(X){if(this.g){if(this.o&&X.value)this.response.push(X.value);else if(!this.o){var se=X.value?X.value:new Uint8Array(0);(se=this.B.decode(se,{stream:!X.done}))&&(this.response=this.responseText+=se)}X.done?Zi(this):Aa(this),this.readyState==3&&ec(this)}},r.Oa=function(X){this.g&&(this.response=this.responseText=X,Zi(this))},r.Na=function(X){this.g&&(this.response=X,Zi(this))},r.ga=function(){this.g&&Zi(this)};function Zi(X){X.readyState=4,X.l=null,X.j=null,X.B=null,Aa(X)}r.setRequestHeader=function(X,se){this.A.append(X,se)},r.getResponseHeader=function(X){return this.h&&this.h.get(X.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const X=[],se=this.h.entries();for(var ue=se.next();!ue.done;)ue=ue.value,X.push(ue[0]+": "+ue[1]),ue=se.next();return X.join(`\r
`)};function Aa(X){X.onreadystatechange&&X.onreadystatechange.call(X)}Object.defineProperty(sa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(X){this.m=X?"include":"same-origin"}});function aa(X){let se="";return T(X,function(ue,Se){se+=Se,se+=":",se+=ue,se+=`\r
`}),se}function tl(X,se,ue){e:{for(Se in ue){var Se=!1;break e}Se=!0}Se||(ue=aa(ue),typeof X=="string"?ue!=null&&ct(ue):hr(X,se,ue))}function Br(X){xe.call(this),this.headers=new Map,this.L=X||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Br,xe);var Ga=/^https?$/i,xu=["POST","PUT"];r=Br.prototype,r.Fa=function(X){this.H=X},r.ea=function(X,se,ue,Se){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+X);se=se?se.toUpperCase():"GET",this.D=X,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():je.g(),this.g.onreadystatechange=h(o(this.Ca,this));try{this.B=!0,this.g.open(se,String(X),!0),this.B=!1}catch(ut){rl(this,ut);return}if(X=ue||"",ue=new Map(this.headers),Se)if(Object.getPrototypeOf(Se)===Object.prototype)for(var rt in Se)ue.set(rt,Se[rt]);else if(typeof Se.keys=="function"&&typeof Se.get=="function")for(const ut of Se.keys())ue.set(ut,Se.get(ut));else throw Error("Unknown input type for opt_headers: "+String(Se));Se=Array.from(ue.keys()).find(ut=>ut.toLowerCase()=="content-type"),rt=a.FormData&&X instanceof a.FormData,!(Array.prototype.indexOf.call(xu,se,void 0)>=0)||Se||rt||ue.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ut,It]of ue)this.g.setRequestHeader(ut,It);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(X),this.v=!1}catch(ut){rl(this,ut)}};function rl(X,se){X.h=!1,X.g&&(X.j=!0,X.g.abort(),X.j=!1),X.l=se,X.o=5,yu(X),gi(X)}function yu(X){X.A||(X.A=!0,Te(X,"complete"),Te(X,"error"))}r.abort=function(X){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=X||7,Te(this,"complete"),Te(this,"abort"),gi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gi(this,!0)),Br.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?nl(this):this.Xa())},r.Xa=function(){nl(this)};function nl(X){if(X.h&&typeof i<"u"){if(X.v&&Ca(X)==4)setTimeout(X.Ca.bind(X),0);else if(Te(X,"readystatechange"),Ca(X)==4){X.h=!1;try{const ut=X.ca();e:switch(ut){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var se=!0;break e;default:se=!1}var ue;if(!(ue=se)){var Se;if(Se=ut===0){let It=String(X.D).match(Vt)[1]||null;!It&&a.self&&a.self.location&&(It=a.self.location.protocol.slice(0,-1)),Se=!Ga.test(It?It.toLowerCase():"")}ue=Se}if(ue)Te(X,"complete"),Te(X,"success");else{X.o=6;try{var rt=Ca(X)>2?X.g.statusText:""}catch{rt=""}X.l=rt+" ["+X.ca()+"]",yu(X)}}finally{gi(X)}}}}function gi(X,se){if(X.g){X.m&&(clearTimeout(X.m),X.m=null);const ue=X.g;X.g=null,se||Te(X,"ready");try{ue.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Ca(X){return X.g?X.g.readyState:0}r.ca=function(){try{return Ca(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(X){if(this.g){var se=this.g.responseText;return X&&se.indexOf(X)==0&&(se=se.substring(X.length)),vt(se)}};function $n(X){try{if(!X.g)return null;if("response"in X.g)return X.g.response;switch(X.F){case"":case"text":return X.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in X.g)return X.g.mozResponseArrayBuffer}return null}catch{return null}}function bi(X){const se={};X=(X.g&&Ca(X)>=2&&X.g.getAllResponseHeaders()||"").split(`\r
`);for(let Se=0;Se<X.length;Se++){if(N(X[Se]))continue;var ue=ae(X[Se]);const rt=ue[0];if(ue=ue[1],typeof ue!="string")continue;ue=ue.trim();const ut=se[rt]||[];se[rt]=ut,ut.push(ue)}j(se,function(Se){return Se.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wa(X,se,ue){return ue&&ue.internalChannelParams&&ue.internalChannelParams[X]||se}function Ji(X){this.za=0,this.i=[],this.j=new lt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Wa("failFast",!1,X),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Wa("baseRetryDelayMs",5e3,X),this.Za=Wa("retryDelaySeedMs",1e4,X),this.Ta=Wa("forwardChannelMaxRetries",2,X),this.va=Wa("forwardChannelRequestTimeoutMs",2e4,X),this.ma=X&&X.xmlHttpFactory||void 0,this.Ua=X&&X.Rb||void 0,this.Aa=X&&X.useFetchStreams||!1,this.O=void 0,this.L=X&&X.supportsCrossDomainXhr||!1,this.M="",this.h=new ht(X&&X.concurrentRequestLimit),this.Ba=new Ea,this.S=X&&X.fastHandshake||!1,this.R=X&&X.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=X&&X.Pb||!1,X&&X.ua&&this.j.ua(),X&&X.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&X&&X.detectBufferingProxy||!1,this.ia=void 0,X&&X.longPollingTimeout&&X.longPollingTimeout>0&&(this.ia=X.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ji.prototype,r.ka=8,r.I=1,r.connect=function(X,se,ue,Se){Ae(0),this.W=X,this.H=se||{},ue&&Se!==void 0&&(this.H.OSID=ue,this.H.OAID=Se),this.F=this.X,this.J=Ch(this,null,this.W),Xa(this)};function vu(X){if(tc(X),X.I==3){var se=X.V++,ue=Yt(X.J);if(hr(ue,"SID",X.M),hr(ue,"RID",se),hr(ue,"TYPE","terminate"),sl(X,ue),se=new pe(X,X.j,se),se.M=2,se.A=ms(Yt(ue)),ue=!1,a.navigator&&a.navigator.sendBeacon)try{ue=a.navigator.sendBeacon(se.A.toString(),"")}catch{}!ue&&a.Image&&(new Image().src=se.A,ue=!0),ue||(se.g=Nh(se.j,null),se.g.ea(se.A)),se.F=Date.now(),ze(se)}Ah(X)}function eo(X){X.g&&(_u(X),X.g.cancel(),X.g=null)}function tc(X){eo(X),X.v&&(a.clearTimeout(X.v),X.v=null),nc(X),X.h.cancel(),X.m&&(typeof X.m=="number"&&a.clearTimeout(X.m),X.m=null)}function Xa(X){if(!Nt(X.h)&&!X.m){X.m=!0;var se=X.Ea;z||I(),q||(z(),q=!0),B.add(se,X),X.D=0}}function rc(X,se){return yt(X.h)>=X.h.j-(X.m?1:0)?!1:X.m?(X.i=se.G.concat(X.i),!0):X.I==1||X.I==2||X.D>=(X.Sa?0:X.Ta)?!1:(X.m=et(o(X.Ea,X,se),Eh(X,X.D)),X.D++,!0)}r.Ea=function(X){if(this.m)if(this.m=null,this.I==1){if(!X){this.V=Math.floor(Math.random()*1e5),X=this.V++;const rt=new pe(this,this.j,X);let ut=this.o;if(this.U&&(ut?(ut=L(ut),Z(ut,this.U)):ut=this.U),this.u!==null||this.R||(rt.J=ut,ut=null),this.S)e:{for(var se=0,ue=0;ue<this.i.length;ue++){t:{var Se=this.i[ue];if("__data__"in Se.map&&(Se=Se.map.__data__,typeof Se=="string")){Se=Se.length;break t}Se=void 0}if(Se===void 0)break;if(se+=Se,se>4096){se=ue;break e}if(se===4096||ue===this.i.length-1){se=ue+1;break e}}se=1e3}else se=1e3;se=_h(this,rt,se),ue=Yt(this.J),hr(ue,"RID",X),hr(ue,"CVER",22),this.G&&hr(ue,"X-HTTP-Session-Id",this.G),sl(this,ue),ut&&(this.R?se="headers="+ct(aa(ut))+"&"+se:this.u&&tl(ue,this.u,ut)),Qt(this.h,rt),this.Ra&&hr(ue,"TYPE","init"),this.S?(hr(ue,"$req",se),hr(ue,"SID","null"),rt.U=!0,ye(rt,ue,null)):ye(rt,ue,se),this.I=2}}else this.I==3&&(X?wu(this,X):this.i.length==0||Nt(this.h)||wu(this))};function wu(X,se){var ue;se?ue=se.l:ue=X.V++;const Se=Yt(X.J);hr(Se,"SID",X.M),hr(Se,"RID",ue),hr(Se,"AID",X.K),sl(X,Se),X.u&&X.o&&tl(Se,X.u,X.o),ue=new pe(X,X.j,ue,X.D+1),X.u===null&&(ue.J=X.o),se&&(X.i=se.G.concat(X.i)),se=_h(X,ue,1e3),ue.H=Math.round(X.va*.5)+Math.round(X.va*.5*Math.random()),Qt(X.h,ue),ye(ue,Se,se)}function sl(X,se){X.H&&T(X.H,function(ue,Se){hr(se,Se,ue)}),X.l&&T({},function(ue,Se){hr(se,Se,ue)})}function _h(X,se,ue){ue=Math.min(X.i.length,ue);const Se=X.l?o(X.l.Ka,X.l,X):null;e:{var rt=X.i;let cr=-1;for(;;){const mn=["count="+ue];cr==-1?ue>0?(cr=rt[0].g,mn.push("ofs="+cr)):cr=0:mn.push("ofs="+cr);let Dr=!0;for(let en=0;en<ue;en++){var ut=rt[en].g;const ia=rt[en].map;if(ut-=cr,ut<0)cr=Math.max(0,rt[en].g-100),Dr=!1;else try{ut="req"+ut+"_"||"";try{var It=ia instanceof Map?ia:Object.entries(ia);for(const[Ka,Na]of It){let Ra=Na;l(Na)&&(Ra=Ze(Na)),mn.push(ut+Ka+"="+encodeURIComponent(Ra))}}catch(Ka){throw mn.push(ut+"type="+encodeURIComponent("_badmap")),Ka}}catch{Se&&Se(ia)}}if(Dr){It=mn.join("&");break e}}It=void 0}return X=X.i.splice(0,ue),se.G=X,It}function Sh(X){if(!X.g&&!X.v){X.Y=1;var se=X.Da;z||I(),q||(z(),q=!0),B.add(se,X),X.A=0}}function al(X){return X.g||X.v||X.A>=3?!1:(X.Y++,X.v=et(o(X.Da,X),Eh(X,X.A)),X.A++,!0)}r.Da=function(){if(this.v=null,kh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var X=4*this.T;this.j.info("BP detection timer enabled: "+X),this.B=et(o(this.Wa,this),X)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ae(10),eo(this),kh(this))};function _u(X){X.B!=null&&(a.clearTimeout(X.B),X.B=null)}function kh(X){X.g=new pe(X,X.j,"rpc",X.Y),X.u===null&&(X.g.J=X.o),X.g.P=0;var se=Yt(X.na);hr(se,"RID","rpc"),hr(se,"SID",X.M),hr(se,"AID",X.K),hr(se,"CI",X.F?"0":"1"),!X.F&&X.ia&&hr(se,"TO",X.ia),hr(se,"TYPE","xmlhttp"),sl(X,se),X.u&&X.o&&tl(se,X.u,X.o),X.O&&(X.g.H=X.O);var ue=X.g;X=X.ba,ue.M=1,ue.A=ms(Yt(se)),ue.u=null,ue.R=!0,Ne(ue,X)}r.Va=function(){this.C!=null&&(this.C=null,eo(this),al(this),Ae(19))};function nc(X){X.C!=null&&(a.clearTimeout(X.C),X.C=null)}function Th(X,se){var ue=null;if(X.g==se){nc(X),_u(X),X.g=null;var Se=2}else if(Rt(X.h,se))ue=se.G,Gt(X.h,se),Se=1;else return;if(X.I!=0){if(se.o)if(Se==1){ue=se.u?se.u.length:0,se=Date.now()-se.F;var rt=X.D;Se=mt(),Te(Se,new Ee(Se,ue)),Xa(X)}else Sh(X);else if(rt=se.m,rt==3||rt==0&&se.X>0||!(Se==1&&rc(X,se)||Se==2&&al(X)))switch(ue&&ue.length>0&&(se=X.h,se.i=se.i.concat(ue)),rt){case 1:Ya(X,5);break;case 4:Ya(X,10);break;case 3:Ya(X,6);break;default:Ya(X,2)}}}function Eh(X,se){let ue=X.Qa+Math.floor(Math.random()*X.Za);return X.isActive()||(ue*=2),ue*se}function Ya(X,se){if(X.j.info("Error code "+se),se==2){var ue=o(X.bb,X),Se=X.Ua;const rt=!Se;Se=new nr(Se||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||lr(Se,"https"),ms(Se),rt?gs(Se.toString(),ue):qa(Se.toString(),ue)}else Ae(2);X.I=0,X.l&&X.l.pa(se),Ah(X),tc(X)}r.bb=function(X){X?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))};function Ah(X){if(X.I=0,X.ja=[],X.l){const se=Wt(X.h);(se.length!=0||X.i.length!=0)&&(b(X.ja,se),b(X.ja,X.i),X.h.i.length=0,d(X.i),X.i.length=0),X.l.oa()}}function Ch(X,se,ue){var Se=ue instanceof nr?Yt(ue):new nr(ue);if(Se.g!="")se&&(Se.g=se+"."+Se.g),$r(Se,Se.u);else{var rt=a.location;Se=rt.protocol,se=se?se+"."+rt.hostname:rt.hostname,rt=+rt.port;const ut=new nr(null);Se&&lr(ut,Se),se&&(ut.g=se),rt&&$r(ut,rt),ue&&(ut.h=ue),Se=ut}return ue=X.G,se=X.wa,ue&&se&&hr(Se,ue,se),hr(Se,"VER",X.ka),sl(X,Se),Se}function Nh(X,se,ue){if(se&&!X.L)throw Error("Can't create secondary domain capable XhrIo object.");return se=X.Aa&&!X.ma?new Br(new bs({ab:ue})):new Br(X.ma),se.Fa(X.L),se}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Rh(){}r=Rh.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function to(){}to.prototype.g=function(X,se){return new xs(X,se)};function xs(X,se){xe.call(this),this.g=new Ji(se),this.l=X,this.h=se&&se.messageUrlParams||null,X=se&&se.messageHeaders||null,se&&se.clientProtocolHeaderRequired&&(X?X["X-Client-Protocol"]="webchannel":X={"X-Client-Protocol":"webchannel"}),this.g.o=X,X=se&&se.initMessageHeaders||null,se&&se.messageContentType&&(X?X["X-WebChannel-Content-Type"]=se.messageContentType:X={"X-WebChannel-Content-Type":se.messageContentType}),se&&se.sa&&(X?X["X-WebChannel-Client-Profile"]=se.sa:X={"X-WebChannel-Client-Profile":se.sa}),this.g.U=X,(X=se&&se.Qb)&&!N(X)&&(this.g.u=X),this.A=se&&se.supportsCrossDomainXhr||!1,this.v=se&&se.sendRawJson||!1,(se=se&&se.httpSessionIdParam)&&!N(se)&&(this.g.G=se,X=this.h,X!==null&&se in X&&(X=this.h,se in X&&delete X[se])),this.j=new xi(this)}p(xs,xe),xs.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},xs.prototype.close=function(){vu(this.g)},xs.prototype.o=function(X){var se=this.g;if(typeof X=="string"){var ue={};ue.__data__=X,X=ue}else this.v&&(ue={},ue.__data__=Ze(X),X=ue);se.i.push(new Ye(se.Ya++,X)),se.I==3&&Xa(se)},xs.prototype.N=function(){this.g.l=null,delete this.j,vu(this.g),delete this.g,xs.Z.N.call(this)};function Mh(X){De.call(this),X.__headers__&&(this.headers=X.__headers__,this.statusCode=X.__status__,delete X.__headers__,delete X.__status__);var se=X.__sm__;if(se){e:{for(const ue in se){X=ue;break e}X=void 0}(this.i=X)&&(X=this.i,se=se!==null&&X in se?se[X]:void 0),this.data=se}else this.data=X}p(Mh,De);function jh(){it.call(this),this.status=1}p(jh,it);function xi(X){this.g=X}p(xi,Rh),xi.prototype.ra=function(){Te(this.g,"a")},xi.prototype.qa=function(X){Te(this.g,new Mh(X))},xi.prototype.pa=function(X){Te(this.g,new jh)},xi.prototype.oa=function(){Te(this.g,"b")},to.prototype.createWebChannel=to.prototype.g,xs.prototype.send=xs.prototype.o,xs.prototype.open=xs.prototype.m,xs.prototype.close=xs.prototype.close,Z3=function(){return new to},Q3=function(){return mt()},K3=Be,i1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Dt.NO_ERROR=0,Dt.TIMEOUT=8,Dt.HTTP_ERROR=6,a0=Dt,Mt.COMPLETE="complete",Y3=Mt,$e.EventType=Ce,Ce.OPEN="a",Ce.CLOSE="b",Ce.ERROR="c",Ce.MESSAGE="d",xe.prototype.listen=xe.prototype.J,uf=$e,Br.prototype.listenOnce=Br.prototype.K,Br.prototype.getLastError=Br.prototype.Ha,Br.prototype.getLastErrorCode=Br.prototype.ya,Br.prototype.getStatus=Br.prototype.ca,Br.prototype.getResponseJson=Br.prototype.La,Br.prototype.getResponseText=Br.prototype.la,Br.prototype.send=Br.prototype.ea,Br.prototype.setWithCredentials=Br.prototype.Fa,X3=Br}).apply(typeof Pd<"u"?Pd:typeof self<"u"?self:typeof window<"u"?window:{});const Cw="@firebase/firestore",Nw="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}is.UNAUTHENTICATED=new is(null),is.GOOGLE_CREDENTIALS=new is("google-credentials-uid"),is.FIRST_PARTY=new is("first-party-uid"),is.MOCK_USER=new is("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uu="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=new H1("@firebase/firestore");function Fc(){return Vl.logLevel}function Bt(r,...t){if(Vl.logLevel<=_r.DEBUG){const e=t.map(rb);Vl.debug(`Firestore (${uu}): ${r}`,...e)}}function Hi(r,...t){if(Vl.logLevel<=_r.ERROR){const e=t.map(rb);Vl.error(`Firestore (${uu}): ${r}`,...e)}}function Zc(r,...t){if(Vl.logLevel<=_r.WARN){const e=t.map(rb);Vl.warn(`Firestore (${uu}): ${r}`,...e)}}function rb(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(r,t,e){let n="Unexpected state";typeof t=="string"?n=t:e=t,J3(r,n,e)}function J3(r,t,e){let n=`FIRESTORE (${uu}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(e!==void 0)try{n+=" CONTEXT: "+JSON.stringify(e)}catch{n+=" CONTEXT: "+e}throw Hi(n),new Error(n)}function Or(r,t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,r||J3(t,s,n)}function ir(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pt extends Xi{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class ZC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(is.UNAUTHENTICATED)))}shutdown(){}}class JC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class eN{constructor(t){this.t=t,this.currentUser=is.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Or(this.o===void 0,42304);let n=this.i;const s=c=>this.i!==n?(n=this.i,e(c)):Promise.resolve();let i=new Li;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Li,t.enqueueRetryable((()=>s(this.currentUser)))};const a=()=>{const c=i;t.enqueueRetryable((async()=>{await c.promise,await s(this.currentUser)}))},l=c=>{Bt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((c=>l(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Bt("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Li)}}),0),a()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((n=>this.i!==t?(Bt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Or(typeof n.accessToken=="string",31837,{l:n}),new e5(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Or(t===null||typeof t=="string",2055,{h:t}),new is(t)}}class tN{constructor(t,e,n){this.P=t,this.T=e,this.I=n,this.type="FirstParty",this.user=is.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class rN{constructor(t,e,n){this.P=t,this.T=e,this.I=n}getToken(){return Promise.resolve(new tN(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(is.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Rw{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nN{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xa(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Or(this.o===void 0,3512);const n=i=>{i.error!=null&&Bt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,Bt("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?e(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable((()=>n(i)))};const s=i=>{Bt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Bt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Rw(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Or(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new Rw(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let n=0;n<r;n++)e[n]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const s=sN(40);for(let i=0;i<s.length;++i)n.length<20&&s[i]<e&&(n+=t.charAt(s[i]%62))}return n}}function Sr(r,t){return r<t?-1:r>t?1:0}function o1(r,t){const e=Math.min(r.length,t.length);for(let n=0;n<e;n++){const s=r.charAt(n),i=t.charAt(n);if(s!==i)return Rg(s)===Rg(i)?Sr(s,i):Rg(s)?1:-1}return Sr(r.length,t.length)}const aN=55296,iN=57343;function Rg(r){const t=r.charCodeAt(0);return t>=aN&&t<=iN}function Jc(r,t,e){return r.length===t.length&&r.every(((n,s)=>e(n,t[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="__name__";class ni{constructor(t,e,n){e===void 0?e=0:e>t.length&&Kt(637,{offset:e,range:t.length}),n===void 0?n=t.length-e:n>t.length-e&&Kt(1746,{length:n,range:t.length-e}),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return ni.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof ni?t.forEach((n=>{e.push(n)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const i=ni.compareSegments(t.get(s),e.get(s));if(i!==0)return i}return Sr(t.length,e.length)}static compareSegments(t,e){const n=ni.isNumericId(t),s=ni.isNumericId(e);return n&&!s?-1:!n&&s?1:n&&s?ni.extractNumericId(t).compare(ni.extractNumericId(e)):o1(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Uo.fromString(t.substring(4,t.length-2))}}class Wr extends ni{construct(t,e,n){return new Wr(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const n of t){if(n.indexOf("//")>=0)throw new Pt(wt.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter((s=>s.length>0)))}return new Wr(e)}static emptyPath(){return new Wr([])}}const oN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zn extends ni{construct(t,e,n){return new Zn(t,e,n)}static isValidIdentifier(t){return oN.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Mw}static keyField(){return new Zn([Mw])}static fromServerFormat(t){const e=[];let n="",s=0;const i=()=>{if(n.length===0)throw new Pt(wt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""};let a=!1;for(;s<t.length;){const l=t[s];if(l==="\\"){if(s+1===t.length)throw new Pt(wt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const c=t[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Pt(wt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=c,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(n+=l,s++):(i(),s++)}if(i(),a)throw new Pt(wt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Zn(e)}static emptyPath(){return new Zn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(t){this.path=t}static fromPath(t){return new qt(Wr.fromString(t))}static fromName(t){return new qt(Wr.fromString(t).popFirst(5))}static empty(){return new qt(Wr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Wr.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Wr.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new qt(new Wr(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t5(r,t,e){if(!e)throw new Pt(wt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function lN(r,t,e,n){if(t===!0&&n===!0)throw new Pt(wt.INVALID_ARGUMENT,`${r} and ${e} cannot be used together.`)}function jw(r){if(!qt.isDocumentKey(r))throw new Pt(wt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Dw(r){if(qt.isDocumentKey(r))throw new Pt(wt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function r5(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function J0(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(n){return n.constructor?n.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Kt(12329,{type:typeof r})}function Us(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new Pt(wt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=J0(r);throw new Pt(wt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return r}function cN(r,t){if(t<=0)throw new Pt(wt.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(r,t){const e={typeString:r};return t&&(e.value=t),e}function lh(r,t){if(!r5(r))throw new Pt(wt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const n in t)if(t[n]){const s=t[n].typeString,i="value"in t[n]?{value:t[n].value}:void 0;if(!(n in r)){e=`JSON missing required field: '${n}'`;break}const a=r[n];if(s&&typeof a!==s){e=`JSON field '${n}' must be a ${s}.`;break}if(i!==void 0&&a!==i.value){e=`Expected '${n}' field to equal '${i.value}'`;break}}if(e)throw new Pt(wt.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw=-62135596800,Ow=1e6;class Qr{static now(){return Qr.fromMillis(Date.now())}static fromDate(t){return Qr.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor((t-1e3*e)*Ow);return new Qr(e,n)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Pt(wt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Pt(wt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<Iw)throw new Pt(wt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Pt(wt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ow}_compareTo(t){return this.seconds===t.seconds?Sr(this.nanoseconds,t.nanoseconds):Sr(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Qr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(lh(t,Qr._jsonSchema))return new Qr(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Iw;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Qr._jsonSchemaVersion="firestore/timestamp/1.0",Qr._jsonSchema={type:Mn("string",Qr._jsonSchemaVersion),seconds:Mn("number"),nanoseconds:Mn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{static fromTimestamp(t){return new tr(t)}static min(){return new tr(new Qr(0,0))}static max(){return new tr(new Qr(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf=-1;function uN(r,t){const e=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,s=tr.fromTimestamp(n===1e9?new Qr(e+1,0):new Qr(e,n));return new $o(s,qt.empty(),t)}function fN(r){return new $o(r.readTime,r.key,Lf)}class $o{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new $o(tr.min(),qt.empty(),Lf)}static max(){return new $o(tr.max(),qt.empty(),Lf)}}function hN(r,t){let e=r.readTime.compareTo(t.readTime);return e!==0?e:(e=qt.comparator(r.documentKey,t.documentKey),e!==0?e:Sr(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fu(r){if(r.code!==wt.FAILED_PRECONDITION||r.message!==dN)throw r;Bt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Kt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Et(((n,s)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(n,s)},this.catchCallback=i=>{this.wrapFailure(e,i).next(n,s)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof Et?e:Et.resolve(e)}catch(e){return Et.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):Et.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):Et.reject(e)}static resolve(t){return new Et(((e,n)=>{e(t)}))}static reject(t){return new Et(((e,n)=>{n(t)}))}static waitFor(t){return new Et(((e,n)=>{let s=0,i=0,a=!1;t.forEach((l=>{++s,l.next((()=>{++i,a&&i===s&&e()}),(c=>n(c)))})),a=!0,i===s&&e()}))}static or(t){let e=Et.resolve(!1);for(const n of t)e=e.next((s=>s?Et.resolve(s):n()));return e}static forEach(t,e){const n=[];return t.forEach(((s,i)=>{n.push(e.call(this,s,i))})),this.waitFor(n)}static mapArray(t,e){return new Et(((n,s)=>{const i=t.length,a=new Array(i);let l=0;for(let c=0;c<i;c++){const o=c;e(t[o]).next((u=>{a[o]=u,++l,l===i&&n(a)}),(u=>s(u)))}}))}static doWhile(t,e){return new Et(((n,s)=>{const i=()=>{t()===!0?e().next((()=>{i()}),s):n()};i()}))}}function mN(r){const t=r.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function hu(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>e.writeSequenceNumber(n))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ep.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb=-1;function tp(r){return r==null}function S0(r){return r===0&&1/r==-1/0}function gN(r){return typeof r=="number"&&Number.isInteger(r)&&!S0(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n5="";function bN(r){let t="";for(let e=0;e<r.length;e++)t.length>0&&(t=Fw(t)),t=xN(r.get(e),t);return Fw(t)}function xN(r,t){let e=t;const n=r.length;for(let s=0;s<n;s++){const i=r.charAt(s);switch(i){case"\0":e+="";break;case n5:e+="";break;default:e+=i}}return e}function Fw(r){return r+n5+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(r){let t=0;for(const e in r)Object.prototype.hasOwnProperty.call(r,e)&&t++;return t}function Zo(r,t){for(const e in r)Object.prototype.hasOwnProperty.call(r,e)&&t(e,r[e])}function s5(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t,e){this.comparator=t,this.root=e||Yn.EMPTY}insert(t,e){return new nn(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Yn.BLACK,null,null))}remove(t){return new nn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Yn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(n===0)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return e+n.left.size;s<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,n)=>(t(e,n),!1)))}toString(){const t=[];return this.inorderTraversal(((e,n)=>(t.push(`${e}:${n}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ld(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ld(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ld(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ld(this.root,t,this.comparator,!0)}}class Ld{constructor(t,e,n,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=e?n(t.key,e):1,e&&s&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Yn{constructor(t,e,n,s,i){this.key=t,this.value=e,this.color=n??Yn.RED,this.left=s??Yn.EMPTY,this.right=i??Yn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,s,i){return new Yn(t??this.key,e??this.value,n??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let s=this;const i=n(t,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(t,e,n),null):i===0?s.copy(null,e,null,null,null):s.copy(null,null,null,null,s.right.insert(t,e,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Yn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,s=this;if(e(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,e),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),e(t,s.key)===0){if(s.right.isEmpty())return Yn.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,e))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Yn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Yn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Kt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Kt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Kt(27949);return t+(this.isRed()?0:1)}}Yn.EMPTY=null,Yn.RED=!0,Yn.BLACK=!1;Yn.EMPTY=new class{constructor(){this.size=0}get key(){throw Kt(57766)}get value(){throw Kt(16141)}get color(){throw Kt(16727)}get left(){throw Kt(29726)}get right(){throw Kt(36894)}copy(t,e,n,s,i){return this}insert(t,e,n){return new Yn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(t){this.comparator=t,this.data=new nn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,n)=>(t(e),!1)))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,t[1])>=0)return;e(s.key)}}forEachWhile(t,e){let n;for(n=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Lw(this.data.getIterator())}getIteratorFrom(t){return new Lw(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((n=>{e=e.add(n)})),e}isEqual(t){if(!(t instanceof Fn)||this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const s=e.getNext().key,i=n.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Fn(this.comparator);return e.data=t,e}}class Lw{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(t){this.fields=t,t.sort(Zn.comparator)}static empty(){return new ta([])}unionWith(t){let e=new Fn(Zn.comparator);for(const n of this.fields)e=e.add(n);for(const n of t)e=e.add(n);return new ta(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Jc(this.fields,t.fields,((e,n)=>e.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new a5("Invalid base64 string: "+i):i}})(t);return new ts(e)}static fromUint8Array(t){const e=(function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i})(t);return new ts(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Sr(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ts.EMPTY_BYTE_STRING=new ts("");const yN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qo(r){if(Or(!!r,39018),typeof r=="string"){let t=0;const e=yN.exec(r);if(Or(!!e,46558,{timestamp:r}),e[1]){let s=e[1];s=(s+"000000000").substr(0,9),t=Number(s)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:vn(r.seconds),nanos:vn(r.nanos)}}function vn(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Go(r){return typeof r=="string"?ts.fromBase64String(r):ts.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i5="server_timestamp",o5="__type__",l5="__previous_value__",c5="__local_write_time__";function ab(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)==null?void 0:e.fields)||{})[o5])==null?void 0:n.stringValue)===i5}function rp(r){const t=r.mapValue.fields[l5];return ab(t)?rp(t):t}function Bf(r){const t=qo(r.mapValue.fields[c5].timestampValue);return new Qr(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(t,e,n,s,i,a,l,c,o,u){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=o,this.isUsingEmulator=u}}const k0="(default)";class Uf{constructor(t,e){this.projectId=t,this.database=e||k0}static empty(){return new Uf("","")}get isDefaultDatabase(){return this.database===k0}isEqual(t){return t instanceof Uf&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u5="__type__",wN="__max__",Bd={mapValue:{}},f5="__vector__",T0="value";function Wo(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ab(r)?4:SN(r)?9007199254740991:_N(r)?10:11:Kt(28295,{value:r})}function fi(r,t){if(r===t)return!0;const e=Wo(r);if(e!==Wo(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Bf(r).isEqual(Bf(t));case 3:return(function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=qo(s.timestampValue),l=qo(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(s,i){return Go(s.bytesValue).isEqual(Go(i.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(s,i){return vn(s.geoPointValue.latitude)===vn(i.geoPointValue.latitude)&&vn(s.geoPointValue.longitude)===vn(i.geoPointValue.longitude)})(r,t);case 2:return(function(s,i){if("integerValue"in s&&"integerValue"in i)return vn(s.integerValue)===vn(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=vn(s.doubleValue),l=vn(i.doubleValue);return a===l?S0(a)===S0(l):isNaN(a)&&isNaN(l)}return!1})(r,t);case 9:return Jc(r.arrayValue.values||[],t.arrayValue.values||[],fi);case 10:case 11:return(function(s,i){const a=s.mapValue.fields||{},l=i.mapValue.fields||{};if(Pw(a)!==Pw(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!fi(a[c],l[c])))return!1;return!0})(r,t);default:return Kt(52216,{left:r})}}function Vf(r,t){return(r.values||[]).find((e=>fi(e,t)))!==void 0}function eu(r,t){if(r===t)return 0;const e=Wo(r),n=Wo(t);if(e!==n)return Sr(e,n);switch(e){case 0:case 9007199254740991:return 0;case 1:return Sr(r.booleanValue,t.booleanValue);case 2:return(function(i,a){const l=vn(i.integerValue||i.doubleValue),c=vn(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1})(r,t);case 3:return Bw(r.timestampValue,t.timestampValue);case 4:return Bw(Bf(r),Bf(t));case 5:return o1(r.stringValue,t.stringValue);case 6:return(function(i,a){const l=Go(i),c=Go(a);return l.compareTo(c)})(r.bytesValue,t.bytesValue);case 7:return(function(i,a){const l=i.split("/"),c=a.split("/");for(let o=0;o<l.length&&o<c.length;o++){const u=Sr(l[o],c[o]);if(u!==0)return u}return Sr(l.length,c.length)})(r.referenceValue,t.referenceValue);case 8:return(function(i,a){const l=Sr(vn(i.latitude),vn(a.latitude));return l!==0?l:Sr(vn(i.longitude),vn(a.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Uw(r.arrayValue,t.arrayValue);case 10:return(function(i,a){var h,d,b,x;const l=i.fields||{},c=a.fields||{},o=(h=l[T0])==null?void 0:h.arrayValue,u=(d=c[T0])==null?void 0:d.arrayValue,p=Sr(((b=o==null?void 0:o.values)==null?void 0:b.length)||0,((x=u==null?void 0:u.values)==null?void 0:x.length)||0);return p!==0?p:Uw(o,u)})(r.mapValue,t.mapValue);case 11:return(function(i,a){if(i===Bd.mapValue&&a===Bd.mapValue)return 0;if(i===Bd.mapValue)return 1;if(a===Bd.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),o=a.fields||{},u=Object.keys(o);c.sort(),u.sort();for(let p=0;p<c.length&&p<u.length;++p){const h=o1(c[p],u[p]);if(h!==0)return h;const d=eu(l[c[p]],o[u[p]]);if(d!==0)return d}return Sr(c.length,u.length)})(r.mapValue,t.mapValue);default:throw Kt(23264,{he:e})}}function Bw(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Sr(r,t);const e=qo(r),n=qo(t),s=Sr(e.seconds,n.seconds);return s!==0?s:Sr(e.nanos,n.nanos)}function Uw(r,t){const e=r.values||[],n=t.values||[];for(let s=0;s<e.length&&s<n.length;++s){const i=eu(e[s],n[s]);if(i)return i}return Sr(e.length,n.length)}function tu(r){return l1(r)}function l1(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(e){const n=qo(e);return`time(${n.seconds},${n.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(e){return Go(e).toBase64()})(r.bytesValue):"referenceValue"in r?(function(e){return qt.fromName(e).toString()})(r.referenceValue):"geoPointValue"in r?(function(e){return`geo(${e.latitude},${e.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(e){let n="[",s=!0;for(const i of e.values||[])s?s=!1:n+=",",n+=l1(i);return n+"]"})(r.arrayValue):"mapValue"in r?(function(e){const n=Object.keys(e.fields||{}).sort();let s="{",i=!0;for(const a of n)i?i=!1:s+=",",s+=`${a}:${l1(e.fields[a])}`;return s+"}"})(r.mapValue):Kt(61005,{value:r})}function i0(r){switch(Wo(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=rp(r);return t?16+i0(t):16;case 5:return 2*r.stringValue.length;case 6:return Go(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((s,i)=>s+i0(i)),0)})(r.arrayValue);case 10:case 11:return(function(n){let s=0;return Zo(n.fields,((i,a)=>{s+=i.length+i0(a)})),s})(r.mapValue);default:throw Kt(13486,{value:r})}}function Vw(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function c1(r){return!!r&&"integerValue"in r}function ib(r){return!!r&&"arrayValue"in r}function zw(r){return!!r&&"nullValue"in r}function Hw(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function o0(r){return!!r&&"mapValue"in r}function _N(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)==null?void 0:e.fields)||{})[u5])==null?void 0:n.stringValue)===f5}function vf(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Zo(r.mapValue.fields,((e,n)=>t.mapValue.fields[e]=vf(n))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(r.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=vf(r.arrayValue.values[e]);return t}return{...r}}function SN(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===wN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(t){this.value=t}static empty(){return new Ps({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!o0(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=vf(e)}setAll(t){let e=Zn.emptyPath(),n={},s=[];t.forEach(((a,l)=>{if(!e.isImmediateParentOf(l)){const c=this.getFieldsMap(e);this.applyChanges(c,n,s),n={},s=[],e=l.popLast()}a?n[l.lastSegment()]=vf(a):s.push(l.lastSegment())}));const i=this.getFieldsMap(e);this.applyChanges(i,n,s)}delete(t){const e=this.field(t.popLast());o0(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return fi(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let s=e.mapValue.fields[t.get(n)];o0(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=s),e=s}return e.mapValue.fields}applyChanges(t,e,n){Zo(e,((s,i)=>t[s]=i));for(const s of n)delete t[s]}clone(){return new Ps(vf(this.value))}}function h5(r){const t=[];return Zo(r.fields,((e,n)=>{const s=new Zn([e]);if(o0(n)){const i=h5(n.mapValue).fields;if(i.length===0)t.push(s);else for(const a of i)t.push(s.child(a))}else t.push(s)})),new ta(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(t,e,n,s,i,a,l){this.key=t,this.documentType=e,this.version=n,this.readTime=s,this.createTime=i,this.data=a,this.documentState=l}static newInvalidDocument(t){return new ls(t,0,tr.min(),tr.min(),tr.min(),Ps.empty(),0)}static newFoundDocument(t,e,n,s){return new ls(t,1,e,tr.min(),n,s,0)}static newNoDocument(t,e){return new ls(t,2,e,tr.min(),tr.min(),Ps.empty(),0)}static newUnknownDocument(t,e){return new ls(t,3,e,tr.min(),tr.min(),Ps.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(tr.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ps.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ps.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=tr.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ls&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ls(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(t,e){this.position=t,this.inclusive=e}}function $w(r,t,e){let n=0;for(let s=0;s<r.position.length;s++){const i=t[s],a=r.position[s];if(i.field.isKeyField()?n=qt.comparator(qt.fromName(a.referenceValue),e.key):n=eu(a,e.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function qw(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let e=0;e<r.position.length;e++)if(!fi(r.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(t,e="asc"){this.field=t,this.dir=e}}function kN(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{}class Rn extends d5{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,n):new EN(t,e,n):e==="array-contains"?new NN(t,n):e==="in"?new RN(t,n):e==="not-in"?new MN(t,n):e==="array-contains-any"?new jN(t,n):new Rn(t,e,n)}static createKeyFieldInFilter(t,e,n){return e==="in"?new AN(t,n):new CN(t,n)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(eu(e,this.value)):e!==null&&Wo(this.value)===Wo(e)&&this.matchesComparison(eu(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Kt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ha extends d5{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Ha(t,e)}matches(t){return p5(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function p5(r){return r.op==="and"}function m5(r){return TN(r)&&p5(r)}function TN(r){for(const t of r.filters)if(t instanceof Ha)return!1;return!0}function u1(r){if(r instanceof Rn)return r.field.canonicalString()+r.op.toString()+tu(r.value);if(m5(r))return r.filters.map((t=>u1(t))).join(",");{const t=r.filters.map((e=>u1(e))).join(",");return`${r.op}(${t})`}}function g5(r,t){return r instanceof Rn?(function(n,s){return s instanceof Rn&&n.op===s.op&&n.field.isEqual(s.field)&&fi(n.value,s.value)})(r,t):r instanceof Ha?(function(n,s){return s instanceof Ha&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce(((i,a,l)=>i&&g5(a,s.filters[l])),!0):!1})(r,t):void Kt(19439)}function b5(r){return r instanceof Rn?(function(e){return`${e.field.canonicalString()} ${e.op} ${tu(e.value)}`})(r):r instanceof Ha?(function(e){return e.op.toString()+" {"+e.getFilters().map(b5).join(" ,")+"}"})(r):"Filter"}class EN extends Rn{constructor(t,e,n){super(t,e,n),this.key=qt.fromName(n.referenceValue)}matches(t){const e=qt.comparator(t.key,this.key);return this.matchesComparison(e)}}class AN extends Rn{constructor(t,e){super(t,"in",e),this.keys=x5("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class CN extends Rn{constructor(t,e){super(t,"not-in",e),this.keys=x5("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function x5(r,t){var e;return(((e=t.arrayValue)==null?void 0:e.values)||[]).map((n=>qt.fromName(n.referenceValue)))}class NN extends Rn{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return ib(e)&&Vf(e.arrayValue,this.value)}}class RN extends Rn{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Vf(this.value.arrayValue,e)}}class MN extends Rn{constructor(t,e){super(t,"not-in",e)}matches(t){if(Vf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Vf(this.value.arrayValue,e)}}class jN extends Rn{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!ib(e)||!e.arrayValue.values)&&e.arrayValue.values.some((n=>Vf(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(t,e=null,n=[],s=[],i=null,a=null,l=null){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=s,this.limit=i,this.startAt=a,this.endAt=l,this.Te=null}}function Gw(r,t=null,e=[],n=[],s=null,i=null,a=null){return new DN(r,t,e,n,s,i,a)}function ob(r){const t=ir(r);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((n=>u1(n))).join(","),e+="|ob:",e+=t.orderBy.map((n=>(function(i){return i.field.canonicalString()+i.dir})(n))).join(","),tp(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((n=>tu(n))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((n=>tu(n))).join(",")),t.Te=e}return t.Te}function lb(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<r.orderBy.length;e++)if(!kN(r.orderBy[e],t.orderBy[e]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let e=0;e<r.filters.length;e++)if(!g5(r.filters[e],t.filters[e]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!qw(r.startAt,t.startAt)&&qw(r.endAt,t.endAt)}function f1(r){return qt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(t,e=null,n=[],s=[],i=null,a="F",l=null,c=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=s,this.limit=i,this.limitType=a,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function IN(r,t,e,n,s,i,a,l){return new du(r,t,e,n,s,i,a,l)}function np(r){return new du(r)}function Ww(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function y5(r){return r.collectionGroup!==null}function wf(r){const t=ir(r);if(t.Ie===null){t.Ie=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Fn(Zn.comparator);return a.filters.forEach((c=>{c.getFlattenedFilters().forEach((o=>{o.isInequality()&&(l=l.add(o.field))}))})),l})(t).forEach((i=>{e.has(i.canonicalString())||i.isKeyField()||t.Ie.push(new zf(i,n))})),e.has(Zn.keyField().canonicalString())||t.Ie.push(new zf(Zn.keyField(),n))}return t.Ie}function ai(r){const t=ir(r);return t.Ee||(t.Ee=ON(t,wf(r))),t.Ee}function ON(r,t){if(r.limitType==="F")return Gw(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new zf(s.field,i)}));const e=r.endAt?new E0(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new E0(r.startAt.position,r.startAt.inclusive):null;return Gw(r.path,r.collectionGroup,t,r.filters,r.limit,e,n)}}function h1(r,t){const e=r.filters.concat([t]);return new du(r.path,r.collectionGroup,r.explicitOrderBy.slice(),e,r.limit,r.limitType,r.startAt,r.endAt)}function A0(r,t,e){return new du(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,e,r.startAt,r.endAt)}function sp(r,t){return lb(ai(r),ai(t))&&r.limitType===t.limitType}function v5(r){return`${ob(ai(r))}|lt:${r.limitType}`}function Pc(r){return`Query(target=${(function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map((s=>b5(s))).join(", ")}]`),tp(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map((s=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(s))).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>tu(s))).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>tu(s))).join(",")),`Target(${n})`})(ai(r))}; limitType=${r.limitType})`}function ap(r,t){return t.isFoundDocument()&&(function(n,s){const i=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):qt.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)})(r,t)&&(function(n,s){for(const i of wf(n))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0})(r,t)&&(function(n,s){for(const i of n.filters)if(!i.matches(s))return!1;return!0})(r,t)&&(function(n,s){return!(n.startAt&&!(function(a,l,c){const o=$w(a,l,c);return a.inclusive?o<=0:o<0})(n.startAt,wf(n),s)||n.endAt&&!(function(a,l,c){const o=$w(a,l,c);return a.inclusive?o>=0:o>0})(n.endAt,wf(n),s))})(r,t)}function FN(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function w5(r){return(t,e)=>{let n=!1;for(const s of wf(r)){const i=PN(s,t,e);if(i!==0)return i;n=n||s.field.isKeyField()}return 0}}function PN(r,t,e){const n=r.field.isKeyField()?qt.comparator(t.key,e.key):(function(i,a,l){const c=a.data.field(i),o=l.data.field(i);return c!==null&&o!==null?eu(c,o):Kt(42886)})(r.field,t,e);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return Kt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(n!==void 0){for(const[s,i]of n)if(this.equalsFn(s,t))return i}}has(t){return this.get(t)!==void 0}set(t,e){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return this.inner[n]=[[t,e]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],t))return void(s[i]=[t,e]);s.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(n===void 0)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],t))return n.length===1?delete this.inner[e]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(t){Zo(this.inner,((e,n)=>{for(const[s,i]of n)t(s,i)}))}isEmpty(){return s5(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=new nn(qt.comparator);function $i(){return LN}const _5=new nn(qt.comparator);function ff(...r){let t=_5;for(const e of r)t=t.insert(e.key,e);return t}function S5(r){let t=_5;return r.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function El(){return _f()}function k5(){return _f()}function _f(){return new Gl((r=>r.toString()),((r,t)=>r.isEqual(t)))}const BN=new nn(qt.comparator),UN=new Fn(qt.comparator);function kr(...r){let t=UN;for(const e of r)t=t.add(e);return t}const VN=new Fn(Sr);function zN(){return VN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:S0(t)?"-0":t}}function T5(r){return{integerValue:""+r}}function HN(r,t){return gN(t)?T5(t):cb(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(){this._=void 0}}function $N(r,t,e){return r instanceof Hf?(function(s,i){const a={fields:{[o5]:{stringValue:i5},[c5]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&ab(i)&&(i=rp(i)),i&&(a.fields[l5]=i),{mapValue:a}})(e,t):r instanceof $f?A5(r,t):r instanceof qf?C5(r,t):(function(s,i){const a=E5(s,i),l=Xw(a)+Xw(s.Ae);return c1(a)&&c1(s.Ae)?T5(l):cb(s.serializer,l)})(r,t)}function qN(r,t,e){return r instanceof $f?A5(r,t):r instanceof qf?C5(r,t):e}function E5(r,t){return r instanceof C0?(function(n){return c1(n)||(function(i){return!!i&&"doubleValue"in i})(n)})(t)?t:{integerValue:0}:null}class Hf extends ip{}class $f extends ip{constructor(t){super(),this.elements=t}}function A5(r,t){const e=N5(t);for(const n of r.elements)e.some((s=>fi(s,n)))||e.push(n);return{arrayValue:{values:e}}}class qf extends ip{constructor(t){super(),this.elements=t}}function C5(r,t){let e=N5(t);for(const n of r.elements)e=e.filter((s=>!fi(s,n)));return{arrayValue:{values:e}}}class C0 extends ip{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function Xw(r){return vn(r.integerValue||r.doubleValue)}function N5(r){return ib(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(t,e){this.field=t,this.transform=e}}function WN(r,t){return r.field.isEqual(t.field)&&(function(n,s){return n instanceof $f&&s instanceof $f||n instanceof qf&&s instanceof qf?Jc(n.elements,s.elements,fi):n instanceof C0&&s instanceof C0?fi(n.Ae,s.Ae):n instanceof Hf&&s instanceof Hf})(r.transform,t.transform)}class XN{constructor(t,e){this.version=t,this.transformResults=e}}class Vs{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Vs}static exists(t){return new Vs(void 0,t)}static updateTime(t){return new Vs(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function l0(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class op{}function R5(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new lp(r.key,Vs.none()):new ch(r.key,r.data,Vs.none());{const e=r.data,n=Ps.empty();let s=new Fn(Zn.comparator);for(let i of t.fields)if(!s.has(i)){let a=e.field(i);a===null&&i.length>1&&(i=i.popLast(),a=e.field(i)),a===null?n.delete(i):n.set(i,a),s=s.add(i)}return new Jo(r.key,n,new ta(s.toArray()),Vs.none())}}function YN(r,t,e){r instanceof ch?(function(s,i,a){const l=s.value.clone(),c=Kw(s.fieldTransforms,i,a.transformResults);l.setAll(c),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()})(r,t,e):r instanceof Jo?(function(s,i,a){if(!l0(s.precondition,i))return void i.convertToUnknownDocument(a.version);const l=Kw(s.fieldTransforms,i,a.transformResults),c=i.data;c.setAll(M5(s)),c.setAll(l),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()})(r,t,e):(function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()})(0,t,e)}function Sf(r,t,e,n){return r instanceof ch?(function(i,a,l,c){if(!l0(i.precondition,a))return l;const o=i.value.clone(),u=Qw(i.fieldTransforms,c,a);return o.setAll(u),a.convertToFoundDocument(a.version,o).setHasLocalMutations(),null})(r,t,e,n):r instanceof Jo?(function(i,a,l,c){if(!l0(i.precondition,a))return l;const o=Qw(i.fieldTransforms,c,a),u=a.data;return u.setAll(M5(i)),u.setAll(o),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((p=>p.field)))})(r,t,e,n):(function(i,a,l){return l0(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l})(r,t,e)}function KN(r,t){let e=null;for(const n of r.fieldTransforms){const s=t.data.field(n.field),i=E5(n.transform,s||null);i!=null&&(e===null&&(e=Ps.empty()),e.set(n.field,i))}return e||null}function Yw(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&Jc(n,s,((i,a)=>WN(i,a)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class ch extends op{constructor(t,e,n,s=[]){super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Jo extends op{constructor(t,e,n,s,i=[]){super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function M5(r){const t=new Map;return r.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const n=r.data.field(e);t.set(e,n)}})),t}function Kw(r,t,e){const n=new Map;Or(r.length===e.length,32656,{Re:e.length,Ve:r.length});for(let s=0;s<e.length;s++){const i=r[s],a=i.transform,l=t.data.field(i.field);n.set(i.field,qN(a,l,e[s]))}return n}function Qw(r,t,e){const n=new Map;for(const s of r){const i=s.transform,a=e.data.field(s.field);n.set(s.field,$N(i,a,t))}return n}class lp extends op{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QN extends op{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(t,e,n,s){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(t.key)&&YN(i,t,n[s])}}applyToLocalView(t,e){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(e=Sf(n,t,e,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(e=Sf(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const n=k5();return this.mutations.forEach((s=>{const i=t.get(s.key),a=i.overlayedDocument;let l=this.applyToLocalView(a,i.mutatedFields);l=e.has(s.key)?null:l;const c=R5(a,l);c!==null&&n.set(s.key,c),a.isValidDocument()||a.convertToNoDocument(tr.min())})),n}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),kr())}isEqual(t){return this.batchId===t.batchId&&Jc(this.mutations,t.mutations,((e,n)=>Yw(e,n)))&&Jc(this.baseMutations,t.baseMutations,((e,n)=>Yw(e,n)))}}class ub{constructor(t,e,n,s){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=s}static from(t,e,n){Or(t.mutations.length===n.length,58842,{me:t.mutations.length,fe:n.length});let s=(function(){return BN})();const i=t.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,n[a].version);return new ub(t,e,n,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var En,Ar;function tR(r){switch(r){case wt.OK:return Kt(64938);case wt.CANCELLED:case wt.UNKNOWN:case wt.DEADLINE_EXCEEDED:case wt.RESOURCE_EXHAUSTED:case wt.INTERNAL:case wt.UNAVAILABLE:case wt.UNAUTHENTICATED:return!1;case wt.INVALID_ARGUMENT:case wt.NOT_FOUND:case wt.ALREADY_EXISTS:case wt.PERMISSION_DENIED:case wt.FAILED_PRECONDITION:case wt.ABORTED:case wt.OUT_OF_RANGE:case wt.UNIMPLEMENTED:case wt.DATA_LOSS:return!0;default:return Kt(15467,{code:r})}}function j5(r){if(r===void 0)return Hi("GRPC error has no .code"),wt.UNKNOWN;switch(r){case En.OK:return wt.OK;case En.CANCELLED:return wt.CANCELLED;case En.UNKNOWN:return wt.UNKNOWN;case En.DEADLINE_EXCEEDED:return wt.DEADLINE_EXCEEDED;case En.RESOURCE_EXHAUSTED:return wt.RESOURCE_EXHAUSTED;case En.INTERNAL:return wt.INTERNAL;case En.UNAVAILABLE:return wt.UNAVAILABLE;case En.UNAUTHENTICATED:return wt.UNAUTHENTICATED;case En.INVALID_ARGUMENT:return wt.INVALID_ARGUMENT;case En.NOT_FOUND:return wt.NOT_FOUND;case En.ALREADY_EXISTS:return wt.ALREADY_EXISTS;case En.PERMISSION_DENIED:return wt.PERMISSION_DENIED;case En.FAILED_PRECONDITION:return wt.FAILED_PRECONDITION;case En.ABORTED:return wt.ABORTED;case En.OUT_OF_RANGE:return wt.OUT_OF_RANGE;case En.UNIMPLEMENTED:return wt.UNIMPLEMENTED;case En.DATA_LOSS:return wt.DATA_LOSS;default:return Kt(39323,{code:r})}}(Ar=En||(En={}))[Ar.OK=0]="OK",Ar[Ar.CANCELLED=1]="CANCELLED",Ar[Ar.UNKNOWN=2]="UNKNOWN",Ar[Ar.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ar[Ar.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ar[Ar.NOT_FOUND=5]="NOT_FOUND",Ar[Ar.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ar[Ar.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ar[Ar.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ar[Ar.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ar[Ar.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ar[Ar.ABORTED=10]="ABORTED",Ar[Ar.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ar[Ar.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ar[Ar.INTERNAL=13]="INTERNAL",Ar[Ar.UNAVAILABLE=14]="UNAVAILABLE",Ar[Ar.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR=new Uo([4294967295,4294967295],0);function Zw(r){const t=rR().encode(r),e=new W3;return e.update(t),new Uint8Array(e.digest())}function Jw(r){const t=new DataView(r.buffer),e=t.getUint32(0,!0),n=t.getUint32(4,!0),s=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new Uo([e,n],0),new Uo([s,i],0)]}class fb{constructor(t,e,n){if(this.bitmap=t,this.padding=e,this.hashCount=n,e<0||e>=8)throw new hf(`Invalid padding: ${e}`);if(n<0)throw new hf(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new hf(`Invalid hash count: ${n}`);if(t.length===0&&e!==0)throw new hf(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Uo.fromNumber(this.ge)}ye(t,e,n){let s=t.add(e.multiply(Uo.fromNumber(n)));return s.compare(nR)===1&&(s=new Uo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=Zw(t),[n,s]=Jw(e);for(let i=0;i<this.hashCount;i++){const a=this.ye(n,s,i);if(!this.we(a))return!1}return!0}static create(t,e,n){const s=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),a=new fb(i,s,e);return n.forEach((l=>a.insert(l))),a}insert(t){if(this.ge===0)return;const e=Zw(t),[n,s]=Jw(e);for(let i=0;i<this.hashCount;i++){const a=this.ye(n,s,i);this.Se(a)}}Se(t){const e=Math.floor(t/8),n=t%8;this.bitmap[e]|=1<<n}}class hf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(t,e,n,s,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,e,n){const s=new Map;return s.set(t,uh.createSynthesizedTargetChangeForCurrentChange(t,e,n)),new cp(tr.min(),s,new nn(Sr),$i(),kr())}}class uh{constructor(t,e,n,s,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,e,n){return new uh(n,e,kr(),kr(),kr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(t,e,n,s){this.be=t,this.removedTargetIds=e,this.key=n,this.De=s}}class D5{constructor(t,e){this.targetId=t,this.Ce=e}}class I5{constructor(t,e,n=ts.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=s}}class e_{constructor(){this.ve=0,this.Fe=t_(),this.Me=ts.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=kr(),e=kr(),n=kr();return this.Fe.forEach(((s,i)=>{switch(i){case 0:t=t.add(s);break;case 2:e=e.add(s);break;case 1:n=n.add(s);break;default:Kt(38017,{changeType:i})}})),new uh(this.Me,this.xe,t,e,n)}qe(){this.Oe=!1,this.Fe=t_()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Or(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class sR{constructor(t){this.Ge=t,this.ze=new Map,this.je=$i(),this.Je=Ud(),this.He=Ud(),this.Ye=new nn(Sr)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const n=this.nt(e);switch(t.state){case 0:this.rt(e)&&n.Le(t.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(t.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(n.We(),n.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),n.Le(t.resumeToken));break;default:Kt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((n,s)=>{this.rt(s)&&e(s)}))}st(t){const e=t.targetId,n=t.Ce.count,s=this.ot(e);if(s){const i=s.target;if(f1(i))if(n===0){const a=new qt(i.path);this.et(e,a,ls.newNoDocument(a,tr.min()))}else Or(n===1,20013,{expectedCount:n});else{const a=this._t(e);if(a!==n){const l=this.ut(t),c=l?this.ct(l,t,a):1;if(c!==0){this.it(e);const o=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,o)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:n="",padding:s=0},hashCount:i=0}=e;let a,l;try{a=Go(n).toUint8Array()}catch(c){if(c instanceof a5)return Zc("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new fb(a,s,i)}catch(c){return Zc(c instanceof hf?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(t,e,n){return e.Ce.count===n-this.Pt(t,e.targetId)?0:2}Pt(t,e){const n=this.Ge.getRemoteKeysForTarget(e);let s=0;return n.forEach((i=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;t.mightContain(l)||(this.et(e,i,null),s++)})),s}Tt(t){const e=new Map;this.ze.forEach(((i,a)=>{const l=this.ot(a);if(l){if(i.current&&f1(l.target)){const c=new qt(l.target.path);this.It(c).has(a)||this.Et(a,c)||this.et(a,c,ls.newNoDocument(c,t))}i.Be&&(e.set(a,i.ke()),i.qe())}}));let n=kr();this.He.forEach(((i,a)=>{let l=!0;a.forEachWhile((c=>{const o=this.ot(c);return!o||o.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(n=n.add(i))})),this.je.forEach(((i,a)=>a.setReadTime(t)));const s=new cp(t,e,this.Ye,this.je,n);return this.je=$i(),this.Je=Ud(),this.He=Ud(),this.Ye=new nn(Sr),s}Xe(t,e){if(!this.rt(t))return;const n=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,n),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,n){if(!this.rt(t))return;const s=this.nt(t);this.Et(t,e)?s.Qe(e,1):s.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),n&&(this.je=this.je.insert(e,n))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new e_,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new Fn(Sr),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new Fn(Sr),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||Bt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new e_),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Ud(){return new nn(qt.comparator)}function t_(){return new nn(qt.comparator)}const aR={asc:"ASCENDING",desc:"DESCENDING"},iR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oR={and:"AND",or:"OR"};class lR{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function d1(r,t){return r.useProto3Json||tp(t)?t:{value:t}}function N0(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function O5(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function cR(r,t){return N0(r,t.toTimestamp())}function ii(r){return Or(!!r,49232),tr.fromTimestamp((function(e){const n=qo(e);return new Qr(n.seconds,n.nanos)})(r))}function hb(r,t){return p1(r,t).canonicalString()}function p1(r,t){const e=(function(s){return new Wr(["projects",s.projectId,"databases",s.database])})(r).child("documents");return t===void 0?e:e.child(t)}function F5(r){const t=Wr.fromString(r);return Or(V5(t),10190,{key:t.toString()}),t}function m1(r,t){return hb(r.databaseId,t.path)}function Mg(r,t){const e=F5(t);if(e.get(1)!==r.databaseId.projectId)throw new Pt(wt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+r.databaseId.projectId);if(e.get(3)!==r.databaseId.database)throw new Pt(wt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+r.databaseId.database);return new qt(L5(e))}function P5(r,t){return hb(r.databaseId,t)}function uR(r){const t=F5(r);return t.length===4?Wr.emptyPath():L5(t)}function g1(r){return new Wr(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function L5(r){return Or(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function r_(r,t,e){return{name:m1(r,t),fields:e.value.mapValue.fields}}function fR(r,t){let e;if("targetChange"in t){t.targetChange;const n=(function(o){return o==="NO_CHANGE"?0:o==="ADD"?1:o==="REMOVE"?2:o==="CURRENT"?3:o==="RESET"?4:Kt(39313,{state:o})})(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],i=(function(o,u){return o.useProto3Json?(Or(u===void 0||typeof u=="string",58123),ts.fromBase64String(u||"")):(Or(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),ts.fromUint8Array(u||new Uint8Array))})(r,t.targetChange.resumeToken),a=t.targetChange.cause,l=a&&(function(o){const u=o.code===void 0?wt.UNKNOWN:j5(o.code);return new Pt(u,o.message||"")})(a);e=new I5(n,s,i,l||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const s=Mg(r,n.document.name),i=ii(n.document.updateTime),a=n.document.createTime?ii(n.document.createTime):tr.min(),l=new Ps({mapValue:{fields:n.document.fields}}),c=ls.newFoundDocument(s,i,a,l),o=n.targetIds||[],u=n.removedTargetIds||[];e=new c0(o,u,c.key,c)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const s=Mg(r,n.document),i=n.readTime?ii(n.readTime):tr.min(),a=ls.newNoDocument(s,i),l=n.removedTargetIds||[];e=new c0([],l,a.key,a)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const s=Mg(r,n.document),i=n.removedTargetIds||[];e=new c0([],i,s,null)}else{if(!("filter"in t))return Kt(11601,{Rt:t});{t.filter;const n=t.filter;n.targetId;const{count:s=0,unchangedNames:i}=n,a=new eR(s,i),l=n.targetId;e=new D5(l,a)}}return e}function hR(r,t){let e;if(t instanceof ch)e={update:r_(r,t.key,t.value)};else if(t instanceof lp)e={delete:m1(r,t.key)};else if(t instanceof Jo)e={update:r_(r,t.key,t.data),updateMask:wR(t.fieldMask)};else{if(!(t instanceof QN))return Kt(16599,{Vt:t.type});e={verify:m1(r,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((n=>(function(i,a){const l=a.transform;if(l instanceof Hf)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof $f)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof qf)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof C0)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw Kt(20930,{transform:a.transform})})(0,n)))),t.precondition.isNone||(e.currentDocument=(function(s,i){return i.updateTime!==void 0?{updateTime:cR(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Kt(27497)})(r,t.precondition)),e}function dR(r,t){return r&&r.length>0?(Or(t!==void 0,14353),r.map((e=>(function(s,i){let a=s.updateTime?ii(s.updateTime):ii(i);return a.isEqual(tr.min())&&(a=ii(i)),new XN(a,s.transformResults||[])})(e,t)))):[]}function pR(r,t){return{documents:[P5(r,t.path)]}}function mR(r,t){const e={structuredQuery:{}},n=t.path;let s;t.collectionGroup!==null?(s=n,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=n.popLast(),e.structuredQuery.from=[{collectionId:n.lastSegment()}]),e.parent=P5(r,s);const i=(function(o){if(o.length!==0)return U5(Ha.create(o,"and"))})(t.filters);i&&(e.structuredQuery.where=i);const a=(function(o){if(o.length!==0)return o.map((u=>(function(h){return{field:Lc(h.field),direction:xR(h.dir)}})(u)))})(t.orderBy);a&&(e.structuredQuery.orderBy=a);const l=d1(r,t.limit);return l!==null&&(e.structuredQuery.limit=l),t.startAt&&(e.structuredQuery.startAt=(function(o){return{before:o.inclusive,values:o.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(o){return{before:!o.inclusive,values:o.position}})(t.endAt)),{ft:e,parent:s}}function gR(r){let t=uR(r.parent);const e=r.structuredQuery,n=e.from?e.from.length:0;let s=null;if(n>0){Or(n===1,65062);const u=e.from[0];u.allDescendants?s=u.collectionId:t=t.child(u.collectionId)}let i=[];e.where&&(i=(function(p){const h=B5(p);return h instanceof Ha&&m5(h)?h.getFilters():[h]})(e.where));let a=[];e.orderBy&&(a=(function(p){return p.map((h=>(function(b){return new zf(Bc(b.field),(function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(b.direction))})(h)))})(e.orderBy));let l=null;e.limit&&(l=(function(p){let h;return h=typeof p=="object"?p.value:p,tp(h)?null:h})(e.limit));let c=null;e.startAt&&(c=(function(p){const h=!!p.before,d=p.values||[];return new E0(d,h)})(e.startAt));let o=null;return e.endAt&&(o=(function(p){const h=!p.before,d=p.values||[];return new E0(d,h)})(e.endAt)),IN(t,s,a,i,l,"F",c,o)}function bR(r,t){const e=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Kt(28987,{purpose:s})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function B5(r){return r.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Bc(e.unaryFilter.field);return Rn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=Bc(e.unaryFilter.field);return Rn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Bc(e.unaryFilter.field);return Rn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Bc(e.unaryFilter.field);return Rn.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Kt(61313);default:return Kt(60726)}})(r):r.fieldFilter!==void 0?(function(e){return Rn.create(Bc(e.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Kt(58110);default:return Kt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(e){return Ha.create(e.compositeFilter.filters.map((n=>B5(n))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Kt(1026)}})(e.compositeFilter.op))})(r):Kt(30097,{filter:r})}function xR(r){return aR[r]}function yR(r){return iR[r]}function vR(r){return oR[r]}function Lc(r){return{fieldPath:r.canonicalString()}}function Bc(r){return Zn.fromServerFormat(r.fieldPath)}function U5(r){return r instanceof Rn?(function(e){if(e.op==="=="){if(Hw(e.value))return{unaryFilter:{field:Lc(e.field),op:"IS_NAN"}};if(zw(e.value))return{unaryFilter:{field:Lc(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Hw(e.value))return{unaryFilter:{field:Lc(e.field),op:"IS_NOT_NAN"}};if(zw(e.value))return{unaryFilter:{field:Lc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lc(e.field),op:yR(e.op),value:e.value}}})(r):r instanceof Ha?(function(e){const n=e.getFilters().map((s=>U5(s)));return n.length===1?n[0]:{compositeFilter:{op:vR(e.op),filters:n}}})(r):Kt(54877,{filter:r})}function wR(r){const t=[];return r.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function V5(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(t,e,n,s,i=tr.min(),a=tr.min(),l=ts.EMPTY_BYTE_STRING,c=null){this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(t){return new Mo(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Mo(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Mo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Mo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(t){this.yt=t}}function SR(r){const t=gR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?A0(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(){this.Cn=new TR}addToCollectionParentIndex(t,e){return this.Cn.add(e),Et.resolve()}getCollectionParents(t,e){return Et.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return Et.resolve()}deleteFieldIndex(t,e){return Et.resolve()}deleteAllFieldIndexes(t){return Et.resolve()}createTargetIndexes(t,e){return Et.resolve()}getDocumentsMatchingTarget(t,e){return Et.resolve(null)}getIndexType(t,e){return Et.resolve(0)}getFieldIndexes(t,e){return Et.resolve([])}getNextCollectionGroupToUpdate(t){return Et.resolve(null)}getMinOffset(t,e){return Et.resolve($o.min())}getMinOffsetFromCollectionGroup(t,e){return Et.resolve($o.min())}updateCollectionGroup(t,e,n){return Et.resolve()}updateIndexEntries(t,e){return Et.resolve()}}class TR{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),s=this.index[e]||new Fn(Wr.comparator),i=!s.has(n);return this.index[e]=s.add(n),i}has(t){const e=t.lastSegment(),n=t.popLast(),s=this.index[e];return s&&s.has(n)}getEntries(t){return(this.index[t]||new Fn(Wr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},z5=41943040;class Os{static withCacheSize(t){return new Os(t,Os.DEFAULT_COLLECTION_PERCENTILE,Os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Os.DEFAULT_COLLECTION_PERCENTILE=10,Os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Os.DEFAULT=new Os(z5,Os.DEFAULT_COLLECTION_PERCENTILE,Os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Os.DISABLED=new Os(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new ru(0)}static cr(){return new ru(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_="LruGarbageCollector",ER=1048576;function a_([r,t],[e,n]){const s=Sr(r,e);return s===0?Sr(t,n):s}class AR{constructor(t){this.Ir=t,this.buffer=new Fn(a_),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const n=this.buffer.last();a_(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}}get maxValue(){return this.buffer.last()[0]}}class CR{constructor(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){Bt(s_,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){hu(e)?Bt(s_,"Ignoring IndexedDB error during garbage collection: ",e):await fu(e)}await this.Vr(3e5)}))}}class NR{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((n=>Math.floor(e/100*n)))}nthSequenceNumber(t,e){if(e===0)return Et.resolve(ep.ce);const n=new AR(e);return this.mr.forEachTarget(t,(s=>n.Ar(s.sequenceNumber))).next((()=>this.mr.pr(t,(s=>n.Ar(s))))).next((()=>n.maxValue))}removeTargets(t,e,n){return this.mr.removeTargets(t,e,n)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(Bt("LruGarbageCollector","Garbage collection skipped; disabled"),Et.resolve(n_)):this.getCacheSize(t).next((n=>n<this.params.cacheSizeCollectionThreshold?(Bt("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),n_):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let n,s,i,a,l,c,o;const u=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(Bt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,a=Date.now(),this.nthSequenceNumber(t,s)))).next((p=>(n=p,l=Date.now(),this.removeTargets(t,n,e)))).next((p=>(i=p,c=Date.now(),this.removeOrphanedDocuments(t,n)))).next((p=>(o=Date.now(),Fc()<=_r.DEBUG&&Bt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-u}ms
	Determined least recently used ${s} in `+(l-a)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${p} documents in `+(o-c)+`ms
Total Duration: ${o-u}ms`),Et.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p}))))}}function RR(r,t){return new NR(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(){this.changes=new Gl((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,ls.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return n!==void 0?Et.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(t,e,n,s){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=s}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next((s=>(n=s,this.remoteDocumentCache.getEntry(t,e)))).next((s=>(n!==null&&Sf(n.mutation,s,ta.empty(),Qr.now()),s)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((n=>this.getLocalViewOfDocuments(t,n,kr()).next((()=>n))))}getLocalViewOfDocuments(t,e,n=kr()){const s=El();return this.populateOverlays(t,s,e).next((()=>this.computeViews(t,e,s,n).next((i=>{let a=ff();return i.forEach(((l,c)=>{a=a.insert(l,c.overlayedDocument)})),a}))))}getOverlayedDocuments(t,e){const n=El();return this.populateOverlays(t,n,e).next((()=>this.computeViews(t,e,n,kr())))}populateOverlays(t,e,n){const s=[];return n.forEach((i=>{e.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(t,s).next((i=>{i.forEach(((a,l)=>{e.set(a,l)}))}))}computeViews(t,e,n,s){let i=$i();const a=_f(),l=(function(){return _f()})();return e.forEach(((c,o)=>{const u=n.get(o.key);s.has(o.key)&&(u===void 0||u.mutation instanceof Jo)?i=i.insert(o.key,o):u!==void 0?(a.set(o.key,u.mutation.getFieldMask()),Sf(u.mutation,o,u.mutation.getFieldMask(),Qr.now())):a.set(o.key,ta.empty())})),this.recalculateAndSaveOverlays(t,i).next((c=>(c.forEach(((o,u)=>a.set(o,u))),e.forEach(((o,u)=>l.set(o,new jR(u,a.get(o)??null)))),l)))}recalculateAndSaveOverlays(t,e){const n=_f();let s=new nn(((a,l)=>a-l)),i=kr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((a=>{for(const l of a)l.keys().forEach((c=>{const o=e.get(c);if(o===null)return;let u=n.get(c)||ta.empty();u=l.applyToLocalView(o,u),n.set(c,u);const p=(s.get(l.batchId)||kr()).add(c);s=s.insert(l.batchId,p)}))})).next((()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),o=c.key,u=c.value,p=k5();u.forEach((h=>{if(!i.has(h)){const d=R5(e.get(h),n.get(h));d!==null&&p.set(h,d),i=i.add(h)}})),a.push(this.documentOverlayCache.saveOverlays(t,o,p))}return Et.waitFor(a)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((n=>this.recalculateAndSaveOverlays(t,n)))}getDocumentsMatchingQuery(t,e,n,s){return(function(a){return qt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):y5(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n,s):this.getDocumentsMatchingCollectionQuery(t,e,n,s)}getNextDocuments(t,e,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,s).next((i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,s-i.size):Et.resolve(El());let l=Lf,c=i;return a.next((o=>Et.forEach(o,((u,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),i.get(u)?Et.resolve():this.remoteDocumentCache.getEntry(t,u).next((h=>{c=c.insert(u,h)}))))).next((()=>this.populateOverlays(t,o,i))).next((()=>this.computeViews(t,c,o,kr()))).next((u=>({batchId:l,changes:S5(u)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new qt(e)).next((n=>{let s=ff();return n.isFoundDocument()&&(s=s.insert(n.key,n)),s}))}getDocumentsMatchingCollectionGroupQuery(t,e,n,s){const i=e.collectionGroup;let a=ff();return this.indexManager.getCollectionParents(t,i).next((l=>Et.forEach(l,(c=>{const o=(function(p,h){return new du(h,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(e,c.child(i));return this.getDocumentsMatchingCollectionQuery(t,o,n,s).next((u=>{u.forEach(((p,h)=>{a=a.insert(p,h)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(t,e,n,s){let i;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId).next((a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n,i,s)))).next((a=>{i.forEach(((c,o)=>{const u=o.getKey();a.get(u)===null&&(a=a.insert(u,ls.newInvalidDocument(u)))}));let l=ff();return a.forEach(((c,o)=>{const u=i.get(c);u!==void 0&&Sf(u.mutation,o,ta.empty(),Qr.now()),ap(e,o)&&(l=l.insert(c,o))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return Et.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(s){return{id:s.id,version:s.version,createTime:ii(s.createTime)}})(e)),Et.resolve()}getNamedQuery(t,e){return Et.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(s){return{name:s.name,query:SR(s.bundledQuery),readTime:ii(s.readTime)}})(e)),Et.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(){this.overlays=new nn(qt.comparator),this.qr=new Map}getOverlay(t,e){return Et.resolve(this.overlays.get(e))}getOverlays(t,e){const n=El();return Et.forEach(e,(s=>this.getOverlay(t,s).next((i=>{i!==null&&n.set(s,i)})))).next((()=>n))}saveOverlays(t,e,n){return n.forEach(((s,i)=>{this.St(t,e,i)})),Et.resolve()}removeOverlaysForBatchId(t,e,n){const s=this.qr.get(n);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(n)),Et.resolve()}getOverlaysForCollection(t,e,n){const s=El(),i=e.length+1,a=new qt(e.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,o=c.getKey();if(!e.isPrefixOf(o.path))break;o.path.length===i&&c.largestBatchId>n&&s.set(c.getKey(),c)}return Et.resolve(s)}getOverlaysForCollectionGroup(t,e,n,s){let i=new nn(((o,u)=>o-u));const a=this.overlays.getIterator();for(;a.hasNext();){const o=a.getNext().value;if(o.getKey().getCollectionGroup()===e&&o.largestBatchId>n){let u=i.get(o.largestBatchId);u===null&&(u=El(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}const l=El(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((o,u)=>l.set(o,u))),!(l.size()>=s)););return Et.resolve(l)}St(t,e,n){const s=this.overlays.get(n.key);if(s!==null){const a=this.qr.get(s.largestBatchId).delete(n.key);this.qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new JN(e,n));let i=this.qr.get(e);i===void 0&&(i=kr(),this.qr.set(e,i)),this.qr.set(e,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(){this.sessionToken=ts.EMPTY_BYTE_STRING}getSessionToken(t){return Et.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,Et.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(){this.Qr=new Fn(Bn.$r),this.Ur=new Fn(Bn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const n=new Bn(t,e);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(t,e){t.forEach((n=>this.addReference(n,e)))}removeReference(t,e){this.Gr(new Bn(t,e))}zr(t,e){t.forEach((n=>this.removeReference(n,e)))}jr(t){const e=new qt(new Wr([])),n=new Bn(e,t),s=new Bn(e,t+1),i=[];return this.Ur.forEachInRange([n,s],(a=>{this.Gr(a),i.push(a.key)})),i}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new qt(new Wr([])),n=new Bn(e,t),s=new Bn(e,t+1);let i=kr();return this.Ur.forEachInRange([n,s],(a=>{i=i.add(a.key)})),i}containsKey(t){const e=new Bn(t,0),n=this.Qr.firstAfterOrEqual(e);return n!==null&&t.isEqual(n.key)}}class Bn{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return qt.comparator(t.key,e.key)||Sr(t.Yr,e.Yr)}static Kr(t,e){return Sr(t.Yr,e.Yr)||qt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new Fn(Bn.$r)}checkEmpty(t){return Et.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,n,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new ZN(i,e,n,s);this.mutationQueue.push(a);for(const l of s)this.Zr=this.Zr.add(new Bn(l.key,i)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast());return Et.resolve(a)}lookupMutationBatch(t,e){return Et.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,s=this.ei(n),i=s<0?0:s;return Et.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Et.resolve(this.mutationQueue.length===0?sb:this.tr-1)}getAllMutationBatches(t){return Et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new Bn(e,0),s=new Bn(e,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,s],(a=>{const l=this.Xr(a.Yr);i.push(l)})),Et.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new Fn(Sr);return e.forEach((s=>{const i=new Bn(s,0),a=new Bn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,a],(l=>{n=n.add(l.Yr)}))})),Et.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,s=n.length+1;let i=n;qt.isDocumentKey(i)||(i=i.child(""));const a=new Bn(new qt(i),0);let l=new Fn(Sr);return this.Zr.forEachWhile((c=>{const o=c.key.path;return!!n.isPrefixOf(o)&&(o.length===s&&(l=l.add(c.Yr)),!0)}),a),Et.resolve(this.ti(l))}ti(t){const e=[];return t.forEach((n=>{const s=this.Xr(n);s!==null&&e.push(s)})),e}removeMutationBatch(t,e){Or(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return Et.forEach(e.mutations,(s=>{const i=new Bn(s.key,e.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)})).next((()=>{this.Zr=n}))}ir(t){}containsKey(t,e){const n=new Bn(e,0),s=this.Zr.firstAfterOrEqual(n);return Et.resolve(e.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,Et.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(t){this.ri=t,this.docs=(function(){return new nn(qt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,s=this.docs.get(n),i=s?s.size:0,a=this.ri(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return Et.resolve(n?n.document.mutableCopy():ls.newInvalidDocument(e))}getEntries(t,e){let n=$i();return e.forEach((s=>{const i=this.docs.get(s);n=n.insert(s,i?i.document.mutableCopy():ls.newInvalidDocument(s))})),Et.resolve(n)}getDocumentsMatchingQuery(t,e,n,s){let i=$i();const a=e.path,l=new qt(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:o,value:{document:u}}=c.getNext();if(!a.isPrefixOf(o.path))break;o.path.length>a.length+1||hN(fN(u),n)<=0||(s.has(u.key)||ap(e,u))&&(i=i.insert(u.key,u.mutableCopy()))}return Et.resolve(i)}getAllFromCollectionGroup(t,e,n,s){Kt(9500)}ii(t,e){return Et.forEach(this.docs,(n=>e(n)))}newChangeBuffer(t){return new BR(this)}getSize(t){return Et.resolve(this.size)}}class BR extends MR{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((n,s)=>{s.isValidDocument()?e.push(this.Nr.addEntry(t,s)):this.Nr.removeEntry(n)})),Et.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(t){this.persistence=t,this.si=new Gl((e=>ob(e)),lb),this.lastRemoteSnapshotVersion=tr.min(),this.highestTargetId=0,this.oi=0,this._i=new db,this.targetCount=0,this.ai=ru.ur()}forEachTarget(t,e){return this.si.forEach(((n,s)=>e(s))),Et.resolve()}getLastRemoteSnapshotVersion(t){return Et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Et.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Et.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.oi&&(this.oi=e),Et.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new ru(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,Et.resolve()}updateTargetData(t,e){return this.Pr(e),Et.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,Et.resolve()}removeTargets(t,e,n){let s=0;const i=[];return this.si.forEach(((a,l)=>{l.sequenceNumber<=e&&n.get(l.targetId)===null&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(t,l.targetId)),s++)})),Et.waitFor(i).next((()=>s))}getTargetCount(t){return Et.resolve(this.targetCount)}getTargetData(t,e){const n=this.si.get(e)||null;return Et.resolve(n)}addMatchingKeys(t,e,n){return this._i.Wr(e,n),Et.resolve()}removeMatchingKeys(t,e,n){this._i.zr(e,n);const s=this.persistence.referenceDelegate,i=[];return s&&e.forEach((a=>{i.push(s.markPotentiallyOrphaned(t,a))})),Et.waitFor(i)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),Et.resolve()}getMatchingKeysForTargetId(t,e){const n=this._i.Hr(e);return Et.resolve(n)}containsKey(t,e){return Et.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(t,e){this.ui={},this.overlays={},this.ci=new ep(0),this.li=!1,this.li=!0,this.hi=new FR,this.referenceDelegate=t(this),this.Pi=new UR(this),this.indexManager=new kR,this.remoteDocumentCache=(function(s){return new LR(s)})((n=>this.referenceDelegate.Ti(n))),this.serializer=new _R(e),this.Ii=new IR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new OR,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.ui[t.toKey()];return n||(n=new PR(e,this.referenceDelegate),this.ui[t.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,n){Bt("MemoryPersistence","Starting transaction:",t);const s=new VR(this.ci.next());return this.referenceDelegate.Ei(),n(s).next((i=>this.referenceDelegate.di(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ai(t,e){return Et.or(Object.values(this.ui).map((n=>()=>n.containsKey(t,e))))}}class VR extends pN{constructor(t){super(),this.currentSequenceNumber=t}}class pb{constructor(t){this.persistence=t,this.Ri=new db,this.Vi=null}static mi(t){return new pb(t)}get fi(){if(this.Vi)return this.Vi;throw Kt(60996)}addReference(t,e,n){return this.Ri.addReference(n,e),this.fi.delete(n.toString()),Et.resolve()}removeReference(t,e,n){return this.Ri.removeReference(n,e),this.fi.add(n.toString()),Et.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),Et.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((s=>this.fi.add(s.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next((s=>{s.forEach((i=>this.fi.add(i.toString())))})).next((()=>n.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Et.forEach(this.fi,(n=>{const s=qt.fromPath(n);return this.gi(t,s).next((i=>{i||e.removeEntry(s,tr.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((n=>{n?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return Et.or([()=>Et.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class R0{constructor(t,e){this.persistence=t,this.pi=new Gl((n=>bN(n.path)),((n,s)=>n.isEqual(s))),this.garbageCollector=RR(this,e)}static mi(t,e){return new R0(t,e)}Ei(){}di(t){return Et.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((n=>e.next((s=>n+s))))}wr(t){let e=0;return this.pr(t,(n=>{e++})).next((()=>e))}pr(t,e){return Et.forEach(this.pi,((n,s)=>this.br(t,n,s).next((i=>i?Et.resolve():e(s)))))}removeTargets(t,e,n){return this.persistence.getTargetCache().removeTargets(t,e,n)}removeOrphanedDocuments(t,e){let n=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(t,(a=>this.br(t,a,e).next((l=>{l||(n++,i.removeEntry(a,tr.min()))})))).next((()=>i.apply(t))).next((()=>n))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),Et.resolve()}removeTarget(t,e){const n=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,e,n){return this.pi.set(n,t.currentSequenceNumber),Et.resolve()}removeReference(t,e,n){return this.pi.set(n,t.currentSequenceNumber),Et.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),Et.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=i0(t.data.value)),e}br(t,e,n){return Et.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const s=this.pi.get(e);return Et.resolve(s!==void 0&&s>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(t,e,n,s){this.targetId=t,this.fromCache=e,this.Es=n,this.ds=s}static As(t,e){let n=kr(),s=kr();for(const i of e.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new mb(t,e.fromCache,n,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return F9()?8:mN(hs())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,n,s){const i={result:null};return this.ys(t,e).next((a=>{i.result=a})).next((()=>{if(!i.result)return this.ws(t,e,s,n).next((a=>{i.result=a}))})).next((()=>{if(i.result)return;const a=new zR;return this.Ss(t,e,a).next((l=>{if(i.result=l,this.Vs)return this.bs(t,e,a,l.size)}))})).next((()=>i.result))}bs(t,e,n,s){return n.documentReadCount<this.fs?(Fc()<=_r.DEBUG&&Bt("QueryEngine","SDK will not create cache indexes for query:",Pc(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Et.resolve()):(Fc()<=_r.DEBUG&&Bt("QueryEngine","Query:",Pc(e),"scans",n.documentReadCount,"local documents and returns",s,"documents as results."),n.documentReadCount>this.gs*s?(Fc()<=_r.DEBUG&&Bt("QueryEngine","The SDK decides to create cache indexes for query:",Pc(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ai(e))):Et.resolve())}ys(t,e){if(Ww(e))return Et.resolve(null);let n=ai(e);return this.indexManager.getIndexType(t,n).next((s=>s===0?null:(e.limit!==null&&s===1&&(e=A0(e,null,"F"),n=ai(e)),this.indexManager.getDocumentsMatchingTarget(t,n).next((i=>{const a=kr(...i);return this.ps.getDocuments(t,a).next((l=>this.indexManager.getMinOffset(t,n).next((c=>{const o=this.Ds(e,l);return this.Cs(e,o,a,c.readTime)?this.ys(t,A0(e,null,"F")):this.vs(t,o,e,c)}))))})))))}ws(t,e,n,s){return Ww(e)||s.isEqual(tr.min())?Et.resolve(null):this.ps.getDocuments(t,n).next((i=>{const a=this.Ds(e,i);return this.Cs(e,a,n,s)?Et.resolve(null):(Fc()<=_r.DEBUG&&Bt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Pc(e)),this.vs(t,a,e,uN(s,Lf)).next((l=>l)))}))}Ds(t,e){let n=new Fn(w5(t));return e.forEach(((s,i)=>{ap(t,i)&&(n=n.add(i))})),n}Cs(t,e,n,s){if(t.limit===null)return!1;if(n.size!==e.size)return!0;const i=t.limitType==="F"?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(t,e,n){return Fc()<=_r.DEBUG&&Bt("QueryEngine","Using full collection scan to execute query:",Pc(e)),this.ps.getDocumentsMatchingQuery(t,e,$o.min(),n)}vs(t,e,n,s){return this.ps.getDocumentsMatchingQuery(t,n,s).next((i=>(e.forEach((a=>{i=i.insert(a.key,a)})),i)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb="LocalStore",$R=3e8;class qR{constructor(t,e,n,s){this.persistence=t,this.Fs=e,this.serializer=s,this.Ms=new nn(Sr),this.xs=new Gl((i=>ob(i)),lb),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(n)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new DR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function GR(r,t,e,n){return new qR(r,t,e,n)}async function $5(r,t){const e=ir(r);return await e.persistence.runTransaction("Handle user change","readonly",(n=>{let s;return e.mutationQueue.getAllMutationBatches(n).next((i=>(s=i,e.Bs(t),e.mutationQueue.getAllMutationBatches(n)))).next((i=>{const a=[],l=[];let c=kr();for(const o of s){a.push(o.batchId);for(const u of o.mutations)c=c.add(u.key)}for(const o of i){l.push(o.batchId);for(const u of o.mutations)c=c.add(u.key)}return e.localDocuments.getDocuments(n,c).next((o=>({Ls:o,removedBatchIds:a,addedBatchIds:l})))}))}))}function WR(r,t){const e=ir(r);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const s=t.batch.keys(),i=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,c,o,u){const p=o.batch,h=p.keys();let d=Et.resolve();return h.forEach((b=>{d=d.next((()=>u.getEntry(c,b))).next((x=>{const g=o.docVersions.get(b);Or(g!==null,48541),x.version.compareTo(g)<0&&(p.applyToRemoteDocument(x,o),x.isValidDocument()&&(x.setReadTime(o.commitVersion),u.addEntry(x)))}))})),d.next((()=>l.mutationQueue.removeMutationBatch(c,p)))})(e,n,t,i).next((()=>i.apply(n))).next((()=>e.mutationQueue.performConsistencyCheck(n))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(n,s,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(l){let c=kr();for(let o=0;o<l.mutationResults.length;++o)l.mutationResults[o].transformResults.length>0&&(c=c.add(l.batch.mutations[o].key));return c})(t)))).next((()=>e.localDocuments.getDocuments(n,s)))}))}function q5(r){const t=ir(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function XR(r,t){const e=ir(r),n=t.snapshotVersion;let s=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const a=e.Ns.newChangeBuffer({trackRemovals:!0});s=e.Ms;const l=[];t.targetChanges.forEach(((u,p)=>{const h=s.get(p);if(!h)return;l.push(e.Pi.removeMatchingKeys(i,u.removedDocuments,p).next((()=>e.Pi.addMatchingKeys(i,u.addedDocuments,p))));let d=h.withSequenceNumber(i.currentSequenceNumber);t.targetMismatches.get(p)!==null?d=d.withResumeToken(ts.EMPTY_BYTE_STRING,tr.min()).withLastLimboFreeSnapshotVersion(tr.min()):u.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(u.resumeToken,n)),s=s.insert(p,d),(function(x,g,v){return x.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=$R?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0})(h,d,u)&&l.push(e.Pi.updateTargetData(i,d))}));let c=$i(),o=kr();if(t.documentUpdates.forEach((u=>{t.resolvedLimboDocuments.has(u)&&l.push(e.persistence.referenceDelegate.updateLimboDocument(i,u))})),l.push(YR(i,a,t.documentUpdates).next((u=>{c=u.ks,o=u.qs}))),!n.isEqual(tr.min())){const u=e.Pi.getLastRemoteSnapshotVersion(i).next((p=>e.Pi.setTargetsMetadata(i,i.currentSequenceNumber,n)));l.push(u)}return Et.waitFor(l).next((()=>a.apply(i))).next((()=>e.localDocuments.getLocalViewOfDocuments(i,c,o))).next((()=>c))})).then((i=>(e.Ms=s,i)))}function YR(r,t,e){let n=kr(),s=kr();return e.forEach((i=>n=n.add(i))),t.getEntries(r,n).next((i=>{let a=$i();return e.forEach(((l,c)=>{const o=i.get(l);c.isFoundDocument()!==o.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(tr.min())?(t.removeEntry(l,c.readTime),a=a.insert(l,c)):!o.isValidDocument()||c.version.compareTo(o.version)>0||c.version.compareTo(o.version)===0&&o.hasPendingWrites?(t.addEntry(c),a=a.insert(l,c)):Bt(gb,"Ignoring outdated watch update for ",l,". Current version:",o.version," Watch version:",c.version)})),{ks:a,qs:s}}))}function KR(r,t){const e=ir(r);return e.persistence.runTransaction("Get next mutation batch","readonly",(n=>(t===void 0&&(t=sb),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t))))}function QR(r,t){const e=ir(r);return e.persistence.runTransaction("Allocate target","readwrite",(n=>{let s;return e.Pi.getTargetData(n,t).next((i=>i?(s=i,Et.resolve(s)):e.Pi.allocateTargetId(n).next((a=>(s=new Mo(t,a,"TargetPurposeListen",n.currentSequenceNumber),e.Pi.addTargetData(n,s).next((()=>s)))))))})).then((n=>{const s=e.Ms.get(n.targetId);return(s===null||n.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(n.targetId,n),e.xs.set(t,n.targetId)),n}))}async function b1(r,t,e){const n=ir(r),s=n.Ms.get(t),i=e?"readwrite":"readwrite-primary";try{e||await n.persistence.runTransaction("Release target",i,(a=>n.persistence.referenceDelegate.removeTarget(a,s)))}catch(a){if(!hu(a))throw a;Bt(gb,`Failed to update sequence numbers for target ${t}: ${a}`)}n.Ms=n.Ms.remove(t),n.xs.delete(s.target)}function i_(r,t,e){const n=ir(r);let s=tr.min(),i=kr();return n.persistence.runTransaction("Execute query","readwrite",(a=>(function(c,o,u){const p=ir(c),h=p.xs.get(u);return h!==void 0?Et.resolve(p.Ms.get(h)):p.Pi.getTargetData(o,u)})(n,a,ai(t)).next((l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(a,l.targetId).next((c=>{i=c}))})).next((()=>n.Fs.getDocumentsMatchingQuery(a,t,e?s:tr.min(),e?i:kr()))).next((l=>(ZR(n,FN(t),l),{documents:l,Qs:i})))))}function ZR(r,t,e){let n=r.Os.get(t)||tr.min();e.forEach(((s,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)})),r.Os.set(t,n)}class o_{constructor(){this.activeTargetIds=zN()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class JR{constructor(){this.Mo=new o_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,n){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new o_,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_="ConnectivityMonitor";class c_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Bt(l_,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){Bt(l_,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vd=null;function x1(){return Vd===null?Vd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vd++,"0x"+Vd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg="RestConnection",tM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rM{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${n}/databases/${s}`,this.Wo=this.databaseId.database===k0?`project_id=${n}`:`project_id=${n}&database_id=${s}`}Go(t,e,n,s,i){const a=x1(),l=this.zo(t,e.toUriEncodedString());Bt(jg,`Sending RPC '${t}' ${a}:`,l,n);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:o}=new URL(l),u=iu(o);return this.Jo(t,l,c,n,u).then((p=>(Bt(jg,`Received RPC '${t}' ${a}: `,p),p)),(p=>{throw Zc(jg,`RPC '${t}' ${a} failed with error: `,p,"url: ",l,"request:",n),p}))}Ho(t,e,n,s,i,a){return this.Go(t,e,n,s,i)}jo(t,e,n){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+uu})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((s,i)=>t[i]=s)),n&&n.headers.forEach(((s,i)=>t[i]=s))}zo(t,e){const n=tM[t];return`${this.Uo}/v1/${e}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss="WebChannelConnection";class sM extends rM{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,n,s,i){const a=x1();return new Promise(((l,c)=>{const o=new X3;o.setWithCredentials(!0),o.listenOnce(Y3.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case a0.NO_ERROR:const p=o.getResponseJson();Bt(ss,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(p)),l(p);break;case a0.TIMEOUT:Bt(ss,`RPC '${t}' ${a} timed out`),c(new Pt(wt.DEADLINE_EXCEEDED,"Request time out"));break;case a0.HTTP_ERROR:const h=o.getStatus();if(Bt(ss,`RPC '${t}' ${a} failed with status:`,h,"response text:",o.getResponseText()),h>0){let d=o.getResponseJson();Array.isArray(d)&&(d=d[0]);const b=d==null?void 0:d.error;if(b&&b.status&&b.message){const x=(function(v){const y=v.toLowerCase().replace(/_/g,"-");return Object.values(wt).indexOf(y)>=0?y:wt.UNKNOWN})(b.status);c(new Pt(x,b.message))}else c(new Pt(wt.UNKNOWN,"Server responded with status "+o.getStatus()))}else c(new Pt(wt.UNAVAILABLE,"Connection failed."));break;default:Kt(9055,{l_:t,streamId:a,h_:o.getLastErrorCode(),P_:o.getLastError()})}}finally{Bt(ss,`RPC '${t}' ${a} completed.`)}}));const u=JSON.stringify(s);Bt(ss,`RPC '${t}' ${a} sending request:`,s),o.send(e,"POST",u,n,15)}))}T_(t,e,n){const s=x1(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=Z3(),l=Q3(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},o=this.longPollingOptions.timeoutSeconds;o!==void 0&&(c.longPollingTimeout=Math.round(1e3*o)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,e,n),c.encodeInitMessageHeaders=!0;const u=i.join("");Bt(ss,`Creating RPC '${t}' stream ${s}: ${u}`,c);const p=a.createWebChannel(u,c);this.I_(p);let h=!1,d=!1;const b=new nM({Yo:g=>{d?Bt(ss,`Not sending because RPC '${t}' stream ${s} is closed:`,g):(h||(Bt(ss,`Opening RPC '${t}' stream ${s} transport.`),p.open(),h=!0),Bt(ss,`RPC '${t}' stream ${s} sending:`,g),p.send(g))},Zo:()=>p.close()}),x=(g,v,y)=>{g.listen(v,(k=>{try{y(k)}catch(R){setTimeout((()=>{throw R}),0)}}))};return x(p,uf.EventType.OPEN,(()=>{d||(Bt(ss,`RPC '${t}' stream ${s} transport opened.`),b.o_())})),x(p,uf.EventType.CLOSE,(()=>{d||(d=!0,Bt(ss,`RPC '${t}' stream ${s} transport closed`),b.a_(),this.E_(p))})),x(p,uf.EventType.ERROR,(g=>{d||(d=!0,Zc(ss,`RPC '${t}' stream ${s} transport errored. Name:`,g.name,"Message:",g.message),b.a_(new Pt(wt.UNAVAILABLE,"The operation could not be completed")))})),x(p,uf.EventType.MESSAGE,(g=>{var v;if(!d){const y=g.data[0];Or(!!y,16349);const k=y,R=(k==null?void 0:k.error)||((v=k[0])==null?void 0:v.error);if(R){Bt(ss,`RPC '${t}' stream ${s} received error:`,R);const z=R.status;let q=(function(O){const F=En[O];if(F!==void 0)return j5(F)})(z),B=R.message;q===void 0&&(q=wt.INTERNAL,B="Unknown error status: "+z+" with message "+R.message),d=!0,b.a_(new Pt(q,B)),p.close()}else Bt(ss,`RPC '${t}' stream ${s} received:`,y),b.u_(y)}})),x(l,K3.STAT_EVENT,(g=>{g.stat===i1.PROXY?Bt(ss,`RPC '${t}' stream ${s} detected buffering proxy`):g.stat===i1.NOPROXY&&Bt(ss,`RPC '${t}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{b.__()}),0),b}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function Dg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(r){return new lR(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(t,e,n=1e3,s=1.5,i=6e4){this.Mi=t,this.timerId=e,this.d_=n,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),s=Math.max(0,e-n);s>0&&Bt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_="PersistentStream";class W5{constructor(t,e,n,s,i,a,l,c){this.Mi=t,this.S_=n,this.b_=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new G5(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===wt.RESOURCE_EXHAUSTED?(Hi(e.toString()),Hi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===wt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,s])=>{this.D_===e&&this.G_(n,s)}),(n=>{t((()=>{const s=new Pt(wt.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(s)}))}))}G_(t,e){const n=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{n((()=>this.z_(s)))})),this.stream.onMessage((s=>{n((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return Bt(u_,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(Bt(u_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class aM extends W5{constructor(t,e,n,s,i,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,s,a),this.serializer=i}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=fR(this.serializer,t),n=(function(i){if(!("targetChange"in i))return tr.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?tr.min():a.readTime?ii(a.readTime):tr.min()})(t);return this.listener.H_(e,n)}Y_(t){const e={};e.database=g1(this.serializer),e.addTarget=(function(i,a){let l;const c=a.target;if(l=f1(c)?{documents:pR(i,c)}:{query:mR(i,c).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=O5(i,a.resumeToken);const o=d1(i,a.expectedCount);o!==null&&(l.expectedCount=o)}else if(a.snapshotVersion.compareTo(tr.min())>0){l.readTime=N0(i,a.snapshotVersion.toTimestamp());const o=d1(i,a.expectedCount);o!==null&&(l.expectedCount=o)}return l})(this.serializer,t);const n=bR(this.serializer,t);n&&(e.labels=n),this.q_(e)}Z_(t){const e={};e.database=g1(this.serializer),e.removeTarget=t,this.q_(e)}}class iM extends W5{constructor(t,e,n,s,i,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,s,a),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return Or(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Or(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Or(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=dR(t.writeResults,t.commitTime),n=ii(t.commitTime);return this.listener.na(n,e)}ra(){const t={};t.database=g1(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((n=>hR(this.serializer,n)))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{}class lM extends oM{constructor(t,e,n,s){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=n,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Pt(wt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,n,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,a])=>this.connection.Go(t,p1(e,n),s,i,a))).catch((i=>{throw i.name==="FirebaseError"?(i.code===wt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Pt(wt.UNKNOWN,i.toString())}))}Ho(t,e,n,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Ho(t,p1(e,n),s,a,l,i))).catch((a=>{throw a.name==="FirebaseError"?(a.code===wt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Pt(wt.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class cM{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Hi(e),this.aa=!1):Bt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zl="RemoteStore";class uM{constructor(t,e,n,s,i){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((a=>{n.enqueueAndForget((async()=>{Wl(this)&&(Bt(zl,"Restarting streams for network reachability change."),await(async function(c){const o=ir(c);o.Ea.add(4),await fh(o),o.Ra.set("Unknown"),o.Ea.delete(4),await fp(o)})(this))}))})),this.Ra=new cM(n,s)}}async function fp(r){if(Wl(r))for(const t of r.da)await t(!0)}async function fh(r){for(const t of r.da)await t(!1)}function X5(r,t){const e=ir(r);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),vb(e)?yb(e):pu(e).O_()&&xb(e,t))}function bb(r,t){const e=ir(r),n=pu(e);e.Ia.delete(t),n.O_()&&Y5(e,t),e.Ia.size===0&&(n.O_()?n.L_():Wl(e)&&e.Ra.set("Unknown"))}function xb(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(tr.min())>0){const e=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}pu(r).Y_(t)}function Y5(r,t){r.Va.Ue(t),pu(r).Z_(t)}function yb(r){r.Va=new sR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),pu(r).start(),r.Ra.ua()}function vb(r){return Wl(r)&&!pu(r).x_()&&r.Ia.size>0}function Wl(r){return ir(r).Ea.size===0}function K5(r){r.Va=void 0}async function fM(r){r.Ra.set("Online")}async function hM(r){r.Ia.forEach(((t,e)=>{xb(r,t)}))}async function dM(r,t){K5(r),vb(r)?(r.Ra.ha(t),yb(r)):r.Ra.set("Unknown")}async function pM(r,t,e){if(r.Ra.set("Online"),t instanceof I5&&t.state===2&&t.cause)try{await(async function(s,i){const a=i.cause;for(const l of i.targetIds)s.Ia.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s.Ia.delete(l),s.Va.removeTarget(l))})(r,t)}catch(n){Bt(zl,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await M0(r,n)}else if(t instanceof c0?r.Va.Ze(t):t instanceof D5?r.Va.st(t):r.Va.tt(t),!e.isEqual(tr.min()))try{const n=await q5(r.localStore);e.compareTo(n)>=0&&await(function(i,a){const l=i.Va.Tt(a);return l.targetChanges.forEach(((c,o)=>{if(c.resumeToken.approximateByteSize()>0){const u=i.Ia.get(o);u&&i.Ia.set(o,u.withResumeToken(c.resumeToken,a))}})),l.targetMismatches.forEach(((c,o)=>{const u=i.Ia.get(c);if(!u)return;i.Ia.set(c,u.withResumeToken(ts.EMPTY_BYTE_STRING,u.snapshotVersion)),Y5(i,c);const p=new Mo(u.target,c,o,u.sequenceNumber);xb(i,p)})),i.remoteSyncer.applyRemoteEvent(l)})(r,e)}catch(n){Bt(zl,"Failed to raise snapshot:",n),await M0(r,n)}}async function M0(r,t,e){if(!hu(t))throw t;r.Ea.add(1),await fh(r),r.Ra.set("Offline"),e||(e=()=>q5(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{Bt(zl,"Retrying IndexedDB access"),await e(),r.Ea.delete(1),await fp(r)}))}function Q5(r,t){return t().catch((e=>M0(r,e,t)))}async function hp(r){const t=ir(r),e=Xo(t);let n=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:sb;for(;mM(t);)try{const s=await KR(t.localStore,n);if(s===null){t.Ta.length===0&&e.L_();break}n=s.batchId,gM(t,s)}catch(s){await M0(t,s)}Z5(t)&&J5(t)}function mM(r){return Wl(r)&&r.Ta.length<10}function gM(r,t){r.Ta.push(t);const e=Xo(r);e.O_()&&e.X_&&e.ea(t.mutations)}function Z5(r){return Wl(r)&&!Xo(r).x_()&&r.Ta.length>0}function J5(r){Xo(r).start()}async function bM(r){Xo(r).ra()}async function xM(r){const t=Xo(r);for(const e of r.Ta)t.ea(e.mutations)}async function yM(r,t,e){const n=r.Ta.shift(),s=ub.from(n,t,e);await Q5(r,(()=>r.remoteSyncer.applySuccessfulWrite(s))),await hp(r)}async function vM(r,t){t&&Xo(r).X_&&await(async function(n,s){if((function(a){return tR(a)&&a!==wt.ABORTED})(s.code)){const i=n.Ta.shift();Xo(n).B_(),await Q5(n,(()=>n.remoteSyncer.rejectFailedWrite(i.batchId,s))),await hp(n)}})(r,t),Z5(r)&&J5(r)}async function f_(r,t){const e=ir(r);e.asyncQueue.verifyOperationInProgress(),Bt(zl,"RemoteStore received new credentials");const n=Wl(e);e.Ea.add(3),await fh(e),n&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await fp(e)}async function wM(r,t){const e=ir(r);t?(e.Ea.delete(2),await fp(e)):t||(e.Ea.add(2),await fh(e),e.Ra.set("Unknown"))}function pu(r){return r.ma||(r.ma=(function(e,n,s){const i=ir(e);return i.sa(),new aM(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(r.datastore,r.asyncQueue,{Xo:fM.bind(null,r),t_:hM.bind(null,r),r_:dM.bind(null,r),H_:pM.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),vb(r)?yb(r):r.Ra.set("Unknown")):(await r.ma.stop(),K5(r))}))),r.ma}function Xo(r){return r.fa||(r.fa=(function(e,n,s){const i=ir(e);return i.sa(),new iM(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:bM.bind(null,r),r_:vM.bind(null,r),ta:xM.bind(null,r),na:yM.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await hp(r)):(await r.fa.stop(),r.Ta.length>0&&(Bt(zl,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(t,e,n,s,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=s,this.removalCallback=i,this.deferred=new Li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,n,s,i){const a=Date.now()+n,l=new wb(t,e,a,s,i);return l.start(n),l}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pt(wt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _b(r,t){if(Hi("AsyncQueue",`${t}: ${r}`),hu(r))return new Pt(wt.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{static emptySet(t){return new Gc(t.comparator)}constructor(t){this.comparator=t?(e,n)=>t(e,n)||qt.comparator(e.key,n.key):(e,n)=>qt.comparator(e.key,n.key),this.keyedMap=ff(),this.sortedSet=new nn(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,n)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Gc)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const s=e.getNext().key,i=n.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const n=new Gc;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(){this.ga=new nn(qt.comparator)}track(t){const e=t.doc.key,n=this.ga.get(e);n?t.type!==0&&n.type===3?this.ga=this.ga.insert(e,t):t.type===3&&n.type!==1?this.ga=this.ga.insert(e,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.ga=this.ga.remove(e):t.type===1&&n.type===2?this.ga=this.ga.insert(e,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Kt(63341,{Rt:t,pa:n}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,n)=>{t.push(n)})),t}}class nu{constructor(t,e,n,s,i,a,l,c,o){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=o}static fromInitialDocuments(t,e,n,s,i){const a=[];return e.forEach((l=>{a.push({type:0,doc:l})})),new nu(t,e,Gc.emptySet(e),a,n,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&sp(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let s=0;s<e.length;s++)if(e[s].type!==n[s].type||!e[s].doc.isEqual(n[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class SM{constructor(){this.queries=d_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,n){const s=ir(e),i=s.queries;s.queries=d_(),i.forEach(((a,l)=>{for(const c of l.Sa)c.onError(n)}))})(this,new Pt(wt.ABORTED,"Firestore shutting down"))}}function d_(){return new Gl((r=>v5(r)),sp)}async function Sb(r,t){const e=ir(r);let n=3;const s=t.query;let i=e.queries.get(s);i?!i.ba()&&t.Da()&&(n=2):(i=new _M,n=t.Da()?0:1);try{switch(n){case 0:i.wa=await e.onListen(s,!0);break;case 1:i.wa=await e.onListen(s,!1);break;case 2:await e.onFirstRemoteStoreListen(s)}}catch(a){const l=_b(a,`Initialization of query '${Pc(t.query)}' failed`);return void t.onError(l)}e.queries.set(s,i),i.Sa.push(t),t.va(e.onlineState),i.wa&&t.Fa(i.wa)&&Tb(e)}async function kb(r,t){const e=ir(r),n=t.query;let s=3;const i=e.queries.get(n);if(i){const a=i.Sa.indexOf(t);a>=0&&(i.Sa.splice(a,1),i.Sa.length===0?s=t.Da()?0:1:!i.ba()&&t.Da()&&(s=2))}switch(s){case 0:return e.queries.delete(n),e.onUnlisten(n,!0);case 1:return e.queries.delete(n),e.onUnlisten(n,!1);case 2:return e.onLastRemoteStoreUnlisten(n);default:return}}function kM(r,t){const e=ir(r);let n=!1;for(const s of t){const i=s.query,a=e.queries.get(i);if(a){for(const l of a.Sa)l.Fa(s)&&(n=!0);a.wa=s}}n&&Tb(e)}function TM(r,t,e){const n=ir(r),s=n.queries.get(t);if(s)for(const i of s.Sa)i.onError(e);n.queries.delete(t)}function Tb(r){r.Ca.forEach((t=>{t.next()}))}var y1,p_;(p_=y1||(y1={})).Ma="default",p_.Cache="cache";class Eb{constructor(t,e,n){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(t){if(!this.options.includeMetadataChanges){const n=[];for(const s of t.docChanges)s.type!==3&&n.push(s);t=new nu(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const n=e!=="Offline";return(!this.options.qa||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=nu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==y1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(t){this.key=t}}class t6{constructor(t){this.key=t}}class EM{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=kr(),this.mutatedKeys=kr(),this.eu=w5(t),this.tu=new Gc(this.eu)}get nu(){return this.Ya}ru(t,e){const n=e?e.iu:new h_,s=e?e.tu:this.tu;let i=e?e.mutatedKeys:this.mutatedKeys,a=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,o=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(((u,p)=>{const h=s.get(u),d=ap(this.query,p)?p:null,b=!!h&&this.mutatedKeys.has(h.key),x=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let g=!1;h&&d?h.data.isEqual(d.data)?b!==x&&(n.track({type:3,doc:d}),g=!0):this.su(h,d)||(n.track({type:2,doc:d}),g=!0,(c&&this.eu(d,c)>0||o&&this.eu(d,o)<0)&&(l=!0)):!h&&d?(n.track({type:0,doc:d}),g=!0):h&&!d&&(n.track({type:1,doc:h}),g=!0,(c||o)&&(l=!0)),g&&(d?(a=a.add(d),i=x?i.add(u):i.delete(u)):(a=a.delete(u),i=i.delete(u)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const u=this.query.limitType==="F"?a.last():a.first();a=a.delete(u.key),i=i.delete(u.key),n.track({type:1,doc:u})}return{tu:a,iu:n,Cs:l,mutatedKeys:i}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n,s){const i=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const a=t.iu.ya();a.sort(((u,p)=>(function(d,b){const x=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Kt(20277,{Rt:g})}};return x(d)-x(b)})(u.type,p.type)||this.eu(u.doc,p.doc))),this.ou(n),s=s??!1;const l=e&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,o=c!==this.Za;return this.Za=c,a.length!==0||o?{snapshot:new nu(this.query,t.tu,i,a,t.mutatedKeys,c===0,o,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new h_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=kr(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))}));const e=[];return t.forEach((n=>{this.Xa.has(n)||e.push(new t6(n))})),this.Xa.forEach((n=>{t.has(n)||e.push(new e6(n))})),e}cu(t){this.Ya=t.Qs,this.Xa=kr();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return nu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ab="SyncEngine";class AM{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class CM{constructor(t){this.key=t,this.hu=!1}}class NM{constructor(t,e,n,s,i,a){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Gl((l=>v5(l)),sp),this.Iu=new Map,this.Eu=new Set,this.du=new nn(qt.comparator),this.Au=new Map,this.Ru=new db,this.Vu={},this.mu=new Map,this.fu=ru.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function RM(r,t,e=!0){const n=o6(r);let s;const i=n.Tu.get(t);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await r6(n,t,e,!0),s}async function MM(r,t){const e=o6(r);await r6(e,t,!0,!1)}async function r6(r,t,e,n){const s=await QR(r.localStore,ai(t)),i=s.targetId,a=r.sharedClientState.addLocalQueryTarget(i,e);let l;return n&&(l=await jM(r,t,i,a==="current",s.resumeToken)),r.isPrimaryClient&&e&&X5(r.remoteStore,s),l}async function jM(r,t,e,n,s){r.pu=(p,h,d)=>(async function(x,g,v,y){let k=g.view.ru(v);k.Cs&&(k=await i_(x.localStore,g.query,!1).then((({documents:B})=>g.view.ru(B,k))));const R=y&&y.targetChanges.get(g.targetId),z=y&&y.targetMismatches.get(g.targetId)!=null,q=g.view.applyChanges(k,x.isPrimaryClient,R,z);return g_(x,g.targetId,q.au),q.snapshot})(r,p,h,d);const i=await i_(r.localStore,t,!0),a=new EM(t,i.Qs),l=a.ru(i.documents),c=uh.createSynthesizedTargetChangeForCurrentChange(e,n&&r.onlineState!=="Offline",s),o=a.applyChanges(l,r.isPrimaryClient,c);g_(r,e,o.au);const u=new AM(t,e,a);return r.Tu.set(t,u),r.Iu.has(e)?r.Iu.get(e).push(t):r.Iu.set(e,[t]),o.snapshot}async function DM(r,t,e){const n=ir(r),s=n.Tu.get(t),i=n.Iu.get(s.targetId);if(i.length>1)return n.Iu.set(s.targetId,i.filter((a=>!sp(a,t)))),void n.Tu.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await b1(n.localStore,s.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(s.targetId),e&&bb(n.remoteStore,s.targetId),v1(n,s.targetId)})).catch(fu)):(v1(n,s.targetId),await b1(n.localStore,s.targetId,!0))}async function IM(r,t){const e=ir(r),n=e.Tu.get(t),s=e.Iu.get(n.targetId);e.isPrimaryClient&&s.length===1&&(e.sharedClientState.removeLocalQueryTarget(n.targetId),bb(e.remoteStore,n.targetId))}async function OM(r,t,e){const n=zM(r);try{const s=await(function(a,l){const c=ir(a),o=Qr.now(),u=l.reduce(((d,b)=>d.add(b.key)),kr());let p,h;return c.persistence.runTransaction("Locally write mutations","readwrite",(d=>{let b=$i(),x=kr();return c.Ns.getEntries(d,u).next((g=>{b=g,b.forEach(((v,y)=>{y.isValidDocument()||(x=x.add(v))}))})).next((()=>c.localDocuments.getOverlayedDocuments(d,b))).next((g=>{p=g;const v=[];for(const y of l){const k=KN(y,p.get(y.key).overlayedDocument);k!=null&&v.push(new Jo(y.key,k,h5(k.value.mapValue),Vs.exists(!0)))}return c.mutationQueue.addMutationBatch(d,o,v,l)})).next((g=>{h=g;const v=g.applyToLocalDocumentSet(p,x);return c.documentOverlayCache.saveOverlays(d,g.batchId,v)}))})).then((()=>({batchId:h.batchId,changes:S5(p)})))})(n.localStore,t);n.sharedClientState.addPendingMutation(s.batchId),(function(a,l,c){let o=a.Vu[a.currentUser.toKey()];o||(o=new nn(Sr)),o=o.insert(l,c),a.Vu[a.currentUser.toKey()]=o})(n,s.batchId,e),await hh(n,s.changes),await hp(n.remoteStore)}catch(s){const i=_b(s,"Failed to persist write");e.reject(i)}}async function n6(r,t){const e=ir(r);try{const n=await XR(e.localStore,t);t.targetChanges.forEach(((s,i)=>{const a=e.Au.get(i);a&&(Or(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.hu=!0:s.modifiedDocuments.size>0?Or(a.hu,14607):s.removedDocuments.size>0&&(Or(a.hu,42227),a.hu=!1))})),await hh(e,n,t)}catch(n){await fu(n)}}function m_(r,t,e){const n=ir(r);if(n.isPrimaryClient&&e===0||!n.isPrimaryClient&&e===1){const s=[];n.Tu.forEach(((i,a)=>{const l=a.view.va(t);l.snapshot&&s.push(l.snapshot)})),(function(a,l){const c=ir(a);c.onlineState=l;let o=!1;c.queries.forEach(((u,p)=>{for(const h of p.Sa)h.va(l)&&(o=!0)})),o&&Tb(c)})(n.eventManager,t),s.length&&n.Pu.H_(s),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function FM(r,t,e){const n=ir(r);n.sharedClientState.updateQueryState(t,"rejected",e);const s=n.Au.get(t),i=s&&s.key;if(i){let a=new nn(qt.comparator);a=a.insert(i,ls.newNoDocument(i,tr.min()));const l=kr().add(i),c=new cp(tr.min(),new Map,new nn(Sr),a,l);await n6(n,c),n.du=n.du.remove(i),n.Au.delete(t),Cb(n)}else await b1(n.localStore,t,!1).then((()=>v1(n,t,e))).catch(fu)}async function PM(r,t){const e=ir(r),n=t.batch.batchId;try{const s=await WR(e.localStore,t);a6(e,n,null),s6(e,n),e.sharedClientState.updateMutationState(n,"acknowledged"),await hh(e,s)}catch(s){await fu(s)}}async function LM(r,t,e){const n=ir(r);try{const s=await(function(a,l){const c=ir(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",(o=>{let u;return c.mutationQueue.lookupMutationBatch(o,l).next((p=>(Or(p!==null,37113),u=p.keys(),c.mutationQueue.removeMutationBatch(o,p)))).next((()=>c.mutationQueue.performConsistencyCheck(o))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(o,u,l))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,u))).next((()=>c.localDocuments.getDocuments(o,u)))}))})(n.localStore,t);a6(n,t,e),s6(n,t),n.sharedClientState.updateMutationState(t,"rejected",e),await hh(n,s)}catch(s){await fu(s)}}function s6(r,t){(r.mu.get(t)||[]).forEach((e=>{e.resolve()})),r.mu.delete(t)}function a6(r,t,e){const n=ir(r);let s=n.Vu[n.currentUser.toKey()];if(s){const i=s.get(t);i&&(e?i.reject(e):i.resolve(),s=s.remove(t)),n.Vu[n.currentUser.toKey()]=s}}function v1(r,t,e=null){r.sharedClientState.removeLocalQueryTarget(t);for(const n of r.Iu.get(t))r.Tu.delete(n),e&&r.Pu.yu(n,e);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((n=>{r.Ru.containsKey(n)||i6(r,n)}))}function i6(r,t){r.Eu.delete(t.path.canonicalString());const e=r.du.get(t);e!==null&&(bb(r.remoteStore,e),r.du=r.du.remove(t),r.Au.delete(e),Cb(r))}function g_(r,t,e){for(const n of e)n instanceof e6?(r.Ru.addReference(n.key,t),BM(r,n)):n instanceof t6?(Bt(Ab,"Document no longer in limbo: "+n.key),r.Ru.removeReference(n.key,t),r.Ru.containsKey(n.key)||i6(r,n.key)):Kt(19791,{wu:n})}function BM(r,t){const e=t.key,n=e.path.canonicalString();r.du.get(e)||r.Eu.has(n)||(Bt(Ab,"New document in limbo: "+e),r.Eu.add(n),Cb(r))}function Cb(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const e=new qt(Wr.fromString(t)),n=r.fu.next();r.Au.set(n,new CM(e)),r.du=r.du.insert(e,n),X5(r.remoteStore,new Mo(ai(np(e.path)),n,"TargetPurposeLimboResolution",ep.ce))}}async function hh(r,t,e){const n=ir(r),s=[],i=[],a=[];n.Tu.isEmpty()||(n.Tu.forEach(((l,c)=>{a.push(n.pu(c,t,e).then((o=>{var u;if((o||e)&&n.isPrimaryClient){const p=o?!o.fromCache:(u=e==null?void 0:e.targetChanges.get(c.targetId))==null?void 0:u.current;n.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(o){s.push(o);const p=mb.As(c.targetId,o);i.push(p)}})))})),await Promise.all(a),n.Pu.H_(s),await(async function(c,o){const u=ir(c);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>Et.forEach(o,(h=>Et.forEach(h.Es,(d=>u.persistence.referenceDelegate.addReference(p,h.targetId,d))).next((()=>Et.forEach(h.ds,(d=>u.persistence.referenceDelegate.removeReference(p,h.targetId,d)))))))))}catch(p){if(!hu(p))throw p;Bt(gb,"Failed to update sequence numbers: "+p)}for(const p of o){const h=p.targetId;if(!p.fromCache){const d=u.Ms.get(h),b=d.snapshotVersion,x=d.withLastLimboFreeSnapshotVersion(b);u.Ms=u.Ms.insert(h,x)}}})(n.localStore,i))}async function UM(r,t){const e=ir(r);if(!e.currentUser.isEqual(t)){Bt(Ab,"User change. New user:",t.toKey());const n=await $5(e.localStore,t);e.currentUser=t,(function(i,a){i.mu.forEach((l=>{l.forEach((c=>{c.reject(new Pt(wt.CANCELLED,a))}))})),i.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await hh(e,n.Ls)}}function VM(r,t){const e=ir(r),n=e.Au.get(t);if(n&&n.hu)return kr().add(n.key);{let s=kr();const i=e.Iu.get(t);if(!i)return s;for(const a of i){const l=e.Tu.get(a);s=s.unionWith(l.view.nu)}return s}}function o6(r){const t=ir(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=n6.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=VM.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=FM.bind(null,t),t.Pu.H_=kM.bind(null,t.eventManager),t.Pu.yu=TM.bind(null,t.eventManager),t}function zM(r){const t=ir(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=PM.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=LM.bind(null,t),t}class j0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=up(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return GR(this.persistence,new HR,t.initialUser,this.serializer)}Cu(t){return new H5(pb.mi,this.serializer)}Du(t){return new JR}async terminate(){var t,e;(t=this.gcScheduler)==null||t.stop(),(e=this.indexBackfillerScheduler)==null||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}j0.provider={build:()=>new j0};class HM extends j0{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Or(this.persistence.referenceDelegate instanceof R0,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new CR(n,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Os.withCacheSize(this.cacheSizeBytes):Os.DEFAULT;return new H5((n=>R0.mi(n,e)),this.serializer)}}class w1{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>m_(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=UM.bind(null,this.syncEngine),await wM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new SM})()}createDatastore(t){const e=up(t.databaseInfo.databaseId),n=(function(i){return new sM(i)})(t.databaseInfo);return(function(i,a,l,c){return new lM(i,a,l,c)})(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return(function(n,s,i,a,l){return new uM(n,s,i,a,l)})(this.localStore,this.datastore,t.asyncQueue,(e=>m_(this.syncEngine,e,0)),(function(){return c_.v()?new c_:new eM})())}createSyncEngine(t,e){return(function(s,i,a,l,c,o,u){const p=new NM(s,i,a,l,c,o);return u&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await(async function(s){const i=ir(s);Bt(zl,"RemoteStore shutting down."),i.Ea.add(5),await fh(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),(t=this.datastore)==null||t.terminate(),(e=this.eventManager)==null||e.terminate()}}w1.provider={build:()=>new w1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Hi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo="FirestoreClient";class $M{constructor(t,e,n,s,i){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=s,this.user=is.UNAUTHENTICATED,this.clientId=nb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async a=>{Bt(Yo,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(n,(a=>(Bt(Yo,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const n=_b(e,"Failed to shutdown persistence");t.reject(n)}})),t.promise}}async function Ig(r,t){r.asyncQueue.verifyOperationInProgress(),Bt(Yo,"Initializing OfflineComponentProvider");const e=r.configuration;await t.initialize(e);let n=e.initialUser;r.setCredentialChangeListener((async s=>{n.isEqual(s)||(await $5(t.localStore,s),n=s)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function b_(r,t){r.asyncQueue.verifyOperationInProgress();const e=await qM(r);Bt(Yo,"Initializing OnlineComponentProvider"),await t.initialize(e,r.configuration),r.setCredentialChangeListener((n=>f_(t.remoteStore,n))),r.setAppCheckTokenChangeListener(((n,s)=>f_(t.remoteStore,s))),r._onlineComponents=t}async function qM(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Bt(Yo,"Using user provided OfflineComponentProvider");try{await Ig(r,r._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(s){return s.name==="FirebaseError"?s.code===wt.FAILED_PRECONDITION||s.code===wt.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(e))throw e;Zc("Error using user provided cache. Falling back to memory cache: "+e),await Ig(r,new j0)}}else Bt(Yo,"Using default OfflineComponentProvider"),await Ig(r,new HM(void 0));return r._offlineComponents}async function l6(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Bt(Yo,"Using user provided OnlineComponentProvider"),await b_(r,r._uninitializedComponentsProvider._online)):(Bt(Yo,"Using default OnlineComponentProvider"),await b_(r,new w1))),r._onlineComponents}function GM(r){return l6(r).then((t=>t.syncEngine))}async function D0(r){const t=await l6(r),e=t.eventManager;return e.onListen=RM.bind(null,t.syncEngine),e.onUnlisten=DM.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=MM.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=IM.bind(null,t.syncEngine),e}function WM(r,t,e={}){const n=new Li;return r.asyncQueue.enqueueAndForget((async()=>(function(i,a,l,c,o){const u=new Nb({next:h=>{u.Nu(),a.enqueueAndForget((()=>kb(i,p)));const d=h.docs.has(l);!d&&h.fromCache?o.reject(new Pt(wt.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&h.fromCache&&c&&c.source==="server"?o.reject(new Pt(wt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):o.resolve(h)},error:h=>o.reject(h)}),p=new Eb(np(l.path),u,{includeMetadataChanges:!0,qa:!0});return Sb(i,p)})(await D0(r),r.asyncQueue,t,e,n))),n.promise}function XM(r,t,e={}){const n=new Li;return r.asyncQueue.enqueueAndForget((async()=>(function(i,a,l,c,o){const u=new Nb({next:h=>{u.Nu(),a.enqueueAndForget((()=>kb(i,p))),h.fromCache&&c.source==="server"?o.reject(new Pt(wt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):o.resolve(h)},error:h=>o.reject(h)}),p=new Eb(l,u,{includeMetadataChanges:!0,qa:!0});return Sb(i,p)})(await D0(r),r.asyncQueue,t,e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c6(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6="firestore.googleapis.com",y_=!0;class v_{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Pt(wt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=u6,this.ssl=y_}else this.host=t.host,this.ssl=t.ssl??y_;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=z5;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<ER)throw new Pt(wt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}lN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=c6(t.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new Pt(wt.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new Pt(wt.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new Pt(wt.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(n,s){return n.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class dp{constructor(t,e,n,s){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new v_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Pt(wt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Pt(wt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new v_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new ZC;switch(n.type){case"firstParty":return new rN(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Pt(wt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const n=x_.get(e);n&&(Bt("ComponentProvider","Removing Datastore"),x_.delete(e),n.terminate())})(this),Promise.resolve()}}function YM(r,t,e,n={}){var o;r=Us(r,dp);const s=iu(t),i=r._getSettings(),a={...i,emulatorOptions:r._getEmulatorOptions()},l=`${t}:${e}`;s&&(a3(`https://${l}`),i3("Firestore",!0)),i.host!==u6&&i.host!==l&&Zc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:l,ssl:s,emulatorOptions:n};if(!Ll(c,a)&&(r._setSettings(c),n.mockUserToken)){let u,p;if(typeof n.mockUserToken=="string")u=n.mockUserToken,p=is.MOCK_USER;else{u=A9(n.mockUserToken,(o=r._app)==null?void 0:o.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new Pt(wt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new is(h)}r._authCredentials=new JC(new e5(u,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new Yi(this.firestore,t,this._query)}}class fn{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vo(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new fn(this.firestore,t,this._key)}toJSON(){return{type:fn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,n){if(lh(e,fn._jsonSchema))return new fn(t,n||null,new qt(Wr.fromString(e.referencePath)))}}fn._jsonSchemaVersion="firestore/documentReference/1.0",fn._jsonSchema={type:Mn("string",fn._jsonSchemaVersion),referencePath:Mn("string")};class Vo extends Yi{constructor(t,e,n){super(t,e,np(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new fn(this.firestore,null,new qt(t))}withConverter(t){return new Vo(this.firestore,t,this._path)}}function Gr(r,t,...e){if(r=jn(r),t5("collection","path",t),r instanceof dp){const n=Wr.fromString(t,...e);return Dw(n),new Vo(r,null,n)}{if(!(r instanceof fn||r instanceof Vo))throw new Pt(wt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(Wr.fromString(t,...e));return Dw(n),new Vo(r.firestore,null,n)}}function or(r,t,...e){if(r=jn(r),arguments.length===1&&(t=nb.newId()),t5("doc","path",t),r instanceof dp){const n=Wr.fromString(t,...e);return jw(n),new fn(r,null,new qt(n))}{if(!(r instanceof fn||r instanceof Vo))throw new Pt(wt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(Wr.fromString(t,...e));return jw(n),new fn(r.firestore,r instanceof Vo?r.converter:null,new qt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="AsyncQueue";class __{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new G5(this,"async_queue_retry"),this._c=()=>{const n=Dg();n&&Bt(w_,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=t;const e=Dg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Dg();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new Li;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!hu(t))throw t;Bt(w_,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((n=>{throw this.nc=n,this.rc=!1,Hi("INTERNAL UNHANDLED ERROR: ",S_(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=e,e}enqueueAfterDelay(t,e,n){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const s=wb.createAndSchedule(this,t,e,n,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&Kt(47125,{Pc:S_(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,n)=>e.targetTimeMs-n.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function S_(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(r){return(function(e,n){if(typeof e!="object"||e===null)return!1;const s=e;for(const i of n)if(i in s&&typeof s[i]=="function")return!0;return!1})(r,["next","error","complete"])}class qi extends dp{constructor(t,e,n,s){super(t,e,n,s),this.type="firestore",this._queue=new __,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new __(t),this._firestoreClient=void 0,await t}}}function KM(r,t){const e=typeof r=="object"?r:u3(),n=typeof r=="string"?r:k0,s=q1(e,"firestore").getImmediate({identifier:n});if(!s._initialized){const i=T9("firestore");i&&YM(s,...i)}return s}function dh(r){if(r._terminated)throw new Pt(wt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||QM(r),r._firestoreClient}function QM(r){var n,s,i;const t=r._freezeSettings(),e=(function(l,c,o,u){return new vN(l,c,o,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,c6(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(r._databaseId,((n=r._app)==null?void 0:n.options.appId)||"",r._persistenceKey,t);r._componentsProvider||(s=t.localCache)!=null&&s._offlineComponentProvider&&((i=t.localCache)!=null&&i._onlineComponentProvider)&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new $M(r._authCredentials,r._appCheckCredentials,r._queue,e,r._componentsProvider&&(function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ya(ts.fromBase64String(t))}catch(e){throw new Pt(wt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new ya(ts.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ya._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(lh(t,ya._jsonSchema))return ya.fromBase64String(t.bytes)}}ya._jsonSchemaVersion="firestore/bytes/1.0",ya._jsonSchema={type:Mn("string",ya._jsonSchemaVersion),bytes:Mn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new Pt(wt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Pt(wt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Pt(wt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Sr(this._lat,t._lat)||Sr(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:oi._jsonSchemaVersion}}static fromJSON(t){if(lh(t,oi._jsonSchema))return new oi(t.latitude,t.longitude)}}oi._jsonSchemaVersion="firestore/geoPoint/1.0",oi._jsonSchema={type:Mn("string",oi._jsonSchemaVersion),latitude:Mn("number"),longitude:Mn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(n,s){if(n.length!==s.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==s[i])return!1;return!0})(this._values,t._values)}toJSON(){return{type:li._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(lh(t,li._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new li(t.vectorValues);throw new Pt(wt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}li._jsonSchemaVersion="firestore/vectorValue/1.0",li._jsonSchema={type:Mn("string",li._jsonSchemaVersion),vectorValues:Mn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM=/^__.*__$/;class JM{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return this.fieldMask!==null?new Jo(t,this.data,this.fieldMask,e,this.fieldTransforms):new ch(t,this.data,e,this.fieldTransforms)}}class f6{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return new Jo(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function h6(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Kt(40011,{Ac:r})}}class Rb{constructor(t,e,n,s,i,a){this.settings=t,this.databaseId=e,this.serializer=n,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Rb({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var s;const e=(s=this.path)==null?void 0:s.child(t),n=this.Vc({path:e,fc:!1});return n.gc(t),n}yc(t){var s;const e=(s=this.path)==null?void 0:s.child(t),n=this.Vc({path:e,fc:!1});return n.Rc(),n}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return I0(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(h6(this.Ac)&&ZM.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class ej{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=n||up(t)}Cc(t,e,n,s=!1){return new Rb({Ac:t,methodName:e,Dc:n,path:Zn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mp(r){const t=r._freezeSettings(),e=up(r._databaseId);return new ej(r._databaseId,!!t.ignoreUndefinedProperties,e)}function d6(r,t,e,n,s,i={}){const a=r.Cc(i.merge||i.mergeFields?2:0,t,e,s);jb("Data must be an object, but it was:",a,n);const l=g6(n,a);let c,o;if(i.merge)c=new ta(a.fieldMask),o=a.fieldTransforms;else if(i.mergeFields){const u=[];for(const p of i.mergeFields){const h=_1(t,p,e);if(!a.contains(h))throw new Pt(wt.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);x6(u,h)||u.push(h)}c=new ta(u),o=a.fieldTransforms.filter((p=>c.covers(p.field)))}else c=null,o=a.fieldTransforms;return new JM(new Ps(l),c,o)}class gp extends pp{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof gp}}class Mb extends pp{_toFieldTransform(t){return new GN(t.path,new Hf)}isEqual(t){return t instanceof Mb}}function p6(r,t,e,n){const s=r.Cc(1,t,e);jb("Data must be an object, but it was:",s,n);const i=[],a=Ps.empty();Zo(n,((c,o)=>{const u=Db(t,c,e);o=jn(o);const p=s.yc(u);if(o instanceof gp)i.push(u);else{const h=mh(o,p);h!=null&&(i.push(u),a.set(u,h))}}));const l=new ta(i);return new f6(a,l,s.fieldTransforms)}function m6(r,t,e,n,s,i){const a=r.Cc(1,t,e),l=[_1(t,n,e)],c=[s];if(i.length%2!=0)throw new Pt(wt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)l.push(_1(t,i[h])),c.push(i[h+1]);const o=[],u=Ps.empty();for(let h=l.length-1;h>=0;--h)if(!x6(o,l[h])){const d=l[h];let b=c[h];b=jn(b);const x=a.yc(d);if(b instanceof gp)o.push(d);else{const g=mh(b,x);g!=null&&(o.push(d),u.set(d,g))}}const p=new ta(o);return new f6(u,p,a.fieldTransforms)}function tj(r,t,e,n=!1){return mh(e,r.Cc(n?4:3,t))}function mh(r,t){if(b6(r=jn(r)))return jb("Unsupported field value:",t,r),g6(r,t);if(r instanceof pp)return(function(n,s){if(!h6(s.Ac))throw s.Sc(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(s);i&&s.fieldTransforms.push(i)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(n,s){const i=[];let a=0;for(const l of n){let c=mh(l,s.wc(a));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),a++}return{arrayValue:{values:i}}})(r,t)}return(function(n,s){if((n=jn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return HN(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Qr.fromDate(n);return{timestampValue:N0(s.serializer,i)}}if(n instanceof Qr){const i=new Qr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:N0(s.serializer,i)}}if(n instanceof oi)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ya)return{bytesValue:O5(s.serializer,n._byteString)};if(n instanceof fn){const i=s.databaseId,a=n.firestore._databaseId;if(!a.isEqual(i))throw s.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:hb(n.firestore._databaseId||s.databaseId,n._key.path)}}if(n instanceof li)return(function(a,l){return{mapValue:{fields:{[u5]:{stringValue:f5},[T0]:{arrayValue:{values:a.toArray().map((o=>{if(typeof o!="number")throw l.Sc("VectorValues must only contain numeric values.");return cb(l.serializer,o)}))}}}}}})(n,s);throw s.Sc(`Unsupported field value: ${J0(n)}`)})(r,t)}function g6(r,t){const e={};return s5(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Zo(r,((n,s)=>{const i=mh(s,t.mc(n));i!=null&&(e[n]=i)})),{mapValue:{fields:e}}}function b6(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Qr||r instanceof oi||r instanceof ya||r instanceof fn||r instanceof pp||r instanceof li)}function jb(r,t,e){if(!b6(e)||!r5(e)){const n=J0(e);throw n==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+n)}}function _1(r,t,e){if((t=jn(t))instanceof ph)return t._internalPath;if(typeof t=="string")return Db(r,t);throw I0("Field path arguments must be of type string or ",r,!1,void 0,e)}const rj=new RegExp("[~\\*/\\[\\]]");function Db(r,t,e){if(t.search(rj)>=0)throw I0(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,e);try{return new ph(...t.split("."))._internalPath}catch{throw I0(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,e)}}function I0(r,t,e,n,s){const i=n&&!n.isEmpty(),a=s!==void 0;let l=`Function ${t}() called with invalid data`;e&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||a)&&(c+=" (found",i&&(c+=` in field ${n}`),a&&(c+=` in document ${s}`),c+=")"),new Pt(wt.INVALID_ARGUMENT,l+r+c)}function x6(r,t){return r.some((e=>e.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(t,e,n,s,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new nj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(bp("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class nj extends y6{data(){return super.data()}}function bp(r,t){return typeof t=="string"?Db(r,t):t instanceof ph?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v6(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Pt(wt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ib{}class Ob extends Ib{}function Hr(r,t,...e){let n=[];t instanceof Ib&&n.push(t),n=n.concat(e),(function(i){const a=i.filter((c=>c instanceof Fb)).length,l=i.filter((c=>c instanceof xp)).length;if(a>1||a>0&&l>0)throw new Pt(wt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const s of n)r=s._apply(r);return r}class xp extends Ob{constructor(t,e,n){super(),this._field=t,this._op=e,this._value=n,this.type="where"}static _create(t,e,n){return new xp(t,e,n)}_apply(t){const e=this._parse(t);return _6(t._query,e),new Yi(t.firestore,t.converter,h1(t._query,e))}_parse(t){const e=mp(t.firestore);return(function(i,a,l,c,o,u,p){let h;if(o.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Pt(wt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){E_(p,u);const b=[];for(const x of p)b.push(T_(c,i,x));h={arrayValue:{values:b}}}else h=T_(c,i,p)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||E_(p,u),h=tj(l,a,p,u==="in"||u==="not-in");return Rn.create(o,u,h)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function Ss(r,t,e){const n=t,s=bp("where",r);return xp._create(s,n,e)}class Fb extends Ib{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Fb(t,e)}_parse(t){const e=this._queryConstraints.map((n=>n._parse(t))).filter((n=>n.getFilters().length>0));return e.length===1?e[0]:Ha.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(s,i){let a=s;const l=i.getFlattenedFilters();for(const c of l)_6(a,c),a=h1(a,c)})(t._query,e),new Yi(t.firestore,t.converter,h1(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Pb extends Ob{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new Pb(t,e)}_apply(t){const e=(function(s,i,a){if(s.startAt!==null)throw new Pt(wt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Pt(wt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new zf(i,a)})(t._query,this._field,this._direction);return new Yi(t.firestore,t.converter,(function(s,i){const a=s.explicitOrderBy.concat([i]);return new du(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(t._query,e))}}function un(r,t="asc"){const e=t,n=bp("orderBy",r);return Pb._create(n,e)}class Lb extends Ob{constructor(t,e,n){super(),this.type=t,this._limit=e,this._limitType=n}static _create(t,e,n){return new Lb(t,e,n)}_apply(t){return new Yi(t.firestore,t.converter,A0(t._query,this._limit,this._limitType))}}function w6(r){return cN("limit",r),Lb._create("limit",r,"F")}function T_(r,t,e){if(typeof(e=jn(e))=="string"){if(e==="")throw new Pt(wt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!y5(t)&&e.indexOf("/")!==-1)throw new Pt(wt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const n=t.path.child(Wr.fromString(e));if(!qt.isDocumentKey(n))throw new Pt(wt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Vw(r,new qt(n))}if(e instanceof fn)return Vw(r,e._key);throw new Pt(wt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${J0(e)}.`)}function E_(r,t){if(!Array.isArray(r)||r.length===0)throw new Pt(wt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function _6(r,t){const e=(function(s,i){for(const a of s)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null})(r.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new Pt(wt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Pt(wt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class sj{convertValue(t,e="none"){switch(Wo(t)){case 0:return null;case 1:return t.booleanValue;case 2:return vn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Go(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Kt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const n={};return Zo(t,((s,i)=>{n[s]=this.convertValue(i,e)})),n}convertVectorValue(t){var n,s,i;const e=(i=(s=(n=t.fields)==null?void 0:n[T0].arrayValue)==null?void 0:s.values)==null?void 0:i.map((a=>vn(a.doubleValue)));return new li(e)}convertGeoPoint(t){return new oi(vn(t.latitude),vn(t.longitude))}convertArray(t,e){return(t.values||[]).map((n=>this.convertValue(n,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const n=rp(t);return n==null?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Bf(t));default:return null}}convertTimestamp(t){const e=qo(t);return new Qr(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=Wr.fromString(t);Or(V5(n),9688,{name:t});const s=new Uf(n.get(1),n.get(3)),i=new qt(n.popFirst(5));return s.isEqual(e)||Hi(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S6(r,t,e){let n;return n=r?e&&(e.merge||e.mergeFields)?r.toFirestore(t,e):r.toFirestore(t):t,n}class df{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ml extends y6{constructor(t,e,n,s,i,a){super(t,e,n,s,a),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new u0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const n=this._document.data.field(bp("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Pt(wt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Ml._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Ml._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ml._jsonSchema={type:Mn("string",Ml._jsonSchemaVersion),bundleSource:Mn("string","DocumentSnapshot"),bundleName:Mn("string"),bundle:Mn("string")};class u0 extends Ml{data(t={}){return super.data(t)}}class jl{constructor(t,e,n,s){this._firestore=t,this._userDataWriter=e,this._snapshot=s,this.metadata=new df(s.hasPendingWrites,s.fromCache),this.query=n}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((n=>{t.call(e,new u0(this._firestore,this._userDataWriter,n.key,n,new df(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Pt(wt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map((l=>{const c=new u0(s._firestore,s._userDataWriter,l.doc.key,l.doc,new df(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}}))}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((l=>i||l.type!==3)).map((l=>{const c=new u0(s._firestore,s._userDataWriter,l.doc.key,l.doc,new df(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let o=-1,u=-1;return l.type!==0&&(o=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),u=a.indexOf(l.doc.key)),{type:aj(l.type),doc:c,oldIndex:o,newIndex:u}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Pt(wt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=jl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=nb.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],n=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(e.push(i._document),n.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function aj(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Kt(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(r){r=Us(r,fn);const t=Us(r.firestore,qi);return WM(dh(t),r._key).then((e=>k6(t,r,e)))}jl._jsonSchemaVersion="firestore/querySnapshot/1.0",jl._jsonSchema={type:Mn("string",jl._jsonSchemaVersion),bundleSource:Mn("string","QuerySnapshot"),bundleName:Mn("string"),bundle:Mn("string")};class Bb extends sj{constructor(t){super(),this.firestore=t}convertBytes(t){return new ya(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new fn(this.firestore,null,e)}}function Zr(r){r=Us(r,Yi);const t=Us(r.firestore,qi),e=dh(t),n=new Bb(t);return v6(r._query),XM(e,r._query).then((s=>new jl(t,n,r,s)))}function ln(r,t,e){r=Us(r,fn);const n=Us(r.firestore,qi),s=S6(r.converter,t,e);return yp(n,[d6(mp(n),"setDoc",r._key,s,r.converter!==null,e).toMutation(r._key,Vs.none())])}function A_(r,t,e,...n){r=Us(r,fn);const s=Us(r.firestore,qi),i=mp(s);let a;return a=typeof(t=jn(t))=="string"||t instanceof ph?m6(i,"updateDoc",r._key,t,e,n):p6(i,"updateDoc",r._key,t),yp(s,[a.toMutation(r._key,Vs.exists(!0))])}function O0(r){return yp(Us(r.firestore,qi),[new lp(r._key,Vs.none())])}function Ls(r,...t){var c,o,u;r=jn(r);let e={includeMetadataChanges:!1,source:"default"},n=0;typeof t[n]!="object"||k_(t[n])||(e=t[n++]);const s={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(k_(t[n])){const p=t[n];t[n]=(c=p.next)==null?void 0:c.bind(p),t[n+1]=(o=p.error)==null?void 0:o.bind(p),t[n+2]=(u=p.complete)==null?void 0:u.bind(p)}let i,a,l;if(r instanceof fn)a=Us(r.firestore,qi),l=np(r._key.path),i={next:p=>{t[n]&&t[n](k6(a,r,p))},error:t[n+1],complete:t[n+2]};else{const p=Us(r,Yi);a=Us(p.firestore,qi),l=p._query;const h=new Bb(a);i={next:d=>{t[n]&&t[n](new jl(a,h,p,d))},error:t[n+1],complete:t[n+2]},v6(r._query)}return(function(h,d,b,x){const g=new Nb(x),v=new Eb(d,g,b);return h.asyncQueue.enqueueAndForget((async()=>Sb(await D0(h),v))),()=>{g.Nu(),h.asyncQueue.enqueueAndForget((async()=>kb(await D0(h),v)))}})(dh(a),l,s,i)}function yp(r,t){return(function(n,s){const i=new Li;return n.asyncQueue.enqueueAndForget((async()=>OM(await GM(n),s,i))),i.promise})(dh(r),t)}function k6(r,t,e){const n=e.docs.get(t._key),s=new Bb(r);return new Ml(r,s,t._key,n,new df(e.hasPendingWrites,e.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=mp(t)}set(t,e,n){this._verifyNotCommitted();const s=Og(t,this._firestore),i=S6(s.converter,e,n),a=d6(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,n);return this._mutations.push(a.toMutation(s._key,Vs.none())),this}update(t,e,n,...s){this._verifyNotCommitted();const i=Og(t,this._firestore);let a;return a=typeof(e=jn(e))=="string"||e instanceof ph?m6(this._dataReader,"WriteBatch.update",i._key,e,n,s):p6(this._dataReader,"WriteBatch.update",i._key,e),this._mutations.push(a.toMutation(i._key,Vs.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Og(t,this._firestore);return this._mutations=this._mutations.concat(new lp(e._key,Vs.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Pt(wt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Og(r,t){if((r=jn(r)).firestore!==t)throw new Pt(wt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function C_(){return new Mb("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(r){return dh(r=Us(r,qi)),new ij(r,(t=>yp(r,t)))}(function(t,e=!0){(function(s){uu=s})(ou),Kc(new Bl("firestore",((n,{instanceIdentifier:s,options:i})=>{const a=n.getProvider("app").getImmediate(),l=new qi(new eN(n.getProvider("auth-internal")),new nN(a,n.getProvider("app-check-internal")),(function(o,u){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new Pt(wt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uf(o.options.projectId,u)})(a,s),a);return i={useFetchStreams:e,...i},l._setSettings(i),l}),"PUBLIC").setMultipleInstances(!0)),Lo(Cw,Nw,t),Lo(Cw,Nw,"esm2020")})();var oj="firebase",lj="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lo(oj,lj,"app");const cj={apiKey:"AIzaSyD87KYnlw-2euX4gJxmnxbuFIFtIDX2SKI",authDomain:"pro-taxi-d3945.web.app",projectId:"pro-taxi-d3945",storageBucket:"pro-taxi-d3945.firebasestorage.app",messagingSenderId:"157292333890",appId:"1:157292333890:web:bee77cf89d2bd8b2c016db"},T6=c3(cj),mr=KC(T6),Al=new Ii;Al.addScope("profile");Al.addScope("email");Al.setCustomParameters({prompt:"select_account"});const Lt=KM(T6),Fg=!0;function N_(){return w.jsx("div",{className:"min-h-screen bg-[#0A0E14] text-gray-100 flex flex-col items-center justify-center p-4",children:w.jsxs("div",{className:"bg-[#1A222C] max-w-md w-full p-8 rounded-2xl shadow-2xl text-center border border-gray-800 relative overflow-hidden",children:[w.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-yellow-500 via-amber-500 to-yellow-600"}),w.jsx("div",{className:"flex justify-center mb-6",children:w.jsx("div",{className:"p-4 bg-yellow-500/10 rounded-full animate-pulse",children:w.jsx(BE,{className:"w-12 h-12 text-yellow-500"})})}),w.jsxs("h1",{className:"text-2xl font-bold mb-4 text-white tracking-wide",children:["Taxi Navigator",w.jsx("br",{}),"",w.jsx("br",{}),""]}),w.jsxs("div",{className:"text-gray-400 mb-6 leading-relaxed text-sm",children:[w.jsxs("p",{className:"mb-4",children:["",w.jsx("br",{}),""]}),w.jsx("div",{className:"bg-gray-800/50 rounded-lg p-3 mb-2 border border-gray-700",children:w.jsxs("p",{className:"text-white font-bold text-sm",children:["",w.jsx("br",{}),w.jsx("span",{className:"text-yellow-400",children:""}),w.jsx("br",{}),""]})})]}),w.jsxs("div",{className:"mb-6",children:[w.jsx("p",{className:"text-xs text-gray-500 mb-2",children:""}),w.jsxs("a",{href:"https://line.me/ti/g2/ZWvOSsjSGjcax8BIDbFpZyqxTJyeV5PbSrv8XA?utm_source=invitation&utm_medium=link_copy&utm_campaign=default",target:"_blank",rel:"noopener noreferrer",className:"group relative flex items-center justify-center gap-3 w-full py-3.5 px-4 bg-[#06C755] hover:bg-[#05b34c] rounded-xl transition-all duration-200 text-white shadow-lg shadow-green-900/20 active:scale-95 overflow-hidden",children:[w.jsx("div",{className:"absolute inset-0 bg-white/20 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700 skew-x-12"}),w.jsx(kE,{className:"w-5 h-5 flex-shrink-0 fill-white/20"}),w.jsxs("div",{className:"flex flex-col items-start text-left leading-tight z-10",children:[w.jsx("span",{className:"text-[10px] font-bold opacity-90",children:""}),w.jsx("span",{className:"text-sm font-bold",children:""})]})]})]}),w.jsxs("div",{className:"relative flex py-2 items-center mb-6",children:[w.jsx("div",{className:"flex-grow border-t border-gray-700"}),w.jsx("span",{className:"flex-shrink-0 mx-4 text-xs text-gray-500",children:""}),w.jsx("div",{className:"flex-grow border-t border-gray-700"})]}),w.jsxs("div",{className:"mb-8",children:[w.jsx("p",{className:"text-xs text-gray-500 mb-2",children:""}),w.jsxs("a",{href:"https://line.me/ti/p/R6x26rZ-xn",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 w-full py-3 px-4 bg-blue-600/10 hover:bg-blue-600/20 border border-blue-500/50 text-blue-400 rounded-xl transition-all duration-200 active:scale-95",children:[w.jsx(Pl,{className:"w-4 h-4"}),w.jsx("span",{className:"text-sm font-bold",children:""})]})]}),w.jsxs("button",{onClick:()=>mr.signOut(),className:"flex items-center justify-center gap-2 w-full py-3 px-4 bg-gray-800 hover:bg-gray-700 rounded-xl transition-colors font-medium text-gray-400 border border-gray-700 hover:text-white text-sm",children:[w.jsx(Q4,{className:"w-4 h-4"}),""]})]})})}function uj({onBack:r}){const[t,e]=_e.useState([]),[n,s]=_e.useState(!0),i=async()=>{try{console.log("[AdminDashboard] Fetching users from Firestore...");const u=Hr(Gr(Lt,"users")),p=await Zr(u),h=[];p.forEach(d=>{var b;try{const x=d.data(),g=((b=x.stats)==null?void 0:b.userName)||x.displayName||x.email||"",v={id:d.id,email:x.email||"",displayName:g,status:x.status||"pending",role:x.role||"user",createdAt:x.createdAt};console.log("[AdminDashboard] User found:",{id:d.id,email:v.email,displayName:v.displayName,status:v.status,role:v.role}),h.push(v)}catch(x){console.error("[AdminDashboard] Error processing user document:",d.id,x)}}),console.log("[AdminDashboard] Total users fetched:",h.length),e(h)}catch(u){console.error("[AdminDashboard] Error fetching users:",u),console.error("[AdminDashboard] Error details:",{code:u==null?void 0:u.code,message:u==null?void 0:u.message,stack:u==null?void 0:u.stack}),(u==null?void 0:u.code)===403||(u==null?void 0:u.code)==="permission-denied"?alert(`: 

Firebase ConsoleFirestore

: `+(u==null?void 0:u.code)):alert(`

: `+((u==null?void 0:u.message)||"Unknown error")+`

`)}finally{s(!1)}};_e.useEffect(()=>{i();const u=D3(mr,p=>{p&&(console.log("[AdminDashboard] Auth state changed, refetching users"),i())});return()=>u()},[]);const a=async(u,p)=>{if(window.confirm(` ${p} `))try{await A_(or(Lt,"users",u),{status:p}),e(t.map(h=>h.id===u?{...h,status:p}:h))}catch(h){console.error("Error updating status:",h),alert("")}},l=async(u,p)=>{const h=p==="admin"?"user":"admin";if(window.confirm(` ${h} `))try{await A_(or(Lt,"users",u),{role:h}),e(t.map(d=>d.id===u?{...d,role:h}:d))}catch(d){console.error("Error updating role:",d),alert("")}},c=async(u,p)=>{const h=`${p}

`;if(window.confirm(h)&&window.confirm(""))try{await O0(or(Lt,"users",u)),console.log("[AdminDashboard] Deleted user document:",u);try{await O0(or(Lt,"public_status",u)),console.log("[AdminDashboard] Deleted public_status document:",u)}catch(d){(d==null?void 0:d.code)!=="not-found"&&console.warn("[AdminDashboard] Error deleting public_status (may not exist):",d)}e(t.filter(d=>d.id!==u)),alert("")}catch(d){console.error("[AdminDashboard] Error deleting user:",d),(d==null?void 0:d.code)===403||(d==null?void 0:d.code)==="permission-denied"?alert(`: 

Firebase ConsoleFirestore`):alert(`

: ${(d==null?void 0:d.message)||"Unknown error"}`)}};if(n)return w.jsx("div",{className:"p-8 text-center text-gray-500",children:"..."});const o=t.filter(u=>u.role!=="admin");return w.jsx("div",{className:"min-h-screen bg-[#0A0E14] text-gray-100 p-4 md:p-8 pb-24",children:w.jsxs("div",{className:"max-w-4xl mx-auto",children:[w.jsx("div",{className:"flex items-center justify-between mb-8",children:w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-800 rounded-full transition-colors",children:w.jsx($4,{className:"w-6 h-6"})}),w.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[w.jsx(Rl,{className:"w-6 h-6 text-blue-400"}),""]})]})}),w.jsx("div",{className:"bg-[#1A222C] rounded-xl border border-gray-800 overflow-hidden",children:w.jsx("div",{className:"overflow-x-auto",children:w.jsxs("table",{className:"w-full text-left border-collapse",children:[w.jsx("thead",{children:w.jsxs("tr",{className:"bg-gray-800/50 border-b border-gray-700",children:[w.jsx("th",{className:"p-4 text-sm font-medium text-gray-400",children:""}),w.jsx("th",{className:"p-4 text-sm font-medium text-gray-400",children:""}),w.jsx("th",{className:"p-4 text-sm font-medium text-gray-400",children:""}),w.jsx("th",{className:"p-4 text-sm font-medium text-gray-400",children:""})]})}),w.jsx("tbody",{className:"divide-y divide-gray-800",children:o.length===0?w.jsx("tr",{children:w.jsx("td",{colSpan:4,className:"p-8 text-center text-gray-500",children:""})}):o.map(u=>w.jsxs("tr",{className:"hover:bg-gray-800/30 transition-colors",children:[w.jsxs("td",{className:"p-4",children:[w.jsx("div",{className:"font-medium text-white",children:u.displayName||u.email||""}),u.email&&u.displayName!==u.email&&w.jsx("div",{className:"text-sm text-gray-500",children:u.email})]}),w.jsx("td",{className:"p-4",children:w.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${u.status==="active"?"bg-green-500/10 text-green-400 border-green-500/20":u.status==="banned"?"bg-red-500/10 text-red-400 border-red-500/20":"bg-yellow-500/10 text-yellow-400 border-yellow-500/20"}`,children:u.status==="active"?"":u.status==="banned"?"":""})}),w.jsx("td",{className:"p-4",children:w.jsx("span",{className:"inline-flex items-center gap-1 text-sm text-gray-400",children:""})}),w.jsx("td",{className:"p-4",children:w.jsxs("div",{className:"flex items-center gap-2",children:[u.status!=="active"&&w.jsx("button",{onClick:()=>a(u.id,"active"),className:"p-1.5 bg-green-500/10 text-green-400 hover:bg-green-500/20 rounded border border-green-500/20",title:"",children:w.jsx(LT,{className:"w-4 h-4"})}),u.status!=="banned"&&w.jsx("button",{onClick:()=>a(u.id,"banned"),className:"p-1.5 bg-red-500/10 text-red-400 hover:bg-red-500/20 rounded border border-red-500/20",title:"",children:w.jsx(GT,{className:"w-4 h-4"})}),w.jsx("button",{onClick:()=>l(u.id,u.role),className:"p-1.5 bg-purple-500/10 text-purple-400 hover:bg-purple-500/20 rounded border border-purple-500/20",title:"",children:w.jsx(V1,{className:"w-4 h-4"})}),w.jsx("button",{onClick:()=>c(u.id,u.displayName||u.email),className:"p-1.5 bg-red-600/10 text-red-500 hover:bg-red-600/20 rounded border border-red-600/20",title:"",children:w.jsx(d0,{className:"w-4 h-4"})})]})})]},u.id))})]})})})]})})}const kf=["CASH","CARD","TICKET","QR","DIDI","NET","E_MONEY","TRANSPORT"],Dl=["FLOW","WAIT","APP","HIRE","RESERVE","WIRELESS"],va={CASH:"",CARD:"",NET:"",E_MONEY:"",TRANSPORT:"",DIDI:"Didi",QR:"/QR",TICKET:""},Ki={FLOW:"",WAIT:"",APP:"",HIRE:"",RESERVE:"",WIRELESS:""},Lr=r=>`${Math.round(r).toLocaleString()}`,zo=r=>{const t=r.toString().replace(/[^0-9]/g,"");return t===""?"":parseInt(t).toLocaleString()},Nn=r=>typeof r!="string"?r:parseInt(r.replace(/,/g,""))||0,E6=r=>{const t=r/1.1;return Math.round(t/10)*10},A6=r=>r-E6(r),Ot=(r,t)=>{const e=new Date(r);return e.getHours()<t&&e.setDate(e.getDate()-1),e.toLocaleDateString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\//g,"/")},S1=(r,t)=>{const e=new Date(r),n=e.getHours(),s=String(e.getMinutes()).padStart(2,"0");return n<t?`${n+24}:${s}`:`${String(n).padStart(2,"0")}:${s}`},R_=r=>new Date(r).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),rr=(r,t,e=0)=>{const n=new Date(r);n.setHours(n.getHours()-e);let s,i;return t===0?(s=new Date(n.getFullYear(),n.getMonth(),1),i=new Date(n.getFullYear(),n.getMonth()+1,0)):n.getDate()>t?(s=new Date(n.getFullYear(),n.getMonth(),t+1),i=new Date(n.getFullYear(),n.getMonth()+1,t)):(s=new Date(n.getFullYear(),n.getMonth()-1,t+1),i=new Date(n.getFullYear(),n.getMonth(),t)),s.setHours(e,0,0,0),i.setHours(23,59,59,999),{start:s,end:i}},Ht=r=>r.toLocaleDateString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\//g,"/"),Ub=r=>{const t={};return r.forEach(e=>{const n=e.amount+e.toll,s=e.nonCashAmount;let i=0,a=0;e.paymentMethod==="CASH"?a=n:(i=s,a=n-s),i>0&&(t[e.paymentMethod]=(t[e.paymentMethod]||0)+i),a>0&&(t.CASH=(t.CASH||0)+a)}),t},Vb=r=>{const t={};return r.forEach(e=>{const n=e.amount+e.toll;t[e.rideType]=(t[e.rideType]||0)+n}),t},C6=r=>{const t={};return r.forEach(e=>{t[e.rideType]=(t[e.rideType]||0)+1}),t},fj=r=>{const t={:"1",:"2",:"3",:"4",:"5",:"6",:"7",:"8",:"9","":"0",:"10"};return r.replace(/([]+)(?=|$)/g,e=>{let n=e;for(const[s,i]of Object.entries(t))n=n.replace(new RegExp(s,"g"),i);return n})},hj=r=>r.replace(/[0-9]/g,t=>String.fromCharCode(t.charCodeAt(0)+65248)),M_=r=>{if(!r)return"";const t=r.address||{},e=t.city||t.town||t.village||"",n=t.city_district||"",s=e==="";let i="";const a=[t.neighbourhood,t.quarter,t.suburb,t.road];for(const c of a)if(c&&c!==e&&c!==n&&!/$/.test(c)){i=c;break}i||(i=t.suburb||t.road||"");let l=i.replace(/$/,"");return l=fj(l),l=l.replace(/[0-9]+/g,c=>hj(c)),s?l.trim():(e+(n&&n!==e?n:"")+l).trim()},N6=r=>{switch(r){case"CASH":return"bg-amber-400/10 text-amber-200 border-amber-400/30";case"CARD":return"bg-blue-400/10 text-blue-200 border-blue-400/30";case"NET":return"bg-purple-400/10 text-purple-200 border-purple-400/30";case"E_MONEY":return"bg-emerald-400/10 text-emerald-200 border-emerald-400/30";case"TRANSPORT":return"bg-cyan-400/10 text-cyan-200 border-cyan-400/30";case"DIDI":return"bg-orange-400/10 text-orange-200 border-orange-400/30";case"QR":return"bg-teal-400/10 text-teal-200 border-teal-400/30";case"TICKET":return"bg-rose-400/10 text-rose-200 border-rose-400/30";default:return"bg-gray-400/10 text-gray-200 border-gray-400/30"}},zd=r=>{if(!r)return null;const t=r.trim();if(typeof navigator<"u"){const e=navigator.userAgent,n=/iPad|iPhone|iPod/.test(e),s=/Android/.test(e);if(n)return`comgooglemaps://?q=${encodeURIComponent(t)}`;if(s)return`geo:0,0?q=${encodeURIComponent(t)}`}return`https://maps.google.com/?q=${encodeURIComponent(t)}`},Gi=(r,t)=>{const e=new Map;r.forEach(s=>{const i=Ot(s.timestamp,t);e.has(i)||e.set(i,[]),e.get(i).push(s)});const n=[];return e.forEach((s,i)=>{if(s.some(l=>{var c;return(c=l.remarks)==null?void 0:c.includes("")})){const l=s.filter(c=>{var o;return(o=c.remarks)==null?void 0:o.includes("")});n.push(...l)}else n.push(...s)}),n},Tf=r=>{if(r==null)return r;if(Array.isArray(r))return r.map(t=>Tf(t));if(typeof r=="object"){const t={};for(const e in r)r[e]!==void 0&&(t[e]=Tf(r[e]));return t}return r},Gf=(r,t,e)=>{const n=r.businessStartHour??9,{start:s,end:i}=rr(new Date,r.shimebiDay,n),a=new Date(i);r.shimebiDay!==0&&a.setDate(r.shimebiDay);const l=Ht(s),c=Ht(a),u=[...t,...(e==null?void 0:e.records)||[]].filter(b=>{const x=Ot(b.timestamp,n);return x>=l&&x<=c}),p=Gi(u,n),h=p.reduce((b,x)=>b+x.amount,0),d=p.length;return{totalSales:h,totalRides:d,validRecords:p,startDateStr:l,endDateStr:c}},dj=r=>{if(!r)return null;const t=(e,n)=>Number.isFinite(Number(e))?Number(e):n;return{...r,dailyGoal:t(r.dailyGoal,5e4),plannedHours:t(r.plannedHours,12),totalRestMinutes:t(r.totalRestMinutes,0),startTime:t(r.startTime,Date.now()),startOdo:r.startOdo!==void 0?t(r.startOdo,0):void 0,records:(r.records||[]).map(e=>({...e,amount:t(e.amount,0),toll:t(e.toll,0),returnToll:e.returnToll!==void 0?t(e.returnToll,0):void 0,nonCashAmount:t(e.nonCashAmount,0),passengersMale:t(e.passengersMale,0),passengersFemale:t(e.passengersFemale,0),timestamp:t(e.timestamp,Date.now()),pickupCoords:e.pickupCoords||"",dropoffCoords:e.dropoffCoords||""}))}};var R6=z4();const Wf=({record:r,index:t,isDetailed:e,customLabels:n,businessStartHour:s,onClick:i,isSlim:a=!1})=>{const c=(n||{})[r.paymentMethod]||va[r.paymentMethod],o=r.amount+r.toll,u=`[${r.passengersMale||0}${r.passengersFemale||0}]`;if(a){const p=t%2===0,h=p?"bg-slate-800":"bg-slate-700",d=p?"hover:bg-slate-700":"hover:bg-slate-600",b="border-gray-700";return w.jsxs("tr",{className:`${h} border-b ${b}`,children:[w.jsx("td",{onClick:i,className:`py-2 px-1 border-r ${b} align-middle text-center cursor-pointer transition-colors ${d}`,children:w.jsx("div",{className:"flex items-center justify-center w-full",children:w.jsxs("div",{className:"relative flex items-center justify-center",style:{width:"clamp(2rem, 6vw, 2.5rem)",height:"clamp(2rem, 6vw, 2.5rem)"},children:[w.jsx(XT,{className:"w-full h-full text-orange-500 fill-orange-500"}),w.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-white font-black",style:{fontSize:"clamp(0.875rem, 3vw, 1.125rem)"},children:t})]})})}),w.jsxs("td",{onClick:i,className:`py-2 px-1 border-r ${b} align-middle text-center w-[85px] cursor-pointer transition-colors ${d}`,children:[w.jsx("div",{className:"text-white font-black text-lg underline mb-1 whitespace-nowrap",children:S1(r.timestamp,s)}),w.jsxs("div",{className:"text-base font-black whitespace-nowrap",children:[w.jsx("span",{className:"text-blue-400",children:""}),r.passengersMale||0,":",w.jsx("span",{className:"text-red-400",children:""}),r.passengersFemale||0]})]}),w.jsxs("td",{className:`py-2 px-2 border-r ${b} align-top`,children:[w.jsx("div",{className:"text-white text-base font-bold mb-1 truncate",children:r.pickupCoords?w.jsx("a",{href:zd(r.pickupCoords)||"#",target:"_blank",rel:"noreferrer",className:"underline hover:text-blue-400 transition-colors",children:r.pickupLocation||"---"}):w.jsx("span",{className:"underline",children:r.pickupLocation||"---"})}),w.jsx("div",{className:"border-b border-dotted border-gray-600 my-1 opacity-60"}),w.jsx("div",{className:"text-white text-base font-bold truncate text-right",children:r.dropoffCoords?w.jsx("a",{href:zd(r.dropoffCoords)||"#",target:"_blank",rel:"noreferrer",className:"underline hover:text-blue-400 transition-colors",children:r.dropoffLocation||"---"}):w.jsx("span",{className:"underline",children:r.dropoffLocation||"---"})})]}),w.jsx("td",{className:"py-2 px-1 text-center align-middle w-[75px]",children:w.jsx("div",{className:"text-white font-black text-base whitespace-nowrap",children:o.toLocaleString()})})]})}return w.jsxs("div",{onClick:i,className:"bg-gray-800 p-5 rounded-[24px] border-2 border-blue-500 active:scale-[0.98] transition-all shadow-md flex flex-col gap-3 w-full relative overflow-hidden group cursor-pointer",children:[r.isBadCustomer&&w.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-10 pointer-events-none text-red-500/20",children:w.jsx(z1,{className:"w-16 h-16"})}),w.jsxs("div",{className:"flex justify-between items-start",children:[w.jsxs("div",{className:"flex flex-col gap-1",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("div",{className:"w-9 h-9 bg-gray-900 rounded-xl flex items-center justify-center text-base font-black text-amber-500 border border-gray-700 shadow-inner",children:t}),w.jsx("span",{className:"text-xl font-black text-gray-300 font-mono tracking-wide",children:S1(r.timestamp,s)})]}),w.jsx("div",{className:"ml-11",children:w.jsx("span",{className:"text-slate-400 text-lg font-black tracking-widest font-mono",children:u})})]}),w.jsxs("div",{className:"text-right",children:[w.jsx("span",{className:"text-[clamp(2.2rem,10vw,2.8rem)] font-black text-amber-500 leading-none block drop-shadow-md tracking-tighter",children:Lr(o)}),r.toll>0&&w.jsxs("span",{className:"text-xs font-bold text-blue-400 bg-blue-900/30 px-2 py-0.5 rounded border border-blue-500/30 inline-block mt-1",children:["( ",r.toll,")"]}),(r.returnToll||0)>0&&w.jsxs("span",{className:"text-xs font-bold text-indigo-400 bg-indigo-900/30 px-2 py-0.5 rounded border border-indigo-500/30 inline-block mt-1 ml-1",children:["( ",r.returnToll,")"]})]})]}),w.jsxs("div",{className:"flex flex-col gap-2 my-1 pl-1 border-l-2 border-gray-700 ml-2 py-1",children:[w.jsxs("div",{className:"flex items-start gap-3",children:[w.jsx("div",{className:"mt-1.5 w-2.5 h-2.5 rounded-full bg-green-500 shadow-[0_0_8px_#22c55e] flex-shrink-0"}),w.jsxs("div",{className:"flex-1 flex items-center justify-between min-w-0",children:[w.jsx("span",{className:"text-lg font-black text-white leading-tight truncate",children:r.pickupLocation||"---"}),r.pickupCoords&&w.jsx("a",{href:zd(r.pickupCoords)||"#",target:"_blank",rel:"noreferrer",onClick:p=>p.stopPropagation(),className:"p-2 bg-blue-500/10 text-blue-400 rounded-lg border border-blue-500/20 active:scale-90 ml-2",children:w.jsx(Of,{size:14})})]})]}),w.jsxs("div",{className:"flex items-start gap-3",children:[w.jsx("div",{className:"mt-1.5 w-2.5 h-2.5 rounded-full bg-red-500 shadow-[0_0_8px_#ef4444] flex-shrink-0"}),w.jsxs("div",{className:"flex-1 flex items-center justify-between min-w-0",children:[w.jsx("span",{className:"text-lg font-black text-white leading-tight truncate",children:r.dropoffLocation||"---"}),r.dropoffCoords&&w.jsx("a",{href:zd(r.dropoffCoords)||"#",target:"_blank",rel:"noreferrer",onClick:p=>p.stopPropagation(),className:"p-2 bg-blue-500/10 text-blue-400 rounded-lg border border-blue-500/20 active:scale-90 ml-2",children:w.jsx(Kg,{size:14})})]})]})]}),w.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-1",children:[w.jsx("span",{className:`text-xs font-black px-3 py-1.5 rounded-lg border flex-1 text-center whitespace-nowrap ${N6(r.paymentMethod)}`,children:c}),r.rideType!=="FLOW"&&w.jsx("span",{className:"text-xs font-black text-gray-300 px-3 py-1.5 rounded-lg bg-gray-800 border border-gray-700 whitespace-nowrap",children:Ki[r.rideType]})]}),e&&r.remarks&&w.jsx("div",{className:"mt-2 pt-3 border-t border-gray-800/50 animate-in slide-in-from-top-2 duration-200",children:w.jsxs("div",{className:"bg-yellow-900/20 p-4 rounded-xl border border-yellow-700/30 flex items-start gap-3",children:[w.jsx(B1,{className:"w-5 h-5 text-yellow-500 mt-0.5 flex-shrink-0"}),w.jsx("p",{className:"text-base font-bold text-yellow-100 whitespace-pre-wrap leading-relaxed",children:r.remarks})]})})]})},zb=r=>{const t={};return r.forEach(e=>{t[e.paymentMethod]=(t[e.paymentMethod]||0)+1}),t},pj=({method:r,className:t})=>{switch(r){case"CASH":return w.jsx(yT,{className:t});case"CARD":return w.jsx(h0,{className:t});case"DIDI":return w.jsx(Qg,{className:t});case"TICKET":return w.jsx(KE,{className:t});case"QR":return w.jsx(DE,{className:t});default:return w.jsx(h0,{className:t})}},Hb=({breakdown:r,counts:t,customLabels:e,enabledMethods:n})=>{const s=n||kf;let i=0,a=0;Object.keys(r).forEach(c=>{c!=="CASH"&&(i+=r[c])}),Object.keys(t).forEach(c=>{c!=="CASH"&&(a+=t[c])});const l=e||{};return w.jsxs("div",{className:"space-y-4",children:[i>0&&w.jsxs("div",{className:"bg-gradient-to-r from-indigo-900/60 to-blue-900/60 p-4 rounded-2xl border border-indigo-500/30 flex justify-between items-center shadow-lg",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"p-2 bg-indigo-500/20 rounded-full",children:w.jsx(JT,{className:"w-6 h-6 text-indigo-300"})}),w.jsxs("div",{children:[w.jsx("span",{className:"text-xs font-bold text-indigo-200 block uppercase tracking-widest",children:""}),w.jsxs("span",{className:"text-sm font-medium text-indigo-400",children:[a,""]})]})]}),w.jsx("span",{className:"text-3xl font-black text-white tracking-tight",children:Lr(i)})]}),w.jsxs("h4",{className:"text-xs font-black text-gray-500 uppercase px-2 tracking-widest flex items-center gap-2 mt-3",children:[w.jsx(h0,{className:"w-3 h-3"})," "]}),w.jsx("div",{className:"grid grid-cols-2 gap-3",children:s.map(c=>{const o=r[c]||0,u=t[c]||0;if(o===0&&u===0)return null;const p=l[c]||va[c],h=N6(c);let d="bg-gray-900/50 border-gray-800";return h.includes("amber")||h.includes("yellow")?d="bg-amber-900/20 border-amber-500/30":h.includes("blue")||h.includes("sky")?d="bg-blue-900/20 border-blue-500/30":h.includes("green")||h.includes("emerald")?d="bg-green-900/20 border-green-500/30":h.includes("purple")||h.includes("indigo")?d="bg-purple-900/20 border-purple-500/30":(h.includes("pink")||h.includes("red"))&&(d="bg-pink-900/20 border-pink-500/30"),w.jsxs("div",{className:`${d} p-3 rounded-xl border flex flex-col justify-between shadow-sm`,children:[w.jsxs("div",{className:"flex justify-between items-start mb-2",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(pj,{method:c,className:"w-4 h-4 opacity-70"}),w.jsx("span",{className:"text-xs font-bold opacity-80 truncate max-w-[80px]",children:p})]}),w.jsxs("span",{className:"text-xs font-medium opacity-60",children:[u,""]})]}),w.jsx("div",{className:"text-right",children:w.jsx("span",{className:"text-xl font-black block tracking-tight",children:Lr(o)})})]},c)})})]})},Zs=({children:r,onClose:t})=>{const e=_e.useRef(t),n=_e.useRef(null),s=_e.useRef(null);_e.useEffect(()=>{e.current=t},[t]),_e.useEffect(()=>{const l=window.history.state;l!=null&&l.modal||window.history.pushState({modal:!0},"",window.location.href);const c=W=>{var V;(V=W.state)!=null&&V.modal||e.current()};window.addEventListener("popstate",c);const o=document.documentElement,u=o.style.overflow,p=o.style.overflowX,h=o.style.position,d=o.style.width,b=o.style.left,x=o.style.right,g=document.body.style.overflow,v=document.body.style.overflowX,y=document.body.style.touchAction,k=document.body.style.position,R=document.body.style.width,z=document.body.style.left,q=document.body.style.right;o.style.overflowX="hidden",o.style.width="100%",o.style.left="0",o.style.right="0",document.body.style.overflow="hidden",document.body.style.overflowX="hidden",document.body.style.touchAction="none",document.body.style.position="fixed",document.body.style.width="100%",document.body.style.left="0",document.body.style.right="0";let B=0,I=0;const O=W=>{const V=W.touches[0]||W.changedTouches[0];if(!V)return;const N=Math.abs(V.clientX-B),P=Math.abs(V.clientY-I);s.current&&s.current.contains(W.target)?N>P&&W.preventDefault():W.preventDefault()},F=W=>{W.touches[0]&&(B=W.touches[0].clientX,I=W.touches[0].clientY)};return n.current&&(n.current.addEventListener("touchstart",F,{passive:!0}),n.current.addEventListener("touchmove",O,{passive:!1})),()=>{window.removeEventListener("popstate",c),u?o.style.overflow=u:o.style.removeProperty("overflow"),p?o.style.overflowX=p:o.style.removeProperty("overflow-x"),h?o.style.position=h:o.style.removeProperty("position"),d?o.style.width=d:o.style.removeProperty("width"),b?o.style.left=b:o.style.removeProperty("left"),x?o.style.right=x:o.style.removeProperty("right"),g?document.body.style.overflow=g:document.body.style.removeProperty("overflow"),v?document.body.style.overflowX=v:document.body.style.removeProperty("overflow-x"),y?document.body.style.touchAction=y:document.body.style.removeProperty("touch-action"),k?document.body.style.position=k:document.body.style.removeProperty("position"),R?document.body.style.width=R:document.body.style.removeProperty("width"),z?document.body.style.left=z:document.body.style.removeProperty("left"),q?document.body.style.right=q:document.body.style.removeProperty("right"),n.current&&(n.current.removeEventListener("touchstart",F),n.current.removeEventListener("touchmove",O))}},[]);const i=l=>{l.target===l.currentTarget&&t()},a=l=>{l.currentTarget===l.target&&l.preventDefault()};return w.jsx("div",{ref:n,className:"fixed inset-0 z-[100] flex flex-col justify-end bg-black/80 backdrop-blur-sm animate-in fade-in duration-200",onClick:i,onTouchMove:a,style:{touchAction:"none",overflowX:"hidden",overflowY:"hidden",left:0,right:0,width:"100%",maxWidth:"100%",position:"fixed",transform:"translateX(0)",willChange:"transform",userSelect:"none",WebkitUserSelect:"none"},children:w.jsxs("div",{className:"relative w-full max-w-md mx-auto bg-[#131C2B] rounded-t-[32px] p-5 shadow-2xl border-t border-gray-700 flex flex-col max-h-[90vh]",onClick:l=>l.stopPropagation(),style:{touchAction:"none",overflowX:"hidden",left:0,right:0,width:"100%",maxWidth:"28rem",position:"relative",transform:"translateX(0)",boxSizing:"border-box",userSelect:"none",WebkitUserSelect:"none"},children:[w.jsx("div",{className:"w-12 h-1.5 bg-gray-700 rounded-full mx-auto mb-6 opacity-50 flex-shrink-0"}),w.jsx("div",{ref:s,className:"overflow-y-auto custom-scrollbar flex-1 pb-safe",style:{touchAction:"pan-y",overflowX:"hidden",width:"100%",maxWidth:"100%",boxSizing:"border-box"},children:w.jsx("div",{style:{width:"100%",maxWidth:"100%",boxSizing:"border-box"},children:r})})]})})},mj=({onClose:r})=>{const[t,e]=_e.useState("select"),[n,s]=_e.useState("digital"),[i,a]=_e.useState(new Date),[l,c]=_e.useState(window.innerHeight>window.innerWidth);_e.useEffect(()=>{const b=()=>c(window.innerHeight>window.innerWidth);return window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]),_e.useEffect(()=>{const b=setInterval(()=>a(new Date),1e3);return()=>clearInterval(b)},[]);const o=_e.useMemo(()=>{const b=[{text:"text-cyan-400",shadow:"rgba(34,211,238,0.8)",border:"border-cyan-500/50",line:"bg-cyan-500"},{text:"text-fuchsia-400",shadow:"rgba(232,121,249,0.8)",border:"border-fuchsia-500/50",line:"bg-fuchsia-500"},{text:"text-lime-400",shadow:"rgba(163,230,53,0.8)",border:"border-lime-500/50",line:"bg-lime-500"},{text:"text-amber-400",shadow:"rgba(251,191,36,0.8)",border:"border-amber-500/50",line:"bg-amber-500"},{text:"text-rose-400",shadow:"rgba(251,113,133,0.8)",border:"border-rose-500/50",line:"bg-rose-500"}];return b[Math.floor(Math.random()*b.length)]},[]),u=b=>{s(b),e("view")},p=()=>w.jsxs("div",{className:"flex flex-col items-center justify-center h-full w-full bg-black font-mono animate-in zoom-in duration-300 p-4 relative overflow-hidden",children:[w.jsx("div",{className:`absolute inset-0 bg-[radial-gradient(circle_at_center,${o.shadow.replace("0.8","0.1")},transparent_70%)] pointer-events-none`}),w.jsx("div",{className:`absolute inset-6 border-2 ${o.border} opacity-50 rounded-3xl pointer-events-none`}),w.jsx("div",{className:`absolute top-6 left-1/2 -translate-x-1/2 w-1/4 h-1.5 ${o.line} shadow-[0_0_20px_${o.shadow}] rounded-b-full`}),w.jsx("div",{className:`absolute bottom-6 left-1/2 -translate-x-1/2 w-1/4 h-1.5 ${o.line} shadow-[0_0_20px_${o.shadow}] rounded-t-full`}),w.jsx("div",{className:`${o.text} text-[22vw] leading-none font-black tabular-nums tracking-tighter z-10`,style:{textShadow:`0 0 30px ${o.shadow}`},children:i.toLocaleTimeString("ja-JP",{hour12:!1})}),w.jsxs("div",{className:"mt-10 text-center space-y-4 z-10",children:[w.jsx("div",{className:`text-[5vw] font-bold ${o.text} opacity-90 tracking-widest uppercase`,children:i.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}),w.jsx("div",{className:`text-[6vw] font-black ${o.text} tracking-[0.2em] uppercase border-y-2 ${o.border} py-2 px-10 inline-block bg-black/50 backdrop-blur-sm`,children:i.toLocaleDateString("en-US",{weekday:"long"})})]})]}),h=()=>{let b=i.getHours();const x=b>=12?"PM":"AM";b=b%12,b=b||12;const g=String(b).padStart(2,"0"),v=String(i.getMinutes()).padStart(2,"0"),y=({num:k})=>w.jsxs("div",{className:`bg-[#1a1a1a] rounded-[12%] flex items-center justify-center relative overflow-hidden shadow-2xl ${l?"w-[75vw] h-[35vh]":"w-[40vw] h-[80vh]"} border-[1px] border-[#333]`,children:[w.jsx("span",{className:`font-sans font-bold text-[#d4d4d4] leading-none tracking-tighter scale-y-[1.3] ${l?"text-[32vh]":"text-[70vh]"} translate-y-[2%]`,children:k}),w.jsx("div",{className:"absolute top-1/2 left-0 w-full h-[2px] bg-[#000] z-20 shadow-[0_1px_2px_rgba(0,0,0,0.8)]"}),w.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/5 to-transparent pointer-events-none z-10"})]});return w.jsx("div",{className:"flex flex-col items-center justify-center h-full w-full bg-[#000000] animate-in fade-in duration-500",children:w.jsxs("div",{className:`flex ${l?"flex-col gap-6":"flex-row gap-6"} items-center justify-center w-full h-full p-6 relative`,children:[w.jsxs("div",{className:"relative",children:[w.jsx(y,{num:g}),w.jsx("div",{className:"absolute top-[8%] left-[8%] text-[#d4d4d4] font-bold text-[3vh] font-sans tracking-wider z-30 opacity-90",children:x})]}),w.jsx(y,{num:v})]})})},d=()=>{const b=i.getSeconds()/60,x=(b+i.getMinutes())/60,g=(x+i.getHours())/12;return w.jsx("div",{className:"flex items-center justify-center h-full bg-[#0d0d0d] animate-in spin-in-3 duration-500",children:w.jsxs("div",{className:"relative w-[85vw] h-[85vw] max-w-[600px] max-h-[600px] bg-[#1a1a1a] rounded-full shadow-[20px_20px_60px_#050505,-20px_-20px_60px_#2a2a2a] border-[8px] border-[#252525] flex items-center justify-center",children:[[...Array(60)].map((v,y)=>{const k=y%5===0;return w.jsx("div",{className:"absolute w-full h-full flex justify-center pt-4",style:{transform:`rotate(${y*6}deg)`},children:w.jsx("div",{className:`rounded-full ${k?"w-1.5 h-6 bg-gray-200 shadow-[0_0_8px_rgba(255,255,255,0.3)]":"w-0.5 h-2 bg-gray-600 opacity-50"}`})},y)}),w.jsxs("div",{className:"absolute inset-10 pointer-events-none",children:[w.jsx("span",{className:"absolute top-0 left-1/2 -translate-x-1/2 text-5xl font-bold text-gray-200",children:"12"}),w.jsx("span",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 text-5xl font-bold text-gray-200",children:"6"}),w.jsx("span",{className:"absolute left-0 top-1/2 -translate-y-1/2 text-5xl font-bold text-gray-200",children:"9"}),w.jsx("span",{className:"absolute right-0 top-1/2 -translate-y-1/2 text-5xl font-bold text-gray-200",children:"3"})]}),w.jsx("div",{className:"absolute w-3 h-[24%] bg-gray-200 rounded-full origin-bottom bottom-[50%] shadow-lg z-20",style:{transform:`rotate(${g*360}deg)`}}),w.jsx("div",{className:"absolute w-2 h-[34%] bg-gray-400 rounded-full origin-bottom bottom-[50%] shadow-lg z-30",style:{transform:`rotate(${x*360}deg)`}}),w.jsx("div",{className:"absolute w-1 h-[38%] bg-amber-600 rounded-full origin-bottom bottom-[50%] shadow-[0_0_10px_rgba(245,158,11,0.5)] z-40",style:{transform:`rotate(${b*360}deg)`}}),w.jsx("div",{className:"absolute w-5 h-5 bg-amber-600 rounded-full z-50 border-4 border-[#1a1a1a]"})]})})};return t==="select"?w.jsx("div",{className:"fixed inset-0 z-[9999] bg-black/95 backdrop-blur-md flex flex-col items-center justify-center p-6 animate-in fade-in duration-200",children:w.jsxs("div",{className:"w-full max-w-sm space-y-6",children:[w.jsxs("div",{className:"text-center space-y-2 mb-8",children:[w.jsx("h2",{className:"text-3xl font-black text-white tracking-tight",children:"CLOCK STYLE"}),w.jsx("p",{className:"text-gray-500 text-xs font-bold uppercase tracking-widest",children:"Select your favorite design"})]}),w.jsxs("button",{onClick:()=>u("digital"),className:"w-full bg-cyan-950/30 border border-cyan-800/50 p-5 rounded-3xl flex items-center gap-5 group active:scale-95 transition-all hover:bg-cyan-900/40 hover:border-cyan-500/50",children:[w.jsx("div",{className:"p-4 bg-cyan-500/10 rounded-2xl text-cyan-400 group-hover:text-white group-hover:bg-cyan-500 transition-all shadow-[0_0_15px_rgba(34,211,238,0.1)]",children:w.jsx(AE,{className:"w-8 h-8"})}),w.jsxs("div",{className:"text-left",children:[w.jsx("span",{className:"block text-xl font-black text-white group-hover:text-cyan-100 transition-colors",children:"CYBER DIGITAL"}),w.jsx("span",{className:"text-xs text-cyan-600 font-bold uppercase tracking-wider group-hover:text-cyan-300",children:"Neon Random Color"})]})]}),w.jsxs("button",{onClick:()=>u("analog"),className:"w-full bg-gray-900 border border-gray-800 p-5 rounded-3xl flex items-center gap-5 group active:scale-95 transition-all hover:bg-gray-800 hover:border-gray-600",children:[w.jsx("div",{className:"p-4 bg-gray-800 rounded-2xl text-gray-400 group-hover:text-white group-hover:bg-gray-600 transition-all",children:w.jsx(d9,{className:"w-8 h-8"})}),w.jsxs("div",{className:"text-left",children:[w.jsx("span",{className:"block text-xl font-black text-white",children:"DARK ANALOG"}),w.jsx("span",{className:"text-xs text-gray-500 font-bold uppercase tracking-wider group-hover:text-gray-300",children:"Modern & Chic"})]})]}),w.jsxs("button",{onClick:()=>u("fliqlo"),className:"w-full bg-stone-950 border border-stone-800 p-5 rounded-3xl flex items-center gap-5 group active:scale-95 transition-all hover:bg-stone-900 hover:border-stone-600",children:[w.jsx("div",{className:"p-4 bg-stone-900 rounded-2xl text-stone-400 group-hover:text-white group-hover:bg-stone-700 transition-all",children:w.jsx(Fl,{className:"w-8 h-8"})}),w.jsxs("div",{className:"text-left",children:[w.jsx("span",{className:"block text-xl font-black text-white",children:"FLIQLO STYLE"}),w.jsx("span",{className:"text-xs text-stone-600 font-bold uppercase tracking-wider group-hover:text-stone-400",children:"Retro Flip Clock"})]})]}),w.jsx("button",{onClick:r,className:"mt-10 py-4 w-full text-gray-600 font-bold text-sm tracking-widest hover:text-white transition-colors uppercase",children:"Close"})]})}):w.jsxs("div",{className:"fixed inset-0 z-[9999] cursor-pointer bg-black overflow-hidden",onClick:r,children:[n==="digital"&&w.jsx(p,{}),n==="analog"&&w.jsx(d,{}),n==="fliqlo"&&w.jsx(h,{}),w.jsx("div",{className:"absolute bottom-8 w-full text-center pointer-events-none opacity-0 hover:opacity-50 transition-opacity duration-1000 animate-[pulse_4s_infinite]",children:w.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.5em] text-white/30 bg-black/40 px-6 py-2 rounded-full backdrop-blur-md",children:"Tap to Close"})})]})},gj=["toppo2000@gmail.com","admin-user@gmail.com"],bj=({user:r,date:t,onClose:e})=>{const[n,s]=_e.useState({records:[],total:0}),[i,a]=_e.useState(!0);return _e.useEffect(()=>{let l=null,c=!1;return(async()=>{try{const p=Date.now()-1440*60*1e3;l=Ls(or(Lt,"public_status",r.uid),async h=>{if(!c)if(h.exists()){const b=h.data().records||[];try{const x=Gr(Lt,"public_status",r.uid,"history"),g=Hr(x,Ss("timestamp",">=",p),un("timestamp","desc")),v=await Zr(g),y=[];v.forEach(q=>{y.push(q.data())});const k=new Map;[...b,...y].forEach(q=>{q&&typeof q.timestamp=="number"&&q.timestamp>p&&k.set(q.id,q)});const R=Array.from(k.values()).sort((q,B)=>B.timestamp-q.timestamp),z=R.reduce((q,B)=>q+(B.amount||0),0);c||(s({records:R,total:z}),a(!1))}catch(x){console.error("[ColleagueDetailModal] Subcollection error:",x);const g=b.filter(y=>y&&typeof y.timestamp=="number"&&y.timestamp>p).sort((y,k)=>k.timestamp-y.timestamp),v=g.reduce((y,k)=>y+(k.amount||0),0);c||(s({records:g,total:v}),a(!1))}}else c||(s({records:[],total:0}),a(!1))},h=>{console.error("[ColleagueDetailModal] Snapshot error:",h),c||(a(!1),s({records:[],total:0}))})}catch(u){console.error("[ColleagueDetailModal] Load error:",u),c||(a(!1),s({records:[],total:0}))}})(),()=>{c=!0,l&&l()}},[r.uid]),R6.createPortal(w.jsxs("div",{className:"fixed inset-0 z-[9999] flex flex-col justify-end bg-black/80 backdrop-blur-sm animate-in fade-in duration-200",children:[w.jsx("div",{className:"absolute inset-0",onClick:e}),w.jsxs("div",{className:"relative w-full max-w-md mx-auto bg-gray-800 rounded-t-[32px] p-6 text-white h-[85vh] flex flex-col shadow-2xl animate-in slide-in-from-bottom-10 duration-300 border-t-2 border-orange-500",children:[w.jsxs("div",{className:"flex justify-between items-center mb-6 flex-shrink-0",children:[w.jsx("div",{children:w.jsxs("h2",{className:"text-xl font-black flex items-center gap-2",children:[r.name," ",w.jsx("span",{className:"text-xs font-normal text-gray-400 bg-gray-800 px-2 py-1 rounded-full",children:t})]})}),w.jsx("button",{onClick:e,className:"p-3 bg-gray-800 rounded-full text-gray-400 hover:text-white active:scale-95 transition-transform",children:w.jsx(_s,{className:"w-6 h-6"})})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6 flex-shrink-0",children:[w.jsxs("div",{className:"bg-gray-700 p-4 rounded-2xl border-2 border-orange-500 text-center",children:[w.jsx("p",{className:"text-xs text-gray-500 font-bold uppercase tracking-widest mb-1",children:""}),w.jsx("p",{className:"text-2xl font-black text-amber-500",children:Lr(n.total)})]}),w.jsxs("div",{className:"bg-gray-700 p-4 rounded-2xl border-2 border-orange-500 text-center",children:[w.jsx("p",{className:"text-xs text-gray-500 font-bold uppercase tracking-widest mb-1",children:""}),w.jsxs("p",{className:"text-2xl font-black text-white",children:[n.records.length," ",w.jsx("span",{className:"text-sm text-gray-500",children:""})]})]})]}),w.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 pb-safe pr-1 custom-scrollbar",children:i?w.jsx("div",{className:"text-center text-gray-500 py-10 font-bold",children:"..."}):n.records.length===0?w.jsx("div",{className:"text-center text-gray-500 py-10 font-bold",children:""}):n.records.map((l,c)=>w.jsx("div",{className:"opacity-100",children:w.jsx(Wf,{record:l,index:n.records.length-c,isDetailed:!0,customLabels:{},businessStartHour:r.businessStartHour||9,onClick:()=>{}})},l.id||c))})]})]}),document.body)},k1=({followingUsers:r})=>{var b,x;const[t,e]=_e.useState([]),[n,s]=_e.useState(null),i=12,a=(b=mr.currentUser)==null?void 0:b.uid,l=((x=mr.currentUser)==null?void 0:x.email)||"",c=gj.includes(l);_e.useEffect(()=>{let g=null;if(c){const v=Hr(Gr(Lt,"public_status"));g=Ls(v,y=>{const k=[];y.forEach(q=>{const B=q.data();B.status||console.warn("[ColleagueStatusList] Missing status field for user:",B.uid,B.name,"data:",B),k.push(B)});const R=Date.now(),z=Ot(R,i);k.sort((q,B)=>{const O=(q.startTime?Ot(q.startTime,i):"")===z||q.sales>0&&q.lastUpdated>R-12*36e5,W=(B.startTime?Ot(B.startTime,i):"")===z||B.sales>0&&B.lastUpdated>R-12*36e5;return O&&!W?-1:!O&&W?1:B.sales-q.sales}),e(k)},y=>{console.error("[ColleagueStatusList] Snapshot error:",y)})}else{const v=new Set([...r||[],a].filter(Boolean));if(v.size===0){e([]);return}const y=[],k=new Map;v.forEach(z=>{const q=Ls(or(Lt,"public_status",z),B=>{if(B.exists()){const I=B.data();if(I.status||console.warn("[ColleagueStatusList] Missing status field for user:",z,I.name,"data:",I),z!==a){const O=I.visibilityMode||"PUBLIC";if(O==="PRIVATE"){k.delete(z),R(k);return}if(O==="CUSTOM"&&!(I.allowedViewers&&I.allowedViewers.includes(a||""))){k.delete(z),R(k);return}}k.set(z,I)}else k.delete(z);R(k)},B=>{console.error(`[ColleagueStatusList] Error watching user ${z}:`,B)});y.push(q)});const R=z=>{const q=Array.from(z.values()),B=Date.now(),I=Ot(B,i);q.sort((O,F)=>{const V=(O.startTime?Ot(O.startTime,i):"")===I||O.sales>0&&O.lastUpdated>B-12*36e5,P=(F.startTime?Ot(F.startTime,i):"")===I||F.sales>0&&F.lastUpdated>B-12*36e5;return V&&!P?-1:!V&&P?1:F.sales-O.sales}),e(q)};g=()=>{y.forEach(z=>z())}}return()=>{g&&g()}},[r,a,c]);const o=g=>g?new Date(g).toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit"}):"--:--",u=Ot(Date.now(),i),p=(g,v)=>{if(g.status)switch(g.status){case"riding":return w.jsx("span",{className:"text-red-400 font-black text-sm whitespace-nowrap",children:""});case"active":return w.jsx("span",{className:"text-blue-400 font-black text-sm whitespace-nowrap",children:""});case"break":return w.jsx("span",{className:"text-amber-500 font-black text-sm whitespace-nowrap",children:""});case"completed":case"offline":return w.jsx("span",{className:"text-white font-black tracking-tighter whitespace-nowrap text-sm",children:o(g.plannedEndTime)});default:return w.jsx("span",{className:"text-blue-400 font-black text-sm whitespace-nowrap",children:""})}return v?w.jsx("span",{className:"text-blue-400 font-black text-sm whitespace-nowrap",children:""}):w.jsx("span",{className:"text-gray-500 font-bold text-sm whitespace-nowrap",children:""})},h=g=>{const y=(g.records||[]).some(z=>{var q;return z&&!((q=z.remarks)!=null&&q.includes(""))}),R=(g.topRecords||[]).length>0;return y||R},d=t.filter(g=>{if(g.uid===a)return!0;if(!r.includes(g.uid))return!1;if(c)return!!h(g);const v=g.visibilityMode||"PUBLIC";return!(v==="PRIVATE"||v==="CUSTOM"&&!(g.allowedViewers&&g.allowedViewers.includes(a||""))||!h(g))});return d.length===0?null:w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"rounded-2xl overflow-hidden mb-4 shadow-xl animate-in fade-in slide-in-from-bottom-4 font-sans border-2 border-orange-500",children:[w.jsxs("div",{className:"bg-gray-800 px-3 py-2.5 text-center border-b border-orange-500/30 relative",children:[w.jsx("div",{className:"absolute top-0 left-0 w-full h-0.5 bg-gradient-to-r from-transparent via-amber-500/50 to-transparent"}),w.jsxs("div",{className:"text-gray-200 font-black text-sm tracking-wide flex items-center justify-center gap-2",children:[" ",w.jsxs("span",{className:"text-xs font-normal text-gray-400",children:["(",u,")"]})]}),w.jsx("div",{className:"text-gray-500 text-[10px] font-bold mt-0.5",children:""})]}),w.jsx("div",{className:"overflow-x-auto bg-gray-800",children:w.jsxs("table",{className:"w-full text-center border-collapse",children:[w.jsx("thead",{children:w.jsxs("tr",{className:"bg-gray-700 text-xs uppercase tracking-wider border-b border-orange-500/30",children:[w.jsx("th",{className:"py-2 px-1 font-bold border-r border-gray-700/50 w-[20%] text-pink-300",children:""}),w.jsx("th",{className:"py-2 px-1 font-bold border-r border-gray-700/50 text-blue-300",children:""}),w.jsx("th",{className:"py-2 px-1 font-bold border-r border-gray-700/50 text-green-300",children:""}),w.jsx("th",{className:"py-2 px-1 font-bold border-r border-gray-700/50 text-yellow-300",children:""}),w.jsx("th",{className:"py-2 px-1 font-bold border-r border-gray-700/50 text-orange-300",children:""}),w.jsx("th",{className:"py-2 px-2 font-bold text-cyan-300",children:""})]})}),w.jsx("tbody",{className:"text-sm text-gray-200",children:d.map((g,v)=>{const y=g.uid===a,R=(g.startTime?Ot(g.startTime,i):"")===u||g.sales>0&&g.lastUpdated>Date.now()-12*36e5,z=y?"bg-emerald-500/10 shadow-[inset_3px_0_0_#10b981] border-t border-b border-emerald-500/20":v%2===0?"bg-blue-500/05":"bg-purple-500/05",q="text-base font-bold text-white",B="text-sm font-black text-white";return w.jsxs("tr",{className:`${z} border-b border-gray-700/30 cursor-pointer hover:bg-white/5 active:bg-white/10 transition-colors`,onClick:()=>s(g),children:[w.jsxs("td",{className:`py-2 px-1 text-left truncate max-w-[80px] border-r border-gray-700/30 ${q}`,children:[g.name,c&&g.visibilityMode==="PRIVATE"&&!y&&w.jsx("span",{className:"text-[9px] text-red-400 block leading-none font-black scale-75 origin-left",children:"[]"})]}),w.jsx("td",{className:`py-2 px-1 tracking-tighter border-r border-gray-700/30 ${B}`,children:R?o(g.startTime):""}),w.jsx("td",{className:"py-2 px-1 font-medium tracking-tighter border-r border-gray-700/30",children:p(g,R)}),w.jsx("td",{className:`py-2 px-1 border-r border-gray-700/30 ${B}`,children:R?g.rideCount:0}),w.jsx("td",{className:`py-2 px-1 border-r border-gray-700/30 ${B}`,children:R?g.dispatchCount??"-":0}),w.jsx("td",{className:"py-2 px-2 text-right tracking-tight text-sm font-black text-white",children:(R?g.sales:0).toLocaleString()})]},g.uid)})})]})})]}),n&&w.jsx(bj,{user:n,date:u,onClose:()=>s(null)})]})},xj="/assets/top-DERP1E77.png",yj=["toppo2000@gmail.com","admin-user@gmail.com"],j_=({progress:r,color:t})=>{const e=t==="amber",n=e?"bg-amber-500 shadow-[0_0_15px_#F59E0B]":"bg-blue-500 shadow-[0_0_15px_#3B82F6]",s=e?"border-amber-400/40":"border-blue-400/40";return w.jsx("div",{className:`w-full bg-[#05080C] border-2 ${s} rounded-full h-8 p-1 overflow-hidden shadow-[inset_0_2px_10px_rgba(0,0,0,0.8)]`,children:w.jsx("div",{className:`h-full transition-all duration-1000 ease-out rounded-full ${n}`,style:{width:`${Math.min(100,r)}%`}})})},vj=({shift:r,stats:t,breakState:e,onStart:n,onEnd:s,onAdd:i,onEdit:a,onUpdateGoal:l,onUpdateShiftGoal:c,onAddRestMinutes:o,onToggleBreak:u,setBreakState:p,onShiftEdit:h,onUpdateStartOdo:d,history:b=[],dayMetadata:x={},onUpdateStats:g})=>{const[v,y]=_e.useState(t.defaultDailyGoal.toLocaleString()),[k,R]=_e.useState(12),[z,q]=_e.useState(!1),[B,I]=_e.useState(!1),[O,F]=_e.useState(t.monthlyGoal.toLocaleString()),[W,V]=_e.useState((r==null?void 0:r.dailyGoal.toLocaleString())||t.defaultDailyGoal.toLocaleString()),[N,P]=_e.useState(!0),[C,S]=_e.useState(!1),[E,A]=_e.useState(!1),[T,j]=_e.useState(Date.now()),[L,D]=_e.useState(!1),[Z,K]=_e.useState(!1),[ee,G]=_e.useState(new Date),[te,H]=_e.useState(t.dutyDays||[]),U=t.businessStartHour??9,Q=t.shimebiDay??20,ie=_e.useMemo(()=>{const ae=parseInt(Q.toString()),pe=isNaN(ae)?20:ae,{start:ce,end:fe}=rr(ee,pe,U),ge=ce.getFullYear(),ye=ce.getMonth(),Ne=new Date(ge,ye,ce.getDate()),Fe=new Date(Ne),Oe=Ne.getDay();Fe.setDate(Fe.getDate()-Oe);const Ve=new Date(ge,fe.getMonth(),fe.getDate()),ze=new Date(Ve),bt=Ve.getDay();ze.setDate(ze.getDate()+(6-bt));const St=[],Tt=new Date(Fe);for(let be=0;be<35;be++)St.push(new Date(Tt)),Tt.setDate(Tt.getDate()+1);return St},[ee,Q,U]),re=_e.useMemo(()=>{const ae=parseInt(Q.toString()),pe=isNaN(ae)?20:ae,{end:ce}=rr(ee,pe,U);return`${ce.getFullYear()} / ${String(ce.getMonth()+1).padStart(2,"0")}`},[ee,Q,U]),oe=_e.useMemo(()=>{const ae={},pe={};return b.forEach(ce=>{const fe=Ot(ce.timestamp,U);pe[fe]||(pe[fe]=[]),pe[fe].push(ce)}),Object.keys(pe).forEach(ce=>{const fe=pe[ce];fe.some(ye=>{var Ne;return(Ne=ye.remarks)==null?void 0:Ne.includes("")})?fe.filter(Ne=>{var Fe;return(Fe=Ne.remarks)==null?void 0:Fe.includes("")}).length>0&&(ae[ce]=!0):fe.filter(Ne=>{var Fe;return!((Fe=Ne.remarks)!=null&&Fe.includes(""))}).length>0&&(ae[ce]=!0)}),ae},[b,U]),he=_e.useMemo(()=>{const ae=parseInt(Q.toString()),pe=isNaN(ae)?20:ae,{start:ce,end:fe}=rr(ee,pe,U),ge=Ht(ce),ye=Ht(fe),Ne=Ot(Date.now(),U),Fe=new Set;return ie.forEach(Oe=>{const Ve=new Date(Oe);Ve.setHours(U,0,0,0);const ze=Ot(Ve.getTime(),U);if(ze>=ge&&ze<=ye){const St=ze<Ne,Tt=oe[ze]||!1;(te.includes(ze)||St&&Tt)&&Fe.add(ze)}}),Fe.size},[ie,te,ee,Q,U,oe]);_e.useEffect(()=>{H(t.dutyDays||[])},[t.dutyDays]);const ve=ae=>{const pe=Ot(Date.now(),U);ae<pe||H(fe=>fe.includes(ae)?fe.filter(ge=>ge!==ae):[...fe,ae])},me=()=>{const ae=parseInt(Q.toString()),pe=isNaN(ae)?20:ae,{start:ce,end:fe}=rr(ee,pe,U),ge=[];let ye=new Date(ce);for(;ye<=fe;){const Ne=ye.getDay();if(Ne!==0&&Ne!==6){const Fe=new Date(ye);Fe.setHours(U,0,0,0);const Oe=Ot(Fe.getTime(),U);ge.push(Oe)}ye.setDate(ye.getDate()+1)}H(ge)},[ne,de]=_e.useState(""),[xe,Te]=_e.useState(!1),[Re,Pe]=_e.useState(!1),[Xe,Ue]=_e.useState(!1),[tt,at]=_e.useState(0),Je=_e.useRef(null);_e.useEffect(()=>{const ae=setInterval(()=>j(Date.now()),1e3);return()=>clearInterval(ae)},[]),_e.useEffect(()=>{r?r.startOdo&&de(r.startOdo.toString()):y(t.defaultDailyGoal.toLocaleString())},[t.defaultDailyGoal,r]),_e.useEffect(()=>(e.isActive&&e.startTime?(at(Date.now()-e.startTime),Je.current=window.setInterval(()=>{e.startTime&&at(Date.now()-e.startTime)},1e3)):(Je.current&&clearInterval(Je.current),at(0)),()=>{Je.current&&clearInterval(Je.current)}),[e]);const Ze=()=>{if(!ne){Te(!0);return}n(Nn(v),k,Number(ne))},vt=()=>{Te(!1),n(Nn(v),k)},pt=()=>{d&&ne&&(d(Number(ne)),Pe(!1))},Ie=()=>{const ae=Math.floor(tt/6e4);ae>0&&o(ae),p({isActive:!1,startTime:null})},$e=()=>{const ae=Math.floor(tt/6e4);i(`: ${ae}`),setTimeout(()=>{p({isActive:!1,startTime:null})},100)},Ce=ae=>{const pe=Math.floor(ae/1e3),ce=Math.floor(pe/3600),fe=Math.floor(pe%3600/60),ge=pe%60;return`${String(ce).padStart(2,"0")}:${String(fe).padStart(2,"0")}:${String(ge).padStart(2,"0")}`},De=_e.useMemo(()=>(r==null?void 0:r.records)||[],[r]),it=_e.useMemo(()=>De.reduce((ae,pe)=>ae+pe.amount,0),[De]),Be=_e.useMemo(()=>E6(it),[it]),Ge=_e.useMemo(()=>Ub(De),[De]),mt=_e.useMemo(()=>zb(De),[De]),dt=_e.useMemo(()=>r?(T-r.startTime)/6e4:0,[r,T]),ke=_e.useMemo(()=>{if(!r)return"";const ae=T-r.startTime,pe=Math.floor(ae/(1e3*60*60)),ce=Math.floor(ae%(1e3*60*60)/(1e3*60));return`${pe}${String(ce).padStart(2,"0")}`},[r,T]),We=_e.useMemo(()=>dt<=0?0:it/dt*60,[it,dt]),Ae=_e.useMemo(()=>r?Math.max(0,r.dailyGoal-it):0,[r,it]),Ee=_e.useMemo(()=>{if(!r||!r.plannedHours||r.plannedHours===0)return 0;const ae=(T-r.startTime)/(1e3*60*60),ce=r.dailyGoal/r.plannedHours*ae;return it-ce},[r,T,it]),et=r?it/(r.dailyGoal||1)*100:0,lt=_e.useMemo(()=>N?[...De].reverse():[...De],[De,N]),Ke=_e.useMemo(()=>rr(new Date,t.shimebiDay,t.businessStartHour),[t.shimebiDay,t.businessStartHour]),xt=Ot(Date.now(),t.businessStartHour),jt=_e.useMemo(()=>t.dutyDays?t.dutyDays.filter(ae=>ae>=xt&&ae<=Ht(Ke.end)).length:0,[t.dutyDays,xt,Ke.end]),At=_e.useMemo(()=>{const ae=Math.max(0,t.monthlyGoal-t.totalSales);return jt<=0?0:ae/jt},[t.monthlyGoal,t.totalSales,jt]),Ct=_e.useMemo(()=>{const ae=Ht(Ke.start),pe=Ht(Ke.end),ce=(b||[]).filter(Ne=>{const Fe=Ot(Ne.timestamp,U);return Fe>=ae&&Fe<=pe&&Fe<=xt}),fe=Gi(ce,U),ge=new Set;fe.forEach(Ne=>{const Fe=Ot(Ne.timestamp,U);ge.add(Fe)});const ye=ge.size;return console.log("[Dashboard] completedDutyDays calculation:",{historyCount:(b==null?void 0:b.length)||0,periodRecordsCount:ce.length,filteredRecordsCount:fe.length,uniqueDaysCount:ye,todayBusinessDate:xt,billingPeriodStart:ae,billingPeriodEnd:pe}),ye},[b,xt,Ke.start,Ke.end,U]);_e.useMemo(()=>t.dutyDays?t.dutyDays.filter(ae=>ae>=Ht(Ke.start)&&ae<=Ht(Ke.end)).length:0,[t.dutyDays,Ke]);const Dt=_e.useMemo(()=>{if(Ct<=0)return console.log("[Dashboard] averageDailySales: completedDutyDays is 0 or less, returning 0"),0;const ae=t.totalSales/Ct;return console.log("[Dashboard] averageDailySales calculation:",{totalSales:t.totalSales,completedDutyDays:Ct,calculation:`${t.totalSales} / ${Ct}`,result:ae}),ae},[t.totalSales,Ct]),Mt=_e.useMemo(()=>Ct<=0?0:Dt*(Ct+jt),[Dt,Ct,jt]),je=_e.useMemo(()=>r?r.startTime+r.plannedHours*36e5:null,[r]),qe=Array.from({length:21},(ae,pe)=>pe+4),ct=()=>{var fe;const ae=((fe=mr.currentUser)==null?void 0:fe.email)||"";if(yj.includes(ae))return w.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-purple-500/10 border border-purple-500/30 rounded-full text-[10px] font-black text-purple-400 uppercase tracking-widest shadow-[0_0_10px_rgba(168,85,247,0.2)]",children:[w.jsx(VE,{size:12}),w.jsx("span",{children:""})]});const ce=t.visibilityMode||"PUBLIC";return ce==="PUBLIC"?w.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-green-500/10 border border-green-500/30 rounded-full text-[10px] font-black text-green-400 uppercase tracking-widest shadow-[0_0_10px_rgba(34,197,94,0.2)]",children:[w.jsx(K4,{size:12}),w.jsx("span",{children:""})]}):ce==="PRIVATE"?w.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-red-500/10 border border-red-500/30 rounded-full text-[10px] font-black text-red-400 uppercase tracking-widest shadow-[0_0_10px_rgba(239,68,68,0.2)]",children:[w.jsx(Yg,{size:12}),w.jsx("span",{children:""})]}):ce==="CUSTOM"?w.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-blue-500/10 border border-blue-500/30 rounded-full text-[10px] font-black text-blue-400 uppercase tracking-widest shadow-[0_0_10px_rgba(59,130,246,0.2)]",children:[w.jsx(Rl,{size:12}),w.jsx("span",{children:""})]}):null};return w.jsxs("div",{className:"p-4 pb-32 space-y-5 w-full max-w-full overflow-hidden",children:[L&&R6.createPortal(w.jsx(mj,{onClose:()=>D(!1)}),document.body),xe&&w.jsx(Zs,{onClose:()=>Te(!1),children:w.jsxs("div",{className:"space-y-6 pb-4 text-center",children:[w.jsx("div",{className:"flex justify-center mb-4",children:w.jsx("div",{className:"bg-amber-500/10 p-4 rounded-full",children:w.jsx(ci,{className:"w-12 h-12 text-amber-500"})})}),w.jsx("h3",{className:"text-xl font-black text-white",children:""}),w.jsxs("p",{className:"text-gray-300 font-bold",children:["ODO",w.jsx("br",{}),""]}),w.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[w.jsx("button",{onClick:()=>Te(!1),className:"bg-gray-700 text-white py-4 rounded-2xl font-black text-lg shadow-lg active:scale-95 transition-transform",children:""}),w.jsx("button",{onClick:vt,className:"bg-amber-500 text-black py-4 rounded-2xl font-black text-lg shadow-lg active:scale-95 transition-transform",children:""})]})]})}),Re&&w.jsx(Zs,{onClose:()=>Pe(!1),children:w.jsxs("div",{className:"space-y-6 pb-4 text-center",children:[w.jsx("h3",{className:"text-xl font-black text-white",children:""}),w.jsxs("div",{className:"flex items-center bg-gray-800 rounded-2xl p-5 border-2 border-blue-500 focus-within:border-blue-400 transition-all shadow-inner",children:[w.jsx(Io,{className:"text-gray-500 w-8 h-8 mr-3"}),w.jsx("input",{type:"number",inputMode:"numeric",value:ne,onChange:ae=>de(ae.target.value),placeholder:"ODO",className:"bg-transparent text-white text-[clamp(1.5rem,8vw,2.5rem)] font-black w-full outline-none text-center placeholder-gray-700"}),w.jsx("span",{className:"text-gray-500 font-bold ml-2",children:"km"})]}),w.jsx("button",{onClick:pt,className:"w-full bg-amber-500 text-black py-4 rounded-2xl font-black text-xl shadow-xl active:scale-95 transition-transform",children:""})]})}),r&&w.jsxs("div",{className:"flex justify-between items-end px-2 mb-2",children:[w.jsxs("div",{className:"flex flex-col cursor-pointer active:scale-95 transition-transform",onClick:()=>D(!0),children:[w.jsx("span",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest",children:"Current Time"}),w.jsx("span",{className:"text-3xl font-black text-white leading-none font-mono",children:new Date(T).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("button",{onClick:()=>Pe(!0),className:"bg-gray-800 p-2 rounded-full border border-gray-700 text-gray-400 active:scale-95 transition-transform hover:text-white hover:border-gray-500",children:w.jsx(Io,{size:20})}),w.jsx(ct,{})]})]}),!r&&w.jsxs("div",{className:"bg-gray-800 rounded-[28px] px-5 py-6 border-2 border-blue-500 shadow-2xl animate-in fade-in duration-300 space-y-6 w-full",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[w.jsx(Qn,{className:"w-6 h-6 text-amber-500"}),w.jsx("span",{className:"text-lg font-black tracking-widest uppercase text-gray-400 whitespace-nowrap",children:""})]}),w.jsx("button",{onClick:()=>K(!0),className:"bg-indigo-500/10 border border-indigo-500/30 px-3 py-1.5 rounded-full min-w-0 flex-shrink cursor-pointer active:scale-95 transition-transform hover:bg-indigo-500/20",children:w.jsxs("span",{className:"text-xs font-black text-indigo-400 uppercase tracking-tighter whitespace-nowrap block truncate",children:[Ht(Ke.start),"  ",Ht(Ke.end)]})})]}),w.jsxs("div",{className:"flex justify-between items-end gap-2 w-full",children:[w.jsxs("div",{className:"flex-1 min-w-0 flex items-baseline text-white font-black tracking-tighter leading-none overflow-hidden",children:[w.jsx("span",{className:"text-[clamp(1.8rem,8vw,2.5rem)] mr-1 flex-shrink-0",children:""}),w.jsx("span",{className:"text-[clamp(2.5rem,12vw,4rem)] min-w-0 truncate",children:Math.round(t.totalSales).toLocaleString()})]}),w.jsxs("button",{onClick:()=>K(!0),className:"text-right flex-shrink-0 cursor-pointer active:scale-95 transition-transform",children:[w.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-1 whitespace-nowrap",children:""}),w.jsxs("p",{className:"text-[clamp(1.8rem,8vw,2.5rem)] font-black text-amber-500 leading-none whitespace-nowrap",children:[jt," ",w.jsx("span",{className:"text-lg font-bold",children:""})]})]})]}),w.jsxs("div",{className:"bg-gray-800 rounded-2xl p-4 border-2 border-blue-500 flex justify-between items-center shadow-inner gap-3 cursor-pointer active:scale-95 transition-transform hover:border-blue-400",onClick:()=>Ue(!0),children:[w.jsxs("div",{className:"min-w-0",children:[w.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-1 whitespace-nowrap",children:" (1)"}),w.jsx("p",{className:"text-[clamp(1.6rem,8vw,2.2rem)] font-black text-white leading-none truncate",children:Lr(At)})]}),w.jsx(p0,{className:"w-8 h-8 text-amber-500/10 flex-shrink-0"})]}),w.jsxs("div",{className:"space-y-3",children:[w.jsx(j_,{progress:t.totalSales/(t.monthlyGoal||1)*100,color:"blue"}),w.jsxs("div",{onClick:()=>{F(t.monthlyGoal.toLocaleString()),q(!0)},className:"flex justify-between items-center text-base font-black text-gray-400 cursor-pointer active:scale-95 gap-3",children:[w.jsxs("span",{className:"whitespace-nowrap",children:[Math.round(t.totalSales/(t.monthlyGoal||1)*100),"% "]}),w.jsx("span",{className:"flex items-center gap-1 uppercase underline underline-offset-4 decoration-amber-500/50 decoration-2 truncate min-w-0 justify-end",children:w.jsxs("span",{className:"truncate",children:[" ",Lr(t.monthlyGoal)]})})]})]})]}),!r&&w.jsx(k1,{followingUsers:t.followingUsers||[]}),z&&w.jsx(Zs,{onClose:()=>q(!1),children:w.jsxs("div",{className:"space-y-6 pb-4 text-center",children:[w.jsx("h3",{className:"text-xl font-black text-white",children:""}),w.jsxs("div",{className:"bg-gray-800 p-5 rounded-2xl border-2 border-blue-500 flex items-center shadow-inner",children:[w.jsx("span",{className:"text-blue-400 font-black mr-2 text-3xl",children:""}),w.jsx("input",{type:"text",inputMode:"numeric",value:O,onChange:ae=>F(zo(ae.target.value)),className:"bg-transparent text-white text-[clamp(2.2rem,10vw,3.5rem)] font-black w-full outline-none",autoFocus:!0})]}),w.jsx("button",{onClick:()=>{l(Nn(O)),q(!1)},className:"w-full bg-blue-600 py-4 rounded-2xl font-black text-xl text-white shadow-xl active:scale-95 transition-transform",children:""})]})}),B&&w.jsx(Zs,{onClose:()=>I(!1),children:w.jsxs("div",{className:"space-y-6 pb-4 text-center",children:[w.jsx("h3",{className:"text-xl font-black text-white",children:""}),w.jsxs("div",{className:"bg-gray-900 p-5 rounded-2xl border-2 border-gray-700 flex items-center shadow-inner",children:[w.jsx("span",{className:"text-amber-500 font-black mr-2 text-3xl",children:""}),w.jsx("input",{type:"text",inputMode:"numeric",value:W,onChange:ae=>V(zo(ae.target.value)),className:"bg-transparent text-white text-[clamp(2.2rem,10vw,3.5rem)] font-black w-full outline-none",autoFocus:!0})]}),w.jsx("button",{onClick:()=>{c(Nn(W)),I(!1)},className:"w-full bg-amber-500 text-black py-4 rounded-2xl font-black text-xl shadow-xl active:scale-95 transition-transform",children:""})]})}),Xe&&w.jsx(Zs,{onClose:()=>Ue(!1),children:w.jsxs("div",{className:"space-y-6 pb-4",children:[w.jsxs("div",{className:"text-center mb-6",children:[w.jsx("div",{className:"flex justify-center mb-4",children:w.jsx("div",{className:"bg-amber-500/10 p-4 rounded-full",children:w.jsx(Oo,{className:"w-12 h-12 text-amber-500"})})}),w.jsx("h3",{className:"text-2xl font-black text-white mb-2",children:""}),w.jsx("p",{className:"text-sm text-gray-400 font-bold",children:""})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"bg-gradient-to-br from-blue-500/20 to-indigo-500/20 rounded-2xl p-5 border-2 border-blue-500/50 shadow-lg",children:[w.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[w.jsx(p0,{className:"w-6 h-6 text-blue-400 flex-shrink-0"}),w.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:""})]}),w.jsxs("div",{className:"flex items-baseline text-white font-black leading-none",children:[w.jsx("span",{className:"text-2xl mr-1 text-blue-400",children:""}),w.jsx("span",{className:"text-[clamp(2rem,10vw,3rem)]",children:Math.round(Mt).toLocaleString()})]}),w.jsx("p",{className:"text-[10px] text-gray-500 font-bold mt-2 leading-tight",children:"    "})]}),w.jsxs("div",{className:"bg-gradient-to-br from-amber-500/20 to-orange-500/20 rounded-2xl p-5 border-2 border-amber-500/50 shadow-lg",children:[w.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[w.jsx(Qn,{className:"w-6 h-6 text-amber-400 flex-shrink-0"}),w.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:""})]}),w.jsxs("div",{className:"flex items-baseline text-white font-black leading-none",children:[w.jsx("span",{className:"text-2xl mr-1 text-amber-400",children:""}),w.jsx("span",{className:"text-[clamp(2rem,10vw,3rem)]",children:Math.round(Dt).toLocaleString()})]}),w.jsx("p",{className:"text-[10px] text-gray-500 font-bold mt-2 leading-tight",children:"  "})]}),w.jsxs("div",{className:"bg-gradient-to-br from-red-500/20 to-pink-500/20 rounded-2xl p-5 border-2 border-red-500/50 shadow-lg",children:[w.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[w.jsx(Oo,{className:"w-6 h-6 text-red-400 flex-shrink-0"}),w.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:""})]}),w.jsxs("div",{className:"flex items-baseline text-white font-black leading-none",children:[w.jsx("span",{className:"text-2xl mr-1 text-red-400",children:""}),w.jsx("span",{className:"text-[clamp(2rem,10vw,3rem)]",children:At>0?Math.round(At).toLocaleString():"---"})]}),w.jsx("p",{className:"text-[10px] text-gray-500 font-bold mt-2 leading-tight",children:" -  "})]})]}),w.jsx("button",{onClick:()=>Ue(!1),className:"w-full bg-amber-500 text-black py-4 rounded-2xl font-black text-xl shadow-xl active:scale-95 transition-transform mt-6",children:""})]})}),r?w.jsxs("div",{className:"space-y-5 w-full",children:[w.jsxs("div",{className:"bg-gray-800 rounded-[28px] p-5 border-2 border-blue-500 shadow-2xl w-full",children:[w.jsxs("div",{className:"flex justify-between items-start mb-5 gap-3",children:[w.jsxs("div",{className:"flex flex-col min-w-0 cursor-pointer active:opacity-70 transition-opacity",onClick:h,children:[w.jsxs("div",{className:"flex items-center gap-2 whitespace-nowrap",children:[w.jsxs("span",{className:"text-lg font-black text-gray-400 uppercase flex items-center gap-2",children:[w.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full animate-pulse shadow-[0_0_12px_#22C55E]"})," "]}),w.jsx("span",{className:"text-base font-bold text-white/90 font-mono underline decoration-dotted decoration-gray-600 underline-offset-4",children:ke})]}),w.jsxs("span",{className:"text-xs text-gray-600 font-bold mt-1 tracking-widest uppercase truncate",children:[xt," (",je?R_(je):"",")"]})]}),w.jsx("button",{onClick:s,className:"bg-red-500/10 text-red-500 text-sm font-black py-2.5 px-5 rounded-full border border-red-500/30 active:scale-95 shadow-sm whitespace-nowrap flex-shrink-0",children:""})]}),w.jsxs("div",{className:"mb-6",children:[w.jsxs("div",{className:"flex items-baseline text-white font-black tracking-tighter leading-none min-w-0 w-full overflow-hidden",children:[w.jsx("span",{className:"text-[clamp(2.2rem,8vw,3rem)] mr-1 text-amber-500 font-black flex-shrink-0",children:""}),w.jsx("span",{className:"text-[clamp(3.5rem,12vw,5.5rem)] min-w-0 truncate",children:it.toLocaleString()})]}),w.jsxs("div",{className:"mt-3 text-lg font-black text-gray-500 flex flex-wrap items-center gap-x-4 gap-y-2",children:[w.jsxs("span",{className:"flex items-center gap-2 overflow-hidden min-w-0",children:[w.jsx("span",{className:"text-[10px] bg-gray-800 px-2 py-1 rounded text-gray-400 font-black uppercase tracking-tighter whitespace-nowrap flex-shrink-0",children:""}),w.jsx("span",{className:"truncate",children:Lr(Be)})]}),w.jsxs("span",{className:"flex items-center gap-2 overflow-hidden min-w-0",children:[w.jsx("span",{className:"text-[10px] bg-gray-800 px-2 py-1 rounded text-gray-400 font-black uppercase tracking-tighter whitespace-nowrap flex-shrink-0",children:""}),w.jsxs("span",{className:`truncate font-black ${Ee>=0?"text-green-500":"text-red-500"}`,children:[Ee>=0?"+":"",Math.round(Ee).toLocaleString()]})]})]})]}),w.jsxs("div",{className:"space-y-3",children:[w.jsx(j_,{progress:et,color:"amber"}),w.jsxs("div",{onClick:()=>{V(r.dailyGoal.toLocaleString()),I(!0)},className:"flex justify-between items-center text-sm font-black text-gray-500 active:scale-95 gap-3",children:[w.jsxs("span",{className:"whitespace-nowrap flex-shrink-0",children:[Math.round(et),"% "]}),w.jsx("span",{className:"flex items-center gap-1 uppercase underline decoration-amber-500/50 decoration-2 underline-offset-4 truncate min-w-0 justify-end",children:w.jsxs("span",{className:"truncate",children:[" ",Lr(r.dailyGoal)]})})]})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-6 mb-6",children:[w.jsxs("div",{className:"bg-gray-800 rounded-2xl p-3 flex flex-col items-center justify-center border-2 border-blue-400 shadow-inner min-h-[110px]",children:[w.jsx(ZE,{className:"w-6 h-6 text-blue-400 mb-2"}),w.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase mb-1 tracking-widest whitespace-nowrap",children:""}),w.jsxs("p",{className:"text-[clamp(1.4rem,6vw,2rem)] font-black text-white leading-none truncate w-full text-center",children:["",Math.round(We).toLocaleString()]})]}),w.jsxs("div",{className:"bg-gray-800 rounded-2xl p-3 flex flex-col items-center justify-center border-2 border-amber-400 shadow-inner min-h-[110px]",children:[w.jsx(G4,{className:"w-6 h-6 text-amber-400 mb-2"}),w.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase mb-1 tracking-widest whitespace-nowrap",children:""}),w.jsxs("p",{className:"text-[clamp(1.8rem,7vw,2.5rem)] font-black text-white leading-none whitespace-nowrap",children:[De.length,w.jsx("span",{className:"text-sm font-bold text-gray-400 ml-1",children:""})]})]}),w.jsxs("div",{className:"bg-gray-800 rounded-2xl p-3 flex flex-col items-center justify-center border-2 border-red-500 shadow-inner min-h-[110px] cursor-pointer active:scale-95 transition-transform hover:border-red-400",onClick:()=>Ue(!0),children:[w.jsx(Nl,{className:"w-6 h-6 text-red-500 mb-2"}),w.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase mb-1 tracking-widest whitespace-nowrap",children:" / "}),w.jsx("p",{className:"text-[clamp(1.4rem,6vw,2rem)] font-black text-white leading-none truncate w-full text-center",children:At>0?`${Math.round(At).toLocaleString()}`:"---"})]}),w.jsxs("div",{className:"bg-gray-800 rounded-2xl p-3 flex flex-col items-center justify-center border-2 border-red-500 shadow-inner min-h-[110px] cursor-pointer active:bg-gray-700 transition-colors",onClick:()=>{V(r.dailyGoal.toLocaleString()),I(!0)},children:[w.jsx(Oo,{className:"w-6 h-6 text-red-500 mb-2"}),w.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase mb-1 tracking-widest whitespace-nowrap",children:""}),w.jsxs("p",{className:"text-[clamp(1.4rem,6vw,2rem)] font-black text-white leading-none truncate w-full text-center",children:["",Ae.toLocaleString()]})]})]}),e.isActive?w.jsxs("div",{className:"bg-gray-800 rounded-2xl p-5 border-2 border-blue-500 shadow-2xl mb-4 animate-in fade-in",children:[w.jsxs("div",{className:"flex flex-col items-center mb-5",children:[w.jsxs("span",{className:"text-indigo-400 font-black uppercase tracking-widest text-sm flex items-center gap-2 mb-2",children:[w.jsx(Xv,{className:"w-5 h-5 animate-bounce"})," "]}),w.jsx("span",{className:"text-5xl font-black text-white font-mono tracking-wider",children:Ce(tt)})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[w.jsxs("button",{onClick:$e,className:"bg-green-600 text-white py-4 rounded-xl font-black text-sm active:scale-95 shadow-lg flex flex-col items-center justify-center gap-1 leading-none",children:[w.jsx(Kv,{className:"w-6 h-6"})," ()"]}),w.jsxs("button",{onClick:Ie,className:"bg-gray-800 text-gray-300 py-4 rounded-xl font-black text-sm active:scale-95 shadow-lg border border-gray-700 flex flex-col items-center justify-center gap-1 leading-none",children:[w.jsx($T,{className:"w-6 h-6 text-gray-500"})," ()"]})]})]}):w.jsxs("div",{className:"flex gap-3 h-20",children:[w.jsxs("button",{onClick:u,className:"w-1/3 bg-gray-800 text-indigo-300 rounded-[24px] flex flex-col items-center justify-center gap-1 shadow-lg active:scale-95 transition-transform border-2 border-indigo-300",children:[w.jsx(Xv,{className:"w-6 h-6"}),w.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:""})]}),w.jsxs("button",{onClick:()=>i(),className:"flex-1 bg-[#EAB308] text-black rounded-[24px] font-black text-2xl flex items-center justify-center gap-3 shadow-xl active:scale-95 transition-transform",children:[w.jsx(Kv,{className:"w-8 h-8"})," "]})]})]}),w.jsxs("div",{className:"space-y-4 w-full",children:[w.jsx(k1,{followingUsers:t.followingUsers||[]}),w.jsx("div",{className:"flex flex-col gap-3",children:w.jsxs("h3",{className:"text-lg font-black px-2 text-white flex justify-between items-center tracking-tight italic uppercase flex-wrap gap-2",children:[w.jsx("span",{className:"whitespace-nowrap",children:""}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx("button",{onClick:()=>A(!E),className:`text-[10px] px-3 py-1.5 rounded-full flex items-center gap-1.5 font-black active:scale-95 shadow-sm border transition-all whitespace-nowrap ${E?"bg-amber-500 text-black border-amber-400":"bg-gray-800 text-gray-400 border-gray-700"}`,children:""}),w.jsxs("button",{onClick:()=>S(!C),className:`text-[10px] px-3 py-1.5 rounded-full flex items-center gap-1.5 font-black active:scale-95 shadow-sm border transition-all whitespace-nowrap ${C?"bg-amber-500 text-black border-amber-400":"bg-gray-800 text-gray-400 border-gray-700"}`,children:[w.jsx(mE,{className:"w-3.5 h-3.5"})," "]}),w.jsxs("button",{onClick:()=>P(!N),className:"text-[10px] bg-gray-800 text-gray-400 px-3 py-1.5 rounded-full flex items-center gap-1.5 font-black active:scale-95 shadow-sm border border-gray-700 whitespace-nowrap",children:[w.jsx(P1,{className:"w-3.5 h-3.5"})," ",N?"":""]})]})]})}),E?w.jsx("div",{className:"bg-gray-900 rounded-lg border border-gray-700 overflow-hidden shadow-sm",children:w.jsxs("table",{className:"w-full border-collapse",children:[w.jsx("thead",{children:w.jsxs("tr",{className:"bg-orange-500 text-white",children:[w.jsx("th",{className:"py-2 px-1 border-r border-orange-600 text-center text-base font-black w-[40px]",children:""}),w.jsx("th",{className:"py-2 px-1 border-r border-orange-600 text-center text-base font-black w-[85px]",children:""}),w.jsx("th",{className:"py-2 px-2 border-r border-orange-600 text-center text-base font-black flex-1",children:"/"}),w.jsx("th",{className:"py-2 px-1 text-center text-base font-black w-[75px]",children:""})]})}),w.jsx("tbody",{children:lt.length===0?w.jsx("tr",{children:w.jsx("td",{colSpan:4,className:"p-8 text-center text-gray-400 font-black uppercase tracking-widest text-sm",children:""})}):lt.map((ae,pe)=>{const ce=N?De.length-pe:pe+1;return w.jsx(Wf,{record:ae,index:ce,isDetailed:C,isSlim:E,customLabels:t.customPaymentLabels||{},businessStartHour:t.businessStartHour,onClick:()=>a(ae)},ae.id)})})]})}):w.jsx("div",{className:"space-y-3 w-full",children:lt.length===0?w.jsx("div",{className:"bg-gray-800 p-8 rounded-[28px] border-2 border-blue-500 text-center text-gray-600 font-black uppercase tracking-widest text-sm",children:""}):lt.map((ae,pe)=>{const ce=N?De.length-pe:pe+1;return w.jsxs("div",{className:"relative",children:[ae.amount===0&&w.jsx("div",{className:"absolute -top-2 -right-1 z-10",children:w.jsx("span",{className:"bg-red-500 text-white text-[10px] font-black px-2 py-1 rounded-full shadow-lg border border-red-400 animate-pulse",children:""})}),w.jsx("div",{className:ae.amount===0?"ring-2 ring-red-500 ring-offset-2 ring-offset-[#0A0E14] rounded-[24px]":"",children:w.jsx(Wf,{record:ae,index:ce,isDetailed:C,isSlim:E,customLabels:t.customPaymentLabels||{},businessStartHour:t.businessStartHour,onClick:()=>a(ae)})})]},ae.id)})}),De.length>0&&w.jsx("div",{className:"mt-4",children:w.jsx(Hb,{breakdown:Ge,counts:mt,customLabels:t.customPaymentLabels||{},enabledMethods:t.enabledPaymentMethods})})]})]}):w.jsxs("div",{className:"bg-gray-800 rounded-[32px] p-6 border-2 border-blue-500 text-center space-y-6 shadow-2xl relative overflow-hidden",children:[w.jsxs("div",{className:"relative w-40 h-40 mx-auto mb-2 animate-floating z-10",children:[w.jsx("div",{className:"absolute inset-0 bg-amber-500 rounded-full blur-[50px] opacity-20 mix-blend-screen animate-pulse"}),w.jsx("img",{src:xj,alt:"Taxi",className:"w-full h-full object-contain",style:{filter:"brightness(1.05) saturate(1.2) drop-shadow(0 0 10px rgba(245, 158, 11, 0.5))"}})]}),w.jsxs("div",{className:"space-y-2 relative z-10",children:[w.jsx("h3",{className:"text-[clamp(2.2rem,10vw,3rem)] font-black text-white tracking-tight",children:""}),w.jsx("p",{className:"text-lg text-gray-500 font-black uppercase tracking-widest",children:xt})]}),w.jsxs("div",{className:"space-y-1",children:[w.jsx("p",{className:"text-[18px] font-black text-gray-500 uppercase tracking-widest text-left pl-1",children:""}),w.jsxs("div",{className:"flex items-center bg-gray-800 rounded-2xl p-5 border-2 border-blue-500 focus-within:border-blue-400 transition-all shadow-inner",children:[w.jsx("span",{className:"text-amber-500 font-black text-3xl mr-2",children:""}),w.jsx("input",{type:"text",inputMode:"numeric",value:v,onChange:ae=>y(zo(ae.target.value)),className:"bg-transparent text-white text-[clamp(2.2rem,10vw,3.5rem)] font-black w-full outline-none text-center"})]})]}),w.jsxs("div",{className:"space-y-1",children:[w.jsx("p",{className:"text-[18px] font-black text-gray-500 uppercase tracking-widest text-left pl-1",children:""}),w.jsxs("div",{className:"flex items-center bg-gray-800 rounded-2xl p-5 border-2 border-blue-500 focus-within:border-blue-400 transition-all shadow-inner",children:[w.jsx(Io,{className:"text-gray-500 w-8 h-8 mr-3"}),w.jsx("input",{type:"number",inputMode:"numeric",value:ne,onChange:ae=>de(ae.target.value),placeholder:"ODO",className:"bg-transparent text-white text-[clamp(1.5rem,8vw,2.5rem)] font-black w-full outline-none text-center placeholder-gray-700"}),w.jsx("span",{className:"text-gray-500 font-bold ml-2",children:"km"})]})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsx("p",{className:"text-[18px] font-black text-gray-400 uppercase tracking-widest",children:""}),w.jsx("div",{className:"grid grid-cols-4 gap-3",children:[8,10,12,14].map(ae=>w.jsxs("button",{onClick:()=>R(ae),className:`py-3 rounded-xl font-black text-xl border-2 transition-all ${k===ae?"bg-amber-500 border-amber-400 text-black":"bg-gray-800 border-gray-700 text-gray-500"}`,children:[ae,"h"]},ae))}),w.jsxs("div",{className:"relative",children:[w.jsx("select",{value:k,onChange:ae=>R(parseInt(ae.target.value)),className:"w-full bg-gray-800 border-2 border-blue-500 rounded-2xl p-4 text-white text-lg font-black appearance-none focus:border-blue-400 outline-none",children:qe.map(ae=>w.jsxs("option",{value:ae,children:[ae," "]},ae))}),w.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-500",children:w.jsx(ra,{className:"w-5 h-5"})})]}),w.jsxs("div",{className:"bg-gray-800 p-4 rounded-2xl flex items-center justify-between border-2 border-blue-500",children:[w.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase whitespace-nowrap",children:""}),w.jsx("span",{className:"text-xl font-black text-white",children:R_(Date.now()+k*36e5)})]})]}),w.jsx("button",{onClick:Ze,className:"w-full bg-[#EAB308] text-black py-5 rounded-2xl font-black text-2xl shadow-xl active:scale-95 transition-transform",children:"   "})]}),Z&&w.jsx(Zs,{onClose:()=>{g&&g({dutyDays:te}),K(!1)},children:w.jsxs("div",{className:"bg-gray-800 p-5 rounded-3xl border-2 border-blue-500 shadow-inner w-full max-w-md",children:[w.jsxs("div",{className:"flex flex-col mb-4",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsxs("h3",{className:"text-xl font-black text-white flex items-center gap-2",children:[w.jsx(Nl,{className:"w-6 h-6 text-yellow-500"})," "]}),w.jsx("button",{onClick:()=>{g&&g({dutyDays:te}),K(!1)},className:"text-gray-400 hover:text-white transition-colors",children:w.jsx(_s,{className:"w-6 h-6"})})]}),w.jsxs("div",{className:"mt-4 bg-gray-800 rounded-xl p-4 border-2 border-orange-500/50",children:[w.jsx("div",{className:"text-sm text-gray-400 mb-1",children:""}),w.jsxs("div",{className:"text-2xl font-black text-white",children:[he," "]})]}),w.jsxs("div",{className:"mt-4 flex items-center justify-between bg-gray-950 rounded-2xl p-2 border-2 border-gray-700",children:[w.jsx("button",{onClick:()=>{const ae=parseInt(Q.toString()),pe=isNaN(ae)?20:ae,{start:ce}=rr(ee,pe,U),fe=new Date(ce);fe.setMonth(fe.getMonth()-1);const{start:ge}=rr(fe,pe,U);G(ge)},className:"p-3 text-gray-400 active:scale-90",children:w.jsx(za,{className:"w-6 h-6"})}),w.jsx("span",{className:"text-xl font-black text-white",children:re}),w.jsx("button",{onClick:()=>{const ae=parseInt(Q.toString()),pe=isNaN(ae)?20:ae,{start:ce}=rr(ee,pe,U),fe=new Date(ce);fe.setMonth(fe.getMonth()+1);const{start:ge}=rr(fe,pe,U);G(ge)},className:"p-3 text-gray-400 active:scale-90",children:w.jsx(Bs,{className:"w-6 h-6"})})]})]}),w.jsx("div",{className:"grid grid-cols-7 gap-2 mb-2",children:["","","","","","",""].map(ae=>w.jsx("div",{className:"text-center text-sm font-bold text-gray-400",children:ae},ae))}),w.jsx("div",{className:"grid grid-cols-7 gap-2",children:ie.map(ae=>{const pe=new Date(ae);pe.setHours(U,0,0,0);const ce=Ot(pe.getTime(),U),fe=Ht(ae),ge=te.includes(ce),ye=Ot(Date.now(),U),Ne=ce===ye,Fe=ce<ye,Oe=oe[ce]||!1,Ve=Fe&&Oe,ze=!Fe||!Oe;return w.jsx("button",{onClick:()=>ve(ce),disabled:Ve,className:`aspect-square rounded-xl flex items-center justify-center transition-all ${Fe&&Oe?"bg-yellow-500 text-gray-900 font-black cursor-not-allowed":Fe&&!Oe?"bg-gray-800/50 text-gray-500":ge?"bg-orange-500 text-gray-900 font-black":"bg-gray-800 text-white font-bold hover:bg-gray-700"} ${Ne?"ring-2 ring-orange-500":""} ${ze?"active:scale-95":""}`,children:w.jsx("span",{className:"text-base",children:ae.getDate()})},fe)})}),w.jsxs("button",{onClick:me,className:"w-full mt-4 py-3 bg-gray-800 border border-gray-700 rounded-xl text-sm font-bold text-gray-400 hover:bg-gray-700 active:scale-95 transition-all flex items-center justify-center gap-2",children:[w.jsx(Nl,{className:"w-4 h-4"})," (20)"]})]})})]})};function Hd(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Pg={exports:{}};/*! ExcelJS 19-10-2023 */var D_;function wj(){return D_||(D_=1,(function(r,t){(function(e){r.exports=e()})((function(){return(function e(n,s,i){function a(o,u){if(!s[o]){if(!n[o]){var p=typeof Hd=="function"&&Hd;if(!u&&p)return p(o,!0);if(l)return l(o,!0);var h=new Error("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var d=s[o]={exports:{}};n[o][0].call(d.exports,(function(b){return a(n[o][1][b]||b)}),d,d.exports,e,n,s,i)}return s[o].exports}for(var l=typeof Hd=="function"&&Hd,c=0;c<i.length;c++)a(i[c]);return a})({1:[function(e,n,s){const i=e("fs"),a=e("fast-csv"),l=e("dayjs/plugin/customParseFormat"),c=e("dayjs/plugin/utc"),o=e("dayjs").extend(l).extend(c),u=e("../utils/stream-buf"),{fs:{exists:p}}=e("../utils/utils"),h={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};n.exports=class{constructor(d){this.workbook=d,this.worksheet=null}async readFile(d,b){if(b=b||{},!await p(d))throw new Error("File not found: "+d);const x=i.createReadStream(d),g=await this.read(x,b);return x.close(),g}read(d,b){return b=b||{},new Promise((x,g)=>{const v=this.workbook.addWorksheet(b.sheetName),y=b.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],k=b.map||function(z){if(z==="")return null;const q=Number(z);if(!Number.isNaN(q)&&q!==1/0)return q;const B=y.reduce((O,F)=>{if(O)return O;const W=o(z,F,!0);return W.isValid()?W:null},null);if(B)return new Date(B.valueOf());const I=h[z];return I!==void 0?I:z},R=a.parse(b.parserOptions).on("data",z=>{v.addRow(z.map(k))}).on("end",()=>{R.emit("worksheet",v)});R.on("worksheet",x).on("error",g),d.pipe(R)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(d,b){return new Promise((x,g)=>{b=b||{};const v=this.workbook.getWorksheet(b.sheetName||b.sheetId),y=a.format(b.formatterOptions);d.on("finish",()=>{x()}),y.on("error",g),y.pipe(d);const{dateFormat:k,dateUTC:R}=b,z=b.map||(I=>{if(I){if(I.text||I.hyperlink)return I.hyperlink||I.text||"";if(I.formula||I.result)return I.result||"";if(I instanceof Date)return k?R?o.utc(I).format(k):o(I).format(k):R?o.utc(I).format():o(I).format();if(I.error)return I.error;if(typeof I=="object")return JSON.stringify(I)}return I}),q=b.includeEmptyRows===void 0||b.includeEmptyRows;let B=1;v&&v.eachRow((I,O)=>{if(q)for(;B++<O-1;)y.write([]);const{values:F}=I;F.shift(),y.write(F.map(z)),B=O}),y.end()})}writeFile(d,b){const x={encoding:(b=b||{}).encoding||"utf8"},g=i.createWriteStream(d,x);return this.write(g,b)}async writeBuffer(d){const b=new u;return await this.write(b,d),b.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(e,n,s){const i=e("../utils/col-cache");class a{constructor(c,o){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=c,o)if(typeof o=="string"){const p=i.decodeAddress(o);this.nativeCol=p.col+u,this.nativeColOff=0,this.nativeRow=p.row+u,this.nativeRowOff=0}else o.nativeCol!==void 0?(this.nativeCol=o.nativeCol||0,this.nativeColOff=o.nativeColOff||0,this.nativeRow=o.nativeRow||0,this.nativeRowOff=o.nativeRowOff||0):o.col!==void 0?(this.col=o.col+u,this.row=o.row+u):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(c){return c instanceof a||c==null?c:new a(c)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(c){this.nativeCol=Math.floor(c),this.nativeColOff=Math.floor((c-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(c){this.nativeRow=Math.floor(c),this.nativeRowOff=Math.floor((c-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(c){this.nativeCol=c.nativeCol,this.nativeColOff=c.nativeColOff,this.nativeRow=c.nativeRow,this.nativeRowOff=c.nativeRowOff}}n.exports=a},{"../utils/col-cache":19}],3:[function(e,n,s){const i=e("../utils/col-cache"),a=e("../utils/under-dash"),l=e("./enums"),{slideFormula:c}=e("../utils/shared-formula"),o=e("./note");class u{constructor(d,b,x){if(!d||!b)throw new Error("A Cell needs a Row");this._row=d,this._column=b,i.validateAddress(x),this._address=x,this._value=p.create(u.Types.Null,this),this.style=this._mergeStyle(d.style,b.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(d){this.style.numFmt=d}get font(){return this.style.font}set font(d){this.style.font=d}get alignment(){return this.style.alignment}set alignment(d){this.style.alignment=d}get border(){return this.style.border}set border(d){this.style.border=d}get fill(){return this.style.fill}set fill(d){this.style.fill=d}get protection(){return this.style.protection}set protection(d){this.style.protection=d}_mergeStyle(d,b,x){const g=d&&d.numFmt||b&&b.numFmt;g&&(x.numFmt=g);const v=d&&d.font||b&&b.font;v&&(x.font=v);const y=d&&d.alignment||b&&b.alignment;y&&(x.alignment=y);const k=d&&d.border||b&&b.border;k&&(x.border=k);const R=d&&d.fill||b&&b.fill;R&&(x.fill=R);const z=d&&d.protection||b&&b.protection;return z&&(x.protection=z),x}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===u.Types.Merge}merge(d,b){this._value.release(),this._value=p.create(u.Types.Merge,this,d),b||(this.style=d.style)}unmerge(){this.type===u.Types.Merge&&(this._value.release(),this._value=p.create(u.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(d){return this._value.type===u.Types.Merge&&this._value.isMergedTo(d)}get master(){return this.type===u.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===u.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(d){this.type!==u.Types.Merge?(this._value.release(),this._value=p.create(p.getType(d),this,d)):this._value.master.value=d}get note(){return this._comment&&this._comment.note}set note(d){this._comment=new o(d)}get text(){return this._value.toString()}get html(){return a.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(d){this.type===u.Types.String&&(this._value=p.create(u.Types.Hyperlink,this,{text:this._value.value,hyperlink:d}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:d}=this._row;return{sheetName:d.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(d){this.names=[d]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(d){const{definedNames:b}=this.workbook;b.removeAllNames(this.fullAddress),d.forEach(x=>{b.addEx(this.fullAddress,x)})}addName(d){this.workbook.definedNames.addEx(this.fullAddress,d)}removeName(d){this.workbook.definedNames.removeEx(this.fullAddress,d)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(d){this._dataValidations.add(this.address,d)}get model(){const{model:d}=this._value;return d.style=this.style,this._comment&&(d.comment=this._comment.model),d}set model(d){if(this._value.release(),this._value=p.create(d.type,this),this._value.model=d,d.comment)switch(d.comment.type){case"note":this._comment=o.fromModel(d.comment)}d.style?this.style=d.style:this.style={}}}u.Types=l.ValueType;const p={getType:h=>h==null?u.Types.Null:h instanceof String||typeof h=="string"?u.Types.String:typeof h=="number"?u.Types.Number:typeof h=="boolean"?u.Types.Boolean:h instanceof Date?u.Types.Date:h.text&&h.hyperlink?u.Types.Hyperlink:h.formula||h.sharedFormula?u.Types.Formula:h.richText?u.Types.RichText:h.sharedString?u.Types.SharedString:h.error?u.Types.Error:u.Types.JSON,types:[{t:u.Types.Null,f:class{constructor(h){this.model={address:h.address,type:u.Types.Null}}get value(){return null}set value(h){}get type(){return u.Types.Null}get effectiveType(){return u.Types.Null}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return""}release(){}toString(){return""}}},{t:u.Types.Number,f:class{constructor(h,d){this.model={address:h.address,type:u.Types.Number,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.Number}get effectiveType(){return u.Types.Number}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.String,f:class{constructor(h,d){this.model={address:h.address,type:u.Types.String,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.String}get effectiveType(){return u.Types.String}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:u.Types.Date,f:class{constructor(h,d){this.model={address:h.address,type:u.Types.Date,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.Date}get effectiveType(){return u.Types.Date}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.Hyperlink,f:class{constructor(h,d){this.model={address:h.address,type:u.Types.Hyperlink,text:d?d.text:void 0,hyperlink:d?d.hyperlink:void 0},d&&d.tooltip&&(this.model.tooltip=d.tooltip)}get value(){const h={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(h.tooltip=this.model.tooltip),h}set value(h){this.model={text:h.text,hyperlink:h.hyperlink},h.tooltip&&(this.model.tooltip=h.tooltip)}get text(){return this.model.text}set text(h){this.model.text=h}get hyperlink(){return this.model.hyperlink}set hyperlink(h){this.model.hyperlink=h}get type(){return u.Types.Hyperlink}get effectiveType(){return u.Types.Hyperlink}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:u.Types.Formula,f:class{constructor(h,d){this.cell=h,this.model={address:h.address,type:u.Types.Formula,shareType:d?d.shareType:void 0,ref:d?d.ref:void 0,formula:d?d.formula:void 0,sharedFormula:d?d.sharedFormula:void 0,result:d?d.result:void 0}}_copyModel(h){const d={},b=x=>{const g=h[x];g&&(d[x]=g)};return b("formula"),b("result"),b("ref"),b("shareType"),b("sharedFormula"),d}get value(){return this._copyModel(this.model)}set value(h){this.model=this._copyModel(h)}validate(h){switch(p.getType(h)){case u.Types.Null:case u.Types.String:case u.Types.Number:case u.Types.Date:break;case u.Types.Hyperlink:case u.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(h){this.model.formula=h}get formulaType(){return this.model.formula?l.FormulaType.Master:this.model.sharedFormula?l.FormulaType.Shared:l.FormulaType.None}get result(){return this.model.result}set result(h){this.model.result=h}get type(){return u.Types.Formula}get effectiveType(){const h=this.model.result;return h==null?l.ValueType.Null:h instanceof String||typeof h=="string"?l.ValueType.String:typeof h=="number"?l.ValueType.Number:h instanceof Date?l.ValueType.Date:h.text&&h.hyperlink?l.ValueType.Hyperlink:h.formula?l.ValueType.Formula:l.ValueType.Null}get address(){return this.model.address}set address(h){this.model.address=h}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:h}=this.cell,d=h.findCell(this.model.sharedFormula);this._translatedFormula=d&&c(d.formula,d.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:u.Types.Merge,f:class{constructor(h,d){this.model={address:h.address,type:u.Types.Merge,master:d?d.address:void 0},this._master=d,d&&d.addMergeRef()}get value(){return this._master.value}set value(h){h instanceof u?(this._master&&this._master.releaseMergeRef(),h.addMergeRef(),this._master=h):this._master.value=h}isMergedTo(h){return h===this._master}get master(){return this._master}get type(){return u.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:u.Types.JSON,f:class{constructor(h,d){this.model={address:h.address,type:u.Types.String,value:JSON.stringify(d),rawValue:d}}get value(){return this.model.rawValue}set value(h){this.model.rawValue=h,this.model.value=JSON.stringify(h)}get type(){return u.Types.String}get effectiveType(){return u.Types.String}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:u.Types.SharedString,f:class{constructor(h,d){this.model={address:h.address,type:u.Types.SharedString,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.SharedString}get effectiveType(){return u.Types.SharedString}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.RichText,f:class{constructor(h,d){this.model={address:h.address,type:u.Types.String,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}toString(){return this.model.value.richText.map(h=>h.text).join("")}get type(){return u.Types.RichText}get effectiveType(){return u.Types.RichText}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:u.Types.Boolean,f:class{constructor(h,d){this.model={address:h.address,type:u.Types.Boolean,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.Boolean}get effectiveType(){return u.Types.Boolean}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.Error,f:class{constructor(h,d){this.model={address:h.address,type:u.Types.Error,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.Error}get effectiveType(){return u.Types.Error}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((h,d)=>(h[d.t]=d.f,h),[]),create(h,d,b){const x=this.types[h];if(!x)throw new Error("Could not create Value of type "+h);return new x(d,b)}};n.exports=u},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(e,n,s){const i=e("../utils/under-dash"),a=e("./enums"),l=e("../utils/col-cache");class c{constructor(u,p,h){this._worksheet=u,this._number=p,h!==!1&&(this.defn=h)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return l.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(u){u?(this.key=u.key,this.width=u.width!==void 0?u.width:9,this.outlineLevel=u.outlineLevel,u.style?this.style=u.style:this.style={},this.header=u.header,this._hidden=!!u.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(u){u!==void 0?(this._header=u,this.headers.forEach((p,h)=>{this._worksheet.getCell(h+1,this.number).value=p})):this._header=void 0}get key(){return this._key}set key(u){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=u,u&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(u){this._hidden=u}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(u){this._outlineLevel=u}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(u){return this.width===u.width&&this.hidden===u.hidden&&this.outlineLevel===u.outlineLevel&&i.isEqual(this.style,u.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const u=this.style;return!u||!(u.font||u.numFmt||u.alignment||u.border||u.fill||u.protection)}get headerCount(){return this.headers.length}eachCell(u,p){const h=this.number;p||(p=u,u=null),this._worksheet.eachRow(u,(d,b)=>{p(d.getCell(h),b)})}get values(){const u=[];return this.eachCell((p,h)=>{p&&p.type!==a.ValueType.Null&&(u[h]=p.value)}),u}set values(u){if(!u)return;const p=this.number;let h=0;u.hasOwnProperty("0")&&(h=1),u.forEach((d,b)=>{this._worksheet.getCell(b+h,p).value=d})}_applyStyle(u,p){return this.style[u]=p,this.eachCell(h=>{h[u]=p}),p}get numFmt(){return this.style.numFmt}set numFmt(u){this._applyStyle("numFmt",u)}get font(){return this.style.font}set font(u){this._applyStyle("font",u)}get alignment(){return this.style.alignment}set alignment(u){this._applyStyle("alignment",u)}get protection(){return this.style.protection}set protection(u){this._applyStyle("protection",u)}get border(){return this.style.border}set border(u){this._applyStyle("border",u)}get fill(){return this.style.fill}set fill(u){this._applyStyle("fill",u)}static toModel(u){const p=[];let h=null;return u&&u.forEach((d,b)=>{d.isDefault?h&&(h=null):h&&d.equivalentTo(h)?h.max=b+1:(h={min:b+1,max:b+1,width:d.width!==void 0?d.width:9,style:d.style,isCustomWidth:d.isCustomWidth,hidden:d.hidden,outlineLevel:d.outlineLevel,collapsed:d.collapsed},p.push(h))}),p.length?p:void 0}static fromModel(u,p){const h=[];let d=1,b=0;for(p=(p=p||[]).sort((function(x,g){return x.min-g.min}));b<p.length;){const x=p[b++];for(;d<x.min;)h.push(new c(u,d++));for(;d<=x.max;)h.push(new c(u,d++,x))}return h.length?h:null}}n.exports=c},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(e,n,s){n.exports=class{constructor(i){this.model=i||{}}add(i,a){return this.model[i]=a}find(i){return this.model[i]}remove(i){this.model[i]=void 0}}},{}],6:[function(e,n,s){const i=e("../utils/under-dash"),a=e("../utils/col-cache"),l=e("../utils/cell-matrix"),c=e("./range"),o=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;n.exports=class{constructor(){this.matrixMap={}}getMatrix(u){return this.matrixMap[u]||(this.matrixMap[u]=new l)}add(u,p){const h=a.decodeEx(u);this.addEx(h,p)}addEx(u,p){const h=this.getMatrix(p);if(u.top)for(let d=u.left;d<=u.right;d++)for(let b=u.top;b<=u.bottom;b++){const x={sheetName:u.sheetName,address:a.n2l(d)+b,row:b,col:d};h.addCellEx(x)}else h.addCellEx(u)}remove(u,p){const h=a.decodeEx(u);this.removeEx(h,p)}removeEx(u,p){this.getMatrix(p).removeCellEx(u)}removeAllNames(u){i.each(this.matrixMap,p=>{p.removeCellEx(u)})}forEach(u){i.each(this.matrixMap,(p,h)=>{p.forEach(d=>{u(h,d)})})}getNames(u){return this.getNamesEx(a.decodeEx(u))}getNamesEx(u){return i.map(this.matrixMap,(p,h)=>p.findCellEx(u)&&h).filter(Boolean)}_explore(u,p){p.mark=!1;const{sheetName:h}=p,d=new c(p.row,p.col,p.row,p.col,h);let b,x;function g(y,k){const R=u.findCellAt(h,y,p.col);return!(!R||!R.mark)&&(d[k]=y,R.mark=!1,!0)}for(x=p.row-1;g(x,"top");x--);for(x=p.row+1;g(x,"bottom");x++);function v(y,k){const R=[];for(x=d.top;x<=d.bottom;x++){const z=u.findCellAt(h,x,y);if(!z||!z.mark)return!1;R.push(z)}d[k]=y;for(let z=0;z<R.length;z++)R[z].mark=!1;return!0}for(b=p.col-1;v(b,"left");b--);for(b=p.col+1;v(b,"right");b++);return d}getRanges(u,p){return(p=p||this.matrixMap[u])?(p.forEach(h=>{h.mark=!0}),{name:u,ranges:p.map(h=>h.mark&&this._explore(p,h)).filter(Boolean).map(h=>h.$shortRange)}):{name:u,ranges:[]}}normaliseMatrix(u,p){u.forEachInSheet(p,(h,d,b)=>{h&&(h.row===d&&h.col===b||(h.row=d,h.col=b,h.address=a.n2l(b)+d))})}spliceRows(u,p,h,d){i.each(this.matrixMap,b=>{b.spliceRows(u,p,h,d),this.normaliseMatrix(b,u)})}spliceColumns(u,p,h,d){i.each(this.matrixMap,b=>{b.spliceColumns(u,p,h,d),this.normaliseMatrix(b,u)})}get model(){return i.map(this.matrixMap,(u,p)=>this.getRanges(p,u)).filter(u=>u.ranges.length)}set model(u){const p=this.matrixMap={};u.forEach(h=>{const d=p[h.name]=new l;h.ranges.forEach(b=>{o.test(b.split("!").pop()||"")&&d.addCell(b)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(e,n,s){n.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(e,n,s){const i=e("../utils/col-cache"),a=e("./anchor");n.exports=class{constructor(l,c){this.worksheet=l,this.model=c}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(l){let{type:c,imageId:o,range:u,hyperlinks:p}=l;if(this.type=c,this.imageId=o,c==="image")if(typeof u=="string"){const h=i.decode(u);this.range={tl:new a(this.worksheet,{col:h.left,row:h.top},-1),br:new a(this.worksheet,{col:h.right,row:h.bottom},0),editAs:"oneCell"}}else this.range={tl:new a(this.worksheet,u.tl,0),br:u.br&&new a(this.worksheet,u.br,0),ext:u.ext,editAs:u.editAs,hyperlinks:p||u.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(e,n,s){const i=e("../utils/under-dash");class a{constructor(c){this.note=c}get model(){let c=null;switch(typeof this.note){case"string":c={type:"note",note:{texts:[{text:this.note}]}};break;default:c={type:"note",note:this.note}}return i.deepMerge({},a.DEFAULT_CONFIGS,c)}set model(c){const{note:o}=c,{texts:u}=o;u.length===1&&Object.keys(u[0]).length===1?this.note=u[0].text:this.note=o}static fromModel(c){const o=new a;return o.model=c,o}}a.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},n.exports=a},{"../utils/under-dash":26}],10:[function(e,n,s){const i=e("../utils/col-cache");class a{constructor(){this.decode(arguments)}setTLBR(c,o,u,p,h){if(arguments.length<4){const d=i.decodeAddress(c),b=i.decodeAddress(o);this.model={top:Math.min(d.row,b.row),left:Math.min(d.col,b.col),bottom:Math.max(d.row,b.row),right:Math.max(d.col,b.col),sheetName:u},this.setTLBR(d.row,d.col,b.row,b.col,h)}else this.model={top:Math.min(c,u),left:Math.min(o,p),bottom:Math.max(c,u),right:Math.max(o,p),sheetName:h}}decode(c){switch(c.length){case 5:this.setTLBR(c[0],c[1],c[2],c[3],c[4]);break;case 4:this.setTLBR(c[0],c[1],c[2],c[3]);break;case 3:this.setTLBR(c[0],c[1],c[2]);break;case 2:this.setTLBR(c[0],c[1]);break;case 1:{const o=c[0];if(o instanceof a)this.model={top:o.model.top,left:o.model.left,bottom:o.model.bottom,right:o.model.right,sheetName:o.sheetName};else if(o instanceof Array)this.decode(o);else if(o.top&&o.left&&o.bottom&&o.right)this.model={top:o.top,left:o.left,bottom:o.bottom,right:o.right,sheetName:o.sheetName};else{const u=i.decodeEx(o);u.top?this.model={top:u.top,left:u.left,bottom:u.bottom,right:u.right,sheetName:u.sheetName}:this.model={top:u.row,left:u.col,bottom:u.row,right:u.col,sheetName:u.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+c.length)}}get top(){return this.model.top||1}set top(c){this.model.top=c}get left(){return this.model.left||1}set left(c){this.model.left=c}get bottom(){return this.model.bottom||1}set bottom(c){this.model.bottom=c}get right(){return this.model.right||1}set right(c){this.model.right=c}get sheetName(){return this.model.sheetName}set sheetName(c){this.model.sheetName=c}get _serialisedSheetName(){const{sheetName:c}=this.model;return c?/^[a-zA-Z0-9]*$/.test(c)?c+"!":`'${c}'!`:""}expand(c,o,u,p){(!this.model.top||c<this.top)&&(this.top=c),(!this.model.left||o<this.left)&&(this.left=o),(!this.model.bottom||u>this.bottom)&&(this.bottom=u),(!this.model.right||p>this.right)&&(this.right=p)}expandRow(c){if(c){const{dimensions:o,number:u}=c;o&&this.expand(u,o.min,u,o.max)}}expandToAddress(c){const o=i.decodeEx(c);this.expand(o.row,o.col,o.row,o.col)}get tl(){return i.n2l(this.left)+this.top}get $t$l(){return`$${i.n2l(this.left)}$${this.top}`}get br(){return i.n2l(this.right)+this.bottom}get $b$r(){return`$${i.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(c){return(!c.sheetName||!this.sheetName||c.sheetName===this.sheetName)&&!(c.bottom<this.top)&&!(c.top>this.bottom)&&!(c.right<this.left)&&!(c.left>this.right)}contains(c){const o=i.decodeEx(c);return this.containsEx(o)}containsEx(c){return(!c.sheetName||!this.sheetName||c.sheetName===this.sheetName)&&c.row>=this.top&&c.row<=this.bottom&&c.col>=this.left&&c.col<=this.right}forEachAddress(c){for(let o=this.left;o<=this.right;o++)for(let u=this.top;u<=this.bottom;u++)c(i.encodeAddress(u,o),u,o)}}n.exports=a},{"../utils/col-cache":19}],11:[function(e,n,s){const i=e("../utils/under-dash"),a=e("./enums"),l=e("../utils/col-cache"),c=e("./cell");n.exports=class{constructor(o,u){this._worksheet=o,this._number=u,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(o){return this._cells[o-1]}getCellEx(o){let u=this._cells[o.col-1];if(!u){const p=this._worksheet.getColumn(o.col);u=new c(this,p,o.address),this._cells[o.col-1]=u}return u}getCell(o){if(typeof o=="string"){const u=this._worksheet.getColumnKey(o);o=u?u.number:l.l2n(o)}return this._cells[o-1]||this.getCellEx({address:l.encodeAddress(this._number,o),row:this._number,col:o})}splice(o,u){const p=o+u;for(var h=arguments.length,d=new Array(h>2?h-2:0),b=2;b<h;b++)d[b-2]=arguments[b];const x=d.length-u,g=this._cells.length;let v,y,k;if(x<0)for(v=o+d.length;v<=g;v++)k=this._cells[v-1],y=this._cells[v-x-1],y?(k=this.getCell(v),k.value=y.value,k.style=y.style,k._comment=y._comment):k&&(k.value=null,k.style={},k._comment=void 0);else if(x>0)for(v=g;v>=p;v--)y=this._cells[v-1],y?(k=this.getCell(v+x),k.value=y.value,k.style=y.style,k._comment=y._comment):this._cells[v+x-1]=void 0;for(v=0;v<d.length;v++)k=this.getCell(o+v),k.value=d[v],k.style={},k._comment=void 0}eachCell(o,u){if(u||(u=o,o=null),o&&o.includeEmpty){const p=this._cells.length;for(let h=1;h<=p;h++)u(this.getCell(h),h)}else this._cells.forEach((p,h)=>{p&&p.type!==a.ValueType.Null&&u(p,h+1)})}addPageBreak(o,u){const p=this._worksheet,h=Math.max(0,o-1)||0,d=Math.max(0,u-1)||16838,b={id:this._number,max:d,man:1};h&&(b.min=h),p.rowBreaks.push(b)}get values(){const o=[];return this._cells.forEach(u=>{u&&u.type!==a.ValueType.Null&&(o[u.col]=u.value)}),o}set values(o){if(this._cells=[],o)if(o instanceof Array){let u=0;o.hasOwnProperty("0")&&(u=1),o.forEach((p,h)=>{p!==void 0&&(this.getCellEx({address:l.encodeAddress(this._number,h+u),row:this._number,col:h+u}).value=p)})}else this._worksheet.eachColumnKey((u,p)=>{o[p]!==void 0&&(this.getCellEx({address:l.encodeAddress(this._number,u.number),row:this._number,col:u.number}).value=o[p])})}get hasValues(){return i.some(this._cells,o=>o&&o.type!==a.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let o=0;return this.eachCell(()=>{o++}),o}get dimensions(){let o=0,u=0;return this._cells.forEach(p=>{p&&p.type!==a.ValueType.Null&&((!o||o>p.col)&&(o=p.col),u<p.col&&(u=p.col))}),o>0?{min:o,max:u}:null}_applyStyle(o,u){return this.style[o]=u,this._cells.forEach(p=>{p&&(p[o]=u)}),u}get numFmt(){return this.style.numFmt}set numFmt(o){this._applyStyle("numFmt",o)}get font(){return this.style.font}set font(o){this._applyStyle("font",o)}get alignment(){return this.style.alignment}set alignment(o){this._applyStyle("alignment",o)}get protection(){return this.style.protection}set protection(o){this._applyStyle("protection",o)}get border(){return this.style.border}set border(o){this._applyStyle("border",o)}get fill(){return this.style.fill}set fill(o){this._applyStyle("fill",o)}get hidden(){return!!this._hidden}set hidden(o){this._hidden=o}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(o){this._outlineLevel=o}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const o=[];let u=0,p=0;return this._cells.forEach(h=>{if(h){const d=h.model;d&&((!u||u>h.col)&&(u=h.col),p<h.col&&(p=h.col),o.push(d))}}),this.height||o.length?{cells:o,number:this.number,min:u,max:p,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(o){if(o.number!==this._number)throw new Error("Invalid row number in model");let u;this._cells=[],o.cells.forEach(p=>{switch(p.type){case c.Types.Merge:break;default:{let h;if(p.address)h=l.decodeAddress(p.address);else if(u){const{row:d}=u,b=u.col+1;h={row:d,col:b,address:l.encodeAddress(d,b),$col$row:`$${l.n2l(b)}$${d}`}}u=h,this.getCellEx(h).model=p;break}}}),o.height?this.height=o.height:delete this.height,this.hidden=o.hidden,this.outlineLevel=o.outlineLevel||0,this.style=o.style&&JSON.parse(JSON.stringify(o.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(e,n,s){const i=e("../utils/col-cache");class a{constructor(c,o,u){this.table=c,this.column=o,this.index=u}_set(c,o){this.table.cacheState(),this.column[c]=o}get name(){return this.column.name}set name(c){this._set("name",c)}get filterButton(){return this.column.filterButton}set filterButton(c){this.column.filterButton=c}get style(){return this.column.style}set style(c){this.column.style=c}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(c){this._set("totalsRowLabel",c)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(c){this._set("totalsRowFunction",c)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(c){this._set("totalsRowResult",c)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(c){this._set("totalsRowFormula",c)}}n.exports=class{constructor(l,c){this.worksheet=l,c&&(this.table=c,this.validate(),this.store())}getFormula(l){switch(l.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${l.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${l.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${l.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${l.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${l.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${l.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${l.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${l.name}])`;case"custom":return l.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+l.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:l}=this,c=(x,g,v)=>{x[g]===void 0&&(x[g]=v)};c(l,"headerRow",!0),c(l,"totalsRow",!1),c(l,"style",{}),c(l.style,"theme","TableStyleMedium2"),c(l.style,"showFirstColumn",!1),c(l.style,"showLastColumn",!1),c(l.style,"showRowStripes",!1),c(l.style,"showColumnStripes",!1);const o=(x,g)=>{if(!x)throw new Error(g)};o(l.ref,"Table must have ref"),o(l.columns,"Table must have column definitions"),o(l.rows,"Table must have row definitions"),l.tl=i.decodeAddress(l.ref);const{row:u,col:p}=l.tl;o(u>0,"Table must be on valid row"),o(p>0,"Table must be on valid col");const{width:h,filterHeight:d,tableHeight:b}=this;l.autoFilterRef=i.encode(u,p,u+d-1,p+h-1),l.tableRef=i.encode(u,p,u+b-1,p+h-1),l.columns.forEach((x,g)=>{o(x.name,`Column ${g} must have a name`),g===0?c(x,"totalsRowLabel","Total"):(c(x,"totalsRowFunction","none"),x.totalsRowFormula=this.getFormula(x))})}store(){const l=(d,b)=>{b&&Object.keys(b).forEach(x=>{d[x]=b[x]})},{worksheet:c,table:o}=this,{row:u,col:p}=o.tl;let h=0;if(o.headerRow){const d=c.getRow(u+h++);o.columns.forEach((b,x)=>{const{style:g,name:v}=b,y=d.getCell(p+x);y.value=v,l(y,g)})}if(o.rows.forEach(d=>{const b=c.getRow(u+h++);d.forEach((x,g)=>{const v=b.getCell(p+g);v.value=x,l(v,o.columns[g].style)})}),o.totalsRow){const d=c.getRow(u+h++);o.columns.forEach((b,x)=>{const g=d.getCell(p+x);if(x===0)g.value=b.totalsRowLabel;else{const v=this.getFormula(b);g.value=v?{formula:b.totalsRowFormula,result:b.totalsRowResult}:null}l(g,b.style)})}}load(l){const{table:c}=this,{row:o,col:u}=c.tl;let p=0;if(c.headerRow){const h=l.getRow(o+p++);c.columns.forEach((d,b)=>{h.getCell(u+b).value=d.name})}if(c.rows.forEach(h=>{const d=l.getRow(o+p++);h.forEach((b,x)=>{d.getCell(u+x).value=b})}),c.totalsRow){const h=l.getRow(o+p++);c.columns.forEach((d,b)=>{const x=h.getCell(u+b);b===0?x.value=d.totalsRowLabel:this.getFormula(d)&&(x.value={formula:d.totalsRowFormula,result:d.totalsRowResult})})}}get model(){return this.table}set model(l){this.table=l}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const l=i.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let c=0;c<this._cache.tableHeight;c++){const o=this.worksheet.getRow(l.row+c);for(let u=0;u<this._cache.width;u++)o.getCell(l.col+u).value=null}else{for(let c=this.tableHeight;c<this._cache.tableHeight;c++){const o=this.worksheet.getRow(l.row+c);for(let u=0;u<this._cache.width;u++)o.getCell(l.col+u).value=null}for(let c=0;c<this.tableHeight;c++){const o=this.worksheet.getRow(l.row+c);for(let u=this.width;u<this._cache.width;u++)o.getCell(l.col+u).value=null}}this.store()}addRow(l,c){this.cacheState(),c===void 0?this.table.rows.push(l):this.table.rows.splice(c,0,l)}removeRows(l){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(l,c)}getColumn(l){const c=this.table.columns[l];return new a(this,c,l)}addColumn(l,c,o){this.cacheState(),o===void 0?(this.table.columns.push(l),this.table.rows.forEach((u,p)=>{u.push(c[p])})):(this.table.columns.splice(o,0,l),this.table.rows.forEach((u,p)=>{u.splice(o,0,c[p])}))}removeColumns(l){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(l,c),this.table.rows.forEach(o=>{o.splice(l,c)})}_assign(l,c,o){this.cacheState(),l[c]=o}get ref(){return this.table.ref}set ref(l){this._assign(this.table,"ref",l)}get name(){return this.table.name}set name(l){this.table.name=l}get displayName(){return this.table.displyName||this.table.name}set displayNamename(l){this.table.displayName=l}get headerRow(){return this.table.headerRow}set headerRow(l){this._assign(this.table,"headerRow",l)}get totalsRow(){return this.table.totalsRow}set totalsRow(l){this._assign(this.table,"totalsRow",l)}get theme(){return this.table.style.name}set theme(l){this.table.style.name=l}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(l){this.table.style.showFirstColumn=l}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(l){this.table.style.showLastColumn=l}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(l){this.table.style.showRowStripes=l}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(l){this.table.style.showColumnStripes=l}}},{"../utils/col-cache":19}],13:[function(e,n,s){const i=e("./worksheet"),a=e("./defined-names"),l=e("../xlsx/xlsx"),c=e("../csv/csv");n.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new a}get xlsx(){return this._xlsx||(this._xlsx=new l(this)),this._xlsx}get csv(){return this._csv||(this._csv=new c(this)),this._csv}get nextId(){for(let o=1;o<this._worksheets.length;o++)if(!this._worksheets[o])return o;return this._worksheets.length||1}addWorksheet(o,u){const p=this.nextId;u&&(typeof u=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),u={properties:{tabColor:{argb:u}}}):(u.argb||u.theme||u.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),u={properties:{tabColor:u}}));const h=this._worksheets.reduce((x,g)=>(g&&g.orderNo)>x?g.orderNo:x,0),d=Object.assign({},u,{id:p,name:o,orderNo:h+1,workbook:this}),b=new i(d);return this._worksheets[p]=b,b}removeWorksheetEx(o){delete this._worksheets[o.id]}removeWorksheet(o){const u=this.getWorksheet(o);u&&u.destroy()}getWorksheet(o){return o===void 0?this._worksheets.find(Boolean):typeof o=="number"?this._worksheets[o]:typeof o=="string"?this._worksheets.find(u=>u&&u.name===o):void 0}get worksheets(){return this._worksheets.slice(1).sort((o,u)=>o.orderNo-u.orderNo).filter(Boolean)}eachSheet(o){this.worksheets.forEach(u=>{o(u,u.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(o){const u=this.media.length;return this.media.push(Object.assign({},o,{type:"image"})),u}getImage(o){return this.media[o]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(o=>o.model),sheets:this.worksheets.map(o=>o.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(o){this.creator=o.creator,this.lastModifiedBy=o.lastModifiedBy,this.lastPrinted=o.lastPrinted,this.created=o.created,this.modified=o.modified,this.company=o.company,this.manager=o.manager,this.title=o.title,this.subject=o.subject,this.keywords=o.keywords,this.category=o.category,this.description=o.description,this.language=o.language,this.revision=o.revision,this.contentStatus=o.contentStatus,this.properties=o.properties,this.calcProperties=o.calcProperties,this._worksheets=[],o.worksheets.forEach(u=>{const{id:p,name:h,state:d}=u,b=o.sheets&&o.sheets.findIndex(x=>x.id===p);(this._worksheets[p]=new i({id:p,name:h,orderNo:b,state:d,workbook:this})).model=u}),this._definedNames.model=o.definedNames,this.views=o.views,this._themes=o.themes,this.media=o.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(e,n,s){const i=e("../utils/under-dash"),a=e("../utils/col-cache"),l=e("./range"),c=e("./row"),o=e("./column"),u=e("./enums"),p=e("./image"),h=e("./table"),d=e("./data-validations"),b=e("../utils/encryptor"),{copyStyle:x}=e("../utils/copy-style");n.exports=class{constructor(g){g=g||{},this._workbook=g.workbook,this.id=g.id,this.orderNo=g.orderNo,this.name=g.name,this.state=g.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},g.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!g.pageSetup||!g.pageSetup.fitToWidth&&!g.pageSetup.fitToHeight||g.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},g.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},g.headerFooter),this.dataValidations=new d,this.views=g.views||[],this.autoFilter=g.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(g){if(g===void 0&&(g="sheet"+this.id),this._name!==g){if(typeof g!="string")throw new Error("The name has to be a string.");if(g==="")throw new Error("The name can't be empty.");if(g==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(g))throw new Error(`Worksheet name ${g} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(g))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+g);if(g&&g.length>31&&(console.warn(`Worksheet name ${g} exceeds 31 chars. This will be truncated`),g=g.substring(0,31)),this._workbook._worksheets.find(v=>v&&v.name.toLowerCase()===g.toLowerCase()))throw new Error("Worksheet name already exists: "+g);this._name=g}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const g=new l;return this._rows.forEach(v=>{if(v){const y=v.dimensions;y&&g.expand(v.number,y.min,v.number,y.max)}}),g}get columns(){return this._columns}set columns(g){this._headerRowCount=g.reduce((k,R)=>{const z=(R.header?1:R.headers&&R.headers.length)||0;return Math.max(k,z)},0);let v=1;const y=this._columns=[];g.forEach(k=>{const R=new o(this,v++,!1);y.push(R),R.defn=k})}getColumnKey(g){return this._keys[g]}setColumnKey(g,v){this._keys[g]=v}deleteColumnKey(g){delete this._keys[g]}eachColumnKey(g){i.each(this._keys,g)}getColumn(g){if(typeof g=="string"){const v=this._keys[g];if(v)return v;g=a.l2n(g)}if(this._columns||(this._columns=[]),g>this._columns.length){let v=this._columns.length+1;for(;v<=g;)this._columns.push(new o(this,v++))}return this._columns[g-1]}spliceColumns(g,v){const y=this._rows.length;for(var k=arguments.length,R=new Array(k>2?k-2:0),z=2;z<k;z++)R[z-2]=arguments[z];if(R.length>0)for(let O=0;O<y;O++){const F=[g,v];R.forEach(V=>{F.push(V[O]||null)});const W=this.getRow(O+1);W.splice.apply(W,F)}else this._rows.forEach(O=>{O&&O.splice(g,v)});const q=R.length-v,B=g+v,I=this._columns.length;if(q<0)for(let O=g+R.length;O<=I;O++)this.getColumn(O).defn=this.getColumn(O-q).defn;else if(q>0)for(let O=I;O>=B;O--)this.getColumn(O+q).defn=this.getColumn(O).defn;for(let O=g;O<g+R.length;O++)this.getColumn(O).defn=null;this.workbook.definedNames.spliceColumns(this.name,g,v,R.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let g=0;return this.eachRow(v=>{g=Math.max(g,v.cellCount)}),g}get actualColumnCount(){const g=[];let v=0;return this.eachRow(y=>{y.eachCell(k=>{let{col:R}=k;g[R]||(g[R]=!0,v++)})}),v}_commitRow(){}get _lastRowNumber(){const g=this._rows;let v=g.length;for(;v>0&&g[v-1]===void 0;)v--;return v}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(g){return this._rows[g-1]}findRows(g,v){return this._rows.slice(g-1,g-1+v)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let g=0;return this.eachRow(()=>{g++}),g}getRow(g){let v=this._rows[g-1];return v||(v=this._rows[g-1]=new c(this,g)),v}getRows(g,v){if(v<1)return;const y=[];for(let k=g;k<g+v;k++)y.push(this.getRow(k));return y}addRow(g){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const y=this._nextRow,k=this.getRow(y);return k.values=g,this._setStyleOption(y,v[0]==="i"?v:"n"),k}addRows(g){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const y=[];return g.forEach(k=>{y.push(this.addRow(k,v))}),y}insertRow(g,v){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(g,0,v),this._setStyleOption(g,y),this.getRow(g)}insertRows(g,v){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(g,0,...v),y!=="n")for(let k=0;k<v.length;k++)y[0]==="o"&&this.findRow(v.length+g+k)!==void 0?this._copyStyle(v.length+g+k,g+k,y[1]==="+"):y[0]==="i"&&this.findRow(g-1)!==void 0&&this._copyStyle(g-1,g+k,y[1]==="+");return this.getRows(g,v.length)}_setStyleOption(g){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";v[0]==="o"&&this.findRow(g+1)!==void 0?this._copyStyle(g+1,g,v[1]==="+"):v[0]==="i"&&this.findRow(g-1)!==void 0&&this._copyStyle(g-1,g,v[1]==="+")}_copyStyle(g,v){let y=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const k=this.getRow(g),R=this.getRow(v);R.style=x(k.style),k.eachCell({includeEmpty:y},(z,q)=>{R.getCell(q).style=x(z.style)}),R.height=k.height}duplicateRow(g,v){let y=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const k=this._rows[g-1],R=new Array(v).fill(k.values);this.spliceRows(g+1,y?0:v,...R);for(let z=0;z<v;z++){const q=this._rows[g+z];q.style=k.style,q.height=k.height,k.eachCell({includeEmpty:!0},(B,I)=>{q.getCell(I).style=B.style})}}spliceRows(g,v){const y=g+v;for(var k=arguments.length,R=new Array(k>2?k-2:0),z=2;z<k;z++)R[z-2]=arguments[z];const q=R.length,B=q-v,I=this._rows.length;let O,F;if(B<0)for(g===I&&(this._rows[I-1]=void 0),O=y;O<=I;O++)if(F=this._rows[O-1],F){const W=this.getRow(O+B);W.values=F.values,W.style=F.style,W.height=F.height,F.eachCell({includeEmpty:!0},(V,N)=>{W.getCell(N).style=V.style}),this._rows[O-1]=void 0}else this._rows[O+B-1]=void 0;else if(B>0)for(O=I;O>=y;O--)if(F=this._rows[O-1],F){const W=this.getRow(O+B);W.values=F.values,W.style=F.style,W.height=F.height,F.eachCell({includeEmpty:!0},(V,N)=>{if(W.getCell(N).style=V.style,V._value.constructor.name==="MergeValue"){const P=this.getRow(V._row._number+q).getCell(N),C=V._value._master,S=this.getRow(C._row._number+q).getCell(C._column._number);P.merge(S)}})}else this._rows[O+B-1]=void 0;for(O=0;O<q;O++){const W=this.getRow(g+O);W.style={},W.values=R[O]}this.workbook.definedNames.spliceRows(this.name,g,v,q)}eachRow(g,v){if(v||(v=g,g=void 0),g&&g.includeEmpty){const y=this._rows.length;for(let k=1;k<=y;k++)v(this.getRow(k),k)}else this._rows.forEach(y=>{y&&y.hasValues&&v(y,y.number)})}getSheetValues(){const g=[];return this._rows.forEach(v=>{v&&(g[v.number]=v.values)}),g}findCell(g,v){const y=a.getAddress(g,v),k=this._rows[y.row-1];return k?k.findCell(y.col):void 0}getCell(g,v){const y=a.getAddress(g,v);return this.getRow(y.row).getCellEx(y)}mergeCells(){for(var g=arguments.length,v=new Array(g),y=0;y<g;y++)v[y]=arguments[y];const k=new l(v);this._mergeCellsInternal(k)}mergeCellsWithoutStyle(){for(var g=arguments.length,v=new Array(g),y=0;y<g;y++)v[y]=arguments[y];const k=new l(v);this._mergeCellsInternal(k,!0)}_mergeCellsInternal(g,v){i.each(this._merges,k=>{if(k.intersects(g))throw new Error("Cannot merge already merged cells")});const y=this.getCell(g.top,g.left);for(let k=g.top;k<=g.bottom;k++)for(let R=g.left;R<=g.right;R++)(k>g.top||R>g.left)&&this.getCell(k,R).merge(y,v);this._merges[y.address]=g}_unMergeMaster(g){const v=this._merges[g.address];if(v){for(let y=v.top;y<=v.bottom;y++)for(let k=v.left;k<=v.right;k++)this.getCell(y,k).unmerge();delete this._merges[g.address]}}get hasMerges(){return i.some(this._merges,Boolean)}unMergeCells(){for(var g=arguments.length,v=new Array(g),y=0;y<g;y++)v[y]=arguments[y];const k=new l(v);for(let R=k.top;R<=k.bottom;R++)for(let z=k.left;z<=k.right;z++){const q=this.findCell(R,z);q&&(q.type===u.ValueType.Merge?this._unMergeMaster(q.master):this._merges[q.address]&&this._unMergeMaster(q))}}fillFormula(g,v,y){let k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const R=a.decode(g),{top:z,left:q,bottom:B,right:I}=R,O=I-q+1,F=a.encodeAddress(z,q),W=k==="shared";let V;V=typeof y=="function"?y:Array.isArray(y)?Array.isArray(y[0])?(P,C)=>y[P-z][C-q]:(P,C)=>y[(P-z)*O+(C-q)]:()=>{};let N=!0;for(let P=z;P<=B;P++)for(let C=q;C<=I;C++)N?(this.getCell(P,C).value={shareType:k,formula:v,ref:g,result:V(P,C)},N=!1):this.getCell(P,C).value=W?{sharedFormula:F,result:V(P,C)}:V(P,C)}addImage(g,v){const y={type:"image",imageId:g,range:v};this._media.push(new p(this,y))}getImages(){return this._media.filter(g=>g.type==="image")}addBackgroundImage(g){const v={type:"background",imageId:g};this._media.push(new p(this,v))}getBackgroundImageId(){const g=this._media.find(v=>v.type==="background");return g&&g.imageId}protect(g,v){return new Promise(y=>{this.sheetProtection={sheet:!0},v&&"spinCount"in v&&(v.spinCount=Number.isFinite(v.spinCount)?Math.round(Math.max(0,v.spinCount)):1e5),g&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=b.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=v&&"spinCount"in v?v.spinCount:1e5,this.sheetProtection.hashValue=b.convertPasswordToHash(g,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),v&&(this.sheetProtection=Object.assign(this.sheetProtection,v),!g&&"spinCount"in v&&delete this.sheetProtection.spinCount),y()})}unprotect(){this.sheetProtection=null}addTable(g){const v=new h(this,g);return this.tables[g.name]=v,v}getTable(g){return this.tables[g]}removeTable(g){delete this.tables[g]}getTables(){return Object.values(this.tables)}addConditionalFormatting(g){this.conditionalFormattings.push(g)}removeConditionalFormatting(g){typeof g=="number"?this.conditionalFormattings.splice(g,1):this.conditionalFormattings=g instanceof Function?this.conditionalFormattings.filter(g):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(g){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=g}get model(){const g={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(k=>k.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(k=>k.model),conditionalFormattings:this.conditionalFormattings};g.cols=o.toModel(this.columns);const v=g.rows=[],y=g.dimensions=new l;return this._rows.forEach(k=>{const R=k&&k.model;R&&(y.expand(R.number,R.min,R.number,R.max),v.push(R))}),g.merges=[],i.each(this._merges,k=>{g.merges.push(k.range)}),g}_parseRows(g){this._rows=[],g.rows.forEach(v=>{const y=new c(this,v.number);this._rows[y.number-1]=y,y.model=v})}_parseMergeCells(g){i.each(g.mergeCells,v=>{this.mergeCellsWithoutStyle(v)})}set model(g){this.name=g.name,this._columns=o.fromModel(this,g.cols),this._parseRows(g),this._parseMergeCells(g),this.dataValidations=new d(g.dataValidations),this.properties=g.properties,this.pageSetup=g.pageSetup,this.headerFooter=g.headerFooter,this.views=g.views,this.autoFilter=g.autoFilter,this._media=g.media.map(v=>new p(this,v)),this.sheetProtection=g.sheetProtection,this.tables=g.tables.reduce((v,y)=>{const k=new h;return k.model=y,v[y.name]=k,v},{}),this.conditionalFormattings=g.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(e,n,s){e("core-js/modules/es.promise"),e("core-js/modules/es.promise.finally"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.values"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.async-iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.find-index"),e("core-js/modules/es.array.find"),e("core-js/modules/es.string.from-code-point"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.number.is-nan"),e("regenerator-runtime/runtime");const i={Workbook:e("./doc/workbook")},a=e("./doc/enums");Object.keys(a).forEach(l=>{i[l]=a[l]}),n.exports=i},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(e,n,s){const i=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");s.bufferToString=function(a){return typeof a=="string"?a:i?i.decode(a):a.toString()}},{}],17:[function(e,n,s){const i=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:a}=e("buffer");s.stringToBuffer=function(l){return typeof l!="string"?l:i?a.from(i.encode(l).buffer):a.from(l)}},{buffer:220}],18:[function(e,n,s){const i=e("./under-dash"),a=e("./col-cache");n.exports=class{constructor(l){this.template=l,this.sheets={}}addCell(l){this.addCellEx(a.decodeEx(l))}getCell(l){return this.findCellEx(a.decodeEx(l),!0)}findCell(l){return this.findCellEx(a.decodeEx(l),!1)}findCellAt(l,c,o){const u=this.sheets[l],p=u&&u[c];return p&&p[o]}addCellEx(l){if(l.top)for(let c=l.top;c<=l.bottom;c++)for(let o=l.left;o<=l.right;o++)this.getCellAt(l.sheetName,c,o);else this.findCellEx(l,!0)}getCellEx(l){return this.findCellEx(l,!0)}findCellEx(l,c){const o=this.findSheet(l,c),u=this.findSheetRow(o,l,c);return this.findRowCell(u,l,c)}getCellAt(l,c,o){const u=this.sheets[l]||(this.sheets[l]=[]),p=u[c]||(u[c]=[]);return p[o]||(p[o]={sheetName:l,address:a.n2l(o)+c,row:c,col:o})}removeCellEx(l){const c=this.findSheet(l);if(!c)return;const o=this.findSheetRow(c,l);o&&delete o[l.col]}forEachInSheet(l,c){const o=this.sheets[l];o&&o.forEach((u,p)=>{u&&u.forEach((h,d)=>{h&&c(h,p,d)})})}forEach(l){i.each(this.sheets,(c,o)=>{this.forEachInSheet(o,l)})}map(l){const c=[];return this.forEach(o=>{c.push(l(o))}),c}findSheet(l,c){const o=l.sheetName;return this.sheets[o]?this.sheets[o]:c?this.sheets[o]=[]:void 0}findSheetRow(l,c,o){const{row:u}=c;return l&&l[u]?l[u]:o?l[u]=[]:void 0}findRowCell(l,c,o){const{col:u}=c;return l&&l[u]?l[u]:o?l[u]=this.template?Object.assign(c,JSON.parse(JSON.stringify(this.template))):c:void 0}spliceRows(l,c,o,u){const p=this.sheets[l];if(p){const h=[];for(let d=0;d<u;d++)h.push([]);p.splice(c,o,...h)}}spliceColumns(l,c,o,u){const p=this.sheets[l];if(p){const h=[];for(let d=0;d<u;d++)h.push(null);i.each(p,d=>{d.splice(c,o,...h)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(e,n,s){const i=/^[A-Z]+\d+$/,a={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:l=>l<=26?1:l<=676?2:3,_fill(l){let c,o,u,p,h,d=1;if(l>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&l>=1){for(;d<=26;)c=this._dictionary[d-1],this._n2l[d]=c,this._l2n[c]=d,d++;this._l2nFill=1}if(this._l2nFill<2&&l>=2){for(d=27;d<=702;)o=d-27,u=o%26,p=Math.floor(o/26),c=this._dictionary[p]+this._dictionary[u],this._n2l[d]=c,this._l2n[c]=d,d++;this._l2nFill=2}if(this._l2nFill<3&&l>=3){for(d=703;d<=16384;)o=d-703,u=o%26,p=Math.floor(o/26)%26,h=Math.floor(o/676),c=this._dictionary[h]+this._dictionary[p]+this._dictionary[u],this._n2l[d]=c,this._l2n[c]=d,d++;this._l2nFill=3}},l2n(l){if(this._l2n[l]||this._fill(l.length),!this._l2n[l])throw new Error("Out of bounds. Invalid column letter: "+l);return this._l2n[l]},n2l(l){if(l<1||l>16384)throw new Error(l+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[l]||this._fill(this._level(l)),this._n2l[l]},_hash:{},validateAddress(l){if(!i.test(l))throw new Error("Invalid Address: "+l);return!0},decodeAddress(l){const c=l.length<5&&this._hash[l];if(c)return c;let o=!1,u="",p=0,h=!1,d="",b=0;for(let g,v=0;v<l.length;v++)if(g=l.charCodeAt(v),!h&&g>=65&&g<=90)o=!0,u+=l[v],p=26*p+g-64;else if(g>=48&&g<=57)h=!0,d+=l[v],b=10*b+g-48;else if(h&&o&&g!==36)break;if(o){if(p>16384)throw new Error("Out of bounds. Invalid column letter: "+u)}else p=void 0;h||(b=void 0);const x={address:l=u+d,col:p,row:b,$col$row:`$${u}$${d}`};return p<=100&&b<=100&&(this._hash[l]=x,this._hash[x.$col$row]=x),x},getAddress(l,c){if(c){const o=this.n2l(c)+l;return this.decodeAddress(o)}return this.decodeAddress(l)},decode(l){const c=l.split(":");if(c.length===2){const o=this.decodeAddress(c[0]),u=this.decodeAddress(c[1]),p={top:Math.min(o.row,u.row),left:Math.min(o.col,u.col),bottom:Math.max(o.row,u.row),right:Math.max(o.col,u.col)};return p.tl=this.n2l(p.left)+p.top,p.br=this.n2l(p.right)+p.bottom,p.dimensions=`${p.tl}:${p.br}`,p}return this.decodeAddress(l)},decodeEx(l){const c=l.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),o=c[1]||c[2],u=c[3],p=u.split(":");if(p.length>1){let d=this.decodeAddress(p[0]),b=this.decodeAddress(p[1]);const x=Math.min(d.row,b.row),g=Math.min(d.col,b.col),v=Math.max(d.row,b.row),y=Math.max(d.col,b.col);return d=this.n2l(g)+x,b=this.n2l(y)+v,{top:x,left:g,bottom:v,right:y,sheetName:o,tl:{address:d,col:g,row:x,$col$row:`$${this.n2l(g)}$${x}`,sheetName:o},br:{address:b,col:y,row:v,$col$row:`$${this.n2l(y)}$${v}`,sheetName:o},dimensions:`${d}:${b}`}}if(u.startsWith("#"))return o?{sheetName:o,error:u}:{error:u};const h=this.decodeAddress(u);return o?{sheetName:o,...h}:h},encodeAddress:(l,c)=>a.n2l(c)+l,encode(){switch(arguments.length){case 2:return a.encodeAddress(arguments[0],arguments[1]);case 4:return`${a.encodeAddress(arguments[0],arguments[1])}:${a.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(l,c){const[o,u,,p,h]=l,[d,b]=c;return d>=o&&d<=p&&b>=u&&b<=h}};n.exports=a},{}],20:[function(e,n,s){const i=(l,c)=>({...l,...c.reduce((o,u)=>(l[u]&&(o[u]={...l[u]}),o),{})}),a=function(l,c,o){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];l[o]&&(c[o]=i(l[o],u))};s.copyStyle=l=>{if(!l)return l;if(c=l,Object.keys(c).length===0)return{};var c;const o={...l};return a(l,o,"font",["color"]),a(l,o,"alignment"),a(l,o,"protection"),l.border&&(a(l,o,"border"),a(l.border,o.border,"top",["color"]),a(l.border,o.border,"left",["color"]),a(l.border,o.border,"bottom",["color"]),a(l.border,o.border,"right",["color"]),a(l.border,o.border,"diagonal",["color"])),l.fill&&(a(l,o,"fill",["fgColor","bgColor","center"]),l.fill.stops&&(o.fill.stops=l.fill.stops.map(u=>i(u,["color"])))),o}},{}],21:[function(e,n,s){(function(i){(function(){const a=e("crypto"),l={hash(c){const o=a.createHash(c);for(var u=arguments.length,p=new Array(u>1?u-1:0),h=1;h<u;h++)p[h-1]=arguments[h];return o.update(i.concat(p)),o.digest()},convertPasswordToHash(c,o,u,p){if(o=o.toLowerCase(),a.getHashes().indexOf(o)<0)throw new Error(`Hash algorithm '${o}' not supported!`);const h=i.from(c,"utf16le");let d=this.hash(o,i.from(u,"base64"),h);for(let b=0;b<p;b++){const x=i.alloc(4);x.writeUInt32LE(b,0),d=this.hash(o,d,x)}return d.toString("base64")},randomBytes:c=>a.randomBytes(c)};n.exports=l}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(e,n,s){const{SaxesParser:i}=e("saxes"),{PassThrough:a}=e("readable-stream"),{bufferToString:l}=e("./browser-buffer-decode");n.exports=async function*(c){c.pipe&&!c[Symbol.asyncIterator]&&(c=c.pipe(new a));const o=new i;let u;o.on("error",h=>{u=h});let p=[];o.on("opentag",h=>p.push({eventType:"opentag",value:h})),o.on("text",h=>p.push({eventType:"text",value:h})),o.on("closetag",h=>p.push({eventType:"closetag",value:h}));for await(const h of c){if(o.write(l(h)),u)throw u;yield p,p=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(e,n,s){const i=e("./col-cache"),a=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,l=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;n.exports={slideFormula:function(c,o,u){const p=i.decode(o),h=i.decode(u);return c.replace(a,(d,b,x,g,v)=>{if(v)return d;const y=l.exec(g);if(y){const k=y[1],R=y[2].toUpperCase(),z=y[3],q=y[4];if(R.length>3||R.length===3&&R>"XFD")return d;let B=i.l2n(R),I=parseInt(q,10);return k||(B+=h.col-p.col),z||(I+=h.row-p.row),(b||"")+(k||"")+i.n2l(B)+(z||"")+I}return d})}}},{"./col-cache":19}],24:[function(e,n,s){(function(i,a){(function(){const l=e("readable-stream"),c=e("./utils"),o=e("./string-buf");class u{constructor(g,v){this._data=g,this._encoding=v}get length(){return this.toBuffer().length}copy(g,v,y,k){return this.toBuffer().copy(g,v,y,k)}toBuffer(){return this._buffer||(this._buffer=a.from(this._data,this._encoding)),this._buffer}}class p{constructor(g){this._data=g}get length(){return this._data.length}copy(g,v,y,k){return this._data._buf.copy(g,v,y,k)}toBuffer(){return this._data.toBuffer()}}class h{constructor(g){this._data=g}get length(){return this._data.length}copy(g,v,y,k){this._data.copy(g,v,y,k)}toBuffer(){return this._data}}class d{constructor(g){this.size=g,this.buffer=a.alloc(g),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const g=a.alloc(this.iWrite-this.iRead);return this.buffer.copy(g,0,this.iRead,this.iWrite),g}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(g){let v;return g===0?null:g===void 0||g>=this.length?(v=this.toBuffer(),this.iRead=this.iWrite,v):(v=a.alloc(g),this.buffer.copy(v,0,this.iRead,g),this.iRead+=g,v)}write(g,v,y){const k=Math.min(y,this.size-this.iWrite);return g.copy(this.buffer,this.iWrite,v,v+k),this.iWrite+=k,k}}const b=function(x){x=x||{},this.bufSize=x.bufSize||1048576,this.buffers=[],this.batch=x.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};c.inherits(b,l.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return a.concat(this.buffers.map(x=>x.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const g=this.buffers[this.buffers.length-1];if(!g.full)return g}const x=new d(this.bufSize);return this.buffers.push(x),x},async _pipe(x){await Promise.all(this.pipes.map((function(g){return new Promise(v=>{g.write(x.toBuffer(),()=>{v()})})})))},_writeToBuffers(x){let g=0;const v=x.length;for(;g<v;)g+=this._getWritableBuffer().write(x,g,v-g)},async write(x,g,v){let y;if(g instanceof Function&&(v=g,g="utf8"),v=v||c.nop,x instanceof o)y=new p(x);else if(x instanceof a)y=new h(x);else{if(!(typeof x=="string"||x instanceof String||x instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");y=new u(x,g)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(y);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(y),i.nextTick(v)):(await this._pipe(y),v());else this.paused||this.emit("data",y.toBuffer()),this._writeToBuffers(y),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(x,g,v){const y=k=>{k?v(k):(this._flush(),this.pipes.forEach(R=>{R.end()}),this.emit("finish"))};x?this.write(x,g,y):y()},read(x){let g;if(x){for(g=[];x&&this.buffers.length&&!this.buffers[0].eod;){const v=this.buffers[0],y=v.read(x);x-=y.length,g.push(y),v.eod&&v.full&&this.buffers.shift()}return a.concat(g)}return g=this.buffers.map(v=>v.toBuffer()).filter(Boolean),this.buffers=[],a.concat(g)},setEncoding(x){this.encoding=x},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(x){this.pipes.push(x),!this.paused&&this.buffers.length&&this.end()},unpipe(x){this.pipes=this.pipes.filter(g=>g!==x)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),n.exports=b}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(e,n,s){(function(i){(function(){n.exports=class{constructor(a){this._buf=i.alloc(a&&a.size||16384),this._encoding=a&&a.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=i.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(a){a=a||0,this._buffer=void 0,this._inPos=a}_grow(a){let l=2*this._buf.length;for(;l<a;)l*=2;const c=i.alloc(l);this._buf.copy(c,0),this._buf=c}addText(a){this._buffer=void 0;let l=this._inPos+this._buf.write(a,this._inPos,this._encoding);for(;l>=this._buf.length-4;)this._grow(this._inPos+a.length),l=this._inPos+this._buf.write(a,this._inPos,this._encoding);this._inPos=l}addStringBuf(a){a.length&&(this._buffer=void 0,this.length+a.length>this.capacity&&this._grow(this.length+a.length),a._buf.copy(this._buf,this._inPos,0,a.length),this._inPos+=a.length)}}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],26:[function(e,n,s){const{toString:i}=Object.prototype,a=/["&<>]/,l={each:function(c,o){c&&(Array.isArray(c)?c.forEach(o):Object.keys(c).forEach(u=>{o(c[u],u)}))},some:function(c,o){return!!c&&(Array.isArray(c)?c.some(o):Object.keys(c).some(u=>o(c[u],u)))},every:function(c,o){return!c||(Array.isArray(c)?c.every(o):Object.keys(c).every(u=>o(c[u],u)))},map:function(c,o){return c?Array.isArray(c)?c.map(o):Object.keys(c).map(u=>o(c[u],u)):[]},keyBy:(c,o)=>c.reduce((u,p)=>(u[p[o]]=p,u),{}),isEqual:function(c,o){const u=typeof c,p=typeof o,h=Array.isArray(c),d=Array.isArray(o);let b;if(u!==p)return!1;switch(typeof c){case"object":if(h||d)return!(!h||!d)&&c.length===o.length&&c.every((x,g)=>{const v=o[g];return l.isEqual(x,v)});if(c===null||o===null)return c===o;if(b=Object.keys(c),Object.keys(o).length!==b.length)return!1;for(const x of b)if(!o.hasOwnProperty(x))return!1;return l.every(c,(x,g)=>{const v=o[g];return l.isEqual(x,v)});default:return c===o}},escapeHtml(c){const o=a.exec(c);if(!o)return c;let u="",p="",h=0,d=o.index;for(;d<c.length;d++){switch(c.charAt(d)){case'"':p="&quot;";break;case"&":p="&amp;";break;case"'":p="&apos;";break;case"<":p="&lt;";break;case">":p="&gt;";break;default:continue}h!==d&&(u+=c.substring(h,d)),h=d+1,u+=p}return h!==d?u+c.substring(h,d):u},strcmp:(c,o)=>c<o?-1:c>o?1:0,isUndefined:c=>i.call(c)==="[object Undefined]",isObject:c=>i.call(c)==="[object Object]",deepMerge(){const c=arguments[0]||{},{length:o}=arguments;let u,p,h;function d(b,x){u=c[x],h=Array.isArray(b),l.isObject(b)||h?(h?(h=!1,p=u&&Array.isArray(u)?u:[]):p=u&&l.isObject(u)?u:{},c[x]=l.deepMerge(p,b)):l.isUndefined(b)||(c[x]=b)}for(let b=0;b<o;b++)l.each(arguments[b],d);return c}};n.exports=l},{}],27:[function(e,n,s){(function(i,a){(function(){const l=e("fs"),c=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,o={nop(){},promiseImmediate:u=>new Promise(p=>{i.setImmediate?a(()=>{p(u)}):setTimeout(()=>{p(u)},1)}),inherits:function(u,p,h,d){u.super_=p,d||(d=h,h=null),h&&Object.keys(h).forEach(x=>{Object.defineProperty(u,x,Object.getOwnPropertyDescriptor(h,x))});const b={constructor:{value:u,enumerable:!1,writable:!1,configurable:!0}};d&&Object.keys(d).forEach(x=>{b[x]=Object.getOwnPropertyDescriptor(d,x)}),u.prototype=Object.create(p.prototype,b)},dateToExcel:(u,p)=>25569+u.getTime()/864e5-(p?1462:0),excelToDate(u,p){const h=Math.round(24*(u-25569+(p?1462:0))*3600*1e3);return new Date(h)},parsePath(u){const p=u.lastIndexOf("/");return{path:u.substring(0,p),name:u.substring(p+1)}},getRelsPath(u){const p=o.parsePath(u);return`${p.path}/_rels/${p.name}.rels`},xmlEncode(u){const p=c.exec(u);if(!p)return u;let h="",d="",b=0,x=p.index;for(;x<u.length;x++){const g=u.charCodeAt(x);switch(g){case 34:d="&quot;";break;case 38:d="&amp;";break;case 39:d="&apos;";break;case 60:d="&lt;";break;case 62:d="&gt;";break;case 127:d="";break;default:if(g<=31&&(g<=8||g>=11&&g!==13)){d="";break}continue}b!==x&&(h+=u.substring(b,x)),b=x+1,d&&(h+=d)}return b!==x?h+u.substring(b,x):h},xmlDecode:u=>u.replace(/&([a-z]*);/g,p=>{switch(p){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return p}}),validInt(u){const p=parseInt(u,10);return Number.isNaN(p)?0:p},isDateFmt(u){return u?(u=(u=u.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:u=>new Promise(p=>{l.access(u,l.constants.F_OK,h=>{p(!h)})})},toIsoDateString:u=>u.toIsoString().subsstr(0,10),parseBoolean:u=>u===!0||u==="true"||u===1||u==="1"};n.exports=o}).call(this)}).call(this,typeof pr<"u"?pr:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{fs:216,timers:523}],28:[function(e,n,s){const i=e("./under-dash"),a=e("./utils");function l(u,p,h){u.push(` ${p}="${a.xmlEncode(h.toString())}"`)}function c(u,p){if(p){const h=[];i.each(p,(d,b)=>{d!==void 0&&l(h,b,d)}),u.push(h.join(""))}}class o{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(p){const h=this._xml;h.push("<?xml"),c(h,p),h.push(`?>
`)}openNode(p,h){const d=this.tos,b=this._xml;d&&this.open&&b.push(">"),this._stack.push(p),b.push("<"),b.push(p),c(b,h),this.leaf=!0,this.open=!0}addAttribute(p,h){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");h!==void 0&&l(this._xml,p,h)}addAttributes(p){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");c(this._xml,p)}writeText(p){const h=this._xml;this.open&&(h.push(">"),this.open=!1),this.leaf=!1,h.push(a.xmlEncode(p.toString()))}writeXml(p){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(p)}closeNode(){const p=this._stack.pop(),h=this._xml;this.leaf?h.push("/>"):(h.push("</"),h.push(p),h.push(">")),this.open=!1,this.leaf=!1}leafNode(p,h,d){this.openNode(p,h),d!==void 0&&this.writeText(d),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const p=this._rollbacks.pop();this._xml.length>p.xml&&this._xml.splice(p.xml,this._xml.length-p.xml),this._stack.length>p.stack&&this._stack.splice(p.stack,this._stack.length-p.stack),this.leaf=p.leaf,this.open=p.open}get xml(){return this.closeAll(),this._xml.join("")}}o.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},n.exports=o},{"./under-dash":26,"./utils":27}],29:[function(e,n,s){(function(i){(function(){const a=e("events"),l=e("jszip"),c=e("./stream-buf"),{stringToBuffer:o}=e("./browser-buffer-encode");class u extends a.EventEmitter{constructor(h){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},h),this.zip=new l,this.stream=new c}append(h,d){d.hasOwnProperty("base64")&&d.base64?this.zip.file(d.name,h,{base64:!0}):(i.browser&&typeof h=="string"&&(h=o(h)),this.zip.file(d.name,h))}async finalize(){const h=await this.zip.generateAsync(this.options);this.stream.end(h),this.emit("finish")}read(h){return this.stream.read(h)}setEncoding(h){return this.stream.setEncoding(h)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(h,d){return this.stream.pipe(h,d)}unpipe(h){return this.stream.unpipe(h)}unshift(h){return this.stream.unshift(h)}wrap(h){return this.stream.wrap(h)}}n.exports={ZipWriter:u}}).call(this)}).call(this,e("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(e,n,s){n.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},28:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy""m""d""',"zh-cn":'yyyy""m""d""',"ja-jp":'yyyy""m""d""',"ko-kr":'yyyy"" mm"" dd""'},32:{"zh-tw":'hh""mm""',"zh-cn":'h""mm""',"ja-jp":'h""mm""',"ko-kr":'h"" mm""'},33:{"zh-tw":'hh""mm""ss""',"zh-cn":'h""mm""ss""',"ja-jp":'h""mm""ss""',"ko-kr":'h"" mm"" ss""'},34:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},51:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},52:{"zh-tw":'/ hh""mm""',"zh-cn":'yyyy""m""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'m""d""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},55:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},58:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(e,n,s){n.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(e,n,s){const i=e("../../utils/parse-sax"),a=e("../../utils/xml-stream");class l{prepare(){}render(){}parseOpen(o){}parseText(o){}parseClose(o){}reconcile(o,u){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(o=>{o instanceof l?o.reset():o.xform&&o.xform.reset()})}mergeModel(o){this.model=Object.assign(this.model||{},o)}async parse(o){for await(const u of o)for(const{eventType:p,value:h}of u)if(p==="opentag")this.parseOpen(h);else if(p==="text")this.parseText(h);else if(p==="closetag"&&!this.parseClose(h.name))return this.model;return this.model}async parseStream(o){return this.parse(i(o))}get xml(){return this.toXml(this.model)}toXml(o){const u=new a;return this.render(u,o),u.xml}static toAttribute(o,u){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(o===void 0){if(p)return u}else if(p||o!==u)return o.toString()}static toStringAttribute(o,u){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return l.toAttribute(o,u,p)}static toStringValue(o,u){return o===void 0?u:o}static toBoolAttribute(o,u){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(o===void 0){if(p)return u}else if(p||o!==u)return o?"1":"0"}static toBoolValue(o,u){return o===void 0?u:o==="1"}static toIntAttribute(o,u){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return l.toAttribute(o,u,p)}static toIntValue(o,u){return o===void 0?u:parseInt(o,10)}static toFloatAttribute(o,u){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return l.toAttribute(o,u,p)}static toFloatValue(o,u){return o===void 0?u:parseFloat(o)}}n.exports=l},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(e,n,s){const i=e("../base-xform"),a=e("../../../utils/col-cache");function l(o){try{return a.decodeEx(o),!0}catch{return!1}}function c(o){const u=[];let p=!1,h="";return o.split(",").forEach(d=>{if(!d)return;const b=(d.match(/'/g)||[]).length;if(!b)return void(p?h+=d+",":l(d)&&u.push(d));const x=b%2==0;!p&&x&&l(d)?u.push(d):p&&!x?(p=!1,l(h+d)&&u.push(h+d),h=""):(p=!0,h+=d+",")}),u}n.exports=class extends i{render(o,u){o.openNode("definedName",{name:u.name,localSheetId:u.localSheetId}),o.writeText(u.ranges.join(",")),o.closeNode()}parseOpen(o){switch(o.name){case"definedName":return this._parsedName=o.attributes.name,this._parsedLocalSheetId=o.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(o){this._parsedText.push(o)}parseClose(){return this.model={name:this._parsedName,ranges:c(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(e,n,s){const i=e("../../../utils/utils"),a=e("../base-xform");n.exports=class extends a{render(l,c){l.leafNode("sheet",{sheetId:c.id,name:c.name,state:c.state,"r:id":c.rId})}parseOpen(l){return l.name==="sheet"&&(this.model={name:i.xmlDecode(l.attributes.name),id:parseInt(l.attributes.sheetId,10),state:l.attributes.state,rId:l.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{render(a,l){a.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:l.fullCalcOnLoad?1:void 0})}parseOpen(a){return a.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{render(a,l){a.leafNode("workbookPr",{date1904:l.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(a){return a.name==="workbookPr"&&(this.model={date1904:a.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{render(a,l){const c={xWindow:l.x||0,yWindow:l.y||0,windowWidth:l.width||12e3,windowHeight:l.height||24e3,firstSheet:l.firstSheet,activeTab:l.activeTab};l.visibility&&l.visibility!=="visible"&&(c.visibility=l.visibility),a.leafNode("workbookView",c)}parseOpen(a){if(a.name==="workbookView"){const l=this.model={},c=function(u,p,h){const d=p!==void 0?l[u]=p:h;d!==void 0&&(l[u]=d)},o=function(u,p,h){const d=p!==void 0?l[u]=parseInt(p,10):h;d!==void 0&&(l[u]=d)};return o("x",a.attributes.xWindow,0),o("y",a.attributes.yWindow,0),o("width",a.attributes.windowWidth,25e3),o("height",a.attributes.windowHeight,1e4),c("visibility",a.attributes.visibility,"visible"),o("activeTab",a.attributes.activeTab,void 0),o("firstSheet",a.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(e,n,s){const i=e("../../../utils/under-dash"),a=e("../../../utils/col-cache"),l=e("../../../utils/xml-stream"),c=e("../base-xform"),o=e("../static-xform"),u=e("../list-xform"),p=e("./defined-name-xform"),h=e("./sheet-xform"),d=e("./workbook-view-xform"),b=e("./workbook-properties-xform"),x=e("./workbook-calc-properties-xform");class g extends c{constructor(){super(),this.map={fileVersion:g.STATIC_XFORMS.fileVersion,workbookPr:new b,bookViews:new u({tag:"bookViews",count:!1,childXform:new d}),sheets:new u({tag:"sheets",count:!1,childXform:new h}),definedNames:new u({tag:"definedNames",count:!1,childXform:new p}),calcPr:new x}}prepare(y){y.sheets=y.worksheets;const k=[];let R=0;y.sheets.forEach(z=>{if(z.pageSetup&&z.pageSetup.printArea&&z.pageSetup.printArea.split("&&").forEach(q=>{const B=q.split(":"),I={name:"_xlnm.Print_Area",ranges:[`'${z.name}'!$${B[0]}:$${B[1]}`],localSheetId:R};k.push(I)}),z.pageSetup&&(z.pageSetup.printTitlesRow||z.pageSetup.printTitlesColumn)){const q=[];if(z.pageSetup.printTitlesColumn){const I=z.pageSetup.printTitlesColumn.split(":");q.push(`'${z.name}'!$${I[0]}:$${I[1]}`)}if(z.pageSetup.printTitlesRow){const I=z.pageSetup.printTitlesRow.split(":");q.push(`'${z.name}'!$${I[0]}:$${I[1]}`)}const B={name:"_xlnm.Print_Titles",ranges:q,localSheetId:R};k.push(B)}R++}),k.length&&(y.definedNames=y.definedNames.concat(k)),(y.media||[]).forEach((z,q)=>{z.name=z.type+(q+1)})}render(y,k){y.openXml(l.StdDocAttributes),y.openNode("workbook",g.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(y),this.map.workbookPr.render(y,k.properties),this.map.bookViews.render(y,k.views),this.map.sheets.render(y,k.sheets),this.map.definedNames.render(y,k.definedNames),this.map.calcPr.render(y,k.calcProperties),y.closeNode()}parseOpen(y){if(this.parser)return this.parser.parseOpen(y),!0;switch(y.name){case"workbook":return!0;default:return this.parser=this.map[y.name],this.parser&&this.parser.parseOpen(y),!0}}parseText(y){this.parser&&this.parser.parseText(y)}parseClose(y){if(this.parser)return this.parser.parseClose(y)||(this.parser=void 0),!0;switch(y){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(y){const k=(y.workbookRels||[]).reduce((I,O)=>(I[O.Id]=O,I),{}),R=[];let z,q=0;(y.sheets||[]).forEach(I=>{const O=k[I.rId];O&&(z=y.worksheetHash["xl/"+O.Target.replace(/^(\s|\/xl\/)+/,"")],z&&(z.name=I.name,z.id=I.id,z.state=I.state,R[q++]=z))});const B=[];i.each(y.definedNames,I=>{if(I.name==="_xlnm.Print_Area"){if(z=R[I.localSheetId],z){z.pageSetup||(z.pageSetup={});const O=a.decodeEx(I.ranges[0]);z.pageSetup.printArea=z.pageSetup.printArea?`${z.pageSetup.printArea}&&${O.dimensions}`:O.dimensions}}else if(I.name==="_xlnm.Print_Titles"){if(z=R[I.localSheetId],z){z.pageSetup||(z.pageSetup={});const O=I.ranges.join(","),F=/\$/g,W=/\$\d+:\$\d+/,V=O.match(W);if(V&&V.length){const C=V[0];z.pageSetup.printTitlesRow=C.replace(F,"")}const N=/\$[A-Z]+:\$[A-Z]+/,P=O.match(N);if(P&&P.length){const C=P[0];z.pageSetup.printTitlesColumn=C.replace(F,"")}}}else B.push(I)}),y.definedNames=B,y.media.forEach((I,O)=>{I.index=O})}}g.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},g.STATIC_XFORMS={fileVersion:new o({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},n.exports=g},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(e,n,s){const i=e("../strings/rich-text-xform"),a=e("../../../utils/utils"),l=e("../base-xform"),c=n.exports=function(o){this.model=o};a.inherits(c,l,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new i),this._richTextXform},render(o,u){u=u||this.model,o.openNode("comment",{ref:u.ref,authorId:0}),o.openNode("text"),u&&u.note&&u.note.texts&&u.note.texts.forEach(p=>{this.richTextXform.render(o,p)}),o.closeNode(),o.closeNode()},parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"comment":return this.model={type:"note",note:{texts:[]},...o.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(o),!0;default:return!1}},parseText(o){this.parser&&this.parser.parseText(o)},parseClose(o){switch(o){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(o),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(e,n,s){const i=e("../../../utils/xml-stream"),a=e("../../../utils/utils"),l=e("../base-xform"),c=e("./comment-xform"),o=n.exports=function(){this.map={comment:new c}};a.inherits(o,l,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(u,p){p=p||this.model,u.openXml(i.StdDocAttributes),u.openNode("comments",o.COMMENTS_ATTRIBUTES),u.openNode("authors"),u.leafNode("author",null,"Author"),u.closeNode(),u.openNode("commentList"),p.comments.forEach(h=>{this.map.comment.render(u,h)}),u.closeNode(),u.closeNode()},parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(u),!0;default:return!1}},parseText(u){this.parser&&this.parser.parseText(u)},parseClose(u){switch(u){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(u),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(e,n,s){const i=e("../../base-xform");n.exports=class extends i{constructor(a){super(),this._model=a}get tag(){return this._model&&this._model.tag}render(a,l,c){(l===c[2]||this.tag==="x:SizeWithCells"&&l===c[1])&&a.leafNode(this.tag)}parseOpen(a){switch(a.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(e,n,s){const i=e("../../base-xform");n.exports=class extends i{constructor(a){super(),this._model=a}get tag(){return this._model&&this._model.tag}render(a,l){a.leafNode(this.tag,null,l)}parseOpen(a){switch(a.name){case this.tag:return this.text="",!0;default:return!1}}parseText(a){this.text=a}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"x:Anchor"}getAnchorRect(a){const l=Math.floor(a.left),c=Math.floor(68*(a.left-l)),o=Math.floor(a.top),u=Math.floor(18*(a.top-o)),p=Math.floor(a.right),h=Math.floor(68*(a.right-p)),d=Math.floor(a.bottom);return[l,c,o,u,p,h,d,Math.floor(18*(a.bottom-d))]}getDefaultRect(a){const l=a.col,c=Math.max(a.row-2,0);return[l,6,c,14,l+2,2,c+4,16]}render(a,l){const c=l.anchor?this.getAnchorRect(l.anchor):this.getDefaultRect(l.refAddress);a.leafNode("x:Anchor",null,c.join(", "))}parseOpen(a){switch(a.name){case this.tag:return this.text="",!0;default:return!1}}parseText(a){this.text=a}parseClose(){return!1}}},{"../base-xform":32}],44:[function(e,n,s){const i=e("../base-xform"),a=e("./vml-anchor-xform"),l=e("./style/vml-protection-xform"),c=e("./style/vml-position-xform"),o=["twoCells","oneCells","absolute"];n.exports=class extends i{constructor(){super(),this.map={"x:Anchor":new a,"x:Locked":new l({tag:"x:Locked"}),"x:LockText":new l({tag:"x:LockText"}),"x:SizeWithCells":new c({tag:"x:SizeWithCells"}),"x:MoveWithCells":new c({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(u,p){const{protection:h,editAs:d}=p.note;u.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(u,d,o),this.map["x:SizeWithCells"].render(u,d,o),this.map["x:Anchor"].render(u,p),this.map["x:Locked"].render(u,h.locked),u.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(u,h.lockText),u.leafNode("x:Row",null,p.refAddress.row-1),u.leafNode("x:Column",null,p.refAddress.col-1),u.closeNode()}parseOpen(u){switch(u.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){const u=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),p=Object.keys(u).length;this.model.editAs=o[p],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(e,n,s){const i=e("../../../utils/xml-stream"),a=e("../base-xform"),l=e("./vml-shape-xform");class c extends a{constructor(){super(),this.map={"v:shape":new l}}get tag(){return"xml"}render(u,p){u.openXml(i.StdDocAttributes),u.openNode(this.tag,c.DRAWING_ATTRIBUTES),u.openNode("o:shapelayout",{"v:ext":"edit"}),u.leafNode("o:idmap",{"v:ext":"edit",data:1}),u.closeNode(),u.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),u.leafNode("v:stroke",{joinstyle:"miter"}),u.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),u.closeNode(),p.comments.forEach((h,d)=>{this.map["v:shape"].render(u,h,d)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(u){case this.tag:return!1;default:return!0}}reconcile(u,p){u.anchors.forEach(h=>{h.br?this.map["xdr:twoCellAnchor"].reconcile(h,p):this.map["xdr:oneCellAnchor"].reconcile(h,p)})}}c.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},n.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(e,n,s){const i=e("../base-xform"),a=e("./vml-textbox-xform"),l=e("./vml-client-data-xform");class c extends i{constructor(){super(),this.map={"v:textbox":new a,"x:ClientData":new l}}get tag(){return"v:shape"}render(u,p,h){u.openNode("v:shape",c.V_SHAPE_ATTRIBUTES(p,h)),u.leafNode("v:fill",{color2:"infoBackground [80]"}),u.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),u.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(u,p),this.map["x:ClientData"].render(u,p),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset(),this.model={margins:{insetmode:u.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}c.V_SHAPE_ATTRIBUTES=(o,u)=>({id:"_x0000_s"+(1025+u),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":o.note.margins&&o.note.margins.insetmode}),n.exports=c},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"v:textbox"}conversionUnit(a,l,c){return`${parseFloat(a)*l.toFixed(2)}${c}`}reverseConversionUnit(a){return(a||"").split(",").map(l=>Number(parseFloat(this.conversionUnit(parseFloat(l),.1,"")).toFixed(2)))}render(a,l){const c={style:"mso-direction-alt:auto"};if(l&&l.note){let{inset:o}=l.note&&l.note.margins;Array.isArray(o)&&(o=o.map(u=>this.conversionUnit(u,10,"mm")).join(",")),o&&(c.inset=o)}a.openNode("v:textbox",c),a.leafNode("div",{style:"text-align:left"}),a.closeNode()}parseOpen(a){switch(a.name){case this.tag:return this.model={inset:this.reverseConversionUnit(a.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(a){switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(e,n,s){const i=e("./base-xform");n.exports=class extends i{createNewModel(a){return{}}parseOpen(a){return this.parser=this.parser||this.map[a.name],this.parser?(this.parser.parseOpen(a),!0):a.name===this.tag&&(this.model=this.createNewModel(a),!0)}parseText(a){this.parser&&this.parser.parseText(a)}onParserClose(a,l){this.model[a]=l.model}parseClose(a){return this.parser?(this.parser.parseClose(a)||(this.onParserClose(a,this.parser),this.parser=void 0),!0):a!==this.tag}}},{"./base-xform":32}],49:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{render(a,l){a.openNode("HeadingPairs"),a.openNode("vt:vector",{size:2,baseType:"variant"}),a.openNode("vt:variant"),a.leafNode("vt:lpstr",void 0,"Worksheets"),a.closeNode(),a.openNode("vt:variant"),a.leafNode("vt:i4",void 0,l.length),a.closeNode(),a.closeNode(),a.closeNode()}parseOpen(a){return a.name==="HeadingPairs"}parseText(){}parseClose(a){return a!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{render(a,l){a.openNode("TitlesOfParts"),a.openNode("vt:vector",{size:l.length,baseType:"lpstr"}),l.forEach(c=>{a.leafNode("vt:lpstr",void 0,c.name)}),a.closeNode(),a.closeNode()}parseOpen(a){return a.name==="TitlesOfParts"}parseText(){}parseClose(a){return a!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(e,n,s){const i=e("../../../utils/xml-stream"),a=e("../base-xform"),l=e("../simple/string-xform"),c=e("./app-heading-pairs-xform"),o=e("./app-titles-of-parts-xform");class u extends a{constructor(){super(),this.map={Company:new l({tag:"Company"}),Manager:new l({tag:"Manager"}),HeadingPairs:new c,TitleOfParts:new o}}render(h,d){h.openXml(i.StdDocAttributes),h.openNode("Properties",u.PROPERTY_ATTRIBUTES),h.leafNode("Application",void 0,"Microsoft Excel"),h.leafNode("DocSecurity",void 0,"0"),h.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(h,d.worksheets),this.map.TitleOfParts.render(h,d.worksheets),this.map.Company.render(h,d.company||""),this.map.Manager.render(h,d.manager),h.leafNode("LinksUpToDate",void 0,"false"),h.leafNode("SharedDoc",void 0,"false"),h.leafNode("HyperlinksChanged",void 0,"false"),h.leafNode("AppVersion",void 0,"16.0300"),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"Properties":return!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}u.DateFormat=function(p){return p.toISOString().replace(/[.]\d{3,6}/,"")},u.DateAttrs={"xsi:type":"dcterms:W3CDTF"},u.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},n.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(e,n,s){const i=e("../../../utils/xml-stream"),a=e("../base-xform");class l extends a{render(o,u){o.openXml(i.StdDocAttributes),o.openNode("Types",l.PROPERTY_ATTRIBUTES);const p={};(u.media||[]).forEach(h=>{if(h.type==="image"){const d=h.extension;p[d]||(p[d]=!0,o.leafNode("Default",{Extension:d,ContentType:"image/"+d}))}}),o.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),o.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),o.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),u.worksheets.forEach(h=>{const d=`/xl/worksheets/sheet${h.id}.xml`;o.leafNode("Override",{PartName:d,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),o.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),o.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),u.sharedStrings&&u.sharedStrings.count&&o.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),u.tables&&u.tables.forEach(h=>{o.leafNode("Override",{PartName:"/xl/tables/"+h.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),u.drawings&&u.drawings.forEach(h=>{o.leafNode("Override",{PartName:`/xl/drawings/${h.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),u.commentRefs&&(o.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),u.commentRefs.forEach(h=>{let{commentName:d}=h;o.leafNode("Override",{PartName:`/xl/${d}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),o.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),o.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),o.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}l.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},n.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(e,n,s){const i=e("../../../utils/xml-stream"),a=e("../base-xform"),l=e("../simple/date-xform"),c=e("../simple/string-xform"),o=e("../simple/integer-xform");class u extends a{constructor(){super(),this.map={"dc:creator":new c({tag:"dc:creator"}),"dc:title":new c({tag:"dc:title"}),"dc:subject":new c({tag:"dc:subject"}),"dc:description":new c({tag:"dc:description"}),"dc:identifier":new c({tag:"dc:identifier"}),"dc:language":new c({tag:"dc:language"}),"cp:keywords":new c({tag:"cp:keywords"}),"cp:category":new c({tag:"cp:category"}),"cp:lastModifiedBy":new c({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new l({tag:"cp:lastPrinted",format:u.DateFormat}),"cp:revision":new o({tag:"cp:revision"}),"cp:version":new c({tag:"cp:version"}),"cp:contentStatus":new c({tag:"cp:contentStatus"}),"cp:contentType":new c({tag:"cp:contentType"}),"dcterms:created":new l({tag:"dcterms:created",attrs:u.DateAttrs,format:u.DateFormat}),"dcterms:modified":new l({tag:"dcterms:modified",attrs:u.DateAttrs,format:u.DateFormat})}}render(h,d){h.openXml(i.StdDocAttributes),h.openNode("cp:coreProperties",u.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(h,d.creator),this.map["dc:title"].render(h,d.title),this.map["dc:subject"].render(h,d.subject),this.map["dc:description"].render(h,d.description),this.map["dc:identifier"].render(h,d.identifier),this.map["dc:language"].render(h,d.language),this.map["cp:keywords"].render(h,d.keywords),this.map["cp:category"].render(h,d.category),this.map["cp:lastModifiedBy"].render(h,d.lastModifiedBy),this.map["cp:lastPrinted"].render(h,d.lastPrinted),this.map["cp:revision"].render(h,d.revision),this.map["cp:version"].render(h,d.version),this.map["cp:contentStatus"].render(h,d.contentStatus),this.map["cp:contentType"].render(h,d.contentType),this.map["dcterms:created"].render(h,d.created),this.map["dcterms:modified"].render(h,d.modified),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[h.name],this.parser)return this.parser.parseOpen(h),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(h))}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+h)}}}u.DateFormat=function(p){return p.toISOString().replace(/[.]\d{3}/,"")},u.DateAttrs={"xsi:type":"dcterms:W3CDTF"},u.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},n.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{render(a,l){a.leafNode("Relationship",l)}parseOpen(a){switch(a.name){case"Relationship":return this.model=a.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(e,n,s){const i=e("../../../utils/xml-stream"),a=e("../base-xform"),l=e("./relationship-xform");class c extends a{constructor(){super(),this.map={Relationship:new l}}render(u,p){p=p||this._values,u.openXml(i.StdDocAttributes),u.openNode("Relationships",c.RELATIONSHIPS_ATTRIBUTES),p.forEach(h=>{this.map.Relationship.render(u,h)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[u.name],this.parser)return this.parser.parseOpen(u),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(u))}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(u){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+u)}}}c.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},n.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:this.reset(),this.model={range:{editAs:a.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[a.name],this.parser&&this.parser.parseOpen(a)}return!0}parseText(a){this.parser&&this.parser.parseText(a)}reconcilePicture(a,l){if(a&&a.rId){const c=l.rels[a.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(c){const o=c[1],u=l.mediaIndex[o];return l.media[u]}}}}},{"../base-xform":32}],57:[function(e,n,s){const i=e("../base-xform"),a=e("./blip-xform");n.exports=class extends i{constructor(){super(),this.map={"a:blip":new a}}get tag(){return"xdr:blipFill"}render(l,c){l.openNode(this.tag),this.map["a:blip"].render(l,c),l.openNode("a:stretch"),l.leafNode("a:fillRect"),l.closeNode(),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"a:blip"}render(a,l){a.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":l.rId,cstate:"print"})}parseOpen(a){switch(a.name){case this.tag:return this.model={rId:a.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(a){switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"xdr:cNvPicPr"}render(a){a.openNode(this.tag),a.leafNode("a:picLocks",{noChangeAspect:"1"}),a.closeNode()}parseOpen(a){switch(a.name){case this.tag:default:return!0}}parseText(){}parseClose(a){switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(e,n,s){const i=e("../base-xform"),a=e("./hlink-click-xform"),l=e("./ext-lst-xform");n.exports=class extends i{constructor(){super(),this.map={"a:hlinkClick":new a,"a:extLst":new l}}get tag(){return"xdr:cNvPr"}render(c,o){c.openNode(this.tag,{id:o.index,name:"Picture "+o.index}),this.map["a:hlinkClick"].render(c,o),this.map["a:extLst"].render(c,o),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset();break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(){}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(e,n,s){const i=e("../base-xform"),a=e("../simple/integer-xform");n.exports=class extends i{constructor(l){super(),this.tag=l.tag,this.map={"xdr:col":new a({tag:"xdr:col",zero:!0}),"xdr:colOff":new a({tag:"xdr:colOff",zero:!0}),"xdr:row":new a({tag:"xdr:row",zero:!0}),"xdr:rowOff":new a({tag:"xdr:rowOff",zero:!0})}}render(l,c){l.openNode(this.tag),this.map["xdr:col"].render(l,c.nativeCol),this.map["xdr:colOff"].render(l,c.nativeColOff),this.map["xdr:row"].render(l,c.nativeRow),this.map["xdr:rowOff"].render(l,c.nativeRowOff),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(e,n,s){const i=e("../../../utils/col-cache"),a=e("../../../utils/xml-stream"),l=e("../base-xform"),c=e("./two-cell-anchor-xform"),o=e("./one-cell-anchor-xform");class u extends l{constructor(){super(),this.map={"xdr:twoCellAnchor":new c,"xdr:oneCellAnchor":new o}}prepare(h){h.anchors.forEach((d,b)=>{d.anchorType=(function(x){return(typeof x.range=="string"?i.decode(x.range):x.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"})(d),this.map[d.anchorType].prepare(d,{index:b})})}get tag(){return"xdr:wsDr"}render(h,d){h.openXml(a.StdDocAttributes),h.openNode(this.tag,u.DRAWING_ATTRIBUTES),d.anchors.forEach(b=>{this.map[b.anchorType].render(h,b)}),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h)}return!0}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(h){case this.tag:return!1;default:return!0}}reconcile(h,d){h.anchors.forEach(b=>{b.br?this.map["xdr:twoCellAnchor"].reconcile(b,d):this.map["xdr:oneCellAnchor"].reconcile(b,d)})}}u.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},n.exports=u},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"a:extLst"}render(a){a.openNode(this.tag),a.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),a.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),a.closeNode(),a.closeNode()}parseOpen(a){switch(a.name){case this.tag:default:return!0}}parseText(){}parseClose(a){switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{constructor(a){super(),this.tag=a.tag,this.map={}}render(a,l){a.openNode(this.tag);const c=Math.floor(9525*l.width),o=Math.floor(9525*l.height);a.addAttribute("cx",c),a.addAttribute("cy",o),a.closeNode()}parseOpen(a){return a.name===this.tag&&(this.model={width:parseInt(a.attributes.cx||"0",10)/9525,height:parseInt(a.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"a:hlinkClick"}render(a,l){l.hyperlinks&&l.hyperlinks.rId&&a.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":l.hyperlinks.rId,tooltip:l.hyperlinks.tooltip})}parseOpen(a){switch(a.name){case this.tag:return this.model={hyperlinks:{rId:a.attributes["r:id"],tooltip:a.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(e,n,s){const i=e("../base-xform"),a=e("./c-nv-pr-xform"),l=e("./c-nv-pic-pr-xform");n.exports=class extends i{constructor(){super(),this.map={"xdr:cNvPr":new a,"xdr:cNvPicPr":new l}}get tag(){return"xdr:nvPicPr"}render(c,o){c.openNode(this.tag),this.map["xdr:cNvPr"].render(c,o),this.map["xdr:cNvPicPr"].render(c,o),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset();break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(){}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(e,n,s){const i=e("./base-cell-anchor-xform"),a=e("../static-xform"),l=e("./cell-position-xform"),c=e("./ext-xform"),o=e("./pic-xform");n.exports=class extends i{constructor(){super(),this.map={"xdr:from":new l({tag:"xdr:from"}),"xdr:ext":new c({tag:"xdr:ext"}),"xdr:pic":new o,"xdr:clientData":new a({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(u,p){this.map["xdr:pic"].prepare(u.picture,p)}render(u,p){u.openNode(this.tag,{editAs:p.range.editAs||"oneCell"}),this.map["xdr:from"].render(u,p.range.tl),this.map["xdr:ext"].render(u,p.range.ext),this.map["xdr:pic"].render(u,p.picture),this.map["xdr:clientData"].render(u,{}),u.closeNode()}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(u,p){u.medium=this.reconcilePicture(u.picture,p)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(e,n,s){const i=e("../base-xform"),a=e("../static-xform"),l=e("./blip-fill-xform"),c=e("./nv-pic-pr-xform"),o=e("./sp-pr");n.exports=class extends i{constructor(){super(),this.map={"xdr:nvPicPr":new c,"xdr:blipFill":new l,"xdr:spPr":new a(o)}}get tag(){return"xdr:pic"}prepare(u,p){u.index=p.index+1}render(u,p){u.openNode(this.tag),this.map["xdr:nvPicPr"].render(u,p),this.map["xdr:blipFill"].render(u,p),this.map["xdr:spPr"].render(u,p),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset();break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(){}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(u){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(e,n,s){n.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(e,n,s){const i=e("./base-cell-anchor-xform"),a=e("../static-xform"),l=e("./cell-position-xform"),c=e("./pic-xform");n.exports=class extends i{constructor(){super(),this.map={"xdr:from":new l({tag:"xdr:from"}),"xdr:to":new l({tag:"xdr:to"}),"xdr:pic":new c,"xdr:clientData":new a({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(o,u){this.map["xdr:pic"].prepare(o.picture,u)}render(o,u){o.openNode(this.tag,{editAs:u.range.editAs||"oneCell"}),this.map["xdr:from"].render(o,u.range.tl),this.map["xdr:to"].render(o,u.range.br),this.map["xdr:pic"].render(o,u.picture),this.map["xdr:clientData"].render(o,{}),o.closeNode()}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(o,u){o.medium=this.reconcilePicture(o.picture,u)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(e,n,s){const i=e("./base-xform");n.exports=class extends i{constructor(a){super(),this.tag=a.tag,this.always=!!a.always,this.count=a.count,this.empty=a.empty,this.$count=a.$count||"count",this.$=a.$,this.childXform=a.childXform,this.maxItems=a.maxItems}prepare(a,l){const{childXform:c}=this;a&&a.forEach((o,u)=>{l.index=u,c.prepare(o,l)})}render(a,l){if(this.always||l&&l.length){a.openNode(this.tag,this.$),this.count&&a.addAttribute(this.$count,l&&l.length||0);const{childXform:c}=this;(l||[]).forEach((o,u)=>{c.render(a,o,u)}),a.closeNode()}else this.empty&&a.leafNode(this.tag)}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(a)&&(this.parser=this.childXform,!0)}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser){if(!this.parser.parseClose(a)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(a,l){if(a){const{childXform:c}=this;a.forEach(o=>{c.reconcile(o,l)})}}}},{"./base-xform":32}],72:[function(e,n,s){const i=e("../../../utils/col-cache"),a=e("../base-xform");n.exports=class extends a{get tag(){return"autoFilter"}render(l,c){if(c)if(typeof c=="string")l.leafNode("autoFilter",{ref:c});else{const o=function(h){return typeof h=="string"?h:i.getAddress(h.row,h.column).address},u=o(c.from),p=o(c.to);u&&p&&l.leafNode("autoFilter",{ref:`${u}:${p}`})}}parseOpen(l){l.name==="autoFilter"&&(this.model=l.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(e,n,s){const i=e("../../../utils/utils"),a=e("../base-xform"),l=e("../../../doc/range"),c=e("../../../doc/enums"),o=e("../strings/rich-text-xform");function u(p){if(p==null)return c.ValueType.Null;if(p instanceof String||typeof p=="string")return c.ValueType.String;if(typeof p=="number")return c.ValueType.Number;if(typeof p=="boolean")return c.ValueType.Boolean;if(p instanceof Date)return c.ValueType.Date;if(p.text&&p.hyperlink)return c.ValueType.Hyperlink;if(p.formula)return c.ValueType.Formula;if(p.error)return c.ValueType.Error;throw new Error("I could not understand type of value")}n.exports=class extends a{constructor(){super(),this.richTextXForm=new o}get tag(){return"c"}prepare(p,h){const d=h.styles.addStyleModel(p.style||{},(function(b){switch(b.type){case c.ValueType.Formula:return u(b.result);default:return b.type}})(p));switch(d&&(p.styleId=d),p.comment&&h.comments.push({...p.comment,ref:p.address}),p.type){case c.ValueType.String:case c.ValueType.RichText:h.sharedStrings&&(p.ssId=h.sharedStrings.add(p.value));break;case c.ValueType.Date:h.date1904&&(p.date1904=!0);break;case c.ValueType.Hyperlink:h.sharedStrings&&p.text!==void 0&&p.text!==null&&(p.ssId=h.sharedStrings.add(p.text)),h.hyperlinks.push({address:p.address,target:p.hyperlink,tooltip:p.tooltip});break;case c.ValueType.Merge:h.merges.add(p);break;case c.ValueType.Formula:if(h.date1904&&(p.date1904=!0),p.shareType==="shared"&&(p.si=h.siFormulae++),p.formula)h.formulae[p.address]=p;else if(p.sharedFormula){const b=h.formulae[p.sharedFormula];if(!b)throw new Error("Shared Formula master must exist above and or left of clone for cell "+p.address);b.si===void 0?(b.shareType="shared",b.si=h.siFormulae++,b.range=new l(b.address,p.address)):b.range&&b.range.expandToAddress(p.address),p.si=b.si}}}renderFormula(p,h){let d=null;switch(h.shareType){case"shared":d={t:"shared",ref:h.ref||h.range.range,si:h.si};break;case"array":d={t:"array",ref:h.ref};break;default:h.si!==void 0&&(d={t:"shared",si:h.si})}switch(u(h.result)){case c.ValueType.Null:p.leafNode("f",d,h.formula);break;case c.ValueType.String:p.addAttribute("t","str"),p.leafNode("f",d,h.formula),p.leafNode("v",null,h.result);break;case c.ValueType.Number:p.leafNode("f",d,h.formula),p.leafNode("v",null,h.result);break;case c.ValueType.Boolean:p.addAttribute("t","b"),p.leafNode("f",d,h.formula),p.leafNode("v",null,h.result?1:0);break;case c.ValueType.Error:p.addAttribute("t","e"),p.leafNode("f",d,h.formula),p.leafNode("v",null,h.result.error);break;case c.ValueType.Date:p.leafNode("f",d,h.formula),p.leafNode("v",null,i.dateToExcel(h.result,h.date1904));break;default:throw new Error("I could not understand type of value")}}render(p,h){if(h.type!==c.ValueType.Null||h.styleId){switch(p.openNode("c"),p.addAttribute("r",h.address),h.styleId&&p.addAttribute("s",h.styleId),h.type){case c.ValueType.Null:break;case c.ValueType.Number:p.leafNode("v",null,h.value);break;case c.ValueType.Boolean:p.addAttribute("t","b"),p.leafNode("v",null,h.value?"1":"0");break;case c.ValueType.Error:p.addAttribute("t","e"),p.leafNode("v",null,h.value.error);break;case c.ValueType.String:case c.ValueType.RichText:h.ssId!==void 0?(p.addAttribute("t","s"),p.leafNode("v",null,h.ssId)):h.value&&h.value.richText?(p.addAttribute("t","inlineStr"),p.openNode("is"),h.value.richText.forEach(d=>{this.richTextXForm.render(p,d)}),p.closeNode("is")):(p.addAttribute("t","str"),p.leafNode("v",null,h.value));break;case c.ValueType.Date:p.leafNode("v",null,i.dateToExcel(h.value,h.date1904));break;case c.ValueType.Hyperlink:h.ssId!==void 0?(p.addAttribute("t","s"),p.leafNode("v",null,h.ssId)):(p.addAttribute("t","str"),p.leafNode("v",null,h.text));break;case c.ValueType.Formula:this.renderFormula(p,h);break;case c.ValueType.Merge:}p.closeNode()}}parseOpen(p){if(this.parser)return this.parser.parseOpen(p),!0;switch(p.name){case"c":return this.model={address:p.attributes.r},this.t=p.attributes.t,p.attributes.s&&(this.model.styleId=parseInt(p.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=p.attributes.si,this.model.shareType=p.attributes.t,this.model.ref=p.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(p),!0;default:return!1}}parseText(p){if(this.parser)this.parser.parseText(p);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+p:p;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+p:p:this.model.value=this.model.value?this.model.value+p:p}}parseClose(p){switch(p){case"c":{const{model:h}=this;if(h.formula||h.shareType)h.type=c.ValueType.Formula,h.value&&(this.t==="str"?h.result=i.xmlDecode(h.value):this.t==="b"?h.result=parseInt(h.value,10)!==0:this.t==="e"?h.result={error:h.value}:h.result=parseFloat(h.value),h.value=void 0);else if(h.value!==void 0)switch(this.t){case"s":h.type=c.ValueType.String,h.value=parseInt(h.value,10);break;case"str":h.type=c.ValueType.String,h.value=i.xmlDecode(h.value);break;case"inlineStr":h.type=c.ValueType.String;break;case"b":h.type=c.ValueType.Boolean,h.value=parseInt(h.value,10)!==0;break;case"e":h.type=c.ValueType.Error,h.value={error:h.value};break;default:h.type=c.ValueType.Number,h.value=parseFloat(h.value)}else h.styleId?h.type=c.ValueType.Null:h.type=c.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(p),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(p),!0)}}reconcile(p,h){const d=p.styleId&&h.styles&&h.styles.getStyleModel(p.styleId);switch(d&&(p.style=d),p.styleId!==void 0&&(p.styleId=void 0),p.type){case c.ValueType.String:typeof p.value=="number"&&h.sharedStrings&&(p.value=h.sharedStrings.getString(p.value)),p.value.richText&&(p.type=c.ValueType.RichText);break;case c.ValueType.Number:d&&i.isDateFmt(d.numFmt)&&(p.type=c.ValueType.Date,p.value=i.excelToDate(p.value,h.date1904));break;case c.ValueType.Formula:p.result!==void 0&&d&&i.isDateFmt(d.numFmt)&&(p.result=i.excelToDate(p.result,h.date1904)),p.shareType==="shared"&&(p.ref?h.formulae[p.si]=p.address:(p.sharedFormula=h.formulae[p.si],delete p.shareType),delete p.si)}const b=h.hyperlinkMap[p.address];b&&(p.type===c.ValueType.Formula?(p.text=p.result,p.result=void 0):(p.text=p.value,p.value=void 0),p.type=c.ValueType.Hyperlink,p.hyperlink=b);const x=h.commentsMap&&h.commentsMap[p.address];x&&(p.comment=x)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(e,n,s){const i=e("../../base-xform");n.exports=class extends i{get tag(){return"x14:cfIcon"}render(a,l){a.leafNode(this.tag,{iconSet:l.iconSet,iconId:l.iconId})}parseOpen(a){let{attributes:l}=a;this.model={iconSet:l.iconSet,iconId:i.toIntValue(l.iconId)}}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],75:[function(e,n,s){const{v4:i}=e("uuid"),a=e("../../base-xform"),l=e("../../composite-xform"),c=e("./databar-ext-xform"),o=e("./icon-set-ext-xform"),u={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class p extends l{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new c,"x14:iconSet":this.iconSetXform=new o}}get tag(){return"x14:cfRule"}static isExt(d){return d.type==="dataBar"?c.isExt(d):!(d.type!=="iconSet"||!d.custom&&!u[d.iconSet])}prepare(d){p.isExt(d)&&(d.x14Id=`{${i()}}`.toUpperCase())}render(d,b){if(p.isExt(b))switch(b.type){case"dataBar":this.renderDataBar(d,b);break;case"iconSet":this.renderIconSet(d,b)}}renderDataBar(d,b){d.openNode(this.tag,{type:"dataBar",id:b.x14Id}),this.databarXform.render(d,b),d.closeNode()}renderIconSet(d,b){d.openNode(this.tag,{type:"iconSet",priority:b.priority,id:b.x14Id||`{${i()}}`}),this.iconSetXform.render(d,b),d.closeNode()}createNewModel(d){let{attributes:b}=d;return{type:b.type,x14Id:b.id,priority:a.toIntValue(b.priority)}}onParserClose(d,b){Object.assign(this.model,b.model)}}n.exports=p},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(e,n,s){const i=e("../../composite-xform"),a=e("./f-ext-xform");n.exports=class extends i{constructor(){super(),this.map={"xm:f":this.fExtXform=new a}}get tag(){return"x14:cfvo"}render(l,c){l.openNode(this.tag,{type:c.type}),c.value!==void 0&&this.fExtXform.render(l,c.value),l.closeNode()}createNewModel(l){return{type:l.attributes.type}}onParserClose(l,c){switch(l){case"xm:f":this.model.value=c.model?parseFloat(c.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(e,n,s){const i=e("../../composite-xform"),a=e("./sqref-ext-xform"),l=e("./cf-rule-ext-xform");n.exports=class extends i{constructor(){super(),this.map={"xm:sqref":this.sqRef=new a,"x14:cfRule":this.cfRule=new l}}get tag(){return"x14:conditionalFormatting"}prepare(c,o){c.rules.forEach(u=>{this.cfRule.prepare(u,o)})}render(c,o){o.rules.some(l.isExt)&&(c.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),o.rules.filter(l.isExt).forEach(u=>this.cfRule.render(c,u)),this.sqRef.render(c,o.ref),c.closeNode())}createNewModel(){return{rules:[]}}onParserClose(c,o){switch(c){case"xm:sqref":this.model.ref=o.model;break;case"x14:cfRule":this.model.rules.push(o.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(e,n,s){const i=e("../../composite-xform"),a=e("./cf-rule-ext-xform"),l=e("./conditional-formatting-ext-xform");n.exports=class extends i{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new l}}get tag(){return"x14:conditionalFormattings"}hasContent(c){return c.hasExtContent===void 0&&(c.hasExtContent=c.some(o=>o.rules.some(a.isExt))),c.hasExtContent}prepare(c,o){c.forEach(u=>{this.cfXform.prepare(u,o)})}render(c,o){this.hasContent(o)&&(c.openNode(this.tag),o.forEach(u=>this.cfXform.render(c,u)),c.closeNode())}createNewModel(){return[]}onParserClose(c,o){this.model.push(o.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(e,n,s){const i=e("../../base-xform"),a=e("../../composite-xform"),l=e("../../style/color-xform"),c=e("./cfvo-ext-xform");n.exports=class extends a{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new c,"x14:borderColor":this.borderColorXform=new l("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new l("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new l("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new l("x14:axisColor")}}static isExt(o){return!o.gradient}get tag(){return"x14:dataBar"}render(o,u){o.openNode(this.tag,{minLength:i.toIntAttribute(u.minLength,0,!0),maxLength:i.toIntAttribute(u.maxLength,100,!0),border:i.toBoolAttribute(u.border,!1),gradient:i.toBoolAttribute(u.gradient,!0),negativeBarColorSameAsPositive:i.toBoolAttribute(u.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:i.toBoolAttribute(u.negativeBarBorderColorSameAsPositive,!0),axisPosition:i.toAttribute(u.axisPosition,"auto"),direction:i.toAttribute(u.direction,"leftToRight")}),u.cfvo.forEach(p=>{this.cfvoXform.render(o,p)}),this.borderColorXform.render(o,u.borderColor),this.negativeBorderColorXform.render(o,u.negativeBorderColor),this.negativeFillColorXform.render(o,u.negativeFillColor),this.axisColorXform.render(o,u.axisColor),o.closeNode()}createNewModel(o){let{attributes:u}=o;return{cfvo:[],minLength:i.toIntValue(u.minLength,0),maxLength:i.toIntValue(u.maxLength,100),border:i.toBoolValue(u.border,!1),gradient:i.toBoolValue(u.gradient,!0),negativeBarColorSameAsPositive:i.toBoolValue(u.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:i.toBoolValue(u.negativeBarBorderColorSameAsPositive,!0),axisPosition:i.toStringValue(u.axisPosition,"auto"),direction:i.toStringValue(u.direction,"leftToRight")}}onParserClose(o,u){const[,p]=o.split(":");switch(p){case"cfvo":this.model.cfvo.push(u.model);break;default:this.model[p]=u.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(e,n,s){const i=e("../../base-xform");n.exports=class extends i{get tag(){return"xm:f"}render(a,l){a.leafNode(this.tag,null,l)}parseOpen(){this.model=""}parseText(a){this.model+=a}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],81:[function(e,n,s){const i=e("../../base-xform"),a=e("../../composite-xform"),l=e("./cfvo-ext-xform"),c=e("./cf-icon-ext-xform");n.exports=class extends a{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new l,"x14:cfIcon":this.cfIconXform=new c}}get tag(){return"x14:iconSet"}render(o,u){o.openNode(this.tag,{iconSet:i.toStringAttribute(u.iconSet),reverse:i.toBoolAttribute(u.reverse,!1),showValue:i.toBoolAttribute(u.showValue,!0),custom:i.toBoolAttribute(u.icons,!1)}),u.cfvo.forEach(p=>{this.cfvoXform.render(o,p)}),u.icons&&u.icons.forEach((p,h)=>{p.iconId=h,this.cfIconXform.render(o,p)}),o.closeNode()}createNewModel(o){let{attributes:u}=o;return{cfvo:[],iconSet:i.toStringValue(u.iconSet,"3TrafficLights"),reverse:i.toBoolValue(u.reverse,!1),showValue:i.toBoolValue(u.showValue,!0)}}onParserClose(o,u){const[,p]=o.split(":");switch(p){case"cfvo":this.model.cfvo.push(u.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(u.model);break;default:this.model[p]=u.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(e,n,s){const i=e("../../base-xform");n.exports=class extends i{get tag(){return"xm:sqref"}render(a,l){a.leafNode(this.tag,null,l)}parseOpen(){this.model=""}parseText(a){this.model+=a}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],83:[function(e,n,s){const i=e("../../base-xform"),a=e("../../composite-xform"),l=e("../../../../doc/range"),c=e("./databar-xform"),o=e("./ext-lst-ref-xform"),u=e("./formula-xform"),p=e("./color-scale-xform"),h=e("./icon-set-xform"),d={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},b=g=>{const{type:v,operator:y}=g;switch(v){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:v};default:return{type:v,operator:y}}};class x extends a{constructor(){super(),this.map={dataBar:this.databarXform=new c,extLst:this.extLstRefXform=new o,formula:this.formulaXform=new u,colorScale:this.colorScaleXform=new p,iconSet:this.iconSetXform=new h}}get tag(){return"cfRule"}static isPrimitive(v){return v.type!=="iconSet"||!v.custom&&!d[v.iconSet]}render(v,y){switch(y.type){case"expression":this.renderExpression(v,y);break;case"cellIs":this.renderCellIs(v,y);break;case"top10":this.renderTop10(v,y);break;case"aboveAverage":this.renderAboveAverage(v,y);break;case"dataBar":this.renderDataBar(v,y);break;case"colorScale":this.renderColorScale(v,y);break;case"iconSet":this.renderIconSet(v,y);break;case"containsText":this.renderText(v,y);break;case"timePeriod":this.renderTimePeriod(v,y)}}renderExpression(v,y){v.openNode(this.tag,{type:"expression",dxfId:y.dxfId,priority:y.priority}),this.formulaXform.render(v,y.formulae[0]),v.closeNode()}renderCellIs(v,y){v.openNode(this.tag,{type:"cellIs",dxfId:y.dxfId,priority:y.priority,operator:y.operator}),y.formulae.forEach(k=>{this.formulaXform.render(v,k)}),v.closeNode()}renderTop10(v,y){v.leafNode(this.tag,{type:"top10",dxfId:y.dxfId,priority:y.priority,percent:i.toBoolAttribute(y.percent,!1),bottom:i.toBoolAttribute(y.bottom,!1),rank:i.toIntValue(y.rank,10,!0)})}renderAboveAverage(v,y){v.leafNode(this.tag,{type:"aboveAverage",dxfId:y.dxfId,priority:y.priority,aboveAverage:i.toBoolAttribute(y.aboveAverage,!0)})}renderDataBar(v,y){v.openNode(this.tag,{type:"dataBar",priority:y.priority}),this.databarXform.render(v,y),this.extLstRefXform.render(v,y),v.closeNode()}renderColorScale(v,y){v.openNode(this.tag,{type:"colorScale",priority:y.priority}),this.colorScaleXform.render(v,y),v.closeNode()}renderIconSet(v,y){x.isPrimitive(y)&&(v.openNode(this.tag,{type:"iconSet",priority:y.priority}),this.iconSetXform.render(v,y),v.closeNode())}renderText(v,y){v.openNode(this.tag,{type:y.operator,dxfId:y.dxfId,priority:y.priority,operator:i.toStringAttribute(y.operator,"containsText")});const k=(R=>{if(R.formulae&&R.formulae[0])return R.formulae[0];const z=new l(R.ref),{tl:q}=z;switch(R.operator){case"containsText":return`NOT(ISERROR(SEARCH("${R.text}",${q})))`;case"containsBlanks":return`LEN(TRIM(${q}))=0`;case"notContainsBlanks":return`LEN(TRIM(${q}))>0`;case"containsErrors":return`ISERROR(${q})`;case"notContainsErrors":return`NOT(ISERROR(${q}))`;default:return}})(y);k&&this.formulaXform.render(v,k),v.closeNode()}renderTimePeriod(v,y){v.openNode(this.tag,{type:"timePeriod",dxfId:y.dxfId,priority:y.priority,timePeriod:y.timePeriod});const k=(R=>{if(R.formulae&&R.formulae[0])return R.formulae[0];const z=new l(R.ref),{tl:q}=z;switch(R.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${q},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${q},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${q},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${q},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${q},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${q},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${q},1)=TODAY()-1`;case"today":return`FLOOR(${q},1)=TODAY()`;case"tomorrow":return`FLOOR(${q},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${q},1)<=6,FLOOR(${q},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${q})=MONTH(EDATE(TODAY(),0-1)),YEAR(${q})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${q})=MONTH(TODAY()),YEAR(${q})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${q})=MONTH(EDATE(TODAY(),0+1)),YEAR(${q})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(y);k&&this.formulaXform.render(v,k),v.closeNode()}createNewModel(v){let{attributes:y}=v;return{...b(y),dxfId:i.toIntValue(y.dxfId),priority:i.toIntValue(y.priority),timePeriod:y.timePeriod,percent:i.toBoolValue(y.percent),bottom:i.toBoolValue(y.bottom),rank:i.toIntValue(y.rank),aboveAverage:i.toBoolValue(y.aboveAverage)}}onParserClose(v,y){switch(v){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,y.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(y.model)}}}n.exports=x},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(e,n,s){const i=e("../../base-xform");n.exports=class extends i{get tag(){return"cfvo"}render(a,l){a.leafNode(this.tag,{type:l.type,val:l.value})}parseOpen(a){this.model={type:a.attributes.type,value:i.toFloatValue(a.attributes.val)}}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],85:[function(e,n,s){const i=e("../../composite-xform"),a=e("../../style/color-xform"),l=e("./cfvo-xform");n.exports=class extends i{constructor(){super(),this.map={cfvo:this.cfvoXform=new l,color:this.colorXform=new a}}get tag(){return"colorScale"}render(c,o){c.openNode(this.tag),o.cfvo.forEach(u=>{this.cfvoXform.render(c,u)}),o.color.forEach(u=>{this.colorXform.render(c,u)}),c.closeNode()}createNewModel(c){return{cfvo:[],color:[]}}onParserClose(c,o){this.model[c].push(o.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(e,n,s){const i=e("../../composite-xform"),a=e("./cf-rule-xform");n.exports=class extends i{constructor(){super(),this.map={cfRule:new a}}get tag(){return"conditionalFormatting"}render(l,c){c.rules.some(a.isPrimitive)&&(l.openNode(this.tag,{sqref:c.ref}),c.rules.forEach(o=>{a.isPrimitive(o)&&(o.ref=c.ref,this.map.cfRule.render(l,o))}),l.closeNode())}createNewModel(l){let{attributes:c}=l;return{ref:c.sqref,rules:[]}}onParserClose(l,c){this.model.rules.push(c.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(e,n,s){const i=e("../../base-xform"),a=e("./conditional-formatting-xform");n.exports=class extends i{constructor(){super(),this.cfXform=new a}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(l,c){let o=l.reduce((u,p)=>Math.max(u,...p.rules.map(h=>h.priority||0)),1);l.forEach(u=>{u.rules.forEach(p=>{p.priority||(p.priority=o++),p.style&&(p.dxfId=c.styles.addDxfStyle(p.style))})})}render(l,c){c.forEach(o=>{this.cfXform.render(l,o)})}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(l),!0;default:return!1}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){return!!this.parser&&(!!this.parser.parseClose(l)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(l,c){l.forEach(o=>{o.rules.forEach(u=>{u.dxfId!==void 0&&(u.style=c.styles.getDxfStyle(u.dxfId),delete u.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(e,n,s){const i=e("../../composite-xform"),a=e("../../style/color-xform"),l=e("./cfvo-xform");n.exports=class extends i{constructor(){super(),this.map={cfvo:this.cfvoXform=new l,color:this.colorXform=new a}}get tag(){return"dataBar"}render(c,o){c.openNode(this.tag),o.cfvo.forEach(u=>{this.cfvoXform.render(c,u)}),this.colorXform.render(c,o.color),c.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(c,o){switch(c){case"cfvo":this.model.cfvo.push(o.model);break;case"color":this.model.color=o.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(e,n,s){const i=e("../../base-xform"),a=e("../../composite-xform");class l extends i{get tag(){return"x14:id"}render(u,p){u.leafNode(this.tag,null,p)}parseOpen(){this.model=""}parseText(u){this.model+=u}parseClose(u){return u!==this.tag}}class c extends a{constructor(){super(),this.map={"x14:id":this.idXform=new l}}get tag(){return"ext"}render(u,p){u.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(u,p.x14Id),u.closeNode()}createNewModel(){return{}}onParserClose(u,p){this.model.x14Id=p.model}}n.exports=class extends a{constructor(){super(),this.map={ext:new c}}get tag(){return"extLst"}render(o,u){o.openNode(this.tag),this.map.ext.render(o,u),o.closeNode()}createNewModel(){return{}}onParserClose(o,u){Object.assign(this.model,u.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(e,n,s){const i=e("../../base-xform");n.exports=class extends i{get tag(){return"formula"}render(a,l){a.leafNode(this.tag,null,l)}parseOpen(){this.model=""}parseText(a){this.model+=a}parseClose(a){return a!==this.tag}}},{"../../base-xform":32}],91:[function(e,n,s){const i=e("../../base-xform"),a=e("../../composite-xform"),l=e("./cfvo-xform");n.exports=class extends a{constructor(){super(),this.map={cfvo:this.cfvoXform=new l}}get tag(){return"iconSet"}render(c,o){c.openNode(this.tag,{iconSet:i.toStringAttribute(o.iconSet,"3TrafficLights"),reverse:i.toBoolAttribute(o.reverse,!1),showValue:i.toBoolAttribute(o.showValue,!0)}),o.cfvo.forEach(u=>{this.cfvoXform.render(c,u)}),c.closeNode()}createNewModel(c){let{attributes:o}=c;return{iconSet:i.toStringValue(o.iconSet,"3TrafficLights"),reverse:i.toBoolValue(o.reverse),showValue:i.toBoolValue(o.showValue),cfvo:[]}}onParserClose(c,o){this.model[c].push(o.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(e,n,s){const i=e("../../../utils/utils"),a=e("../base-xform");n.exports=class extends a{get tag(){return"col"}prepare(l,c){const o=c.styles.addStyleModel(l.style||{});o&&(l.styleId=o)}render(l,c){l.openNode("col"),l.addAttribute("min",c.min),l.addAttribute("max",c.max),c.width&&l.addAttribute("width",c.width),c.styleId&&l.addAttribute("style",c.styleId),c.hidden&&l.addAttribute("hidden","1"),c.bestFit&&l.addAttribute("bestFit","1"),c.outlineLevel&&l.addAttribute("outlineLevel",c.outlineLevel),c.collapsed&&l.addAttribute("collapsed","1"),l.addAttribute("customWidth","1"),l.closeNode()}parseOpen(l){if(l.name==="col"){const c=this.model={min:parseInt(l.attributes.min||"0",10),max:parseInt(l.attributes.max||"0",10),width:l.attributes.width===void 0?void 0:parseFloat(l.attributes.width||"0")};return l.attributes.style&&(c.styleId=parseInt(l.attributes.style,10)),i.parseBoolean(l.attributes.hidden)&&(c.hidden=!0),i.parseBoolean(l.attributes.bestFit)&&(c.bestFit=!0),l.attributes.outlineLevel&&(c.outlineLevel=parseInt(l.attributes.outlineLevel,10)),i.parseBoolean(l.attributes.collapsed)&&(c.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(l,c){l.styleId&&(l.style=c.styles.getStyleModel(l.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(e,n,s){const i=e("../../../utils/under-dash"),a=e("../../../utils/utils"),l=e("../../../utils/col-cache"),c=e("../base-xform"),o=e("../../../doc/range");function u(h,d,b,x){const g=d[b];g!==void 0?h[b]=g:x!==void 0&&(h[b]=x)}function p(h,d,b,x){const g=d[b];g!==void 0&&(h[b]=a.parseBoolean(g))}n.exports=class extends c{get tag(){return"dataValidations"}render(h,d){const b=(function(x){const g=i.map(x,(k,R)=>({address:R,dataValidation:k,marked:!1})).sort((k,R)=>i.strcmp(k.address,R.address)),v=i.keyBy(g,"address"),y=(k,R,z)=>{for(let q=0;q<R;q++){const B=l.encodeAddress(k.row+q,z);if(!x[B]||!i.isEqual(x[k.address],x[B]))return!1}return!0};return g.map(k=>{if(!k.marked){const R=l.decodeEx(k.address);if(R.dimensions)return v[R.dimensions].marked=!0,{...k.dataValidation,sqref:k.address};let z=1,q=l.encodeAddress(R.row+z,R.col);for(;x[q]&&i.isEqual(k.dataValidation,x[q]);)z++,q=l.encodeAddress(R.row+z,R.col);let B=1;for(;y(R,z,R.col+B);)B++;for(let I=0;I<z;I++)for(let O=0;O<B;O++)q=l.encodeAddress(R.row+I,R.col+O),v[q].marked=!0;if(z>1||B>1){const I=R.row+(z-1),O=R.col+(B-1);return{...k.dataValidation,sqref:`${k.address}:${l.encodeAddress(I,O)}`}}return{...k.dataValidation,sqref:k.address}}return null}).filter(Boolean)})(d);b.length&&(h.openNode("dataValidations",{count:b.length}),b.forEach(x=>{h.openNode("dataValidation"),x.type!=="any"&&(h.addAttribute("type",x.type),x.operator&&x.type!=="list"&&x.operator!=="between"&&h.addAttribute("operator",x.operator),x.allowBlank&&h.addAttribute("allowBlank","1")),x.showInputMessage&&h.addAttribute("showInputMessage","1"),x.promptTitle&&h.addAttribute("promptTitle",x.promptTitle),x.prompt&&h.addAttribute("prompt",x.prompt),x.showErrorMessage&&h.addAttribute("showErrorMessage","1"),x.errorStyle&&h.addAttribute("errorStyle",x.errorStyle),x.errorTitle&&h.addAttribute("errorTitle",x.errorTitle),x.error&&h.addAttribute("error",x.error),h.addAttribute("sqref",x.sqref),(x.formulae||[]).forEach((g,v)=>{h.openNode("formula"+(v+1)),x.type==="date"?h.writeText(a.dateToExcel(new Date(g))):h.writeText(g),h.closeNode()}),h.closeNode()}),h.closeNode())}parseOpen(h){switch(h.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=h.attributes.sqref;const d={type:h.attributes.type||"any",formulae:[]};switch(h.attributes.type&&p(d,h.attributes,"allowBlank"),p(d,h.attributes,"showInputMessage"),p(d,h.attributes,"showErrorMessage"),d.type){case"any":case"list":case"custom":break;default:u(d,h.attributes,"operator","between")}return u(d,h.attributes,"promptTitle"),u(d,h.attributes,"prompt"),u(d,h.attributes,"errorStyle"),u(d,h.attributes,"errorTitle"),u(d,h.attributes,"error"),this._dataValidation=d,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(h){this._formula&&this._formula.push(h)}parseClose(h){switch(h){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(d=>{d.includes(":")?new o(d).forEachAddress(b=>{this.model[b]=this._dataValidation}):this.model[d]=this._dataValidation}),!0;case"formula1":case"formula2":{let d=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":d=parseInt(d,10);break;case"decimal":d=parseFloat(d);break;case"date":d=a.excelToDate(parseFloat(d))}return this._dataValidation.formulae.push(d),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"dimension"}render(a,l){l&&a.leafNode("dimension",{ref:l})}parseOpen(a){return a.name==="dimension"&&(this.model=a.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"drawing"}render(a,l){l&&a.leafNode(this.tag,{"r:id":l.rId})}parseOpen(a){switch(a.name){case this.tag:return this.model={rId:a.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(e,n,s){const i=e("../composite-xform"),a=e("./cf-ext/conditional-formattings-ext-xform");class l extends i{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new a}}get tag(){return"ext"}hasContent(o){return this.conditionalFormattings.hasContent(o.conditionalFormattings)}prepare(o,u){this.conditionalFormattings.prepare(o.conditionalFormattings,u)}render(o,u){o.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(o,u.conditionalFormattings),o.closeNode()}createNewModel(){return{}}onParserClose(o,u){this.model[o]=u.model}}n.exports=class extends i{constructor(){super(),this.map={ext:this.ext=new l}}get tag(){return"extLst"}prepare(c,o){this.ext.prepare(c,o)}hasContent(c){return this.ext.hasContent(c)}render(c,o){this.hasContent(o)&&(c.openNode("extLst"),this.ext.render(c,o),c.closeNode())}createNewModel(){return{}}onParserClose(c,o){Object.assign(this.model,o.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"headerFooter"}render(a,l){if(l){a.addRollback();let c=!1;a.openNode("headerFooter"),l.differentFirst&&(a.addAttribute("differentFirst","1"),c=!0),l.differentOddEven&&(a.addAttribute("differentOddEven","1"),c=!0),l.oddHeader&&typeof l.oddHeader=="string"&&(a.leafNode("oddHeader",null,l.oddHeader),c=!0),l.oddFooter&&typeof l.oddFooter=="string"&&(a.leafNode("oddFooter",null,l.oddFooter),c=!0),l.evenHeader&&typeof l.evenHeader=="string"&&(a.leafNode("evenHeader",null,l.evenHeader),c=!0),l.evenFooter&&typeof l.evenFooter=="string"&&(a.leafNode("evenFooter",null,l.evenFooter),c=!0),l.firstHeader&&typeof l.firstHeader=="string"&&(a.leafNode("firstHeader",null,l.firstHeader),c=!0),l.firstFooter&&typeof l.firstFooter=="string"&&(a.leafNode("firstFooter",null,l.firstFooter),c=!0),c?(a.closeNode(),a.commit()):a.rollback()}}parseOpen(a){switch(a.name){case"headerFooter":return this.model={},a.attributes.differentFirst&&(this.model.differentFirst=parseInt(a.attributes.differentFirst,0)===1),a.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(a.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(a){switch(this.currentNode){case"oddHeader":this.model.oddHeader=a;break;case"oddFooter":this.model.oddFooter=a;break;case"evenHeader":this.model.evenHeader=a;break;case"evenFooter":this.model.evenFooter=a;break;case"firstHeader":this.model.firstHeader=a;break;case"firstFooter":this.model.firstFooter=a}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"hyperlink"}render(a,l){this.isInternalLink(l)?a.leafNode("hyperlink",{ref:l.address,"r:id":l.rId,tooltip:l.tooltip,location:l.target}):a.leafNode("hyperlink",{ref:l.address,"r:id":l.rId,tooltip:l.tooltip})}parseOpen(a){return a.name==="hyperlink"&&(this.model={address:a.attributes.ref,rId:a.attributes["r:id"],tooltip:a.attributes.tooltip},a.attributes.location&&(this.model.target=a.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(a){return a.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(a.target)}}},{"../base-xform":32}],99:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"mergeCell"}render(a,l){a.leafNode("mergeCell",{ref:l})}parseOpen(a){return a.name==="mergeCell"&&(this.model=a.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(e,n,s){const i=e("../../../utils/under-dash"),a=e("../../../doc/range"),l=e("../../../utils/col-cache"),c=e("../../../doc/enums");n.exports=class{constructor(){this.merges={}}add(o){if(this.merges[o.master])this.merges[o.master].expandToAddress(o.address);else{const u=`${o.master}:${o.address}`;this.merges[o.master]=new a(u)}}get mergeCells(){return i.map(this.merges,o=>o.range)}reconcile(o,u){i.each(o,p=>{const h=l.decode(p);for(let d=h.top;d<=h.bottom;d++){const b=u[d-1];for(let x=h.left;x<=h.right;x++){const g=b.cells[x-1];g?g.type===c.ValueType.Merge&&(g.master=h.tl):b.cells[x]={type:c.ValueType.Null,address:l.encodeAddress(d,x)}}}})}getMasterAddress(o){const u=this.hash[o];return u&&u.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(e,n,s){const i=e("../base-xform"),a=l=>l!==void 0;n.exports=class extends i{get tag(){return"outlinePr"}render(l,c){return!(!c||!a(c.summaryBelow)&&!a(c.summaryRight))&&(l.leafNode(this.tag,{summaryBelow:a(c.summaryBelow)?Number(c.summaryBelow):void 0,summaryRight:a(c.summaryRight)?Number(c.summaryRight):void 0}),!0)}parseOpen(l){return l.name===this.tag&&(this.model={summaryBelow:a(l.attributes.summaryBelow)?!!Number(l.attributes.summaryBelow):void 0,summaryRight:a(l.attributes.summaryRight)?!!Number(l.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"brk"}render(a,l){a.leafNode("brk",l)}parseOpen(a){return a.name==="brk"&&(this.model=a.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(e,n,s){const i=e("../../../utils/under-dash"),a=e("../base-xform");n.exports=class extends a{get tag(){return"pageMargins"}render(l,c){if(c){const o={left:c.left,right:c.right,top:c.top,bottom:c.bottom,header:c.header,footer:c.footer};i.some(o,u=>u!==void 0)&&l.leafNode(this.tag,o)}}parseOpen(l){switch(l.name){case this.tag:return this.model={left:parseFloat(l.attributes.left||.7),right:parseFloat(l.attributes.right||.7),top:parseFloat(l.attributes.top||.75),bottom:parseFloat(l.attributes.bottom||.75),header:parseFloat(l.attributes.header||.3),footer:parseFloat(l.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"pageSetUpPr"}render(a,l){return!(!l||!l.fitToPage)&&(a.leafNode(this.tag,{fitToPage:l.fitToPage?"1":void 0}),!0)}parseOpen(a){return a.name===this.tag&&(this.model={fitToPage:a.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(e,n,s){const i=e("../../../utils/under-dash"),a=e("../base-xform");function l(p){return p?"1":void 0}function c(p){switch(p){case"overThenDown":return p;default:return}}function o(p){switch(p){case"atEnd":case"asDisplyed":return p;default:return}}function u(p){switch(p){case"dash":case"blank":case"NA":return p;default:return}}n.exports=class extends a{get tag(){return"pageSetup"}render(p,h){if(h){const d={paperSize:h.paperSize,orientation:h.orientation,horizontalDpi:h.horizontalDpi,verticalDpi:h.verticalDpi,pageOrder:c(h.pageOrder),blackAndWhite:l(h.blackAndWhite),draft:l(h.draft),cellComments:o(h.cellComments),errors:u(h.errors),scale:h.scale,fitToWidth:h.fitToWidth,fitToHeight:h.fitToHeight,firstPageNumber:h.firstPageNumber,useFirstPageNumber:l(h.firstPageNumber),usePrinterDefaults:l(h.usePrinterDefaults),copies:h.copies};i.some(d,b=>b!==void 0)&&p.leafNode(this.tag,d)}}parseOpen(p){switch(p.name){case this.tag:return this.model={paperSize:(h=p.attributes.paperSize,h!==void 0?parseInt(h,10):void 0),orientation:p.attributes.orientation||"portrait",horizontalDpi:parseInt(p.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(p.attributes.verticalDpi||"4294967295",10),pageOrder:p.attributes.pageOrder||"downThenOver",blackAndWhite:p.attributes.blackAndWhite==="1",draft:p.attributes.draft==="1",cellComments:p.attributes.cellComments||"None",errors:p.attributes.errors||"displayed",scale:parseInt(p.attributes.scale||"100",10),fitToWidth:parseInt(p.attributes.fitToWidth||"1",10),fitToHeight:parseInt(p.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(p.attributes.firstPageNumber||"1",10),useFirstPageNumber:p.attributes.useFirstPageNumber==="1",usePrinterDefaults:p.attributes.usePrinterDefaults==="1",copies:parseInt(p.attributes.copies||"1",10)},!0;default:return!1}var h}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"picture"}render(a,l){l&&a.leafNode(this.tag,{"r:id":l.rId})}parseOpen(a){switch(a.name){case this.tag:return this.model={rId:a.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(e,n,s){const i=e("../../../utils/under-dash"),a=e("../base-xform");function l(c){return c?"1":void 0}n.exports=class extends a{get tag(){return"printOptions"}render(c,o){if(o){const u={headings:l(o.showRowColHeaders),gridLines:l(o.showGridLines),horizontalCentered:l(o.horizontalCentered),verticalCentered:l(o.verticalCentered)};i.some(u,p=>p!==void 0)&&c.leafNode(this.tag,u)}}parseOpen(c){switch(c.name){case this.tag:return this.model={showRowColHeaders:c.attributes.headings==="1",showGridLines:c.attributes.gridLines==="1",horizontalCentered:c.attributes.horizontalCentered==="1",verticalCentered:c.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(e,n,s){const i=e("./page-breaks-xform"),a=e("../list-xform");n.exports=class extends a{constructor(){super({tag:"rowBreaks",count:!0,childXform:new i})}render(l,c){if(c&&c.length){l.openNode(this.tag,this.$),this.count&&(l.addAttribute(this.$count,c.length),l.addAttribute("manualBreakCount",c.length));const{childXform:o}=this;c.forEach(u=>{o.render(l,u)}),l.closeNode()}else this.empty&&l.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(e,n,s){const i=e("../base-xform"),a=e("../../../utils/utils"),l=e("./cell-xform");n.exports=class extends i{constructor(c){super(),this.maxItems=c&&c.maxItems,this.map={c:new l}}get tag(){return"row"}prepare(c,o){const u=o.styles.addStyleModel(c.style);u&&(c.styleId=u);const p=this.map.c;c.cells.forEach(h=>{p.prepare(h,o)})}render(c,o,u){c.openNode("row"),c.addAttribute("r",o.number),o.height&&(c.addAttribute("ht",o.height),c.addAttribute("customHeight","1")),o.hidden&&c.addAttribute("hidden","1"),o.min>0&&o.max>0&&o.min<=o.max&&c.addAttribute("spans",`${o.min}:${o.max}`),o.styleId&&(c.addAttribute("s",o.styleId),c.addAttribute("customFormat","1")),c.addAttribute("x14ac:dyDescent","0.25"),o.outlineLevel&&c.addAttribute("outlineLevel",o.outlineLevel),o.collapsed&&c.addAttribute("collapsed","1");const p=this.map.c;o.cells.forEach(h=>{p.render(c,h,u)}),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;if(c.name==="row"){this.numRowsSeen+=1;const o=c.attributes.spans?c.attributes.spans.split(":").map(p=>parseInt(p,10)):[void 0,void 0],u=this.model={number:parseInt(c.attributes.r,10),min:o[0],max:o[1],cells:[]};return c.attributes.s&&(u.styleId=parseInt(c.attributes.s,10)),a.parseBoolean(c.attributes.hidden)&&(u.hidden=!0),a.parseBoolean(c.attributes.bestFit)&&(u.bestFit=!0),c.attributes.ht&&(u.height=parseFloat(c.attributes.ht)),c.attributes.outlineLevel&&(u.outlineLevel=parseInt(c.attributes.outlineLevel,10)),a.parseBoolean(c.attributes.collapsed)&&(u.collapsed=!0),!0}return this.parser=this.map[c.name],!!this.parser&&(this.parser.parseOpen(c),!0)}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser){if(!this.parser.parseClose(c)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(c,o){c.style=c.styleId?o.styles.getStyleModel(c.styleId):{},c.styleId!==void 0&&(c.styleId=void 0);const u=this.map.c;c.cells.forEach(p=>{u.reconcile(p,o)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(e,n,s){const i=e("../../../utils/under-dash"),a=e("../base-xform");n.exports=class extends a{get tag(){return"sheetFormatPr"}render(l,c){if(c){const o={defaultRowHeight:c.defaultRowHeight,outlineLevelRow:c.outlineLevelRow,outlineLevelCol:c.outlineLevelCol,"x14ac:dyDescent":c.dyDescent};c.defaultColWidth&&(o.defaultColWidth=c.defaultColWidth),c.defaultRowHeight&&c.defaultRowHeight===15||(o.customHeight="1"),i.some(o,u=>u!==void 0)&&l.leafNode("sheetFormatPr",o)}}parseOpen(l){return l.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(l.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(l.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(l.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(l.attributes.outlineLevelCol||"0",10)},l.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(l.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(e,n,s){const i=e("../base-xform"),a=e("../style/color-xform"),l=e("./page-setup-properties-xform"),c=e("./outline-properties-xform");n.exports=class extends i{constructor(){super(),this.map={tabColor:new a("tabColor"),pageSetUpPr:new l,outlinePr:new c}}get tag(){return"sheetPr"}render(o,u){if(u){o.addRollback(),o.openNode("sheetPr");let p=!1;p=this.map.tabColor.render(o,u.tabColor)||p,p=this.map.pageSetUpPr.render(o,u.pageSetup)||p,p=this.map.outlinePr.render(o,u.outlineProperties)||p,p?(o.closeNode(),o.commit()):o.rollback()}}parseOpen(o){return this.parser?(this.parser.parseOpen(o),!0):o.name===this.tag?(this.reset(),!0):!!this.map[o.name]&&(this.parser=this.map[o.name],this.parser.parseOpen(o),!0)}parseText(o){return!!this.parser&&(this.parser.parseText(o),!0)}parseClose(o){return this.parser?(this.parser.parseClose(o)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(e,n,s){const i=e("../../../utils/under-dash"),a=e("../base-xform");function l(o,u){return o?u:void 0}function c(o,u){return o===u||void 0}n.exports=class extends a{get tag(){return"sheetProtection"}render(o,u){if(u){const p={sheet:l(u.sheet,"1"),selectLockedCells:u.selectLockedCells===!1?"1":void 0,selectUnlockedCells:u.selectUnlockedCells===!1?"1":void 0,formatCells:l(u.formatCells,"0"),formatColumns:l(u.formatColumns,"0"),formatRows:l(u.formatRows,"0"),insertColumns:l(u.insertColumns,"0"),insertRows:l(u.insertRows,"0"),insertHyperlinks:l(u.insertHyperlinks,"0"),deleteColumns:l(u.deleteColumns,"0"),deleteRows:l(u.deleteRows,"0"),sort:l(u.sort,"0"),autoFilter:l(u.autoFilter,"0"),pivotTables:l(u.pivotTables,"0")};u.sheet&&(p.algorithmName=u.algorithmName,p.hashValue=u.hashValue,p.saltValue=u.saltValue,p.spinCount=u.spinCount,p.objects=l(u.objects===!1,"1"),p.scenarios=l(u.scenarios===!1,"1")),i.some(p,h=>h!==void 0)&&o.leafNode(this.tag,p)}}parseOpen(o){switch(o.name){case this.tag:return this.model={sheet:c(o.attributes.sheet,"1"),objects:o.attributes.objects!=="1"&&void 0,scenarios:o.attributes.scenarios!=="1"&&void 0,selectLockedCells:o.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:o.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:c(o.attributes.formatCells,"0"),formatColumns:c(o.attributes.formatColumns,"0"),formatRows:c(o.attributes.formatRows,"0"),insertColumns:c(o.attributes.insertColumns,"0"),insertRows:c(o.attributes.insertRows,"0"),insertHyperlinks:c(o.attributes.insertHyperlinks,"0"),deleteColumns:c(o.attributes.deleteColumns,"0"),deleteRows:c(o.attributes.deleteRows,"0"),sort:c(o.attributes.sort,"0"),autoFilter:c(o.attributes.autoFilter,"0"),pivotTables:c(o.attributes.pivotTables,"0")},o.attributes.algorithmName&&(this.model.algorithmName=o.attributes.algorithmName,this.model.hashValue=o.attributes.hashValue,this.model.saltValue=o.attributes.saltValue,this.model.spinCount=parseInt(o.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(e,n,s){const i=e("../../../utils/col-cache"),a=e("../base-xform"),l={frozen:"frozen",frozenSplit:"frozen",split:"split"};n.exports=class extends a{get tag(){return"sheetView"}prepare(c){switch(c.state){case"frozen":case"split":break;default:c.state="normal"}}render(c,o){c.openNode("sheetView",{workbookViewId:o.workbookViewId||0});const u=function(x,g,v){v&&c.addAttribute(x,g)};let p,h,d,b;switch(u("rightToLeft","1",o.rightToLeft===!0),u("tabSelected","1",o.tabSelected),u("showRuler","0",o.showRuler===!1),u("showRowColHeaders","0",o.showRowColHeaders===!1),u("showGridLines","0",o.showGridLines===!1),u("zoomScale",o.zoomScale,o.zoomScale),u("zoomScaleNormal",o.zoomScaleNormal,o.zoomScaleNormal),u("view",o.style,o.style),o.state){case"frozen":h=o.xSplit||0,d=o.ySplit||0,p=o.topLeftCell||i.getAddress(d+1,h+1).address,b=(o.xSplit&&o.ySplit?"bottomRight":o.xSplit&&"topRight")||"bottomLeft",c.leafNode("pane",{xSplit:o.xSplit||void 0,ySplit:o.ySplit||void 0,topLeftCell:p,activePane:b,state:"frozen"}),c.leafNode("selection",{pane:b,activeCell:o.activeCell,sqref:o.activeCell});break;case"split":o.activePane==="topLeft"&&(o.activePane=void 0),c.leafNode("pane",{xSplit:o.xSplit||void 0,ySplit:o.ySplit||void 0,topLeftCell:o.topLeftCell,activePane:o.activePane}),c.leafNode("selection",{pane:o.activePane,activeCell:o.activeCell,sqref:o.activeCell});break;case"normal":o.activeCell&&c.leafNode("selection",{activeCell:o.activeCell,sqref:o.activeCell})}c.closeNode()}parseOpen(c){switch(c.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(c.attributes.workbookViewId,10),rightToLeft:c.attributes.rightToLeft==="1",tabSelected:c.attributes.tabSelected==="1",showRuler:c.attributes.showRuler!=="0",showRowColHeaders:c.attributes.showRowColHeaders!=="0",showGridLines:c.attributes.showGridLines!=="0",zoomScale:parseInt(c.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(c.attributes.zoomScaleNormal||"100",10),style:c.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(c.attributes.xSplit||"0",10),ySplit:parseInt(c.attributes.ySplit||"0",10),topLeftCell:c.attributes.topLeftCell,activePane:c.attributes.activePane||"topLeft",state:c.attributes.state},!0;case"selection":{const o=c.attributes.pane||"topLeft";return this.selections[o]={pane:o,activeCell:c.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(c){let o,u;switch(c){case"sheetView":return this.sheetView&&this.pane?(o=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:l[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(o.activePane=this.pane.activePane),u=this.selections[this.pane.activePane],u&&u.activeCell&&(o.activeCell=u.activeCell),this.sheetView.style&&(o.style=this.sheetView.style)):(o=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},u=this.selections.topLeft,u&&u.activeCell&&(o.activeCell=u.activeCell),this.sheetView.style&&(o.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"tablePart"}render(a,l){l&&a.leafNode(this.tag,{"r:id":l.rId})}parseOpen(a){switch(a.name){case this.tag:return this.model={rId:a.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(e,n,s){const i=e("../../../utils/under-dash"),a=e("../../../utils/col-cache"),l=e("../../../utils/xml-stream"),c=e("../../rel-type"),o=e("./merges"),u=e("../base-xform"),p=e("../list-xform"),h=e("./row-xform"),d=e("./col-xform"),b=e("./dimension-xform"),x=e("./hyperlink-xform"),g=e("./merge-cell-xform"),v=e("./data-validations-xform"),y=e("./sheet-properties-xform"),k=e("./sheet-format-properties-xform"),R=e("./sheet-view-xform"),z=e("./sheet-protection-xform"),q=e("./page-margins-xform"),B=e("./page-setup-xform"),I=e("./print-options-xform"),O=e("./auto-filter-xform"),F=e("./picture-xform"),W=e("./drawing-xform"),V=e("./table-part-xform"),N=e("./row-breaks-xform"),P=e("./header-footer-xform"),C=e("./cf/conditional-formattings-xform"),S=e("./ext-lst-xform"),E=(T,j)=>{if(!j||!j.length)return T;if(!T||!T.length)return j;const L={},D={};return T.forEach(Z=>{L[Z.ref]=Z,Z.rules.forEach(K=>{const{x14Id:ee}=K;ee&&(D[ee]=K)})}),j.forEach(Z=>{Z.rules.forEach(K=>{const ee=D[K.x14Id];ee?((G,te)=>{Object.keys(te).forEach(H=>{const U=G[H],Q=te[H];U===void 0&&Q!==void 0&&(G[H]=Q)})})(ee,K):L[Z.ref]?L[Z.ref].rules.push(K):T.push({ref:Z.ref,rules:[K]})})}),T};class A extends u{constructor(j){super();const{maxRows:L,maxCols:D,ignoreNodes:Z}=j||{};this.ignoreNodes=Z||[],this.map={sheetPr:new y,dimension:new b,sheetViews:new p({tag:"sheetViews",count:!1,childXform:new R}),sheetFormatPr:new k,cols:new p({tag:"cols",count:!1,childXform:new d}),sheetData:new p({tag:"sheetData",count:!1,empty:!0,childXform:new h({maxItems:D}),maxItems:L}),autoFilter:new O,mergeCells:new p({tag:"mergeCells",count:!0,childXform:new g}),rowBreaks:new N,hyperlinks:new p({tag:"hyperlinks",count:!1,childXform:new x}),pageMargins:new q,dataValidations:new v,pageSetup:new B,headerFooter:new P,printOptions:new I,picture:new F,drawing:new W,sheetProtection:new z,tableParts:new p({tag:"tableParts",count:!0,childXform:new V}),conditionalFormatting:new C,extLst:new S}}prepare(j,L){L.merges=new o,j.hyperlinks=L.hyperlinks=[],j.comments=L.comments=[],L.formulae={},L.siFormulae=0,this.map.cols.prepare(j.cols,L),this.map.sheetData.prepare(j.rows,L),this.map.conditionalFormatting.prepare(j.conditionalFormattings,L),j.mergeCells=L.merges.mergeCells;const D=j.rels=[];function Z(G){return"rId"+(G.length+1)}if(j.hyperlinks.forEach(G=>{const te=Z(D);G.rId=te,D.push({Id:te,Type:c.Hyperlink,Target:G.target,TargetMode:"External"})}),j.comments.length>0){const G={Id:Z(D),Type:c.Comments,Target:`../comments${j.id}.xml`};D.push(G);const te={Id:Z(D),Type:c.VmlDrawing,Target:`../drawings/vmlDrawing${j.id}.vml`};D.push(te),j.comments.forEach(H=>{H.refAddress=a.decodeAddress(H.ref)}),L.commentRefs.push({commentName:"comments"+j.id,vmlDrawing:"vmlDrawing"+j.id})}const K=[];let ee;j.media.forEach(G=>{if(G.type==="background"){const te=Z(D);ee=L.media[G.imageId],D.push({Id:te,Type:c.Image,Target:`../media/${ee.name}.${ee.extension}`}),j.background={rId:te},j.image=L.media[G.imageId]}else if(G.type==="image"){let{drawing:te}=j;ee=L.media[G.imageId],te||(te=j.drawing={rId:Z(D),name:"drawing"+ ++L.drawingsCount,anchors:[],rels:[]},L.drawings.push(te),D.push({Id:te.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${te.name}.xml`}));let H=this.preImageId===G.imageId?K[G.imageId]:K[te.rels.length];H||(H=Z(te.rels),K[te.rels.length]=H,te.rels.push({Id:H,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${ee.name}.${ee.extension}`}));const U={picture:{rId:H},range:G.range};if(G.hyperlinks&&G.hyperlinks.hyperlink){const Q=Z(te.rels);K[te.rels.length]=Q,U.picture.hyperlinks={tooltip:G.hyperlinks.tooltip,rId:Q},te.rels.push({Id:Q,Type:c.Hyperlink,Target:G.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=G.imageId,te.anchors.push(U)}}),j.tables.forEach(G=>{const te=Z(D);G.rId=te,D.push({Id:te,Type:c.Table,Target:"../tables/"+G.target}),G.columns.forEach(H=>{const{style:U}=H;U&&(H.dxfId=L.styles.addDxfStyle(U))})}),this.map.extLst.prepare(j,L)}render(j,L){j.openXml(l.StdDocAttributes),j.openNode("worksheet",A.WORKSHEET_ATTRIBUTES);const D=L.properties?{defaultRowHeight:L.properties.defaultRowHeight,dyDescent:L.properties.dyDescent,outlineLevelCol:L.properties.outlineLevelCol,outlineLevelRow:L.properties.outlineLevelRow}:void 0;L.properties&&L.properties.defaultColWidth&&(D.defaultColWidth=L.properties.defaultColWidth);const Z={outlineProperties:L.properties&&L.properties.outlineProperties,tabColor:L.properties&&L.properties.tabColor,pageSetup:L.pageSetup&&L.pageSetup.fitToPage?{fitToPage:L.pageSetup.fitToPage}:void 0},K=L.pageSetup&&L.pageSetup.margins,ee={showRowColHeaders:L.pageSetup&&L.pageSetup.showRowColHeaders,showGridLines:L.pageSetup&&L.pageSetup.showGridLines,horizontalCentered:L.pageSetup&&L.pageSetup.horizontalCentered,verticalCentered:L.pageSetup&&L.pageSetup.verticalCentered},G=L.sheetProtection;this.map.sheetPr.render(j,Z),this.map.dimension.render(j,L.dimensions),this.map.sheetViews.render(j,L.views),this.map.sheetFormatPr.render(j,D),this.map.cols.render(j,L.cols),this.map.sheetData.render(j,L.rows),this.map.sheetProtection.render(j,G),this.map.autoFilter.render(j,L.autoFilter),this.map.mergeCells.render(j,L.mergeCells),this.map.conditionalFormatting.render(j,L.conditionalFormattings),this.map.dataValidations.render(j,L.dataValidations),this.map.hyperlinks.render(j,L.hyperlinks),this.map.printOptions.render(j,ee),this.map.pageMargins.render(j,K),this.map.pageSetup.render(j,L.pageSetup),this.map.headerFooter.render(j,L.headerFooter),this.map.rowBreaks.render(j,L.rowBreaks),this.map.drawing.render(j,L.drawing),this.map.picture.render(j,L.background),this.map.tableParts.render(j,L.tables),this.map.extLst.render(j,L),L.rels&&L.rels.forEach(te=>{te.Type===c.VmlDrawing&&j.leafNode("legacyDrawing",{"r:id":te.Id})}),j.closeNode()}parseOpen(j){return this.parser?(this.parser.parseOpen(j),!0):j.name==="worksheet"?(i.each(this.map,L=>{L.reset()}),!0):(this.map[j.name]&&!this.ignoreNodes.includes(j.name)&&(this.parser=this.map[j.name],this.parser.parseOpen(j)),!0)}parseText(j){this.parser&&this.parser.parseText(j)}parseClose(j){if(this.parser)return this.parser.parseClose(j)||(this.parser=void 0),!0;switch(j){case"worksheet":{const L=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(L.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(L.outlineProperties=this.map.sheetPr.model.outlineProperties);const D={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},Z=Object.assign(D,this.map.pageSetup.model,this.map.printOptions.model),K=E(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:L,views:this.map.sheetViews.model,pageSetup:Z,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:K},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(j,L){const D=(j.relationships||[]).reduce((K,ee)=>{if(K[ee.Id]=ee,ee.Type===c.Comments&&(j.comments=L.comments[ee.Target].comments),ee.Type===c.VmlDrawing&&j.comments&&j.comments.length){const G=L.vmlDrawings[ee.Target].comments;j.comments.forEach((te,H)=>{te.note=Object.assign({},te.note,G[H])})}return K},{});if(L.commentsMap=(j.comments||[]).reduce((K,ee)=>(ee.ref&&(K[ee.ref]=ee),K),{}),L.hyperlinkMap=(j.hyperlinks||[]).reduce((K,ee)=>(ee.rId&&(K[ee.address]=D[ee.rId].Target),K),{}),L.formulae={},j.rows=j.rows&&j.rows.filter(Boolean)||[],j.rows.forEach(K=>{K.cells=K.cells&&K.cells.filter(Boolean)||[]}),this.map.cols.reconcile(j.cols,L),this.map.sheetData.reconcile(j.rows,L),this.map.conditionalFormatting.reconcile(j.conditionalFormattings,L),j.media=[],j.drawing){const K=D[j.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(K){const ee=K[1];L.drawings[ee].anchors.forEach(G=>{if(G.medium){const te={type:"image",imageId:G.medium.index,range:G.range,hyperlinks:G.picture.hyperlinks};j.media.push(te)}})}}const Z=j.background&&D[j.background.rId];if(Z){const K=Z.Target.split("/media/")[1],ee=L.mediaIndex&&L.mediaIndex[K];ee!==void 0&&j.media.push({type:"background",imageId:ee})}j.tables=(j.tables||[]).map(K=>{const ee=D[K.rId];return L.tables[ee.Target]}),delete j.relationships,delete j.hyperlinks,delete j.comments}}A.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},n.exports=A},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{constructor(a){super(),this.tag=a.tag,this.attr=a.attr}render(a,l){l&&(a.openNode(this.tag),a.closeNode())}parseOpen(a){a.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{constructor(a){super(),this.tag=a.tag,this.attr=a.attr,this.attrs=a.attrs,this._format=a.format||function(l){try{return Number.isNaN(l.getTime())?"":l.toISOString()}catch{return""}},this._parse=a.parse||function(l){return new Date(l)}}render(a,l){l&&(a.openNode(this.tag),this.attrs&&a.addAttributes(this.attrs),this.attr?a.addAttribute(this.attr,this._format(l)):a.writeText(this._format(l)),a.closeNode())}parseOpen(a){a.name===this.tag&&(this.attr?this.model=this._parse(a.attributes[this.attr]):this.text=[])}parseText(a){this.attr||this.text.push(a)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{constructor(a){super(),this.tag=a.tag,this.attr=a.attr,this.attrs=a.attrs,this.zero=a.zero}render(a,l){(l||this.zero)&&(a.openNode(this.tag),this.attrs&&a.addAttributes(this.attrs),this.attr?a.addAttribute(this.attr,l):a.writeText(l),a.closeNode())}parseOpen(a){return a.name===this.tag&&(this.attr?this.model=parseInt(a.attributes[this.attr],10):this.text=[],!0)}parseText(a){this.attr||this.text.push(a)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{constructor(a){super(),this.tag=a.tag,this.attr=a.attr,this.attrs=a.attrs}render(a,l){l!==void 0&&(a.openNode(this.tag),this.attrs&&a.addAttributes(this.attrs),this.attr?a.addAttribute(this.attr,l):a.writeText(l),a.closeNode())}parseOpen(a){a.name===this.tag&&(this.attr?this.model=a.attributes[this.attr]:this.text=[])}parseText(a){this.attr||this.text.push(a)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(e,n,s){const i=e("./base-xform"),a=e("../../utils/xml-stream");n.exports=class extends i{constructor(l){super(),this._model=l}render(l){if(!this._xml){const c=new a;(function o(u,p){u.openNode(p.tag,p.$),p.c&&p.c.forEach(h=>{o(u,h)}),p.t&&u.writeText(p.t),u.closeNode()})(c,this._model),this._xml=c.xml}l.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(l){switch(l){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(e,n,s){const i=e("./text-xform"),a=e("./rich-text-xform"),l=e("../base-xform");n.exports=class extends l{constructor(){super(),this.map={r:new a,t:new i}}get tag(){return"rPh"}render(c,o){if(c.openNode(this.tag,{sb:o.sb||0,eb:o.eb||0}),o&&o.hasOwnProperty("richText")&&o.richText){const{r:u}=this.map;o.richText.forEach(p=>{u.render(c,p)})}else o&&this.map.t.render(c,o.text);c.closeNode()}parseOpen(c){const{name:o}=c;return this.parser?(this.parser.parseOpen(c),!0):o===this.tag?(this.model={sb:parseInt(c.attributes.sb,10),eb:parseInt(c.attributes.eb,10)},!0):(this.parser=this.map[o],!!this.parser&&(this.parser.parseOpen(c),!0))}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser){if(!this.parser.parseClose(c)){switch(c){case"r":{let o=this.model.richText;o||(o=this.model.richText=[]),o.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(c){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(e,n,s){const i=e("./text-xform"),a=e("../style/font-xform"),l=e("../base-xform");class c extends l{constructor(u){super(),this.model=u}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new i)}get fontXform(){return this._fontXform||(this._fontXform=new a(c.FONT_OPTIONS))}render(u,p){p=p||this.model,u.openNode("r"),p.font&&this.fontXform.render(u,p.font),this.textXform.render(u,p.text),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(u),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){switch(u){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(u),!0}}}c.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},n.exports=c},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(e,n,s){const i=e("./text-xform"),a=e("./rich-text-xform"),l=e("./phonetic-text-xform"),c=e("../base-xform");n.exports=class extends c{constructor(o){super(),this.model=o,this.map={r:new a,t:new i,rPh:new l}}get tag(){return"si"}render(o,u){o.openNode(this.tag),u&&u.hasOwnProperty("richText")&&u.richText?u.richText.length?u.richText.forEach(p=>{this.map.r.render(o,p)}):this.map.t.render(o,""):u!=null&&this.map.t.render(o,u),o.closeNode()}parseOpen(o){const{name:u}=o;return this.parser?(this.parser.parseOpen(o),!0):u===this.tag?(this.model={},!0):(this.parser=this.map[u],!!this.parser&&(this.parser.parseOpen(o),!0))}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser){if(!this.parser.parseClose(o)){switch(o){case"r":{let u=this.model.richText;u||(u=this.model.richText=[]),u.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(e,n,s){const i=e("../../../utils/xml-stream"),a=e("../base-xform"),l=e("./shared-string-xform");n.exports=class extends a{constructor(c){super(),this.model=c||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new l)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(c){return this.model.values[c]}add(c){return c.richText?this.addRichText(c):this.addText(c)}addText(c){let o=this.hash[c];return o===void 0&&(o=this.hash[c]=this.model.values.length,this.model.values.push(c)),this.model.count++,o}addRichText(c){const o=this.sharedStringXform.toXml(c);let u=this.rich[o];return u===void 0&&(u=this.rich[o]=this.model.values.length,this.model.values.push(c)),this.model.count++,u}render(c,o){o=o||this._values,c.openXml(i.StdDocAttributes),c.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:o.count,uniqueCount:o.values.length});const u=this.sharedStringXform;o.values.forEach(p=>{u.render(c,p)}),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(c),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(c))}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(c){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+c)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"t"}render(a,l){a.openNode("t"),/^\s|\n|\s$/.test(l)&&a.addAttribute("xml:space","preserve"),a.writeText(l),a.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(a,l)=>String.fromCharCode(parseInt(l,16)))}parseOpen(a){switch(a.name){case"t":return this._text=[],!0;default:return!1}}parseText(a){this._text.push(a)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(e,n,s){const i=e("../../../doc/enums"),a=e("../../../utils/utils"),l=e("../base-xform"),c={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((u,p)=>(u[p]=!0,u),{}),horizontal(u){return this.horizontalValues[u]?u:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((u,p)=>(u[p]=!0,u),{}),vertical(u){return u==="middle"?"center":this.verticalValues[u]?u:void 0},wrapText:u=>!!u||void 0,shrinkToFit:u=>!!u||void 0,textRotation(u){switch(u){case"vertical":return u;default:return(u=a.validInt(u))>=-90&&u<=90?u:void 0}},indent:u=>(u=a.validInt(u),Math.max(0,u)),readingOrder(u){switch(u){case"ltr":return i.ReadingOrder.LeftToRight;case"rtl":return i.ReadingOrder.RightToLeft;default:return}}},o={toXml(u){if(u=c.textRotation(u)){if(u==="vertical")return 255;const p=Math.round(u);if(p>=0&&p<=90)return p;if(p<0&&p>=-90)return 90-p}},toModel(u){const p=a.validInt(u);if(p!==void 0){if(p===255)return"vertical";if(p>=0&&p<=90)return p;if(p>90&&p<=180)return 90-p}}};n.exports=class extends l{get tag(){return"alignment"}render(u,p){u.addRollback(),u.openNode("alignment");let h=!1;function d(b,x){x&&(u.addAttribute(b,x),h=!0)}d("horizontal",c.horizontal(p.horizontal)),d("vertical",c.vertical(p.vertical)),d("wrapText",!!c.wrapText(p.wrapText)&&"1"),d("shrinkToFit",!!c.shrinkToFit(p.shrinkToFit)&&"1"),d("indent",c.indent(p.indent)),d("textRotation",o.toXml(p.textRotation)),d("readingOrder",c.readingOrder(p.readingOrder)),u.closeNode(),h?u.commit():u.rollback()}parseOpen(u){const p={};let h=!1;function d(b,x,g){b&&(p[x]=g,h=!0)}d(u.attributes.horizontal,"horizontal",u.attributes.horizontal),d(u.attributes.vertical,"vertical",u.attributes.vertical==="center"?"middle":u.attributes.vertical),d(u.attributes.wrapText,"wrapText",a.parseBoolean(u.attributes.wrapText)),d(u.attributes.shrinkToFit,"shrinkToFit",a.parseBoolean(u.attributes.shrinkToFit)),d(u.attributes.indent,"indent",parseInt(u.attributes.indent,10)),d(u.attributes.textRotation,"textRotation",o.toModel(u.attributes.textRotation)),d(u.attributes.readingOrder,"readingOrder",u.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=h?p:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(e,n,s){const i=e("../base-xform"),a=e("../../../utils/utils"),l=e("./color-xform");class c extends i{constructor(u){super(),this.name=u,this.map={color:new l}}get tag(){return this.name}render(u,p,h){const d=p&&p.color||h||this.defaultColor;u.openNode(this.name),p&&p.style&&(u.addAttribute("style",p.style),d&&this.map.color.render(u,d)),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.name:{const{style:p}=u.attributes;return this.model=p?{style:p}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.parser=void 0),!0):(u===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(u){return c.validStyleValues[u]}}c.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((o,u)=>(o[u]=!0,o),{}),n.exports=class extends i{constructor(){super(),this.map={top:new c("top"),left:new c("left"),bottom:new c("bottom"),right:new c("right"),diagonal:new c("diagonal")}}render(o,u){const{color:p}=u;function h(d,b){d&&!d.color&&u.color&&(d={...d,color:u.color}),b.render(o,d,p)}o.openNode("border"),u.diagonal&&u.diagonal.style&&(u.diagonal.up&&o.addAttribute("diagonalUp","1"),u.diagonal.down&&o.addAttribute("diagonalDown","1")),h(u.left,this.map.left),h(u.right,this.map.right),h(u.top,this.map.top),h(u.bottom,this.map.bottom),h(u.diagonal,this.map.diagonal),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"border":return this.reset(),this.diagonalUp=a.parseBoolean(o.attributes.diagonalUp),this.diagonalDown=a.parseBoolean(o.attributes.diagonalDown),!0;default:return this.parser=this.map[o.name],!!this.parser&&(this.parser.parseOpen(o),!0)}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;if(o==="border"){const u=this.model={},p=function(h,d,b){d&&(b&&Object.assign(d,b),u[h]=d)};p("left",this.map.left.model),p("right",this.map.right.model),p("top",this.map.top.model),p("bottom",this.map.bottom.model),p("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{constructor(a){super(),this.name=a||"color"}get tag(){return this.name}render(a,l){return!!l&&(a.openNode(this.name),l.argb?a.addAttribute("rgb",l.argb):l.theme!==void 0?(a.addAttribute("theme",l.theme),l.tint!==void 0&&a.addAttribute("tint",l.tint)):l.indexed!==void 0?a.addAttribute("indexed",l.indexed):a.addAttribute("auto","1"),a.closeNode(),!0)}parseOpen(a){return a.name===this.name&&(a.attributes.rgb?this.model={argb:a.attributes.rgb}:a.attributes.theme?(this.model={theme:parseInt(a.attributes.theme,10)},a.attributes.tint&&(this.model.tint=parseFloat(a.attributes.tint))):a.attributes.indexed?this.model={indexed:parseInt(a.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(e,n,s){const i=e("../base-xform"),a=e("./alignment-xform"),l=e("./border-xform"),c=e("./fill-xform"),o=e("./font-xform"),u=e("./numfmt-xform"),p=e("./protection-xform");n.exports=class extends i{constructor(){super(),this.map={alignment:new a,border:new l,fill:new c,font:new o,numFmt:new u,protection:new p}}get tag(){return"dxf"}render(h,d){if(h.openNode(this.tag),d.font&&this.map.font.render(h,d.font),d.numFmt&&d.numFmtId){const b={id:d.numFmtId,formatCode:d.numFmt};this.map.numFmt.render(h,b)}d.fill&&this.map.fill.render(h,d.fill),d.alignment&&this.map.alignment.render(h,d.alignment),d.border&&this.map.border.render(h,d.border),d.protection&&this.map.protection.render(h,d.protection),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h),!0}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return this.parser?(this.parser.parseClose(h)||(this.parser=void 0),!0):h!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(e,n,s){const i=e("../base-xform"),a=e("./color-xform");class l extends i{constructor(){super(),this.map={color:new a}}get tag(){return"stop"}render(h,d){h.openNode("stop"),h.addAttribute("position",d.position),this.map.color.render(h,d.color),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"stop":return this.model={position:parseFloat(h.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(h),!0;default:return!1}}parseText(){}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class c extends i{constructor(){super(),this.map={fgColor:new a("fgColor"),bgColor:new a("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(h,d){h.openNode("patternFill"),h.addAttribute("patternType",d.pattern),d.fgColor&&this.map.fgColor.render(h,d.fgColor),d.bgColor&&this.map.bgColor.render(h,d.bgColor),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"patternFill":return this.model={type:"pattern",pattern:h.attributes.patternType},!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.parser.model&&(this.model[h]=this.parser.model),this.parser=void 0),!0)}}class o extends i{constructor(){super(),this.map={stop:new l}}get name(){return"gradient"}get tag(){return"gradientFill"}render(h,d){switch(h.openNode("gradientFill"),d.gradient){case"angle":h.addAttribute("degree",d.degree);break;case"path":h.addAttribute("type","path"),d.center.left&&(h.addAttribute("left",d.center.left),d.center.right===void 0&&h.addAttribute("right",d.center.left)),d.center.right&&h.addAttribute("right",d.center.right),d.center.top&&(h.addAttribute("top",d.center.top),d.center.bottom===void 0&&h.addAttribute("bottom",d.center.top)),d.center.bottom&&h.addAttribute("bottom",d.center.bottom)}const b=this.map.stop;d.stops.forEach(x=>{b.render(h,x)}),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"gradientFill":{const d=this.model={stops:[]};return h.attributes.degree?(d.gradient="angle",d.degree=parseInt(h.attributes.degree,10)):h.attributes.type==="path"&&(d.gradient="path",d.center={left:h.attributes.left?parseFloat(h.attributes.left):0,top:h.attributes.top?parseFloat(h.attributes.top):0},h.attributes.right!==h.attributes.left&&(d.center.right=h.attributes.right?parseFloat(h.attributes.right):0),h.attributes.bottom!==h.attributes.top&&(d.center.bottom=h.attributes.bottom?parseFloat(h.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(h),!0;default:return!1}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class u extends i{constructor(){super(),this.map={patternFill:new c,gradientFill:new o}}get tag(){return"fill"}render(h,d){switch(h.addRollback(),h.openNode("fill"),d.type){case"pattern":this.map.patternFill.render(h,d);break;case"gradient":this.map.gradientFill.render(h,d);break;default:return void h.rollback()}h.closeNode(),h.commit()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"fill":return this.model={},!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(h){return u.validPatternValues[h]}}u.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((p,h)=>(p[h]=!0,p),{}),u.StopXform=l,u.PatternFillXform=c,u.GradientFillXform=o,n.exports=u},{"../base-xform":32,"./color-xform":128}],131:[function(e,n,s){const i=e("./color-xform"),a=e("../simple/boolean-xform"),l=e("../simple/integer-xform"),c=e("../simple/string-xform"),o=e("./underline-xform"),u=e("../../../utils/under-dash"),p=e("../base-xform");class h extends p{constructor(b){super(),this.options=b||h.OPTIONS,this.map={b:{prop:"bold",xform:new a({tag:"b",attr:"val"})},i:{prop:"italic",xform:new a({tag:"i",attr:"val"})},u:{prop:"underline",xform:new o},charset:{prop:"charset",xform:new l({tag:"charset",attr:"val"})},color:{prop:"color",xform:new i},condense:{prop:"condense",xform:new a({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new a({tag:"extend",attr:"val"})},family:{prop:"family",xform:new l({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new a({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new c({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new c({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new a({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new a({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new l({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new c({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(b,x){const{map:g}=this;b.openNode(this.options.tagName),u.each(this.map,(v,y)=>{g[y].xform.render(b,x[v.prop])}),b.closeNode()}parseOpen(b){if(this.parser)return this.parser.parseOpen(b),!0;if(this.map[b.name])return this.parser=this.map[b.name].xform,this.parser.parseOpen(b);switch(b.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(b){this.parser&&this.parser.parseText(b)}parseClose(b){if(this.parser&&!this.parser.parseClose(b)){const x=this.map[b];return this.parser.model&&(this.model[x.prop]=this.parser.model),this.parser=void 0,!0}switch(b){case this.options.tagName:return!1;default:return!0}}}h.OPTIONS={tagName:"font",fontNameTag:"name"},n.exports=h},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(e,n,s){const i=e("../../../utils/under-dash"),a=e("../../defaultnumformats"),l=e("../base-xform"),c=(function(){const u={};return i.each(a,(p,h)=>{p.f&&(u[p.f]=parseInt(h,10))}),u})();class o extends l{constructor(p,h){super(),this.id=p,this.formatCode=h}get tag(){return"numFmt"}render(p,h){p.leafNode("numFmt",{numFmtId:h.id,formatCode:h.formatCode})}parseOpen(p){switch(p.name){case"numFmt":return this.model={id:parseInt(p.attributes.numFmtId,10),formatCode:p.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}o.getDefaultFmtId=function(u){return c[u]},o.getDefaultFmtCode=function(u){return a[u]&&a[u].f},n.exports=o},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(e,n,s){const i=e("../base-xform"),a={boolean:(l,c)=>l===void 0?c:l};n.exports=class extends i{get tag(){return"protection"}render(l,c){l.addRollback(),l.openNode("protection");let o=!1;function u(p,h){h!==void 0&&(l.addAttribute(p,h),o=!0)}u("locked",a.boolean(c.locked,!0)?void 0:"0"),u("hidden",a.boolean(c.hidden,!1)?"1":void 0),l.closeNode(),o?l.commit():l.rollback()}parseOpen(l){const c={locked:l.attributes.locked!=="0",hidden:l.attributes.hidden==="1"},o=!c.locked||c.hidden;this.model=o?c:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(e,n,s){const i=e("../base-xform"),a=e("./alignment-xform"),l=e("./protection-xform");n.exports=class extends i{constructor(c){super(),this.xfId=!(!c||!c.xfId),this.map={alignment:new a,protection:new l}}get tag(){return"xf"}render(c,o){c.openNode("xf",{numFmtId:o.numFmtId||0,fontId:o.fontId||0,fillId:o.fillId||0,borderId:o.borderId||0}),this.xfId&&c.addAttribute("xfId",o.xfId||0),o.numFmtId&&c.addAttribute("applyNumberFormat","1"),o.fontId&&c.addAttribute("applyFont","1"),o.fillId&&c.addAttribute("applyFill","1"),o.borderId&&c.addAttribute("applyBorder","1"),o.alignment&&c.addAttribute("applyAlignment","1"),o.protection&&c.addAttribute("applyProtection","1"),o.alignment&&this.map.alignment.render(c,o.alignment),o.protection&&this.map.protection.render(c,o.protection),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"xf":return this.model={numFmtId:parseInt(c.attributes.numFmtId,10),fontId:parseInt(c.attributes.fontId,10),fillId:parseInt(c.attributes.fillId,10),borderId:parseInt(c.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(c.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(c),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){return this.parser?(this.parser.parseClose(c)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):c!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(e,n,s){const i=e("../../../doc/enums"),a=e("../../../utils/xml-stream"),l=e("../base-xform"),c=e("../static-xform"),o=e("../list-xform"),u=e("./font-xform"),p=e("./fill-xform"),h=e("./border-xform"),d=e("./numfmt-xform"),b=e("./style-xform"),x=e("./dxf-xform");class g extends l{constructor(y){super(),this.map={numFmts:new o({tag:"numFmts",count:!0,childXform:new d}),fonts:new o({tag:"fonts",count:!0,childXform:new u,$:{"x14ac:knownFonts":1}}),fills:new o({tag:"fills",count:!0,childXform:new p}),borders:new o({tag:"borders",count:!0,childXform:new h}),cellStyleXfs:new o({tag:"cellStyleXfs",count:!0,childXform:new b}),cellXfs:new o({tag:"cellXfs",count:!0,childXform:new b({xfId:!0})}),dxfs:new o({tag:"dxfs",always:!0,count:!0,childXform:new x}),numFmt:new d,font:new u,fill:new p,border:new h,style:new b({xfId:!0}),cellStyles:g.STATIC_XFORMS.cellStyles,tableStyles:g.STATIC_XFORMS.tableStyles,extLst:g.STATIC_XFORMS.extLst},y&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(y,k){k=k||this.model,y.openXml(a.StdDocAttributes),y.openNode("styleSheet",g.STYLESHEET_ATTRIBUTES),this.index?(k.numFmts&&k.numFmts.length&&(y.openNode("numFmts",{count:k.numFmts.length}),k.numFmts.forEach(R=>{y.writeXml(R)}),y.closeNode()),k.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),y.openNode("fonts",{count:k.fonts.length,"x14ac:knownFonts":1}),k.fonts.forEach(R=>{y.writeXml(R)}),y.closeNode(),y.openNode("fills",{count:k.fills.length}),k.fills.forEach(R=>{y.writeXml(R)}),y.closeNode(),y.openNode("borders",{count:k.borders.length}),k.borders.forEach(R=>{y.writeXml(R)}),y.closeNode(),this.map.cellStyleXfs.render(y,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),y.openNode("cellXfs",{count:k.styles.length}),k.styles.forEach(R=>{y.writeXml(R)}),y.closeNode()):(this.map.numFmts.render(y,k.numFmts),this.map.fonts.render(y,k.fonts),this.map.fills.render(y,k.fills),this.map.borders.render(y,k.borders),this.map.cellStyleXfs.render(y,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(y,k.styles)),g.STATIC_XFORMS.cellStyles.render(y),this.map.dxfs.render(y,k.dxfs),g.STATIC_XFORMS.tableStyles.render(y),g.STATIC_XFORMS.extLst.render(y),y.closeNode()}parseOpen(y){if(this.parser)return this.parser.parseOpen(y),!0;switch(y.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[y.name],this.parser&&this.parser.parseOpen(y),!0}}parseText(y){this.parser&&this.parser.parseText(y)}parseClose(y){if(this.parser)return this.parser.parseClose(y)||(this.parser=void 0),!0;switch(y){case"styleSheet":{this.model={};const k=(R,z)=>{z.model&&z.model.length&&(this.model[R]=z.model)};if(k("numFmts",this.map.numFmts),k("fonts",this.map.fonts),k("fills",this.map.fills),k("borders",this.map.borders),k("styles",this.map.cellXfs),k("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const R=this.index.numFmt;this.model.numFmts.forEach(z=>{R[z.id]=z.formatCode})}return!1}default:return!0}}addStyleModel(y,k){if(!y)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(y))return this.weakMap.get(y);const R={};if(k=k||i.ValueType.Number,y.numFmt)R.numFmtId=this._addNumFmtStr(y.numFmt);else switch(k){case i.ValueType.Number:R.numFmtId=this._addNumFmtStr("General");break;case i.ValueType.Date:R.numFmtId=this._addNumFmtStr("mm-dd-yy")}y.font&&(R.fontId=this._addFont(y.font)),y.border&&(R.borderId=this._addBorder(y.border)),y.fill&&(R.fillId=this._addFill(y.fill)),y.alignment&&(R.alignment=y.alignment),y.protection&&(R.protection=y.protection);const z=this._addStyle(R);return this.weakMap&&this.weakMap.set(y,z),z}getStyleModel(y){const k=this.model.styles[y];if(!k)return null;let R=this.index.model[y];if(R)return R;if(R=this.index.model[y]={},k.numFmtId){const q=this.index.numFmt[k.numFmtId]||d.getDefaultFmtCode(k.numFmtId);q&&(R.numFmt=q)}function z(q,B,I){if(I||I===0){const O=B[I];O&&(R[q]=O)}}return z("font",this.model.fonts,k.fontId),z("border",this.model.borders,k.borderId),z("fill",this.model.fills,k.fillId),k.alignment&&(R.alignment=k.alignment),k.protection&&(R.protection=k.protection),R}addDxfStyle(y){return y.numFmt&&(y.numFmtId=this._addNumFmtStr(y.numFmt)),this.model.dxfs.push(y),this.model.dxfs.length-1}getDxfStyle(y){return this.model.dxfs[y]}_addStyle(y){const k=this.map.style.toXml(y);let R=this.index.style[k];return R===void 0&&(R=this.index.style[k]=this.model.styles.length,this.model.styles.push(k)),R}_addNumFmtStr(y){let k=d.getDefaultFmtId(y);if(k!==void 0||(k=this.index.numFmt[y],k!==void 0))return k;k=this.index.numFmt[y]=164+this.model.numFmts.length;const R=this.map.numFmt.toXml({id:k,formatCode:y});return this.model.numFmts.push(R),k}_addFont(y){const k=this.map.font.toXml(y);let R=this.index.font[k];return R===void 0&&(R=this.index.font[k]=this.model.fonts.length,this.model.fonts.push(k)),R}_addBorder(y){const k=this.map.border.toXml(y);let R=this.index.border[k];return R===void 0&&(R=this.index.border[k]=this.model.borders.length,this.model.borders.push(k)),R}_addFill(y){const k=this.map.fill.toXml(y);let R=this.index.fill[k];return R===void 0&&(R=this.index.fill[k]=this.model.fills.length,this.model.fills.push(k)),R}}g.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},g.STATIC_XFORMS={cellStyles:new c({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new c({tag:"dxfs",$:{count:0}}),tableStyles:new c({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new c({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},g.Mock=class extends g{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(v){return v.autodrain(),Promise.resolve()}addStyleModel(v,y){switch(y){case i.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){const v={numFmtId:d.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(v)}return this._dateStyleId}getStyleModel(){return{}}},n.exports=g},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(e,n,s){const i=e("../base-xform");class a extends i{constructor(c){super(),this.model=c}get tag(){return"u"}render(c,o){if((o=o||this.model)===!0)c.leafNode("u");else{const u=a.Attributes[o];u&&c.leafNode("u",u)}}parseOpen(c){c.name==="u"&&(this.model=c.attributes.val||!0)}parseText(){}parseClose(){return!1}}a.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},n.exports=a},{"../base-xform":32}],137:[function(e,n,s){const i=e("../base-xform"),a=e("./filter-column-xform");n.exports=class extends i{constructor(){super(),this.map={filterColumn:new a}}get tag(){return"autoFilter"}prepare(l){l.columns.forEach((c,o)=>{this.map.filterColumn.prepare(c,{index:o})})}render(l,c){return l.openNode(this.tag,{ref:c.autoFilterRef}),c.columns.forEach(o=>{this.map.filterColumn.render(l,o)}),l.closeNode(),!0}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:return this.model={autoFilterRef:l.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[l.name],this.parser)return this.parseOpen(l),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(l))}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(l){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+l)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"customFilter"}render(a,l){a.leafNode(this.tag,{val:l.val,operator:l.operator})}parseOpen(a){return a.name===this.tag&&(this.model={val:a.attributes.val,operator:a.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(e,n,s){const i=e("../base-xform"),a=e("../list-xform"),l=e("./custom-filter-xform"),c=e("./filter-xform");n.exports=class extends i{constructor(){super(),this.map={customFilters:new a({tag:"customFilters",count:!1,empty:!0,childXform:new l}),filters:new a({tag:"filters",count:!1,empty:!0,childXform:new c})}}get tag(){return"filterColumn"}prepare(o,u){o.colId=u.index.toString()}render(o,u){return u.customFilters?(o.openNode(this.tag,{colId:u.colId,hiddenButton:u.filterButton?"0":"1"}),this.map.customFilters.render(o,u.customFilters),o.closeNode(),!0):(o.leafNode(this.tag,{colId:u.colId,hiddenButton:u.filterButton?"0":"1"}),!0)}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;const{attributes:u}=o;switch(o.name){case this.tag:return this.model={filterButton:u.hiddenButton==="0"},!0;default:if(this.parser=this.map[o.name],this.parser)return this.parseOpen(o),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(o))}}parseText(){}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"filter"}render(a,l){a.leafNode(this.tag,{val:l.val})}parseOpen(a){return a.name===this.tag&&(this.model={val:a.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"tableColumn"}prepare(a,l){a.id=l.index+1}render(a,l){return a.leafNode(this.tag,{id:l.id.toString(),name:l.name,totalsRowLabel:l.totalsRowLabel,totalsRowFunction:l.totalsRowFunction,dxfId:l.dxfId}),!0}parseOpen(a){if(a.name===this.tag){const{attributes:l}=a;return this.model={name:l.name,totalsRowLabel:l.totalsRowLabel,totalsRowFunction:l.totalsRowFunction,dxfId:l.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(e,n,s){const i=e("../base-xform");n.exports=class extends i{get tag(){return"tableStyleInfo"}render(a,l){return a.leafNode(this.tag,{name:l.theme?l.theme:void 0,showFirstColumn:l.showFirstColumn?"1":"0",showLastColumn:l.showLastColumn?"1":"0",showRowStripes:l.showRowStripes?"1":"0",showColumnStripes:l.showColumnStripes?"1":"0"}),!0}parseOpen(a){if(a.name===this.tag){const{attributes:l}=a;return this.model={theme:l.name?l.name:null,showFirstColumn:l.showFirstColumn==="1",showLastColumn:l.showLastColumn==="1",showRowStripes:l.showRowStripes==="1",showColumnStripes:l.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(e,n,s){const i=e("../../../utils/xml-stream"),a=e("../base-xform"),l=e("../list-xform"),c=e("./auto-filter-xform"),o=e("./table-column-xform"),u=e("./table-style-info-xform");class p extends a{constructor(){super(),this.map={autoFilter:new c,tableColumns:new l({tag:"tableColumns",count:!0,empty:!0,childXform:new o}),tableStyleInfo:new u}}prepare(d,b){this.map.autoFilter.prepare(d),this.map.tableColumns.prepare(d.columns,b)}get tag(){return"table"}render(d,b){d.openXml(i.StdDocAttributes),d.openNode(this.tag,{...p.TABLE_ATTRIBUTES,id:b.id,name:b.name,displayName:b.displayName||b.name,ref:b.tableRef,totalsRowCount:b.totalsRow?"1":void 0,totalsRowShown:b.totalsRow?void 0:"1",headerRowCount:b.headerRow?"1":"0"}),this.map.autoFilter.render(d,b),this.map.tableColumns.render(d,b.columns),this.map.tableStyleInfo.render(d,b.style),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;const{name:b,attributes:x}=d;switch(b){case this.tag:this.reset(),this.model={name:x.name,displayName:x.displayName||x.name,tableRef:x.ref,totalsRow:x.totalsRowCount==="1",headerRow:x.headerRowCount==="1"};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((b,x)=>{this.model.columns[x].filterButton=b.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(d,b){d.columns.forEach(x=>{x.dxfId!==void 0&&(x.style=b.styles.getDxfStyle(x.dxfId))})}}p.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},n.exports=p},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(e,n,s){(function(i,a){(function(){const l=e("fs"),c=e("jszip"),{PassThrough:o}=e("readable-stream"),u=e("../utils/zip-stream"),p=e("../utils/stream-buf"),h=e("../utils/utils"),d=e("../utils/xml-stream"),{bufferToString:b}=e("../utils/browser-buffer-decode"),x=e("./xform/style/styles-xform"),g=e("./xform/core/core-xform"),v=e("./xform/strings/shared-strings-xform"),y=e("./xform/core/relationships-xform"),k=e("./xform/core/content-types-xform"),R=e("./xform/core/app-xform"),z=e("./xform/book/workbook-xform"),q=e("./xform/sheet/worksheet-xform"),B=e("./xform/drawing/drawing-xform"),I=e("./xform/table/table-xform"),O=e("./xform/comment/comments-xform"),F=e("./xform/comment/vml-notes-xform"),W=e("./xml/theme1");class V{constructor(P){this.workbook=P}async readFile(P,C){if(!await h.fs.exists(P))throw new Error("File not found: "+P);const S=l.createReadStream(P);try{const E=await this.read(S,C);return S.close(),E}catch(E){throw S.close(),E}}parseRels(P){return new y().parseStream(P)}parseWorkbook(P){return new z().parseStream(P)}parseSharedStrings(P){return new v().parseStream(P)}reconcile(P,C){const S=new z,E=new q(C),A=new B,T=new I;S.reconcile(P);const j={media:P.media,mediaIndex:P.mediaIndex};Object.keys(P.drawings).forEach(Z=>{const K=P.drawings[Z],ee=P.drawingRels[Z];ee&&(j.rels=ee.reduce((G,te)=>(G[te.Id]=te,G),{}),(K.anchors||[]).forEach(G=>{const te=G.picture&&G.picture.hyperlinks;te&&j.rels[te.rId]&&(te.hyperlink=j.rels[te.rId].Target,delete te.rId)}),A.reconcile(K,j))});const L={styles:P.styles};Object.values(P.tables).forEach(Z=>{T.reconcile(Z,L)});const D={styles:P.styles,sharedStrings:P.sharedStrings,media:P.media,mediaIndex:P.mediaIndex,date1904:P.properties&&P.properties.date1904,drawings:P.drawings,comments:P.comments,tables:P.tables,vmlDrawings:P.vmlDrawings};P.worksheets.forEach(Z=>{Z.relationships=P.worksheetRels[Z.sheetNo],E.reconcile(Z,D)}),delete P.worksheetHash,delete P.worksheetRels,delete P.globalRels,delete P.sharedStrings,delete P.workbookRels,delete P.sheetDefs,delete P.styles,delete P.mediaIndex,delete P.drawings,delete P.drawingRels,delete P.vmlDrawings}async _processWorksheetEntry(P,C,S,E,A){const T=new q(E),j=await T.parseStream(P);j.sheetNo=S,C.worksheetHash[A]=j,C.worksheets.push(j)}async _processCommentEntry(P,C,S){const E=new O,A=await E.parseStream(P);C.comments[`../${S}.xml`]=A}async _processTableEntry(P,C,S){const E=new I,A=await E.parseStream(P);C.tables[`../tables/${S}.xml`]=A}async _processWorksheetRelsEntry(P,C,S){const E=new y,A=await E.parseStream(P);C.worksheetRels[S]=A}async _processMediaEntry(P,C,S){const E=S.lastIndexOf(".");if(E>=1){const A=S.substr(E+1),T=S.substr(0,E);await new Promise((j,L)=>{const D=new p;D.on("finish",()=>{C.mediaIndex[S]=C.media.length,C.mediaIndex[T]=C.media.length;const Z={type:"image",name:T,extension:A,buffer:D.toBuffer()};C.media.push(Z),j()}),P.on("error",Z=>{L(Z)}),P.pipe(D)})}}async _processDrawingEntry(P,C,S){const E=new B,A=await E.parseStream(P);C.drawings[S]=A}async _processDrawingRelsEntry(P,C,S){const E=new y,A=await E.parseStream(P);C.drawingRels[S]=A}async _processVmlDrawingEntry(P,C,S){const E=new F,A=await E.parseStream(P);C.vmlDrawings[`../drawings/${S}.vml`]=A}async _processThemeEntry(P,C,S){await new Promise((E,A)=>{const T=new p;P.on("error",A),T.on("error",A),T.on("finish",()=>{C.themes[S]=T.read().toString(),E()}),P.pipe(T)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(P,C){!P[Symbol.asyncIterator]&&P.pipe&&(P=P.pipe(new o));const S=[];for await(const E of P)S.push(E);return this.load(a.concat(S),C)}async load(P,C){let S;S=C&&C.base64?a.from(P.toString(),"base64"):P;const E={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},A=await c.loadAsync(S);for(const T of Object.values(A.files))if(!T.dir){let j,L=T.name;if(L[0]==="/"&&(L=L.substr(1)),L.match(/xl\/media\//)||L.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))j=new o,j.write(await T.async("nodebuffer"));else{let D;j=new o({writableObjectMode:!0,readableObjectMode:!0}),D=i.browser?b(await T.async("nodebuffer")):await T.async("string");const Z=16384;for(let K=0;K<D.length;K+=Z)j.write(D.substring(K,K+Z))}switch(j.end(),L){case"_rels/.rels":E.globalRels=await this.parseRels(j);break;case"xl/workbook.xml":{const D=await this.parseWorkbook(j);E.sheets=D.sheets,E.definedNames=D.definedNames,E.views=D.views,E.properties=D.properties,E.calcProperties=D.calcProperties;break}case"xl/_rels/workbook.xml.rels":E.workbookRels=await this.parseRels(j);break;case"xl/sharedStrings.xml":E.sharedStrings=new v,await E.sharedStrings.parseStream(j);break;case"xl/styles.xml":E.styles=new x,await E.styles.parseStream(j);break;case"docProps/app.xml":{const D=new R,Z=await D.parseStream(j);E.company=Z.company,E.manager=Z.manager;break}case"docProps/core.xml":{const D=new g,Z=await D.parseStream(j);Object.assign(E,Z);break}default:{let D=L.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(D){await this._processWorksheetEntry(j,E,D[1],C,L);break}if(D=L.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),D){await this._processWorksheetRelsEntry(j,E,D[1]);break}if(D=L.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),D){await this._processThemeEntry(j,E,D[1]);break}if(D=L.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),D){await this._processMediaEntry(j,E,D[1]);break}if(D=L.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),D){await this._processDrawingEntry(j,E,D[1]);break}if(D=L.match(/xl\/(comments\d+)[.]xml/),D){await this._processCommentEntry(j,E,D[1]);break}if(D=L.match(/xl\/tables\/(table\d+)[.]xml/),D){await this._processTableEntry(j,E,D[1]);break}if(D=L.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),D){await this._processDrawingRelsEntry(j,E,D[1]);break}if(D=L.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),D){await this._processVmlDrawingEntry(j,E,D[1]);break}}}}return this.reconcile(E,C),this.workbook.model=E,this.workbook}async addMedia(P,C){await Promise.all(C.media.map(async S=>{if(S.type==="image"){const E=`xl/media/${S.name}.${S.extension}`;if(S.filename){const A=await(function(T,j){return new Promise((L,D)=>{l.readFile(T,j,(Z,K)=>{Z?D(Z):L(K)})})})(S.filename);return P.append(A,{name:E})}if(S.buffer)return P.append(S.buffer,{name:E});if(S.base64){const A=S.base64,T=A.substring(A.indexOf(",")+1);return P.append(T,{name:E,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(P,C){const S=new B,E=new y;C.worksheets.forEach(A=>{const{drawing:T}=A;if(T){S.prepare(T,{});let j=S.toXml(T);P.append(j,{name:`xl/drawings/${T.name}.xml`}),j=E.toXml(T.rels),P.append(j,{name:`xl/drawings/_rels/${T.name}.xml.rels`})}})}addTables(P,C){const S=new I;C.worksheets.forEach(E=>{const{tables:A}=E;A.forEach(T=>{S.prepare(T,{});const j=S.toXml(T);P.append(j,{name:"xl/tables/"+T.target})})})}async addContentTypes(P,C){const S=new k().toXml(C);P.append(S,{name:"[Content_Types].xml"})}async addApp(P,C){const S=new R().toXml(C);P.append(S,{name:"docProps/app.xml"})}async addCore(P,C){const S=new g;P.append(S.toXml(C),{name:"docProps/core.xml"})}async addThemes(P,C){const S=C.themes||{theme1:W};Object.keys(S).forEach(E=>{const A=S[E],T=`xl/theme/${E}.xml`;P.append(A,{name:T})})}async addOfficeRels(P){const C=new y().toXml([{Id:"rId1",Type:V.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:V.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:V.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);P.append(C,{name:"_rels/.rels"})}async addWorkbookRels(P,C){let S=1;const E=[{Id:"rId"+S++,Type:V.RelType.Styles,Target:"styles.xml"},{Id:"rId"+S++,Type:V.RelType.Theme,Target:"theme/theme1.xml"}];C.sharedStrings.count&&E.push({Id:"rId"+S++,Type:V.RelType.SharedStrings,Target:"sharedStrings.xml"}),C.worksheets.forEach(T=>{T.rId="rId"+S++,E.push({Id:T.rId,Type:V.RelType.Worksheet,Target:`worksheets/sheet${T.id}.xml`})});const A=new y().toXml(E);P.append(A,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(P,C){C.sharedStrings&&C.sharedStrings.count&&P.append(C.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(P,C){const{xml:S}=C.styles;S&&P.append(S,{name:"xl/styles.xml"})}async addWorkbook(P,C){const S=new z;P.append(S.toXml(C),{name:"xl/workbook.xml"})}async addWorksheets(P,C){const S=new q,E=new y,A=new O,T=new F;C.worksheets.forEach(j=>{let L=new d;S.render(L,j),P.append(L.xml,{name:`xl/worksheets/sheet${j.id}.xml`}),j.rels&&j.rels.length&&(L=new d,E.render(L,j.rels),P.append(L.xml,{name:`xl/worksheets/_rels/sheet${j.id}.xml.rels`})),j.comments.length>0&&(L=new d,A.render(L,j),P.append(L.xml,{name:`xl/comments${j.id}.xml`}),L=new d,T.render(L,j),P.append(L.xml,{name:`xl/drawings/vmlDrawing${j.id}.vml`}))})}_finalize(P){return new Promise((C,S)=>{P.on("finish",()=>{C(this)}),P.on("error",S),P.finalize()})}prepareModel(P,C){P.creator=P.creator||"ExcelJS",P.lastModifiedBy=P.lastModifiedBy||"ExcelJS",P.created=P.created||new Date,P.modified=P.modified||new Date,P.useSharedStrings=C.useSharedStrings===void 0||C.useSharedStrings,P.useStyles=C.useStyles===void 0||C.useStyles,P.sharedStrings=new v,P.styles=P.useStyles?new x(!0):new x.Mock;const S=new z,E=new q;S.prepare(P);const A={sharedStrings:P.sharedStrings,styles:P.styles,date1904:P.properties.date1904,drawingsCount:0,media:P.media};A.drawings=P.drawings=[],A.commentRefs=P.commentRefs=[];let T=0;P.tables=[],P.worksheets.forEach(j=>{j.tables.forEach(L=>{T++,L.target=`table${T}.xml`,L.id=T,P.tables.push(L)}),E.prepare(j,A)})}async write(P,C){C=C||{};const{model:S}=this.workbook,E=new u.ZipWriter(C.zip);return E.pipe(P),this.prepareModel(S,C),await this.addContentTypes(E,S),await this.addOfficeRels(E,S),await this.addWorkbookRels(E,S),await this.addWorksheets(E,S),await this.addSharedStrings(E,S),await this.addDrawings(E,S),await this.addTables(E,S),await Promise.all([this.addThemes(E,S),this.addStyles(E,S)]),await this.addMedia(E,S),await Promise.all([this.addApp(E,S),this.addCore(E,S)]),await this.addWorkbook(E,S),this._finalize(E)}writeFile(P,C){const S=l.createWriteStream(P);return new Promise((E,A)=>{S.on("finish",()=>{E()}),S.on("error",T=>{A(T)}),this.write(S,C).then(()=>{S.end()}).catch(T=>{A(T)})})}async writeBuffer(P){const C=new p;return await this.write(C,P),C.read()}}V.RelType=e("./rel-type"),n.exports=V}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(e,n,s){n.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(e,n,s){(function(i){(function(){Object.defineProperty(s,"__esModule",{value:!0}),s.CsvFormatterStream=void 0;const a=e("stream"),l=e("./formatter");class c extends a.Transform{constructor(u){super({writableObjectMode:u.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=u,this.rowFormatter=new l.RowFormatter(u),this.hasWrittenBOM=!u.writeBOM}transform(u){return this.rowFormatter.rowTransform=u,this}_transform(u,p,h){let d=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(u,(b,x)=>b?(d=!0,h(b)):(x&&x.forEach(g=>{this.push(i.from(g,"utf8"))}),d=!0,h()))}catch(b){if(d)throw b;h(b)}}_flush(u){this.rowFormatter.finish((p,h)=>p?u(p):(h&&h.forEach(d=>{this.push(i.from(d,"utf8"))}),u()))}}s.CsvFormatterStream=c}).call(this)}).call(this,e("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.FormatterOptions=void 0,s.FormatterOptions=class{constructor(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var a;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,i||{}),(i==null?void 0:i.quoteHeaders)===void 0&&(this.quoteHeaders=this.quoteColumns),(i==null?void 0:i.quote)===!0?this.quote='"':(i==null?void 0:i.quote)===!1&&(this.quote=""),typeof(i==null?void 0:i.escape)!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((a=i.writeHeaders)===null||a===void 0||a),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(e,n,s){var i=function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(s,"__esModule",{value:!0}),s.FieldFormatter=void 0;const a=i(e("lodash.isboolean")),l=i(e("lodash.isnil")),c=i(e("lodash.escaperegexp"));s.FieldFormatter=class{constructor(o){this._headers=null,this.formatterOptions=o,o.headers!==null&&(this.headers=o.headers),this.REPLACE_REGEXP=new RegExp(o.quote,"g");const u=`[${o.delimiter}${c.default(o.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(u)}set headers(o){this._headers=o}shouldQuote(o,u){const p=u?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return a.default(p)?p:Array.isArray(p)?p[o]:this._headers!==null&&p[this._headers[o]]}format(o,u,p){const h=(""+(l.default(o)?"":o)).replace(/\0/g,""),{formatterOptions:d}=this;return d.quote!==""&&h.indexOf(d.quote)!==-1?this.quoteField(h.replace(this.REPLACE_REGEXP,d.escapedQuote)):h.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(u,p)?this.quoteField(h):h}quoteField(o){const{quote:u}=this.formatterOptions;return`${u}${o}${u}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(e,n,s){var i=function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(s,"__esModule",{value:!0}),s.RowFormatter=void 0;const a=i(e("lodash.isfunction")),l=i(e("lodash.isequal")),c=e("./FieldFormatter"),o=e("../types");class u{constructor(h){this.rowCount=0,this.formatterOptions=h,this.fieldFormatter=new c.FieldFormatter(h),this.headers=h.headers,this.shouldWriteHeaders=h.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),h.transform&&(this.rowTransform=h.transform)}static isRowHashArray(h){return!!Array.isArray(h)&&Array.isArray(h[0])&&h[0].length===2}static isRowArray(h){return Array.isArray(h)&&!this.isRowHashArray(h)}static gatherHeaders(h){return u.isRowHashArray(h)?h.map(d=>d[0]):Array.isArray(h)?h:Object.keys(h)}static createTransform(h){return o.isSyncTransform(h)?(d,b)=>{let x=null;try{x=h(d)}catch(g){return b(g)}return b(null,x)}:(d,b)=>{h(d,b)}}set rowTransform(h){if(!a.default(h))throw new TypeError("The transform should be a function");this._rowTransform=u.createTransform(h)}format(h,d){this.callTransformer(h,(b,x)=>{if(b)return d(b);if(!h)return d(null);const g=[];if(x){const{shouldFormatColumns:v,headers:y}=this.checkHeaders(x);if(this.shouldWriteHeaders&&y&&!this.hasWrittenHeaders&&(g.push(this.formatColumns(y,!0)),this.hasWrittenHeaders=!0),v){const k=this.gatherColumns(x);g.push(this.formatColumns(k,!1))}}return d(null,g)})}finish(h){const d=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return h(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));d.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&d.push(this.formatterOptions.rowDelimiter),h(null,d)}checkHeaders(h){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const d=u.gatherHeaders(h);return this.headers=d,this.fieldFormatter.headers=d,this.shouldWriteHeaders?{shouldFormatColumns:!l.default(d,h),headers:d}:{shouldFormatColumns:!0,headers:null}}gatherColumns(h){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(h)?u.isRowHashArray(h)?this.headers.map((d,b)=>{const x=h[b];return x?x[1]:""}):u.isRowArray(h)&&!this.shouldWriteHeaders?h:this.headers.map((d,b)=>h[b]):this.headers.map(d=>h[d])}callTransformer(h,d){return this._rowTransform?this._rowTransform(h,d):d(null,h)}formatColumns(h,d){const b=h.map((g,v)=>this.fieldFormatter.format(g,v,d)).join(this.formatterOptions.delimiter),{rowCount:x}=this;return this.rowCount+=1,x?[this.formatterOptions.rowDelimiter,b].join(""):b}}s.RowFormatter=u},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.FieldFormatter=s.RowFormatter=void 0;var i=e("./RowFormatter");Object.defineProperty(s,"RowFormatter",{enumerable:!0,get:function(){return i.RowFormatter}});var a=e("./FieldFormatter");Object.defineProperty(s,"FieldFormatter",{enumerable:!0,get:function(){return a.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(e,n,s){(function(i){(function(){var a=Object.create?function(v,y,k,R){R===void 0&&(R=k),Object.defineProperty(v,R,{enumerable:!0,get:function(){return y[k]}})}:function(v,y,k,R){R===void 0&&(R=k),v[R]=y[k]},l=Object.create?function(v,y){Object.defineProperty(v,"default",{enumerable:!0,value:y})}:function(v,y){v.default=y},c=function(v){if(v&&v.__esModule)return v;var y={};if(v!=null)for(var k in v)k!=="default"&&Object.prototype.hasOwnProperty.call(v,k)&&a(y,v,k);return l(y,v),y},o=function(v,y){for(var k in v)k==="default"||Object.prototype.hasOwnProperty.call(y,k)||a(y,v,k)};Object.defineProperty(s,"__esModule",{value:!0}),s.writeToPath=s.writeToString=s.writeToBuffer=s.writeToStream=s.write=s.format=s.FormatterOptions=s.CsvFormatterStream=void 0;const u=e("util"),p=e("stream"),h=c(e("fs")),d=e("./FormatterOptions"),b=e("./CsvFormatterStream");o(e("./types"),s);var x=e("./CsvFormatterStream");Object.defineProperty(s,"CsvFormatterStream",{enumerable:!0,get:function(){return x.CsvFormatterStream}});var g=e("./FormatterOptions");Object.defineProperty(s,"FormatterOptions",{enumerable:!0,get:function(){return g.FormatterOptions}}),s.format=v=>new b.CsvFormatterStream(new d.FormatterOptions(v)),s.write=(v,y)=>{const k=s.format(y),R=u.promisify((z,q)=>{k.write(z,void 0,q)});return v.reduce((z,q)=>z.then(()=>R(q)),Promise.resolve()).then(()=>k.end()).catch(z=>{k.emit("error",z)}),k},s.writeToStream=(v,y,k)=>s.write(y,k).pipe(v),s.writeToBuffer=function(v){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const k=[],R=new p.Writable({write(z,q,B){k.push(z),B()}});return new Promise((z,q)=>{R.on("error",q).on("finish",()=>z(i.concat(k))),s.write(v,y).pipe(R)})},s.writeToString=(v,y)=>s.writeToBuffer(v,y).then(k=>k.toString()),s.writeToPath=(v,y,k)=>{const R=h.createWriteStream(v,{encoding:"utf8"});return s.write(y,k).pipe(R)}}).call(this)}).call(this,e("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.isSyncTransform=void 0,s.isSyncTransform=i=>i.length===1},{}],153:[function(e,n,s){(function(i){(function(){Object.defineProperty(s,"__esModule",{value:!0}),s.CsvParserStream=void 0;const a=e("string_decoder"),l=e("stream"),c=e("./transforms"),o=e("./parser");class u extends l.Transform{constructor(h){super({objectMode:h.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=h,this.parser=new o.Parser(h),this.headerTransformer=new c.HeaderTransformer(h),this.decoder=new a.StringDecoder(h.encoding),this.rowTransformerValidator=new c.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(h){return this.rowTransformerValidator.rowTransform=h,this}validate(h){return this.rowTransformerValidator.rowValidator=h,this}emit(h){if(h==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var d=arguments.length,b=new Array(d>1?d-1:0),x=1;x<d;x++)b[x-1]=arguments[x];return super.emit(h,...b)}_transform(h,d,b){if(this.hasHitRowLimit)return b();const x=u.wrapDoneCallback(b);try{const{lines:g}=this,v=g+this.decoder.write(h),y=this.parse(v,!0);return this.processRows(y,x)}catch(g){return x(g)}}_flush(h){const d=u.wrapDoneCallback(h);if(this.hasHitRowLimit)return d();try{const b=this.lines+this.decoder.end(),x=this.parse(b,!1);return this.processRows(x,d)}catch(b){return d(b)}}parse(h,d){if(!h)return[];const{line:b,rows:x}=this.parser.parse(h,d);return this.lines=b,x}processRows(h,d){const b=h.length,x=g=>{const v=R=>R?d(R):g%100!=0?x(g+1):void i(()=>x(g+1));if(this.checkAndEmitHeaders(),g>=b||this.hasHitRowLimit)return d();if(this.parsedLineCount+=1,this.shouldSkipLine)return v();const y=h[g];this.rowCount+=1,this.parsedRowCount+=1;const k=this.rowCount;return this.transformRow(y,(R,z)=>{if(R)return this.rowCount-=1,v(R);if(!z)return v(new Error("expected transform result"));if(z.isValid){if(z.row)return this.pushRow(z.row,v)}else this.emit("data-invalid",z.row,k,z.reason);return v()})};x(0)}transformRow(h,d){try{this.headerTransformer.transform(h,(b,x)=>b?d(b):x?x.isValid?x.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(x.row,d):this.skipRow(d):(this.rowCount-=1,this.parsedRowCount-=1,d(null,{row:null,isValid:!0})):this.shouldEmitRows?d(null,{isValid:!1,row:h}):this.skipRow(d):d(new Error("Expected result from header transform")))}catch(b){d(b)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(h){return this.rowCount-=1,h(null,{row:null,isValid:!0})}pushRow(h,d){try{this.parserOptions.objectMode?this.push(h):this.push(JSON.stringify(h)),d()}catch(b){d(b)}}static wrapDoneCallback(h){let d=!1;return function(b){if(b){if(d)throw b;return d=!0,void h(b)}for(var x=arguments.length,g=new Array(x>1?x-1:0),v=1;v<x;v++)g[v-1]=arguments[v];h(...g)}}}s.CsvParserStream=u}).call(this)}).call(this,e("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(e,n,s){var i=function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(s,"__esModule",{value:!0}),s.ParserOptions=void 0;const a=i(e("lodash.escaperegexp")),l=i(e("lodash.isnil"));s.ParserOptions=class{constructor(c){var o;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,c||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=a.default(this.delimiter),this.escapeChar=(o=this.escape)!==null&&o!==void 0?o:this.quote,this.supportsComments=!l.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(e,n,s){var i=Object.create?function(x,g,v,y){y===void 0&&(y=v),Object.defineProperty(x,y,{enumerable:!0,get:function(){return g[v]}})}:function(x,g,v,y){y===void 0&&(y=v),x[y]=g[v]},a=Object.create?function(x,g){Object.defineProperty(x,"default",{enumerable:!0,value:g})}:function(x,g){x.default=g},l=function(x){if(x&&x.__esModule)return x;var g={};if(x!=null)for(var v in x)v!=="default"&&Object.prototype.hasOwnProperty.call(x,v)&&i(g,x,v);return a(g,x),g},c=function(x,g){for(var v in x)v==="default"||Object.prototype.hasOwnProperty.call(g,v)||i(g,x,v)};Object.defineProperty(s,"__esModule",{value:!0}),s.parseString=s.parseFile=s.parseStream=s.parse=s.ParserOptions=s.CsvParserStream=void 0;const o=l(e("fs")),u=e("stream"),p=e("./ParserOptions"),h=e("./CsvParserStream");c(e("./types"),s);var d=e("./CsvParserStream");Object.defineProperty(s,"CsvParserStream",{enumerable:!0,get:function(){return d.CsvParserStream}});var b=e("./ParserOptions");Object.defineProperty(s,"ParserOptions",{enumerable:!0,get:function(){return b.ParserOptions}}),s.parse=x=>new h.CsvParserStream(new p.ParserOptions(x)),s.parseStream=(x,g)=>x.pipe(new h.CsvParserStream(new p.ParserOptions(g))),s.parseFile=function(x){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return o.createReadStream(x).pipe(new h.CsvParserStream(new p.ParserOptions(g)))},s.parseString=(x,g)=>{const v=new u.Readable;return v.push(x),v.push(null),v.pipe(new h.CsvParserStream(new p.ParserOptions(g)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.Parser=void 0;const i=e("./Scanner"),a=e("./RowParser"),l=e("./Token");class c{constructor(u){this.parserOptions=u,this.rowParser=new a.RowParser(this.parserOptions)}static removeBOM(u){return u&&u.charCodeAt(0)===65279?u.slice(1):u}parse(u,p){const h=new i.Scanner({line:c.removeBOM(u),parserOptions:this.parserOptions,hasMoreData:p});return this.parserOptions.supportsComments?this.parseWithComments(h):this.parseWithoutComments(h)}parseWithoutComments(u){const p=[];let h=!0;for(;h;)h=this.parseRow(u,p);return{line:u.line,rows:p}}parseWithComments(u){const{parserOptions:p}=this,h=[];for(let d=u.nextCharacterToken;d!==null;d=u.nextCharacterToken)if(l.Token.isTokenComment(d,p)){if(u.advancePastLine()===null)return{line:u.lineFromCursor,rows:h};if(!u.hasMoreCharacters)return{line:u.lineFromCursor,rows:h};u.truncateToCursor()}else if(!this.parseRow(u,h))break;return{line:u.line,rows:h}}parseRow(u,p){if(!u.nextNonSpaceToken)return!1;const h=this.rowParser.parse(u);return h!==null&&(this.parserOptions.ignoreEmpty&&a.RowParser.isEmptyRow(h)||p.push(h),!0)}}s.Parser=c},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.RowParser=void 0;const i=e("./column"),a=e("./Token");s.RowParser=class{constructor(l){this.parserOptions=l,this.columnParser=new i.ColumnParser(l)}static isEmptyRow(l){return l.join("").replace(/\s+/g,"")===""}parse(l){const{parserOptions:c}=this,{hasMoreData:o}=l,u=l,p=[];let h=this.getStartToken(u,p);for(;h;){if(a.Token.isTokenRowDelimiter(h))return u.advancePastToken(h),!u.hasMoreCharacters&&a.Token.isTokenCarriageReturn(h,c)&&o?null:(u.truncateToCursor(),p);if(!this.shouldSkipColumnParse(u,h,p)){const d=this.columnParser.parse(u);if(d===null)return null;p.push(d)}h=u.nextNonSpaceToken}return o?null:(u.truncateToCursor(),p)}getStartToken(l,c){const o=l.nextNonSpaceToken;return o!==null&&a.Token.isTokenDelimiter(o,this.parserOptions)?(c.push(""),l.nextNonSpaceToken):o}shouldSkipColumnParse(l,c,o){const{parserOptions:u}=this;if(a.Token.isTokenDelimiter(c,u)){l.advancePastToken(c);const p=l.nextCharacterToken;if(!l.hasMoreCharacters||p!==null&&a.Token.isTokenRowDelimiter(p)||p!==null&&a.Token.isTokenDelimiter(p,u))return o.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.Scanner=void 0;const i=e("./Token"),a=/((?:\r\n)|\n|\r)/;s.Scanner=class{constructor(l){this.cursor=0,this.line=l.line,this.lineLength=this.line.length,this.parserOptions=l.parserOptions,this.hasMoreData=l.hasMoreData,this.cursor=l.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:l}=this,c=this.parserOptions.NEXT_TOKEN_REGEXP;if(l.search(c)===-1)return null;const o=c.exec(l);if(o==null)return null;const u=o[1],p=this.cursor+(o.index||0);return new i.Token({token:u,startCursor:p,endCursor:p+u.length-1})}get nextCharacterToken(){const{cursor:l,lineLength:c}=this;return c<=l?null:new i.Token({token:this.line[l],startCursor:l,endCursor:l})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const l=a.exec(this.lineFromCursor);return l?(this.cursor+=(l.index||0)+l[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(l){return this.cursor=l,this}advanceToToken(l){return this.cursor=l.startCursor,this}advancePastToken(l){return this.cursor=l.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.Token=void 0,s.Token=class{constructor(i){this.token=i.token,this.startCursor=i.startCursor,this.endCursor=i.endCursor}static isTokenRowDelimiter(i){const a=i.token;return a==="\r"||a===`
`||a===`\r
`}static isTokenCarriageReturn(i,a){return i.token===a.carriageReturn}static isTokenComment(i,a){return a.supportsComments&&!!i&&i.token===a.comment}static isTokenEscapeCharacter(i,a){return i.token===a.escapeChar}static isTokenQuote(i,a){return i.token===a.quote}static isTokenDelimiter(i,a){return i.token===a.delimiter}}},{}],160:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.ColumnFormatter=void 0,s.ColumnFormatter=class{constructor(i){i.trim?this.format=a=>a.trim():i.ltrim?this.format=a=>a.trimLeft():i.rtrim?this.format=a=>a.trimRight():this.format=a=>a}}},{}],161:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.ColumnParser=void 0;const i=e("./NonQuotedColumnParser"),a=e("./QuotedColumnParser"),l=e("../Token");s.ColumnParser=class{constructor(c){this.parserOptions=c,this.quotedColumnParser=new a.QuotedColumnParser(c),this.nonQuotedColumnParser=new i.NonQuotedColumnParser(c)}parse(c){const{nextNonSpaceToken:o}=c;return o!==null&&l.Token.isTokenQuote(o,this.parserOptions)?(c.advanceToToken(o),this.quotedColumnParser.parse(c)):this.nonQuotedColumnParser.parse(c)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.NonQuotedColumnParser=void 0;const i=e("./ColumnFormatter"),a=e("../Token");s.NonQuotedColumnParser=class{constructor(l){this.parserOptions=l,this.columnFormatter=new i.ColumnFormatter(l)}parse(l){if(!l.hasMoreCharacters)return null;const{parserOptions:c}=this,o=[];let u=l.nextCharacterToken;for(;u&&!a.Token.isTokenDelimiter(u,c)&&!a.Token.isTokenRowDelimiter(u);u=l.nextCharacterToken)o.push(u.token),l.advancePastToken(u);return this.columnFormatter.format(o.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.QuotedColumnParser=void 0;const i=e("./ColumnFormatter"),a=e("../Token");s.QuotedColumnParser=class{constructor(l){this.parserOptions=l,this.columnFormatter=new i.ColumnFormatter(l)}parse(l){if(!l.hasMoreCharacters)return null;const c=l.cursor,{foundClosingQuote:o,col:u}=this.gatherDataBetweenQuotes(l);if(!o){if(l.advanceTo(c),!l.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${l.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(l),u}gatherDataBetweenQuotes(l){const{parserOptions:c}=this;let o=!1,u=!1;const p=[];let h=l.nextCharacterToken;for(;!u&&h!==null;h=l.nextCharacterToken){const d=a.Token.isTokenQuote(h,c);if(!o&&d)o=!0;else if(o)if(a.Token.isTokenEscapeCharacter(h,c)){l.advancePastToken(h);const b=l.nextCharacterToken;b!==null&&(a.Token.isTokenQuote(b,c)||a.Token.isTokenEscapeCharacter(b,c))?(p.push(b.token),h=b):d?u=!0:p.push(h.token)}else d?u=!0:p.push(h.token);l.advancePastToken(h)}return{col:this.columnFormatter.format(p.join("")),foundClosingQuote:u}}checkForMalformedColumn(l){const{parserOptions:c}=this,{nextNonSpaceToken:o}=l;if(o){const u=a.Token.isTokenDelimiter(o,c),p=a.Token.isTokenRowDelimiter(o);if(!u&&!p){const h=l.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${c.escapedDelimiter}' OR new line got: '${o.token}'. at '${h}`)}l.advanceToToken(o)}else l.hasMoreData||l.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.ColumnFormatter=s.QuotedColumnParser=s.NonQuotedColumnParser=s.ColumnParser=void 0;var i=e("./ColumnParser");Object.defineProperty(s,"ColumnParser",{enumerable:!0,get:function(){return i.ColumnParser}});var a=e("./NonQuotedColumnParser");Object.defineProperty(s,"NonQuotedColumnParser",{enumerable:!0,get:function(){return a.NonQuotedColumnParser}});var l=e("./QuotedColumnParser");Object.defineProperty(s,"QuotedColumnParser",{enumerable:!0,get:function(){return l.QuotedColumnParser}});var c=e("./ColumnFormatter");Object.defineProperty(s,"ColumnFormatter",{enumerable:!0,get:function(){return c.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.QuotedColumnParser=s.NonQuotedColumnParser=s.ColumnParser=s.Token=s.Scanner=s.RowParser=s.Parser=void 0;var i=e("./Parser");Object.defineProperty(s,"Parser",{enumerable:!0,get:function(){return i.Parser}});var a=e("./RowParser");Object.defineProperty(s,"RowParser",{enumerable:!0,get:function(){return a.RowParser}});var l=e("./Scanner");Object.defineProperty(s,"Scanner",{enumerable:!0,get:function(){return l.Scanner}});var c=e("./Token");Object.defineProperty(s,"Token",{enumerable:!0,get:function(){return c.Token}});var o=e("./column");Object.defineProperty(s,"ColumnParser",{enumerable:!0,get:function(){return o.ColumnParser}}),Object.defineProperty(s,"NonQuotedColumnParser",{enumerable:!0,get:function(){return o.NonQuotedColumnParser}}),Object.defineProperty(s,"QuotedColumnParser",{enumerable:!0,get:function(){return o.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(e,n,s){var i=function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(s,"__esModule",{value:!0}),s.HeaderTransformer=void 0;const a=i(e("lodash.isundefined")),l=i(e("lodash.isfunction")),c=i(e("lodash.uniq")),o=i(e("lodash.groupby"));s.HeaderTransformer=class{constructor(u){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=u,u.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(u.headers)?this.setHeaders(u.headers):l.default(u.headers)&&(this.headersTransform=u.headers)}transform(u,p){return this.shouldMapRow(u)?p(null,this.processRow(u)):p(null,{row:null,isValid:!0})}shouldMapRow(u){const{parserOptions:p}=this;if(!this.headersTransform&&p.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(u)){if(this.headersTransform)this.setHeaders(this.headersTransform(u));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(u)}return!1}return!0}processRow(u){if(!this.headers)return{row:u,isValid:!0};const{parserOptions:p}=this;if(!p.discardUnmappedColumns&&u.length>this.headersLength){if(!p.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${u.length}`);return{row:u,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${u.length}`}}return p.strictColumnHandling&&u.length<this.headersLength?{row:u,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${u.length}`}:{row:this.mapHeaders(u),isValid:!0}}mapHeaders(u){const p={},{headers:h,headersLength:d}=this;for(let b=0;b<d;b+=1){const x=h[b];if(!a.default(x)){const g=u[b];a.default(g)?p[x]="":p[x]=g}}return p}setHeaders(u){var p;const h=u.filter(d=>!!d);if(c.default(h).length!==h.length){const d=o.default(h),b=Object.keys(d).filter(x=>d[x].length>1);throw new Error("Duplicate headers found "+JSON.stringify(b))}this.headers=u,this.receivedHeaders=!0,this.headersLength=((p=this.headers)===null||p===void 0?void 0:p.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(e,n,s){var i=function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(s,"__esModule",{value:!0}),s.RowTransformerValidator=void 0;const a=i(e("lodash.isfunction")),l=e("../types");class c{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(u){return l.isSyncTransform(u)?(p,h)=>{let d=null;try{d=u(p)}catch(b){return h(b)}return h(null,d)}:u}static createValidator(u){return l.isSyncValidate(u)?(p,h)=>{h(null,{row:p,isValid:u(p)})}:(p,h)=>{u(p,(d,b,x)=>d?h(d):h(null,b?{row:p,isValid:b,reason:x}:{row:p,isValid:!1,reason:x}))}}set rowTransform(u){if(!a.default(u))throw new TypeError("The transform should be a function");this._rowTransform=c.createTransform(u)}set rowValidator(u){if(!a.default(u))throw new TypeError("The validate should be a function");this._rowValidator=c.createValidator(u)}transformAndValidate(u,p){return this.callTransformer(u,(h,d)=>h?p(h):d?this.callValidator(d,(b,x)=>b?p(b):x&&!x.isValid?p(null,{row:d,isValid:!1,reason:x.reason}):p(null,{row:d,isValid:!0})):p(null,{row:null,isValid:!0}))}callTransformer(u,p){return this._rowTransform?this._rowTransform(u,p):p(null,u)}callValidator(u,p){return this._rowValidator?this._rowValidator(u,p):p(null,{row:u,isValid:!0})}}s.RowTransformerValidator=c},{"../types":169,"lodash.isfunction":446}],168:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.HeaderTransformer=s.RowTransformerValidator=void 0;var i=e("./RowTransformerValidator");Object.defineProperty(s,"RowTransformerValidator",{enumerable:!0,get:function(){return i.RowTransformerValidator}});var a=e("./HeaderTransformer");Object.defineProperty(s,"HeaderTransformer",{enumerable:!0,get:function(){return a.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.isSyncValidate=s.isSyncTransform=void 0,s.isSyncTransform=i=>i.length===1,s.isSyncValidate=i=>i.length===1},{}],170:[function(e,n,s){const i=s;i.bignum=e("bn.js"),i.define=e("./asn1/api").define,i.base=e("./asn1/base"),i.constants=e("./asn1/constants"),i.decoders=e("./asn1/decoders"),i.encoders=e("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(e,n,s){const i=e("./encoders"),a=e("./decoders"),l=e("inherits");function c(o,u){this.name=o,this.body=u,this.decoders={},this.encoders={}}s.define=function(o,u){return new c(o,u)},c.prototype._createNamed=function(o){const u=this.name;function p(h){this._initNamed(h,u)}return l(p,o),p.prototype._initNamed=function(h,d){o.call(this,h,d)},new p(this)},c.prototype._getDecoder=function(o){return o=o||"der",this.decoders.hasOwnProperty(o)||(this.decoders[o]=this._createNamed(a[o])),this.decoders[o]},c.prototype.decode=function(o,u,p){return this._getDecoder(u).decode(o,p)},c.prototype._getEncoder=function(o){return o=o||"der",this.encoders.hasOwnProperty(o)||(this.encoders[o]=this._createNamed(i[o])),this.encoders[o]},c.prototype.encode=function(o,u,p){return this._getEncoder(u).encode(o,p)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(e,n,s){const i=e("inherits"),a=e("../base/reporter").Reporter,l=e("safer-buffer").Buffer;function c(u,p){a.call(this,p),l.isBuffer(u)?(this.base=u,this.offset=0,this.length=u.length):this.error("Input not Buffer")}function o(u,p){if(Array.isArray(u))this.length=0,this.value=u.map((function(h){return o.isEncoderBuffer(h)||(h=new o(h,p)),this.length+=h.length,h}),this);else if(typeof u=="number"){if(!(0<=u&&u<=255))return p.error("non-byte EncoderBuffer value");this.value=u,this.length=1}else if(typeof u=="string")this.value=u,this.length=l.byteLength(u);else{if(!l.isBuffer(u))return p.error("Unsupported type: "+typeof u);this.value=u,this.length=u.length}}i(c,a),s.DecoderBuffer=c,c.isDecoderBuffer=function(u){return u instanceof c?!0:typeof u=="object"&&l.isBuffer(u.base)&&u.constructor.name==="DecoderBuffer"&&typeof u.offset=="number"&&typeof u.length=="number"&&typeof u.save=="function"&&typeof u.restore=="function"&&typeof u.isEmpty=="function"&&typeof u.readUInt8=="function"&&typeof u.skip=="function"&&typeof u.raw=="function"},c.prototype.save=function(){return{offset:this.offset,reporter:a.prototype.save.call(this)}},c.prototype.restore=function(u){const p=new c(this.base);return p.offset=u.offset,p.length=this.offset,this.offset=u.offset,a.prototype.restore.call(this,u.reporter),p},c.prototype.isEmpty=function(){return this.offset===this.length},c.prototype.readUInt8=function(u){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(u||"DecoderBuffer overrun")},c.prototype.skip=function(u,p){if(!(this.offset+u<=this.length))return this.error(p||"DecoderBuffer overrun");const h=new c(this.base);return h._reporterState=this._reporterState,h.offset=this.offset,h.length=this.offset+u,this.offset+=u,h},c.prototype.raw=function(u){return this.base.slice(u?u.offset:this.offset,this.length)},s.EncoderBuffer=o,o.isEncoderBuffer=function(u){return u instanceof o?!0:typeof u=="object"&&u.constructor.name==="EncoderBuffer"&&typeof u.length=="number"&&typeof u.join=="function"},o.prototype.join=function(u,p){return u||(u=l.alloc(this.length)),p||(p=0),this.length===0||(Array.isArray(this.value)?this.value.forEach((function(h){h.join(u,p),p+=h.length})):(typeof this.value=="number"?u[p]=this.value:typeof this.value=="string"?u.write(this.value,p):l.isBuffer(this.value)&&this.value.copy(u,p),p+=this.length)),u}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(e,n,s){const i=s;i.Reporter=e("./reporter").Reporter,i.DecoderBuffer=e("./buffer").DecoderBuffer,i.EncoderBuffer=e("./buffer").EncoderBuffer,i.Node=e("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(e,n,s){const i=e("../base/reporter").Reporter,a=e("../base/buffer").EncoderBuffer,l=e("../base/buffer").DecoderBuffer,c=e("minimalistic-assert"),o=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],u=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(o);function p(d,b,x){const g={};this._baseState=g,g.name=x,g.enc=d,g.parent=b||null,g.children=null,g.tag=null,g.args=null,g.reverseArgs=null,g.choice=null,g.optional=!1,g.any=!1,g.obj=!1,g.use=null,g.useDecoder=null,g.key=null,g.default=null,g.explicit=null,g.implicit=null,g.contains=null,g.parent||(g.children=[],this._wrap())}n.exports=p;const h=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];p.prototype.clone=function(){const d=this._baseState,b={};h.forEach((function(g){b[g]=d[g]}));const x=new this.constructor(b.parent);return x._baseState=b,x},p.prototype._wrap=function(){const d=this._baseState;u.forEach((function(b){this[b]=function(){const x=new this.constructor(this);return d.children.push(x),x[b].apply(x,arguments)}}),this)},p.prototype._init=function(d){const b=this._baseState;c(b.parent===null),d.call(this),b.children=b.children.filter((function(x){return x._baseState.parent===this}),this),c.equal(b.children.length,1,"Root node can have only one child")},p.prototype._useArgs=function(d){const b=this._baseState,x=d.filter((function(g){return g instanceof this.constructor}),this);d=d.filter((function(g){return!(g instanceof this.constructor)}),this),x.length!==0&&(c(b.children===null),b.children=x,x.forEach((function(g){g._baseState.parent=this}),this)),d.length!==0&&(c(b.args===null),b.args=d,b.reverseArgs=d.map((function(g){if(typeof g!="object"||g.constructor!==Object)return g;const v={};return Object.keys(g).forEach((function(y){y==(0|y)&&(y|=0);const k=g[y];v[k]=y})),v})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(d){p.prototype[d]=function(){const b=this._baseState;throw new Error(d+" not implemented for encoding: "+b.enc)}})),o.forEach((function(d){p.prototype[d]=function(){const b=this._baseState,x=Array.prototype.slice.call(arguments);return c(b.tag===null),b.tag=d,this._useArgs(x),this}})),p.prototype.use=function(d){c(d);const b=this._baseState;return c(b.use===null),b.use=d,this},p.prototype.optional=function(){return this._baseState.optional=!0,this},p.prototype.def=function(d){const b=this._baseState;return c(b.default===null),b.default=d,b.optional=!0,this},p.prototype.explicit=function(d){const b=this._baseState;return c(b.explicit===null&&b.implicit===null),b.explicit=d,this},p.prototype.implicit=function(d){const b=this._baseState;return c(b.explicit===null&&b.implicit===null),b.implicit=d,this},p.prototype.obj=function(){const d=this._baseState,b=Array.prototype.slice.call(arguments);return d.obj=!0,b.length!==0&&this._useArgs(b),this},p.prototype.key=function(d){const b=this._baseState;return c(b.key===null),b.key=d,this},p.prototype.any=function(){return this._baseState.any=!0,this},p.prototype.choice=function(d){const b=this._baseState;return c(b.choice===null),b.choice=d,this._useArgs(Object.keys(d).map((function(x){return d[x]}))),this},p.prototype.contains=function(d){const b=this._baseState;return c(b.use===null),b.contains=d,this},p.prototype._decode=function(d,b){const x=this._baseState;if(x.parent===null)return d.wrapResult(x.children[0]._decode(d,b));let g,v=x.default,y=!0,k=null;if(x.key!==null&&(k=d.enterKey(x.key)),x.optional){let R=null;if(x.explicit!==null?R=x.explicit:x.implicit!==null?R=x.implicit:x.tag!==null&&(R=x.tag),R!==null||x.any){if(y=this._peekTag(d,R,x.any),d.isError(y))return y}else{const z=d.save();try{x.choice===null?this._decodeGeneric(x.tag,d,b):this._decodeChoice(d,b),y=!0}catch{y=!1}d.restore(z)}}if(x.obj&&y&&(g=d.enterObject()),y){if(x.explicit!==null){const z=this._decodeTag(d,x.explicit);if(d.isError(z))return z;d=z}const R=d.offset;if(x.use===null&&x.choice===null){let z;x.any&&(z=d.save());const q=this._decodeTag(d,x.implicit!==null?x.implicit:x.tag,x.any);if(d.isError(q))return q;x.any?v=d.raw(z):d=q}if(b&&b.track&&x.tag!==null&&b.track(d.path(),R,d.length,"tagged"),b&&b.track&&x.tag!==null&&b.track(d.path(),d.offset,d.length,"content"),x.any||(v=x.choice===null?this._decodeGeneric(x.tag,d,b):this._decodeChoice(d,b)),d.isError(v))return v;if(x.any||x.choice!==null||x.children===null||x.children.forEach((function(z){z._decode(d,b)})),x.contains&&(x.tag==="octstr"||x.tag==="bitstr")){const z=new l(v);v=this._getUse(x.contains,d._reporterState.obj)._decode(z,b)}}return x.obj&&y&&(v=d.leaveObject(g)),x.key===null||v===null&&y!==!0?k!==null&&d.exitKey(k):d.leaveKey(k,x.key,v),v},p.prototype._decodeGeneric=function(d,b,x){const g=this._baseState;return d==="seq"||d==="set"?null:d==="seqof"||d==="setof"?this._decodeList(b,d,g.args[0],x):/str$/.test(d)?this._decodeStr(b,d,x):d==="objid"&&g.args?this._decodeObjid(b,g.args[0],g.args[1],x):d==="objid"?this._decodeObjid(b,null,null,x):d==="gentime"||d==="utctime"?this._decodeTime(b,d,x):d==="null_"?this._decodeNull(b,x):d==="bool"?this._decodeBool(b,x):d==="objDesc"?this._decodeStr(b,d,x):d==="int"||d==="enum"?this._decodeInt(b,g.args&&g.args[0],x):g.use!==null?this._getUse(g.use,b._reporterState.obj)._decode(b,x):b.error("unknown tag: "+d)},p.prototype._getUse=function(d,b){const x=this._baseState;return x.useDecoder=this._use(d,b),c(x.useDecoder._baseState.parent===null),x.useDecoder=x.useDecoder._baseState.children[0],x.implicit!==x.useDecoder._baseState.implicit&&(x.useDecoder=x.useDecoder.clone(),x.useDecoder._baseState.implicit=x.implicit),x.useDecoder},p.prototype._decodeChoice=function(d,b){const x=this._baseState;let g=null,v=!1;return Object.keys(x.choice).some((function(y){const k=d.save(),R=x.choice[y];try{const z=R._decode(d,b);if(d.isError(z))return!1;g={type:y,value:z},v=!0}catch{return d.restore(k),!1}return!0}),this),v?g:d.error("Choice not matched")},p.prototype._createEncoderBuffer=function(d){return new a(d,this.reporter)},p.prototype._encode=function(d,b,x){const g=this._baseState;if(g.default!==null&&g.default===d)return;const v=this._encodeValue(d,b,x);return v===void 0||this._skipDefault(v,b,x)?void 0:v},p.prototype._encodeValue=function(d,b,x){const g=this._baseState;if(g.parent===null)return g.children[0]._encode(d,b||new i);let v=null;if(this.reporter=b,g.optional&&d===void 0){if(g.default===null)return;d=g.default}let y=null,k=!1;if(g.any)v=this._createEncoderBuffer(d);else if(g.choice)v=this._encodeChoice(d,b);else if(g.contains)y=this._getUse(g.contains,x)._encode(d,b),k=!0;else if(g.children)y=g.children.map((function(R){if(R._baseState.tag==="null_")return R._encode(null,b,d);if(R._baseState.key===null)return b.error("Child should have a key");const z=b.enterKey(R._baseState.key);if(typeof d!="object")return b.error("Child expected, but input is not object");const q=R._encode(d[R._baseState.key],b,d);return b.leaveKey(z),q}),this).filter((function(R){return R})),y=this._createEncoderBuffer(y);else if(g.tag==="seqof"||g.tag==="setof"){if(!g.args||g.args.length!==1)return b.error("Too many args for : "+g.tag);if(!Array.isArray(d))return b.error("seqof/setof, but data is not Array");const R=this.clone();R._baseState.implicit=null,y=this._createEncoderBuffer(d.map((function(z){const q=this._baseState;return this._getUse(q.args[0],d)._encode(z,b)}),R))}else g.use!==null?v=this._getUse(g.use,x)._encode(d,b):(y=this._encodePrimitive(g.tag,d),k=!0);if(!g.any&&g.choice===null){const R=g.implicit!==null?g.implicit:g.tag,z=g.implicit===null?"universal":"context";R===null?g.use===null&&b.error("Tag could be omitted only for .use()"):g.use===null&&(v=this._encodeComposite(R,k,z,y))}return g.explicit!==null&&(v=this._encodeComposite(g.explicit,!1,"context",v)),v},p.prototype._encodeChoice=function(d,b){const x=this._baseState,g=x.choice[d.type];return g||c(!1,d.type+" not found in "+JSON.stringify(Object.keys(x.choice))),g._encode(d.value,b)},p.prototype._encodePrimitive=function(d,b){const x=this._baseState;if(/str$/.test(d))return this._encodeStr(b,d);if(d==="objid"&&x.args)return this._encodeObjid(b,x.reverseArgs[0],x.args[1]);if(d==="objid")return this._encodeObjid(b,null,null);if(d==="gentime"||d==="utctime")return this._encodeTime(b,d);if(d==="null_")return this._encodeNull();if(d==="int"||d==="enum")return this._encodeInt(b,x.args&&x.reverseArgs[0]);if(d==="bool")return this._encodeBool(b);if(d==="objDesc")return this._encodeStr(b,d);throw new Error("Unsupported tag: "+d)},p.prototype._isNumstr=function(d){return/^[0-9 ]*$/.test(d)},p.prototype._isPrintstr=function(d){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(d)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(e,n,s){const i=e("inherits");function a(c){this._reporterState={obj:null,path:[],options:c||{},errors:[]}}function l(c,o){this.path=c,this.rethrow(o)}s.Reporter=a,a.prototype.isError=function(c){return c instanceof l},a.prototype.save=function(){const c=this._reporterState;return{obj:c.obj,pathLen:c.path.length}},a.prototype.restore=function(c){const o=this._reporterState;o.obj=c.obj,o.path=o.path.slice(0,c.pathLen)},a.prototype.enterKey=function(c){return this._reporterState.path.push(c)},a.prototype.exitKey=function(c){const o=this._reporterState;o.path=o.path.slice(0,c-1)},a.prototype.leaveKey=function(c,o,u){const p=this._reporterState;this.exitKey(c),p.obj!==null&&(p.obj[o]=u)},a.prototype.path=function(){return this._reporterState.path.join("/")},a.prototype.enterObject=function(){const c=this._reporterState,o=c.obj;return c.obj={},o},a.prototype.leaveObject=function(c){const o=this._reporterState,u=o.obj;return o.obj=c,u},a.prototype.error=function(c){let o;const u=this._reporterState,p=c instanceof l;if(o=p?c:new l(u.path.map((function(h){return"["+JSON.stringify(h)+"]"})).join(""),c.message||c,c.stack),!u.options.partial)throw o;return p||u.errors.push(o),o},a.prototype.wrapResult=function(c){const o=this._reporterState;return o.options.partial?{result:this.isError(c)?null:c,errors:o.errors}:c},i(l,Error),l.prototype.rethrow=function(c){if(this.message=c+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,l),!this.stack)try{throw new Error(this.message)}catch(o){this.stack=o.stack}return this}},{inherits:440}],176:[function(e,n,s){function i(a){const l={};return Object.keys(a).forEach((function(c){(0|c)==c&&(c|=0);const o=a[c];l[o]=c})),l}s.tagClass={0:"universal",1:"application",2:"context",3:"private"},s.tagClassByName=i(s.tagClass),s.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},s.tagByName=i(s.tag)},{}],177:[function(e,n,s){const i=s;i._reverse=function(a){const l={};return Object.keys(a).forEach((function(c){(0|c)==c&&(c|=0);const o=a[c];l[o]=c})),l},i.der=e("./der")},{"./der":176}],178:[function(e,n,s){const i=e("inherits"),a=e("bn.js"),l=e("../base/buffer").DecoderBuffer,c=e("../base/node"),o=e("../constants/der");function u(b){this.enc="der",this.name=b.name,this.entity=b,this.tree=new p,this.tree._init(b.body)}function p(b){c.call(this,"der",b)}function h(b,x){let g=b.readUInt8(x);if(b.isError(g))return g;const v=o.tagClass[g>>6],y=(32&g)==0;if((31&g)==31){let k=g;for(g=0;(128&k)==128;){if(k=b.readUInt8(x),b.isError(k))return k;g<<=7,g|=127&k}}else g&=31;return{cls:v,primitive:y,tag:g,tagStr:o.tag[g]}}function d(b,x,g){let v=b.readUInt8(g);if(b.isError(v))return v;if(!x&&v===128)return null;if((128&v)==0)return v;const y=127&v;if(y>4)return b.error("length octect is too long");v=0;for(let k=0;k<y;k++){v<<=8;const R=b.readUInt8(g);if(b.isError(R))return R;v|=R}return v}n.exports=u,u.prototype.decode=function(b,x){return l.isDecoderBuffer(b)||(b=new l(b,x)),this.tree._decode(b,x)},i(p,c),p.prototype._peekTag=function(b,x,g){if(b.isEmpty())return!1;const v=b.save(),y=h(b,'Failed to peek tag: "'+x+'"');return b.isError(y)?y:(b.restore(v),y.tag===x||y.tagStr===x||y.tagStr+"of"===x||g)},p.prototype._decodeTag=function(b,x,g){const v=h(b,'Failed to decode tag of "'+x+'"');if(b.isError(v))return v;let y=d(b,v.primitive,'Failed to get length of "'+x+'"');if(b.isError(y))return y;if(!g&&v.tag!==x&&v.tagStr!==x&&v.tagStr+"of"!==x)return b.error('Failed to match tag: "'+x+'"');if(v.primitive||y!==null)return b.skip(y,'Failed to match body of: "'+x+'"');const k=b.save(),R=this._skipUntilEnd(b,'Failed to skip indefinite length body: "'+this.tag+'"');return b.isError(R)?R:(y=b.offset-k.offset,b.restore(k),b.skip(y,'Failed to match body of: "'+x+'"'))},p.prototype._skipUntilEnd=function(b,x){for(;;){const g=h(b,x);if(b.isError(g))return g;const v=d(b,g.primitive,x);if(b.isError(v))return v;let y;if(y=g.primitive||v!==null?b.skip(v):this._skipUntilEnd(b,x),b.isError(y))return y;if(g.tagStr==="end")break}},p.prototype._decodeList=function(b,x,g,v){const y=[];for(;!b.isEmpty();){const k=this._peekTag(b,"end");if(b.isError(k))return k;const R=g.decode(b,"der",v);if(b.isError(R)&&k)break;y.push(R)}return y},p.prototype._decodeStr=function(b,x){if(x==="bitstr"){const g=b.readUInt8();return b.isError(g)?g:{unused:g,data:b.raw()}}if(x==="bmpstr"){const g=b.raw();if(g.length%2==1)return b.error("Decoding of string type: bmpstr length mismatch");let v="";for(let y=0;y<g.length/2;y++)v+=String.fromCharCode(g.readUInt16BE(2*y));return v}if(x==="numstr"){const g=b.raw().toString("ascii");return this._isNumstr(g)?g:b.error("Decoding of string type: numstr unsupported characters")}if(x==="octstr"||x==="objDesc")return b.raw();if(x==="printstr"){const g=b.raw().toString("ascii");return this._isPrintstr(g)?g:b.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(x)?b.raw().toString():b.error("Decoding of string type: "+x+" unsupported")},p.prototype._decodeObjid=function(b,x,g){let v;const y=[];let k=0,R=0;for(;!b.isEmpty();)R=b.readUInt8(),k<<=7,k|=127&R,(128&R)==0&&(y.push(k),k=0);128&R&&y.push(k);const z=y[0]/40|0,q=y[0]%40;if(v=g?y:[z,q].concat(y.slice(1)),x){let B=x[v.join(" ")];B===void 0&&(B=x[v.join(".")]),B!==void 0&&(v=B)}return v},p.prototype._decodeTime=function(b,x){const g=b.raw().toString();let v,y,k,R,z,q;if(x==="gentime")v=0|g.slice(0,4),y=0|g.slice(4,6),k=0|g.slice(6,8),R=0|g.slice(8,10),z=0|g.slice(10,12),q=0|g.slice(12,14);else{if(x!=="utctime")return b.error("Decoding "+x+" time is not supported yet");v=0|g.slice(0,2),y=0|g.slice(2,4),k=0|g.slice(4,6),R=0|g.slice(6,8),z=0|g.slice(8,10),q=0|g.slice(10,12),v=v<70?2e3+v:1900+v}return Date.UTC(v,y-1,k,R,z,q,0)},p.prototype._decodeNull=function(){return null},p.prototype._decodeBool=function(b){const x=b.readUInt8();return b.isError(x)?x:x!==0},p.prototype._decodeInt=function(b,x){const g=b.raw();let v=new a(g);return x&&(v=x[v.toString(10)]||v),v},p.prototype._use=function(b,x){return typeof b=="function"&&(b=b(x)),b._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(e,n,s){const i=s;i.der=e("./der"),i.pem=e("./pem")},{"./der":178,"./pem":180}],180:[function(e,n,s){const i=e("inherits"),a=e("safer-buffer").Buffer,l=e("./der");function c(o){l.call(this,o),this.enc="pem"}i(c,l),n.exports=c,c.prototype.decode=function(o,u){const p=o.toString().split(/[\r\n]+/g),h=u.label.toUpperCase(),d=/^-----(BEGIN|END) ([^-]+)-----$/;let b=-1,x=-1;for(let y=0;y<p.length;y++){const k=p[y].match(d);if(k!==null&&k[2]===h){if(b!==-1){if(k[1]!=="END")break;x=y;break}if(k[1]!=="BEGIN")break;b=y}}if(b===-1||x===-1)throw new Error("PEM section not found for: "+h);const g=p.slice(b+1,x).join("");g.replace(/[^a-z0-9+/=]+/gi,"");const v=a.from(g,"base64");return l.prototype.decode.call(this,v,u)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(e,n,s){const i=e("inherits"),a=e("safer-buffer").Buffer,l=e("../base/node"),c=e("../constants/der");function o(h){this.enc="der",this.name=h.name,this.entity=h,this.tree=new u,this.tree._init(h.body)}function u(h){l.call(this,"der",h)}function p(h){return h<10?"0"+h:h}n.exports=o,o.prototype.encode=function(h,d){return this.tree._encode(h,d).join()},i(u,l),u.prototype._encodeComposite=function(h,d,b,x){const g=(function(k,R,z,q){let B;if(k==="seqof"?k="seq":k==="setof"&&(k="set"),c.tagByName.hasOwnProperty(k))B=c.tagByName[k];else{if(typeof k!="number"||(0|k)!==k)return q.error("Unknown tag: "+k);B=k}return B>=31?q.error("Multi-octet tag encoding unsupported"):(R||(B|=32),B|=c.tagClassByName[z||"universal"]<<6,B)})(h,d,b,this.reporter);if(x.length<128){const k=a.alloc(2);return k[0]=g,k[1]=x.length,this._createEncoderBuffer([k,x])}let v=1;for(let k=x.length;k>=256;k>>=8)v++;const y=a.alloc(2+v);y[0]=g,y[1]=128|v;for(let k=1+v,R=x.length;R>0;k--,R>>=8)y[k]=255&R;return this._createEncoderBuffer([y,x])},u.prototype._encodeStr=function(h,d){if(d==="bitstr")return this._createEncoderBuffer([0|h.unused,h.data]);if(d==="bmpstr"){const b=a.alloc(2*h.length);for(let x=0;x<h.length;x++)b.writeUInt16BE(h.charCodeAt(x),2*x);return this._createEncoderBuffer(b)}return d==="numstr"?this._isNumstr(h)?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: numstr supports only digits and space"):d==="printstr"?this._isPrintstr(h)?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(d)||d==="objDesc"?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: "+d+" unsupported")},u.prototype._encodeObjid=function(h,d,b){if(typeof h=="string"){if(!d)return this.reporter.error("string objid given, but no values map found");if(!d.hasOwnProperty(h))return this.reporter.error("objid not found in values map");h=d[h].split(/[\s.]+/g);for(let y=0;y<h.length;y++)h[y]|=0}else if(Array.isArray(h)){h=h.slice();for(let y=0;y<h.length;y++)h[y]|=0}if(!Array.isArray(h))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(h));if(!b){if(h[1]>=40)return this.reporter.error("Second objid identifier OOB");h.splice(0,2,40*h[0]+h[1])}let x=0;for(let y=0;y<h.length;y++){let k=h[y];for(x++;k>=128;k>>=7)x++}const g=a.alloc(x);let v=g.length-1;for(let y=h.length-1;y>=0;y--){let k=h[y];for(g[v--]=127&k;(k>>=7)>0;)g[v--]=128|127&k}return this._createEncoderBuffer(g)},u.prototype._encodeTime=function(h,d){let b;const x=new Date(h);return d==="gentime"?b=[p(x.getUTCFullYear()),p(x.getUTCMonth()+1),p(x.getUTCDate()),p(x.getUTCHours()),p(x.getUTCMinutes()),p(x.getUTCSeconds()),"Z"].join(""):d==="utctime"?b=[p(x.getUTCFullYear()%100),p(x.getUTCMonth()+1),p(x.getUTCDate()),p(x.getUTCHours()),p(x.getUTCMinutes()),p(x.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+d+" time is not supported yet"),this._encodeStr(b,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(h,d){if(typeof h=="string"){if(!d)return this.reporter.error("String int or enum given, but no values map");if(!d.hasOwnProperty(h))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(h));h=d[h]}if(typeof h!="number"&&!a.isBuffer(h)){const g=h.toArray();!h.sign&&128&g[0]&&g.unshift(0),h=a.from(g)}if(a.isBuffer(h)){let g=h.length;h.length===0&&g++;const v=a.alloc(g);return h.copy(v),h.length===0&&(v[0]=0),this._createEncoderBuffer(v)}if(h<128)return this._createEncoderBuffer(h);if(h<256)return this._createEncoderBuffer([0,h]);let b=1;for(let g=h;g>=256;g>>=8)b++;const x=new Array(b);for(let g=x.length-1;g>=0;g--)x[g]=255&h,h>>=8;return 128&x[0]&&x.unshift(0),this._createEncoderBuffer(a.from(x))},u.prototype._encodeBool=function(h){return this._createEncoderBuffer(h?255:0)},u.prototype._use=function(h,d){return typeof h=="function"&&(h=h(d)),h._getEncoder("der").tree},u.prototype._skipDefault=function(h,d,b){const x=this._baseState;let g;if(x.default===null)return!1;const v=h.join();if(x.defaultBuffer===void 0&&(x.defaultBuffer=this._encodeValue(x.default,d,b).join()),v.length!==x.defaultBuffer.length)return!1;for(g=0;g<v.length;g++)if(v[g]!==x.defaultBuffer[g])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(e,n,s){const i=s;i.der=e("./der"),i.pem=e("./pem")},{"./der":181,"./pem":183}],183:[function(e,n,s){const i=e("inherits"),a=e("./der");function l(c){a.call(this,c),this.enc="pem"}i(l,a),n.exports=l,l.prototype.encode=function(c,o){const u=a.prototype.encode.call(this,c).toString("base64"),p=["-----BEGIN "+o.label+"-----"];for(let h=0;h<u.length;h+=64)p.push(u.slice(h,h+64));return p.push("-----END "+o.label+"-----"),p.join(`
`)}},{"./der":181,inherits:440}],184:[function(e,n,s){(function(i,a){function l(N,P){if(!N)throw new Error(P||"Assertion failed")}function c(N,P){N.super_=P;var C=function(){};C.prototype=P.prototype,N.prototype=new C,N.prototype.constructor=N}function o(N,P,C){if(o.isBN(N))return N;this.negative=0,this.words=null,this.length=0,this.red=null,N!==null&&(P!=="le"&&P!=="be"||(C=P,P=10),this._init(N||0,P||10,C||"be"))}var u;typeof i=="object"?i.exports=o:(void 0).BN=o,o.BN=o,o.wordSize=26;try{u=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function p(N,P){var C=N.charCodeAt(P);return C>=65&&C<=70?C-55:C>=97&&C<=102?C-87:C-48&15}function h(N,P,C){var S=p(N,C);return C-1>=P&&(S|=p(N,C-1)<<4),S}function d(N,P,C,S){for(var E=0,A=Math.min(N.length,C),T=P;T<A;T++){var j=N.charCodeAt(T)-48;E*=S,E+=j>=49?j-49+10:j>=17?j-17+10:j}return E}o.isBN=function(N){return N instanceof o||N!==null&&typeof N=="object"&&N.constructor.wordSize===o.wordSize&&Array.isArray(N.words)},o.max=function(N,P){return N.cmp(P)>0?N:P},o.min=function(N,P){return N.cmp(P)<0?N:P},o.prototype._init=function(N,P,C){if(typeof N=="number")return this._initNumber(N,P,C);if(typeof N=="object")return this._initArray(N,P,C);P==="hex"&&(P=16),l(P===(0|P)&&P>=2&&P<=36);var S=0;(N=N.toString().replace(/\s+/g,""))[0]==="-"&&(S++,this.negative=1),S<N.length&&(P===16?this._parseHex(N,S,C):(this._parseBase(N,P,S),C==="le"&&this._initArray(this.toArray(),P,C)))},o.prototype._initNumber=function(N,P,C){N<0&&(this.negative=1,N=-N),N<67108864?(this.words=[67108863&N],this.length=1):N<4503599627370496?(this.words=[67108863&N,N/67108864&67108863],this.length=2):(l(N<9007199254740992),this.words=[67108863&N,N/67108864&67108863,1],this.length=3),C==="le"&&this._initArray(this.toArray(),P,C)},o.prototype._initArray=function(N,P,C){if(l(typeof N.length=="number"),N.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(N.length/3),this.words=new Array(this.length);for(var S=0;S<this.length;S++)this.words[S]=0;var E,A,T=0;if(C==="be")for(S=N.length-1,E=0;S>=0;S-=3)A=N[S]|N[S-1]<<8|N[S-2]<<16,this.words[E]|=A<<T&67108863,this.words[E+1]=A>>>26-T&67108863,(T+=24)>=26&&(T-=26,E++);else if(C==="le")for(S=0,E=0;S<N.length;S+=3)A=N[S]|N[S+1]<<8|N[S+2]<<16,this.words[E]|=A<<T&67108863,this.words[E+1]=A>>>26-T&67108863,(T+=24)>=26&&(T-=26,E++);return this.strip()},o.prototype._parseHex=function(N,P,C){this.length=Math.ceil((N.length-P)/6),this.words=new Array(this.length);for(var S=0;S<this.length;S++)this.words[S]=0;var E,A=0,T=0;if(C==="be")for(S=N.length-1;S>=P;S-=2)E=h(N,P,S)<<A,this.words[T]|=67108863&E,A>=18?(A-=18,T+=1,this.words[T]|=E>>>26):A+=8;else for(S=(N.length-P)%2==0?P+1:P;S<N.length;S+=2)E=h(N,P,S)<<A,this.words[T]|=67108863&E,A>=18?(A-=18,T+=1,this.words[T]|=E>>>26):A+=8;this.strip()},o.prototype._parseBase=function(N,P,C){this.words=[0],this.length=1;for(var S=0,E=1;E<=67108863;E*=P)S++;S--,E=E/P|0;for(var A=N.length-C,T=A%S,j=Math.min(A,A-T)+C,L=0,D=C;D<j;D+=S)L=d(N,D,D+S,P),this.imuln(E),this.words[0]+L<67108864?this.words[0]+=L:this._iaddn(L);if(T!==0){var Z=1;for(L=d(N,D,N.length,P),D=0;D<T;D++)Z*=P;this.imuln(Z),this.words[0]+L<67108864?this.words[0]+=L:this._iaddn(L)}this.strip()},o.prototype.copy=function(N){N.words=new Array(this.length);for(var P=0;P<this.length;P++)N.words[P]=this.words[P];N.length=this.length,N.negative=this.negative,N.red=this.red},o.prototype.clone=function(){var N=new o(null);return this.copy(N),N},o.prototype._expand=function(N){for(;this.length<N;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var b=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],x=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function v(N,P,C){C.negative=P.negative^N.negative;var S=N.length+P.length|0;C.length=S,S=S-1|0;var E=0|N.words[0],A=0|P.words[0],T=E*A,j=67108863&T,L=T/67108864|0;C.words[0]=j;for(var D=1;D<S;D++){for(var Z=L>>>26,K=67108863&L,ee=Math.min(D,P.length-1),G=Math.max(0,D-N.length+1);G<=ee;G++){var te=D-G|0;Z+=(T=(E=0|N.words[te])*(A=0|P.words[G])+K)/67108864|0,K=67108863&T}C.words[D]=0|K,L=0|Z}return L!==0?C.words[D]=0|L:C.length--,C.strip()}o.prototype.toString=function(N,P){var C;if(P=0|P||1,(N=N||10)===16||N==="hex"){C="";for(var S=0,E=0,A=0;A<this.length;A++){var T=this.words[A],j=(16777215&(T<<S|E)).toString(16);C=(E=T>>>24-S&16777215)!==0||A!==this.length-1?b[6-j.length]+j+C:j+C,(S+=2)>=26&&(S-=26,A--)}for(E!==0&&(C=E.toString(16)+C);C.length%P!=0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}if(N===(0|N)&&N>=2&&N<=36){var L=x[N],D=g[N];C="";var Z=this.clone();for(Z.negative=0;!Z.isZero();){var K=Z.modn(D).toString(N);C=(Z=Z.idivn(D)).isZero()?K+C:b[L-K.length]+K+C}for(this.isZero()&&(C="0"+C);C.length%P!=0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}l(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var N=this.words[0];return this.length===2?N+=67108864*this.words[1]:this.length===3&&this.words[2]===1?N+=4503599627370496+67108864*this.words[1]:this.length>2&&l(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-N:N},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(N,P){return l(u!==void 0),this.toArrayLike(u,N,P)},o.prototype.toArray=function(N,P){return this.toArrayLike(Array,N,P)},o.prototype.toArrayLike=function(N,P,C){var S=this.byteLength(),E=C||Math.max(1,S);l(S<=E,"byte array longer than desired length"),l(E>0,"Requested array length <= 0"),this.strip();var A,T,j=P==="le",L=new N(E),D=this.clone();if(j){for(T=0;!D.isZero();T++)A=D.andln(255),D.iushrn(8),L[T]=A;for(;T<E;T++)L[T]=0}else{for(T=0;T<E-S;T++)L[T]=0;for(T=0;!D.isZero();T++)A=D.andln(255),D.iushrn(8),L[E-T-1]=A}return L},Math.clz32?o.prototype._countBits=function(N){return 32-Math.clz32(N)}:o.prototype._countBits=function(N){var P=N,C=0;return P>=4096&&(C+=13,P>>>=13),P>=64&&(C+=7,P>>>=7),P>=8&&(C+=4,P>>>=4),P>=2&&(C+=2,P>>>=2),C+P},o.prototype._zeroBits=function(N){if(N===0)return 26;var P=N,C=0;return(8191&P)==0&&(C+=13,P>>>=13),(127&P)==0&&(C+=7,P>>>=7),(15&P)==0&&(C+=4,P>>>=4),(3&P)==0&&(C+=2,P>>>=2),(1&P)==0&&C++,C},o.prototype.bitLength=function(){var N=this.words[this.length-1],P=this._countBits(N);return 26*(this.length-1)+P},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var N=0,P=0;P<this.length;P++){var C=this._zeroBits(this.words[P]);if(N+=C,C!==26)break}return N},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(N){return this.negative!==0?this.abs().inotn(N).iaddn(1):this.clone()},o.prototype.fromTwos=function(N){return this.testn(N-1)?this.notn(N).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(N){for(;this.length<N.length;)this.words[this.length++]=0;for(var P=0;P<N.length;P++)this.words[P]=this.words[P]|N.words[P];return this.strip()},o.prototype.ior=function(N){return l((this.negative|N.negative)==0),this.iuor(N)},o.prototype.or=function(N){return this.length>N.length?this.clone().ior(N):N.clone().ior(this)},o.prototype.uor=function(N){return this.length>N.length?this.clone().iuor(N):N.clone().iuor(this)},o.prototype.iuand=function(N){var P;P=this.length>N.length?N:this;for(var C=0;C<P.length;C++)this.words[C]=this.words[C]&N.words[C];return this.length=P.length,this.strip()},o.prototype.iand=function(N){return l((this.negative|N.negative)==0),this.iuand(N)},o.prototype.and=function(N){return this.length>N.length?this.clone().iand(N):N.clone().iand(this)},o.prototype.uand=function(N){return this.length>N.length?this.clone().iuand(N):N.clone().iuand(this)},o.prototype.iuxor=function(N){var P,C;this.length>N.length?(P=this,C=N):(P=N,C=this);for(var S=0;S<C.length;S++)this.words[S]=P.words[S]^C.words[S];if(this!==P)for(;S<P.length;S++)this.words[S]=P.words[S];return this.length=P.length,this.strip()},o.prototype.ixor=function(N){return l((this.negative|N.negative)==0),this.iuxor(N)},o.prototype.xor=function(N){return this.length>N.length?this.clone().ixor(N):N.clone().ixor(this)},o.prototype.uxor=function(N){return this.length>N.length?this.clone().iuxor(N):N.clone().iuxor(this)},o.prototype.inotn=function(N){l(typeof N=="number"&&N>=0);var P=0|Math.ceil(N/26),C=N%26;this._expand(P),C>0&&P--;for(var S=0;S<P;S++)this.words[S]=67108863&~this.words[S];return C>0&&(this.words[S]=~this.words[S]&67108863>>26-C),this.strip()},o.prototype.notn=function(N){return this.clone().inotn(N)},o.prototype.setn=function(N,P){l(typeof N=="number"&&N>=0);var C=N/26|0,S=N%26;return this._expand(C+1),this.words[C]=P?this.words[C]|1<<S:this.words[C]&~(1<<S),this.strip()},o.prototype.iadd=function(N){var P,C,S;if(this.negative!==0&&N.negative===0)return this.negative=0,P=this.isub(N),this.negative^=1,this._normSign();if(this.negative===0&&N.negative!==0)return N.negative=0,P=this.isub(N),N.negative=1,P._normSign();this.length>N.length?(C=this,S=N):(C=N,S=this);for(var E=0,A=0;A<S.length;A++)P=(0|C.words[A])+(0|S.words[A])+E,this.words[A]=67108863&P,E=P>>>26;for(;E!==0&&A<C.length;A++)P=(0|C.words[A])+E,this.words[A]=67108863&P,E=P>>>26;if(this.length=C.length,E!==0)this.words[this.length]=E,this.length++;else if(C!==this)for(;A<C.length;A++)this.words[A]=C.words[A];return this},o.prototype.add=function(N){var P;return N.negative!==0&&this.negative===0?(N.negative=0,P=this.sub(N),N.negative^=1,P):N.negative===0&&this.negative!==0?(this.negative=0,P=N.sub(this),this.negative=1,P):this.length>N.length?this.clone().iadd(N):N.clone().iadd(this)},o.prototype.isub=function(N){if(N.negative!==0){N.negative=0;var P=this.iadd(N);return N.negative=1,P._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(N),this.negative=1,this._normSign();var C,S,E=this.cmp(N);if(E===0)return this.negative=0,this.length=1,this.words[0]=0,this;E>0?(C=this,S=N):(C=N,S=this);for(var A=0,T=0;T<S.length;T++)A=(P=(0|C.words[T])-(0|S.words[T])+A)>>26,this.words[T]=67108863&P;for(;A!==0&&T<C.length;T++)A=(P=(0|C.words[T])+A)>>26,this.words[T]=67108863&P;if(A===0&&T<C.length&&C!==this)for(;T<C.length;T++)this.words[T]=C.words[T];return this.length=Math.max(this.length,T),C!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(N){return this.clone().isub(N)};var y=function(N,P,C){var S,E,A,T=N.words,j=P.words,L=C.words,D=0,Z=0|T[0],K=8191&Z,ee=Z>>>13,G=0|T[1],te=8191&G,H=G>>>13,U=0|T[2],Q=8191&U,ie=U>>>13,re=0|T[3],oe=8191&re,he=re>>>13,ve=0|T[4],me=8191&ve,ne=ve>>>13,de=0|T[5],xe=8191&de,Te=de>>>13,Re=0|T[6],Pe=8191&Re,Xe=Re>>>13,Ue=0|T[7],tt=8191&Ue,at=Ue>>>13,Je=0|T[8],Ze=8191&Je,vt=Je>>>13,pt=0|T[9],Ie=8191&pt,$e=pt>>>13,Ce=0|j[0],De=8191&Ce,it=Ce>>>13,Be=0|j[1],Ge=8191&Be,mt=Be>>>13,dt=0|j[2],ke=8191&dt,We=dt>>>13,Ae=0|j[3],Ee=8191&Ae,et=Ae>>>13,lt=0|j[4],Ke=8191&lt,xt=lt>>>13,jt=0|j[5],At=8191&jt,Ct=jt>>>13,Dt=0|j[6],Mt=8191&Dt,je=Dt>>>13,qe=0|j[7],ct=8191&qe,ae=qe>>>13,pe=0|j[8],ce=8191&pe,fe=pe>>>13,ge=0|j[9],ye=8191&ge,Ne=ge>>>13;C.negative=N.negative^P.negative,C.length=19;var Fe=(D+(S=Math.imul(K,De))|0)+((8191&(E=(E=Math.imul(K,it))+Math.imul(ee,De)|0))<<13)|0;D=((A=Math.imul(ee,it))+(E>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,S=Math.imul(te,De),E=(E=Math.imul(te,it))+Math.imul(H,De)|0,A=Math.imul(H,it);var Oe=(D+(S=S+Math.imul(K,Ge)|0)|0)+((8191&(E=(E=E+Math.imul(K,mt)|0)+Math.imul(ee,Ge)|0))<<13)|0;D=((A=A+Math.imul(ee,mt)|0)+(E>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,S=Math.imul(Q,De),E=(E=Math.imul(Q,it))+Math.imul(ie,De)|0,A=Math.imul(ie,it),S=S+Math.imul(te,Ge)|0,E=(E=E+Math.imul(te,mt)|0)+Math.imul(H,Ge)|0,A=A+Math.imul(H,mt)|0;var Ve=(D+(S=S+Math.imul(K,ke)|0)|0)+((8191&(E=(E=E+Math.imul(K,We)|0)+Math.imul(ee,ke)|0))<<13)|0;D=((A=A+Math.imul(ee,We)|0)+(E>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,S=Math.imul(oe,De),E=(E=Math.imul(oe,it))+Math.imul(he,De)|0,A=Math.imul(he,it),S=S+Math.imul(Q,Ge)|0,E=(E=E+Math.imul(Q,mt)|0)+Math.imul(ie,Ge)|0,A=A+Math.imul(ie,mt)|0,S=S+Math.imul(te,ke)|0,E=(E=E+Math.imul(te,We)|0)+Math.imul(H,ke)|0,A=A+Math.imul(H,We)|0;var ze=(D+(S=S+Math.imul(K,Ee)|0)|0)+((8191&(E=(E=E+Math.imul(K,et)|0)+Math.imul(ee,Ee)|0))<<13)|0;D=((A=A+Math.imul(ee,et)|0)+(E>>>13)|0)+(ze>>>26)|0,ze&=67108863,S=Math.imul(me,De),E=(E=Math.imul(me,it))+Math.imul(ne,De)|0,A=Math.imul(ne,it),S=S+Math.imul(oe,Ge)|0,E=(E=E+Math.imul(oe,mt)|0)+Math.imul(he,Ge)|0,A=A+Math.imul(he,mt)|0,S=S+Math.imul(Q,ke)|0,E=(E=E+Math.imul(Q,We)|0)+Math.imul(ie,ke)|0,A=A+Math.imul(ie,We)|0,S=S+Math.imul(te,Ee)|0,E=(E=E+Math.imul(te,et)|0)+Math.imul(H,Ee)|0,A=A+Math.imul(H,et)|0;var bt=(D+(S=S+Math.imul(K,Ke)|0)|0)+((8191&(E=(E=E+Math.imul(K,xt)|0)+Math.imul(ee,Ke)|0))<<13)|0;D=((A=A+Math.imul(ee,xt)|0)+(E>>>13)|0)+(bt>>>26)|0,bt&=67108863,S=Math.imul(xe,De),E=(E=Math.imul(xe,it))+Math.imul(Te,De)|0,A=Math.imul(Te,it),S=S+Math.imul(me,Ge)|0,E=(E=E+Math.imul(me,mt)|0)+Math.imul(ne,Ge)|0,A=A+Math.imul(ne,mt)|0,S=S+Math.imul(oe,ke)|0,E=(E=E+Math.imul(oe,We)|0)+Math.imul(he,ke)|0,A=A+Math.imul(he,We)|0,S=S+Math.imul(Q,Ee)|0,E=(E=E+Math.imul(Q,et)|0)+Math.imul(ie,Ee)|0,A=A+Math.imul(ie,et)|0,S=S+Math.imul(te,Ke)|0,E=(E=E+Math.imul(te,xt)|0)+Math.imul(H,Ke)|0,A=A+Math.imul(H,xt)|0;var St=(D+(S=S+Math.imul(K,At)|0)|0)+((8191&(E=(E=E+Math.imul(K,Ct)|0)+Math.imul(ee,At)|0))<<13)|0;D=((A=A+Math.imul(ee,Ct)|0)+(E>>>13)|0)+(St>>>26)|0,St&=67108863,S=Math.imul(Pe,De),E=(E=Math.imul(Pe,it))+Math.imul(Xe,De)|0,A=Math.imul(Xe,it),S=S+Math.imul(xe,Ge)|0,E=(E=E+Math.imul(xe,mt)|0)+Math.imul(Te,Ge)|0,A=A+Math.imul(Te,mt)|0,S=S+Math.imul(me,ke)|0,E=(E=E+Math.imul(me,We)|0)+Math.imul(ne,ke)|0,A=A+Math.imul(ne,We)|0,S=S+Math.imul(oe,Ee)|0,E=(E=E+Math.imul(oe,et)|0)+Math.imul(he,Ee)|0,A=A+Math.imul(he,et)|0,S=S+Math.imul(Q,Ke)|0,E=(E=E+Math.imul(Q,xt)|0)+Math.imul(ie,Ke)|0,A=A+Math.imul(ie,xt)|0,S=S+Math.imul(te,At)|0,E=(E=E+Math.imul(te,Ct)|0)+Math.imul(H,At)|0,A=A+Math.imul(H,Ct)|0;var Tt=(D+(S=S+Math.imul(K,Mt)|0)|0)+((8191&(E=(E=E+Math.imul(K,je)|0)+Math.imul(ee,Mt)|0))<<13)|0;D=((A=A+Math.imul(ee,je)|0)+(E>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,S=Math.imul(tt,De),E=(E=Math.imul(tt,it))+Math.imul(at,De)|0,A=Math.imul(at,it),S=S+Math.imul(Pe,Ge)|0,E=(E=E+Math.imul(Pe,mt)|0)+Math.imul(Xe,Ge)|0,A=A+Math.imul(Xe,mt)|0,S=S+Math.imul(xe,ke)|0,E=(E=E+Math.imul(xe,We)|0)+Math.imul(Te,ke)|0,A=A+Math.imul(Te,We)|0,S=S+Math.imul(me,Ee)|0,E=(E=E+Math.imul(me,et)|0)+Math.imul(ne,Ee)|0,A=A+Math.imul(ne,et)|0,S=S+Math.imul(oe,Ke)|0,E=(E=E+Math.imul(oe,xt)|0)+Math.imul(he,Ke)|0,A=A+Math.imul(he,xt)|0,S=S+Math.imul(Q,At)|0,E=(E=E+Math.imul(Q,Ct)|0)+Math.imul(ie,At)|0,A=A+Math.imul(ie,Ct)|0,S=S+Math.imul(te,Mt)|0,E=(E=E+Math.imul(te,je)|0)+Math.imul(H,Mt)|0,A=A+Math.imul(H,je)|0;var be=(D+(S=S+Math.imul(K,ct)|0)|0)+((8191&(E=(E=E+Math.imul(K,ae)|0)+Math.imul(ee,ct)|0))<<13)|0;D=((A=A+Math.imul(ee,ae)|0)+(E>>>13)|0)+(be>>>26)|0,be&=67108863,S=Math.imul(Ze,De),E=(E=Math.imul(Ze,it))+Math.imul(vt,De)|0,A=Math.imul(vt,it),S=S+Math.imul(tt,Ge)|0,E=(E=E+Math.imul(tt,mt)|0)+Math.imul(at,Ge)|0,A=A+Math.imul(at,mt)|0,S=S+Math.imul(Pe,ke)|0,E=(E=E+Math.imul(Pe,We)|0)+Math.imul(Xe,ke)|0,A=A+Math.imul(Xe,We)|0,S=S+Math.imul(xe,Ee)|0,E=(E=E+Math.imul(xe,et)|0)+Math.imul(Te,Ee)|0,A=A+Math.imul(Te,et)|0,S=S+Math.imul(me,Ke)|0,E=(E=E+Math.imul(me,xt)|0)+Math.imul(ne,Ke)|0,A=A+Math.imul(ne,xt)|0,S=S+Math.imul(oe,At)|0,E=(E=E+Math.imul(oe,Ct)|0)+Math.imul(he,At)|0,A=A+Math.imul(he,Ct)|0,S=S+Math.imul(Q,Mt)|0,E=(E=E+Math.imul(Q,je)|0)+Math.imul(ie,Mt)|0,A=A+Math.imul(ie,je)|0,S=S+Math.imul(te,ct)|0,E=(E=E+Math.imul(te,ae)|0)+Math.imul(H,ct)|0,A=A+Math.imul(H,ae)|0;var Me=(D+(S=S+Math.imul(K,ce)|0)|0)+((8191&(E=(E=E+Math.imul(K,fe)|0)+Math.imul(ee,ce)|0))<<13)|0;D=((A=A+Math.imul(ee,fe)|0)+(E>>>13)|0)+(Me>>>26)|0,Me&=67108863,S=Math.imul(Ie,De),E=(E=Math.imul(Ie,it))+Math.imul($e,De)|0,A=Math.imul($e,it),S=S+Math.imul(Ze,Ge)|0,E=(E=E+Math.imul(Ze,mt)|0)+Math.imul(vt,Ge)|0,A=A+Math.imul(vt,mt)|0,S=S+Math.imul(tt,ke)|0,E=(E=E+Math.imul(tt,We)|0)+Math.imul(at,ke)|0,A=A+Math.imul(at,We)|0,S=S+Math.imul(Pe,Ee)|0,E=(E=E+Math.imul(Pe,et)|0)+Math.imul(Xe,Ee)|0,A=A+Math.imul(Xe,et)|0,S=S+Math.imul(xe,Ke)|0,E=(E=E+Math.imul(xe,xt)|0)+Math.imul(Te,Ke)|0,A=A+Math.imul(Te,xt)|0,S=S+Math.imul(me,At)|0,E=(E=E+Math.imul(me,Ct)|0)+Math.imul(ne,At)|0,A=A+Math.imul(ne,Ct)|0,S=S+Math.imul(oe,Mt)|0,E=(E=E+Math.imul(oe,je)|0)+Math.imul(he,Mt)|0,A=A+Math.imul(he,je)|0,S=S+Math.imul(Q,ct)|0,E=(E=E+Math.imul(Q,ae)|0)+Math.imul(ie,ct)|0,A=A+Math.imul(ie,ae)|0,S=S+Math.imul(te,ce)|0,E=(E=E+Math.imul(te,fe)|0)+Math.imul(H,ce)|0,A=A+Math.imul(H,fe)|0;var Ye=(D+(S=S+Math.imul(K,ye)|0)|0)+((8191&(E=(E=E+Math.imul(K,Ne)|0)+Math.imul(ee,ye)|0))<<13)|0;D=((A=A+Math.imul(ee,Ne)|0)+(E>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,S=Math.imul(Ie,Ge),E=(E=Math.imul(Ie,mt))+Math.imul($e,Ge)|0,A=Math.imul($e,mt),S=S+Math.imul(Ze,ke)|0,E=(E=E+Math.imul(Ze,We)|0)+Math.imul(vt,ke)|0,A=A+Math.imul(vt,We)|0,S=S+Math.imul(tt,Ee)|0,E=(E=E+Math.imul(tt,et)|0)+Math.imul(at,Ee)|0,A=A+Math.imul(at,et)|0,S=S+Math.imul(Pe,Ke)|0,E=(E=E+Math.imul(Pe,xt)|0)+Math.imul(Xe,Ke)|0,A=A+Math.imul(Xe,xt)|0,S=S+Math.imul(xe,At)|0,E=(E=E+Math.imul(xe,Ct)|0)+Math.imul(Te,At)|0,A=A+Math.imul(Te,Ct)|0,S=S+Math.imul(me,Mt)|0,E=(E=E+Math.imul(me,je)|0)+Math.imul(ne,Mt)|0,A=A+Math.imul(ne,je)|0,S=S+Math.imul(oe,ct)|0,E=(E=E+Math.imul(oe,ae)|0)+Math.imul(he,ct)|0,A=A+Math.imul(he,ae)|0,S=S+Math.imul(Q,ce)|0,E=(E=E+Math.imul(Q,fe)|0)+Math.imul(ie,ce)|0,A=A+Math.imul(ie,fe)|0;var ht=(D+(S=S+Math.imul(te,ye)|0)|0)+((8191&(E=(E=E+Math.imul(te,Ne)|0)+Math.imul(H,ye)|0))<<13)|0;D=((A=A+Math.imul(H,Ne)|0)+(E>>>13)|0)+(ht>>>26)|0,ht&=67108863,S=Math.imul(Ie,ke),E=(E=Math.imul(Ie,We))+Math.imul($e,ke)|0,A=Math.imul($e,We),S=S+Math.imul(Ze,Ee)|0,E=(E=E+Math.imul(Ze,et)|0)+Math.imul(vt,Ee)|0,A=A+Math.imul(vt,et)|0,S=S+Math.imul(tt,Ke)|0,E=(E=E+Math.imul(tt,xt)|0)+Math.imul(at,Ke)|0,A=A+Math.imul(at,xt)|0,S=S+Math.imul(Pe,At)|0,E=(E=E+Math.imul(Pe,Ct)|0)+Math.imul(Xe,At)|0,A=A+Math.imul(Xe,Ct)|0,S=S+Math.imul(xe,Mt)|0,E=(E=E+Math.imul(xe,je)|0)+Math.imul(Te,Mt)|0,A=A+Math.imul(Te,je)|0,S=S+Math.imul(me,ct)|0,E=(E=E+Math.imul(me,ae)|0)+Math.imul(ne,ct)|0,A=A+Math.imul(ne,ae)|0,S=S+Math.imul(oe,ce)|0,E=(E=E+Math.imul(oe,fe)|0)+Math.imul(he,ce)|0,A=A+Math.imul(he,fe)|0;var Nt=(D+(S=S+Math.imul(Q,ye)|0)|0)+((8191&(E=(E=E+Math.imul(Q,Ne)|0)+Math.imul(ie,ye)|0))<<13)|0;D=((A=A+Math.imul(ie,Ne)|0)+(E>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,S=Math.imul(Ie,Ee),E=(E=Math.imul(Ie,et))+Math.imul($e,Ee)|0,A=Math.imul($e,et),S=S+Math.imul(Ze,Ke)|0,E=(E=E+Math.imul(Ze,xt)|0)+Math.imul(vt,Ke)|0,A=A+Math.imul(vt,xt)|0,S=S+Math.imul(tt,At)|0,E=(E=E+Math.imul(tt,Ct)|0)+Math.imul(at,At)|0,A=A+Math.imul(at,Ct)|0,S=S+Math.imul(Pe,Mt)|0,E=(E=E+Math.imul(Pe,je)|0)+Math.imul(Xe,Mt)|0,A=A+Math.imul(Xe,je)|0,S=S+Math.imul(xe,ct)|0,E=(E=E+Math.imul(xe,ae)|0)+Math.imul(Te,ct)|0,A=A+Math.imul(Te,ae)|0,S=S+Math.imul(me,ce)|0,E=(E=E+Math.imul(me,fe)|0)+Math.imul(ne,ce)|0,A=A+Math.imul(ne,fe)|0;var yt=(D+(S=S+Math.imul(oe,ye)|0)|0)+((8191&(E=(E=E+Math.imul(oe,Ne)|0)+Math.imul(he,ye)|0))<<13)|0;D=((A=A+Math.imul(he,Ne)|0)+(E>>>13)|0)+(yt>>>26)|0,yt&=67108863,S=Math.imul(Ie,Ke),E=(E=Math.imul(Ie,xt))+Math.imul($e,Ke)|0,A=Math.imul($e,xt),S=S+Math.imul(Ze,At)|0,E=(E=E+Math.imul(Ze,Ct)|0)+Math.imul(vt,At)|0,A=A+Math.imul(vt,Ct)|0,S=S+Math.imul(tt,Mt)|0,E=(E=E+Math.imul(tt,je)|0)+Math.imul(at,Mt)|0,A=A+Math.imul(at,je)|0,S=S+Math.imul(Pe,ct)|0,E=(E=E+Math.imul(Pe,ae)|0)+Math.imul(Xe,ct)|0,A=A+Math.imul(Xe,ae)|0,S=S+Math.imul(xe,ce)|0,E=(E=E+Math.imul(xe,fe)|0)+Math.imul(Te,ce)|0,A=A+Math.imul(Te,fe)|0;var Rt=(D+(S=S+Math.imul(me,ye)|0)|0)+((8191&(E=(E=E+Math.imul(me,Ne)|0)+Math.imul(ne,ye)|0))<<13)|0;D=((A=A+Math.imul(ne,Ne)|0)+(E>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,S=Math.imul(Ie,At),E=(E=Math.imul(Ie,Ct))+Math.imul($e,At)|0,A=Math.imul($e,Ct),S=S+Math.imul(Ze,Mt)|0,E=(E=E+Math.imul(Ze,je)|0)+Math.imul(vt,Mt)|0,A=A+Math.imul(vt,je)|0,S=S+Math.imul(tt,ct)|0,E=(E=E+Math.imul(tt,ae)|0)+Math.imul(at,ct)|0,A=A+Math.imul(at,ae)|0,S=S+Math.imul(Pe,ce)|0,E=(E=E+Math.imul(Pe,fe)|0)+Math.imul(Xe,ce)|0,A=A+Math.imul(Xe,fe)|0;var Qt=(D+(S=S+Math.imul(xe,ye)|0)|0)+((8191&(E=(E=E+Math.imul(xe,Ne)|0)+Math.imul(Te,ye)|0))<<13)|0;D=((A=A+Math.imul(Te,Ne)|0)+(E>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,S=Math.imul(Ie,Mt),E=(E=Math.imul(Ie,je))+Math.imul($e,Mt)|0,A=Math.imul($e,je),S=S+Math.imul(Ze,ct)|0,E=(E=E+Math.imul(Ze,ae)|0)+Math.imul(vt,ct)|0,A=A+Math.imul(vt,ae)|0,S=S+Math.imul(tt,ce)|0,E=(E=E+Math.imul(tt,fe)|0)+Math.imul(at,ce)|0,A=A+Math.imul(at,fe)|0;var Gt=(D+(S=S+Math.imul(Pe,ye)|0)|0)+((8191&(E=(E=E+Math.imul(Pe,Ne)|0)+Math.imul(Xe,ye)|0))<<13)|0;D=((A=A+Math.imul(Xe,Ne)|0)+(E>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,S=Math.imul(Ie,ct),E=(E=Math.imul(Ie,ae))+Math.imul($e,ct)|0,A=Math.imul($e,ae),S=S+Math.imul(Ze,ce)|0,E=(E=E+Math.imul(Ze,fe)|0)+Math.imul(vt,ce)|0,A=A+Math.imul(vt,fe)|0;var Wt=(D+(S=S+Math.imul(tt,ye)|0)|0)+((8191&(E=(E=E+Math.imul(tt,Ne)|0)+Math.imul(at,ye)|0))<<13)|0;D=((A=A+Math.imul(at,Ne)|0)+(E>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,S=Math.imul(Ie,ce),E=(E=Math.imul(Ie,fe))+Math.imul($e,ce)|0,A=Math.imul($e,fe);var Vt=(D+(S=S+Math.imul(Ze,ye)|0)|0)+((8191&(E=(E=E+Math.imul(Ze,Ne)|0)+Math.imul(vt,ye)|0))<<13)|0;D=((A=A+Math.imul(vt,Ne)|0)+(E>>>13)|0)+(Vt>>>26)|0,Vt&=67108863;var Jt=(D+(S=Math.imul(Ie,ye))|0)+((8191&(E=(E=Math.imul(Ie,Ne))+Math.imul($e,ye)|0))<<13)|0;return D=((A=Math.imul($e,Ne))+(E>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,L[0]=Fe,L[1]=Oe,L[2]=Ve,L[3]=ze,L[4]=bt,L[5]=St,L[6]=Tt,L[7]=be,L[8]=Me,L[9]=Ye,L[10]=ht,L[11]=Nt,L[12]=yt,L[13]=Rt,L[14]=Qt,L[15]=Gt,L[16]=Wt,L[17]=Vt,L[18]=Jt,D!==0&&(L[19]=D,C.length++),C};function k(N,P,C){return new R().mulp(N,P,C)}function R(N,P){this.x=N,this.y=P}Math.imul||(y=v),o.prototype.mulTo=function(N,P){var C=this.length+N.length;return this.length===10&&N.length===10?y(this,N,P):C<63?v(this,N,P):C<1024?(function(S,E,A){A.negative=E.negative^S.negative,A.length=S.length+E.length;for(var T=0,j=0,L=0;L<A.length-1;L++){var D=j;j=0;for(var Z=67108863&T,K=Math.min(L,E.length-1),ee=Math.max(0,L-S.length+1);ee<=K;ee++){var G=L-ee,te=(0|S.words[G])*(0|E.words[ee]),H=67108863&te;Z=67108863&(H=H+Z|0),j+=(D=(D=D+(te/67108864|0)|0)+(H>>>26)|0)>>>26,D&=67108863}A.words[L]=Z,T=D,D=j}return T!==0?A.words[L]=T:A.length--,A.strip()})(this,N,P):k(this,N,P)},R.prototype.makeRBT=function(N){for(var P=new Array(N),C=o.prototype._countBits(N)-1,S=0;S<N;S++)P[S]=this.revBin(S,C,N);return P},R.prototype.revBin=function(N,P,C){if(N===0||N===C-1)return N;for(var S=0,E=0;E<P;E++)S|=(1&N)<<P-E-1,N>>=1;return S},R.prototype.permute=function(N,P,C,S,E,A){for(var T=0;T<A;T++)S[T]=P[N[T]],E[T]=C[N[T]]},R.prototype.transform=function(N,P,C,S,E,A){this.permute(A,N,P,C,S,E);for(var T=1;T<E;T<<=1)for(var j=T<<1,L=Math.cos(2*Math.PI/j),D=Math.sin(2*Math.PI/j),Z=0;Z<E;Z+=j)for(var K=L,ee=D,G=0;G<T;G++){var te=C[Z+G],H=S[Z+G],U=C[Z+G+T],Q=S[Z+G+T],ie=K*U-ee*Q;Q=K*Q+ee*U,U=ie,C[Z+G]=te+U,S[Z+G]=H+Q,C[Z+G+T]=te-U,S[Z+G+T]=H-Q,G!==j&&(ie=L*K-D*ee,ee=L*ee+D*K,K=ie)}},R.prototype.guessLen13b=function(N,P){var C=1|Math.max(P,N),S=1&C,E=0;for(C=C/2|0;C;C>>>=1)E++;return 1<<E+1+S},R.prototype.conjugate=function(N,P,C){if(!(C<=1))for(var S=0;S<C/2;S++){var E=N[S];N[S]=N[C-S-1],N[C-S-1]=E,E=P[S],P[S]=-P[C-S-1],P[C-S-1]=-E}},R.prototype.normalize13b=function(N,P){for(var C=0,S=0;S<P/2;S++){var E=8192*Math.round(N[2*S+1]/P)+Math.round(N[2*S]/P)+C;N[S]=67108863&E,C=E<67108864?0:E/67108864|0}return N},R.prototype.convert13b=function(N,P,C,S){for(var E=0,A=0;A<P;A++)E+=0|N[A],C[2*A]=8191&E,E>>>=13,C[2*A+1]=8191&E,E>>>=13;for(A=2*P;A<S;++A)C[A]=0;l(E===0),l((-8192&E)==0)},R.prototype.stub=function(N){for(var P=new Array(N),C=0;C<N;C++)P[C]=0;return P},R.prototype.mulp=function(N,P,C){var S=2*this.guessLen13b(N.length,P.length),E=this.makeRBT(S),A=this.stub(S),T=new Array(S),j=new Array(S),L=new Array(S),D=new Array(S),Z=new Array(S),K=new Array(S),ee=C.words;ee.length=S,this.convert13b(N.words,N.length,T,S),this.convert13b(P.words,P.length,D,S),this.transform(T,A,j,L,S,E),this.transform(D,A,Z,K,S,E);for(var G=0;G<S;G++){var te=j[G]*Z[G]-L[G]*K[G];L[G]=j[G]*K[G]+L[G]*Z[G],j[G]=te}return this.conjugate(j,L,S),this.transform(j,L,ee,A,S,E),this.conjugate(ee,A,S),this.normalize13b(ee,S),C.negative=N.negative^P.negative,C.length=N.length+P.length,C.strip()},o.prototype.mul=function(N){var P=new o(null);return P.words=new Array(this.length+N.length),this.mulTo(N,P)},o.prototype.mulf=function(N){var P=new o(null);return P.words=new Array(this.length+N.length),k(this,N,P)},o.prototype.imul=function(N){return this.clone().mulTo(N,this)},o.prototype.imuln=function(N){l(typeof N=="number"),l(N<67108864);for(var P=0,C=0;C<this.length;C++){var S=(0|this.words[C])*N,E=(67108863&S)+(67108863&P);P>>=26,P+=S/67108864|0,P+=E>>>26,this.words[C]=67108863&E}return P!==0&&(this.words[C]=P,this.length++),this},o.prototype.muln=function(N){return this.clone().imuln(N)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(N){var P=(function(A){for(var T=new Array(A.bitLength()),j=0;j<T.length;j++){var L=j/26|0,D=j%26;T[j]=(A.words[L]&1<<D)>>>D}return T})(N);if(P.length===0)return new o(1);for(var C=this,S=0;S<P.length&&P[S]===0;S++,C=C.sqr());if(++S<P.length)for(var E=C.sqr();S<P.length;S++,E=E.sqr())P[S]!==0&&(C=C.mul(E));return C},o.prototype.iushln=function(N){l(typeof N=="number"&&N>=0);var P,C=N%26,S=(N-C)/26,E=67108863>>>26-C<<26-C;if(C!==0){var A=0;for(P=0;P<this.length;P++){var T=this.words[P]&E,j=(0|this.words[P])-T<<C;this.words[P]=j|A,A=T>>>26-C}A&&(this.words[P]=A,this.length++)}if(S!==0){for(P=this.length-1;P>=0;P--)this.words[P+S]=this.words[P];for(P=0;P<S;P++)this.words[P]=0;this.length+=S}return this.strip()},o.prototype.ishln=function(N){return l(this.negative===0),this.iushln(N)},o.prototype.iushrn=function(N,P,C){var S;l(typeof N=="number"&&N>=0),S=P?(P-P%26)/26:0;var E=N%26,A=Math.min((N-E)/26,this.length),T=67108863^67108863>>>E<<E,j=C;if(S-=A,S=Math.max(0,S),j){for(var L=0;L<A;L++)j.words[L]=this.words[L];j.length=A}if(A!==0)if(this.length>A)for(this.length-=A,L=0;L<this.length;L++)this.words[L]=this.words[L+A];else this.words[0]=0,this.length=1;var D=0;for(L=this.length-1;L>=0&&(D!==0||L>=S);L--){var Z=0|this.words[L];this.words[L]=D<<26-E|Z>>>E,D=Z&T}return j&&D!==0&&(j.words[j.length++]=D),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(N,P,C){return l(this.negative===0),this.iushrn(N,P,C)},o.prototype.shln=function(N){return this.clone().ishln(N)},o.prototype.ushln=function(N){return this.clone().iushln(N)},o.prototype.shrn=function(N){return this.clone().ishrn(N)},o.prototype.ushrn=function(N){return this.clone().iushrn(N)},o.prototype.testn=function(N){l(typeof N=="number"&&N>=0);var P=N%26,C=(N-P)/26,S=1<<P;return!(this.length<=C)&&!!(this.words[C]&S)},o.prototype.imaskn=function(N){l(typeof N=="number"&&N>=0);var P=N%26,C=(N-P)/26;if(l(this.negative===0,"imaskn works only with positive numbers"),this.length<=C)return this;if(P!==0&&C++,this.length=Math.min(C,this.length),P!==0){var S=67108863^67108863>>>P<<P;this.words[this.length-1]&=S}return this.strip()},o.prototype.maskn=function(N){return this.clone().imaskn(N)},o.prototype.iaddn=function(N){return l(typeof N=="number"),l(N<67108864),N<0?this.isubn(-N):this.negative!==0?this.length===1&&(0|this.words[0])<N?(this.words[0]=N-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(N),this.negative=1,this):this._iaddn(N)},o.prototype._iaddn=function(N){this.words[0]+=N;for(var P=0;P<this.length&&this.words[P]>=67108864;P++)this.words[P]-=67108864,P===this.length-1?this.words[P+1]=1:this.words[P+1]++;return this.length=Math.max(this.length,P+1),this},o.prototype.isubn=function(N){if(l(typeof N=="number"),l(N<67108864),N<0)return this.iaddn(-N);if(this.negative!==0)return this.negative=0,this.iaddn(N),this.negative=1,this;if(this.words[0]-=N,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var P=0;P<this.length&&this.words[P]<0;P++)this.words[P]+=67108864,this.words[P+1]-=1;return this.strip()},o.prototype.addn=function(N){return this.clone().iaddn(N)},o.prototype.subn=function(N){return this.clone().isubn(N)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(N,P,C){var S,E,A=N.length+C;this._expand(A);var T=0;for(S=0;S<N.length;S++){E=(0|this.words[S+C])+T;var j=(0|N.words[S])*P;T=((E-=67108863&j)>>26)-(j/67108864|0),this.words[S+C]=67108863&E}for(;S<this.length-C;S++)T=(E=(0|this.words[S+C])+T)>>26,this.words[S+C]=67108863&E;if(T===0)return this.strip();for(l(T===-1),T=0,S=0;S<this.length;S++)T=(E=-(0|this.words[S])+T)>>26,this.words[S]=67108863&E;return this.negative=1,this.strip()},o.prototype._wordDiv=function(N,P){var C=(this.length,N.length),S=this.clone(),E=N,A=0|E.words[E.length-1];(C=26-this._countBits(A))!==0&&(E=E.ushln(C),S.iushln(C),A=0|E.words[E.length-1]);var T,j=S.length-E.length;if(P!=="mod"){(T=new o(null)).length=j+1,T.words=new Array(T.length);for(var L=0;L<T.length;L++)T.words[L]=0}var D=S.clone()._ishlnsubmul(E,1,j);D.negative===0&&(S=D,T&&(T.words[j]=1));for(var Z=j-1;Z>=0;Z--){var K=67108864*(0|S.words[E.length+Z])+(0|S.words[E.length+Z-1]);for(K=Math.min(K/A|0,67108863),S._ishlnsubmul(E,K,Z);S.negative!==0;)K--,S.negative=0,S._ishlnsubmul(E,1,Z),S.isZero()||(S.negative^=1);T&&(T.words[Z]=K)}return T&&T.strip(),S.strip(),P!=="div"&&C!==0&&S.iushrn(C),{div:T||null,mod:S}},o.prototype.divmod=function(N,P,C){return l(!N.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:this.negative!==0&&N.negative===0?(A=this.neg().divmod(N,P),P!=="mod"&&(S=A.div.neg()),P!=="div"&&(E=A.mod.neg(),C&&E.negative!==0&&E.iadd(N)),{div:S,mod:E}):this.negative===0&&N.negative!==0?(A=this.divmod(N.neg(),P),P!=="mod"&&(S=A.div.neg()),{div:S,mod:A.mod}):(this.negative&N.negative)!=0?(A=this.neg().divmod(N.neg(),P),P!=="div"&&(E=A.mod.neg(),C&&E.negative!==0&&E.isub(N)),{div:A.div,mod:E}):N.length>this.length||this.cmp(N)<0?{div:new o(0),mod:this}:N.length===1?P==="div"?{div:this.divn(N.words[0]),mod:null}:P==="mod"?{div:null,mod:new o(this.modn(N.words[0]))}:{div:this.divn(N.words[0]),mod:new o(this.modn(N.words[0]))}:this._wordDiv(N,P);var S,E,A},o.prototype.div=function(N){return this.divmod(N,"div",!1).div},o.prototype.mod=function(N){return this.divmod(N,"mod",!1).mod},o.prototype.umod=function(N){return this.divmod(N,"mod",!0).mod},o.prototype.divRound=function(N){var P=this.divmod(N);if(P.mod.isZero())return P.div;var C=P.div.negative!==0?P.mod.isub(N):P.mod,S=N.ushrn(1),E=N.andln(1),A=C.cmp(S);return A<0||E===1&&A===0?P.div:P.div.negative!==0?P.div.isubn(1):P.div.iaddn(1)},o.prototype.modn=function(N){l(N<=67108863);for(var P=(1<<26)%N,C=0,S=this.length-1;S>=0;S--)C=(P*C+(0|this.words[S]))%N;return C},o.prototype.idivn=function(N){l(N<=67108863);for(var P=0,C=this.length-1;C>=0;C--){var S=(0|this.words[C])+67108864*P;this.words[C]=S/N|0,P=S%N}return this.strip()},o.prototype.divn=function(N){return this.clone().idivn(N)},o.prototype.egcd=function(N){l(N.negative===0),l(!N.isZero());var P=this,C=N.clone();P=P.negative!==0?P.umod(N):P.clone();for(var S=new o(1),E=new o(0),A=new o(0),T=new o(1),j=0;P.isEven()&&C.isEven();)P.iushrn(1),C.iushrn(1),++j;for(var L=C.clone(),D=P.clone();!P.isZero();){for(var Z=0,K=1;(P.words[0]&K)==0&&Z<26;++Z,K<<=1);if(Z>0)for(P.iushrn(Z);Z-- >0;)(S.isOdd()||E.isOdd())&&(S.iadd(L),E.isub(D)),S.iushrn(1),E.iushrn(1);for(var ee=0,G=1;(C.words[0]&G)==0&&ee<26;++ee,G<<=1);if(ee>0)for(C.iushrn(ee);ee-- >0;)(A.isOdd()||T.isOdd())&&(A.iadd(L),T.isub(D)),A.iushrn(1),T.iushrn(1);P.cmp(C)>=0?(P.isub(C),S.isub(A),E.isub(T)):(C.isub(P),A.isub(S),T.isub(E))}return{a:A,b:T,gcd:C.iushln(j)}},o.prototype._invmp=function(N){l(N.negative===0),l(!N.isZero());var P=this,C=N.clone();P=P.negative!==0?P.umod(N):P.clone();for(var S,E=new o(1),A=new o(0),T=C.clone();P.cmpn(1)>0&&C.cmpn(1)>0;){for(var j=0,L=1;(P.words[0]&L)==0&&j<26;++j,L<<=1);if(j>0)for(P.iushrn(j);j-- >0;)E.isOdd()&&E.iadd(T),E.iushrn(1);for(var D=0,Z=1;(C.words[0]&Z)==0&&D<26;++D,Z<<=1);if(D>0)for(C.iushrn(D);D-- >0;)A.isOdd()&&A.iadd(T),A.iushrn(1);P.cmp(C)>=0?(P.isub(C),E.isub(A)):(C.isub(P),A.isub(E))}return(S=P.cmpn(1)===0?E:A).cmpn(0)<0&&S.iadd(N),S},o.prototype.gcd=function(N){if(this.isZero())return N.abs();if(N.isZero())return this.abs();var P=this.clone(),C=N.clone();P.negative=0,C.negative=0;for(var S=0;P.isEven()&&C.isEven();S++)P.iushrn(1),C.iushrn(1);for(;;){for(;P.isEven();)P.iushrn(1);for(;C.isEven();)C.iushrn(1);var E=P.cmp(C);if(E<0){var A=P;P=C,C=A}else if(E===0||C.cmpn(1)===0)break;P.isub(C)}return C.iushln(S)},o.prototype.invm=function(N){return this.egcd(N).a.umod(N)},o.prototype.isEven=function(){return(1&this.words[0])==0},o.prototype.isOdd=function(){return(1&this.words[0])==1},o.prototype.andln=function(N){return this.words[0]&N},o.prototype.bincn=function(N){l(typeof N=="number");var P=N%26,C=(N-P)/26,S=1<<P;if(this.length<=C)return this._expand(C+1),this.words[C]|=S,this;for(var E=S,A=C;E!==0&&A<this.length;A++){var T=0|this.words[A];E=(T+=E)>>>26,T&=67108863,this.words[A]=T}return E!==0&&(this.words[A]=E,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(N){var P,C=N<0;if(this.negative!==0&&!C)return-1;if(this.negative===0&&C)return 1;if(this.strip(),this.length>1)P=1;else{C&&(N=-N),l(N<=67108863,"Number is too big");var S=0|this.words[0];P=S===N?0:S<N?-1:1}return this.negative!==0?0|-P:P},o.prototype.cmp=function(N){if(this.negative!==0&&N.negative===0)return-1;if(this.negative===0&&N.negative!==0)return 1;var P=this.ucmp(N);return this.negative!==0?0|-P:P},o.prototype.ucmp=function(N){if(this.length>N.length)return 1;if(this.length<N.length)return-1;for(var P=0,C=this.length-1;C>=0;C--){var S=0|this.words[C],E=0|N.words[C];if(S!==E){S<E?P=-1:S>E&&(P=1);break}}return P},o.prototype.gtn=function(N){return this.cmpn(N)===1},o.prototype.gt=function(N){return this.cmp(N)===1},o.prototype.gten=function(N){return this.cmpn(N)>=0},o.prototype.gte=function(N){return this.cmp(N)>=0},o.prototype.ltn=function(N){return this.cmpn(N)===-1},o.prototype.lt=function(N){return this.cmp(N)===-1},o.prototype.lten=function(N){return this.cmpn(N)<=0},o.prototype.lte=function(N){return this.cmp(N)<=0},o.prototype.eqn=function(N){return this.cmpn(N)===0},o.prototype.eq=function(N){return this.cmp(N)===0},o.red=function(N){return new W(N)},o.prototype.toRed=function(N){return l(!this.red,"Already a number in reduction context"),l(this.negative===0,"red works only with positives"),N.convertTo(this)._forceRed(N)},o.prototype.fromRed=function(){return l(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(N){return this.red=N,this},o.prototype.forceRed=function(N){return l(!this.red,"Already a number in reduction context"),this._forceRed(N)},o.prototype.redAdd=function(N){return l(this.red,"redAdd works only with red numbers"),this.red.add(this,N)},o.prototype.redIAdd=function(N){return l(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,N)},o.prototype.redSub=function(N){return l(this.red,"redSub works only with red numbers"),this.red.sub(this,N)},o.prototype.redISub=function(N){return l(this.red,"redISub works only with red numbers"),this.red.isub(this,N)},o.prototype.redShl=function(N){return l(this.red,"redShl works only with red numbers"),this.red.shl(this,N)},o.prototype.redMul=function(N){return l(this.red,"redMul works only with red numbers"),this.red._verify2(this,N),this.red.mul(this,N)},o.prototype.redIMul=function(N){return l(this.red,"redMul works only with red numbers"),this.red._verify2(this,N),this.red.imul(this,N)},o.prototype.redSqr=function(){return l(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return l(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return l(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return l(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return l(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(N){return l(this.red&&!N.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,N)};var z={k256:null,p224:null,p192:null,p25519:null};function q(N,P){this.name=N,this.p=new o(P,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function B(){q.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function I(){q.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function O(){q.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function F(){q.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function W(N){if(typeof N=="string"){var P=o._prime(N);this.m=P.p,this.prime=P}else l(N.gtn(1),"modulus must be greater than 1"),this.m=N,this.prime=null}function V(N){W.call(this,N),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}q.prototype._tmp=function(){var N=new o(null);return N.words=new Array(Math.ceil(this.n/13)),N},q.prototype.ireduce=function(N){var P,C=N;do this.split(C,this.tmp),P=(C=(C=this.imulK(C)).iadd(this.tmp)).bitLength();while(P>this.n);var S=P<this.n?-1:C.ucmp(this.p);return S===0?(C.words[0]=0,C.length=1):S>0?C.isub(this.p):C.strip!==void 0?C.strip():C._strip(),C},q.prototype.split=function(N,P){N.iushrn(this.n,0,P)},q.prototype.imulK=function(N){return N.imul(this.k)},c(B,q),B.prototype.split=function(N,P){for(var C=Math.min(N.length,9),S=0;S<C;S++)P.words[S]=N.words[S];if(P.length=C,N.length<=9)return N.words[0]=0,void(N.length=1);var E=N.words[9];for(P.words[P.length++]=4194303&E,S=10;S<N.length;S++){var A=0|N.words[S];N.words[S-10]=(4194303&A)<<4|E>>>22,E=A}E>>>=22,N.words[S-10]=E,E===0&&N.length>10?N.length-=10:N.length-=9},B.prototype.imulK=function(N){N.words[N.length]=0,N.words[N.length+1]=0,N.length+=2;for(var P=0,C=0;C<N.length;C++){var S=0|N.words[C];P+=977*S,N.words[C]=67108863&P,P=64*S+(P/67108864|0)}return N.words[N.length-1]===0&&(N.length--,N.words[N.length-1]===0&&N.length--),N},c(I,q),c(O,q),c(F,q),F.prototype.imulK=function(N){for(var P=0,C=0;C<N.length;C++){var S=19*(0|N.words[C])+P,E=67108863&S;S>>>=26,N.words[C]=E,P=S}return P!==0&&(N.words[N.length++]=P),N},o._prime=function(N){if(z[N])return z[N];var P;if(N==="k256")P=new B;else if(N==="p224")P=new I;else if(N==="p192")P=new O;else{if(N!=="p25519")throw new Error("Unknown prime "+N);P=new F}return z[N]=P,P},W.prototype._verify1=function(N){l(N.negative===0,"red works only with positives"),l(N.red,"red works only with red numbers")},W.prototype._verify2=function(N,P){l((N.negative|P.negative)==0,"red works only with positives"),l(N.red&&N.red===P.red,"red works only with red numbers")},W.prototype.imod=function(N){return this.prime?this.prime.ireduce(N)._forceRed(this):N.umod(this.m)._forceRed(this)},W.prototype.neg=function(N){return N.isZero()?N.clone():this.m.sub(N)._forceRed(this)},W.prototype.add=function(N,P){this._verify2(N,P);var C=N.add(P);return C.cmp(this.m)>=0&&C.isub(this.m),C._forceRed(this)},W.prototype.iadd=function(N,P){this._verify2(N,P);var C=N.iadd(P);return C.cmp(this.m)>=0&&C.isub(this.m),C},W.prototype.sub=function(N,P){this._verify2(N,P);var C=N.sub(P);return C.cmpn(0)<0&&C.iadd(this.m),C._forceRed(this)},W.prototype.isub=function(N,P){this._verify2(N,P);var C=N.isub(P);return C.cmpn(0)<0&&C.iadd(this.m),C},W.prototype.shl=function(N,P){return this._verify1(N),this.imod(N.ushln(P))},W.prototype.imul=function(N,P){return this._verify2(N,P),this.imod(N.imul(P))},W.prototype.mul=function(N,P){return this._verify2(N,P),this.imod(N.mul(P))},W.prototype.isqr=function(N){return this.imul(N,N.clone())},W.prototype.sqr=function(N){return this.mul(N,N)},W.prototype.sqrt=function(N){if(N.isZero())return N.clone();var P=this.m.andln(3);if(l(P%2==1),P===3){var C=this.m.add(new o(1)).iushrn(2);return this.pow(N,C)}for(var S=this.m.subn(1),E=0;!S.isZero()&&S.andln(1)===0;)E++,S.iushrn(1);l(!S.isZero());var A=new o(1).toRed(this),T=A.redNeg(),j=this.m.subn(1).iushrn(1),L=this.m.bitLength();for(L=new o(2*L*L).toRed(this);this.pow(L,j).cmp(T)!==0;)L.redIAdd(T);for(var D=this.pow(L,S),Z=this.pow(N,S.addn(1).iushrn(1)),K=this.pow(N,S),ee=E;K.cmp(A)!==0;){for(var G=K,te=0;G.cmp(A)!==0;te++)G=G.redSqr();l(te<ee);var H=this.pow(D,new o(1).iushln(ee-te-1));Z=Z.redMul(H),D=H.redSqr(),K=K.redMul(D),ee=te}return Z},W.prototype.invm=function(N){var P=N._invmp(this.m);return P.negative!==0?(P.negative=0,this.imod(P).redNeg()):this.imod(P)},W.prototype.pow=function(N,P){if(P.isZero())return new o(1).toRed(this);if(P.cmpn(1)===0)return N.clone();var C=new Array(16);C[0]=new o(1).toRed(this),C[1]=N;for(var S=2;S<C.length;S++)C[S]=this.mul(C[S-1],N);var E=C[0],A=0,T=0,j=P.bitLength()%26;for(j===0&&(j=26),S=P.length-1;S>=0;S--){for(var L=P.words[S],D=j-1;D>=0;D--){var Z=L>>D&1;E!==C[0]&&(E=this.sqr(E)),Z!==0||A!==0?(A<<=1,A|=Z,(++T===4||S===0&&D===0)&&(E=this.mul(E,C[A]),T=0,A=0)):T=0}j=26}return E},W.prototype.convertTo=function(N){var P=N.umod(this.m);return P===N?P.clone():P},W.prototype.convertFrom=function(N){var P=N.clone();return P.red=null,P},o.mont=function(N){return new V(N)},c(V,W),V.prototype.convertTo=function(N){return this.imod(N.ushln(this.shift))},V.prototype.convertFrom=function(N){var P=this.imod(N.mul(this.rinv));return P.red=null,P},V.prototype.imul=function(N,P){if(N.isZero()||P.isZero())return N.words[0]=0,N.length=1,N;var C=N.imul(P),S=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=C.isub(S).iushrn(this.shift),A=E;return E.cmp(this.m)>=0?A=E.isub(this.m):E.cmpn(0)<0&&(A=E.iadd(this.m)),A._forceRed(this)},V.prototype.mul=function(N,P){if(N.isZero()||P.isZero())return new o(0)._forceRed(this);var C=N.mul(P),S=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=C.isub(S).iushrn(this.shift),A=E;return E.cmp(this.m)>=0?A=E.isub(this.m):E.cmpn(0)<0&&(A=E.iadd(this.m)),A._forceRed(this)},V.prototype.invm=function(N){return this.imod(N._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],185:[function(e,n,s){s.byteLength=function(d){var b=p(d),x=b[0],g=b[1];return 3*(x+g)/4-g},s.toByteArray=function(d){var b,x,g=p(d),v=g[0],y=g[1],k=new l((function(q,B,I){return 3*(B+I)/4-I})(0,v,y)),R=0,z=y>0?v-4:v;for(x=0;x<z;x+=4)b=a[d.charCodeAt(x)]<<18|a[d.charCodeAt(x+1)]<<12|a[d.charCodeAt(x+2)]<<6|a[d.charCodeAt(x+3)],k[R++]=b>>16&255,k[R++]=b>>8&255,k[R++]=255&b;return y===2&&(b=a[d.charCodeAt(x)]<<2|a[d.charCodeAt(x+1)]>>4,k[R++]=255&b),y===1&&(b=a[d.charCodeAt(x)]<<10|a[d.charCodeAt(x+1)]<<4|a[d.charCodeAt(x+2)]>>2,k[R++]=b>>8&255,k[R++]=255&b),k},s.fromByteArray=function(d){for(var b,x=d.length,g=x%3,v=[],y=0,k=x-g;y<k;y+=16383)v.push(h(d,y,y+16383>k?k:y+16383));return g===1?(b=d[x-1],v.push(i[b>>2]+i[b<<4&63]+"==")):g===2&&(b=(d[x-2]<<8)+d[x-1],v.push(i[b>>10]+i[b>>4&63]+i[b<<2&63]+"=")),v.join("")};for(var i=[],a=[],l=typeof Uint8Array<"u"?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,u=c.length;o<u;++o)i[o]=c[o],a[c.charCodeAt(o)]=o;function p(d){var b=d.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=d.indexOf("=");return x===-1&&(x=b),[x,x===b?0:4-x%4]}function h(d,b,x){for(var g,v,y=[],k=b;k<x;k+=3)g=(d[k]<<16&16711680)+(d[k+1]<<8&65280)+(255&d[k+2]),y.push(i[(v=g)>>18&63]+i[v>>12&63]+i[v>>6&63]+i[63&v]);return y.join("")}a[45]=62,a[95]=63},{}],186:[function(e,n,s){(function(i,a){function l(C,S){if(!C)throw new Error(S||"Assertion failed")}function c(C,S){C.super_=S;var E=function(){};E.prototype=S.prototype,C.prototype=new E,C.prototype.constructor=C}function o(C,S,E){if(o.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,C!==null&&(S!=="le"&&S!=="be"||(E=S,S=10),this._init(C||0,S||10,E||"be"))}var u;typeof i=="object"?i.exports=o:(void 0).BN=o,o.BN=o,o.wordSize=26;try{u=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function p(C,S){var E=C.charCodeAt(S);return E>=48&&E<=57?E-48:E>=65&&E<=70?E-55:E>=97&&E<=102?E-87:void l(!1,"Invalid character in "+C)}function h(C,S,E){var A=p(C,E);return E-1>=S&&(A|=p(C,E-1)<<4),A}function d(C,S,E,A){for(var T=0,j=0,L=Math.min(C.length,E),D=S;D<L;D++){var Z=C.charCodeAt(D)-48;T*=A,j=Z>=49?Z-49+10:Z>=17?Z-17+10:Z,l(Z>=0&&j<A,"Invalid character"),T+=j}return T}function b(C,S){C.words=S.words,C.length=S.length,C.negative=S.negative,C.red=S.red}if(o.isBN=function(C){return C instanceof o||C!==null&&typeof C=="object"&&C.constructor.wordSize===o.wordSize&&Array.isArray(C.words)},o.max=function(C,S){return C.cmp(S)>0?C:S},o.min=function(C,S){return C.cmp(S)<0?C:S},o.prototype._init=function(C,S,E){if(typeof C=="number")return this._initNumber(C,S,E);if(typeof C=="object")return this._initArray(C,S,E);S==="hex"&&(S=16),l(S===(0|S)&&S>=2&&S<=36);var A=0;(C=C.toString().replace(/\s+/g,""))[0]==="-"&&(A++,this.negative=1),A<C.length&&(S===16?this._parseHex(C,A,E):(this._parseBase(C,S,A),E==="le"&&this._initArray(this.toArray(),S,E)))},o.prototype._initNumber=function(C,S,E){C<0&&(this.negative=1,C=-C),C<67108864?(this.words=[67108863&C],this.length=1):C<4503599627370496?(this.words=[67108863&C,C/67108864&67108863],this.length=2):(l(C<9007199254740992),this.words=[67108863&C,C/67108864&67108863,1],this.length=3),E==="le"&&this._initArray(this.toArray(),S,E)},o.prototype._initArray=function(C,S,E){if(l(typeof C.length=="number"),C.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(C.length/3),this.words=new Array(this.length);for(var A=0;A<this.length;A++)this.words[A]=0;var T,j,L=0;if(E==="be")for(A=C.length-1,T=0;A>=0;A-=3)j=C[A]|C[A-1]<<8|C[A-2]<<16,this.words[T]|=j<<L&67108863,this.words[T+1]=j>>>26-L&67108863,(L+=24)>=26&&(L-=26,T++);else if(E==="le")for(A=0,T=0;A<C.length;A+=3)j=C[A]|C[A+1]<<8|C[A+2]<<16,this.words[T]|=j<<L&67108863,this.words[T+1]=j>>>26-L&67108863,(L+=24)>=26&&(L-=26,T++);return this._strip()},o.prototype._parseHex=function(C,S,E){this.length=Math.ceil((C.length-S)/6),this.words=new Array(this.length);for(var A=0;A<this.length;A++)this.words[A]=0;var T,j=0,L=0;if(E==="be")for(A=C.length-1;A>=S;A-=2)T=h(C,S,A)<<j,this.words[L]|=67108863&T,j>=18?(j-=18,L+=1,this.words[L]|=T>>>26):j+=8;else for(A=(C.length-S)%2==0?S+1:S;A<C.length;A+=2)T=h(C,S,A)<<j,this.words[L]|=67108863&T,j>=18?(j-=18,L+=1,this.words[L]|=T>>>26):j+=8;this._strip()},o.prototype._parseBase=function(C,S,E){this.words=[0],this.length=1;for(var A=0,T=1;T<=67108863;T*=S)A++;A--,T=T/S|0;for(var j=C.length-E,L=j%A,D=Math.min(j,j-L)+E,Z=0,K=E;K<D;K+=A)Z=d(C,K,K+A,S),this.imuln(T),this.words[0]+Z<67108864?this.words[0]+=Z:this._iaddn(Z);if(L!==0){var ee=1;for(Z=d(C,K,C.length,S),K=0;K<L;K++)ee*=S;this.imuln(ee),this.words[0]+Z<67108864?this.words[0]+=Z:this._iaddn(Z)}this._strip()},o.prototype.copy=function(C){C.words=new Array(this.length);for(var S=0;S<this.length;S++)C.words[S]=this.words[S];C.length=this.length,C.negative=this.negative,C.red=this.red},o.prototype._move=function(C){b(C,this)},o.prototype.clone=function(){var C=new o(null);return this.copy(C),C},o.prototype._expand=function(C){for(;this.length<C;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=x}catch{o.prototype.inspect=x}else o.prototype.inspect=x;function x(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(C,S){var E;if(S=0|S||1,(C=C||10)===16||C==="hex"){E="";for(var A=0,T=0,j=0;j<this.length;j++){var L=this.words[j],D=(16777215&(L<<A|T)).toString(16);T=L>>>24-A&16777215,(A+=2)>=26&&(A-=26,j--),E=T!==0||j!==this.length-1?g[6-D.length]+D+E:D+E}for(T!==0&&(E=T.toString(16)+E);E.length%S!=0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}if(C===(0|C)&&C>=2&&C<=36){var Z=v[C],K=y[C];E="";var ee=this.clone();for(ee.negative=0;!ee.isZero();){var G=ee.modrn(K).toString(C);E=(ee=ee.idivn(K)).isZero()?G+E:g[Z-G.length]+G+E}for(this.isZero()&&(E="0"+E);E.length%S!=0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}l(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var C=this.words[0];return this.length===2?C+=67108864*this.words[1]:this.length===3&&this.words[2]===1?C+=4503599627370496+67108864*this.words[1]:this.length>2&&l(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-C:C},o.prototype.toJSON=function(){return this.toString(16,2)},u&&(o.prototype.toBuffer=function(C,S){return this.toArrayLike(u,C,S)}),o.prototype.toArray=function(C,S){return this.toArrayLike(Array,C,S)};function k(C,S,E){E.negative=S.negative^C.negative;var A=C.length+S.length|0;E.length=A,A=A-1|0;var T=0|C.words[0],j=0|S.words[0],L=T*j,D=67108863&L,Z=L/67108864|0;E.words[0]=D;for(var K=1;K<A;K++){for(var ee=Z>>>26,G=67108863&Z,te=Math.min(K,S.length-1),H=Math.max(0,K-C.length+1);H<=te;H++){var U=K-H|0;ee+=(L=(T=0|C.words[U])*(j=0|S.words[H])+G)/67108864|0,G=67108863&L}E.words[K]=0|G,Z=0|ee}return Z!==0?E.words[K]=0|Z:E.length--,E._strip()}o.prototype.toArrayLike=function(C,S,E){this._strip();var A=this.byteLength(),T=E||Math.max(1,A);l(A<=T,"byte array longer than desired length"),l(T>0,"Requested array length <= 0");var j=(function(L,D){return L.allocUnsafe?L.allocUnsafe(D):new L(D)})(C,T);return this["_toArrayLike"+(S==="le"?"LE":"BE")](j,A),j},o.prototype._toArrayLikeLE=function(C,S){for(var E=0,A=0,T=0,j=0;T<this.length;T++){var L=this.words[T]<<j|A;C[E++]=255&L,E<C.length&&(C[E++]=L>>8&255),E<C.length&&(C[E++]=L>>16&255),j===6?(E<C.length&&(C[E++]=L>>24&255),A=0,j=0):(A=L>>>24,j+=2)}if(E<C.length)for(C[E++]=A;E<C.length;)C[E++]=0},o.prototype._toArrayLikeBE=function(C,S){for(var E=C.length-1,A=0,T=0,j=0;T<this.length;T++){var L=this.words[T]<<j|A;C[E--]=255&L,E>=0&&(C[E--]=L>>8&255),E>=0&&(C[E--]=L>>16&255),j===6?(E>=0&&(C[E--]=L>>24&255),A=0,j=0):(A=L>>>24,j+=2)}if(E>=0)for(C[E--]=A;E>=0;)C[E--]=0},Math.clz32?o.prototype._countBits=function(C){return 32-Math.clz32(C)}:o.prototype._countBits=function(C){var S=C,E=0;return S>=4096&&(E+=13,S>>>=13),S>=64&&(E+=7,S>>>=7),S>=8&&(E+=4,S>>>=4),S>=2&&(E+=2,S>>>=2),E+S},o.prototype._zeroBits=function(C){if(C===0)return 26;var S=C,E=0;return(8191&S)==0&&(E+=13,S>>>=13),(127&S)==0&&(E+=7,S>>>=7),(15&S)==0&&(E+=4,S>>>=4),(3&S)==0&&(E+=2,S>>>=2),(1&S)==0&&E++,E},o.prototype.bitLength=function(){var C=this.words[this.length-1],S=this._countBits(C);return 26*(this.length-1)+S},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var C=0,S=0;S<this.length;S++){var E=this._zeroBits(this.words[S]);if(C+=E,E!==26)break}return C},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(C){return this.negative!==0?this.abs().inotn(C).iaddn(1):this.clone()},o.prototype.fromTwos=function(C){return this.testn(C-1)?this.notn(C).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(C){for(;this.length<C.length;)this.words[this.length++]=0;for(var S=0;S<C.length;S++)this.words[S]=this.words[S]|C.words[S];return this._strip()},o.prototype.ior=function(C){return l((this.negative|C.negative)==0),this.iuor(C)},o.prototype.or=function(C){return this.length>C.length?this.clone().ior(C):C.clone().ior(this)},o.prototype.uor=function(C){return this.length>C.length?this.clone().iuor(C):C.clone().iuor(this)},o.prototype.iuand=function(C){var S;S=this.length>C.length?C:this;for(var E=0;E<S.length;E++)this.words[E]=this.words[E]&C.words[E];return this.length=S.length,this._strip()},o.prototype.iand=function(C){return l((this.negative|C.negative)==0),this.iuand(C)},o.prototype.and=function(C){return this.length>C.length?this.clone().iand(C):C.clone().iand(this)},o.prototype.uand=function(C){return this.length>C.length?this.clone().iuand(C):C.clone().iuand(this)},o.prototype.iuxor=function(C){var S,E;this.length>C.length?(S=this,E=C):(S=C,E=this);for(var A=0;A<E.length;A++)this.words[A]=S.words[A]^E.words[A];if(this!==S)for(;A<S.length;A++)this.words[A]=S.words[A];return this.length=S.length,this._strip()},o.prototype.ixor=function(C){return l((this.negative|C.negative)==0),this.iuxor(C)},o.prototype.xor=function(C){return this.length>C.length?this.clone().ixor(C):C.clone().ixor(this)},o.prototype.uxor=function(C){return this.length>C.length?this.clone().iuxor(C):C.clone().iuxor(this)},o.prototype.inotn=function(C){l(typeof C=="number"&&C>=0);var S=0|Math.ceil(C/26),E=C%26;this._expand(S),E>0&&S--;for(var A=0;A<S;A++)this.words[A]=67108863&~this.words[A];return E>0&&(this.words[A]=~this.words[A]&67108863>>26-E),this._strip()},o.prototype.notn=function(C){return this.clone().inotn(C)},o.prototype.setn=function(C,S){l(typeof C=="number"&&C>=0);var E=C/26|0,A=C%26;return this._expand(E+1),this.words[E]=S?this.words[E]|1<<A:this.words[E]&~(1<<A),this._strip()},o.prototype.iadd=function(C){var S,E,A;if(this.negative!==0&&C.negative===0)return this.negative=0,S=this.isub(C),this.negative^=1,this._normSign();if(this.negative===0&&C.negative!==0)return C.negative=0,S=this.isub(C),C.negative=1,S._normSign();this.length>C.length?(E=this,A=C):(E=C,A=this);for(var T=0,j=0;j<A.length;j++)S=(0|E.words[j])+(0|A.words[j])+T,this.words[j]=67108863&S,T=S>>>26;for(;T!==0&&j<E.length;j++)S=(0|E.words[j])+T,this.words[j]=67108863&S,T=S>>>26;if(this.length=E.length,T!==0)this.words[this.length]=T,this.length++;else if(E!==this)for(;j<E.length;j++)this.words[j]=E.words[j];return this},o.prototype.add=function(C){var S;return C.negative!==0&&this.negative===0?(C.negative=0,S=this.sub(C),C.negative^=1,S):C.negative===0&&this.negative!==0?(this.negative=0,S=C.sub(this),this.negative=1,S):this.length>C.length?this.clone().iadd(C):C.clone().iadd(this)},o.prototype.isub=function(C){if(C.negative!==0){C.negative=0;var S=this.iadd(C);return C.negative=1,S._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(C),this.negative=1,this._normSign();var E,A,T=this.cmp(C);if(T===0)return this.negative=0,this.length=1,this.words[0]=0,this;T>0?(E=this,A=C):(E=C,A=this);for(var j=0,L=0;L<A.length;L++)j=(S=(0|E.words[L])-(0|A.words[L])+j)>>26,this.words[L]=67108863&S;for(;j!==0&&L<E.length;L++)j=(S=(0|E.words[L])+j)>>26,this.words[L]=67108863&S;if(j===0&&L<E.length&&E!==this)for(;L<E.length;L++)this.words[L]=E.words[L];return this.length=Math.max(this.length,L),E!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(C){return this.clone().isub(C)};var R=function(C,S,E){var A,T,j,L=C.words,D=S.words,Z=E.words,K=0,ee=0|L[0],G=8191&ee,te=ee>>>13,H=0|L[1],U=8191&H,Q=H>>>13,ie=0|L[2],re=8191&ie,oe=ie>>>13,he=0|L[3],ve=8191&he,me=he>>>13,ne=0|L[4],de=8191&ne,xe=ne>>>13,Te=0|L[5],Re=8191&Te,Pe=Te>>>13,Xe=0|L[6],Ue=8191&Xe,tt=Xe>>>13,at=0|L[7],Je=8191&at,Ze=at>>>13,vt=0|L[8],pt=8191&vt,Ie=vt>>>13,$e=0|L[9],Ce=8191&$e,De=$e>>>13,it=0|D[0],Be=8191&it,Ge=it>>>13,mt=0|D[1],dt=8191&mt,ke=mt>>>13,We=0|D[2],Ae=8191&We,Ee=We>>>13,et=0|D[3],lt=8191&et,Ke=et>>>13,xt=0|D[4],jt=8191&xt,At=xt>>>13,Ct=0|D[5],Dt=8191&Ct,Mt=Ct>>>13,je=0|D[6],qe=8191&je,ct=je>>>13,ae=0|D[7],pe=8191&ae,ce=ae>>>13,fe=0|D[8],ge=8191&fe,ye=fe>>>13,Ne=0|D[9],Fe=8191&Ne,Oe=Ne>>>13;E.negative=C.negative^S.negative,E.length=19;var Ve=(K+(A=Math.imul(G,Be))|0)+((8191&(T=(T=Math.imul(G,Ge))+Math.imul(te,Be)|0))<<13)|0;K=((j=Math.imul(te,Ge))+(T>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,A=Math.imul(U,Be),T=(T=Math.imul(U,Ge))+Math.imul(Q,Be)|0,j=Math.imul(Q,Ge);var ze=(K+(A=A+Math.imul(G,dt)|0)|0)+((8191&(T=(T=T+Math.imul(G,ke)|0)+Math.imul(te,dt)|0))<<13)|0;K=((j=j+Math.imul(te,ke)|0)+(T>>>13)|0)+(ze>>>26)|0,ze&=67108863,A=Math.imul(re,Be),T=(T=Math.imul(re,Ge))+Math.imul(oe,Be)|0,j=Math.imul(oe,Ge),A=A+Math.imul(U,dt)|0,T=(T=T+Math.imul(U,ke)|0)+Math.imul(Q,dt)|0,j=j+Math.imul(Q,ke)|0;var bt=(K+(A=A+Math.imul(G,Ae)|0)|0)+((8191&(T=(T=T+Math.imul(G,Ee)|0)+Math.imul(te,Ae)|0))<<13)|0;K=((j=j+Math.imul(te,Ee)|0)+(T>>>13)|0)+(bt>>>26)|0,bt&=67108863,A=Math.imul(ve,Be),T=(T=Math.imul(ve,Ge))+Math.imul(me,Be)|0,j=Math.imul(me,Ge),A=A+Math.imul(re,dt)|0,T=(T=T+Math.imul(re,ke)|0)+Math.imul(oe,dt)|0,j=j+Math.imul(oe,ke)|0,A=A+Math.imul(U,Ae)|0,T=(T=T+Math.imul(U,Ee)|0)+Math.imul(Q,Ae)|0,j=j+Math.imul(Q,Ee)|0;var St=(K+(A=A+Math.imul(G,lt)|0)|0)+((8191&(T=(T=T+Math.imul(G,Ke)|0)+Math.imul(te,lt)|0))<<13)|0;K=((j=j+Math.imul(te,Ke)|0)+(T>>>13)|0)+(St>>>26)|0,St&=67108863,A=Math.imul(de,Be),T=(T=Math.imul(de,Ge))+Math.imul(xe,Be)|0,j=Math.imul(xe,Ge),A=A+Math.imul(ve,dt)|0,T=(T=T+Math.imul(ve,ke)|0)+Math.imul(me,dt)|0,j=j+Math.imul(me,ke)|0,A=A+Math.imul(re,Ae)|0,T=(T=T+Math.imul(re,Ee)|0)+Math.imul(oe,Ae)|0,j=j+Math.imul(oe,Ee)|0,A=A+Math.imul(U,lt)|0,T=(T=T+Math.imul(U,Ke)|0)+Math.imul(Q,lt)|0,j=j+Math.imul(Q,Ke)|0;var Tt=(K+(A=A+Math.imul(G,jt)|0)|0)+((8191&(T=(T=T+Math.imul(G,At)|0)+Math.imul(te,jt)|0))<<13)|0;K=((j=j+Math.imul(te,At)|0)+(T>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,A=Math.imul(Re,Be),T=(T=Math.imul(Re,Ge))+Math.imul(Pe,Be)|0,j=Math.imul(Pe,Ge),A=A+Math.imul(de,dt)|0,T=(T=T+Math.imul(de,ke)|0)+Math.imul(xe,dt)|0,j=j+Math.imul(xe,ke)|0,A=A+Math.imul(ve,Ae)|0,T=(T=T+Math.imul(ve,Ee)|0)+Math.imul(me,Ae)|0,j=j+Math.imul(me,Ee)|0,A=A+Math.imul(re,lt)|0,T=(T=T+Math.imul(re,Ke)|0)+Math.imul(oe,lt)|0,j=j+Math.imul(oe,Ke)|0,A=A+Math.imul(U,jt)|0,T=(T=T+Math.imul(U,At)|0)+Math.imul(Q,jt)|0,j=j+Math.imul(Q,At)|0;var be=(K+(A=A+Math.imul(G,Dt)|0)|0)+((8191&(T=(T=T+Math.imul(G,Mt)|0)+Math.imul(te,Dt)|0))<<13)|0;K=((j=j+Math.imul(te,Mt)|0)+(T>>>13)|0)+(be>>>26)|0,be&=67108863,A=Math.imul(Ue,Be),T=(T=Math.imul(Ue,Ge))+Math.imul(tt,Be)|0,j=Math.imul(tt,Ge),A=A+Math.imul(Re,dt)|0,T=(T=T+Math.imul(Re,ke)|0)+Math.imul(Pe,dt)|0,j=j+Math.imul(Pe,ke)|0,A=A+Math.imul(de,Ae)|0,T=(T=T+Math.imul(de,Ee)|0)+Math.imul(xe,Ae)|0,j=j+Math.imul(xe,Ee)|0,A=A+Math.imul(ve,lt)|0,T=(T=T+Math.imul(ve,Ke)|0)+Math.imul(me,lt)|0,j=j+Math.imul(me,Ke)|0,A=A+Math.imul(re,jt)|0,T=(T=T+Math.imul(re,At)|0)+Math.imul(oe,jt)|0,j=j+Math.imul(oe,At)|0,A=A+Math.imul(U,Dt)|0,T=(T=T+Math.imul(U,Mt)|0)+Math.imul(Q,Dt)|0,j=j+Math.imul(Q,Mt)|0;var Me=(K+(A=A+Math.imul(G,qe)|0)|0)+((8191&(T=(T=T+Math.imul(G,ct)|0)+Math.imul(te,qe)|0))<<13)|0;K=((j=j+Math.imul(te,ct)|0)+(T>>>13)|0)+(Me>>>26)|0,Me&=67108863,A=Math.imul(Je,Be),T=(T=Math.imul(Je,Ge))+Math.imul(Ze,Be)|0,j=Math.imul(Ze,Ge),A=A+Math.imul(Ue,dt)|0,T=(T=T+Math.imul(Ue,ke)|0)+Math.imul(tt,dt)|0,j=j+Math.imul(tt,ke)|0,A=A+Math.imul(Re,Ae)|0,T=(T=T+Math.imul(Re,Ee)|0)+Math.imul(Pe,Ae)|0,j=j+Math.imul(Pe,Ee)|0,A=A+Math.imul(de,lt)|0,T=(T=T+Math.imul(de,Ke)|0)+Math.imul(xe,lt)|0,j=j+Math.imul(xe,Ke)|0,A=A+Math.imul(ve,jt)|0,T=(T=T+Math.imul(ve,At)|0)+Math.imul(me,jt)|0,j=j+Math.imul(me,At)|0,A=A+Math.imul(re,Dt)|0,T=(T=T+Math.imul(re,Mt)|0)+Math.imul(oe,Dt)|0,j=j+Math.imul(oe,Mt)|0,A=A+Math.imul(U,qe)|0,T=(T=T+Math.imul(U,ct)|0)+Math.imul(Q,qe)|0,j=j+Math.imul(Q,ct)|0;var Ye=(K+(A=A+Math.imul(G,pe)|0)|0)+((8191&(T=(T=T+Math.imul(G,ce)|0)+Math.imul(te,pe)|0))<<13)|0;K=((j=j+Math.imul(te,ce)|0)+(T>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,A=Math.imul(pt,Be),T=(T=Math.imul(pt,Ge))+Math.imul(Ie,Be)|0,j=Math.imul(Ie,Ge),A=A+Math.imul(Je,dt)|0,T=(T=T+Math.imul(Je,ke)|0)+Math.imul(Ze,dt)|0,j=j+Math.imul(Ze,ke)|0,A=A+Math.imul(Ue,Ae)|0,T=(T=T+Math.imul(Ue,Ee)|0)+Math.imul(tt,Ae)|0,j=j+Math.imul(tt,Ee)|0,A=A+Math.imul(Re,lt)|0,T=(T=T+Math.imul(Re,Ke)|0)+Math.imul(Pe,lt)|0,j=j+Math.imul(Pe,Ke)|0,A=A+Math.imul(de,jt)|0,T=(T=T+Math.imul(de,At)|0)+Math.imul(xe,jt)|0,j=j+Math.imul(xe,At)|0,A=A+Math.imul(ve,Dt)|0,T=(T=T+Math.imul(ve,Mt)|0)+Math.imul(me,Dt)|0,j=j+Math.imul(me,Mt)|0,A=A+Math.imul(re,qe)|0,T=(T=T+Math.imul(re,ct)|0)+Math.imul(oe,qe)|0,j=j+Math.imul(oe,ct)|0,A=A+Math.imul(U,pe)|0,T=(T=T+Math.imul(U,ce)|0)+Math.imul(Q,pe)|0,j=j+Math.imul(Q,ce)|0;var ht=(K+(A=A+Math.imul(G,ge)|0)|0)+((8191&(T=(T=T+Math.imul(G,ye)|0)+Math.imul(te,ge)|0))<<13)|0;K=((j=j+Math.imul(te,ye)|0)+(T>>>13)|0)+(ht>>>26)|0,ht&=67108863,A=Math.imul(Ce,Be),T=(T=Math.imul(Ce,Ge))+Math.imul(De,Be)|0,j=Math.imul(De,Ge),A=A+Math.imul(pt,dt)|0,T=(T=T+Math.imul(pt,ke)|0)+Math.imul(Ie,dt)|0,j=j+Math.imul(Ie,ke)|0,A=A+Math.imul(Je,Ae)|0,T=(T=T+Math.imul(Je,Ee)|0)+Math.imul(Ze,Ae)|0,j=j+Math.imul(Ze,Ee)|0,A=A+Math.imul(Ue,lt)|0,T=(T=T+Math.imul(Ue,Ke)|0)+Math.imul(tt,lt)|0,j=j+Math.imul(tt,Ke)|0,A=A+Math.imul(Re,jt)|0,T=(T=T+Math.imul(Re,At)|0)+Math.imul(Pe,jt)|0,j=j+Math.imul(Pe,At)|0,A=A+Math.imul(de,Dt)|0,T=(T=T+Math.imul(de,Mt)|0)+Math.imul(xe,Dt)|0,j=j+Math.imul(xe,Mt)|0,A=A+Math.imul(ve,qe)|0,T=(T=T+Math.imul(ve,ct)|0)+Math.imul(me,qe)|0,j=j+Math.imul(me,ct)|0,A=A+Math.imul(re,pe)|0,T=(T=T+Math.imul(re,ce)|0)+Math.imul(oe,pe)|0,j=j+Math.imul(oe,ce)|0,A=A+Math.imul(U,ge)|0,T=(T=T+Math.imul(U,ye)|0)+Math.imul(Q,ge)|0,j=j+Math.imul(Q,ye)|0;var Nt=(K+(A=A+Math.imul(G,Fe)|0)|0)+((8191&(T=(T=T+Math.imul(G,Oe)|0)+Math.imul(te,Fe)|0))<<13)|0;K=((j=j+Math.imul(te,Oe)|0)+(T>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,A=Math.imul(Ce,dt),T=(T=Math.imul(Ce,ke))+Math.imul(De,dt)|0,j=Math.imul(De,ke),A=A+Math.imul(pt,Ae)|0,T=(T=T+Math.imul(pt,Ee)|0)+Math.imul(Ie,Ae)|0,j=j+Math.imul(Ie,Ee)|0,A=A+Math.imul(Je,lt)|0,T=(T=T+Math.imul(Je,Ke)|0)+Math.imul(Ze,lt)|0,j=j+Math.imul(Ze,Ke)|0,A=A+Math.imul(Ue,jt)|0,T=(T=T+Math.imul(Ue,At)|0)+Math.imul(tt,jt)|0,j=j+Math.imul(tt,At)|0,A=A+Math.imul(Re,Dt)|0,T=(T=T+Math.imul(Re,Mt)|0)+Math.imul(Pe,Dt)|0,j=j+Math.imul(Pe,Mt)|0,A=A+Math.imul(de,qe)|0,T=(T=T+Math.imul(de,ct)|0)+Math.imul(xe,qe)|0,j=j+Math.imul(xe,ct)|0,A=A+Math.imul(ve,pe)|0,T=(T=T+Math.imul(ve,ce)|0)+Math.imul(me,pe)|0,j=j+Math.imul(me,ce)|0,A=A+Math.imul(re,ge)|0,T=(T=T+Math.imul(re,ye)|0)+Math.imul(oe,ge)|0,j=j+Math.imul(oe,ye)|0;var yt=(K+(A=A+Math.imul(U,Fe)|0)|0)+((8191&(T=(T=T+Math.imul(U,Oe)|0)+Math.imul(Q,Fe)|0))<<13)|0;K=((j=j+Math.imul(Q,Oe)|0)+(T>>>13)|0)+(yt>>>26)|0,yt&=67108863,A=Math.imul(Ce,Ae),T=(T=Math.imul(Ce,Ee))+Math.imul(De,Ae)|0,j=Math.imul(De,Ee),A=A+Math.imul(pt,lt)|0,T=(T=T+Math.imul(pt,Ke)|0)+Math.imul(Ie,lt)|0,j=j+Math.imul(Ie,Ke)|0,A=A+Math.imul(Je,jt)|0,T=(T=T+Math.imul(Je,At)|0)+Math.imul(Ze,jt)|0,j=j+Math.imul(Ze,At)|0,A=A+Math.imul(Ue,Dt)|0,T=(T=T+Math.imul(Ue,Mt)|0)+Math.imul(tt,Dt)|0,j=j+Math.imul(tt,Mt)|0,A=A+Math.imul(Re,qe)|0,T=(T=T+Math.imul(Re,ct)|0)+Math.imul(Pe,qe)|0,j=j+Math.imul(Pe,ct)|0,A=A+Math.imul(de,pe)|0,T=(T=T+Math.imul(de,ce)|0)+Math.imul(xe,pe)|0,j=j+Math.imul(xe,ce)|0,A=A+Math.imul(ve,ge)|0,T=(T=T+Math.imul(ve,ye)|0)+Math.imul(me,ge)|0,j=j+Math.imul(me,ye)|0;var Rt=(K+(A=A+Math.imul(re,Fe)|0)|0)+((8191&(T=(T=T+Math.imul(re,Oe)|0)+Math.imul(oe,Fe)|0))<<13)|0;K=((j=j+Math.imul(oe,Oe)|0)+(T>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,A=Math.imul(Ce,lt),T=(T=Math.imul(Ce,Ke))+Math.imul(De,lt)|0,j=Math.imul(De,Ke),A=A+Math.imul(pt,jt)|0,T=(T=T+Math.imul(pt,At)|0)+Math.imul(Ie,jt)|0,j=j+Math.imul(Ie,At)|0,A=A+Math.imul(Je,Dt)|0,T=(T=T+Math.imul(Je,Mt)|0)+Math.imul(Ze,Dt)|0,j=j+Math.imul(Ze,Mt)|0,A=A+Math.imul(Ue,qe)|0,T=(T=T+Math.imul(Ue,ct)|0)+Math.imul(tt,qe)|0,j=j+Math.imul(tt,ct)|0,A=A+Math.imul(Re,pe)|0,T=(T=T+Math.imul(Re,ce)|0)+Math.imul(Pe,pe)|0,j=j+Math.imul(Pe,ce)|0,A=A+Math.imul(de,ge)|0,T=(T=T+Math.imul(de,ye)|0)+Math.imul(xe,ge)|0,j=j+Math.imul(xe,ye)|0;var Qt=(K+(A=A+Math.imul(ve,Fe)|0)|0)+((8191&(T=(T=T+Math.imul(ve,Oe)|0)+Math.imul(me,Fe)|0))<<13)|0;K=((j=j+Math.imul(me,Oe)|0)+(T>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,A=Math.imul(Ce,jt),T=(T=Math.imul(Ce,At))+Math.imul(De,jt)|0,j=Math.imul(De,At),A=A+Math.imul(pt,Dt)|0,T=(T=T+Math.imul(pt,Mt)|0)+Math.imul(Ie,Dt)|0,j=j+Math.imul(Ie,Mt)|0,A=A+Math.imul(Je,qe)|0,T=(T=T+Math.imul(Je,ct)|0)+Math.imul(Ze,qe)|0,j=j+Math.imul(Ze,ct)|0,A=A+Math.imul(Ue,pe)|0,T=(T=T+Math.imul(Ue,ce)|0)+Math.imul(tt,pe)|0,j=j+Math.imul(tt,ce)|0,A=A+Math.imul(Re,ge)|0,T=(T=T+Math.imul(Re,ye)|0)+Math.imul(Pe,ge)|0,j=j+Math.imul(Pe,ye)|0;var Gt=(K+(A=A+Math.imul(de,Fe)|0)|0)+((8191&(T=(T=T+Math.imul(de,Oe)|0)+Math.imul(xe,Fe)|0))<<13)|0;K=((j=j+Math.imul(xe,Oe)|0)+(T>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,A=Math.imul(Ce,Dt),T=(T=Math.imul(Ce,Mt))+Math.imul(De,Dt)|0,j=Math.imul(De,Mt),A=A+Math.imul(pt,qe)|0,T=(T=T+Math.imul(pt,ct)|0)+Math.imul(Ie,qe)|0,j=j+Math.imul(Ie,ct)|0,A=A+Math.imul(Je,pe)|0,T=(T=T+Math.imul(Je,ce)|0)+Math.imul(Ze,pe)|0,j=j+Math.imul(Ze,ce)|0,A=A+Math.imul(Ue,ge)|0,T=(T=T+Math.imul(Ue,ye)|0)+Math.imul(tt,ge)|0,j=j+Math.imul(tt,ye)|0;var Wt=(K+(A=A+Math.imul(Re,Fe)|0)|0)+((8191&(T=(T=T+Math.imul(Re,Oe)|0)+Math.imul(Pe,Fe)|0))<<13)|0;K=((j=j+Math.imul(Pe,Oe)|0)+(T>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,A=Math.imul(Ce,qe),T=(T=Math.imul(Ce,ct))+Math.imul(De,qe)|0,j=Math.imul(De,ct),A=A+Math.imul(pt,pe)|0,T=(T=T+Math.imul(pt,ce)|0)+Math.imul(Ie,pe)|0,j=j+Math.imul(Ie,ce)|0,A=A+Math.imul(Je,ge)|0,T=(T=T+Math.imul(Je,ye)|0)+Math.imul(Ze,ge)|0,j=j+Math.imul(Ze,ye)|0;var Vt=(K+(A=A+Math.imul(Ue,Fe)|0)|0)+((8191&(T=(T=T+Math.imul(Ue,Oe)|0)+Math.imul(tt,Fe)|0))<<13)|0;K=((j=j+Math.imul(tt,Oe)|0)+(T>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,A=Math.imul(Ce,pe),T=(T=Math.imul(Ce,ce))+Math.imul(De,pe)|0,j=Math.imul(De,ce),A=A+Math.imul(pt,ge)|0,T=(T=T+Math.imul(pt,ye)|0)+Math.imul(Ie,ge)|0,j=j+Math.imul(Ie,ye)|0;var Jt=(K+(A=A+Math.imul(Je,Fe)|0)|0)+((8191&(T=(T=T+Math.imul(Je,Oe)|0)+Math.imul(Ze,Fe)|0))<<13)|0;K=((j=j+Math.imul(Ze,Oe)|0)+(T>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,A=Math.imul(Ce,ge),T=(T=Math.imul(Ce,ye))+Math.imul(De,ge)|0,j=Math.imul(De,ye);var nr=(K+(A=A+Math.imul(pt,Fe)|0)|0)+((8191&(T=(T=T+Math.imul(pt,Oe)|0)+Math.imul(Ie,Fe)|0))<<13)|0;K=((j=j+Math.imul(Ie,Oe)|0)+(T>>>13)|0)+(nr>>>26)|0,nr&=67108863;var Yt=(K+(A=Math.imul(Ce,Fe))|0)+((8191&(T=(T=Math.imul(Ce,Oe))+Math.imul(De,Fe)|0))<<13)|0;return K=((j=Math.imul(De,Oe))+(T>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,Z[0]=Ve,Z[1]=ze,Z[2]=bt,Z[3]=St,Z[4]=Tt,Z[5]=be,Z[6]=Me,Z[7]=Ye,Z[8]=ht,Z[9]=Nt,Z[10]=yt,Z[11]=Rt,Z[12]=Qt,Z[13]=Gt,Z[14]=Wt,Z[15]=Vt,Z[16]=Jt,Z[17]=nr,Z[18]=Yt,K!==0&&(Z[19]=K,E.length++),E};function z(C,S,E){E.negative=S.negative^C.negative,E.length=C.length+S.length;for(var A=0,T=0,j=0;j<E.length-1;j++){var L=T;T=0;for(var D=67108863&A,Z=Math.min(j,S.length-1),K=Math.max(0,j-C.length+1);K<=Z;K++){var ee=j-K,G=(0|C.words[ee])*(0|S.words[K]),te=67108863&G;D=67108863&(te=te+D|0),T+=(L=(L=L+(G/67108864|0)|0)+(te>>>26)|0)>>>26,L&=67108863}E.words[j]=D,A=L,L=T}return A!==0?E.words[j]=A:E.length--,E._strip()}function q(C,S,E){return z(C,S,E)}Math.imul||(R=k),o.prototype.mulTo=function(C,S){var E=this.length+C.length;return this.length===10&&C.length===10?R(this,C,S):E<63?k(this,C,S):E<1024?z(this,C,S):q(this,C,S)},o.prototype.mul=function(C){var S=new o(null);return S.words=new Array(this.length+C.length),this.mulTo(C,S)},o.prototype.mulf=function(C){var S=new o(null);return S.words=new Array(this.length+C.length),q(this,C,S)},o.prototype.imul=function(C){return this.clone().mulTo(C,this)},o.prototype.imuln=function(C){var S=C<0;S&&(C=-C),l(typeof C=="number"),l(C<67108864);for(var E=0,A=0;A<this.length;A++){var T=(0|this.words[A])*C,j=(67108863&T)+(67108863&E);E>>=26,E+=T/67108864|0,E+=j>>>26,this.words[A]=67108863&j}return E!==0&&(this.words[A]=E,this.length++),S?this.ineg():this},o.prototype.muln=function(C){return this.clone().imuln(C)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(C){var S=(function(j){for(var L=new Array(j.bitLength()),D=0;D<L.length;D++){var Z=D/26|0,K=D%26;L[D]=j.words[Z]>>>K&1}return L})(C);if(S.length===0)return new o(1);for(var E=this,A=0;A<S.length&&S[A]===0;A++,E=E.sqr());if(++A<S.length)for(var T=E.sqr();A<S.length;A++,T=T.sqr())S[A]!==0&&(E=E.mul(T));return E},o.prototype.iushln=function(C){l(typeof C=="number"&&C>=0);var S,E=C%26,A=(C-E)/26,T=67108863>>>26-E<<26-E;if(E!==0){var j=0;for(S=0;S<this.length;S++){var L=this.words[S]&T,D=(0|this.words[S])-L<<E;this.words[S]=D|j,j=L>>>26-E}j&&(this.words[S]=j,this.length++)}if(A!==0){for(S=this.length-1;S>=0;S--)this.words[S+A]=this.words[S];for(S=0;S<A;S++)this.words[S]=0;this.length+=A}return this._strip()},o.prototype.ishln=function(C){return l(this.negative===0),this.iushln(C)},o.prototype.iushrn=function(C,S,E){var A;l(typeof C=="number"&&C>=0),A=S?(S-S%26)/26:0;var T=C%26,j=Math.min((C-T)/26,this.length),L=67108863^67108863>>>T<<T,D=E;if(A-=j,A=Math.max(0,A),D){for(var Z=0;Z<j;Z++)D.words[Z]=this.words[Z];D.length=j}if(j!==0)if(this.length>j)for(this.length-=j,Z=0;Z<this.length;Z++)this.words[Z]=this.words[Z+j];else this.words[0]=0,this.length=1;var K=0;for(Z=this.length-1;Z>=0&&(K!==0||Z>=A);Z--){var ee=0|this.words[Z];this.words[Z]=K<<26-T|ee>>>T,K=ee&L}return D&&K!==0&&(D.words[D.length++]=K),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(C,S,E){return l(this.negative===0),this.iushrn(C,S,E)},o.prototype.shln=function(C){return this.clone().ishln(C)},o.prototype.ushln=function(C){return this.clone().iushln(C)},o.prototype.shrn=function(C){return this.clone().ishrn(C)},o.prototype.ushrn=function(C){return this.clone().iushrn(C)},o.prototype.testn=function(C){l(typeof C=="number"&&C>=0);var S=C%26,E=(C-S)/26,A=1<<S;return!(this.length<=E)&&!!(this.words[E]&A)},o.prototype.imaskn=function(C){l(typeof C=="number"&&C>=0);var S=C%26,E=(C-S)/26;if(l(this.negative===0,"imaskn works only with positive numbers"),this.length<=E)return this;if(S!==0&&E++,this.length=Math.min(E,this.length),S!==0){var A=67108863^67108863>>>S<<S;this.words[this.length-1]&=A}return this._strip()},o.prototype.maskn=function(C){return this.clone().imaskn(C)},o.prototype.iaddn=function(C){return l(typeof C=="number"),l(C<67108864),C<0?this.isubn(-C):this.negative!==0?this.length===1&&(0|this.words[0])<=C?(this.words[0]=C-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(C),this.negative=1,this):this._iaddn(C)},o.prototype._iaddn=function(C){this.words[0]+=C;for(var S=0;S<this.length&&this.words[S]>=67108864;S++)this.words[S]-=67108864,S===this.length-1?this.words[S+1]=1:this.words[S+1]++;return this.length=Math.max(this.length,S+1),this},o.prototype.isubn=function(C){if(l(typeof C=="number"),l(C<67108864),C<0)return this.iaddn(-C);if(this.negative!==0)return this.negative=0,this.iaddn(C),this.negative=1,this;if(this.words[0]-=C,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var S=0;S<this.length&&this.words[S]<0;S++)this.words[S]+=67108864,this.words[S+1]-=1;return this._strip()},o.prototype.addn=function(C){return this.clone().iaddn(C)},o.prototype.subn=function(C){return this.clone().isubn(C)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(C,S,E){var A,T,j=C.length+E;this._expand(j);var L=0;for(A=0;A<C.length;A++){T=(0|this.words[A+E])+L;var D=(0|C.words[A])*S;L=((T-=67108863&D)>>26)-(D/67108864|0),this.words[A+E]=67108863&T}for(;A<this.length-E;A++)L=(T=(0|this.words[A+E])+L)>>26,this.words[A+E]=67108863&T;if(L===0)return this._strip();for(l(L===-1),L=0,A=0;A<this.length;A++)L=(T=-(0|this.words[A])+L)>>26,this.words[A]=67108863&T;return this.negative=1,this._strip()},o.prototype._wordDiv=function(C,S){var E=(this.length,C.length),A=this.clone(),T=C,j=0|T.words[T.length-1];(E=26-this._countBits(j))!==0&&(T=T.ushln(E),A.iushln(E),j=0|T.words[T.length-1]);var L,D=A.length-T.length;if(S!=="mod"){(L=new o(null)).length=D+1,L.words=new Array(L.length);for(var Z=0;Z<L.length;Z++)L.words[Z]=0}var K=A.clone()._ishlnsubmul(T,1,D);K.negative===0&&(A=K,L&&(L.words[D]=1));for(var ee=D-1;ee>=0;ee--){var G=67108864*(0|A.words[T.length+ee])+(0|A.words[T.length+ee-1]);for(G=Math.min(G/j|0,67108863),A._ishlnsubmul(T,G,ee);A.negative!==0;)G--,A.negative=0,A._ishlnsubmul(T,1,ee),A.isZero()||(A.negative^=1);L&&(L.words[ee]=G)}return L&&L._strip(),A._strip(),S!=="div"&&E!==0&&A.iushrn(E),{div:L||null,mod:A}},o.prototype.divmod=function(C,S,E){return l(!C.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:this.negative!==0&&C.negative===0?(j=this.neg().divmod(C,S),S!=="mod"&&(A=j.div.neg()),S!=="div"&&(T=j.mod.neg(),E&&T.negative!==0&&T.iadd(C)),{div:A,mod:T}):this.negative===0&&C.negative!==0?(j=this.divmod(C.neg(),S),S!=="mod"&&(A=j.div.neg()),{div:A,mod:j.mod}):(this.negative&C.negative)!=0?(j=this.neg().divmod(C.neg(),S),S!=="div"&&(T=j.mod.neg(),E&&T.negative!==0&&T.isub(C)),{div:j.div,mod:T}):C.length>this.length||this.cmp(C)<0?{div:new o(0),mod:this}:C.length===1?S==="div"?{div:this.divn(C.words[0]),mod:null}:S==="mod"?{div:null,mod:new o(this.modrn(C.words[0]))}:{div:this.divn(C.words[0]),mod:new o(this.modrn(C.words[0]))}:this._wordDiv(C,S);var A,T,j},o.prototype.div=function(C){return this.divmod(C,"div",!1).div},o.prototype.mod=function(C){return this.divmod(C,"mod",!1).mod},o.prototype.umod=function(C){return this.divmod(C,"mod",!0).mod},o.prototype.divRound=function(C){var S=this.divmod(C);if(S.mod.isZero())return S.div;var E=S.div.negative!==0?S.mod.isub(C):S.mod,A=C.ushrn(1),T=C.andln(1),j=E.cmp(A);return j<0||T===1&&j===0?S.div:S.div.negative!==0?S.div.isubn(1):S.div.iaddn(1)},o.prototype.modrn=function(C){var S=C<0;S&&(C=-C),l(C<=67108863);for(var E=(1<<26)%C,A=0,T=this.length-1;T>=0;T--)A=(E*A+(0|this.words[T]))%C;return S?-A:A},o.prototype.modn=function(C){return this.modrn(C)},o.prototype.idivn=function(C){var S=C<0;S&&(C=-C),l(C<=67108863);for(var E=0,A=this.length-1;A>=0;A--){var T=(0|this.words[A])+67108864*E;this.words[A]=T/C|0,E=T%C}return this._strip(),S?this.ineg():this},o.prototype.divn=function(C){return this.clone().idivn(C)},o.prototype.egcd=function(C){l(C.negative===0),l(!C.isZero());var S=this,E=C.clone();S=S.negative!==0?S.umod(C):S.clone();for(var A=new o(1),T=new o(0),j=new o(0),L=new o(1),D=0;S.isEven()&&E.isEven();)S.iushrn(1),E.iushrn(1),++D;for(var Z=E.clone(),K=S.clone();!S.isZero();){for(var ee=0,G=1;(S.words[0]&G)==0&&ee<26;++ee,G<<=1);if(ee>0)for(S.iushrn(ee);ee-- >0;)(A.isOdd()||T.isOdd())&&(A.iadd(Z),T.isub(K)),A.iushrn(1),T.iushrn(1);for(var te=0,H=1;(E.words[0]&H)==0&&te<26;++te,H<<=1);if(te>0)for(E.iushrn(te);te-- >0;)(j.isOdd()||L.isOdd())&&(j.iadd(Z),L.isub(K)),j.iushrn(1),L.iushrn(1);S.cmp(E)>=0?(S.isub(E),A.isub(j),T.isub(L)):(E.isub(S),j.isub(A),L.isub(T))}return{a:j,b:L,gcd:E.iushln(D)}},o.prototype._invmp=function(C){l(C.negative===0),l(!C.isZero());var S=this,E=C.clone();S=S.negative!==0?S.umod(C):S.clone();for(var A,T=new o(1),j=new o(0),L=E.clone();S.cmpn(1)>0&&E.cmpn(1)>0;){for(var D=0,Z=1;(S.words[0]&Z)==0&&D<26;++D,Z<<=1);if(D>0)for(S.iushrn(D);D-- >0;)T.isOdd()&&T.iadd(L),T.iushrn(1);for(var K=0,ee=1;(E.words[0]&ee)==0&&K<26;++K,ee<<=1);if(K>0)for(E.iushrn(K);K-- >0;)j.isOdd()&&j.iadd(L),j.iushrn(1);S.cmp(E)>=0?(S.isub(E),T.isub(j)):(E.isub(S),j.isub(T))}return(A=S.cmpn(1)===0?T:j).cmpn(0)<0&&A.iadd(C),A},o.prototype.gcd=function(C){if(this.isZero())return C.abs();if(C.isZero())return this.abs();var S=this.clone(),E=C.clone();S.negative=0,E.negative=0;for(var A=0;S.isEven()&&E.isEven();A++)S.iushrn(1),E.iushrn(1);for(;;){for(;S.isEven();)S.iushrn(1);for(;E.isEven();)E.iushrn(1);var T=S.cmp(E);if(T<0){var j=S;S=E,E=j}else if(T===0||E.cmpn(1)===0)break;S.isub(E)}return E.iushln(A)},o.prototype.invm=function(C){return this.egcd(C).a.umod(C)},o.prototype.isEven=function(){return(1&this.words[0])==0},o.prototype.isOdd=function(){return(1&this.words[0])==1},o.prototype.andln=function(C){return this.words[0]&C},o.prototype.bincn=function(C){l(typeof C=="number");var S=C%26,E=(C-S)/26,A=1<<S;if(this.length<=E)return this._expand(E+1),this.words[E]|=A,this;for(var T=A,j=E;T!==0&&j<this.length;j++){var L=0|this.words[j];T=(L+=T)>>>26,L&=67108863,this.words[j]=L}return T!==0&&(this.words[j]=T,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(C){var S,E=C<0;if(this.negative!==0&&!E)return-1;if(this.negative===0&&E)return 1;if(this._strip(),this.length>1)S=1;else{E&&(C=-C),l(C<=67108863,"Number is too big");var A=0|this.words[0];S=A===C?0:A<C?-1:1}return this.negative!==0?0|-S:S},o.prototype.cmp=function(C){if(this.negative!==0&&C.negative===0)return-1;if(this.negative===0&&C.negative!==0)return 1;var S=this.ucmp(C);return this.negative!==0?0|-S:S},o.prototype.ucmp=function(C){if(this.length>C.length)return 1;if(this.length<C.length)return-1;for(var S=0,E=this.length-1;E>=0;E--){var A=0|this.words[E],T=0|C.words[E];if(A!==T){A<T?S=-1:A>T&&(S=1);break}}return S},o.prototype.gtn=function(C){return this.cmpn(C)===1},o.prototype.gt=function(C){return this.cmp(C)===1},o.prototype.gten=function(C){return this.cmpn(C)>=0},o.prototype.gte=function(C){return this.cmp(C)>=0},o.prototype.ltn=function(C){return this.cmpn(C)===-1},o.prototype.lt=function(C){return this.cmp(C)===-1},o.prototype.lten=function(C){return this.cmpn(C)<=0},o.prototype.lte=function(C){return this.cmp(C)<=0},o.prototype.eqn=function(C){return this.cmpn(C)===0},o.prototype.eq=function(C){return this.cmp(C)===0},o.red=function(C){return new N(C)},o.prototype.toRed=function(C){return l(!this.red,"Already a number in reduction context"),l(this.negative===0,"red works only with positives"),C.convertTo(this)._forceRed(C)},o.prototype.fromRed=function(){return l(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(C){return this.red=C,this},o.prototype.forceRed=function(C){return l(!this.red,"Already a number in reduction context"),this._forceRed(C)},o.prototype.redAdd=function(C){return l(this.red,"redAdd works only with red numbers"),this.red.add(this,C)},o.prototype.redIAdd=function(C){return l(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,C)},o.prototype.redSub=function(C){return l(this.red,"redSub works only with red numbers"),this.red.sub(this,C)},o.prototype.redISub=function(C){return l(this.red,"redISub works only with red numbers"),this.red.isub(this,C)},o.prototype.redShl=function(C){return l(this.red,"redShl works only with red numbers"),this.red.shl(this,C)},o.prototype.redMul=function(C){return l(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.mul(this,C)},o.prototype.redIMul=function(C){return l(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.imul(this,C)},o.prototype.redSqr=function(){return l(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return l(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return l(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return l(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return l(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(C){return l(this.red&&!C.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,C)};var B={k256:null,p224:null,p192:null,p25519:null};function I(C,S){this.name=C,this.p=new o(S,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function O(){I.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function F(){I.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function W(){I.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function V(){I.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function N(C){if(typeof C=="string"){var S=o._prime(C);this.m=S.p,this.prime=S}else l(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function P(C){N.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}I.prototype._tmp=function(){var C=new o(null);return C.words=new Array(Math.ceil(this.n/13)),C},I.prototype.ireduce=function(C){var S,E=C;do this.split(E,this.tmp),S=(E=(E=this.imulK(E)).iadd(this.tmp)).bitLength();while(S>this.n);var A=S<this.n?-1:E.ucmp(this.p);return A===0?(E.words[0]=0,E.length=1):A>0?E.isub(this.p):E.strip!==void 0?E.strip():E._strip(),E},I.prototype.split=function(C,S){C.iushrn(this.n,0,S)},I.prototype.imulK=function(C){return C.imul(this.k)},c(O,I),O.prototype.split=function(C,S){for(var E=Math.min(C.length,9),A=0;A<E;A++)S.words[A]=C.words[A];if(S.length=E,C.length<=9)return C.words[0]=0,void(C.length=1);var T=C.words[9];for(S.words[S.length++]=4194303&T,A=10;A<C.length;A++){var j=0|C.words[A];C.words[A-10]=(4194303&j)<<4|T>>>22,T=j}T>>>=22,C.words[A-10]=T,T===0&&C.length>10?C.length-=10:C.length-=9},O.prototype.imulK=function(C){C.words[C.length]=0,C.words[C.length+1]=0,C.length+=2;for(var S=0,E=0;E<C.length;E++){var A=0|C.words[E];S+=977*A,C.words[E]=67108863&S,S=64*A+(S/67108864|0)}return C.words[C.length-1]===0&&(C.length--,C.words[C.length-1]===0&&C.length--),C},c(F,I),c(W,I),c(V,I),V.prototype.imulK=function(C){for(var S=0,E=0;E<C.length;E++){var A=19*(0|C.words[E])+S,T=67108863&A;A>>>=26,C.words[E]=T,S=A}return S!==0&&(C.words[C.length++]=S),C},o._prime=function(C){if(B[C])return B[C];var S;if(C==="k256")S=new O;else if(C==="p224")S=new F;else if(C==="p192")S=new W;else{if(C!=="p25519")throw new Error("Unknown prime "+C);S=new V}return B[C]=S,S},N.prototype._verify1=function(C){l(C.negative===0,"red works only with positives"),l(C.red,"red works only with red numbers")},N.prototype._verify2=function(C,S){l((C.negative|S.negative)==0,"red works only with positives"),l(C.red&&C.red===S.red,"red works only with red numbers")},N.prototype.imod=function(C){return this.prime?this.prime.ireduce(C)._forceRed(this):(b(C,C.umod(this.m)._forceRed(this)),C)},N.prototype.neg=function(C){return C.isZero()?C.clone():this.m.sub(C)._forceRed(this)},N.prototype.add=function(C,S){this._verify2(C,S);var E=C.add(S);return E.cmp(this.m)>=0&&E.isub(this.m),E._forceRed(this)},N.prototype.iadd=function(C,S){this._verify2(C,S);var E=C.iadd(S);return E.cmp(this.m)>=0&&E.isub(this.m),E},N.prototype.sub=function(C,S){this._verify2(C,S);var E=C.sub(S);return E.cmpn(0)<0&&E.iadd(this.m),E._forceRed(this)},N.prototype.isub=function(C,S){this._verify2(C,S);var E=C.isub(S);return E.cmpn(0)<0&&E.iadd(this.m),E},N.prototype.shl=function(C,S){return this._verify1(C),this.imod(C.ushln(S))},N.prototype.imul=function(C,S){return this._verify2(C,S),this.imod(C.imul(S))},N.prototype.mul=function(C,S){return this._verify2(C,S),this.imod(C.mul(S))},N.prototype.isqr=function(C){return this.imul(C,C.clone())},N.prototype.sqr=function(C){return this.mul(C,C)},N.prototype.sqrt=function(C){if(C.isZero())return C.clone();var S=this.m.andln(3);if(l(S%2==1),S===3){var E=this.m.add(new o(1)).iushrn(2);return this.pow(C,E)}for(var A=this.m.subn(1),T=0;!A.isZero()&&A.andln(1)===0;)T++,A.iushrn(1);l(!A.isZero());var j=new o(1).toRed(this),L=j.redNeg(),D=this.m.subn(1).iushrn(1),Z=this.m.bitLength();for(Z=new o(2*Z*Z).toRed(this);this.pow(Z,D).cmp(L)!==0;)Z.redIAdd(L);for(var K=this.pow(Z,A),ee=this.pow(C,A.addn(1).iushrn(1)),G=this.pow(C,A),te=T;G.cmp(j)!==0;){for(var H=G,U=0;H.cmp(j)!==0;U++)H=H.redSqr();l(U<te);var Q=this.pow(K,new o(1).iushln(te-U-1));ee=ee.redMul(Q),K=Q.redSqr(),G=G.redMul(K),te=U}return ee},N.prototype.invm=function(C){var S=C._invmp(this.m);return S.negative!==0?(S.negative=0,this.imod(S).redNeg()):this.imod(S)},N.prototype.pow=function(C,S){if(S.isZero())return new o(1).toRed(this);if(S.cmpn(1)===0)return C.clone();var E=new Array(16);E[0]=new o(1).toRed(this),E[1]=C;for(var A=2;A<E.length;A++)E[A]=this.mul(E[A-1],C);var T=E[0],j=0,L=0,D=S.bitLength()%26;for(D===0&&(D=26),A=S.length-1;A>=0;A--){for(var Z=S.words[A],K=D-1;K>=0;K--){var ee=Z>>K&1;T!==E[0]&&(T=this.sqr(T)),ee!==0||j!==0?(j<<=1,j|=ee,(++L===4||A===0&&K===0)&&(T=this.mul(T,E[j]),L=0,j=0)):L=0}D=26}return T},N.prototype.convertTo=function(C){var S=C.umod(this.m);return S===C?S.clone():S},N.prototype.convertFrom=function(C){var S=C.clone();return S.red=null,S},o.mont=function(C){return new P(C)},c(P,N),P.prototype.convertTo=function(C){return this.imod(C.ushln(this.shift))},P.prototype.convertFrom=function(C){var S=this.imod(C.mul(this.rinv));return S.red=null,S},P.prototype.imul=function(C,S){if(C.isZero()||S.isZero())return C.words[0]=0,C.length=1,C;var E=C.imul(S),A=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=E.isub(A).iushrn(this.shift),j=T;return T.cmp(this.m)>=0?j=T.isub(this.m):T.cmpn(0)<0&&(j=T.iadd(this.m)),j._forceRed(this)},P.prototype.mul=function(C,S){if(C.isZero()||S.isZero())return new o(0)._forceRed(this);var E=C.mul(S),A=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=E.isub(A).iushrn(this.shift),j=T;return T.cmp(this.m)>=0?j=T.isub(this.m):T.cmpn(0)<0&&(j=T.iadd(this.m)),j._forceRed(this)},P.prototype.invm=function(C){return this.imod(C._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],187:[function(e,n,s){var i;function a(c){this.rand=c}if(n.exports=function(c){return i||(i=new a(null)),i.generate(c)},n.exports.Rand=a,a.prototype.generate=function(c){return this._rand(c)},a.prototype._rand=function(c){if(this.rand.getBytes)return this.rand.getBytes(c);for(var o=new Uint8Array(c),u=0;u<o.length;u++)o[u]=this.rand.getByte();return o},typeof self=="object")self.crypto&&self.crypto.getRandomValues?a.prototype._rand=function(c){var o=new Uint8Array(c);return self.crypto.getRandomValues(o),o}:self.msCrypto&&self.msCrypto.getRandomValues?a.prototype._rand=function(c){var o=new Uint8Array(c);return self.msCrypto.getRandomValues(o),o}:typeof window=="object"&&(a.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var l=e("crypto");if(typeof l.randomBytes!="function")throw new Error("Not supported");a.prototype._rand=function(c){return l.randomBytes(c)}}catch{}},{crypto:188}],188:[function(e,n,s){},{}],189:[function(e,n,s){var i=e("safe-buffer").Buffer;function a(h){i.isBuffer(h)||(h=i.from(h));for(var d=h.length/4|0,b=new Array(d),x=0;x<d;x++)b[x]=h.readUInt32BE(4*x);return b}function l(h){for(;0<h.length;h++)h[0]=0}function c(h,d,b,x,g){for(var v,y,k,R,z=b[0],q=b[1],B=b[2],I=b[3],O=h[0]^d[0],F=h[1]^d[1],W=h[2]^d[2],V=h[3]^d[3],N=4,P=1;P<g;P++)v=z[O>>>24]^q[F>>>16&255]^B[W>>>8&255]^I[255&V]^d[N++],y=z[F>>>24]^q[W>>>16&255]^B[V>>>8&255]^I[255&O]^d[N++],k=z[W>>>24]^q[V>>>16&255]^B[O>>>8&255]^I[255&F]^d[N++],R=z[V>>>24]^q[O>>>16&255]^B[F>>>8&255]^I[255&W]^d[N++],O=v,F=y,W=k,V=R;return v=(x[O>>>24]<<24|x[F>>>16&255]<<16|x[W>>>8&255]<<8|x[255&V])^d[N++],y=(x[F>>>24]<<24|x[W>>>16&255]<<16|x[V>>>8&255]<<8|x[255&O])^d[N++],k=(x[W>>>24]<<24|x[V>>>16&255]<<16|x[O>>>8&255]<<8|x[255&F])^d[N++],R=(x[V>>>24]<<24|x[O>>>16&255]<<16|x[F>>>8&255]<<8|x[255&W])^d[N++],[v>>>=0,y>>>=0,k>>>=0,R>>>=0]}var o=[0,1,2,4,8,16,32,64,128,27,54],u=(function(){for(var h=new Array(256),d=0;d<256;d++)h[d]=d<128?d<<1:d<<1^283;for(var b=[],x=[],g=[[],[],[],[]],v=[[],[],[],[]],y=0,k=0,R=0;R<256;++R){var z=k^k<<1^k<<2^k<<3^k<<4;z=z>>>8^255&z^99,b[y]=z,x[z]=y;var q=h[y],B=h[q],I=h[B],O=257*h[z]^16843008*z;g[0][y]=O<<24|O>>>8,g[1][y]=O<<16|O>>>16,g[2][y]=O<<8|O>>>24,g[3][y]=O,O=16843009*I^65537*B^257*q^16843008*y,v[0][z]=O<<24|O>>>8,v[1][z]=O<<16|O>>>16,v[2][z]=O<<8|O>>>24,v[3][z]=O,y===0?y=k=1:(y=q^h[h[h[I^q]]],k^=h[h[k]])}return{SBOX:b,INV_SBOX:x,SUB_MIX:g,INV_SUB_MIX:v}})();function p(h){this._key=a(h),this._reset()}p.blockSize=16,p.keySize=32,p.prototype.blockSize=p.blockSize,p.prototype.keySize=p.keySize,p.prototype._reset=function(){for(var h=this._key,d=h.length,b=d+6,x=4*(b+1),g=[],v=0;v<d;v++)g[v]=h[v];for(v=d;v<x;v++){var y=g[v-1];v%d==0?(y=y<<8|y>>>24,y=u.SBOX[y>>>24]<<24|u.SBOX[y>>>16&255]<<16|u.SBOX[y>>>8&255]<<8|u.SBOX[255&y],y^=o[v/d|0]<<24):d>6&&v%d==4&&(y=u.SBOX[y>>>24]<<24|u.SBOX[y>>>16&255]<<16|u.SBOX[y>>>8&255]<<8|u.SBOX[255&y]),g[v]=g[v-d]^y}for(var k=[],R=0;R<x;R++){var z=x-R,q=g[z-(R%4?0:4)];k[R]=R<4||z<=4?q:u.INV_SUB_MIX[0][u.SBOX[q>>>24]]^u.INV_SUB_MIX[1][u.SBOX[q>>>16&255]]^u.INV_SUB_MIX[2][u.SBOX[q>>>8&255]]^u.INV_SUB_MIX[3][u.SBOX[255&q]]}this._nRounds=b,this._keySchedule=g,this._invKeySchedule=k},p.prototype.encryptBlockRaw=function(h){return c(h=a(h),this._keySchedule,u.SUB_MIX,u.SBOX,this._nRounds)},p.prototype.encryptBlock=function(h){var d=this.encryptBlockRaw(h),b=i.allocUnsafe(16);return b.writeUInt32BE(d[0],0),b.writeUInt32BE(d[1],4),b.writeUInt32BE(d[2],8),b.writeUInt32BE(d[3],12),b},p.prototype.decryptBlock=function(h){var d=(h=a(h))[1];h[1]=h[3],h[3]=d;var b=c(h,this._invKeySchedule,u.INV_SUB_MIX,u.INV_SBOX,this._nRounds),x=i.allocUnsafe(16);return x.writeUInt32BE(b[0],0),x.writeUInt32BE(b[3],4),x.writeUInt32BE(b[2],8),x.writeUInt32BE(b[1],12),x},p.prototype.scrub=function(){l(this._keySchedule),l(this._invKeySchedule),l(this._key)},n.exports.AES=p},{"safe-buffer":494}],190:[function(e,n,s){var i=e("./aes"),a=e("safe-buffer").Buffer,l=e("cipher-base"),c=e("inherits"),o=e("./ghash"),u=e("buffer-xor"),p=e("./incr32");function h(d,b,x,g){l.call(this);var v=a.alloc(4,0);this._cipher=new i.AES(b);var y=this._cipher.encryptBlock(v);this._ghash=new o(y),x=(function(k,R,z){if(R.length===12)return k._finID=a.concat([R,a.from([0,0,0,1])]),a.concat([R,a.from([0,0,0,2])]);var q=new o(z),B=R.length,I=B%16;q.update(R),I&&(I=16-I,q.update(a.alloc(I,0))),q.update(a.alloc(8,0));var O=8*B,F=a.alloc(8);F.writeUIntBE(O,0,8),q.update(F),k._finID=q.state;var W=a.from(k._finID);return p(W),W})(this,x,y),this._prev=a.from(x),this._cache=a.allocUnsafe(0),this._secCache=a.allocUnsafe(0),this._decrypt=g,this._alen=0,this._len=0,this._mode=d,this._authTag=null,this._called=!1}c(h,l),h.prototype._update=function(d){if(!this._called&&this._alen){var b=16-this._alen%16;b<16&&(b=a.alloc(b,0),this._ghash.update(b))}this._called=!0;var x=this._mode.encrypt(this,d);return this._decrypt?this._ghash.update(d):this._ghash.update(x),this._len+=d.length,x},h.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var d=u(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&(function(b,x){var g=0;b.length!==x.length&&g++;for(var v=Math.min(b.length,x.length),y=0;y<v;++y)g+=b[y]^x[y];return g})(d,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=d,this._cipher.scrub()},h.prototype.getAuthTag=function(){if(this._decrypt||!a.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},h.prototype.setAuthTag=function(d){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=d},h.prototype.setAAD=function(d){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(d),this._alen+=d.length},n.exports=h},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(e,n,s){var i=e("./encrypter"),a=e("./decrypter"),l=e("./modes/list.json");s.createCipher=s.Cipher=i.createCipher,s.createCipheriv=s.Cipheriv=i.createCipheriv,s.createDecipher=s.Decipher=a.createDecipher,s.createDecipheriv=s.Decipheriv=a.createDecipheriv,s.listCiphers=s.getCiphers=function(){return Object.keys(l)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(e,n,s){var i=e("./authCipher"),a=e("safe-buffer").Buffer,l=e("./modes"),c=e("./streamCipher"),o=e("cipher-base"),u=e("./aes"),p=e("evp_bytestokey");function h(x,g,v){o.call(this),this._cache=new d,this._last=void 0,this._cipher=new u.AES(g),this._prev=a.from(v),this._mode=x,this._autopadding=!0}function d(){this.cache=a.allocUnsafe(0)}function b(x,g,v){var y=l[x.toLowerCase()];if(!y)throw new TypeError("invalid suite type");if(typeof v=="string"&&(v=a.from(v)),y.mode!=="GCM"&&v.length!==y.iv)throw new TypeError("invalid iv length "+v.length);if(typeof g=="string"&&(g=a.from(g)),g.length!==y.key/8)throw new TypeError("invalid key length "+g.length);return y.type==="stream"?new c(y.module,g,v,!0):y.type==="auth"?new i(y.module,g,v,!0):new h(y.module,g,v)}e("inherits")(h,o),h.prototype._update=function(x){var g,v;this._cache.add(x);for(var y=[];g=this._cache.get(this._autopadding);)v=this._mode.decrypt(this,g),y.push(v);return a.concat(y)},h.prototype._final=function(){var x=this._cache.flush();if(this._autopadding)return(function(g){var v=g[15];if(v<1||v>16)throw new Error("unable to decrypt data");for(var y=-1;++y<v;)if(g[y+(16-v)]!==v)throw new Error("unable to decrypt data");if(v!==16)return g.slice(0,16-v)})(this._mode.decrypt(this,x));if(x)throw new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(x){return this._autopadding=!!x,this},d.prototype.add=function(x){this.cache=a.concat([this.cache,x])},d.prototype.get=function(x){var g;if(x){if(this.cache.length>16)return g=this.cache.slice(0,16),this.cache=this.cache.slice(16),g}else if(this.cache.length>=16)return g=this.cache.slice(0,16),this.cache=this.cache.slice(16),g;return null},d.prototype.flush=function(){if(this.cache.length)return this.cache},s.createDecipher=function(x,g){var v=l[x.toLowerCase()];if(!v)throw new TypeError("invalid suite type");var y=p(g,!1,v.key,v.iv);return b(x,y.key,y.iv)},s.createDecipheriv=b},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(e,n,s){var i=e("./modes"),a=e("./authCipher"),l=e("safe-buffer").Buffer,c=e("./streamCipher"),o=e("cipher-base"),u=e("./aes"),p=e("evp_bytestokey");function h(g,v,y){o.call(this),this._cache=new b,this._cipher=new u.AES(v),this._prev=l.from(y),this._mode=g,this._autopadding=!0}e("inherits")(h,o),h.prototype._update=function(g){var v,y;this._cache.add(g);for(var k=[];v=this._cache.get();)y=this._mode.encrypt(this,v),k.push(y);return l.concat(k)};var d=l.alloc(16,16);function b(){this.cache=l.allocUnsafe(0)}function x(g,v,y){var k=i[g.toLowerCase()];if(!k)throw new TypeError("invalid suite type");if(typeof v=="string"&&(v=l.from(v)),v.length!==k.key/8)throw new TypeError("invalid key length "+v.length);if(typeof y=="string"&&(y=l.from(y)),k.mode!=="GCM"&&y.length!==k.iv)throw new TypeError("invalid iv length "+y.length);return k.type==="stream"?new c(k.module,v,y):k.type==="auth"?new a(k.module,v,y):new h(k.module,v,y)}h.prototype._final=function(){var g=this._cache.flush();if(this._autopadding)return g=this._mode.encrypt(this,g),this._cipher.scrub(),g;if(!g.equals(d))throw this._cipher.scrub(),new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(g){return this._autopadding=!!g,this},b.prototype.add=function(g){this.cache=l.concat([this.cache,g])},b.prototype.get=function(){if(this.cache.length>15){var g=this.cache.slice(0,16);return this.cache=this.cache.slice(16),g}return null},b.prototype.flush=function(){for(var g=16-this.cache.length,v=l.allocUnsafe(g),y=-1;++y<g;)v.writeUInt8(g,y);return l.concat([this.cache,v])},s.createCipheriv=x,s.createCipher=function(g,v){var y=i[g.toLowerCase()];if(!y)throw new TypeError("invalid suite type");var k=p(v,!1,y.key,y.iv);return x(g,k.key,k.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(e,n,s){var i=e("safe-buffer").Buffer,a=i.alloc(16,0);function l(o){var u=i.allocUnsafe(16);return u.writeUInt32BE(o[0]>>>0,0),u.writeUInt32BE(o[1]>>>0,4),u.writeUInt32BE(o[2]>>>0,8),u.writeUInt32BE(o[3]>>>0,12),u}function c(o){this.h=o,this.state=i.alloc(16,0),this.cache=i.allocUnsafe(0)}c.prototype.ghash=function(o){for(var u=-1;++u<o.length;)this.state[u]^=o[u];this._multiply()},c.prototype._multiply=function(){for(var o,u,p,h=[(o=this.h).readUInt32BE(0),o.readUInt32BE(4),o.readUInt32BE(8),o.readUInt32BE(12)],d=[0,0,0,0],b=-1;++b<128;){for((this.state[~~(b/8)]&1<<7-b%8)!=0&&(d[0]^=h[0],d[1]^=h[1],d[2]^=h[2],d[3]^=h[3]),p=(1&h[3])!=0,u=3;u>0;u--)h[u]=h[u]>>>1|(1&h[u-1])<<31;h[0]=h[0]>>>1,p&&(h[0]=h[0]^225<<24)}this.state=l(d)},c.prototype.update=function(o){var u;for(this.cache=i.concat([this.cache,o]);this.cache.length>=16;)u=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(u)},c.prototype.final=function(o,u){return this.cache.length&&this.ghash(i.concat([this.cache,a],16)),this.ghash(l([0,o,0,u])),this.state},n.exports=c},{"safe-buffer":494}],195:[function(e,n,s){n.exports=function(i){for(var a,l=i.length;l--;){if((a=i.readUInt8(l))!==255){a++,i.writeUInt8(a,l);break}i.writeUInt8(0,l)}}},{}],196:[function(e,n,s){var i=e("buffer-xor");s.encrypt=function(a,l){var c=i(l,a._prev);return a._prev=a._cipher.encryptBlock(c),a._prev},s.decrypt=function(a,l){var c=a._prev;a._prev=l;var o=a._cipher.decryptBlock(l);return i(o,c)}},{"buffer-xor":219}],197:[function(e,n,s){var i=e("safe-buffer").Buffer,a=e("buffer-xor");function l(c,o,u){var p=o.length,h=a(o,c._cache);return c._cache=c._cache.slice(p),c._prev=i.concat([c._prev,u?o:h]),h}s.encrypt=function(c,o,u){for(var p,h=i.allocUnsafe(0);o.length;){if(c._cache.length===0&&(c._cache=c._cipher.encryptBlock(c._prev),c._prev=i.allocUnsafe(0)),!(c._cache.length<=o.length)){h=i.concat([h,l(c,o,u)]);break}p=c._cache.length,h=i.concat([h,l(c,o.slice(0,p),u)]),o=o.slice(p)}return h}},{"buffer-xor":219,"safe-buffer":494}],198:[function(e,n,s){var i=e("safe-buffer").Buffer;function a(c,o,u){for(var p,h,d=-1,b=0;++d<8;)p=o&1<<7-d?128:0,b+=(128&(h=c._cipher.encryptBlock(c._prev)[0]^p))>>d%8,c._prev=l(c._prev,u?p:h);return b}function l(c,o){var u=c.length,p=-1,h=i.allocUnsafe(c.length);for(c=i.concat([c,i.from([o])]);++p<u;)h[p]=c[p]<<1|c[p+1]>>7;return h}s.encrypt=function(c,o,u){for(var p=o.length,h=i.allocUnsafe(p),d=-1;++d<p;)h[d]=a(c,o[d],u);return h}},{"safe-buffer":494}],199:[function(e,n,s){var i=e("safe-buffer").Buffer;function a(l,c,o){var u=l._cipher.encryptBlock(l._prev)[0]^c;return l._prev=i.concat([l._prev.slice(1),i.from([o?c:u])]),u}s.encrypt=function(l,c,o){for(var u=c.length,p=i.allocUnsafe(u),h=-1;++h<u;)p[h]=a(l,c[h],o);return p}},{"safe-buffer":494}],200:[function(e,n,s){var i=e("buffer-xor"),a=e("safe-buffer").Buffer,l=e("../incr32");function c(o){var u=o._cipher.encryptBlockRaw(o._prev);return l(o._prev),u}s.encrypt=function(o,u){var p=Math.ceil(u.length/16),h=o._cache.length;o._cache=a.concat([o._cache,a.allocUnsafe(16*p)]);for(var d=0;d<p;d++){var b=c(o),x=h+16*d;o._cache.writeUInt32BE(b[0],x+0),o._cache.writeUInt32BE(b[1],x+4),o._cache.writeUInt32BE(b[2],x+8),o._cache.writeUInt32BE(b[3],x+12)}var g=o._cache.slice(0,u.length);return o._cache=o._cache.slice(u.length),i(u,g)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(e,n,s){s.encrypt=function(i,a){return i._cipher.encryptBlock(a)},s.decrypt=function(i,a){return i._cipher.decryptBlock(a)}},{}],202:[function(e,n,s){var i={ECB:e("./ecb"),CBC:e("./cbc"),CFB:e("./cfb"),CFB8:e("./cfb8"),CFB1:e("./cfb1"),OFB:e("./ofb"),CTR:e("./ctr"),GCM:e("./ctr")},a=e("./list.json");for(var l in a)a[l].module=i[a[l].mode];n.exports=a},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(e,n,s){n.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(e,n,s){(function(i){(function(){var a=e("buffer-xor");function l(c){return c._prev=c._cipher.encryptBlock(c._prev),c._prev}s.encrypt=function(c,o){for(;c._cache.length<o.length;)c._cache=i.concat([c._cache,l(c)]);var u=c._cache.slice(0,o.length);return c._cache=c._cache.slice(o.length),a(o,u)}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(e,n,s){var i=e("./aes"),a=e("safe-buffer").Buffer,l=e("cipher-base");function c(o,u,p,h){l.call(this),this._cipher=new i.AES(u),this._prev=a.from(p),this._cache=a.allocUnsafe(0),this._secCache=a.allocUnsafe(0),this._decrypt=h,this._mode=o}e("inherits")(c,l),c.prototype._update=function(o){return this._mode.encrypt(this,o,this._decrypt)},c.prototype._final=function(){this._cipher.scrub()},n.exports=c},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(e,n,s){var i=e("browserify-des"),a=e("browserify-aes/browser"),l=e("browserify-aes/modes"),c=e("browserify-des/modes"),o=e("evp_bytestokey");function u(h,d,b){if(h=h.toLowerCase(),l[h])return a.createCipheriv(h,d,b);if(c[h])return new i({key:d,iv:b,mode:h});throw new TypeError("invalid suite type")}function p(h,d,b){if(h=h.toLowerCase(),l[h])return a.createDecipheriv(h,d,b);if(c[h])return new i({key:d,iv:b,mode:h,decrypt:!0});throw new TypeError("invalid suite type")}s.createCipher=s.Cipher=function(h,d){var b,x;if(h=h.toLowerCase(),l[h])b=l[h].key,x=l[h].iv;else{if(!c[h])throw new TypeError("invalid suite type");b=8*c[h].key,x=c[h].iv}var g=o(d,!1,b,x);return u(h,g.key,g.iv)},s.createCipheriv=s.Cipheriv=u,s.createDecipher=s.Decipher=function(h,d){var b,x;if(h=h.toLowerCase(),l[h])b=l[h].key,x=l[h].iv;else{if(!c[h])throw new TypeError("invalid suite type");b=8*c[h].key,x=c[h].iv}var g=o(d,!1,b,x);return p(h,g.key,g.iv)},s.createDecipheriv=s.Decipheriv=p,s.listCiphers=s.getCiphers=function(){return Object.keys(c).concat(a.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(e,n,s){var i=e("cipher-base"),a=e("des.js"),l=e("inherits"),c=e("safe-buffer").Buffer,o={"des-ede3-cbc":a.CBC.instantiate(a.EDE),"des-ede3":a.EDE,"des-ede-cbc":a.CBC.instantiate(a.EDE),"des-ede":a.EDE,"des-cbc":a.CBC.instantiate(a.DES),"des-ecb":a.DES};function u(p){i.call(this);var h,d=p.mode.toLowerCase(),b=o[d];h=p.decrypt?"decrypt":"encrypt";var x=p.key;c.isBuffer(x)||(x=c.from(x)),d!=="des-ede"&&d!=="des-ede-cbc"||(x=c.concat([x,x.slice(0,8)]));var g=p.iv;c.isBuffer(g)||(g=c.from(g)),this._des=b.create({key:x,iv:g,type:h})}o.des=o["des-cbc"],o.des3=o["des-ede3-cbc"],n.exports=u,l(u,i),u.prototype._update=function(p){return c.from(this._des.update(p))},u.prototype._final=function(){return c.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(e,n,s){s["des-ecb"]={key:8,iv:0},s["des-cbc"]=s.des={key:8,iv:8},s["des-ede3-cbc"]=s.des3={key:24,iv:8},s["des-ede3"]={key:24,iv:0},s["des-ede-cbc"]={key:16,iv:8},s["des-ede"]={key:16,iv:0}},{}],209:[function(e,n,s){(function(i){(function(){var a=e("bn.js"),l=e("randombytes");function c(u){var p,h=u.modulus.byteLength();do p=new a(l(h));while(p.cmp(u.modulus)>=0||!p.umod(u.prime1)||!p.umod(u.prime2));return p}function o(u,p){var h=(function(B){var I=c(B);return{blinder:I.toRed(a.mont(B.modulus)).redPow(new a(B.publicExponent)).fromRed(),unblinder:I.invm(B.modulus)}})(p),d=p.modulus.byteLength(),b=new a(u).mul(h.blinder).umod(p.modulus),x=b.toRed(a.mont(p.prime1)),g=b.toRed(a.mont(p.prime2)),v=p.coefficient,y=p.prime1,k=p.prime2,R=x.redPow(p.exponent1).fromRed(),z=g.redPow(p.exponent2).fromRed(),q=R.isub(z).imul(v).umod(y).imul(k);return z.iadd(q).imul(h.unblinder).umod(p.modulus).toArrayLike(i,"be",d)}o.getr=c,n.exports=o}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(e,n,s){n.exports=e("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(e,n,s){n.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(e,n,s){n.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(e,n,s){var i=e("safe-buffer").Buffer,a=e("create-hash"),l=e("readable-stream"),c=e("inherits"),o=e("./sign"),u=e("./verify"),p=e("./algorithms.json");function h(g){l.Writable.call(this);var v=p[g];if(!v)throw new Error("Unknown message digest");this._hashType=v.hash,this._hash=a(v.hash),this._tag=v.id,this._signType=v.sign}function d(g){l.Writable.call(this);var v=p[g];if(!v)throw new Error("Unknown message digest");this._hash=a(v.hash),this._tag=v.id,this._signType=v.sign}function b(g){return new h(g)}function x(g){return new d(g)}Object.keys(p).forEach((function(g){p[g].id=i.from(p[g].id,"hex"),p[g.toLowerCase()]=p[g]})),c(h,l.Writable),h.prototype._write=function(g,v,y){this._hash.update(g),y()},h.prototype.update=function(g,v){return typeof g=="string"&&(g=i.from(g,v)),this._hash.update(g),this},h.prototype.sign=function(g,v){this.end();var y=this._hash.digest(),k=o(y,g,this._hashType,this._signType,this._tag);return v?k.toString(v):k},c(d,l.Writable),d.prototype._write=function(g,v,y){this._hash.update(g),y()},d.prototype.update=function(g,v){return typeof g=="string"&&(g=i.from(g,v)),this._hash.update(g),this},d.prototype.verify=function(g,v,y){typeof v=="string"&&(v=i.from(v,y)),this.end();var k=this._hash.digest();return u(v,k,g,this._signType,this._tag)},n.exports={Sign:b,Verify:x,createSign:b,createVerify:x}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(e,n,s){var i=e("safe-buffer").Buffer,a=e("create-hmac"),l=e("browserify-rsa"),c=e("elliptic").ec,o=e("bn.js"),u=e("parse-asn1"),p=e("./curves.json");function h(g,v,y,k){if((g=i.from(g.toArray())).length<v.byteLength()){var R=i.alloc(v.byteLength()-g.length);g=i.concat([R,g])}var z=y.length,q=(function(O,F){O=(O=d(O,F)).mod(F);var W=i.from(O.toArray());if(W.length<F.byteLength()){var V=i.alloc(F.byteLength()-W.length);W=i.concat([V,W])}return W})(y,v),B=i.alloc(z);B.fill(1);var I=i.alloc(z);return I=a(k,I).update(B).update(i.from([0])).update(g).update(q).digest(),B=a(k,I).update(B).digest(),{k:I=a(k,I).update(B).update(i.from([1])).update(g).update(q).digest(),v:B=a(k,I).update(B).digest()}}function d(g,v){var y=new o(g),k=(g.length<<3)-v.bitLength();return k>0&&y.ishrn(k),y}function b(g,v,y){var k,R;do{for(k=i.alloc(0);8*k.length<g.bitLength();)v.v=a(y,v.k).update(v.v).digest(),k=i.concat([k,v.v]);R=d(k,g),v.k=a(y,v.k).update(v.v).update(i.from([0])).digest(),v.v=a(y,v.k).update(v.v).digest()}while(R.cmp(g)!==-1);return R}function x(g,v,y,k){return g.toRed(o.mont(y)).redPow(v).fromRed().mod(k)}n.exports=function(g,v,y,k,R){var z=u(v);if(z.curve){if(k!=="ecdsa"&&k!=="ecdsa/rsa")throw new Error("wrong private key type");return(function(O,F){var W=p[F.curve.join(".")];if(!W)throw new Error("unknown curve "+F.curve.join("."));var V=new c(W).keyFromPrivate(F.privateKey).sign(O);return i.from(V.toDER())})(g,z)}if(z.type==="dsa"){if(k!=="dsa")throw new Error("wrong private key type");return(function(O,F,W){for(var V,N=F.params.priv_key,P=F.params.p,C=F.params.q,S=F.params.g,E=new o(0),A=d(O,C).mod(C),T=!1,j=h(N,C,O,W);T===!1;)V=b(C,j,W),E=x(S,V,P,C),(T=V.invm(C).imul(A.add(N.mul(E))).mod(C)).cmpn(0)===0&&(T=!1,E=new o(0));return(function(L,D){L=L.toArray(),D=D.toArray(),128&L[0]&&(L=[0].concat(L)),128&D[0]&&(D=[0].concat(D));var Z=[48,L.length+D.length+4,2,L.length];return Z=Z.concat(L,[2,D.length],D),i.from(Z)})(E,T)})(g,z,y)}if(k!=="rsa"&&k!=="ecdsa/rsa")throw new Error("wrong private key type");g=i.concat([R,g]);for(var q=z.modulus.byteLength(),B=[0,1];g.length+B.length+1<q;)B.push(255);B.push(0);for(var I=-1;++I<g.length;)B.push(g[I]);return l(B,z)},n.exports.getKey=h,n.exports.makeKey=b},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(e,n,s){var i=e("safe-buffer").Buffer,a=e("bn.js"),l=e("elliptic").ec,c=e("parse-asn1"),o=e("./curves.json");function u(p,h){if(p.cmpn(0)<=0)throw new Error("invalid sig");if(p.cmp(h)>=h)throw new Error("invalid sig")}n.exports=function(p,h,d,b,x){var g=c(d);if(g.type==="ec"){if(b!=="ecdsa"&&b!=="ecdsa/rsa")throw new Error("wrong public key type");return(function(B,I,O){var F=o[O.data.algorithm.curve.join(".")];if(!F)throw new Error("unknown curve "+O.data.algorithm.curve.join("."));var W=new l(F),V=O.data.subjectPrivateKey.data;return W.verify(I,B,V)})(p,h,g)}if(g.type==="dsa"){if(b!=="dsa")throw new Error("wrong public key type");return(function(B,I,O){var F=O.data.p,W=O.data.q,V=O.data.g,N=O.data.pub_key,P=c.signature.decode(B,"der"),C=P.s,S=P.r;u(C,W),u(S,W);var E=a.mont(F),A=C.invm(W);return V.toRed(E).redPow(new a(I).mul(A).mod(W)).fromRed().mul(N.toRed(E).redPow(S.mul(A).mod(W)).fromRed()).mod(F).mod(W).cmp(S)===0})(p,h,g)}if(b!=="rsa"&&b!=="ecdsa/rsa")throw new Error("wrong public key type");h=i.concat([x,h]);for(var v=g.modulus.byteLength(),y=[1],k=0;h.length+y.length+2<v;)y.push(255),k++;y.push(0);for(var R=-1;++R<h.length;)y.push(h[R]);y=i.from(y);var z=a.mont(g.modulus);p=(p=new a(p).toRed(z)).redPow(new a(g.publicExponent)),p=i.from(p.fromRed().toArray());var q=k<8?1:0;for(v=Math.min(p.length,y.length),p.length!==y.length&&(q=1),R=-1;++R<v;)q|=p[R]^y[R];return q===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(e,n,s){},{}],217:[function(e,n,s){var i=e("buffer"),a=i.Buffer;function l(o,u){for(var p in o)u[p]=o[p]}function c(o,u,p){return a(o,u,p)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?n.exports=i:(l(i,s),s.Buffer=c),l(a,c),c.from=function(o,u,p){if(typeof o=="number")throw new TypeError("Argument must not be a number");return a(o,u,p)},c.alloc=function(o,u,p){if(typeof o!="number")throw new TypeError("Argument must be a number");var h=a(o);return u!==void 0?typeof p=="string"?h.fill(u,p):h.fill(u):h.fill(0),h},c.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return a(o)},c.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return i.SlowBuffer(o)}},{buffer:220}],218:[function(e,n,s){var i=e("safe-buffer").Buffer,a=i.isEncoding||function(g){switch((g=""+g)&&g.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function l(g){var v;switch(this.encoding=(function(y){var k=(function(R){if(!R)return"utf8";for(var z;;)switch(R){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return R;default:if(z)return;R=(""+R).toLowerCase(),z=!0}})(y);if(typeof k!="string"&&(i.isEncoding===a||!a(y)))throw new Error("Unknown encoding: "+y);return k||y})(g),this.encoding){case"utf16le":this.text=u,this.end=p,v=4;break;case"utf8":this.fillLast=o,v=4;break;case"base64":this.text=h,this.end=d,v=3;break;default:return this.write=b,void(this.end=x)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(v)}function c(g){return g<=127?0:g>>5==6?2:g>>4==14?3:g>>3==30?4:g>>6==2?-1:-2}function o(g){var v=this.lastTotal-this.lastNeed,y=(function(k,R,z){if((192&R[0])!=128)return k.lastNeed=0,"";if(k.lastNeed>1&&R.length>1){if((192&R[1])!=128)return k.lastNeed=1,"";if(k.lastNeed>2&&R.length>2&&(192&R[2])!=128)return k.lastNeed=2,""}})(this,g);return y!==void 0?y:this.lastNeed<=g.length?(g.copy(this.lastChar,v,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(g.copy(this.lastChar,v,0,g.length),void(this.lastNeed-=g.length))}function u(g,v){if((g.length-v)%2==0){var y=g.toString("utf16le",v);if(y){var k=y.charCodeAt(y.length-1);if(k>=55296&&k<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=g[g.length-2],this.lastChar[1]=g[g.length-1],y.slice(0,-1)}return y}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=g[g.length-1],g.toString("utf16le",v,g.length-1)}function p(g){var v=g&&g.length?this.write(g):"";if(this.lastNeed){var y=this.lastTotal-this.lastNeed;return v+this.lastChar.toString("utf16le",0,y)}return v}function h(g,v){var y=(g.length-v)%3;return y===0?g.toString("base64",v):(this.lastNeed=3-y,this.lastTotal=3,y===1?this.lastChar[0]=g[g.length-1]:(this.lastChar[0]=g[g.length-2],this.lastChar[1]=g[g.length-1]),g.toString("base64",v,g.length-y))}function d(g){var v=g&&g.length?this.write(g):"";return this.lastNeed?v+this.lastChar.toString("base64",0,3-this.lastNeed):v}function b(g){return g.toString(this.encoding)}function x(g){return g&&g.length?this.write(g):""}s.StringDecoder=l,l.prototype.write=function(g){if(g.length===0)return"";var v,y;if(this.lastNeed){if((v=this.fillLast(g))===void 0)return"";y=this.lastNeed,this.lastNeed=0}else y=0;return y<g.length?v?v+this.text(g,y):this.text(g,y):v||""},l.prototype.end=function(g){var v=g&&g.length?this.write(g):"";return this.lastNeed?v+"":v},l.prototype.text=function(g,v){var y=(function(R,z,q){var B=z.length-1;if(B<q)return 0;var I=c(z[B]);return I>=0?(I>0&&(R.lastNeed=I-1),I):--B<q||I===-2?0:(I=c(z[B]))>=0?(I>0&&(R.lastNeed=I-2),I):--B<q||I===-2?0:(I=c(z[B]))>=0?(I>0&&(I===2?I=0:R.lastNeed=I-3),I):0})(this,g,v);if(!this.lastNeed)return g.toString("utf8",v);this.lastTotal=y;var k=g.length-(y-this.lastNeed);return g.copy(this.lastChar,0,k),g.toString("utf8",v,k)},l.prototype.fillLast=function(g){if(this.lastNeed<=g.length)return g.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);g.copy(this.lastChar,this.lastTotal-this.lastNeed,0,g.length),this.lastNeed-=g.length}},{"safe-buffer":217}],219:[function(e,n,s){(function(i){(function(){n.exports=function(a,l){for(var c=Math.min(a.length,l.length),o=new i(c),u=0;u<c;++u)o[u]=a[u]^l[u];return o}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],220:[function(e,n,s){(function(i){(function(){var a=e("base64-js"),l=e("ieee754");s.Buffer=o,s.SlowBuffer=function(H){return+H!=H&&(H=0),o.alloc(+H)},s.INSPECT_MAX_BYTES=50;function c(H){if(H>2147483647)throw new RangeError('The value "'+H+'" is invalid for option "size"');var U=new Uint8Array(H);return U.__proto__=o.prototype,U}function o(H,U,Q){if(typeof H=="number"){if(typeof U=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(H)}return u(H,U,Q)}function u(H,U,Q){if(typeof H=="string")return(function(oe,he){if(typeof he=="string"&&he!==""||(he="utf8"),!o.isEncoding(he))throw new TypeError("Unknown encoding: "+he);var ve=0|x(oe,he),me=c(ve),ne=me.write(oe,he);return ne!==ve&&(me=me.slice(0,ne)),me})(H,U);if(ArrayBuffer.isView(H))return d(H);if(H==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H);if(G(H,ArrayBuffer)||H&&G(H.buffer,ArrayBuffer))return(function(oe,he,ve){if(he<0||oe.byteLength<he)throw new RangeError('"offset" is outside of buffer bounds');if(oe.byteLength<he+(ve||0))throw new RangeError('"length" is outside of buffer bounds');var me;return me=he===void 0&&ve===void 0?new Uint8Array(oe):ve===void 0?new Uint8Array(oe,he):new Uint8Array(oe,he,ve),me.__proto__=o.prototype,me})(H,U,Q);if(typeof H=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var ie=H.valueOf&&H.valueOf();if(ie!=null&&ie!==H)return o.from(ie,U,Q);var re=(function(oe){if(o.isBuffer(oe)){var he=0|b(oe.length),ve=c(he);return ve.length===0||oe.copy(ve,0,0,he),ve}if(oe.length!==void 0)return typeof oe.length!="number"||te(oe.length)?c(0):d(oe);if(oe.type==="Buffer"&&Array.isArray(oe.data))return d(oe.data)})(H);if(re)return re;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof H[Symbol.toPrimitive]=="function")return o.from(H[Symbol.toPrimitive]("string"),U,Q);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H)}function p(H){if(typeof H!="number")throw new TypeError('"size" argument must be of type number');if(H<0)throw new RangeError('The value "'+H+'" is invalid for option "size"')}function h(H){return p(H),c(H<0?0:0|b(H))}function d(H){for(var U=H.length<0?0:0|b(H.length),Q=c(U),ie=0;ie<U;ie+=1)Q[ie]=255&H[ie];return Q}function b(H){if(H>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|H}function x(H,U){if(o.isBuffer(H))return H.length;if(ArrayBuffer.isView(H)||G(H,ArrayBuffer))return H.byteLength;if(typeof H!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof H);var Q=H.length,ie=arguments.length>2&&arguments[2]===!0;if(!ie&&Q===0)return 0;for(var re=!1;;)switch(U){case"ascii":case"latin1":case"binary":return Q;case"utf8":case"utf-8":return Z(H).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Q;case"hex":return Q>>>1;case"base64":return K(H).length;default:if(re)return ie?-1:Z(H).length;U=(""+U).toLowerCase(),re=!0}}function g(H,U,Q){var ie=!1;if((U===void 0||U<0)&&(U=0),U>this.length||((Q===void 0||Q>this.length)&&(Q=this.length),Q<=0)||(Q>>>=0)<=(U>>>=0))return"";for(H||(H="utf8");;)switch(H){case"hex":return P(this,U,Q);case"utf8":case"utf-8":return W(this,U,Q);case"ascii":return V(this,U,Q);case"latin1":case"binary":return N(this,U,Q);case"base64":return F(this,U,Q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,U,Q);default:if(ie)throw new TypeError("Unknown encoding: "+H);H=(H+"").toLowerCase(),ie=!0}}function v(H,U,Q){var ie=H[U];H[U]=H[Q],H[Q]=ie}function y(H,U,Q,ie,re){if(H.length===0)return-1;if(typeof Q=="string"?(ie=Q,Q=0):Q>2147483647?Q=2147483647:Q<-2147483648&&(Q=-2147483648),te(Q=+Q)&&(Q=re?0:H.length-1),Q<0&&(Q=H.length+Q),Q>=H.length){if(re)return-1;Q=H.length-1}else if(Q<0){if(!re)return-1;Q=0}if(typeof U=="string"&&(U=o.from(U,ie)),o.isBuffer(U))return U.length===0?-1:k(H,U,Q,ie,re);if(typeof U=="number")return U&=255,typeof Uint8Array.prototype.indexOf=="function"?re?Uint8Array.prototype.indexOf.call(H,U,Q):Uint8Array.prototype.lastIndexOf.call(H,U,Q):k(H,[U],Q,ie,re);throw new TypeError("val must be string, number or Buffer")}function k(H,U,Q,ie,re){var oe,he=1,ve=H.length,me=U.length;if(ie!==void 0&&((ie=String(ie).toLowerCase())==="ucs2"||ie==="ucs-2"||ie==="utf16le"||ie==="utf-16le")){if(H.length<2||U.length<2)return-1;he=2,ve/=2,me/=2,Q/=2}function ne(Re,Pe){return he===1?Re[Pe]:Re.readUInt16BE(Pe*he)}if(re){var de=-1;for(oe=Q;oe<ve;oe++)if(ne(H,oe)===ne(U,de===-1?0:oe-de)){if(de===-1&&(de=oe),oe-de+1===me)return de*he}else de!==-1&&(oe-=oe-de),de=-1}else for(Q+me>ve&&(Q=ve-me),oe=Q;oe>=0;oe--){for(var xe=!0,Te=0;Te<me;Te++)if(ne(H,oe+Te)!==ne(U,Te)){xe=!1;break}if(xe)return oe}return-1}function R(H,U,Q,ie){Q=Number(Q)||0;var re=H.length-Q;ie?(ie=Number(ie))>re&&(ie=re):ie=re;var oe=U.length;ie>oe/2&&(ie=oe/2);for(var he=0;he<ie;++he){var ve=parseInt(U.substr(2*he,2),16);if(te(ve))return he;H[Q+he]=ve}return he}function z(H,U,Q,ie){return ee(Z(U,H.length-Q),H,Q,ie)}function q(H,U,Q,ie){return ee((function(re){for(var oe=[],he=0;he<re.length;++he)oe.push(255&re.charCodeAt(he));return oe})(U),H,Q,ie)}function B(H,U,Q,ie){return q(H,U,Q,ie)}function I(H,U,Q,ie){return ee(K(U),H,Q,ie)}function O(H,U,Q,ie){return ee((function(re,oe){for(var he,ve,me,ne=[],de=0;de<re.length&&!((oe-=2)<0);++de)he=re.charCodeAt(de),ve=he>>8,me=he%256,ne.push(me),ne.push(ve);return ne})(U,H.length-Q),H,Q,ie)}function F(H,U,Q){return U===0&&Q===H.length?a.fromByteArray(H):a.fromByteArray(H.slice(U,Q))}function W(H,U,Q){Q=Math.min(H.length,Q);for(var ie=[],re=U;re<Q;){var oe,he,ve,me,ne=H[re],de=null,xe=ne>239?4:ne>223?3:ne>191?2:1;if(re+xe<=Q)switch(xe){case 1:ne<128&&(de=ne);break;case 2:(192&(oe=H[re+1]))==128&&(me=(31&ne)<<6|63&oe)>127&&(de=me);break;case 3:oe=H[re+1],he=H[re+2],(192&oe)==128&&(192&he)==128&&(me=(15&ne)<<12|(63&oe)<<6|63&he)>2047&&(me<55296||me>57343)&&(de=me);break;case 4:oe=H[re+1],he=H[re+2],ve=H[re+3],(192&oe)==128&&(192&he)==128&&(192&ve)==128&&(me=(15&ne)<<18|(63&oe)<<12|(63&he)<<6|63&ve)>65535&&me<1114112&&(de=me)}de===null?(de=65533,xe=1):de>65535&&(de-=65536,ie.push(de>>>10&1023|55296),de=56320|1023&de),ie.push(de),re+=xe}return(function(Te){var Re=Te.length;if(Re<=4096)return String.fromCharCode.apply(String,Te);for(var Pe="",Xe=0;Xe<Re;)Pe+=String.fromCharCode.apply(String,Te.slice(Xe,Xe+=4096));return Pe})(ie)}s.kMaxLength=2147483647,o.TYPED_ARRAY_SUPPORT=(function(){try{var H=new Uint8Array(1);return H.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},H.foo()===42}catch{return!1}})(),o.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),o.poolSize=8192,o.from=function(H,U,Q){return u(H,U,Q)},o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,o.alloc=function(H,U,Q){return(function(ie,re,oe){return p(ie),ie<=0?c(ie):re!==void 0?typeof oe=="string"?c(ie).fill(re,oe):c(ie).fill(re):c(ie)})(H,U,Q)},o.allocUnsafe=function(H){return h(H)},o.allocUnsafeSlow=function(H){return h(H)},o.isBuffer=function(H){return H!=null&&H._isBuffer===!0&&H!==o.prototype},o.compare=function(H,U){if(G(H,Uint8Array)&&(H=o.from(H,H.offset,H.byteLength)),G(U,Uint8Array)&&(U=o.from(U,U.offset,U.byteLength)),!o.isBuffer(H)||!o.isBuffer(U))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(H===U)return 0;for(var Q=H.length,ie=U.length,re=0,oe=Math.min(Q,ie);re<oe;++re)if(H[re]!==U[re]){Q=H[re],ie=U[re];break}return Q<ie?-1:ie<Q?1:0},o.isEncoding=function(H){switch(String(H).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(H,U){if(!Array.isArray(H))throw new TypeError('"list" argument must be an Array of Buffers');if(H.length===0)return o.alloc(0);var Q;if(U===void 0)for(U=0,Q=0;Q<H.length;++Q)U+=H[Q].length;var ie=o.allocUnsafe(U),re=0;for(Q=0;Q<H.length;++Q){var oe=H[Q];if(G(oe,Uint8Array)&&(oe=o.from(oe)),!o.isBuffer(oe))throw new TypeError('"list" argument must be an Array of Buffers');oe.copy(ie,re),re+=oe.length}return ie},o.byteLength=x,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var H=this.length;if(H%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var U=0;U<H;U+=2)v(this,U,U+1);return this},o.prototype.swap32=function(){var H=this.length;if(H%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var U=0;U<H;U+=4)v(this,U,U+3),v(this,U+1,U+2);return this},o.prototype.swap64=function(){var H=this.length;if(H%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var U=0;U<H;U+=8)v(this,U,U+7),v(this,U+1,U+6),v(this,U+2,U+5),v(this,U+3,U+4);return this},o.prototype.toString=function(){var H=this.length;return H===0?"":arguments.length===0?W(this,0,H):g.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(H){if(!o.isBuffer(H))throw new TypeError("Argument must be a Buffer");return this===H||o.compare(this,H)===0},o.prototype.inspect=function(){var H="",U=s.INSPECT_MAX_BYTES;return H=this.toString("hex",0,U).replace(/(.{2})/g,"$1 ").trim(),this.length>U&&(H+=" ... "),"<Buffer "+H+">"},o.prototype.compare=function(H,U,Q,ie,re){if(G(H,Uint8Array)&&(H=o.from(H,H.offset,H.byteLength)),!o.isBuffer(H))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof H);if(U===void 0&&(U=0),Q===void 0&&(Q=H?H.length:0),ie===void 0&&(ie=0),re===void 0&&(re=this.length),U<0||Q>H.length||ie<0||re>this.length)throw new RangeError("out of range index");if(ie>=re&&U>=Q)return 0;if(ie>=re)return-1;if(U>=Q)return 1;if(this===H)return 0;for(var oe=(re>>>=0)-(ie>>>=0),he=(Q>>>=0)-(U>>>=0),ve=Math.min(oe,he),me=this.slice(ie,re),ne=H.slice(U,Q),de=0;de<ve;++de)if(me[de]!==ne[de]){oe=me[de],he=ne[de];break}return oe<he?-1:he<oe?1:0},o.prototype.includes=function(H,U,Q){return this.indexOf(H,U,Q)!==-1},o.prototype.indexOf=function(H,U,Q){return y(this,H,U,Q,!0)},o.prototype.lastIndexOf=function(H,U,Q){return y(this,H,U,Q,!1)},o.prototype.write=function(H,U,Q,ie){if(U===void 0)ie="utf8",Q=this.length,U=0;else if(Q===void 0&&typeof U=="string")ie=U,Q=this.length,U=0;else{if(!isFinite(U))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");U>>>=0,isFinite(Q)?(Q>>>=0,ie===void 0&&(ie="utf8")):(ie=Q,Q=void 0)}var re=this.length-U;if((Q===void 0||Q>re)&&(Q=re),H.length>0&&(Q<0||U<0)||U>this.length)throw new RangeError("Attempt to write outside buffer bounds");ie||(ie="utf8");for(var oe=!1;;)switch(ie){case"hex":return R(this,H,U,Q);case"utf8":case"utf-8":return z(this,H,U,Q);case"ascii":return q(this,H,U,Q);case"latin1":case"binary":return B(this,H,U,Q);case"base64":return I(this,H,U,Q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,H,U,Q);default:if(oe)throw new TypeError("Unknown encoding: "+ie);ie=(""+ie).toLowerCase(),oe=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function V(H,U,Q){var ie="";Q=Math.min(H.length,Q);for(var re=U;re<Q;++re)ie+=String.fromCharCode(127&H[re]);return ie}function N(H,U,Q){var ie="";Q=Math.min(H.length,Q);for(var re=U;re<Q;++re)ie+=String.fromCharCode(H[re]);return ie}function P(H,U,Q){var ie=H.length;(!U||U<0)&&(U=0),(!Q||Q<0||Q>ie)&&(Q=ie);for(var re="",oe=U;oe<Q;++oe)re+=D(H[oe]);return re}function C(H,U,Q){for(var ie=H.slice(U,Q),re="",oe=0;oe<ie.length;oe+=2)re+=String.fromCharCode(ie[oe]+256*ie[oe+1]);return re}function S(H,U,Q){if(H%1!=0||H<0)throw new RangeError("offset is not uint");if(H+U>Q)throw new RangeError("Trying to access beyond buffer length")}function E(H,U,Q,ie,re,oe){if(!o.isBuffer(H))throw new TypeError('"buffer" argument must be a Buffer instance');if(U>re||U<oe)throw new RangeError('"value" argument is out of bounds');if(Q+ie>H.length)throw new RangeError("Index out of range")}function A(H,U,Q,ie,re,oe){if(Q+ie>H.length)throw new RangeError("Index out of range");if(Q<0)throw new RangeError("Index out of range")}function T(H,U,Q,ie,re){return U=+U,Q>>>=0,re||A(H,0,Q,4),l.write(H,U,Q,ie,23,4),Q+4}function j(H,U,Q,ie,re){return U=+U,Q>>>=0,re||A(H,0,Q,8),l.write(H,U,Q,ie,52,8),Q+8}o.prototype.slice=function(H,U){var Q=this.length;(H=~~H)<0?(H+=Q)<0&&(H=0):H>Q&&(H=Q),(U=U===void 0?Q:~~U)<0?(U+=Q)<0&&(U=0):U>Q&&(U=Q),U<H&&(U=H);var ie=this.subarray(H,U);return ie.__proto__=o.prototype,ie},o.prototype.readUIntLE=function(H,U,Q){H>>>=0,U>>>=0,Q||S(H,U,this.length);for(var ie=this[H],re=1,oe=0;++oe<U&&(re*=256);)ie+=this[H+oe]*re;return ie},o.prototype.readUIntBE=function(H,U,Q){H>>>=0,U>>>=0,Q||S(H,U,this.length);for(var ie=this[H+--U],re=1;U>0&&(re*=256);)ie+=this[H+--U]*re;return ie},o.prototype.readUInt8=function(H,U){return H>>>=0,U||S(H,1,this.length),this[H]},o.prototype.readUInt16LE=function(H,U){return H>>>=0,U||S(H,2,this.length),this[H]|this[H+1]<<8},o.prototype.readUInt16BE=function(H,U){return H>>>=0,U||S(H,2,this.length),this[H]<<8|this[H+1]},o.prototype.readUInt32LE=function(H,U){return H>>>=0,U||S(H,4,this.length),(this[H]|this[H+1]<<8|this[H+2]<<16)+16777216*this[H+3]},o.prototype.readUInt32BE=function(H,U){return H>>>=0,U||S(H,4,this.length),16777216*this[H]+(this[H+1]<<16|this[H+2]<<8|this[H+3])},o.prototype.readIntLE=function(H,U,Q){H>>>=0,U>>>=0,Q||S(H,U,this.length);for(var ie=this[H],re=1,oe=0;++oe<U&&(re*=256);)ie+=this[H+oe]*re;return ie>=(re*=128)&&(ie-=Math.pow(2,8*U)),ie},o.prototype.readIntBE=function(H,U,Q){H>>>=0,U>>>=0,Q||S(H,U,this.length);for(var ie=U,re=1,oe=this[H+--ie];ie>0&&(re*=256);)oe+=this[H+--ie]*re;return oe>=(re*=128)&&(oe-=Math.pow(2,8*U)),oe},o.prototype.readInt8=function(H,U){return H>>>=0,U||S(H,1,this.length),128&this[H]?-1*(255-this[H]+1):this[H]},o.prototype.readInt16LE=function(H,U){H>>>=0,U||S(H,2,this.length);var Q=this[H]|this[H+1]<<8;return 32768&Q?4294901760|Q:Q},o.prototype.readInt16BE=function(H,U){H>>>=0,U||S(H,2,this.length);var Q=this[H+1]|this[H]<<8;return 32768&Q?4294901760|Q:Q},o.prototype.readInt32LE=function(H,U){return H>>>=0,U||S(H,4,this.length),this[H]|this[H+1]<<8|this[H+2]<<16|this[H+3]<<24},o.prototype.readInt32BE=function(H,U){return H>>>=0,U||S(H,4,this.length),this[H]<<24|this[H+1]<<16|this[H+2]<<8|this[H+3]},o.prototype.readFloatLE=function(H,U){return H>>>=0,U||S(H,4,this.length),l.read(this,H,!0,23,4)},o.prototype.readFloatBE=function(H,U){return H>>>=0,U||S(H,4,this.length),l.read(this,H,!1,23,4)},o.prototype.readDoubleLE=function(H,U){return H>>>=0,U||S(H,8,this.length),l.read(this,H,!0,52,8)},o.prototype.readDoubleBE=function(H,U){return H>>>=0,U||S(H,8,this.length),l.read(this,H,!1,52,8)},o.prototype.writeUIntLE=function(H,U,Q,ie){H=+H,U>>>=0,Q>>>=0,ie||E(this,H,U,Q,Math.pow(2,8*Q)-1,0);var re=1,oe=0;for(this[U]=255&H;++oe<Q&&(re*=256);)this[U+oe]=H/re&255;return U+Q},o.prototype.writeUIntBE=function(H,U,Q,ie){H=+H,U>>>=0,Q>>>=0,ie||E(this,H,U,Q,Math.pow(2,8*Q)-1,0);var re=Q-1,oe=1;for(this[U+re]=255&H;--re>=0&&(oe*=256);)this[U+re]=H/oe&255;return U+Q},o.prototype.writeUInt8=function(H,U,Q){return H=+H,U>>>=0,Q||E(this,H,U,1,255,0),this[U]=255&H,U+1},o.prototype.writeUInt16LE=function(H,U,Q){return H=+H,U>>>=0,Q||E(this,H,U,2,65535,0),this[U]=255&H,this[U+1]=H>>>8,U+2},o.prototype.writeUInt16BE=function(H,U,Q){return H=+H,U>>>=0,Q||E(this,H,U,2,65535,0),this[U]=H>>>8,this[U+1]=255&H,U+2},o.prototype.writeUInt32LE=function(H,U,Q){return H=+H,U>>>=0,Q||E(this,H,U,4,4294967295,0),this[U+3]=H>>>24,this[U+2]=H>>>16,this[U+1]=H>>>8,this[U]=255&H,U+4},o.prototype.writeUInt32BE=function(H,U,Q){return H=+H,U>>>=0,Q||E(this,H,U,4,4294967295,0),this[U]=H>>>24,this[U+1]=H>>>16,this[U+2]=H>>>8,this[U+3]=255&H,U+4},o.prototype.writeIntLE=function(H,U,Q,ie){if(H=+H,U>>>=0,!ie){var re=Math.pow(2,8*Q-1);E(this,H,U,Q,re-1,-re)}var oe=0,he=1,ve=0;for(this[U]=255&H;++oe<Q&&(he*=256);)H<0&&ve===0&&this[U+oe-1]!==0&&(ve=1),this[U+oe]=(H/he>>0)-ve&255;return U+Q},o.prototype.writeIntBE=function(H,U,Q,ie){if(H=+H,U>>>=0,!ie){var re=Math.pow(2,8*Q-1);E(this,H,U,Q,re-1,-re)}var oe=Q-1,he=1,ve=0;for(this[U+oe]=255&H;--oe>=0&&(he*=256);)H<0&&ve===0&&this[U+oe+1]!==0&&(ve=1),this[U+oe]=(H/he>>0)-ve&255;return U+Q},o.prototype.writeInt8=function(H,U,Q){return H=+H,U>>>=0,Q||E(this,H,U,1,127,-128),H<0&&(H=255+H+1),this[U]=255&H,U+1},o.prototype.writeInt16LE=function(H,U,Q){return H=+H,U>>>=0,Q||E(this,H,U,2,32767,-32768),this[U]=255&H,this[U+1]=H>>>8,U+2},o.prototype.writeInt16BE=function(H,U,Q){return H=+H,U>>>=0,Q||E(this,H,U,2,32767,-32768),this[U]=H>>>8,this[U+1]=255&H,U+2},o.prototype.writeInt32LE=function(H,U,Q){return H=+H,U>>>=0,Q||E(this,H,U,4,2147483647,-2147483648),this[U]=255&H,this[U+1]=H>>>8,this[U+2]=H>>>16,this[U+3]=H>>>24,U+4},o.prototype.writeInt32BE=function(H,U,Q){return H=+H,U>>>=0,Q||E(this,H,U,4,2147483647,-2147483648),H<0&&(H=4294967295+H+1),this[U]=H>>>24,this[U+1]=H>>>16,this[U+2]=H>>>8,this[U+3]=255&H,U+4},o.prototype.writeFloatLE=function(H,U,Q){return T(this,H,U,!0,Q)},o.prototype.writeFloatBE=function(H,U,Q){return T(this,H,U,!1,Q)},o.prototype.writeDoubleLE=function(H,U,Q){return j(this,H,U,!0,Q)},o.prototype.writeDoubleBE=function(H,U,Q){return j(this,H,U,!1,Q)},o.prototype.copy=function(H,U,Q,ie){if(!o.isBuffer(H))throw new TypeError("argument should be a Buffer");if(Q||(Q=0),ie||ie===0||(ie=this.length),U>=H.length&&(U=H.length),U||(U=0),ie>0&&ie<Q&&(ie=Q),ie===Q||H.length===0||this.length===0)return 0;if(U<0)throw new RangeError("targetStart out of bounds");if(Q<0||Q>=this.length)throw new RangeError("Index out of range");if(ie<0)throw new RangeError("sourceEnd out of bounds");ie>this.length&&(ie=this.length),H.length-U<ie-Q&&(ie=H.length-U+Q);var re=ie-Q;if(this===H&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(U,Q,ie);else if(this===H&&Q<U&&U<ie)for(var oe=re-1;oe>=0;--oe)H[oe+U]=this[oe+Q];else Uint8Array.prototype.set.call(H,this.subarray(Q,ie),U);return re},o.prototype.fill=function(H,U,Q,ie){if(typeof H=="string"){if(typeof U=="string"?(ie=U,U=0,Q=this.length):typeof Q=="string"&&(ie=Q,Q=this.length),ie!==void 0&&typeof ie!="string")throw new TypeError("encoding must be a string");if(typeof ie=="string"&&!o.isEncoding(ie))throw new TypeError("Unknown encoding: "+ie);if(H.length===1){var re=H.charCodeAt(0);(ie==="utf8"&&re<128||ie==="latin1")&&(H=re)}}else typeof H=="number"&&(H&=255);if(U<0||this.length<U||this.length<Q)throw new RangeError("Out of range index");if(Q<=U)return this;var oe;if(U>>>=0,Q=Q===void 0?this.length:Q>>>0,H||(H=0),typeof H=="number")for(oe=U;oe<Q;++oe)this[oe]=H;else{var he=o.isBuffer(H)?H:o.from(H,ie),ve=he.length;if(ve===0)throw new TypeError('The value "'+H+'" is invalid for argument "value"');for(oe=0;oe<Q-U;++oe)this[oe+U]=he[oe%ve]}return this};var L=/[^+/0-9A-Za-z-_]/g;function D(H){return H<16?"0"+H.toString(16):H.toString(16)}function Z(H,U){var Q;U=U||1/0;for(var ie=H.length,re=null,oe=[],he=0;he<ie;++he){if((Q=H.charCodeAt(he))>55295&&Q<57344){if(!re){if(Q>56319){(U-=3)>-1&&oe.push(239,191,189);continue}if(he+1===ie){(U-=3)>-1&&oe.push(239,191,189);continue}re=Q;continue}if(Q<56320){(U-=3)>-1&&oe.push(239,191,189),re=Q;continue}Q=65536+(re-55296<<10|Q-56320)}else re&&(U-=3)>-1&&oe.push(239,191,189);if(re=null,Q<128){if((U-=1)<0)break;oe.push(Q)}else if(Q<2048){if((U-=2)<0)break;oe.push(Q>>6|192,63&Q|128)}else if(Q<65536){if((U-=3)<0)break;oe.push(Q>>12|224,Q>>6&63|128,63&Q|128)}else{if(!(Q<1114112))throw new Error("Invalid code point");if((U-=4)<0)break;oe.push(Q>>18|240,Q>>12&63|128,Q>>6&63|128,63&Q|128)}}return oe}function K(H){return a.toByteArray((function(U){if((U=(U=U.split("=")[0]).trim().replace(L,"")).length<2)return"";for(;U.length%4!=0;)U+="=";return U})(H))}function ee(H,U,Q,ie){for(var re=0;re<ie&&!(re+Q>=U.length||re>=H.length);++re)U[re+Q]=H[re];return re}function G(H,U){return H instanceof U||H!=null&&H.constructor!=null&&H.constructor.name!=null&&H.constructor.name===U.name}function te(H){return H!=H}}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(e,n,s){var i=e("safe-buffer").Buffer,a=e("stream").Transform,l=e("string_decoder").StringDecoder;function c(o){a.call(this),this.hashMode=typeof o=="string",this.hashMode?this[o]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}e("inherits")(c,a),c.prototype.update=function(o,u,p){typeof o=="string"&&(o=i.from(o,u));var h=this._update(o);return this.hashMode?this:(p&&(h=this._toString(h,p)),h)},c.prototype.setAutoPadding=function(){},c.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},c.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},c.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},c.prototype._transform=function(o,u,p){var h;try{this.hashMode?this._update(o):this.push(this._update(o))}catch(d){h=d}finally{p(h)}},c.prototype._flush=function(o){var u;try{this.push(this.__final())}catch(p){u=p}o(u)},c.prototype._finalOrDigest=function(o){var u=this.__final()||i.alloc(0);return o&&(u=this._toString(u,o,!0)),u},c.prototype._toString=function(o,u,p){if(this._decoder||(this._decoder=new l(u),this._encoding=u),this._encoding!==u)throw new Error("can't switch encodings");var h=this._decoder.write(o);return p&&(h+=this._decoder.end()),h},n.exports=c},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(e,n,s){var i=e("../internals/is-callable"),a=e("../internals/try-to-string"),l=TypeError;n.exports=function(c){if(i(c))return c;throw new l(a(c)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(e,n,s){var i=e("../internals/is-constructor"),a=e("../internals/try-to-string"),l=TypeError;n.exports=function(c){if(i(c))return c;throw new l(a(c)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(e,n,s){var i=e("../internals/is-callable"),a=String,l=TypeError;n.exports=function(c){if(typeof c=="object"||i(c))return c;throw new l("Can't set "+a(c)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(e,n,s){var i=e("../internals/well-known-symbol"),a=e("../internals/object-create"),l=e("../internals/object-define-property").f,c=i("unscopables"),o=Array.prototype;o[c]===void 0&&l(o,c,{configurable:!0,value:a(null)}),n.exports=function(u){o[c][u]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(e,n,s){var i=e("../internals/object-is-prototype-of"),a=TypeError;n.exports=function(l,c){if(i(c,l))return l;throw new a("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(e,n,s){var i=e("../internals/is-object"),a=String,l=TypeError;n.exports=function(c){if(i(c))return c;throw new l(a(c)+" is not an object")}},{"../internals/is-object":289}],228:[function(e,n,s){var i=e("../internals/to-indexed-object"),a=e("../internals/to-absolute-index"),l=e("../internals/length-of-array-like"),c=function(o){return function(u,p,h){var d,b=i(u),x=l(b),g=a(h,x);if(o&&p!=p){for(;x>g;)if((d=b[g++])!=d)return!0}else for(;x>g;g++)if((o||g in b)&&b[g]===p)return o||g||0;return!o&&-1}};n.exports={includes:c(!0),indexOf:c(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(e,n,s){var i=e("../internals/function-bind-context"),a=e("../internals/function-uncurry-this"),l=e("../internals/indexed-object"),c=e("../internals/to-object"),o=e("../internals/length-of-array-like"),u=e("../internals/array-species-create"),p=a([].push),h=function(d){var b=d===1,x=d===2,g=d===3,v=d===4,y=d===6,k=d===7,R=d===5||y;return function(z,q,B,I){for(var O,F,W=c(z),V=l(W),N=i(q,B),P=o(V),C=0,S=I||u,E=b?S(z,P):x||k?S(z,0):void 0;P>C;C++)if((R||C in V)&&(F=N(O=V[C],C,W),d))if(b)E[C]=F;else if(F)switch(d){case 3:return!0;case 5:return O;case 6:return C;case 2:p(E,O)}else switch(d){case 4:return!1;case 7:p(E,O)}return y?-1:g||v?v:E}};n.exports={forEach:h(0),map:h(1),filter:h(2),some:h(3),every:h(4),find:h(5),findIndex:h(6),filterReject:h(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(e,n,s){var i=e("../internals/to-absolute-index"),a=e("../internals/length-of-array-like"),l=e("../internals/create-property"),c=Array,o=Math.max;n.exports=function(u,p,h){for(var d=a(u),b=i(p,d),x=i(h===void 0?d:h,d),g=c(o(x-b,0)),v=0;b<x;b++,v++)l(g,v,u[b]);return g.length=v,g}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(e,n,s){var i=e("../internals/function-uncurry-this");n.exports=i([].slice)},{"../internals/function-uncurry-this":268}],232:[function(e,n,s){var i=e("../internals/is-array"),a=e("../internals/is-constructor"),l=e("../internals/is-object"),c=e("../internals/well-known-symbol")("species"),o=Array;n.exports=function(u){var p;return i(u)&&(p=u.constructor,(a(p)&&(p===o||i(p.prototype))||l(p)&&(p=p[c])===null)&&(p=void 0)),p===void 0?o:p}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(e,n,s){var i=e("../internals/array-species-constructor");n.exports=function(a,l){return new(i(a))(l===0?0:l)}},{"../internals/array-species-constructor":232}],234:[function(e,n,s){var i=e("../internals/well-known-symbol")("iterator"),a=!1;try{var l=0,c={next:function(){return{done:!!l++}},return:function(){a=!0}};c[i]=function(){return this},Array.from(c,(function(){throw 2}))}catch{}n.exports=function(o,u){try{if(!u&&!a)return!1}catch{return!1}var p=!1;try{var h={};h[i]=function(){return{next:function(){return{done:p=!0}}}},o(h)}catch{}return p}},{"../internals/well-known-symbol":357}],235:[function(e,n,s){var i=e("../internals/function-uncurry-this"),a=i({}.toString),l=i("".slice);n.exports=function(c){return l(a(c),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(e,n,s){var i=e("../internals/to-string-tag-support"),a=e("../internals/is-callable"),l=e("../internals/classof-raw"),c=e("../internals/well-known-symbol")("toStringTag"),o=Object,u=l((function(){return arguments})())==="Arguments";n.exports=i?l:function(p){var h,d,b;return p===void 0?"Undefined":p===null?"Null":typeof(d=(function(x,g){try{return x[g]}catch{}})(h=o(p),c))=="string"?d:u?l(h):(b=l(h))==="Object"&&a(h.callee)?"Arguments":b}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(e,n,s){var i=e("../internals/has-own-property"),a=e("../internals/own-keys"),l=e("../internals/object-get-own-property-descriptor"),c=e("../internals/object-define-property");n.exports=function(o,u,p){for(var h=a(u),d=c.f,b=l.f,x=0;x<h.length;x++){var g=h[x];i(o,g)||p&&i(p,g)||d(o,g,b(u,g))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(e,n,s){var i=e("../internals/well-known-symbol")("match");n.exports=function(a){var l=/./;try{"/./"[a](l)}catch{try{return l[i]=!1,"/./"[a](l)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(e,n,s){var i=e("../internals/fails");n.exports=!i((function(){function a(){}return a.prototype.constructor=null,Object.getPrototypeOf(new a)!==a.prototype}))},{"../internals/fails":260}],240:[function(e,n,s){n.exports=function(i,a){return{value:i,done:a}}},{}],241:[function(e,n,s){var i=e("../internals/descriptors"),a=e("../internals/object-define-property"),l=e("../internals/create-property-descriptor");n.exports=i?function(c,o,u){return a.f(c,o,l(1,u))}:function(c,o,u){return c[o]=u,c}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(e,n,s){n.exports=function(i,a){return{enumerable:!(1&i),configurable:!(2&i),writable:!(4&i),value:a}}},{}],243:[function(e,n,s){var i=e("../internals/to-property-key"),a=e("../internals/object-define-property"),l=e("../internals/create-property-descriptor");n.exports=function(c,o,u){var p=i(o);p in c?a.f(c,p,l(0,u)):c[p]=u}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(e,n,s){var i=e("../internals/make-built-in"),a=e("../internals/object-define-property");n.exports=function(l,c,o){return o.get&&i(o.get,c,{getter:!0}),o.set&&i(o.set,c,{setter:!0}),a.f(l,c,o)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(e,n,s){var i=e("../internals/is-callable"),a=e("../internals/object-define-property"),l=e("../internals/make-built-in"),c=e("../internals/define-global-property");n.exports=function(o,u,p,h){h||(h={});var d=h.enumerable,b=h.name!==void 0?h.name:u;if(i(p)&&l(p,b,h),h.global)d?o[u]=p:c(u,p);else{try{h.unsafe?o[u]&&(d=!0):delete o[u]}catch{}d?o[u]=p:a.f(o,u,{value:p,enumerable:!1,configurable:!h.nonConfigurable,writable:!h.nonWritable})}return o}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(e,n,s){var i=e("../internals/global"),a=Object.defineProperty;n.exports=function(l,c){try{a(i,l,{value:c,configurable:!0,writable:!0})}catch{i[l]=c}return c}},{"../internals/global":274}],247:[function(e,n,s){var i=e("../internals/fails");n.exports=!i((function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}))},{"../internals/fails":260}],248:[function(e,n,s){var i=typeof document=="object"&&document.all,a=i===void 0&&i!==void 0;n.exports={all:i,IS_HTMLDDA:a}},{}],249:[function(e,n,s){var i=e("../internals/global"),a=e("../internals/is-object"),l=i.document,c=a(l)&&a(l.createElement);n.exports=function(o){return c?l.createElement(o):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(e,n,s){var i=e("../internals/engine-is-deno"),a=e("../internals/engine-is-node");n.exports=!i&&!a&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(e,n,s){n.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(e,n,s){var i=e("../internals/engine-user-agent");n.exports=/ipad|iphone|ipod/i.test(i)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(e,n,s){var i=e("../internals/engine-user-agent");n.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(i)},{"../internals/engine-user-agent":256}],254:[function(e,n,s){var i=e("../internals/global"),a=e("../internals/classof-raw");n.exports=a(i.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(e,n,s){var i=e("../internals/engine-user-agent");n.exports=/web0s(?!.*chrome)/i.test(i)},{"../internals/engine-user-agent":256}],256:[function(e,n,s){n.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(e,n,s){var i,a,l=e("../internals/global"),c=e("../internals/engine-user-agent"),o=l.process,u=l.Deno,p=o&&o.versions||u&&u.version,h=p&&p.v8;h&&(a=(i=h.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!a&&c&&(!(i=c.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=c.match(/Chrome\/(\d+)/))&&(a=+i[1]),n.exports=a},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(e,n,s){n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(e,n,s){var i=e("../internals/global"),a=e("../internals/object-get-own-property-descriptor").f,l=e("../internals/create-non-enumerable-property"),c=e("../internals/define-built-in"),o=e("../internals/define-global-property"),u=e("../internals/copy-constructor-properties"),p=e("../internals/is-forced");n.exports=function(h,d){var b,x,g,v,y,k=h.target,R=h.global,z=h.stat;if(b=R?i:z?i[k]||o(k,{}):(i[k]||{}).prototype)for(x in d){if(v=d[x],g=h.dontCallGetSet?(y=a(b,x))&&y.value:b[x],!p(R?x:k+(z?".":"#")+x,h.forced)&&g!==void 0){if(typeof v==typeof g)continue;u(v,g)}(h.sham||g&&g.sham)&&l(v,"sham",!0),c(b,x,v,h)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(e,n,s){n.exports=function(i){try{return!!i()}catch{return!0}}},{}],261:[function(e,n,s){var i=e("../internals/function-bind-native"),a=Function.prototype,l=a.apply,c=a.call;n.exports=typeof Reflect=="object"&&Reflect.apply||(i?c.bind(l):function(){return c.apply(l,arguments)})},{"../internals/function-bind-native":263}],262:[function(e,n,s){var i=e("../internals/function-uncurry-this-clause"),a=e("../internals/a-callable"),l=e("../internals/function-bind-native"),c=i(i.bind);n.exports=function(o,u){return a(o),u===void 0?o:l?c(o,u):function(){return o.apply(u,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(e,n,s){var i=e("../internals/fails");n.exports=!i((function(){var a=(function(){}).bind();return typeof a!="function"||a.hasOwnProperty("prototype")}))},{"../internals/fails":260}],264:[function(e,n,s){var i=e("../internals/function-bind-native"),a=Function.prototype.call;n.exports=i?a.bind(a):function(){return a.apply(a,arguments)}},{"../internals/function-bind-native":263}],265:[function(e,n,s){var i=e("../internals/descriptors"),a=e("../internals/has-own-property"),l=Function.prototype,c=i&&Object.getOwnPropertyDescriptor,o=a(l,"name"),u=o&&(function(){}).name==="something",p=o&&(!i||i&&c(l,"name").configurable);n.exports={EXISTS:o,PROPER:u,CONFIGURABLE:p}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(e,n,s){var i=e("../internals/function-uncurry-this"),a=e("../internals/a-callable");n.exports=function(l,c,o){try{return i(a(Object.getOwnPropertyDescriptor(l,c)[o]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(e,n,s){var i=e("../internals/classof-raw"),a=e("../internals/function-uncurry-this");n.exports=function(l){if(i(l)==="Function")return a(l)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(e,n,s){var i=e("../internals/function-bind-native"),a=Function.prototype,l=a.call,c=i&&a.bind.bind(l,l);n.exports=i?c:function(o){return function(){return l.apply(o,arguments)}}},{"../internals/function-bind-native":263}],269:[function(e,n,s){var i=e("../internals/global"),a=e("../internals/is-callable"),l=function(c){return a(c)?c:void 0};n.exports=function(c,o){return arguments.length<2?l(i[c]):i[c]&&i[c][o]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(e,n,s){var i=e("../internals/classof"),a=e("../internals/get-method"),l=e("../internals/is-null-or-undefined"),c=e("../internals/iterators"),o=e("../internals/well-known-symbol")("iterator");n.exports=function(u){if(!l(u))return a(u,o)||a(u,"@@iterator")||c[i(u)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(e,n,s){var i=e("../internals/function-call"),a=e("../internals/a-callable"),l=e("../internals/an-object"),c=e("../internals/try-to-string"),o=e("../internals/get-iterator-method"),u=TypeError;n.exports=function(p,h){var d=arguments.length<2?o(p):h;if(a(d))return l(i(d,p));throw new u(c(p)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(e,n,s){var i=e("../internals/function-uncurry-this"),a=e("../internals/is-array"),l=e("../internals/is-callable"),c=e("../internals/classof-raw"),o=e("../internals/to-string"),u=i([].push);n.exports=function(p){if(l(p))return p;if(a(p)){for(var h=p.length,d=[],b=0;b<h;b++){var x=p[b];typeof x=="string"?u(d,x):typeof x!="number"&&c(x)!=="Number"&&c(x)!=="String"||u(d,o(x))}var g=d.length,v=!0;return function(y,k){if(v)return v=!1,k;if(a(this))return k;for(var R=0;R<g;R++)if(d[R]===y)return k}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(e,n,s){var i=e("../internals/a-callable"),a=e("../internals/is-null-or-undefined");n.exports=function(l,c){var o=l[c];return a(o)?void 0:i(o)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(e,n,s){(function(i){(function(){var a=function(l){return l&&l.Math===Math&&l};n.exports=a(typeof globalThis=="object"&&globalThis)||a(typeof window=="object"&&window)||a(typeof self=="object"&&self)||a(typeof i=="object"&&i)||(function(){return this})()||this||Function("return this")()}).call(this)}).call(this,typeof pr<"u"?pr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(e,n,s){var i=e("../internals/function-uncurry-this"),a=e("../internals/to-object"),l=i({}.hasOwnProperty);n.exports=Object.hasOwn||function(c,o){return l(a(c),o)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(e,n,s){n.exports={}},{}],277:[function(e,n,s){n.exports=function(i,a){try{arguments.length===1?console.error(i):console.error(i,a)}catch{}}},{}],278:[function(e,n,s){var i=e("../internals/get-built-in");n.exports=i("document","documentElement")},{"../internals/get-built-in":269}],279:[function(e,n,s){var i=e("../internals/descriptors"),a=e("../internals/fails"),l=e("../internals/document-create-element");n.exports=!i&&!a((function(){return Object.defineProperty(l("div"),"a",{get:function(){return 7}}).a!==7}))},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(e,n,s){var i=e("../internals/function-uncurry-this"),a=e("../internals/fails"),l=e("../internals/classof-raw"),c=Object,o=i("".split);n.exports=a((function(){return!c("z").propertyIsEnumerable(0)}))?function(u){return l(u)==="String"?o(u,""):c(u)}:c},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(e,n,s){var i=e("../internals/function-uncurry-this"),a=e("../internals/is-callable"),l=e("../internals/shared-store"),c=i(Function.toString);a(l.inspectSource)||(l.inspectSource=function(o){return c(o)}),n.exports=l.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(e,n,s){var i,a,l,c=e("../internals/weak-map-basic-detection"),o=e("../internals/global"),u=e("../internals/is-object"),p=e("../internals/create-non-enumerable-property"),h=e("../internals/has-own-property"),d=e("../internals/shared-store"),b=e("../internals/shared-key"),x=e("../internals/hidden-keys"),g=o.TypeError,v=o.WeakMap;if(c||d.state){var y=d.state||(d.state=new v);y.get=y.get,y.has=y.has,y.set=y.set,i=function(R,z){if(y.has(R))throw new g("Object already initialized");return z.facade=R,y.set(R,z),z},a=function(R){return y.get(R)||{}},l=function(R){return y.has(R)}}else{var k=b("state");x[k]=!0,i=function(R,z){if(h(R,k))throw new g("Object already initialized");return z.facade=R,p(R,k,z),z},a=function(R){return h(R,k)?R[k]:{}},l=function(R){return h(R,k)}}n.exports={set:i,get:a,has:l,enforce:function(R){return l(R)?a(R):i(R,{})},getterFor:function(R){return function(z){var q;if(!u(z)||(q=a(z)).type!==R)throw new g("Incompatible receiver, "+R+" required");return q}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(e,n,s){var i=e("../internals/well-known-symbol"),a=e("../internals/iterators"),l=i("iterator"),c=Array.prototype;n.exports=function(o){return o!==void 0&&(a.Array===o||c[l]===o)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(e,n,s){var i=e("../internals/classof-raw");n.exports=Array.isArray||function(a){return i(a)==="Array"}},{"../internals/classof-raw":235}],285:[function(e,n,s){var i=e("../internals/document-all"),a=i.all;n.exports=i.IS_HTMLDDA?function(l){return typeof l=="function"||l===a}:function(l){return typeof l=="function"}},{"../internals/document-all":248}],286:[function(e,n,s){var i=e("../internals/function-uncurry-this"),a=e("../internals/fails"),l=e("../internals/is-callable"),c=e("../internals/classof"),o=e("../internals/get-built-in"),u=e("../internals/inspect-source"),p=function(){},h=[],d=o("Reflect","construct"),b=/^\s*(?:class|function)\b/,x=i(b.exec),g=!b.test(p),v=function(k){if(!l(k))return!1;try{return d(p,h,k),!0}catch{return!1}},y=function(k){if(!l(k))return!1;switch(c(k)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return g||!!x(b,u(k))}catch{return!0}};y.sham=!0,n.exports=!d||a((function(){var k;return v(v.call)||!v(Object)||!v((function(){k=!0}))||k}))?y:v},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(e,n,s){var i=e("../internals/fails"),a=e("../internals/is-callable"),l=/#|\.prototype\./,c=function(d,b){var x=u[o(d)];return x===h||x!==p&&(a(b)?i(b):!!b)},o=c.normalize=function(d){return String(d).replace(l,".").toLowerCase()},u=c.data={},p=c.NATIVE="N",h=c.POLYFILL="P";n.exports=c},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(e,n,s){n.exports=function(i){return i==null}},{}],289:[function(e,n,s){var i=e("../internals/is-callable"),a=e("../internals/document-all"),l=a.all;n.exports=a.IS_HTMLDDA?function(c){return typeof c=="object"?c!==null:i(c)||c===l}:function(c){return typeof c=="object"?c!==null:i(c)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(e,n,s){n.exports=!1},{}],291:[function(e,n,s){var i=e("../internals/is-object"),a=e("../internals/classof-raw"),l=e("../internals/well-known-symbol")("match");n.exports=function(c){var o;return i(c)&&((o=c[l])!==void 0?!!o:a(c)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(e,n,s){var i=e("../internals/get-built-in"),a=e("../internals/is-callable"),l=e("../internals/object-is-prototype-of"),c=e("../internals/use-symbol-as-uid"),o=Object;n.exports=c?function(u){return typeof u=="symbol"}:function(u){var p=i("Symbol");return a(p)&&l(p.prototype,o(u))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(e,n,s){var i=e("../internals/function-bind-context"),a=e("../internals/function-call"),l=e("../internals/an-object"),c=e("../internals/try-to-string"),o=e("../internals/is-array-iterator-method"),u=e("../internals/length-of-array-like"),p=e("../internals/object-is-prototype-of"),h=e("../internals/get-iterator"),d=e("../internals/get-iterator-method"),b=e("../internals/iterator-close"),x=TypeError,g=function(y,k){this.stopped=y,this.result=k},v=g.prototype;n.exports=function(y,k,R){var z,q,B,I,O,F,W,V=R&&R.that,N=!(!R||!R.AS_ENTRIES),P=!(!R||!R.IS_RECORD),C=!(!R||!R.IS_ITERATOR),S=!(!R||!R.INTERRUPTED),E=i(k,V),A=function(j){return z&&b(z,"normal",j),new g(!0,j)},T=function(j){return N?(l(j),S?E(j[0],j[1],A):E(j[0],j[1])):S?E(j,A):E(j)};if(P)z=y.iterator;else if(C)z=y;else{if(!(q=d(y)))throw new x(c(y)+" is not iterable");if(o(q)){for(B=0,I=u(y);I>B;B++)if((O=T(y[B]))&&p(v,O))return O;return new g(!1)}z=h(y,q)}for(F=P?y.next:z.next;!(W=a(F,z)).done;){try{O=T(W.value)}catch(j){b(z,"throw",j)}if(typeof O=="object"&&O&&p(v,O))return O}return new g(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(e,n,s){var i=e("../internals/function-call"),a=e("../internals/an-object"),l=e("../internals/get-method");n.exports=function(c,o,u){var p,h;a(c);try{if(!(p=l(c,"return"))){if(o==="throw")throw u;return u}p=i(p,c)}catch(d){h=!0,p=d}if(o==="throw")throw u;if(h)throw p;return a(p),u}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(e,n,s){var i=e("../internals/iterators-core").IteratorPrototype,a=e("../internals/object-create"),l=e("../internals/create-property-descriptor"),c=e("../internals/set-to-string-tag"),o=e("../internals/iterators"),u=function(){return this};n.exports=function(p,h,d,b){var x=h+" Iterator";return p.prototype=a(i,{next:l(+!b,d)}),c(p,x,!1,!0),o[x]=u,p}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/function-call"),l=e("../internals/is-pure"),c=e("../internals/function-name"),o=e("../internals/is-callable"),u=e("../internals/iterator-create-constructor"),p=e("../internals/object-get-prototype-of"),h=e("../internals/object-set-prototype-of"),d=e("../internals/set-to-string-tag"),b=e("../internals/create-non-enumerable-property"),x=e("../internals/define-built-in"),g=e("../internals/well-known-symbol"),v=e("../internals/iterators"),y=e("../internals/iterators-core"),k=c.PROPER,R=c.CONFIGURABLE,z=y.IteratorPrototype,q=y.BUGGY_SAFARI_ITERATORS,B=g("iterator"),I=function(){return this};n.exports=function(O,F,W,V,N,P,C){u(W,F,V);var S,E,A,T=function(G){if(G===N&&K)return K;if(!q&&G&&G in D)return D[G];switch(G){case"keys":case"values":case"entries":return function(){return new W(this,G)}}return function(){return new W(this)}},j=F+" Iterator",L=!1,D=O.prototype,Z=D[B]||D["@@iterator"]||N&&D[N],K=!q&&Z||T(N),ee=F==="Array"&&D.entries||Z;if(ee&&(S=p(ee.call(new O)))!==Object.prototype&&S.next&&(l||p(S)===z||(h?h(S,z):o(S[B])||x(S,B,I)),d(S,j,!0,!0),l&&(v[j]=I)),k&&N==="values"&&Z&&Z.name!=="values"&&(!l&&R?b(D,"name","values"):(L=!0,K=function(){return a(Z,this)})),N)if(E={values:T("values"),keys:P?K:T("keys"),entries:T("entries")},C)for(A in E)(q||L||!(A in D))&&x(D,A,E[A]);else i({target:F,proto:!0,forced:q||L},E);return l&&!C||D[B]===K||x(D,B,K,{name:N}),v[F]=K,E}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(e,n,s){var i,a,l,c=e("../internals/fails"),o=e("../internals/is-callable"),u=e("../internals/is-object"),p=e("../internals/object-create"),h=e("../internals/object-get-prototype-of"),d=e("../internals/define-built-in"),b=e("../internals/well-known-symbol"),x=e("../internals/is-pure"),g=b("iterator"),v=!1;[].keys&&("next"in(l=[].keys())?(a=h(h(l)))!==Object.prototype&&(i=a):v=!0),!u(i)||c((function(){var y={};return i[g].call(y)!==y}))?i={}:x&&(i=p(i)),o(i[g])||d(i,g,(function(){return this})),n.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:v}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(e,n,s){arguments[4][276][0].apply(s,arguments)},{dup:276}],299:[function(e,n,s){var i=e("../internals/to-length");n.exports=function(a){return i(a.length)}},{"../internals/to-length":343}],300:[function(e,n,s){var i=e("../internals/function-uncurry-this"),a=e("../internals/fails"),l=e("../internals/is-callable"),c=e("../internals/has-own-property"),o=e("../internals/descriptors"),u=e("../internals/function-name").CONFIGURABLE,p=e("../internals/inspect-source"),h=e("../internals/internal-state"),d=h.enforce,b=h.get,x=String,g=Object.defineProperty,v=i("".slice),y=i("".replace),k=i([].join),R=o&&!a((function(){return g((function(){}),"length",{value:8}).length!==8})),z=String(String).split("String"),q=n.exports=function(B,I,O){v(x(I),0,7)==="Symbol("&&(I="["+y(x(I),/^Symbol\(([^)]*)\)/,"$1")+"]"),O&&O.getter&&(I="get "+I),O&&O.setter&&(I="set "+I),(!c(B,"name")||u&&B.name!==I)&&(o?g(B,"name",{value:I,configurable:!0}):B.name=I),R&&O&&c(O,"arity")&&B.length!==O.arity&&g(B,"length",{value:O.arity});try{O&&c(O,"constructor")&&O.constructor?o&&g(B,"prototype",{writable:!1}):B.prototype&&(B.prototype=void 0)}catch{}var F=d(B);return c(F,"source")||(F.source=k(z,typeof I=="string"?I:"")),B};Function.prototype.toString=q((function(){return l(this)&&b(this).source||p(this)}),"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(e,n,s){var i=Math.ceil,a=Math.floor;n.exports=Math.trunc||function(l){var c=+l;return(c>0?a:i)(c)}},{}],302:[function(e,n,s){var i,a,l,c,o,u=e("../internals/global"),p=e("../internals/function-bind-context"),h=e("../internals/object-get-own-property-descriptor").f,d=e("../internals/task").set,b=e("../internals/queue"),x=e("../internals/engine-is-ios"),g=e("../internals/engine-is-ios-pebble"),v=e("../internals/engine-is-webos-webkit"),y=e("../internals/engine-is-node"),k=u.MutationObserver||u.WebKitMutationObserver,R=u.document,z=u.process,q=u.Promise,B=h(u,"queueMicrotask"),I=B&&B.value;if(!I){var O=new b,F=function(){var W,V;for(y&&(W=z.domain)&&W.exit();V=O.get();)try{V()}catch(N){throw O.head&&i(),N}W&&W.enter()};x||y||v||!k||!R?!g&&q&&q.resolve?((c=q.resolve(void 0)).constructor=q,o=p(c.then,c),i=function(){o(F)}):y?i=function(){z.nextTick(F)}:(d=p(d,u),i=function(){d(F)}):(a=!0,l=R.createTextNode(""),new k(F).observe(l,{characterData:!0}),i=function(){l.data=a=!a}),I=function(W){O.head||i(),O.add(W)}}n.exports=I},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(e,n,s){var i=e("../internals/a-callable"),a=TypeError,l=function(c){var o,u;this.promise=new c((function(p,h){if(o!==void 0||u!==void 0)throw new a("Bad Promise constructor");o=p,u=h})),this.resolve=i(o),this.reject=i(u)};n.exports.f=function(c){return new l(c)}},{"../internals/a-callable":222}],304:[function(e,n,s){var i=e("../internals/is-regexp"),a=TypeError;n.exports=function(l){if(i(l))throw new a("The method doesn't accept regular expressions");return l}},{"../internals/is-regexp":291}],305:[function(e,n,s){var i=e("../internals/descriptors"),a=e("../internals/function-uncurry-this"),l=e("../internals/function-call"),c=e("../internals/fails"),o=e("../internals/object-keys"),u=e("../internals/object-get-own-property-symbols"),p=e("../internals/object-property-is-enumerable"),h=e("../internals/to-object"),d=e("../internals/indexed-object"),b=Object.assign,x=Object.defineProperty,g=a([].concat);n.exports=!b||c((function(){if(i&&b({b:1},b(x({},"a",{enumerable:!0,get:function(){x(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var v={},y={},k=Symbol("assign detection");return v[k]=7,"abcdefghijklmnopqrst".split("").forEach((function(R){y[R]=R})),b({},v)[k]!==7||o(b({},y)).join("")!=="abcdefghijklmnopqrst"}))?function(v,y){for(var k=h(v),R=arguments.length,z=1,q=u.f,B=p.f;R>z;)for(var I,O=d(arguments[z++]),F=q?g(o(O),q(O)):o(O),W=F.length,V=0;W>V;)I=F[V++],i&&!l(B,O,I)||(k[I]=O[I]);return k}:b},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(e,n,s){var i,a=e("../internals/an-object"),l=e("../internals/object-define-properties"),c=e("../internals/enum-bug-keys"),o=e("../internals/hidden-keys"),u=e("../internals/html"),p=e("../internals/document-create-element"),h=e("../internals/shared-key"),d=h("IE_PROTO"),b=function(){},x=function(y){return"<script>"+y+"<\/script>"},g=function(y){y.write(x("")),y.close();var k=y.parentWindow.Object;return y=null,k},v=function(){try{i=new ActiveXObject("htmlfile")}catch{}var y,k;v=typeof document<"u"?document.domain&&i?g(i):((k=p("iframe")).style.display="none",u.appendChild(k),k.src="javascript:",(y=k.contentWindow.document).open(),y.write(x("document.F=Object")),y.close(),y.F):g(i);for(var R=c.length;R--;)delete v.prototype[c[R]];return v()};o[d]=!0,n.exports=Object.create||function(y,k){var R;return y!==null?(b.prototype=a(y),R=new b,b.prototype=null,R[d]=y):R=v(),k===void 0?R:l.f(R,k)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(e,n,s){var i=e("../internals/descriptors"),a=e("../internals/v8-prototype-define-bug"),l=e("../internals/object-define-property"),c=e("../internals/an-object"),o=e("../internals/to-indexed-object"),u=e("../internals/object-keys");s.f=i&&!a?Object.defineProperties:function(p,h){c(p);for(var d,b=o(h),x=u(h),g=x.length,v=0;g>v;)l.f(p,d=x[v++],b[d]);return p}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(e,n,s){var i=e("../internals/descriptors"),a=e("../internals/ie8-dom-define"),l=e("../internals/v8-prototype-define-bug"),c=e("../internals/an-object"),o=e("../internals/to-property-key"),u=TypeError,p=Object.defineProperty,h=Object.getOwnPropertyDescriptor;s.f=i?l?function(d,b,x){if(c(d),b=o(b),c(x),typeof d=="function"&&b==="prototype"&&"value"in x&&"writable"in x&&!x.writable){var g=h(d,b);g&&g.writable&&(d[b]=x.value,x={configurable:"configurable"in x?x.configurable:g.configurable,enumerable:"enumerable"in x?x.enumerable:g.enumerable,writable:!1})}return p(d,b,x)}:p:function(d,b,x){if(c(d),b=o(b),c(x),a)try{return p(d,b,x)}catch{}if("get"in x||"set"in x)throw new u("Accessors not supported");return"value"in x&&(d[b]=x.value),d}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(e,n,s){var i=e("../internals/descriptors"),a=e("../internals/function-call"),l=e("../internals/object-property-is-enumerable"),c=e("../internals/create-property-descriptor"),o=e("../internals/to-indexed-object"),u=e("../internals/to-property-key"),p=e("../internals/has-own-property"),h=e("../internals/ie8-dom-define"),d=Object.getOwnPropertyDescriptor;s.f=i?d:function(b,x){if(b=o(b),x=u(x),h)try{return d(b,x)}catch{}if(p(b,x))return c(!a(l.f,b,x),b[x])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(e,n,s){var i=e("../internals/classof-raw"),a=e("../internals/to-indexed-object"),l=e("../internals/object-get-own-property-names").f,c=e("../internals/array-slice-simple"),o=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];n.exports.f=function(u){return o&&i(u)==="Window"?(function(p){try{return l(p)}catch{return c(o)}})(u):l(a(u))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(e,n,s){var i=e("../internals/object-keys-internal"),a=e("../internals/enum-bug-keys").concat("length","prototype");s.f=Object.getOwnPropertyNames||function(l){return i(l,a)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(e,n,s){s.f=Object.getOwnPropertySymbols},{}],313:[function(e,n,s){var i=e("../internals/has-own-property"),a=e("../internals/is-callable"),l=e("../internals/to-object"),c=e("../internals/shared-key"),o=e("../internals/correct-prototype-getter"),u=c("IE_PROTO"),p=Object,h=p.prototype;n.exports=o?p.getPrototypeOf:function(d){var b=l(d);if(i(b,u))return b[u];var x=b.constructor;return a(x)&&b instanceof x?x.prototype:b instanceof p?h:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(e,n,s){var i=e("../internals/function-uncurry-this");n.exports=i({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(e,n,s){var i=e("../internals/function-uncurry-this"),a=e("../internals/has-own-property"),l=e("../internals/to-indexed-object"),c=e("../internals/array-includes").indexOf,o=e("../internals/hidden-keys"),u=i([].push);n.exports=function(p,h){var d,b=l(p),x=0,g=[];for(d in b)!a(o,d)&&a(b,d)&&u(g,d);for(;h.length>x;)a(b,d=h[x++])&&(~c(g,d)||u(g,d));return g}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(e,n,s){var i=e("../internals/object-keys-internal"),a=e("../internals/enum-bug-keys");n.exports=Object.keys||function(l){return i(l,a)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(e,n,s){var i={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,l=a&&!i.call({1:2},1);s.f=l?function(c){var o=a(this,c);return!!o&&o.enumerable}:i},{}],318:[function(e,n,s){var i=e("../internals/function-uncurry-this-accessor"),a=e("../internals/an-object"),l=e("../internals/a-possible-prototype");n.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var c,o=!1,u={};try{(c=i(Object.prototype,"__proto__","set"))(u,[]),o=u instanceof Array}catch{}return function(p,h){return a(p),l(h),o?c(p,h):p.__proto__=h,p}})():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(e,n,s){var i=e("../internals/descriptors"),a=e("../internals/fails"),l=e("../internals/function-uncurry-this"),c=e("../internals/object-get-prototype-of"),o=e("../internals/object-keys"),u=e("../internals/to-indexed-object"),p=l(e("../internals/object-property-is-enumerable").f),h=l([].push),d=i&&a((function(){var x=Object.create(null);return x[2]=2,!p(x,2)})),b=function(x){return function(g){for(var v,y=u(g),k=o(y),R=d&&c(y)===null,z=k.length,q=0,B=[];z>q;)v=k[q++],i&&!(R?v in y:p(y,v))||h(B,x?[v,y[v]]:y[v]);return B}};n.exports={entries:b(!0),values:b(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(e,n,s){var i=e("../internals/function-call"),a=e("../internals/is-callable"),l=e("../internals/is-object"),c=TypeError;n.exports=function(o,u){var p,h;if(u==="string"&&a(p=o.toString)&&!l(h=i(p,o))||a(p=o.valueOf)&&!l(h=i(p,o))||u!=="string"&&a(p=o.toString)&&!l(h=i(p,o)))return h;throw new c("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(e,n,s){var i=e("../internals/get-built-in"),a=e("../internals/function-uncurry-this"),l=e("../internals/object-get-own-property-names"),c=e("../internals/object-get-own-property-symbols"),o=e("../internals/an-object"),u=a([].concat);n.exports=i("Reflect","ownKeys")||function(p){var h=l.f(o(p)),d=c.f;return d?u(h,d(p)):h}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(e,n,s){var i=e("../internals/global");n.exports=i},{"../internals/global":274}],323:[function(e,n,s){n.exports=function(i){try{return{error:!1,value:i()}}catch(a){return{error:!0,value:a}}}},{}],324:[function(e,n,s){var i=e("../internals/global"),a=e("../internals/promise-native-constructor"),l=e("../internals/is-callable"),c=e("../internals/is-forced"),o=e("../internals/inspect-source"),u=e("../internals/well-known-symbol"),p=e("../internals/engine-is-browser"),h=e("../internals/engine-is-deno"),d=e("../internals/is-pure"),b=e("../internals/engine-v8-version"),x=a&&a.prototype,g=u("species"),v=!1,y=l(i.PromiseRejectionEvent),k=c("Promise",(function(){var R=o(a),z=R!==String(a);if(!z&&b===66||d&&(!x.catch||!x.finally))return!0;if(!b||b<51||!/native code/.test(R)){var q=new a((function(I){I(1)})),B=function(I){I((function(){}),(function(){}))};if((q.constructor={})[g]=B,!(v=q.then((function(){}))instanceof B))return!0}return!z&&(p||h)&&!y}));n.exports={CONSTRUCTOR:k,REJECTION_EVENT:y,SUBCLASSING:v}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(e,n,s){var i=e("../internals/global");n.exports=i.Promise},{"../internals/global":274}],326:[function(e,n,s){var i=e("../internals/an-object"),a=e("../internals/is-object"),l=e("../internals/new-promise-capability");n.exports=function(c,o){if(i(c),a(o)&&o.constructor===c)return o;var u=l.f(c);return(0,u.resolve)(o),u.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(e,n,s){var i=e("../internals/promise-native-constructor"),a=e("../internals/check-correctness-of-iteration"),l=e("../internals/promise-constructor-detection").CONSTRUCTOR;n.exports=l||!a((function(c){i.all(c).then(void 0,(function(){}))}))},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(e,n,s){var i=function(){this.head=null,this.tail=null};i.prototype={add:function(a){var l={item:a,next:null},c=this.tail;c?c.next=l:this.head=l,this.tail=l},get:function(){var a=this.head;if(a)return(this.head=a.next)===null&&(this.tail=null),a.item}},n.exports=i},{}],329:[function(e,n,s){var i=e("../internals/is-null-or-undefined"),a=TypeError;n.exports=function(l){if(i(l))throw new a("Can't call method on "+l);return l}},{"../internals/is-null-or-undefined":288}],330:[function(e,n,s){var i=e("../internals/get-built-in"),a=e("../internals/define-built-in-accessor"),l=e("../internals/well-known-symbol"),c=e("../internals/descriptors"),o=l("species");n.exports=function(u){var p=i(u);c&&p&&!p[o]&&a(p,o,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(e,n,s){var i=e("../internals/object-define-property").f,a=e("../internals/has-own-property"),l=e("../internals/well-known-symbol")("toStringTag");n.exports=function(c,o,u){c&&!u&&(c=c.prototype),c&&!a(c,l)&&i(c,l,{configurable:!0,value:o})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(e,n,s){var i=e("../internals/shared"),a=e("../internals/uid"),l=i("keys");n.exports=function(c){return l[c]||(l[c]=a(c))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(e,n,s){var i=e("../internals/global"),a=e("../internals/define-global-property"),l=i["__core-js_shared__"]||a("__core-js_shared__",{});n.exports=l},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(e,n,s){var i=e("../internals/is-pure"),a=e("../internals/shared-store");(n.exports=function(l,c){return a[l]||(a[l]=c!==void 0?c:{})})("versions",[]).push({version:"3.33.0",mode:i?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(e,n,s){var i=e("../internals/an-object"),a=e("../internals/a-constructor"),l=e("../internals/is-null-or-undefined"),c=e("../internals/well-known-symbol")("species");n.exports=function(o,u){var p,h=i(o).constructor;return h===void 0||l(p=i(h)[c])?u:a(p)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(e,n,s){var i=e("../internals/engine-v8-version"),a=e("../internals/fails"),l=e("../internals/global").String;n.exports=!!Object.getOwnPropertySymbols&&!a((function(){var c=Symbol("symbol detection");return!l(c)||!(Object(c)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(e,n,s){var i=e("../internals/function-call"),a=e("../internals/get-built-in"),l=e("../internals/well-known-symbol"),c=e("../internals/define-built-in");n.exports=function(){var o=a("Symbol"),u=o&&o.prototype,p=u&&u.valueOf,h=l("toPrimitive");u&&!u[h]&&c(u,h,(function(d){return i(p,this)}),{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(e,n,s){var i=e("../internals/symbol-constructor-detection");n.exports=i&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(e,n,s){var i,a,l,c,o=e("../internals/global"),u=e("../internals/function-apply"),p=e("../internals/function-bind-context"),h=e("../internals/is-callable"),d=e("../internals/has-own-property"),b=e("../internals/fails"),x=e("../internals/html"),g=e("../internals/array-slice"),v=e("../internals/document-create-element"),y=e("../internals/validate-arguments-length"),k=e("../internals/engine-is-ios"),R=e("../internals/engine-is-node"),z=o.setImmediate,q=o.clearImmediate,B=o.process,I=o.Dispatch,O=o.Function,F=o.MessageChannel,W=o.String,V=0,N={};b((function(){i=o.location}));var P=function(A){if(d(N,A)){var T=N[A];delete N[A],T()}},C=function(A){return function(){P(A)}},S=function(A){P(A.data)},E=function(A){o.postMessage(W(A),i.protocol+"//"+i.host)};z&&q||(z=function(A){y(arguments.length,1);var T=h(A)?A:O(A),j=g(arguments,1);return N[++V]=function(){u(T,void 0,j)},a(V),V},q=function(A){delete N[A]},R?a=function(A){B.nextTick(C(A))}:I&&I.now?a=function(A){I.now(C(A))}:F&&!k?(c=(l=new F).port2,l.port1.onmessage=S,a=p(c.postMessage,c)):o.addEventListener&&h(o.postMessage)&&!o.importScripts&&i&&i.protocol!=="file:"&&!b(E)?(a=E,o.addEventListener("message",S,!1)):a="onreadystatechange"in v("script")?function(A){x.appendChild(v("script")).onreadystatechange=function(){x.removeChild(this),P(A)}}:function(A){setTimeout(C(A),0)}),n.exports={set:z,clear:q}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(e,n,s){var i=e("../internals/to-integer-or-infinity"),a=Math.max,l=Math.min;n.exports=function(c,o){var u=i(c);return u<0?a(u+o,0):l(u,o)}},{"../internals/to-integer-or-infinity":342}],341:[function(e,n,s){var i=e("../internals/indexed-object"),a=e("../internals/require-object-coercible");n.exports=function(l){return i(a(l))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(e,n,s){var i=e("../internals/math-trunc");n.exports=function(a){var l=+a;return l!=l||l===0?0:i(l)}},{"../internals/math-trunc":301}],343:[function(e,n,s){var i=e("../internals/to-integer-or-infinity"),a=Math.min;n.exports=function(l){return l>0?a(i(l),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(e,n,s){var i=e("../internals/require-object-coercible"),a=Object;n.exports=function(l){return a(i(l))}},{"../internals/require-object-coercible":329}],345:[function(e,n,s){var i=e("../internals/function-call"),a=e("../internals/is-object"),l=e("../internals/is-symbol"),c=e("../internals/get-method"),o=e("../internals/ordinary-to-primitive"),u=e("../internals/well-known-symbol"),p=TypeError,h=u("toPrimitive");n.exports=function(d,b){if(!a(d)||l(d))return d;var x,g=c(d,h);if(g){if(b===void 0&&(b="default"),x=i(g,d,b),!a(x)||l(x))return x;throw new p("Can't convert object to primitive value")}return b===void 0&&(b="number"),o(d,b)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(e,n,s){var i=e("../internals/to-primitive"),a=e("../internals/is-symbol");n.exports=function(l){var c=i(l,"string");return a(c)?c:c+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(e,n,s){var i={};i[e("../internals/well-known-symbol")("toStringTag")]="z",n.exports=String(i)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(e,n,s){var i=e("../internals/classof"),a=String;n.exports=function(l){if(i(l)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return a(l)}},{"../internals/classof":236}],349:[function(e,n,s){var i=String;n.exports=function(a){try{return i(a)}catch{return"Object"}}},{}],350:[function(e,n,s){var i=e("../internals/function-uncurry-this"),a=0,l=Math.random(),c=i(1 .toString);n.exports=function(o){return"Symbol("+(o===void 0?"":o)+")_"+c(++a+l,36)}},{"../internals/function-uncurry-this":268}],351:[function(e,n,s){var i=e("../internals/symbol-constructor-detection");n.exports=i&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(e,n,s){var i=e("../internals/descriptors"),a=e("../internals/fails");n.exports=i&&a((function(){return Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype!==42}))},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(e,n,s){var i=TypeError;n.exports=function(a,l){if(a<l)throw new i("Not enough arguments");return a}},{}],354:[function(e,n,s){var i=e("../internals/global"),a=e("../internals/is-callable"),l=i.WeakMap;n.exports=a(l)&&/native code/.test(String(l))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(e,n,s){var i=e("../internals/path"),a=e("../internals/has-own-property"),l=e("../internals/well-known-symbol-wrapped"),c=e("../internals/object-define-property").f;n.exports=function(o){var u=i.Symbol||(i.Symbol={});a(u,o)||c(u,o,{value:l.f(o)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(e,n,s){var i=e("../internals/well-known-symbol");s.f=i},{"../internals/well-known-symbol":357}],357:[function(e,n,s){var i=e("../internals/global"),a=e("../internals/shared"),l=e("../internals/has-own-property"),c=e("../internals/uid"),o=e("../internals/symbol-constructor-detection"),u=e("../internals/use-symbol-as-uid"),p=i.Symbol,h=a("wks"),d=u?p.for||p:p&&p.withoutSetter||c;n.exports=function(b){return l(h,b)||(h[b]=o&&l(p,b)?p[b]:d("Symbol."+b)),h[b]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/array-iteration").findIndex,l=e("../internals/add-to-unscopables"),c=!0;"findIndex"in[]&&Array(1).findIndex((function(){c=!1})),i({target:"Array",proto:!0,forced:c},{findIndex:function(o){return a(this,o,arguments.length>1?arguments[1]:void 0)}}),l("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/array-iteration").find,l=e("../internals/add-to-unscopables"),c=!0;"find"in[]&&Array(1).find((function(){c=!1})),i({target:"Array",proto:!0,forced:c},{find:function(o){return a(this,o,arguments.length>1?arguments[1]:void 0)}}),l("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/array-includes").includes,l=e("../internals/fails"),c=e("../internals/add-to-unscopables");i({target:"Array",proto:!0,forced:l((function(){return!Array(1).includes()}))},{includes:function(o){return a(this,o,arguments.length>1?arguments[1]:void 0)}}),c("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(e,n,s){var i=e("../internals/to-indexed-object"),a=e("../internals/add-to-unscopables"),l=e("../internals/iterators"),c=e("../internals/internal-state"),o=e("../internals/object-define-property").f,u=e("../internals/iterator-define"),p=e("../internals/create-iter-result-object"),h=e("../internals/is-pure"),d=e("../internals/descriptors"),b=c.set,x=c.getterFor("Array Iterator");n.exports=u(Array,"Array",(function(v,y){b(this,{type:"Array Iterator",target:i(v),index:0,kind:y})}),(function(){var v=x(this),y=v.target,k=v.kind,R=v.index++;if(!y||R>=y.length)return v.target=void 0,p(void 0,!0);switch(k){case"keys":return p(R,!1);case"values":return p(y[R],!1)}return p([R,y[R]],!1)}),"values");var g=l.Arguments=l.Array;if(a("keys"),a("values"),a("entries"),!h&&d&&g.name!=="values")try{o(g,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/get-built-in"),l=e("../internals/function-apply"),c=e("../internals/function-call"),o=e("../internals/function-uncurry-this"),u=e("../internals/fails"),p=e("../internals/is-callable"),h=e("../internals/is-symbol"),d=e("../internals/array-slice"),b=e("../internals/get-json-replacer-function"),x=e("../internals/symbol-constructor-detection"),g=String,v=a("JSON","stringify"),y=o(/./.exec),k=o("".charAt),R=o("".charCodeAt),z=o("".replace),q=o(1 .toString),B=/[\uD800-\uDFFF]/g,I=/^[\uD800-\uDBFF]$/,O=/^[\uDC00-\uDFFF]$/,F=!x||u((function(){var P=a("Symbol")("stringify detection");return v([P])!=="[null]"||v({a:P})!=="{}"||v(Object(P))!=="{}"})),W=u((function(){return v("\uDF06\uD834")!=='"\\udf06\\ud834"'||v("\uDEAD")!=='"\\udead"'})),V=function(P,C){var S=d(arguments),E=b(C);if(p(E)||P!==void 0&&!h(P))return S[1]=function(A,T){if(p(E)&&(T=c(E,this,g(A),T)),!h(T))return T},l(v,null,S)},N=function(P,C,S){var E=k(S,C-1),A=k(S,C+1);return y(I,P)&&!y(O,A)||y(O,P)&&!y(I,E)?"\\u"+q(R(P,0),16):P};v&&i({target:"JSON",stat:!0,arity:3,forced:F||W},{stringify:function(P,C,S){var E=d(arguments),A=l(F?V:v,null,E);return W&&typeof A=="string"?z(A,B,N):A}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(e,n,s){e("../internals/export")({target:"Number",stat:!0},{isNaN:function(i){return i!=i}})},{"../internals/export":259}],364:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/object-assign");i({target:"Object",stat:!0,arity:2,forced:Object.assign!==a},{assign:a})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/symbol-constructor-detection"),l=e("../internals/fails"),c=e("../internals/object-get-own-property-symbols"),o=e("../internals/to-object");i({target:"Object",stat:!0,forced:!a||l((function(){c.f(1)}))},{getOwnPropertySymbols:function(u){var p=c.f;return p?p(o(u)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/to-object"),l=e("../internals/object-keys");i({target:"Object",stat:!0,forced:e("../internals/fails")((function(){l(1)}))},{keys:function(c){return l(a(c))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/object-to-array").values;i({target:"Object",stat:!0},{values:function(l){return a(l)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/function-call"),l=e("../internals/a-callable"),c=e("../internals/new-promise-capability"),o=e("../internals/perform"),u=e("../internals/iterate");i({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{all:function(p){var h=this,d=c.f(h),b=d.resolve,x=d.reject,g=o((function(){var v=l(h.resolve),y=[],k=0,R=1;u(p,(function(z){var q=k++,B=!1;R++,a(v,h,z).then((function(I){B||(B=!0,y[q]=I,--R||b(y))}),x)})),--R||b(y)}));return g.error&&x(g.value),d.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/is-pure"),l=e("../internals/promise-constructor-detection").CONSTRUCTOR,c=e("../internals/promise-native-constructor"),o=e("../internals/get-built-in"),u=e("../internals/is-callable"),p=e("../internals/define-built-in"),h=c&&c.prototype;if(i({target:"Promise",proto:!0,forced:l,real:!0},{catch:function(b){return this.then(void 0,b)}}),!a&&u(c)){var d=o("Promise").prototype.catch;h.catch!==d&&p(h,"catch",d,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(e,n,s){var i,a,l,c=e("../internals/export"),o=e("../internals/is-pure"),u=e("../internals/engine-is-node"),p=e("../internals/global"),h=e("../internals/function-call"),d=e("../internals/define-built-in"),b=e("../internals/object-set-prototype-of"),x=e("../internals/set-to-string-tag"),g=e("../internals/set-species"),v=e("../internals/a-callable"),y=e("../internals/is-callable"),k=e("../internals/is-object"),R=e("../internals/an-instance"),z=e("../internals/species-constructor"),q=e("../internals/task").set,B=e("../internals/microtask"),I=e("../internals/host-report-errors"),O=e("../internals/perform"),F=e("../internals/queue"),W=e("../internals/internal-state"),V=e("../internals/promise-native-constructor"),N=e("../internals/promise-constructor-detection"),P=e("../internals/new-promise-capability"),C=N.CONSTRUCTOR,S=N.REJECTION_EVENT,E=N.SUBCLASSING,A=W.getterFor("Promise"),T=W.set,j=V&&V.prototype,L=V,D=j,Z=p.TypeError,K=p.document,ee=p.process,G=P.f,te=G,H=!!(K&&K.createEvent&&p.dispatchEvent),U=function(xe){var Te;return!(!k(xe)||!y(Te=xe.then))&&Te},Q=function(xe,Te){var Re,Pe,Xe,Ue=Te.value,tt=Te.state===1,at=tt?xe.ok:xe.fail,Je=xe.resolve,Ze=xe.reject,vt=xe.domain;try{at?(tt||(Te.rejection===2&&ve(Te),Te.rejection=1),at===!0?Re=Ue:(vt&&vt.enter(),Re=at(Ue),vt&&(vt.exit(),Xe=!0)),Re===xe.promise?Ze(new Z("Promise-chain cycle")):(Pe=U(Re))?h(Pe,Re,Je,Ze):Je(Re)):Ze(Ue)}catch(pt){vt&&!Xe&&vt.exit(),Ze(pt)}},ie=function(xe,Te){xe.notified||(xe.notified=!0,B((function(){for(var Re,Pe=xe.reactions;Re=Pe.get();)Q(Re,xe);xe.notified=!1,Te&&!xe.rejection&&oe(xe)})))},re=function(xe,Te,Re){var Pe,Xe;H?((Pe=K.createEvent("Event")).promise=Te,Pe.reason=Re,Pe.initEvent(xe,!1,!0),p.dispatchEvent(Pe)):Pe={promise:Te,reason:Re},!S&&(Xe=p["on"+xe])?Xe(Pe):xe==="unhandledrejection"&&I("Unhandled promise rejection",Re)},oe=function(xe){h(q,p,(function(){var Te,Re=xe.facade,Pe=xe.value;if(he(xe)&&(Te=O((function(){u?ee.emit("unhandledRejection",Pe,Re):re("unhandledrejection",Re,Pe)})),xe.rejection=u||he(xe)?2:1,Te.error))throw Te.value}))},he=function(xe){return xe.rejection!==1&&!xe.parent},ve=function(xe){h(q,p,(function(){var Te=xe.facade;u?ee.emit("rejectionHandled",Te):re("rejectionhandled",Te,xe.value)}))},me=function(xe,Te,Re){return function(Pe){xe(Te,Pe,Re)}},ne=function(xe,Te,Re){xe.done||(xe.done=!0,Re&&(xe=Re),xe.value=Te,xe.state=2,ie(xe,!0))},de=function(xe,Te,Re){if(!xe.done){xe.done=!0,Re&&(xe=Re);try{if(xe.facade===Te)throw new Z("Promise can't be resolved itself");var Pe=U(Te);Pe?B((function(){var Xe={done:!1};try{h(Pe,Te,me(de,Xe,xe),me(ne,Xe,xe))}catch(Ue){ne(Xe,Ue,xe)}})):(xe.value=Te,xe.state=1,ie(xe,!1))}catch(Xe){ne({done:!1},Xe,xe)}}};if(C&&(D=(L=function(xe){R(this,D),v(xe),h(i,this);var Te=A(this);try{xe(me(de,Te),me(ne,Te))}catch(Re){ne(Te,Re)}}).prototype,(i=function(xe){T(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new F,rejection:!1,state:0,value:void 0})}).prototype=d(D,"then",(function(xe,Te){var Re=A(this),Pe=G(z(this,L));return Re.parent=!0,Pe.ok=!y(xe)||xe,Pe.fail=y(Te)&&Te,Pe.domain=u?ee.domain:void 0,Re.state===0?Re.reactions.add(Pe):B((function(){Q(Pe,Re)})),Pe.promise})),a=function(){var xe=new i,Te=A(xe);this.promise=xe,this.resolve=me(de,Te),this.reject=me(ne,Te)},P.f=G=function(xe){return xe===L||xe===void 0?new a(xe):te(xe)},!o&&y(V)&&j!==Object.prototype)){l=j.then,E||d(j,"then",(function(xe,Te){var Re=this;return new L((function(Pe,Xe){h(l,Re,Pe,Xe)})).then(xe,Te)}),{unsafe:!0});try{delete j.constructor}catch{}b&&b(j,D)}c({global:!0,constructor:!0,wrap:!0,forced:C},{Promise:L}),x(L,"Promise",!1,!0),g("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/is-pure"),l=e("../internals/promise-native-constructor"),c=e("../internals/fails"),o=e("../internals/get-built-in"),u=e("../internals/is-callable"),p=e("../internals/species-constructor"),h=e("../internals/promise-resolve"),d=e("../internals/define-built-in"),b=l&&l.prototype;if(i({target:"Promise",proto:!0,real:!0,forced:!!l&&c((function(){b.finally.call({then:function(){}},(function(){}))}))},{finally:function(g){var v=p(this,o("Promise")),y=u(g);return this.then(y?function(k){return h(v,g()).then((function(){return k}))}:g,y?function(k){return h(v,g()).then((function(){throw k}))}:g)}}),!a&&u(l)){var x=o("Promise").prototype.finally;b.finally!==x&&d(b,"finally",x,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(e,n,s){e("../modules/es.promise.constructor"),e("../modules/es.promise.all"),e("../modules/es.promise.catch"),e("../modules/es.promise.race"),e("../modules/es.promise.reject"),e("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/function-call"),l=e("../internals/a-callable"),c=e("../internals/new-promise-capability"),o=e("../internals/perform"),u=e("../internals/iterate");i({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{race:function(p){var h=this,d=c.f(h),b=d.reject,x=o((function(){var g=l(h.resolve);u(p,(function(v){a(g,h,v).then(d.resolve,b)}))}));return x.error&&b(x.value),d.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/function-call"),l=e("../internals/new-promise-capability");i({target:"Promise",stat:!0,forced:e("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(c){var o=l.f(this);return a(o.reject,void 0,c),o.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/get-built-in"),l=e("../internals/is-pure"),c=e("../internals/promise-native-constructor"),o=e("../internals/promise-constructor-detection").CONSTRUCTOR,u=e("../internals/promise-resolve"),p=a("Promise"),h=l&&!o;i({target:"Promise",stat:!0,forced:l||o},{resolve:function(d){return u(h&&this===p?c:this,d)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/function-uncurry-this"),l=e("../internals/to-absolute-index"),c=RangeError,o=String.fromCharCode,u=String.fromCodePoint,p=a([].join);i({target:"String",stat:!0,arity:1,forced:!!u&&u.length!==1},{fromCodePoint:function(h){for(var d,b=[],x=arguments.length,g=0;x>g;){if(d=+arguments[g++],l(d,1114111)!==d)throw new c(d+" is not a valid code point");b[g]=d<65536?o(d):o(55296+((d-=65536)>>10),d%1024+56320)}return p(b,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/function-uncurry-this"),l=e("../internals/not-a-regexp"),c=e("../internals/require-object-coercible"),o=e("../internals/to-string"),u=e("../internals/correct-is-regexp-logic"),p=a("".indexOf);i({target:"String",proto:!0,forced:!u("includes")},{includes:function(h){return!!~p(o(c(this)),o(l(h)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(e,n,s){e("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/global"),l=e("../internals/function-call"),c=e("../internals/function-uncurry-this"),o=e("../internals/is-pure"),u=e("../internals/descriptors"),p=e("../internals/symbol-constructor-detection"),h=e("../internals/fails"),d=e("../internals/has-own-property"),b=e("../internals/object-is-prototype-of"),x=e("../internals/an-object"),g=e("../internals/to-indexed-object"),v=e("../internals/to-property-key"),y=e("../internals/to-string"),k=e("../internals/create-property-descriptor"),R=e("../internals/object-create"),z=e("../internals/object-keys"),q=e("../internals/object-get-own-property-names"),B=e("../internals/object-get-own-property-names-external"),I=e("../internals/object-get-own-property-symbols"),O=e("../internals/object-get-own-property-descriptor"),F=e("../internals/object-define-property"),W=e("../internals/object-define-properties"),V=e("../internals/object-property-is-enumerable"),N=e("../internals/define-built-in"),P=e("../internals/define-built-in-accessor"),C=e("../internals/shared"),S=e("../internals/shared-key"),E=e("../internals/hidden-keys"),A=e("../internals/uid"),T=e("../internals/well-known-symbol"),j=e("../internals/well-known-symbol-wrapped"),L=e("../internals/well-known-symbol-define"),D=e("../internals/symbol-define-to-primitive"),Z=e("../internals/set-to-string-tag"),K=e("../internals/internal-state"),ee=e("../internals/array-iteration").forEach,G=S("hidden"),te=K.set,H=K.getterFor("Symbol"),U=Object.prototype,Q=a.Symbol,ie=Q&&Q.prototype,re=a.RangeError,oe=a.TypeError,he=a.QObject,ve=O.f,me=F.f,ne=B.f,de=V.f,xe=c([].push),Te=C("symbols"),Re=C("op-symbols"),Pe=C("wks"),Xe=!he||!he.prototype||!he.prototype.findChild,Ue=function(Ce,De,it){var Be=ve(U,De);Be&&delete U[De],me(Ce,De,it),Be&&Ce!==U&&me(U,De,Be)},tt=u&&h((function(){return R(me({},"a",{get:function(){return me(this,"a",{value:7}).a}})).a!==7}))?Ue:me,at=function(Ce,De){var it=Te[Ce]=R(ie);return te(it,{type:"Symbol",tag:Ce,description:De}),u||(it.description=De),it},Je=function(Ce,De,it){Ce===U&&Je(Re,De,it),x(Ce);var Be=v(De);return x(it),d(Te,Be)?(it.enumerable?(d(Ce,G)&&Ce[G][Be]&&(Ce[G][Be]=!1),it=R(it,{enumerable:k(0,!1)})):(d(Ce,G)||me(Ce,G,k(1,{})),Ce[G][Be]=!0),tt(Ce,Be,it)):me(Ce,Be,it)},Ze=function(Ce,De){x(Ce);var it=g(De),Be=z(it).concat($e(it));return ee(Be,(function(Ge){u&&!l(vt,it,Ge)||Je(Ce,Ge,it[Ge])})),Ce},vt=function(Ce){var De=v(Ce),it=l(de,this,De);return!(this===U&&d(Te,De)&&!d(Re,De))&&(!(it||!d(this,De)||!d(Te,De)||d(this,G)&&this[G][De])||it)},pt=function(Ce,De){var it=g(Ce),Be=v(De);if(it!==U||!d(Te,Be)||d(Re,Be)){var Ge=ve(it,Be);return!Ge||!d(Te,Be)||d(it,G)&&it[G][Be]||(Ge.enumerable=!0),Ge}},Ie=function(Ce){var De=ne(g(Ce)),it=[];return ee(De,(function(Be){d(Te,Be)||d(E,Be)||xe(it,Be)})),it},$e=function(Ce){var De=Ce===U,it=ne(De?Re:g(Ce)),Be=[];return ee(it,(function(Ge){!d(Te,Ge)||De&&!d(U,Ge)||xe(Be,Te[Ge])})),Be};p||(N(ie=(Q=function(){if(b(ie,this))throw new oe("Symbol is not a constructor");var Ce=arguments.length&&arguments[0]!==void 0?y(arguments[0]):void 0,De=A(Ce),it=function(Be){this===U&&l(it,Re,Be),d(this,G)&&d(this[G],De)&&(this[G][De]=!1);var Ge=k(1,Be);try{tt(this,De,Ge)}catch(mt){if(!(mt instanceof re))throw mt;Ue(this,De,Ge)}};return u&&Xe&&tt(U,De,{configurable:!0,set:it}),at(De,Ce)}).prototype,"toString",(function(){return H(this).tag})),N(Q,"withoutSetter",(function(Ce){return at(A(Ce),Ce)})),V.f=vt,F.f=Je,W.f=Ze,O.f=pt,q.f=B.f=Ie,I.f=$e,j.f=function(Ce){return at(T(Ce),Ce)},u&&(P(ie,"description",{configurable:!0,get:function(){return H(this).description}}),o||N(U,"propertyIsEnumerable",vt,{unsafe:!0}))),i({global:!0,constructor:!0,wrap:!0,forced:!p,sham:!p},{Symbol:Q}),ee(z(Pe),(function(Ce){L(Ce)})),i({target:"Symbol",stat:!0,forced:!p},{useSetter:function(){Xe=!0},useSimple:function(){Xe=!1}}),i({target:"Object",stat:!0,forced:!p,sham:!u},{create:function(Ce,De){return De===void 0?R(Ce):Ze(R(Ce),De)},defineProperty:Je,defineProperties:Ze,getOwnPropertyDescriptor:pt}),i({target:"Object",stat:!0,forced:!p},{getOwnPropertyNames:Ie}),D(),Z(Q,"Symbol"),E[G]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/get-built-in"),l=e("../internals/has-own-property"),c=e("../internals/to-string"),o=e("../internals/shared"),u=e("../internals/symbol-registry-detection"),p=o("string-to-symbol-registry"),h=o("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!u},{for:function(d){var b=c(d);if(l(p,b))return p[b];var x=a("Symbol")(b);return p[b]=x,h[x]=b,x}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(e,n,s){e("../modules/es.symbol.constructor"),e("../modules/es.symbol.for"),e("../modules/es.symbol.key-for"),e("../modules/es.json.stringify"),e("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(e,n,s){var i=e("../internals/export"),a=e("../internals/has-own-property"),l=e("../internals/is-symbol"),c=e("../internals/try-to-string"),o=e("../internals/shared"),u=e("../internals/symbol-registry-detection"),p=o("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!u},{keyFor:function(h){if(!l(h))throw new TypeError(c(h)+" is not a symbol");if(a(p,h))return p[h]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(e,n,s){function i(a){return Object.prototype.toString.call(a)}s.isArray=function(a){return Array.isArray?Array.isArray(a):i(a)==="[object Array]"},s.isBoolean=function(a){return typeof a=="boolean"},s.isNull=function(a){return a===null},s.isNullOrUndefined=function(a){return a==null},s.isNumber=function(a){return typeof a=="number"},s.isString=function(a){return typeof a=="string"},s.isSymbol=function(a){return typeof a=="symbol"},s.isUndefined=function(a){return a===void 0},s.isRegExp=function(a){return i(a)==="[object RegExp]"},s.isObject=function(a){return typeof a=="object"&&a!==null},s.isDate=function(a){return i(a)==="[object Date]"},s.isError=function(a){return i(a)==="[object Error]"||a instanceof Error},s.isFunction=function(a){return typeof a=="function"},s.isPrimitive=function(a){return a===null||typeof a=="boolean"||typeof a=="number"||typeof a=="string"||typeof a=="symbol"||a===void 0},s.isBuffer=e("buffer").Buffer.isBuffer},{buffer:220}],384:[function(e,n,s){(function(i){(function(){var a=e("elliptic"),l=e("bn.js");n.exports=function(p){return new o(p)};var c={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function o(p){this.curveType=c[p],this.curveType||(this.curveType={name:p}),this.curve=new a.ec(this.curveType.name),this.keys=void 0}function u(p,h,d){Array.isArray(p)||(p=p.toArray());var b=new i(p);if(d&&b.length<d){var x=new i(d-b.length);x.fill(0),b=i.concat([x,b])}return h?b.toString(h):b}c.p224=c.secp224r1,c.p256=c.secp256r1=c.prime256v1,c.p192=c.secp192r1=c.prime192v1,c.p384=c.secp384r1,c.p521=c.secp521r1,o.prototype.generateKeys=function(p,h){return this.keys=this.curve.genKeyPair(),this.getPublicKey(p,h)},o.prototype.computeSecret=function(p,h,d){return h=h||"utf8",i.isBuffer(p)||(p=new i(p,h)),u(this.curve.keyFromPublic(p).getPublic().mul(this.keys.getPrivate()).getX(),d,this.curveType.byteLength)},o.prototype.getPublicKey=function(p,h){var d=this.keys.getPublic(h==="compressed",!0);return h==="hybrid"&&(d[d.length-1]%2?d[0]=7:d[0]=6),u(d,p)},o.prototype.getPrivateKey=function(p){return u(this.keys.getPrivate(),p)},o.prototype.setPublicKey=function(p,h){return h=h||"utf8",i.isBuffer(p)||(p=new i(p,h)),this.keys._importPublic(p),this},o.prototype.setPrivateKey=function(p,h){h=h||"utf8",i.isBuffer(p)||(p=new i(p,h));var d=new l(p);return d=d.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(d),this}}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(e,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],386:[function(e,n,s){var i=e("inherits"),a=e("md5.js"),l=e("ripemd160"),c=e("sha.js"),o=e("cipher-base");function u(p){o.call(this,"digest"),this._hash=p}i(u,o),u.prototype._update=function(p){this._hash.update(p)},u.prototype._final=function(){return this._hash.digest()},n.exports=function(p){return(p=p.toLowerCase())==="md5"?new a:p==="rmd160"||p==="ripemd160"?new l:new u(c(p))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(e,n,s){var i=e("md5.js");n.exports=function(a){return new i().update(a).digest()}},{"md5.js":450}],388:[function(e,n,s){var i=e("inherits"),a=e("./legacy"),l=e("cipher-base"),c=e("safe-buffer").Buffer,o=e("create-hash/md5"),u=e("ripemd160"),p=e("sha.js"),h=c.alloc(128);function d(b,x){l.call(this,"digest"),typeof x=="string"&&(x=c.from(x));var g=b==="sha512"||b==="sha384"?128:64;this._alg=b,this._key=x,x.length>g?x=(b==="rmd160"?new u:p(b)).update(x).digest():x.length<g&&(x=c.concat([x,h],g));for(var v=this._ipad=c.allocUnsafe(g),y=this._opad=c.allocUnsafe(g),k=0;k<g;k++)v[k]=54^x[k],y[k]=92^x[k];this._hash=b==="rmd160"?new u:p(b),this._hash.update(v)}i(d,l),d.prototype._update=function(b){this._hash.update(b)},d.prototype._final=function(){var b=this._hash.digest();return(this._alg==="rmd160"?new u:p(this._alg)).update(this._opad).update(b).digest()},n.exports=function(b,x){return(b=b.toLowerCase())==="rmd160"||b==="ripemd160"?new d("rmd160",x):b==="md5"?new a(o,x):new d(b,x)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(e,n,s){var i=e("inherits"),a=e("safe-buffer").Buffer,l=e("cipher-base"),c=a.alloc(128);function o(u,p){l.call(this,"digest"),typeof p=="string"&&(p=a.from(p)),this._alg=u,this._key=p,p.length>64?p=u(p):p.length<64&&(p=a.concat([p,c],64));for(var h=this._ipad=a.allocUnsafe(64),d=this._opad=a.allocUnsafe(64),b=0;b<64;b++)h[b]=54^p[b],d[b]=92^p[b];this._hash=[h]}i(o,l),o.prototype._update=function(u){this._hash.push(u)},o.prototype._final=function(){var u=this._alg(a.concat(this._hash));return this._alg(a.concat([this._opad,u]))},n.exports=o},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(e,n,s){s.randomBytes=s.rng=s.pseudoRandomBytes=s.prng=e("randombytes"),s.createHash=s.Hash=e("create-hash"),s.createHmac=s.Hmac=e("create-hmac");var i=e("browserify-sign/algos"),a=Object.keys(i),l=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(a);s.getHashes=function(){return l};var c=e("pbkdf2");s.pbkdf2=c.pbkdf2,s.pbkdf2Sync=c.pbkdf2Sync;var o=e("browserify-cipher");s.Cipher=o.Cipher,s.createCipher=o.createCipher,s.Cipheriv=o.Cipheriv,s.createCipheriv=o.createCipheriv,s.Decipher=o.Decipher,s.createDecipher=o.createDecipher,s.Decipheriv=o.Decipheriv,s.createDecipheriv=o.createDecipheriv,s.getCiphers=o.getCiphers,s.listCiphers=o.listCiphers;var u=e("diffie-hellman");s.DiffieHellmanGroup=u.DiffieHellmanGroup,s.createDiffieHellmanGroup=u.createDiffieHellmanGroup,s.getDiffieHellman=u.getDiffieHellman,s.createDiffieHellman=u.createDiffieHellman,s.DiffieHellman=u.DiffieHellman;var p=e("browserify-sign");s.createSign=p.createSign,s.Sign=p.Sign,s.createVerify=p.createVerify,s.Verify=p.Verify,s.createECDH=e("create-ecdh");var h=e("public-encrypt");s.publicEncrypt=h.publicEncrypt,s.privateEncrypt=h.privateEncrypt,s.publicDecrypt=h.publicDecrypt,s.privateDecrypt=h.privateDecrypt;var d=e("randomfill");s.randomFill=d.randomFill,s.randomFillSync=d.randomFillSync,s.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},s.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(e,n,s){(function(i,a){typeof s=="object"&&n!==void 0?n.exports=a():(i=typeof globalThis<"u"?globalThis:i||self).dayjs=a()})(void 0,(function(){var i=6e4,a=36e5,l="millisecond",c="second",o="minute",u="hour",p="day",h="week",d="month",b="quarter",x="year",g="date",v="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,k=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,R={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(S){var E=["th","st","nd","rd"],A=S%100;return"["+S+(E[(A-20)%10]||E[A]||E[0])+"]"}},z=function(S,E,A){var T=String(S);return!T||T.length>=E?S:""+Array(E+1-T.length).join(A)+S},q={s:z,z:function(S){var E=-S.utcOffset(),A=Math.abs(E),T=Math.floor(A/60),j=A%60;return(E<=0?"+":"-")+z(T,2,"0")+":"+z(j,2,"0")},m:function S(E,A){if(E.date()<A.date())return-S(A,E);var T=12*(A.year()-E.year())+(A.month()-E.month()),j=E.clone().add(T,d),L=A-j<0,D=E.clone().add(T+(L?-1:1),d);return+(-(T+(A-j)/(L?j-D:D-j))||0)},a:function(S){return S<0?Math.ceil(S)||0:Math.floor(S)},p:function(S){return{M:d,y:x,w:h,d:p,D:g,h:u,m:o,s:c,ms:l,Q:b}[S]||String(S||"").toLowerCase().replace(/s$/,"")},u:function(S){return S===void 0}},B="en",I={};I[B]=R;var O="$isDayjsObject",F=function(S){return S instanceof P||!(!S||!S[O])},W=function S(E,A,T){var j;if(!E)return B;if(typeof E=="string"){var L=E.toLowerCase();I[L]&&(j=L),A&&(I[L]=A,j=L);var D=E.split("-");if(!j&&D.length>1)return S(D[0])}else{var Z=E.name;I[Z]=E,j=Z}return!T&&j&&(B=j),j||!T&&B},V=function(S,E){if(F(S))return S.clone();var A=typeof E=="object"?E:{};return A.date=S,A.args=arguments,new P(A)},N=q;N.l=W,N.i=F,N.w=function(S,E){return V(S,{locale:E.$L,utc:E.$u,x:E.$x,$offset:E.$offset})};var P=(function(){function S(A){this.$L=W(A.locale,null,!0),this.parse(A),this.$x=this.$x||A.x||{},this[O]=!0}var E=S.prototype;return E.parse=function(A){this.$d=(function(T){var j=T.date,L=T.utc;if(j===null)return new Date(NaN);if(N.u(j))return new Date;if(j instanceof Date)return new Date(j);if(typeof j=="string"&&!/Z$/i.test(j)){var D=j.match(y);if(D){var Z=D[2]-1||0,K=(D[7]||"0").substring(0,3);return L?new Date(Date.UTC(D[1],Z,D[3]||1,D[4]||0,D[5]||0,D[6]||0,K)):new Date(D[1],Z,D[3]||1,D[4]||0,D[5]||0,D[6]||0,K)}}return new Date(j)})(A),this.init()},E.init=function(){var A=this.$d;this.$y=A.getFullYear(),this.$M=A.getMonth(),this.$D=A.getDate(),this.$W=A.getDay(),this.$H=A.getHours(),this.$m=A.getMinutes(),this.$s=A.getSeconds(),this.$ms=A.getMilliseconds()},E.$utils=function(){return N},E.isValid=function(){return this.$d.toString()!==v},E.isSame=function(A,T){var j=V(A);return this.startOf(T)<=j&&j<=this.endOf(T)},E.isAfter=function(A,T){return V(A)<this.startOf(T)},E.isBefore=function(A,T){return this.endOf(T)<V(A)},E.$g=function(A,T,j){return N.u(A)?this[T]:this.set(j,A)},E.unix=function(){return Math.floor(this.valueOf()/1e3)},E.valueOf=function(){return this.$d.getTime()},E.startOf=function(A,T){var j=this,L=!!N.u(T)||T,D=N.p(A),Z=function(ie,re){var oe=N.w(j.$u?Date.UTC(j.$y,re,ie):new Date(j.$y,re,ie),j);return L?oe:oe.endOf(p)},K=function(ie,re){return N.w(j.toDate()[ie].apply(j.toDate("s"),(L?[0,0,0,0]:[23,59,59,999]).slice(re)),j)},ee=this.$W,G=this.$M,te=this.$D,H="set"+(this.$u?"UTC":"");switch(D){case x:return L?Z(1,0):Z(31,11);case d:return L?Z(1,G):Z(0,G+1);case h:var U=this.$locale().weekStart||0,Q=(ee<U?ee+7:ee)-U;return Z(L?te-Q:te+(6-Q),G);case p:case g:return K(H+"Hours",0);case u:return K(H+"Minutes",1);case o:return K(H+"Seconds",2);case c:return K(H+"Milliseconds",3);default:return this.clone()}},E.endOf=function(A){return this.startOf(A,!1)},E.$set=function(A,T){var j,L=N.p(A),D="set"+(this.$u?"UTC":""),Z=(j={},j[p]=D+"Date",j[g]=D+"Date",j[d]=D+"Month",j[x]=D+"FullYear",j[u]=D+"Hours",j[o]=D+"Minutes",j[c]=D+"Seconds",j[l]=D+"Milliseconds",j)[L],K=L===p?this.$D+(T-this.$W):T;if(L===d||L===x){var ee=this.clone().set(g,1);ee.$d[Z](K),ee.init(),this.$d=ee.set(g,Math.min(this.$D,ee.daysInMonth())).$d}else Z&&this.$d[Z](K);return this.init(),this},E.set=function(A,T){return this.clone().$set(A,T)},E.get=function(A){return this[N.p(A)]()},E.add=function(A,T){var j,L=this;A=Number(A);var D=N.p(T),Z=function(G){var te=V(L);return N.w(te.date(te.date()+Math.round(G*A)),L)};if(D===d)return this.set(d,this.$M+A);if(D===x)return this.set(x,this.$y+A);if(D===p)return Z(1);if(D===h)return Z(7);var K=(j={},j[o]=i,j[u]=a,j[c]=1e3,j)[D]||1,ee=this.$d.getTime()+A*K;return N.w(ee,this)},E.subtract=function(A,T){return this.add(-1*A,T)},E.format=function(A){var T=this,j=this.$locale();if(!this.isValid())return j.invalidDate||v;var L=A||"YYYY-MM-DDTHH:mm:ssZ",D=N.z(this),Z=this.$H,K=this.$m,ee=this.$M,G=j.weekdays,te=j.months,H=j.meridiem,U=function(re,oe,he,ve){return re&&(re[oe]||re(T,L))||he[oe].slice(0,ve)},Q=function(re){return N.s(Z%12||12,re,"0")},ie=H||function(re,oe,he){var ve=re<12?"AM":"PM";return he?ve.toLowerCase():ve};return L.replace(k,(function(re,oe){return oe||(function(he){switch(he){case"YY":return String(T.$y).slice(-2);case"YYYY":return N.s(T.$y,4,"0");case"M":return ee+1;case"MM":return N.s(ee+1,2,"0");case"MMM":return U(j.monthsShort,ee,te,3);case"MMMM":return U(te,ee);case"D":return T.$D;case"DD":return N.s(T.$D,2,"0");case"d":return String(T.$W);case"dd":return U(j.weekdaysMin,T.$W,G,2);case"ddd":return U(j.weekdaysShort,T.$W,G,3);case"dddd":return G[T.$W];case"H":return String(Z);case"HH":return N.s(Z,2,"0");case"h":return Q(1);case"hh":return Q(2);case"a":return ie(Z,K,!0);case"A":return ie(Z,K,!1);case"m":return String(K);case"mm":return N.s(K,2,"0");case"s":return String(T.$s);case"ss":return N.s(T.$s,2,"0");case"SSS":return N.s(T.$ms,3,"0");case"Z":return D}return null})(re)||D.replace(":","")}))},E.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},E.diff=function(A,T,j){var L,D=this,Z=N.p(T),K=V(A),ee=(K.utcOffset()-this.utcOffset())*i,G=this-K,te=function(){return N.m(D,K)};switch(Z){case x:L=te()/12;break;case d:L=te();break;case b:L=te()/3;break;case h:L=(G-ee)/6048e5;break;case p:L=(G-ee)/864e5;break;case u:L=G/a;break;case o:L=G/i;break;case c:L=G/1e3;break;default:L=G}return j?L:N.a(L)},E.daysInMonth=function(){return this.endOf(d).$D},E.$locale=function(){return I[this.$L]},E.locale=function(A,T){if(!A)return this.$L;var j=this.clone(),L=W(A,T,!0);return L&&(j.$L=L),j},E.clone=function(){return N.w(this.$d,this)},E.toDate=function(){return new Date(this.valueOf())},E.toJSON=function(){return this.isValid()?this.toISOString():null},E.toISOString=function(){return this.$d.toISOString()},E.toString=function(){return this.$d.toUTCString()},S})(),C=P.prototype;return V.prototype=C,[["$ms",l],["$s",c],["$m",o],["$H",u],["$W",p],["$M",d],["$y",x],["$D",g]].forEach((function(S){C[S[1]]=function(E){return this.$g(E,S[0],S[1])}})),V.extend=function(S,E){return S.$i||(S(E,P,V),S.$i=!0),V},V.locale=W,V.isDayjs=F,V.unix=function(S){return V(1e3*S)},V.en=I[B],V.Ls=I,V.p={},V}))},{}],392:[function(e,n,s){(function(i,a){typeof s=="object"&&n!==void 0?n.exports=a():(i=typeof globalThis<"u"?globalThis:i||self).dayjs_plugin_customParseFormat=a()})(void 0,(function(){var i={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},a=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,l=/\d\d/,c=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,u={},p=function(y){return(y=+y)+(y>68?1900:2e3)},h=function(y){return function(k){this[y]=+k}},d=[/[+-]\d\d:?(\d\d)?|Z/,function(y){(this.zone||(this.zone={})).offset=(function(k){if(!k||k==="Z")return 0;var R=k.match(/([+-]|\d\d)/g),z=60*R[1]+(+R[2]||0);return z===0?0:R[0]==="+"?-z:z})(y)}],b=function(y){var k=u[y];return k&&(k.indexOf?k:k.s.concat(k.f))},x=function(y,k){var R,z=u.meridiem;if(z){for(var q=1;q<=24;q+=1)if(y.indexOf(z(q,0,k))>-1){R=q>12;break}}else R=y===(k?"pm":"PM");return R},g={A:[o,function(y){this.afternoon=x(y,!1)}],a:[o,function(y){this.afternoon=x(y,!0)}],S:[/\d/,function(y){this.milliseconds=100*+y}],SS:[l,function(y){this.milliseconds=10*+y}],SSS:[/\d{3}/,function(y){this.milliseconds=+y}],s:[c,h("seconds")],ss:[c,h("seconds")],m:[c,h("minutes")],mm:[c,h("minutes")],H:[c,h("hours")],h:[c,h("hours")],HH:[c,h("hours")],hh:[c,h("hours")],D:[c,h("day")],DD:[l,h("day")],Do:[o,function(y){var k=u.ordinal,R=y.match(/\d+/);if(this.day=R[0],k)for(var z=1;z<=31;z+=1)k(z).replace(/\[|\]/g,"")===y&&(this.day=z)}],M:[c,h("month")],MM:[l,h("month")],MMM:[o,function(y){var k=b("months"),R=(b("monthsShort")||k.map((function(z){return z.slice(0,3)}))).indexOf(y)+1;if(R<1)throw new Error;this.month=R%12||R}],MMMM:[o,function(y){var k=b("months").indexOf(y)+1;if(k<1)throw new Error;this.month=k%12||k}],Y:[/[+-]?\d+/,h("year")],YY:[l,function(y){this.year=p(y)}],YYYY:[/\d{4}/,h("year")],Z:d,ZZ:d};function v(y){var k,R;k=y,R=u&&u.formats;for(var z=(y=k.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(V,N,P){var C=P&&P.toUpperCase();return N||R[P]||i[P]||R[C].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(S,E,A){return E||A.slice(1)}))}))).match(a),q=z.length,B=0;B<q;B+=1){var I=z[B],O=g[I],F=O&&O[0],W=O&&O[1];z[B]=W?{regex:F,parser:W}:I.replace(/^\[|\]$/g,"")}return function(V){for(var N={},P=0,C=0;P<q;P+=1){var S=z[P];if(typeof S=="string")C+=S.length;else{var E=S.regex,A=S.parser,T=V.slice(C),j=E.exec(T)[0];A.call(N,j),V=V.replace(j,"")}}return(function(L){var D=L.afternoon;if(D!==void 0){var Z=L.hours;D?Z<12&&(L.hours+=12):Z===12&&(L.hours=0),delete L.afternoon}})(N),N}}return function(y,k,R){R.p.customParseFormat=!0,y&&y.parseTwoDigitYear&&(p=y.parseTwoDigitYear);var z=k.prototype,q=z.parse;z.parse=function(B){var I=B.date,O=B.utc,F=B.args;this.$u=O;var W=F[1];if(typeof W=="string"){var V=F[2]===!0,N=F[3]===!0,P=V||N,C=F[2];N&&(C=F[2]),u=this.$locale(),!V&&C&&(u=R.Ls[C]),this.$d=(function(T,j,L){try{if(["x","X"].indexOf(j)>-1)return new Date((j==="X"?1e3:1)*T);var D=v(j)(T),Z=D.year,K=D.month,ee=D.day,G=D.hours,te=D.minutes,H=D.seconds,U=D.milliseconds,Q=D.zone,ie=new Date,re=ee||(Z||K?1:ie.getDate()),oe=Z||ie.getFullYear(),he=0;Z&&!K||(he=K>0?K-1:ie.getMonth());var ve=G||0,me=te||0,ne=H||0,de=U||0;return Q?new Date(Date.UTC(oe,he,re,ve,me,ne,de+60*Q.offset*1e3)):L?new Date(Date.UTC(oe,he,re,ve,me,ne,de)):new Date(oe,he,re,ve,me,ne,de)}catch{return new Date("")}})(I,W,O),this.init(),C&&C!==!0&&(this.$L=this.locale(C).$L),P&&I!=this.format(W)&&(this.$d=new Date("")),u={}}else if(W instanceof Array)for(var S=W.length,E=1;E<=S;E+=1){F[1]=W[E-1];var A=R.apply(this,F);if(A.isValid()){this.$d=A.$d,this.$L=A.$L,this.init();break}E===S&&(this.$d=new Date(""))}else q.call(this,B)}}}))},{}],393:[function(e,n,s){(function(i,a){typeof s=="object"&&n!==void 0?n.exports=a():(i=typeof globalThis<"u"?globalThis:i||self).dayjs_plugin_utc=a()})(void 0,(function(){var i="minute",a=/[+-]\d\d(?::?\d\d)?/g,l=/([+-]|\d\d)/g;return function(c,o,u){var p=o.prototype;u.utc=function(y){var k={date:y,utc:!0,args:arguments};return new o(k)},p.utc=function(y){var k=u(this.toDate(),{locale:this.$L,utc:!0});return y?k.add(this.utcOffset(),i):k},p.local=function(){return u(this.toDate(),{locale:this.$L,utc:!1})};var h=p.parse;p.parse=function(y){y.utc&&(this.$u=!0),this.$utils().u(y.$offset)||(this.$offset=y.$offset),h.call(this,y)};var d=p.init;p.init=function(){if(this.$u){var y=this.$d;this.$y=y.getUTCFullYear(),this.$M=y.getUTCMonth(),this.$D=y.getUTCDate(),this.$W=y.getUTCDay(),this.$H=y.getUTCHours(),this.$m=y.getUTCMinutes(),this.$s=y.getUTCSeconds(),this.$ms=y.getUTCMilliseconds()}else d.call(this)};var b=p.utcOffset;p.utcOffset=function(y,k){var R=this.$utils().u;if(R(y))return this.$u?0:R(this.$offset)?b.call(this):this.$offset;if(typeof y=="string"&&(y=(function(I){I===void 0&&(I="");var O=I.match(a);if(!O)return null;var F=(""+O[0]).match(l)||["-",0,0],W=F[0],V=60*+F[1]+ +F[2];return V===0?0:W==="+"?V:-V})(y))===null)return this;var z=Math.abs(y)<=16?60*y:y,q=this;if(k)return q.$offset=z,q.$u=y===0,q;if(y!==0){var B=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(q=this.local().add(z+B,i)).$offset=z,q.$x.$localOffset=B}else q=this.utc();return q};var x=p.format;p.format=function(y){var k=y||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return x.call(this,k)},p.valueOf=function(){var y=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*y},p.isUTC=function(){return!!this.$u},p.toISOString=function(){return this.toDate().toISOString()},p.toString=function(){return this.toDate().toUTCString()};var g=p.toDate;p.toDate=function(y){return y==="s"&&this.$offset?u(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():g.call(this)};var v=p.diff;p.diff=function(y,k,R){if(y&&this.$u===y.$u)return v.call(this,y,k,R);var z=this.local(),q=u(y).local();return v.call(z,q,k,R)}}}))},{}],394:[function(e,n,s){s.utils=e("./des/utils"),s.Cipher=e("./des/cipher"),s.DES=e("./des/des"),s.CBC=e("./des/cbc"),s.EDE=e("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(e,n,s){var i=e("minimalistic-assert"),a=e("inherits"),l={};function c(o){i.equal(o.length,8,"Invalid IV length"),this.iv=new Array(8);for(var u=0;u<this.iv.length;u++)this.iv[u]=o[u]}s.instantiate=function(o){function u(b){o.call(this,b),this._cbcInit()}a(u,o);for(var p=Object.keys(l),h=0;h<p.length;h++){var d=p[h];u.prototype[d]=l[d]}return u.create=function(b){return new u(b)},u},l._cbcInit=function(){var o=new c(this.options.iv);this._cbcState=o},l._update=function(o,u,p,h){var d=this._cbcState,b=this.constructor.super_.prototype,x=d.iv;if(this.type==="encrypt"){for(var g=0;g<this.blockSize;g++)x[g]^=o[u+g];for(b._update.call(this,x,0,p,h),g=0;g<this.blockSize;g++)x[g]=p[h+g]}else{for(b._update.call(this,o,u,p,h),g=0;g<this.blockSize;g++)p[h+g]^=x[g];for(g=0;g<this.blockSize;g++)x[g]=o[u+g]}}},{inherits:440,"minimalistic-assert":453}],396:[function(e,n,s){var i=e("minimalistic-assert");function a(l){this.options=l,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=l.padding!==!1}n.exports=a,a.prototype._init=function(){},a.prototype.update=function(l){return l.length===0?[]:this.type==="decrypt"?this._updateDecrypt(l):this._updateEncrypt(l)},a.prototype._buffer=function(l,c){for(var o=Math.min(this.buffer.length-this.bufferOff,l.length-c),u=0;u<o;u++)this.buffer[this.bufferOff+u]=l[c+u];return this.bufferOff+=o,o},a.prototype._flushBuffer=function(l,c){return this._update(this.buffer,0,l,c),this.bufferOff=0,this.blockSize},a.prototype._updateEncrypt=function(l){var c=0,o=0,u=(this.bufferOff+l.length)/this.blockSize|0,p=new Array(u*this.blockSize);this.bufferOff!==0&&(c+=this._buffer(l,c),this.bufferOff===this.buffer.length&&(o+=this._flushBuffer(p,o)));for(var h=l.length-(l.length-c)%this.blockSize;c<h;c+=this.blockSize)this._update(l,c,p,o),o+=this.blockSize;for(;c<l.length;c++,this.bufferOff++)this.buffer[this.bufferOff]=l[c];return p},a.prototype._updateDecrypt=function(l){for(var c=0,o=0,u=Math.ceil((this.bufferOff+l.length)/this.blockSize)-1,p=new Array(u*this.blockSize);u>0;u--)c+=this._buffer(l,c),o+=this._flushBuffer(p,o);return c+=this._buffer(l,c),p},a.prototype.final=function(l){var c,o;return l&&(c=this.update(l)),o=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),c?c.concat(o):o},a.prototype._pad=function(l,c){if(c===0)return!1;for(;c<l.length;)l[c++]=0;return!0},a.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var l=new Array(this.blockSize);return this._update(this.buffer,0,l,0),l},a.prototype._unpad=function(l){return l},a.prototype._finalDecrypt=function(){i.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var l=new Array(this.blockSize);return this._flushBuffer(l,0),this._unpad(l)}},{"minimalistic-assert":453}],397:[function(e,n,s){var i=e("minimalistic-assert"),a=e("inherits"),l=e("./utils"),c=e("./cipher");function o(){this.tmp=new Array(2),this.keys=null}function u(h){c.call(this,h);var d=new o;this._desState=d,this.deriveKeys(d,h.key)}a(u,c),n.exports=u,u.create=function(h){return new u(h)};var p=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];u.prototype.deriveKeys=function(h,d){h.keys=new Array(32),i.equal(d.length,this.blockSize,"Invalid key length");var b=l.readUInt32BE(d,0),x=l.readUInt32BE(d,4);l.pc1(b,x,h.tmp,0),b=h.tmp[0],x=h.tmp[1];for(var g=0;g<h.keys.length;g+=2){var v=p[g>>>1];b=l.r28shl(b,v),x=l.r28shl(x,v),l.pc2(b,x,h.keys,g)}},u.prototype._update=function(h,d,b,x){var g=this._desState,v=l.readUInt32BE(h,d),y=l.readUInt32BE(h,d+4);l.ip(v,y,g.tmp,0),v=g.tmp[0],y=g.tmp[1],this.type==="encrypt"?this._encrypt(g,v,y,g.tmp,0):this._decrypt(g,v,y,g.tmp,0),v=g.tmp[0],y=g.tmp[1],l.writeUInt32BE(b,v,x),l.writeUInt32BE(b,y,x+4)},u.prototype._pad=function(h,d){if(this.padding===!1)return!1;for(var b=h.length-d,x=d;x<h.length;x++)h[x]=b;return!0},u.prototype._unpad=function(h){if(this.padding===!1)return h;for(var d=h[h.length-1],b=h.length-d;b<h.length;b++)i.equal(h[b],d);return h.slice(0,h.length-d)},u.prototype._encrypt=function(h,d,b,x,g){for(var v=d,y=b,k=0;k<h.keys.length;k+=2){var R=h.keys[k],z=h.keys[k+1];l.expand(y,h.tmp,0),R^=h.tmp[0],z^=h.tmp[1];var q=l.substitute(R,z),B=y;y=(v^l.permute(q))>>>0,v=B}l.rip(y,v,x,g)},u.prototype._decrypt=function(h,d,b,x,g){for(var v=b,y=d,k=h.keys.length-2;k>=0;k-=2){var R=h.keys[k],z=h.keys[k+1];l.expand(v,h.tmp,0),R^=h.tmp[0],z^=h.tmp[1];var q=l.substitute(R,z),B=v;v=(y^l.permute(q))>>>0,y=B}l.rip(v,y,x,g)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(e,n,s){var i=e("minimalistic-assert"),a=e("inherits"),l=e("./cipher"),c=e("./des");function o(p,h){i.equal(h.length,24,"Invalid key length");var d=h.slice(0,8),b=h.slice(8,16),x=h.slice(16,24);this.ciphers=p==="encrypt"?[c.create({type:"encrypt",key:d}),c.create({type:"decrypt",key:b}),c.create({type:"encrypt",key:x})]:[c.create({type:"decrypt",key:x}),c.create({type:"encrypt",key:b}),c.create({type:"decrypt",key:d})]}function u(p){l.call(this,p);var h=new o(this.type,this.options.key);this._edeState=h}a(u,l),n.exports=u,u.create=function(p){return new u(p)},u.prototype._update=function(p,h,d,b){var x=this._edeState;x.ciphers[0]._update(p,h,d,b),x.ciphers[1]._update(d,b,d,b),x.ciphers[2]._update(d,b,d,b)},u.prototype._pad=c.prototype._pad,u.prototype._unpad=c.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(e,n,s){s.readUInt32BE=function(c,o){return(c[0+o]<<24|c[1+o]<<16|c[2+o]<<8|c[3+o])>>>0},s.writeUInt32BE=function(c,o,u){c[0+u]=o>>>24,c[1+u]=o>>>16&255,c[2+u]=o>>>8&255,c[3+u]=255&o},s.ip=function(c,o,u,p){for(var h=0,d=0,b=6;b>=0;b-=2){for(var x=0;x<=24;x+=8)h<<=1,h|=o>>>x+b&1;for(x=0;x<=24;x+=8)h<<=1,h|=c>>>x+b&1}for(b=6;b>=0;b-=2){for(x=1;x<=25;x+=8)d<<=1,d|=o>>>x+b&1;for(x=1;x<=25;x+=8)d<<=1,d|=c>>>x+b&1}u[p+0]=h>>>0,u[p+1]=d>>>0},s.rip=function(c,o,u,p){for(var h=0,d=0,b=0;b<4;b++)for(var x=24;x>=0;x-=8)h<<=1,h|=o>>>x+b&1,h<<=1,h|=c>>>x+b&1;for(b=4;b<8;b++)for(x=24;x>=0;x-=8)d<<=1,d|=o>>>x+b&1,d<<=1,d|=c>>>x+b&1;u[p+0]=h>>>0,u[p+1]=d>>>0},s.pc1=function(c,o,u,p){for(var h=0,d=0,b=7;b>=5;b--){for(var x=0;x<=24;x+=8)h<<=1,h|=o>>x+b&1;for(x=0;x<=24;x+=8)h<<=1,h|=c>>x+b&1}for(x=0;x<=24;x+=8)h<<=1,h|=o>>x+b&1;for(b=1;b<=3;b++){for(x=0;x<=24;x+=8)d<<=1,d|=o>>x+b&1;for(x=0;x<=24;x+=8)d<<=1,d|=c>>x+b&1}for(x=0;x<=24;x+=8)d<<=1,d|=c>>x+b&1;u[p+0]=h>>>0,u[p+1]=d>>>0},s.r28shl=function(c,o){return c<<o&268435455|c>>>28-o};var i=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];s.pc2=function(c,o,u,p){for(var h=0,d=0,b=i.length>>>1,x=0;x<b;x++)h<<=1,h|=c>>>i[x]&1;for(x=b;x<i.length;x++)d<<=1,d|=o>>>i[x]&1;u[p+0]=h>>>0,u[p+1]=d>>>0},s.expand=function(c,o,u){var p=0,h=0;p=(1&c)<<5|c>>>27;for(var d=23;d>=15;d-=4)p<<=6,p|=c>>>d&63;for(d=11;d>=3;d-=4)h|=c>>>d&63,h<<=6;h|=(31&c)<<1|c>>>31,o[u+0]=p>>>0,o[u+1]=h>>>0};var a=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];s.substitute=function(c,o){for(var u=0,p=0;p<4;p++)u<<=4,u|=a[64*p+(c>>>18-6*p&63)];for(p=0;p<4;p++)u<<=4,u|=a[256+64*p+(o>>>18-6*p&63)];return u>>>0};var l=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];s.permute=function(c){for(var o=0,u=0;u<l.length;u++)o<<=1,o|=c>>>l[u]&1;return o>>>0},s.padSplit=function(c,o,u){for(var p=c.toString(2);p.length<o;)p="0"+p;for(var h=[],d=0;d<o;d+=u)h.push(p.slice(d,d+u));return h.join(" ")}},{}],400:[function(e,n,s){(function(i){(function(){var a=e("./lib/generatePrime"),l=e("./lib/primes.json"),c=e("./lib/dh"),o={binary:!0,hex:!0,base64:!0};s.DiffieHellmanGroup=s.createDiffieHellmanGroup=s.getDiffieHellman=function(u){var p=new i(l[u].prime,"hex"),h=new i(l[u].gen,"hex");return new c(p,h)},s.createDiffieHellman=s.DiffieHellman=function u(p,h,d,b){return i.isBuffer(h)||o[h]===void 0?u(p,"binary",h,d):(h=h||"binary",b=b||"binary",d=d||new i([2]),i.isBuffer(d)||(d=new i(d,b)),typeof p=="number"?new c(a(p,d),d,!0):(i.isBuffer(p)||(p=new i(p,h)),new c(p,d,!0)))}}).call(this)}).call(this,e("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(e,n,s){(function(i){(function(){var a=e("bn.js"),l=new(e("miller-rabin")),c=new a(24),o=new a(11),u=new a(10),p=new a(3),h=new a(7),d=e("./generatePrime"),b=e("randombytes");function x(R,z){return z=z||"utf8",i.isBuffer(R)||(R=new i(R,z)),this._pub=new a(R),this}function g(R,z){return z=z||"utf8",i.isBuffer(R)||(R=new i(R,z)),this._priv=new a(R),this}n.exports=y;var v={};function y(R,z,q){this.setGenerator(z),this.__prime=new a(R),this._prime=a.mont(this.__prime),this._primeLen=R.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,q?(this.setPublicKey=x,this.setPrivateKey=g):this._primeCode=8}function k(R,z){var q=new i(R.toArray());return z?q.toString(z):q}Object.defineProperty(y.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=(function(R,z){var q=z.toString("hex"),B=[q,R.toString(16)].join("_");if(B in v)return v[B];var I,O=0;if(R.isEven()||!d.simpleSieve||!d.fermatTest(R)||!l.test(R))return O+=1,O+=q==="02"||q==="05"?8:4,v[B]=O,O;switch(l.test(R.shrn(1))||(O+=2),q){case"02":R.mod(c).cmp(o)&&(O+=8);break;case"05":(I=R.mod(u)).cmp(p)&&I.cmp(h)&&(O+=8);break;default:O+=4}return v[B]=O,O})(this.__prime,this.__gen)),this._primeCode}}),y.prototype.generateKeys=function(){return this._priv||(this._priv=new a(b(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},y.prototype.computeSecret=function(R){var z=(R=(R=new a(R)).toRed(this._prime)).redPow(this._priv).fromRed(),q=new i(z.toArray()),B=this.getPrime();if(q.length<B.length){var I=new i(B.length-q.length);I.fill(0),q=i.concat([I,q])}return q},y.prototype.getPublicKey=function(R){return k(this._pub,R)},y.prototype.getPrivateKey=function(R){return k(this._priv,R)},y.prototype.getPrime=function(R){return k(this.__prime,R)},y.prototype.getGenerator=function(R){return k(this._gen,R)},y.prototype.setGenerator=function(R,z){return z=z||"utf8",i.isBuffer(R)||(R=new i(R,z)),this.__gen=R,this._gen=new a(R),this}}).call(this)}).call(this,e("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(e,n,s){var i=e("randombytes");n.exports=R,R.simpleSieve=y,R.fermatTest=k;var a=e("bn.js"),l=new a(24),c=new(e("miller-rabin")),o=new a(1),u=new a(2),p=new a(5),h=(new a(16),new a(8),new a(10)),d=new a(3),b=(new a(7),new a(11)),x=new a(4),g=(new a(12),null);function v(){if(g!==null)return g;var z=[];z[0]=2;for(var q=1,B=3;B<1048576;B+=2){for(var I=Math.ceil(Math.sqrt(B)),O=0;O<q&&z[O]<=I&&B%z[O]!=0;O++);q!==O&&z[O]<=I||(z[q++]=B)}return g=z,z}function y(z){for(var q=v(),B=0;B<q.length;B++)if(z.modn(q[B])===0)return z.cmpn(q[B])===0;return!0}function k(z){var q=a.mont(z);return u.toRed(q).redPow(z.subn(1)).fromRed().cmpn(1)===0}function R(z,q){if(z<16)return new a(q===2||q===5?[140,123]:[140,39]);var B,I;for(q=new a(q);;){for(B=new a(i(Math.ceil(z/8)));B.bitLength()>z;)B.ishrn(1);if(B.isEven()&&B.iadd(o),B.testn(1)||B.iadd(u),q.cmp(u)){if(!q.cmp(p))for(;B.mod(h).cmp(d);)B.iadd(x)}else for(;B.mod(l).cmp(b);)B.iadd(x);if(y(I=B.shrn(1))&&y(B)&&k(I)&&k(B)&&c.test(I)&&c.test(B))return B}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(e,n,s){n.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(e,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],405:[function(e,n,s){var i=s;i.version=e("../package.json").version,i.utils=e("./elliptic/utils"),i.rand=e("brorand"),i.curve=e("./elliptic/curve"),i.curves=e("./elliptic/curves"),i.ec=e("./elliptic/ec"),i.eddsa=e("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(e,n,s){var i=e("bn.js"),a=e("../utils"),l=a.getNAF,c=a.getJSF,o=a.assert;function u(h,d){this.type=h,this.p=new i(d.p,16),this.red=d.prime?i.red(d.prime):i.mont(this.p),this.zero=new i(0).toRed(this.red),this.one=new i(1).toRed(this.red),this.two=new i(2).toRed(this.red),this.n=d.n&&new i(d.n,16),this.g=d.g&&this.pointFromJSON(d.g,d.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var b=this.n&&this.p.div(this.n);!b||b.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function p(h,d){this.curve=h,this.type=d,this.precomputed=null}n.exports=u,u.prototype.point=function(){throw new Error("Not implemented")},u.prototype.validate=function(){throw new Error("Not implemented")},u.prototype._fixedNafMul=function(h,d){o(h.precomputed);var b=h._getDoubles(),x=l(d,1,this._bitLength),g=(1<<b.step+1)-(b.step%2==0?2:1);g/=3;var v,y,k=[];for(v=0;v<x.length;v+=b.step){y=0;for(var R=v+b.step-1;R>=v;R--)y=(y<<1)+x[R];k.push(y)}for(var z=this.jpoint(null,null,null),q=this.jpoint(null,null,null),B=g;B>0;B--){for(v=0;v<k.length;v++)(y=k[v])===B?q=q.mixedAdd(b.points[v]):y===-B&&(q=q.mixedAdd(b.points[v].neg()));z=z.add(q)}return z.toP()},u.prototype._wnafMul=function(h,d){var b=4,x=h._getNAFPoints(b);b=x.wnd;for(var g=x.points,v=l(d,b,this._bitLength),y=this.jpoint(null,null,null),k=v.length-1;k>=0;k--){for(var R=0;k>=0&&v[k]===0;k--)R++;if(k>=0&&R++,y=y.dblp(R),k<0)break;var z=v[k];o(z!==0),y=h.type==="affine"?z>0?y.mixedAdd(g[z-1>>1]):y.mixedAdd(g[-z-1>>1].neg()):z>0?y.add(g[z-1>>1]):y.add(g[-z-1>>1].neg())}return h.type==="affine"?y.toP():y},u.prototype._wnafMulAdd=function(h,d,b,x,g){var v,y,k,R=this._wnafT1,z=this._wnafT2,q=this._wnafT3,B=0;for(v=0;v<x;v++){var I=(k=d[v])._getNAFPoints(h);R[v]=I.wnd,z[v]=I.points}for(v=x-1;v>=1;v-=2){var O=v-1,F=v;if(R[O]===1&&R[F]===1){var W=[d[O],null,null,d[F]];d[O].y.cmp(d[F].y)===0?(W[1]=d[O].add(d[F]),W[2]=d[O].toJ().mixedAdd(d[F].neg())):d[O].y.cmp(d[F].y.redNeg())===0?(W[1]=d[O].toJ().mixedAdd(d[F]),W[2]=d[O].add(d[F].neg())):(W[1]=d[O].toJ().mixedAdd(d[F]),W[2]=d[O].toJ().mixedAdd(d[F].neg()));var V=[-3,-1,-5,-7,0,7,5,1,3],N=c(b[O],b[F]);for(B=Math.max(N[0].length,B),q[O]=new Array(B),q[F]=new Array(B),y=0;y<B;y++){var P=0|N[0][y],C=0|N[1][y];q[O][y]=V[3*(P+1)+(C+1)],q[F][y]=0,z[O]=W}}else q[O]=l(b[O],R[O],this._bitLength),q[F]=l(b[F],R[F],this._bitLength),B=Math.max(q[O].length,B),B=Math.max(q[F].length,B)}var S=this.jpoint(null,null,null),E=this._wnafT4;for(v=B;v>=0;v--){for(var A=0;v>=0;){var T=!0;for(y=0;y<x;y++)E[y]=0|q[y][v],E[y]!==0&&(T=!1);if(!T)break;A++,v--}if(v>=0&&A++,S=S.dblp(A),v<0)break;for(y=0;y<x;y++){var j=E[y];j!==0&&(j>0?k=z[y][j-1>>1]:j<0&&(k=z[y][-j-1>>1].neg()),S=k.type==="affine"?S.mixedAdd(k):S.add(k))}}for(v=0;v<x;v++)z[v]=null;return g?S:S.toP()},u.BasePoint=p,p.prototype.eq=function(){throw new Error("Not implemented")},p.prototype.validate=function(){return this.curve.validate(this)},u.prototype.decodePoint=function(h,d){h=a.toArray(h,d);var b=this.p.byteLength();if((h[0]===4||h[0]===6||h[0]===7)&&h.length-1==2*b)return h[0]===6?o(h[h.length-1]%2==0):h[0]===7&&o(h[h.length-1]%2==1),this.point(h.slice(1,1+b),h.slice(1+b,1+2*b));if((h[0]===2||h[0]===3)&&h.length-1===b)return this.pointFromX(h.slice(1,1+b),h[0]===3);throw new Error("Unknown point format")},p.prototype.encodeCompressed=function(h){return this.encode(h,!0)},p.prototype._encode=function(h){var d=this.curve.p.byteLength(),b=this.getX().toArray("be",d);return h?[this.getY().isEven()?2:3].concat(b):[4].concat(b,this.getY().toArray("be",d))},p.prototype.encode=function(h,d){return a.encode(this._encode(d),h)},p.prototype.precompute=function(h){if(this.precomputed)return this;var d={doubles:null,naf:null,beta:null};return d.naf=this._getNAFPoints(8),d.doubles=this._getDoubles(4,h),d.beta=this._getBeta(),this.precomputed=d,this},p.prototype._hasDoubles=function(h){if(!this.precomputed)return!1;var d=this.precomputed.doubles;return!!d&&d.points.length>=Math.ceil((h.bitLength()+1)/d.step)},p.prototype._getDoubles=function(h,d){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var b=[this],x=this,g=0;g<d;g+=h){for(var v=0;v<h;v++)x=x.dbl();b.push(x)}return{step:h,points:b}},p.prototype._getNAFPoints=function(h){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var d=[this],b=(1<<h)-1,x=b===1?null:this.dbl(),g=1;g<b;g++)d[g]=d[g-1].add(x);return{wnd:h,points:d}},p.prototype._getBeta=function(){return null},p.prototype.dblp=function(h){for(var d=this,b=0;b<h;b++)d=d.dbl();return d}},{"../utils":419,"bn.js":420}],407:[function(e,n,s){var i=e("../utils"),a=e("bn.js"),l=e("inherits"),c=e("./base"),o=i.assert;function u(h){this.twisted=(0|h.a)!=1,this.mOneA=this.twisted&&(0|h.a)==-1,this.extended=this.mOneA,c.call(this,"edwards",h),this.a=new a(h.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new a(h.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new a(h.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),o(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|h.c)==1}function p(h,d,b,x,g){c.BasePoint.call(this,h,"projective"),d===null&&b===null&&x===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new a(d,16),this.y=new a(b,16),this.z=x?new a(x,16):this.curve.one,this.t=g&&new a(g,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}l(u,c),n.exports=u,u.prototype._mulA=function(h){return this.mOneA?h.redNeg():this.a.redMul(h)},u.prototype._mulC=function(h){return this.oneC?h:this.c.redMul(h)},u.prototype.jpoint=function(h,d,b,x){return this.point(h,d,b,x)},u.prototype.pointFromX=function(h,d){(h=new a(h,16)).red||(h=h.toRed(this.red));var b=h.redSqr(),x=this.c2.redSub(this.a.redMul(b)),g=this.one.redSub(this.c2.redMul(this.d).redMul(b)),v=x.redMul(g.redInvm()),y=v.redSqrt();if(y.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");var k=y.fromRed().isOdd();return(d&&!k||!d&&k)&&(y=y.redNeg()),this.point(h,y)},u.prototype.pointFromY=function(h,d){(h=new a(h,16)).red||(h=h.toRed(this.red));var b=h.redSqr(),x=b.redSub(this.c2),g=b.redMul(this.d).redMul(this.c2).redSub(this.a),v=x.redMul(g.redInvm());if(v.cmp(this.zero)===0){if(d)throw new Error("invalid point");return this.point(this.zero,h)}var y=v.redSqrt();if(y.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");return y.fromRed().isOdd()!==d&&(y=y.redNeg()),this.point(y,h)},u.prototype.validate=function(h){if(h.isInfinity())return!0;h.normalize();var d=h.x.redSqr(),b=h.y.redSqr(),x=d.redMul(this.a).redAdd(b),g=this.c2.redMul(this.one.redAdd(this.d.redMul(d).redMul(b)));return x.cmp(g)===0},l(p,c.BasePoint),u.prototype.pointFromJSON=function(h){return p.fromJSON(this,h)},u.prototype.point=function(h,d,b,x){return new p(this,h,d,b,x)},p.fromJSON=function(h,d){return new p(h,d[0],d[1],d[2])},p.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},p.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},p.prototype._extDbl=function(){var h=this.x.redSqr(),d=this.y.redSqr(),b=this.z.redSqr();b=b.redIAdd(b);var x=this.curve._mulA(h),g=this.x.redAdd(this.y).redSqr().redISub(h).redISub(d),v=x.redAdd(d),y=v.redSub(b),k=x.redSub(d),R=g.redMul(y),z=v.redMul(k),q=g.redMul(k),B=y.redMul(v);return this.curve.point(R,z,B,q)},p.prototype._projDbl=function(){var h,d,b,x,g,v,y=this.x.redAdd(this.y).redSqr(),k=this.x.redSqr(),R=this.y.redSqr();if(this.curve.twisted){var z=(x=this.curve._mulA(k)).redAdd(R);this.zOne?(h=y.redSub(k).redSub(R).redMul(z.redSub(this.curve.two)),d=z.redMul(x.redSub(R)),b=z.redSqr().redSub(z).redSub(z)):(g=this.z.redSqr(),v=z.redSub(g).redISub(g),h=y.redSub(k).redISub(R).redMul(v),d=z.redMul(x.redSub(R)),b=z.redMul(v))}else x=k.redAdd(R),g=this.curve._mulC(this.z).redSqr(),v=x.redSub(g).redSub(g),h=this.curve._mulC(y.redISub(x)).redMul(v),d=this.curve._mulC(x).redMul(k.redISub(R)),b=x.redMul(v);return this.curve.point(h,d,b)},p.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},p.prototype._extAdd=function(h){var d=this.y.redSub(this.x).redMul(h.y.redSub(h.x)),b=this.y.redAdd(this.x).redMul(h.y.redAdd(h.x)),x=this.t.redMul(this.curve.dd).redMul(h.t),g=this.z.redMul(h.z.redAdd(h.z)),v=b.redSub(d),y=g.redSub(x),k=g.redAdd(x),R=b.redAdd(d),z=v.redMul(y),q=k.redMul(R),B=v.redMul(R),I=y.redMul(k);return this.curve.point(z,q,I,B)},p.prototype._projAdd=function(h){var d,b,x=this.z.redMul(h.z),g=x.redSqr(),v=this.x.redMul(h.x),y=this.y.redMul(h.y),k=this.curve.d.redMul(v).redMul(y),R=g.redSub(k),z=g.redAdd(k),q=this.x.redAdd(this.y).redMul(h.x.redAdd(h.y)).redISub(v).redISub(y),B=x.redMul(R).redMul(q);return this.curve.twisted?(d=x.redMul(z).redMul(y.redSub(this.curve._mulA(v))),b=R.redMul(z)):(d=x.redMul(z).redMul(y.redSub(v)),b=this.curve._mulC(R).redMul(z)),this.curve.point(B,d,b)},p.prototype.add=function(h){return this.isInfinity()?h:h.isInfinity()?this:this.curve.extended?this._extAdd(h):this._projAdd(h)},p.prototype.mul=function(h){return this._hasDoubles(h)?this.curve._fixedNafMul(this,h):this.curve._wnafMul(this,h)},p.prototype.mulAdd=function(h,d,b){return this.curve._wnafMulAdd(1,[this,d],[h,b],2,!1)},p.prototype.jmulAdd=function(h,d,b){return this.curve._wnafMulAdd(1,[this,d],[h,b],2,!0)},p.prototype.normalize=function(){if(this.zOne)return this;var h=this.z.redInvm();return this.x=this.x.redMul(h),this.y=this.y.redMul(h),this.t&&(this.t=this.t.redMul(h)),this.z=this.curve.one,this.zOne=!0,this},p.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},p.prototype.getX=function(){return this.normalize(),this.x.fromRed()},p.prototype.getY=function(){return this.normalize(),this.y.fromRed()},p.prototype.eq=function(h){return this===h||this.getX().cmp(h.getX())===0&&this.getY().cmp(h.getY())===0},p.prototype.eqXToP=function(h){var d=h.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(d)===0)return!0;for(var b=h.clone(),x=this.curve.redN.redMul(this.z);;){if(b.iadd(this.curve.n),b.cmp(this.curve.p)>=0)return!1;if(d.redIAdd(x),this.x.cmp(d)===0)return!0}},p.prototype.toP=p.prototype.normalize,p.prototype.mixedAdd=p.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(e,n,s){var i=s;i.base=e("./base"),i.short=e("./short"),i.mont=e("./mont"),i.edwards=e("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(e,n,s){var i=e("bn.js"),a=e("inherits"),l=e("./base"),c=e("../utils");function o(p){l.call(this,"mont",p),this.a=new i(p.a,16).toRed(this.red),this.b=new i(p.b,16).toRed(this.red),this.i4=new i(4).toRed(this.red).redInvm(),this.two=new i(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(p,h,d){l.BasePoint.call(this,p,"projective"),h===null&&d===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new i(h,16),this.z=new i(d,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}a(o,l),n.exports=o,o.prototype.validate=function(p){var h=p.normalize().x,d=h.redSqr(),b=d.redMul(h).redAdd(d.redMul(this.a)).redAdd(h);return b.redSqrt().redSqr().cmp(b)===0},a(u,l.BasePoint),o.prototype.decodePoint=function(p,h){return this.point(c.toArray(p,h),1)},o.prototype.point=function(p,h){return new u(this,p,h)},o.prototype.pointFromJSON=function(p){return u.fromJSON(this,p)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(p,h){return new u(p,h[0],h[1]||p.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.z.cmpn(0)===0},u.prototype.dbl=function(){var p=this.x.redAdd(this.z).redSqr(),h=this.x.redSub(this.z).redSqr(),d=p.redSub(h),b=p.redMul(h),x=d.redMul(h.redAdd(this.curve.a24.redMul(d)));return this.curve.point(b,x)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(p,h){var d=this.x.redAdd(this.z),b=this.x.redSub(this.z),x=p.x.redAdd(p.z),g=p.x.redSub(p.z).redMul(d),v=x.redMul(b),y=h.z.redMul(g.redAdd(v).redSqr()),k=h.x.redMul(g.redISub(v).redSqr());return this.curve.point(y,k)},u.prototype.mul=function(p){for(var h=p.clone(),d=this,b=this.curve.point(null,null),x=[];h.cmpn(0)!==0;h.iushrn(1))x.push(h.andln(1));for(var g=x.length-1;g>=0;g--)x[g]===0?(d=d.diffAdd(b,this),b=b.dbl()):(b=d.diffAdd(b,this),d=d.dbl());return b},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(p){return this.getX().cmp(p.getX())===0},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(e,n,s){var i=e("../utils"),a=e("bn.js"),l=e("inherits"),c=e("./base"),o=i.assert;function u(d){c.call(this,"short",d),this.a=new a(d.a,16).toRed(this.red),this.b=new a(d.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(d),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function p(d,b,x,g){c.BasePoint.call(this,d,"affine"),b===null&&x===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new a(b,16),this.y=new a(x,16),g&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function h(d,b,x,g){c.BasePoint.call(this,d,"jacobian"),b===null&&x===null&&g===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new a(0)):(this.x=new a(b,16),this.y=new a(x,16),this.z=new a(g,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}l(u,c),n.exports=u,u.prototype._getEndomorphism=function(d){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var b,x;if(d.beta)b=new a(d.beta,16).toRed(this.red);else{var g=this._getEndoRoots(this.p);b=(b=g[0].cmp(g[1])<0?g[0]:g[1]).toRed(this.red)}if(d.lambda)x=new a(d.lambda,16);else{var v=this._getEndoRoots(this.n);this.g.mul(v[0]).x.cmp(this.g.x.redMul(b))===0?x=v[0]:(x=v[1],o(this.g.mul(x).x.cmp(this.g.x.redMul(b))===0))}return{beta:b,lambda:x,basis:d.basis?d.basis.map((function(y){return{a:new a(y.a,16),b:new a(y.b,16)}})):this._getEndoBasis(x)}}},u.prototype._getEndoRoots=function(d){var b=d===this.p?this.red:a.mont(d),x=new a(2).toRed(b).redInvm(),g=x.redNeg(),v=new a(3).toRed(b).redNeg().redSqrt().redMul(x);return[g.redAdd(v).fromRed(),g.redSub(v).fromRed()]},u.prototype._getEndoBasis=function(d){for(var b,x,g,v,y,k,R,z,q,B=this.n.ushrn(Math.floor(this.n.bitLength()/2)),I=d,O=this.n.clone(),F=new a(1),W=new a(0),V=new a(0),N=new a(1),P=0;I.cmpn(0)!==0;){var C=O.div(I);z=O.sub(C.mul(I)),q=V.sub(C.mul(F));var S=N.sub(C.mul(W));if(!g&&z.cmp(B)<0)b=R.neg(),x=F,g=z.neg(),v=q;else if(g&&++P==2)break;R=z,O=I,I=z,V=F,F=q,N=W,W=S}y=z.neg(),k=q;var E=g.sqr().add(v.sqr());return y.sqr().add(k.sqr()).cmp(E)>=0&&(y=b,k=x),g.negative&&(g=g.neg(),v=v.neg()),y.negative&&(y=y.neg(),k=k.neg()),[{a:g,b:v},{a:y,b:k}]},u.prototype._endoSplit=function(d){var b=this.endo.basis,x=b[0],g=b[1],v=g.b.mul(d).divRound(this.n),y=x.b.neg().mul(d).divRound(this.n),k=v.mul(x.a),R=y.mul(g.a),z=v.mul(x.b),q=y.mul(g.b);return{k1:d.sub(k).sub(R),k2:z.add(q).neg()}},u.prototype.pointFromX=function(d,b){(d=new a(d,16)).red||(d=d.toRed(this.red));var x=d.redSqr().redMul(d).redIAdd(d.redMul(this.a)).redIAdd(this.b),g=x.redSqrt();if(g.redSqr().redSub(x).cmp(this.zero)!==0)throw new Error("invalid point");var v=g.fromRed().isOdd();return(b&&!v||!b&&v)&&(g=g.redNeg()),this.point(d,g)},u.prototype.validate=function(d){if(d.inf)return!0;var b=d.x,x=d.y,g=this.a.redMul(b),v=b.redSqr().redMul(b).redIAdd(g).redIAdd(this.b);return x.redSqr().redISub(v).cmpn(0)===0},u.prototype._endoWnafMulAdd=function(d,b,x){for(var g=this._endoWnafT1,v=this._endoWnafT2,y=0;y<d.length;y++){var k=this._endoSplit(b[y]),R=d[y],z=R._getBeta();k.k1.negative&&(k.k1.ineg(),R=R.neg(!0)),k.k2.negative&&(k.k2.ineg(),z=z.neg(!0)),g[2*y]=R,g[2*y+1]=z,v[2*y]=k.k1,v[2*y+1]=k.k2}for(var q=this._wnafMulAdd(1,g,v,2*y,x),B=0;B<2*y;B++)g[B]=null,v[B]=null;return q},l(p,c.BasePoint),u.prototype.point=function(d,b,x){return new p(this,d,b,x)},u.prototype.pointFromJSON=function(d,b){return p.fromJSON(this,d,b)},p.prototype._getBeta=function(){if(this.curve.endo){var d=this.precomputed;if(d&&d.beta)return d.beta;var b=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(d){var x=this.curve,g=function(v){return x.point(v.x.redMul(x.endo.beta),v.y)};d.beta=b,b.precomputed={beta:null,naf:d.naf&&{wnd:d.naf.wnd,points:d.naf.points.map(g)},doubles:d.doubles&&{step:d.doubles.step,points:d.doubles.points.map(g)}}}return b}},p.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},p.fromJSON=function(d,b,x){typeof b=="string"&&(b=JSON.parse(b));var g=d.point(b[0],b[1],x);if(!b[2])return g;function v(k){return d.point(k[0],k[1],x)}var y=b[2];return g.precomputed={beta:null,doubles:y.doubles&&{step:y.doubles.step,points:[g].concat(y.doubles.points.map(v))},naf:y.naf&&{wnd:y.naf.wnd,points:[g].concat(y.naf.points.map(v))}},g},p.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},p.prototype.isInfinity=function(){return this.inf},p.prototype.add=function(d){if(this.inf)return d;if(d.inf)return this;if(this.eq(d))return this.dbl();if(this.neg().eq(d))return this.curve.point(null,null);if(this.x.cmp(d.x)===0)return this.curve.point(null,null);var b=this.y.redSub(d.y);b.cmpn(0)!==0&&(b=b.redMul(this.x.redSub(d.x).redInvm()));var x=b.redSqr().redISub(this.x).redISub(d.x),g=b.redMul(this.x.redSub(x)).redISub(this.y);return this.curve.point(x,g)},p.prototype.dbl=function(){if(this.inf)return this;var d=this.y.redAdd(this.y);if(d.cmpn(0)===0)return this.curve.point(null,null);var b=this.curve.a,x=this.x.redSqr(),g=d.redInvm(),v=x.redAdd(x).redIAdd(x).redIAdd(b).redMul(g),y=v.redSqr().redISub(this.x.redAdd(this.x)),k=v.redMul(this.x.redSub(y)).redISub(this.y);return this.curve.point(y,k)},p.prototype.getX=function(){return this.x.fromRed()},p.prototype.getY=function(){return this.y.fromRed()},p.prototype.mul=function(d){return d=new a(d,16),this.isInfinity()?this:this._hasDoubles(d)?this.curve._fixedNafMul(this,d):this.curve.endo?this.curve._endoWnafMulAdd([this],[d]):this.curve._wnafMul(this,d)},p.prototype.mulAdd=function(d,b,x){var g=[this,b],v=[d,x];return this.curve.endo?this.curve._endoWnafMulAdd(g,v):this.curve._wnafMulAdd(1,g,v,2)},p.prototype.jmulAdd=function(d,b,x){var g=[this,b],v=[d,x];return this.curve.endo?this.curve._endoWnafMulAdd(g,v,!0):this.curve._wnafMulAdd(1,g,v,2,!0)},p.prototype.eq=function(d){return this===d||this.inf===d.inf&&(this.inf||this.x.cmp(d.x)===0&&this.y.cmp(d.y)===0)},p.prototype.neg=function(d){if(this.inf)return this;var b=this.curve.point(this.x,this.y.redNeg());if(d&&this.precomputed){var x=this.precomputed,g=function(v){return v.neg()};b.precomputed={naf:x.naf&&{wnd:x.naf.wnd,points:x.naf.points.map(g)},doubles:x.doubles&&{step:x.doubles.step,points:x.doubles.points.map(g)}}}return b},p.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},l(h,c.BasePoint),u.prototype.jpoint=function(d,b,x){return new h(this,d,b,x)},h.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var d=this.z.redInvm(),b=d.redSqr(),x=this.x.redMul(b),g=this.y.redMul(b).redMul(d);return this.curve.point(x,g)},h.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},h.prototype.add=function(d){if(this.isInfinity())return d;if(d.isInfinity())return this;var b=d.z.redSqr(),x=this.z.redSqr(),g=this.x.redMul(b),v=d.x.redMul(x),y=this.y.redMul(b.redMul(d.z)),k=d.y.redMul(x.redMul(this.z)),R=g.redSub(v),z=y.redSub(k);if(R.cmpn(0)===0)return z.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var q=R.redSqr(),B=q.redMul(R),I=g.redMul(q),O=z.redSqr().redIAdd(B).redISub(I).redISub(I),F=z.redMul(I.redISub(O)).redISub(y.redMul(B)),W=this.z.redMul(d.z).redMul(R);return this.curve.jpoint(O,F,W)},h.prototype.mixedAdd=function(d){if(this.isInfinity())return d.toJ();if(d.isInfinity())return this;var b=this.z.redSqr(),x=this.x,g=d.x.redMul(b),v=this.y,y=d.y.redMul(b).redMul(this.z),k=x.redSub(g),R=v.redSub(y);if(k.cmpn(0)===0)return R.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var z=k.redSqr(),q=z.redMul(k),B=x.redMul(z),I=R.redSqr().redIAdd(q).redISub(B).redISub(B),O=R.redMul(B.redISub(I)).redISub(v.redMul(q)),F=this.z.redMul(k);return this.curve.jpoint(I,O,F)},h.prototype.dblp=function(d){if(d===0)return this;if(this.isInfinity())return this;if(!d)return this.dbl();var b;if(this.curve.zeroA||this.curve.threeA){var x=this;for(b=0;b<d;b++)x=x.dbl();return x}var g=this.curve.a,v=this.curve.tinv,y=this.x,k=this.y,R=this.z,z=R.redSqr().redSqr(),q=k.redAdd(k);for(b=0;b<d;b++){var B=y.redSqr(),I=q.redSqr(),O=I.redSqr(),F=B.redAdd(B).redIAdd(B).redIAdd(g.redMul(z)),W=y.redMul(I),V=F.redSqr().redISub(W.redAdd(W)),N=W.redISub(V),P=F.redMul(N);P=P.redIAdd(P).redISub(O);var C=q.redMul(R);b+1<d&&(z=z.redMul(O)),y=V,R=C,q=P}return this.curve.jpoint(y,q.redMul(v),R)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},h.prototype._zeroDbl=function(){var d,b,x;if(this.zOne){var g=this.x.redSqr(),v=this.y.redSqr(),y=v.redSqr(),k=this.x.redAdd(v).redSqr().redISub(g).redISub(y);k=k.redIAdd(k);var R=g.redAdd(g).redIAdd(g),z=R.redSqr().redISub(k).redISub(k),q=y.redIAdd(y);q=(q=q.redIAdd(q)).redIAdd(q),d=z,b=R.redMul(k.redISub(z)).redISub(q),x=this.y.redAdd(this.y)}else{var B=this.x.redSqr(),I=this.y.redSqr(),O=I.redSqr(),F=this.x.redAdd(I).redSqr().redISub(B).redISub(O);F=F.redIAdd(F);var W=B.redAdd(B).redIAdd(B),V=W.redSqr(),N=O.redIAdd(O);N=(N=N.redIAdd(N)).redIAdd(N),d=V.redISub(F).redISub(F),b=W.redMul(F.redISub(d)).redISub(N),x=(x=this.y.redMul(this.z)).redIAdd(x)}return this.curve.jpoint(d,b,x)},h.prototype._threeDbl=function(){var d,b,x;if(this.zOne){var g=this.x.redSqr(),v=this.y.redSqr(),y=v.redSqr(),k=this.x.redAdd(v).redSqr().redISub(g).redISub(y);k=k.redIAdd(k);var R=g.redAdd(g).redIAdd(g).redIAdd(this.curve.a),z=R.redSqr().redISub(k).redISub(k);d=z;var q=y.redIAdd(y);q=(q=q.redIAdd(q)).redIAdd(q),b=R.redMul(k.redISub(z)).redISub(q),x=this.y.redAdd(this.y)}else{var B=this.z.redSqr(),I=this.y.redSqr(),O=this.x.redMul(I),F=this.x.redSub(B).redMul(this.x.redAdd(B));F=F.redAdd(F).redIAdd(F);var W=O.redIAdd(O),V=(W=W.redIAdd(W)).redAdd(W);d=F.redSqr().redISub(V),x=this.y.redAdd(this.z).redSqr().redISub(I).redISub(B);var N=I.redSqr();N=(N=(N=N.redIAdd(N)).redIAdd(N)).redIAdd(N),b=F.redMul(W.redISub(d)).redISub(N)}return this.curve.jpoint(d,b,x)},h.prototype._dbl=function(){var d=this.curve.a,b=this.x,x=this.y,g=this.z,v=g.redSqr().redSqr(),y=b.redSqr(),k=x.redSqr(),R=y.redAdd(y).redIAdd(y).redIAdd(d.redMul(v)),z=b.redAdd(b),q=(z=z.redIAdd(z)).redMul(k),B=R.redSqr().redISub(q.redAdd(q)),I=q.redISub(B),O=k.redSqr();O=(O=(O=O.redIAdd(O)).redIAdd(O)).redIAdd(O);var F=R.redMul(I).redISub(O),W=x.redAdd(x).redMul(g);return this.curve.jpoint(B,F,W)},h.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var d=this.x.redSqr(),b=this.y.redSqr(),x=this.z.redSqr(),g=b.redSqr(),v=d.redAdd(d).redIAdd(d),y=v.redSqr(),k=this.x.redAdd(b).redSqr().redISub(d).redISub(g),R=(k=(k=(k=k.redIAdd(k)).redAdd(k).redIAdd(k)).redISub(y)).redSqr(),z=g.redIAdd(g);z=(z=(z=z.redIAdd(z)).redIAdd(z)).redIAdd(z);var q=v.redIAdd(k).redSqr().redISub(y).redISub(R).redISub(z),B=b.redMul(q);B=(B=B.redIAdd(B)).redIAdd(B);var I=this.x.redMul(R).redISub(B);I=(I=I.redIAdd(I)).redIAdd(I);var O=this.y.redMul(q.redMul(z.redISub(q)).redISub(k.redMul(R)));O=(O=(O=O.redIAdd(O)).redIAdd(O)).redIAdd(O);var F=this.z.redAdd(k).redSqr().redISub(x).redISub(R);return this.curve.jpoint(I,O,F)},h.prototype.mul=function(d,b){return d=new a(d,b),this.curve._wnafMul(this,d)},h.prototype.eq=function(d){if(d.type==="affine")return this.eq(d.toJ());if(this===d)return!0;var b=this.z.redSqr(),x=d.z.redSqr();if(this.x.redMul(x).redISub(d.x.redMul(b)).cmpn(0)!==0)return!1;var g=b.redMul(this.z),v=x.redMul(d.z);return this.y.redMul(v).redISub(d.y.redMul(g)).cmpn(0)===0},h.prototype.eqXToP=function(d){var b=this.z.redSqr(),x=d.toRed(this.curve.red).redMul(b);if(this.x.cmp(x)===0)return!0;for(var g=d.clone(),v=this.curve.redN.redMul(b);;){if(g.iadd(this.curve.n),g.cmp(this.curve.p)>=0)return!1;if(x.redIAdd(v),this.x.cmp(x)===0)return!0}},h.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},h.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(e,n,s){var i,a=s,l=e("hash.js"),c=e("./curve"),o=e("./utils").assert;function u(h){h.type==="short"?this.curve=new c.short(h):h.type==="edwards"?this.curve=new c.edwards(h):this.curve=new c.mont(h),this.g=this.curve.g,this.n=this.curve.n,this.hash=h.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function p(h,d){Object.defineProperty(a,h,{configurable:!0,enumerable:!0,get:function(){var b=new u(d);return Object.defineProperty(a,h,{configurable:!0,enumerable:!0,value:b}),b}})}a.PresetCurve=u,p("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:l.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),p("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:l.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),p("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:l.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),p("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:l.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),p("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:l.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),p("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:l.sha256,gRed:!1,g:["9"]}),p("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:l.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{i=e("./precomputed/secp256k1")}catch{i=void 0}p("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:l.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",i]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(e,n,s){var i=e("bn.js"),a=e("hmac-drbg"),l=e("../utils"),c=e("../curves"),o=e("brorand"),u=l.assert,p=e("./key"),h=e("./signature");function d(b){if(!(this instanceof d))return new d(b);typeof b=="string"&&(u(Object.prototype.hasOwnProperty.call(c,b),"Unknown curve "+b),b=c[b]),b instanceof c.PresetCurve&&(b={curve:b}),this.curve=b.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=b.curve.g,this.g.precompute(b.curve.n.bitLength()+1),this.hash=b.hash||b.curve.hash}n.exports=d,d.prototype.keyPair=function(b){return new p(this,b)},d.prototype.keyFromPrivate=function(b,x){return p.fromPrivate(this,b,x)},d.prototype.keyFromPublic=function(b,x){return p.fromPublic(this,b,x)},d.prototype.genKeyPair=function(b){b||(b={});for(var x=new a({hash:this.hash,pers:b.pers,persEnc:b.persEnc||"utf8",entropy:b.entropy||o(this.hash.hmacStrength),entropyEnc:b.entropy&&b.entropyEnc||"utf8",nonce:this.n.toArray()}),g=this.n.byteLength(),v=this.n.sub(new i(2));;){var y=new i(x.generate(g));if(!(y.cmp(v)>0))return y.iaddn(1),this.keyFromPrivate(y)}},d.prototype._truncateToN=function(b,x){var g=8*b.byteLength()-this.n.bitLength();return g>0&&(b=b.ushrn(g)),!x&&b.cmp(this.n)>=0?b.sub(this.n):b},d.prototype.sign=function(b,x,g,v){typeof g=="object"&&(v=g,g=null),v||(v={}),x=this.keyFromPrivate(x,g),b=this._truncateToN(new i(b,16));for(var y=this.n.byteLength(),k=x.getPrivate().toArray("be",y),R=b.toArray("be",y),z=new a({hash:this.hash,entropy:k,nonce:R,pers:v.pers,persEnc:v.persEnc||"utf8"}),q=this.n.sub(new i(1)),B=0;;B++){var I=v.k?v.k(B):new i(z.generate(this.n.byteLength()));if(!((I=this._truncateToN(I,!0)).cmpn(1)<=0||I.cmp(q)>=0)){var O=this.g.mul(I);if(!O.isInfinity()){var F=O.getX(),W=F.umod(this.n);if(W.cmpn(0)!==0){var V=I.invm(this.n).mul(W.mul(x.getPrivate()).iadd(b));if((V=V.umod(this.n)).cmpn(0)!==0){var N=(O.getY().isOdd()?1:0)|(F.cmp(W)!==0?2:0);return v.canonical&&V.cmp(this.nh)>0&&(V=this.n.sub(V),N^=1),new h({r:W,s:V,recoveryParam:N})}}}}}},d.prototype.verify=function(b,x,g,v){b=this._truncateToN(new i(b,16)),g=this.keyFromPublic(g,v);var y=(x=new h(x,"hex")).r,k=x.s;if(y.cmpn(1)<0||y.cmp(this.n)>=0||k.cmpn(1)<0||k.cmp(this.n)>=0)return!1;var R,z=k.invm(this.n),q=z.mul(b).umod(this.n),B=z.mul(y).umod(this.n);return this.curve._maxwellTrick?!(R=this.g.jmulAdd(q,g.getPublic(),B)).isInfinity()&&R.eqXToP(y):!(R=this.g.mulAdd(q,g.getPublic(),B)).isInfinity()&&R.getX().umod(this.n).cmp(y)===0},d.prototype.recoverPubKey=function(b,x,g,v){u((3&g)===g,"The recovery param is more than two bits"),x=new h(x,v);var y=this.n,k=new i(b),R=x.r,z=x.s,q=1&g,B=g>>1;if(R.cmp(this.curve.p.umod(this.curve.n))>=0&&B)throw new Error("Unable to find sencond key candinate");R=B?this.curve.pointFromX(R.add(this.curve.n),q):this.curve.pointFromX(R,q);var I=x.r.invm(y),O=y.sub(k).mul(I).umod(y),F=z.mul(I).umod(y);return this.g.mulAdd(O,R,F)},d.prototype.getKeyRecoveryParam=function(b,x,g,v){if((x=new h(x,v)).recoveryParam!==null)return x.recoveryParam;for(var y=0;y<4;y++){var k;try{k=this.recoverPubKey(b,x,y)}catch{continue}if(k.eq(g))return y}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(e,n,s){var i=e("bn.js"),a=e("../utils").assert;function l(c,o){this.ec=c,this.priv=null,this.pub=null,o.priv&&this._importPrivate(o.priv,o.privEnc),o.pub&&this._importPublic(o.pub,o.pubEnc)}n.exports=l,l.fromPublic=function(c,o,u){return o instanceof l?o:new l(c,{pub:o,pubEnc:u})},l.fromPrivate=function(c,o,u){return o instanceof l?o:new l(c,{priv:o,privEnc:u})},l.prototype.validate=function(){var c=this.getPublic();return c.isInfinity()?{result:!1,reason:"Invalid public key"}:c.validate()?c.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},l.prototype.getPublic=function(c,o){return typeof c=="string"&&(o=c,c=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),o?this.pub.encode(o,c):this.pub},l.prototype.getPrivate=function(c){return c==="hex"?this.priv.toString(16,2):this.priv},l.prototype._importPrivate=function(c,o){this.priv=new i(c,o||16),this.priv=this.priv.umod(this.ec.curve.n)},l.prototype._importPublic=function(c,o){if(c.x||c.y)return this.ec.curve.type==="mont"?a(c.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||a(c.x&&c.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(c.x,c.y));this.pub=this.ec.curve.decodePoint(c,o)},l.prototype.derive=function(c){return c.validate()||a(c.validate(),"public point not validated"),c.mul(this.priv).getX()},l.prototype.sign=function(c,o,u){return this.ec.sign(c,this,o,u)},l.prototype.verify=function(c,o){return this.ec.verify(c,o,this)},l.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(e,n,s){var i=e("bn.js"),a=e("../utils"),l=a.assert;function c(d,b){if(d instanceof c)return d;this._importDER(d,b)||(l(d.r&&d.s,"Signature without r or s"),this.r=new i(d.r,16),this.s=new i(d.s,16),d.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=d.recoveryParam)}function o(){this.place=0}function u(d,b){var x=d[b.place++];if(!(128&x))return x;var g=15&x;if(g===0||g>4)return!1;for(var v=0,y=0,k=b.place;y<g;y++,k++)v<<=8,v|=d[k],v>>>=0;return!(v<=127)&&(b.place=k,v)}function p(d){for(var b=0,x=d.length-1;!d[b]&&!(128&d[b+1])&&b<x;)b++;return b===0?d:d.slice(b)}function h(d,b){if(b<128)d.push(b);else{var x=1+(Math.log(b)/Math.LN2>>>3);for(d.push(128|x);--x;)d.push(b>>>(x<<3)&255);d.push(b)}}n.exports=c,c.prototype._importDER=function(d,b){d=a.toArray(d,b);var x=new o;if(d[x.place++]!==48)return!1;var g=u(d,x);if(g===!1||g+x.place!==d.length||d[x.place++]!==2)return!1;var v=u(d,x);if(v===!1)return!1;var y=d.slice(x.place,v+x.place);if(x.place+=v,d[x.place++]!==2)return!1;var k=u(d,x);if(k===!1||d.length!==k+x.place)return!1;var R=d.slice(x.place,k+x.place);if(y[0]===0){if(!(128&y[1]))return!1;y=y.slice(1)}if(R[0]===0){if(!(128&R[1]))return!1;R=R.slice(1)}return this.r=new i(y),this.s=new i(R),this.recoveryParam=null,!0},c.prototype.toDER=function(d){var b=this.r.toArray(),x=this.s.toArray();for(128&b[0]&&(b=[0].concat(b)),128&x[0]&&(x=[0].concat(x)),b=p(b),x=p(x);!(x[0]||128&x[1]);)x=x.slice(1);var g=[2];h(g,b.length),(g=g.concat(b)).push(2),h(g,x.length);var v=g.concat(x),y=[48];return h(y,v.length),y=y.concat(v),a.encode(y,d)}},{"../utils":419,"bn.js":420}],415:[function(e,n,s){var i=e("hash.js"),a=e("../curves"),l=e("../utils"),c=l.assert,o=l.parseBytes,u=e("./key"),p=e("./signature");function h(d){if(c(d==="ed25519","only tested with ed25519 so far"),!(this instanceof h))return new h(d);d=a[d].curve,this.curve=d,this.g=d.g,this.g.precompute(d.n.bitLength()+1),this.pointClass=d.point().constructor,this.encodingLength=Math.ceil(d.n.bitLength()/8),this.hash=i.sha512}n.exports=h,h.prototype.sign=function(d,b){d=o(d);var x=this.keyFromSecret(b),g=this.hashInt(x.messagePrefix(),d),v=this.g.mul(g),y=this.encodePoint(v),k=this.hashInt(y,x.pubBytes(),d).mul(x.priv()),R=g.add(k).umod(this.curve.n);return this.makeSignature({R:v,S:R,Rencoded:y})},h.prototype.verify=function(d,b,x){d=o(d),b=this.makeSignature(b);var g=this.keyFromPublic(x),v=this.hashInt(b.Rencoded(),g.pubBytes(),d),y=this.g.mul(b.S());return b.R().add(g.pub().mul(v)).eq(y)},h.prototype.hashInt=function(){for(var d=this.hash(),b=0;b<arguments.length;b++)d.update(arguments[b]);return l.intFromLE(d.digest()).umod(this.curve.n)},h.prototype.keyFromPublic=function(d){return u.fromPublic(this,d)},h.prototype.keyFromSecret=function(d){return u.fromSecret(this,d)},h.prototype.makeSignature=function(d){return d instanceof p?d:new p(this,d)},h.prototype.encodePoint=function(d){var b=d.getY().toArray("le",this.encodingLength);return b[this.encodingLength-1]|=d.getX().isOdd()?128:0,b},h.prototype.decodePoint=function(d){var b=(d=l.parseBytes(d)).length-1,x=d.slice(0,b).concat(-129&d[b]),g=(128&d[b])!=0,v=l.intFromLE(x);return this.curve.pointFromY(v,g)},h.prototype.encodeInt=function(d){return d.toArray("le",this.encodingLength)},h.prototype.decodeInt=function(d){return l.intFromLE(d)},h.prototype.isPoint=function(d){return d instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(e,n,s){var i=e("../utils"),a=i.assert,l=i.parseBytes,c=i.cachedProperty;function o(u,p){this.eddsa=u,this._secret=l(p.secret),u.isPoint(p.pub)?this._pub=p.pub:this._pubBytes=l(p.pub)}o.fromPublic=function(u,p){return p instanceof o?p:new o(u,{pub:p})},o.fromSecret=function(u,p){return p instanceof o?p:new o(u,{secret:p})},o.prototype.secret=function(){return this._secret},c(o,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),c(o,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),c(o,"privBytes",(function(){var u=this.eddsa,p=this.hash(),h=u.encodingLength-1,d=p.slice(0,u.encodingLength);return d[0]&=248,d[h]&=127,d[h]|=64,d})),c(o,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),c(o,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),c(o,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),o.prototype.sign=function(u){return a(this._secret,"KeyPair can only verify"),this.eddsa.sign(u,this)},o.prototype.verify=function(u,p){return this.eddsa.verify(u,p,this)},o.prototype.getSecret=function(u){return a(this._secret,"KeyPair is public only"),i.encode(this.secret(),u)},o.prototype.getPublic=function(u){return i.encode(this.pubBytes(),u)},n.exports=o},{"../utils":419}],417:[function(e,n,s){var i=e("bn.js"),a=e("../utils"),l=a.assert,c=a.cachedProperty,o=a.parseBytes;function u(p,h){this.eddsa=p,typeof h!="object"&&(h=o(h)),Array.isArray(h)&&(h={R:h.slice(0,p.encodingLength),S:h.slice(p.encodingLength)}),l(h.R&&h.S,"Signature without R or S"),p.isPoint(h.R)&&(this._R=h.R),h.S instanceof i&&(this._S=h.S),this._Rencoded=Array.isArray(h.R)?h.R:h.Rencoded,this._Sencoded=Array.isArray(h.S)?h.S:h.Sencoded}c(u,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),c(u,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),c(u,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),c(u,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),u.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},u.prototype.toHex=function(){return a.encode(this.toBytes(),"hex").toUpperCase()},n.exports=u},{"../utils":419,"bn.js":420}],418:[function(e,n,s){n.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(e,n,s){var i=s,a=e("bn.js"),l=e("minimalistic-assert"),c=e("minimalistic-crypto-utils");i.assert=l,i.toArray=c.toArray,i.zero2=c.zero2,i.toHex=c.toHex,i.encode=c.encode,i.getNAF=function(o,u,p){var h=new Array(Math.max(o.bitLength(),p)+1);h.fill(0);for(var d=1<<u+1,b=o.clone(),x=0;x<h.length;x++){var g,v=b.andln(d-1);b.isOdd()?(g=v>(d>>1)-1?(d>>1)-v:v,b.isubn(g)):g=0,h[x]=g,b.iushrn(1)}return h},i.getJSF=function(o,u){var p=[[],[]];o=o.clone(),u=u.clone();for(var h,d=0,b=0;o.cmpn(-d)>0||u.cmpn(-b)>0;){var x,g,v=o.andln(3)+d&3,y=u.andln(3)+b&3;v===3&&(v=-1),y===3&&(y=-1),x=(1&v)==0?0:(h=o.andln(7)+d&7)!==3&&h!==5||y!==2?v:-v,p[0].push(x),g=(1&y)==0?0:(h=u.andln(7)+b&7)!==3&&h!==5||v!==2?y:-y,p[1].push(g),2*d===x+1&&(d=1-d),2*b===g+1&&(b=1-b),o.iushrn(1),u.iushrn(1)}return p},i.cachedProperty=function(o,u,p){var h="_"+u;o.prototype[u]=function(){return this[h]!==void 0?this[h]:this[h]=p.call(this)}},i.parseBytes=function(o){return typeof o=="string"?i.toArray(o,"hex"):o},i.intFromLE=function(o){return new a(o,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(e,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],421:[function(e,n,s){n.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(e,n,s){var i=Object.create||function(I){var O=function(){};return O.prototype=I,new O},a=Object.keys||function(I){var O=[];for(var F in I)Object.prototype.hasOwnProperty.call(I,F)&&O.push(F);return F},l=Function.prototype.bind||function(I){var O=this;return function(){return O.apply(I,arguments)}};function c(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=i(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}n.exports=c,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._maxListeners=void 0;var o,u=10;try{var p={};Object.defineProperty&&Object.defineProperty(p,"x",{value:0}),o=p.x===0}catch{o=!1}function h(I){return I._maxListeners===void 0?c.defaultMaxListeners:I._maxListeners}function d(I,O,F){if(O)I.call(F);else for(var W=I.length,V=B(I,W),N=0;N<W;++N)V[N].call(F)}function b(I,O,F,W){if(O)I.call(F,W);else for(var V=I.length,N=B(I,V),P=0;P<V;++P)N[P].call(F,W)}function x(I,O,F,W,V){if(O)I.call(F,W,V);else for(var N=I.length,P=B(I,N),C=0;C<N;++C)P[C].call(F,W,V)}function g(I,O,F,W,V,N){if(O)I.call(F,W,V,N);else for(var P=I.length,C=B(I,P),S=0;S<P;++S)C[S].call(F,W,V,N)}function v(I,O,F,W){if(O)I.apply(F,W);else for(var V=I.length,N=B(I,V),P=0;P<V;++P)N[P].apply(F,W)}function y(I,O,F,W){var V,N,P;if(typeof F!="function")throw new TypeError('"listener" argument must be a function');if((N=I._events)?(N.newListener&&(I.emit("newListener",O,F.listener?F.listener:F),N=I._events),P=N[O]):(N=I._events=i(null),I._eventsCount=0),P){if(typeof P=="function"?P=N[O]=W?[F,P]:[P,F]:W?P.unshift(F):P.push(F),!P.warned&&(V=h(I))&&V>0&&P.length>V){P.warned=!0;var C=new Error("Possible EventEmitter memory leak detected. "+P.length+' "'+String(O)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');C.name="MaxListenersExceededWarning",C.emitter=I,C.type=O,C.count=P.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",C.name,C.message)}}else P=N[O]=F,++I._eventsCount;return I}function k(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var I=new Array(arguments.length),O=0;O<I.length;++O)I[O]=arguments[O];this.listener.apply(this.target,I)}}function R(I,O,F){var W={fired:!1,wrapFn:void 0,target:I,type:O,listener:F},V=l.call(k,W);return V.listener=F,W.wrapFn=V,V}function z(I,O,F){var W=I._events;if(!W)return[];var V=W[O];return V?typeof V=="function"?F?[V.listener||V]:[V]:F?(function(N){for(var P=new Array(N.length),C=0;C<P.length;++C)P[C]=N[C].listener||N[C];return P})(V):B(V,V.length):[]}function q(I){var O=this._events;if(O){var F=O[I];if(typeof F=="function")return 1;if(F)return F.length}return 0}function B(I,O){for(var F=new Array(O),W=0;W<O;++W)F[W]=I[W];return F}o?Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(I){if(typeof I!="number"||I<0||I!=I)throw new TypeError('"defaultMaxListeners" must be a positive number');u=I}}):c.defaultMaxListeners=u,c.prototype.setMaxListeners=function(I){if(typeof I!="number"||I<0||isNaN(I))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=I,this},c.prototype.getMaxListeners=function(){return h(this)},c.prototype.emit=function(I){var O,F,W,V,N,P,C=I==="error";if(P=this._events)C=C&&P.error==null;else if(!C)return!1;if(C){if(arguments.length>1&&(O=arguments[1]),O instanceof Error)throw O;var S=new Error('Unhandled "error" event. ('+O+")");throw S.context=O,S}if(!(F=P[I]))return!1;var E=typeof F=="function";switch(W=arguments.length){case 1:d(F,E,this);break;case 2:b(F,E,this,arguments[1]);break;case 3:x(F,E,this,arguments[1],arguments[2]);break;case 4:g(F,E,this,arguments[1],arguments[2],arguments[3]);break;default:for(V=new Array(W-1),N=1;N<W;N++)V[N-1]=arguments[N];v(F,E,this,V)}return!0},c.prototype.addListener=function(I,O){return y(this,I,O,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(I,O){return y(this,I,O,!0)},c.prototype.once=function(I,O){if(typeof O!="function")throw new TypeError('"listener" argument must be a function');return this.on(I,R(this,I,O)),this},c.prototype.prependOnceListener=function(I,O){if(typeof O!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(I,R(this,I,O)),this},c.prototype.removeListener=function(I,O){var F,W,V,N,P;if(typeof O!="function")throw new TypeError('"listener" argument must be a function');if(!(W=this._events))return this;if(!(F=W[I]))return this;if(F===O||F.listener===O)--this._eventsCount==0?this._events=i(null):(delete W[I],W.removeListener&&this.emit("removeListener",I,F.listener||O));else if(typeof F!="function"){for(V=-1,N=F.length-1;N>=0;N--)if(F[N]===O||F[N].listener===O){P=F[N].listener,V=N;break}if(V<0)return this;V===0?F.shift():(function(C,S){for(var E=S,A=E+1,T=C.length;A<T;E+=1,A+=1)C[E]=C[A];C.pop()})(F,V),F.length===1&&(W[I]=F[0]),W.removeListener&&this.emit("removeListener",I,P||O)}return this},c.prototype.removeAllListeners=function(I){var O,F,W;if(!(F=this._events))return this;if(!F.removeListener)return arguments.length===0?(this._events=i(null),this._eventsCount=0):F[I]&&(--this._eventsCount==0?this._events=i(null):delete F[I]),this;if(arguments.length===0){var V,N=a(F);for(W=0;W<N.length;++W)(V=N[W])!=="removeListener"&&this.removeAllListeners(V);return this.removeAllListeners("removeListener"),this._events=i(null),this._eventsCount=0,this}if(typeof(O=F[I])=="function")this.removeListener(I,O);else if(O)for(W=O.length-1;W>=0;W--)this.removeListener(I,O[W]);return this},c.prototype.listeners=function(I){return z(this,I,!0)},c.prototype.rawListeners=function(I){return z(this,I,!1)},c.listenerCount=function(I,O){return typeof I.listenerCount=="function"?I.listenerCount(O):q.call(I,O)},c.prototype.listenerCount=q,c.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(e,n,s){var i=e("safe-buffer").Buffer,a=e("md5.js");n.exports=function(l,c,o,u){if(i.isBuffer(l)||(l=i.from(l,"binary")),c&&(i.isBuffer(c)||(c=i.from(c,"binary")),c.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var p=o/8,h=i.alloc(p),d=i.alloc(u||0),b=i.alloc(0);p>0||u>0;){var x=new a;x.update(b),x.update(l),c&&x.update(c),b=x.digest();var g=0;if(p>0){var v=h.length-p;g=Math.min(p,b.length),b.copy(h,v,0,g),p-=g}if(g<b.length&&u>0){var y=d.length-u,k=Math.min(u,b.length-g);b.copy(d,y,g,g+k),u-=k}}return b.fill(0),{key:h,iv:d}}},{"md5.js":450,"safe-buffer":494}],424:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.CsvParserStream=s.ParserOptions=s.parseFile=s.parseStream=s.parseString=s.parse=s.FormatterOptions=s.CsvFormatterStream=s.writeToPath=s.writeToString=s.writeToBuffer=s.writeToStream=s.write=s.format=void 0;var i=e("@fast-csv/format");Object.defineProperty(s,"format",{enumerable:!0,get:function(){return i.format}}),Object.defineProperty(s,"write",{enumerable:!0,get:function(){return i.write}}),Object.defineProperty(s,"writeToStream",{enumerable:!0,get:function(){return i.writeToStream}}),Object.defineProperty(s,"writeToBuffer",{enumerable:!0,get:function(){return i.writeToBuffer}}),Object.defineProperty(s,"writeToString",{enumerable:!0,get:function(){return i.writeToString}}),Object.defineProperty(s,"writeToPath",{enumerable:!0,get:function(){return i.writeToPath}}),Object.defineProperty(s,"CsvFormatterStream",{enumerable:!0,get:function(){return i.CsvFormatterStream}}),Object.defineProperty(s,"FormatterOptions",{enumerable:!0,get:function(){return i.FormatterOptions}});var a=e("@fast-csv/parse");Object.defineProperty(s,"parse",{enumerable:!0,get:function(){return a.parse}}),Object.defineProperty(s,"parseString",{enumerable:!0,get:function(){return a.parseString}}),Object.defineProperty(s,"parseStream",{enumerable:!0,get:function(){return a.parseStream}}),Object.defineProperty(s,"parseFile",{enumerable:!0,get:function(){return a.parseFile}}),Object.defineProperty(s,"ParserOptions",{enumerable:!0,get:function(){return a.ParserOptions}}),Object.defineProperty(s,"CsvParserStream",{enumerable:!0,get:function(){return a.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(e,n,s){var i=e("safe-buffer").Buffer,a=e("readable-stream").Transform;function l(c){a.call(this),this._block=i.allocUnsafe(c),this._blockSize=c,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}e("inherits")(l,a),l.prototype._transform=function(c,o,u){var p=null;try{this.update(c,o)}catch(h){p=h}u(p)},l.prototype._flush=function(c){var o=null;try{this.push(this.digest())}catch(u){o=u}c(o)},l.prototype.update=function(c,o){if((function(x,g){if(!i.isBuffer(x)&&typeof x!="string")throw new TypeError(g+" must be a string or a buffer")})(c,"Data"),this._finalized)throw new Error("Digest already called");i.isBuffer(c)||(c=i.from(c,o));for(var u=this._block,p=0;this._blockOffset+c.length-p>=this._blockSize;){for(var h=this._blockOffset;h<this._blockSize;)u[h++]=c[p++];this._update(),this._blockOffset=0}for(;p<c.length;)u[this._blockOffset++]=c[p++];for(var d=0,b=8*c.length;b>0;++d)this._length[d]+=b,(b=this._length[d]/4294967296|0)>0&&(this._length[d]-=4294967296*b);return this},l.prototype._update=function(){throw new Error("_update is not implemented")},l.prototype.digest=function(c){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var o=this._digest();c!==void 0&&(o=o.toString(c)),this._block.fill(0),this._blockOffset=0;for(var u=0;u<4;++u)this._length[u]=0;return o},l.prototype._digest=function(){throw new Error("_digest is not implemented")},n.exports=l},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(e,n,s){var i=s;i.utils=e("./hash/utils"),i.common=e("./hash/common"),i.sha=e("./hash/sha"),i.ripemd=e("./hash/ripemd"),i.hmac=e("./hash/hmac"),i.sha1=i.sha.sha1,i.sha256=i.sha.sha256,i.sha224=i.sha.sha224,i.sha384=i.sha.sha384,i.sha512=i.sha.sha512,i.ripemd160=i.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(e,n,s){var i=e("./utils"),a=e("minimalistic-assert");function l(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}s.BlockHash=l,l.prototype.update=function(c,o){if(c=i.toArray(c,o),this.pending?this.pending=this.pending.concat(c):this.pending=c,this.pendingTotal+=c.length,this.pending.length>=this._delta8){var u=(c=this.pending).length%this._delta8;this.pending=c.slice(c.length-u,c.length),this.pending.length===0&&(this.pending=null),c=i.join32(c,0,c.length-u,this.endian);for(var p=0;p<c.length;p+=this._delta32)this._update(c,p,p+this._delta32)}return this},l.prototype.digest=function(c){return this.update(this._pad()),a(this.pending===null),this._digest(c)},l.prototype._pad=function(){var c=this.pendingTotal,o=this._delta8,u=o-(c+this.padLength)%o,p=new Array(u+this.padLength);p[0]=128;for(var h=1;h<u;h++)p[h]=0;if(c<<=3,this.endian==="big"){for(var d=8;d<this.padLength;d++)p[h++]=0;p[h++]=0,p[h++]=0,p[h++]=0,p[h++]=0,p[h++]=c>>>24&255,p[h++]=c>>>16&255,p[h++]=c>>>8&255,p[h++]=255&c}else for(p[h++]=255&c,p[h++]=c>>>8&255,p[h++]=c>>>16&255,p[h++]=c>>>24&255,p[h++]=0,p[h++]=0,p[h++]=0,p[h++]=0,d=8;d<this.padLength;d++)p[h++]=0;return p}},{"./utils":437,"minimalistic-assert":453}],428:[function(e,n,s){var i=e("./utils"),a=e("minimalistic-assert");function l(c,o,u){if(!(this instanceof l))return new l(c,o,u);this.Hash=c,this.blockSize=c.blockSize/8,this.outSize=c.outSize/8,this.inner=null,this.outer=null,this._init(i.toArray(o,u))}n.exports=l,l.prototype._init=function(c){c.length>this.blockSize&&(c=new this.Hash().update(c).digest()),a(c.length<=this.blockSize);for(var o=c.length;o<this.blockSize;o++)c.push(0);for(o=0;o<c.length;o++)c[o]^=54;for(this.inner=new this.Hash().update(c),o=0;o<c.length;o++)c[o]^=106;this.outer=new this.Hash().update(c)},l.prototype.update=function(c,o){return this.inner.update(c,o),this},l.prototype.digest=function(c){return this.outer.update(this.inner.digest()),this.outer.digest(c)}},{"./utils":437,"minimalistic-assert":453}],429:[function(e,n,s){var i=e("./utils"),a=e("./common"),l=i.rotl32,c=i.sum32,o=i.sum32_3,u=i.sum32_4,p=a.BlockHash;function h(){if(!(this instanceof h))return new h;p.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function d(R,z,q,B){return R<=15?z^q^B:R<=31?z&q|~z&B:R<=47?(z|~q)^B:R<=63?z&B|q&~B:z^(q|~B)}function b(R){return R<=15?0:R<=31?1518500249:R<=47?1859775393:R<=63?2400959708:2840853838}function x(R){return R<=15?1352829926:R<=31?1548603684:R<=47?1836072691:R<=63?2053994217:0}i.inherits(h,p),s.ripemd160=h,h.blockSize=512,h.outSize=160,h.hmacStrength=192,h.padLength=64,h.prototype._update=function(R,z){for(var q=this.h[0],B=this.h[1],I=this.h[2],O=this.h[3],F=this.h[4],W=q,V=B,N=I,P=O,C=F,S=0;S<80;S++){var E=c(l(u(q,d(S,B,I,O),R[g[S]+z],b(S)),y[S]),F);q=F,F=O,O=l(I,10),I=B,B=E,E=c(l(u(W,d(79-S,V,N,P),R[v[S]+z],x(S)),k[S]),C),W=C,C=P,P=l(N,10),N=V,V=E}E=o(this.h[1],I,P),this.h[1]=o(this.h[2],O,C),this.h[2]=o(this.h[3],F,W),this.h[3]=o(this.h[4],q,V),this.h[4]=o(this.h[0],B,N),this.h[0]=E},h.prototype._digest=function(R){return R==="hex"?i.toHex32(this.h,"little"):i.split32(this.h,"little")};var g=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],v=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],k=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(e,n,s){s.sha1=e("./sha/1"),s.sha224=e("./sha/224"),s.sha256=e("./sha/256"),s.sha384=e("./sha/384"),s.sha512=e("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(e,n,s){var i=e("../utils"),a=e("../common"),l=e("./common"),c=i.rotl32,o=i.sum32,u=i.sum32_5,p=l.ft_1,h=a.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];function b(){if(!(this instanceof b))return new b;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}i.inherits(b,h),n.exports=b,b.blockSize=512,b.outSize=160,b.hmacStrength=80,b.padLength=64,b.prototype._update=function(x,g){for(var v=this.W,y=0;y<16;y++)v[y]=x[g+y];for(;y<v.length;y++)v[y]=c(v[y-3]^v[y-8]^v[y-14]^v[y-16],1);var k=this.h[0],R=this.h[1],z=this.h[2],q=this.h[3],B=this.h[4];for(y=0;y<v.length;y++){var I=~~(y/20),O=u(c(k,5),p(I,R,z,q),B,v[y],d[I]);B=q,q=z,z=c(R,30),R=k,k=O}this.h[0]=o(this.h[0],k),this.h[1]=o(this.h[1],R),this.h[2]=o(this.h[2],z),this.h[3]=o(this.h[3],q),this.h[4]=o(this.h[4],B)},b.prototype._digest=function(x){return x==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(e,n,s){var i=e("../utils"),a=e("./256");function l(){if(!(this instanceof l))return new l;a.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}i.inherits(l,a),n.exports=l,l.blockSize=512,l.outSize=224,l.hmacStrength=192,l.padLength=64,l.prototype._digest=function(c){return c==="hex"?i.toHex32(this.h.slice(0,7),"big"):i.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(e,n,s){var i=e("../utils"),a=e("../common"),l=e("./common"),c=e("minimalistic-assert"),o=i.sum32,u=i.sum32_4,p=i.sum32_5,h=l.ch32,d=l.maj32,b=l.s0_256,x=l.s1_256,g=l.g0_256,v=l.g1_256,y=a.BlockHash,k=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function R(){if(!(this instanceof R))return new R;y.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=k,this.W=new Array(64)}i.inherits(R,y),n.exports=R,R.blockSize=512,R.outSize=256,R.hmacStrength=192,R.padLength=64,R.prototype._update=function(z,q){for(var B=this.W,I=0;I<16;I++)B[I]=z[q+I];for(;I<B.length;I++)B[I]=u(v(B[I-2]),B[I-7],g(B[I-15]),B[I-16]);var O=this.h[0],F=this.h[1],W=this.h[2],V=this.h[3],N=this.h[4],P=this.h[5],C=this.h[6],S=this.h[7];for(c(this.k.length===B.length),I=0;I<B.length;I++){var E=p(S,x(N),h(N,P,C),this.k[I],B[I]),A=o(b(O),d(O,F,W));S=C,C=P,P=N,N=o(V,E),V=W,W=F,F=O,O=o(E,A)}this.h[0]=o(this.h[0],O),this.h[1]=o(this.h[1],F),this.h[2]=o(this.h[2],W),this.h[3]=o(this.h[3],V),this.h[4]=o(this.h[4],N),this.h[5]=o(this.h[5],P),this.h[6]=o(this.h[6],C),this.h[7]=o(this.h[7],S)},R.prototype._digest=function(z){return z==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(e,n,s){var i=e("../utils"),a=e("./512");function l(){if(!(this instanceof l))return new l;a.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}i.inherits(l,a),n.exports=l,l.blockSize=1024,l.outSize=384,l.hmacStrength=192,l.padLength=128,l.prototype._digest=function(c){return c==="hex"?i.toHex32(this.h.slice(0,12),"big"):i.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(e,n,s){var i=e("../utils"),a=e("../common"),l=e("minimalistic-assert"),c=i.rotr64_hi,o=i.rotr64_lo,u=i.shr64_hi,p=i.shr64_lo,h=i.sum64,d=i.sum64_hi,b=i.sum64_lo,x=i.sum64_4_hi,g=i.sum64_4_lo,v=i.sum64_5_hi,y=i.sum64_5_lo,k=a.BlockHash,R=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function z(){if(!(this instanceof z))return new z;k.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=R,this.W=new Array(160)}function q(A,T,j,L,D){var Z=A&j^~A&D;return Z<0&&(Z+=4294967296),Z}function B(A,T,j,L,D,Z){var K=T&L^~T&Z;return K<0&&(K+=4294967296),K}function I(A,T,j,L,D){var Z=A&j^A&D^j&D;return Z<0&&(Z+=4294967296),Z}function O(A,T,j,L,D,Z){var K=T&L^T&Z^L&Z;return K<0&&(K+=4294967296),K}function F(A,T){var j=c(A,T,28)^c(T,A,2)^c(T,A,7);return j<0&&(j+=4294967296),j}function W(A,T){var j=o(A,T,28)^o(T,A,2)^o(T,A,7);return j<0&&(j+=4294967296),j}function V(A,T){var j=c(A,T,14)^c(A,T,18)^c(T,A,9);return j<0&&(j+=4294967296),j}function N(A,T){var j=o(A,T,14)^o(A,T,18)^o(T,A,9);return j<0&&(j+=4294967296),j}function P(A,T){var j=c(A,T,1)^c(A,T,8)^u(A,T,7);return j<0&&(j+=4294967296),j}function C(A,T){var j=o(A,T,1)^o(A,T,8)^p(A,T,7);return j<0&&(j+=4294967296),j}function S(A,T){var j=c(A,T,19)^c(T,A,29)^u(A,T,6);return j<0&&(j+=4294967296),j}function E(A,T){var j=o(A,T,19)^o(T,A,29)^p(A,T,6);return j<0&&(j+=4294967296),j}i.inherits(z,k),n.exports=z,z.blockSize=1024,z.outSize=512,z.hmacStrength=192,z.padLength=128,z.prototype._prepareBlock=function(A,T){for(var j=this.W,L=0;L<32;L++)j[L]=A[T+L];for(;L<j.length;L+=2){var D=S(j[L-4],j[L-3]),Z=E(j[L-4],j[L-3]),K=j[L-14],ee=j[L-13],G=P(j[L-30],j[L-29]),te=C(j[L-30],j[L-29]),H=j[L-32],U=j[L-31];j[L]=x(D,Z,K,ee,G,te,H,U),j[L+1]=g(D,Z,K,ee,G,te,H,U)}},z.prototype._update=function(A,T){this._prepareBlock(A,T);var j=this.W,L=this.h[0],D=this.h[1],Z=this.h[2],K=this.h[3],ee=this.h[4],G=this.h[5],te=this.h[6],H=this.h[7],U=this.h[8],Q=this.h[9],ie=this.h[10],re=this.h[11],oe=this.h[12],he=this.h[13],ve=this.h[14],me=this.h[15];l(this.k.length===j.length);for(var ne=0;ne<j.length;ne+=2){var de=ve,xe=me,Te=V(U,Q),Re=N(U,Q),Pe=q(U,Q,ie,re,oe),Xe=B(U,Q,ie,re,oe,he),Ue=this.k[ne],tt=this.k[ne+1],at=j[ne],Je=j[ne+1],Ze=v(de,xe,Te,Re,Pe,Xe,Ue,tt,at,Je),vt=y(de,xe,Te,Re,Pe,Xe,Ue,tt,at,Je);de=F(L,D),xe=W(L,D),Te=I(L,D,Z,K,ee),Re=O(L,D,Z,K,ee,G);var pt=d(de,xe,Te,Re),Ie=b(de,xe,Te,Re);ve=oe,me=he,oe=ie,he=re,ie=U,re=Q,U=d(te,H,Ze,vt),Q=b(H,H,Ze,vt),te=ee,H=G,ee=Z,G=K,Z=L,K=D,L=d(Ze,vt,pt,Ie),D=b(Ze,vt,pt,Ie)}h(this.h,0,L,D),h(this.h,2,Z,K),h(this.h,4,ee,G),h(this.h,6,te,H),h(this.h,8,U,Q),h(this.h,10,ie,re),h(this.h,12,oe,he),h(this.h,14,ve,me)},z.prototype._digest=function(A){return A==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(e,n,s){var i=e("../utils").rotr32;function a(o,u,p){return o&u^~o&p}function l(o,u,p){return o&u^o&p^u&p}function c(o,u,p){return o^u^p}s.ft_1=function(o,u,p,h){return o===0?a(u,p,h):o===1||o===3?c(u,p,h):o===2?l(u,p,h):void 0},s.ch32=a,s.maj32=l,s.p32=c,s.s0_256=function(o){return i(o,2)^i(o,13)^i(o,22)},s.s1_256=function(o){return i(o,6)^i(o,11)^i(o,25)},s.g0_256=function(o){return i(o,7)^i(o,18)^o>>>3},s.g1_256=function(o){return i(o,17)^i(o,19)^o>>>10}},{"../utils":437}],437:[function(e,n,s){var i=e("minimalistic-assert"),a=e("inherits");function l(p,h){return(64512&p.charCodeAt(h))==55296&&!(h<0||h+1>=p.length)&&(64512&p.charCodeAt(h+1))==56320}function c(p){return(p>>>24|p>>>8&65280|p<<8&16711680|(255&p)<<24)>>>0}function o(p){return p.length===1?"0"+p:p}function u(p){return p.length===7?"0"+p:p.length===6?"00"+p:p.length===5?"000"+p:p.length===4?"0000"+p:p.length===3?"00000"+p:p.length===2?"000000"+p:p.length===1?"0000000"+p:p}s.inherits=a,s.toArray=function(p,h){if(Array.isArray(p))return p.slice();if(!p)return[];var d=[];if(typeof p=="string")if(h){if(h==="hex")for((p=p.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(p="0"+p),x=0;x<p.length;x+=2)d.push(parseInt(p[x]+p[x+1],16))}else for(var b=0,x=0;x<p.length;x++){var g=p.charCodeAt(x);g<128?d[b++]=g:g<2048?(d[b++]=g>>6|192,d[b++]=63&g|128):l(p,x)?(g=65536+((1023&g)<<10)+(1023&p.charCodeAt(++x)),d[b++]=g>>18|240,d[b++]=g>>12&63|128,d[b++]=g>>6&63|128,d[b++]=63&g|128):(d[b++]=g>>12|224,d[b++]=g>>6&63|128,d[b++]=63&g|128)}else for(x=0;x<p.length;x++)d[x]=0|p[x];return d},s.toHex=function(p){for(var h="",d=0;d<p.length;d++)h+=o(p[d].toString(16));return h},s.htonl=c,s.toHex32=function(p,h){for(var d="",b=0;b<p.length;b++){var x=p[b];h==="little"&&(x=c(x)),d+=u(x.toString(16))}return d},s.zero2=o,s.zero8=u,s.join32=function(p,h,d,b){var x=d-h;i(x%4==0);for(var g=new Array(x/4),v=0,y=h;v<g.length;v++,y+=4){var k;k=b==="big"?p[y]<<24|p[y+1]<<16|p[y+2]<<8|p[y+3]:p[y+3]<<24|p[y+2]<<16|p[y+1]<<8|p[y],g[v]=k>>>0}return g},s.split32=function(p,h){for(var d=new Array(4*p.length),b=0,x=0;b<p.length;b++,x+=4){var g=p[b];h==="big"?(d[x]=g>>>24,d[x+1]=g>>>16&255,d[x+2]=g>>>8&255,d[x+3]=255&g):(d[x+3]=g>>>24,d[x+2]=g>>>16&255,d[x+1]=g>>>8&255,d[x]=255&g)}return d},s.rotr32=function(p,h){return p>>>h|p<<32-h},s.rotl32=function(p,h){return p<<h|p>>>32-h},s.sum32=function(p,h){return p+h>>>0},s.sum32_3=function(p,h,d){return p+h+d>>>0},s.sum32_4=function(p,h,d,b){return p+h+d+b>>>0},s.sum32_5=function(p,h,d,b,x){return p+h+d+b+x>>>0},s.sum64=function(p,h,d,b){var x=p[h],g=b+p[h+1]>>>0,v=(g<b?1:0)+d+x;p[h]=v>>>0,p[h+1]=g},s.sum64_hi=function(p,h,d,b){return(h+b>>>0<h?1:0)+p+d>>>0},s.sum64_lo=function(p,h,d,b){return h+b>>>0},s.sum64_4_hi=function(p,h,d,b,x,g,v,y){var k=0,R=h;return k+=(R=R+b>>>0)<h?1:0,k+=(R=R+g>>>0)<g?1:0,p+d+x+v+(k+=(R=R+y>>>0)<y?1:0)>>>0},s.sum64_4_lo=function(p,h,d,b,x,g,v,y){return h+b+g+y>>>0},s.sum64_5_hi=function(p,h,d,b,x,g,v,y,k,R){var z=0,q=h;return z+=(q=q+b>>>0)<h?1:0,z+=(q=q+g>>>0)<g?1:0,z+=(q=q+y>>>0)<y?1:0,p+d+x+v+k+(z+=(q=q+R>>>0)<R?1:0)>>>0},s.sum64_5_lo=function(p,h,d,b,x,g,v,y,k,R){return h+b+g+y+R>>>0},s.rotr64_hi=function(p,h,d){return(h<<32-d|p>>>d)>>>0},s.rotr64_lo=function(p,h,d){return(p<<32-d|h>>>d)>>>0},s.shr64_hi=function(p,h,d){return p>>>d},s.shr64_lo=function(p,h,d){return(p<<32-d|h>>>d)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(e,n,s){var i=e("hash.js"),a=e("minimalistic-crypto-utils"),l=e("minimalistic-assert");function c(o){if(!(this instanceof c))return new c(o);this.hash=o.hash,this.predResist=!!o.predResist,this.outLen=this.hash.outSize,this.minEntropy=o.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var u=a.toArray(o.entropy,o.entropyEnc||"hex"),p=a.toArray(o.nonce,o.nonceEnc||"hex"),h=a.toArray(o.pers,o.persEnc||"hex");l(u.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(u,p,h)}n.exports=c,c.prototype._init=function(o,u,p){var h=o.concat(u).concat(p);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var d=0;d<this.V.length;d++)this.K[d]=0,this.V[d]=1;this._update(h),this._reseed=1,this.reseedInterval=281474976710656},c.prototype._hmac=function(){return new i.hmac(this.hash,this.K)},c.prototype._update=function(o){var u=this._hmac().update(this.V).update([0]);o&&(u=u.update(o)),this.K=u.digest(),this.V=this._hmac().update(this.V).digest(),o&&(this.K=this._hmac().update(this.V).update([1]).update(o).digest(),this.V=this._hmac().update(this.V).digest())},c.prototype.reseed=function(o,u,p,h){typeof u!="string"&&(h=p,p=u,u=null),o=a.toArray(o,u),p=a.toArray(p,h),l(o.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(o.concat(p||[])),this._reseed=1},c.prototype.generate=function(o,u,p,h){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof u!="string"&&(h=p,p=u,u=null),p&&(p=a.toArray(p,h||"hex"),this._update(p));for(var d=[];d.length<o;)this.V=this._hmac().update(this.V).digest(),d=d.concat(this.V);var b=d.slice(0,o);return this._update(p),this._reseed++,a.encode(b,u)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(e,n,s){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */s.read=function(i,a,l,c,o){var u,p,h=8*o-c-1,d=(1<<h)-1,b=d>>1,x=-7,g=l?o-1:0,v=l?-1:1,y=i[a+g];for(g+=v,u=y&(1<<-x)-1,y>>=-x,x+=h;x>0;u=256*u+i[a+g],g+=v,x-=8);for(p=u&(1<<-x)-1,u>>=-x,x+=c;x>0;p=256*p+i[a+g],g+=v,x-=8);if(u===0)u=1-b;else{if(u===d)return p?NaN:1/0*(y?-1:1);p+=Math.pow(2,c),u-=b}return(y?-1:1)*p*Math.pow(2,u-c)},s.write=function(i,a,l,c,o,u){var p,h,d,b=8*u-o-1,x=(1<<b)-1,g=x>>1,v=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=c?0:u-1,k=c?1:-1,R=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(h=isNaN(a)?1:0,p=x):(p=Math.floor(Math.log(a)/Math.LN2),a*(d=Math.pow(2,-p))<1&&(p--,d*=2),(a+=p+g>=1?v/d:v*Math.pow(2,1-g))*d>=2&&(p++,d/=2),p+g>=x?(h=0,p=x):p+g>=1?(h=(a*d-1)*Math.pow(2,o),p+=g):(h=a*Math.pow(2,g-1)*Math.pow(2,o),p=0));o>=8;i[l+y]=255&h,y+=k,h/=256,o-=8);for(p=p<<o|h,b+=o;b>0;i[l+y]=255&p,y+=k,p/=256,b-=8);i[l+y-k]|=128*R}},{}],440:[function(e,n,s){typeof Object.create=="function"?n.exports=function(i,a){a&&(i.super_=a,i.prototype=Object.create(a.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}))}:n.exports=function(i,a){if(a){i.super_=a;var l=function(){};l.prototype=a.prototype,i.prototype=new l,i.prototype.constructor=i}}},{}],441:[function(e,n,s){(function(i,a,l,c,o,u,p,h){(function(){/*!

		JSZip v3.10.1 - A JavaScript class for generating and reading zip files
		<http://stuartk.com/jszip>

		(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
		Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

		JSZip uses the library pako released under the MIT license :
		https://github.com/nodeca/pako/blob/main/LICENSE
		*/(function(d){typeof s=="object"&&n!==void 0?n.exports=d():(typeof window<"u"?window:a!==void 0?a:typeof self<"u"?self:this).JSZip=d()})((function(){return(function d(b,x,g){function v(R,z){if(!x[R]){if(!b[R]){var q=typeof e=="function"&&e;if(!z&&q)return q(R,!0);if(y)return y(R,!0);var B=new Error("Cannot find module '"+R+"'");throw B.code="MODULE_NOT_FOUND",B}var I=x[R]={exports:{}};b[R][0].call(I.exports,(function(O){return v(b[R][1][O]||O)}),I,I.exports,d,b,x,g)}return x[R].exports}for(var y=typeof e=="function"&&e,k=0;k<g.length;k++)v(g[k]);return v})({1:[function(d,b,x){var g=d("./utils"),v=d("./support"),y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";x.encode=function(k){for(var R,z,q,B,I,O,F,W=[],V=0,N=k.length,P=N,C=g.getTypeOf(k)!=="string";V<k.length;)P=N-V,q=C?(R=k[V++],z=V<N?k[V++]:0,V<N?k[V++]:0):(R=k.charCodeAt(V++),z=V<N?k.charCodeAt(V++):0,V<N?k.charCodeAt(V++):0),B=R>>2,I=(3&R)<<4|z>>4,O=1<P?(15&z)<<2|q>>6:64,F=2<P?63&q:64,W.push(y.charAt(B)+y.charAt(I)+y.charAt(O)+y.charAt(F));return W.join("")},x.decode=function(k){var R,z,q,B,I,O,F=0,W=0,V="data:";if(k.substr(0,V.length)===V)throw new Error("Invalid base64 input, it looks like a data url.");var N,P=3*(k=k.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(k.charAt(k.length-1)===y.charAt(64)&&P--,k.charAt(k.length-2)===y.charAt(64)&&P--,P%1!=0)throw new Error("Invalid base64 input, bad content length.");for(N=v.uint8array?new Uint8Array(0|P):new Array(0|P);F<k.length;)R=y.indexOf(k.charAt(F++))<<2|(B=y.indexOf(k.charAt(F++)))>>4,z=(15&B)<<4|(I=y.indexOf(k.charAt(F++)))>>2,q=(3&I)<<6|(O=y.indexOf(k.charAt(F++))),N[W++]=R,I!==64&&(N[W++]=z),O!==64&&(N[W++]=q);return N}},{"./support":30,"./utils":32}],2:[function(d,b,x){var g=d("./external"),v=d("./stream/DataWorker"),y=d("./stream/Crc32Probe"),k=d("./stream/DataLengthProbe");function R(z,q,B,I,O){this.compressedSize=z,this.uncompressedSize=q,this.crc32=B,this.compression=I,this.compressedContent=O}R.prototype={getContentWorker:function(){var z=new v(g.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new k("data_length")),q=this;return z.on("end",(function(){if(this.streamInfo.data_length!==q.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),z},getCompressedWorker:function(){return new v(g.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},R.createWorkerFrom=function(z,q,B){return z.pipe(new y).pipe(new k("uncompressedSize")).pipe(q.compressWorker(B)).pipe(new k("compressedSize")).withStreamInfo("compression",q)},b.exports=R},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(d,b,x){var g=d("./stream/GenericWorker");x.STORE={magic:"\0\0",compressWorker:function(){return new g("STORE compression")},uncompressWorker:function(){return new g("STORE decompression")}},x.DEFLATE=d("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(d,b,x){var g=d("./utils"),v=(function(){for(var y,k=[],R=0;R<256;R++){y=R;for(var z=0;z<8;z++)y=1&y?3988292384^y>>>1:y>>>1;k[R]=y}return k})();b.exports=function(y,k){return y!==void 0&&y.length?g.getTypeOf(y)!=="string"?(function(R,z,q,B){var I=v,O=0+q;R^=-1;for(var F=0;F<O;F++)R=R>>>8^I[255&(R^z[F])];return-1^R})(0|k,y,y.length):(function(R,z,q,B){var I=v,O=0+q;R^=-1;for(var F=0;F<O;F++)R=R>>>8^I[255&(R^z.charCodeAt(F))];return-1^R})(0|k,y,y.length):0}},{"./utils":32}],5:[function(d,b,x){x.base64=!1,x.binary=!1,x.dir=!1,x.createFolders=!0,x.date=null,x.compression=null,x.compressionOptions=null,x.comment=null,x.unixPermissions=null,x.dosPermissions=null},{}],6:[function(d,b,x){var g;g=typeof Promise<"u"?Promise:d("lie"),b.exports={Promise:g}},{lie:37}],7:[function(d,b,x){var g=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",v=d("pako"),y=d("./utils"),k=d("./stream/GenericWorker"),R=g?"uint8array":"array";function z(q,B){k.call(this,"FlateWorker/"+q),this._pako=null,this._pakoAction=q,this._pakoOptions=B,this.meta={}}x.magic="\b\0",y.inherits(z,k),z.prototype.processChunk=function(q){this.meta=q.meta,this._pako===null&&this._createPako(),this._pako.push(y.transformTo(R,q.data),!1)},z.prototype.flush=function(){k.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},z.prototype.cleanUp=function(){k.prototype.cleanUp.call(this),this._pako=null},z.prototype._createPako=function(){this._pako=new v[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var q=this;this._pako.onData=function(B){q.push({data:B,meta:q.meta})}},x.compressWorker=function(q){return new z("Deflate",q)},x.uncompressWorker=function(){return new z("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(d,b,x){function g(I,O){var F,W="";for(F=0;F<O;F++)W+=String.fromCharCode(255&I),I>>>=8;return W}function v(I,O,F,W,V,N){var P,C,S=I.file,E=I.compression,A=N!==R.utf8encode,T=y.transformTo("string",N(S.name)),j=y.transformTo("string",R.utf8encode(S.name)),L=S.comment,D=y.transformTo("string",N(L)),Z=y.transformTo("string",R.utf8encode(L)),K=j.length!==S.name.length,ee=Z.length!==L.length,G="",te="",H="",U=S.dir,Q=S.date,ie={crc32:0,compressedSize:0,uncompressedSize:0};O&&!F||(ie.crc32=I.crc32,ie.compressedSize=I.compressedSize,ie.uncompressedSize=I.uncompressedSize);var re=0;O&&(re|=8),A||!K&&!ee||(re|=2048);var oe=0,he=0;U&&(oe|=16),V==="UNIX"?(he=798,oe|=(function(me,ne){var de=me;return me||(de=ne?16893:33204),(65535&de)<<16})(S.unixPermissions,U)):(he=20,oe|=(function(me){return 63&(me||0)})(S.dosPermissions)),P=Q.getUTCHours(),P<<=6,P|=Q.getUTCMinutes(),P<<=5,P|=Q.getUTCSeconds()/2,C=Q.getUTCFullYear()-1980,C<<=4,C|=Q.getUTCMonth()+1,C<<=5,C|=Q.getUTCDate(),K&&(te=g(1,1)+g(z(T),4)+j,G+="up"+g(te.length,2)+te),ee&&(H=g(1,1)+g(z(D),4)+Z,G+="uc"+g(H.length,2)+H);var ve="";return ve+=`
\0`,ve+=g(re,2),ve+=E.magic,ve+=g(P,2),ve+=g(C,2),ve+=g(ie.crc32,4),ve+=g(ie.compressedSize,4),ve+=g(ie.uncompressedSize,4),ve+=g(T.length,2),ve+=g(G.length,2),{fileRecord:q.LOCAL_FILE_HEADER+ve+T+G,dirRecord:q.CENTRAL_FILE_HEADER+g(he,2)+ve+g(D.length,2)+"\0\0\0\0"+g(oe,4)+g(W,4)+T+G+D}}var y=d("../utils"),k=d("../stream/GenericWorker"),R=d("../utf8"),z=d("../crc32"),q=d("../signature");function B(I,O,F,W){k.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=O,this.zipPlatform=F,this.encodeFileName=W,this.streamFiles=I,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}y.inherits(B,k),B.prototype.push=function(I){var O=I.meta.percent||0,F=this.entriesCount,W=this._sources.length;this.accumulate?this.contentBuffer.push(I):(this.bytesWritten+=I.data.length,k.prototype.push.call(this,{data:I.data,meta:{currentFile:this.currentFile,percent:F?(O+100*(F-W-1))/F:100}}))},B.prototype.openedSource=function(I){this.currentSourceOffset=this.bytesWritten,this.currentFile=I.file.name;var O=this.streamFiles&&!I.file.dir;if(O){var F=v(I,O,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:F.fileRecord,meta:{percent:0}})}else this.accumulate=!0},B.prototype.closedSource=function(I){this.accumulate=!1;var O=this.streamFiles&&!I.file.dir,F=v(I,O,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(F.dirRecord),O)this.push({data:(function(W){return q.DATA_DESCRIPTOR+g(W.crc32,4)+g(W.compressedSize,4)+g(W.uncompressedSize,4)})(I),meta:{percent:100}});else for(this.push({data:F.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},B.prototype.flush=function(){for(var I=this.bytesWritten,O=0;O<this.dirRecords.length;O++)this.push({data:this.dirRecords[O],meta:{percent:100}});var F=this.bytesWritten-I,W=(function(V,N,P,C,S){var E=y.transformTo("string",S(C));return q.CENTRAL_DIRECTORY_END+"\0\0\0\0"+g(V,2)+g(V,2)+g(N,4)+g(P,4)+g(E.length,2)+E})(this.dirRecords.length,F,I,this.zipComment,this.encodeFileName);this.push({data:W,meta:{percent:100}})},B.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},B.prototype.registerPrevious=function(I){this._sources.push(I);var O=this;return I.on("data",(function(F){O.processChunk(F)})),I.on("end",(function(){O.closedSource(O.previous.streamInfo),O._sources.length?O.prepareNextSource():O.end()})),I.on("error",(function(F){O.error(F)})),this},B.prototype.resume=function(){return!!k.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},B.prototype.error=function(I){var O=this._sources;if(!k.prototype.error.call(this,I))return!1;for(var F=0;F<O.length;F++)try{O[F].error(I)}catch{}return!0},B.prototype.lock=function(){k.prototype.lock.call(this);for(var I=this._sources,O=0;O<I.length;O++)I[O].lock()},b.exports=B},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(d,b,x){var g=d("../compressions"),v=d("./ZipFileWorker");x.generateWorker=function(y,k,R){var z=new v(k.streamFiles,R,k.platform,k.encodeFileName),q=0;try{y.forEach((function(B,I){q++;var O=(function(N,P){var C=N||P,S=g[C];if(!S)throw new Error(C+" is not a valid compression method !");return S})(I.options.compression,k.compression),F=I.options.compressionOptions||k.compressionOptions||{},W=I.dir,V=I.date;I._compressWorker(O,F).withStreamInfo("file",{name:B,dir:W,date:V,comment:I.comment||"",unixPermissions:I.unixPermissions,dosPermissions:I.dosPermissions}).pipe(z)})),z.entriesCount=q}catch(B){z.error(B)}return z}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(d,b,x){function g(){if(!(this instanceof g))return new g;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var v=new g;for(var y in this)typeof this[y]!="function"&&(v[y]=this[y]);return v}}(g.prototype=d("./object")).loadAsync=d("./load"),g.support=d("./support"),g.defaults=d("./defaults"),g.version="3.10.1",g.loadAsync=function(v,y){return new g().loadAsync(v,y)},g.external=d("./external"),b.exports=g},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(d,b,x){var g=d("./utils"),v=d("./external"),y=d("./utf8"),k=d("./zipEntries"),R=d("./stream/Crc32Probe"),z=d("./nodejsUtils");function q(B){return new v.Promise((function(I,O){var F=B.decompressed.getContentWorker().pipe(new R);F.on("error",(function(W){O(W)})).on("end",(function(){F.streamInfo.crc32!==B.decompressed.crc32?O(new Error("Corrupted zip : CRC32 mismatch")):I()})).resume()}))}b.exports=function(B,I){var O=this;return I=g.extend(I||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:y.utf8decode}),z.isNode&&z.isStream(B)?v.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):g.prepareContent("the loaded zip file",B,!0,I.optimizedBinaryString,I.base64).then((function(F){var W=new k(I);return W.load(F),W})).then((function(F){var W=[v.Promise.resolve(F)],V=F.files;if(I.checkCRC32)for(var N=0;N<V.length;N++)W.push(q(V[N]));return v.Promise.all(W)})).then((function(F){for(var W=F.shift(),V=W.files,N=0;N<V.length;N++){var P=V[N],C=P.fileNameStr,S=g.resolve(P.fileNameStr);O.file(S,P.decompressed,{binary:!0,optimizedBinaryString:!0,date:P.date,dir:P.dir,comment:P.fileCommentStr.length?P.fileCommentStr:null,unixPermissions:P.unixPermissions,dosPermissions:P.dosPermissions,createFolders:I.createFolders}),P.dir||(O.file(S).unsafeOriginalName=C)}return W.zipComment.length&&(O.comment=W.zipComment),O}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(d,b,x){var g=d("../utils"),v=d("../stream/GenericWorker");function y(k,R){v.call(this,"Nodejs stream input adapter for "+k),this._upstreamEnded=!1,this._bindStream(R)}g.inherits(y,v),y.prototype._bindStream=function(k){var R=this;(this._stream=k).pause(),k.on("data",(function(z){R.push({data:z,meta:{percent:0}})})).on("error",(function(z){R.isPaused?this.generatedError=z:R.error(z)})).on("end",(function(){R.isPaused?R._upstreamEnded=!0:R.end()}))},y.prototype.pause=function(){return!!v.prototype.pause.call(this)&&(this._stream.pause(),!0)},y.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},b.exports=y},{"../stream/GenericWorker":28,"../utils":32}],13:[function(d,b,x){var g=d("readable-stream").Readable;function v(y,k,R){g.call(this,k),this._helper=y;var z=this;y.on("data",(function(q,B){z.push(q)||z._helper.pause(),R&&R(B)})).on("error",(function(q){z.emit("error",q)})).on("end",(function(){z.push(null)}))}d("../utils").inherits(v,g),v.prototype._read=function(){this._helper.resume()},b.exports=v},{"../utils":32,"readable-stream":16}],14:[function(d,b,x){b.exports={isNode:l!==void 0,newBufferFrom:function(g,v){if(l.from&&l.from!==Uint8Array.from)return l.from(g,v);if(typeof g=="number")throw new Error('The "data" argument must not be a number');return new l(g,v)},allocBuffer:function(g){if(l.alloc)return l.alloc(g);var v=new l(g);return v.fill(0),v},isBuffer:function(g){return l.isBuffer(g)},isStream:function(g){return g&&typeof g.on=="function"&&typeof g.pause=="function"&&typeof g.resume=="function"}}},{}],15:[function(d,b,x){function g(S,E,A){var T,j=y.getTypeOf(E),L=y.extend(A||{},z);L.date=L.date||new Date,L.compression!==null&&(L.compression=L.compression.toUpperCase()),typeof L.unixPermissions=="string"&&(L.unixPermissions=parseInt(L.unixPermissions,8)),L.unixPermissions&&16384&L.unixPermissions&&(L.dir=!0),L.dosPermissions&&16&L.dosPermissions&&(L.dir=!0),L.dir&&(S=V(S)),L.createFolders&&(T=W(S))&&N.call(this,T,!0);var D=j==="string"&&L.binary===!1&&L.base64===!1;A&&A.binary!==void 0||(L.binary=!D),(E instanceof q&&E.uncompressedSize===0||L.dir||!E||E.length===0)&&(L.base64=!1,L.binary=!0,E="",L.compression="STORE",j="string");var Z;Z=E instanceof q||E instanceof k?E:O.isNode&&O.isStream(E)?new F(S,E):y.prepareContent(S,E,L.binary,L.optimizedBinaryString,L.base64);var K=new B(S,Z,L);this.files[S]=K}var v=d("./utf8"),y=d("./utils"),k=d("./stream/GenericWorker"),R=d("./stream/StreamHelper"),z=d("./defaults"),q=d("./compressedObject"),B=d("./zipObject"),I=d("./generate"),O=d("./nodejsUtils"),F=d("./nodejs/NodejsStreamInputAdapter"),W=function(S){S.slice(-1)==="/"&&(S=S.substring(0,S.length-1));var E=S.lastIndexOf("/");return 0<E?S.substring(0,E):""},V=function(S){return S.slice(-1)!=="/"&&(S+="/"),S},N=function(S,E){return E=E!==void 0?E:z.createFolders,S=V(S),this.files[S]||g.call(this,S,null,{dir:!0,createFolders:E}),this.files[S]};function P(S){return Object.prototype.toString.call(S)==="[object RegExp]"}var C={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(S){var E,A,T;for(E in this.files)T=this.files[E],(A=E.slice(this.root.length,E.length))&&E.slice(0,this.root.length)===this.root&&S(A,T)},filter:function(S){var E=[];return this.forEach((function(A,T){S(A,T)&&E.push(T)})),E},file:function(S,E,A){if(arguments.length!==1)return S=this.root+S,g.call(this,S,E,A),this;if(P(S)){var T=S;return this.filter((function(L,D){return!D.dir&&T.test(L)}))}var j=this.files[this.root+S];return j&&!j.dir?j:null},folder:function(S){if(!S)return this;if(P(S))return this.filter((function(j,L){return L.dir&&S.test(j)}));var E=this.root+S,A=N.call(this,E),T=this.clone();return T.root=A.name,T},remove:function(S){S=this.root+S;var E=this.files[S];if(E||(S.slice(-1)!=="/"&&(S+="/"),E=this.files[S]),E&&!E.dir)delete this.files[S];else for(var A=this.filter((function(j,L){return L.name.slice(0,S.length)===S})),T=0;T<A.length;T++)delete this.files[A[T].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(S){var E,A={};try{if((A=y.extend(S||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:v.utf8encode})).type=A.type.toLowerCase(),A.compression=A.compression.toUpperCase(),A.type==="binarystring"&&(A.type="string"),!A.type)throw new Error("No output type specified.");y.checkSupport(A.type),A.platform!=="darwin"&&A.platform!=="freebsd"&&A.platform!=="linux"&&A.platform!=="sunos"||(A.platform="UNIX"),A.platform==="win32"&&(A.platform="DOS");var T=A.comment||this.comment||"";E=I.generateWorker(this,A,T)}catch(j){(E=new k("error")).error(j)}return new R(E,A.type||"string",A.mimeType)},generateAsync:function(S,E){return this.generateInternalStream(S).accumulate(E)},generateNodeStream:function(S,E){return(S=S||{}).type||(S.type="nodebuffer"),this.generateInternalStream(S).toNodejsStream(E)}};b.exports=C},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(d,b,x){b.exports=d("stream")},{stream:void 0}],17:[function(d,b,x){var g=d("./DataReader");function v(y){g.call(this,y);for(var k=0;k<this.data.length;k++)y[k]=255&y[k]}d("../utils").inherits(v,g),v.prototype.byteAt=function(y){return this.data[this.zero+y]},v.prototype.lastIndexOfSignature=function(y){for(var k=y.charCodeAt(0),R=y.charCodeAt(1),z=y.charCodeAt(2),q=y.charCodeAt(3),B=this.length-4;0<=B;--B)if(this.data[B]===k&&this.data[B+1]===R&&this.data[B+2]===z&&this.data[B+3]===q)return B-this.zero;return-1},v.prototype.readAndCheckSignature=function(y){var k=y.charCodeAt(0),R=y.charCodeAt(1),z=y.charCodeAt(2),q=y.charCodeAt(3),B=this.readData(4);return k===B[0]&&R===B[1]&&z===B[2]&&q===B[3]},v.prototype.readData=function(y){if(this.checkOffset(y),y===0)return[];var k=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,k},b.exports=v},{"../utils":32,"./DataReader":18}],18:[function(d,b,x){var g=d("../utils");function v(y){this.data=y,this.length=y.length,this.index=0,this.zero=0}v.prototype={checkOffset:function(y){this.checkIndex(this.index+y)},checkIndex:function(y){if(this.length<this.zero+y||y<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+y+"). Corrupted zip ?")},setIndex:function(y){this.checkIndex(y),this.index=y},skip:function(y){this.setIndex(this.index+y)},byteAt:function(){},readInt:function(y){var k,R=0;for(this.checkOffset(y),k=this.index+y-1;k>=this.index;k--)R=(R<<8)+this.byteAt(k);return this.index+=y,R},readString:function(y){return g.transformTo("string",this.readData(y))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var y=this.readInt(4);return new Date(Date.UTC(1980+(y>>25&127),(y>>21&15)-1,y>>16&31,y>>11&31,y>>5&63,(31&y)<<1))}},b.exports=v},{"../utils":32}],19:[function(d,b,x){var g=d("./Uint8ArrayReader");function v(y){g.call(this,y)}d("../utils").inherits(v,g),v.prototype.readData=function(y){this.checkOffset(y);var k=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,k},b.exports=v},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(d,b,x){var g=d("./DataReader");function v(y){g.call(this,y)}d("../utils").inherits(v,g),v.prototype.byteAt=function(y){return this.data.charCodeAt(this.zero+y)},v.prototype.lastIndexOfSignature=function(y){return this.data.lastIndexOf(y)-this.zero},v.prototype.readAndCheckSignature=function(y){return y===this.readData(4)},v.prototype.readData=function(y){this.checkOffset(y);var k=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,k},b.exports=v},{"../utils":32,"./DataReader":18}],21:[function(d,b,x){var g=d("./ArrayReader");function v(y){g.call(this,y)}d("../utils").inherits(v,g),v.prototype.readData=function(y){if(this.checkOffset(y),y===0)return new Uint8Array(0);var k=this.data.subarray(this.zero+this.index,this.zero+this.index+y);return this.index+=y,k},b.exports=v},{"../utils":32,"./ArrayReader":17}],22:[function(d,b,x){var g=d("../utils"),v=d("../support"),y=d("./ArrayReader"),k=d("./StringReader"),R=d("./NodeBufferReader"),z=d("./Uint8ArrayReader");b.exports=function(q){var B=g.getTypeOf(q);return g.checkSupport(B),B!=="string"||v.uint8array?B==="nodebuffer"?new R(q):v.uint8array?new z(g.transformTo("uint8array",q)):new y(g.transformTo("array",q)):new k(q)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(d,b,x){x.LOCAL_FILE_HEADER="PK",x.CENTRAL_FILE_HEADER="PK",x.CENTRAL_DIRECTORY_END="PK",x.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",x.ZIP64_CENTRAL_DIRECTORY_END="PK",x.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(d,b,x){var g=d("./GenericWorker"),v=d("../utils");function y(k){g.call(this,"ConvertWorker to "+k),this.destType=k}v.inherits(y,g),y.prototype.processChunk=function(k){this.push({data:v.transformTo(this.destType,k.data),meta:k.meta})},b.exports=y},{"../utils":32,"./GenericWorker":28}],25:[function(d,b,x){var g=d("./GenericWorker"),v=d("../crc32");function y(){g.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}d("../utils").inherits(y,g),y.prototype.processChunk=function(k){this.streamInfo.crc32=v(k.data,this.streamInfo.crc32||0),this.push(k)},b.exports=y},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(d,b,x){var g=d("../utils"),v=d("./GenericWorker");function y(k){v.call(this,"DataLengthProbe for "+k),this.propName=k,this.withStreamInfo(k,0)}g.inherits(y,v),y.prototype.processChunk=function(k){if(k){var R=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=R+k.data.length}v.prototype.processChunk.call(this,k)},b.exports=y},{"../utils":32,"./GenericWorker":28}],27:[function(d,b,x){var g=d("../utils"),v=d("./GenericWorker");function y(k){v.call(this,"DataWorker");var R=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,k.then((function(z){R.dataIsReady=!0,R.data=z,R.max=z&&z.length||0,R.type=g.getTypeOf(z),R.isPaused||R._tickAndRepeat()}),(function(z){R.error(z)}))}g.inherits(y,v),y.prototype.cleanUp=function(){v.prototype.cleanUp.call(this),this.data=null},y.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,g.delay(this._tickAndRepeat,[],this)),!0)},y.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(g.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},y.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var k=null,R=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":k=this.data.substring(this.index,R);break;case"uint8array":k=this.data.subarray(this.index,R);break;case"array":case"nodebuffer":k=this.data.slice(this.index,R)}return this.index=R,this.push({data:k,meta:{percent:this.max?this.index/this.max*100:0}})},b.exports=y},{"../utils":32,"./GenericWorker":28}],28:[function(d,b,x){function g(v){this.name=v||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}g.prototype={push:function(v){this.emit("data",v)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(v){this.emit("error",v)}return!0},error:function(v){return!this.isFinished&&(this.isPaused?this.generatedError=v:(this.isFinished=!0,this.emit("error",v),this.previous&&this.previous.error(v),this.cleanUp()),!0)},on:function(v,y){return this._listeners[v].push(y),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(v,y){if(this._listeners[v])for(var k=0;k<this._listeners[v].length;k++)this._listeners[v][k].call(this,y)},pipe:function(v){return v.registerPrevious(this)},registerPrevious:function(v){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=v.streamInfo,this.mergeStreamInfo(),this.previous=v;var y=this;return v.on("data",(function(k){y.processChunk(k)})),v.on("end",(function(){y.end()})),v.on("error",(function(k){y.error(k)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var v=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),v=!0),this.previous&&this.previous.resume(),!v},flush:function(){},processChunk:function(v){this.push(v)},withStreamInfo:function(v,y){return this.extraStreamInfo[v]=y,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var v in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,v)&&(this.streamInfo[v]=this.extraStreamInfo[v])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var v="Worker "+this.name;return this.previous?this.previous+" -> "+v:v}},b.exports=g},{}],29:[function(d,b,x){var g=d("../utils"),v=d("./ConvertWorker"),y=d("./GenericWorker"),k=d("../base64"),R=d("../support"),z=d("../external"),q=null;if(R.nodestream)try{q=d("../nodejs/NodejsStreamOutputAdapter")}catch{}function B(I,O,F){var W=O;switch(O){case"blob":case"arraybuffer":W="uint8array";break;case"base64":W="string"}try{this._internalType=W,this._outputType=O,this._mimeType=F,g.checkSupport(W),this._worker=I.pipe(new v(W)),I.lock()}catch(V){this._worker=new y("error"),this._worker.error(V)}}B.prototype={accumulate:function(I){return(function(O,F){return new z.Promise((function(W,V){var N=[],P=O._internalType,C=O._outputType,S=O._mimeType;O.on("data",(function(E,A){N.push(E),F&&F(A)})).on("error",(function(E){N=[],V(E)})).on("end",(function(){try{var E=(function(A,T,j){switch(A){case"blob":return g.newBlob(g.transformTo("arraybuffer",T),j);case"base64":return k.encode(T);default:return g.transformTo(A,T)}})(C,(function(A,T){var j,L=0,D=null,Z=0;for(j=0;j<T.length;j++)Z+=T[j].length;switch(A){case"string":return T.join("");case"array":return Array.prototype.concat.apply([],T);case"uint8array":for(D=new Uint8Array(Z),j=0;j<T.length;j++)D.set(T[j],L),L+=T[j].length;return D;case"nodebuffer":return l.concat(T);default:throw new Error("concat : unsupported type '"+A+"'")}})(P,N),S);W(E)}catch(A){V(A)}N=[]})).resume()}))})(this,I)},on:function(I,O){var F=this;return I==="data"?this._worker.on(I,(function(W){O.call(F,W.data,W.meta)})):this._worker.on(I,(function(){g.delay(O,arguments,F)})),this},resume:function(){return g.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(I){if(g.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new q(this,{objectMode:this._outputType!=="nodebuffer"},I)}},b.exports=B},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(d,b,x){if(x.base64=!0,x.array=!0,x.string=!0,x.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",x.nodebuffer=l!==void 0,x.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")x.blob=!1;else{var g=new ArrayBuffer(0);try{x.blob=new Blob([g],{type:"application/zip"}).size===0}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);v.append(g),x.blob=v.getBlob("application/zip").size===0}catch{x.blob=!1}}}try{x.nodestream=!!d("readable-stream").Readable}catch{x.nodestream=!1}},{"readable-stream":16}],31:[function(d,b,x){for(var g=d("./utils"),v=d("./support"),y=d("./nodejsUtils"),k=d("./stream/GenericWorker"),R=new Array(256),z=0;z<256;z++)R[z]=252<=z?6:248<=z?5:240<=z?4:224<=z?3:192<=z?2:1;function q(){k.call(this,"utf-8 decode"),this.leftOver=null}function B(){k.call(this,"utf-8 encode")}R[254]=R[254]=1,x.utf8encode=function(I){return v.nodebuffer?y.newBufferFrom(I,"utf-8"):(function(O){var F,W,V,N,P,C=O.length,S=0;for(N=0;N<C;N++)(64512&(W=O.charCodeAt(N)))==55296&&N+1<C&&(64512&(V=O.charCodeAt(N+1)))==56320&&(W=65536+(W-55296<<10)+(V-56320),N++),S+=W<128?1:W<2048?2:W<65536?3:4;for(F=v.uint8array?new Uint8Array(S):new Array(S),N=P=0;P<S;N++)(64512&(W=O.charCodeAt(N)))==55296&&N+1<C&&(64512&(V=O.charCodeAt(N+1)))==56320&&(W=65536+(W-55296<<10)+(V-56320),N++),W<128?F[P++]=W:(W<2048?F[P++]=192|W>>>6:(W<65536?F[P++]=224|W>>>12:(F[P++]=240|W>>>18,F[P++]=128|W>>>12&63),F[P++]=128|W>>>6&63),F[P++]=128|63&W);return F})(I)},x.utf8decode=function(I){return v.nodebuffer?g.transformTo("nodebuffer",I).toString("utf-8"):(function(O){var F,W,V,N,P=O.length,C=new Array(2*P);for(F=W=0;F<P;)if((V=O[F++])<128)C[W++]=V;else if(4<(N=R[V]))C[W++]=65533,F+=N-1;else{for(V&=N===2?31:N===3?15:7;1<N&&F<P;)V=V<<6|63&O[F++],N--;1<N?C[W++]=65533:V<65536?C[W++]=V:(V-=65536,C[W++]=55296|V>>10&1023,C[W++]=56320|1023&V)}return C.length!==W&&(C.subarray?C=C.subarray(0,W):C.length=W),g.applyFromCharCode(C)})(I=g.transformTo(v.uint8array?"uint8array":"array",I))},g.inherits(q,k),q.prototype.processChunk=function(I){var O=g.transformTo(v.uint8array?"uint8array":"array",I.data);if(this.leftOver&&this.leftOver.length){if(v.uint8array){var F=O;(O=new Uint8Array(F.length+this.leftOver.length)).set(this.leftOver,0),O.set(F,this.leftOver.length)}else O=this.leftOver.concat(O);this.leftOver=null}var W=(function(N,P){var C;for((P=P||N.length)>N.length&&(P=N.length),C=P-1;0<=C&&(192&N[C])==128;)C--;return C<0||C===0?P:C+R[N[C]]>P?C:P})(O),V=O;W!==O.length&&(v.uint8array?(V=O.subarray(0,W),this.leftOver=O.subarray(W,O.length)):(V=O.slice(0,W),this.leftOver=O.slice(W,O.length))),this.push({data:x.utf8decode(V),meta:I.meta})},q.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:x.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},x.Utf8DecodeWorker=q,g.inherits(B,k),B.prototype.processChunk=function(I){this.push({data:x.utf8encode(I.data),meta:I.meta})},x.Utf8EncodeWorker=B},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(d,b,x){var g=d("./support"),v=d("./base64"),y=d("./nodejsUtils"),k=d("./external");function R(F){return F}function z(F,W){for(var V=0;V<F.length;++V)W[V]=255&F.charCodeAt(V);return W}d("setimmediate"),x.newBlob=function(F,W){x.checkSupport("blob");try{return new Blob([F],{type:W})}catch{try{var V=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return V.append(F),V.getBlob(W)}catch{throw new Error("Bug : can't construct the Blob.")}}};var q={stringifyByChunk:function(F,W,V){var N=[],P=0,C=F.length;if(C<=V)return String.fromCharCode.apply(null,F);for(;P<C;)W==="array"||W==="nodebuffer"?N.push(String.fromCharCode.apply(null,F.slice(P,Math.min(P+V,C)))):N.push(String.fromCharCode.apply(null,F.subarray(P,Math.min(P+V,C)))),P+=V;return N.join("")},stringifyByChar:function(F){for(var W="",V=0;V<F.length;V++)W+=String.fromCharCode(F[V]);return W},applyCanBeUsed:{uint8array:(function(){try{return g.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return g.nodebuffer&&String.fromCharCode.apply(null,y.allocBuffer(1)).length===1}catch{return!1}})()}};function B(F){var W=65536,V=x.getTypeOf(F),N=!0;if(V==="uint8array"?N=q.applyCanBeUsed.uint8array:V==="nodebuffer"&&(N=q.applyCanBeUsed.nodebuffer),N)for(;1<W;)try{return q.stringifyByChunk(F,V,W)}catch{W=Math.floor(W/2)}return q.stringifyByChar(F)}function I(F,W){for(var V=0;V<F.length;V++)W[V]=F[V];return W}x.applyFromCharCode=B;var O={};O.string={string:R,array:function(F){return z(F,new Array(F.length))},arraybuffer:function(F){return O.string.uint8array(F).buffer},uint8array:function(F){return z(F,new Uint8Array(F.length))},nodebuffer:function(F){return z(F,y.allocBuffer(F.length))}},O.array={string:B,array:R,arraybuffer:function(F){return new Uint8Array(F).buffer},uint8array:function(F){return new Uint8Array(F)},nodebuffer:function(F){return y.newBufferFrom(F)}},O.arraybuffer={string:function(F){return B(new Uint8Array(F))},array:function(F){return I(new Uint8Array(F),new Array(F.byteLength))},arraybuffer:R,uint8array:function(F){return new Uint8Array(F)},nodebuffer:function(F){return y.newBufferFrom(new Uint8Array(F))}},O.uint8array={string:B,array:function(F){return I(F,new Array(F.length))},arraybuffer:function(F){return F.buffer},uint8array:R,nodebuffer:function(F){return y.newBufferFrom(F)}},O.nodebuffer={string:B,array:function(F){return I(F,new Array(F.length))},arraybuffer:function(F){return O.nodebuffer.uint8array(F).buffer},uint8array:function(F){return I(F,new Uint8Array(F.length))},nodebuffer:R},x.transformTo=function(F,W){if(W=W||"",!F)return W;x.checkSupport(F);var V=x.getTypeOf(W);return O[V][F](W)},x.resolve=function(F){for(var W=F.split("/"),V=[],N=0;N<W.length;N++){var P=W[N];P==="."||P===""&&N!==0&&N!==W.length-1||(P===".."?V.pop():V.push(P))}return V.join("/")},x.getTypeOf=function(F){return typeof F=="string"?"string":Object.prototype.toString.call(F)==="[object Array]"?"array":g.nodebuffer&&y.isBuffer(F)?"nodebuffer":g.uint8array&&F instanceof Uint8Array?"uint8array":g.arraybuffer&&F instanceof ArrayBuffer?"arraybuffer":void 0},x.checkSupport=function(F){if(!g[F.toLowerCase()])throw new Error(F+" is not supported by this platform")},x.MAX_VALUE_16BITS=65535,x.MAX_VALUE_32BITS=-1,x.pretty=function(F){var W,V,N="";for(V=0;V<(F||"").length;V++)N+="\\x"+((W=F.charCodeAt(V))<16?"0":"")+W.toString(16).toUpperCase();return N},x.delay=function(F,W,V){h((function(){F.apply(V||null,W||[])}))},x.inherits=function(F,W){function V(){}V.prototype=W.prototype,F.prototype=new V},x.extend=function(){var F,W,V={};for(F=0;F<arguments.length;F++)for(W in arguments[F])Object.prototype.hasOwnProperty.call(arguments[F],W)&&V[W]===void 0&&(V[W]=arguments[F][W]);return V},x.prepareContent=function(F,W,V,N,P){return k.Promise.resolve(W).then((function(C){return g.blob&&(C instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(C))!==-1)&&typeof FileReader<"u"?new k.Promise((function(S,E){var A=new FileReader;A.onload=function(T){S(T.target.result)},A.onerror=function(T){E(T.target.error)},A.readAsArrayBuffer(C)})):C})).then((function(C){var S=x.getTypeOf(C);return S?(S==="arraybuffer"?C=x.transformTo("uint8array",C):S==="string"&&(P?C=v.decode(C):V&&N!==!0&&(C=(function(E){return z(E,g.uint8array?new Uint8Array(E.length):new Array(E.length))})(C))),C):k.Promise.reject(new Error("Can't read the data of '"+F+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(d,b,x){var g=d("./reader/readerFor"),v=d("./utils"),y=d("./signature"),k=d("./zipEntry"),R=d("./support");function z(q){this.files=[],this.loadOptions=q}z.prototype={checkSignature:function(q){if(!this.reader.readAndCheckSignature(q)){this.reader.index-=4;var B=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+v.pretty(B)+", expected "+v.pretty(q)+")")}},isSignature:function(q,B){var I=this.reader.index;this.reader.setIndex(q);var O=this.reader.readString(4)===B;return this.reader.setIndex(I),O},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var q=this.reader.readData(this.zipCommentLength),B=R.uint8array?"uint8array":"array",I=v.transformTo(B,q);this.zipComment=this.loadOptions.decodeFileName(I)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var q,B,I,O=this.zip64EndOfCentralSize-44;0<O;)q=this.reader.readInt(2),B=this.reader.readInt(4),I=this.reader.readData(B),this.zip64ExtensibleData[q]={id:q,length:B,value:I}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var q,B;for(q=0;q<this.files.length;q++)B=this.files[q],this.reader.setIndex(B.localHeaderOffset),this.checkSignature(y.LOCAL_FILE_HEADER),B.readLocalPart(this.reader),B.handleUTF8(),B.processAttributes()},readCentralDir:function(){var q;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(y.CENTRAL_FILE_HEADER);)(q=new k({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(q);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var q=this.reader.lastIndexOfSignature(y.CENTRAL_DIRECTORY_END);if(q<0)throw this.isSignature(0,y.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(q);var B=q;if(this.checkSignature(y.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===v.MAX_VALUE_16BITS||this.diskWithCentralDirStart===v.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===v.MAX_VALUE_16BITS||this.centralDirRecords===v.MAX_VALUE_16BITS||this.centralDirSize===v.MAX_VALUE_32BITS||this.centralDirOffset===v.MAX_VALUE_32BITS){if(this.zip64=!0,(q=this.reader.lastIndexOfSignature(y.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(q),this.checkSignature(y.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,y.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(y.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(y.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var I=this.centralDirOffset+this.centralDirSize;this.zip64&&(I+=20,I+=12+this.zip64EndOfCentralSize);var O=B-I;if(0<O)this.isSignature(B,y.CENTRAL_FILE_HEADER)||(this.reader.zero=O);else if(O<0)throw new Error("Corrupted zip: missing "+Math.abs(O)+" bytes.")},prepareReader:function(q){this.reader=g(q)},load:function(q){this.prepareReader(q),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},b.exports=z},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(d,b,x){var g=d("./reader/readerFor"),v=d("./utils"),y=d("./compressedObject"),k=d("./crc32"),R=d("./utf8"),z=d("./compressions"),q=d("./support");function B(I,O){this.options=I,this.loadOptions=O}B.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(I){var O,F;if(I.skip(22),this.fileNameLength=I.readInt(2),F=I.readInt(2),this.fileName=I.readData(this.fileNameLength),I.skip(F),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((O=(function(W){for(var V in z)if(Object.prototype.hasOwnProperty.call(z,V)&&z[V].magic===W)return z[V];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+v.pretty(this.compressionMethod)+" unknown (inner file : "+v.transformTo("string",this.fileName)+")");this.decompressed=new y(this.compressedSize,this.uncompressedSize,this.crc32,O,I.readData(this.compressedSize))},readCentralPart:function(I){this.versionMadeBy=I.readInt(2),I.skip(2),this.bitFlag=I.readInt(2),this.compressionMethod=I.readString(2),this.date=I.readDate(),this.crc32=I.readInt(4),this.compressedSize=I.readInt(4),this.uncompressedSize=I.readInt(4);var O=I.readInt(2);if(this.extraFieldsLength=I.readInt(2),this.fileCommentLength=I.readInt(2),this.diskNumberStart=I.readInt(2),this.internalFileAttributes=I.readInt(2),this.externalFileAttributes=I.readInt(4),this.localHeaderOffset=I.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");I.skip(O),this.readExtraFields(I),this.parseZIP64ExtraField(I),this.fileComment=I.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var I=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),I==0&&(this.dosPermissions=63&this.externalFileAttributes),I==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var I=g(this.extraFields[1].value);this.uncompressedSize===v.MAX_VALUE_32BITS&&(this.uncompressedSize=I.readInt(8)),this.compressedSize===v.MAX_VALUE_32BITS&&(this.compressedSize=I.readInt(8)),this.localHeaderOffset===v.MAX_VALUE_32BITS&&(this.localHeaderOffset=I.readInt(8)),this.diskNumberStart===v.MAX_VALUE_32BITS&&(this.diskNumberStart=I.readInt(4))}},readExtraFields:function(I){var O,F,W,V=I.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});I.index+4<V;)O=I.readInt(2),F=I.readInt(2),W=I.readData(F),this.extraFields[O]={id:O,length:F,value:W};I.setIndex(V)},handleUTF8:function(){var I=q.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=R.utf8decode(this.fileName),this.fileCommentStr=R.utf8decode(this.fileComment);else{var O=this.findExtraFieldUnicodePath();if(O!==null)this.fileNameStr=O;else{var F=v.transformTo(I,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(F)}var W=this.findExtraFieldUnicodeComment();if(W!==null)this.fileCommentStr=W;else{var V=v.transformTo(I,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(V)}}},findExtraFieldUnicodePath:function(){var I=this.extraFields[28789];if(I){var O=g(I.value);return O.readInt(1)!==1||k(this.fileName)!==O.readInt(4)?null:R.utf8decode(O.readData(I.length-5))}return null},findExtraFieldUnicodeComment:function(){var I=this.extraFields[25461];if(I){var O=g(I.value);return O.readInt(1)!==1||k(this.fileComment)!==O.readInt(4)?null:R.utf8decode(O.readData(I.length-5))}return null}},b.exports=B},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(d,b,x){function g(O,F,W){this.name=O,this.dir=W.dir,this.date=W.date,this.comment=W.comment,this.unixPermissions=W.unixPermissions,this.dosPermissions=W.dosPermissions,this._data=F,this._dataBinary=W.binary,this.options={compression:W.compression,compressionOptions:W.compressionOptions}}var v=d("./stream/StreamHelper"),y=d("./stream/DataWorker"),k=d("./utf8"),R=d("./compressedObject"),z=d("./stream/GenericWorker");g.prototype={internalStream:function(O){var F=null,W="string";try{if(!O)throw new Error("No output type specified.");var V=(W=O.toLowerCase())==="string"||W==="text";W!=="binarystring"&&W!=="text"||(W="string"),F=this._decompressWorker();var N=!this._dataBinary;N&&!V&&(F=F.pipe(new k.Utf8EncodeWorker)),!N&&V&&(F=F.pipe(new k.Utf8DecodeWorker))}catch(P){(F=new z("error")).error(P)}return new v(F,W,"")},async:function(O,F){return this.internalStream(O).accumulate(F)},nodeStream:function(O,F){return this.internalStream(O||"nodebuffer").toNodejsStream(F)},_compressWorker:function(O,F){if(this._data instanceof R&&this._data.compression.magic===O.magic)return this._data.getCompressedWorker();var W=this._decompressWorker();return this._dataBinary||(W=W.pipe(new k.Utf8EncodeWorker)),R.createWorkerFrom(W,O,F)},_decompressWorker:function(){return this._data instanceof R?this._data.getContentWorker():this._data instanceof z?this._data:new y(this._data)}};for(var q=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],B=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},I=0;I<q.length;I++)g.prototype[q[I]]=B;b.exports=g},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(d,b,x){(function(g){var v,y,k=g.MutationObserver||g.WebKitMutationObserver;if(k){var R=0,z=new k(O),q=g.document.createTextNode("");z.observe(q,{characterData:!0}),v=function(){q.data=R=++R%2}}else if(g.setImmediate||g.MessageChannel===void 0)v="document"in g&&"onreadystatechange"in g.document.createElement("script")?function(){var F=g.document.createElement("script");F.onreadystatechange=function(){O(),F.onreadystatechange=null,F.parentNode.removeChild(F),F=null},g.document.documentElement.appendChild(F)}:function(){setTimeout(O,0)};else{var B=new g.MessageChannel;B.port1.onmessage=O,v=function(){B.port2.postMessage(0)}}var I=[];function O(){var F,W;y=!0;for(var V=I.length;V;){for(W=I,I=[],F=-1;++F<V;)W[F]();V=I.length}y=!1}b.exports=function(F){I.push(F)!==1||y||v()}}).call(this,a!==void 0?a:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(d,b,x){var g=d("immediate");function v(){}var y={},k=["REJECTED"],R=["FULFILLED"],z=["PENDING"];function q(V){if(typeof V!="function")throw new TypeError("resolver must be a function");this.state=z,this.queue=[],this.outcome=void 0,V!==v&&F(this,V)}function B(V,N,P){this.promise=V,typeof N=="function"&&(this.onFulfilled=N,this.callFulfilled=this.otherCallFulfilled),typeof P=="function"&&(this.onRejected=P,this.callRejected=this.otherCallRejected)}function I(V,N,P){g((function(){var C;try{C=N(P)}catch(S){return y.reject(V,S)}C===V?y.reject(V,new TypeError("Cannot resolve promise with itself")):y.resolve(V,C)}))}function O(V){var N=V&&V.then;if(V&&(typeof V=="object"||typeof V=="function")&&typeof N=="function")return function(){N.apply(V,arguments)}}function F(V,N){var P=!1;function C(A){P||(P=!0,y.reject(V,A))}function S(A){P||(P=!0,y.resolve(V,A))}var E=W((function(){N(S,C)}));E.status==="error"&&C(E.value)}function W(V,N){var P={};try{P.value=V(N),P.status="success"}catch(C){P.status="error",P.value=C}return P}(b.exports=q).prototype.finally=function(V){if(typeof V!="function")return this;var N=this.constructor;return this.then((function(P){return N.resolve(V()).then((function(){return P}))}),(function(P){return N.resolve(V()).then((function(){throw P}))}))},q.prototype.catch=function(V){return this.then(null,V)},q.prototype.then=function(V,N){if(typeof V!="function"&&this.state===R||typeof N!="function"&&this.state===k)return this;var P=new this.constructor(v);return this.state!==z?I(P,this.state===R?V:N,this.outcome):this.queue.push(new B(P,V,N)),P},B.prototype.callFulfilled=function(V){y.resolve(this.promise,V)},B.prototype.otherCallFulfilled=function(V){I(this.promise,this.onFulfilled,V)},B.prototype.callRejected=function(V){y.reject(this.promise,V)},B.prototype.otherCallRejected=function(V){I(this.promise,this.onRejected,V)},y.resolve=function(V,N){var P=W(O,N);if(P.status==="error")return y.reject(V,P.value);var C=P.value;if(C)F(V,C);else{V.state=R,V.outcome=N;for(var S=-1,E=V.queue.length;++S<E;)V.queue[S].callFulfilled(N)}return V},y.reject=function(V,N){V.state=k,V.outcome=N;for(var P=-1,C=V.queue.length;++P<C;)V.queue[P].callRejected(N);return V},q.resolve=function(V){return V instanceof this?V:y.resolve(new this(v),V)},q.reject=function(V){var N=new this(v);return y.reject(N,V)},q.all=function(V){var N=this;if(Object.prototype.toString.call(V)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=V.length,C=!1;if(!P)return this.resolve([]);for(var S=new Array(P),E=0,A=-1,T=new this(v);++A<P;)j(V[A],A);return T;function j(L,D){N.resolve(L).then((function(Z){S[D]=Z,++E!==P||C||(C=!0,y.resolve(T,S))}),(function(Z){C||(C=!0,y.reject(T,Z))}))}},q.race=function(V){if(Object.prototype.toString.call(V)!=="[object Array]")return this.reject(new TypeError("must be an array"));var N=V.length,P=!1;if(!N)return this.resolve([]);for(var C,S=-1,E=new this(v);++S<N;)C=V[S],this.resolve(C).then((function(A){P||(P=!0,y.resolve(E,A))}),(function(A){P||(P=!0,y.reject(E,A))}));return E}},{immediate:36}],38:[function(d,b,x){var g={};(0,d("./lib/utils/common").assign)(g,d("./lib/deflate"),d("./lib/inflate"),d("./lib/zlib/constants")),b.exports=g},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(d,b,x){var g=d("./zlib/deflate"),v=d("./utils/common"),y=d("./utils/strings"),k=d("./zlib/messages"),R=d("./zlib/zstream"),z=Object.prototype.toString;function q(I){if(!(this instanceof q))return new q(I);this.options=v.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},I||{});var O=this.options;O.raw&&0<O.windowBits?O.windowBits=-O.windowBits:O.gzip&&0<O.windowBits&&O.windowBits<16&&(O.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new R,this.strm.avail_out=0;var F=g.deflateInit2(this.strm,O.level,O.method,O.windowBits,O.memLevel,O.strategy);if(F!==0)throw new Error(k[F]);if(O.header&&g.deflateSetHeader(this.strm,O.header),O.dictionary){var W;if(W=typeof O.dictionary=="string"?y.string2buf(O.dictionary):z.call(O.dictionary)==="[object ArrayBuffer]"?new Uint8Array(O.dictionary):O.dictionary,(F=g.deflateSetDictionary(this.strm,W))!==0)throw new Error(k[F]);this._dict_set=!0}}function B(I,O){var F=new q(O);if(F.push(I,!0),F.err)throw F.msg||k[F.err];return F.result}q.prototype.push=function(I,O){var F,W,V=this.strm,N=this.options.chunkSize;if(this.ended)return!1;W=O===~~O?O:O===!0?4:0,typeof I=="string"?V.input=y.string2buf(I):z.call(I)==="[object ArrayBuffer]"?V.input=new Uint8Array(I):V.input=I,V.next_in=0,V.avail_in=V.input.length;do{if(V.avail_out===0&&(V.output=new v.Buf8(N),V.next_out=0,V.avail_out=N),(F=g.deflate(V,W))!==1&&F!==0)return this.onEnd(F),!(this.ended=!0);V.avail_out!==0&&(V.avail_in!==0||W!==4&&W!==2)||(this.options.to==="string"?this.onData(y.buf2binstring(v.shrinkBuf(V.output,V.next_out))):this.onData(v.shrinkBuf(V.output,V.next_out)))}while((0<V.avail_in||V.avail_out===0)&&F!==1);return W===4?(F=g.deflateEnd(this.strm),this.onEnd(F),this.ended=!0,F===0):W!==2||(this.onEnd(0),!(V.avail_out=0))},q.prototype.onData=function(I){this.chunks.push(I)},q.prototype.onEnd=function(I){I===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=v.flattenChunks(this.chunks)),this.chunks=[],this.err=I,this.msg=this.strm.msg},x.Deflate=q,x.deflate=B,x.deflateRaw=function(I,O){return(O=O||{}).raw=!0,B(I,O)},x.gzip=function(I,O){return(O=O||{}).gzip=!0,B(I,O)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(d,b,x){var g=d("./zlib/inflate"),v=d("./utils/common"),y=d("./utils/strings"),k=d("./zlib/constants"),R=d("./zlib/messages"),z=d("./zlib/zstream"),q=d("./zlib/gzheader"),B=Object.prototype.toString;function I(F){if(!(this instanceof I))return new I(F);this.options=v.assign({chunkSize:16384,windowBits:0,to:""},F||{});var W=this.options;W.raw&&0<=W.windowBits&&W.windowBits<16&&(W.windowBits=-W.windowBits,W.windowBits===0&&(W.windowBits=-15)),!(0<=W.windowBits&&W.windowBits<16)||F&&F.windowBits||(W.windowBits+=32),15<W.windowBits&&W.windowBits<48&&(15&W.windowBits)==0&&(W.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new z,this.strm.avail_out=0;var V=g.inflateInit2(this.strm,W.windowBits);if(V!==k.Z_OK)throw new Error(R[V]);this.header=new q,g.inflateGetHeader(this.strm,this.header)}function O(F,W){var V=new I(W);if(V.push(F,!0),V.err)throw V.msg||R[V.err];return V.result}I.prototype.push=function(F,W){var V,N,P,C,S,E,A=this.strm,T=this.options.chunkSize,j=this.options.dictionary,L=!1;if(this.ended)return!1;N=W===~~W?W:W===!0?k.Z_FINISH:k.Z_NO_FLUSH,typeof F=="string"?A.input=y.binstring2buf(F):B.call(F)==="[object ArrayBuffer]"?A.input=new Uint8Array(F):A.input=F,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new v.Buf8(T),A.next_out=0,A.avail_out=T),(V=g.inflate(A,k.Z_NO_FLUSH))===k.Z_NEED_DICT&&j&&(E=typeof j=="string"?y.string2buf(j):B.call(j)==="[object ArrayBuffer]"?new Uint8Array(j):j,V=g.inflateSetDictionary(this.strm,E)),V===k.Z_BUF_ERROR&&L===!0&&(V=k.Z_OK,L=!1),V!==k.Z_STREAM_END&&V!==k.Z_OK)return this.onEnd(V),!(this.ended=!0);A.next_out&&(A.avail_out!==0&&V!==k.Z_STREAM_END&&(A.avail_in!==0||N!==k.Z_FINISH&&N!==k.Z_SYNC_FLUSH)||(this.options.to==="string"?(P=y.utf8border(A.output,A.next_out),C=A.next_out-P,S=y.buf2string(A.output,P),A.next_out=C,A.avail_out=T-C,C&&v.arraySet(A.output,A.output,P,C,0),this.onData(S)):this.onData(v.shrinkBuf(A.output,A.next_out)))),A.avail_in===0&&A.avail_out===0&&(L=!0)}while((0<A.avail_in||A.avail_out===0)&&V!==k.Z_STREAM_END);return V===k.Z_STREAM_END&&(N=k.Z_FINISH),N===k.Z_FINISH?(V=g.inflateEnd(this.strm),this.onEnd(V),this.ended=!0,V===k.Z_OK):N!==k.Z_SYNC_FLUSH||(this.onEnd(k.Z_OK),!(A.avail_out=0))},I.prototype.onData=function(F){this.chunks.push(F)},I.prototype.onEnd=function(F){F===k.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=v.flattenChunks(this.chunks)),this.chunks=[],this.err=F,this.msg=this.strm.msg},x.Inflate=I,x.inflate=O,x.inflateRaw=function(F,W){return(W=W||{}).raw=!0,O(F,W)},x.ungzip=O},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(d,b,x){var g=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";x.assign=function(k){for(var R=Array.prototype.slice.call(arguments,1);R.length;){var z=R.shift();if(z){if(typeof z!="object")throw new TypeError(z+"must be non-object");for(var q in z)z.hasOwnProperty(q)&&(k[q]=z[q])}}return k},x.shrinkBuf=function(k,R){return k.length===R?k:k.subarray?k.subarray(0,R):(k.length=R,k)};var v={arraySet:function(k,R,z,q,B){if(R.subarray&&k.subarray)k.set(R.subarray(z,z+q),B);else for(var I=0;I<q;I++)k[B+I]=R[z+I]},flattenChunks:function(k){var R,z,q,B,I,O;for(R=q=0,z=k.length;R<z;R++)q+=k[R].length;for(O=new Uint8Array(q),R=B=0,z=k.length;R<z;R++)I=k[R],O.set(I,B),B+=I.length;return O}},y={arraySet:function(k,R,z,q,B){for(var I=0;I<q;I++)k[B+I]=R[z+I]},flattenChunks:function(k){return[].concat.apply([],k)}};x.setTyped=function(k){k?(x.Buf8=Uint8Array,x.Buf16=Uint16Array,x.Buf32=Int32Array,x.assign(x,v)):(x.Buf8=Array,x.Buf16=Array,x.Buf32=Array,x.assign(x,y))},x.setTyped(g)},{}],42:[function(d,b,x){var g=d("./common"),v=!0,y=!0;try{String.fromCharCode.apply(null,[0])}catch{v=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{y=!1}for(var k=new g.Buf8(256),R=0;R<256;R++)k[R]=252<=R?6:248<=R?5:240<=R?4:224<=R?3:192<=R?2:1;function z(q,B){if(B<65537&&(q.subarray&&y||!q.subarray&&v))return String.fromCharCode.apply(null,g.shrinkBuf(q,B));for(var I="",O=0;O<B;O++)I+=String.fromCharCode(q[O]);return I}k[254]=k[254]=1,x.string2buf=function(q){var B,I,O,F,W,V=q.length,N=0;for(F=0;F<V;F++)(64512&(I=q.charCodeAt(F)))==55296&&F+1<V&&(64512&(O=q.charCodeAt(F+1)))==56320&&(I=65536+(I-55296<<10)+(O-56320),F++),N+=I<128?1:I<2048?2:I<65536?3:4;for(B=new g.Buf8(N),F=W=0;W<N;F++)(64512&(I=q.charCodeAt(F)))==55296&&F+1<V&&(64512&(O=q.charCodeAt(F+1)))==56320&&(I=65536+(I-55296<<10)+(O-56320),F++),I<128?B[W++]=I:(I<2048?B[W++]=192|I>>>6:(I<65536?B[W++]=224|I>>>12:(B[W++]=240|I>>>18,B[W++]=128|I>>>12&63),B[W++]=128|I>>>6&63),B[W++]=128|63&I);return B},x.buf2binstring=function(q){return z(q,q.length)},x.binstring2buf=function(q){for(var B=new g.Buf8(q.length),I=0,O=B.length;I<O;I++)B[I]=q.charCodeAt(I);return B},x.buf2string=function(q,B){var I,O,F,W,V=B||q.length,N=new Array(2*V);for(I=O=0;I<V;)if((F=q[I++])<128)N[O++]=F;else if(4<(W=k[F]))N[O++]=65533,I+=W-1;else{for(F&=W===2?31:W===3?15:7;1<W&&I<V;)F=F<<6|63&q[I++],W--;1<W?N[O++]=65533:F<65536?N[O++]=F:(F-=65536,N[O++]=55296|F>>10&1023,N[O++]=56320|1023&F)}return z(N,O)},x.utf8border=function(q,B){var I;for((B=B||q.length)>q.length&&(B=q.length),I=B-1;0<=I&&(192&q[I])==128;)I--;return I<0||I===0?B:I+k[q[I]]>B?I:B}},{"./common":41}],43:[function(d,b,x){b.exports=function(g,v,y,k){for(var R=65535&g|0,z=g>>>16&65535|0,q=0;y!==0;){for(y-=q=2e3<y?2e3:y;z=z+(R=R+v[k++]|0)|0,--q;);R%=65521,z%=65521}return R|z<<16|0}},{}],44:[function(d,b,x){b.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(d,b,x){var g=(function(){for(var v,y=[],k=0;k<256;k++){v=k;for(var R=0;R<8;R++)v=1&v?3988292384^v>>>1:v>>>1;y[k]=v}return y})();b.exports=function(v,y,k,R){var z=g,q=R+k;v^=-1;for(var B=R;B<q;B++)v=v>>>8^z[255&(v^y[B])];return-1^v}},{}],46:[function(d,b,x){var g,v=d("../utils/common"),y=d("./trees"),k=d("./adler32"),R=d("./crc32"),z=d("./messages"),q=-2,B=258,I=262,O=113;function F(G,te){return G.msg=z[te],te}function W(G){return(G<<1)-(4<G?9:0)}function V(G){for(var te=G.length;0<=--te;)G[te]=0}function N(G){var te=G.state,H=te.pending;H>G.avail_out&&(H=G.avail_out),H!==0&&(v.arraySet(G.output,te.pending_buf,te.pending_out,H,G.next_out),G.next_out+=H,te.pending_out+=H,G.total_out+=H,G.avail_out-=H,te.pending-=H,te.pending===0&&(te.pending_out=0))}function P(G,te){y._tr_flush_block(G,0<=G.block_start?G.block_start:-1,G.strstart-G.block_start,te),G.block_start=G.strstart,N(G.strm)}function C(G,te){G.pending_buf[G.pending++]=te}function S(G,te){G.pending_buf[G.pending++]=te>>>8&255,G.pending_buf[G.pending++]=255&te}function E(G,te){var H,U,Q=G.max_chain_length,ie=G.strstart,re=G.prev_length,oe=G.nice_match,he=G.strstart>G.w_size-I?G.strstart-(G.w_size-I):0,ve=G.window,me=G.w_mask,ne=G.prev,de=G.strstart+B,xe=ve[ie+re-1],Te=ve[ie+re];G.prev_length>=G.good_match&&(Q>>=2),oe>G.lookahead&&(oe=G.lookahead);do if(ve[(H=te)+re]===Te&&ve[H+re-1]===xe&&ve[H]===ve[ie]&&ve[++H]===ve[ie+1]){ie+=2,H++;do;while(ve[++ie]===ve[++H]&&ve[++ie]===ve[++H]&&ve[++ie]===ve[++H]&&ve[++ie]===ve[++H]&&ve[++ie]===ve[++H]&&ve[++ie]===ve[++H]&&ve[++ie]===ve[++H]&&ve[++ie]===ve[++H]&&ie<de);if(U=B-(de-ie),ie=de-B,re<U){if(G.match_start=te,oe<=(re=U))break;xe=ve[ie+re-1],Te=ve[ie+re]}}while((te=ne[te&me])>he&&--Q!=0);return re<=G.lookahead?re:G.lookahead}function A(G){var te,H,U,Q,ie,re,oe,he,ve,me,ne=G.w_size;do{if(Q=G.window_size-G.lookahead-G.strstart,G.strstart>=ne+(ne-I)){for(v.arraySet(G.window,G.window,ne,ne,0),G.match_start-=ne,G.strstart-=ne,G.block_start-=ne,te=H=G.hash_size;U=G.head[--te],G.head[te]=ne<=U?U-ne:0,--H;);for(te=H=ne;U=G.prev[--te],G.prev[te]=ne<=U?U-ne:0,--H;);Q+=ne}if(G.strm.avail_in===0)break;if(re=G.strm,oe=G.window,he=G.strstart+G.lookahead,me=void 0,(ve=Q)<(me=re.avail_in)&&(me=ve),H=me===0?0:(re.avail_in-=me,v.arraySet(oe,re.input,re.next_in,me,he),re.state.wrap===1?re.adler=k(re.adler,oe,me,he):re.state.wrap===2&&(re.adler=R(re.adler,oe,me,he)),re.next_in+=me,re.total_in+=me,me),G.lookahead+=H,G.lookahead+G.insert>=3)for(ie=G.strstart-G.insert,G.ins_h=G.window[ie],G.ins_h=(G.ins_h<<G.hash_shift^G.window[ie+1])&G.hash_mask;G.insert&&(G.ins_h=(G.ins_h<<G.hash_shift^G.window[ie+3-1])&G.hash_mask,G.prev[ie&G.w_mask]=G.head[G.ins_h],G.head[G.ins_h]=ie,ie++,G.insert--,!(G.lookahead+G.insert<3)););}while(G.lookahead<I&&G.strm.avail_in!==0)}function T(G,te){for(var H,U;;){if(G.lookahead<I){if(A(G),G.lookahead<I&&te===0)return 1;if(G.lookahead===0)break}if(H=0,G.lookahead>=3&&(G.ins_h=(G.ins_h<<G.hash_shift^G.window[G.strstart+3-1])&G.hash_mask,H=G.prev[G.strstart&G.w_mask]=G.head[G.ins_h],G.head[G.ins_h]=G.strstart),H!==0&&G.strstart-H<=G.w_size-I&&(G.match_length=E(G,H)),G.match_length>=3)if(U=y._tr_tally(G,G.strstart-G.match_start,G.match_length-3),G.lookahead-=G.match_length,G.match_length<=G.max_lazy_match&&G.lookahead>=3){for(G.match_length--;G.strstart++,G.ins_h=(G.ins_h<<G.hash_shift^G.window[G.strstart+3-1])&G.hash_mask,H=G.prev[G.strstart&G.w_mask]=G.head[G.ins_h],G.head[G.ins_h]=G.strstart,--G.match_length!=0;);G.strstart++}else G.strstart+=G.match_length,G.match_length=0,G.ins_h=G.window[G.strstart],G.ins_h=(G.ins_h<<G.hash_shift^G.window[G.strstart+1])&G.hash_mask;else U=y._tr_tally(G,0,G.window[G.strstart]),G.lookahead--,G.strstart++;if(U&&(P(G,!1),G.strm.avail_out===0))return 1}return G.insert=G.strstart<2?G.strstart:2,te===4?(P(G,!0),G.strm.avail_out===0?3:4):G.last_lit&&(P(G,!1),G.strm.avail_out===0)?1:2}function j(G,te){for(var H,U,Q;;){if(G.lookahead<I){if(A(G),G.lookahead<I&&te===0)return 1;if(G.lookahead===0)break}if(H=0,G.lookahead>=3&&(G.ins_h=(G.ins_h<<G.hash_shift^G.window[G.strstart+3-1])&G.hash_mask,H=G.prev[G.strstart&G.w_mask]=G.head[G.ins_h],G.head[G.ins_h]=G.strstart),G.prev_length=G.match_length,G.prev_match=G.match_start,G.match_length=2,H!==0&&G.prev_length<G.max_lazy_match&&G.strstart-H<=G.w_size-I&&(G.match_length=E(G,H),G.match_length<=5&&(G.strategy===1||G.match_length===3&&4096<G.strstart-G.match_start)&&(G.match_length=2)),G.prev_length>=3&&G.match_length<=G.prev_length){for(Q=G.strstart+G.lookahead-3,U=y._tr_tally(G,G.strstart-1-G.prev_match,G.prev_length-3),G.lookahead-=G.prev_length-1,G.prev_length-=2;++G.strstart<=Q&&(G.ins_h=(G.ins_h<<G.hash_shift^G.window[G.strstart+3-1])&G.hash_mask,H=G.prev[G.strstart&G.w_mask]=G.head[G.ins_h],G.head[G.ins_h]=G.strstart),--G.prev_length!=0;);if(G.match_available=0,G.match_length=2,G.strstart++,U&&(P(G,!1),G.strm.avail_out===0))return 1}else if(G.match_available){if((U=y._tr_tally(G,0,G.window[G.strstart-1]))&&P(G,!1),G.strstart++,G.lookahead--,G.strm.avail_out===0)return 1}else G.match_available=1,G.strstart++,G.lookahead--}return G.match_available&&(U=y._tr_tally(G,0,G.window[G.strstart-1]),G.match_available=0),G.insert=G.strstart<2?G.strstart:2,te===4?(P(G,!0),G.strm.avail_out===0?3:4):G.last_lit&&(P(G,!1),G.strm.avail_out===0)?1:2}function L(G,te,H,U,Q){this.good_length=G,this.max_lazy=te,this.nice_length=H,this.max_chain=U,this.func=Q}function D(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new v.Buf16(1146),this.dyn_dtree=new v.Buf16(122),this.bl_tree=new v.Buf16(78),V(this.dyn_ltree),V(this.dyn_dtree),V(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new v.Buf16(16),this.heap=new v.Buf16(573),V(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new v.Buf16(573),V(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Z(G){var te;return G&&G.state?(G.total_in=G.total_out=0,G.data_type=2,(te=G.state).pending=0,te.pending_out=0,te.wrap<0&&(te.wrap=-te.wrap),te.status=te.wrap?42:O,G.adler=te.wrap===2?0:1,te.last_flush=0,y._tr_init(te),0):F(G,q)}function K(G){var te=Z(G);return te===0&&(function(H){H.window_size=2*H.w_size,V(H.head),H.max_lazy_match=g[H.level].max_lazy,H.good_match=g[H.level].good_length,H.nice_match=g[H.level].nice_length,H.max_chain_length=g[H.level].max_chain,H.strstart=0,H.block_start=0,H.lookahead=0,H.insert=0,H.match_length=H.prev_length=2,H.match_available=0,H.ins_h=0})(G.state),te}function ee(G,te,H,U,Q,ie){if(!G)return q;var re=1;if(te===-1&&(te=6),U<0?(re=0,U=-U):15<U&&(re=2,U-=16),Q<1||9<Q||H!==8||U<8||15<U||te<0||9<te||ie<0||4<ie)return F(G,q);U===8&&(U=9);var oe=new D;return(G.state=oe).strm=G,oe.wrap=re,oe.gzhead=null,oe.w_bits=U,oe.w_size=1<<oe.w_bits,oe.w_mask=oe.w_size-1,oe.hash_bits=Q+7,oe.hash_size=1<<oe.hash_bits,oe.hash_mask=oe.hash_size-1,oe.hash_shift=~~((oe.hash_bits+3-1)/3),oe.window=new v.Buf8(2*oe.w_size),oe.head=new v.Buf16(oe.hash_size),oe.prev=new v.Buf16(oe.w_size),oe.lit_bufsize=1<<Q+6,oe.pending_buf_size=4*oe.lit_bufsize,oe.pending_buf=new v.Buf8(oe.pending_buf_size),oe.d_buf=1*oe.lit_bufsize,oe.l_buf=3*oe.lit_bufsize,oe.level=te,oe.strategy=ie,oe.method=H,K(G)}g=[new L(0,0,0,0,(function(G,te){var H=65535;for(H>G.pending_buf_size-5&&(H=G.pending_buf_size-5);;){if(G.lookahead<=1){if(A(G),G.lookahead===0&&te===0)return 1;if(G.lookahead===0)break}G.strstart+=G.lookahead,G.lookahead=0;var U=G.block_start+H;if((G.strstart===0||G.strstart>=U)&&(G.lookahead=G.strstart-U,G.strstart=U,P(G,!1),G.strm.avail_out===0)||G.strstart-G.block_start>=G.w_size-I&&(P(G,!1),G.strm.avail_out===0))return 1}return G.insert=0,te===4?(P(G,!0),G.strm.avail_out===0?3:4):(G.strstart>G.block_start&&(P(G,!1),G.strm.avail_out),1)})),new L(4,4,8,4,T),new L(4,5,16,8,T),new L(4,6,32,32,T),new L(4,4,16,16,j),new L(8,16,32,32,j),new L(8,16,128,128,j),new L(8,32,128,256,j),new L(32,128,258,1024,j),new L(32,258,258,4096,j)],x.deflateInit=function(G,te){return ee(G,te,8,15,8,0)},x.deflateInit2=ee,x.deflateReset=K,x.deflateResetKeep=Z,x.deflateSetHeader=function(G,te){return G&&G.state?G.state.wrap!==2?q:(G.state.gzhead=te,0):q},x.deflate=function(G,te){var H,U,Q,ie;if(!G||!G.state||5<te||te<0)return G?F(G,q):q;if(U=G.state,!G.output||!G.input&&G.avail_in!==0||U.status===666&&te!==4)return F(G,G.avail_out===0?-5:q);if(U.strm=G,H=U.last_flush,U.last_flush=te,U.status===42)if(U.wrap===2)G.adler=0,C(U,31),C(U,139),C(U,8),U.gzhead?(C(U,(U.gzhead.text?1:0)+(U.gzhead.hcrc?2:0)+(U.gzhead.extra?4:0)+(U.gzhead.name?8:0)+(U.gzhead.comment?16:0)),C(U,255&U.gzhead.time),C(U,U.gzhead.time>>8&255),C(U,U.gzhead.time>>16&255),C(U,U.gzhead.time>>24&255),C(U,U.level===9?2:2<=U.strategy||U.level<2?4:0),C(U,255&U.gzhead.os),U.gzhead.extra&&U.gzhead.extra.length&&(C(U,255&U.gzhead.extra.length),C(U,U.gzhead.extra.length>>8&255)),U.gzhead.hcrc&&(G.adler=R(G.adler,U.pending_buf,U.pending,0)),U.gzindex=0,U.status=69):(C(U,0),C(U,0),C(U,0),C(U,0),C(U,0),C(U,U.level===9?2:2<=U.strategy||U.level<2?4:0),C(U,3),U.status=O);else{var re=8+(U.w_bits-8<<4)<<8;re|=(2<=U.strategy||U.level<2?0:U.level<6?1:U.level===6?2:3)<<6,U.strstart!==0&&(re|=32),re+=31-re%31,U.status=O,S(U,re),U.strstart!==0&&(S(U,G.adler>>>16),S(U,65535&G.adler)),G.adler=1}if(U.status===69)if(U.gzhead.extra){for(Q=U.pending;U.gzindex<(65535&U.gzhead.extra.length)&&(U.pending!==U.pending_buf_size||(U.gzhead.hcrc&&U.pending>Q&&(G.adler=R(G.adler,U.pending_buf,U.pending-Q,Q)),N(G),Q=U.pending,U.pending!==U.pending_buf_size));)C(U,255&U.gzhead.extra[U.gzindex]),U.gzindex++;U.gzhead.hcrc&&U.pending>Q&&(G.adler=R(G.adler,U.pending_buf,U.pending-Q,Q)),U.gzindex===U.gzhead.extra.length&&(U.gzindex=0,U.status=73)}else U.status=73;if(U.status===73)if(U.gzhead.name){Q=U.pending;do{if(U.pending===U.pending_buf_size&&(U.gzhead.hcrc&&U.pending>Q&&(G.adler=R(G.adler,U.pending_buf,U.pending-Q,Q)),N(G),Q=U.pending,U.pending===U.pending_buf_size)){ie=1;break}ie=U.gzindex<U.gzhead.name.length?255&U.gzhead.name.charCodeAt(U.gzindex++):0,C(U,ie)}while(ie!==0);U.gzhead.hcrc&&U.pending>Q&&(G.adler=R(G.adler,U.pending_buf,U.pending-Q,Q)),ie===0&&(U.gzindex=0,U.status=91)}else U.status=91;if(U.status===91)if(U.gzhead.comment){Q=U.pending;do{if(U.pending===U.pending_buf_size&&(U.gzhead.hcrc&&U.pending>Q&&(G.adler=R(G.adler,U.pending_buf,U.pending-Q,Q)),N(G),Q=U.pending,U.pending===U.pending_buf_size)){ie=1;break}ie=U.gzindex<U.gzhead.comment.length?255&U.gzhead.comment.charCodeAt(U.gzindex++):0,C(U,ie)}while(ie!==0);U.gzhead.hcrc&&U.pending>Q&&(G.adler=R(G.adler,U.pending_buf,U.pending-Q,Q)),ie===0&&(U.status=103)}else U.status=103;if(U.status===103&&(U.gzhead.hcrc?(U.pending+2>U.pending_buf_size&&N(G),U.pending+2<=U.pending_buf_size&&(C(U,255&G.adler),C(U,G.adler>>8&255),G.adler=0,U.status=O)):U.status=O),U.pending!==0){if(N(G),G.avail_out===0)return U.last_flush=-1,0}else if(G.avail_in===0&&W(te)<=W(H)&&te!==4)return F(G,-5);if(U.status===666&&G.avail_in!==0)return F(G,-5);if(G.avail_in!==0||U.lookahead!==0||te!==0&&U.status!==666){var oe=U.strategy===2?(function(he,ve){for(var me;;){if(he.lookahead===0&&(A(he),he.lookahead===0)){if(ve===0)return 1;break}if(he.match_length=0,me=y._tr_tally(he,0,he.window[he.strstart]),he.lookahead--,he.strstart++,me&&(P(he,!1),he.strm.avail_out===0))return 1}return he.insert=0,ve===4?(P(he,!0),he.strm.avail_out===0?3:4):he.last_lit&&(P(he,!1),he.strm.avail_out===0)?1:2})(U,te):U.strategy===3?(function(he,ve){for(var me,ne,de,xe,Te=he.window;;){if(he.lookahead<=B){if(A(he),he.lookahead<=B&&ve===0)return 1;if(he.lookahead===0)break}if(he.match_length=0,he.lookahead>=3&&0<he.strstart&&(ne=Te[de=he.strstart-1])===Te[++de]&&ne===Te[++de]&&ne===Te[++de]){xe=he.strstart+B;do;while(ne===Te[++de]&&ne===Te[++de]&&ne===Te[++de]&&ne===Te[++de]&&ne===Te[++de]&&ne===Te[++de]&&ne===Te[++de]&&ne===Te[++de]&&de<xe);he.match_length=B-(xe-de),he.match_length>he.lookahead&&(he.match_length=he.lookahead)}if(he.match_length>=3?(me=y._tr_tally(he,1,he.match_length-3),he.lookahead-=he.match_length,he.strstart+=he.match_length,he.match_length=0):(me=y._tr_tally(he,0,he.window[he.strstart]),he.lookahead--,he.strstart++),me&&(P(he,!1),he.strm.avail_out===0))return 1}return he.insert=0,ve===4?(P(he,!0),he.strm.avail_out===0?3:4):he.last_lit&&(P(he,!1),he.strm.avail_out===0)?1:2})(U,te):g[U.level].func(U,te);if(oe!==3&&oe!==4||(U.status=666),oe===1||oe===3)return G.avail_out===0&&(U.last_flush=-1),0;if(oe===2&&(te===1?y._tr_align(U):te!==5&&(y._tr_stored_block(U,0,0,!1),te===3&&(V(U.head),U.lookahead===0&&(U.strstart=0,U.block_start=0,U.insert=0))),N(G),G.avail_out===0))return U.last_flush=-1,0}return te!==4?0:U.wrap<=0?1:(U.wrap===2?(C(U,255&G.adler),C(U,G.adler>>8&255),C(U,G.adler>>16&255),C(U,G.adler>>24&255),C(U,255&G.total_in),C(U,G.total_in>>8&255),C(U,G.total_in>>16&255),C(U,G.total_in>>24&255)):(S(U,G.adler>>>16),S(U,65535&G.adler)),N(G),0<U.wrap&&(U.wrap=-U.wrap),U.pending!==0?0:1)},x.deflateEnd=function(G){var te;return G&&G.state?(te=G.state.status)!==42&&te!==69&&te!==73&&te!==91&&te!==103&&te!==O&&te!==666?F(G,q):(G.state=null,te===O?F(G,-3):0):q},x.deflateSetDictionary=function(G,te){var H,U,Q,ie,re,oe,he,ve,me=te.length;if(!G||!G.state||(ie=(H=G.state).wrap)===2||ie===1&&H.status!==42||H.lookahead)return q;for(ie===1&&(G.adler=k(G.adler,te,me,0)),H.wrap=0,me>=H.w_size&&(ie===0&&(V(H.head),H.strstart=0,H.block_start=0,H.insert=0),ve=new v.Buf8(H.w_size),v.arraySet(ve,te,me-H.w_size,H.w_size,0),te=ve,me=H.w_size),re=G.avail_in,oe=G.next_in,he=G.input,G.avail_in=me,G.next_in=0,G.input=te,A(H);H.lookahead>=3;){for(U=H.strstart,Q=H.lookahead-2;H.ins_h=(H.ins_h<<H.hash_shift^H.window[U+3-1])&H.hash_mask,H.prev[U&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=U,U++,--Q;);H.strstart=U,H.lookahead=2,A(H)}return H.strstart+=H.lookahead,H.block_start=H.strstart,H.insert=H.lookahead,H.lookahead=0,H.match_length=H.prev_length=2,H.match_available=0,G.next_in=oe,G.input=he,G.avail_in=re,H.wrap=ie,0},x.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(d,b,x){b.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(d,b,x){b.exports=function(g,v){var y,k,R,z,q,B,I,O,F,W,V,N,P,C,S,E,A,T,j,L,D,Z,K,ee,G;y=g.state,k=g.next_in,ee=g.input,R=k+(g.avail_in-5),z=g.next_out,G=g.output,q=z-(v-g.avail_out),B=z+(g.avail_out-257),I=y.dmax,O=y.wsize,F=y.whave,W=y.wnext,V=y.window,N=y.hold,P=y.bits,C=y.lencode,S=y.distcode,E=(1<<y.lenbits)-1,A=(1<<y.distbits)-1;e:do{P<15&&(N+=ee[k++]<<P,P+=8,N+=ee[k++]<<P,P+=8),T=C[N&E];t:for(;;){if(N>>>=j=T>>>24,P-=j,(j=T>>>16&255)==0)G[z++]=65535&T;else{if(!(16&j)){if((64&j)==0){T=C[(65535&T)+(N&(1<<j)-1)];continue t}if(32&j){y.mode=12;break e}g.msg="invalid literal/length code",y.mode=30;break e}L=65535&T,(j&=15)&&(P<j&&(N+=ee[k++]<<P,P+=8),L+=N&(1<<j)-1,N>>>=j,P-=j),P<15&&(N+=ee[k++]<<P,P+=8,N+=ee[k++]<<P,P+=8),T=S[N&A];r:for(;;){if(N>>>=j=T>>>24,P-=j,!(16&(j=T>>>16&255))){if((64&j)==0){T=S[(65535&T)+(N&(1<<j)-1)];continue r}g.msg="invalid distance code",y.mode=30;break e}if(D=65535&T,P<(j&=15)&&(N+=ee[k++]<<P,(P+=8)<j&&(N+=ee[k++]<<P,P+=8)),I<(D+=N&(1<<j)-1)){g.msg="invalid distance too far back",y.mode=30;break e}if(N>>>=j,P-=j,(j=z-q)<D){if(F<(j=D-j)&&y.sane){g.msg="invalid distance too far back",y.mode=30;break e}if(K=V,(Z=0)===W){if(Z+=O-j,j<L){for(L-=j;G[z++]=V[Z++],--j;);Z=z-D,K=G}}else if(W<j){if(Z+=O+W-j,(j-=W)<L){for(L-=j;G[z++]=V[Z++],--j;);if(Z=0,W<L){for(L-=j=W;G[z++]=V[Z++],--j;);Z=z-D,K=G}}}else if(Z+=W-j,j<L){for(L-=j;G[z++]=V[Z++],--j;);Z=z-D,K=G}for(;2<L;)G[z++]=K[Z++],G[z++]=K[Z++],G[z++]=K[Z++],L-=3;L&&(G[z++]=K[Z++],1<L&&(G[z++]=K[Z++]))}else{for(Z=z-D;G[z++]=G[Z++],G[z++]=G[Z++],G[z++]=G[Z++],2<(L-=3););L&&(G[z++]=G[Z++],1<L&&(G[z++]=G[Z++]))}break}}break}}while(k<R&&z<B);k-=L=P>>3,N&=(1<<(P-=L<<3))-1,g.next_in=k,g.next_out=z,g.avail_in=k<R?R-k+5:5-(k-R),g.avail_out=z<B?B-z+257:257-(z-B),y.hold=N,y.bits=P}},{}],49:[function(d,b,x){var g=d("../utils/common"),v=d("./adler32"),y=d("./crc32"),k=d("./inffast"),R=d("./inftrees"),z=-2;function q(E){return(E>>>24&255)+(E>>>8&65280)+((65280&E)<<8)+((255&E)<<24)}function B(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new g.Buf16(320),this.work=new g.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function I(E){var A;return E&&E.state?(A=E.state,E.total_in=E.total_out=A.total=0,E.msg="",A.wrap&&(E.adler=1&A.wrap),A.mode=1,A.last=0,A.havedict=0,A.dmax=32768,A.head=null,A.hold=0,A.bits=0,A.lencode=A.lendyn=new g.Buf32(852),A.distcode=A.distdyn=new g.Buf32(592),A.sane=1,A.back=-1,0):z}function O(E){var A;return E&&E.state?((A=E.state).wsize=0,A.whave=0,A.wnext=0,I(E)):z}function F(E,A){var T,j;return E&&E.state?(j=E.state,A<0?(T=0,A=-A):(T=1+(A>>4),A<48&&(A&=15)),A&&(A<8||15<A)?z:(j.window!==null&&j.wbits!==A&&(j.window=null),j.wrap=T,j.wbits=A,O(E))):z}function W(E,A){var T,j;return E?(j=new B,(E.state=j).window=null,(T=F(E,A))!==0&&(E.state=null),T):z}var V,N,P=!0;function C(E){if(P){var A;for(V=new g.Buf32(512),N=new g.Buf32(32),A=0;A<144;)E.lens[A++]=8;for(;A<256;)E.lens[A++]=9;for(;A<280;)E.lens[A++]=7;for(;A<288;)E.lens[A++]=8;for(R(1,E.lens,0,288,V,0,E.work,{bits:9}),A=0;A<32;)E.lens[A++]=5;R(2,E.lens,0,32,N,0,E.work,{bits:5}),P=!1}E.lencode=V,E.lenbits=9,E.distcode=N,E.distbits=5}function S(E,A,T,j){var L,D=E.state;return D.window===null&&(D.wsize=1<<D.wbits,D.wnext=0,D.whave=0,D.window=new g.Buf8(D.wsize)),j>=D.wsize?(g.arraySet(D.window,A,T-D.wsize,D.wsize,0),D.wnext=0,D.whave=D.wsize):(j<(L=D.wsize-D.wnext)&&(L=j),g.arraySet(D.window,A,T-j,L,D.wnext),(j-=L)?(g.arraySet(D.window,A,T-j,j,0),D.wnext=j,D.whave=D.wsize):(D.wnext+=L,D.wnext===D.wsize&&(D.wnext=0),D.whave<D.wsize&&(D.whave+=L))),0}x.inflateReset=O,x.inflateReset2=F,x.inflateResetKeep=I,x.inflateInit=function(E){return W(E,15)},x.inflateInit2=W,x.inflate=function(E,A){var T,j,L,D,Z,K,ee,G,te,H,U,Q,ie,re,oe,he,ve,me,ne,de,xe,Te,Re,Pe,Xe=0,Ue=new g.Buf8(4),tt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!E||!E.state||!E.output||!E.input&&E.avail_in!==0)return z;(T=E.state).mode===12&&(T.mode=13),Z=E.next_out,L=E.output,ee=E.avail_out,D=E.next_in,j=E.input,K=E.avail_in,G=T.hold,te=T.bits,H=K,U=ee,Te=0;e:for(;;)switch(T.mode){case 1:if(T.wrap===0){T.mode=13;break}for(;te<16;){if(K===0)break e;K--,G+=j[D++]<<te,te+=8}if(2&T.wrap&&G===35615){Ue[T.check=0]=255&G,Ue[1]=G>>>8&255,T.check=y(T.check,Ue,2,0),te=G=0,T.mode=2;break}if(T.flags=0,T.head&&(T.head.done=!1),!(1&T.wrap)||(((255&G)<<8)+(G>>8))%31){E.msg="incorrect header check",T.mode=30;break}if((15&G)!=8){E.msg="unknown compression method",T.mode=30;break}if(te-=4,xe=8+(15&(G>>>=4)),T.wbits===0)T.wbits=xe;else if(xe>T.wbits){E.msg="invalid window size",T.mode=30;break}T.dmax=1<<xe,E.adler=T.check=1,T.mode=512&G?10:12,te=G=0;break;case 2:for(;te<16;){if(K===0)break e;K--,G+=j[D++]<<te,te+=8}if(T.flags=G,(255&T.flags)!=8){E.msg="unknown compression method",T.mode=30;break}if(57344&T.flags){E.msg="unknown header flags set",T.mode=30;break}T.head&&(T.head.text=G>>8&1),512&T.flags&&(Ue[0]=255&G,Ue[1]=G>>>8&255,T.check=y(T.check,Ue,2,0)),te=G=0,T.mode=3;case 3:for(;te<32;){if(K===0)break e;K--,G+=j[D++]<<te,te+=8}T.head&&(T.head.time=G),512&T.flags&&(Ue[0]=255&G,Ue[1]=G>>>8&255,Ue[2]=G>>>16&255,Ue[3]=G>>>24&255,T.check=y(T.check,Ue,4,0)),te=G=0,T.mode=4;case 4:for(;te<16;){if(K===0)break e;K--,G+=j[D++]<<te,te+=8}T.head&&(T.head.xflags=255&G,T.head.os=G>>8),512&T.flags&&(Ue[0]=255&G,Ue[1]=G>>>8&255,T.check=y(T.check,Ue,2,0)),te=G=0,T.mode=5;case 5:if(1024&T.flags){for(;te<16;){if(K===0)break e;K--,G+=j[D++]<<te,te+=8}T.length=G,T.head&&(T.head.extra_len=G),512&T.flags&&(Ue[0]=255&G,Ue[1]=G>>>8&255,T.check=y(T.check,Ue,2,0)),te=G=0}else T.head&&(T.head.extra=null);T.mode=6;case 6:if(1024&T.flags&&(K<(Q=T.length)&&(Q=K),Q&&(T.head&&(xe=T.head.extra_len-T.length,T.head.extra||(T.head.extra=new Array(T.head.extra_len)),g.arraySet(T.head.extra,j,D,Q,xe)),512&T.flags&&(T.check=y(T.check,j,Q,D)),K-=Q,D+=Q,T.length-=Q),T.length))break e;T.length=0,T.mode=7;case 7:if(2048&T.flags){if(K===0)break e;for(Q=0;xe=j[D+Q++],T.head&&xe&&T.length<65536&&(T.head.name+=String.fromCharCode(xe)),xe&&Q<K;);if(512&T.flags&&(T.check=y(T.check,j,Q,D)),K-=Q,D+=Q,xe)break e}else T.head&&(T.head.name=null);T.length=0,T.mode=8;case 8:if(4096&T.flags){if(K===0)break e;for(Q=0;xe=j[D+Q++],T.head&&xe&&T.length<65536&&(T.head.comment+=String.fromCharCode(xe)),xe&&Q<K;);if(512&T.flags&&(T.check=y(T.check,j,Q,D)),K-=Q,D+=Q,xe)break e}else T.head&&(T.head.comment=null);T.mode=9;case 9:if(512&T.flags){for(;te<16;){if(K===0)break e;K--,G+=j[D++]<<te,te+=8}if(G!==(65535&T.check)){E.msg="header crc mismatch",T.mode=30;break}te=G=0}T.head&&(T.head.hcrc=T.flags>>9&1,T.head.done=!0),E.adler=T.check=0,T.mode=12;break;case 10:for(;te<32;){if(K===0)break e;K--,G+=j[D++]<<te,te+=8}E.adler=T.check=q(G),te=G=0,T.mode=11;case 11:if(T.havedict===0)return E.next_out=Z,E.avail_out=ee,E.next_in=D,E.avail_in=K,T.hold=G,T.bits=te,2;E.adler=T.check=1,T.mode=12;case 12:if(A===5||A===6)break e;case 13:if(T.last){G>>>=7&te,te-=7&te,T.mode=27;break}for(;te<3;){if(K===0)break e;K--,G+=j[D++]<<te,te+=8}switch(T.last=1&G,te-=1,3&(G>>>=1)){case 0:T.mode=14;break;case 1:if(C(T),T.mode=20,A!==6)break;G>>>=2,te-=2;break e;case 2:T.mode=17;break;case 3:E.msg="invalid block type",T.mode=30}G>>>=2,te-=2;break;case 14:for(G>>>=7&te,te-=7&te;te<32;){if(K===0)break e;K--,G+=j[D++]<<te,te+=8}if((65535&G)!=(G>>>16^65535)){E.msg="invalid stored block lengths",T.mode=30;break}if(T.length=65535&G,te=G=0,T.mode=15,A===6)break e;case 15:T.mode=16;case 16:if(Q=T.length){if(K<Q&&(Q=K),ee<Q&&(Q=ee),Q===0)break e;g.arraySet(L,j,D,Q,Z),K-=Q,D+=Q,ee-=Q,Z+=Q,T.length-=Q;break}T.mode=12;break;case 17:for(;te<14;){if(K===0)break e;K--,G+=j[D++]<<te,te+=8}if(T.nlen=257+(31&G),G>>>=5,te-=5,T.ndist=1+(31&G),G>>>=5,te-=5,T.ncode=4+(15&G),G>>>=4,te-=4,286<T.nlen||30<T.ndist){E.msg="too many length or distance symbols",T.mode=30;break}T.have=0,T.mode=18;case 18:for(;T.have<T.ncode;){for(;te<3;){if(K===0)break e;K--,G+=j[D++]<<te,te+=8}T.lens[tt[T.have++]]=7&G,G>>>=3,te-=3}for(;T.have<19;)T.lens[tt[T.have++]]=0;if(T.lencode=T.lendyn,T.lenbits=7,Re={bits:T.lenbits},Te=R(0,T.lens,0,19,T.lencode,0,T.work,Re),T.lenbits=Re.bits,Te){E.msg="invalid code lengths set",T.mode=30;break}T.have=0,T.mode=19;case 19:for(;T.have<T.nlen+T.ndist;){for(;he=(Xe=T.lencode[G&(1<<T.lenbits)-1])>>>16&255,ve=65535&Xe,!((oe=Xe>>>24)<=te);){if(K===0)break e;K--,G+=j[D++]<<te,te+=8}if(ve<16)G>>>=oe,te-=oe,T.lens[T.have++]=ve;else{if(ve===16){for(Pe=oe+2;te<Pe;){if(K===0)break e;K--,G+=j[D++]<<te,te+=8}if(G>>>=oe,te-=oe,T.have===0){E.msg="invalid bit length repeat",T.mode=30;break}xe=T.lens[T.have-1],Q=3+(3&G),G>>>=2,te-=2}else if(ve===17){for(Pe=oe+3;te<Pe;){if(K===0)break e;K--,G+=j[D++]<<te,te+=8}te-=oe,xe=0,Q=3+(7&(G>>>=oe)),G>>>=3,te-=3}else{for(Pe=oe+7;te<Pe;){if(K===0)break e;K--,G+=j[D++]<<te,te+=8}te-=oe,xe=0,Q=11+(127&(G>>>=oe)),G>>>=7,te-=7}if(T.have+Q>T.nlen+T.ndist){E.msg="invalid bit length repeat",T.mode=30;break}for(;Q--;)T.lens[T.have++]=xe}}if(T.mode===30)break;if(T.lens[256]===0){E.msg="invalid code -- missing end-of-block",T.mode=30;break}if(T.lenbits=9,Re={bits:T.lenbits},Te=R(1,T.lens,0,T.nlen,T.lencode,0,T.work,Re),T.lenbits=Re.bits,Te){E.msg="invalid literal/lengths set",T.mode=30;break}if(T.distbits=6,T.distcode=T.distdyn,Re={bits:T.distbits},Te=R(2,T.lens,T.nlen,T.ndist,T.distcode,0,T.work,Re),T.distbits=Re.bits,Te){E.msg="invalid distances set",T.mode=30;break}if(T.mode=20,A===6)break e;case 20:T.mode=21;case 21:if(6<=K&&258<=ee){E.next_out=Z,E.avail_out=ee,E.next_in=D,E.avail_in=K,T.hold=G,T.bits=te,k(E,U),Z=E.next_out,L=E.output,ee=E.avail_out,D=E.next_in,j=E.input,K=E.avail_in,G=T.hold,te=T.bits,T.mode===12&&(T.back=-1);break}for(T.back=0;he=(Xe=T.lencode[G&(1<<T.lenbits)-1])>>>16&255,ve=65535&Xe,!((oe=Xe>>>24)<=te);){if(K===0)break e;K--,G+=j[D++]<<te,te+=8}if(he&&(240&he)==0){for(me=oe,ne=he,de=ve;he=(Xe=T.lencode[de+((G&(1<<me+ne)-1)>>me)])>>>16&255,ve=65535&Xe,!(me+(oe=Xe>>>24)<=te);){if(K===0)break e;K--,G+=j[D++]<<te,te+=8}G>>>=me,te-=me,T.back+=me}if(G>>>=oe,te-=oe,T.back+=oe,T.length=ve,he===0){T.mode=26;break}if(32&he){T.back=-1,T.mode=12;break}if(64&he){E.msg="invalid literal/length code",T.mode=30;break}T.extra=15&he,T.mode=22;case 22:if(T.extra){for(Pe=T.extra;te<Pe;){if(K===0)break e;K--,G+=j[D++]<<te,te+=8}T.length+=G&(1<<T.extra)-1,G>>>=T.extra,te-=T.extra,T.back+=T.extra}T.was=T.length,T.mode=23;case 23:for(;he=(Xe=T.distcode[G&(1<<T.distbits)-1])>>>16&255,ve=65535&Xe,!((oe=Xe>>>24)<=te);){if(K===0)break e;K--,G+=j[D++]<<te,te+=8}if((240&he)==0){for(me=oe,ne=he,de=ve;he=(Xe=T.distcode[de+((G&(1<<me+ne)-1)>>me)])>>>16&255,ve=65535&Xe,!(me+(oe=Xe>>>24)<=te);){if(K===0)break e;K--,G+=j[D++]<<te,te+=8}G>>>=me,te-=me,T.back+=me}if(G>>>=oe,te-=oe,T.back+=oe,64&he){E.msg="invalid distance code",T.mode=30;break}T.offset=ve,T.extra=15&he,T.mode=24;case 24:if(T.extra){for(Pe=T.extra;te<Pe;){if(K===0)break e;K--,G+=j[D++]<<te,te+=8}T.offset+=G&(1<<T.extra)-1,G>>>=T.extra,te-=T.extra,T.back+=T.extra}if(T.offset>T.dmax){E.msg="invalid distance too far back",T.mode=30;break}T.mode=25;case 25:if(ee===0)break e;if(Q=U-ee,T.offset>Q){if((Q=T.offset-Q)>T.whave&&T.sane){E.msg="invalid distance too far back",T.mode=30;break}ie=Q>T.wnext?(Q-=T.wnext,T.wsize-Q):T.wnext-Q,Q>T.length&&(Q=T.length),re=T.window}else re=L,ie=Z-T.offset,Q=T.length;for(ee<Q&&(Q=ee),ee-=Q,T.length-=Q;L[Z++]=re[ie++],--Q;);T.length===0&&(T.mode=21);break;case 26:if(ee===0)break e;L[Z++]=T.length,ee--,T.mode=21;break;case 27:if(T.wrap){for(;te<32;){if(K===0)break e;K--,G|=j[D++]<<te,te+=8}if(U-=ee,E.total_out+=U,T.total+=U,U&&(E.adler=T.check=T.flags?y(T.check,L,U,Z-U):v(T.check,L,U,Z-U)),U=ee,(T.flags?G:q(G))!==T.check){E.msg="incorrect data check",T.mode=30;break}te=G=0}T.mode=28;case 28:if(T.wrap&&T.flags){for(;te<32;){if(K===0)break e;K--,G+=j[D++]<<te,te+=8}if(G!==(4294967295&T.total)){E.msg="incorrect length check",T.mode=30;break}te=G=0}T.mode=29;case 29:Te=1;break e;case 30:Te=-3;break e;case 31:return-4;case 32:default:return z}return E.next_out=Z,E.avail_out=ee,E.next_in=D,E.avail_in=K,T.hold=G,T.bits=te,(T.wsize||U!==E.avail_out&&T.mode<30&&(T.mode<27||A!==4))&&S(E,E.output,E.next_out,U-E.avail_out)?(T.mode=31,-4):(H-=E.avail_in,U-=E.avail_out,E.total_in+=H,E.total_out+=U,T.total+=U,T.wrap&&U&&(E.adler=T.check=T.flags?y(T.check,L,U,E.next_out-U):v(T.check,L,U,E.next_out-U)),E.data_type=T.bits+(T.last?64:0)+(T.mode===12?128:0)+(T.mode===20||T.mode===15?256:0),(H==0&&U===0||A===4)&&Te===0&&(Te=-5),Te)},x.inflateEnd=function(E){if(!E||!E.state)return z;var A=E.state;return A.window&&(A.window=null),E.state=null,0},x.inflateGetHeader=function(E,A){var T;return E&&E.state?(2&(T=E.state).wrap)==0?z:((T.head=A).done=!1,0):z},x.inflateSetDictionary=function(E,A){var T,j=A.length;return E&&E.state?(T=E.state).wrap!==0&&T.mode!==11?z:T.mode===11&&v(1,A,j,0)!==T.check?-3:S(E,A,j,j)?(T.mode=31,-4):(T.havedict=1,0):z},x.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(d,b,x){var g=d("../utils/common"),v=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],y=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],k=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],R=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];b.exports=function(z,q,B,I,O,F,W,V){var N,P,C,S,E,A,T,j,L,D=V.bits,Z=0,K=0,ee=0,G=0,te=0,H=0,U=0,Q=0,ie=0,re=0,oe=null,he=0,ve=new g.Buf16(16),me=new g.Buf16(16),ne=null,de=0;for(Z=0;Z<=15;Z++)ve[Z]=0;for(K=0;K<I;K++)ve[q[B+K]]++;for(te=D,G=15;1<=G&&ve[G]===0;G--);if(G<te&&(te=G),G===0)return O[F++]=20971520,O[F++]=20971520,V.bits=1,0;for(ee=1;ee<G&&ve[ee]===0;ee++);for(te<ee&&(te=ee),Z=Q=1;Z<=15;Z++)if(Q<<=1,(Q-=ve[Z])<0)return-1;if(0<Q&&(z===0||G!==1))return-1;for(me[1]=0,Z=1;Z<15;Z++)me[Z+1]=me[Z]+ve[Z];for(K=0;K<I;K++)q[B+K]!==0&&(W[me[q[B+K]]++]=K);if(A=z===0?(oe=ne=W,19):z===1?(oe=v,he-=257,ne=y,de-=257,256):(oe=k,ne=R,-1),Z=ee,E=F,U=K=re=0,C=-1,S=(ie=1<<(H=te))-1,z===1&&852<ie||z===2&&592<ie)return 1;for(;;){for(T=Z-U,L=W[K]<A?(j=0,W[K]):W[K]>A?(j=ne[de+W[K]],oe[he+W[K]]):(j=96,0),N=1<<Z-U,ee=P=1<<H;O[E+(re>>U)+(P-=N)]=T<<24|j<<16|L|0,P!==0;);for(N=1<<Z-1;re&N;)N>>=1;if(N!==0?(re&=N-1,re+=N):re=0,K++,--ve[Z]==0){if(Z===G)break;Z=q[B+W[K]]}if(te<Z&&(re&S)!==C){for(U===0&&(U=te),E+=ee,Q=1<<(H=Z-U);H+U<G&&!((Q-=ve[H+U])<=0);)H++,Q<<=1;if(ie+=1<<H,z===1&&852<ie||z===2&&592<ie)return 1;O[C=re&S]=te<<24|H<<16|E-F|0}}return re!==0&&(O[E+re]=Z-U<<24|64<<16|0),V.bits=te,0}},{"../utils/common":41}],51:[function(d,b,x){b.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(d,b,x){var g=d("../utils/common");function v(ne){for(var de=ne.length;0<=--de;)ne[de]=0}var y=256,k=286,R=30,z=15,q=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],B=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],F=new Array(576);v(F);var W=new Array(60);v(W);var V=new Array(512);v(V);var N=new Array(256);v(N);var P=new Array(29);v(P);var C,S,E,A=new Array(R);function T(ne,de,xe,Te,Re){this.static_tree=ne,this.extra_bits=de,this.extra_base=xe,this.elems=Te,this.max_length=Re,this.has_stree=ne&&ne.length}function j(ne,de){this.dyn_tree=ne,this.max_code=0,this.stat_desc=de}function L(ne){return ne<256?V[ne]:V[256+(ne>>>7)]}function D(ne,de){ne.pending_buf[ne.pending++]=255&de,ne.pending_buf[ne.pending++]=de>>>8&255}function Z(ne,de,xe){ne.bi_valid>16-xe?(ne.bi_buf|=de<<ne.bi_valid&65535,D(ne,ne.bi_buf),ne.bi_buf=de>>16-ne.bi_valid,ne.bi_valid+=xe-16):(ne.bi_buf|=de<<ne.bi_valid&65535,ne.bi_valid+=xe)}function K(ne,de,xe){Z(ne,xe[2*de],xe[2*de+1])}function ee(ne,de){for(var xe=0;xe|=1&ne,ne>>>=1,xe<<=1,0<--de;);return xe>>>1}function G(ne,de,xe){var Te,Re,Pe=new Array(16),Xe=0;for(Te=1;Te<=z;Te++)Pe[Te]=Xe=Xe+xe[Te-1]<<1;for(Re=0;Re<=de;Re++){var Ue=ne[2*Re+1];Ue!==0&&(ne[2*Re]=ee(Pe[Ue]++,Ue))}}function te(ne){var de;for(de=0;de<k;de++)ne.dyn_ltree[2*de]=0;for(de=0;de<R;de++)ne.dyn_dtree[2*de]=0;for(de=0;de<19;de++)ne.bl_tree[2*de]=0;ne.dyn_ltree[512]=1,ne.opt_len=ne.static_len=0,ne.last_lit=ne.matches=0}function H(ne){8<ne.bi_valid?D(ne,ne.bi_buf):0<ne.bi_valid&&(ne.pending_buf[ne.pending++]=ne.bi_buf),ne.bi_buf=0,ne.bi_valid=0}function U(ne,de,xe,Te){var Re=2*de,Pe=2*xe;return ne[Re]<ne[Pe]||ne[Re]===ne[Pe]&&Te[de]<=Te[xe]}function Q(ne,de,xe){for(var Te=ne.heap[xe],Re=xe<<1;Re<=ne.heap_len&&(Re<ne.heap_len&&U(de,ne.heap[Re+1],ne.heap[Re],ne.depth)&&Re++,!U(de,Te,ne.heap[Re],ne.depth));)ne.heap[xe]=ne.heap[Re],xe=Re,Re<<=1;ne.heap[xe]=Te}function ie(ne,de,xe){var Te,Re,Pe,Xe,Ue=0;if(ne.last_lit!==0)for(;Te=ne.pending_buf[ne.d_buf+2*Ue]<<8|ne.pending_buf[ne.d_buf+2*Ue+1],Re=ne.pending_buf[ne.l_buf+Ue],Ue++,Te===0?K(ne,Re,de):(K(ne,(Pe=N[Re])+y+1,de),(Xe=q[Pe])!==0&&Z(ne,Re-=P[Pe],Xe),K(ne,Pe=L(--Te),xe),(Xe=B[Pe])!==0&&Z(ne,Te-=A[Pe],Xe)),Ue<ne.last_lit;);K(ne,256,de)}function re(ne,de){var xe,Te,Re,Pe=de.dyn_tree,Xe=de.stat_desc.static_tree,Ue=de.stat_desc.has_stree,tt=de.stat_desc.elems,at=-1;for(ne.heap_len=0,ne.heap_max=573,xe=0;xe<tt;xe++)Pe[2*xe]!==0?(ne.heap[++ne.heap_len]=at=xe,ne.depth[xe]=0):Pe[2*xe+1]=0;for(;ne.heap_len<2;)Pe[2*(Re=ne.heap[++ne.heap_len]=at<2?++at:0)]=1,ne.depth[Re]=0,ne.opt_len--,Ue&&(ne.static_len-=Xe[2*Re+1]);for(de.max_code=at,xe=ne.heap_len>>1;1<=xe;xe--)Q(ne,Pe,xe);for(Re=tt;xe=ne.heap[1],ne.heap[1]=ne.heap[ne.heap_len--],Q(ne,Pe,1),Te=ne.heap[1],ne.heap[--ne.heap_max]=xe,ne.heap[--ne.heap_max]=Te,Pe[2*Re]=Pe[2*xe]+Pe[2*Te],ne.depth[Re]=(ne.depth[xe]>=ne.depth[Te]?ne.depth[xe]:ne.depth[Te])+1,Pe[2*xe+1]=Pe[2*Te+1]=Re,ne.heap[1]=Re++,Q(ne,Pe,1),2<=ne.heap_len;);ne.heap[--ne.heap_max]=ne.heap[1],(function(Je,Ze){var vt,pt,Ie,$e,Ce,De,it=Ze.dyn_tree,Be=Ze.max_code,Ge=Ze.stat_desc.static_tree,mt=Ze.stat_desc.has_stree,dt=Ze.stat_desc.extra_bits,ke=Ze.stat_desc.extra_base,We=Ze.stat_desc.max_length,Ae=0;for($e=0;$e<=z;$e++)Je.bl_count[$e]=0;for(it[2*Je.heap[Je.heap_max]+1]=0,vt=Je.heap_max+1;vt<573;vt++)We<($e=it[2*it[2*(pt=Je.heap[vt])+1]+1]+1)&&($e=We,Ae++),it[2*pt+1]=$e,Be<pt||(Je.bl_count[$e]++,Ce=0,ke<=pt&&(Ce=dt[pt-ke]),De=it[2*pt],Je.opt_len+=De*($e+Ce),mt&&(Je.static_len+=De*(Ge[2*pt+1]+Ce)));if(Ae!==0){do{for($e=We-1;Je.bl_count[$e]===0;)$e--;Je.bl_count[$e]--,Je.bl_count[$e+1]+=2,Je.bl_count[We]--,Ae-=2}while(0<Ae);for($e=We;$e!==0;$e--)for(pt=Je.bl_count[$e];pt!==0;)Be<(Ie=Je.heap[--vt])||(it[2*Ie+1]!==$e&&(Je.opt_len+=($e-it[2*Ie+1])*it[2*Ie],it[2*Ie+1]=$e),pt--)}})(ne,de),G(Pe,at,ne.bl_count)}function oe(ne,de,xe){var Te,Re,Pe=-1,Xe=de[1],Ue=0,tt=7,at=4;for(Xe===0&&(tt=138,at=3),de[2*(xe+1)+1]=65535,Te=0;Te<=xe;Te++)Re=Xe,Xe=de[2*(Te+1)+1],++Ue<tt&&Re===Xe||(Ue<at?ne.bl_tree[2*Re]+=Ue:Re!==0?(Re!==Pe&&ne.bl_tree[2*Re]++,ne.bl_tree[32]++):Ue<=10?ne.bl_tree[34]++:ne.bl_tree[36]++,Pe=Re,at=(Ue=0)===Xe?(tt=138,3):Re===Xe?(tt=6,3):(tt=7,4))}function he(ne,de,xe){var Te,Re,Pe=-1,Xe=de[1],Ue=0,tt=7,at=4;for(Xe===0&&(tt=138,at=3),Te=0;Te<=xe;Te++)if(Re=Xe,Xe=de[2*(Te+1)+1],!(++Ue<tt&&Re===Xe)){if(Ue<at)for(;K(ne,Re,ne.bl_tree),--Ue!=0;);else Re!==0?(Re!==Pe&&(K(ne,Re,ne.bl_tree),Ue--),K(ne,16,ne.bl_tree),Z(ne,Ue-3,2)):Ue<=10?(K(ne,17,ne.bl_tree),Z(ne,Ue-3,3)):(K(ne,18,ne.bl_tree),Z(ne,Ue-11,7));Pe=Re,at=(Ue=0)===Xe?(tt=138,3):Re===Xe?(tt=6,3):(tt=7,4)}}v(A);var ve=!1;function me(ne,de,xe,Te){Z(ne,0+(Te?1:0),3),(function(Re,Pe,Xe,Ue){H(Re),D(Re,Xe),D(Re,~Xe),g.arraySet(Re.pending_buf,Re.window,Pe,Xe,Re.pending),Re.pending+=Xe})(ne,de,xe)}x._tr_init=function(ne){ve||((function(){var de,xe,Te,Re,Pe,Xe=new Array(16);for(Re=Te=0;Re<28;Re++)for(P[Re]=Te,de=0;de<1<<q[Re];de++)N[Te++]=Re;for(N[Te-1]=Re,Re=Pe=0;Re<16;Re++)for(A[Re]=Pe,de=0;de<1<<B[Re];de++)V[Pe++]=Re;for(Pe>>=7;Re<R;Re++)for(A[Re]=Pe<<7,de=0;de<1<<B[Re]-7;de++)V[256+Pe++]=Re;for(xe=0;xe<=z;xe++)Xe[xe]=0;for(de=0;de<=143;)F[2*de+1]=8,de++,Xe[8]++;for(;de<=255;)F[2*de+1]=9,de++,Xe[9]++;for(;de<=279;)F[2*de+1]=7,de++,Xe[7]++;for(;de<=287;)F[2*de+1]=8,de++,Xe[8]++;for(G(F,287,Xe),de=0;de<R;de++)W[2*de+1]=5,W[2*de]=ee(de,5);C=new T(F,q,257,k,z),S=new T(W,B,0,R,z),E=new T(new Array(0),I,0,19,7)})(),ve=!0),ne.l_desc=new j(ne.dyn_ltree,C),ne.d_desc=new j(ne.dyn_dtree,S),ne.bl_desc=new j(ne.bl_tree,E),ne.bi_buf=0,ne.bi_valid=0,te(ne)},x._tr_stored_block=me,x._tr_flush_block=function(ne,de,xe,Te){var Re,Pe,Xe=0;0<ne.level?(ne.strm.data_type===2&&(ne.strm.data_type=(function(Ue){var tt,at=4093624447;for(tt=0;tt<=31;tt++,at>>>=1)if(1&at&&Ue.dyn_ltree[2*tt]!==0)return 0;if(Ue.dyn_ltree[18]!==0||Ue.dyn_ltree[20]!==0||Ue.dyn_ltree[26]!==0)return 1;for(tt=32;tt<y;tt++)if(Ue.dyn_ltree[2*tt]!==0)return 1;return 0})(ne)),re(ne,ne.l_desc),re(ne,ne.d_desc),Xe=(function(Ue){var tt;for(oe(Ue,Ue.dyn_ltree,Ue.l_desc.max_code),oe(Ue,Ue.dyn_dtree,Ue.d_desc.max_code),re(Ue,Ue.bl_desc),tt=18;3<=tt&&Ue.bl_tree[2*O[tt]+1]===0;tt--);return Ue.opt_len+=3*(tt+1)+5+5+4,tt})(ne),Re=ne.opt_len+3+7>>>3,(Pe=ne.static_len+3+7>>>3)<=Re&&(Re=Pe)):Re=Pe=xe+5,xe+4<=Re&&de!==-1?me(ne,de,xe,Te):ne.strategy===4||Pe===Re?(Z(ne,2+(Te?1:0),3),ie(ne,F,W)):(Z(ne,4+(Te?1:0),3),(function(Ue,tt,at,Je){var Ze;for(Z(Ue,tt-257,5),Z(Ue,at-1,5),Z(Ue,Je-4,4),Ze=0;Ze<Je;Ze++)Z(Ue,Ue.bl_tree[2*O[Ze]+1],3);he(Ue,Ue.dyn_ltree,tt-1),he(Ue,Ue.dyn_dtree,at-1)})(ne,ne.l_desc.max_code+1,ne.d_desc.max_code+1,Xe+1),ie(ne,ne.dyn_ltree,ne.dyn_dtree)),te(ne),Te&&H(ne)},x._tr_tally=function(ne,de,xe){return ne.pending_buf[ne.d_buf+2*ne.last_lit]=de>>>8&255,ne.pending_buf[ne.d_buf+2*ne.last_lit+1]=255&de,ne.pending_buf[ne.l_buf+ne.last_lit]=255&xe,ne.last_lit++,de===0?ne.dyn_ltree[2*xe]++:(ne.matches++,de--,ne.dyn_ltree[2*(N[xe]+y+1)]++,ne.dyn_dtree[2*L(de)]++),ne.last_lit===ne.lit_bufsize-1},x._tr_align=function(ne){Z(ne,2,3),K(ne,256,F),(function(de){de.bi_valid===16?(D(de,de.bi_buf),de.bi_buf=0,de.bi_valid=0):8<=de.bi_valid&&(de.pending_buf[de.pending++]=255&de.bi_buf,de.bi_buf>>=8,de.bi_valid-=8)})(ne)}},{"../utils/common":41}],53:[function(d,b,x){b.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(d,b,x){(function(g){(function(v,y){if(!v.setImmediate){var k,R,z,q,B=1,I={},O=!1,F=v.document,W=Object.getPrototypeOf&&Object.getPrototypeOf(v);W=W&&W.setTimeout?W:v,k={}.toString.call(v.process)==="[object process]"?function(C){i.nextTick((function(){N(C)}))}:(function(){if(v.postMessage&&!v.importScripts){var C=!0,S=v.onmessage;return v.onmessage=function(){C=!1},v.postMessage("","*"),v.onmessage=S,C}})()?(q="setImmediate$"+Math.random()+"$",v.addEventListener?v.addEventListener("message",P,!1):v.attachEvent("onmessage",P),function(C){v.postMessage(q+C,"*")}):v.MessageChannel?((z=new MessageChannel).port1.onmessage=function(C){N(C.data)},function(C){z.port2.postMessage(C)}):F&&"onreadystatechange"in F.createElement("script")?(R=F.documentElement,function(C){var S=F.createElement("script");S.onreadystatechange=function(){N(C),S.onreadystatechange=null,R.removeChild(S),S=null},R.appendChild(S)}):function(C){setTimeout(N,0,C)},W.setImmediate=function(C){typeof C!="function"&&(C=new Function(""+C));for(var S=new Array(arguments.length-1),E=0;E<S.length;E++)S[E]=arguments[E+1];var A={callback:C,args:S};return I[B]=A,k(B),B++},W.clearImmediate=V}function V(C){delete I[C]}function N(C){if(O)setTimeout(N,0,C);else{var S=I[C];if(S){O=!0;try{(function(E){var A=E.callback,T=E.args;switch(T.length){case 0:A();break;case 1:A(T[0]);break;case 2:A(T[0],T[1]);break;case 3:A(T[0],T[1],T[2]);break;default:A.apply(void 0,T)}})(S)}finally{V(C),O=!1}}}}function P(C){C.source===v&&typeof C.data=="string"&&C.data.indexOf(q)===0&&N(+C.data.slice(q.length))}})(typeof self>"u"?g===void 0?this:g:self)}).call(this,a!==void 0?a:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)}))}).call(this)}).call(this,e("_process"),typeof pr<"u"?pr:typeof self<"u"?self:typeof window<"u"?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(e,n,s){(function(i){(function(){var a=/[\\^$.*+?()[\]{}|]/g,l=RegExp(a.source),c=typeof i=="object"&&i&&i.Object===Object&&i,o=typeof self=="object"&&self&&self.Object===Object&&self,u=c||o||Function("return this")(),p=Object.prototype.toString,h=u.Symbol,d=h?h.prototype:void 0,b=d?d.toString:void 0;function x(g){if(typeof g=="string")return g;if((function(y){return typeof y=="symbol"||(function(k){return!!k&&typeof k=="object"})(y)&&p.call(y)=="[object Symbol]"})(g))return b?b.call(g):"";var v=g+"";return v=="0"&&1/g==-1/0?"-0":v}n.exports=function(g){var v;return(g=(v=g)==null?"":x(v))&&l.test(g)?g.replace(a,"\\$&"):g}}).call(this)}).call(this,typeof pr<"u"?pr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(e,n,s){(function(i){(function(){var a="[object Arguments]",l="[object Map]",c="[object Object]",o="[object Set]",u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,p=/^\w*$/,h=/^\./,d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,b=/\\(\\)?/g,x=/^\[object .+?Constructor\]$/,g=/^(?:0|[1-9]\d*)$/,v={};v["[object Float32Array]"]=v["[object Float64Array]"]=v["[object Int8Array]"]=v["[object Int16Array]"]=v["[object Int32Array]"]=v["[object Uint8Array]"]=v["[object Uint8ClampedArray]"]=v["[object Uint16Array]"]=v["[object Uint32Array]"]=!0,v[a]=v["[object Array]"]=v["[object ArrayBuffer]"]=v["[object Boolean]"]=v["[object DataView]"]=v["[object Date]"]=v["[object Error]"]=v["[object Function]"]=v[l]=v["[object Number]"]=v[c]=v["[object RegExp]"]=v[o]=v["[object String]"]=v["[object WeakMap]"]=!1;var y=typeof i=="object"&&i&&i.Object===Object&&i,k=typeof self=="object"&&self&&self.Object===Object&&self,R=y||k||Function("return this")(),z=typeof s=="object"&&s&&!s.nodeType&&s,q=z&&typeof n=="object"&&n&&!n.nodeType&&n,B=q&&q.exports===z&&y.process,I=(function(){try{return B&&B.binding("util")}catch{}})(),O=I&&I.isTypedArray;function F(be,Me,Ye,ht){for(var Nt=-1,yt=be?be.length:0;++Nt<yt;){var Rt=be[Nt];Me(ht,Rt,Ye(Rt),be)}return ht}function W(be,Me){for(var Ye=-1,ht=be?be.length:0;++Ye<ht;)if(Me(be[Ye],Ye,be))return!0;return!1}function V(be){var Me=!1;if(be!=null&&typeof be.toString!="function")try{Me=!!(be+"")}catch{}return Me}function N(be){var Me=-1,Ye=Array(be.size);return be.forEach((function(ht,Nt){Ye[++Me]=[Nt,ht]})),Ye}function P(be){var Me=-1,Ye=Array(be.size);return be.forEach((function(ht){Ye[++Me]=ht})),Ye}var C,S,E,A=Array.prototype,T=Function.prototype,j=Object.prototype,L=R["__core-js_shared__"],D=(C=/[^.]+$/.exec(L&&L.keys&&L.keys.IE_PROTO||""))?"Symbol(src)_1."+C:"",Z=T.toString,K=j.hasOwnProperty,ee=j.toString,G=RegExp("^"+Z.call(K).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),te=R.Symbol,H=R.Uint8Array,U=j.propertyIsEnumerable,Q=A.splice,ie=(S=Object.keys,E=Object,function(be){return S(E(be))}),re=Ke(R,"DataView"),oe=Ke(R,"Map"),he=Ke(R,"Promise"),ve=Ke(R,"Set"),me=Ke(R,"WeakMap"),ne=Ke(Object,"create"),de=qe(re),xe=qe(oe),Te=qe(he),Re=qe(ve),Pe=qe(me),Xe=te?te.prototype:void 0,Ue=Xe?Xe.valueOf:void 0,tt=Xe?Xe.toString:void 0;function at(be){var Me=-1,Ye=be?be.length:0;for(this.clear();++Me<Ye;){var ht=be[Me];this.set(ht[0],ht[1])}}function Je(be){var Me=-1,Ye=be?be.length:0;for(this.clear();++Me<Ye;){var ht=be[Me];this.set(ht[0],ht[1])}}function Ze(be){var Me=-1,Ye=be?be.length:0;for(this.clear();++Me<Ye;){var ht=be[Me];this.set(ht[0],ht[1])}}function vt(be){var Me=-1,Ye=be?be.length:0;for(this.__data__=new Ze;++Me<Ye;)this.add(be[Me])}function pt(be){this.__data__=new Je(be)}function Ie(be,Me){var Ye=ge(be)||fe(be)?(function(Rt,Qt){for(var Gt=-1,Wt=Array(Rt);++Gt<Rt;)Wt[Gt]=Qt(Gt);return Wt})(be.length,String):[],ht=Ye.length,Nt=!!ht;for(var yt in be)!K.call(be,yt)||Nt&&(yt=="length"||jt(yt,ht))||Ye.push(yt);return Ye}function $e(be,Me){for(var Ye=be.length;Ye--;)if(ce(be[Ye][0],Me))return Ye;return-1}function Ce(be,Me,Ye,ht){return it(be,(function(Nt,yt,Rt){Me(ht,Nt,Ye(Nt),Rt)})),ht}at.prototype.clear=function(){this.__data__=ne?ne(null):{}},at.prototype.delete=function(be){return this.has(be)&&delete this.__data__[be]},at.prototype.get=function(be){var Me=this.__data__;if(ne){var Ye=Me[be];return Ye==="__lodash_hash_undefined__"?void 0:Ye}return K.call(Me,be)?Me[be]:void 0},at.prototype.has=function(be){var Me=this.__data__;return ne?Me[be]!==void 0:K.call(Me,be)},at.prototype.set=function(be,Me){return this.__data__[be]=ne&&Me===void 0?"__lodash_hash_undefined__":Me,this},Je.prototype.clear=function(){this.__data__=[]},Je.prototype.delete=function(be){var Me=this.__data__,Ye=$e(Me,be);return!(Ye<0)&&(Ye==Me.length-1?Me.pop():Q.call(Me,Ye,1),!0)},Je.prototype.get=function(be){var Me=this.__data__,Ye=$e(Me,be);return Ye<0?void 0:Me[Ye][1]},Je.prototype.has=function(be){return $e(this.__data__,be)>-1},Je.prototype.set=function(be,Me){var Ye=this.__data__,ht=$e(Ye,be);return ht<0?Ye.push([be,Me]):Ye[ht][1]=Me,this},Ze.prototype.clear=function(){this.__data__={hash:new at,map:new(oe||Je),string:new at}},Ze.prototype.delete=function(be){return lt(this,be).delete(be)},Ze.prototype.get=function(be){return lt(this,be).get(be)},Ze.prototype.has=function(be){return lt(this,be).has(be)},Ze.prototype.set=function(be,Me){return lt(this,be).set(be,Me),this},vt.prototype.add=vt.prototype.push=function(be){return this.__data__.set(be,"__lodash_hash_undefined__"),this},vt.prototype.has=function(be){return this.__data__.has(be)},pt.prototype.clear=function(){this.__data__=new Je},pt.prototype.delete=function(be){return this.__data__.delete(be)},pt.prototype.get=function(be){return this.__data__.get(be)},pt.prototype.has=function(be){return this.__data__.has(be)},pt.prototype.set=function(be,Me){var Ye=this.__data__;if(Ye instanceof Je){var ht=Ye.__data__;if(!oe||ht.length<199)return ht.push([be,Me]),this;Ye=this.__data__=new Ze(ht)}return Ye.set(be,Me),this};var De,it=(De=function(be,Me){return be&&Be(be,Me,St)},function(be,Me){if(be==null)return be;if(!ye(be))return De(be,Me);for(var Ye=be.length,ht=-1,Nt=Object(be);++ht<Ye&&Me(Nt[ht],ht,Nt)!==!1;);return be}),Be=(function(be){return function(Me,Ye,ht){for(var Nt=-1,yt=Object(Me),Rt=ht(Me),Qt=Rt.length;Qt--;){var Gt=Rt[++Nt];if(Ye(yt[Gt],Gt,yt)===!1)break}return Me}})();function Ge(be,Me){for(var Ye=0,ht=(Me=At(Me,be)?[Me]:Ee(Me)).length;be!=null&&Ye<ht;)be=be[je(Me[Ye++])];return Ye&&Ye==ht?be:void 0}function mt(be,Me){return be!=null&&Me in Object(be)}function dt(be,Me,Ye,ht,Nt){return be===Me||(be==null||Me==null||!Oe(be)&&!Ve(Me)?be!=be&&Me!=Me:(function(yt,Rt,Qt,Gt,Wt,Vt){var Jt=ge(yt),nr=ge(Rt),Yt="[object Array]",lr="[object Array]";Jt||(Yt=(Yt=xt(yt))==a?c:Yt),nr||(lr=(lr=xt(Rt))==a?c:lr);var $r=Yt==c&&!V(yt),dn=lr==c&&!V(Rt),hr=Yt==lr;if(hr&&!$r)return Vt||(Vt=new pt),Jt||bt(yt)?et(yt,Rt,Qt,Gt,Wt,Vt):(function(br,gr,Cs,rs,mi,sn,Jr){switch(Cs){case"[object DataView]":if(br.byteLength!=gr.byteLength||br.byteOffset!=gr.byteOffset)return!1;br=br.buffer,gr=gr.buffer;case"[object ArrayBuffer]":return!(br.byteLength!=gr.byteLength||!rs(new H(br),new H(gr)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ce(+br,+gr);case"[object Error]":return br.name==gr.name&&br.message==gr.message;case"[object RegExp]":case"[object String]":return br==gr+"";case l:var zs=N;case o:var Sa=2&sn;if(zs||(zs=P),br.size!=gr.size&&!Sa)return!1;var $a=Jr.get(br);if($a)return $a==gr;sn|=1,Jr.set(br,gr);var Hs=et(zs(br),zs(gr),rs,mi,sn,Jr);return Jr.delete(br),Hs;case"[object Symbol]":if(Ue)return Ue.call(br)==Ue.call(gr)}return!1})(yt,Rt,Yt,Qt,Gt,Wt,Vt);if(!(2&Wt)){var ms=$r&&K.call(yt,"__wrapped__"),zn=dn&&K.call(Rt,"__wrapped__");if(ms||zn){var As=ms?yt.value():yt,pn=zn?Rt.value():Rt;return Vt||(Vt=new pt),Qt(As,pn,Gt,Wt,Vt)}}return hr?(Vt||(Vt=new pt),(function(br,gr,Cs,rs,mi,sn){var Jr=2&mi,zs=St(br),Sa=zs.length,$a=St(gr).length;if(Sa!=$a&&!Jr)return!1;for(var Hs=Sa;Hs--;){var $s=zs[Hs];if(!(Jr?$s in gr:K.call(gr,$s)))return!1}var ka=sn.get(br);if(ka&&sn.get(gr))return ka==gr;var Ta=!0;sn.set(br,gr),sn.set(gr,br);for(var gs=Jr;++Hs<Sa;){$s=zs[Hs];var qa=br[$s],Hn=gr[$s];if(rs)var Ea=Jr?rs(Hn,qa,$s,gr,br,sn):rs(qa,Hn,$s,br,gr,sn);if(!(Ea===void 0?qa===Hn||Cs(qa,Hn,rs,mi,sn):Ea)){Ta=!1;break}gs||(gs=$s=="constructor")}if(Ta&&!gs){var bs=br.constructor,sa=gr.constructor;bs==sa||!("constructor"in br)||!("constructor"in gr)||typeof bs=="function"&&bs instanceof bs&&typeof sa=="function"&&sa instanceof sa||(Ta=!1)}return sn.delete(br),sn.delete(gr),Ta})(yt,Rt,Qt,Gt,Wt,Vt)):!1})(be,Me,dt,Ye,ht,Nt))}function ke(be){return!(!Oe(be)||(function(Me){return!!D&&D in Me})(be))&&(Ne(be)||V(be)?G:x).test(qe(be))}function We(be){return typeof be=="function"?be:be==null?Tt:typeof be=="object"?ge(be)?(function(ht,Nt){return At(ht)&&Ct(Nt)?Dt(je(ht),Nt):function(yt){var Rt=(function(Qt,Gt,Wt){var Vt=Qt==null?void 0:Ge(Qt,Gt);return Vt===void 0?Wt:Vt})(yt,ht);return Rt===void 0&&Rt===Nt?(function(Qt,Gt){return Qt!=null&&(function(Wt,Vt,Jt){Vt=At(Vt,Wt)?[Vt]:Ee(Vt);for(var nr,Yt=-1,lr=Vt.length;++Yt<lr;){var $r=je(Vt[Yt]);if(!(nr=Wt!=null&&Jt(Wt,$r)))break;Wt=Wt[$r]}return nr||!!(lr=Wt?Wt.length:0)&&Fe(lr)&&jt($r,lr)&&(ge(Wt)||fe(Wt))})(Qt,Gt,mt)})(yt,ht):dt(Nt,Rt,void 0,3)}})(be[0],be[1]):(function(ht){var Nt=(function(yt){for(var Rt=St(yt),Qt=Rt.length;Qt--;){var Gt=Rt[Qt],Wt=yt[Gt];Rt[Qt]=[Gt,Wt,Ct(Wt)]}return Rt})(ht);return Nt.length==1&&Nt[0][2]?Dt(Nt[0][0],Nt[0][1]):function(yt){return yt===ht||(function(Rt,Qt,Gt,Wt){var Vt=Gt.length,Jt=Vt;if(Rt==null)return!Jt;for(Rt=Object(Rt);Vt--;){var nr=Gt[Vt];if(nr[2]?nr[1]!==Rt[nr[0]]:!(nr[0]in Rt))return!1}for(;++Vt<Jt;){var Yt=(nr=Gt[Vt])[0],lr=Rt[Yt],$r=nr[1];if(nr[2]){if(lr===void 0&&!(Yt in Rt))return!1}else{var dn=new pt,hr;if(!(hr===void 0?dt($r,lr,Wt,3,dn):hr))return!1}}return!0})(yt,ht,Nt)}})(be):At(Me=be)?(Ye=je(Me),function(ht){return ht==null?void 0:ht[Ye]}):(function(ht){return function(Nt){return Ge(Nt,ht)}})(Me);var Me,Ye}function Ae(be){if(Ye=(Me=be)&&Me.constructor,ht=typeof Ye=="function"&&Ye.prototype||j,Me!==ht)return ie(be);var Me,Ye,ht,Nt=[];for(var yt in Object(be))K.call(be,yt)&&yt!="constructor"&&Nt.push(yt);return Nt}function Ee(be){return ge(be)?be:Mt(be)}function et(be,Me,Ye,ht,Nt,yt){var Rt=2&Nt,Qt=be.length,Gt=Me.length;if(Qt!=Gt&&!(Rt&&Gt>Qt))return!1;var Wt=yt.get(be);if(Wt&&yt.get(Me))return Wt==Me;var Vt=-1,Jt=!0,nr=1&Nt?new vt:void 0;for(yt.set(be,Me),yt.set(Me,be);++Vt<Qt;){var Yt=be[Vt],lr=Me[Vt];if(ht)var $r=Rt?ht(lr,Yt,Vt,Me,be,yt):ht(Yt,lr,Vt,be,Me,yt);if($r!==void 0){if($r)continue;Jt=!1;break}if(nr){if(!W(Me,(function(dn,hr){if(!nr.has(hr)&&(Yt===dn||Ye(Yt,dn,ht,Nt,yt)))return nr.add(hr)}))){Jt=!1;break}}else if(Yt!==lr&&!Ye(Yt,lr,ht,Nt,yt)){Jt=!1;break}}return yt.delete(be),yt.delete(Me),Jt}function lt(be,Me){var Ye,ht,Nt=be.__data__;return((ht=typeof(Ye=Me))=="string"||ht=="number"||ht=="symbol"||ht=="boolean"?Ye!=="__proto__":Ye===null)?Nt[typeof Me=="string"?"string":"hash"]:Nt.map}function Ke(be,Me){var Ye=(function(ht,Nt){return ht==null?void 0:ht[Nt]})(be,Me);return ke(Ye)?Ye:void 0}var xt=function(be){return ee.call(be)};function jt(be,Me){return!!(Me=Me??9007199254740991)&&(typeof be=="number"||g.test(be))&&be>-1&&be%1==0&&be<Me}function At(be,Me){if(ge(be))return!1;var Ye=typeof be;return!(Ye!="number"&&Ye!="symbol"&&Ye!="boolean"&&be!=null&&!ze(be))||p.test(be)||!u.test(be)||Me!=null&&be in Object(Me)}function Ct(be){return be==be&&!Oe(be)}function Dt(be,Me){return function(Ye){return Ye!=null&&Ye[be]===Me&&(Me!==void 0||be in Object(Ye))}}(re&&xt(new re(new ArrayBuffer(1)))!="[object DataView]"||oe&&xt(new oe)!=l||he&&xt(he.resolve())!="[object Promise]"||ve&&xt(new ve)!=o||me&&xt(new me)!="[object WeakMap]")&&(xt=function(be){var Me=ee.call(be),Ye=Me==c?be.constructor:void 0,ht=Ye?qe(Ye):void 0;if(ht)switch(ht){case de:return"[object DataView]";case xe:return l;case Te:return"[object Promise]";case Re:return o;case Pe:return"[object WeakMap]"}return Me});var Mt=pe((function(be){var Me;be=(Me=be)==null?"":(function(ht){if(typeof ht=="string")return ht;if(ze(ht))return tt?tt.call(ht):"";var Nt=ht+"";return Nt=="0"&&1/ht==-1/0?"-0":Nt})(Me);var Ye=[];return h.test(be)&&Ye.push(""),be.replace(d,(function(ht,Nt,yt,Rt){Ye.push(yt?Rt.replace(b,"$1"):Nt||ht)})),Ye}));function je(be){if(typeof be=="string"||ze(be))return be;var Me=be+"";return Me=="0"&&1/be==-1/0?"-0":Me}function qe(be){if(be!=null){try{return Z.call(be)}catch{}try{return be+""}catch{}}return""}var ct,ae=(ct=function(be,Me,Ye){K.call(be,Ye)?be[Ye].push(Me):be[Ye]=[Me]},function(be,Me){var Ye=ge(be)?F:Ce,ht={};return Ye(be,ct,We(Me),ht)});function pe(be,Me){if(typeof be!="function"||Me&&typeof Me!="function")throw new TypeError("Expected a function");var Ye=function(){var ht=arguments,Nt=Me?Me.apply(this,ht):ht[0],yt=Ye.cache;if(yt.has(Nt))return yt.get(Nt);var Rt=be.apply(this,ht);return Ye.cache=yt.set(Nt,Rt),Rt};return Ye.cache=new(pe.Cache||Ze),Ye}function ce(be,Me){return be===Me||be!=be&&Me!=Me}function fe(be){return(function(Me){return Ve(Me)&&ye(Me)})(be)&&K.call(be,"callee")&&(!U.call(be,"callee")||ee.call(be)==a)}pe.Cache=Ze;var ge=Array.isArray;function ye(be){return be!=null&&Fe(be.length)&&!Ne(be)}function Ne(be){var Me=Oe(be)?ee.call(be):"";return Me=="[object Function]"||Me=="[object GeneratorFunction]"}function Fe(be){return typeof be=="number"&&be>-1&&be%1==0&&be<=9007199254740991}function Oe(be){var Me=typeof be;return!!be&&(Me=="object"||Me=="function")}function Ve(be){return!!be&&typeof be=="object"}function ze(be){return typeof be=="symbol"||Ve(be)&&ee.call(be)=="[object Symbol]"}var bt=O?(function(be){return function(Me){return be(Me)}})(O):function(be){return Ve(be)&&Fe(be.length)&&!!v[ee.call(be)]};function St(be){return ye(be)?Ie(be):Ae(be)}function Tt(be){return be}n.exports=ae}).call(this)}).call(this,typeof pr<"u"?pr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(e,n,s){var i=Object.prototype.toString;n.exports=function(a){return a===!0||a===!1||(function(l){return!!l&&typeof l=="object"})(a)&&i.call(a)=="[object Boolean]"}},{}],445:[function(e,n,s){(function(i){(function(){var a="[object Arguments]",l="[object Map]",c="[object Object]",o="[object Set]",u=/^\[object .+?Constructor\]$/,p=/^(?:0|[1-9]\d*)$/,h={};h["[object Float32Array]"]=h["[object Float64Array]"]=h["[object Int8Array]"]=h["[object Int16Array]"]=h["[object Int32Array]"]=h["[object Uint8Array]"]=h["[object Uint8ClampedArray]"]=h["[object Uint16Array]"]=h["[object Uint32Array]"]=!0,h[a]=h["[object Array]"]=h["[object ArrayBuffer]"]=h["[object Boolean]"]=h["[object DataView]"]=h["[object Date]"]=h["[object Error]"]=h["[object Function]"]=h[l]=h["[object Number]"]=h[c]=h["[object RegExp]"]=h[o]=h["[object String]"]=h["[object WeakMap]"]=!1;var d=typeof i=="object"&&i&&i.Object===Object&&i,b=typeof self=="object"&&self&&self.Object===Object&&self,x=d||b||Function("return this")(),g=typeof s=="object"&&s&&!s.nodeType&&s,v=g&&typeof n=="object"&&n&&!n.nodeType&&n,y=v&&v.exports===g,k=y&&d.process,R=(function(){try{return k&&k.binding&&k.binding("util")}catch{}})(),z=R&&R.isTypedArray;function q(je,qe){for(var ct=-1,ae=je==null?0:je.length;++ct<ae;)if(qe(je[ct],ct,je))return!0;return!1}function B(je){var qe=-1,ct=Array(je.size);return je.forEach((function(ae,pe){ct[++qe]=[pe,ae]})),ct}function I(je){var qe=-1,ct=Array(je.size);return je.forEach((function(ae){ct[++qe]=ae})),ct}var O,F,W,V=Array.prototype,N=Function.prototype,P=Object.prototype,C=x["__core-js_shared__"],S=N.toString,E=P.hasOwnProperty,A=(O=/[^.]+$/.exec(C&&C.keys&&C.keys.IE_PROTO||""))?"Symbol(src)_1."+O:"",T=P.toString,j=RegExp("^"+S.call(E).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),L=y?x.Buffer:void 0,D=x.Symbol,Z=x.Uint8Array,K=P.propertyIsEnumerable,ee=V.splice,G=D?D.toStringTag:void 0,te=Object.getOwnPropertySymbols,H=L?L.isBuffer:void 0,U=(F=Object.keys,W=Object,function(je){return F(W(je))}),Q=mt(x,"DataView"),ie=mt(x,"Map"),re=mt(x,"Promise"),oe=mt(x,"Set"),he=mt(x,"WeakMap"),ve=mt(Object,"create"),me=Ae(Q),ne=Ae(ie),de=Ae(re),xe=Ae(oe),Te=Ae(he),Re=D?D.prototype:void 0,Pe=Re?Re.valueOf:void 0;function Xe(je){var qe=-1,ct=je==null?0:je.length;for(this.clear();++qe<ct;){var ae=je[qe];this.set(ae[0],ae[1])}}function Ue(je){var qe=-1,ct=je==null?0:je.length;for(this.clear();++qe<ct;){var ae=je[qe];this.set(ae[0],ae[1])}}function tt(je){var qe=-1,ct=je==null?0:je.length;for(this.clear();++qe<ct;){var ae=je[qe];this.set(ae[0],ae[1])}}function at(je){var qe=-1,ct=je==null?0:je.length;for(this.__data__=new tt;++qe<ct;)this.add(je[qe])}function Je(je){var qe=this.__data__=new Ue(je);this.size=qe.size}function Ze(je,qe){var ct=lt(je),ae=!ct&&et(je),pe=!ct&&!ae&&Ke(je),ce=!ct&&!ae&&!pe&&Dt(je),fe=ct||ae||pe||ce,ge=fe?(function(Fe,Oe){for(var Ve=-1,ze=Array(Fe);++Ve<Fe;)ze[Ve]=Oe(Ve);return ze})(je.length,String):[],ye=ge.length;for(var Ne in je)!E.call(je,Ne)||fe&&(Ne=="length"||pe&&(Ne=="offset"||Ne=="parent")||ce&&(Ne=="buffer"||Ne=="byteLength"||Ne=="byteOffset")||We(Ne,ye))||ge.push(Ne);return ge}function vt(je,qe){for(var ct=je.length;ct--;)if(Ee(je[ct][0],qe))return ct;return-1}function pt(je){return je==null?je===void 0?"[object Undefined]":"[object Null]":G&&G in Object(je)?(function(qe){var ct=E.call(qe,G),ae=qe[G];try{qe[G]=void 0;var pe=!0}catch{}var ce=T.call(qe);return pe&&(ct?qe[G]=ae:delete qe[G]),ce})(je):(function(qe){return T.call(qe)})(je)}function Ie(je){return Ct(je)&&pt(je)==a}function $e(je,qe,ct,ae,pe){return je===qe||(je==null||qe==null||!Ct(je)&&!Ct(qe)?je!=je&&qe!=qe:(function(ce,fe,ge,ye,Ne,Fe){var Oe=lt(ce),Ve=lt(fe),ze=Oe?"[object Array]":ke(ce),bt=Ve?"[object Array]":ke(fe),St=(ze=ze==a?c:ze)==c,Tt=(bt=bt==a?c:bt)==c,be=ze==bt;if(be&&Ke(ce)){if(!Ke(fe))return!1;Oe=!0,St=!1}if(be&&!St)return Fe||(Fe=new Je),Oe||Dt(ce)?it(ce,fe,ge,ye,Ne,Fe):(function(yt,Rt,Qt,Gt,Wt,Vt,Jt){switch(Qt){case"[object DataView]":if(yt.byteLength!=Rt.byteLength||yt.byteOffset!=Rt.byteOffset)return!1;yt=yt.buffer,Rt=Rt.buffer;case"[object ArrayBuffer]":return!(yt.byteLength!=Rt.byteLength||!Vt(new Z(yt),new Z(Rt)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ee(+yt,+Rt);case"[object Error]":return yt.name==Rt.name&&yt.message==Rt.message;case"[object RegExp]":case"[object String]":return yt==Rt+"";case l:var nr=B;case o:var Yt=1&Gt;if(nr||(nr=I),yt.size!=Rt.size&&!Yt)return!1;var lr=Jt.get(yt);if(lr)return lr==Rt;Gt|=2,Jt.set(yt,Rt);var $r=it(nr(yt),nr(Rt),Gt,Wt,Vt,Jt);return Jt.delete(yt),$r;case"[object Symbol]":if(Pe)return Pe.call(yt)==Pe.call(Rt)}return!1})(ce,fe,ze,ge,ye,Ne,Fe);if(!(1&ge)){var Me=St&&E.call(ce,"__wrapped__"),Ye=Tt&&E.call(fe,"__wrapped__");if(Me||Ye){var ht=Me?ce.value():ce,Nt=Ye?fe.value():fe;return Fe||(Fe=new Je),Ne(ht,Nt,ge,ye,Fe)}}return be?(Fe||(Fe=new Je),(function(yt,Rt,Qt,Gt,Wt,Vt){var Jt=1&Qt,nr=Be(yt),Yt=nr.length,lr=Be(Rt).length;if(Yt!=lr&&!Jt)return!1;for(var $r=Yt;$r--;){var dn=nr[$r];if(!(Jt?dn in Rt:E.call(Rt,dn)))return!1}var hr=Vt.get(yt);if(hr&&Vt.get(Rt))return hr==Rt;var ms=!0;Vt.set(yt,Rt),Vt.set(Rt,yt);for(var zn=Jt;++$r<Yt;){dn=nr[$r];var As=yt[dn],pn=Rt[dn];if(Gt)var br=Jt?Gt(pn,As,dn,Rt,yt,Vt):Gt(As,pn,dn,yt,Rt,Vt);if(!(br===void 0?As===pn||Wt(As,pn,Qt,Gt,Vt):br)){ms=!1;break}zn||(zn=dn=="constructor")}if(ms&&!zn){var gr=yt.constructor,Cs=Rt.constructor;gr==Cs||!("constructor"in yt)||!("constructor"in Rt)||typeof gr=="function"&&gr instanceof gr&&typeof Cs=="function"&&Cs instanceof Cs||(ms=!1)}return Vt.delete(yt),Vt.delete(Rt),ms})(ce,fe,ge,ye,Ne,Fe)):!1})(je,qe,ct,ae,$e,pe))}function Ce(je){return!(!At(je)||(function(qe){return!!A&&A in qe})(je))&&(xt(je)?j:u).test(Ae(je))}function De(je){if(ct=(qe=je)&&qe.constructor,ae=typeof ct=="function"&&ct.prototype||P,qe!==ae)return U(je);var qe,ct,ae,pe=[];for(var ce in Object(je))E.call(je,ce)&&ce!="constructor"&&pe.push(ce);return pe}function it(je,qe,ct,ae,pe,ce){var fe=1&ct,ge=je.length,ye=qe.length;if(ge!=ye&&!(fe&&ye>ge))return!1;var Ne=ce.get(je);if(Ne&&ce.get(qe))return Ne==qe;var Fe=-1,Oe=!0,Ve=2&ct?new at:void 0;for(ce.set(je,qe),ce.set(qe,je);++Fe<ge;){var ze=je[Fe],bt=qe[Fe];if(ae)var St=fe?ae(bt,ze,Fe,qe,je,ce):ae(ze,bt,Fe,je,qe,ce);if(St!==void 0){if(St)continue;Oe=!1;break}if(Ve){if(!q(qe,(function(Tt,be){if(Me=be,!Ve.has(Me)&&(ze===Tt||pe(ze,Tt,ct,ae,ce)))return Ve.push(be);var Me}))){Oe=!1;break}}else if(ze!==bt&&!pe(ze,bt,ct,ae,ce)){Oe=!1;break}}return ce.delete(je),ce.delete(qe),Oe}function Be(je){return(function(qe,ct,ae){var pe=ct(qe);return lt(qe)?pe:(function(ce,fe){for(var ge=-1,ye=fe.length,Ne=ce.length;++ge<ye;)ce[Ne+ge]=fe[ge];return ce})(pe,ae(qe))})(je,Mt,dt)}function Ge(je,qe){var ct,ae,pe=je.__data__;return((ae=typeof(ct=qe))=="string"||ae=="number"||ae=="symbol"||ae=="boolean"?ct!=="__proto__":ct===null)?pe[typeof qe=="string"?"string":"hash"]:pe.map}function mt(je,qe){var ct=(function(ae,pe){return ae==null?void 0:ae[pe]})(je,qe);return Ce(ct)?ct:void 0}Xe.prototype.clear=function(){this.__data__=ve?ve(null):{},this.size=0},Xe.prototype.delete=function(je){var qe=this.has(je)&&delete this.__data__[je];return this.size-=qe?1:0,qe},Xe.prototype.get=function(je){var qe=this.__data__;if(ve){var ct=qe[je];return ct==="__lodash_hash_undefined__"?void 0:ct}return E.call(qe,je)?qe[je]:void 0},Xe.prototype.has=function(je){var qe=this.__data__;return ve?qe[je]!==void 0:E.call(qe,je)},Xe.prototype.set=function(je,qe){var ct=this.__data__;return this.size+=this.has(je)?0:1,ct[je]=ve&&qe===void 0?"__lodash_hash_undefined__":qe,this},Ue.prototype.clear=function(){this.__data__=[],this.size=0},Ue.prototype.delete=function(je){var qe=this.__data__,ct=vt(qe,je);return!(ct<0)&&(ct==qe.length-1?qe.pop():ee.call(qe,ct,1),--this.size,!0)},Ue.prototype.get=function(je){var qe=this.__data__,ct=vt(qe,je);return ct<0?void 0:qe[ct][1]},Ue.prototype.has=function(je){return vt(this.__data__,je)>-1},Ue.prototype.set=function(je,qe){var ct=this.__data__,ae=vt(ct,je);return ae<0?(++this.size,ct.push([je,qe])):ct[ae][1]=qe,this},tt.prototype.clear=function(){this.size=0,this.__data__={hash:new Xe,map:new(ie||Ue),string:new Xe}},tt.prototype.delete=function(je){var qe=Ge(this,je).delete(je);return this.size-=qe?1:0,qe},tt.prototype.get=function(je){return Ge(this,je).get(je)},tt.prototype.has=function(je){return Ge(this,je).has(je)},tt.prototype.set=function(je,qe){var ct=Ge(this,je),ae=ct.size;return ct.set(je,qe),this.size+=ct.size==ae?0:1,this},at.prototype.add=at.prototype.push=function(je){return this.__data__.set(je,"__lodash_hash_undefined__"),this},at.prototype.has=function(je){return this.__data__.has(je)},Je.prototype.clear=function(){this.__data__=new Ue,this.size=0},Je.prototype.delete=function(je){var qe=this.__data__,ct=qe.delete(je);return this.size=qe.size,ct},Je.prototype.get=function(je){return this.__data__.get(je)},Je.prototype.has=function(je){return this.__data__.has(je)},Je.prototype.set=function(je,qe){var ct=this.__data__;if(ct instanceof Ue){var ae=ct.__data__;if(!ie||ae.length<199)return ae.push([je,qe]),this.size=++ct.size,this;ct=this.__data__=new tt(ae)}return ct.set(je,qe),this.size=ct.size,this};var dt=te?function(je){return je==null?[]:(je=Object(je),(function(qe,ct){for(var ae=-1,pe=qe==null?0:qe.length,ce=0,fe=[];++ae<pe;){var ge=qe[ae];ct(ge,ae,qe)&&(fe[ce++]=ge)}return fe})(te(je),(function(qe){return K.call(je,qe)})))}:function(){return[]},ke=pt;function We(je,qe){return!!(qe=qe??9007199254740991)&&(typeof je=="number"||p.test(je))&&je>-1&&je%1==0&&je<qe}function Ae(je){if(je!=null){try{return S.call(je)}catch{}try{return je+""}catch{}}return""}function Ee(je,qe){return je===qe||je!=je&&qe!=qe}(Q&&ke(new Q(new ArrayBuffer(1)))!="[object DataView]"||ie&&ke(new ie)!=l||re&&ke(re.resolve())!="[object Promise]"||oe&&ke(new oe)!=o||he&&ke(new he)!="[object WeakMap]")&&(ke=function(je){var qe=pt(je),ct=qe==c?je.constructor:void 0,ae=ct?Ae(ct):"";if(ae)switch(ae){case me:return"[object DataView]";case ne:return l;case de:return"[object Promise]";case xe:return o;case Te:return"[object WeakMap]"}return qe});var et=Ie((function(){return arguments})())?Ie:function(je){return Ct(je)&&E.call(je,"callee")&&!K.call(je,"callee")},lt=Array.isArray,Ke=H||function(){return!1};function xt(je){if(!At(je))return!1;var qe=pt(je);return qe=="[object Function]"||qe=="[object GeneratorFunction]"||qe=="[object AsyncFunction]"||qe=="[object Proxy]"}function jt(je){return typeof je=="number"&&je>-1&&je%1==0&&je<=9007199254740991}function At(je){var qe=typeof je;return je!=null&&(qe=="object"||qe=="function")}function Ct(je){return je!=null&&typeof je=="object"}var Dt=z?(function(je){return function(qe){return je(qe)}})(z):function(je){return Ct(je)&&jt(je.length)&&!!h[pt(je)]};function Mt(je){return(qe=je)!=null&&jt(qe.length)&&!xt(qe)?Ze(je):De(je);var qe}n.exports=function(je,qe){return $e(je,qe)}}).call(this)}).call(this,typeof pr<"u"?pr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(e,n,s){(function(i){(function(){var a=typeof i=="object"&&i&&i.Object===Object&&i,l=typeof self=="object"&&self&&self.Object===Object&&self,c=a||l||Function("return this")(),o=Object.prototype,u=o.hasOwnProperty,p=o.toString,h=c.Symbol,d=h?h.toStringTag:void 0;function b(x){return x==null?x===void 0?"[object Undefined]":"[object Null]":d&&d in Object(x)?(function(g){var v=u.call(g,d),y=g[d];try{g[d]=void 0;var k=!0}catch{}var R=p.call(g);return k&&(v?g[d]=y:delete g[d]),R})(x):(function(g){return p.call(g)})(x)}n.exports=function(x){if(!(function(v){var y=typeof v;return v!=null&&(y=="object"||y=="function")})(x))return!1;var g=b(x);return g=="[object Function]"||g=="[object GeneratorFunction]"||g=="[object AsyncFunction]"||g=="[object Proxy]"}}).call(this)}).call(this,typeof pr<"u"?pr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(e,n,s){n.exports=function(i){return i==null}},{}],448:[function(e,n,s){n.exports=function(i){return i===void 0}},{}],449:[function(e,n,s){(function(i){(function(){var a=/^\[object .+?Constructor\]$/,l=typeof i=="object"&&i&&i.Object===Object&&i,c=typeof self=="object"&&self&&self.Object===Object&&self,o=l||c||Function("return this")();function u(D,Z){return!!(D&&D.length)&&(function(K,ee,G){if(ee!=ee)return(function(U,Q,ie,re){for(var oe=U.length,he=ie+-1;++he<oe;)if(Q(U[he],he,U))return he;return-1})(K,p,G);for(var te=G-1,H=K.length;++te<H;)if(K[te]===ee)return te;return-1})(D,Z,0)>-1}function p(D){return D!=D}function h(D,Z){return D.has(Z)}function d(D){var Z=-1,K=Array(D.size);return D.forEach((function(ee){K[++Z]=ee})),K}var b,x=Array.prototype,g=Function.prototype,v=Object.prototype,y=o["__core-js_shared__"],k=(b=/[^.]+$/.exec(y&&y.keys&&y.keys.IE_PROTO||""))?"Symbol(src)_1."+b:"",R=g.toString,z=v.hasOwnProperty,q=v.toString,B=RegExp("^"+R.call(z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),I=x.splice,O=j(o,"Map"),F=j(o,"Set"),W=j(Object,"create");function V(D){var Z=-1,K=D?D.length:0;for(this.clear();++Z<K;){var ee=D[Z];this.set(ee[0],ee[1])}}function N(D){var Z=-1,K=D?D.length:0;for(this.clear();++Z<K;){var ee=D[Z];this.set(ee[0],ee[1])}}function P(D){var Z=-1,K=D?D.length:0;for(this.clear();++Z<K;){var ee=D[Z];this.set(ee[0],ee[1])}}function C(D){var Z=-1,K=D?D.length:0;for(this.__data__=new P;++Z<K;)this.add(D[Z])}function S(D,Z){for(var K,ee,G=D.length;G--;)if((K=D[G][0])===(ee=Z)||K!=K&&ee!=ee)return G;return-1}function E(D){return!(!L(D)||(Z=D,k&&k in Z))&&((function(K){var ee=L(K)?q.call(K):"";return ee=="[object Function]"||ee=="[object GeneratorFunction]"})(D)||(function(K){var ee=!1;if(K!=null&&typeof K.toString!="function")try{ee=!!(K+"")}catch{}return ee})(D)?B:a).test((function(K){if(K!=null){try{return R.call(K)}catch{}try{return K+""}catch{}}return""})(D));var Z}V.prototype.clear=function(){this.__data__=W?W(null):{}},V.prototype.delete=function(D){return this.has(D)&&delete this.__data__[D]},V.prototype.get=function(D){var Z=this.__data__;if(W){var K=Z[D];return K==="__lodash_hash_undefined__"?void 0:K}return z.call(Z,D)?Z[D]:void 0},V.prototype.has=function(D){var Z=this.__data__;return W?Z[D]!==void 0:z.call(Z,D)},V.prototype.set=function(D,Z){return this.__data__[D]=W&&Z===void 0?"__lodash_hash_undefined__":Z,this},N.prototype.clear=function(){this.__data__=[]},N.prototype.delete=function(D){var Z=this.__data__,K=S(Z,D);return!(K<0)&&(K==Z.length-1?Z.pop():I.call(Z,K,1),!0)},N.prototype.get=function(D){var Z=this.__data__,K=S(Z,D);return K<0?void 0:Z[K][1]},N.prototype.has=function(D){return S(this.__data__,D)>-1},N.prototype.set=function(D,Z){var K=this.__data__,ee=S(K,D);return ee<0?K.push([D,Z]):K[ee][1]=Z,this},P.prototype.clear=function(){this.__data__={hash:new V,map:new(O||N),string:new V}},P.prototype.delete=function(D){return T(this,D).delete(D)},P.prototype.get=function(D){return T(this,D).get(D)},P.prototype.has=function(D){return T(this,D).has(D)},P.prototype.set=function(D,Z){return T(this,D).set(D,Z),this},C.prototype.add=C.prototype.push=function(D){return this.__data__.set(D,"__lodash_hash_undefined__"),this},C.prototype.has=function(D){return this.__data__.has(D)};var A=F&&1/d(new F([,-0]))[1]==1/0?function(D){return new F(D)}:function(){};function T(D,Z){var K,ee,G=D.__data__;return((ee=typeof(K=Z))=="string"||ee=="number"||ee=="symbol"||ee=="boolean"?K!=="__proto__":K===null)?G[typeof Z=="string"?"string":"hash"]:G.map}function j(D,Z){var K=(function(ee,G){return ee==null?void 0:ee[G]})(D,Z);return E(K)?K:void 0}function L(D){var Z=typeof D;return!!D&&(Z=="object"||Z=="function")}n.exports=function(D){return D&&D.length?(function(Z,K,ee){var G=-1,te=u,H=Z.length,U=!0,Q=[],ie=Q;if(H>=200){var re=A(Z);if(re)return d(re);U=!1,te=h,ie=new C}else ie=Q;e:for(;++G<H;){var oe=Z[G],he=oe;if(oe=oe!==0?oe:0,U&&he==he){for(var ve=ie.length;ve--;)if(ie[ve]===he)continue e;Q.push(oe)}else te(ie,he,ee)||(ie!==Q&&ie.push(he),Q.push(oe))}return Q})(D):[]}}).call(this)}).call(this,typeof pr<"u"?pr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(e,n,s){var i=e("inherits"),a=e("hash-base"),l=e("safe-buffer").Buffer,c=new Array(16);function o(){a.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function u(x,g){return x<<g|x>>>32-g}function p(x,g,v,y,k,R,z){return u(x+(g&v|~g&y)+k+R|0,z)+g|0}function h(x,g,v,y,k,R,z){return u(x+(g&y|v&~y)+k+R|0,z)+g|0}function d(x,g,v,y,k,R,z){return u(x+(g^v^y)+k+R|0,z)+g|0}function b(x,g,v,y,k,R,z){return u(x+(v^(g|~y))+k+R|0,z)+g|0}i(o,a),o.prototype._update=function(){for(var x=c,g=0;g<16;++g)x[g]=this._block.readInt32LE(4*g);var v=this._a,y=this._b,k=this._c,R=this._d;v=p(v,y,k,R,x[0],3614090360,7),R=p(R,v,y,k,x[1],3905402710,12),k=p(k,R,v,y,x[2],606105819,17),y=p(y,k,R,v,x[3],3250441966,22),v=p(v,y,k,R,x[4],4118548399,7),R=p(R,v,y,k,x[5],1200080426,12),k=p(k,R,v,y,x[6],2821735955,17),y=p(y,k,R,v,x[7],4249261313,22),v=p(v,y,k,R,x[8],1770035416,7),R=p(R,v,y,k,x[9],2336552879,12),k=p(k,R,v,y,x[10],4294925233,17),y=p(y,k,R,v,x[11],2304563134,22),v=p(v,y,k,R,x[12],1804603682,7),R=p(R,v,y,k,x[13],4254626195,12),k=p(k,R,v,y,x[14],2792965006,17),v=h(v,y=p(y,k,R,v,x[15],1236535329,22),k,R,x[1],4129170786,5),R=h(R,v,y,k,x[6],3225465664,9),k=h(k,R,v,y,x[11],643717713,14),y=h(y,k,R,v,x[0],3921069994,20),v=h(v,y,k,R,x[5],3593408605,5),R=h(R,v,y,k,x[10],38016083,9),k=h(k,R,v,y,x[15],3634488961,14),y=h(y,k,R,v,x[4],3889429448,20),v=h(v,y,k,R,x[9],568446438,5),R=h(R,v,y,k,x[14],3275163606,9),k=h(k,R,v,y,x[3],4107603335,14),y=h(y,k,R,v,x[8],1163531501,20),v=h(v,y,k,R,x[13],2850285829,5),R=h(R,v,y,k,x[2],4243563512,9),k=h(k,R,v,y,x[7],1735328473,14),v=d(v,y=h(y,k,R,v,x[12],2368359562,20),k,R,x[5],4294588738,4),R=d(R,v,y,k,x[8],2272392833,11),k=d(k,R,v,y,x[11],1839030562,16),y=d(y,k,R,v,x[14],4259657740,23),v=d(v,y,k,R,x[1],2763975236,4),R=d(R,v,y,k,x[4],1272893353,11),k=d(k,R,v,y,x[7],4139469664,16),y=d(y,k,R,v,x[10],3200236656,23),v=d(v,y,k,R,x[13],681279174,4),R=d(R,v,y,k,x[0],3936430074,11),k=d(k,R,v,y,x[3],3572445317,16),y=d(y,k,R,v,x[6],76029189,23),v=d(v,y,k,R,x[9],3654602809,4),R=d(R,v,y,k,x[12],3873151461,11),k=d(k,R,v,y,x[15],530742520,16),v=b(v,y=d(y,k,R,v,x[2],3299628645,23),k,R,x[0],4096336452,6),R=b(R,v,y,k,x[7],1126891415,10),k=b(k,R,v,y,x[14],2878612391,15),y=b(y,k,R,v,x[5],4237533241,21),v=b(v,y,k,R,x[12],1700485571,6),R=b(R,v,y,k,x[3],2399980690,10),k=b(k,R,v,y,x[10],4293915773,15),y=b(y,k,R,v,x[1],2240044497,21),v=b(v,y,k,R,x[8],1873313359,6),R=b(R,v,y,k,x[15],4264355552,10),k=b(k,R,v,y,x[6],2734768916,15),y=b(y,k,R,v,x[13],1309151649,21),v=b(v,y,k,R,x[4],4149444226,6),R=b(R,v,y,k,x[11],3174756917,10),k=b(k,R,v,y,x[2],718787259,15),y=b(y,k,R,v,x[9],3951481745,21),this._a=this._a+v|0,this._b=this._b+y|0,this._c=this._c+k|0,this._d=this._d+R|0},o.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var x=l.allocUnsafe(16);return x.writeInt32LE(this._a,0),x.writeInt32LE(this._b,4),x.writeInt32LE(this._c,8),x.writeInt32LE(this._d,12),x},n.exports=o},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(e,n,s){var i=e("bn.js"),a=e("brorand");function l(c){this.rand=c||new a.Rand}n.exports=l,l.create=function(c){return new l(c)},l.prototype._randbelow=function(c){var o=c.bitLength(),u=Math.ceil(o/8);do var p=new i(this.rand.generate(u));while(p.cmp(c)>=0);return p},l.prototype._randrange=function(c,o){var u=o.sub(c);return c.add(this._randbelow(u))},l.prototype.test=function(c,o,u){var p=c.bitLength(),h=i.mont(c),d=new i(1).toRed(h);o||(o=Math.max(1,p/48|0));for(var b=c.subn(1),x=0;!b.testn(x);x++);for(var g=c.shrn(x),v=b.toRed(h);o>0;o--){var y=this._randrange(new i(2),b);u&&u(y);var k=y.toRed(h).redPow(g);if(k.cmp(d)!==0&&k.cmp(v)!==0){for(var R=1;R<x;R++){if((k=k.redSqr()).cmp(d)===0)return!1;if(k.cmp(v)===0)break}if(R===x)return!1}}return!0},l.prototype.getDivisor=function(c,o){var u=c.bitLength(),p=i.mont(c),h=new i(1).toRed(p);o||(o=Math.max(1,u/48|0));for(var d=c.subn(1),b=0;!d.testn(b);b++);for(var x=c.shrn(b),g=d.toRed(p);o>0;o--){var v=this._randrange(new i(2),d),y=c.gcd(v);if(y.cmpn(1)!==0)return y;var k=v.toRed(p).redPow(x);if(k.cmp(h)!==0&&k.cmp(g)!==0){for(var R=1;R<b;R++){if((k=k.redSqr()).cmp(h)===0)return k.fromRed().subn(1).gcd(c);if(k.cmp(g)===0)break}if(R===b)return(k=k.redSqr()).fromRed().subn(1).gcd(c)}}return!1}},{"bn.js":452,brorand:187}],452:[function(e,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],453:[function(e,n,s){function i(a,l){if(!a)throw new Error(l||"Assertion failed")}n.exports=i,i.equal=function(a,l,c){if(a!=l)throw new Error(c||"Assertion failed: "+a+" != "+l)}},{}],454:[function(e,n,s){var i=s;function a(c){return c.length===1?"0"+c:c}function l(c){for(var o="",u=0;u<c.length;u++)o+=a(c[u].toString(16));return o}i.toArray=function(c,o){if(Array.isArray(c))return c.slice();if(!c)return[];var u=[];if(typeof c!="string"){for(var p=0;p<c.length;p++)u[p]=0|c[p];return u}if(o==="hex")for((c=c.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(c="0"+c),p=0;p<c.length;p+=2)u.push(parseInt(c[p]+c[p+1],16));else for(p=0;p<c.length;p++){var h=c.charCodeAt(p),d=h>>8,b=255&h;d?u.push(d,b):u.push(b)}return u},i.zero2=a,i.toHex=l,i.encode=function(c,o){return o==="hex"?l(c):c}},{}],455:[function(e,n,s){n.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(e,n,s){var i=e("asn1.js");s.certificate=e("./certificate");var a=i.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));s.RSAPrivateKey=a;var l=i.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));s.RSAPublicKey=l;var c=i.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(o),this.key("subjectPublicKey").bitstr())}));s.PublicKey=c;var o=i.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),u=i.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(o),this.key("subjectPrivateKey").octstr())}));s.PrivateKey=u;var p=i.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));s.EncryptedPrivateKey=p;var h=i.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));s.DSAPrivateKey=h,s.DSAparam=i.define("DSAparam",(function(){this.int()}));var d=i.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(b),this.key("publicKey").optional().explicit(1).bitstr())}));s.ECPrivateKey=d;var b=i.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));s.signature=i.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},{"./certificate":457,"asn1.js":170}],457:[function(e,n,s){var i=e("asn1.js"),a=i.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),l=i.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),c=i.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),o=i.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(c),this.key("subjectPublicKey").bitstr())})),u=i.define("RelativeDistinguishedName",(function(){this.setof(l)})),p=i.define("RDNSequence",(function(){this.seqof(u)})),h=i.define("Name",(function(){this.choice({rdnSequence:this.use(p)})})),d=i.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(a),this.key("notAfter").use(a))})),b=i.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),x=i.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(c),this.key("issuer").use(h),this.key("validity").use(d),this.key("subject").use(h),this.key("subjectPublicKeyInfo").use(o),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(b).optional())})),g=i.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(x),this.key("signatureAlgorithm").use(c),this.key("signatureValue").bitstr())}));n.exports=g},{"asn1.js":170}],458:[function(e,n,s){var i=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,a=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,l=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,c=e("evp_bytestokey"),o=e("browserify-aes"),u=e("safe-buffer").Buffer;n.exports=function(p,h){var d,b=p.toString(),x=b.match(i);if(x){var g="aes"+x[1],v=u.from(x[2],"hex"),y=u.from(x[3].replace(/[\r\n]/g,""),"base64"),k=c(h,v.slice(0,8),parseInt(x[1],10)).key,R=[],z=o.createDecipheriv(g,k,v);R.push(z.update(y)),R.push(z.final()),d=u.concat(R)}else{var q=b.match(l);d=u.from(q[2].replace(/[\r\n]/g,""),"base64")}return{tag:b.match(a)[1],data:d}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(e,n,s){var i=e("./asn1"),a=e("./aesid.json"),l=e("./fixProc"),c=e("browserify-aes"),o=e("pbkdf2"),u=e("safe-buffer").Buffer;function p(h){var d;typeof h!="object"||u.isBuffer(h)||(d=h.passphrase,h=h.key),typeof h=="string"&&(h=u.from(h));var b,x,g=l(h,d),v=g.tag,y=g.data;switch(v){case"CERTIFICATE":x=i.certificate.decode(y,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(x||(x=i.PublicKey.decode(y,"der")),b=x.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPublicKey.decode(x.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return x.subjectPrivateKey=x.subjectPublicKey,{type:"ec",data:x};case"1.2.840.10040.4.1":return x.algorithm.params.pub_key=i.DSAparam.decode(x.subjectPublicKey.data,"der"),{type:"dsa",data:x.algorithm.params};default:throw new Error("unknown key id "+b)}case"ENCRYPTED PRIVATE KEY":y=(function(k,R){var z=k.algorithm.decrypt.kde.kdeparams.salt,q=parseInt(k.algorithm.decrypt.kde.kdeparams.iters.toString(),10),B=a[k.algorithm.decrypt.cipher.algo.join(".")],I=k.algorithm.decrypt.cipher.iv,O=k.subjectPrivateKey,F=parseInt(B.split("-")[1],10)/8,W=o.pbkdf2Sync(R,z,q,F,"sha1"),V=c.createDecipheriv(B,W,I),N=[];return N.push(V.update(O)),N.push(V.final()),u.concat(N)})(y=i.EncryptedPrivateKey.decode(y,"der"),d);case"PRIVATE KEY":switch(b=(x=i.PrivateKey.decode(y,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPrivateKey.decode(x.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:x.algorithm.curve,privateKey:i.ECPrivateKey.decode(x.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return x.algorithm.params.priv_key=i.DSAparam.decode(x.subjectPrivateKey,"der"),{type:"dsa",params:x.algorithm.params};default:throw new Error("unknown key id "+b)}case"RSA PUBLIC KEY":return i.RSAPublicKey.decode(y,"der");case"RSA PRIVATE KEY":return i.RSAPrivateKey.decode(y,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:i.DSAPrivateKey.decode(y,"der")};case"EC PRIVATE KEY":return{curve:(y=i.ECPrivateKey.decode(y,"der")).parameters.value,privateKey:y.privateKey};default:throw new Error("unknown key type "+v)}}n.exports=p,p.signature=i.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(e,n,s){s.pbkdf2=e("./lib/async"),s.pbkdf2Sync=e("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(e,n,s){(function(i){(function(){var a,l,c=e("safe-buffer").Buffer,o=e("./precondition"),u=e("./default-encoding"),p=e("./sync"),h=e("./to-buffer"),d=i.crypto&&i.crypto.subtle,b={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},x=[];function g(){return l||(l=i.process&&i.process.nextTick?i.process.nextTick:i.queueMicrotask?i.queueMicrotask:i.setImmediate?i.setImmediate:i.setTimeout)}function v(y,k,R,z,q){return d.importKey("raw",y,{name:"PBKDF2"},!1,["deriveBits"]).then((function(B){return d.deriveBits({name:"PBKDF2",salt:k,iterations:R,hash:{name:q}},B,z<<3)})).then((function(B){return c.from(B)}))}n.exports=function(y,k,R,z,q,B){typeof q=="function"&&(B=q,q=void 0);var I=b[(q=q||"sha1").toLowerCase()];if(I&&typeof i.Promise=="function"){if(o(R,z),y=h(y,u,"Password"),k=h(k,u,"Salt"),typeof B!="function")throw new Error("No callback provided to pbkdf2");(function(O,F){O.then((function(W){g()((function(){F(null,W)}))}),(function(W){g()((function(){F(W)}))}))})((function(O){if(i.process&&!i.process.browser||!d||!d.importKey||!d.deriveBits)return Promise.resolve(!1);if(x[O]!==void 0)return x[O];var F=v(a=a||c.alloc(8),a,10,128,O).then((function(){return!0})).catch((function(){return!1}));return x[O]=F,F})(I).then((function(O){return O?v(y,k,R,z,I):p(y,k,R,z,q)})),B)}else g()((function(){var O;try{O=p(y,k,R,z,q)}catch(F){return B(F)}B(null,O)}))}}).call(this)}).call(this,typeof pr<"u"?pr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(e,n,s){(function(i,a){(function(){var l;a.process&&a.process.browser?l="utf-8":a.process&&a.process.version?l=parseInt(i.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":l="utf-8",n.exports=l}).call(this)}).call(this,e("_process"),typeof pr<"u"?pr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(e,n,s){var i=Math.pow(2,30)-1;n.exports=function(a,l){if(typeof a!="number")throw new TypeError("Iterations not a number");if(a<0)throw new TypeError("Bad iterations");if(typeof l!="number")throw new TypeError("Key length not a number");if(l<0||l>i||l!=l)throw new TypeError("Bad key length")}},{}],464:[function(e,n,s){var i=e("create-hash/md5"),a=e("ripemd160"),l=e("sha.js"),c=e("safe-buffer").Buffer,o=e("./precondition"),u=e("./default-encoding"),p=e("./to-buffer"),h=c.alloc(128),d={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function b(x,g,v){var y=(function(I){function O(F){return l(I).update(F).digest()}return I==="rmd160"||I==="ripemd160"?function(F){return new a().update(F).digest()}:I==="md5"?i:O})(x),k=x==="sha512"||x==="sha384"?128:64;g.length>k?g=y(g):g.length<k&&(g=c.concat([g,h],k));for(var R=c.allocUnsafe(k+d[x]),z=c.allocUnsafe(k+d[x]),q=0;q<k;q++)R[q]=54^g[q],z[q]=92^g[q];var B=c.allocUnsafe(k+v+4);R.copy(B,0,0,k),this.ipad1=B,this.ipad2=R,this.opad=z,this.alg=x,this.blocksize=k,this.hash=y,this.size=d[x]}b.prototype.run=function(x,g){return x.copy(g,this.blocksize),this.hash(g).copy(this.opad,this.blocksize),this.hash(this.opad)},n.exports=function(x,g,v,y,k){o(v,y);var R=new b(k=k||"sha1",x=p(x,u,"Password"),(g=p(g,u,"Salt")).length),z=c.allocUnsafe(y),q=c.allocUnsafe(g.length+4);g.copy(q,0,0,g.length);for(var B=0,I=d[k],O=Math.ceil(y/I),F=1;F<=O;F++){q.writeUInt32BE(F,g.length);for(var W=R.run(q,R.ipad1),V=W,N=1;N<v;N++){V=R.run(V,R.ipad2);for(var P=0;P<I;P++)W[P]^=V[P]}W.copy(z,B),B+=I}return z}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(e,n,s){var i=e("safe-buffer").Buffer;n.exports=function(a,l,c){if(i.isBuffer(a))return a;if(typeof a=="string")return i.from(a,l);if(ArrayBuffer.isView(a))return i.from(a.buffer);throw new TypeError(c+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(e,n,s){(function(i){(function(){i===void 0||!i.version||i.version.indexOf("v0.")===0||i.version.indexOf("v1.")===0&&i.version.indexOf("v1.8.")!==0?n.exports={nextTick:function(a,l,c,o){if(typeof a!="function")throw new TypeError('"callback" argument must be a function');var u,p,h=arguments.length;switch(h){case 0:case 1:return i.nextTick(a);case 2:return i.nextTick((function(){a.call(null,l)}));case 3:return i.nextTick((function(){a.call(null,l,c)}));case 4:return i.nextTick((function(){a.call(null,l,c,o)}));default:for(u=new Array(h-1),p=0;p<u.length;)u[p++]=arguments[p];return i.nextTick((function(){a.apply(null,u)}))}}}:n.exports=i}).call(this)}).call(this,e("_process"))},{_process:467}],467:[function(e,n,s){var i,a,l=n.exports={};function c(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function u(k){if(i===setTimeout)return setTimeout(k,0);if((i===c||!i)&&setTimeout)return i=setTimeout,setTimeout(k,0);try{return i(k,0)}catch{try{return i.call(null,k,0)}catch{return i.call(this,k,0)}}}(function(){try{i=typeof setTimeout=="function"?setTimeout:c}catch{i=c}try{a=typeof clearTimeout=="function"?clearTimeout:o}catch{a=o}})();var p,h=[],d=!1,b=-1;function x(){d&&p&&(d=!1,p.length?h=p.concat(h):b=-1,h.length&&g())}function g(){if(!d){var k=u(x);d=!0;for(var R=h.length;R;){for(p=h,h=[];++b<R;)p&&p[b].run();b=-1,R=h.length}p=null,d=!1,(function(z){if(a===clearTimeout)return clearTimeout(z);if((a===o||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(z);try{a(z)}catch{try{return a.call(null,z)}catch{return a.call(this,z)}}})(k)}}function v(k,R){this.fun=k,this.array=R}function y(){}l.nextTick=function(k){var R=new Array(arguments.length-1);if(arguments.length>1)for(var z=1;z<arguments.length;z++)R[z-1]=arguments[z];h.push(new v(k,R)),h.length!==1||d||u(g)},v.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=y,l.addListener=y,l.once=y,l.off=y,l.removeListener=y,l.removeAllListeners=y,l.emit=y,l.prependListener=y,l.prependOnceListener=y,l.listeners=function(k){return[]},l.binding=function(k){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(k){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},{}],468:[function(e,n,s){s.publicEncrypt=e("./publicEncrypt"),s.privateDecrypt=e("./privateDecrypt"),s.privateEncrypt=function(i,a){return s.publicEncrypt(i,a,!0)},s.publicDecrypt=function(i,a){return s.privateDecrypt(i,a,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(e,n,s){var i=e("create-hash"),a=e("safe-buffer").Buffer;function l(c){var o=a.allocUnsafe(4);return o.writeUInt32BE(c,0),o}n.exports=function(c,o){for(var u,p=a.alloc(0),h=0;p.length<o;)u=l(h++),p=a.concat([p,i("sha1").update(c).update(u).digest()]);return p.slice(0,o)}},{"create-hash":386,"safe-buffer":494}],470:[function(e,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],471:[function(e,n,s){var i=e("parse-asn1"),a=e("./mgf"),l=e("./xor"),c=e("bn.js"),o=e("browserify-rsa"),u=e("create-hash"),p=e("./withPublic"),h=e("safe-buffer").Buffer;n.exports=function(d,b,x){var g;g=d.padding?d.padding:x?1:4;var v,y=i(d),k=y.modulus.byteLength();if(b.length>k||new c(b).cmp(y.modulus)>=0)throw new Error("decryption error");v=x?p(new c(b),y):o(b,y);var R=h.alloc(k-v.length);if(v=h.concat([R,v],k),g===4)return(function(z,q){var B=z.modulus.byteLength(),I=u("sha1").update(h.alloc(0)).digest(),O=I.length;if(q[0]!==0)throw new Error("decryption error");var F=q.slice(1,O+1),W=q.slice(O+1),V=l(F,a(W,O)),N=l(W,a(V,B-O-1));if((function(C,S){C=h.from(C),S=h.from(S);var E=0,A=C.length;C.length!==S.length&&(E++,A=Math.min(C.length,S.length));for(var T=-1;++T<A;)E+=C[T]^S[T];return E})(I,N.slice(0,O)))throw new Error("decryption error");for(var P=O;N[P]===0;)P++;if(N[P++]!==1)throw new Error("decryption error");return N.slice(P)})(y,v);if(g===1)return(function(z,q,B){for(var I=q.slice(0,2),O=2,F=0;q[O++]!==0;)if(O>=q.length){F++;break}var W=q.slice(2,O-1);if((I.toString("hex")!=="0002"&&!B||I.toString("hex")!=="0001"&&B)&&F++,W.length<8&&F++,F)throw new Error("decryption error");return q.slice(O)})(0,v,x);if(g===3)return v;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(e,n,s){var i=e("parse-asn1"),a=e("randombytes"),l=e("create-hash"),c=e("./mgf"),o=e("./xor"),u=e("bn.js"),p=e("./withPublic"),h=e("browserify-rsa"),d=e("safe-buffer").Buffer;n.exports=function(b,x,g){var v;v=b.padding?b.padding:g?1:4;var y,k=i(b);if(v===4)y=(function(R,z){var q=R.modulus.byteLength(),B=z.length,I=l("sha1").update(d.alloc(0)).digest(),O=I.length,F=2*O;if(B>q-F-2)throw new Error("message too long");var W=d.alloc(q-B-F-2),V=q-O-1,N=a(O),P=o(d.concat([I,W,d.alloc(1,1),z],V),c(N,V)),C=o(N,c(P,O));return new u(d.concat([d.alloc(1),C,P],q))})(k,x);else if(v===1)y=(function(R,z,q){var B,I=z.length,O=R.modulus.byteLength();if(I>O-11)throw new Error("message too long");return B=q?d.alloc(O-I-3,255):(function(F){for(var W,V=d.allocUnsafe(F),N=0,P=a(2*F),C=0;N<F;)C===P.length&&(P=a(2*F),C=0),(W=P[C++])&&(V[N++]=W);return V})(O-I-3),new u(d.concat([d.from([0,q?1:2]),B,d.alloc(1),z],O))})(k,x,g);else{if(v!==3)throw new Error("unknown padding");if((y=new u(x)).cmp(k.modulus)>=0)throw new Error("data too long for modulus")}return g?h(y,k):p(y,k)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(e,n,s){var i=e("bn.js"),a=e("safe-buffer").Buffer;n.exports=function(l,c){return a.from(l.toRed(i.mont(c.modulus)).redPow(new i(c.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(e,n,s){n.exports=function(i,a){for(var l=i.length,c=-1;++c<l;)i[c]^=a[c];return i}},{}],475:[function(e,n,s){(function(i,a){(function(){var l=e("safe-buffer").Buffer,c=a.crypto||a.msCrypto;c&&c.getRandomValues?n.exports=function(o,u){if(o>4294967295)throw new RangeError("requested too many random bytes");var p=l.allocUnsafe(o);if(o>0)if(o>65536)for(var h=0;h<o;h+=65536)c.getRandomValues(p.slice(h,h+65536));else c.getRandomValues(p);return typeof u=="function"?i.nextTick((function(){u(null,p)})):p}:n.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,e("_process"),typeof pr<"u"?pr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(e,n,s){(function(i,a){(function(){function l(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var c=e("safe-buffer"),o=e("randombytes"),u=c.Buffer,p=c.kMaxLength,h=a.crypto||a.msCrypto,d=Math.pow(2,32)-1;function b(v,y){if(typeof v!="number"||v!=v)throw new TypeError("offset must be a number");if(v>d||v<0)throw new TypeError("offset must be a uint32");if(v>p||v>y)throw new RangeError("offset out of range")}function x(v,y,k){if(typeof v!="number"||v!=v)throw new TypeError("size must be a number");if(v>d||v<0)throw new TypeError("size must be a uint32");if(v+y>k||v>p)throw new RangeError("buffer too small")}function g(v,y,k,R){if(i.browser){var z=v.buffer,q=new Uint8Array(z,y,k);return h.getRandomValues(q),R?void i.nextTick((function(){R(null,v)})):v}if(!R)return o(k).copy(v,y),v;o(k,(function(B,I){if(B)return R(B);I.copy(v,y),R(null,v)}))}h&&h.getRandomValues||!i.browser?(s.randomFill=function(v,y,k,R){if(!(u.isBuffer(v)||v instanceof a.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof y=="function")R=y,y=0,k=v.length;else if(typeof k=="function")R=k,k=v.length-y;else if(typeof R!="function")throw new TypeError('"cb" argument must be a function');return b(y,v.length),x(k,y,v.length),g(v,y,k,R)},s.randomFillSync=function(v,y,k){if(y===void 0&&(y=0),!(u.isBuffer(v)||v instanceof a.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return b(y,v.length),k===void 0&&(k=v.length-y),x(k,y,v.length),g(v,y,k)}):(s.randomFill=l,s.randomFillSync=l)}).call(this)}).call(this,e("_process"),typeof pr<"u"?pr:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(e,n,s){var i={};function a(c,o,u){u||(u=Error);var p=(function(h){var d,b;function x(g,v,y){return h.call(this,(function(k,R,z){return typeof o=="string"?o:o(k,R,z)})(g,v,y))||this}return b=h,(d=x).prototype=Object.create(b.prototype),d.prototype.constructor=d,d.__proto__=b,x})(u);p.prototype.name=u.name,p.prototype.code=c,i[c]=p}function l(c,o){if(Array.isArray(c)){var u=c.length;return c=c.map((function(p){return String(p)})),u>2?"one of ".concat(o," ").concat(c.slice(0,u-1).join(", "),", or ")+c[u-1]:u===2?"one of ".concat(o," ").concat(c[0]," or ").concat(c[1]):"of ".concat(o," ").concat(c[0])}return"of ".concat(o," ").concat(String(c))}a("ERR_INVALID_OPT_VALUE",(function(c,o){return'The value "'+o+'" is invalid for option "'+c+'"'}),TypeError),a("ERR_INVALID_ARG_TYPE",(function(c,o,u){var p,h,d;if(typeof o=="string"&&(h="not ",o.substr(0,h.length)===h)?(p="must not be",o=o.replace(/^not /,"")):p="must be",(function(x,g,v){return(v===void 0||v>x.length)&&(v=x.length),x.substring(v-g.length,v)===g})(c," argument"))d="The ".concat(c," ").concat(p," ").concat(l(o,"type"));else{var b=(function(x,g,v){return typeof v!="number"&&(v=0),!(v+g.length>x.length)&&x.indexOf(g,v)!==-1})(c,".")?"property":"argument";d='The "'.concat(c,'" ').concat(b," ").concat(p," ").concat(l(o,"type"))}return d+=". Received type ".concat(typeof u)}),TypeError),a("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),a("ERR_METHOD_NOT_IMPLEMENTED",(function(c){return"The "+c+" method is not implemented"})),a("ERR_STREAM_PREMATURE_CLOSE","Premature close"),a("ERR_STREAM_DESTROYED",(function(c){return"Cannot call "+c+" after a stream was destroyed"})),a("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),a("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),a("ERR_STREAM_WRITE_AFTER_END","write after end"),a("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),a("ERR_UNKNOWN_ENCODING",(function(c){return"Unknown encoding: "+c}),TypeError),a("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),n.exports.codes=i},{}],478:[function(e,n,s){(function(i){(function(){var a=Object.keys||function(x){var g=[];for(var v in x)g.push(v);return g};n.exports=h;var l=e("./_stream_readable"),c=e("./_stream_writable");e("inherits")(h,l);for(var o=a(c.prototype),u=0;u<o.length;u++){var p=o[u];h.prototype[p]||(h.prototype[p]=c.prototype[p])}function h(x){if(!(this instanceof h))return new h(x);l.call(this,x),c.call(this,x),this.allowHalfOpen=!0,x&&(x.readable===!1&&(this.readable=!1),x.writable===!1&&(this.writable=!1),x.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",d)))}function d(){this._writableState.ended||i.nextTick(b,this)}function b(x){x.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(h.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(x){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=x,this._writableState.destroyed=x)}})}).call(this)}).call(this,e("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(e,n,s){n.exports=a;var i=e("./_stream_transform");function a(l){if(!(this instanceof a))return new a(l);i.call(this,l)}e("inherits")(a,i),a.prototype._transform=function(l,c,o){o(null,l)}},{"./_stream_transform":481,inherits:440}],480:[function(e,n,s){(function(i,a){(function(){var l;n.exports=V,V.ReadableState=W,e("events").EventEmitter;var c=function(H,U){return H.listeners(U).length},o=e("./internal/streams/stream"),u=e("buffer").Buffer,p=(a!==void 0?a:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},h,d=e("util");h=d&&d.debuglog?d.debuglog("stream"):function(){};var b,x,g,v=e("./internal/streams/buffer_list"),y=e("./internal/streams/destroy"),k=e("./internal/streams/state").getHighWaterMark,R=e("../errors").codes,z=R.ERR_INVALID_ARG_TYPE,q=R.ERR_STREAM_PUSH_AFTER_EOF,B=R.ERR_METHOD_NOT_IMPLEMENTED,I=R.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(V,o);var O=y.errorOrDestroy,F=["error","close","destroy","pause","resume"];function W(H,U,Q){l=l||e("./_stream_duplex"),H=H||{},typeof Q!="boolean"&&(Q=U instanceof l),this.objectMode=!!H.objectMode,Q&&(this.objectMode=this.objectMode||!!H.readableObjectMode),this.highWaterMark=k(this,H,"readableHighWaterMark",Q),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=H.emitClose!==!1,this.autoDestroy=!!H.autoDestroy,this.destroyed=!1,this.defaultEncoding=H.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,H.encoding&&(b||(b=e("string_decoder/").StringDecoder),this.decoder=new b(H.encoding),this.encoding=H.encoding)}function V(H){if(l=l||e("./_stream_duplex"),!(this instanceof V))return new V(H);var U=this instanceof l;this._readableState=new W(H,this,U),this.readable=!0,H&&(typeof H.read=="function"&&(this._read=H.read),typeof H.destroy=="function"&&(this._destroy=H.destroy)),o.call(this)}function N(H,U,Q,ie,re){h("readableAddChunk",U);var oe,he=H._readableState;if(U===null)he.reading=!1,(function(ve,me){if(h("onEofChunk"),!me.ended){if(me.decoder){var ne=me.decoder.end();ne&&ne.length&&(me.buffer.push(ne),me.length+=me.objectMode?1:ne.length)}me.ended=!0,me.sync?S(ve):(me.needReadable=!1,me.emittedReadable||(me.emittedReadable=!0,E(ve)))}})(H,he);else if(re||(oe=(function(ve,me){var ne;de=me,u.isBuffer(de)||de instanceof p||typeof me=="string"||me===void 0||ve.objectMode||(ne=new z("chunk",["string","Buffer","Uint8Array"],me));var de;return ne})(he,U)),oe)O(H,oe);else if(he.objectMode||U&&U.length>0)if(typeof U=="string"||he.objectMode||Object.getPrototypeOf(U)===u.prototype||(U=(function(ve){return u.from(ve)})(U)),ie)he.endEmitted?O(H,new I):P(H,he,U,!0);else if(he.ended)O(H,new q);else{if(he.destroyed)return!1;he.reading=!1,he.decoder&&!Q?(U=he.decoder.write(U),he.objectMode||U.length!==0?P(H,he,U,!1):A(H,he)):P(H,he,U,!1)}else ie||(he.reading=!1,A(H,he));return!he.ended&&(he.length<he.highWaterMark||he.length===0)}function P(H,U,Q,ie){U.flowing&&U.length===0&&!U.sync?(U.awaitDrain=0,H.emit("data",Q)):(U.length+=U.objectMode?1:Q.length,ie?U.buffer.unshift(Q):U.buffer.push(Q),U.needReadable&&S(H)),A(H,U)}Object.defineProperty(V.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(H){this._readableState&&(this._readableState.destroyed=H)}}),V.prototype.destroy=y.destroy,V.prototype._undestroy=y.undestroy,V.prototype._destroy=function(H,U){U(H)},V.prototype.push=function(H,U){var Q,ie=this._readableState;return ie.objectMode?Q=!0:typeof H=="string"&&((U=U||ie.defaultEncoding)!==ie.encoding&&(H=u.from(H,U),U=""),Q=!0),N(this,H,U,!1,Q)},V.prototype.unshift=function(H){return N(this,H,null,!0,!1)},V.prototype.isPaused=function(){return this._readableState.flowing===!1},V.prototype.setEncoding=function(H){b||(b=e("string_decoder/").StringDecoder);var U=new b(H);this._readableState.decoder=U,this._readableState.encoding=this._readableState.decoder.encoding;for(var Q=this._readableState.buffer.head,ie="";Q!==null;)ie+=U.write(Q.data),Q=Q.next;return this._readableState.buffer.clear(),ie!==""&&this._readableState.buffer.push(ie),this._readableState.length=ie.length,this};function C(H,U){return H<=0||U.length===0&&U.ended?0:U.objectMode?1:H!=H?U.flowing&&U.length?U.buffer.head.data.length:U.length:(H>U.highWaterMark&&(U.highWaterMark=(function(Q){return Q>=1073741824?Q=1073741824:(Q--,Q|=Q>>>1,Q|=Q>>>2,Q|=Q>>>4,Q|=Q>>>8,Q|=Q>>>16,Q++),Q})(H)),H<=U.length?H:U.ended?U.length:(U.needReadable=!0,0))}function S(H){var U=H._readableState;h("emitReadable",U.needReadable,U.emittedReadable),U.needReadable=!1,U.emittedReadable||(h("emitReadable",U.flowing),U.emittedReadable=!0,i.nextTick(E,H))}function E(H){var U=H._readableState;h("emitReadable_",U.destroyed,U.length,U.ended),U.destroyed||!U.length&&!U.ended||(H.emit("readable"),U.emittedReadable=!1),U.needReadable=!U.flowing&&!U.ended&&U.length<=U.highWaterMark,Z(H)}function A(H,U){U.readingMore||(U.readingMore=!0,i.nextTick(T,H,U))}function T(H,U){for(;!U.reading&&!U.ended&&(U.length<U.highWaterMark||U.flowing&&U.length===0);){var Q=U.length;if(h("maybeReadMore read 0"),H.read(0),Q===U.length)break}U.readingMore=!1}function j(H){var U=H._readableState;U.readableListening=H.listenerCount("readable")>0,U.resumeScheduled&&!U.paused?U.flowing=!0:H.listenerCount("data")>0&&H.resume()}function L(H){h("readable nexttick read 0"),H.read(0)}function D(H,U){h("resume",U.reading),U.reading||H.read(0),U.resumeScheduled=!1,H.emit("resume"),Z(H),U.flowing&&!U.reading&&H.read(0)}function Z(H){var U=H._readableState;for(h("flow",U.flowing);U.flowing&&H.read()!==null;);}function K(H,U){return U.length===0?null:(U.objectMode?Q=U.buffer.shift():!H||H>=U.length?(Q=U.decoder?U.buffer.join(""):U.buffer.length===1?U.buffer.first():U.buffer.concat(U.length),U.buffer.clear()):Q=U.buffer.consume(H,U.decoder),Q);var Q}function ee(H){var U=H._readableState;h("endReadable",U.endEmitted),U.endEmitted||(U.ended=!0,i.nextTick(G,U,H))}function G(H,U){if(h("endReadableNT",H.endEmitted,H.length),!H.endEmitted&&H.length===0&&(H.endEmitted=!0,U.readable=!1,U.emit("end"),H.autoDestroy)){var Q=U._writableState;(!Q||Q.autoDestroy&&Q.finished)&&U.destroy()}}function te(H,U){for(var Q=0,ie=H.length;Q<ie;Q++)if(H[Q]===U)return Q;return-1}V.prototype.read=function(H){h("read",H),H=parseInt(H,10);var U=this._readableState,Q=H;if(H!==0&&(U.emittedReadable=!1),H===0&&U.needReadable&&((U.highWaterMark!==0?U.length>=U.highWaterMark:U.length>0)||U.ended))return h("read: emitReadable",U.length,U.ended),U.length===0&&U.ended?ee(this):S(this),null;if((H=C(H,U))===0&&U.ended)return U.length===0&&ee(this),null;var ie,re=U.needReadable;return h("need readable",re),(U.length===0||U.length-H<U.highWaterMark)&&h("length less than watermark",re=!0),U.ended||U.reading?h("reading or ended",re=!1):re&&(h("do read"),U.reading=!0,U.sync=!0,U.length===0&&(U.needReadable=!0),this._read(U.highWaterMark),U.sync=!1,U.reading||(H=C(Q,U))),(ie=H>0?K(H,U):null)===null?(U.needReadable=U.length<=U.highWaterMark,H=0):(U.length-=H,U.awaitDrain=0),U.length===0&&(U.ended||(U.needReadable=!0),Q!==H&&U.ended&&ee(this)),ie!==null&&this.emit("data",ie),ie},V.prototype._read=function(H){O(this,new B("_read()"))},V.prototype.pipe=function(H,U){var Q=this,ie=this._readableState;switch(ie.pipesCount){case 0:ie.pipes=H;break;case 1:ie.pipes=[ie.pipes,H];break;default:ie.pipes.push(H)}ie.pipesCount+=1,h("pipe count=%d opts=%j",ie.pipesCount,U);var re=(!U||U.end!==!1)&&H!==i.stdout&&H!==i.stderr?he:Re;function oe(Pe,Xe){h("onunpipe"),Pe===Q&&Xe&&Xe.hasUnpiped===!1&&(Xe.hasUnpiped=!0,h("cleanup"),H.removeListener("close",xe),H.removeListener("finish",Te),H.removeListener("drain",ve),H.removeListener("error",de),H.removeListener("unpipe",oe),Q.removeListener("end",he),Q.removeListener("end",Re),Q.removeListener("data",ne),me=!0,!ie.awaitDrain||H._writableState&&!H._writableState.needDrain||ve())}function he(){h("onend"),H.end()}ie.endEmitted?i.nextTick(re):Q.once("end",re),H.on("unpipe",oe);var ve=(function(Pe){return function(){var Xe=Pe._readableState;h("pipeOnDrain",Xe.awaitDrain),Xe.awaitDrain&&Xe.awaitDrain--,Xe.awaitDrain===0&&c(Pe,"data")&&(Xe.flowing=!0,Z(Pe))}})(Q);H.on("drain",ve);var me=!1;function ne(Pe){h("ondata");var Xe=H.write(Pe);h("dest.write",Xe),Xe===!1&&((ie.pipesCount===1&&ie.pipes===H||ie.pipesCount>1&&te(ie.pipes,H)!==-1)&&!me&&(h("false write response, pause",ie.awaitDrain),ie.awaitDrain++),Q.pause())}function de(Pe){h("onerror",Pe),Re(),H.removeListener("error",de),c(H,"error")===0&&O(H,Pe)}function xe(){H.removeListener("finish",Te),Re()}function Te(){h("onfinish"),H.removeListener("close",xe),Re()}function Re(){h("unpipe"),Q.unpipe(H)}return Q.on("data",ne),(function(Pe,Xe,Ue){if(typeof Pe.prependListener=="function")return Pe.prependListener(Xe,Ue);Pe._events&&Pe._events[Xe]?Array.isArray(Pe._events[Xe])?Pe._events[Xe].unshift(Ue):Pe._events[Xe]=[Ue,Pe._events[Xe]]:Pe.on(Xe,Ue)})(H,"error",de),H.once("close",xe),H.once("finish",Te),H.emit("pipe",Q),ie.flowing||(h("pipe resume"),Q.resume()),H},V.prototype.unpipe=function(H){var U=this._readableState,Q={hasUnpiped:!1};if(U.pipesCount===0)return this;if(U.pipesCount===1)return H&&H!==U.pipes||(H||(H=U.pipes),U.pipes=null,U.pipesCount=0,U.flowing=!1,H&&H.emit("unpipe",this,Q)),this;if(!H){var ie=U.pipes,re=U.pipesCount;U.pipes=null,U.pipesCount=0,U.flowing=!1;for(var oe=0;oe<re;oe++)ie[oe].emit("unpipe",this,{hasUnpiped:!1});return this}var he=te(U.pipes,H);return he===-1||(U.pipes.splice(he,1),U.pipesCount-=1,U.pipesCount===1&&(U.pipes=U.pipes[0]),H.emit("unpipe",this,Q)),this},V.prototype.on=function(H,U){var Q=o.prototype.on.call(this,H,U),ie=this._readableState;return H==="data"?(ie.readableListening=this.listenerCount("readable")>0,ie.flowing!==!1&&this.resume()):H==="readable"&&(ie.endEmitted||ie.readableListening||(ie.readableListening=ie.needReadable=!0,ie.flowing=!1,ie.emittedReadable=!1,h("on readable",ie.length,ie.reading),ie.length?S(this):ie.reading||i.nextTick(L,this))),Q},V.prototype.addListener=V.prototype.on,V.prototype.removeListener=function(H,U){var Q=o.prototype.removeListener.call(this,H,U);return H==="readable"&&i.nextTick(j,this),Q},V.prototype.removeAllListeners=function(H){var U=o.prototype.removeAllListeners.apply(this,arguments);return H!=="readable"&&H!==void 0||i.nextTick(j,this),U},V.prototype.resume=function(){var H=this._readableState;return H.flowing||(h("resume"),H.flowing=!H.readableListening,(function(U,Q){Q.resumeScheduled||(Q.resumeScheduled=!0,i.nextTick(D,U,Q))})(this,H)),H.paused=!1,this},V.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},V.prototype.wrap=function(H){var U=this,Q=this._readableState,ie=!1;for(var re in H.on("end",(function(){if(h("wrapped end"),Q.decoder&&!Q.ended){var he=Q.decoder.end();he&&he.length&&U.push(he)}U.push(null)})),H.on("data",(function(he){h("wrapped data"),Q.decoder&&(he=Q.decoder.write(he)),Q.objectMode&&he==null||(Q.objectMode||he&&he.length)&&(U.push(he)||(ie=!0,H.pause()))})),H)this[re]===void 0&&typeof H[re]=="function"&&(this[re]=(function(he){return function(){return H[he].apply(H,arguments)}})(re));for(var oe=0;oe<F.length;oe++)H.on(F[oe],this.emit.bind(this,F[oe]));return this._read=function(he){h("wrapped _read",he),ie&&(ie=!1,H.resume())},this},typeof Symbol=="function"&&(V.prototype[Symbol.asyncIterator]=function(){return x===void 0&&(x=e("./internal/streams/async_iterator")),x(this)}),Object.defineProperty(V.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(V.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(V.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(H){this._readableState&&(this._readableState.flowing=H)}}),V._fromList=K,Object.defineProperty(V.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(V.from=function(H,U){return g===void 0&&(g=e("./internal/streams/from")),g(V,H,U)})}).call(this)}).call(this,e("_process"),typeof pr<"u"?pr:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(e,n,s){n.exports=h;var i=e("../errors").codes,a=i.ERR_METHOD_NOT_IMPLEMENTED,l=i.ERR_MULTIPLE_CALLBACK,c=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=i.ERR_TRANSFORM_WITH_LENGTH_0,u=e("./_stream_duplex");function p(x,g){var v=this._transformState;v.transforming=!1;var y=v.writecb;if(y===null)return this.emit("error",new l);v.writechunk=null,v.writecb=null,g!=null&&this.push(g),y(x);var k=this._readableState;k.reading=!1,(k.needReadable||k.length<k.highWaterMark)&&this._read(k.highWaterMark)}function h(x){if(!(this instanceof h))return new h(x);u.call(this,x),this._transformState={afterTransform:p.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,x&&(typeof x.transform=="function"&&(this._transform=x.transform),typeof x.flush=="function"&&(this._flush=x.flush)),this.on("prefinish",d)}function d(){var x=this;typeof this._flush!="function"||this._readableState.destroyed?b(this,null,null):this._flush((function(g,v){b(x,g,v)}))}function b(x,g,v){if(g)return x.emit("error",g);if(v!=null&&x.push(v),x._writableState.length)throw new o;if(x._transformState.transforming)throw new c;return x.push(null)}e("inherits")(h,u),h.prototype.push=function(x,g){return this._transformState.needTransform=!1,u.prototype.push.call(this,x,g)},h.prototype._transform=function(x,g,v){v(new a("_transform()"))},h.prototype._write=function(x,g,v){var y=this._transformState;if(y.writecb=v,y.writechunk=x,y.writeencoding=g,!y.transforming){var k=this._readableState;(y.needTransform||k.needReadable||k.length<k.highWaterMark)&&this._read(k.highWaterMark)}},h.prototype._read=function(x){var g=this._transformState;g.writechunk===null||g.transforming?g.needTransform=!0:(g.transforming=!0,this._transform(g.writechunk,g.writeencoding,g.afterTransform))},h.prototype._destroy=function(x,g){u.prototype._destroy.call(this,x,(function(v){g(v)}))}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(e,n,s){(function(i,a){(function(){function l(T){var j=this;this.next=null,this.entry=null,this.finish=function(){(function(L,D,Z){var K=L.entry;for(L.entry=null;K;){var ee=K.callback;D.pendingcb--,ee(Z),K=K.next}D.corkedRequestsFree.next=L})(j,T)}}var c;n.exports=V,V.WritableState=W;var o={deprecate:e("util-deprecate")},u=e("./internal/streams/stream"),p=e("buffer").Buffer,h=(a!==void 0?a:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},d,b=e("./internal/streams/destroy"),x=e("./internal/streams/state").getHighWaterMark,g=e("../errors").codes,v=g.ERR_INVALID_ARG_TYPE,y=g.ERR_METHOD_NOT_IMPLEMENTED,k=g.ERR_MULTIPLE_CALLBACK,R=g.ERR_STREAM_CANNOT_PIPE,z=g.ERR_STREAM_DESTROYED,q=g.ERR_STREAM_NULL_VALUES,B=g.ERR_STREAM_WRITE_AFTER_END,I=g.ERR_UNKNOWN_ENCODING,O=b.errorOrDestroy;function F(){}function W(T,j,L){c=c||e("./_stream_duplex"),T=T||{},typeof L!="boolean"&&(L=j instanceof c),this.objectMode=!!T.objectMode,L&&(this.objectMode=this.objectMode||!!T.writableObjectMode),this.highWaterMark=x(this,T,"writableHighWaterMark",L),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var D=T.decodeStrings===!1;this.decodeStrings=!D,this.defaultEncoding=T.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Z){(function(K,ee){var G=K._writableState,te=G.sync,H=G.writecb;if(typeof H!="function")throw new k;if((function(Q){Q.writing=!1,Q.writecb=null,Q.length-=Q.writelen,Q.writelen=0})(G),ee)(function(Q,ie,re,oe,he){--ie.pendingcb,re?(i.nextTick(he,oe),i.nextTick(A,Q,ie),Q._writableState.errorEmitted=!0,O(Q,oe)):(he(oe),Q._writableState.errorEmitted=!0,O(Q,oe),A(Q,ie))})(K,G,te,ee,H);else{var U=S(G)||K.destroyed;U||G.corked||G.bufferProcessing||!G.bufferedRequest||C(K,G),te?i.nextTick(P,K,G,U,H):P(K,G,U,H)}})(j,Z)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=T.emitClose!==!1,this.autoDestroy=!!T.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new l(this)}function V(T){var j=this instanceof(c=c||e("./_stream_duplex"));if(!j&&!d.call(V,this))return new V(T);this._writableState=new W(T,this,j),this.writable=!0,T&&(typeof T.write=="function"&&(this._write=T.write),typeof T.writev=="function"&&(this._writev=T.writev),typeof T.destroy=="function"&&(this._destroy=T.destroy),typeof T.final=="function"&&(this._final=T.final)),u.call(this)}function N(T,j,L,D,Z,K,ee){j.writelen=D,j.writecb=ee,j.writing=!0,j.sync=!0,j.destroyed?j.onwrite(new z("write")):L?T._writev(Z,j.onwrite):T._write(Z,K,j.onwrite),j.sync=!1}function P(T,j,L,D){L||(function(Z,K){K.length===0&&K.needDrain&&(K.needDrain=!1,Z.emit("drain"))})(T,j),j.pendingcb--,D(),A(T,j)}function C(T,j){j.bufferProcessing=!0;var L=j.bufferedRequest;if(T._writev&&L&&L.next){var D=j.bufferedRequestCount,Z=new Array(D),K=j.corkedRequestsFree;K.entry=L;for(var ee=0,G=!0;L;)Z[ee]=L,L.isBuf||(G=!1),L=L.next,ee+=1;Z.allBuffers=G,N(T,j,!0,j.length,Z,"",K.finish),j.pendingcb++,j.lastBufferedRequest=null,K.next?(j.corkedRequestsFree=K.next,K.next=null):j.corkedRequestsFree=new l(j),j.bufferedRequestCount=0}else{for(;L;){var te=L.chunk,H=L.encoding,U=L.callback;if(N(T,j,!1,j.objectMode?1:te.length,te,H,U),L=L.next,j.bufferedRequestCount--,j.writing)break}L===null&&(j.lastBufferedRequest=null)}j.bufferedRequest=L,j.bufferProcessing=!1}function S(T){return T.ending&&T.length===0&&T.bufferedRequest===null&&!T.finished&&!T.writing}function E(T,j){T._final((function(L){j.pendingcb--,L&&O(T,L),j.prefinished=!0,T.emit("prefinish"),A(T,j)}))}function A(T,j){var L=S(j);if(L&&((function(Z,K){K.prefinished||K.finalCalled||(typeof Z._final!="function"||K.destroyed?(K.prefinished=!0,Z.emit("prefinish")):(K.pendingcb++,K.finalCalled=!0,i.nextTick(E,Z,K)))})(T,j),j.pendingcb===0&&(j.finished=!0,T.emit("finish"),j.autoDestroy))){var D=T._readableState;(!D||D.autoDestroy&&D.endEmitted)&&T.destroy()}return L}e("inherits")(V,u),W.prototype.getBuffer=function(){for(var T=this.bufferedRequest,j=[];T;)j.push(T),T=T.next;return j},(function(){try{Object.defineProperty(W.prototype,"buffer",{get:o.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(V,Symbol.hasInstance,{value:function(T){return!!d.call(this,T)||this===V&&T&&T._writableState instanceof W}})):d=function(T){return T instanceof this},V.prototype.pipe=function(){O(this,new R)},V.prototype.write=function(T,j,L){var D,Z=this._writableState,K=!1,ee=!Z.objectMode&&(D=T,p.isBuffer(D)||D instanceof h);return ee&&!p.isBuffer(T)&&(T=(function(G){return p.from(G)})(T)),typeof j=="function"&&(L=j,j=null),ee?j="buffer":j||(j=Z.defaultEncoding),typeof L!="function"&&(L=F),Z.ending?(function(G,te){var H=new B;O(G,H),i.nextTick(te,H)})(this,L):(ee||(function(G,te,H,U){var Q;return H===null?Q=new q:typeof H=="string"||te.objectMode||(Q=new v("chunk",["string","Buffer"],H)),!Q||(O(G,Q),i.nextTick(U,Q),!1)})(this,Z,T,L))&&(Z.pendingcb++,K=(function(G,te,H,U,Q,ie){if(!H){var re=(function(me,ne,de){return me.objectMode||me.decodeStrings===!1||typeof ne!="string"||(ne=p.from(ne,de)),ne})(te,U,Q);U!==re&&(H=!0,Q="buffer",U=re)}var oe=te.objectMode?1:U.length;te.length+=oe;var he=te.length<te.highWaterMark;if(he||(te.needDrain=!0),te.writing||te.corked){var ve=te.lastBufferedRequest;te.lastBufferedRequest={chunk:U,encoding:Q,isBuf:H,callback:ie,next:null},ve?ve.next=te.lastBufferedRequest:te.bufferedRequest=te.lastBufferedRequest,te.bufferedRequestCount+=1}else N(G,te,!1,oe,U,Q,ie);return he})(this,Z,ee,T,j,L)),K},V.prototype.cork=function(){this._writableState.corked++},V.prototype.uncork=function(){var T=this._writableState;T.corked&&(T.corked--,T.writing||T.corked||T.bufferProcessing||!T.bufferedRequest||C(this,T))},V.prototype.setDefaultEncoding=function(T){if(typeof T=="string"&&(T=T.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((T+"").toLowerCase())>-1))throw new I(T);return this._writableState.defaultEncoding=T,this},Object.defineProperty(V.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(V.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),V.prototype._write=function(T,j,L){L(new y("_write()"))},V.prototype._writev=null,V.prototype.end=function(T,j,L){var D=this._writableState;return typeof T=="function"?(L=T,T=null,j=null):typeof j=="function"&&(L=j,j=null),T!=null&&this.write(T,j),D.corked&&(D.corked=1,this.uncork()),D.ending||(function(Z,K,ee){K.ending=!0,A(Z,K),ee&&(K.finished?i.nextTick(ee):Z.once("finish",ee)),K.ended=!0,Z.writable=!1})(this,D,L),this},Object.defineProperty(V.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(V.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(T){this._writableState&&(this._writableState.destroyed=T)}}),V.prototype.destroy=b.destroy,V.prototype._undestroy=b.undestroy,V.prototype._destroy=function(T,j){j(T)}}).call(this)}).call(this,e("_process"),typeof pr<"u"?pr:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(e,n,s){(function(i){(function(){var a;function l(z,q,B){return(q=(function(I){var O=(function(F,W){if(typeof F!="object"||F===null)return F;var V=F[Symbol.toPrimitive];if(V!==void 0){var N=V.call(F,W);if(typeof N!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return(W==="string"?String:Number)(F)})(I,"string");return typeof O=="symbol"?O:String(O)})(q))in z?Object.defineProperty(z,q,{value:B,enumerable:!0,configurable:!0,writable:!0}):z[q]=B,z}var c=e("./end-of-stream"),o=Symbol("lastResolve"),u=Symbol("lastReject"),p=Symbol("error"),h=Symbol("ended"),d=Symbol("lastPromise"),b=Symbol("handlePromise"),x=Symbol("stream");function g(z,q){return{value:z,done:q}}function v(z){var q=z[o];if(q!==null){var B=z[x].read();B!==null&&(z[d]=null,z[o]=null,z[u]=null,q(g(B,!1)))}}function y(z){i.nextTick(v,z)}var k=Object.getPrototypeOf((function(){})),R=Object.setPrototypeOf((l(a={get stream(){return this[x]},next:function(){var z=this,q=this[p];if(q!==null)return Promise.reject(q);if(this[h])return Promise.resolve(g(void 0,!0));if(this[x].destroyed)return new Promise((function(F,W){i.nextTick((function(){z[p]?W(z[p]):F(g(void 0,!0))}))}));var B,I=this[d];if(I)B=new Promise((function(F,W){return function(V,N){F.then((function(){W[h]?V(g(void 0,!0)):W[b](V,N)}),N)}})(I,this));else{var O=this[x].read();if(O!==null)return Promise.resolve(g(O,!1));B=new Promise(this[b])}return this[d]=B,B}},Symbol.asyncIterator,(function(){return this})),l(a,"return",(function(){var z=this;return new Promise((function(q,B){z[x].destroy(null,(function(I){I?B(I):q(g(void 0,!0))}))}))})),a),k);n.exports=function(z){var q,B=Object.create(R,(l(q={},x,{value:z,writable:!0}),l(q,o,{value:null,writable:!0}),l(q,u,{value:null,writable:!0}),l(q,p,{value:null,writable:!0}),l(q,h,{value:z._readableState.endEmitted,writable:!0}),l(q,b,{value:function(I,O){var F=B[x].read();F?(B[d]=null,B[o]=null,B[u]=null,I(g(F,!1))):(B[o]=I,B[u]=O)},writable:!0}),q));return B[d]=null,c(z,(function(I){if(I&&I.code!=="ERR_STREAM_PREMATURE_CLOSE"){var O=B[u];return O!==null&&(B[d]=null,B[o]=null,B[u]=null,O(I)),void(B[p]=I)}var F=B[o];F!==null&&(B[d]=null,B[o]=null,B[u]=null,F(g(void 0,!0))),B[h]=!0})),z.on("readable",y.bind(null,B)),B}}).call(this)}).call(this,e("_process"))},{"./end-of-stream":486,_process:467}],484:[function(e,n,s){function i(d,b){var x=Object.keys(d);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(d);b&&(g=g.filter((function(v){return Object.getOwnPropertyDescriptor(d,v).enumerable}))),x.push.apply(x,g)}return x}function a(d){for(var b=1;b<arguments.length;b++){var x=arguments[b]!=null?arguments[b]:{};b%2?i(Object(x),!0).forEach((function(g){l(d,g,x[g])})):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(x)):i(Object(x)).forEach((function(g){Object.defineProperty(d,g,Object.getOwnPropertyDescriptor(x,g))}))}return d}function l(d,b,x){return(b=o(b))in d?Object.defineProperty(d,b,{value:x,enumerable:!0,configurable:!0,writable:!0}):d[b]=x,d}function c(d,b){for(var x=0;x<b.length;x++){var g=b[x];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(d,o(g.key),g)}}function o(d){var b=(function(x,g){if(typeof x!="object"||x===null)return x;var v=x[Symbol.toPrimitive];if(v!==void 0){var y=v.call(x,g);if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(g==="string"?String:Number)(x)})(d,"string");return typeof b=="symbol"?b:String(b)}var u=e("buffer").Buffer,p=e("util").inspect,h=p&&p.custom||"inspect";n.exports=(function(){function d(){(function(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")})(this,d),this.head=null,this.tail=null,this.length=0}var b,x;return b=d,(x=[{key:"push",value:function(g){var v={data:g,next:null};this.length>0?this.tail.next=v:this.head=v,this.tail=v,++this.length}},{key:"unshift",value:function(g){var v={data:g,next:this.head};this.length===0&&(this.tail=v),this.head=v,++this.length}},{key:"shift",value:function(){if(this.length!==0){var g=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,g}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(g){if(this.length===0)return"";for(var v=this.head,y=""+v.data;v=v.next;)y+=g+v.data;return y}},{key:"concat",value:function(g){if(this.length===0)return u.alloc(0);for(var v,y,k,R=u.allocUnsafe(g>>>0),z=this.head,q=0;z;)v=z.data,y=R,k=q,u.prototype.copy.call(v,y,k),q+=z.data.length,z=z.next;return R}},{key:"consume",value:function(g,v){var y;return g<this.head.data.length?(y=this.head.data.slice(0,g),this.head.data=this.head.data.slice(g)):y=g===this.head.data.length?this.shift():v?this._getString(g):this._getBuffer(g),y}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(g){var v=this.head,y=1,k=v.data;for(g-=k.length;v=v.next;){var R=v.data,z=g>R.length?R.length:g;if(z===R.length?k+=R:k+=R.slice(0,g),(g-=z)==0){z===R.length?(++y,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=R.slice(z));break}++y}return this.length-=y,k}},{key:"_getBuffer",value:function(g){var v=u.allocUnsafe(g),y=this.head,k=1;for(y.data.copy(v),g-=y.data.length;y=y.next;){var R=y.data,z=g>R.length?R.length:g;if(R.copy(v,v.length-g,0,z),(g-=z)==0){z===R.length?(++k,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=R.slice(z));break}++k}return this.length-=k,v}},{key:h,value:function(g,v){return p(this,a(a({},v),{},{depth:0,customInspect:!1}))}}])&&c(b.prototype,x),Object.defineProperty(b,"prototype",{writable:!1}),d})()},{buffer:220,util:188}],485:[function(e,n,s){(function(i){(function(){function a(o,u){c(o,u),l(o)}function l(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}function c(o,u){o.emit("error",u)}n.exports={destroy:function(o,u){var p=this,h=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return h||d?(u?u(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(c,this,o)):i.nextTick(c,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,(function(b){!u&&b?p._writableState?p._writableState.errorEmitted?i.nextTick(l,p):(p._writableState.errorEmitted=!0,i.nextTick(a,p,b)):i.nextTick(a,p,b):u?(i.nextTick(l,p),u(b)):i.nextTick(l,p)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(o,u){var p=o._readableState,h=o._writableState;p&&p.autoDestroy||h&&h.autoDestroy?o.destroy(u):o.emit("error",u)}}}).call(this)}).call(this,e("_process"))},{_process:467}],486:[function(e,n,s){var i=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function a(){}n.exports=function l(c,o,u){if(typeof o=="function")return l(c,null,o);o||(o={}),u=(function(z){var q=!1;return function(){if(!q){q=!0;for(var B=arguments.length,I=new Array(B),O=0;O<B;O++)I[O]=arguments[O];z.apply(this,I)}}})(u||a);var p=o.readable||o.readable!==!1&&c.readable,h=o.writable||o.writable!==!1&&c.writable,d=function(){c.writable||x()},b=c._writableState&&c._writableState.finished,x=function(){h=!1,b=!0,p||u.call(c)},g=c._readableState&&c._readableState.endEmitted,v=function(){p=!1,g=!0,h||u.call(c)},y=function(z){u.call(c,z)},k=function(){var z;return p&&!g?(c._readableState&&c._readableState.ended||(z=new i),u.call(c,z)):h&&!b?(c._writableState&&c._writableState.ended||(z=new i),u.call(c,z)):void 0},R=function(){c.req.on("finish",x)};return(function(z){return z.setHeader&&typeof z.abort=="function"})(c)?(c.on("complete",x),c.on("abort",k),c.req?R():c.on("request",R)):h&&!c._writableState&&(c.on("end",d),c.on("close",d)),c.on("end",v),c.on("finish",x),o.error!==!1&&c.on("error",y),c.on("close",k),function(){c.removeListener("complete",x),c.removeListener("abort",k),c.removeListener("request",R),c.req&&c.req.removeListener("finish",x),c.removeListener("end",d),c.removeListener("close",d),c.removeListener("finish",x),c.removeListener("end",v),c.removeListener("error",y),c.removeListener("close",k)}}},{"../../../errors":477}],487:[function(e,n,s){n.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(e,n,s){var i,a=e("../../../errors").codes,l=a.ERR_MISSING_ARGS,c=a.ERR_STREAM_DESTROYED;function o(b){if(b)throw b}function u(b,x,g,v){v=(function(R){var z=!1;return function(){z||(z=!0,R.apply(void 0,arguments))}})(v);var y=!1;b.on("close",(function(){y=!0})),i===void 0&&(i=e("./end-of-stream")),i(b,{readable:x,writable:g},(function(R){if(R)return v(R);y=!0,v()}));var k=!1;return function(R){if(!y&&!k)return k=!0,(function(z){return z.setHeader&&typeof z.abort=="function"})(b)?b.abort():typeof b.destroy=="function"?b.destroy():void v(R||new c("pipe"))}}function p(b){b()}function h(b,x){return b.pipe(x)}function d(b){return b.length?typeof b[b.length-1]!="function"?o:b.pop():o}n.exports=function(){for(var b=arguments.length,x=new Array(b),g=0;g<b;g++)x[g]=arguments[g];var v,y=d(x);if(Array.isArray(x[0])&&(x=x[0]),x.length<2)throw new l("streams");var k=x.map((function(R,z){var q=z<x.length-1;return u(R,q,z>0,(function(B){v||(v=B),B&&k.forEach(p),q||(k.forEach(p),y(v))}))}));return x.reduce(h)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(e,n,s){var i=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;n.exports={getHighWaterMark:function(a,l,c,o){var u=(function(p,h,d){return p.highWaterMark!=null?p.highWaterMark:h?p[d]:null})(l,o,c);if(u!=null){if(!isFinite(u)||Math.floor(u)!==u||u<0)throw new i(o?c:"highWaterMark",u);return Math.floor(u)}return a.objectMode?16:16384}}},{"../../../errors":477}],490:[function(e,n,s){n.exports=e("events").EventEmitter},{events:422}],491:[function(e,n,s){(s=n.exports=e("./lib/_stream_readable.js")).Stream=s,s.Readable=s,s.Writable=e("./lib/_stream_writable.js"),s.Duplex=e("./lib/_stream_duplex.js"),s.Transform=e("./lib/_stream_transform.js"),s.PassThrough=e("./lib/_stream_passthrough.js"),s.finished=e("./lib/internal/streams/end-of-stream.js"),s.pipeline=e("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(e,n,s){var i=(function(a){var l=Object.prototype,c=l.hasOwnProperty,o=Object.defineProperty||function(A,T,j){A[T]=j.value},u=typeof Symbol=="function"?Symbol:{},p=u.iterator||"@@iterator",h=u.asyncIterator||"@@asyncIterator",d=u.toStringTag||"@@toStringTag";function b(A,T,j){return Object.defineProperty(A,T,{value:j,enumerable:!0,configurable:!0,writable:!0}),A[T]}try{b({},"")}catch{b=function(T,j,L){return T[j]=L}}function x(A,T,j,L){var D=T&&T.prototype instanceof y?T:y,Z=Object.create(D.prototype),K=new C(L||[]);return o(Z,"_invoke",{value:W(A,j,K)}),Z}function g(A,T,j){try{return{type:"normal",arg:A.call(T,j)}}catch(L){return{type:"throw",arg:L}}}a.wrap=x;var v={};function y(){}function k(){}function R(){}var z={};b(z,p,(function(){return this}));var q=Object.getPrototypeOf,B=q&&q(q(S([])));B&&B!==l&&c.call(B,p)&&(z=B);var I=R.prototype=y.prototype=Object.create(z);function O(A){["next","throw","return"].forEach((function(T){b(A,T,(function(j){return this._invoke(T,j)}))}))}function F(A,T){var j;o(this,"_invoke",{value:function(L,D){function Z(){return new T((function(K,ee){(function G(te,H,U,Q){var ie=g(A[te],A,H);if(ie.type!=="throw"){var re=ie.arg,oe=re.value;return oe&&typeof oe=="object"&&c.call(oe,"__await")?T.resolve(oe.__await).then((function(he){G("next",he,U,Q)}),(function(he){G("throw",he,U,Q)})):T.resolve(oe).then((function(he){re.value=he,U(re)}),(function(he){return G("throw",he,U,Q)}))}Q(ie.arg)})(L,D,K,ee)}))}return j=j?j.then(Z,Z):Z()}})}function W(A,T,j){var L="suspendedStart";return function(D,Z){if(L==="executing")throw new Error("Generator is already running");if(L==="completed"){if(D==="throw")throw Z;return E()}for(j.method=D,j.arg=Z;;){var K=j.delegate;if(K){var ee=V(K,j);if(ee){if(ee===v)continue;return ee}}if(j.method==="next")j.sent=j._sent=j.arg;else if(j.method==="throw"){if(L==="suspendedStart")throw L="completed",j.arg;j.dispatchException(j.arg)}else j.method==="return"&&j.abrupt("return",j.arg);L="executing";var G=g(A,T,j);if(G.type==="normal"){if(L=j.done?"completed":"suspendedYield",G.arg===v)continue;return{value:G.arg,done:j.done}}G.type==="throw"&&(L="completed",j.method="throw",j.arg=G.arg)}}}function V(A,T){var j=T.method,L=A.iterator[j];if(L===void 0)return T.delegate=null,j==="throw"&&A.iterator.return&&(T.method="return",T.arg=void 0,V(A,T),T.method==="throw")||j!=="return"&&(T.method="throw",T.arg=new TypeError("The iterator does not provide a '"+j+"' method")),v;var D=g(L,A.iterator,T.arg);if(D.type==="throw")return T.method="throw",T.arg=D.arg,T.delegate=null,v;var Z=D.arg;return Z?Z.done?(T[A.resultName]=Z.value,T.next=A.nextLoc,T.method!=="return"&&(T.method="next",T.arg=void 0),T.delegate=null,v):Z:(T.method="throw",T.arg=new TypeError("iterator result is not an object"),T.delegate=null,v)}function N(A){var T={tryLoc:A[0]};1 in A&&(T.catchLoc=A[1]),2 in A&&(T.finallyLoc=A[2],T.afterLoc=A[3]),this.tryEntries.push(T)}function P(A){var T=A.completion||{};T.type="normal",delete T.arg,A.completion=T}function C(A){this.tryEntries=[{tryLoc:"root"}],A.forEach(N,this),this.reset(!0)}function S(A){if(A){var T=A[p];if(T)return T.call(A);if(typeof A.next=="function")return A;if(!isNaN(A.length)){var j=-1,L=function D(){for(;++j<A.length;)if(c.call(A,j))return D.value=A[j],D.done=!1,D;return D.value=void 0,D.done=!0,D};return L.next=L}}return{next:E}}function E(){return{value:void 0,done:!0}}return k.prototype=R,o(I,"constructor",{value:R,configurable:!0}),o(R,"constructor",{value:k,configurable:!0}),k.displayName=b(R,d,"GeneratorFunction"),a.isGeneratorFunction=function(A){var T=typeof A=="function"&&A.constructor;return!!T&&(T===k||(T.displayName||T.name)==="GeneratorFunction")},a.mark=function(A){return Object.setPrototypeOf?Object.setPrototypeOf(A,R):(A.__proto__=R,b(A,d,"GeneratorFunction")),A.prototype=Object.create(I),A},a.awrap=function(A){return{__await:A}},O(F.prototype),b(F.prototype,h,(function(){return this})),a.AsyncIterator=F,a.async=function(A,T,j,L,D){D===void 0&&(D=Promise);var Z=new F(x(A,T,j,L),D);return a.isGeneratorFunction(T)?Z:Z.next().then((function(K){return K.done?K.value:Z.next()}))},O(I),b(I,d,"Generator"),b(I,p,(function(){return this})),b(I,"toString",(function(){return"[object Generator]"})),a.keys=function(A){var T=Object(A),j=[];for(var L in T)j.push(L);return j.reverse(),function D(){for(;j.length;){var Z=j.pop();if(Z in T)return D.value=Z,D.done=!1,D}return D.done=!0,D}},a.values=S,C.prototype={constructor:C,reset:function(A){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!A)for(var T in this)T.charAt(0)==="t"&&c.call(this,T)&&!isNaN(+T.slice(1))&&(this[T]=void 0)},stop:function(){this.done=!0;var A=this.tryEntries[0].completion;if(A.type==="throw")throw A.arg;return this.rval},dispatchException:function(A){if(this.done)throw A;var T=this;function j(G,te){return Z.type="throw",Z.arg=A,T.next=G,te&&(T.method="next",T.arg=void 0),!!te}for(var L=this.tryEntries.length-1;L>=0;--L){var D=this.tryEntries[L],Z=D.completion;if(D.tryLoc==="root")return j("end");if(D.tryLoc<=this.prev){var K=c.call(D,"catchLoc"),ee=c.call(D,"finallyLoc");if(K&&ee){if(this.prev<D.catchLoc)return j(D.catchLoc,!0);if(this.prev<D.finallyLoc)return j(D.finallyLoc)}else if(K){if(this.prev<D.catchLoc)return j(D.catchLoc,!0)}else{if(!ee)throw new Error("try statement without catch or finally");if(this.prev<D.finallyLoc)return j(D.finallyLoc)}}}},abrupt:function(A,T){for(var j=this.tryEntries.length-1;j>=0;--j){var L=this.tryEntries[j];if(L.tryLoc<=this.prev&&c.call(L,"finallyLoc")&&this.prev<L.finallyLoc){var D=L;break}}D&&(A==="break"||A==="continue")&&D.tryLoc<=T&&T<=D.finallyLoc&&(D=null);var Z=D?D.completion:{};return Z.type=A,Z.arg=T,D?(this.method="next",this.next=D.finallyLoc,v):this.complete(Z)},complete:function(A,T){if(A.type==="throw")throw A.arg;return A.type==="break"||A.type==="continue"?this.next=A.arg:A.type==="return"?(this.rval=this.arg=A.arg,this.method="return",this.next="end"):A.type==="normal"&&T&&(this.next=T),v},finish:function(A){for(var T=this.tryEntries.length-1;T>=0;--T){var j=this.tryEntries[T];if(j.finallyLoc===A)return this.complete(j.completion,j.afterLoc),P(j),v}},catch:function(A){for(var T=this.tryEntries.length-1;T>=0;--T){var j=this.tryEntries[T];if(j.tryLoc===A){var L=j.completion;if(L.type==="throw"){var D=L.arg;P(j)}return D}}throw new Error("illegal catch attempt")},delegateYield:function(A,T,j){return this.delegate={iterator:S(A),resultName:T,nextLoc:j},this.method==="next"&&(this.arg=void 0),v}},a})(typeof n=="object"?n.exports:{});try{regeneratorRuntime=i}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},{}],493:[function(e,n,s){var i=e("buffer").Buffer,a=e("inherits"),l=e("hash-base"),c=new Array(16),o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],p=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],h=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],d=[0,1518500249,1859775393,2400959708,2840853838],b=[1352829926,1548603684,1836072691,2053994217,0];function x(){l.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function g(q,B){return q<<B|q>>>32-B}function v(q,B,I,O,F,W,V,N){return g(q+(B^I^O)+W+V|0,N)+F|0}function y(q,B,I,O,F,W,V,N){return g(q+(B&I|~B&O)+W+V|0,N)+F|0}function k(q,B,I,O,F,W,V,N){return g(q+((B|~I)^O)+W+V|0,N)+F|0}function R(q,B,I,O,F,W,V,N){return g(q+(B&O|I&~O)+W+V|0,N)+F|0}function z(q,B,I,O,F,W,V,N){return g(q+(B^(I|~O))+W+V|0,N)+F|0}a(x,l),x.prototype._update=function(){for(var q=c,B=0;B<16;++B)q[B]=this._block.readInt32LE(4*B);for(var I=0|this._a,O=0|this._b,F=0|this._c,W=0|this._d,V=0|this._e,N=0|this._a,P=0|this._b,C=0|this._c,S=0|this._d,E=0|this._e,A=0;A<80;A+=1){var T,j;A<16?(T=v(I,O,F,W,V,q[o[A]],d[0],p[A]),j=z(N,P,C,S,E,q[u[A]],b[0],h[A])):A<32?(T=y(I,O,F,W,V,q[o[A]],d[1],p[A]),j=R(N,P,C,S,E,q[u[A]],b[1],h[A])):A<48?(T=k(I,O,F,W,V,q[o[A]],d[2],p[A]),j=k(N,P,C,S,E,q[u[A]],b[2],h[A])):A<64?(T=R(I,O,F,W,V,q[o[A]],d[3],p[A]),j=y(N,P,C,S,E,q[u[A]],b[3],h[A])):(T=z(I,O,F,W,V,q[o[A]],d[4],p[A]),j=v(N,P,C,S,E,q[u[A]],b[4],h[A])),I=V,V=W,W=g(F,10),F=O,O=T,N=E,E=S,S=g(C,10),C=P,P=j}var L=this._b+F+S|0;this._b=this._c+W+E|0,this._c=this._d+V+N|0,this._d=this._e+I+P|0,this._e=this._a+O+C|0,this._a=L},x.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var q=i.alloc?i.alloc(20):new i(20);return q.writeInt32LE(this._a,0),q.writeInt32LE(this._b,4),q.writeInt32LE(this._c,8),q.writeInt32LE(this._d,12),q.writeInt32LE(this._e,16),q},n.exports=x},{buffer:220,"hash-base":425,inherits:440}],494:[function(e,n,s){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var i=e("buffer"),a=i.Buffer;function l(o,u){for(var p in o)u[p]=o[p]}function c(o,u,p){return a(o,u,p)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?n.exports=i:(l(i,s),s.Buffer=c),c.prototype=Object.create(a.prototype),l(a,c),c.from=function(o,u,p){if(typeof o=="number")throw new TypeError("Argument must not be a number");return a(o,u,p)},c.alloc=function(o,u,p){if(typeof o!="number")throw new TypeError("Argument must be a number");var h=a(o);return u!==void 0?typeof p=="string"?h.fill(u,p):h.fill(u):h.fill(0),h},c.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return a(o)},c.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return i.SlowBuffer(o)}},{buffer:220}],495:[function(e,n,s){(function(i){(function(){var a,l=e("buffer"),c=l.Buffer,o={};for(a in l)l.hasOwnProperty(a)&&a!=="SlowBuffer"&&a!=="Buffer"&&(o[a]=l[a]);var u=o.Buffer={};for(a in c)c.hasOwnProperty(a)&&a!=="allocUnsafe"&&a!=="allocUnsafeSlow"&&(u[a]=c[a]);if(o.Buffer.prototype=c.prototype,u.from&&u.from!==Uint8Array.from||(u.from=function(p,h,d){if(typeof p=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof p);if(p&&p.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p);return c(p,h,d)}),u.alloc||(u.alloc=function(p,h,d){if(typeof p!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof p);if(p<0||p>=2*(1<<30))throw new RangeError('The value "'+p+'" is invalid for option "size"');var b=c(p);return h&&h.length!==0?typeof d=="string"?b.fill(h,d):b.fill(h):b.fill(0),b}),!o.kStringMaxLength)try{o.kStringMaxLength=i.binding("buffer").kStringMaxLength}catch{}o.constants||(o.constants={MAX_LENGTH:o.kMaxLength},o.kStringMaxLength&&(o.constants.MAX_STRING_LENGTH=o.kStringMaxLength)),n.exports=o}).call(this)}).call(this,e("_process"))},{_process:467,buffer:220}],496:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0});const i=e("xmlchars/xml/1.0/ed5"),a=e("xmlchars/xml/1.1/ed2"),l=e("xmlchars/xmlns/1.0/ed3");var c=i.isS,o=i.isChar,u=i.isNameStartChar,p=i.isNameChar,h=i.S_LIST,d=i.NAME_RE,b=a.isChar,x=l.isNCNameStartChar,g=l.isNCNameChar,v=l.NC_NAME_RE;const y="http://www.w3.org/XML/1998/namespace",k="http://www.w3.org/2000/xmlns/",R={__proto__:null,xml:y,xmlns:k},z={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},q=S=>S===34||S===39,B=[34,39],I=[...B,91,62],O=[...B,60,93],F=[61,63,...h],W=[...h,62,38,60];function V(S,E,A){switch(E){case"xml":A!==y&&S.fail(`xml prefix must be bound to ${y}.`);break;case"xmlns":A!==k&&S.fail(`xmlns prefix must be bound to ${k}.`)}switch(A){case k:S.fail(E===""?`the default namespace may not be set to ${A}.`:`may not assign a prefix (even "xmlns") to the URI ${k}.`);break;case y:switch(E){case"xml":break;case"":S.fail(`the default namespace may not be set to ${A}.`);break;default:S.fail("may not assign the xml namespace to another prefix.")}}}const N=S=>v.test(S),P=S=>d.test(S);s.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const C={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};s.SaxesParser=class{constructor(S){this.opt=S??{},this.fragmentOpt=!!this.opt.fragment;const E=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,E){this.nameStartCheck=x,this.nameCheck=g,this.isName=N,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},R);const A=this.opt.additionalNamespaces;A!=null&&((function(T,j){for(const L of Object.keys(j))V(T,L,j[L])})(this,A),Object.assign(this.ns,A))}else this.nameStartCheck=u,this.nameCheck=p,this.isName=P,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var S;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:E}=this;this.state=E?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=E,this.xmlDeclPossible=!E,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:A}=this.opt;if(A===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");A="1.0"}this.setXMLVersion(A),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(z),(S=this.readyHandler)===null||S===void 0||S.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(S,E){this[C[S]]=E}off(S){this[C[S]]=void 0}makeError(S){var E;let A=(E=this.fileName)!==null&&E!==void 0?E:"";return this.trackPosition&&(A.length>0&&(A+=":"),A+=`${this.line}:${this.column}`),A.length>0&&(A+=": "),new Error(A+S)}fail(S){const E=this.makeError(S),A=this.errorHandler;if(A===void 0)throw E;return A(E),this}write(S){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let E=!1;S===null?(E=!0,S=""):typeof S=="object"&&(S=S.toString()),this.carriedFromPrevious!==void 0&&(S=`${this.carriedFromPrevious}${S}`,this.carriedFromPrevious=void 0);let A=S.length;const T=S.charCodeAt(A-1);!E&&(T===13||T>=55296&&T<=56319)&&(this.carriedFromPrevious=S[A-1],A--,S=S.slice(0,A));const{stateTable:j}=this;for(this.chunk=S,this.i=0;this.i<A;)j[this.state].call(this);return this.chunkPosition+=A,E?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:S,i:E}=this;if(this.prevI=E,this.i=E+1,E>=S.length)return-1;const A=S.charCodeAt(E);if(this.column++,A<55296){if(A>=32||A===9)return A;switch(A){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return S.charCodeAt(E+1)===10&&(this.i=E+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),A}}if(A>56319)return A>=57344&&A<=65533||this.fail("disallowed character."),A;const T=65536+1024*(A-55296)+(S.charCodeAt(E+1)-56320);return this.i=E+2,T>1114111&&this.fail("disallowed character."),T}getCode11(){const{chunk:S,i:E}=this;if(this.prevI=E,this.i=E+1,E>=S.length)return-1;const A=S.charCodeAt(E);if(this.column++,A<55296){if(A>31&&A<127||A>159&&A!==8232||A===9)return A;switch(A){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const j=S.charCodeAt(E+1);j!==10&&j!==133||(this.i=E+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),A}}if(A>56319)return A>=57344&&A<=65533||this.fail("disallowed character."),A;const T=65536+1024*(A-55296)+(S.charCodeAt(E+1)-56320);return this.i=E+2,T>1114111&&this.fail("disallowed character."),T}getCodeNorm(){const S=this.getCode();return S===-2?10:S}unget(){this.i=this.prevI,this.column--}captureTo(S){let{i:E}=this;const{chunk:A}=this;for(;;){const T=this.getCode(),j=T===-2,L=j?10:T;if(L===-1||S.includes(L))return this.text+=A.slice(E,this.prevI),L;j&&(this.text+=A.slice(E,this.prevI)+`
`,E=this.i)}}captureToChar(S){let{i:E}=this;const{chunk:A}=this;for(;;){let T=this.getCode();switch(T){case-2:this.text+=A.slice(E,this.prevI)+`
`,E=this.i,T=10;break;case-1:return this.text+=A.slice(E),!1}if(T===S)return this.text+=A.slice(E,this.prevI),!0}}captureNameChars(){const{chunk:S,i:E}=this;for(;;){const A=this.getCode();if(A===-1)return this.name+=S.slice(E),-1;if(!p(A))return this.name+=S.slice(E,this.prevI),A===-2?10:A}}skipSpaces(){for(;;){const S=this.getCodeNorm();if(S===-1||!c(S))return S}}setXMLVersion(S){this.currentXMLVersion=S,S==="1.0"?(this.isChar=o,this.getCode=this.getCode10):(this.isChar=b,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const S=this.i,E=this.skipSpaces();switch(this.prevI!==S&&(this.xmlDeclPossible=!1),E){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var S;const E=this.captureTo(I);switch(E){case 62:(S=this.doctypeHandler)===null||S===void 0||S.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(E),E===91?this.state=4:q(E)&&(this.state=3,this.q=E)}}sDoctypeQuote(){const S=this.q;this.captureToChar(S)&&(this.text+=String.fromCodePoint(S),this.q=null,this.state=2)}sDTD(){const S=this.captureTo(O);S!==-1&&(this.text+=String.fromCodePoint(S),S===93?this.state=2:S===60?this.state=6:q(S)&&(this.state=5,this.q=S))}sDTDQuoted(){const S=this.q;this.captureToChar(S)&&(this.text+=String.fromCodePoint(S),this.state=4,this.q=null)}sDTDOpenWaka(){const S=this.getCodeNorm();switch(this.text+=String.fromCodePoint(S),S){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const S=String.fromCodePoint(this.getCodeNorm()),E=this.openWakaBang+=S;this.text+=S,E!=="-"&&(this.state=E==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const S=this.getCodeNorm();this.text+=String.fromCodePoint(S),this.state=S===45?10:8}sDTDCommentEnded(){const S=this.getCodeNorm();this.text+=String.fromCodePoint(S),S===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const S=this.getCodeNorm();this.text+=String.fromCodePoint(S),S===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:S}=this;const{chunk:E}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=E.slice(S,this.prevI)+`
`,S=this.i;break;case 59:{const{entityReturnState:A}=this,T=this.entity+E.slice(S,this.prevI);let j;this.state=A,T===""?(this.fail("empty entity name."),j="&;"):(j=this.parseEntity(T),this.entity=""),A===13&&this.textHandler===void 0||(this.text+=j);break e}case-1:this.entity+=E.slice(S);break e}}sOpenWaka(){const S=this.getCode();if(u(S))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(S){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var S;const E=this.getCodeNorm();E===45?(this.state=19,(S=this.commentHandler)===null||S===void 0||S.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(E),this.state=17)}sCommentEnded(){const S=this.getCodeNorm();S!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(S),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const S=this.getCodeNorm();S===93?this.state=22:(this.text+="]"+String.fromCodePoint(S),this.state=20)}sCDataEnding2(){var S;const E=this.getCodeNorm();switch(E){case 62:(S=this.cdataHandler)===null||S===void 0||S.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(E),this.state=20}}sPIFirstChar(){const S=this.getCodeNorm();this.nameStartCheck(S)?(this.piTarget+=String.fromCodePoint(S),this.state=24):S===63||c(S)?(this.fail("processing instruction without a target."),this.state=S===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(S),this.state=24)}sPIRest(){const{chunk:S,i:E}=this;for(;;){const A=this.getCodeNorm();if(A===-1)return void(this.piTarget+=S.slice(E));if(!this.nameCheck(A)){this.piTarget+=S.slice(E,this.prevI);const T=A===63;T||c(A)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=T?33:27):this.state=T?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(A));break}}}sPIBody(){if(this.text.length===0){const S=this.getCodeNorm();S===63?this.state=26:c(S)||(this.text=String.fromCodePoint(S))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var S;const E=this.getCodeNorm();if(E===62){const{piTarget:A}=this;A.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(S=this.piHandler)===null||S===void 0||S.call(this,{target:A,body:this.text}),this.piTarget=this.text="",this.state=13}else E===63?this.text+="?":(this.text+="?"+String.fromCodePoint(E),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const S=this.skipSpaces();S!==63?S!==-1&&(this.state=28,this.name=String.fromCodePoint(S)):this.state=33}sXMLDeclName(){const S=this.captureTo(F);if(S===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(c(S)||S===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=S===61?30:29}}sXMLDeclEq(){const S=this.getCodeNorm();if(S===63)return this.state=33,void this.fail("XML declaration is incomplete.");c(S)||(S!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const S=this.getCodeNorm();if(S===63)return this.state=33,void this.fail("XML declaration is incomplete.");c(S)||(q(S)?this.q=S:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const S=this.captureTo([this.q,63]);if(S===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(S===-1)return;const E=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const A=E;this.xmlDecl.version=A,/^1\.[0-9]+$/.test(A)?this.opt.forceXMLVersion||this.setXMLVersion(A):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(E)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=E;break;case"standalone":E!=="yes"&&E!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=E}this.name="",this.state=32}sXMLDeclSeparator(){const S=this.getCodeNorm();S!==63?(c(S)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var S;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(S=this.xmldeclHandler)===null||S===void 0||S.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var S;const E=this.captureNameChars();if(E===-1)return;const A=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=A.ns=Object.create(null)),(S=this.openTagStartHandler)===null||S===void 0||S.call(this,A),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),E){case 62:this.openTag();break;case 47:this.state=35;break;default:c(E)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const S=this.skipSpaces();S!==-1&&(u(S)?(this.unget(),this.state=37):S===62?this.openTag():S===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const S=this.captureNameChars();S===61?this.state=39:c(S)?this.state=38:S===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):S!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const S=this.skipSpaces();switch(S){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",S===62?this.openTag():u(S)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const S=this.getCodeNorm();q(S)?(this.q=S,this.state=40):c(S)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:S,chunk:E}=this;let{i:A}=this;for(;;)switch(this.getCode()){case S:return this.pushAttrib(this.name,this.text+E.slice(A,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=E.slice(A,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=E.slice(A,this.prevI)+" ",A=this.i;break;case 60:return this.text+=E.slice(A,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=E.slice(A))}}sAttribValueClosed(){const S=this.getCodeNorm();c(S)?this.state=36:S===62?this.openTag():S===47?this.state=35:u(S)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const S=this.captureTo(W);switch(S){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",S===62?this.openTag():this.state=36}}sCloseTag(){const S=this.captureNameChars();S===62?this.closeTag():c(S)?this.state=44:S!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:S,forbiddenState:E}=this;const{chunk:A,textHandler:T}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,T!==void 0){const{text:j}=this,L=A.slice(S,this.prevI);j.length!==0?(T(j+L),this.text=""):L.length!==0&&T(L)}E=0;break e;case 38:this.state=14,this.entityReturnState=13,T!==void 0&&(this.text+=A.slice(S,this.prevI)),E=0;break e;case 93:switch(E){case 0:E=1;break;case 1:E=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:E===2&&this.fail('the string "]]>" is disallowed in char data.'),E=0;break;case-2:T!==void 0&&(this.text+=A.slice(S,this.prevI)+`
`),S=this.i,E=0;break;case-1:T!==void 0&&(this.text+=A.slice(S));break e;default:E=0}this.forbiddenState=E}handleTextOutsideRoot(){let{i:S}=this;const{chunk:E,textHandler:A}=this;let T=!1;e:for(;;){const j=this.getCode();switch(j){case 60:if(this.state=15,A!==void 0){const{text:L}=this,D=E.slice(S,this.prevI);L.length!==0?(A(L+D),this.text=""):D.length!==0&&A(D)}break e;case 38:this.state=14,this.entityReturnState=13,A!==void 0&&(this.text+=E.slice(S,this.prevI)),T=!0;break e;case-2:A!==void 0&&(this.text+=E.slice(S,this.prevI)+`
`),S=this.i;break;case-1:A!==void 0&&(this.text+=E.slice(S));break e;default:c(j)||(T=!0)}}T&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(S,E){var A;const{prefix:T,local:j}=this.qname(S),L={name:S,prefix:T,local:j,value:E};if(this.attribList.push(L),(A=this.attributeHandler)===null||A===void 0||A.call(this,L),T==="xmlns"){const D=E.trim();this.currentXMLVersion==="1.0"&&D===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[j]=D,V(this,j,D)}else if(S==="xmlns"){const D=E.trim();this.topNS[""]=D,V(this,"",D)}}pushAttribPlain(S,E){var A;const T={name:S,value:E};this.attribList.push(T),(A=this.attributeHandler)===null||A===void 0||A.call(this,T)}end(){var S,E;this.sawRoot||this.fail("document must contain a root element.");const{tags:A}=this;for(;A.length>0;){const j=A.pop();this.fail("unclosed tag: "+j.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:T}=this;return T.length!==0&&((S=this.textHandler)===null||S===void 0||S.call(this,T),this.text=""),this._closed=!0,(E=this.endHandler)===null||E===void 0||E.call(this),this._init(),this}resolve(S){var E,A;let T=this.topNS[S];if(T!==void 0)return T;const{tags:j}=this;for(let L=j.length-1;L>=0;L--)if(T=j[L].ns[S],T!==void 0)return T;return T=this.ns[S],T!==void 0?T:(A=(E=this.opt).resolvePrefix)===null||A===void 0?void 0:A.call(E,S)}qname(S){const E=S.indexOf(":");if(E===-1)return{prefix:"",local:S};const A=S.slice(E+1),T=S.slice(0,E);return(T===""||A===""||A.includes(":"))&&this.fail(`malformed name: ${S}.`),{prefix:T,local:A}}processAttribsNS(){var S;const{attribList:E}=this,A=this.tag;{const{prefix:L,local:D}=this.qname(A.name);A.prefix=L,A.local=D;const Z=A.uri=(S=this.resolve(L))!==null&&S!==void 0?S:"";L!==""&&(L==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),Z===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(L)}.`),A.uri=L))}if(E.length===0)return;const{attributes:T}=A,j=new Set;for(const L of E){const{name:D,prefix:Z,local:K}=L;let ee,G;Z===""?(ee=D==="xmlns"?k:"",G=D):(ee=this.resolve(Z),ee===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(Z)}.`),ee=Z),G=`{${ee}}${K}`),j.has(G)&&this.fail(`duplicate attribute: ${G}.`),j.add(G),L.uri=ee,T[D]=L}this.attribList=[]}processAttribsPlain(){const{attribList:S}=this,E=this.tag.attributes;for(const{name:A,value:T}of S)E[A]!==void 0&&this.fail(`duplicate attribute: ${A}.`),E[A]=T;this.attribList=[]}openTag(){var S;this.processAttribs();const{tags:E}=this,A=this.tag;A.isSelfClosing=!1,(S=this.openTagHandler)===null||S===void 0||S.call(this,A),E.push(A),this.state=13,this.name=""}openSelfClosingTag(){var S,E,A;this.processAttribs();const{tags:T}=this,j=this.tag;j.isSelfClosing=!0,(S=this.openTagHandler)===null||S===void 0||S.call(this,j),(E=this.closeTagHandler)===null||E===void 0||E.call(this,j),(this.tag=(A=T[T.length-1])!==null&&A!==void 0?A:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:S,name:E}=this;if(this.state=13,this.name="",E==="")return this.fail("weird empty close tag."),void(this.text+="</>");const A=this.closeTagHandler;let T=S.length;for(;T-- >0;){const j=this.tag=S.pop();if(this.topNS=j.ns,A==null||A(j),j.name===E)break;this.fail("unexpected close tag.")}T===0?this.closedRoot=!0:T<0&&(this.fail(`unmatched closing tag: ${E}.`),this.text+=`</${E}>`)}parseEntity(S){if(S[0]!=="#"){const A=this.ENTITIES[S];return A!==void 0?A:(this.fail(this.isName(S)?"undefined entity.":"disallowed character in entity name."),`&${S};`)}let E=NaN;return S[1]==="x"&&/^#x[0-9a-f]+$/i.test(S)?E=parseInt(S.slice(2),16):/^#[0-9]+$/.test(S)&&(E=parseInt(S.slice(1),10)),this.isChar(E)?String.fromCodePoint(E):(this.fail("malformed character entity."),`&${S};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(e,n,s){var i=e("safe-buffer").Buffer;function a(l,c){this._block=i.alloc(l),this._finalSize=c,this._blockSize=l,this._len=0}a.prototype.update=function(l,c){typeof l=="string"&&(c=c||"utf8",l=i.from(l,c));for(var o=this._block,u=this._blockSize,p=l.length,h=this._len,d=0;d<p;){for(var b=h%u,x=Math.min(p-d,u-b),g=0;g<x;g++)o[b+g]=l[d+g];d+=x,(h+=x)%u==0&&this._update(o)}return this._len+=p,this},a.prototype.digest=function(l){var c=this._len%this._blockSize;this._block[c]=128,this._block.fill(0,c+1),c>=this._finalSize&&(this._update(this._block),this._block.fill(0));var o=8*this._len;if(o<=4294967295)this._block.writeUInt32BE(o,this._blockSize-4);else{var u=(4294967295&o)>>>0,p=(o-u)/4294967296;this._block.writeUInt32BE(p,this._blockSize-8),this._block.writeUInt32BE(u,this._blockSize-4)}this._update(this._block);var h=this._hash();return l?h.toString(l):h},a.prototype._update=function(){throw new Error("_update must be implemented by subclass")},n.exports=a},{"safe-buffer":494}],498:[function(e,n,s){var i=n.exports=function(a){a=a.toLowerCase();var l=i[a];if(!l)throw new Error(a+" is not supported (we accept pull requests)");return new l};i.sha=e("./sha"),i.sha1=e("./sha1"),i.sha224=e("./sha224"),i.sha256=e("./sha256"),i.sha384=e("./sha384"),i.sha512=e("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(e,n,s){var i=e("inherits"),a=e("./hash"),l=e("safe-buffer").Buffer,c=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function u(){this.init(),this._w=o,a.call(this,64,56)}function p(d){return d<<30|d>>>2}function h(d,b,x,g){return d===0?b&x|~b&g:d===2?b&x|b&g|x&g:b^x^g}i(u,a),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(d){for(var b,x=this._w,g=0|this._a,v=0|this._b,y=0|this._c,k=0|this._d,R=0|this._e,z=0;z<16;++z)x[z]=d.readInt32BE(4*z);for(;z<80;++z)x[z]=x[z-3]^x[z-8]^x[z-14]^x[z-16];for(var q=0;q<80;++q){var B=~~(q/20),I=0|((b=g)<<5|b>>>27)+h(B,v,y,k)+R+x[q]+c[B];R=k,k=y,y=p(v),v=g,g=I}this._a=g+this._a|0,this._b=v+this._b|0,this._c=y+this._c|0,this._d=k+this._d|0,this._e=R+this._e|0},u.prototype._hash=function(){var d=l.allocUnsafe(20);return d.writeInt32BE(0|this._a,0),d.writeInt32BE(0|this._b,4),d.writeInt32BE(0|this._c,8),d.writeInt32BE(0|this._d,12),d.writeInt32BE(0|this._e,16),d},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(e,n,s){var i=e("inherits"),a=e("./hash"),l=e("safe-buffer").Buffer,c=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function u(){this.init(),this._w=o,a.call(this,64,56)}function p(b){return b<<5|b>>>27}function h(b){return b<<30|b>>>2}function d(b,x,g,v){return b===0?x&g|~x&v:b===2?x&g|x&v|g&v:x^g^v}i(u,a),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(b){for(var x,g=this._w,v=0|this._a,y=0|this._b,k=0|this._c,R=0|this._d,z=0|this._e,q=0;q<16;++q)g[q]=b.readInt32BE(4*q);for(;q<80;++q)g[q]=(x=g[q-3]^g[q-8]^g[q-14]^g[q-16])<<1|x>>>31;for(var B=0;B<80;++B){var I=~~(B/20),O=p(v)+d(I,y,k,R)+z+g[B]+c[I]|0;z=R,R=k,k=h(y),y=v,v=O}this._a=v+this._a|0,this._b=y+this._b|0,this._c=k+this._c|0,this._d=R+this._d|0,this._e=z+this._e|0},u.prototype._hash=function(){var b=l.allocUnsafe(20);return b.writeInt32BE(0|this._a,0),b.writeInt32BE(0|this._b,4),b.writeInt32BE(0|this._c,8),b.writeInt32BE(0|this._d,12),b.writeInt32BE(0|this._e,16),b},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(e,n,s){var i=e("inherits"),a=e("./sha256"),l=e("./hash"),c=e("safe-buffer").Buffer,o=new Array(64);function u(){this.init(),this._w=o,l.call(this,64,56)}i(u,a),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var p=c.allocUnsafe(28);return p.writeInt32BE(this._a,0),p.writeInt32BE(this._b,4),p.writeInt32BE(this._c,8),p.writeInt32BE(this._d,12),p.writeInt32BE(this._e,16),p.writeInt32BE(this._f,20),p.writeInt32BE(this._g,24),p},n.exports=u},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(e,n,s){var i=e("inherits"),a=e("./hash"),l=e("safe-buffer").Buffer,c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],o=new Array(64);function u(){this.init(),this._w=o,a.call(this,64,56)}function p(g,v,y){return y^g&(v^y)}function h(g,v,y){return g&v|y&(g|v)}function d(g){return(g>>>2|g<<30)^(g>>>13|g<<19)^(g>>>22|g<<10)}function b(g){return(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7)}function x(g){return(g>>>7|g<<25)^(g>>>18|g<<14)^g>>>3}i(u,a),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},u.prototype._update=function(g){for(var v,y=this._w,k=0|this._a,R=0|this._b,z=0|this._c,q=0|this._d,B=0|this._e,I=0|this._f,O=0|this._g,F=0|this._h,W=0;W<16;++W)y[W]=g.readInt32BE(4*W);for(;W<64;++W)y[W]=0|(((v=y[W-2])>>>17|v<<15)^(v>>>19|v<<13)^v>>>10)+y[W-7]+x(y[W-15])+y[W-16];for(var V=0;V<64;++V){var N=F+b(B)+p(B,I,O)+c[V]+y[V]|0,P=d(k)+h(k,R,z)|0;F=O,O=I,I=B,B=q+N|0,q=z,z=R,R=k,k=N+P|0}this._a=k+this._a|0,this._b=R+this._b|0,this._c=z+this._c|0,this._d=q+this._d|0,this._e=B+this._e|0,this._f=I+this._f|0,this._g=O+this._g|0,this._h=F+this._h|0},u.prototype._hash=function(){var g=l.allocUnsafe(32);return g.writeInt32BE(this._a,0),g.writeInt32BE(this._b,4),g.writeInt32BE(this._c,8),g.writeInt32BE(this._d,12),g.writeInt32BE(this._e,16),g.writeInt32BE(this._f,20),g.writeInt32BE(this._g,24),g.writeInt32BE(this._h,28),g},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(e,n,s){var i=e("inherits"),a=e("./sha512"),l=e("./hash"),c=e("safe-buffer").Buffer,o=new Array(160);function u(){this.init(),this._w=o,l.call(this,128,112)}i(u,a),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var p=c.allocUnsafe(48);function h(d,b,x){p.writeInt32BE(d,x),p.writeInt32BE(b,x+4)}return h(this._ah,this._al,0),h(this._bh,this._bl,8),h(this._ch,this._cl,16),h(this._dh,this._dl,24),h(this._eh,this._el,32),h(this._fh,this._fl,40),p},n.exports=u},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(e,n,s){var i=e("inherits"),a=e("./hash"),l=e("safe-buffer").Buffer,c=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],o=new Array(160);function u(){this.init(),this._w=o,a.call(this,128,112)}function p(R,z,q){return q^R&(z^q)}function h(R,z,q){return R&z|q&(R|z)}function d(R,z){return(R>>>28|z<<4)^(z>>>2|R<<30)^(z>>>7|R<<25)}function b(R,z){return(R>>>14|z<<18)^(R>>>18|z<<14)^(z>>>9|R<<23)}function x(R,z){return(R>>>1|z<<31)^(R>>>8|z<<24)^R>>>7}function g(R,z){return(R>>>1|z<<31)^(R>>>8|z<<24)^(R>>>7|z<<25)}function v(R,z){return(R>>>19|z<<13)^(z>>>29|R<<3)^R>>>6}function y(R,z){return(R>>>19|z<<13)^(z>>>29|R<<3)^(R>>>6|z<<26)}function k(R,z){return R>>>0<z>>>0?1:0}i(u,a),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},u.prototype._update=function(R){for(var z=this._w,q=0|this._ah,B=0|this._bh,I=0|this._ch,O=0|this._dh,F=0|this._eh,W=0|this._fh,V=0|this._gh,N=0|this._hh,P=0|this._al,C=0|this._bl,S=0|this._cl,E=0|this._dl,A=0|this._el,T=0|this._fl,j=0|this._gl,L=0|this._hl,D=0;D<32;D+=2)z[D]=R.readInt32BE(4*D),z[D+1]=R.readInt32BE(4*D+4);for(;D<160;D+=2){var Z=z[D-30],K=z[D-30+1],ee=x(Z,K),G=g(K,Z),te=v(Z=z[D-4],K=z[D-4+1]),H=y(K,Z),U=z[D-14],Q=z[D-14+1],ie=z[D-32],re=z[D-32+1],oe=G+Q|0,he=ee+U+k(oe,G)|0;he=(he=he+te+k(oe=oe+H|0,H)|0)+ie+k(oe=oe+re|0,re)|0,z[D]=he,z[D+1]=oe}for(var ve=0;ve<160;ve+=2){he=z[ve],oe=z[ve+1];var me=h(q,B,I),ne=h(P,C,S),de=d(q,P),xe=d(P,q),Te=b(F,A),Re=b(A,F),Pe=c[ve],Xe=c[ve+1],Ue=p(F,W,V),tt=p(A,T,j),at=L+Re|0,Je=N+Te+k(at,L)|0;Je=(Je=(Je=Je+Ue+k(at=at+tt|0,tt)|0)+Pe+k(at=at+Xe|0,Xe)|0)+he+k(at=at+oe|0,oe)|0;var Ze=xe+ne|0,vt=de+me+k(Ze,xe)|0;N=V,L=j,V=W,j=T,W=F,T=A,F=O+Je+k(A=E+at|0,E)|0,O=I,E=S,I=B,S=C,B=q,C=P,q=Je+vt+k(P=at+Ze|0,at)|0}this._al=this._al+P|0,this._bl=this._bl+C|0,this._cl=this._cl+S|0,this._dl=this._dl+E|0,this._el=this._el+A|0,this._fl=this._fl+T|0,this._gl=this._gl+j|0,this._hl=this._hl+L|0,this._ah=this._ah+q+k(this._al,P)|0,this._bh=this._bh+B+k(this._bl,C)|0,this._ch=this._ch+I+k(this._cl,S)|0,this._dh=this._dh+O+k(this._dl,E)|0,this._eh=this._eh+F+k(this._el,A)|0,this._fh=this._fh+W+k(this._fl,T)|0,this._gh=this._gh+V+k(this._gl,j)|0,this._hh=this._hh+N+k(this._hl,L)|0},u.prototype._hash=function(){var R=l.allocUnsafe(64);function z(q,B,I){R.writeInt32BE(q,I),R.writeInt32BE(B,I+4)}return z(this._ah,this._al,0),z(this._bh,this._bl,8),z(this._ch,this._cl,16),z(this._dh,this._dl,24),z(this._eh,this._el,32),z(this._fh,this._fl,40),z(this._gh,this._gl,48),z(this._hh,this._hl,56),R},n.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(e,n,s){n.exports=a;var i=e("events").EventEmitter;function a(){i.call(this)}e("inherits")(a,i),a.Readable=e("readable-stream/readable.js"),a.Writable=e("readable-stream/writable.js"),a.Duplex=e("readable-stream/duplex.js"),a.Transform=e("readable-stream/transform.js"),a.PassThrough=e("readable-stream/passthrough.js"),a.Stream=a,a.prototype.pipe=function(l,c){var o=this;function u(v){l.writable&&l.write(v)===!1&&o.pause&&o.pause()}function p(){o.readable&&o.resume&&o.resume()}o.on("data",u),l.on("drain",p),l._isStdio||c&&c.end===!1||(o.on("end",d),o.on("close",b));var h=!1;function d(){h||(h=!0,l.end())}function b(){h||(h=!0,typeof l.destroy=="function"&&l.destroy())}function x(v){if(g(),i.listenerCount(this,"error")===0)throw v}function g(){o.removeListener("data",u),l.removeListener("drain",p),o.removeListener("end",d),o.removeListener("close",b),o.removeListener("error",x),l.removeListener("error",x),o.removeListener("end",g),o.removeListener("close",g),l.removeListener("close",g)}return o.on("error",x),l.on("error",x),o.on("end",g),o.on("close",g),l.on("close",g),l.emit("pipe",o),l}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(e,n,s){var i={}.toString;n.exports=Array.isArray||function(a){return i.call(a)=="[object Array]"}},{}],507:[function(e,n,s){n.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(e,n,s){var i=e("process-nextick-args"),a=Object.keys||function(g){var v=[];for(var y in g)v.push(y);return v};n.exports=d;var l=Object.create(e("core-util-is"));l.inherits=e("inherits");var c=e("./_stream_readable"),o=e("./_stream_writable");l.inherits(d,c);for(var u=a(o.prototype),p=0;p<u.length;p++){var h=u[p];d.prototype[h]||(d.prototype[h]=o.prototype[h])}function d(g){if(!(this instanceof d))return new d(g);c.call(this,g),o.call(this,g),g&&g.readable===!1&&(this.readable=!1),g&&g.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,g&&g.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",b)}function b(){this.allowHalfOpen||this._writableState.ended||i.nextTick(x,this)}function x(g){g.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(g){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=g,this._writableState.destroyed=g)}}),d.prototype._destroy=function(g,v){this.push(null),this.end(),i.nextTick(v,g)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(e,n,s){n.exports=l;var i=e("./_stream_transform"),a=Object.create(e("core-util-is"));function l(c){if(!(this instanceof l))return new l(c);i.call(this,c)}a.inherits=e("inherits"),a.inherits(l,i),l.prototype._transform=function(c,o,u){u(null,c)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(e,n,s){(function(i,a){(function(){var l=e("process-nextick-args");n.exports=q;var c,o=e("isarray");q.ReadableState=z,e("events").EventEmitter;var u=function(L,D){return L.listeners(D).length},p=e("./internal/streams/stream"),h=e("safe-buffer").Buffer,d=(a!==void 0?a:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},b=Object.create(e("core-util-is"));b.inherits=e("inherits");var x=e("util"),g=void 0;g=x&&x.debuglog?x.debuglog("stream"):function(){};var v,y=e("./internal/streams/BufferList"),k=e("./internal/streams/destroy");b.inherits(q,p);var R=["error","close","destroy","pause","resume"];function z(L,D){L=L||{};var Z=D instanceof(c=c||e("./_stream_duplex"));this.objectMode=!!L.objectMode,Z&&(this.objectMode=this.objectMode||!!L.readableObjectMode);var K=L.highWaterMark,ee=L.readableHighWaterMark,G=this.objectMode?16:16384;this.highWaterMark=K||K===0?K:Z&&(ee||ee===0)?ee:G,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=L.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,L.encoding&&(v||(v=e("string_decoder/").StringDecoder),this.decoder=new v(L.encoding),this.encoding=L.encoding)}function q(L){if(c=c||e("./_stream_duplex"),!(this instanceof q))return new q(L);this._readableState=new z(L,this),this.readable=!0,L&&(typeof L.read=="function"&&(this._read=L.read),typeof L.destroy=="function"&&(this._destroy=L.destroy)),p.call(this)}function B(L,D,Z,K,ee){var G,te=L._readableState;return D===null?(te.reading=!1,(function(H,U){if(!U.ended){if(U.decoder){var Q=U.decoder.end();Q&&Q.length&&(U.buffer.push(Q),U.length+=U.objectMode?1:Q.length)}U.ended=!0,F(H)}})(L,te)):(ee||(G=(function(H,U){var Q;ie=U,h.isBuffer(ie)||ie instanceof d||typeof U=="string"||U===void 0||H.objectMode||(Q=new TypeError("Invalid non-string/buffer chunk"));var ie;return Q})(te,D)),G?L.emit("error",G):te.objectMode||D&&D.length>0?(typeof D=="string"||te.objectMode||Object.getPrototypeOf(D)===h.prototype||(D=(function(H){return h.from(H)})(D)),K?te.endEmitted?L.emit("error",new Error("stream.unshift() after end event")):I(L,te,D,!0):te.ended?L.emit("error",new Error("stream.push() after EOF")):(te.reading=!1,te.decoder&&!Z?(D=te.decoder.write(D),te.objectMode||D.length!==0?I(L,te,D,!1):V(L,te)):I(L,te,D,!1))):K||(te.reading=!1)),(function(H){return!H.ended&&(H.needReadable||H.length<H.highWaterMark||H.length===0)})(te)}function I(L,D,Z,K){D.flowing&&D.length===0&&!D.sync?(L.emit("data",Z),L.read(0)):(D.length+=D.objectMode?1:Z.length,K?D.buffer.unshift(Z):D.buffer.push(Z),D.needReadable&&F(L)),V(L,D)}Object.defineProperty(q.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(L){this._readableState&&(this._readableState.destroyed=L)}}),q.prototype.destroy=k.destroy,q.prototype._undestroy=k.undestroy,q.prototype._destroy=function(L,D){this.push(null),D(L)},q.prototype.push=function(L,D){var Z,K=this._readableState;return K.objectMode?Z=!0:typeof L=="string"&&((D=D||K.defaultEncoding)!==K.encoding&&(L=h.from(L,D),D=""),Z=!0),B(this,L,D,!1,Z)},q.prototype.unshift=function(L){return B(this,L,null,!0,!1)},q.prototype.isPaused=function(){return this._readableState.flowing===!1},q.prototype.setEncoding=function(L){return v||(v=e("string_decoder/").StringDecoder),this._readableState.decoder=new v(L),this._readableState.encoding=L,this};function O(L,D){return L<=0||D.length===0&&D.ended?0:D.objectMode?1:L!=L?D.flowing&&D.length?D.buffer.head.data.length:D.length:(L>D.highWaterMark&&(D.highWaterMark=(function(Z){return Z>=8388608?Z=8388608:(Z--,Z|=Z>>>1,Z|=Z>>>2,Z|=Z>>>4,Z|=Z>>>8,Z|=Z>>>16,Z++),Z})(L)),L<=D.length?L:D.ended?D.length:(D.needReadable=!0,0))}function F(L){var D=L._readableState;D.needReadable=!1,D.emittedReadable||(g("emitReadable",D.flowing),D.emittedReadable=!0,D.sync?l.nextTick(W,L):W(L))}function W(L){g("emit readable"),L.emit("readable"),S(L)}function V(L,D){D.readingMore||(D.readingMore=!0,l.nextTick(N,L,D))}function N(L,D){for(var Z=D.length;!D.reading&&!D.flowing&&!D.ended&&D.length<D.highWaterMark&&(g("maybeReadMore read 0"),L.read(0),Z!==D.length);)Z=D.length;D.readingMore=!1}function P(L){g("readable nexttick read 0"),L.read(0)}function C(L,D){D.reading||(g("resume read 0"),L.read(0)),D.resumeScheduled=!1,D.awaitDrain=0,L.emit("resume"),S(L),D.flowing&&!D.reading&&L.read(0)}function S(L){var D=L._readableState;for(g("flow",D.flowing);D.flowing&&L.read()!==null;);}function E(L,D){return D.length===0?null:(D.objectMode?Z=D.buffer.shift():!L||L>=D.length?(Z=D.decoder?D.buffer.join(""):D.buffer.length===1?D.buffer.head.data:D.buffer.concat(D.length),D.buffer.clear()):Z=(function(K,ee,G){var te;return K<ee.head.data.length?(te=ee.head.data.slice(0,K),ee.head.data=ee.head.data.slice(K)):te=K===ee.head.data.length?ee.shift():G?(function(H,U){var Q=U.head,ie=1,re=Q.data;for(H-=re.length;Q=Q.next;){var oe=Q.data,he=H>oe.length?oe.length:H;if(he===oe.length?re+=oe:re+=oe.slice(0,H),(H-=he)===0){he===oe.length?(++ie,Q.next?U.head=Q.next:U.head=U.tail=null):(U.head=Q,Q.data=oe.slice(he));break}++ie}return U.length-=ie,re})(K,ee):(function(H,U){var Q=h.allocUnsafe(H),ie=U.head,re=1;for(ie.data.copy(Q),H-=ie.data.length;ie=ie.next;){var oe=ie.data,he=H>oe.length?oe.length:H;if(oe.copy(Q,Q.length-H,0,he),(H-=he)===0){he===oe.length?(++re,ie.next?U.head=ie.next:U.head=U.tail=null):(U.head=ie,ie.data=oe.slice(he));break}++re}return U.length-=re,Q})(K,ee),te})(L,D.buffer,D.decoder),Z);var Z}function A(L){var D=L._readableState;if(D.length>0)throw new Error('"endReadable()" called on non-empty stream');D.endEmitted||(D.ended=!0,l.nextTick(T,D,L))}function T(L,D){L.endEmitted||L.length!==0||(L.endEmitted=!0,D.readable=!1,D.emit("end"))}function j(L,D){for(var Z=0,K=L.length;Z<K;Z++)if(L[Z]===D)return Z;return-1}q.prototype.read=function(L){g("read",L),L=parseInt(L,10);var D=this._readableState,Z=L;if(L!==0&&(D.emittedReadable=!1),L===0&&D.needReadable&&(D.length>=D.highWaterMark||D.ended))return g("read: emitReadable",D.length,D.ended),D.length===0&&D.ended?A(this):F(this),null;if((L=O(L,D))===0&&D.ended)return D.length===0&&A(this),null;var K,ee=D.needReadable;return g("need readable",ee),(D.length===0||D.length-L<D.highWaterMark)&&g("length less than watermark",ee=!0),D.ended||D.reading?g("reading or ended",ee=!1):ee&&(g("do read"),D.reading=!0,D.sync=!0,D.length===0&&(D.needReadable=!0),this._read(D.highWaterMark),D.sync=!1,D.reading||(L=O(Z,D))),(K=L>0?E(L,D):null)===null?(D.needReadable=!0,L=0):D.length-=L,D.length===0&&(D.ended||(D.needReadable=!0),Z!==L&&D.ended&&A(this)),K!==null&&this.emit("data",K),K},q.prototype._read=function(L){this.emit("error",new Error("_read() is not implemented"))},q.prototype.pipe=function(L,D){var Z=this,K=this._readableState;switch(K.pipesCount){case 0:K.pipes=L;break;case 1:K.pipes=[K.pipes,L];break;default:K.pipes.push(L)}K.pipesCount+=1,g("pipe count=%d opts=%j",K.pipesCount,D);var ee=(!D||D.end!==!1)&&L!==i.stdout&&L!==i.stderr?te:ve;function G(me,ne){g("onunpipe"),me===Z&&ne&&ne.hasUnpiped===!1&&(ne.hasUnpiped=!0,g("cleanup"),L.removeListener("close",oe),L.removeListener("finish",he),L.removeListener("drain",H),L.removeListener("error",re),L.removeListener("unpipe",G),Z.removeListener("end",te),Z.removeListener("end",ve),Z.removeListener("data",ie),U=!0,!K.awaitDrain||L._writableState&&!L._writableState.needDrain||H())}function te(){g("onend"),L.end()}K.endEmitted?l.nextTick(ee):Z.once("end",ee),L.on("unpipe",G);var H=(function(me){return function(){var ne=me._readableState;g("pipeOnDrain",ne.awaitDrain),ne.awaitDrain&&ne.awaitDrain--,ne.awaitDrain===0&&u(me,"data")&&(ne.flowing=!0,S(me))}})(Z);L.on("drain",H);var U=!1,Q=!1;function ie(me){g("ondata"),Q=!1,L.write(me)!==!1||Q||((K.pipesCount===1&&K.pipes===L||K.pipesCount>1&&j(K.pipes,L)!==-1)&&!U&&(g("false write response, pause",K.awaitDrain),K.awaitDrain++,Q=!0),Z.pause())}function re(me){g("onerror",me),ve(),L.removeListener("error",re),u(L,"error")===0&&L.emit("error",me)}function oe(){L.removeListener("finish",he),ve()}function he(){g("onfinish"),L.removeListener("close",oe),ve()}function ve(){g("unpipe"),Z.unpipe(L)}return Z.on("data",ie),(function(me,ne,de){if(typeof me.prependListener=="function")return me.prependListener(ne,de);me._events&&me._events[ne]?o(me._events[ne])?me._events[ne].unshift(de):me._events[ne]=[de,me._events[ne]]:me.on(ne,de)})(L,"error",re),L.once("close",oe),L.once("finish",he),L.emit("pipe",Z),K.flowing||(g("pipe resume"),Z.resume()),L},q.prototype.unpipe=function(L){var D=this._readableState,Z={hasUnpiped:!1};if(D.pipesCount===0)return this;if(D.pipesCount===1)return L&&L!==D.pipes||(L||(L=D.pipes),D.pipes=null,D.pipesCount=0,D.flowing=!1,L&&L.emit("unpipe",this,Z)),this;if(!L){var K=D.pipes,ee=D.pipesCount;D.pipes=null,D.pipesCount=0,D.flowing=!1;for(var G=0;G<ee;G++)K[G].emit("unpipe",this,{hasUnpiped:!1});return this}var te=j(D.pipes,L);return te===-1||(D.pipes.splice(te,1),D.pipesCount-=1,D.pipesCount===1&&(D.pipes=D.pipes[0]),L.emit("unpipe",this,Z)),this},q.prototype.on=function(L,D){var Z=p.prototype.on.call(this,L,D);if(L==="data")this._readableState.flowing!==!1&&this.resume();else if(L==="readable"){var K=this._readableState;K.endEmitted||K.readableListening||(K.readableListening=K.needReadable=!0,K.emittedReadable=!1,K.reading?K.length&&F(this):l.nextTick(P,this))}return Z},q.prototype.addListener=q.prototype.on,q.prototype.resume=function(){var L=this._readableState;return L.flowing||(g("resume"),L.flowing=!0,(function(D,Z){Z.resumeScheduled||(Z.resumeScheduled=!0,l.nextTick(C,D,Z))})(this,L)),this},q.prototype.pause=function(){return g("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(g("pause"),this._readableState.flowing=!1,this.emit("pause")),this},q.prototype.wrap=function(L){var D=this,Z=this._readableState,K=!1;for(var ee in L.on("end",(function(){if(g("wrapped end"),Z.decoder&&!Z.ended){var te=Z.decoder.end();te&&te.length&&D.push(te)}D.push(null)})),L.on("data",(function(te){g("wrapped data"),Z.decoder&&(te=Z.decoder.write(te)),Z.objectMode&&te==null||(Z.objectMode||te&&te.length)&&(D.push(te)||(K=!0,L.pause()))})),L)this[ee]===void 0&&typeof L[ee]=="function"&&(this[ee]=(function(te){return function(){return L[te].apply(L,arguments)}})(ee));for(var G=0;G<R.length;G++)L.on(R[G],this.emit.bind(this,R[G]));return this._read=function(te){g("wrapped _read",te),K&&(K=!1,L.resume())},this},Object.defineProperty(q.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),q._fromList=E}).call(this)}).call(this,e("_process"),typeof pr<"u"?pr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(e,n,s){n.exports=c;var i=e("./_stream_duplex"),a=Object.create(e("core-util-is"));function l(p,h){var d=this._transformState;d.transforming=!1;var b=d.writecb;if(!b)return this.emit("error",new Error("write callback called multiple times"));d.writechunk=null,d.writecb=null,h!=null&&this.push(h),b(p);var x=this._readableState;x.reading=!1,(x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}function c(p){if(!(this instanceof c))return new c(p);i.call(this,p),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,p&&(typeof p.transform=="function"&&(this._transform=p.transform),typeof p.flush=="function"&&(this._flush=p.flush)),this.on("prefinish",o)}function o(){var p=this;typeof this._flush=="function"?this._flush((function(h,d){u(p,h,d)})):u(this,null,null)}function u(p,h,d){if(h)return p.emit("error",h);if(d!=null&&p.push(d),p._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(p._transformState.transforming)throw new Error("Calling transform done when still transforming");return p.push(null)}a.inherits=e("inherits"),a.inherits(c,i),c.prototype.push=function(p,h){return this._transformState.needTransform=!1,i.prototype.push.call(this,p,h)},c.prototype._transform=function(p,h,d){throw new Error("_transform() is not implemented")},c.prototype._write=function(p,h,d){var b=this._transformState;if(b.writecb=d,b.writechunk=p,b.writeencoding=h,!b.transforming){var x=this._readableState;(b.needTransform||x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}},c.prototype._read=function(p){var h=this._transformState;h.writechunk!==null&&h.writecb&&!h.transforming?(h.transforming=!0,this._transform(h.writechunk,h.writeencoding,h.afterTransform)):h.needTransform=!0},c.prototype._destroy=function(p,h){var d=this;i.prototype._destroy.call(this,p,(function(b){h(b),d.emit("close")}))}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(e,n,s){(function(i,a,l){(function(){var c=e("process-nextick-args");function o(V){var N=this;this.next=null,this.entry=null,this.finish=function(){(function(P,C,S){var E=P.entry;for(P.entry=null;E;){var A=E.callback;C.pendingcb--,A(S),E=E.next}C.corkedRequestsFree.next=P})(N,V)}}n.exports=z;var u,p=!i.browser&&["v0.10","v0.9."].indexOf(i.version.slice(0,5))>-1?l:c.nextTick;z.WritableState=R;var h=Object.create(e("core-util-is"));h.inherits=e("inherits");var d={deprecate:e("util-deprecate")},b=e("./internal/streams/stream"),x=e("safe-buffer").Buffer,g=(a!==void 0?a:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},v,y=e("./internal/streams/destroy");function k(){}function R(V,N){u=u||e("./_stream_duplex"),V=V||{};var P=N instanceof u;this.objectMode=!!V.objectMode,P&&(this.objectMode=this.objectMode||!!V.writableObjectMode);var C=V.highWaterMark,S=V.writableHighWaterMark,E=this.objectMode?16:16384;this.highWaterMark=C||C===0?C:P&&(S||S===0)?S:E,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var A=V.decodeStrings===!1;this.decodeStrings=!A,this.defaultEncoding=V.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(T){(function(j,L){var D=j._writableState,Z=D.sync,K=D.writecb;if((function(G){G.writing=!1,G.writecb=null,G.length-=G.writelen,G.writelen=0})(D),L)(function(G,te,H,U,Q){--te.pendingcb,H?(c.nextTick(Q,U),c.nextTick(W,G,te),G._writableState.errorEmitted=!0,G.emit("error",U)):(Q(U),G._writableState.errorEmitted=!0,G.emit("error",U),W(G,te))})(j,D,Z,L,K);else{var ee=O(D);ee||D.corked||D.bufferProcessing||!D.bufferedRequest||I(j,D),Z?p(B,j,D,ee,K):B(j,D,ee,K)}})(N,T)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function z(V){if(u=u||e("./_stream_duplex"),!(v.call(z,this)||this instanceof u))return new z(V);this._writableState=new R(V,this),this.writable=!0,V&&(typeof V.write=="function"&&(this._write=V.write),typeof V.writev=="function"&&(this._writev=V.writev),typeof V.destroy=="function"&&(this._destroy=V.destroy),typeof V.final=="function"&&(this._final=V.final)),b.call(this)}function q(V,N,P,C,S,E,A){N.writelen=C,N.writecb=A,N.writing=!0,N.sync=!0,P?V._writev(S,N.onwrite):V._write(S,E,N.onwrite),N.sync=!1}function B(V,N,P,C){P||(function(S,E){E.length===0&&E.needDrain&&(E.needDrain=!1,S.emit("drain"))})(V,N),N.pendingcb--,C(),W(V,N)}function I(V,N){N.bufferProcessing=!0;var P=N.bufferedRequest;if(V._writev&&P&&P.next){var C=N.bufferedRequestCount,S=new Array(C),E=N.corkedRequestsFree;E.entry=P;for(var A=0,T=!0;P;)S[A]=P,P.isBuf||(T=!1),P=P.next,A+=1;S.allBuffers=T,q(V,N,!0,N.length,S,"",E.finish),N.pendingcb++,N.lastBufferedRequest=null,E.next?(N.corkedRequestsFree=E.next,E.next=null):N.corkedRequestsFree=new o(N),N.bufferedRequestCount=0}else{for(;P;){var j=P.chunk,L=P.encoding,D=P.callback;if(q(V,N,!1,N.objectMode?1:j.length,j,L,D),P=P.next,N.bufferedRequestCount--,N.writing)break}P===null&&(N.lastBufferedRequest=null)}N.bufferedRequest=P,N.bufferProcessing=!1}function O(V){return V.ending&&V.length===0&&V.bufferedRequest===null&&!V.finished&&!V.writing}function F(V,N){V._final((function(P){N.pendingcb--,P&&V.emit("error",P),N.prefinished=!0,V.emit("prefinish"),W(V,N)}))}function W(V,N){var P=O(N);return P&&((function(C,S){S.prefinished||S.finalCalled||(typeof C._final=="function"?(S.pendingcb++,S.finalCalled=!0,c.nextTick(F,C,S)):(S.prefinished=!0,C.emit("prefinish")))})(V,N),N.pendingcb===0&&(N.finished=!0,V.emit("finish"))),P}h.inherits(z,b),R.prototype.getBuffer=function(){for(var V=this.bufferedRequest,N=[];V;)N.push(V),V=V.next;return N},(function(){try{Object.defineProperty(R.prototype,"buffer",{get:d.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(v=Function.prototype[Symbol.hasInstance],Object.defineProperty(z,Symbol.hasInstance,{value:function(V){return!!v.call(this,V)||this===z&&V&&V._writableState instanceof R}})):v=function(V){return V instanceof this},z.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},z.prototype.write=function(V,N,P){var C,S=this._writableState,E=!1,A=!S.objectMode&&(C=V,x.isBuffer(C)||C instanceof g);return A&&!x.isBuffer(V)&&(V=(function(T){return x.from(T)})(V)),typeof N=="function"&&(P=N,N=null),A?N="buffer":N||(N=S.defaultEncoding),typeof P!="function"&&(P=k),S.ended?(function(T,j){var L=new Error("write after end");T.emit("error",L),c.nextTick(j,L)})(this,P):(A||(function(T,j,L,D){var Z=!0,K=!1;return L===null?K=new TypeError("May not write null values to stream"):typeof L=="string"||L===void 0||j.objectMode||(K=new TypeError("Invalid non-string/buffer chunk")),K&&(T.emit("error",K),c.nextTick(D,K),Z=!1),Z})(this,S,V,P))&&(S.pendingcb++,E=(function(T,j,L,D,Z,K){if(!L){var ee=(function(U,Q,ie){return U.objectMode||U.decodeStrings===!1||typeof Q!="string"||(Q=x.from(Q,ie)),Q})(j,D,Z);D!==ee&&(L=!0,Z="buffer",D=ee)}var G=j.objectMode?1:D.length;j.length+=G;var te=j.length<j.highWaterMark;if(te||(j.needDrain=!0),j.writing||j.corked){var H=j.lastBufferedRequest;j.lastBufferedRequest={chunk:D,encoding:Z,isBuf:L,callback:K,next:null},H?H.next=j.lastBufferedRequest:j.bufferedRequest=j.lastBufferedRequest,j.bufferedRequestCount+=1}else q(T,j,!1,G,D,Z,K);return te})(this,S,A,V,N,P)),E},z.prototype.cork=function(){this._writableState.corked++},z.prototype.uncork=function(){var V=this._writableState;V.corked&&(V.corked--,V.writing||V.corked||V.bufferProcessing||!V.bufferedRequest||I(this,V))},z.prototype.setDefaultEncoding=function(V){if(typeof V=="string"&&(V=V.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((V+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+V);return this._writableState.defaultEncoding=V,this},Object.defineProperty(z.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),z.prototype._write=function(V,N,P){P(new Error("_write() is not implemented"))},z.prototype._writev=null,z.prototype.end=function(V,N,P){var C=this._writableState;typeof V=="function"?(P=V,V=null,N=null):typeof N=="function"&&(P=N,N=null),V!=null&&this.write(V,N),C.corked&&(C.corked=1,this.uncork()),C.ending||(function(S,E,A){E.ending=!0,W(S,E),A&&(E.finished?c.nextTick(A):S.once("finish",A)),E.ended=!0,S.writable=!1})(this,C,P)},Object.defineProperty(z.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(V){this._writableState&&(this._writableState.destroyed=V)}}),z.prototype.destroy=y.destroy,z.prototype._undestroy=y.undestroy,z.prototype._destroy=function(V,N){this.end(),N(V)}}).call(this)}).call(this,e("_process"),typeof pr<"u"?pr:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(e,n,s){var i=e("safe-buffer").Buffer,a=e("util");n.exports=(function(){function l(){(function(c,o){if(!(c instanceof o))throw new TypeError("Cannot call a class as a function")})(this,l),this.head=null,this.tail=null,this.length=0}return l.prototype.push=function(c){var o={data:c,next:null};this.length>0?this.tail.next=o:this.head=o,this.tail=o,++this.length},l.prototype.unshift=function(c){var o={data:c,next:this.head};this.length===0&&(this.tail=o),this.head=o,++this.length},l.prototype.shift=function(){if(this.length!==0){var c=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,c}},l.prototype.clear=function(){this.head=this.tail=null,this.length=0},l.prototype.join=function(c){if(this.length===0)return"";for(var o=this.head,u=""+o.data;o=o.next;)u+=c+o.data;return u},l.prototype.concat=function(c){if(this.length===0)return i.alloc(0);for(var o,u,p,h=i.allocUnsafe(c>>>0),d=this.head,b=0;d;)o=d.data,u=h,p=b,o.copy(u,p),b+=d.data.length,d=d.next;return h},l})(),a&&a.inspect&&a.inspect.custom&&(n.exports.prototype[a.inspect.custom]=function(){var l=a.inspect({length:this.length});return this.constructor.name+" "+l})},{"safe-buffer":520,util:188}],514:[function(e,n,s){var i=e("process-nextick-args");function a(l,c){l.emit("error",c)}n.exports={destroy:function(l,c){var o=this,u=this._readableState&&this._readableState.destroyed,p=this._writableState&&this._writableState.destroyed;return u||p?(c?c(l):l&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(a,this,l)):i.nextTick(a,this,l)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(l||null,(function(h){!c&&h?o._writableState?o._writableState.errorEmitted||(o._writableState.errorEmitted=!0,i.nextTick(a,o,h)):i.nextTick(a,o,h):c&&c(h)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(e,n,s){arguments[4][490][0].apply(s,arguments)},{dup:490,events:422}],516:[function(e,n,s){n.exports=e("./readable").PassThrough},{"./readable":517}],517:[function(e,n,s){(s=n.exports=e("./lib/_stream_readable.js")).Stream=s,s.Readable=s,s.Writable=e("./lib/_stream_writable.js"),s.Duplex=e("./lib/_stream_duplex.js"),s.Transform=e("./lib/_stream_transform.js"),s.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(e,n,s){n.exports=e("./readable").Transform},{"./readable":517}],519:[function(e,n,s){n.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(e,n,s){arguments[4][217][0].apply(s,arguments)},{buffer:220,dup:217}],521:[function(e,n,s){arguments[4][218][0].apply(s,arguments)},{dup:218,"safe-buffer":520}],522:[function(e,n,s){arguments[4][218][0].apply(s,arguments)},{dup:218,"safe-buffer":494}],523:[function(e,n,s){(function(i,a){(function(){var l=e("process/browser.js").nextTick,c=Function.prototype.apply,o=Array.prototype.slice,u={},p=0;function h(d,b){this._id=d,this._clearFn=b}s.setTimeout=function(){return new h(c.call(setTimeout,window,arguments),clearTimeout)},s.setInterval=function(){return new h(c.call(setInterval,window,arguments),clearInterval)},s.clearTimeout=s.clearInterval=function(d){d.close()},h.prototype.unref=h.prototype.ref=function(){},h.prototype.close=function(){this._clearFn.call(window,this._id)},s.enroll=function(d,b){clearTimeout(d._idleTimeoutId),d._idleTimeout=b},s.unenroll=function(d){clearTimeout(d._idleTimeoutId),d._idleTimeout=-1},s._unrefActive=s.active=function(d){clearTimeout(d._idleTimeoutId);var b=d._idleTimeout;b>=0&&(d._idleTimeoutId=setTimeout((function(){d._onTimeout&&d._onTimeout()}),b))},s.setImmediate=typeof i=="function"?i:function(d){var b=p++,x=!(arguments.length<2)&&o.call(arguments,1);return u[b]=!0,l((function(){u[b]&&(x?d.apply(null,x):d.call(null),s.clearImmediate(b))})),b},s.clearImmediate=typeof a=="function"?a:function(d){delete u[d]}}).call(this)}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(e,n,s){(function(i){(function(){function a(l){try{if(!i.localStorage)return!1}catch{return!1}var c=i.localStorage[l];return c!=null&&String(c).toLowerCase()==="true"}n.exports=function(l,c){if(a("noDeprecation"))return l;var o=!1;return function(){if(!o){if(a("throwDeprecation"))throw new Error(c);a("traceDeprecation")?console.trace(c):console.warn(c),o=!0}return l.apply(this,arguments)}}}).call(this)}).call(this,typeof pr<"u"?pr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(e,n,s){typeof Object.create=="function"?n.exports=function(i,a){i.super_=a,i.prototype=Object.create(a.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}})}:n.exports=function(i,a){i.super_=a;var l=function(){};l.prototype=a.prototype,i.prototype=new l,i.prototype.constructor=i}},{}],526:[function(e,n,s){n.exports=function(i){return i&&typeof i=="object"&&typeof i.copy=="function"&&typeof i.fill=="function"&&typeof i.readUInt8=="function"}},{}],527:[function(e,n,s){(function(i,a){(function(){var l=/%[sdj%]/g;s.format=function(S){if(!R(S)){for(var E=[],A=0;A<arguments.length;A++)E.push(u(arguments[A]));return E.join(" ")}A=1;for(var T=arguments,j=T.length,L=String(S).replace(l,(function(Z){if(Z==="%%")return"%";if(A>=j)return Z;switch(Z){case"%s":return String(T[A++]);case"%d":return Number(T[A++]);case"%j":try{return JSON.stringify(T[A++])}catch{return"[Circular]"}default:return Z}})),D=T[A];A<j;D=T[++A])y(D)||!B(D)?L+=" "+D:L+=" "+u(D);return L},s.deprecate=function(S,E){if(z(a.process))return function(){return s.deprecate(S,E).apply(this,arguments)};if(i.noDeprecation===!0)return S;var A=!1;return function(){if(!A){if(i.throwDeprecation)throw new Error(E);i.traceDeprecation?console.trace(E):console.error(E),A=!0}return S.apply(this,arguments)}};var c,o={};function u(S,E){var A={seen:[],stylize:h};return arguments.length>=3&&(A.depth=arguments[2]),arguments.length>=4&&(A.colors=arguments[3]),v(E)?A.showHidden=E:E&&s._extend(A,E),z(A.showHidden)&&(A.showHidden=!1),z(A.depth)&&(A.depth=2),z(A.colors)&&(A.colors=!1),z(A.customInspect)&&(A.customInspect=!0),A.colors&&(A.stylize=p),d(A,S,A.depth)}function p(S,E){var A=u.styles[E];return A?"\x1B["+u.colors[A][0]+"m"+S+"\x1B["+u.colors[A][1]+"m":S}function h(S,E){return S}function d(S,E,A){if(S.customInspect&&E&&F(E.inspect)&&E.inspect!==s.inspect&&(!E.constructor||E.constructor.prototype!==E)){var T=E.inspect(A,S);return R(T)||(T=d(S,T,A)),T}var j=(function(H,U){if(z(U))return H.stylize("undefined","undefined");if(R(U)){var Q="'"+JSON.stringify(U).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return H.stylize(Q,"string")}if(k(U))return H.stylize(""+U,"number");if(v(U))return H.stylize(""+U,"boolean");if(y(U))return H.stylize("null","null")})(S,E);if(j)return j;var L=Object.keys(E),D=(function(H){var U={};return H.forEach((function(Q,ie){U[Q]=!0})),U})(L);if(S.showHidden&&(L=Object.getOwnPropertyNames(E)),O(E)&&(L.indexOf("message")>=0||L.indexOf("description")>=0))return b(E);if(L.length===0){if(F(E)){var Z=E.name?": "+E.name:"";return S.stylize("[Function"+Z+"]","special")}if(q(E))return S.stylize(RegExp.prototype.toString.call(E),"regexp");if(I(E))return S.stylize(Date.prototype.toString.call(E),"date");if(O(E))return b(E)}var K,ee="",G=!1,te=["{","}"];return g(E)&&(G=!0,te=["[","]"]),F(E)&&(ee=" [Function"+(E.name?": "+E.name:"")+"]"),q(E)&&(ee=" "+RegExp.prototype.toString.call(E)),I(E)&&(ee=" "+Date.prototype.toUTCString.call(E)),O(E)&&(ee=" "+b(E)),L.length!==0||G&&E.length!=0?A<0?q(E)?S.stylize(RegExp.prototype.toString.call(E),"regexp"):S.stylize("[Object]","special"):(S.seen.push(E),K=G?(function(H,U,Q,ie,re){for(var oe=[],he=0,ve=U.length;he<ve;++he)C(U,String(he))?oe.push(x(H,U,Q,ie,String(he),!0)):oe.push("");return re.forEach((function(me){me.match(/^\d+$/)||oe.push(x(H,U,Q,ie,me,!0))})),oe})(S,E,A,D,L):L.map((function(H){return x(S,E,A,D,H,G)})),S.seen.pop(),(function(H,U,Q){return H.reduce((function(ie,re){return re.indexOf(`
`)>=0,ie+re.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?Q[0]+(U===""?"":U+`
 `)+" "+H.join(`,
  `)+" "+Q[1]:Q[0]+U+" "+H.join(", ")+" "+Q[1]})(K,ee,te)):te[0]+ee+te[1]}function b(S){return"["+Error.prototype.toString.call(S)+"]"}function x(S,E,A,T,j,L){var D,Z,K;if((K=Object.getOwnPropertyDescriptor(E,j)||{value:E[j]}).get?Z=K.set?S.stylize("[Getter/Setter]","special"):S.stylize("[Getter]","special"):K.set&&(Z=S.stylize("[Setter]","special")),C(T,j)||(D="["+j+"]"),Z||(S.seen.indexOf(K.value)<0?(Z=y(A)?d(S,K.value,null):d(S,K.value,A-1)).indexOf(`
`)>-1&&(Z=L?Z.split(`
`).map((function(ee){return"  "+ee})).join(`
`).substr(2):`
`+Z.split(`
`).map((function(ee){return"   "+ee})).join(`
`)):Z=S.stylize("[Circular]","special")),z(D)){if(L&&j.match(/^\d+$/))return Z;(D=JSON.stringify(""+j)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(D=D.substr(1,D.length-2),D=S.stylize(D,"name")):(D=D.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),D=S.stylize(D,"string"))}return D+": "+Z}function g(S){return Array.isArray(S)}function v(S){return typeof S=="boolean"}function y(S){return S===null}function k(S){return typeof S=="number"}function R(S){return typeof S=="string"}function z(S){return S===void 0}function q(S){return B(S)&&W(S)==="[object RegExp]"}function B(S){return typeof S=="object"&&S!==null}function I(S){return B(S)&&W(S)==="[object Date]"}function O(S){return B(S)&&(W(S)==="[object Error]"||S instanceof Error)}function F(S){return typeof S=="function"}function W(S){return Object.prototype.toString.call(S)}function V(S){return S<10?"0"+S.toString(10):S.toString(10)}s.debuglog=function(S){if(z(c)&&(c=i.env.NODE_DEBUG||""),S=S.toUpperCase(),!o[S])if(new RegExp("\\b"+S+"\\b","i").test(c)){var E=i.pid;o[S]=function(){var A=s.format.apply(s,arguments);console.error("%s %d: %s",S,E,A)}}else o[S]=function(){};return o[S]},s.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},s.isArray=g,s.isBoolean=v,s.isNull=y,s.isNullOrUndefined=function(S){return S==null},s.isNumber=k,s.isString=R,s.isSymbol=function(S){return typeof S=="symbol"},s.isUndefined=z,s.isRegExp=q,s.isObject=B,s.isDate=I,s.isError=O,s.isFunction=F,s.isPrimitive=function(S){return S===null||typeof S=="boolean"||typeof S=="number"||typeof S=="string"||typeof S=="symbol"||S===void 0},s.isBuffer=e("./support/isBuffer");var N=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function P(){var S=new Date,E=[V(S.getHours()),V(S.getMinutes()),V(S.getSeconds())].join(":");return[S.getDate(),N[S.getMonth()],E].join(" ")}function C(S,E){return Object.prototype.hasOwnProperty.call(S,E)}s.log=function(){console.log("%s - %s",P(),s.format.apply(s,arguments))},s.inherits=e("inherits"),s._extend=function(S,E){if(!E||!B(E))return S;for(var A=Object.keys(E),T=A.length;T--;)S[A[T]]=E[A[T]];return S}}).call(this)}).call(this,e("_process"),typeof pr<"u"?pr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"v1",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(s,"v3",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(s,"v4",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(s,"v5",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(s,"NIL",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(s,"version",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(s,"validate",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(s,"stringify",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(s,"parse",{enumerable:!0,get:function(){return d.default}});var i=b(e("./v1.js")),a=b(e("./v3.js")),l=b(e("./v4.js")),c=b(e("./v5.js")),o=b(e("./nil.js")),u=b(e("./version.js")),p=b(e("./validate.js")),h=b(e("./stringify.js")),d=b(e("./parse.js"));function b(x){return x&&x.__esModule?x:{default:x}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(e,n,s){function i(d){return 14+(d+64>>>9<<4)+1}function a(d,b){const x=(65535&d)+(65535&b);return(d>>16)+(b>>16)+(x>>16)<<16|65535&x}function l(d,b,x,g,v,y){return a((k=a(a(b,d),a(g,y)))<<(R=v)|k>>>32-R,x);var k,R}function c(d,b,x,g,v,y,k){return l(b&x|~b&g,d,b,v,y,k)}function o(d,b,x,g,v,y,k){return l(b&g|x&~g,d,b,v,y,k)}function u(d,b,x,g,v,y,k){return l(b^x^g,d,b,v,y,k)}function p(d,b,x,g,v,y,k){return l(x^(b|~g),d,b,v,y,k)}Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var h=function(d){if(typeof d=="string"){const b=unescape(encodeURIComponent(d));d=new Uint8Array(b.length);for(let x=0;x<b.length;++x)d[x]=b.charCodeAt(x)}return(function(b){const x=[],g=32*b.length;for(let v=0;v<g;v+=8){const y=b[v>>5]>>>v%32&255,k=parseInt("0123456789abcdef".charAt(y>>>4&15)+"0123456789abcdef".charAt(15&y),16);x.push(k)}return x})((function(b,x){b[x>>5]|=128<<x%32,b[i(x)-1]=x;let g=1732584193,v=-271733879,y=-1732584194,k=271733878;for(let R=0;R<b.length;R+=16){const z=g,q=v,B=y,I=k;g=c(g,v,y,k,b[R],7,-680876936),k=c(k,g,v,y,b[R+1],12,-389564586),y=c(y,k,g,v,b[R+2],17,606105819),v=c(v,y,k,g,b[R+3],22,-1044525330),g=c(g,v,y,k,b[R+4],7,-176418897),k=c(k,g,v,y,b[R+5],12,1200080426),y=c(y,k,g,v,b[R+6],17,-1473231341),v=c(v,y,k,g,b[R+7],22,-45705983),g=c(g,v,y,k,b[R+8],7,1770035416),k=c(k,g,v,y,b[R+9],12,-1958414417),y=c(y,k,g,v,b[R+10],17,-42063),v=c(v,y,k,g,b[R+11],22,-1990404162),g=c(g,v,y,k,b[R+12],7,1804603682),k=c(k,g,v,y,b[R+13],12,-40341101),y=c(y,k,g,v,b[R+14],17,-1502002290),v=c(v,y,k,g,b[R+15],22,1236535329),g=o(g,v,y,k,b[R+1],5,-165796510),k=o(k,g,v,y,b[R+6],9,-1069501632),y=o(y,k,g,v,b[R+11],14,643717713),v=o(v,y,k,g,b[R],20,-373897302),g=o(g,v,y,k,b[R+5],5,-701558691),k=o(k,g,v,y,b[R+10],9,38016083),y=o(y,k,g,v,b[R+15],14,-660478335),v=o(v,y,k,g,b[R+4],20,-405537848),g=o(g,v,y,k,b[R+9],5,568446438),k=o(k,g,v,y,b[R+14],9,-1019803690),y=o(y,k,g,v,b[R+3],14,-187363961),v=o(v,y,k,g,b[R+8],20,1163531501),g=o(g,v,y,k,b[R+13],5,-1444681467),k=o(k,g,v,y,b[R+2],9,-51403784),y=o(y,k,g,v,b[R+7],14,1735328473),v=o(v,y,k,g,b[R+12],20,-1926607734),g=u(g,v,y,k,b[R+5],4,-378558),k=u(k,g,v,y,b[R+8],11,-2022574463),y=u(y,k,g,v,b[R+11],16,1839030562),v=u(v,y,k,g,b[R+14],23,-35309556),g=u(g,v,y,k,b[R+1],4,-1530992060),k=u(k,g,v,y,b[R+4],11,1272893353),y=u(y,k,g,v,b[R+7],16,-155497632),v=u(v,y,k,g,b[R+10],23,-1094730640),g=u(g,v,y,k,b[R+13],4,681279174),k=u(k,g,v,y,b[R],11,-358537222),y=u(y,k,g,v,b[R+3],16,-722521979),v=u(v,y,k,g,b[R+6],23,76029189),g=u(g,v,y,k,b[R+9],4,-640364487),k=u(k,g,v,y,b[R+12],11,-421815835),y=u(y,k,g,v,b[R+15],16,530742520),v=u(v,y,k,g,b[R+2],23,-995338651),g=p(g,v,y,k,b[R],6,-198630844),k=p(k,g,v,y,b[R+7],10,1126891415),y=p(y,k,g,v,b[R+14],15,-1416354905),v=p(v,y,k,g,b[R+5],21,-57434055),g=p(g,v,y,k,b[R+12],6,1700485571),k=p(k,g,v,y,b[R+3],10,-1894986606),y=p(y,k,g,v,b[R+10],15,-1051523),v=p(v,y,k,g,b[R+1],21,-2054922799),g=p(g,v,y,k,b[R+8],6,1873313359),k=p(k,g,v,y,b[R+15],10,-30611744),y=p(y,k,g,v,b[R+6],15,-1560198380),v=p(v,y,k,g,b[R+13],21,1309151649),g=p(g,v,y,k,b[R+4],6,-145523070),k=p(k,g,v,y,b[R+11],10,-1120210379),y=p(y,k,g,v,b[R+2],15,718787259),v=p(v,y,k,g,b[R+9],21,-343485551),g=a(g,z),v=a(v,q),y=a(y,B),k=a(k,I)}return[g,v,y,k]})((function(b){if(b.length===0)return[];const x=8*b.length,g=new Uint32Array(i(x));for(let v=0;v<x;v+=8)g[v>>5]|=(255&b[v/8])<<v%32;return g})(d),8*d.length))};s.default=h},{}],530:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,s.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i,a=(i=e("./validate.js"))&&i.__esModule?i:{default:i},l=function(c){if(!(0,a.default)(c))throw TypeError("Invalid UUID");let o;const u=new Uint8Array(16);return u[0]=(o=parseInt(c.slice(0,8),16))>>>24,u[1]=o>>>16&255,u[2]=o>>>8&255,u[3]=255&o,u[4]=(o=parseInt(c.slice(9,13),16))>>>8,u[5]=255&o,u[6]=(o=parseInt(c.slice(14,18),16))>>>8,u[7]=255&o,u[8]=(o=parseInt(c.slice(19,23),16))>>>8,u[9]=255&o,u[10]=(o=parseInt(c.slice(24,36),16))/1099511627776&255,u[11]=o/4294967296&255,u[12]=o>>>24&255,u[13]=o>>>16&255,u[14]=o>>>8&255,u[15]=255&o,u};s.default=l},{"./validate.js":541}],532:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,s.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(e,n,s){let i;Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(){if(!i&&(i=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!i))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(a)};const a=new Uint8Array(16)},{}],534:[function(e,n,s){function i(c,o,u,p){switch(c){case 0:return o&u^~o&p;case 1:return o^u^p;case 2:return o&u^o&p^u&p;case 3:return o^u^p}}function a(c,o){return c<<o|c>>>32-o}Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var l=function(c){const o=[1518500249,1859775393,2400959708,3395469782],u=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof c=="string"){const b=unescape(encodeURIComponent(c));c=[];for(let x=0;x<b.length;++x)c.push(b.charCodeAt(x))}else Array.isArray(c)||(c=Array.prototype.slice.call(c));c.push(128);const p=c.length/4+2,h=Math.ceil(p/16),d=new Array(h);for(let b=0;b<h;++b){const x=new Uint32Array(16);for(let g=0;g<16;++g)x[g]=c[64*b+4*g]<<24|c[64*b+4*g+1]<<16|c[64*b+4*g+2]<<8|c[64*b+4*g+3];d[b]=x}d[h-1][14]=8*(c.length-1)/Math.pow(2,32),d[h-1][14]=Math.floor(d[h-1][14]),d[h-1][15]=8*(c.length-1)&4294967295;for(let b=0;b<h;++b){const x=new Uint32Array(80);for(let z=0;z<16;++z)x[z]=d[b][z];for(let z=16;z<80;++z)x[z]=a(x[z-3]^x[z-8]^x[z-14]^x[z-16],1);let g=u[0],v=u[1],y=u[2],k=u[3],R=u[4];for(let z=0;z<80;++z){const q=Math.floor(z/20),B=a(g,5)+i(q,v,y,k)+R+o[q]+x[z]>>>0;R=k,k=y,y=a(v,30)>>>0,v=g,g=B}u[0]=u[0]+g>>>0,u[1]=u[1]+v>>>0,u[2]=u[2]+y>>>0,u[3]=u[3]+k>>>0,u[4]=u[4]+R>>>0}return[u[0]>>24&255,u[0]>>16&255,u[0]>>8&255,255&u[0],u[1]>>24&255,u[1]>>16&255,u[1]>>8&255,255&u[1],u[2]>>24&255,u[2]>>16&255,u[2]>>8&255,255&u[2],u[3]>>24&255,u[3]>>16&255,u[3]>>8&255,255&u[3],u[4]>>24&255,u[4]>>16&255,u[4]>>8&255,255&u[4]]};s.default=l},{}],535:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i,a=(i=e("./validate.js"))&&i.__esModule?i:{default:i};const l=[];for(let o=0;o<256;++o)l.push((o+256).toString(16).substr(1));var c=function(o){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const p=(l[o[u+0]]+l[o[u+1]]+l[o[u+2]]+l[o[u+3]]+"-"+l[o[u+4]]+l[o[u+5]]+"-"+l[o[u+6]]+l[o[u+7]]+"-"+l[o[u+8]]+l[o[u+9]]+"-"+l[o[u+10]]+l[o[u+11]]+l[o[u+12]]+l[o[u+13]]+l[o[u+14]]+l[o[u+15]]).toLowerCase();if(!(0,a.default)(p))throw TypeError("Stringified UUID is invalid");return p};s.default=c},{"./validate.js":541}],536:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=l(e("./rng.js")),a=l(e("./stringify.js"));function l(d){return d&&d.__esModule?d:{default:d}}let c,o,u=0,p=0;var h=function(d,b,x){let g=b&&x||0;const v=b||new Array(16);let y=(d=d||{}).node||c,k=d.clockseq!==void 0?d.clockseq:o;if(y==null||k==null){const O=d.random||(d.rng||i.default)();y==null&&(y=c=[1|O[0],O[1],O[2],O[3],O[4],O[5]]),k==null&&(k=o=16383&(O[6]<<8|O[7]))}let R=d.msecs!==void 0?d.msecs:Date.now(),z=d.nsecs!==void 0?d.nsecs:p+1;const q=R-u+(z-p)/1e4;if(q<0&&d.clockseq===void 0&&(k=k+1&16383),(q<0||R>u)&&d.nsecs===void 0&&(z=0),z>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=R,p=z,o=k,R+=122192928e5;const B=(1e4*(268435455&R)+z)%4294967296;v[g++]=B>>>24&255,v[g++]=B>>>16&255,v[g++]=B>>>8&255,v[g++]=255&B;const I=R/4294967296*1e4&268435455;v[g++]=I>>>8&255,v[g++]=255&I,v[g++]=I>>>24&15|16,v[g++]=I>>>16&255,v[g++]=k>>>8|128,v[g++]=255&k;for(let O=0;O<6;++O)v[g+O]=y[O];return b||(0,a.default)(v)};s.default=h},{"./rng.js":533,"./stringify.js":535}],537:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=l(e("./v35.js")),a=l(e("./md5.js"));function l(o){return o&&o.__esModule?o:{default:o}}var c=(0,i.default)("v3",48,a.default);s.default=c},{"./md5.js":529,"./v35.js":538}],538:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(u,p,h){function d(b,x,g,v){if(typeof b=="string"&&(b=(function(k){k=unescape(encodeURIComponent(k));const R=[];for(let z=0;z<k.length;++z)R.push(k.charCodeAt(z));return R})(b)),typeof x=="string"&&(x=(0,a.default)(x)),x.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let y=new Uint8Array(16+b.length);if(y.set(x),y.set(b,x.length),y=h(y),y[6]=15&y[6]|p,y[8]=63&y[8]|128,g){v=v||0;for(let k=0;k<16;++k)g[v+k]=y[k];return g}return(0,i.default)(y)}try{d.name=u}catch{}return d.DNS=c,d.URL=o,d},s.URL=s.DNS=void 0;var i=l(e("./stringify.js")),a=l(e("./parse.js"));function l(u){return u&&u.__esModule?u:{default:u}}const c="6ba7b810-9dad-11d1-80b4-00c04fd430c8";s.DNS=c;const o="6ba7b811-9dad-11d1-80b4-00c04fd430c8";s.URL=o},{"./parse.js":531,"./stringify.js":535}],539:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=l(e("./rng.js")),a=l(e("./stringify.js"));function l(o){return o&&o.__esModule?o:{default:o}}var c=function(o,u,p){const h=(o=o||{}).random||(o.rng||i.default)();if(h[6]=15&h[6]|64,h[8]=63&h[8]|128,u){p=p||0;for(let d=0;d<16;++d)u[p+d]=h[d];return u}return(0,a.default)(h)};s.default=c},{"./rng.js":533,"./stringify.js":535}],540:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=l(e("./v35.js")),a=l(e("./sha1.js"));function l(o){return o&&o.__esModule?o:{default:o}}var c=(0,i.default)("v5",80,a.default);s.default=c},{"./sha1.js":534,"./v35.js":538}],541:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i,a=(i=e("./regex.js"))&&i.__esModule?i:{default:i},l=function(c){return typeof c=="string"&&a.default.test(c)};s.default=l},{"./regex.js":532}],542:[function(e,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i,a=(i=e("./validate.js"))&&i.__esModule?i:{default:i},l=function(c){if(!(0,a.default)(c))throw TypeError("Invalid UUID");return parseInt(c.substr(14,1),16)};s.default=l},{"./validate.js":541}],543:[function(e,n,s){/**
* Character classes and associated utilities for the 5th edition of XML 1.0.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(s,"__esModule",{value:!0}),s.CHAR=`	
\r ---`,s.S=` 	\r
`,s.NAME_START_CHAR=":A-Z_a-z-----------",s.NAME_CHAR="-"+s.NAME_START_CHAR+".0-9--",s.CHAR_RE=new RegExp("^["+s.CHAR+"]$","u"),s.S_RE=new RegExp("^["+s.S+"]+$","u"),s.NAME_START_CHAR_RE=new RegExp("^["+s.NAME_START_CHAR+"]$","u"),s.NAME_CHAR_RE=new RegExp("^["+s.NAME_CHAR+"]$","u"),s.NAME_RE=new RegExp("^["+s.NAME_START_CHAR+"]["+s.NAME_CHAR+"]*$","u"),s.NMTOKEN_RE=new RegExp("^["+s.NAME_CHAR+"]+$","u");function i(a){return a>=65&&a<=90||a>=97&&a<=122||a===58||a===95||a===8204||a===8205||a>=192&&a<=214||a>=216&&a<=246||a>=248&&a<=767||a>=880&&a<=893||a>=895&&a<=8191||a>=8304&&a<=8591||a>=11264&&a<=12271||a>=12289&&a<=55295||a>=63744&&a<=64975||a>=65008&&a<=65533||a>=65536&&a<=983039}s.S_LIST=[32,10,13,9],s.isChar=function(a){return a>=32&&a<=55295||a===10||a===13||a===9||a>=57344&&a<=65533||a>=65536&&a<=1114111},s.isS=function(a){return a===32||a===10||a===13||a===9},s.isNameStartChar=i,s.isNameChar=function(a){return i(a)||a>=48&&a<=57||a===45||a===46||a===183||a>=768&&a<=879||a>=8255&&a<=8256}},{}],544:[function(e,n,s){/**
* Character classes and associated utilities for the 2nd edition of XML 1.1.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(s,"__esModule",{value:!0}),s.CHAR="---",s.RESTRICTED_CHAR="-\b\v\f---",s.S=` 	\r
`,s.NAME_START_CHAR=":A-Z_a-z-----------",s.NAME_CHAR="-"+s.NAME_START_CHAR+".0-9--",s.CHAR_RE=new RegExp("^["+s.CHAR+"]$","u"),s.RESTRICTED_CHAR_RE=new RegExp("^["+s.RESTRICTED_CHAR+"]$","u"),s.S_RE=new RegExp("^["+s.S+"]+$","u"),s.NAME_START_CHAR_RE=new RegExp("^["+s.NAME_START_CHAR+"]$","u"),s.NAME_CHAR_RE=new RegExp("^["+s.NAME_CHAR+"]$","u"),s.NAME_RE=new RegExp("^["+s.NAME_START_CHAR+"]["+s.NAME_CHAR+"]*$","u"),s.NMTOKEN_RE=new RegExp("^["+s.NAME_CHAR+"]+$","u");function i(a){return a>=65&&a<=90||a>=97&&a<=122||a===58||a===95||a===8204||a===8205||a>=192&&a<=214||a>=216&&a<=246||a>=248&&a<=767||a>=880&&a<=893||a>=895&&a<=8191||a>=8304&&a<=8591||a>=11264&&a<=12271||a>=12289&&a<=55295||a>=63744&&a<=64975||a>=65008&&a<=65533||a>=65536&&a<=983039}s.S_LIST=[32,10,13,9],s.isChar=function(a){return a>=1&&a<=55295||a>=57344&&a<=65533||a>=65536&&a<=1114111},s.isRestrictedChar=function(a){return a>=1&&a<=8||a===11||a===12||a>=14&&a<=31||a>=127&&a<=132||a>=134&&a<=159},s.isCharAndNotRestricted=function(a){return a===9||a===10||a===13||a>31&&a<127||a===133||a>159&&a<=55295||a>=57344&&a<=65533||a>=65536&&a<=1114111},s.isS=function(a){return a===32||a===10||a===13||a===9},s.isNameStartChar=i,s.isNameChar=function(a){return i(a)||a>=48&&a<=57||a===45||a===46||a===183||a>=768&&a<=879||a>=8255&&a<=8256}},{}],545:[function(e,n,s){/**
* Character class utilities for XML NS 1.0 edition 3.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/function i(a){return a>=65&&a<=90||a===95||a>=97&&a<=122||a>=192&&a<=214||a>=216&&a<=246||a>=248&&a<=767||a>=880&&a<=893||a>=895&&a<=8191||a>=8204&&a<=8205||a>=8304&&a<=8591||a>=11264&&a<=12271||a>=12289&&a<=55295||a>=63744&&a<=64975||a>=65008&&a<=65533||a>=65536&&a<=983039}Object.defineProperty(s,"__esModule",{value:!0}),s.NC_NAME_START_CHAR="A-Z_a-z------------",s.NC_NAME_CHAR="-"+s.NC_NAME_START_CHAR+".0-9--",s.NC_NAME_START_CHAR_RE=new RegExp("^["+s.NC_NAME_START_CHAR+"]$","u"),s.NC_NAME_CHAR_RE=new RegExp("^["+s.NC_NAME_CHAR+"]$","u"),s.NC_NAME_RE=new RegExp("^["+s.NC_NAME_START_CHAR+"]["+s.NC_NAME_CHAR+"]*$","u"),s.isNCNameStartChar=i,s.isNCNameChar=function(a){return i(a)||a===45||a===46||a>=48&&a<=57||a===183||a>=768&&a<=879||a>=8255&&a<=8256}},{}]},{},[15])(15)}))})(Pg)),Pg.exports}var _j=wj();const M6=U4(_j);var f0={exports:{}},Sj=f0.exports,I_;function kj(){return I_||(I_=1,(function(r,t){(function(e,n){n()})(Sj,function(){function e(o,u){return typeof u>"u"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(o.type)?new Blob(["\uFEFF",o],{type:o.type}):o}function n(o,u,p){var h=new XMLHttpRequest;h.open("GET",o),h.responseType="blob",h.onload=function(){c(h.response,u,p)},h.onerror=function(){console.error("could not download file")},h.send()}function s(o){var u=new XMLHttpRequest;u.open("HEAD",o,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function i(o){try{o.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),o.dispatchEvent(u)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof pr=="object"&&pr.global===pr?pr:void 0,l=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(o,u,p){var h=a.URL||a.webkitURL,d=document.createElement("a");u=u||o.name||"download",d.download=u,d.rel="noopener",typeof o=="string"?(d.href=o,d.origin===location.origin?i(d):s(d.href)?n(o,u,p):i(d,d.target="_blank")):(d.href=h.createObjectURL(o),setTimeout(function(){h.revokeObjectURL(d.href)},4e4),setTimeout(function(){i(d)},0))}:"msSaveOrOpenBlob"in navigator?function(o,u,p){if(u=u||o.name||"download",typeof o!="string")navigator.msSaveOrOpenBlob(e(o,p),u);else if(s(o))n(o,u,p);else{var h=document.createElement("a");h.href=o,h.target="_blank",setTimeout(function(){i(h)})}}:function(o,u,p,h){if(h=h||open("","_blank"),h&&(h.document.title=h.document.body.innerText="downloading..."),typeof o=="string")return n(o,u,p);var d=o.type==="application/octet-stream",b=/constructor/i.test(a.HTMLElement)||a.safari,x=/CriOS\/[\d]+/.test(navigator.userAgent);if((x||d&&b||l)&&typeof FileReader<"u"){var g=new FileReader;g.onloadend=function(){var k=g.result;k=x?k:k.replace(/^data:[^;]*;/,"data:attachment/file;"),h?h.location.href=k:location=k,h=null},g.readAsDataURL(o)}else{var v=a.URL||a.webkitURL,y=v.createObjectURL(o);h?h.location=y:location.href=y,h=null,setTimeout(function(){v.revokeObjectURL(y)},4e4)}});a.saveAs=c.saveAs=c,r.exports=c})})(f0)),f0.exports}var j6=kj();const Tj=({rideType:r,className:t})=>{switch(r){case"FLOW":return w.jsx(ci,{className:t});case"WAIT":return w.jsx(Oc,{className:t});case"APP":return w.jsx(Oc,{className:t});case"HIRE":return w.jsx(Oc,{className:t});case"RESERVE":return w.jsx(Oc,{className:t});case"WIRELESS":return w.jsx(Oc,{className:t});default:return w.jsx(ci,{className:t})}},D6=({breakdown:r,counts:t,enabledRideTypes:e})=>{const n=e||Dl;let s=0,i=0;return Object.keys(r).forEach(a=>{a!=="FLOW"&&(s+=r[a],i+=t[a]||0)}),w.jsxs("div",{className:"space-y-4",children:[s>0&&w.jsxs("div",{className:"bg-gradient-to-r from-green-900/60 to-emerald-900/60 p-4 rounded-2xl border border-green-500/30 flex justify-between items-center shadow-lg",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"p-2 bg-green-500/20 rounded-full",children:w.jsx(Oc,{className:"w-6 h-6 text-green-300"})}),w.jsxs("div",{children:[w.jsx("span",{className:"text-xs font-bold text-green-200 block uppercase tracking-widest",children:""}),w.jsxs("span",{className:"text-sm font-medium text-green-400",children:[i,""]})]})]}),w.jsx("span",{className:"text-3xl font-black text-white tracking-tight",children:Lr(s)})]}),w.jsxs("h4",{className:"text-xs font-black text-gray-500 uppercase px-2 tracking-widest flex items-center gap-2 mt-3",children:[w.jsx(ci,{className:"w-3 h-3"})," "]}),w.jsx("div",{className:"grid grid-cols-2 gap-3",children:n.map(a=>{const l=r[a]||0,c=t[a]||0;if(l===0&&c===0)return null;const o=Ki[a];let u="bg-gray-900/50 border-gray-800";return a==="FLOW"?u="bg-blue-900/20 border-blue-500/30":a==="WAIT"?u="bg-amber-900/20 border-amber-500/30":a==="APP"?u="bg-purple-900/20 border-purple-500/30":a==="HIRE"?u="bg-green-900/20 border-green-500/30":a==="RESERVE"?u="bg-pink-900/20 border-pink-500/30":a==="WIRELESS"&&(u="bg-indigo-900/20 border-indigo-500/30"),w.jsxs("div",{className:`${u} p-3 rounded-xl border flex flex-col justify-between shadow-sm`,children:[w.jsxs("div",{className:"flex justify-between items-start mb-2",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(Tj,{rideType:a,className:"w-4 h-4 opacity-70"}),w.jsx("span",{className:"text-xs font-bold opacity-80 truncate max-w-[80px]",children:o})]}),w.jsxs("span",{className:"text-xs font-medium opacity-60",children:[c,""]})]}),w.jsx("div",{className:"text-right",children:w.jsx("span",{className:"text-xl font-black block tracking-tight",children:Lr(l)})})]},a)})})]})},I6=({records:r,customLabels:t,startTime:e,endTime:n,totalRestMinutes:s,enabledMethods:i,startOdo:a,endOdo:l})=>{const c=r.reduce((D,Z)=>D+Z.amount,0),o=A6(c),u=Ub(r),p=zb(r),h=u.CASH||0,d=Vb(r),b=C6(r),x=e||(r.length>0?Math.min(...r.map(D=>D.timestamp)):0),g=n||(r.length>0?Math.max(...r.map(D=>D.timestamp)):0),v=g-x,y=Math.floor(v/36e5),k=Math.floor(v%36e5/6e4),R=x&&g?`${y}${String(k).padStart(2,"0")}`:"----",z=Math.floor((s||0)/60),q=(s||0)%60,B=`${z}${String(q).padStart(2,"0")}`,I=r.reduce((D,Z)=>D+(Z.passengersMale||0),0),O=r.reduce((D,Z)=>D+(Z.passengersFemale||0),0),F=I+O,W=r.reduce((D,Z)=>D+Z.toll,0),V=r.reduce((D,Z)=>D+(Z.returnToll||0),0),N=a&&l&&l>a?l-a:0,P=t||{},[C,S]=_e.useState(!1),[E,A]=_e.useState(!1),T=D=>new Date(D).toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit"}),j=e||(r.length>0?Math.min(...r.map(D=>D.timestamp)):0),L=n||(r.length>0?Math.max(...r.map(D=>D.timestamp)):0);return w.jsxs("div",{className:"w-full space-y-6",children:[C&&w.jsx(Zs,{onClose:()=>S(!1),children:w.jsxs("div",{className:"bg-gray-900 rounded-2xl p-6 max-w-md w-full border border-gray-700",children:[w.jsxs("div",{className:"flex items-center justify-between mb-4",children:[w.jsxs("h3",{className:"text-xl font-black text-white flex items-center gap-2",children:[w.jsx(Fl,{className:"w-6 h-6 text-blue-400"}),""]}),w.jsx("button",{onClick:()=>S(!1),className:"text-gray-400 hover:text-white transition-colors",children:w.jsx(_s,{className:"w-6 h-6"})})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[w.jsx("div",{className:"text-sm text-gray-400 font-bold mb-2",children:""}),w.jsx("div",{className:"text-2xl font-black text-white",children:j?T(j):"---"})]}),w.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[w.jsx("div",{className:"text-sm text-gray-400 font-bold mb-2",children:""}),w.jsx("div",{className:"text-2xl font-black text-white",children:L?T(L):"---"})]})]})]})}),E&&w.jsx(Zs,{onClose:()=>A(!1),children:w.jsxs("div",{className:"bg-gray-900 rounded-2xl p-6 max-w-md w-full border border-gray-700 max-h-[80vh] overflow-y-auto",children:[w.jsxs("div",{className:"flex items-center justify-between mb-4",children:[w.jsxs("h3",{className:"text-xl font-black text-white flex items-center gap-2",children:[w.jsx(Fl,{className:"w-6 h-6 text-green-400"}),""]}),w.jsx("button",{onClick:()=>A(!1),className:"text-gray-400 hover:text-white transition-colors",children:w.jsx(_s,{className:"w-6 h-6"})})]}),s&&s>0?w.jsxs("div",{className:"space-y-3",children:[w.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[w.jsx("div",{className:"text-sm text-gray-400 font-bold mb-2",children:""}),w.jsx("div",{className:"text-2xl font-black text-white",children:B})]}),w.jsx("div",{className:"text-sm text-gray-400 text-center py-4",children:""})]}):w.jsx("div",{className:"text-center py-8 text-gray-400",children:""})]})}),w.jsxs("div",{className:"text-center py-8 bg-gray-800 rounded-[32px] border-2 border-blue-500 shadow-2xl relative overflow-hidden group",children:[w.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-amber-500 to-transparent opacity-50"}),w.jsx("p",{className:"text-sm font-black text-amber-500 uppercase tracking-[0.3em] mb-2 opacity-80",children:" ()"}),w.jsxs("div",{className:"flex items-baseline justify-center gap-2 mb-2",children:[w.jsx("span",{className:"text-6xl font-black text-amber-600/80",children:""}),w.jsx("span",{className:"text-7xl font-black text-amber-500 leading-none tracking-tighter drop-shadow-[0_4px_10px_rgba(245,158,11,0.3)]",children:c.toLocaleString()})]}),w.jsxs("div",{className:"flex flex-col items-center gap-1 mb-8",children:[w.jsxs("p",{className:"text-xl font-bold text-gray-400",children:["( ",Lr(o),")"]}),w.jsxs("p",{className:"text-xl font-bold text-gray-400",children:["() ",Lr(c-o)]})]}),w.jsxs("div",{className:"bg-gray-800 mx-6 p-5 rounded-3xl border-2 border-blue-500 flex flex-col items-center gap-2 shadow-inner",children:[w.jsx("span",{className:"text-sm text-gray-400 font-bold uppercase tracking-widest flex items-center gap-1",children:" ()"}),w.jsx("span",{className:"text-5xl font-black text-white tracking-tight",children:Lr(h)})]})]}),W>0&&w.jsxs("div",{className:"bg-gradient-to-r from-orange-900/60 to-red-900/60 p-4 rounded-2xl border border-orange-500/30 flex justify-between items-center shadow-lg",children:[w.jsx("div",{children:w.jsx("span",{className:"text-xl font-bold text-orange-200 block uppercase tracking-widest",children:" "})}),w.jsx("span",{className:"text-3xl font-black text-white tracking-tight",children:Lr(W)})]}),V>0&&w.jsxs("div",{className:"bg-gradient-to-r from-indigo-900/60 to-blue-900/60 p-4 rounded-2xl border border-indigo-500/30 flex justify-between items-center shadow-lg",children:[w.jsx("div",{children:w.jsx("span",{className:"text-xl font-bold text-indigo-200 block uppercase tracking-widest",children:""})}),w.jsx("span",{className:"text-3xl font-black text-white tracking-tight",children:Lr(V)})]}),w.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[w.jsxs("div",{className:"bg-gray-800 p-2 rounded-3xl border-2 border-blue-500 flex flex-col items-center justify-center min-h-[100px] shadow-lg",children:[w.jsx("span",{className:"text-[12px] text-gray-500 font-black tracking-widest uppercase mb-1",children:""}),w.jsxs("span",{className:"text-2xl font-black text-white leading-none",children:[r.length,w.jsx("span",{className:"text-xs text-gray-600 ml-1",children:""})]})]}),w.jsxs("button",{onClick:()=>S(!0),className:"bg-gray-800 p-2 rounded-3xl border-2 border-blue-500 flex flex-col items-center justify-center min-h-[100px] shadow-lg active:scale-95 transition-transform cursor-pointer",children:[w.jsx("span",{className:"text-[12px] text-gray-500 font-black tracking-widest uppercase mb-1",children:""}),w.jsx("span",{className:"text-[clamp(0.8rem,3.2vw,1.2rem)] font-black text-white leading-none whitespace-nowrap",children:R})]}),w.jsxs("button",{onClick:()=>A(!0),className:"bg-gray-800 p-2 rounded-3xl border-2 border-blue-500 flex flex-col items-center justify-center min-h-[100px] shadow-lg active:scale-95 transition-transform cursor-pointer",children:[w.jsx("span",{className:"text-[12px] text-gray-500 font-black tracking-widest uppercase mb-1",children:""}),w.jsx("span",{className:"text-[clamp(0.8rem,3.2vw,1.2rem)] font-black text-white leading-none whitespace-nowrap",children:B})]})]}),(a||l)&&w.jsxs("div",{className:"grid grid-cols-3 gap-2 px-1",children:[w.jsxs("div",{className:"bg-gray-800 p-3 rounded-2xl text-center border-2 border-blue-500 flex flex-col items-center justify-center shadow-lg",children:[w.jsxs("span",{className:"text-[12px] text-gray-500 font-bold uppercase mb-1 flex items-center gap-1",children:[w.jsx(Io,{className:"w-3 h-3"}),"ODO"]}),w.jsx("span",{className:"text-lg font-black text-white",children:a?a.toLocaleString():"---"})]}),w.jsxs("div",{className:"bg-gray-800 p-3 rounded-2xl text-center border-2 border-blue-500 flex flex-col items-center justify-center shadow-lg",children:[w.jsxs("span",{className:"text-[12px] text-gray-500 font-bold uppercase mb-1 flex items-center gap-1",children:[w.jsx(Io,{className:"w-3 h-3"}),"ODO"]}),w.jsx("span",{className:`text-lg font-black ${l?"text-amber-500":"text-gray-600"}`,children:l?l.toLocaleString():"---"})]}),w.jsxs("div",{className:"bg-gray-800 p-3 rounded-2xl text-center border-2 border-blue-500 flex flex-col items-center justify-center shadow-lg",children:[w.jsx("span",{className:"text-[12px] text-gray-500 font-bold uppercase mb-1",children:""}),w.jsxs("span",{className:"text-lg font-black text-blue-400",children:[N.toLocaleString()," ",w.jsx("span",{className:"text-xs text-gray-500",children:"km"})]})]})]}),w.jsxs("div",{className:"bg-gray-800 p-6 rounded-[32px] border-2 border-blue-500 flex justify-around items-center",children:[w.jsxs("div",{className:"text-center",children:[w.jsx("span",{className:"text-sm font-bold text-blue-400 block mb-2 uppercase tracking-widest",children:""}),w.jsxs("span",{className:"text-4xl font-black text-white",children:[I,w.jsx("span",{className:"text-lg text-gray-600 ml-1",children:""})]})]}),w.jsxs("div",{className:"text-center",children:[w.jsx("span",{className:"text-sm font-bold text-pink-400 block mb-2 uppercase tracking-widest",children:""}),w.jsxs("span",{className:"text-4xl font-black text-white",children:[O,w.jsx("span",{className:"text-lg text-gray-600 ml-1",children:""})]})]}),w.jsx("div",{className:"w-px h-12 bg-gray-800"}),w.jsxs("div",{className:"text-center",children:[w.jsx("span",{className:"text-sm font-bold text-gray-400 block mb-2 uppercase tracking-widest",children:""}),w.jsxs("span",{className:"text-5xl font-black text-white",children:[F,w.jsx("span",{className:"text-lg text-gray-600 ml-1",children:""})]})]})]}),w.jsx("div",{className:"bg-gray-800 p-6 rounded-[32px] border-2 border-blue-500 shadow-2xl",children:w.jsx(Hb,{breakdown:u,counts:p,customLabels:P,enabledMethods:i})}),w.jsx("div",{className:"bg-gray-800 p-6 rounded-[32px] border-2 border-blue-500 shadow-2xl",children:w.jsx(D6,{breakdown:d,counts:b,enabledRideTypes:Object.keys(Ki)})})]})},Ej=({date:r,records:t,meta:e,customLabels:n,businessStartHour:s,onBack:i,isMe:a,onUpdateMetadata:l,onEditRecord:c})=>{const[o,u]=_e.useState(!1),[p,h]=_e.useState(!0),[d,b]=_e.useState(!1),x=_e.useMemo(()=>{const y=[...t];return p?y.sort((k,R)=>R.timestamp-k.timestamp):y.sort((k,R)=>k.timestamp-R.timestamp)},[t,p]),g=n||{},v=async()=>{const y=e.totalRestMinutes||0,k=e.startOdo||0,R=e.endOdo||0,z=R>k?R-k:0,q=t.reduce((ve,me)=>ve+me.amount,0),B=ve=>ve?new Date(ve).toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit"}):"",I=ve=>{if(ve<=0)return"";const me=Math.floor(ve/36e5),ne=Math.floor(ve%36e5/6e4);return`${String(me).padStart(2,"0")}:${String(ne).padStart(2,"0")}`},O=new Date(r),F=`${O.getFullYear()}`,W=`${O.getMonth()+1}`,V=`${O.getDate()}`,N=new M6.Workbook,P=N.addWorksheet("",{views:[{state:"frozen",ySplit:5,activeCell:"A6"}]}),C=t.length>0?Math.min(...t.map(ve=>ve.timestamp)):0,S=t.length>0?Math.max(...t.map(ve=>ve.timestamp)):0,E=C&&S?S-C-y*60*1e3:0,A=Math.max(E/(1e3*60*60),.1),T=q>0?Math.round(q/A):0;P.addRow(["","","","","","","","",F,W,V,B(Date.now())]),P.addRow([]),P.addRow(["","",""," ","","","","","","","","","","","","","","","",""]),P.addRow(["","","",B(C),B(S),I(E),T.toLocaleString()]),P.addRow(["","","","","","","","","","","","","","","","","","B","A",""]);for(let ve=0;ve<30;ve++){const me=t[ve];let ne=[];if(me){const de=new Date(me.timestamp),xe=me.amount+me.toll+(me.returnToll||0),Te=me.paymentMethod;let Re="",Pe="",Xe="";Te==="CARD"?Re=xe:Te==="NET"||Te==="TICKET"?Pe=xe:(Te==="TRANSPORT"||Te!=="CASH")&&(Xe=xe);let Ue="",tt=me.remarks||"";if(me.remarks){const at=me.remarks.match(/\(\)([^\s\n\r]+)/);at&&(Ue=at[1].trim(),tt=me.remarks.replace(/\(\)[^\s\n\r]+[\s\n\r]*/,"").trim())}ne=[ve+1,de.getHours(),de.getMinutes(),me.pickupLocation||"",Ue,me.dropoffLocation||"",me.passengersMale||"",me.passengersFemale||me.passagersFemale||0,me.amount,me.toll>0?me.toll:"",(me.returnToll||0)>0?me.returnToll||0:"",tt||"",Re,Pe,Xe,Ki[me.rideType]||"",ve+1,"","",""]}else ne=[ve+1,"","","","","","","","","","","","","","","",ve+1,"","",""];P.addRow(ne)}P.addRow([" ","","","","","",0,0,0,0,0,"",0,0,0,"","","","",""]),P.addRow(["","","",""," ",k||""," ","",R||""," ",z||"","","",0,"",0,"","",0,""]),P.addRow(["","","","","","","","","","","","","B km","","km","","","","",""]),P.addRow(["","","","",z||"0","0",t.length,0,0,"","","","A km","","km","","","","",""]);for(let ve=6;ve<=35;ve++)P.getCell(`T${ve}`).value={formula:`SUM(G${ve}:H${ve})`};P.getCell("G36").value={formula:"SUM(G6:G35)"},P.getCell("H36").value={formula:"SUM(H6:H35)"},P.getCell("I36").value={formula:"SUM(I6:I35)"},P.getCell("J36").value={formula:"SUM(J6:J35)"},P.getCell("K36").value={formula:"SUM(K6:K35)"},P.getCell("M36").value={formula:"SUM(M6:M35)"},P.getCell("N36").value={formula:"SUM(N6:N35)"},P.getCell("O36").value={formula:"SUM(O6:O35)"},P.getCell("T36").value={formula:"SUM(T6:T35)"},P.getCell("N37").value={formula:"SUM(I6:I35)"},P.getCell("P37").value={formula:"M36+N36+O36"},P.getCell("S37").value={formula:"(I36+J36+K36)-(M36+N36+O36)"},P.getCell("Q38").value={formula:"P38/N38"},P.getCell("Q38").numFmt="0%",P.getCell("H39").value={formula:"G36+H36"},P.getCell("I39").value={formula:"SUM(I6:I35)"},P.getCell("Q39").value={formula:"P39/N39"},P.getCell("Q39").numFmt="0%";const j={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},L={bottom:{style:"double"}},D={name:"Meiryo",size:10},Z={name:"Meiryo",size:10,bold:!0},K={name:"Meiryo",size:11,bold:!0},ee={name:"Meiryo",size:16,bold:!0},G={type:"pattern",pattern:"solid",fgColor:{argb:"E2EFDA"}},te={type:"pattern",pattern:"solid",fgColor:{argb:"FFF2CC"}},H={type:"pattern",pattern:"solid",fgColor:{argb:"FFCC99"}},U={type:"pattern",pattern:"solid",fgColor:{argb:"F2F2F2"}},Q={type:"pattern",pattern:"solid",fgColor:{argb:"FFFFCC"}};P.mergeCells("D1:F1"),P.mergeCells("G3:H3"),P.mergeCells("B4:C4"),P.mergeCells("G4:H4"),P.mergeCells("A36:C36"),P.mergeCells("G37:H37"),P.eachRow((ve,me)=>{ve.eachCell((ne,de)=>{var xe;if(ne.font=D,ne.alignment={vertical:"middle",horizontal:"center"},me===1)de>=9&&de<=12&&(ne.font=K),de>=4&&de<=12&&(ne.border=L);else if(me!==2){if(me===3)de>=10&&de<=20||de===9||de<=3||([4,5,6,7].includes(de)&&(ne.fill=G),ne.border=j);else if(me===4)de>=10||de===9||de<=1||(de===2&&(ne.fill=G),ne.border=j);else if(me===5)ne.fill=G,ne.font=Z,ne.border=j;else if(me>=6&&me<=35){if(ne.border=j,(de===1||de===17)&&(ne.fill=U),de===16){const Te=((xe=ne.value)==null?void 0:xe.toString())||"";Te!==""&&Te!==""&&(ne.fill=Q)}[4,5,6,12].includes(de)?ne.alignment={vertical:"middle",horizontal:"left",wrapText:!0}:[9,10,11,13,14,15].includes(de)&&(ne.alignment={vertical:"middle",horizontal:"right"},ne.numFmt="#,##0")}else if(me===36)ne.fill=H,ne.font=Z,ne.border=j,[7,8,9,10,11,13,14,15].includes(de)&&(ne.alignment={vertical:"middle",horizontal:"right"},ne.numFmt="#,##0");else if(me>=37&&!(de<=3)){ne.border=j;const Te=me===37&&[14,16,19].includes(de)||me===39&&[8,9].includes(de),Re=me===37&&[6,9,11].includes(de)||me===39&&de===5;Te||Re?(ne.alignment={vertical:"middle",horizontal:"right"},ne.numFmt="#,##0"):(me===37&&[4,5,7,10,13,15,18].includes(de)||me===38&&[4,5,6,7,8,9,13,15].includes(de)||me===39&&[13,15].includes(de))&&(ne.fill=te)}}})});const ie=P.getCell("D1");ie.font=ee,ie.alignment={vertical:"middle",horizontal:"center"},ie.border={bottom:{style:"double"}},P.getRow(1).height=45,P.getRow(36).height=30,[{c:1,w:4.38},{c:2,w:3},{c:3,w:3},{c:4,w:10.75},{c:5,w:10.75},{c:6,w:10.75},{c:7,w:4.13},{c:8,w:4.13},{c:9,w:7.5},{c:10,w:6.25},{c:11,w:6.25},{c:12,w:10.75},{c:13,w:8.13},{c:14,w:8.13},{c:15,w:8.13},{c:16,w:8.13},{c:17,w:4.38},{c:18,w:7.5},{c:19,w:7.5},{c:20,w:6}].forEach(ve=>{P.getColumn(ve.c).width=ve.w});const oe=await N.xlsx.writeBuffer(),he=new Blob([oe],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});j6.saveAs(he,`_${r.replace(/\//g,"-")}.xlsx`)};return w.jsxs("div",{className:"p-4 pb-28 space-y-5 animate-in slide-in-from-right duration-300 w-full overflow-hidden bg-[#0A0E14] min-h-screen",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("button",{onClick:i,className:"p-2.5 bg-gray-800 rounded-full active:scale-90 shadow-lg border border-gray-700 flex-shrink-0",children:w.jsx($4,{className:"w-5 h-5"})}),w.jsx("h2",{className:"text-[clamp(1.6rem,7vw,2.2rem)] font-black text-white truncate",children:r}),w.jsxs("button",{onClick:v,className:"ml-auto flex items-center gap-2 bg-blue-900/30 text-blue-400 px-3 py-2 rounded-xl font-bold border border-blue-500/30 active:scale-95 transition-all",children:[w.jsx(lE,{className:"w-4 h-4"}),w.jsx("span",{className:"text-xs",children:"EXCEL"})]})]}),w.jsx(I6,{records:x,customLabels:g,totalRestMinutes:e.totalRestMinutes,enabledMethods:Object.keys(va),startOdo:e.startOdo,endOdo:e.endOdo}),a&&l&&w.jsxs("div",{className:"bg-gray-800 p-6 rounded-[32px] border-2 border-blue-500 shadow-2xl space-y-4 animate-in fade-in duration-500",children:[w.jsxs("div",{className:"flex items-center gap-2 px-1",children:[w.jsx(Io,{className:"w-5 h-5 text-amber-500"}),w.jsx("h3",{className:"text-xs font-black text-gray-500 uppercase tracking-[0.2em]",children:""})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsxs("div",{className:"space-y-1.5",children:[w.jsx("label",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest px-1 block",children:" ODO (km)"}),w.jsx("input",{type:"number",inputMode:"numeric",value:e.startOdo||"",onChange:y=>l(r,{startOdo:y.target.value===""?void 0:Number(y.target.value)}),placeholder:"---",className:"w-full bg-gray-950 border-2 border-gray-800 rounded-2xl p-3 text-white text-xl font-black outline-none focus:border-amber-500 transition-all shadow-inner"})]}),w.jsxs("div",{className:"space-y-1.5",children:[w.jsx("label",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest px-1 block",children:" ODO (km)"}),w.jsx("input",{type:"number",inputMode:"numeric",value:e.endOdo||"",onChange:y=>l(r,{endOdo:y.target.value===""?void 0:Number(y.target.value)}),placeholder:"---",className:"w-full bg-gray-950 border-2 border-gray-800 rounded-2xl p-3 text-white text-xl font-black outline-none focus:border-amber-500 transition-all shadow-inner"})]})]}),w.jsx("p",{className:"text-[10px] text-gray-600 font-bold px-1 italic",children:""})]}),w.jsxs("section",{className:"space-y-4",children:[w.jsxs("div",{className:"flex justify-between items-center px-1 flex-wrap gap-4",children:[w.jsxs("h3",{className:"text-xs font-black text-gray-500 uppercase tracking-widest flex items-center gap-2",children:[w.jsx(Oo,{className:"w-4 h-4"})," "]}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx("button",{onClick:()=>b(!d),className:`text-[12px] px-3 py-1.5 rounded-full flex items-center gap-1.5 font-black active:scale-95 shadow-sm border transition-all whitespace-nowrap ${d?"bg-amber-500 text-black border-amber-400":"bg-gray-800 text-gray-400 border-gray-700"}`,children:""}),w.jsx("button",{onClick:()=>u(!o),className:`text-[12px] px-3 py-1.5 rounded-full flex items-center gap-1.5 font-black active:scale-95 shadow-sm border transition-all whitespace-nowrap ${o?"bg-amber-500 text-black border-amber-400":"bg-gray-800 text-gray-400 border-gray-700"}`,children:""}),w.jsx("button",{onClick:()=>h(!p),className:"text-[12px] bg-gray-800 text-gray-400 px-3 py-1.5 rounded-full flex items-center gap-1.5 font-black active:scale-95 shadow-sm border border-gray-700 whitespace-nowrap",children:w.jsx(P1,{className:"w-3.5 h-3.5"})})]})]}),d?w.jsxs("div",{className:"bg-gray-800 rounded-lg border-2 border-blue-500 overflow-hidden shadow-sm",children:[w.jsxs("table",{className:"w-full border-collapse",children:[w.jsx("thead",{children:w.jsxs("tr",{className:"bg-orange-500 text-white",children:[w.jsx("th",{className:"py-2 px-1 border-r border-orange-600 text-center text-base font-black w-[40px]",children:""}),w.jsx("th",{className:"py-2 px-1 border-r border-orange-600 text-center text-base font-black w-[85px]",children:""}),w.jsx("th",{className:"py-2 px-2 border-r border-orange-600 text-center text-base font-black flex-1",children:"/"}),w.jsx("th",{className:"py-2 px-1 text-center text-base font-black w-[75px]",children:""})]})}),w.jsx("tbody",{children:x.length===0?w.jsx("tr",{children:w.jsx("td",{colSpan:4,className:"p-8 text-center text-gray-400 font-black uppercase tracking-widest text-sm",children:""})}):x.slice(0,200).map((y,k)=>w.jsx(Wf,{record:y,index:p?x.length-k:k+1,isDetailed:o,isSlim:d,customLabels:g,businessStartHour:s,onClick:()=>{a&&c&&c(y)}},y.id))})]}),x.length>200&&w.jsx("p",{className:"text-center text-gray-400 text-[10px] py-2 italic bg-gray-900",children:"200"})]}):w.jsxs("div",{className:"space-y-3",children:[x.length===0?w.jsx("div",{className:"text-center py-10 text-gray-600 font-bold",children:""}):x.slice(0,200).map((y,k)=>w.jsxs("div",{className:"relative",children:[y.amount===0&&w.jsx("div",{className:"absolute -top-2 -right-1 z-10",children:w.jsx("span",{className:"bg-red-500 text-white text-[10px] font-black px-2 py-1 rounded-full shadow-lg border border-red-400 animate-pulse",children:""})}),w.jsx("div",{className:y.amount===0?"ring-2 ring-red-500 ring-offset-2 ring-offset-[#0A0E14] rounded-[24px]":"",children:w.jsx(Wf,{record:y,index:p?x.length-k:k+1,isDetailed:o,isSlim:d,customLabels:g,businessStartHour:s,onClick:()=>{a&&c&&c(y)}})})]},y.id)),x.length>200&&w.jsx("p",{className:"text-center text-gray-600 text-[10px] py-2 italic",children:"200"})]})]}),a&&l&&w.jsx("section",{className:"space-y-5 pt-5 border-t border-gray-800",children:w.jsxs("div",{className:"bg-gray-800 p-4 rounded-[28px] border-2 border-blue-500 space-y-4 shadow-2xl",children:[w.jsxs("h3",{className:"text-xs font-black text-gray-500 uppercase tracking-widest flex items-center gap-2",children:[w.jsx(U1,{className:"w-4 h-4"})," "]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-xs font-bold text-gray-400 block mb-2 uppercase tracking-widest",children:""}),w.jsx("select",{value:e.attributedMonth||r.split("/").slice(0,2).join("-"),onChange:y=>l(r,{attributedMonth:y.target.value}),className:"w-full bg-gray-950 border-2 border-gray-800 rounded-xl p-3 text-white text-base font-black outline-none focus:border-amber-500 appearance-none",children:Array.from({length:12}).map((y,k)=>{const R=new Date;R.setMonth(R.getMonth()-6+k);const z=`${R.getFullYear()}-${String(R.getMonth()+1).padStart(2,"0")}`;return w.jsxs("option",{value:z,children:[R.getFullYear()," ",R.getMonth()+1,""]},`${z}-${k}`)})})]}),w.jsxs("div",{children:[w.jsxs("label",{className:"text-xs font-bold text-gray-400 block mb-2 flex items-center gap-2 uppercase tracking-widest",children:[w.jsx(B1,{className:"w-4 h-4"})," "]}),w.jsx("textarea",{value:e.memo,onChange:y=>l(r,{memo:y.target.value}),placeholder:"...",className:"w-full bg-gray-950 border-2 border-gray-800 rounded-xl p-3 text-white text-base min-h-[100px] outline-none focus:border-amber-500 shadow-inner"})]})]})})]})},O_=r=>r.rideType!=="FLOW"&&r.rideType!=="WAIT",Aj=({displayMonth:r,setCurrentMonth:t,monthData:e,dailyGroups:n,customLabels:s,onSelectDay:i,isMe:a,userName:l,history:c,shimebiDay:o,businessStartHour:u,monthsData:p})=>{const[h,d]=_e.useState(!0),b=`${r.getFullYear()} ${r.getMonth()+1}`,[x,g]=_e.useState("monthly"),[v,y]=_e.useState(new Date),[k,R]=_e.useState(!1);V4.useEffect(()=>{y(new Date(r))},[r]);const z=T=>{const{end:j}=rr(T,o,u);return j},q=T=>{const j=new Date(v);x==="monthly"?j.setMonth(j.getMonth()+T):j.setFullYear(j.getFullYear()+T),y(j)},B=_e.useMemo(()=>{const j=z(v).getFullYear(),L=[];let D=0,Z=0,K=0,ee=0;const G=p||{},te=c||[];for(let H=0;H<12;H++){const U=new Date(j,H,o===0?28:o),{start:Q,end:ie}=rr(U,o,u),re=new Date(ie);o!==0&&re.setDate(o);const oe=`${j}-${String(H+1).padStart(2,"0")}`,he=G[oe];let ve=[],me=0,ne=0,de=0,xe=0;const Te=Ht(Q),Re=Ht(re),Pe=te.filter(Ue=>{const tt=Ot(Ue.timestamp,u);return tt>=Te&&tt<=Re});ve=Gi(Pe,u),me=new Set(ve.map(Ue=>Ot(Ue.timestamp,u))).size,ne=ve.length,de=ve.filter(O_).length,xe=(he==null?void 0:he.sales)??ve.reduce((Ue,tt)=>Ue+tt.amount,0),D+=me,Z+=ne,K+=de,ee+=xe,L.push({label:`${H+1}`,fullLabel:`${j}${H+1}`,referenceDate:U,dutyDays:me,count:ne,dispatch:de,sales:xe,records:ve})}return{yearLabel:`${j}`,periodLabel:`${o===0?j:j-1}${o===0?1:12}  ${j}12`,months:L,totals:{dutyDays:D,count:Z,dispatch:K,sales:ee}}},[c,p,v,o,u]),I=_e.useMemo(()=>{const{start:T,end:j}=rr(v,o,u),L=new Date(j);o!==0&&L.getDate()!==o&&L.setDate(o);const D=Ht(T),Z=Ht(L),K=z(v),ee=`${K.getFullYear()}-${String(K.getMonth()+1).padStart(2,"0")}`;(p||{})[ee];const H=(c||[]).filter(oe=>{const he=Ot(oe.timestamp,u);return he>=D&&he<=Z}),U=Gi(H,u),Q=[],ie=new Date(T);for(;ie<=L;)Q.push(new Date(ie)),ie.setDate(ie.getDate()+1);const re=Q.map(oe=>{const he=Ht(oe),ve=U.filter(de=>Ot(de.timestamp,u)===he);let me="",ne="";if(ve.length>0){const de=[...ve].sort((Te,Re)=>Te.timestamp-Re.timestamp),xe=Te=>new Date(Te).toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit"});me=xe(de[0].timestamp),ne=xe(de[de.length-1].timestamp)}return{dateStr:he,dateLabel:`${oe.getMonth()+1}/${oe.getDate()}`,weekDay:oe.getDay(),startTimeStr:me,endTimeStr:ne,count:ve.length,dispatch:ve.filter(O_).length,sales:ve.reduce((de,xe)=>de+xe.amount,0),hasData:ve.length>0,records:ve}});return{monthLabel:`${z(v).getFullYear()} ${z(v).getMonth()+1}`,periodLabel:`${D}  ${Z}`,rows:re,totals:{workDays:re.filter(oe=>oe.hasData).length,count:re.reduce((oe,he)=>oe+he.count,0),dispatch:re.reduce((oe,he)=>oe+he.dispatch,0),sales:re.reduce((oe,he)=>oe+he.sales,0)}}},[c,p,v,o,u]),O=["","","","","","",""],F=["text-red-400","text-gray-300","text-gray-300","text-gray-300","text-gray-300","text-gray-300","text-blue-400"],W=_e.useMemo(()=>[...n].sort((T,j)=>h?j[0].localeCompare(T[0]):T[0].localeCompare(j[0])),[n,h]),V=e.reduce((T,j)=>T+j.amount,0),N=A6(V),P=Ub(e),C=zb(e);e.length>0&&Math.round(V/e.length);const S=Vb(e),E=C6(e),A=s||{};return w.jsxs("div",{className:"space-y-5 animate-in slide-in-from-right duration-300",children:[!a&&l&&w.jsxs("div",{className:"bg-blue-900/20 border border-blue-500/30 p-3 rounded-xl flex items-center justify-center gap-2 mb-2",children:[w.jsx(Pl,{className:"w-4 h-4 text-blue-400"}),w.jsxs("span",{className:"text-blue-200 font-bold",children:[l," "]})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"flex bg-gray-800 p-1.5 rounded-2xl border-2 border-blue-500 shadow-sm",children:[w.jsxs("button",{onClick:()=>{g("monthly"),R(!0)},className:`flex-1 py-3 rounded-xl font-black transition-all flex items-center justify-center gap-2 text-sm whitespace-nowrap ${x==="monthly"?"bg-gray-700 text-amber-500 shadow-md border-2 border-amber-500":"text-gray-500"}`,children:[w.jsx(Qn,{className:"w-4 h-4"})," "]}),w.jsxs("button",{onClick:()=>{g("yearly"),R(!0)},className:`flex-1 py-3 rounded-xl font-black transition-all flex items-center justify-center gap-2 text-sm whitespace-nowrap ${x==="yearly"?"bg-gray-700 text-blue-400 shadow-md border-2 border-blue-400":"text-gray-500"}`,children:[w.jsx(nE,{className:"w-4 h-4"})," "]})]}),w.jsxs("div",{className:"space-y-0",children:[w.jsx("div",{onClick:()=>R(!k),className:`rounded-t-2xl p-4 text-center shadow-lg cursor-pointer active:brightness-95 transition-all ${x==="monthly"?"bg-[#EAB308]":"bg-[#CC6600]"}`,children:w.jsxs("div",{className:`flex justify-between items-center ${x==="monthly"?"text-black":"text-white"}`,children:[w.jsx("button",{onClick:T=>{T.stopPropagation(),q(-1)},className:"p-1 hover:bg-black/10 rounded-full active:scale-90",children:w.jsx(za,{className:"w-6 h-6"})}),w.jsxs("div",{className:"flex flex-col items-center",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("span",{className:"text-xl font-black tracking-tighter",children:x==="monthly"?I.monthLabel:`${B.yearLabel} `}),k?w.jsx(e0,{size:20}):w.jsx(ra,{size:20})]}),w.jsx("span",{className:`text-xs font-bold opacity-80 ${x==="yearly"&&"text-orange-100"}`,children:x==="monthly"?I.periodLabel:B.periodLabel})]}),w.jsx("div",{className:"flex gap-2",children:w.jsx("button",{onClick:T=>{T.stopPropagation(),q(1)},className:"p-1 hover:bg-black/10 rounded-full active:scale-90",children:w.jsx(Bs,{className:"w-6 h-6"})})})]})}),w.jsx("div",{className:`bg-gray-800 rounded-b-2xl overflow-hidden border-x-2 border-b-2 border-blue-500 shadow-2xl transition-all duration-300 ${k?"max-h-[2000px] opacity-100":"max-h-0 opacity-0"}`,children:w.jsx("div",{className:"overflow-x-auto",children:x==="monthly"?w.jsxs("table",{className:"w-full text-center text-base",children:[w.jsx("thead",{children:w.jsxs("tr",{className:"bg-[#0f371d] text-white text-sm border-b border-green-800/50",children:[w.jsx("th",{className:"py-3 px-1 font-bold w-[12%]",children:""}),w.jsx("th",{className:"py-3 px-1 font-bold w-[10%]",children:""}),w.jsx("th",{className:"py-3 px-1 font-bold w-[15%]",children:""}),w.jsx("th",{className:"py-3 px-1 font-bold w-[15%]",children:""}),w.jsx("th",{className:"py-3 px-1 font-bold w-[12%]",children:""}),w.jsx("th",{className:"py-3 px-1 font-bold w-[12%]",children:""}),w.jsx("th",{className:"py-3 px-2 font-bold w-[24%] text-right",children:""})]})}),w.jsxs("tbody",{className:"text-gray-300 font-medium text-base",children:[I.rows.map((T,j)=>w.jsxs("tr",{className:`${j%2===0?"bg-[#1A222C]":"bg-[#151b24]"} border-b border-gray-800/50 hover:bg-white/5 cursor-pointer`,onClick:()=>T.hasData&&i(T.dateStr),children:[w.jsx("td",{className:`py-3 px-1 font-bold border-r border-gray-800/50 ${F[T.weekDay]} ${T.hasData&&"underline decoration-amber-500/50"}`,children:T.dateLabel}),w.jsx("td",{className:`py-3 px-1 font-bold border-r border-gray-800/50 ${F[T.weekDay]}`,children:O[T.weekDay]}),w.jsx("td",{className:`py-3 px-1 font-mono tracking-tighter border-r border-gray-800/50 ${T.hasData?"text-white":"text-gray-600"}`,children:T.startTimeStr}),w.jsx("td",{className:`py-3 px-1 font-mono tracking-tighter border-r border-gray-800/50 ${T.hasData?"text-white":"text-gray-600"}`,children:T.endTimeStr}),w.jsx("td",{className:`py-3 px-1 font-bold border-r border-gray-800/50 ${T.hasData?"text-white":"text-gray-600"}`,children:T.hasData?T.count:"-"}),w.jsx("td",{className:`py-3 px-1 font-bold border-r border-gray-800/50 ${T.hasData?"text-white":"text-gray-600"}`,children:T.hasData?T.dispatch:"-"}),w.jsx("td",{className:`py-3 px-2 text-right font-mono font-black tracking-tight ${T.sales>0?"text-amber-400":"text-gray-700"}`,children:T.sales>0?T.sales.toLocaleString():"-"})]},j)),w.jsxs("tr",{className:"bg-[#EAB308] text-black font-black border-t-2 border-amber-600 text-lg",children:[w.jsx("td",{className:"py-3 px-1",colSpan:2,children:""}),w.jsxs("td",{className:"py-3 px-1 text-base",colSpan:2,children:[I.totals.workDays,""]}),w.jsx("td",{className:"py-3 px-1",children:I.totals.count}),w.jsx("td",{className:"py-3 px-1",children:I.totals.dispatch}),w.jsx("td",{className:"py-3 px-2 text-right",children:I.totals.sales.toLocaleString()})]})]})]}):w.jsxs("table",{className:"w-full text-center text-base",children:[w.jsx("thead",{children:w.jsxs("tr",{className:"bg-[#004d00] text-white text-sm border-b border-green-800/50",children:[w.jsx("th",{className:"py-3 px-2 font-bold w-[28%] whitespace-nowrap",children:""}),w.jsx("th",{className:"py-3 px-2 font-bold w-[15%]",children:""}),w.jsx("th",{className:"py-3 px-2 font-bold w-[15%]",children:""}),w.jsx("th",{className:"py-3 px-2 font-bold w-[15%]",children:""}),w.jsx("th",{className:"py-3 px-2 font-bold w-[27%] text-right",children:""})]})}),w.jsxs("tbody",{className:"text-gray-200 font-medium text-base",children:[B.months.map((T,j)=>w.jsxs("tr",{className:`${j%2===0?"bg-[#1A222C]":"bg-[#151b24]"} border-b border-gray-800/50 hover:bg-white/5 cursor-pointer`,onClick:()=>{T.sales>0&&(t(T.referenceDate),g("monthly"),R(!0))},children:[w.jsx("td",{className:"py-3 px-2 font-bold text-blue-400 border-r border-gray-800/50 underline decoration-blue-500/30 whitespace-nowrap",children:T.fullLabel}),w.jsx("td",{className:"py-3 px-2 font-bold border-r border-gray-800/50",children:T.sales>0?T.dutyDays:"-"}),w.jsx("td",{className:"py-3 px-2 font-bold border-r border-gray-800/50",children:T.sales>0?T.count:"-"}),w.jsx("td",{className:"py-3 px-2 font-bold border-r border-gray-800/50",children:T.sales>0?T.dispatch:"-"}),w.jsx("td",{className:`py-3 px-2 text-right font-mono font-black tracking-tight ${T.sales>0?"text-white":"text-gray-700"}`,children:T.sales>0?T.sales.toLocaleString():"-"})]},j)),w.jsxs("tr",{className:"bg-[#FFE4B5] text-black font-black border-t-2 border-orange-400 text-lg",children:[w.jsx("td",{className:"py-3 px-2",children:""}),w.jsx("td",{className:"py-3 px-2",children:B.totals.dutyDays}),w.jsx("td",{className:"py-3 px-2",children:B.totals.count.toLocaleString()}),w.jsx("td",{className:"py-3 px-2",children:B.totals.dispatch}),w.jsx("td",{className:"py-3 px-2 text-right",children:B.totals.sales.toLocaleString()})]})]})]})})})]})]}),w.jsxs("div",{className:"flex items-center justify-between bg-gray-800 rounded-[24px] p-2 border-2 border-blue-500 shadow-inner",children:[w.jsx("button",{onClick:()=>t(new Date(new Date(r).setMonth(r.getMonth()-1))),className:"p-3 text-gray-400 active:scale-90 flex-shrink-0",children:w.jsx(za,{className:"w-7 h-7"})}),w.jsx("span",{className:"font-black text-[clamp(1.4rem,6vw,2rem)] text-white tracking-tight whitespace-nowrap",children:b}),w.jsx("button",{onClick:()=>t(new Date(new Date(r).setMonth(r.getMonth()+1))),className:"p-3 text-gray-400 active:scale-90 flex-shrink-0",children:w.jsx(Bs,{className:"w-7 h-7"})})]}),w.jsxs("section",{className:"space-y-6",children:[w.jsxs("div",{className:"bg-[#1A222C] rounded-[32px] border border-gray-800 shadow-2xl relative overflow-hidden p-6",children:[w.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-amber-500 to-transparent opacity-50"}),w.jsx("p",{className:"text-sm font-black text-amber-500 uppercase tracking-[0.3em] mb-4 text-center",children:" ()"}),w.jsx("div",{className:"text-center mb-4",children:w.jsx("span",{className:"text-[clamp(2.5rem,12vw,5.5rem)] font-black text-amber-500 leading-none tracking-tighter",children:Lr(V)})}),w.jsxs("div",{className:"flex flex-col items-center gap-1.5",children:[w.jsxs("p",{className:"text-base font-bold text-gray-400",children:["( ",Lr(N),")"]}),w.jsxs("p",{className:"text-base font-bold text-gray-400",children:[" ",Lr(V-N)]})]})]}),w.jsx("div",{className:"bg-[#1A222C] p-6 rounded-[32px] border border-gray-800 shadow-2xl",children:w.jsx(Hb,{breakdown:P,counts:C,customLabels:A,enabledMethods:Object.keys(va)})}),w.jsx("div",{className:"bg-[#1A222C] p-6 rounded-[32px] border border-gray-800 shadow-2xl",children:w.jsx(D6,{breakdown:S,counts:E,enabledRideTypes:Object.keys(Ki)})})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("h3",{className:"text-xs font-black text-gray-500 uppercase px-1 tracking-widest flex justify-between items-center italic flex-wrap gap-2",children:[w.jsx("span",{children:""}),w.jsxs("button",{onClick:()=>d(!h),className:"text-[12px] bg-gray-800 text-gray-400 px-3 py-1.5 rounded-full flex items-center gap-2 font-black active:scale-95 shadow-sm border border-gray-700 whitespace-nowrap",children:[w.jsx(P1,{className:"w-3.5 h-3.5"}),""]})]}),w.jsx("div",{className:"space-y-3",children:W.length>0?W.slice(0,100).map(([T,j])=>w.jsxs("div",{onClick:()=>i(T),className:"bg-[#1A222C] rounded-[24px] p-4 border border-gray-800 flex justify-between items-center active:bg-gray-800 transition-all shadow-md group cursor-pointer gap-3 w-full",children:[w.jsxs("div",{className:"z-10 overflow-hidden min-w-0 flex-1",children:[w.jsx("p",{className:"font-black text-white text-[clamp(1.2rem,6vw,1.6rem)] tracking-tight truncate",children:T}),w.jsx("div",{className:"flex gap-2 mt-1 items-center",children:w.jsxs("p",{className:"text-[12px] text-gray-400 font-black uppercase tracking-widest whitespace-nowrap",children:[j.length,""]})})]}),w.jsxs("div",{className:"text-right flex items-center gap-2 flex-shrink-0",children:[w.jsx("p",{className:"font-black text-amber-500 text-[clamp(1.4rem,7vw,2rem)] truncate leading-tight",children:Lr(j.reduce((L,D)=>L+D.amount,0))}),w.jsx(Bs,{className:"w-5 h-5 text-gray-700"})]})]},T)):w.jsx("p",{className:"text-center text-gray-600 font-bold py-10 italic uppercase tracking-widest",children:"No Data in this period"})})]})]})},Cj=["toppo2000@gmail.com","admin-user@gmail.com"],Nj=({history:r,dayMetadata:t,customPaymentLabels:e,businessStartHour:n,shimebiDay:s,onEditRecord:i,onUpdateMetadata:a,stats:l,initialTargetDate:c,onClearTargetDate:o})=>{var G,te;const[u,p]=_e.useState((G=mr.currentUser)==null?void 0:G.uid),[h,d]=_e.useState(!0),[b,x]=_e.useState([]),[g,v]=_e.useState(null),[y,k]=_e.useState([]),[R,z]=_e.useState({}),[q,B]=_e.useState({}),[I,O]=_e.useState(()=>{const{end:H}=rr(new Date,s,n);return H}),[F,W]=_e.useState(null),V=_e.useRef(null),N=(te=mr.currentUser)==null?void 0:te.uid,P=u===N,C=b.find(H=>H.uid===u)||null,S=P?n:(C==null?void 0:C.businessStartHour)||9;_e.useEffect(()=>{const H=Hr(Gr(Lt,"public_status"),un("lastUpdated","desc"),w6(50)),U=Ls(H,Q=>{const ie=[];Q.forEach(re=>{const oe=re.data();ie.push({uid:re.id,...oe}),re.id===N&&T(oe.months||{})}),x(ie)});return()=>U()},[N]),_e.useEffect(()=>{(async()=>{if(!u)return;d(P),v(C);const{start:U,end:Q}=rr(I,s,S);try{let ie=[];const re=U.getTime(),oe=Q.getTime();try{const me=Gr(Lt,"public_status",u,"history"),ne=Hr(me,Ss("timestamp",">=",re),Ss("timestamp","<=",oe),un("timestamp","asc")),de=await Zr(ne);de.empty||(de.forEach(xe=>{ie.push(xe.data())}),console.log(`[HistoryView] Loaded ${ie.length} records from subcollection for period ${Ht(U)} - ${Ht(Q)}`))}catch(me){if((me==null?void 0:me.code)==="failed-precondition"){console.log("[HistoryView] Index not available, loading all records and filtering...");try{const ne=Gr(Lt,"public_status",u,"history"),de=Hr(ne,un("timestamp","asc"));(await Zr(de)).forEach(Te=>{const Re=Te.data();Re.timestamp>=re&&Re.timestamp<=oe&&ie.push(Re)}),console.log(`[HistoryView] Loaded ${ie.length} records from subcollection (with client-side filtering)`)}catch{console.log("[HistoryView] Subcollection not available, falling back to array field")}}else console.log("[HistoryView] Subcollection not available, falling back to array field")}k(ie);const he=await Fs(or(Lt,"public_status",u));if(he.exists()){const me=he.data();B(me.months||{})}else B({});const ve=await Fs(or(Lt,"users",u));if(ve.exists()){const me=ve.data();z(me.dayMetadata||{})}else z({})}catch(ie){console.error(":",ie)}})()},[u,I,s,S,b]),_e.useEffect(()=>{if(c){const H=c.toString();if(V.current===H)return;if(typeof c=="string"){const U=new Date(c),{end:Q}=rr(U,s,n);O(new Date(Q)),W(c)}else if(c instanceof Date){const{end:U}=rr(c,s,n);O(new Date(U)),W(null)}V.current=H,o&&o()}},[c,s,n,o]);const E=_e.useMemo(()=>{var Q;const H=(Q=mr.currentUser)==null?void 0:Q.email,U=H&&Cj.includes(H);return b.filter(ie=>{if(ie.uid===N||U)return!0;const re=ie.visibilityMode||"PUBLIC";return re==="PRIVATE"?!1:re==="CUSTOM"?ie.allowedViewers&&ie.allowedViewers.includes(N):!0}).sort((ie,re)=>ie.uid===N?-1:re.uid===N?1:0)},[b,N]),[A,T]=_e.useState({}),j=P?r:y,L=P?e:{},D=P?t:R,Z=P?A:q,K=_e.useMemo(()=>{const H=j||[],U=new Map;return H.forEach(Q=>U.set(Q.id,Q)),Array.from(U.values()).sort((Q,ie)=>Q.timestamp-ie.timestamp)},[j]),ee=()=>{if(F)try{const Q=D[F]||{memo:"",attributedMonth:"",totalRestMinutes:0},ie=j||[],re=ie.filter(oe=>{try{return Ot(oe.timestamp,S)===F}catch(he){return console.error("[HistoryView] Error filtering record:",he,oe),!1}});return console.log("[HistoryView] Rendering DailyDetailView:",{selectedDay:F,recordsCount:re.length,meta:Q,isViewingMe:P,targetHistoryLength:ie.length}),w.jsx("div",{className:"w-full bg-[#0A0E14] min-h-screen",children:w.jsx(Ej,{date:F,records:re,meta:Q,customLabels:L,businessStartHour:S,onBack:()=>W(null),isMe:P,onUpdateMetadata:P?a:void 0,onEditRecord:P?i:void 0})})}catch(Q){return console.error("[HistoryView] Error rendering DailyDetailView:",Q),w.jsxs("div",{className:"p-4 text-center text-red-400",children:[w.jsxs("p",{children:[": ",String(Q)]}),w.jsx("button",{onClick:()=>W(null),className:"mt-4 px-4 py-2 bg-gray-800 rounded-lg",children:""})]})}const{monthData:H,dailyGroups:U}=(()=>{const Q=new Date(I.getFullYear(),I.getMonth(),s===0?28:s),{start:ie,end:re}=rr(Q,s,S),oe=new Date(re);s!==0&&oe.setDate(s);const he=Ht(ie),ve=Ht(oe),ne=(j||[]).filter(xe=>{const Te=Ot(xe.timestamp,S);return Te>=he&&Te<=ve}),de={};return ne.forEach(xe=>{const Te=Ot(xe.timestamp,S);de[Te]||(de[Te]=[]),de[Te].push(xe)}),{monthData:ne,dailyGroups:Object.entries(de)}})();return w.jsx("div",{className:"p-4 pb-32 w-full overflow-hidden",children:w.jsx(Aj,{displayMonth:I,setCurrentMonth:O,monthData:H,dailyGroups:U,customLabels:L,onSelectDay:W,isMe:P,userName:g==null?void 0:g.name,history:K,shimebiDay:s,businessStartHour:S,monthsData:Z})})};return w.jsxs("div",{className:"w-full min-h-screen bg-[#0A0E14]",children:[!F&&w.jsx("div",{className:"p-4 pb-0",children:w.jsxs("div",{className:"relative",children:[w.jsx("select",{value:u||"",onChange:H=>p(H.target.value),className:"w-full appearance-none bg-gray-900 border border-gray-800 text-white font-bold py-3 px-4 rounded-2xl shadow-sm focus:outline-none focus:ring-2 focus:ring-amber-500/50",children:E.map(H=>{var U;return w.jsx("option",{value:H.uid,children:H.uid===((U=mr.currentUser)==null?void 0:U.uid)?` (${l.userName})`:H.name||""},H.uid)})}),w.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-gray-400",children:w.jsx(ra,{className:"w-5 h-5"})})]})}),ee()]})},Rj=["toppo2000@gmail.com","admin-user@gmail.com"],Mj=({text:r,isScrolling:t,cardId:e,onAnimationComplete:n})=>{const s=_e.useRef(null),i=_e.useRef(null),[a,l]=_e.useState(!1),c=_e.useRef(null);return _e.useEffect(()=>{if(s.current&&i.current){const o=s.current.scrollWidth,u=i.current.clientWidth;l(o>u)}},[r]),_e.useEffect(()=>{if(!a||!t){s.current&&(s.current.style.transition="",s.current.style.transform=""),c.current&&(clearTimeout(c.current),c.current=null);return}if(s.current&&i.current){const o=s.current.scrollWidth,u=i.current.clientWidth,p=o-u;p>0&&(s.current.style.transition="transform 1.33s linear",s.current.style.transform=`translateX(-${p}px)`,c.current=setTimeout(()=>{s.current&&(s.current.style.transition="transform 0.3s ease-out",s.current.style.transform="",n(e))},1330))}return()=>{c.current&&clearTimeout(c.current)}},[t,a,e,n]),w.jsx("div",{ref:i,className:"overflow-hidden flex-1 min-w-0 opacity-70",children:w.jsx("span",{ref:s,className:"whitespace-nowrap inline-block",children:r})})},jj=({history:r,stats:t,onNavigateToHistory:e})=>{var I,O;const[n,s]=_e.useState("allTime"),[i,a]=_e.useState([]),[l,c]=_e.useState(new Date),[o,u]=_e.useState([]),[p,h]=_e.useState({}),d=t.businessStartHour??9,b=t.shimebiDay??20,x=(I=mr.currentUser)==null?void 0:I.uid,g=((O=mr.currentUser)==null?void 0:O.email)||"",v=Rj.includes(g);_e.useEffect(()=>{const F=Ls(Gr(Lt,"public_status"),W=>{const V=W.docs.map(N=>({...N.data(),uid:N.id}));a(V)});return()=>F()},[]);const y=F=>{if(F.uid===x||v)return!0;if(!t.followingUsers.includes(F.uid))return!1;const W=F.visibilityMode||"PUBLIC";return W==="PRIVATE"?!1:W==="CUSTOM"?F.allowedViewers&&F.allowedViewers.includes(x||""):!0},[k,R]=_e.useState([]);_e.useEffect(()=>{const F=async()=>{try{let W=[];for(const N of i.filter(y)){let P=[];try{const E=Gr(Lt,"public_status",N.uid,"history"),A=Hr(E,un("amount","desc"),w6(100)),T=await Zr(A),j=[];T.forEach(L=>{var Z;const D=L.data();(Z=D.remarks)!=null&&Z.includes("")||j.push(D)}),P=j.sort((L,D)=>D.amount-L.amount).slice(0,20)}catch(E){console.warn(`[AnalysisView] Failed to load records from subcollection for user ${N.uid}:`,E),N.topRecords&&Array.isArray(N.topRecords)&&N.topRecords.length>0?P=N.topRecords:N.history&&Array.isArray(N.history)&&N.history.length>0&&(P=N.history.filter(A=>{var T;return!((T=A.remarks)!=null&&T.includes(""))}).sort((A,T)=>T.amount-A.amount).slice(0,20))}const C=N.name||"Unknown",S=N.uid===x;Array.isArray(P)&&P.forEach(E=>{W.push({...E,userName:C,isMe:S})})}const V=W.sort((N,P)=>P.amount-N.amount).slice(0,20);R(V)}catch(W){console.error("[AnalysisView] Error loading all-time ranking:",W),R([])}};i.length>0?F():R([])},[i,x,t.followingUsers,v]);const z=_e.useMemo(()=>[...i].filter(y).sort((F,W)=>(W.monthlyTotal||0)-(F.monthlyTotal||0)).map((F,W)=>({uid:F.uid,rank:W+1,name:F.name||"Unknown",amount:F.monthlyTotal||0,monthlyGoal:F.monthlyGoal||1e6,rideCount:F.rideCount||0,isMe:F.uid===x})),[i,x,t.followingUsers,v]);_e.useEffect(()=>{n==="daily"&&(async()=>{try{const W=new Date(l);W.setHours(d,0,0,0);const V=Ot(W.getTime(),d),N=[];if(i.length===0){console.log("[AnalysisView] publicStatusData is empty"),u([]);return}const P=new Date(l);P.setHours(d,0,0,0);const C=new Date(P);C.setDate(C.getDate()+1),C.setHours(d,0,0,0),C.setMilliseconds(C.getMilliseconds()-1);const S=P.getTime(),E=C.getTime();console.log(`[AnalysisView] Selected date: ${Ht(l)}, Business date: ${V}`),console.log(`[AnalysisView] Timestamp range: ${new Date(S).toISOString()} to ${new Date(E).toISOString()}`),console.log(`[AnalysisView] Start: ${Ht(P)} ${P.getHours()}:00, End: ${Ht(C)} ${C.getHours()}:00`);const A=i.filter(y);console.log(`[AnalysisView] Date: ${V}, Total users: ${i.length}, Filtered users: ${A.length}`);for(const T of A)try{let j=0,L=[];const D=T.businessStartHour??d,Z=new Date(l);Z.setHours(D,0,0,0);const K=Ot(Z.getTime(),D),ee=new Date(l);ee.setHours(D,0,0,0);const G=new Date(ee);G.setDate(G.getDate()+1),G.setHours(D,0,0,0),G.setMilliseconds(G.getMilliseconds()-1);const te=ee.getTime(),H=G.getTime();console.log(`[AnalysisView] User ${T.name} (${T.uid}), businessStartHour: ${D}, business date: ${K}`),console.log(`[AnalysisView] User ${T.name}, timestamp range: ${new Date(te).toISOString()} to ${new Date(H).toISOString()}`);try{const re=Gr(Lt,"public_status",T.uid,"history");let oe;try{const he=Hr(re,Ss("timestamp",">=",te),Ss("timestamp","<=",H),un("timestamp","asc"));oe=await Zr(he)}catch(he){console.log(`[AnalysisView] User ${T.name} (${T.uid}), index error, trying without orderBy:`,he==null?void 0:he.code);const ve=Hr(re,Ss("timestamp",">=",te),Ss("timestamp","<=",H));oe=await Zr(ve)}if(oe.empty){console.log(`[AnalysisView] User ${T.name} (${T.uid}), date ${K}: Subcollection query returned empty`);try{const he=Hr(re,un("timestamp","desc")),ve=await Zr(he);ve.empty||(ve.forEach(me=>{const ne=me.data();Ot(ne.timestamp,D)===K&&L.push(ne)}),console.log(`[AnalysisView] User ${T.name} (${T.uid}), date ${K}: Found ${L.length} records from full subcollection scan`))}catch(he){console.log(`[AnalysisView] User ${T.name} (${T.uid}), full scan error:`,he==null?void 0:he.code)}}else{const he=[];if(oe.forEach(ve=>{const me=ve.data();he.push(me),Ot(me.timestamp,D)===K&&L.push(me)}),console.log(`[AnalysisView] User ${T.name} (${T.uid}), date ${K}: Found ${he.length} records in timestamp range, ${L.length} records match business date`),console.log(`[AnalysisView] User ${T.name}, records in range:`,he.map(ve=>{var me;return{timestamp:new Date(ve.timestamp).toISOString(),businessDate:Ot(ve.timestamp,D),amount:ve.amount,isSimple:(me=ve.remarks)==null?void 0:me.includes("")}})),console.log(`[AnalysisView] User ${T.name}, matching records:`,L.map(ve=>{var me;return{id:ve.id,amount:ve.amount,isSimple:(me=ve.remarks)==null?void 0:me.includes("")}})),L.length===0||he.length<5){console.log(`[AnalysisView] User ${T.name} (${T.uid}), date ${K}: Trying full scan as backup`);try{const ve=Hr(re,un("timestamp","desc")),me=await Zr(ve);if(!me.empty){const ne=[];me.forEach(de=>{const xe=de.data();Ot(xe.timestamp,D)===K&&ne.push(xe)}),L.push(...ne),console.log(`[AnalysisView] User ${T.name} (${T.uid}), date ${K}: Found ${ne.length} additional records from full subcollection scan`)}}catch(ve){console.log(`[AnalysisView] User ${T.name} (${T.uid}), full scan error:`,ve==null?void 0:ve.code)}}}}catch(re){console.log(`[AnalysisView] User ${T.name} (${T.uid}), subcollection query error:`,re==null?void 0:re.code,re==null?void 0:re.message)}L.length===0&&(L=(T.history||[]).filter(oe=>Ot(oe.timestamp,D)===K),console.log(`[AnalysisView] User ${T.name} (${T.uid}), date ${K}: Found ${L.length} records from history array`));const U={};L.forEach(re=>{if(re.id&&!U[re.id])U[re.id]=re;else if(!re.id){const oe=`${re.timestamp}_${re.amount}_${re.pickupLocation||""}`;U[oe]||(U[oe]=re)}});const Q=Object.values(U);console.log(`[AnalysisView] User ${T.name} (${T.uid}), date ${K}: After deduplication: ${Q.length} records (was ${L.length})`),console.log(`[AnalysisView] User ${T.name} (${T.uid}), records before filtering:`,Q.map(re=>{var oe;return{id:re.id,amount:re.amount,isSimple:(oe=re.remarks)==null?void 0:oe.includes("")}}));const ie=Gi(Q,D);j=ie.reduce((re,oe)=>re+(oe.amount||0),0),console.log(`[AnalysisView] User ${T.name}, after filtering: ${ie.length} records, total: ${j}`),console.log(`[AnalysisView] User ${T.name}, filtered records:`,ie.map(re=>{var oe;return{id:re.id,amount:re.amount,isSimple:(oe=re.remarks)==null?void 0:oe.includes("")}})),j>0&&(N.push({uid:T.uid,rank:0,name:T.name||"Unknown",amount:j,isMe:T.uid===x}),console.log(`[AnalysisView] Added user ${T.name} to ranking with amount: ${j}`))}catch(j){if(console.error(`[AnalysisView] Error processing user ${T.name} (${T.uid}):`,j),(j==null?void 0:j.code)==="failed-precondition"||(j==null?void 0:j.code)==="unavailable"){const L=T.businessStartHour??d,D=new Date(l);D.setHours(L,0,0,0);const Z=Ot(D.getTime(),L),ee=(T.history||[]).filter(H=>Ot(H.timestamp,L)===Z);console.log(`[AnalysisView] User ${T.name} (${T.uid}), fallback to history array: Found ${ee.length} records`);const G=Gi(ee,L),te=G.reduce((H,U)=>H+(U.amount||0),0);console.log(`[AnalysisView] User ${T.name}, after filtering: ${G.length} records, total: ${te}`),te>0&&(N.push({uid:T.uid,rank:0,name:T.name||"Unknown",amount:te,isMe:T.uid===x}),console.log(`[AnalysisView] Added user ${T.name} to ranking with amount: ${te}`))}}console.log(`[AnalysisView] Final ranking count: ${N.length}`),N.sort((T,j)=>j.amount-T.amount),N.forEach((T,j)=>{T.rank=j+1}),u(N)}catch(W){console.error(":",W)}})()},[n,l,i,d,x,t.followingUsers,v]);const q=F=>{const W=new Date(l);W.setDate(W.getDate()+F),c(W)},B=new Date;return _e.useMemo(()=>{const{start:F,end:W}=rr(B,b,d),V=new Date(W);b!==0&&V.setDate(b);const N=Ht(F),P=Ht(V),C=r.filter(re=>{const oe=Ot(re.timestamp,d);return oe>=N&&oe<=P}),S=C.reduce((re,oe)=>re+oe.amount,0),E=C.length,A=E>0?S/E:0,T=C.filter(re=>re.isBadCustomer).length;let j=0,L=0;C.forEach(re=>{j+=re.passengersMale||0,L+=re.passengersFemale||0});const D=j+L,Z={};let K=0;C.forEach(re=>{const oe=re.amount+re.toll;Z[re.paymentMethod]=(Z[re.paymentMethod]||0)+oe,K+=oe});const ee=Object.entries(Z).sort(([,re],[,oe])=>oe-re).map(([re,oe])=>({method:re,amount:oe,percent:K>0?oe/K*100:0})),G=Array(8).fill(0);C.forEach(re=>{G[Math.floor(new Date(re.timestamp).getHours()/3)]+=re.amount});const te=Math.max(...G,1),H=G.map((re,oe)=>({label:["0-3","3-6","6-9","9-12","12-15","15-18","18-21","21-24"][oe],value:re,percent:re/te*100})),U=Array(7).fill(0);C.forEach(re=>{U[new Date(re.timestamp).getDay()]+=re.amount});const Q=Math.max(...U,1),ie=U.map((re,oe)=>({value:re,percent:re/Q*100}));return{totalSales:S,count:E,avg:A,badCustomers:T,badCustomerRate:E>0?T/E*100:0,gender:{male:j,female:L,total:D,malePer:D>0?j/D*100:0,femalePer:D>0?L/D*100:0},paymentData:ee,hourlyData:H,dayOfWeekData:ie,records:C}},[r,B,b,d]),w.jsx("div",{className:"p-4 pb-32 space-y-8 w-full overflow-hidden animate-in fade-in duration-500 bg-[#0A0E14] min-h-screen",children:w.jsxs("section",{className:"space-y-4",children:[w.jsx("div",{className:"sticky top-0 z-20 bg-[#0A0E14] pb-2",children:w.jsxs("h2",{className:"text-2xl font-black text-white mb-3 tracking-tight flex items-center gap-2",children:[w.jsx(zc,{className:"w-6 h-6 text-[#EAB308]"}),w.jsx("span",{className:"bg-gradient-to-r from-amber-400 to-yellow-300 bg-clip-text text-transparent",children:""})]})}),w.jsxs("div",{className:"flex gap-2 sticky top-16 z-10",children:[w.jsxs("button",{onClick:()=>s("allTime"),className:`flex-1 py-3 rounded-2xl font-black transition-all flex items-center justify-center gap-2 text-sm shadow-lg border-2 whitespace-nowrap ${n==="allTime"?"bg-[#EAB308] text-black border-[#EAB308] scale-[1.02] shadow-[#EAB308]/50":"bg-gray-800/80 text-gray-300 border-gray-700 hover:bg-gray-700 hover:border-gray-600"}`,children:[w.jsx(zc,{className:"w-4 h-4"})," "]}),w.jsxs("button",{onClick:()=>s("monthly"),className:`flex-1 py-3 rounded-2xl font-black transition-all flex items-center justify-center gap-2 text-sm shadow-lg border-2 whitespace-nowrap ${n==="monthly"?"bg-blue-500 text-white border-blue-500 scale-[1.02] shadow-blue-500/50":"bg-gray-800/80 text-gray-300 border-gray-700 hover:bg-gray-700 hover:border-gray-600"}`,children:[w.jsx(Xg,{className:"w-4 h-4"})," Rank"]}),w.jsxs("button",{onClick:()=>s("daily"),className:`flex-1 py-3 rounded-2xl font-black transition-all flex items-center justify-center gap-2 text-sm shadow-lg border-2 whitespace-nowrap ${n==="daily"?"bg-purple-500 text-white border-purple-500 scale-[1.02] shadow-purple-500/50":"bg-gray-800/80 text-gray-300 border-gray-700 hover:bg-gray-700 hover:border-gray-600"}`,children:[w.jsx(Qn,{className:"w-4 h-4"})," Rank"]})]}),n==="daily"&&w.jsx("div",{className:"bg-gray-800 rounded-2xl p-4 border border-gray-700",children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx("button",{onClick:()=>q(-1),className:"p-2 rounded-xl bg-gray-700 hover:bg-gray-600 transition-colors",children:w.jsx(za,{className:"w-5 h-5 text-white"})}),w.jsx("div",{className:"flex-1 text-center",children:w.jsx("input",{type:"date",value:Ht(l).replace(/\//g,"-"),onChange:F=>c(new Date(F.target.value)),className:"bg-gray-900 border border-gray-700 rounded-xl px-4 py-2 text-white font-black text-center focus:outline-none focus:border-blue-500"})}),w.jsx("button",{onClick:()=>q(1),className:"p-2 rounded-xl bg-gray-700 hover:bg-gray-600 transition-colors",children:w.jsx(Bs,{className:"w-5 h-5 text-white"})})]})}),w.jsxs("div",{className:"space-y-3 min-h-[300px]",children:[n==="allTime"&&(k.length>0?k.map((F,W)=>{const V=`${F.id}-${W}`,N=`${F.pickupLocation||"---"}  ${F.dropoffLocation||"---"}`,P=p[V]||!1;return w.jsx("div",{onClick:()=>{h(C=>({...C,[V]:!C[V]}))},className:"cursor-pointer",children:w.jsxs("div",{className:`group relative overflow-hidden bg-gray-800 border-2 ${F.isMe?"border-amber-500 bg-amber-900/10":"border-blue-500"} rounded-2xl p-4 flex items-center gap-4 transition-all hover:border-blue-400`,children:[w.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center font-black text-lg flex-shrink-0 ${W===0?"bg-gradient-to-br from-amber-300 to-amber-600 text-black shadow-lg shadow-amber-500/30":W===1?"bg-gradient-to-br from-gray-300 to-gray-500 text-black":W===2?"bg-gradient-to-br from-orange-700 to-orange-900 text-white border border-white/20":"bg-gradient-to-br from-gray-600 to-gray-800 text-gray-300"}`,children:W+1}),w.jsxs("div",{className:"flex-1 min-w-0 z-10",children:[w.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[w.jsx("span",{className:`text-[2.2rem] font-black tracking-tighter ${F.isMe?"text-amber-500":"text-white"}`,children:Lr(F.amount)}),w.jsx("span",{className:"text-[15px] font-bold text-gray-500 uppercase",children:Ht(new Date(F.timestamp))})]}),w.jsxs("div",{className:"flex items-center gap-2 text-lg font-bold text-gray-400",children:[w.jsx("span",{className:`px-1.5 py-0.5 rounded text-[15px] uppercase border ${F.isMe?"bg-amber-500/20 text-amber-400 border-amber-500/30":"bg-gray-800 border-gray-700"}`,children:F.userName}),w.jsx(Mj,{text:N,isScrolling:P,cardId:V,onAnimationComplete:C=>{h(S=>({...S,[C]:!1}))}})]})]}),F.isMe&&w.jsx("div",{className:"absolute inset-0 bg-amber-500/5 pointer-events-none"})]})},V)}):w.jsxs("div",{className:"text-center py-12 text-gray-600 font-bold bg-gray-800 rounded-3xl border-2 border-blue-500",children:[w.jsx(zc,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),w.jsx("p",{children:""})]})),n==="monthly"&&(z.length>0?z.map((F,W)=>w.jsxs("div",{className:`group relative overflow-hidden bg-gray-800 border-2 ${F.isMe?"border-blue-500 bg-blue-900/10":"border-blue-500"} rounded-2xl p-4 flex items-center justify-between transition-all hover:border-blue-400`,children:[w.jsxs("div",{className:"flex items-center gap-4 z-10",children:[w.jsxs("div",{className:`text-xl font-black italic w-6 text-center ${W<3?"text-white drop-shadow-md":"text-gray-600"}`,children:["#",F.rank]}),w.jsxs("div",{children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("span",{className:`text-sm font-bold ${F.isMe?"text-blue-400":"text-gray-200"}`,children:F.name}),F.isMe&&w.jsx("span",{className:"text-[9px] bg-blue-500 text-white px-1.5 rounded font-black",children:"YOU"})]}),w.jsx("div",{className:"text-[10px] text-gray-500 font-mono mt-0.5 flex gap-2",children:w.jsxs("span",{children:[F.rideCount,""]})})]})]}),w.jsx("div",{className:"text-right z-10",children:w.jsx("p",{className:"text-lg font-black text-white tracking-tight",children:Lr(F.amount)})}),w.jsx("div",{className:"absolute inset-y-0 left-0 bg-white/5 z-0 transition-all duration-1000 origin-left",style:{width:`${Math.min(100,F.monthlyGoal>0?F.amount/F.monthlyGoal*100:0)}%`}})]},F.uid)):w.jsxs("div",{className:"text-center py-12 text-gray-600 font-bold bg-gray-900/50 rounded-3xl border border-gray-800",children:[w.jsx(Xg,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),w.jsx("p",{children:""})]})),n==="daily"&&(o.length>0?o.map((F,W)=>{var V;return w.jsxs("div",{className:`group relative overflow-hidden bg-gray-800 border-2 ${F.isMe?"border-orange-500 bg-orange-900/10":"border-blue-500"} rounded-2xl p-4 flex items-center justify-between transition-all hover:border-blue-400`,children:[w.jsxs("div",{className:"flex items-center gap-4 z-10",children:[w.jsxs("div",{className:`text-xl font-black italic w-6 text-center ${W<3?"text-white drop-shadow-md":"text-gray-600"}`,children:["#",F.rank]}),w.jsx("div",{children:w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("span",{className:`text-sm font-bold ${F.isMe?"text-orange-400":"text-gray-200"}`,children:F.name}),F.isMe&&w.jsx("span",{className:"text-[9px] bg-orange-500 text-white px-1.5 rounded font-black",children:"YOU"})]})})]}),w.jsx("div",{className:"text-right z-10",children:w.jsx("p",{className:"text-lg font-black text-white tracking-tight",children:Lr(F.amount)})}),o.length>0&&w.jsx("div",{className:"absolute inset-y-0 left-0 bg-white/5 z-0 transition-all duration-1000 origin-left",style:{width:`${Math.min(100,F.amount/(((V=o[0])==null?void 0:V.amount)||1)*100)}%`}})]},F.uid)}):w.jsxs("div",{className:"text-center py-12 text-gray-600 font-bold bg-gray-800 rounded-3xl border-2 border-blue-500",children:[w.jsx(Qn,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),w.jsx("p",{children:""})]}))]})]})})},Dj=r=>{switch(r){case"CASH":return"bg-amber-400";case"CARD":return"bg-blue-400";case"NET":return"bg-purple-400";case"E_MONEY":return"bg-emerald-400";case"TRANSPORT":return"bg-cyan-400";case"DIDI":return"bg-orange-400";case"QR":return"bg-teal-400";case"TICKET":return"bg-rose-400";default:return"bg-gray-400"}},Ij=r=>{switch(r){case"FLOW":return"bg-green-400";case"WAIT":return"bg-yellow-400";case"APP":return"bg-blue-400";case"HIRE":return"bg-purple-400";case"RESERVE":return"bg-pink-400";case"WIRELESS":return"bg-indigo-400";default:return"bg-gray-400"}},Oj=({history:r,stats:t})=>{const[e,n]=_e.useState(new Date),s=t.businessStartHour??9,i=t.shimebiDay??20,a=o=>{const u=new Date(e);u.setMonth(u.getMonth()+o),n(u)},l=_e.useMemo(()=>{const{end:o}=rr(e,i,s);return`${o.getFullYear()} ${o.getMonth()+1}`},[e,i,s]),c=_e.useMemo(()=>{const{start:o,end:u}=rr(e,i,s),p=new Date(u);i!==0&&p.setDate(i);const h=Ht(o),d=Ht(p),b=r.filter(V=>{const N=Ot(V.timestamp,s);return N>=h&&N<=d}),x=b.reduce((V,N)=>V+N.amount,0),g=b.length,v=g>0?x/g:0,y=b.filter(V=>V.isBadCustomer).length;let k=0,R=0;b.forEach(V=>{k+=V.passengersMale||0,R+=V.passengersFemale||0});const z=k+R,q={};let B=0;b.forEach(V=>{const N=V.amount+V.toll;q[V.paymentMethod]=(q[V.paymentMethod]||0)+N,B+=N});const I=Object.entries(q).sort(([,V],[,N])=>N-V).map(([V,N])=>({method:V,amount:N,percent:B>0?N/B*100:0})),O=Vb(b),F=Object.values(O).reduce((V,N)=>V+N,0),W=Object.entries(O).sort(([,V],[,N])=>N-V).map(([V,N])=>({rideType:V,amount:N,percent:F>0?N/F*100:0}));return{totalSales:x,count:g,avg:v,badCustomers:y,badCustomerRate:g>0?y/g*100:0,gender:{male:k,female:R,total:z,malePer:z>0?k/z*100:0,femalePer:z>0?R/z*100:0},paymentData:I,rideData:W,records:b}},[r,e,i,s]);return w.jsx("div",{className:"p-4 pb-32 space-y-5 w-full overflow-hidden animate-in fade-in duration-500",children:w.jsxs("section",{className:"space-y-5",children:[w.jsxs("div",{className:"flex items-center justify-between px-1",children:[w.jsxs("h3",{className:"text-lg font-black text-white flex items-center gap-2 italic uppercase tracking-tighter",children:[w.jsx(cT,{className:"w-5 h-5 text-indigo-500"})," "]}),w.jsxs("div",{className:"flex items-center bg-gray-800 rounded-full border-2 border-blue-500 p-1",children:[w.jsx("button",{onClick:()=>a(-1),className:"p-2 hover:bg-gray-800 rounded-full text-gray-400 active:scale-90 transition-all",children:w.jsx(za,{className:"w-4 h-4"})}),w.jsx("span",{className:"text-xs font-black text-white px-2 tabular-nums",children:l}),w.jsx("button",{onClick:()=>a(1),className:"p-2 hover:bg-gray-800 rounded-full text-gray-400 active:scale-90 transition-all",children:w.jsx(Bs,{className:"w-4 h-4"})})]})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[w.jsxs("div",{className:"col-span-2 bg-gray-800 p-5 rounded-[28px] border-2 border-blue-500 shadow-xl relative overflow-hidden",children:[w.jsxs("p",{className:"text-xs font-black text-gray-500 uppercase tracking-widest mb-1 flex items-center gap-1.5",children:[w.jsx(VT,{className:"w-4 h-4 text-amber-500"})," "]}),w.jsx("p",{className:"text-[clamp(2.5rem,10vw,3.5rem)] font-black text-white leading-none tracking-tighter",children:Lr(c.totalSales)}),w.jsx("div",{className:"absolute top-4 right-4 opacity-10",children:w.jsx(NT,{className:"w-24 h-24 text-white"})})]}),w.jsxs("div",{className:"bg-gray-800 p-4 rounded-[24px] border-2 border-blue-500 flex flex-col justify-center min-h-[100px]",children:[w.jsx("p",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest mb-1",children:""}),w.jsx("p",{className:"text-xl font-black text-indigo-300 tracking-tight",children:Lr(Math.round(c.avg))})]}),w.jsxs("div",{className:"bg-gray-800 p-4 rounded-[24px] border-2 border-blue-500 flex flex-col justify-center min-h-[100px]",children:[w.jsx("p",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest mb-1",children:""}),w.jsxs("p",{className:"text-xl font-black text-white tracking-tight",children:[c.count,w.jsx("span",{className:"text-sm text-gray-500 ml-1",children:""})]})]})]}),w.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[w.jsx("div",{className:"bg-gray-800 p-4 rounded-[24px] border-2 border-blue-500 flex items-center justify-between",children:w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"p-2 bg-red-900/20 rounded-xl border border-red-900/30",children:w.jsx(z1,{className:"w-5 h-5 text-red-500"})}),w.jsxs("div",{children:[w.jsx("p",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest",children:""}),w.jsxs("p",{className:"text-lg font-black text-white",children:[c.badCustomerRate.toFixed(1),"%",w.jsxs("span",{className:"text-[10px] text-gray-500",children:[" (",c.badCustomers,")"]})]})]})]})}),w.jsxs("div",{className:"bg-gray-800 p-5 rounded-[24px] border-2 border-blue-500 space-y-3",children:[w.jsx("div",{className:"flex justify-between items-center text-xs font-bold text-gray-400",children:w.jsxs("span",{className:"flex items-center gap-1.5",children:[w.jsx(Rl,{className:"w-4 h-4 text-pink-400"}),"  ( ",c.gender.total,")"]})}),w.jsxs("div",{className:"h-6 w-full flex rounded-full overflow-hidden bg-gray-900 border border-gray-800",children:[w.jsx("div",{className:"h-full bg-blue-500 flex items-center justify-center text-[10px] font-black text-white",style:{width:`${c.gender.malePer}%`},children:c.gender.malePer>10&&`${Math.round(c.gender.malePer)}%`}),w.jsx("div",{className:"h-full bg-pink-500 flex items-center justify-center text-[10px] font-black text-white",style:{width:`${c.gender.femalePer}%`},children:c.gender.femalePer>10&&`${Math.round(c.gender.femalePer)}%`})]})]})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w.jsxs("div",{className:"bg-gray-800 p-5 rounded-[28px] border-2 border-blue-500 shadow-lg space-y-4",children:[w.jsxs("h4",{className:"text-xs font-black text-gray-500 uppercase tracking-widest flex items-center gap-2",children:[w.jsx(h0,{className:"w-4 h-4 text-emerald-500"})," "]}),w.jsx("div",{className:"space-y-3",children:c.paymentData.slice(0,4).map(o=>w.jsxs("div",{className:"space-y-1",children:[w.jsxs("div",{className:"flex justify-between text-[10px] font-bold",children:[w.jsx("span",{className:"text-gray-300",children:va[o.method]||o.method}),w.jsxs("span",{className:"text-gray-500",children:[Math.round(o.percent),"%"]})]}),w.jsx("div",{className:"h-2 w-full bg-gray-900 rounded-full overflow-hidden",children:w.jsx("div",{className:`h-full ${Dj(o.method)}`,style:{width:`${o.percent}%`}})})]},o.method))})]}),w.jsxs("div",{className:"bg-gray-800 p-5 rounded-[28px] border-2 border-blue-500 shadow-lg space-y-4",children:[w.jsxs("h4",{className:"text-xs font-black text-gray-500 uppercase tracking-widest flex items-center gap-2",children:[w.jsx(ci,{className:"w-4 h-4 text-cyan-500"})," "]}),w.jsx("div",{className:"space-y-3",children:c.rideData.slice(0,4).map(o=>w.jsxs("div",{className:"space-y-1",children:[w.jsxs("div",{className:"flex justify-between text-[10px] font-bold",children:[w.jsx("span",{className:"text-gray-300",children:Ki[o.rideType]||o.rideType}),w.jsxs("span",{className:"text-gray-500",children:[Math.round(o.percent),"%"]})]}),w.jsx("div",{className:"h-2 w-full bg-gray-900 rounded-full overflow-hidden",children:w.jsx("div",{className:`h-full ${Ij(o.rideType)}`,style:{width:`${o.percent}%`}})})]},o.rideType))})]})]}),w.jsx("div",{className:"bg-gray-800 p-6 rounded-[24px] border-2 border-blue-500/50 text-center",children:w.jsx("p",{className:"text-sm text-gray-400 font-bold",children:""})})]})})},cf=({page:r,title:t,children:e})=>w.jsxs("div",{className:"mb-12 animate-in fade-in slide-in-from-bottom-8 duration-1000",children:[w.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[w.jsxs("div",{className:"bg-amber-500 text-black font-black px-3 py-1 rounded-full text-sm italic",children:["PAGE ",r]}),w.jsx("h3",{className:"text-xl font-black text-white italic tracking-tighter",children:t})]}),w.jsx("div",{className:"bg-[#1A222C] rounded-[40px] border-4 border-gray-800 overflow-hidden shadow-[0_0_30px_rgba(245,158,11,0.1)]",children:e})]}),xn=({char:r,text:t,side:e="left"})=>w.jsxs("div",{className:`flex flex-col ${e==="right"?"items-end":"items-start"} mb-4`,children:[w.jsxs("div",{className:`flex items-center gap-2 mb-1 ${e==="right"?"flex-row-reverse":""}`,children:[w.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center border-2 ${r==="kenji"?"bg-gray-700 border-gray-500":"bg-amber-500 border-white shadow-[0_0_10px_#f59e0b]"}`,children:r==="kenji"?w.jsx(Pl,{size:16,className:"text-white"}):w.jsx(g9,{size:16,className:"text-black"})}),w.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:r==="kenji"?"Kenji":"Navi-Chan"})]}),w.jsx("div",{className:`max-w-[85%] p-4 rounded-[20px] font-bold text-sm leading-relaxed shadow-lg ${r==="kenji"?"bg-gray-800 text-gray-100 rounded-tl-none border border-gray-700":"bg-gradient-to-br from-amber-500 to-yellow-600 text-black rounded-tr-none shadow-[4px_4px_0px_#78350f]"}`,children:t})]}),Fj=()=>w.jsxs("div",{className:"p-4 pb-32 max-w-md mx-auto",children:[w.jsxs("div",{className:"text-center py-10 space-y-2",children:[w.jsx("h1",{className:"text-5xl font-black italic text-transparent bg-clip-text bg-gradient-to-b from-yellow-200 via-amber-500 to-amber-700 filter drop-shadow-lg",children:""}),w.jsx("h2",{className:"text-2xl font-black text-white tracking-[0.3em] uppercase",children:"TAXI-NAVIGATOR"}),w.jsx("div",{className:"h-1 w-24 bg-amber-500 mx-auto rounded-full"}),w.jsx("p",{className:"text-gray-500 font-bold text-xs pt-2",children:""})]}),w.jsx(cf,{page:1,title:"",children:w.jsxs("div",{className:"p-6 space-y-6",children:[w.jsxs("div",{className:"bg-gray-950/80 p-6 rounded-3xl border border-dashed border-gray-700 relative text-center",children:[w.jsx(Qg,{className:"w-16 h-16 text-gray-700 mx-auto mb-2 opacity-20"}),w.jsxs("p",{className:"text-xs font-bold text-gray-500 leading-relaxed italic",children:["...",w.jsx("br",{}),""]})]}),w.jsx(xn,{char:"kenji",text:""}),w.jsx(xn,{char:"kenji",text:""}),w.jsx("div",{className:"py-4 flex justify-center",children:w.jsxs("div",{className:"relative",children:[w.jsx("div",{className:"absolute inset-0 bg-amber-500 blur-2xl opacity-40 animate-pulse"}),w.jsx(Qg,{size:80,className:"relative text-amber-500 animate-bounce"}),w.jsx(Z4,{className:"absolute -top-4 -right-4 text-white animate-spin"})]})}),w.jsx(xn,{char:"navi",side:"right",text:" "}),w.jsx(xn,{char:"kenji",text:" "}),w.jsx(xn,{char:"navi",side:"right",text:"TAXI-NAVIGATOR "})]})}),w.jsx(cf,{page:2,title:"GPS",children:w.jsxs("div",{className:"p-6 space-y-6 bg-gradient-to-b from-transparent to-green-900/10",children:[w.jsxs("div",{className:"flex justify-around py-4",children:[w.jsx(Of,{className:"text-green-500 animate-pulse",size:40}),w.jsx(NE,{className:"text-blue-500 animate-bounce",size:40})]}),w.jsx(xn,{char:"kenji",text:"3,400..."}),w.jsx(xn,{char:"navi",side:"right",text:" GPS"}),w.jsx("div",{className:"bg-gray-950 p-4 rounded-2xl border-2 border-amber-500/50 shadow-inner text-center font-black text-amber-500",children:"[  ]"}),w.jsx(xn,{char:"kenji",text:" "}),w.jsx(xn,{char:"navi",side:"right",text:" "})]})}),w.jsx(cf,{page:3,title:"",children:w.jsxs("div",{className:"p-6 space-y-6",children:[w.jsx(xn,{char:"kenji",text:""}),w.jsxs("div",{className:"bg-[#0A0E14] p-5 rounded-3xl border-2 border-gray-800 shadow-2xl space-y-2",children:[w.jsxs("div",{className:"flex justify-between text-[10px] font-black text-gray-500 uppercase tracking-widest",children:[w.jsx("span",{children:"Today's Sales"}),w.jsx("span",{children:"Next Goal"})]}),w.jsxs("div",{className:"flex justify-between items-baseline",children:[w.jsx("span",{className:"text-3xl font-black text-white italic",children:"28,500"}),w.jsx("span",{className:"text-lg font-black text-amber-500",children:" 21,500"})]}),w.jsx("div",{className:"w-full h-2 bg-gray-800 rounded-full overflow-hidden",children:w.jsx("div",{className:"w-[60%] h-full bg-amber-500 shadow-[0_0_10px_#f59e0b]"})})]}),w.jsx(xn,{char:"navi",side:"right",text:" "}),w.jsx(xn,{char:"kenji",text:" "})]})}),w.jsx(cf,{page:4,title:"",children:w.jsxs("div",{className:"p-6 space-y-6 bg-gradient-to-b from-transparent to-blue-900/10",children:[w.jsx(xn,{char:"kenji",text:""}),w.jsx("div",{className:"flex justify-center py-4",children:w.jsx("div",{className:"relative p-4 bg-gray-900 rounded-full border-4 border-blue-500/30",children:w.jsx(Of,{className:"text-blue-400",size:48})})}),w.jsx(xn,{char:"navi",side:"right",text:""}),w.jsx(xn,{char:"kenji",text:" Google"}),w.jsx(xn,{char:"kenji",text:""})]})}),w.jsx(cf,{page:5,title:"",children:w.jsxs("div",{className:"p-6 space-y-6",children:[w.jsx(xn,{char:"kenji",text:" ..."}),w.jsx(xn,{char:"navi",side:"right",text:" "}),w.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[w.jsxs("div",{className:"bg-gray-950 p-4 rounded-2xl border border-gray-800",children:[w.jsx("p",{className:"text-[10px] text-gray-500 font-bold mb-1 uppercase",children:""}),w.jsx("p",{className:"text-xl font-black text-white",children:"58,200"})]}),w.jsxs("div",{className:"bg-gray-950 p-4 rounded-2xl border border-gray-800",children:[w.jsx("p",{className:"text-[10px] text-gray-500 font-bold mb-1 uppercase",children:""}),w.jsx("p",{className:"text-xl font-black text-white",children:"24"})]})]}),w.jsx(xn,{char:"kenji",text:" "}),w.jsx(xn,{char:"navi",side:"right",text:" "}),w.jsx(xn,{char:"kenji",text:" "})]})}),w.jsxs("div",{className:"text-center py-12 space-y-6",children:[w.jsx(X0,{className:"w-20 h-20 text-green-500 mx-auto animate-bounce"}),w.jsx("div",{className:"space-y-2",children:w.jsxs("p",{className:"text-2xl font-black text-white italic tracking-tighter",children:["TAXI-NAVIGATOR",w.jsx("br",{}),""]})}),w.jsx("div",{className:"pt-4 italic font-black text-gray-500 text-sm tracking-widest",children:"- FIN -"})]}),w.jsxs("div",{className:"flex flex-col items-center text-gray-500 gap-2 animate-pulse",children:[w.jsx(FT,{size:32}),w.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest",children:"Scroll to explore"})]})]}),Pj=r=>{r.getFullYear();const t=r.getMonth()+1,e=r.getDate(),n=r.getDay();if(n===0||t===1&&e===1||t===2&&e===11||t===4&&e===29||t===5&&e===3||t===5&&e===4||t===5&&e===5||t===8&&e===11||t===11&&e===3||t===11&&e===23||t===12&&e===23)return!0;if(t===1&&n===1){const s=e<=7?e:0;if(s>0&&e>=s&&e<s+7)return!0}if(t===7&&n===1){const s=e<=7?e:0;if(s>0&&e>=s+14&&e<s+21)return!0}if(t===9&&n===1){const s=e<=7?e:0;if(s>0&&e>=s+14&&e<s+21)return!0}if(t===10&&n===1){const s=e<=7?e:0;if(s>0&&e>=s+7&&e<s+14)return!0}return!1},Lj=r=>{const t=r.getMonth()+1,e=r.getDate();return t===1&&e===1?"":t===1&&r.getDay()===1&&e>=8&&e<=14?"":t===2&&e===11?"":t===4&&e===29?"":t===5&&e===3?"":t===5&&e===4?"":t===5&&e===5?"":t===7&&r.getDay()===1&&e>=15&&e<=21?"":t===8&&e===11?"":t===9&&r.getDay()===1&&e>=15&&e<=21?"":t===10&&r.getDay()===1&&e>=8&&e<=14?"":t===11&&e===3?"":t===11&&e===23?"":t===12&&e===23?"":""},Bj=({history:r,dayMetadata:t,businessStartHour:e,shimebiDay:n,monthlyStats:s})=>{const[i,a]=_e.useState(new Date),[l,c]=_e.useState(new Date().getFullYear()),[o,u]=_e.useState(new Date().getMonth()+1),p=_e.useMemo(()=>{const O={};return(r||[]).forEach(F=>{const W=Ot(F.timestamp,e);O[W]||(O[W]={records:[],total:0}),O[W].records.push(F),O[W].total+=F.amount}),O},[r,e]),h=_e.useMemo(()=>{const O=i.getFullYear(),F=i.getMonth(),W=new Date(O,F,1),V=new Date(W);V.setDate(V.getDate()-W.getDay());const N=[],P=new Date(V);for(let C=0;C<42;C++){const S=Ht(P);N.push({date:new Date(P),isCurrentMonth:P.getMonth()===F,dateStr:S}),P.setDate(P.getDate()+1)}return N},[i]),d=_e.useCallback(O=>{a(F=>{const W=new Date(F);return W.setMonth(W.getMonth()+O),W})},[]),b=_e.useCallback(O=>{c(O);const F=new Date(i);F.setFullYear(O),a(F)},[i]),x=_e.useCallback(O=>{u(O);const F=new Date(i);F.setMonth(O-1),a(F)},[i]),g=_e.useCallback(async(O,F,W)=>{const V=F.map(at=>at.timestamp),N=V.length>0?Math.min(...V):0,P=V.length>0?Math.max(...V):0,C=W.totalRestMinutes||0,S=W.startOdo||0,E=W.endOdo||0,A=E>S?E-S:0,T=P&&N?P-N-C*60*1e3:0,j=F.reduce((at,Je)=>at+Je.amount,0),L=Math.max(T/(1e3*60*60),.1),D=j>0?Math.round(j/L):0,Z=at=>at?new Date(at).toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit"}):"",K=at=>{if(at<=0)return"";const Je=Math.floor(at/36e5),Ze=Math.floor(at%36e5/6e4);return`${String(Je).padStart(2,"0")}:${String(Ze).padStart(2,"0")}`},ee=new Date(O),G=`${ee.getFullYear()}`,te=`${ee.getMonth()+1}`,H=`${ee.getDate()}`,U=new M6.Workbook,Q=U.addWorksheet("",{views:[{state:"frozen",ySplit:5,activeCell:"A6"}]});Q.addRow(["","","","","","","","",G,te,H,Z(Date.now())]),Q.addRow([]),Q.addRow(["","",""," ","","","","","","","","","","","","","","","",""]),Q.addRow(["","","",Z(N),Z(P),K(T),D.toLocaleString()]),Q.addRow(["","","","","","","","","","","","","","","","","","B","A",""]);for(let at=0;at<30;at++){const Je=F[at];let Ze=[];if(Je){const vt=new Date(Je.timestamp),pt=Je.amount+Je.toll+(Je.returnToll||0),Ie=Je.paymentMethod;let $e="",Ce="",De="";Ie==="CARD"?$e=pt:Ie==="NET"||Ie==="TICKET"?Ce=pt:(Ie==="TRANSPORT"||Ie!=="CASH")&&(De=pt),Ze=[at+1,vt.getHours(),vt.getMinutes(),Je.pickupLocation||"","",Je.dropoffLocation||"",Je.passengersMale||"",Je.passengersFemale||Je.passagersFemale||0,Je.amount,Je.toll>0?Je.toll:"",(Je.returnToll||0)>0?Je.returnToll||0:"",Je.remarks||"",$e,Ce,De,Ki[Je.rideType]||"",at+1,"","",""]}else Ze=[at+1,"","","","","","","","","","","","","","","",at+1,"","",""];Q.addRow(Ze)}Q.addRow([" ","","","","","",0,0,0,0,0,"",0,0,0,"","","","",""]),Q.addRow(["","","",""," ",S||""," ","",E||""," ",A||"","","",0,"",0,"","",0,""]),Q.addRow(["","","","","","","","","","","","","B km","","km","","","","",""]),Q.addRow(["","","","",A||"0","0",F.length,0,0,"","","","A km","","km","","","","",""]);for(let at=6;at<=35;at++)Q.getCell(`T${at}`).value={formula:`SUM(G${at}:H${at})`};Q.getCell("G36").value={formula:"SUM(G6:G35)"},Q.getCell("H36").value={formula:"SUM(H6:H35)"},Q.getCell("I36").value={formula:"SUM(I6:I35)"},Q.getCell("J36").value={formula:"SUM(J6:J35)"},Q.getCell("K36").value={formula:"SUM(K6:K35)"},Q.getCell("M36").value={formula:"SUM(M6:M35)"},Q.getCell("N36").value={formula:"SUM(N6:N35)"},Q.getCell("O36").value={formula:"SUM(O6:O35)"},Q.getCell("T36").value={formula:"SUM(T6:T35)"},Q.getCell("N37").value={formula:"SUM(I6:I35)"},Q.getCell("P37").value={formula:"M36+N36+O36"},Q.getCell("S37").value={formula:"(I36+J36+K36)-(M36+N36+O36)"},Q.getCell("Q38").value={formula:"P38/N38"},Q.getCell("Q38").numFmt="0%",Q.getCell("H39").value={formula:"G36+H36"},Q.getCell("I39").value={formula:"SUM(I6:I35)"},Q.getCell("Q39").value={formula:"P39/N39"},Q.getCell("Q39").numFmt="0%";const ie={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},re={bottom:{style:"double"}},oe={name:"Meiryo",size:10},he={name:"Meiryo",size:10,bold:!0},ve={name:"Meiryo",size:11,bold:!0},me={name:"Meiryo",size:16,bold:!0},ne={type:"pattern",pattern:"solid",fgColor:{argb:"E2EFDA"}},de={type:"pattern",pattern:"solid",fgColor:{argb:"FFF2CC"}},xe={type:"pattern",pattern:"solid",fgColor:{argb:"FFCC99"}},Te={type:"pattern",pattern:"solid",fgColor:{argb:"F2F2F2"}},Re={type:"pattern",pattern:"solid",fgColor:{argb:"FFFFCC"}};Q.mergeCells("D1:F1"),Q.mergeCells("G3:H3"),Q.mergeCells("B4:C4"),Q.mergeCells("G4:H4"),Q.mergeCells("A36:C36"),Q.mergeCells("G37:H37"),Q.eachRow((at,Je)=>{at.eachCell((Ze,vt)=>{var pt;if(Ze.font=oe,Ze.alignment={vertical:"middle",horizontal:"center"},Je===1)vt>=9&&vt<=12&&(Ze.font=ve),vt>=4&&vt<=12&&(Ze.border=re);else if(Je!==2){if(Je===3)vt>=10&&vt<=20||vt===9||vt<=3||([4,5,6,7].includes(vt)&&(Ze.fill=ne),Ze.border=ie);else if(Je===4)vt>=10||vt===9||vt<=1||(vt===2&&(Ze.fill=ne),Ze.border=ie);else if(Je===5)Ze.fill=ne,Ze.font=he,Ze.border=ie;else if(Je>=6&&Je<=35){if(Ze.border=ie,(vt===1||vt===17)&&(Ze.fill=Te),vt===16){const Ie=((pt=Ze.value)==null?void 0:pt.toString())||"";Ie!==""&&Ie!==""&&(Ze.fill=Re)}[4,5,6,12].includes(vt)?Ze.alignment={vertical:"middle",horizontal:"left",wrapText:!0}:[9,10,11,13,14,15].includes(vt)&&(Ze.alignment={vertical:"middle",horizontal:"right"},Ze.numFmt="#,##0")}else if(Je===36)Ze.fill=xe,Ze.font=he,Ze.border=ie,[7,8,9,10,11,13,14,15].includes(vt)&&(Ze.alignment={vertical:"middle",horizontal:"right"},Ze.numFmt="#,##0");else if(Je>=37&&!(vt<=3)){Ze.border=ie;const Ie=Je===37&&[14,16,19].includes(vt)||Je===39&&[8,9].includes(vt),$e=Je===37&&[6,9,11].includes(vt)||Je===39&&vt===5;Ie||$e?(Ze.alignment={vertical:"middle",horizontal:"right"},Ze.numFmt="#,##0"):(Je===37&&[4,5,7,10,13,15,18].includes(vt)||Je===38&&[4,5,6,7,8,9,13,15].includes(vt)||Je===39&&[13,15].includes(vt))&&(Ze.fill=de)}}})});const Pe=Q.getCell("D1");Pe.font=me,Pe.alignment={vertical:"middle",horizontal:"center"},Pe.border={bottom:{style:"double"}},Q.getRow(1).height=45,Q.getRow(36).height=30,[{c:1,w:4.38},{c:2,w:3},{c:3,w:3},{c:4,w:10.75},{c:5,w:10.75},{c:6,w:10.75},{c:7,w:4.13},{c:8,w:4.13},{c:9,w:7.5},{c:10,w:6.25},{c:11,w:6.25},{c:12,w:10.75},{c:13,w:8.13},{c:14,w:8.13},{c:15,w:8.13},{c:16,w:8.13},{c:17,w:4.38},{c:18,w:7.5},{c:19,w:7.5},{c:20,w:6}].forEach(at=>{Q.getColumn(at.c).width=at.w});const Ue=await U.xlsx.writeBuffer(),tt=new Blob([Ue],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});j6.saveAs(tt,`_${O.replace(/\//g,"-")}.xlsx`)},[]);_e.useMemo(()=>{const O=new Date().getFullYear(),F=[];for(let W=O-5;W<=O+1;W++)F.push(W);return F},[]),_e.useMemo(()=>Array.from({length:12},(O,F)=>F+1),[]),_e.useMemo(()=>{const O=i.getFullYear(),F=i.getMonth();return Object.entries(p).reduce((W,[V,N])=>{const[P,C]=V.split("/").map(Number);return P===O&&C===F+1?W+N.total:W},0)},[p,i]);const v=["","","","","","",""];_e.useMemo(()=>`${i.getFullYear()} / ${String(i.getMonth()+1).padStart(2,"0")}`,[i]);const y=_e.useMemo(()=>{const O=i.getFullYear(),F=i.getMonth();return Object.entries(p).reduce((W,[V,N])=>{const P=new Date(V.replace(/\//g,"-"));return P.getFullYear()===O&&P.getMonth()===F?W+N.total:W},0)},[p,i]),R=["January","February","March","April","May","June","July","August","September","October","November","December"][i.getMonth()],q=`${i.getFullYear()-2018}`,B=new Date().getDate(),I=i.getMonth()===new Date().getMonth()&&i.getFullYear()===new Date().getFullYear();return w.jsx("div",{className:"w-full min-h-screen bg-white p-6",children:w.jsxs("div",{className:"max-w-6xl mx-auto",children:[w.jsx("div",{className:"mb-6",children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{className:"text-4xl font-black text-gray-900",children:["",y.toLocaleString()]}),w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("button",{onClick:()=>d(-1),className:"p-2 text-gray-600 hover:text-gray-900 active:scale-90",children:w.jsx(za,{className:"w-6 h-6"})}),w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"text-7xl font-black text-gray-900 leading-none",children:I?B:1}),w.jsxs("div",{className:"flex flex-col",children:[w.jsx("div",{className:"text-xl font-semibold text-gray-900",children:R}),w.jsxs("div",{className:"text-xs text-gray-700 mt-1",children:[q," ",i.getFullYear()]})]})]}),w.jsx("button",{onClick:()=>d(1),className:"p-2 text-gray-600 hover:text-gray-900 active:scale-90",children:w.jsx(Bs,{className:"w-6 h-6"})})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("select",{value:i.getFullYear(),onChange:O=>b(parseInt(O.target.value)),className:"px-3 py-2 border border-gray-300 rounded-md bg-white text-gray-900 font-semibold cursor-pointer",children:Array.from({length:10},(O,F)=>new Date().getFullYear()-5+F).map(O=>w.jsxs("option",{value:O,children:[O,""]},O))}),w.jsx("select",{value:i.getMonth()+1,onChange:O=>x(parseInt(O.target.value)),className:"px-3 py-2 border border-gray-300 rounded-md bg-white text-gray-900 font-semibold cursor-pointer",children:Array.from({length:12},(O,F)=>F+1).map(O=>w.jsxs("option",{value:O,children:[O,""]},O))})]})]})}),w.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[w.jsx("div",{className:"grid grid-cols-7 border-b border-gray-200",children:v.map((O,F)=>{let W="bg-gray-900",V="text-white";return F===0?(W="bg-red-700",V="text-white"):F===6&&(W="bg-blue-700",V="text-white"),w.jsx("div",{className:`p-3 text-center text-2xl font-bold ${V} ${W}`,children:O},O)})}),w.jsx("div",{className:"grid grid-cols-7 border-t border-gray-200",children:h.map(({date:O,isCurrentMonth:F,dateStr:W},V)=>{const N=O.getDay(),P=Pj(O),C=P?Lj(O):"",S=p[W],E=S&&S.total>0;let A="text-gray-900",T="bg-white";return F?N===0||P?A="text-red-600":N===6&&(A="text-blue-600"):A="text-gray-400",E&&(T="bg-yellow-50"),w.jsxs("div",{className:`min-h-[100px] border-r border-b border-gray-200 p-2 ${T} ${F?"":"opacity-50"} ${E?"cursor-pointer hover:bg-amber-300 transition-colors":""}`,onClick:()=>{if(E&&S.records.length>0){const j=t[W]||{memo:"",attributedMonth:"",totalRestMinutes:0};g(W,S.records,j)}},children:[w.jsx("div",{className:`text-base font-black ${A}`,children:O.getDate()}),C&&w.jsx("div",{className:"text-xs text-red-600 font-semibold mt-1",children:C}),E&&w.jsxs("div",{className:"mt-2 flex items-start justify-between",children:[w.jsxs("div",{className:"flex-1",children:[w.jsxs("div",{className:"text-lg font-black text-amber-700 leading-tight",children:["",S.total.toLocaleString()]}),w.jsxs("div",{className:"text-lg font-black text-gray-700 mt-1",children:[S.records.length,""]})]}),w.jsx("div",{className:"flex-shrink-0 ml-2",children:w.jsx(W4,{className:"w-4 h-4 text-amber-600"})})]})]},V)})})]})]})})},Uj=({label:r,value:t,colorClass:e,onChange:n,onConfirm:s})=>{const i=c=>{const o=t.replace(/,/g,""),u=o==="0"?c:o+c;n(zo(u))},a=()=>{const c=t.replace(/,/g,""),o=c.length<=1?"0":c.slice(0,-1);n(zo(o))},l=()=>{n("0")};return w.jsxs("div",{className:"space-y-5 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[w.jsxs("div",{className:"flex flex-col space-y-2",children:[w.jsxs("span",{className:"text-lg font-bold ml-2 uppercase tracking-widest text-gray-400",children:[r,""]}),w.jsx("div",{className:`rounded-3xl p-5 flex items-center justify-end border min-h-[80px] shadow-inner overflow-hidden ${e.replace("text-","border-").split(" ")[0]} bg-[#1A2536]`,children:w.jsxs("span",{className:`text-[clamp(3rem,12vw,4.5rem)] font-black tracking-tighter truncate w-full text-right ${e}`,children:["",t]})})]}),w.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[["7","8","9","DEL","4","5","6","C","1","2","3","000"].map(c=>w.jsx("button",{onClick:()=>{c==="DEL"?a():c==="C"?l():i(c.toString())},className:`h-16 rounded-2xl text-3xl font-bold flex items-center justify-center active:scale-95 transition-all shadow-md ${c==="DEL"||c==="C"?"bg-red-600/90 text-white":"bg-[#2D3848] text-white"}`,children:c==="DEL"?"":c},c)),w.jsxs("div",{className:"col-span-4 grid grid-cols-3 gap-3",children:[w.jsx("button",{onClick:()=>i("0"),className:"h-16 rounded-2xl text-3xl font-bold bg-[#2D3848] text-white flex items-center justify-center active:scale-95 shadow-md",children:"0"}),w.jsx("button",{onClick:()=>i("20"),className:"h-16 rounded-2xl text-3xl font-bold bg-[#2D3848] text-white flex items-center justify-center active:scale-95 shadow-md",children:"20"}),w.jsx("button",{onClick:()=>i("00"),className:"h-16 rounded-2xl text-3xl font-bold bg-[#2D3848] text-white flex items-center justify-center active:scale-95 shadow-md",children:"00"})]}),w.jsxs("button",{onClick:s,className:"col-span-4 h-20 bg-green-600 hover:bg-green-500 text-white rounded-3xl text-3xl font-black shadow-xl active:scale-95 flex items-center justify-center gap-3 mt-2",children:[w.jsx(Jd,{className:"w-10 h-10"})," "]})]})]})},Vj=[{id:"osaka_station",name:"",triggers:["3","",""],options:["",""]},{id:"shin_osaka",name:"",triggers:["","",""],options:["","",""]},{id:"kita_sinchi",name:"",triggers:["","","",""],options:["","","","","","",""]},{id:"minami",name:"",triggers:["","","",""],options:["","",""]},{id:"test",name:"",triggers:["",""],options:["","","","","","",""]}],zj=r=>{if(!r)return null;for(const t of Vj)if(t.triggers.some(e=>r.includes(e)))return t;return null},Hj=[{name:"",keywords:["",""]},{name:"",keywords:["",""]},{name:"NCB",keywords:["",""]},{name:"",keywords:["",""]},{name:"",keywords:["",""]},{name:"",keywords:["",""]},{name:"",keywords:["",""]},{name:"",keywords:["",""]},{name:"",keywords:["",""]},{name:"",keywords:["Zentis",""]},{name:"",keywords:["","3"]},{name:"",keywords:["",""]},{name:"",keywords:["",""]}],$j=r=>{const t=Hj.find(e=>e.keywords.some(n=>r.includes(n)));return t?t.name:null},qj=({initialData:r,enabledMethods:t,enabledRideTypes:e,customLabels:n,onClose:s,onSave:i,onDelete:a,businessStartHour:l,followingUsers:c=[],shift:o,history:u=[],monthlyStats:p})=>{const h=_e.useRef((r==null?void 0:r.id)||Math.random().toString(36).substr(2,9)),[d,b]=_e.useState(null),[x,g]=_e.useState(r!=null&&r.amount?r.amount.toLocaleString():"0"),[v,y]=_e.useState(r!=null&&r.toll?r.toll.toLocaleString():"0"),[k,R]=_e.useState(r!=null&&r.returnToll?r.returnToll.toLocaleString():"0"),[z,q]=_e.useState((r==null?void 0:r.paymentMethod)||t[0]||"CASH"),B=e&&e.length>0?e:Dl,[I,O]=_e.useState((r==null?void 0:r.rideType)||B[0]),[F,W]=_e.useState(r!=null&&r.nonCashAmount?r.nonCashAmount.toLocaleString():"0"),[V,N]=_e.useState((r==null?void 0:r.pickupLocation)||""),[P,C]=_e.useState((r==null?void 0:r.dropoffLocation)||""),[S,E]=_e.useState((r==null?void 0:r.pickupCoords)||""),[A,T]=_e.useState((r==null?void 0:r.dropoffCoords)||""),[j,L]=_e.useState((r==null?void 0:r.passengersMale)??0),[D,Z]=_e.useState((r==null?void 0:r.passengersFemale)??0),[K,ee]=_e.useState((r==null?void 0:r.remarks)||""),[G,te]=_e.useState((r==null?void 0:r.isBadCustomer)||!1),[H,U]=_e.useState(null),[Q,ie]=_e.useState(!1),[re,oe]=_e.useState(!1),[he,ve]=_e.useState(!1),[me,ne]=_e.useState(Date.now()),[de,xe]=_e.useState(null),[Te,Re]=_e.useState(null);_e.useEffect(()=>{const Ae=setInterval(()=>{ne(Date.now())},1e3);return()=>clearInterval(Ae)},[]);const Pe=_e.useMemo(()=>{const Ae=n[z]||va[z];return Ae?Ae.includes(""):!1},[z,n]),Xe=Ae=>{ee(Ae)},Ue=_e.useRef(null),tt=_e.useRef(null),at=_e.useRef(null),Je=async(Ae,Ee)=>{const[et,lt,Ke]=Ze.split("-").map(Number),[xt,jt]=pt.split(":").map(Number),At=new Date(et,lt-1,Ke,xt,jt).getTime();await i(Nn(x),Nn(v),z,I,Nn(F),At,Ae,P,Ee,A,j,D,K,G,Nn(k),h.current,!0)},[Ze,vt]=_e.useState(()=>{const Ae=r!=null&&r.timestamp?new Date(r.timestamp):new Date,Ee=Ae.getTimezoneOffset()*6e4;return new Date(Ae.getTime()-Ee).toISOString().split("T")[0]}),[pt,Ie]=_e.useState(()=>(r!=null&&r.timestamp?new Date(r.timestamp):new Date).toTimeString().split(" ")[0].slice(0,5)),$e=_e.useMemo(()=>{if(!Ze||!pt)return"";const[Ae,Ee,et]=Ze.split("-").map(Number),[lt,Ke]=pt.split(":").map(Number),xt=new Date(Ae,Ee-1,et,lt,Ke),jt=Ot(xt.getTime(),l),At=S1(xt.getTime(),l);return`${jt} ${At}`},[Ze,pt,l]);_e.useEffect(()=>{d||setTimeout(()=>{var Ae;(Ae=Ue.current)==null||Ae.scrollIntoView({behavior:"auto",block:"start"})},50)},[]),_e.useEffect(()=>{d===null&&(at.current==="amount"||at.current==="toll")&&setTimeout(()=>{var Ae;(Ae=tt.current)==null||Ae.scrollIntoView({behavior:"auto",block:"start"})},50),at.current=d},[d]),_e.useEffect(()=>{!(r!=null&&r.id)&&V===""&&Ce("pickup")},[]),_e.useEffect(()=>{if(z!=="CASH"&&d!=="nonCash"){const Ae=Nn(x),Ee=Nn(v);W((Ae+Ee).toLocaleString())}},[x,v,z]);const Ce=async Ae=>{U(Ae);try{const Ee=await new Promise((Ct,Dt)=>{navigator.geolocation.getCurrentPosition(Ct,Dt,{timeout:1e4,enableHighAccuracy:!0})}),{latitude:et,longitude:lt}=Ee.coords,Ke=`${et},${lt}`,xt=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${et}&lon=${lt}&zoom=18&addressdetails=1`,{headers:{"Accept-Language":"ja"}});if(!xt.ok)throw new Error("Network error");const jt=await xt.json(),At=M_(jt);if(At){if(Ae==="pickup"){N(At),E(Ke);const Ct=$j(At),Dt=zj(At);Ct?(Re(Ct),Dt&&xe(Dt)):Dt?xe(Dt):Je(At,Ke)}else Ae==="dropoff"&&(C(At),T(Ke));return At}}catch(Ee){console.error("Geolocation failed",Ee)}finally{U(null)}return""},De=async()=>{const Ae=await Ce("stopover");Ae&&ee(Ee=>{var Ke;return Ee.includes("()")?((Ke=Ee.split("()")[1].split("").pop())==null?void 0:Ke.trim())===Ae?Ee:Ee+`${Ae}`:(Ee.trim()?Ee.trim()+`
`:"")+`()${Ae}`})},it=async()=>{if(he)return;ve(!0);let Ae=P,Ee=A;if(!(r!=null&&r.id)&&!Ae){U("dropoff");try{const qe=await new Promise((ce,fe)=>navigator.geolocation.getCurrentPosition(ce,fe));Ee=`${qe.coords.latitude},${qe.coords.longitude}`;const ae=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${qe.coords.latitude}&lon=${qe.coords.longitude}&zoom=18&addressdetails=1`,{headers:{"Accept-Language":"ja"}})).json(),pe=M_(ae);pe&&(Ae=pe)}catch(qe){console.error(qe)}U(null)}const et=Nn(x),lt=Nn(v),Ke=Nn(k),xt=z!=="CASH"?Nn(F):0,[jt,At,Ct]=Ze.split("-").map(Number),[Dt,Mt]=pt.split(":").map(Number),je=new Date(jt,At-1,Ct,Dt,Mt).getTime();await i(et,lt,z,I,xt,je,V,Ae,S,Ee,j,D,K,G,Ke,h.current,!1),ve(!1)},Be=Ae=>{Ae==="male"?L(Ee=>Ee+1>4?0:Ee+1):Z(Ee=>Ee+1>4?0:Ee+1)},Ge=d==="amount"?x:d==="toll"?v:d==="returnToll"?k:d==="nonCash"?F:"0",mt=Ae=>{d==="amount"?g(Ae):d==="toll"?y(Ae):d==="returnToll"?R(Ae):d==="nonCash"&&W(Ae)},dt=()=>d==="amount"?"":d==="toll"?"":d==="returnToll"?"":d==="nonCash"?"":"",ke=()=>d==="amount"?"text-amber-500":d==="toll"?"text-white":d==="returnToll"?"text-indigo-400":d==="nonCash"?"text-blue-500":"text-white",We=Ae=>{if(de){const Ee=`${de.name} ${Ae}`;N(Ee),xe(null),Je(Ee,S)}};return w.jsx(Zs,{onClose:s,children:w.jsx("div",{className:"space-y-6 pb-6 relative",children:Te?w.jsxs("div",{className:"space-y-6 py-4 animate-in slide-in-from-bottom-4 flex flex-col h-full",children:[w.jsxs("div",{className:"text-center space-y-2 mb-2 mt-4",children:[w.jsx("div",{className:"bg-cyan-500/20 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4 shadow-[0_0_20px_rgba(6,182,212,0.3)] animate-pulse",children:w.jsx(wT,{className:"w-10 h-10 text-cyan-400"})}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-3xl font-black text-white leading-tight tracking-tight mb-2",children:Te}),w.jsx("p",{className:"text-lg font-bold text-cyan-200/70",children:""})]})]}),w.jsx("div",{className:"flex-1 content-start space-y-4 px-4",children:w.jsxs("button",{onClick:()=>{N(Te),Re(null),xe(null),Je(Te,S)},className:"relative w-full overflow-hidden bg-black hover:bg-gray-900 border-2 border-cyan-500/50 hover:border-cyan-400 text-white font-black py-6 rounded-3xl text-2xl transition-all active:scale-95 shadow-xl group",children:[w.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),w.jsxs("div",{className:"relative z-10 flex items-center justify-center gap-3",children:[w.jsx(X0,{className:"w-8 h-8 text-cyan-400"}),w.jsx("span",{children:""})]})]})}),w.jsx("div",{className:"pt-6 mt-auto",children:w.jsxs("button",{onClick:()=>{Re(null),de||Je(V,S)},className:"group w-full py-5 bg-gradient-to-r from-rose-600 to-pink-600 hover:from-rose-500 hover:to-pink-500 text-white font-black rounded-2xl text-lg border border-rose-400/50 active:scale-95 transition-all shadow-[0_0_20px_rgba(225,29,72,0.4)] flex items-center justify-between px-6",children:[w.jsxs("span",{className:"flex flex-col items-start leading-none gap-1",children:[w.jsx("span",{className:"text-[10px] opacity-80 font-bold tracking-widest",children:"NO"}),w.jsx("span",{children:""})]}),w.jsx(Bs,{className:"w-6 h-6 text-white group-hover:translate-x-1 transition-transform"})]})})]}):de?w.jsxs("div",{className:"space-y-6 py-4 animate-in slide-in-from-bottom-4 flex flex-col h-full",children:[w.jsxs("div",{className:"text-center space-y-2 mb-2",children:[w.jsx("div",{className:"bg-cyan-500/20 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-3 shadow-[0_0_20px_rgba(6,182,212,0.3)]",children:w.jsx(_E,{className:"w-8 h-8 text-cyan-400"})}),w.jsx("h3",{className:"text-3xl font-black text-white leading-tight tracking-tight",children:de.name}),w.jsx("p",{className:"text-sm font-bold text-cyan-200/70 bg-cyan-900/30 py-1 px-3 rounded-full inline-block",children:""})]}),w.jsx("div",{className:"grid grid-cols-2 gap-4 flex-1 content-start",children:de.options.map(Ae=>w.jsxs("button",{onClick:()=>We(Ae),className:"relative overflow-hidden bg-black hover:bg-gray-900 border-2 border-cyan-500/50 hover:border-cyan-400 text-white font-black py-6 rounded-2xl text-2xl transition-all active:scale-95 shadow-lg group",children:[w.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-500/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),w.jsx("span",{className:"relative z-10",children:Ae})]},Ae))}),w.jsx("div",{className:"pt-6 mt-auto",children:w.jsxs("button",{onClick:()=>{xe(null),Je(V,S)},className:"group w-full py-5 bg-gradient-to-r from-rose-600 to-pink-600 hover:from-rose-500 hover:to-pink-500 text-white font-black rounded-2xl text-lg border border-rose-400/50 active:scale-95 transition-all shadow-[0_0_20px_rgba(225,29,72,0.4)] flex items-center justify-between px-6",children:[w.jsxs("span",{className:"flex flex-col items-start leading-none gap-1",children:[w.jsx("span",{className:"text-[10px] opacity-80 font-bold tracking-widest",children:"CANCEL"}),w.jsx("span",{children:""})]}),w.jsx("div",{className:"bg-white/20 p-1.5 rounded-full",children:w.jsx(Bs,{className:"w-6 h-6 text-white group-hover:translate-x-1 transition-transform"})})]})})]}):d?w.jsx(Uj,{label:dt(),value:Ge,colorClass:ke(),onChange:mt,onConfirm:()=>b(null)}):w.jsxs("div",{className:"space-y-5 max-h-[85vh] overflow-y-auto custom-scrollbar pb-2 relative",children:[w.jsxs("div",{className:"flex justify-between items-center border-b border-gray-800 pb-4",children:[w.jsx("div",{className:"flex flex-col w-full",children:w.jsx("h2",{className:"text-2xl font-black text-white",children:r!=null&&r.id?"":""})}),w.jsx("div",{className:"absolute top-0 right-14 flex items-center",children:w.jsx("button",{type:"button",onClick:()=>te(!G),className:`p-2 rounded-full border-2 transition-all ${G?"bg-red-900/50 border-red-500 text-red-500 shadow-[0_0_10px_rgba(239,68,68,0.5)]":"bg-gray-900 border-gray-700 text-gray-600"}`,children:w.jsx(z1,{className:"w-6 h-6"})})}),w.jsx("button",{onClick:s,className:"text-gray-500 p-2 absolute top-0 right-0",children:w.jsx(_s,{className:"w-8 h-8"})})]}),w.jsxs("div",{className:"bg-gray-800 p-4 rounded-3xl border-2 border-blue-500 text-center relative overflow-hidden group",children:[w.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-amber-500 to-transparent opacity-50"}),w.jsxs("label",{className:"text-xs font-black text-amber-500 uppercase tracking-widest block mb-1 flex items-center justify-center gap-2",children:[w.jsx(Nl,{className:"w-4 h-4"})," "]}),w.jsx("input",{type:"date",value:Ze,onChange:Ae=>vt(Ae.target.value),className:"bg-transparent text-white text-3xl font-black w-full text-center outline-none uppercase tracking-widest"})]}),w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"space-y-2 opacity-60 hover:opacity-100 transition-opacity",children:[w.jsx("label",{className:"text-xl font-black text-gray-500 uppercase block tracking-widest mb-3",children:"1. "}),w.jsx("div",{className:"flex gap-3",children:w.jsx("input",{type:"time",value:pt,onChange:Ae=>Ie(Ae.target.value),className:"w-full bg-gray-800 border-2 border-blue-500 rounded-xl p-4 text-3xl font-black outline-none focus:border-blue-400 shadow-inner text-white text-center"})}),w.jsxs("div",{className:"flex items-center gap-2 text-indigo-400 text-xs font-bold px-1 mt-2 justify-center",children:[w.jsx(L1,{className:"w-4 h-4"}),w.jsxs("span",{children:[": ",$e]})]})]}),w.jsxs("div",{className:"space-y-4 bg-gray-800 p-2 rounded-3xl border-2 border-blue-500 opacity-80 hover:opacity-100 transition-opacity",children:[w.jsx("label",{className:"text-xl font-black text-gray-500 uppercase block tracking-widest px-2 mb-3",children:"2. "}),w.jsxs("div",{children:[w.jsxs("div",{className:"flex justify-between items-center mb-1 px-1",children:[w.jsxs("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest flex items-center gap-2",children:[w.jsx(Of,{className:"w-3 h-3 text-green-400"})," "]}),w.jsxs("button",{onClick:()=>Ce("pickup"),className:"text-[10px] bg-gray-800 text-green-400 font-black px-2 py-1 rounded-lg border border-green-500/20 active:scale-90 flex items-center gap-1 whitespace-nowrap",children:[H==="pickup"?w.jsx(kl,{className:"w-3 h-3 animate-spin"}):w.jsx(Of,{className:"w-3 h-3"}),""]})]}),w.jsx("div",{className:"flex gap-2",children:w.jsx("input",{type:"text",value:V,onChange:Ae=>{N(Ae.target.value),Ae.target.value||E("")},placeholder:"",className:"flex-1 bg-gray-700 border-2 border-blue-500 rounded-2xl p-3 text-lg font-black outline-none focus:border-green-500 shadow-inner"})})]}),w.jsxs("div",{children:[w.jsxs("div",{className:"flex justify-between items-center mb-1 px-1",children:[w.jsxs("label",{className:"text-xs font-black text-gray-400 uppercase tracking-widest flex items-center gap-2",children:[w.jsx(Kg,{className:"w-3 h-3 text-red-400"})," "]}),w.jsxs("button",{onClick:()=>Ce("dropoff"),className:"text-[10px] bg-gray-800 text-red-400 font-black px-2 py-1 rounded-lg border border-red-500/20 active:scale-90 flex items-center gap-1 whitespace-nowrap",children:[H==="dropoff"?w.jsx(kl,{className:"w-3 h-3 animate-spin"}):w.jsx(Kg,{className:"w-3 h-3"}),""]})]}),w.jsx("div",{className:"flex gap-2",children:w.jsx("input",{type:"text",value:P,onChange:Ae=>{C(Ae.target.value),Ae.target.value||T("")},placeholder:"",className:"flex-1 bg-gray-700 border-2 border-blue-500 rounded-2xl p-3 text-lg font-black outline-none focus:border-red-500 shadow-inner"})})]})]}),w.jsxs("div",{ref:Ue,className:"scroll-mt-4",children:[w.jsx("label",{className:"text-xl font-black text-gray-500 uppercase mb-3 block tracking-widest",children:"3. "}),w.jsx("div",{className:"grid grid-cols-3 gap-3",children:B.map(Ae=>w.jsx("button",{onClick:()=>O(Ae),className:`py-4 rounded-2xl font-black border-2 transition-all shadow-sm whitespace-nowrap ${Ae==="HIRE"?"text-2xl":"text-3xl"} ${I===Ae?"bg-amber-500 border-amber-500 text-black":"bg-gray-800 border-blue-500 text-gray-400"} active:scale-95`,children:Ki[Ae]},Ae))})]}),w.jsxs("div",{className:"bg-gray-800 p-4 rounded-3xl border-2 border-blue-500",children:[w.jsxs("label",{className:"text-xl font-black text-gray-400 uppercase tracking-widest flex items-center gap-2 mb-4",children:[w.jsx(Rl,{className:"w-5 h-5 text-amber-500"})," 4. "]}),w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsxs("button",{type:"button",onClick:()=>Be("male"),className:`relative flex flex-col items-center justify-center p-4 rounded-2xl border-2 transition-all active:scale-95 h-32 ${j>0?"bg-blue-900/20 border-blue-500 text-blue-400 shadow-[0_0_15px_rgba(59,130,246,0.3)]":"bg-gray-700 border-blue-500 text-gray-500"}`,children:[w.jsx("span",{className:"text-sm font-bold uppercase tracking-widest mb-1",children:""}),w.jsx("span",{className:`text-6xl font-black ${j>0?"text-white":"text-gray-600"}`,children:j})]}),w.jsxs("button",{type:"button",onClick:()=>Be("female"),className:`relative flex flex-col items-center justify-center p-4 rounded-2xl border-2 transition-all active:scale-95 h-32 ${D>0?"bg-pink-900/20 border-pink-500 text-pink-400 shadow-[0_0_15px_rgba(236,72,153,0.3)]":"bg-gray-700 border-blue-500 text-gray-500"}`,children:[w.jsx("span",{className:"text-sm font-bold uppercase tracking-widest mb-1",children:""}),w.jsx("span",{className:`text-6xl font-black ${D>0?"text-white":"text-gray-600"}`,children:D})]})]})]}),w.jsxs("div",{ref:tt,className:"scroll-mt-4",children:[w.jsxs("div",{className:"flex justify-between items-center mb-3",children:[w.jsx("label",{className:"text-xl font-black text-gray-400 uppercase tracking-widest",children:"5. "}),w.jsxs("button",{onClick:()=>b("returnToll"),className:`text-[10px] font-black px-3 py-1.5 rounded-full border transition-all active:scale-95 flex items-center gap-1 ${Nn(k)>0?"bg-indigo-600 border-indigo-400 text-white shadow-[0_0_10px_rgba(99,102,241,0.4)]":"bg-gray-800 border-gray-700 text-gray-500"}`,children:[": ",k]})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[w.jsxs("div",{onClick:()=>b("amount"),className:"bg-gray-800 p-4 rounded-3xl border-2 border-blue-500 flex flex-col items-center justify-center shadow-inner cursor-pointer active:scale-[0.98] transition-all min-h-[100px]",children:[w.jsx("span",{className:"text-amber-500 font-bold text-sm uppercase mb-1 tracking-widest",children:""}),w.jsxs("div",{className:"flex items-baseline",children:[w.jsx("span",{className:"text-amber-500 font-black text-xl mr-1",children:""}),w.jsx("span",{className:"text-white text-[clamp(2rem,8vw,2.5rem)] font-black truncate leading-none",children:x||"0"})]})]}),w.jsxs("div",{onClick:()=>b("toll"),className:"bg-gray-800 border-2 border-blue-500 rounded-3xl p-4 flex flex-col items-center justify-center shadow-inner cursor-pointer active:scale-[0.98] transition-all min-h-[100px]",children:[w.jsx("span",{className:"text-gray-400 font-bold text-sm uppercase mb-1 tracking-widest",children:""}),w.jsx("div",{className:"flex items-baseline",children:w.jsx("span",{className:"text-white text-[clamp(2rem,8vw,2.5rem)] font-black truncate leading-none",children:v||"0"})})]})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-xl font-black text-gray-400 uppercase mb-3 block tracking-widest",children:"6. "}),w.jsxs("div",{className:"relative",children:[w.jsx("select",{value:z,onChange:Ae=>q(Ae.target.value),className:"w-full bg-gray-800 border-2 border-blue-500 rounded-2xl p-4 text-white text-xl font-black outline-none appearance-none focus:border-blue-400 cursor-pointer shadow-inner",children:t.map(Ae=>w.jsx("option",{value:Ae,children:n[Ae]||va[Ae]},Ae))}),w.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-500",children:w.jsx(Bs,{className:"w-6 h-6 rotate-90"})})]})]}),Pe&&w.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2 duration-300",children:[w.jsx("label",{className:"text-[10px] font-bold text-amber-500 uppercase tracking-widest mb-1 block",children:" ()"}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx("button",{type:"button",onClick:()=>Xe("GO"),className:`flex-1 py-4 rounded-xl font-black text-3xl border transition-all active:scale-95 ${K==="GO"?"bg-amber-500 text-black border-amber-500":"bg-gray-800 text-gray-300 border-gray-600 hover:bg-gray-700"}`,children:"GO"}),w.jsx("button",{type:"button",onClick:()=>Xe("DiDi"),className:`flex-1 py-4 rounded-xl font-black text-3xl border transition-all active:scale-95 ${K==="DiDi"?"bg-amber-500 text-black border-amber-500":"bg-gray-800 text-gray-300 border-gray-600 hover:bg-gray-700"}`,children:"DiDi"}),w.jsx("button",{type:"button",onClick:()=>Xe("Uber"),className:`flex-1 py-4 rounded-xl font-black text-3xl border transition-all active:scale-95 ${K==="Uber"?"bg-amber-500 text-black border-amber-500":"bg-gray-800 text-gray-300 border-gray-600 hover:bg-gray-700"}`,children:"Uber"})]})]}),z!=="CASH"&&w.jsxs("div",{className:"bg-blue-900/10 p-4 rounded-3xl border border-blue-900/30 shadow-inner",children:[w.jsxs("label",{className:"text-xs text-blue-400 font-bold uppercase mb-1 block tracking-widest",children:[n[z]||va[z],""]}),w.jsxs("div",{onClick:()=>b("nonCash"),className:"flex items-center gap-2 cursor-pointer active:scale-[0.99] transition-all",children:[w.jsx("span",{className:"text-blue-500 font-black text-2xl",children:""}),w.jsx("span",{className:"w-full bg-transparent border-b border-blue-900/50 p-1 text-3xl font-black text-white outline-none",children:F||"0"})]})]}),w.jsxs("div",{children:[w.jsxs("div",{className:"flex justify-between items-center mb-3",children:[w.jsxs("label",{className:"text-xl font-bold text-gray-400 flex items-center gap-2 uppercase tracking-widest",children:[w.jsx(B1,{className:"w-5 h-5"})," 7. "]}),w.jsxs("button",{type:"button",onClick:De,className:"text-xs bg-blue-600/20 text-blue-400 font-black px-3 py-1.5 rounded-full border border-blue-500/20 active:scale-95 flex items-center gap-1 transition-all",children:[H==="stopover"?w.jsx(kl,{className:"w-3 h-3 animate-spin"}):w.jsx(q4,{className:"w-3 h-3"}),""]})]}),w.jsx("textarea",{value:K,onChange:Ae=>ee(Ae.target.value),placeholder:"...",className:"w-full bg-gray-800 border-2 border-blue-500 rounded-2xl p-3 text-white text-base min-h-[80px] outline-none focus:border-blue-400 shadow-inner"})]}),w.jsxs("div",{className:"flex flex-col gap-3 pt-5 pb-5",children:[w.jsx("button",{disabled:he,onClick:it,className:"w-full bg-amber-500 text-black py-5 rounded-2xl font-black text-2xl shadow-xl active:scale-95 transition-transform flex items-center justify-center gap-3",children:he?w.jsxs(w.Fragment,{children:[w.jsx(kl,{className:"w-6 h-6 animate-spin"})," ..."]}):r!=null&&r.id?"":""}),(r==null?void 0:r.id)&&w.jsx("button",{type:"button",onClick:Ae=>{Ae.stopPropagation(),Q?a():ie(!0)},className:`w-full py-4 font-black text-lg flex items-center justify-center gap-2 rounded-2xl transition-all border-2 active:scale-95 ${Q?"bg-red-600 border-red-500 text-white animate-pulse":"text-red-500 border-red-500/30"}`,children:Q?"":w.jsxs(w.Fragment,{children:[w.jsx(d0,{className:"w-5 h-5"})," "]})}),w.jsx("button",{type:"button",onClick:Ae=>{Ae.stopPropagation(),re?s():oe(!0)},onBlur:()=>setTimeout(()=>oe(!1),200),className:`w-full py-4 text-xl font-bold active:scale-90 tracking-widest uppercase transition-all ${re?"bg-red-600 text-white":"text-gray-500 hover:text-gray-400"}`,children:re?"":"Cancel"})]})]}),w.jsx("div",{className:"mt-6",children:w.jsx(k1,{followingUsers:c})}),o&&p&&Array.isArray(o.records)&&w.jsxs("div",{className:"mt-6 space-y-4 bg-gray-800 rounded-3xl p-4 border-2 border-blue-500",children:[w.jsxs("div",{className:"flex justify-between items-start mb-4",children:[w.jsxs("div",{className:"flex flex-col",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[w.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),w.jsxs("span",{className:"text-white font-black text-sm",children:[" ",(()=>{const Ee=Date.now()-o.startTime,et=Math.floor(Ee/(1e3*60*60)),lt=Math.floor(Ee%(1e3*60*60)/(1e3*60));return`${et}${String(lt).padStart(2,"0")}`})()]})]}),w.jsx("div",{className:"text-gray-400 text-xs font-bold ml-5",children:(()=>{const Ae=new Date,Ee=Ae.toLocaleDateString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\//g,"/"),et=Ae.toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit",hour12:!1});return`${Ee} (~${et})`})()})]}),w.jsx("button",{onClick:s,className:"bg-red-600 hover:bg-red-500 text-white font-black text-xs px-4 py-2 rounded-full transition-all active:scale-95",children:""})]}),w.jsxs("div",{className:"text-center mb-4",children:[w.jsxs("div",{className:"flex items-baseline justify-center gap-1 mb-2",children:[w.jsx("span",{className:"text-amber-500 font-black text-4xl",children:""}),w.jsx("span",{className:"text-white font-black text-5xl",children:(o.records||[]).reduce((Ee,et)=>Ee+(et.amount||0),0).toLocaleString()})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-3",children:[w.jsxs("div",{className:"bg-gray-700 p-2 rounded-xl border-2 border-blue-500",children:[w.jsx("div",{className:"text-gray-400 text-xs font-bold mb-1",children:""}),w.jsxs("div",{className:"text-white font-black text-sm",children:["",(()=>{const Ae=(o.records||[]).reduce((et,lt)=>et+(lt.amount||0),0);return Math.floor(Ae/1.1).toLocaleString()})()]})]}),w.jsxs("div",{className:"bg-red-900/30 p-2 rounded-xl border border-red-500/30",children:[w.jsx("div",{className:"text-gray-400 text-xs font-bold mb-1",children:""}),w.jsx("div",{className:"text-white font-black text-sm",children:(()=>{const Ae=me,Ee=(o.records||[]).reduce((jt,At)=>jt+(At.amount||0),0);if(!o.plannedHours||o.plannedHours===0)return"0";const et=(Ae-o.startTime)/(1e3*60*60),Ke=(o.dailyGoal||0)/o.plannedHours*et,xt=Ee-Ke;return xt>=0?`+${Math.round(xt).toLocaleString()}`:Math.round(xt).toLocaleString()})()})]})]})]}),w.jsxs("div",{className:"mb-4",children:[w.jsxs("div",{className:"flex justify-between items-center mb-2",children:[w.jsx("span",{className:"text-white font-black text-sm",children:(()=>{const Ae=(o.records||[]).reduce((et,lt)=>et+(lt.amount||0),0),Ee=(o.dailyGoal||0)>0?Ae/(o.dailyGoal||1)*100:0;return`${Math.floor(Ee)}% `})()}),w.jsxs("span",{className:"text-gray-400 text-xs font-bold",children:[" ",(o.dailyGoal||0).toLocaleString()]})]}),w.jsx("div",{className:"w-full bg-gray-800 rounded-full h-2",children:w.jsx("div",{className:"bg-amber-500 h-2 rounded-full transition-all",style:{width:`${Math.min(100,(()=>{const Ae=(o.records||[]).reduce((Ee,et)=>Ee+(et.amount||0),0);return(o.dailyGoal||0)>0?Ae/(o.dailyGoal||1)*100:0})())}%`}})})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[w.jsxs("div",{className:"bg-gray-700 p-3 rounded-xl border-2 border-blue-500",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[w.jsx(Fl,{className:"w-4 h-4 text-gray-400"}),w.jsx("span",{className:"text-gray-400 text-xs font-bold",children:""})]}),w.jsxs("div",{className:"flex items-baseline gap-1",children:[w.jsx("span",{className:"text-amber-500 font-black text-lg",children:""}),w.jsx("span",{className:"text-white font-black text-xl",children:(()=>{const Ae=me,Ee=(o.records||[]).reduce((lt,Ke)=>lt+(Ke.amount||0),0),et=(Ae-o.startTime)/6e4;return et<=0?"0":Math.floor(Ee/et*60).toLocaleString()})()})]})]}),w.jsxs("div",{className:"bg-gray-700 p-3 rounded-xl border-2 border-blue-500",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[w.jsx(X4,{className:"w-4 h-4 text-gray-400"}),w.jsx("span",{className:"text-gray-400 text-xs font-bold",children:""})]}),w.jsxs("div",{className:"text-white font-black text-xl",children:[(o.records||[]).length,""]})]}),w.jsxs("div",{className:"bg-gray-700 p-3 rounded-xl border-2 border-blue-500",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[w.jsx(Nl,{className:"w-4 h-4 text-gray-400"}),w.jsx("span",{className:"text-gray-400 text-xs font-bold",children:" / "})]}),w.jsxs("div",{className:"flex items-baseline gap-1",children:[w.jsx("span",{className:"text-amber-500 font-black text-lg",children:""}),w.jsx("span",{className:"text-white font-black text-xl",children:(()=>{if(!p.monthlyGoal||!Array.isArray(p.dutyDays))return"0";const Ae=p.dutyDays.filter(lt=>{const Ke=Ot(Date.now(),l);return lt>=Ke}).length;if(Ae===0)return"0";const Ee=p?Gf(p,u||[],o||null).totalSales:0,et=p.monthlyGoal-Ee;return et>0?Math.ceil(et/Ae).toLocaleString():"0"})()})]})]}),w.jsxs("div",{className:"bg-gray-700 p-3 rounded-xl border-2 border-blue-500",children:[w.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[w.jsx(Oo,{className:"w-4 h-4 text-gray-400"}),w.jsx("span",{className:"text-gray-400 text-xs font-bold",children:""})]}),w.jsxs("div",{className:"flex items-baseline gap-1",children:[w.jsx("span",{className:"text-amber-500 font-black text-lg",children:""}),w.jsx("span",{className:"text-white font-black text-xl",children:(()=>{const Ae=(o.records||[]).reduce((et,lt)=>et+(lt.amount||0),0);return Math.max(0,(o.dailyGoal||0)-Ae).toLocaleString()})()})]})]})]})]})]})})})},Gj=({shift:r,customLabels:t,enabledMethods:e,businessStartHour:n,onConfirm:s,onClose:i})=>{const[a,l]=_e.useState("input"),[c,o]=_e.useState(""),[u,p]=_e.useState(!1),h=r.startOdo||0,d=c?Number(c):0,b=d>h?d-h:0,x=()=>{c?l("confirm"):p(!0)},g=()=>{p(!1),l("confirm")},v=()=>{p(!1)},y=()=>{s(c!==""?Number(c):void 0)};return w.jsx(Zs,{onClose:i,children:w.jsxs("div",{className:"space-y-6 pb-6 relative",children:[u&&w.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-sm rounded-[32px] animate-in fade-in duration-200 p-4",children:w.jsxs("div",{className:"w-full space-y-6 text-center",children:[w.jsx("div",{className:"bg-amber-500/10 p-4 rounded-full w-20 h-20 mx-auto flex items-center justify-center shadow-[0_0_20px_rgba(245,158,11,0.2)]",children:w.jsx(ci,{className:"w-10 h-10 text-amber-500"})}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-xl font-black text-white mb-2",children:""}),w.jsxs("p",{className:"text-gray-300 font-bold leading-relaxed",children:["ODO",w.jsx("br",{}),""]})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[w.jsx("button",{onClick:v,className:"bg-gray-800 text-gray-300 py-4 rounded-2xl font-black text-lg shadow-lg active:scale-95 transition-transform border border-gray-700",children:""}),w.jsx("button",{onClick:g,className:"bg-amber-500 text-black py-4 rounded-2xl font-black text-lg shadow-xl active:scale-95 transition-transform",children:""})]})]})}),a==="input"&&w.jsxs("div",{className:"space-y-8 animate-in slide-in-from-right-4 duration-300",children:[w.jsxs("div",{className:"text-center space-y-2",children:[w.jsxs("h3",{className:"text-2xl font-black text-white flex items-center justify-center gap-2",children:[w.jsx(Io,{className:"w-8 h-8 text-amber-500"})," "]}),w.jsx("p",{className:"text-sm font-bold text-gray-500",children:""})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("p",{className:"text-xs font-black text-gray-500 uppercase tracking-widest text-left pl-1",children:""}),w.jsxs("div",{className:"flex items-center bg-gray-950 rounded-2xl p-5 border-2 border-gray-700 focus-within:border-amber-500 transition-all shadow-inner",children:[w.jsx(Io,{className:"text-gray-500 w-8 h-8 mr-3"}),w.jsx("input",{type:"number",inputMode:"numeric",value:c,onChange:k=>o(k.target.value),placeholder:"ODO",className:"bg-transparent text-white text-[clamp(1.5rem,8vw,2.5rem)] font-black w-full outline-none text-center placeholder-gray-700",autoFocus:!0}),w.jsx("span",{className:"text-gray-500 font-bold ml-2",children:"km"})]}),h>0&&w.jsxs("p",{className:"text-right text-xs font-bold text-gray-600 px-1",children:[": ",h.toLocaleString()," km"]})]}),w.jsxs("div",{className:"flex flex-col gap-3 pt-4",children:[w.jsx("button",{onClick:x,className:"w-full bg-amber-500 text-black py-5 rounded-2xl font-black text-2xl shadow-xl active:scale-95 transition-transform",children:""}),w.jsx("button",{onClick:i,className:"w-full py-4 text-lg font-bold text-gray-500 uppercase active:scale-95 tracking-widest",children:""})]})]}),a==="confirm"&&w.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4 duration-300",children:[w.jsxs("div",{className:"text-center space-y-2",children:[w.jsx("h3",{className:"text-2xl font-black text-white",children:""}),w.jsx("p",{className:"text-sm font-bold text-gray-500",children:""})]}),w.jsxs("div",{className:"bg-gray-900/30 rounded-3xl p-2 border border-gray-800",children:[w.jsx(I6,{records:r.records,customLabels:t,startTime:r.startTime,endTime:Date.now(),totalRestMinutes:r.totalRestMinutes,enabledMethods:e,startOdo:h,endOdo:d>0?d:void 0}),w.jsxs("div",{className:"mt-2 grid grid-cols-3 gap-2 px-1 pb-1",children:[w.jsxs("div",{className:"bg-gray-900/50 p-2 rounded-xl text-center border border-gray-800",children:[w.jsx("span",{className:"text-[12px] text-gray-500 font-bold uppercase block",children:"ODO"}),w.jsx("span",{className:"text-lg font-black text-white",children:h.toLocaleString()})]}),w.jsxs("div",{className:"bg-gray-900/50 p-2 rounded-xl text-center border border-gray-800",children:[w.jsx("span",{className:"text-[12px] text-gray-500 font-bold uppercase block",children:"ODO"}),w.jsx("span",{className:`text-lg font-black ${c?"text-amber-500":"text-gray-600"}`,children:c?Number(c).toLocaleString():"---"})]}),w.jsxs("div",{className:"bg-gray-900/50 p-2 rounded-xl text-center border border-gray-800",children:[w.jsx("span",{className:"text-[12px] text-gray-500 font-bold uppercase block",children:""}),w.jsxs("span",{className:"text-lg font-black text-blue-400",children:[b.toLocaleString()," ",w.jsx("span",{className:"text-xs text-gray-500",children:"km"})]})]})]})]}),w.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[w.jsxs("button",{onClick:y,className:"w-full bg-gradient-to-r from-red-600 to-red-500 text-white py-5 rounded-2xl font-black text-2xl shadow-xl active:scale-95 transition-transform flex items-center justify-center gap-3 border border-red-400/30",children:[w.jsx(X0,{className:"w-8 h-8"})," "]}),w.jsx("button",{onClick:()=>l("input"),className:"w-full py-4 text-lg font-bold text-gray-500 uppercase active:scale-95 tracking-widest",children:""})]})]})]})})},Wj=({shift:r,onClose:t,onSave:e})=>{const[n,s]=_e.useState(()=>{const p=new Date(r.startTime),h=p.getTimezoneOffset()*6e4;return new Date(p.getTime()-h).toISOString().split("T")[0]}),[i,a]=_e.useState(()=>new Date(r.startTime).toTimeString().slice(0,5)),[l,c]=_e.useState(r.plannedHours),o=()=>{const[p,h,d]=n.split("-").map(Number),[b,x]=i.split(":").map(Number),g=new Date(p,h-1,d,b,x).getTime();e(g,l),t()},u=Array.from({length:21},(p,h)=>h+4);return w.jsx(Zs,{onClose:t,children:w.jsxs("div",{className:"space-y-6 pb-6",children:[w.jsx("h3",{className:"text-2xl font-black text-white text-center",children:""}),w.jsxs("div",{className:"bg-gray-900/50 p-5 rounded-3xl border border-gray-800 space-y-5",children:[w.jsxs("div",{children:[w.jsxs("label",{className:"text-sm font-bold text-gray-400 mb-2 block uppercase tracking-widest flex items-center gap-2",children:[w.jsx(Fl,{className:"w-4 h-4"})," "]}),w.jsxs("div",{className:"flex gap-3",children:[w.jsx("input",{type:"date",value:n,onChange:p=>s(p.target.value),className:"flex-1 bg-gray-800 border border-gray-700 rounded-xl p-3 text-white font-black outline-none focus:border-amber-500"}),w.jsx("input",{type:"time",value:i,onChange:p=>a(p.target.value),className:"w-28 bg-gray-800 border border-gray-700 rounded-xl p-3 text-white font-black outline-none focus:border-amber-500"})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-sm font-bold text-gray-400 mb-2 block uppercase tracking-widest",children:""}),w.jsxs("div",{className:"relative",children:[w.jsx("select",{value:l,onChange:p=>c(parseInt(p.target.value)),className:"w-full bg-gray-800 border border-gray-700 rounded-xl p-3 text-white text-lg font-black appearance-none focus:border-amber-500 outline-none",children:u.map(p=>w.jsxs("option",{value:p,children:[p," "]},p))}),w.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-500",children:w.jsx(ra,{className:"w-5 h-5"})})]})]})]}),w.jsx("button",{onClick:o,className:"w-full bg-amber-500 text-black py-4 rounded-2xl font-black text-2xl shadow-xl active:scale-95 transition-transform",children:""})]})})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var O6=1252,Xj=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],$b={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},qb=function(r){Xj.indexOf(r)!=-1&&(O6=$b[0]=r)};function Yj(){qb(1252)}var La=function(r){qb(r)};function F6(){La(1200),Yj()}function F_(r){for(var t=[],e=0,n=r.length;e<n;++e)t[e]=r.charCodeAt(e);return t}function Kj(r){for(var t=[],e=0;e<r.length>>1;++e)t[e]=String.fromCharCode(r.charCodeAt(2*e)+(r.charCodeAt(2*e+1)<<8));return t.join("")}function P6(r){for(var t=[],e=0;e<r.length>>1;++e)t[e]=String.fromCharCode(r.charCodeAt(2*e+1)+(r.charCodeAt(2*e)<<8));return t.join("")}var pf=function(r){var t=r.charCodeAt(0),e=r.charCodeAt(1);return t==255&&e==254?Kj(r.slice(2)):t==254&&e==255?P6(r.slice(2)):t==65279?r.slice(1):r},$d=function(t){return String.fromCharCode(t)},P_=function(t){return String.fromCharCode(t)},Xf,jo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function L_(r){for(var t="",e=0,n=0,s=0,i=0,a=0,l=0,c=0,o=0;o<r.length;)e=r.charCodeAt(o++),i=e>>2,n=r.charCodeAt(o++),a=(e&3)<<4|n>>4,s=r.charCodeAt(o++),l=(n&15)<<2|s>>6,c=s&63,isNaN(n)?l=c=64:isNaN(s)&&(c=64),t+=jo.charAt(i)+jo.charAt(a)+jo.charAt(l)+jo.charAt(c);return t}function na(r){var t="",e=0,n=0,s=0,i=0,a=0,l=0,c=0;r=r.replace(/[^\w\+\/\=]/g,"");for(var o=0;o<r.length;)i=jo.indexOf(r.charAt(o++)),a=jo.indexOf(r.charAt(o++)),e=i<<2|a>>4,t+=String.fromCharCode(e),l=jo.indexOf(r.charAt(o++)),n=(a&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),c=jo.indexOf(r.charAt(o++)),s=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(s));return t}var Er=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Xl=(function(){if(typeof Buffer<"u"){var r=!Buffer.from;if(!r)try{Buffer.from("foo","utf8")}catch{r=!0}return r?function(t,e){return e?new Buffer(t,e):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function Ko(r){return Er?Buffer.alloc?Buffer.alloc(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}function B_(r){return Er?Buffer.allocUnsafe?Buffer.allocUnsafe(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}var Fa=function(t){return Er?Xl(t,"binary"):t.split("").map(function(e){return e.charCodeAt(0)&255})};function Yl(r){if(Array.isArray(r))return r.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],e=0;e<r.length;++e)t[e]=String.fromCharCode(r[e]);return t.join("")}function Gb(r){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(r instanceof ArrayBuffer)return Gb(new Uint8Array(r));for(var t=new Array(r.length),e=0;e<r.length;++e)t[e]=r[e];return t}var Ro=Er?function(r){return Buffer.concat(r.map(function(t){return Buffer.isBuffer(t)?t:Xl(t)}))}:function(r){if(typeof Uint8Array<"u"){var t=0,e=0;for(t=0;t<r.length;++t)e+=r[t].length;var n=new Uint8Array(e),s=0;for(t=0,e=0;t<r.length;e+=s,++t)if(s=r[t].length,r[t]instanceof Uint8Array)n.set(r[t],e);else{if(typeof r[t]=="string")throw"wtf";n.set(new Uint8Array(r[t]),e)}return n}return[].concat.apply([],r.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function Qj(r){for(var t=[],e=0,n=r.length+250,s=Ko(r.length+255),i=0;i<r.length;++i){var a=r.charCodeAt(i);if(a<128)s[e++]=a;else if(a<2048)s[e++]=192|a>>6&31,s[e++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var l=r.charCodeAt(++i)&1023;s[e++]=240|a>>8&7,s[e++]=128|a>>2&63,s[e++]=128|l>>6&15|(a&3)<<4,s[e++]=128|l&63}else s[e++]=224|a>>12&15,s[e++]=128|a>>6&63,s[e++]=128|a&63;e>n&&(t.push(s.slice(0,e)),e=0,s=Ko(65535),n=65530)}return t.push(s.slice(0,e)),Ro(t)}var Ts=/\u0000/g,mf=/[\u0001-\u0006]/g;function Wc(r){for(var t="",e=r.length-1;e>=0;)t+=r.charAt(e--);return t}function Ba(r,t){var e=""+r;return e.length>=t?e:cn("0",t-e.length)+e}function Wb(r,t){var e=""+r;return e.length>=t?e:cn(" ",t-e.length)+e}function P0(r,t){var e=""+r;return e.length>=t?e:e+cn(" ",t-e.length)}function Zj(r,t){var e=""+Math.round(r);return e.length>=t?e:cn("0",t-e.length)+e}function Jj(r,t){var e=""+r;return e.length>=t?e:cn("0",t-e.length)+e}var U_=Math.pow(2,32);function Ic(r,t){if(r>U_||r<-U_)return Zj(r,t);var e=Math.round(r);return Jj(e,t)}function L0(r,t){return t=t||0,r.length>=7+t&&(r.charCodeAt(t)|32)===103&&(r.charCodeAt(t+1)|32)===101&&(r.charCodeAt(t+2)|32)===110&&(r.charCodeAt(t+3)|32)===101&&(r.charCodeAt(t+4)|32)===114&&(r.charCodeAt(t+5)|32)===97&&(r.charCodeAt(t+6)|32)===108}var V_=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Lg=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function eD(r){return r||(r={}),r[0]="General",r[1]="0",r[2]="0.00",r[3]="#,##0",r[4]="#,##0.00",r[9]="0%",r[10]="0.00%",r[11]="0.00E+00",r[12]="# ?/?",r[13]="# ??/??",r[14]="m/d/yy",r[15]="d-mmm-yy",r[16]="d-mmm",r[17]="mmm-yy",r[18]="h:mm AM/PM",r[19]="h:mm:ss AM/PM",r[20]="h:mm",r[21]="h:mm:ss",r[22]="m/d/yy h:mm",r[37]="#,##0 ;(#,##0)",r[38]="#,##0 ;[Red](#,##0)",r[39]="#,##0.00;(#,##0.00)",r[40]="#,##0.00;[Red](#,##0.00)",r[45]="mm:ss",r[46]="[h]:mm:ss",r[47]="mmss.0",r[48]="##0.0E+0",r[49]="@",r[56]='"/ "hh""mm""ss" "',r}var fr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},z_={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},tD={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function B0(r,t,e){for(var n=r<0?-1:1,s=r*n,i=0,a=1,l=0,c=1,o=0,u=0,p=Math.floor(s);o<t&&(p=Math.floor(s),l=p*a+i,u=p*o+c,!(s-p<5e-8));)s=1/(s-p),i=a,a=l,c=o,o=u;if(u>t&&(o>t?(u=c,l=i):(u=o,l=a)),!e)return[0,n*l,u];var h=Math.floor(n*l/u);return[h,n*l-h*u,u]}function Cl(r,t,e){if(r>2958465||r<0)return null;var n=r|0,s=Math.floor(86400*(r-n)),i=0,a=[],l={D:n,T:s,u:86400*(r-n)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++s==86400&&(l.T=s=0,++n,++l.D)),n===60)a=e?[1317,10,29]:[1900,2,29],i=3;else if(n===0)a=e?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),a=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),n<60&&(i=(i+6)%7),e&&(i=oD(c,a))}return l.y=a[0],l.m=a[1],l.d=a[2],l.S=s%60,s=Math.floor(s/60),l.M=s%60,s=Math.floor(s/60),l.H=s,l.q=i,l}var L6=new Date(1899,11,31,0,0,0),rD=L6.getTime(),nD=new Date(1900,2,1,0,0,0);function B6(r,t){var e=r.getTime();return t?e-=1461*24*60*60*1e3:r>=nD&&(e+=1440*60*1e3),(e-(rD+(r.getTimezoneOffset()-L6.getTimezoneOffset())*6e4))/(1440*60*1e3)}function Xb(r){return r.indexOf(".")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function sD(r){return r.indexOf("E")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function aD(r){var t=r<0?12:11,e=Xb(r.toFixed(12));return e.length<=t||(e=r.toPrecision(10),e.length<=t)?e:r.toExponential(5)}function iD(r){var t=Xb(r.toFixed(11));return t.length>(r<0?12:11)||t==="0"||t==="-0"?r.toPrecision(6):t}function Yf(r){var t=Math.floor(Math.log(Math.abs(r))*Math.LOG10E),e;return t>=-4&&t<=-1?e=r.toPrecision(10+t):Math.abs(t)<=9?e=aD(r):t===10?e=r.toFixed(10).substr(0,12):e=iD(r),Xb(sD(e.toUpperCase()))}function Hl(r,t){switch(typeof r){case"string":return r;case"boolean":return r?"TRUE":"FALSE";case"number":return(r|0)===r?r.toString(10):Yf(r);case"undefined":return"";case"object":if(r==null)return"";if(r instanceof Date)return wa(14,B6(r,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+r)}function oD(r,t){t[0]-=581;var e=r.getDay();return r<60&&(e=(e+6)%7),e}function lD(r,t,e,n){var s="",i=0,a=0,l=e.y,c,o=0;switch(r){case 98:l=e.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,o=2;break;default:c=l%1e4,o=4;break}break;case 109:switch(t.length){case 1:case 2:c=e.m,o=t.length;break;case 3:return Lg[e.m-1][1];case 5:return Lg[e.m-1][0];default:return Lg[e.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=e.d,o=t.length;break;case 3:return V_[e.q][0];default:return V_[e.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(e.H+11)%12,o=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=e.H,o=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=e.M,o=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return e.u===0&&(t=="s"||t=="ss")?Ba(e.S,t.length):(n>=2?a=n===3?1e3:100:a=n===1?10:1,i=Math.round(a*(e.S+e.u)),i>=60*a&&(i=0),t==="s"?i===0?"0":""+i/a:(s=Ba(i,2+n),t==="ss"?s.substr(0,2):"."+s.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=e.D*24+e.H;break;case"[m]":case"[mm]":c=(e.D*24+e.H)*60+e.M;break;case"[s]":case"[ss]":c=((e.D*24+e.H)*60+e.M)*60+Math.round(e.S+e.u);break;default:throw"bad abstime format: "+t}o=t.length===3?1:2;break;case 101:c=l,o=1;break}var u=o>0?Ba(c,o):"";return u}function Do(r){var t=3;if(r.length<=t)return r;for(var e=r.length%t,n=r.substr(0,e);e!=r.length;e+=t)n+=(n.length>0?",":"")+r.substr(e,t);return n}var U6=/%/g;function cD(r,t,e){var n=t.replace(U6,""),s=t.length-n.length;return Bi(r,n,e*Math.pow(10,2*s))+cn("%",s)}function uD(r,t,e){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Bi(r,t.substr(0,n),e/Math.pow(10,3*(t.length-n)))}function V6(r,t){var e,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+V6(r,-t);var s=r.indexOf(".");s===-1&&(s=r.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%s;if(i<0&&(i+=s),e=(t/Math.pow(10,i)).toPrecision(n+1+(s+i)%s),e.indexOf("e")===-1){var a=Math.floor(Math.log(t)*Math.LOG10E);for(e.indexOf(".")===-1?e=e.charAt(0)+"."+e.substr(1)+"E+"+(a-e.length+i):e+="E+"+(a-i);e.substr(0,2)==="0.";)e=e.charAt(0)+e.substr(2,s)+"."+e.substr(2+s),e=e.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");e=e.replace(/\+-/,"-")}e=e.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,o,u){return c+o+u.substr(0,(s+i)%s)+"."+u.substr(i)+"E"})}else e=t.toExponential(n);return r.match(/E\+00$/)&&e.match(/e[+-]\d$/)&&(e=e.substr(0,e.length-1)+"0"+e.charAt(e.length-1)),r.match(/E\-/)&&e.match(/e\+/)&&(e=e.replace(/e\+/,"e")),e.replace("e","E")}var z6=/# (\?+)( ?)\/( ?)(\d+)/;function fD(r,t,e){var n=parseInt(r[4],10),s=Math.round(t*n),i=Math.floor(s/n),a=s-i*n,l=n;return e+(i===0?"":""+i)+" "+(a===0?cn(" ",r[1].length+1+r[4].length):Wb(a,r[1].length)+r[2]+"/"+r[3]+Ba(l,r[4].length))}function hD(r,t,e){return e+(t===0?"":""+t)+cn(" ",r[1].length+2+r[4].length)}var H6=/^#*0*\.([0#]+)/,$6=/\).*[0#]/,q6=/\(###\) ###\\?-####/;function vs(r){for(var t="",e,n=0;n!=r.length;++n)switch(e=r.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(e)}return t}function H_(r,t){var e=Math.pow(10,t);return""+Math.round(r*e)/e}function $_(r,t){var e=r-Math.floor(r),n=Math.pow(10,t);return t<(""+Math.round(e*n)).length?0:Math.round(e*n)}function dD(r,t){return t<(""+Math.round((r-Math.floor(r))*Math.pow(10,t))).length?1:0}function pD(r){return r<2147483647&&r>-2147483648?""+(r>=0?r|0:r-1|0):""+Math.floor(r)}function ga(r,t,e){if(r.charCodeAt(0)===40&&!t.match($6)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return e>=0?ga("n",n,e):"("+ga("n",n,-e)+")"}if(t.charCodeAt(t.length-1)===44)return uD(r,t,e);if(t.indexOf("%")!==-1)return cD(r,t,e);if(t.indexOf("E")!==-1)return V6(t,e);if(t.charCodeAt(0)===36)return"$"+ga(r,t.substr(t.charAt(1)==" "?2:1),e);var s,i,a,l,c=Math.abs(e),o=e<0?"-":"";if(t.match(/^00+$/))return o+Ic(c,t.length);if(t.match(/^[#?]+$/))return s=Ic(e,0),s==="0"&&(s=""),s.length>t.length?s:vs(t.substr(0,t.length-s.length))+s;if(i=t.match(z6))return fD(i,c,o);if(t.match(/^#+0+$/))return o+Ic(c,t.length-t.indexOf("0"));if(i=t.match(H6))return s=H_(e,i[1].length).replace(/^([^\.]+)$/,"$1."+vs(i[1])).replace(/\.$/,"."+vs(i[1])).replace(/\.(\d*)$/,function(b,x){return"."+x+cn("0",vs(i[1]).length-x.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return o+H_(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return o+Do(Ic(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return e<0?"-"+ga(r,t,-e):Do(""+(Math.floor(e)+dD(e,i[1].length)))+"."+Ba($_(e,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return ga(r,t.replace(/^#,#*,/,""),e);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=Wc(ga(r,t.replace(/[\\-]/g,""),e)),a=0,Wc(Wc(t.replace(/\\/g,"")).replace(/[0#]/g,function(b){return a<s.length?s.charAt(a++):b==="0"?"0":""}));if(t.match(q6))return s=ga(r,"##########",e),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(i[4].length,7),l=B0(c,Math.pow(10,a)-1,!1),s=""+o,u=Bi("n",i[1],l[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),s+=u+i[2]+"/"+i[3],u=P0(l[2],a),u.length<i[4].length&&(u=vs(i[4].substr(i[4].length-u.length))+u),s+=u,s;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(i[1].length,i[4].length),7),l=B0(c,Math.pow(10,a)-1,!0),o+(l[0]||(l[1]?"":"0"))+" "+(l[1]?Wb(l[1],a)+i[2]+"/"+i[3]+P0(l[2],a):cn(" ",2*a+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return s=Ic(e,0),t.length<=s.length?s:vs(t.substr(0,t.length-s.length))+s;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){s=""+e.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),a=s.indexOf(".");var p=t.indexOf(".")-a,h=t.length-s.length-p;return vs(t.substr(0,p)+s+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return a=$_(e,i[1].length),e<0?"-"+ga(r,t,-e):Do(pD(e)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?Ba(0,3-b.length):"")+b})+"."+Ba(a,i[1].length);switch(t){case"###,##0.00":return ga(r,"#,##0.00",e);case"###,###":case"##,###":case"#,###":var d=Do(Ic(c,0));return d!=="0"?o+d:"";case"###,###.00":return ga(r,"###,##0.00",e).replace(/^0\./,".");case"#,###.00":return ga(r,"#,##0.00",e).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function mD(r,t,e){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Bi(r,t.substr(0,n),e/Math.pow(10,3*(t.length-n)))}function gD(r,t,e){var n=t.replace(U6,""),s=t.length-n.length;return Bi(r,n,e*Math.pow(10,2*s))+cn("%",s)}function G6(r,t){var e,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+G6(r,-t);var s=r.indexOf(".");s===-1&&(s=r.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%s;if(i<0&&(i+=s),e=(t/Math.pow(10,i)).toPrecision(n+1+(s+i)%s),!e.match(/[Ee]/)){var a=Math.floor(Math.log(t)*Math.LOG10E);e.indexOf(".")===-1?e=e.charAt(0)+"."+e.substr(1)+"E+"+(a-e.length+i):e+="E+"+(a-i),e=e.replace(/\+-/,"-")}e=e.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,o,u){return c+o+u.substr(0,(s+i)%s)+"."+u.substr(i)+"E"})}else e=t.toExponential(n);return r.match(/E\+00$/)&&e.match(/e[+-]\d$/)&&(e=e.substr(0,e.length-1)+"0"+e.charAt(e.length-1)),r.match(/E\-/)&&e.match(/e\+/)&&(e=e.replace(/e\+/,"e")),e.replace("e","E")}function ri(r,t,e){if(r.charCodeAt(0)===40&&!t.match($6)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return e>=0?ri("n",n,e):"("+ri("n",n,-e)+")"}if(t.charCodeAt(t.length-1)===44)return mD(r,t,e);if(t.indexOf("%")!==-1)return gD(r,t,e);if(t.indexOf("E")!==-1)return G6(t,e);if(t.charCodeAt(0)===36)return"$"+ri(r,t.substr(t.charAt(1)==" "?2:1),e);var s,i,a,l,c=Math.abs(e),o=e<0?"-":"";if(t.match(/^00+$/))return o+Ba(c,t.length);if(t.match(/^[#?]+$/))return s=""+e,e===0&&(s=""),s.length>t.length?s:vs(t.substr(0,t.length-s.length))+s;if(i=t.match(z6))return hD(i,c,o);if(t.match(/^#+0+$/))return o+Ba(c,t.length-t.indexOf("0"));if(i=t.match(H6))return s=(""+e).replace(/^([^\.]+)$/,"$1."+vs(i[1])).replace(/\.$/,"."+vs(i[1])),s=s.replace(/\.(\d*)$/,function(b,x){return"."+x+cn("0",vs(i[1]).length-x.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return o+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return o+Do(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return e<0?"-"+ri(r,t,-e):Do(""+e)+"."+cn("0",i[1].length);if(i=t.match(/^#,#*,#0/))return ri(r,t.replace(/^#,#*,/,""),e);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=Wc(ri(r,t.replace(/[\\-]/g,""),e)),a=0,Wc(Wc(t.replace(/\\/g,"")).replace(/[0#]/g,function(b){return a<s.length?s.charAt(a++):b==="0"?"0":""}));if(t.match(q6))return s=ri(r,"##########",e),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(i[4].length,7),l=B0(c,Math.pow(10,a)-1,!1),s=""+o,u=Bi("n",i[1],l[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),s+=u+i[2]+"/"+i[3],u=P0(l[2],a),u.length<i[4].length&&(u=vs(i[4].substr(i[4].length-u.length))+u),s+=u,s;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(i[1].length,i[4].length),7),l=B0(c,Math.pow(10,a)-1,!0),o+(l[0]||(l[1]?"":"0"))+" "+(l[1]?Wb(l[1],a)+i[2]+"/"+i[3]+P0(l[2],a):cn(" ",2*a+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return s=""+e,t.length<=s.length?s:vs(t.substr(0,t.length-s.length))+s;if(i=t.match(/^([#0]+)\.([#0]+)$/)){s=""+e.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),a=s.indexOf(".");var p=t.indexOf(".")-a,h=t.length-s.length-p;return vs(t.substr(0,p)+s+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return e<0?"-"+ri(r,t,-e):Do(""+e).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?Ba(0,3-b.length):"")+b})+"."+Ba(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var d=Do(""+c);return d!=="0"?o+d:"";default:if(t.match(/\.[0#?]*$/))return ri(r,t.slice(0,t.lastIndexOf(".")),e)+vs(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Bi(r,t,e){return(e|0)===e?ri(r,t,e):ga(r,t,e)}function bD(r){for(var t=[],e=!1,n=0,s=0;n<r.length;++n)switch(r.charCodeAt(n)){case 34:e=!e;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=r.substr(s,n-s),s=n+1}if(t[t.length]=r.substr(s),e===!0)throw new Error("Format |"+r+"| unterminated string ");return t}var W6=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function mu(r){for(var t=0,e="",n="";t<r.length;)switch(e=r.charAt(t)){case"G":L0(r,t)&&(t+=6),t++;break;case'"':for(;r.charCodeAt(++t)!==34&&t<r.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(r.charAt(t+1)==="1"||r.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(r.substr(t,3).toUpperCase()==="A/P"||r.substr(t,5).toUpperCase()==="AM/PM"||r.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=e;r.charAt(t++)!=="]"&&t<r.length;)n+=r.charAt(t);if(n.match(W6))return!0;break;case".":case"0":case"#":for(;t<r.length&&("0#?.,E+-%".indexOf(e=r.charAt(++t))>-1||e=="\\"&&r.charAt(t+1)=="-"&&"0#".indexOf(r.charAt(t+2))>-1););break;case"?":for(;r.charAt(++t)===e;);break;case"*":++t,(r.charAt(t)==" "||r.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<r.length&&"0123456789".indexOf(r.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function xD(r,t,e,n){for(var s=[],i="",a=0,l="",c="t",o,u,p,h="H";a<r.length;)switch(l=r.charAt(a)){case"G":if(!L0(r,a))throw new Error("unrecognized character "+l+" in "+r);s[s.length]={t:"G",v:"General"},a+=7;break;case'"':for(i="";(p=r.charCodeAt(++a))!==34&&a<r.length;)i+=String.fromCharCode(p);s[s.length]={t:"t",v:i},++a;break;case"\\":var d=r.charAt(++a),b=d==="("||d===")"?d:"t";s[s.length]={t:b,v:d},++a;break;case"_":s[s.length]={t:"t",v:" "},a+=2;break;case"@":s[s.length]={t:"T",v:t},++a;break;case"B":case"b":if(r.charAt(a+1)==="1"||r.charAt(a+1)==="2"){if(o==null&&(o=Cl(t,e,r.charAt(a+1)==="2"),o==null))return"";s[s.length]={t:"X",v:r.substr(a,2)},c=l,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||o==null&&(o=Cl(t,e),o==null))return"";for(i=l;++a<r.length&&r.charAt(a).toLowerCase()===l;)i+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=h),s[s.length]={t:l,v:i},c=l;break;case"A":case"a":case"":var x={t:l,v:l};if(o==null&&(o=Cl(t,e)),r.substr(a,3).toUpperCase()==="A/P"?(o!=null&&(x.v=o.H>=12?"P":"A"),x.t="T",h="h",a+=3):r.substr(a,5).toUpperCase()==="AM/PM"?(o!=null&&(x.v=o.H>=12?"PM":"AM"),x.t="T",a+=5,h="h"):r.substr(a,5).toUpperCase()==="/"?(o!=null&&(x.v=o.H>=12?"":""),x.t="T",a+=5,h="h"):(x.t="t",++a),o==null&&x.t==="T")return"";s[s.length]=x,c=l;break;case"[":for(i=l;r.charAt(a++)!=="]"&&a<r.length;)i+=r.charAt(a);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(W6)){if(o==null&&(o=Cl(t,e),o==null))return"";s[s.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",mu(r)||(s[s.length]={t:"t",v:i}));break;case".":if(o!=null){for(i=l;++a<r.length&&(l=r.charAt(a))==="0";)i+=l;s[s.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++a<r.length&&"0#?.,E+-%".indexOf(l=r.charAt(a))>-1;)i+=l;s[s.length]={t:"n",v:i};break;case"?":for(i=l;r.charAt(++a)===l;)i+=l;s[s.length]={t:l,v:i},c=l;break;case"*":++a,(r.charAt(a)==" "||r.charAt(a)=="*")&&++a;break;case"(":case")":s[s.length]={t:n===1?"t":l,v:l},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;a<r.length&&"0123456789".indexOf(r.charAt(++a))>-1;)i+=r.charAt(a);s[s.length]={t:"D",v:i};break;case" ":s[s.length]={t:l,v:l},++a;break;case"$":s[s.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+r);s[s.length]={t:"t",v:l},++a;break}var g=0,v=0,y;for(a=s.length-1,c="t";a>=0;--a)switch(s[a].t){case"h":case"H":s[a].t=h,c="h",g<1&&(g=1);break;case"s":(y=s[a].v.match(/\.0+$/))&&(v=Math.max(v,y[0].length-1)),g<3&&(g=3);case"d":case"y":case"M":case"e":c=s[a].t;break;case"m":c==="s"&&(s[a].t="M",g<2&&(g=2));break;case"X":break;case"Z":g<1&&s[a].v.match(/[Hh]/)&&(g=1),g<2&&s[a].v.match(/[Mm]/)&&(g=2),g<3&&s[a].v.match(/[Ss]/)&&(g=3)}switch(g){case 0:break;case 1:o.u>=.5&&(o.u=0,++o.S),o.S>=60&&(o.S=0,++o.M),o.M>=60&&(o.M=0,++o.H);break;case 2:o.u>=.5&&(o.u=0,++o.S),o.S>=60&&(o.S=0,++o.M);break}var k="",R;for(a=0;a<s.length;++a)switch(s[a].t){case"t":case"T":case" ":case"D":break;case"X":s[a].v="",s[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[a].v=lD(s[a].t.charCodeAt(0),s[a].v,o,v),s[a].t="t";break;case"n":case"?":for(R=a+1;s[R]!=null&&((l=s[R].t)==="?"||l==="D"||(l===" "||l==="t")&&s[R+1]!=null&&(s[R+1].t==="?"||s[R+1].t==="t"&&s[R+1].v==="/")||s[a].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(s[R].v==="/"||s[R].v===" "&&s[R+1]!=null&&s[R+1].t=="?"));)s[a].v+=s[R].v,s[R]={v:"",t:";"},++R;k+=s[a].v,a=R-1;break;case"G":s[a].t="t",s[a].v=Hl(t,e);break}var z="",q,B;if(k.length>0){k.charCodeAt(0)==40?(q=t<0&&k.charCodeAt(0)===45?-t:t,B=Bi("n",k,q)):(q=t<0&&n>1?-t:t,B=Bi("n",k,q),q<0&&s[0]&&s[0].t=="t"&&(B=B.substr(1),s[0].v="-"+s[0].v)),R=B.length-1;var I=s.length;for(a=0;a<s.length;++a)if(s[a]!=null&&s[a].t!="t"&&s[a].v.indexOf(".")>-1){I=a;break}var O=s.length;if(I===s.length&&B.indexOf("E")===-1){for(a=s.length-1;a>=0;--a)s[a]==null||"n?".indexOf(s[a].t)===-1||(R>=s[a].v.length-1?(R-=s[a].v.length,s[a].v=B.substr(R+1,s[a].v.length)):R<0?s[a].v="":(s[a].v=B.substr(0,R+1),R=-1),s[a].t="t",O=a);R>=0&&O<s.length&&(s[O].v=B.substr(0,R+1)+s[O].v)}else if(I!==s.length&&B.indexOf("E")===-1){for(R=B.indexOf(".")-1,a=I;a>=0;--a)if(!(s[a]==null||"n?".indexOf(s[a].t)===-1)){for(u=s[a].v.indexOf(".")>-1&&a===I?s[a].v.indexOf(".")-1:s[a].v.length-1,z=s[a].v.substr(u+1);u>=0;--u)R>=0&&(s[a].v.charAt(u)==="0"||s[a].v.charAt(u)==="#")&&(z=B.charAt(R--)+z);s[a].v=z,s[a].t="t",O=a}for(R>=0&&O<s.length&&(s[O].v=B.substr(0,R+1)+s[O].v),R=B.indexOf(".")+1,a=I;a<s.length;++a)if(!(s[a]==null||"n?(".indexOf(s[a].t)===-1&&a!==I)){for(u=s[a].v.indexOf(".")>-1&&a===I?s[a].v.indexOf(".")+1:0,z=s[a].v.substr(0,u);u<s[a].v.length;++u)R<B.length&&(z+=B.charAt(R++));s[a].v=z,s[a].t="t",O=a}}}for(a=0;a<s.length;++a)s[a]!=null&&"n?".indexOf(s[a].t)>-1&&(q=n>1&&t<0&&a>0&&s[a-1].v==="-"?-t:t,s[a].v=Bi(s[a].t,s[a].v,q),s[a].t="t");var F="";for(a=0;a!==s.length;++a)s[a]!=null&&(F+=s[a].v);return F}var q_=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function G_(r,t){if(t==null)return!1;var e=parseFloat(t[2]);switch(t[1]){case"=":if(r==e)return!0;break;case">":if(r>e)return!0;break;case"<":if(r<e)return!0;break;case"<>":if(r!=e)return!0;break;case">=":if(r>=e)return!0;break;case"<=":if(r<=e)return!0;break}return!1}function yD(r,t){var e=bD(r),n=e.length,s=e[n-1].indexOf("@");if(n<4&&s>-1&&--n,e.length>4)throw new Error("cannot find right format for |"+e.join("|")+"|");if(typeof t!="number")return[4,e.length===4||s>-1?e[e.length-1]:"@"];switch(e.length){case 1:e=s>-1?["General","General","General",e[0]]:[e[0],e[0],e[0],"@"];break;case 2:e=s>-1?[e[0],e[0],e[0],e[1]]:[e[0],e[1],e[0],"@"];break;case 3:e=s>-1?[e[0],e[1],e[0],e[2]]:[e[0],e[1],e[2],"@"];break}var i=t>0?e[0]:t<0?e[1]:e[2];if(e[0].indexOf("[")===-1&&e[1].indexOf("[")===-1)return[n,i];if(e[0].match(/\[[=<>]/)!=null||e[1].match(/\[[=<>]/)!=null){var a=e[0].match(q_),l=e[1].match(q_);return G_(t,a)?[n,e[0]]:G_(t,l)?[n,e[1]]:[n,e[a!=null&&l!=null?2:1]]}return[n,i]}function wa(r,t,e){e==null&&(e={});var n="";switch(typeof r){case"string":r=="m/d/yy"&&e.dateNF?n=e.dateNF:n=r;break;case"number":r==14&&e.dateNF?n=e.dateNF:n=(e.table!=null?e.table:fr)[r],n==null&&(n=e.table&&e.table[z_[r]]||fr[z_[r]]),n==null&&(n=tD[r]||"General");break}if(L0(n,0))return Hl(t,e);t instanceof Date&&(t=B6(t,e.date1904));var s=yD(n,t);if(L0(s[1]))return Hl(t,e);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return xD(s[1],t,e,s[0])}function Il(r,t){if(typeof t!="number"){t=+t||-1;for(var e=0;e<392;++e){if(fr[e]==null){t<0&&(t=e);continue}if(fr[e]==r){t=e;break}}t<0&&(t=391)}return fr[t]=r,t}function X6(){fr=eD()}var vD={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},Y6=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function wD(r){var t=typeof r=="number"?fr[r]:r;return t=t.replace(Y6,"(\\d+)"),new RegExp("^"+t+"$")}function _D(r,t,e){var n=-1,s=-1,i=-1,a=-1,l=-1,c=-1;(t.match(Y6)||[]).forEach(function(p,h){var d=parseInt(e[h+1],10);switch(p.toLowerCase().charAt(0)){case"y":n=d;break;case"d":i=d;break;case"h":a=d;break;case"s":c=d;break;case"m":a>=0?l=d:s=d;break}}),c>=0&&l==-1&&s>=0&&(l=s,s=-1);var o=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);o.length==7&&(o="0"+o),o.length==8&&(o="20"+o);var u=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return a==-1&&l==-1&&c==-1?o:n==-1&&s==-1&&i==-1?u:o+"T"+u}var SD=(function(){var r={};r.version="1.2.0";function t(){for(var B=0,I=new Array(256),O=0;O!=256;++O)B=O,B=B&1?-306674912^B>>>1:B>>>1,B=B&1?-306674912^B>>>1:B>>>1,B=B&1?-306674912^B>>>1:B>>>1,B=B&1?-306674912^B>>>1:B>>>1,B=B&1?-306674912^B>>>1:B>>>1,B=B&1?-306674912^B>>>1:B>>>1,B=B&1?-306674912^B>>>1:B>>>1,B=B&1?-306674912^B>>>1:B>>>1,I[O]=B;return typeof Int32Array<"u"?new Int32Array(I):I}var e=t();function n(B){var I=0,O=0,F=0,W=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(F=0;F!=256;++F)W[F]=B[F];for(F=0;F!=256;++F)for(O=B[F],I=256+F;I<4096;I+=256)O=W[I]=O>>>8^B[O&255];var V=[];for(F=1;F!=16;++F)V[F-1]=typeof Int32Array<"u"?W.subarray(F*256,F*256+256):W.slice(F*256,F*256+256);return V}var s=n(e),i=s[0],a=s[1],l=s[2],c=s[3],o=s[4],u=s[5],p=s[6],h=s[7],d=s[8],b=s[9],x=s[10],g=s[11],v=s[12],y=s[13],k=s[14];function R(B,I){for(var O=I^-1,F=0,W=B.length;F<W;)O=O>>>8^e[(O^B.charCodeAt(F++))&255];return~O}function z(B,I){for(var O=I^-1,F=B.length-15,W=0;W<F;)O=k[B[W++]^O&255]^y[B[W++]^O>>8&255]^v[B[W++]^O>>16&255]^g[B[W++]^O>>>24]^x[B[W++]]^b[B[W++]]^d[B[W++]]^h[B[W++]]^p[B[W++]]^u[B[W++]]^o[B[W++]]^c[B[W++]]^l[B[W++]]^a[B[W++]]^i[B[W++]]^e[B[W++]];for(F+=15;W<F;)O=O>>>8^e[(O^B[W++])&255];return~O}function q(B,I){for(var O=I^-1,F=0,W=B.length,V=0,N=0;F<W;)V=B.charCodeAt(F++),V<128?O=O>>>8^e[(O^V)&255]:V<2048?(O=O>>>8^e[(O^(192|V>>6&31))&255],O=O>>>8^e[(O^(128|V&63))&255]):V>=55296&&V<57344?(V=(V&1023)+64,N=B.charCodeAt(F++)&1023,O=O>>>8^e[(O^(240|V>>8&7))&255],O=O>>>8^e[(O^(128|V>>2&63))&255],O=O>>>8^e[(O^(128|N>>6&15|(V&3)<<4))&255],O=O>>>8^e[(O^(128|N&63))&255]):(O=O>>>8^e[(O^(224|V>>12&15))&255],O=O>>>8^e[(O^(128|V>>6&63))&255],O=O>>>8^e[(O^(128|V&63))&255]);return~O}return r.table=e,r.bstr=R,r.buf=z,r.str=q,r})(),Cr=(function(){var t={};t.version="1.2.1";function e(ae,pe){for(var ce=ae.split("/"),fe=pe.split("/"),ge=0,ye=0,Ne=Math.min(ce.length,fe.length);ge<Ne;++ge){if(ye=ce[ge].length-fe[ge].length)return ye;if(ce[ge]!=fe[ge])return ce[ge]<fe[ge]?-1:1}return ce.length-fe.length}function n(ae){if(ae.charAt(ae.length-1)=="/")return ae.slice(0,-1).indexOf("/")===-1?ae:n(ae.slice(0,-1));var pe=ae.lastIndexOf("/");return pe===-1?ae:ae.slice(0,pe+1)}function s(ae){if(ae.charAt(ae.length-1)=="/")return s(ae.slice(0,-1));var pe=ae.lastIndexOf("/");return pe===-1?ae:ae.slice(pe+1)}function i(ae,pe){typeof pe=="string"&&(pe=new Date(pe));var ce=pe.getHours();ce=ce<<6|pe.getMinutes(),ce=ce<<5|pe.getSeconds()>>>1,ae.write_shift(2,ce);var fe=pe.getFullYear()-1980;fe=fe<<4|pe.getMonth()+1,fe=fe<<5|pe.getDate(),ae.write_shift(2,fe)}function a(ae){var pe=ae.read_shift(2)&65535,ce=ae.read_shift(2)&65535,fe=new Date,ge=ce&31;ce>>>=5;var ye=ce&15;ce>>>=4,fe.setMilliseconds(0),fe.setFullYear(ce+1980),fe.setMonth(ye-1),fe.setDate(ge);var Ne=pe&31;pe>>>=5;var Fe=pe&63;return pe>>>=6,fe.setHours(pe),fe.setMinutes(Fe),fe.setSeconds(Ne<<1),fe}function l(ae){Kn(ae,0);for(var pe={},ce=0;ae.l<=ae.length-4;){var fe=ae.read_shift(2),ge=ae.read_shift(2),ye=ae.l+ge,Ne={};switch(fe){case 21589:ce=ae.read_shift(1),ce&1&&(Ne.mtime=ae.read_shift(4)),ge>5&&(ce&2&&(Ne.atime=ae.read_shift(4)),ce&4&&(Ne.ctime=ae.read_shift(4))),Ne.mtime&&(Ne.mt=new Date(Ne.mtime*1e3));break}ae.l=ye,pe[fe]=Ne}return pe}var c;function o(){return c||(c={})}function u(ae,pe){if(ae[0]==80&&ae[1]==75)return ke(ae,pe);if((ae[0]|32)==109&&(ae[1]|32)==105)return At(ae,pe);if(ae.length<512)throw new Error("CFB file size "+ae.length+" < 512");var ce=3,fe=512,ge=0,ye=0,Ne=0,Fe=0,Oe=0,Ve=[],ze=ae.slice(0,512);Kn(ze,0);var bt=p(ze);switch(ce=bt[0],ce){case 3:fe=512;break;case 4:fe=4096;break;case 0:if(bt[1]==0)return ke(ae,pe);default:throw new Error("Major Version: Expected 3 or 4 saw "+ce)}fe!==512&&(ze=ae.slice(0,fe),Kn(ze,28));var St=ae.slice(0,fe);h(ze,ce);var Tt=ze.read_shift(4,"i");if(ce===3&&Tt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Tt);ze.l+=4,Ne=ze.read_shift(4,"i"),ze.l+=4,ze.chk("00100000","Mini Stream Cutoff Size: "),Fe=ze.read_shift(4,"i"),ge=ze.read_shift(4,"i"),Oe=ze.read_shift(4,"i"),ye=ze.read_shift(4,"i");for(var be=-1,Me=0;Me<109&&(be=ze.read_shift(4,"i"),!(be<0));++Me)Ve[Me]=be;var Ye=d(ae,fe);g(Oe,ye,Ye,fe,Ve);var ht=y(Ye,Ne,Ve,fe);ht[Ne].name="!Directory",ge>0&&Fe!==N&&(ht[Fe].name="!MiniFAT"),ht[Ve[0]].name="!FAT",ht.fat_addrs=Ve,ht.ssz=fe;var Nt={},yt=[],Rt=[],Qt=[];k(Ne,ht,Ye,yt,ge,Nt,Rt,Fe),b(Rt,Qt,yt),yt.shift();var Gt={FileIndex:Rt,FullPaths:Qt};return pe&&pe.raw&&(Gt.raw={header:St,sectors:Ye}),Gt}function p(ae){if(ae[ae.l]==80&&ae[ae.l+1]==75)return[0,0];ae.chk(P,"Header Signature: "),ae.l+=16;var pe=ae.read_shift(2,"u");return[ae.read_shift(2,"u"),pe]}function h(ae,pe){var ce=9;switch(ae.l+=2,ce=ae.read_shift(2)){case 9:if(pe!=3)throw new Error("Sector Shift: Expected 9 saw "+ce);break;case 12:if(pe!=4)throw new Error("Sector Shift: Expected 12 saw "+ce);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ce)}ae.chk("0600","Mini Sector Shift: "),ae.chk("000000000000","Reserved: ")}function d(ae,pe){for(var ce=Math.ceil(ae.length/pe)-1,fe=[],ge=1;ge<ce;++ge)fe[ge-1]=ae.slice(ge*pe,(ge+1)*pe);return fe[ce-1]=ae.slice(ce*pe),fe}function b(ae,pe,ce){for(var fe=0,ge=0,ye=0,Ne=0,Fe=0,Oe=ce.length,Ve=[],ze=[];fe<Oe;++fe)Ve[fe]=ze[fe]=fe,pe[fe]=ce[fe];for(;Fe<ze.length;++Fe)fe=ze[Fe],ge=ae[fe].L,ye=ae[fe].R,Ne=ae[fe].C,Ve[fe]===fe&&(ge!==-1&&Ve[ge]!==ge&&(Ve[fe]=Ve[ge]),ye!==-1&&Ve[ye]!==ye&&(Ve[fe]=Ve[ye])),Ne!==-1&&(Ve[Ne]=fe),ge!==-1&&fe!=Ve[fe]&&(Ve[ge]=Ve[fe],ze.lastIndexOf(ge)<Fe&&ze.push(ge)),ye!==-1&&fe!=Ve[fe]&&(Ve[ye]=Ve[fe],ze.lastIndexOf(ye)<Fe&&ze.push(ye));for(fe=1;fe<Oe;++fe)Ve[fe]===fe&&(ye!==-1&&Ve[ye]!==ye?Ve[fe]=Ve[ye]:ge!==-1&&Ve[ge]!==ge&&(Ve[fe]=Ve[ge]));for(fe=1;fe<Oe;++fe)if(ae[fe].type!==0){if(Fe=fe,Fe!=Ve[Fe])do Fe=Ve[Fe],pe[fe]=pe[Fe]+"/"+pe[fe];while(Fe!==0&&Ve[Fe]!==-1&&Fe!=Ve[Fe]);Ve[fe]=-1}for(pe[0]+="/",fe=1;fe<Oe;++fe)ae[fe].type!==2&&(pe[fe]+="/")}function x(ae,pe,ce){for(var fe=ae.start,ge=ae.size,ye=[],Ne=fe;ce&&ge>0&&Ne>=0;)ye.push(pe.slice(Ne*V,Ne*V+V)),ge-=V,Ne=Sl(ce,Ne*4);return ye.length===0?In(0):Ro(ye).slice(0,ae.size)}function g(ae,pe,ce,fe,ge){var ye=N;if(ae===N){if(pe!==0)throw new Error("DIFAT chain shorter than expected")}else if(ae!==-1){var Ne=ce[ae],Fe=(fe>>>2)-1;if(!Ne)return;for(var Oe=0;Oe<Fe&&(ye=Sl(Ne,Oe*4))!==N;++Oe)ge.push(ye);g(Sl(Ne,fe-4),pe-1,ce,fe,ge)}}function v(ae,pe,ce,fe,ge){var ye=[],Ne=[];ge||(ge=[]);var Fe=fe-1,Oe=0,Ve=0;for(Oe=pe;Oe>=0;){ge[Oe]=!0,ye[ye.length]=Oe,Ne.push(ae[Oe]);var ze=ce[Math.floor(Oe*4/fe)];if(Ve=Oe*4&Fe,fe<4+Ve)throw new Error("FAT boundary crossed: "+Oe+" 4 "+fe);if(!ae[ze])break;Oe=Sl(ae[ze],Ve)}return{nodes:ye,data:r4([Ne])}}function y(ae,pe,ce,fe){var ge=ae.length,ye=[],Ne=[],Fe=[],Oe=[],Ve=fe-1,ze=0,bt=0,St=0,Tt=0;for(ze=0;ze<ge;++ze)if(Fe=[],St=ze+pe,St>=ge&&(St-=ge),!Ne[St]){Oe=[];var be=[];for(bt=St;bt>=0;){be[bt]=!0,Ne[bt]=!0,Fe[Fe.length]=bt,Oe.push(ae[bt]);var Me=ce[Math.floor(bt*4/fe)];if(Tt=bt*4&Ve,fe<4+Tt)throw new Error("FAT boundary crossed: "+bt+" 4 "+fe);if(!ae[Me]||(bt=Sl(ae[Me],Tt),be[bt]))break}ye[St]={nodes:Fe,data:r4([Oe])}}return ye}function k(ae,pe,ce,fe,ge,ye,Ne,Fe){for(var Oe=0,Ve=fe.length?2:0,ze=pe[ae].data,bt=0,St=0,Tt;bt<ze.length;bt+=128){var be=ze.slice(bt,bt+128);Kn(be,64),St=be.read_shift(2),Tt=Jb(be,0,St-Ve),fe.push(Tt);var Me={name:Tt,type:be.read_shift(1),color:be.read_shift(1),L:be.read_shift(4,"i"),R:be.read_shift(4,"i"),C:be.read_shift(4,"i"),clsid:be.read_shift(16),state:be.read_shift(4,"i"),start:0,size:0},Ye=be.read_shift(2)+be.read_shift(2)+be.read_shift(2)+be.read_shift(2);Ye!==0&&(Me.ct=R(be,be.l-8));var ht=be.read_shift(2)+be.read_shift(2)+be.read_shift(2)+be.read_shift(2);ht!==0&&(Me.mt=R(be,be.l-8)),Me.start=be.read_shift(4,"i"),Me.size=be.read_shift(4,"i"),Me.size<0&&Me.start<0&&(Me.size=Me.type=0,Me.start=N,Me.name=""),Me.type===5?(Oe=Me.start,ge>0&&Oe!==N&&(pe[Oe].name="!StreamData")):Me.size>=4096?(Me.storage="fat",pe[Me.start]===void 0&&(pe[Me.start]=v(ce,Me.start,pe.fat_addrs,pe.ssz)),pe[Me.start].name=Me.name,Me.content=pe[Me.start].data.slice(0,Me.size)):(Me.storage="minifat",Me.size<0?Me.size=0:Oe!==N&&Me.start!==N&&pe[Oe]&&(Me.content=x(Me,pe[Oe].data,(pe[Fe]||{}).data))),Me.content&&Kn(Me.content,0),ye[Tt]=Me,Ne.push(Me)}}function R(ae,pe){return new Date((Js(ae,pe+4)/1e7*Math.pow(2,32)+Js(ae,pe)/1e7-11644473600)*1e3)}function z(ae,pe){return o(),u(c.readFileSync(ae),pe)}function q(ae,pe){var ce=pe&&pe.type;switch(ce||Er&&Buffer.isBuffer(ae)&&(ce="buffer"),ce||"base64"){case"file":return z(ae,pe);case"base64":return u(Fa(na(ae)),pe);case"binary":return u(Fa(ae),pe)}return u(ae,pe)}function B(ae,pe){var ce=pe||{},fe=ce.root||"Root Entry";if(ae.FullPaths||(ae.FullPaths=[]),ae.FileIndex||(ae.FileIndex=[]),ae.FullPaths.length!==ae.FileIndex.length)throw new Error("inconsistent CFB structure");ae.FullPaths.length===0&&(ae.FullPaths[0]=fe+"/",ae.FileIndex[0]={name:fe,type:5}),ce.CLSID&&(ae.FileIndex[0].clsid=ce.CLSID),I(ae)}function I(ae){var pe="Sh33tJ5";if(!Cr.find(ae,"/"+pe)){var ce=In(4);ce[0]=55,ce[1]=ce[3]=50,ce[2]=54,ae.FileIndex.push({name:pe,type:2,content:ce,size:4,L:69,R:69,C:69}),ae.FullPaths.push(ae.FullPaths[0]+pe),O(ae)}}function O(ae,pe){B(ae);for(var ce=!1,fe=!1,ge=ae.FullPaths.length-1;ge>=0;--ge){var ye=ae.FileIndex[ge];switch(ye.type){case 0:fe?ce=!0:(ae.FileIndex.pop(),ae.FullPaths.pop());break;case 1:case 2:case 5:fe=!0,isNaN(ye.R*ye.L*ye.C)&&(ce=!0),ye.R>-1&&ye.L>-1&&ye.R==ye.L&&(ce=!0);break;default:ce=!0;break}}if(!(!ce&&!pe)){var Ne=new Date(1987,1,19),Fe=0,Oe=Object.create?Object.create(null):{},Ve=[];for(ge=0;ge<ae.FullPaths.length;++ge)Oe[ae.FullPaths[ge]]=!0,ae.FileIndex[ge].type!==0&&Ve.push([ae.FullPaths[ge],ae.FileIndex[ge]]);for(ge=0;ge<Ve.length;++ge){var ze=n(Ve[ge][0]);fe=Oe[ze],fe||(Ve.push([ze,{name:s(ze).replace("/",""),type:1,clsid:S,ct:Ne,mt:Ne,content:null}]),Oe[ze]=!0)}for(Ve.sort(function(Tt,be){return e(Tt[0],be[0])}),ae.FullPaths=[],ae.FileIndex=[],ge=0;ge<Ve.length;++ge)ae.FullPaths[ge]=Ve[ge][0],ae.FileIndex[ge]=Ve[ge][1];for(ge=0;ge<Ve.length;++ge){var bt=ae.FileIndex[ge],St=ae.FullPaths[ge];if(bt.name=s(St).replace("/",""),bt.L=bt.R=bt.C=-(bt.color=1),bt.size=bt.content?bt.content.length:0,bt.start=0,bt.clsid=bt.clsid||S,ge===0)bt.C=Ve.length>1?1:-1,bt.size=0,bt.type=5;else if(St.slice(-1)=="/"){for(Fe=ge+1;Fe<Ve.length&&n(ae.FullPaths[Fe])!=St;++Fe);for(bt.C=Fe>=Ve.length?-1:Fe,Fe=ge+1;Fe<Ve.length&&n(ae.FullPaths[Fe])!=n(St);++Fe);bt.R=Fe>=Ve.length?-1:Fe,bt.type=1}else n(ae.FullPaths[ge+1]||"")==n(St)&&(bt.R=ge+1),bt.type=2}}}function F(ae,pe){var ce=pe||{};if(ce.fileType=="mad")return Ct(ae,ce);switch(O(ae),ce.fileType){case"zip":return Ae(ae,ce)}var fe=(function(Tt){for(var be=0,Me=0,Ye=0;Ye<Tt.FileIndex.length;++Ye){var ht=Tt.FileIndex[Ye];if(ht.content){var Nt=ht.content.length;Nt>0&&(Nt<4096?be+=Nt+63>>6:Me+=Nt+511>>9)}}for(var yt=Tt.FullPaths.length+3>>2,Rt=be+7>>3,Qt=be+127>>7,Gt=Rt+Me+yt+Qt,Wt=Gt+127>>7,Vt=Wt<=109?0:Math.ceil((Wt-109)/127);Gt+Wt+Vt+127>>7>Wt;)Vt=++Wt<=109?0:Math.ceil((Wt-109)/127);var Jt=[1,Vt,Wt,Qt,yt,Me,be,0];return Tt.FileIndex[0].size=be<<6,Jt[7]=(Tt.FileIndex[0].start=Jt[0]+Jt[1]+Jt[2]+Jt[3]+Jt[4]+Jt[5])+(Jt[6]+7>>3),Jt})(ae),ge=In(fe[7]<<9),ye=0,Ne=0;{for(ye=0;ye<8;++ye)ge.write_shift(1,C[ye]);for(ye=0;ye<8;++ye)ge.write_shift(2,0);for(ge.write_shift(2,62),ge.write_shift(2,3),ge.write_shift(2,65534),ge.write_shift(2,9),ge.write_shift(2,6),ye=0;ye<3;++ye)ge.write_shift(2,0);for(ge.write_shift(4,0),ge.write_shift(4,fe[2]),ge.write_shift(4,fe[0]+fe[1]+fe[2]+fe[3]-1),ge.write_shift(4,0),ge.write_shift(4,4096),ge.write_shift(4,fe[3]?fe[0]+fe[1]+fe[2]-1:N),ge.write_shift(4,fe[3]),ge.write_shift(-4,fe[1]?fe[0]-1:N),ge.write_shift(4,fe[1]),ye=0;ye<109;++ye)ge.write_shift(-4,ye<fe[2]?fe[1]+ye:-1)}if(fe[1])for(Ne=0;Ne<fe[1];++Ne){for(;ye<236+Ne*127;++ye)ge.write_shift(-4,ye<fe[2]?fe[1]+ye:-1);ge.write_shift(-4,Ne===fe[1]-1?N:Ne+1)}var Fe=function(Tt){for(Ne+=Tt;ye<Ne-1;++ye)ge.write_shift(-4,ye+1);Tt&&(++ye,ge.write_shift(-4,N))};for(Ne=ye=0,Ne+=fe[1];ye<Ne;++ye)ge.write_shift(-4,E.DIFSECT);for(Ne+=fe[2];ye<Ne;++ye)ge.write_shift(-4,E.FATSECT);Fe(fe[3]),Fe(fe[4]);for(var Oe=0,Ve=0,ze=ae.FileIndex[0];Oe<ae.FileIndex.length;++Oe)ze=ae.FileIndex[Oe],ze.content&&(Ve=ze.content.length,!(Ve<4096)&&(ze.start=Ne,Fe(Ve+511>>9)));for(Fe(fe[6]+7>>3);ge.l&511;)ge.write_shift(-4,E.ENDOFCHAIN);for(Ne=ye=0,Oe=0;Oe<ae.FileIndex.length;++Oe)ze=ae.FileIndex[Oe],ze.content&&(Ve=ze.content.length,!(!Ve||Ve>=4096)&&(ze.start=Ne,Fe(Ve+63>>6)));for(;ge.l&511;)ge.write_shift(-4,E.ENDOFCHAIN);for(ye=0;ye<fe[4]<<2;++ye){var bt=ae.FullPaths[ye];if(!bt||bt.length===0){for(Oe=0;Oe<17;++Oe)ge.write_shift(4,0);for(Oe=0;Oe<3;++Oe)ge.write_shift(4,-1);for(Oe=0;Oe<12;++Oe)ge.write_shift(4,0);continue}ze=ae.FileIndex[ye],ye===0&&(ze.start=ze.size?ze.start-1:N);var St=ye===0&&ce.root||ze.name;if(Ve=2*(St.length+1),ge.write_shift(64,St,"utf16le"),ge.write_shift(2,Ve),ge.write_shift(1,ze.type),ge.write_shift(1,ze.color),ge.write_shift(-4,ze.L),ge.write_shift(-4,ze.R),ge.write_shift(-4,ze.C),ze.clsid)ge.write_shift(16,ze.clsid,"hex");else for(Oe=0;Oe<4;++Oe)ge.write_shift(4,0);ge.write_shift(4,ze.state||0),ge.write_shift(4,0),ge.write_shift(4,0),ge.write_shift(4,0),ge.write_shift(4,0),ge.write_shift(4,ze.start),ge.write_shift(4,ze.size),ge.write_shift(4,0)}for(ye=1;ye<ae.FileIndex.length;++ye)if(ze=ae.FileIndex[ye],ze.size>=4096)if(ge.l=ze.start+1<<9,Er&&Buffer.isBuffer(ze.content))ze.content.copy(ge,ge.l,0,ze.size),ge.l+=ze.size+511&-512;else{for(Oe=0;Oe<ze.size;++Oe)ge.write_shift(1,ze.content[Oe]);for(;Oe&511;++Oe)ge.write_shift(1,0)}for(ye=1;ye<ae.FileIndex.length;++ye)if(ze=ae.FileIndex[ye],ze.size>0&&ze.size<4096)if(Er&&Buffer.isBuffer(ze.content))ze.content.copy(ge,ge.l,0,ze.size),ge.l+=ze.size+63&-64;else{for(Oe=0;Oe<ze.size;++Oe)ge.write_shift(1,ze.content[Oe]);for(;Oe&63;++Oe)ge.write_shift(1,0)}if(Er)ge.l=ge.length;else for(;ge.l<ge.length;)ge.write_shift(1,0);return ge}function W(ae,pe){var ce=ae.FullPaths.map(function(Oe){return Oe.toUpperCase()}),fe=ce.map(function(Oe){var Ve=Oe.split("/");return Ve[Ve.length-(Oe.slice(-1)=="/"?2:1)]}),ge=!1;pe.charCodeAt(0)===47?(ge=!0,pe=ce[0].slice(0,-1)+pe):ge=pe.indexOf("/")!==-1;var ye=pe.toUpperCase(),Ne=ge===!0?ce.indexOf(ye):fe.indexOf(ye);if(Ne!==-1)return ae.FileIndex[Ne];var Fe=!ye.match(mf);for(ye=ye.replace(Ts,""),Fe&&(ye=ye.replace(mf,"!")),Ne=0;Ne<ce.length;++Ne)if((Fe?ce[Ne].replace(mf,"!"):ce[Ne]).replace(Ts,"")==ye||(Fe?fe[Ne].replace(mf,"!"):fe[Ne]).replace(Ts,"")==ye)return ae.FileIndex[Ne];return null}var V=64,N=-2,P="d0cf11e0a1b11ae1",C=[208,207,17,224,161,177,26,225],S="00000000000000000000000000000000",E={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:N,FREESECT:-1,HEADER_SIGNATURE:P,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:S,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function A(ae,pe,ce){o();var fe=F(ae,ce);c.writeFileSync(pe,fe)}function T(ae){for(var pe=new Array(ae.length),ce=0;ce<ae.length;++ce)pe[ce]=String.fromCharCode(ae[ce]);return pe.join("")}function j(ae,pe){var ce=F(ae,pe);switch(pe&&pe.type||"buffer"){case"file":return o(),c.writeFileSync(pe.filename,ce),ce;case"binary":return typeof ce=="string"?ce:T(ce);case"base64":return L_(typeof ce=="string"?ce:T(ce));case"buffer":if(Er)return Buffer.isBuffer(ce)?ce:Xl(ce);case"array":return typeof ce=="string"?Fa(ce):ce}return ce}var L;function D(ae){try{var pe=ae.InflateRaw,ce=new pe;if(ce._processChunk(new Uint8Array([3,0]),ce._finishFlushFlag),ce.bytesRead)L=ae;else throw new Error("zlib does not expose bytesRead")}catch(fe){console.error("cannot use native zlib: "+(fe.message||fe))}}function Z(ae,pe){if(!L)return mt(ae,pe);var ce=L.InflateRaw,fe=new ce,ge=fe._processChunk(ae.slice(ae.l),fe._finishFlushFlag);return ae.l+=fe.bytesRead,ge}function K(ae){return L?L.deflateRawSync(ae):pt(ae)}var ee=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],G=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],te=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function H(ae){var pe=(ae<<1|ae<<11)&139536|(ae<<5|ae<<15)&558144;return(pe>>16|pe>>8|pe)&255}for(var U=typeof Uint8Array<"u",Q=U?new Uint8Array(256):[],ie=0;ie<256;++ie)Q[ie]=H(ie);function re(ae,pe){var ce=Q[ae&255];return pe<=8?ce>>>8-pe:(ce=ce<<8|Q[ae>>8&255],pe<=16?ce>>>16-pe:(ce=ce<<8|Q[ae>>16&255],ce>>>24-pe))}function oe(ae,pe){var ce=pe&7,fe=pe>>>3;return(ae[fe]|(ce<=6?0:ae[fe+1]<<8))>>>ce&3}function he(ae,pe){var ce=pe&7,fe=pe>>>3;return(ae[fe]|(ce<=5?0:ae[fe+1]<<8))>>>ce&7}function ve(ae,pe){var ce=pe&7,fe=pe>>>3;return(ae[fe]|(ce<=4?0:ae[fe+1]<<8))>>>ce&15}function me(ae,pe){var ce=pe&7,fe=pe>>>3;return(ae[fe]|(ce<=3?0:ae[fe+1]<<8))>>>ce&31}function ne(ae,pe){var ce=pe&7,fe=pe>>>3;return(ae[fe]|(ce<=1?0:ae[fe+1]<<8))>>>ce&127}function de(ae,pe,ce){var fe=pe&7,ge=pe>>>3,ye=(1<<ce)-1,Ne=ae[ge]>>>fe;return ce<8-fe||(Ne|=ae[ge+1]<<8-fe,ce<16-fe)||(Ne|=ae[ge+2]<<16-fe,ce<24-fe)||(Ne|=ae[ge+3]<<24-fe),Ne&ye}function xe(ae,pe,ce){var fe=pe&7,ge=pe>>>3;return fe<=5?ae[ge]|=(ce&7)<<fe:(ae[ge]|=ce<<fe&255,ae[ge+1]=(ce&7)>>8-fe),pe+3}function Te(ae,pe,ce){var fe=pe&7,ge=pe>>>3;return ce=(ce&1)<<fe,ae[ge]|=ce,pe+1}function Re(ae,pe,ce){var fe=pe&7,ge=pe>>>3;return ce<<=fe,ae[ge]|=ce&255,ce>>>=8,ae[ge+1]=ce,pe+8}function Pe(ae,pe,ce){var fe=pe&7,ge=pe>>>3;return ce<<=fe,ae[ge]|=ce&255,ce>>>=8,ae[ge+1]=ce&255,ae[ge+2]=ce>>>8,pe+16}function Xe(ae,pe){var ce=ae.length,fe=2*ce>pe?2*ce:pe+5,ge=0;if(ce>=pe)return ae;if(Er){var ye=B_(fe);if(ae.copy)ae.copy(ye);else for(;ge<ae.length;++ge)ye[ge]=ae[ge];return ye}else if(U){var Ne=new Uint8Array(fe);if(Ne.set)Ne.set(ae);else for(;ge<ce;++ge)Ne[ge]=ae[ge];return Ne}return ae.length=fe,ae}function Ue(ae){for(var pe=new Array(ae),ce=0;ce<ae;++ce)pe[ce]=0;return pe}function tt(ae,pe,ce){var fe=1,ge=0,ye=0,Ne=0,Fe=0,Oe=ae.length,Ve=U?new Uint16Array(32):Ue(32);for(ye=0;ye<32;++ye)Ve[ye]=0;for(ye=Oe;ye<ce;++ye)ae[ye]=0;Oe=ae.length;var ze=U?new Uint16Array(Oe):Ue(Oe);for(ye=0;ye<Oe;++ye)Ve[ge=ae[ye]]++,fe<ge&&(fe=ge),ze[ye]=0;for(Ve[0]=0,ye=1;ye<=fe;++ye)Ve[ye+16]=Fe=Fe+Ve[ye-1]<<1;for(ye=0;ye<Oe;++ye)Fe=ae[ye],Fe!=0&&(ze[ye]=Ve[Fe+16]++);var bt=0;for(ye=0;ye<Oe;++ye)if(bt=ae[ye],bt!=0)for(Fe=re(ze[ye],fe)>>fe-bt,Ne=(1<<fe+4-bt)-1;Ne>=0;--Ne)pe[Fe|Ne<<bt]=bt&15|ye<<4;return fe}var at=U?new Uint16Array(512):Ue(512),Je=U?new Uint16Array(32):Ue(32);if(!U){for(var Ze=0;Ze<512;++Ze)at[Ze]=0;for(Ze=0;Ze<32;++Ze)Je[Ze]=0}(function(){for(var ae=[],pe=0;pe<32;pe++)ae.push(5);tt(ae,Je,32);var ce=[];for(pe=0;pe<=143;pe++)ce.push(8);for(;pe<=255;pe++)ce.push(9);for(;pe<=279;pe++)ce.push(7);for(;pe<=287;pe++)ce.push(8);tt(ce,at,288)})();var vt=(function(){for(var pe=U?new Uint8Array(32768):[],ce=0,fe=0;ce<te.length-1;++ce)for(;fe<te[ce+1];++fe)pe[fe]=ce;for(;fe<32768;++fe)pe[fe]=29;var ge=U?new Uint8Array(259):[];for(ce=0,fe=0;ce<G.length-1;++ce)for(;fe<G[ce+1];++fe)ge[fe]=ce;function ye(Fe,Oe){for(var Ve=0;Ve<Fe.length;){var ze=Math.min(65535,Fe.length-Ve),bt=Ve+ze==Fe.length;for(Oe.write_shift(1,+bt),Oe.write_shift(2,ze),Oe.write_shift(2,~ze&65535);ze-- >0;)Oe[Oe.l++]=Fe[Ve++]}return Oe.l}function Ne(Fe,Oe){for(var Ve=0,ze=0,bt=U?new Uint16Array(32768):[];ze<Fe.length;){var St=Math.min(65535,Fe.length-ze);if(St<10){for(Ve=xe(Oe,Ve,+(ze+St==Fe.length)),Ve&7&&(Ve+=8-(Ve&7)),Oe.l=Ve/8|0,Oe.write_shift(2,St),Oe.write_shift(2,~St&65535);St-- >0;)Oe[Oe.l++]=Fe[ze++];Ve=Oe.l*8;continue}Ve=xe(Oe,Ve,+(ze+St==Fe.length)+2);for(var Tt=0;St-- >0;){var be=Fe[ze];Tt=(Tt<<5^be)&32767;var Me=-1,Ye=0;if((Me=bt[Tt])&&(Me|=ze&-32768,Me>ze&&(Me-=32768),Me<ze))for(;Fe[Me+Ye]==Fe[ze+Ye]&&Ye<250;)++Ye;if(Ye>2){be=ge[Ye],be<=22?Ve=Re(Oe,Ve,Q[be+1]>>1)-1:(Re(Oe,Ve,3),Ve+=5,Re(Oe,Ve,Q[be-23]>>5),Ve+=3);var ht=be<8?0:be-4>>2;ht>0&&(Pe(Oe,Ve,Ye-G[be]),Ve+=ht),be=pe[ze-Me],Ve=Re(Oe,Ve,Q[be]>>3),Ve-=3;var Nt=be<4?0:be-2>>1;Nt>0&&(Pe(Oe,Ve,ze-Me-te[be]),Ve+=Nt);for(var yt=0;yt<Ye;++yt)bt[Tt]=ze&32767,Tt=(Tt<<5^Fe[ze])&32767,++ze;St-=Ye-1}else be<=143?be=be+48:Ve=Te(Oe,Ve,1),Ve=Re(Oe,Ve,Q[be]),bt[Tt]=ze&32767,++ze}Ve=Re(Oe,Ve,0)-1}return Oe.l=(Ve+7)/8|0,Oe.l}return function(Oe,Ve){return Oe.length<8?ye(Oe,Ve):Ne(Oe,Ve)}})();function pt(ae){var pe=In(50+Math.floor(ae.length*1.1)),ce=vt(ae,pe);return pe.slice(0,ce)}var Ie=U?new Uint16Array(32768):Ue(32768),$e=U?new Uint16Array(32768):Ue(32768),Ce=U?new Uint16Array(128):Ue(128),De=1,it=1;function Be(ae,pe){var ce=me(ae,pe)+257;pe+=5;var fe=me(ae,pe)+1;pe+=5;var ge=ve(ae,pe)+4;pe+=4;for(var ye=0,Ne=U?new Uint8Array(19):Ue(19),Fe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Oe=1,Ve=U?new Uint8Array(8):Ue(8),ze=U?new Uint8Array(8):Ue(8),bt=Ne.length,St=0;St<ge;++St)Ne[ee[St]]=ye=he(ae,pe),Oe<ye&&(Oe=ye),Ve[ye]++,pe+=3;var Tt=0;for(Ve[0]=0,St=1;St<=Oe;++St)ze[St]=Tt=Tt+Ve[St-1]<<1;for(St=0;St<bt;++St)(Tt=Ne[St])!=0&&(Fe[St]=ze[Tt]++);var be=0;for(St=0;St<bt;++St)if(be=Ne[St],be!=0){Tt=Q[Fe[St]]>>8-be;for(var Me=(1<<7-be)-1;Me>=0;--Me)Ce[Tt|Me<<be]=be&7|St<<3}var Ye=[];for(Oe=1;Ye.length<ce+fe;)switch(Tt=Ce[ne(ae,pe)],pe+=Tt&7,Tt>>>=3){case 16:for(ye=3+oe(ae,pe),pe+=2,Tt=Ye[Ye.length-1];ye-- >0;)Ye.push(Tt);break;case 17:for(ye=3+he(ae,pe),pe+=3;ye-- >0;)Ye.push(0);break;case 18:for(ye=11+ne(ae,pe),pe+=7;ye-- >0;)Ye.push(0);break;default:Ye.push(Tt),Oe<Tt&&(Oe=Tt);break}var ht=Ye.slice(0,ce),Nt=Ye.slice(ce);for(St=ce;St<286;++St)ht[St]=0;for(St=fe;St<30;++St)Nt[St]=0;return De=tt(ht,Ie,286),it=tt(Nt,$e,30),pe}function Ge(ae,pe){if(ae[0]==3&&!(ae[1]&3))return[Ko(pe),2];for(var ce=0,fe=0,ge=B_(pe||1<<18),ye=0,Ne=ge.length>>>0,Fe=0,Oe=0;(fe&1)==0;){if(fe=he(ae,ce),ce+=3,fe>>>1)fe>>1==1?(Fe=9,Oe=5):(ce=Be(ae,ce),Fe=De,Oe=it);else{ce&7&&(ce+=8-(ce&7));var Ve=ae[ce>>>3]|ae[(ce>>>3)+1]<<8;if(ce+=32,Ve>0)for(!pe&&Ne<ye+Ve&&(ge=Xe(ge,ye+Ve),Ne=ge.length);Ve-- >0;)ge[ye++]=ae[ce>>>3],ce+=8;continue}for(;;){!pe&&Ne<ye+32767&&(ge=Xe(ge,ye+32767),Ne=ge.length);var ze=de(ae,ce,Fe),bt=fe>>>1==1?at[ze]:Ie[ze];if(ce+=bt&15,bt>>>=4,(bt>>>8&255)===0)ge[ye++]=bt;else{if(bt==256)break;bt-=257;var St=bt<8?0:bt-4>>2;St>5&&(St=0);var Tt=ye+G[bt];St>0&&(Tt+=de(ae,ce,St),ce+=St),ze=de(ae,ce,Oe),bt=fe>>>1==1?Je[ze]:$e[ze],ce+=bt&15,bt>>>=4;var be=bt<4?0:bt-2>>1,Me=te[bt];for(be>0&&(Me+=de(ae,ce,be),ce+=be),!pe&&Ne<Tt&&(ge=Xe(ge,Tt+100),Ne=ge.length);ye<Tt;)ge[ye]=ge[ye-Me],++ye}}}return pe?[ge,ce+7>>>3]:[ge.slice(0,ye),ce+7>>>3]}function mt(ae,pe){var ce=ae.slice(ae.l||0),fe=Ge(ce,pe);return ae.l+=fe[1],fe[0]}function dt(ae,pe){if(ae)typeof console<"u"&&console.error(pe);else throw new Error(pe)}function ke(ae,pe){var ce=ae;Kn(ce,0);var fe=[],ge=[],ye={FileIndex:fe,FullPaths:ge};B(ye,{root:pe.root});for(var Ne=ce.length-4;(ce[Ne]!=80||ce[Ne+1]!=75||ce[Ne+2]!=5||ce[Ne+3]!=6)&&Ne>=0;)--Ne;ce.l=Ne+4,ce.l+=4;var Fe=ce.read_shift(2);ce.l+=6;var Oe=ce.read_shift(4);for(ce.l=Oe,Ne=0;Ne<Fe;++Ne){ce.l+=20;var Ve=ce.read_shift(4),ze=ce.read_shift(4),bt=ce.read_shift(2),St=ce.read_shift(2),Tt=ce.read_shift(2);ce.l+=8;var be=ce.read_shift(4),Me=l(ce.slice(ce.l+bt,ce.l+bt+St));ce.l+=bt+St+Tt;var Ye=ce.l;ce.l=be+4,We(ce,Ve,ze,ye,Me),ce.l=Ye}return ye}function We(ae,pe,ce,fe,ge){ae.l+=2;var ye=ae.read_shift(2),Ne=ae.read_shift(2),Fe=a(ae);if(ye&8257)throw new Error("Unsupported ZIP encryption");for(var Oe=ae.read_shift(4),Ve=ae.read_shift(4),ze=ae.read_shift(4),bt=ae.read_shift(2),St=ae.read_shift(2),Tt="",be=0;be<bt;++be)Tt+=String.fromCharCode(ae[ae.l++]);if(St){var Me=l(ae.slice(ae.l,ae.l+St));(Me[21589]||{}).mt&&(Fe=Me[21589].mt),((ge||{})[21589]||{}).mt&&(Fe=ge[21589].mt)}ae.l+=St;var Ye=ae.slice(ae.l,ae.l+Ve);switch(Ne){case 8:Ye=Z(ae,ze);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ne)}var ht=!1;ye&8&&(Oe=ae.read_shift(4),Oe==134695760&&(Oe=ae.read_shift(4),ht=!0),Ve=ae.read_shift(4),ze=ae.read_shift(4)),Ve!=pe&&dt(ht,"Bad compressed size: "+pe+" != "+Ve),ze!=ce&&dt(ht,"Bad uncompressed size: "+ce+" != "+ze),Mt(fe,Tt,Ye,{unsafe:!0,mt:Fe})}function Ae(ae,pe){var ce=pe||{},fe=[],ge=[],ye=In(1),Ne=ce.compression?8:0,Fe=0,Oe=0,Ve=0,ze=0,bt=0,St=ae.FullPaths[0],Tt=St,be=ae.FileIndex[0],Me=[],Ye=0;for(Oe=1;Oe<ae.FullPaths.length;++Oe)if(Tt=ae.FullPaths[Oe].slice(St.length),be=ae.FileIndex[Oe],!(!be.size||!be.content||Tt=="Sh33tJ5")){var ht=ze,Nt=In(Tt.length);for(Ve=0;Ve<Tt.length;++Ve)Nt.write_shift(1,Tt.charCodeAt(Ve)&127);Nt=Nt.slice(0,Nt.l),Me[bt]=SD.buf(be.content,0);var yt=be.content;Ne==8&&(yt=K(yt)),ye=In(30),ye.write_shift(4,67324752),ye.write_shift(2,20),ye.write_shift(2,Fe),ye.write_shift(2,Ne),be.mt?i(ye,be.mt):ye.write_shift(4,0),ye.write_shift(-4,Me[bt]),ye.write_shift(4,yt.length),ye.write_shift(4,be.content.length),ye.write_shift(2,Nt.length),ye.write_shift(2,0),ze+=ye.length,fe.push(ye),ze+=Nt.length,fe.push(Nt),ze+=yt.length,fe.push(yt),ye=In(46),ye.write_shift(4,33639248),ye.write_shift(2,0),ye.write_shift(2,20),ye.write_shift(2,Fe),ye.write_shift(2,Ne),ye.write_shift(4,0),ye.write_shift(-4,Me[bt]),ye.write_shift(4,yt.length),ye.write_shift(4,be.content.length),ye.write_shift(2,Nt.length),ye.write_shift(2,0),ye.write_shift(2,0),ye.write_shift(2,0),ye.write_shift(2,0),ye.write_shift(4,0),ye.write_shift(4,ht),Ye+=ye.l,ge.push(ye),Ye+=Nt.length,ge.push(Nt),++bt}return ye=In(22),ye.write_shift(4,101010256),ye.write_shift(2,0),ye.write_shift(2,0),ye.write_shift(2,bt),ye.write_shift(2,bt),ye.write_shift(4,Ye),ye.write_shift(4,ze),ye.write_shift(2,0),Ro([Ro(fe),Ro(ge),ye])}var Ee={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function et(ae,pe){if(ae.ctype)return ae.ctype;var ce=ae.name||"",fe=ce.match(/\.([^\.]+)$/);return fe&&Ee[fe[1]]||pe&&(fe=(ce=pe).match(/[\.\\]([^\.\\])+$/),fe&&Ee[fe[1]])?Ee[fe[1]]:"application/octet-stream"}function lt(ae){for(var pe=L_(ae),ce=[],fe=0;fe<pe.length;fe+=76)ce.push(pe.slice(fe,fe+76));return ce.join(`\r
`)+`\r
`}function Ke(ae){var pe=ae.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ve){var ze=Ve.charCodeAt(0).toString(16).toUpperCase();return"="+(ze.length==1?"0"+ze:ze)});pe=pe.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),pe.charAt(0)==`
`&&(pe="=0D"+pe.slice(1)),pe=pe.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ce=[],fe=pe.split(`\r
`),ge=0;ge<fe.length;++ge){var ye=fe[ge];if(ye.length==0){ce.push("");continue}for(var Ne=0;Ne<ye.length;){var Fe=76,Oe=ye.slice(Ne,Ne+Fe);Oe.charAt(Fe-1)=="="?Fe--:Oe.charAt(Fe-2)=="="?Fe-=2:Oe.charAt(Fe-3)=="="&&(Fe-=3),Oe=ye.slice(Ne,Ne+Fe),Ne+=Fe,Ne<ye.length&&(Oe+="="),ce.push(Oe)}}return ce.join(`\r
`)}function xt(ae){for(var pe=[],ce=0;ce<ae.length;++ce){for(var fe=ae[ce];ce<=ae.length&&fe.charAt(fe.length-1)=="=";)fe=fe.slice(0,fe.length-1)+ae[++ce];pe.push(fe)}for(var ge=0;ge<pe.length;++ge)pe[ge]=pe[ge].replace(/[=][0-9A-Fa-f]{2}/g,function(ye){return String.fromCharCode(parseInt(ye.slice(1),16))});return Fa(pe.join(`\r
`))}function jt(ae,pe,ce){for(var fe="",ge="",ye="",Ne,Fe=0;Fe<10;++Fe){var Oe=pe[Fe];if(!Oe||Oe.match(/^\s*$/))break;var Ve=Oe.match(/^(.*?):\s*([^\s].*)$/);if(Ve)switch(Ve[1].toLowerCase()){case"content-location":fe=Ve[2].trim();break;case"content-type":ye=Ve[2].trim();break;case"content-transfer-encoding":ge=Ve[2].trim();break}}switch(++Fe,ge.toLowerCase()){case"base64":Ne=Fa(na(pe.slice(Fe).join("")));break;case"quoted-printable":Ne=xt(pe.slice(Fe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ge)}var ze=Mt(ae,fe.slice(ce.length),Ne,{unsafe:!0});ye&&(ze.ctype=ye)}function At(ae,pe){if(T(ae.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ce=pe&&pe.root||"",fe=(Er&&Buffer.isBuffer(ae)?ae.toString("binary"):T(ae)).split(`\r
`),ge=0,ye="";for(ge=0;ge<fe.length;++ge)if(ye=fe[ge],!!/^Content-Location:/i.test(ye)&&(ye=ye.slice(ye.indexOf("file")),ce||(ce=ye.slice(0,ye.lastIndexOf("/")+1)),ye.slice(0,ce.length)!=ce))for(;ce.length>0&&(ce=ce.slice(0,ce.length-1),ce=ce.slice(0,ce.lastIndexOf("/")+1),ye.slice(0,ce.length)!=ce););var Ne=(fe[1]||"").match(/boundary="(.*?)"/);if(!Ne)throw new Error("MAD cannot find boundary");var Fe="--"+(Ne[1]||""),Oe=[],Ve=[],ze={FileIndex:Oe,FullPaths:Ve};B(ze);var bt,St=0;for(ge=0;ge<fe.length;++ge){var Tt=fe[ge];Tt!==Fe&&Tt!==Fe+"--"||(St++&&jt(ze,fe.slice(bt,ge),ce),bt=ge)}return ze}function Ct(ae,pe){var ce=pe||{},fe=ce.boundary||"SheetJS";fe="------="+fe;for(var ge=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+fe.slice(2)+'"',"","",""],ye=ae.FullPaths[0],Ne=ye,Fe=ae.FileIndex[0],Oe=1;Oe<ae.FullPaths.length;++Oe)if(Ne=ae.FullPaths[Oe].slice(ye.length),Fe=ae.FileIndex[Oe],!(!Fe.size||!Fe.content||Ne=="Sh33tJ5")){Ne=Ne.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ye){return"_x"+Ye.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ye){return"_u"+Ye.charCodeAt(0).toString(16)+"_"});for(var Ve=Fe.content,ze=Er&&Buffer.isBuffer(Ve)?Ve.toString("binary"):T(Ve),bt=0,St=Math.min(1024,ze.length),Tt=0,be=0;be<=St;++be)(Tt=ze.charCodeAt(be))>=32&&Tt<128&&++bt;var Me=bt>=St*4/5;ge.push(fe),ge.push("Content-Location: "+(ce.root||"file:///C:/SheetJS/")+Ne),ge.push("Content-Transfer-Encoding: "+(Me?"quoted-printable":"base64")),ge.push("Content-Type: "+et(Fe,Ne)),ge.push(""),ge.push(Me?Ke(ze):lt(ze))}return ge.push(fe+`--\r
`),ge.join(`\r
`)}function Dt(ae){var pe={};return B(pe,ae),pe}function Mt(ae,pe,ce,fe){var ge=fe&&fe.unsafe;ge||B(ae);var ye=!ge&&Cr.find(ae,pe);if(!ye){var Ne=ae.FullPaths[0];pe.slice(0,Ne.length)==Ne?Ne=pe:(Ne.slice(-1)!="/"&&(Ne+="/"),Ne=(Ne+pe).replace("//","/")),ye={name:s(pe),type:2},ae.FileIndex.push(ye),ae.FullPaths.push(Ne),ge||Cr.utils.cfb_gc(ae)}return ye.content=ce,ye.size=ce?ce.length:0,fe&&(fe.CLSID&&(ye.clsid=fe.CLSID),fe.mt&&(ye.mt=fe.mt),fe.ct&&(ye.ct=fe.ct)),ye}function je(ae,pe){B(ae);var ce=Cr.find(ae,pe);if(ce){for(var fe=0;fe<ae.FileIndex.length;++fe)if(ae.FileIndex[fe]==ce)return ae.FileIndex.splice(fe,1),ae.FullPaths.splice(fe,1),!0}return!1}function qe(ae,pe,ce){B(ae);var fe=Cr.find(ae,pe);if(fe){for(var ge=0;ge<ae.FileIndex.length;++ge)if(ae.FileIndex[ge]==fe)return ae.FileIndex[ge].name=s(ce),ae.FullPaths[ge]=ce,!0}return!1}function ct(ae){O(ae,!0)}return t.find=W,t.read=q,t.parse=u,t.write=j,t.writeFile=A,t.utils={cfb_new:Dt,cfb_add:Mt,cfb_del:je,cfb_mov:qe,cfb_gc:ct,ReadShift:Ef,CheckField:b8,prep_blob:Kn,bconcat:Ro,use_zlib:D,_deflateRaw:pt,_inflateRaw:mt,consts:E},t})();function kD(r){if(typeof Deno<"u")return Deno.readFileSync(r);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(r);t.open("r"),t.encoding="binary";var e=t.read();return t.close(),e}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+r)}function hi(r){for(var t=Object.keys(r),e=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(r,t[n])&&e.push(t[n]);return e}function Yb(r){for(var t=[],e=hi(r),n=0;n!==e.length;++n)t[r[e[n]]]=e[n];return t}var U0=new Date(1899,11,30,0,0,0);function Es(r,t){var e=r.getTime(),n=U0.getTime()+(r.getTimezoneOffset()-U0.getTimezoneOffset())*6e4;return(e-n)/(1440*60*1e3)}var K6=new Date,TD=U0.getTime()+(K6.getTimezoneOffset()-U0.getTimezoneOffset())*6e4,W_=K6.getTimezoneOffset();function vp(r){var t=new Date;return t.setTime(r*24*60*60*1e3+TD),t.getTimezoneOffset()!==W_&&t.setTime(t.getTime()+(t.getTimezoneOffset()-W_)*6e4),t}function ED(r){var t=0,e=0,n=!1,s=r.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!s)throw new Error("|"+r+"| is not an ISO8601 Duration");for(var i=1;i!=s.length;++i)if(s[i]){switch(e=1,i>3&&(n=!0),s[i].slice(s[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+s[i].slice(s[i].length-1));case"D":e*=24;case"H":e*=60;case"M":if(n)e*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=e*parseInt(s[i],10)}return t}var X_=new Date("2017-02-19T19:06:09.000Z"),Q6=isNaN(X_.getFullYear())?new Date("2/19/17"):X_,AD=Q6.getFullYear()==2017;function Vn(r,t){var e=new Date(r);if(AD)return t>0?e.setTime(e.getTime()+e.getTimezoneOffset()*60*1e3):t<0&&e.setTime(e.getTime()-e.getTimezoneOffset()*60*1e3),e;if(r instanceof Date)return r;if(Q6.getFullYear()==1917&&!isNaN(e.getFullYear())){var n=e.getFullYear();return r.indexOf(""+n)>-1||e.setFullYear(e.getFullYear()+100),e}var s=r.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return r.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function $l(r,t){if(Er&&Buffer.isBuffer(r)){if(t){if(r[0]==255&&r[1]==254)return bf(r.slice(2).toString("utf16le"));if(r[1]==254&&r[2]==255)return bf(P6(r.slice(2).toString("binary")))}return r.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(r[0]==255&&r[1]==254)return bf(new TextDecoder("utf-16le").decode(r.slice(2)));if(r[0]==254&&r[1]==255)return bf(new TextDecoder("utf-16be").decode(r.slice(2)))}var e={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(r)&&(r=new Uint8Array(r)),new TextDecoder("latin1").decode(r).replace(/[]/g,function(i){return e[i]||i})}catch{}for(var n=[],s=0;s!=r.length;++s)n.push(String.fromCharCode(r[s]));return n.join("")}function Jn(r){if(typeof JSON<"u"&&!Array.isArray(r))return JSON.parse(JSON.stringify(r));if(typeof r!="object"||r==null)return r;if(r instanceof Date)return new Date(r.getTime());var t={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=Jn(r[e]));return t}function cn(r,t){for(var e="";e.length<t;)e+=r;return e}function Va(r){var t=Number(r);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(r))return t;var e=1,n=r.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return e*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(s,i){return e=-e,i}),!isNaN(t=Number(n)))?t/e:t}var CD=["january","february","march","april","may","june","july","august","september","october","november","december"];function su(r){var t=new Date(r),e=new Date(NaN),n=t.getYear(),s=t.getMonth(),i=t.getDate();if(isNaN(i))return e;var a=r.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&CD.indexOf(a)==-1)return e}else if(a.match(/[a-z]/))return e;return n<0||n>8099?e:(s>0||i>1)&&n!=101?t:r.match(/[^-0-9:,\/\\]/)?e:t}var ND=(function(){var r="abacaba".split(/(:?b)/i).length==5;return function(e,n,s){if(r||typeof n=="string")return e.split(n);for(var i=e.split(n),a=[i[0]],l=1;l<i.length;++l)a.push(s),a.push(i[l]);return a}})();function Z6(r){return r?r.content&&r.type?$l(r.content,!0):r.data?pf(r.data):r.asNodeBuffer&&Er?pf(r.asNodeBuffer().toString("binary")):r.asBinary?pf(r.asBinary()):r._data&&r._data.getContent?pf($l(Array.prototype.slice.call(r._data.getContent(),0))):null:null}function J6(r){if(!r)return null;if(r.data)return F_(r.data);if(r.asNodeBuffer&&Er)return r.asNodeBuffer();if(r._data&&r._data.getContent){var t=r._data.getContent();return typeof t=="string"?F_(t):Array.prototype.slice.call(t)}return r.content&&r.type?r.content:null}function RD(r){return r&&r.name.slice(-4)===".bin"?J6(r):Z6(r)}function ba(r,t){for(var e=r.FullPaths||hi(r.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),s=n.replace(/\\/g,"/"),i=0;i<e.length;++i){var a=e[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==a||s==a)return r.files?r.files[e[i]]:r.FileIndex[i]}return null}function Kb(r,t){var e=ba(r,t);if(e==null)throw new Error("Cannot find file "+t+" in zip");return e}function An(r,t,e){if(!e)return RD(Kb(r,t));if(!t)return null;try{return An(r,t)}catch{return null}}function ea(r,t,e){if(!e)return Z6(Kb(r,t));if(!t)return null;try{return ea(r,t)}catch{return null}}function MD(r,t,e){return J6(Kb(r,t))}function Y_(r){for(var t=r.FullPaths||hi(r.files),e=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&e.push(t[n].replace(/^Root Entry[\/]/,""));return e.sort()}function jD(r,t,e){if(r.FullPaths){if(typeof e=="string"){var n;return Er?n=Xl(e):n=Qj(e),Cr.utils.cfb_add(r,t,n)}Cr.utils.cfb_add(r,t,e)}else r.file(t,e)}function e8(r,t){switch(t.type){case"base64":return Cr.read(r,{type:"base64"});case"binary":return Cr.read(r,{type:"binary"});case"buffer":case"array":return Cr.read(r,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function gf(r,t){if(r.charAt(0)=="/")return r.slice(1);var e=t.split("/");t.slice(-1)!="/"&&e.pop();for(var n=r.split("/");n.length!==0;){var s=n.shift();s===".."?e.pop():s!=="."&&e.push(s)}return e.join("/")}var t8=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,DD=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,K_=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,ID=/<[^>]*>/g,ps=t8.match(K_)?K_:ID,OD=/<\w*:/,FD=/<(\/?)\w+:/;function Zt(r,t,e){for(var n={},s=0,i=0;s!==r.length&&!((i=r.charCodeAt(s))===32||i===10||i===13);++s);if(t||(n[0]=r.slice(0,s)),s===r.length)return n;var a=r.match(DD),l=0,c="",o=0,u="",p="",h=1;if(a)for(o=0;o!=a.length;++o){for(p=a[o],i=0;i!=p.length&&p.charCodeAt(i)!==61;++i);for(u=p.slice(0,i).trim();p.charCodeAt(i+1)==32;)++i;for(h=(s=p.charCodeAt(i+1))==34||s==39?1:0,c=p.slice(i+1+h,p.length-h),l=0;l!=u.length&&u.charCodeAt(l)!==58;++l);if(l===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),n[u]=c,n[u.toLowerCase()]=c;else{var d=(l===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(l+1);if(n[d]&&u.slice(l-3,l)=="ext")continue;n[d]=c,n[d.toLowerCase()]=c}}return n}function di(r){return r.replace(FD,"<$1")}var r8={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},PD=Yb(r8),Rr=(function(){var r=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function e(n){var s=n+"",i=s.indexOf("<![CDATA[");if(i==-1)return s.replace(r,function(l,c){return r8[l]||String.fromCharCode(parseInt(c,l.indexOf("x")>-1?16:10))||l}).replace(t,function(l,c){return String.fromCharCode(parseInt(c,16))});var a=s.indexOf("]]>");return e(s.slice(0,i))+s.slice(i+9,a)+e(s.slice(a+3))}})(),LD=/[&<>'"]/g,BD=/[\u0000-\u001f]/g;function Qb(r){var t=r+"";return t.replace(LD,function(e){return PD[e]}).replace(/\n/g,"<br/>").replace(BD,function(e){return"&#x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+";"})}var Q_=(function(){var r=/&#(\d+);/g;function t(e,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(r,t)}})();function rn(r){switch(r){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Bg(r){for(var t="",e=0,n=0,s=0,i=0,a=0,l=0;e<r.length;){if(n=r.charCodeAt(e++),n<128){t+=String.fromCharCode(n);continue}if(s=r.charCodeAt(e++),n>191&&n<224){a=(n&31)<<6,a|=s&63,t+=String.fromCharCode(a);continue}if(i=r.charCodeAt(e++),n<240){t+=String.fromCharCode((n&15)<<12|(s&63)<<6|i&63);continue}a=r.charCodeAt(e++),l=((n&7)<<18|(s&63)<<12|(i&63)<<6|a&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function Z_(r){var t=Ko(2*r.length),e,n,s=1,i=0,a=0,l;for(n=0;n<r.length;n+=s)s=1,(l=r.charCodeAt(n))<128?e=l:l<224?(e=(l&31)*64+(r.charCodeAt(n+1)&63),s=2):l<240?(e=(l&15)*4096+(r.charCodeAt(n+1)&63)*64+(r.charCodeAt(n+2)&63),s=3):(s=4,e=(l&7)*262144+(r.charCodeAt(n+1)&63)*4096+(r.charCodeAt(n+2)&63)*64+(r.charCodeAt(n+3)&63),e-=65536,a=55296+(e>>>10&1023),e=56320+(e&1023)),a!==0&&(t[i++]=a&255,t[i++]=a>>>8,a=0),t[i++]=e%256,t[i++]=e>>>8;return t.slice(0,i).toString("ucs2")}function J_(r){return Xl(r,"binary").toString("utf8")}var qd="foo bar baz",Xr=Er&&(J_(qd)==Bg(qd)&&J_||Z_(qd)==Bg(qd)&&Z_)||Bg,bf=Er?function(r){return Xl(r,"utf8").toString("binary")}:function(r){for(var t=[],e=0,n=0,s=0;e<r.length;)switch(n=r.charCodeAt(e++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,s=r.charCodeAt(e++)-56320+(n<<10),t.push(String.fromCharCode(240+(s>>18&7))),t.push(String.fromCharCode(144+(s>>12&63))),t.push(String.fromCharCode(128+(s>>6&63))),t.push(String.fromCharCode(128+(s&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},Kf=(function(){var r={};return function(e,n){var s=e+"|"+(n||"");return r[s]?r[s]:r[s]=new RegExp("<(?:\\w+:)?"+e+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+e+">",n||"")}})(),n8=(function(){var r=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(e){for(var n=e.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<r.length;++s)n=n.replace(r[s][0],r[s][1]);return n}})(),UD=(function(){var r={};return function(e){return r[e]!==void 0?r[e]:r[e]=new RegExp("<(?:vt:)?"+e+">([\\s\\S]*?)</(?:vt:)?"+e+">","g")}})(),VD=/<\/?(?:vt:)?variant>/g,zD=/<(?:vt:)([^>]*)>([\s\S]*)</;function e4(r,t){var e=Zt(r),n=r.match(UD(e.baseType))||[],s=[];if(n.length!=e.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+e.size);return s}return n.forEach(function(i){var a=i.replace(VD,"").match(zD);a&&s.push({v:Xr(a[2]),t:a[1]})}),s}var HD=/(^\s|\s$|\n)/;function $D(r){return hi(r).map(function(t){return" "+t+'="'+r[t]+'"'}).join("")}function qD(r,t,e){return"<"+r+(e!=null?$D(e):"")+(t!=null?(t.match(HD)?' xml:space="preserve"':"")+">"+t+"</"+r:"/")+">"}function Zb(r){if(Er&&Buffer.isBuffer(r))return r.toString("utf8");if(typeof r=="string")return r;if(typeof Uint8Array<"u"&&r instanceof Uint8Array)return Xr(Yl(Gb(r)));throw new Error("Bad input format: expected Buffer or string")}var Qf=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,GD={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},WD=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function XD(r,t){for(var e=1-2*(r[t+7]>>>7),n=((r[t+7]&127)<<4)+(r[t+6]>>>4&15),s=r[t+6]&15,i=5;i>=0;--i)s=s*256+r[t+i];return n==2047?s==0?e*(1/0):NaN:(n==0?n=-1022:(n-=1023,s+=Math.pow(2,52)),e*Math.pow(2,n-52)*s)}function YD(r,t,e){var n=(t<0||1/t==-1/0?1:0)<<7,s=0,i=0,a=n?-t:t;isFinite(a)?a==0?s=i=0:(s=Math.floor(Math.log(a)/Math.LN2),i=a*Math.pow(2,52-s),s<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?s=-1022:(i-=Math.pow(2,52),s+=1023)):(s=2047,i=isNaN(t)?26985:0);for(var l=0;l<=5;++l,i/=256)r[e+l]=i&255;r[e+6]=(s&15)<<4|i&15,r[e+7]=s>>4|n}var t4=function(r){for(var t=[],e=10240,n=0;n<r[0].length;++n)if(r[0][n])for(var s=0,i=r[0][n].length;s<i;s+=e)t.push.apply(t,r[0][n].slice(s,s+e));return t},r4=Er?function(r){return r[0].length>0&&Buffer.isBuffer(r[0][0])?Buffer.concat(r[0].map(function(t){return Buffer.isBuffer(t)?t:Xl(t)})):t4(r)}:t4,n4=function(r,t,e){for(var n=[],s=t;s<e;s+=2)n.push(String.fromCharCode(Pi(r,s)));return n.join("").replace(Ts,"")},Jb=Er?function(r,t,e){return Buffer.isBuffer(r)?r.toString("utf16le",t,e).replace(Ts,""):n4(r,t,e)}:n4,s4=function(r,t,e){for(var n=[],s=t;s<t+e;++s)n.push(("0"+r[s].toString(16)).slice(-2));return n.join("")},s8=Er?function(r,t,e){return Buffer.isBuffer(r)?r.toString("hex",t,t+e):s4(r,t,e)}:s4,a4=function(r,t,e){for(var n=[],s=t;s<e;s++)n.push(String.fromCharCode(Uc(r,s)));return n.join("")},gh=Er?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf8",e,n):a4(t,e,n)}:a4,a8=function(r,t){var e=Js(r,t);return e>0?gh(r,t+4,t+4+e-1):""},i8=a8,o8=function(r,t){var e=Js(r,t);return e>0?gh(r,t+4,t+4+e-1):""},l8=o8,c8=function(r,t){var e=2*Js(r,t);return e>0?gh(r,t+4,t+4+e-1):""},u8=c8,f8=function(t,e){var n=Js(t,e);return n>0?Jb(t,e+4,e+4+n):""},h8=f8,d8=function(r,t){var e=Js(r,t);return e>0?gh(r,t+4,t+4+e):""},p8=d8,m8=function(r,t){return XD(r,t)},V0=m8,g8=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Er&&(i8=function(t,e){if(!Buffer.isBuffer(t))return a8(t,e);var n=t.readUInt32LE(e);return n>0?t.toString("utf8",e+4,e+4+n-1):""},l8=function(t,e){if(!Buffer.isBuffer(t))return o8(t,e);var n=t.readUInt32LE(e);return n>0?t.toString("utf8",e+4,e+4+n-1):""},u8=function(t,e){if(!Buffer.isBuffer(t))return c8(t,e);var n=2*t.readUInt32LE(e);return t.toString("utf16le",e+4,e+4+n-1)},h8=function(t,e){if(!Buffer.isBuffer(t))return f8(t,e);var n=t.readUInt32LE(e);return t.toString("utf16le",e+4,e+4+n)},p8=function(t,e){if(!Buffer.isBuffer(t))return d8(t,e);var n=t.readUInt32LE(e);return t.toString("utf8",e+4,e+4+n)},V0=function(t,e){return Buffer.isBuffer(t)?t.readDoubleLE(e):m8(t,e)},g8=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Uc=function(r,t){return r[t]},Pi=function(r,t){return r[t+1]*256+r[t]},KD=function(r,t){var e=r[t+1]*256+r[t];return e<32768?e:(65535-e+1)*-1},Js=function(r,t){return r[t+3]*(1<<24)+(r[t+2]<<16)+(r[t+1]<<8)+r[t]},Sl=function(r,t){return r[t+3]<<24|r[t+2]<<16|r[t+1]<<8|r[t]},QD=function(r,t){return r[t]<<24|r[t+1]<<16|r[t+2]<<8|r[t+3]};function Ef(r,t){var e="",n,s,i=[],a,l,c,o;switch(t){case"dbcs":if(o=this.l,Er&&Buffer.isBuffer(this))e=this.slice(this.l,this.l+2*r).toString("utf16le");else for(c=0;c<r;++c)e+=String.fromCharCode(Pi(this,o)),o+=2;r*=2;break;case"utf8":e=gh(this,this.l,this.l+r);break;case"utf16le":r*=2,e=Jb(this,this.l,this.l+r);break;case"wstr":return Ef.call(this,r,"dbcs");case"lpstr-ansi":e=i8(this,this.l),r=4+Js(this,this.l);break;case"lpstr-cp":e=l8(this,this.l),r=4+Js(this,this.l);break;case"lpwstr":e=u8(this,this.l),r=4+2*Js(this,this.l);break;case"lpp4":r=4+Js(this,this.l),e=h8(this,this.l),r&2&&(r+=2);break;case"8lpp4":r=4+Js(this,this.l),e=p8(this,this.l),r&3&&(r+=4-(r&3));break;case"cstr":for(r=0,e="";(a=Uc(this,this.l+r++))!==0;)i.push($d(a));e=i.join("");break;case"_wstr":for(r=0,e="";(a=Pi(this,this.l+r))!==0;)i.push($d(a)),r+=2;r+=2,e=i.join("");break;case"dbcs-cont":for(e="",o=this.l,c=0;c<r;++c){if(this.lens&&this.lens.indexOf(o)!==-1)return a=Uc(this,o),this.l=o+1,l=Ef.call(this,r-c,a?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push($d(Pi(this,o))),o+=2}e=i.join(""),r*=2;break;case"cpstr":case"sbcs-cont":for(e="",o=this.l,c=0;c!=r;++c){if(this.lens&&this.lens.indexOf(o)!==-1)return a=Uc(this,o),this.l=o+1,l=Ef.call(this,r-c,a?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push($d(Uc(this,o))),o+=1}e=i.join("");break;default:switch(r){case 1:return n=Uc(this,this.l),this.l++,n;case 2:return n=(t==="i"?KD:Pi)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(n=(r>0?Sl:QD)(this,this.l),this.l+=4,n):(s=Js(this,this.l),this.l+=4,s);case 8:case-8:if(t==="f")return r==8?s=V0(this,this.l):s=V0([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;r=8;case 16:e=s8(this,this.l,r);break}}return this.l+=r,e}var ZD=function(r,t,e){r[e]=t&255,r[e+1]=t>>>8&255,r[e+2]=t>>>16&255,r[e+3]=t>>>24&255},JD=function(r,t,e){r[e]=t&255,r[e+1]=t>>8&255,r[e+2]=t>>16&255,r[e+3]=t>>24&255},eI=function(r,t,e){r[e]=t&255,r[e+1]=t>>>8&255};function tI(r,t,e){var n=0,s=0;if(e==="dbcs"){for(s=0;s!=t.length;++s)eI(this,t.charCodeAt(s),this.l+2*s);n=2*t.length}else if(e==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=t.length;++s)this[this.l+s]=t.charCodeAt(s)&255;n=t.length}else if(e==="hex"){for(;s<r;++s)this[this.l++]=parseInt(t.slice(2*s,2*s+2),16)||0;return this}else if(e==="utf16le"){var i=Math.min(this.l+r,this.length);for(s=0;s<Math.min(t.length,r);++s){var a=t.charCodeAt(s);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(r){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,ZD(this,t,this.l);break;case 8:if(n=8,e==="f"){YD(this,t,this.l);break}case 16:break;case-4:n=4,JD(this,t,this.l);break}return this.l+=n,this}function b8(r,t){var e=s8(this,this.l,r.length>>1);if(e!==r)throw new Error(t+"Expected "+r+" saw "+e);this.l+=r.length>>1}function Kn(r,t){r.l=t,r.read_shift=Ef,r.chk=b8,r.write_shift=tI}function ds(r,t){r.l+=t}function In(r){var t=Ko(r);return Kn(t,0),t}function Qi(r,t,e){if(r){var n,s,i;Kn(r,r.l||0);for(var a=r.length,l=0,c=0;r.l<a;){l=r.read_shift(1),l&128&&(l=(l&127)+((r.read_shift(1)&127)<<7));var o=W0[l]||W0[65535];for(n=r.read_shift(1),i=n&127,s=1;s<4&&n&128;++s)i+=((n=r.read_shift(1))&127)<<7*s;c=r.l+i;var u=o.f&&o.f(r,i,e);if(r.l=c,t(u,o,l))return}}}function T1(){var r=[],t=Er?256:2048,e=function(o){var u=In(o);return Kn(u,0),u},n=e(t),s=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&r.push(n),n=null)},i=function(o){return n&&o<n.length-n.l?n:(s(),n=e(Math.max(o+1,t)))},a=function(){return s(),Ro(r)},l=function(o){s(),n=o,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:l,end:a,_bufs:r}}function Af(r,t,e){var n=Jn(r);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!e||e.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function i4(r,t,e){var n=Jn(r);return n.s=Af(n.s,t.s,e),n.e=Af(n.e,t.s,e),n}function Cf(r,t){if(r.cRel&&r.c<0)for(r=Jn(r);r.c<0;)r.c+=t>8?16384:256;if(r.rRel&&r.r<0)for(r=Jn(r);r.r<0;)r.r+=t>8?1048576:t>5?65536:16384;var e=ar(r);return!r.cRel&&r.cRel!=null&&(e=sI(e)),!r.rRel&&r.rRel!=null&&(e=rI(e)),e}function Ug(r,t){return r.s.r==0&&!r.s.rRel&&r.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!r.e.rRel?(r.s.cRel?"":"$")+On(r.s.c)+":"+(r.e.cRel?"":"$")+On(r.e.c):r.s.c==0&&!r.s.cRel&&r.e.c==(t.biff>=12?16383:255)&&!r.e.cRel?(r.s.rRel?"":"$")+es(r.s.r)+":"+(r.e.rRel?"":"$")+es(r.e.r):Cf(r.s,t.biff)+":"+Cf(r.e,t.biff)}function ex(r){return parseInt(nI(r),10)-1}function es(r){return""+(r+1)}function rI(r){return r.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function nI(r){return r.replace(/\$(\d+)$/,"$1")}function tx(r){for(var t=aI(r),e=0,n=0;n!==t.length;++n)e=26*e+t.charCodeAt(n)-64;return e-1}function On(r){if(r<0)throw new Error("invalid column "+r);var t="";for(++r;r;r=Math.floor((r-1)/26))t=String.fromCharCode((r-1)%26+65)+t;return t}function sI(r){return r.replace(/^([A-Z])/,"$$$1")}function aI(r){return r.replace(/^\$([A-Z])/,"$1")}function iI(r){return r.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function ks(r){for(var t=0,e=0,n=0;n<r.length;++n){var s=r.charCodeAt(n);s>=48&&s<=57?t=10*t+(s-48):s>=65&&s<=90&&(e=26*e+(s-64))}return{c:e-1,r:t-1}}function ar(r){for(var t=r.c+1,e="";t;t=(t-1)/26|0)e=String.fromCharCode((t-1)%26+65)+e;return e+(r.r+1)}function gu(r){var t=r.indexOf(":");return t==-1?{s:ks(r),e:ks(r)}:{s:ks(r.slice(0,t)),e:ks(r.slice(t+1))}}function Nr(r,t){return typeof t>"u"||typeof t=="number"?Nr(r.s,r.e):(typeof r!="string"&&(r=ar(r)),typeof t!="string"&&(t=ar(t)),r==t?r:r+":"+t)}function hn(r){var t={s:{c:0,r:0},e:{c:0,r:0}},e=0,n=0,s=0,i=r.length;for(e=0;n<i&&!((s=r.charCodeAt(n)-64)<1||s>26);++n)e=26*e+s;for(t.s.c=--e,e=0;n<i&&!((s=r.charCodeAt(n)-48)<0||s>9);++n)e=10*e+s;if(t.s.r=--e,n===i||s!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,e=0;n!=i&&!((s=r.charCodeAt(n)-64)<1||s>26);++n)e=26*e+s;for(t.e.c=--e,e=0;n!=i&&!((s=r.charCodeAt(n)-48)<0||s>9);++n)e=10*e+s;return t.e.r=--e,t}function o4(r,t){var e=r.t=="d"&&t instanceof Date;if(r.z!=null)try{return r.w=wa(r.z,e?Es(t):t)}catch{}try{return r.w=wa((r.XF||{}).numFmtId||(e?14:0),e?Es(t):t)}catch{return""+t}}function Wi(r,t,e){return r==null||r.t==null||r.t=="z"?"":r.w!==void 0?r.w:(r.t=="d"&&!r.z&&e&&e.dateNF&&(r.z=e.dateNF),r.t=="e"?Zl[r.v]||r.v:t==null?o4(r,r.v):o4(r,t))}function el(r,t){var e=t&&t.sheet?t.sheet:"Sheet1",n={};return n[e]=r,{SheetNames:[e],Sheets:n}}function x8(r,t,e){var n=e||{},s=r?Array.isArray(r):n.dense,i=r||(s?[]:{}),a=0,l=0;if(i&&n.origin!=null){if(typeof n.origin=="number")a=n.origin;else{var c=typeof n.origin=="string"?ks(n.origin):n.origin;a=c.r,l=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var o={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=hn(i["!ref"]);o.s.c=u.s.c,o.s.r=u.s.r,o.e.c=Math.max(o.e.c,u.e.c),o.e.r=Math.max(o.e.r,u.e.r),a==-1&&(o.e.r=a=u.e.r+1)}for(var p=0;p!=t.length;++p)if(t[p]){if(!Array.isArray(t[p]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[p].length;++h)if(!(typeof t[p][h]>"u")){var d={v:t[p][h]},b=a+p,x=l+h;if(o.s.r>b&&(o.s.r=b),o.s.c>x&&(o.s.c=x),o.e.r<b&&(o.e.r=b),o.e.c<x&&(o.e.c=x),t[p][h]&&typeof t[p][h]=="object"&&!Array.isArray(t[p][h])&&!(t[p][h]instanceof Date))d=t[p][h];else if(Array.isArray(d.v)&&(d.f=t[p][h][1],d.v=d.v[0]),d.v===null)if(d.f)d.t="n";else if(n.nullError)d.t="e",d.v=0;else if(n.sheetStubs)d.t="z";else continue;else typeof d.v=="number"?d.t="n":typeof d.v=="boolean"?d.t="b":d.v instanceof Date?(d.z=n.dateNF||fr[14],n.cellDates?(d.t="d",d.w=wa(d.z,Es(d.v))):(d.t="n",d.v=Es(d.v),d.w=wa(d.z,d.v))):d.t="s";if(s)i[b]||(i[b]=[]),i[b][x]&&i[b][x].z&&(d.z=i[b][x].z),i[b][x]=d;else{var g=ar({c:x,r:b});i[g]&&i[g].z&&(d.z=i[g].z),i[g]=d}}}return o.s.c<1e7&&(i["!ref"]=Nr(o)),i}function bu(r,t){return x8(null,r,t)}function oI(r){return r.read_shift(4,"i")}function fs(r){var t=r.read_shift(4);return t===0?"":r.read_shift(t,"dbcs")}function lI(r){return{ich:r.read_shift(2),ifnt:r.read_shift(2)}}function rx(r,t){var e=r.l,n=r.read_shift(1),s=fs(r),i=[],a={t:s,h:s};if((n&1)!==0){for(var l=r.read_shift(4),c=0;c!=l;++c)i.push(lI(r));a.r=i}else a.r=[{ich:0,ifnt:0}];return r.l=e+t,a}var cI=rx;function _a(r){var t=r.read_shift(4),e=r.read_shift(2);return e+=r.read_shift(1)<<16,r.l++,{c:t,iStyleRef:e}}function Kl(r){var t=r.read_shift(2);return t+=r.read_shift(1)<<16,r.l++,{c:-1,iStyleRef:t}}var uI=fs;function nx(r){var t=r.read_shift(4);return t===0||t===4294967295?"":r.read_shift(t,"dbcs")}var fI=fs,E1=nx;function sx(r){var t=r.slice(r.l,r.l+4),e=t[0]&1,n=t[0]&2;r.l+=4;var s=n===0?V0([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Sl(t,0)>>2;return e?s/100:s}function y8(r){var t={s:{},e:{}};return t.s.r=r.read_shift(4),t.e.r=r.read_shift(4),t.s.c=r.read_shift(4),t.e.c=r.read_shift(4),t}var Ql=y8;function cs(r){if(r.length-r.l<8)throw"XLS Xnum Buffer underflow";return r.read_shift(8,"f")}function hI(r){var t={},e=r.read_shift(1),n=e>>>1,s=r.read_shift(1),i=r.read_shift(2,"i"),a=r.read_shift(1),l=r.read_shift(1),c=r.read_shift(1);switch(r.l++,n){case 0:t.auto=1;break;case 1:t.index=s;var o=Ol[s];o&&(t.rgb=Jf(o));break;case 2:t.rgb=Jf([a,l,c]);break;case 3:t.theme=s;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function dI(r){var t=r.read_shift(1);r.l++;var e={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return e}function v8(r,t){var e={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=r.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return e[r.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return r.l-=4,r.read_shift(0,t==1?"lpstr":"lpwstr")}function pI(r){return v8(r,1)}function mI(r){return v8(r,2)}var ax=2,Is=3,Gd=11,l4=12,z0=19,Wd=64,gI=65,bI=71,xI=4108,yI=4126,Un=80,w8=81,vI=[Un,w8],wI={1:{n:"CodePage",t:ax},2:{n:"Category",t:Un},3:{n:"PresentationFormat",t:Un},4:{n:"ByteCount",t:Is},5:{n:"LineCount",t:Is},6:{n:"ParagraphCount",t:Is},7:{n:"SlideCount",t:Is},8:{n:"NoteCount",t:Is},9:{n:"HiddenCount",t:Is},10:{n:"MultimediaClipCount",t:Is},11:{n:"ScaleCrop",t:Gd},12:{n:"HeadingPairs",t:xI},13:{n:"TitlesOfParts",t:yI},14:{n:"Manager",t:Un},15:{n:"Company",t:Un},16:{n:"LinksUpToDate",t:Gd},17:{n:"CharacterCount",t:Is},19:{n:"SharedDoc",t:Gd},22:{n:"HyperlinksChanged",t:Gd},23:{n:"AppVersion",t:Is,p:"version"},24:{n:"DigSig",t:gI},26:{n:"ContentType",t:Un},27:{n:"ContentStatus",t:Un},28:{n:"Language",t:Un},29:{n:"Version",t:Un},255:{},2147483648:{n:"Locale",t:z0},2147483651:{n:"Behavior",t:z0},1919054434:{}},_I={1:{n:"CodePage",t:ax},2:{n:"Title",t:Un},3:{n:"Subject",t:Un},4:{n:"Author",t:Un},5:{n:"Keywords",t:Un},6:{n:"Comments",t:Un},7:{n:"Template",t:Un},8:{n:"LastAuthor",t:Un},9:{n:"RevNumber",t:Un},10:{n:"EditTime",t:Wd},11:{n:"LastPrinted",t:Wd},12:{n:"CreatedDate",t:Wd},13:{n:"ModifiedDate",t:Wd},14:{n:"PageCount",t:Is},15:{n:"WordCount",t:Is},16:{n:"CharCount",t:Is},17:{n:"Thumbnail",t:bI},18:{n:"Application",t:Un},19:{n:"DocSecurity",t:Is},255:{},2147483648:{n:"Locale",t:z0},2147483651:{n:"Behavior",t:z0},1919054434:{}},c4={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},SI=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function kI(r){return r.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var TI=kI([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Ol=Jn(TI),Zl={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},_8={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},u4={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function EI(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function AI(r){var t=EI();if(!r||!r.match)return t;var e={};if((r.match(ps)||[]).forEach(function(n){var s=Zt(n);switch(s[0].replace(OD,"<")){case"<?xml":break;case"<Types":t.xmlns=s["xmlns"+(s[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":e[s.Extension]=s.ContentType;break;case"<Override":t[u4[s.ContentType]]!==void 0&&t[u4[s.ContentType]].push(s.PartName);break}}),t.xmlns!==GD.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=e,delete t.calcchains,t}var Vc={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function A1(r){var t=r.lastIndexOf("/");return r.slice(0,t+1)+"_rels/"+r.slice(t+1)+".rels"}function Nf(r,t){var e={"!id":{}};if(!r)return e;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(r.match(ps)||[]).forEach(function(s){var i=Zt(s);if(i[0]==="<Relationship"){var a={};a.Type=i.Type,a.Target=i.Target,a.Id=i.Id,i.TargetMode&&(a.TargetMode=i.TargetMode);var l=i.TargetMode==="External"?i.Target:gf(i.Target,t);e[l]=a,n[i.Id]=a}}),e["!id"]=n,e}var CI="application/vnd.oasis.opendocument.spreadsheet";function NI(r,t){for(var e=Zb(r),n,s;n=Qf.exec(e);)switch(n[3]){case"manifest":break;case"file-entry":if(s=Zt(n[0],!1),s.path=="/"&&s.type!==CI)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var Rf=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],RI=(function(){for(var r=new Array(Rf.length),t=0;t<Rf.length;++t){var e=Rf[t],n="(?:"+e[0].slice(0,e[0].indexOf(":"))+":)"+e[0].slice(e[0].indexOf(":")+1);r[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return r})();function S8(r){var t={};r=Xr(r);for(var e=0;e<Rf.length;++e){var n=Rf[e],s=r.match(RI[e]);s!=null&&s.length>0&&(t[n[1]]=Rr(s[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=Vn(t[n[1]]))}return t}var MI=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function k8(r,t,e,n){var s=[];if(typeof r=="string")s=e4(r,n);else for(var i=0;i<r.length;++i)s=s.concat(r[i].map(function(u){return{v:u}}));var a=typeof t=="string"?e4(t,n).map(function(u){return u.v}):t,l=0,c=0;if(a.length>0)for(var o=0;o!==s.length;o+=2){switch(c=+s[o+1].v,s[o].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":e.Worksheets=c,e.SheetNames=a.slice(l,l+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":e.NamedRanges=c,e.DefinedNames=a.slice(l,l+c);break;case"Charts":case"Diagramme":e.Chartsheets=c,e.ChartNames=a.slice(l,l+c);break}l+=c}}function jI(r,t,e){var n={};return t||(t={}),r=Xr(r),MI.forEach(function(s){var i=(r.match(Kf(s[0]))||[])[1];switch(s[2]){case"string":i&&(t[s[1]]=Rr(i));break;case"bool":t[s[1]]=i==="true";break;case"raw":var a=r.match(new RegExp("<"+s[0]+"[^>]*>([\\s\\S]*?)</"+s[0]+">"));a&&a.length>0&&(n[s[1]]=a[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&k8(n.HeadingPairs,n.TitlesOfParts,t,e),t}var DI=/<[^>]+>[^<]*/g;function II(r,t){var e={},n="",s=r.match(DI);if(s)for(var i=0;i!=s.length;++i){var a=s[i],l=Zt(a);switch(l[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Rr(l.name);break;case"</property>":n=null;break;default:if(a.indexOf("<vt:")===0){var c=a.split(">"),o=c[0].slice(4),u=c[1];switch(o){case"lpstr":case"bstr":case"lpwstr":e[n]=Rr(u);break;case"bool":e[n]=rn(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":e[n]=parseInt(u,10);break;case"r4":case"r8":case"decimal":e[n]=parseFloat(u);break;case"filetime":case"date":e[n]=Vn(u);break;case"cy":case"error":e[n]=Rr(u);break;default:if(o.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",a,o,c)}}else if(a.slice(0,2)!=="</"){if(t.WTF)throw new Error(a)}}}return e}var OI={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},Vg;function FI(r,t,e){Vg||(Vg=Yb(OI)),t=Vg[t]||t,r[t]=e}function ix(r){var t=r.read_shift(4),e=r.read_shift(4);return new Date((e/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function T8(r,t,e){var n=r.l,s=r.read_shift(0,"lpstr-cp");if(e)for(;r.l-n&3;)++r.l;return s}function E8(r,t,e){var n=r.read_shift(0,"lpwstr");return n}function A8(r,t,e){return t===31?E8(r):T8(r,t,e)}function C1(r,t,e){return A8(r,t,e===!1?0:4)}function PI(r,t){if(!t)throw new Error("VtUnalignedString must have positive length");return A8(r,t,0)}function LI(r){for(var t=r.read_shift(4),e=[],n=0;n!=t;++n){var s=r.l;e[n]=r.read_shift(0,"lpwstr").replace(Ts,""),r.l-s&2&&(r.l+=2)}return e}function BI(r){for(var t=r.read_shift(4),e=[],n=0;n!=t;++n)e[n]=r.read_shift(0,"lpstr-cp").replace(Ts,"");return e}function UI(r){var t=r.l,e=H0(r,w8);r[r.l]==0&&r[r.l+1]==0&&r.l-t&2&&(r.l+=2);var n=H0(r,Is);return[e,n]}function VI(r){for(var t=r.read_shift(4),e=[],n=0;n<t/2;++n)e.push(UI(r));return e}function f4(r,t){for(var e=r.read_shift(4),n={},s=0;s!=e;++s){var i=r.read_shift(4),a=r.read_shift(4);n[i]=r.read_shift(a,t===1200?"utf16le":"utf8").replace(Ts,"").replace(mf,"!"),t===1200&&a%2&&(r.l+=2)}return r.l&3&&(r.l=r.l>>3<<2),n}function C8(r){var t=r.read_shift(4),e=r.slice(r.l,r.l+t);return r.l+=t,(t&3)>0&&(r.l+=4-(t&3)&3),e}function zI(r){var t={};return t.Size=r.read_shift(4),r.l+=t.Size+3-(t.Size-1)%4,t}function H0(r,t,e){var n=r.read_shift(2),s,i=e||{};if(r.l+=2,t!==l4&&n!==t&&vI.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===l4?n:t){case 2:return s=r.read_shift(2,"i"),i.raw||(r.l+=2),s;case 3:return s=r.read_shift(4,"i"),s;case 11:return r.read_shift(4)!==0;case 19:return s=r.read_shift(4),s;case 30:return T8(r,n,4).replace(Ts,"");case 31:return E8(r);case 64:return ix(r);case 65:return C8(r);case 71:return zI(r);case 80:return C1(r,n,!i.raw).replace(Ts,"");case 81:return PI(r,n).replace(Ts,"");case 4108:return VI(r);case 4126:case 4127:return n==4127?LI(r):BI(r);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function h4(r,t){var e=r.l,n=r.read_shift(4),s=r.read_shift(4),i=[],a=0,l=0,c=-1,o={};for(a=0;a!=s;++a){var u=r.read_shift(4),p=r.read_shift(4);i[a]=[u,p+e]}i.sort(function(y,k){return y[1]-k[1]});var h={};for(a=0;a!=s;++a){if(r.l!==i[a][1]){var d=!0;if(a>0&&t)switch(t[i[a-1][0]].t){case 2:r.l+2===i[a][1]&&(r.l+=2,d=!1);break;case 80:r.l<=i[a][1]&&(r.l=i[a][1],d=!1);break;case 4108:r.l<=i[a][1]&&(r.l=i[a][1],d=!1);break}if((!t||a==0)&&r.l<=i[a][1]&&(d=!1,r.l=i[a][1]),d)throw new Error("Read Error: Expected address "+i[a][1]+" at "+r.l+" :"+a)}if(t){var b=t[i[a][0]];if(h[b.n]=H0(r,b.t,{raw:!0}),b.p==="version"&&(h[b.n]=String(h[b.n]>>16)+"."+("0000"+String(h[b.n]&65535)).slice(-4)),b.n=="CodePage")switch(h[b.n]){case 0:h[b.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:La(l=h[b.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[b.n])}}else if(i[a][0]===1){if(l=h.CodePage=H0(r,ax),La(l),c!==-1){var x=r.l;r.l=i[c][1],o=f4(r,l),r.l=x}}else if(i[a][0]===0){if(l===0){c=a,r.l=i[a+1][1];continue}o=f4(r,l)}else{var g=o[i[a][0]],v;switch(r[r.l]){case 65:r.l+=4,v=C8(r);break;case 30:r.l+=4,v=C1(r,r[r.l-4]).replace(/\u0000+$/,"");break;case 31:r.l+=4,v=C1(r,r[r.l-4]).replace(/\u0000+$/,"");break;case 3:r.l+=4,v=r.read_shift(4,"i");break;case 19:r.l+=4,v=r.read_shift(4);break;case 5:r.l+=4,v=r.read_shift(8,"f");break;case 11:r.l+=4,v=yn(r,4);break;case 64:r.l+=4,v=Vn(ix(r));break;default:throw new Error("unparsed value: "+r[r.l])}h[g]=v}}return r.l=e+n,h}function d4(r,t,e){var n=r.content;if(!n)return{};Kn(n,0);var s,i,a,l,c=0;n.chk("feff","Byte Order: "),n.read_shift(2);var o=n.read_shift(4),u=n.read_shift(16);if(u!==Cr.utils.consts.HEADER_CLSID&&u!==e)throw new Error("Bad PropertySet CLSID "+u);if(s=n.read_shift(4),s!==1&&s!==2)throw new Error("Unrecognized #Sets: "+s);if(i=n.read_shift(16),l=n.read_shift(4),s===1&&l!==n.l)throw new Error("Length mismatch: "+l+" !== "+n.l);s===2&&(a=n.read_shift(16),c=n.read_shift(4));var p=h4(n,t),h={SystemIdentifier:o};for(var d in p)h[d]=p[d];if(h.FMTID=i,s===1)return h;if(c-n.l==2&&(n.l+=2),n.l!==c)throw new Error("Length mismatch 2: "+n.l+" !== "+c);var b;try{b=h4(n,null)}catch{}for(d in b)h[d]=b[d];return h.FMTID=[i,a],h}function Eo(r,t){return r.read_shift(t),null}function HI(r,t,e){for(var n=[],s=r.l+t;r.l<s;)n.push(e(r,s-r.l));if(s!==r.l)throw new Error("Slurp error");return n}function yn(r,t){return r.read_shift(t)===1}function Cn(r){return r.read_shift(2,"u")}function N8(r,t){return HI(r,t,Cn)}function $I(r){var t=r.read_shift(1),e=r.read_shift(1);return e===1?t:t===1}function bh(r,t,e){var n=r.read_shift(e&&e.biff>=12?2:1),s="sbcs-cont";if(e&&e.biff>=8,!e||e.biff==8){var i=r.read_shift(1);i&&(s="dbcs-cont")}else e.biff==12&&(s="wstr");e.biff>=2&&e.biff<=5&&(s="cpstr");var a=n?r.read_shift(n,s):"";return a}function qI(r){var t=r.read_shift(2),e=r.read_shift(1),n=e&4,s=e&8,i=1+(e&1),a=0,l,c={};s&&(a=r.read_shift(2)),n&&(l=r.read_shift(4));var o=i==2?"dbcs-cont":"sbcs-cont",u=t===0?"":r.read_shift(t,o);return s&&(r.l+=4*a),n&&(r.l+=l),c.t=u,s||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function ql(r,t,e){var n;if(e){if(e.biff>=2&&e.biff<=5)return r.read_shift(t,"cpstr");if(e.biff>=12)return r.read_shift(t,"dbcs-cont")}var s=r.read_shift(1);return s===0?n=r.read_shift(t,"sbcs-cont"):n=r.read_shift(t,"dbcs-cont"),n}function xh(r,t,e){var n=r.read_shift(e&&e.biff==2?1:2);return n===0?(r.l++,""):ql(r,n,e)}function Jl(r,t,e){if(e.biff>5)return xh(r,t,e);var n=r.read_shift(1);return n===0?(r.l++,""):r.read_shift(n,e.biff<=4||!r.lens?"cpstr":"sbcs-cont")}function GI(r){var t=r.read_shift(1);r.l++;var e=r.read_shift(2);return r.l+=2,[t,e]}function WI(r){var t=r.read_shift(4),e=r.l,n=!1;t>24&&(r.l+=t-24,r.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),r.l=e);var s=r.read_shift((n?t-24:t)>>1,"utf16le").replace(Ts,"");return n&&(r.l+=24),s}function XI(r){for(var t=r.read_shift(2),e="";t-- >0;)e+="../";var n=r.read_shift(0,"lpstr-ansi");if(r.l+=2,r.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var s=r.read_shift(4);if(s===0)return e+n.replace(/\\/g,"/");var i=r.read_shift(4);if(r.read_shift(2)!=3)throw new Error("Bad FileMoniker");var a=r.read_shift(i>>1,"utf16le").replace(Ts,"");return e+a}function YI(r,t){var e=r.read_shift(16);switch(e){case"e0c9ea79f9bace118c8200aa004ba90b":return WI(r);case"0303000000000000c000000000000046":return XI(r);default:throw new Error("Unsupported Moniker "+e)}}function Xd(r){var t=r.read_shift(4),e=t>0?r.read_shift(t,"utf16le").replace(Ts,""):"";return e}function KI(r,t){var e=r.l+t,n=r.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var s=r.read_shift(2);r.l+=2;var i,a,l,c,o="",u,p;s&16&&(i=Xd(r,e-r.l)),s&128&&(a=Xd(r,e-r.l)),(s&257)===257&&(l=Xd(r,e-r.l)),(s&257)===1&&(c=YI(r,e-r.l)),s&8&&(o=Xd(r,e-r.l)),s&32&&(u=r.read_shift(16)),s&64&&(p=ix(r)),r.l=e;var h=a||l||c||"";h&&o&&(h+="#"+o),h||(h="#"+o),s&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var d={Target:h};return u&&(d.guid=u),p&&(d.time=p),i&&(d.Tooltip=i),d}function R8(r){var t=r.read_shift(1),e=r.read_shift(1),n=r.read_shift(1),s=r.read_shift(1);return[t,e,n,s]}function M8(r,t){var e=R8(r);return e[3]=0,e}function pi(r){var t=r.read_shift(2),e=r.read_shift(2),n=r.read_shift(2);return{r:t,c:e,ixfe:n}}function QI(r){var t=r.read_shift(2),e=r.read_shift(2);return r.l+=8,{type:t,flags:e}}function ZI(r,t,e){return t===0?"":Jl(r,t,e)}function JI(r,t,e){var n=e.biff>8?4:2,s=r.read_shift(n),i=r.read_shift(n,"i"),a=r.read_shift(n,"i");return[s,i,a]}function j8(r){var t=r.read_shift(2),e=sx(r);return[t,e]}function eO(r,t,e){r.l+=4,t-=4;var n=r.l+t,s=bh(r,t,e),i=r.read_shift(2);if(n-=r.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return r.l+=i,s}function wp(r){var t=r.read_shift(2),e=r.read_shift(2),n=r.read_shift(2),s=r.read_shift(2);return{s:{c:n,r:t},e:{c:s,r:e}}}function D8(r){var t=r.read_shift(2),e=r.read_shift(2),n=r.read_shift(1),s=r.read_shift(1);return{s:{c:n,r:t},e:{c:s,r:e}}}var tO=D8;function I8(r){r.l+=4;var t=r.read_shift(2),e=r.read_shift(2),n=r.read_shift(2);return r.l+=12,[e,t,n]}function rO(r){var t={};return r.l+=4,r.l+=16,t.fSharedNote=r.read_shift(2),r.l+=4,t}function nO(r){var t={};return r.l+=4,r.cf=r.read_shift(2),t}function as(r){r.l+=2,r.l+=r.read_shift(2)}var sO={0:as,4:as,5:as,6:as,7:nO,8:as,9:as,10:as,11:as,12:as,13:rO,14:as,15:as,16:as,17:as,18:as,19:as,20:as,21:I8};function aO(r,t){for(var e=r.l+t,n=[];r.l<e;){var s=r.read_shift(2);r.l-=2;try{n.push(sO[s](r,e-r.l))}catch{return r.l=e,n}}return r.l!=e&&(r.l=e),n}function Yd(r,t){var e={BIFFVer:0,dt:0};switch(e.BIFFVer=r.read_shift(2),t-=2,t>=2&&(e.dt=r.read_shift(2),r.l-=2),e.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+e.BIFFVer)}return r.read_shift(t),e}function iO(r,t){return t===0||r.read_shift(2),1200}function oO(r,t,e){if(e.enc)return r.l+=t,"";var n=r.l,s=Jl(r,0,e);return r.read_shift(t+n-r.l),s}function lO(r,t,e){var n=e&&e.biff==8||t==2?r.read_shift(2):(r.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function cO(r,t,e){var n=r.read_shift(4),s=r.read_shift(1)&3,i=r.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var a=bh(r,0,e);return a.length===0&&(a="Sheet1"),{pos:n,hs:s,dt:i,name:a}}function uO(r,t){for(var e=r.l+t,n=r.read_shift(4),s=r.read_shift(4),i=[],a=0;a!=s&&r.l<e;++a)i.push(qI(r));return i.Count=n,i.Unique=s,i}function fO(r,t){var e={};return e.dsst=r.read_shift(2),r.l+=t-2,e}function hO(r){var t={};t.r=r.read_shift(2),t.c=r.read_shift(2),t.cnt=r.read_shift(2)-t.c;var e=r.read_shift(2);r.l+=4;var n=r.read_shift(1);return r.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=e/20),t}function dO(r){var t=QI(r);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var e=r.read_shift(4);return e!==0}function pO(r){return r.read_shift(2),r.read_shift(4)}function p4(r,t,e){var n=0;e&&e.biff==2||(n=r.read_shift(2));var s=r.read_shift(2);e&&e.biff==2&&(n=1-(s>>15),s&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,s]}function mO(r){var t=r.read_shift(2),e=r.read_shift(2),n=r.read_shift(2),s=r.read_shift(2),i=r.read_shift(2),a=r.read_shift(2),l=r.read_shift(2),c=r.read_shift(2),o=r.read_shift(2);return{Pos:[t,e],Dim:[n,s],Flags:i,CurTab:a,FirstTab:l,Selected:c,TabRatio:o}}function gO(r,t,e){if(e&&e.biff>=2&&e.biff<5)return{};var n=r.read_shift(2);return{RTL:n&64}}function bO(){}function xO(r,t,e){var n={dyHeight:r.read_shift(2),fl:r.read_shift(2)};switch(e&&e.biff||8){case 2:break;case 3:case 4:r.l+=2;break;default:r.l+=10;break}return n.name=bh(r,0,e),n}function yO(r){var t=pi(r);return t.isst=r.read_shift(4),t}function vO(r,t,e){e.biffguess&&e.biff==2&&(e.biff=5);var n=r.l+t,s=pi(r);e.biff==2&&r.l++;var i=xh(r,n-r.l,e);return s.val=i,s}function wO(r,t,e){var n=r.read_shift(2),s=Jl(r,0,e);return[n,s]}var _O=Jl;function m4(r,t,e){var n=r.l+t,s=e.biff==8||!e.biff?4:2,i=r.read_shift(s),a=r.read_shift(s),l=r.read_shift(2),c=r.read_shift(2);return r.l=n,{s:{r:i,c:l},e:{r:a,c}}}function SO(r){var t=r.read_shift(2),e=r.read_shift(2),n=j8(r);return{r:t,c:e,ixfe:n[0],rknum:n[1]}}function kO(r,t){for(var e=r.l+t-2,n=r.read_shift(2),s=r.read_shift(2),i=[];r.l<e;)i.push(j8(r));if(r.l!==e)throw new Error("MulRK read error");var a=r.read_shift(2);if(i.length!=a-s+1)throw new Error("MulRK length mismatch");return{r:n,c:s,C:a,rkrec:i}}function TO(r,t){for(var e=r.l+t-2,n=r.read_shift(2),s=r.read_shift(2),i=[];r.l<e;)i.push(r.read_shift(2));if(r.l!==e)throw new Error("MulBlank read error");var a=r.read_shift(2);if(i.length!=a-s+1)throw new Error("MulBlank length mismatch");return{r:n,c:s,C:a,ixfe:i}}function EO(r,t,e,n){var s={},i=r.read_shift(4),a=r.read_shift(4),l=r.read_shift(4),c=r.read_shift(2);return s.patternType=SI[l>>26],n.cellStyles&&(s.alc=i&7,s.fWrap=i>>3&1,s.alcV=i>>4&7,s.fJustLast=i>>7&1,s.trot=i>>8&255,s.cIndent=i>>16&15,s.fShrinkToFit=i>>20&1,s.iReadOrder=i>>22&2,s.fAtrNum=i>>26&1,s.fAtrFnt=i>>27&1,s.fAtrAlc=i>>28&1,s.fAtrBdr=i>>29&1,s.fAtrPat=i>>30&1,s.fAtrProt=i>>31&1,s.dgLeft=a&15,s.dgRight=a>>4&15,s.dgTop=a>>8&15,s.dgBottom=a>>12&15,s.icvLeft=a>>16&127,s.icvRight=a>>23&127,s.grbitDiag=a>>30&3,s.icvTop=l&127,s.icvBottom=l>>7&127,s.icvDiag=l>>14&127,s.dgDiag=l>>21&15,s.icvFore=c&127,s.icvBack=c>>7&127,s.fsxButton=c>>14&1),s}function AO(r,t,e){var n={};return n.ifnt=r.read_shift(2),n.numFmtId=r.read_shift(2),n.flags=r.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=EO(r,t,n.fStyle,e),n}function CO(r){r.l+=4;var t=[r.read_shift(2),r.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function g4(r,t,e){var n=pi(r);(e.biff==2||t==9)&&++r.l;var s=$I(r);return n.val=s,n.t=s===!0||s===!1?"b":"e",n}function NO(r,t,e){e.biffguess&&e.biff==2&&(e.biff=5);var n=pi(r),s=cs(r);return n.val=s,n}var b4=ZI;function RO(r,t,e){var n=r.l+t,s=r.read_shift(2),i=r.read_shift(2);if(e.sbcch=i,i==1025||i==14849)return[i,s];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var a=ql(r,i),l=[];n>r.l;)l.push(xh(r));return[i,s,a,l]}function x4(r,t,e){var n=r.read_shift(2),s,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return e.sbcch===14849&&(s=eO(r,t-2,e)),i.body=s||r.read_shift(t-2),typeof s=="string"&&(i.Name=s),i}var MO=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function y4(r,t,e){var n=r.l+t,s=r.read_shift(2),i=r.read_shift(1),a=r.read_shift(1),l=r.read_shift(e&&e.biff==2?1:2),c=0;(!e||e.biff>=5)&&(e.biff!=5&&(r.l+=2),c=r.read_shift(2),e.biff==5&&(r.l+=2),r.l+=4);var o=ql(r,a,e);s&32&&(o=MO[o.charCodeAt(0)]);var u=n-r.l;e&&e.biff==2&&--u;var p=n==r.l||l===0||!(u>0)?[]:hB(r,u,e,l);return{chKey:i,Name:o,itab:c,rgce:p}}function O8(r,t,e){if(e.biff<8)return jO(r,t,e);for(var n=[],s=r.l+t,i=r.read_shift(e.biff>8?4:2);i--!==0;)n.push(JI(r,e.biff>8?12:6,e));if(r.l!=s)throw new Error("Bad ExternSheet: "+r.l+" != "+s);return n}function jO(r,t,e){r[r.l+1]==3&&r[r.l]++;var n=bh(r,t,e);return n.charCodeAt(0)==3?n.slice(1):n}function DO(r,t,e){if(e.biff<8){r.l+=t;return}var n=r.read_shift(2),s=r.read_shift(2),i=ql(r,n,e),a=ql(r,s,e);return[i,a]}function IO(r,t,e){var n=D8(r);r.l++;var s=r.read_shift(1);return t-=8,[dB(r,t,e),s,n]}function v4(r,t,e){var n=tO(r);switch(e.biff){case 2:r.l++,t-=7;break;case 3:case 4:r.l+=2,t-=8;break;default:r.l+=6,t-=12}return[n,uB(r,t,e)]}function OO(r){var t=r.read_shift(4)!==0,e=r.read_shift(4)!==0,n=r.read_shift(4);return[t,e,n]}function FO(r,t,e){if(!(e.biff<8)){var n=r.read_shift(2),s=r.read_shift(2),i=r.read_shift(2),a=r.read_shift(2),l=Jl(r,0,e);return e.biff<8&&r.read_shift(1),[{r:n,c:s},l,a,i]}}function PO(r,t,e){return FO(r,t,e)}function LO(r,t){for(var e=[],n=r.read_shift(2);n--;)e.push(wp(r));return e}function BO(r,t,e){if(e&&e.biff<8)return VO(r,t,e);var n=I8(r),s=aO(r,t-22,n[1]);return{cmo:n,ft:s}}var UO={8:function(r,t){var e=r.l+t;r.l+=10;var n=r.read_shift(2);r.l+=4,r.l+=2,r.l+=2,r.l+=2,r.l+=4;var s=r.read_shift(1);return r.l+=s,r.l=e,{fmt:n}}};function VO(r,t,e){r.l+=4;var n=r.read_shift(2),s=r.read_shift(2),i=r.read_shift(2);r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=2,r.l+=6,t-=36;var a=[];return a.push((UO[n]||ds)(r,t,e)),{cmo:[s,n,i],ft:a}}function zO(r,t,e){var n=r.l,s="";try{r.l+=4;var i=(e.lastobj||{cmo:[0,0]}).cmo[1],a;[0,5,7,11,12,14].indexOf(i)==-1?r.l+=6:a=GI(r,6,e);var l=r.read_shift(2);r.read_shift(2),Cn(r,2);var c=r.read_shift(2);r.l+=c;for(var o=1;o<r.lens.length-1;++o){if(r.l-n!=r.lens[o])throw new Error("TxO: bad continue record");var u=r[r.l],p=ql(r,r.lens[o+1]-r.lens[o]-1);if(s+=p,s.length>=(u?l:2*l))break}if(s.length!==l&&s.length!==l*2)throw new Error("cchText: "+l+" != "+s.length);return r.l=n+t,{t:s}}catch{return r.l=n+t,{t:s}}}function HO(r,t){var e=wp(r);r.l+=16;var n=KI(r,t-24);return[e,n]}function $O(r,t){r.read_shift(2);var e=wp(r),n=r.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(Ts,""),[e,n]}function qO(r){var t=[0,0],e;return e=r.read_shift(2),t[0]=c4[e]||e,e=r.read_shift(2),t[1]=c4[e]||e,t}function GO(r){for(var t=r.read_shift(2),e=[];t-- >0;)e.push(M8(r));return e}function WO(r){for(var t=r.read_shift(2),e=[];t-- >0;)e.push(M8(r));return e}function XO(r){r.l+=2;var t={cxfs:0,crc:0};return t.cxfs=r.read_shift(2),t.crc=r.read_shift(4),t}function F8(r,t,e){if(!e.cellStyles)return ds(r,t);var n=e&&e.biff>=12?4:2,s=r.read_shift(n),i=r.read_shift(n),a=r.read_shift(n),l=r.read_shift(n),c=r.read_shift(2);n==2&&(r.l+=2);var o={s,e:i,w:a,ixfe:l,flags:c};return(e.biff>=5||!e.biff)&&(o.level=c>>8&7),o}function YO(r,t){var e={};return t<32||(r.l+=16,e.header=cs(r),e.footer=cs(r),r.l+=2),e}function KO(r,t,e){var n={area:!1};if(e.biff!=5)return r.l+=t,n;var s=r.read_shift(1);return r.l+=3,s&16&&(n.area=!0),n}var QO=pi,ZO=N8,JO=xh;function eF(r){var t=r.read_shift(2),e=r.read_shift(2),n=r.read_shift(4),s={fmt:t,env:e,len:n,data:r.slice(r.l,r.l+n)};return r.l+=n,s}function tF(r,t,e){e.biffguess&&e.biff==5&&(e.biff=2);var n=pi(r);++r.l;var s=Jl(r,t-7,e);return n.t="str",n.val=s,n}function rF(r){var t=pi(r);++r.l;var e=cs(r);return t.t="n",t.val=e,t}function nF(r){var t=pi(r);++r.l;var e=r.read_shift(2);return t.t="n",t.val=e,t}function sF(r){var t=r.read_shift(1);return t===0?(r.l++,""):r.read_shift(t,"sbcs-cont")}function aF(r,t){r.l+=6,r.l+=2,r.l+=1,r.l+=3,r.l+=1,r.l+=t-13}function iF(r,t,e){var n=r.l+t,s=pi(r),i=r.read_shift(2),a=ql(r,i,e);return r.l=n,s.t="str",s.val=a,s}var oF=[2,3,48,49,131,139,140,245],w4=(function(){var r={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=Yb({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function e(l,c){var o=[],u=Ko(1);switch(c.type){case"base64":u=Fa(na(l));break;case"binary":u=Fa(l);break;case"buffer":case"array":u=l;break}Kn(u,0);var p=u.read_shift(1),h=!!(p&136),d=!1,b=!1;switch(p){case 2:break;case 3:break;case 48:d=!0,h=!0;break;case 49:d=!0,h=!0;break;case 131:break;case 139:break;case 140:b=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+p.toString(16))}var x=0,g=521;p==2&&(x=u.read_shift(2)),u.l+=3,p!=2&&(x=u.read_shift(4)),x>1048576&&(x=1e6),p!=2&&(g=u.read_shift(2));var v=u.read_shift(2),y=c.codepage||1252;p!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(y=r[u[u.l]]),u.l+=1,u.l+=2),b&&(u.l+=36);for(var k=[],R={},z=Math.min(u.length,p==2?521:g-10-(d?264:0)),q=b?32:11;u.l<z&&u[u.l]!=13;)switch(R={},R.name=Xf.utils.decode(y,u.slice(u.l,u.l+q)).replace(/[\u0000\r\n].*$/g,""),u.l+=q,R.type=String.fromCharCode(u.read_shift(1)),p!=2&&!b&&(R.offset=u.read_shift(4)),R.len=u.read_shift(1),p==2&&(R.offset=u.read_shift(2)),R.dec=u.read_shift(1),R.name.length&&k.push(R),p!=2&&(u.l+=b?13:14),R.type){case"B":(!d||R.len!=8)&&c.WTF&&console.log("Skipping "+R.name+":"+R.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+R.name+":"+R.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+R.type)}if(u[u.l]!==13&&(u.l=g-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=g;var B=0,I=0;for(o[0]=[],I=0;I!=k.length;++I)o[0][I]=k[I].name;for(;x-- >0;){if(u[u.l]===42){u.l+=v;continue}for(++u.l,o[++B]=[],I=0,I=0;I!=k.length;++I){var O=u.slice(u.l,u.l+k[I].len);u.l+=k[I].len,Kn(O,0);var F=Xf.utils.decode(y,O);switch(k[I].type){case"C":F.trim().length&&(o[B][I]=F.replace(/\s+$/,""));break;case"D":F.length===8?o[B][I]=new Date(+F.slice(0,4),+F.slice(4,6)-1,+F.slice(6,8)):o[B][I]=F;break;case"F":o[B][I]=parseFloat(F.trim());break;case"+":case"I":o[B][I]=b?O.read_shift(-4,"i")^2147483648:O.read_shift(4,"i");break;case"L":switch(F.trim().toUpperCase()){case"Y":case"T":o[B][I]=!0;break;case"N":case"F":o[B][I]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+F+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+p.toString(16));o[B][I]="##MEMO##"+(b?parseInt(F.trim(),10):O.read_shift(4));break;case"N":F=F.replace(/\u0000/g,"").trim(),F&&F!="."&&(o[B][I]=+F||0);break;case"@":o[B][I]=new Date(O.read_shift(-8,"f")-621356832e5);break;case"T":o[B][I]=new Date((O.read_shift(4)-2440588)*864e5+O.read_shift(4));break;case"Y":o[B][I]=O.read_shift(4,"i")/1e4+O.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":o[B][I]=-O.read_shift(-8,"f");break;case"B":if(d&&k[I].len==8){o[B][I]=O.read_shift(8,"f");break}case"G":case"P":O.l+=k[I].len;break;case"0":if(k[I].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+k[I].type)}}}if(p!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return c&&c.sheetRows&&(o=o.slice(0,c.sheetRows)),c.DBF=k,o}function n(l,c){var o=c||{};o.dateNF||(o.dateNF="yyyymmdd");var u=bu(e(l,o),o);return u["!cols"]=o.DBF.map(function(p){return{wch:p.len,DBF:p}}),delete o.DBF,u}function s(l,c){try{return el(n(l,c),c)}catch(o){if(c&&c.WTF)throw o}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function a(l,c){var o=c||{};if(+o.codepage>=0&&La(+o.codepage),o.type=="string")throw new Error("Cannot write DBF to JS string");var u=T1(),p=O1(l,{header:1,raw:!0,cellDates:!0}),h=p[0],d=p.slice(1),b=l["!cols"]||[],x=0,g=0,v=0,y=1;for(x=0;x<h.length;++x){if(((b[x]||{}).DBF||{}).name){h[x]=b[x].DBF.name,++v;continue}if(h[x]!=null){if(++v,typeof h[x]=="number"&&(h[x]=h[x].toString(10)),typeof h[x]!="string")throw new Error("DBF Invalid column name "+h[x]+" |"+typeof h[x]+"|");if(h.indexOf(h[x])!==x){for(g=0;g<1024;++g)if(h.indexOf(h[x]+"_"+g)==-1){h[x]+="_"+g;break}}}}var k=hn(l["!ref"]),R=[],z=[],q=[];for(x=0;x<=k.e.c-k.s.c;++x){var B="",I="",O=0,F=[];for(g=0;g<d.length;++g)d[g][x]!=null&&F.push(d[g][x]);if(F.length==0||h[x]==null){R[x]="?";continue}for(g=0;g<F.length;++g){switch(typeof F[g]){case"number":I="B";break;case"string":I="C";break;case"boolean":I="L";break;case"object":I=F[g]instanceof Date?"D":"C";break;default:I="C"}O=Math.max(O,String(F[g]).length),B=B&&B!=I?"C":I}O>250&&(O=250),I=((b[x]||{}).DBF||{}).type,I=="C"&&b[x].DBF.len>O&&(O=b[x].DBF.len),B=="B"&&I=="N"&&(B="N",q[x]=b[x].DBF.dec,O=b[x].DBF.len),z[x]=B=="C"||I=="N"?O:i[B]||0,y+=z[x],R[x]=B}var W=u.next(32);for(W.write_shift(4,318902576),W.write_shift(4,d.length),W.write_shift(2,296+32*v),W.write_shift(2,y),x=0;x<4;++x)W.write_shift(4,0);for(W.write_shift(4,0|(+t[O6]||3)<<8),x=0,g=0;x<h.length;++x)if(h[x]!=null){var V=u.next(32),N=(h[x].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);V.write_shift(1,N,"sbcs"),V.write_shift(1,R[x]=="?"?"C":R[x],"sbcs"),V.write_shift(4,g),V.write_shift(1,z[x]||i[R[x]]||0),V.write_shift(1,q[x]||0),V.write_shift(1,2),V.write_shift(4,0),V.write_shift(1,0),V.write_shift(4,0),V.write_shift(4,0),g+=z[x]||i[R[x]]||0}var P=u.next(264);for(P.write_shift(4,13),x=0;x<65;++x)P.write_shift(4,0);for(x=0;x<d.length;++x){var C=u.next(y);for(C.write_shift(1,0),g=0;g<h.length;++g)if(h[g]!=null)switch(R[g]){case"L":C.write_shift(1,d[x][g]==null?63:d[x][g]?84:70);break;case"B":C.write_shift(8,d[x][g]||0,"f");break;case"N":var S="0";for(typeof d[x][g]=="number"&&(S=d[x][g].toFixed(q[g]||0)),v=0;v<z[g]-S.length;++v)C.write_shift(1,32);C.write_shift(1,S,"sbcs");break;case"D":d[x][g]?(C.write_shift(4,("0000"+d[x][g].getFullYear()).slice(-4),"sbcs"),C.write_shift(2,("00"+(d[x][g].getMonth()+1)).slice(-2),"sbcs"),C.write_shift(2,("00"+d[x][g].getDate()).slice(-2),"sbcs")):C.write_shift(8,"00000000","sbcs");break;case"C":var E=String(d[x][g]!=null?d[x][g]:"").slice(0,z[g]);for(C.write_shift(1,E,"sbcs"),v=0;v<z[g]-E.length;++v)C.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:s,to_sheet:n,from_sheet:a}})(),lF=(function(){var r={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+hi(r).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),e=function(h,d){var b=r[d];return typeof b=="number"?P_(b):b},n=function(h,d,b){var x=d.charCodeAt(0)-32<<4|b.charCodeAt(0)-48;return x==59?h:P_(x)};r["|"]=254;function s(h,d){switch(d.type){case"base64":return i(na(h),d);case"binary":return i(h,d);case"buffer":return i(Er&&Buffer.isBuffer(h)?h.toString("binary"):Yl(h),d);case"array":return i($l(h),d)}throw new Error("Unrecognized type "+d.type)}function i(h,d){var b=h.split(/[\n\r]+/),x=-1,g=-1,v=0,y=0,k=[],R=[],z=null,q={},B=[],I=[],O=[],F=0,W;for(+d.codepage>=0&&La(+d.codepage);v!==b.length;++v){F=0;var V=b[v].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,e),N=V.replace(/;;/g,"\0").split(";").map(function(ee){return ee.replace(/\u0000/g,";")}),P=N[0],C;if(V.length>0)switch(P){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":N[1].charAt(0)=="P"&&R.push(V.slice(3).replace(/;;/g,";"));break;case"C":var S=!1,E=!1,A=!1,T=!1,j=-1,L=-1;for(y=1;y<N.length;++y)switch(N[y].charAt(0)){case"A":break;case"X":g=parseInt(N[y].slice(1))-1,E=!0;break;case"Y":for(x=parseInt(N[y].slice(1))-1,E||(g=0),W=k.length;W<=x;++W)k[W]=[];break;case"K":C=N[y].slice(1),C.charAt(0)==='"'?C=C.slice(1,C.length-1):C==="TRUE"?C=!0:C==="FALSE"?C=!1:isNaN(Va(C))?isNaN(su(C).getDate())||(C=Vn(C)):(C=Va(C),z!==null&&mu(z)&&(C=vp(C))),S=!0;break;case"E":T=!0;var D=Xc(N[y].slice(1),{r:x,c:g});k[x][g]=[k[x][g],D];break;case"S":A=!0,k[x][g]=[k[x][g],"S5S"];break;case"G":break;case"R":j=parseInt(N[y].slice(1))-1;break;case"C":L=parseInt(N[y].slice(1))-1;break;default:if(d&&d.WTF)throw new Error("SYLK bad record "+V)}if(S&&(k[x][g]&&k[x][g].length==2?k[x][g][0]=C:k[x][g]=C,z=null),A){if(T)throw new Error("SYLK shared formula cannot have own formula");var Z=j>-1&&k[j][L];if(!Z||!Z[1])throw new Error("SYLK shared formula cannot find base");k[x][g][1]=G8(Z[1],{r:x-j,c:g-L})}break;case"F":var K=0;for(y=1;y<N.length;++y)switch(N[y].charAt(0)){case"X":g=parseInt(N[y].slice(1))-1,++K;break;case"Y":for(x=parseInt(N[y].slice(1))-1,W=k.length;W<=x;++W)k[W]=[];break;case"M":F=parseInt(N[y].slice(1))/20;break;case"F":break;case"G":break;case"P":z=R[parseInt(N[y].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(O=N[y].slice(1).split(" "),W=parseInt(O[0],10);W<=parseInt(O[1],10);++W)F=parseInt(O[2],10),I[W-1]=F===0?{hidden:!0}:{wch:F},au(I[W-1]);break;case"C":g=parseInt(N[y].slice(1))-1,I[g]||(I[g]={});break;case"R":x=parseInt(N[y].slice(1))-1,B[x]||(B[x]={}),F>0?(B[x].hpt=F,B[x].hpx=eh(F)):F===0&&(B[x].hidden=!0);break;default:if(d&&d.WTF)throw new Error("SYLK bad record "+V)}K<1&&(z=null);break;default:if(d&&d.WTF)throw new Error("SYLK bad record "+V)}}return B.length>0&&(q["!rows"]=B),I.length>0&&(q["!cols"]=I),d&&d.sheetRows&&(k=k.slice(0,d.sheetRows)),[k,q]}function a(h,d){var b=s(h,d),x=b[0],g=b[1],v=bu(x,d);return hi(g).forEach(function(y){v[y]=g[y]}),v}function l(h,d){return el(a(h,d),d)}function c(h,d,b,x){var g="C;Y"+(b+1)+";X"+(x+1)+";K";switch(h.t){case"n":g+=h.v||0,h.f&&!h.F&&(g+=";E"+XP(h.f,{r:b,c:x}));break;case"b":g+=h.v?"TRUE":"FALSE";break;case"e":g+=h.w||h.v;break;case"d":g+='"'+(h.w||h.v)+'"';break;case"s":g+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return g}function o(h,d){d.forEach(function(b,x){var g="F;W"+(x+1)+" "+(x+1)+" ";b.hidden?g+="0":(typeof b.width=="number"&&!b.wpx&&(b.wpx=q0(b.width)),typeof b.wpx=="number"&&!b.wch&&(b.wch=G0(b.wpx)),typeof b.wch=="number"&&(g+=Math.round(b.wch))),g.charAt(g.length-1)!=" "&&h.push(g)})}function u(h,d){d.forEach(function(b,x){var g="F;";b.hidden?g+="M0;":b.hpt?g+="M"+20*b.hpt+";":b.hpx&&(g+="M"+20*H8(b.hpx)+";"),g.length>2&&h.push(g+"R"+(x+1))})}function p(h,d){var b=["ID;PWXL;N;E"],x=[],g=hn(h["!ref"]),v,y=Array.isArray(h),k=`\r
`;b.push("P;PGeneral"),b.push("F;P0;DG0G8;M255"),h["!cols"]&&o(b,h["!cols"]),h["!rows"]&&u(b,h["!rows"]),b.push("B;Y"+(g.e.r-g.s.r+1)+";X"+(g.e.c-g.s.c+1)+";D"+[g.s.c,g.s.r,g.e.c,g.e.r].join(" "));for(var R=g.s.r;R<=g.e.r;++R)for(var z=g.s.c;z<=g.e.c;++z){var q=ar({r:R,c:z});v=y?(h[R]||[])[z]:h[q],!(!v||v.v==null&&(!v.f||v.F))&&x.push(c(v,h,R,z))}return b.join(k)+k+x.join(k)+k+"E"+k}return{to_workbook:l,to_sheet:a,from_sheet:p}})(),cF=(function(){function r(i,a){switch(a.type){case"base64":return t(na(i),a);case"binary":return t(i,a);case"buffer":return t(Er&&Buffer.isBuffer(i)?i.toString("binary"):Yl(i),a);case"array":return t($l(i),a)}throw new Error("Unrecognized type "+a.type)}function t(i,a){for(var l=i.split(`
`),c=-1,o=-1,u=0,p=[];u!==l.length;++u){if(l[u].trim()==="BOT"){p[++c]=[],o=0;continue}if(!(c<0)){var h=l[u].trim().split(","),d=h[0],b=h[1];++u;for(var x=l[u]||"";(x.match(/["]/g)||[]).length&1&&u<l.length-1;)x+=`
`+l[++u];switch(x=x.trim(),+d){case-1:if(x==="BOT"){p[++c]=[],o=0;continue}else if(x!=="EOD")throw new Error("Unrecognized DIF special command "+x);break;case 0:x==="TRUE"?p[c][o]=!0:x==="FALSE"?p[c][o]=!1:isNaN(Va(b))?isNaN(su(b).getDate())?p[c][o]=b:p[c][o]=Vn(b):p[c][o]=Va(b),++o;break;case 1:x=x.slice(1,x.length-1),x=x.replace(/""/g,'"'),x&&x.match(/^=".*"$/)&&(x=x.slice(2,-1)),p[c][o++]=x!==""?x:null;break}if(x==="EOD")break}}return a&&a.sheetRows&&(p=p.slice(0,a.sheetRows)),p}function e(i,a){return bu(r(i,a),a)}function n(i,a){return el(e(i,a),a)}var s=(function(){var i=function(c,o,u,p,h){c.push(o),c.push(u+","+p),c.push('"'+h.replace(/"/g,'""')+'"')},a=function(c,o,u,p){c.push(o+","+u),c.push(o==1?'"'+p.replace(/"/g,'""')+'"':p)};return function(c){var o=[],u=hn(c["!ref"]),p,h=Array.isArray(c);i(o,"TABLE",0,1,"sheetjs"),i(o,"VECTORS",0,u.e.r-u.s.r+1,""),i(o,"TUPLES",0,u.e.c-u.s.c+1,""),i(o,"DATA",0,0,"");for(var d=u.s.r;d<=u.e.r;++d){a(o,-1,0,"BOT");for(var b=u.s.c;b<=u.e.c;++b){var x=ar({r:d,c:b});if(p=h?(c[d]||[])[b]:c[x],!p){a(o,1,0,"");continue}switch(p.t){case"n":var g=p.w;!g&&p.v!=null&&(g=p.v),g==null?p.f&&!p.F?a(o,1,0,"="+p.f):a(o,1,0,""):a(o,0,g,"V");break;case"b":a(o,0,p.v?1:0,p.v?"TRUE":"FALSE");break;case"s":a(o,1,0,isNaN(p.v)?p.v:'="'+p.v+'"');break;case"d":p.w||(p.w=wa(p.z||fr[14],Es(Vn(p.v)))),a(o,0,p.w,"V");break;default:a(o,1,0,"")}}}a(o,-1,0,"EOD");var v=`\r
`,y=o.join(v);return y}})();return{to_workbook:n,to_sheet:e,from_sheet:s}})(),uF=(function(){function r(p){return p.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(p){return p.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function e(p,h){for(var d=p.split(`
`),b=-1,x=-1,g=0,v=[];g!==d.length;++g){var y=d[g].trim().split(":");if(y[0]==="cell"){var k=ks(y[1]);if(v.length<=k.r)for(b=v.length;b<=k.r;++b)v[b]||(v[b]=[]);switch(b=k.r,x=k.c,y[2]){case"t":v[b][x]=r(y[3]);break;case"v":v[b][x]=+y[3];break;case"vtf":var R=y[y.length-1];case"vtc":switch(y[3]){case"nl":v[b][x]=!!+y[4];break;default:v[b][x]=+y[4];break}y[2]=="vtf"&&(v[b][x]=[v[b][x],R])}}}return h&&h.sheetRows&&(v=v.slice(0,h.sheetRows)),v}function n(p,h){return bu(e(p,h),h)}function s(p,h){return el(n(p,h),h)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function o(p){if(!p||!p["!ref"])return"";for(var h=[],d=[],b,x="",g=gu(p["!ref"]),v=Array.isArray(p),y=g.s.r;y<=g.e.r;++y)for(var k=g.s.c;k<=g.e.c;++k)if(x=ar({r:y,c:k}),b=v?(p[y]||[])[k]:p[x],!(!b||b.v==null||b.t==="z")){switch(d=["cell",x,"t"],b.t){case"s":case"str":d.push(t(b.v));break;case"n":b.f?(d[2]="vtf",d[3]="n",d[4]=b.v,d[5]=t(b.f)):(d[2]="v",d[3]=b.v);break;case"b":d[2]="vt"+(b.f?"f":"c"),d[3]="nl",d[4]=b.v?"1":"0",d[5]=t(b.f||(b.v?"TRUE":"FALSE"));break;case"d":var R=Es(Vn(b.v));d[2]="vtc",d[3]="nd",d[4]=""+R,d[5]=b.w||wa(b.z||fr[14],R);break;case"e":continue}h.push(d.join(":"))}return h.push("sheet:c:"+(g.e.c-g.s.c+1)+":r:"+(g.e.r-g.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function u(p){return[i,a,l,a,o(p),c].join(`
`)}return{to_workbook:s,to_sheet:n,from_sheet:u}})(),Zf=(function(){function r(u,p,h,d,b){b.raw?p[h][d]=u:u===""||(u==="TRUE"?p[h][d]=!0:u==="FALSE"?p[h][d]=!1:isNaN(Va(u))?isNaN(su(u).getDate())?p[h][d]=u:p[h][d]=Vn(u):p[h][d]=Va(u))}function t(u,p){var h=p||{},d=[];if(!u||u.length===0)return d;for(var b=u.split(/[\r\n]/),x=b.length-1;x>=0&&b[x].length===0;)--x;for(var g=10,v=0,y=0;y<=x;++y)v=b[y].indexOf(" "),v==-1?v=b[y].length:v++,g=Math.max(g,v);for(y=0;y<=x;++y){d[y]=[];var k=0;for(r(b[y].slice(0,g).trim(),d,y,k,h),k=1;k<=(b[y].length-g)/10+1;++k)r(b[y].slice(g+(k-1)*10,g+k*10).trim(),d,y,k,h)}return h.sheetRows&&(d=d.slice(0,h.sheetRows)),d}var e={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function s(u){for(var p={},h=!1,d=0,b=0;d<u.length;++d)(b=u.charCodeAt(d))==34?h=!h:!h&&b in e&&(p[b]=(p[b]||0)+1);b=[];for(d in p)Object.prototype.hasOwnProperty.call(p,d)&&b.push([p[d],d]);if(!b.length){p=n;for(d in p)Object.prototype.hasOwnProperty.call(p,d)&&b.push([p[d],d])}return b.sort(function(x,g){return x[0]-g[0]||n[x[1]]-n[g[1]]}),e[b.pop()[1]]||44}function i(u,p){var h=p||{},d="",b=h.dense?[]:{},x={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(d=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(d=u.charAt(4),u=u.slice(6)):d=s(u.slice(0,1024)):h&&h.FS?d=h.FS:d=s(u.slice(0,1024));var g=0,v=0,y=0,k=0,R=0,z=d.charCodeAt(0),q=!1,B=0,I=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var O=h.dateNF!=null?wD(h.dateNF):null;function F(){var W=u.slice(k,R),V={};if(W.charAt(0)=='"'&&W.charAt(W.length-1)=='"'&&(W=W.slice(1,-1).replace(/""/g,'"')),W.length===0)V.t="z";else if(h.raw)V.t="s",V.v=W;else if(W.trim().length===0)V.t="s",V.v=W;else if(W.charCodeAt(0)==61)W.charCodeAt(1)==34&&W.charCodeAt(W.length-1)==34?(V.t="s",V.v=W.slice(2,-1).replace(/""/g,'"')):KP(W)?(V.t="n",V.f=W.slice(1)):(V.t="s",V.v=W);else if(W=="TRUE")V.t="b",V.v=!0;else if(W=="FALSE")V.t="b",V.v=!1;else if(!isNaN(y=Va(W)))V.t="n",h.cellText!==!1&&(V.w=W),V.v=y;else if(!isNaN(su(W).getDate())||O&&W.match(O)){V.z=h.dateNF||fr[14];var N=0;O&&W.match(O)&&(W=_D(W,h.dateNF,W.match(O)||[]),N=1),h.cellDates?(V.t="d",V.v=Vn(W,N)):(V.t="n",V.v=Es(Vn(W,N))),h.cellText!==!1&&(V.w=wa(V.z,V.v instanceof Date?Es(V.v):V.v)),h.cellNF||delete V.z}else V.t="s",V.v=W;if(V.t=="z"||(h.dense?(b[g]||(b[g]=[]),b[g][v]=V):b[ar({c:v,r:g})]=V),k=R+1,I=u.charCodeAt(k),x.e.c<v&&(x.e.c=v),x.e.r<g&&(x.e.r=g),B==z)++v;else if(v=0,++g,h.sheetRows&&h.sheetRows<=g)return!0}e:for(;R<u.length;++R)switch(B=u.charCodeAt(R)){case 34:I===34&&(q=!q);break;case z:case 10:case 13:if(!q&&F())break e;break}return R-k>0&&F(),b["!ref"]=Nr(x),b}function a(u,p){return!(p&&p.PRN)||p.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,p):bu(t(u,p),p)}function l(u,p){var h="",d=p.type=="string"?[0,0,0,0]:px(u,p);switch(p.type){case"base64":h=na(u);break;case"binary":h=u;break;case"buffer":p.codepage==65001?h=u.toString("utf8"):p.codepage&&typeof Xf<"u"||(h=Er&&Buffer.isBuffer(u)?u.toString("binary"):Yl(u));break;case"array":h=$l(u);break;case"string":h=u;break;default:throw new Error("Unrecognized type "+p.type)}return d[0]==239&&d[1]==187&&d[2]==191?h=Xr(h.slice(3)):p.type!="string"&&p.type!="buffer"&&p.codepage==65001?h=Xr(h):p.type=="binary"&&typeof Xf<"u",h.slice(0,19)=="socialcalc:version:"?uF.to_sheet(p.type=="string"?h:Xr(h),p):a(h,p)}function c(u,p){return el(l(u,p),p)}function o(u){for(var p=[],h=hn(u["!ref"]),d,b=Array.isArray(u),x=h.s.r;x<=h.e.r;++x){for(var g=[],v=h.s.c;v<=h.e.c;++v){var y=ar({r:x,c:v});if(d=b?(u[x]||[])[v]:u[y],!d||d.v==null){g.push("          ");continue}for(var k=(d.w||(Wi(d),d.w)||"").slice(0,10);k.length<10;)k+=" ";g.push(k+(v===0?" ":""))}p.push(g.join(""))}return p.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:o}})();function fF(r,t){var e=t||{},n=!!e.WTF;e.WTF=!0;try{var s=lF.to_workbook(r,e);return e.WTF=n,s}catch(i){if(e.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return Zf.to_workbook(r,t)}}var Mf=(function(){function r(D,Z,K){if(D){Kn(D,D.l||0);for(var ee=K.Enum||j;D.l<D.length;){var G=D.read_shift(2),te=ee[G]||ee[65535],H=D.read_shift(2),U=D.l+H,Q=te.f&&te.f(D,H,K);if(D.l=U,Z(Q,te,G))return}}}function t(D,Z){switch(Z.type){case"base64":return e(Fa(na(D)),Z);case"binary":return e(Fa(D),Z);case"buffer":case"array":return e(D,Z)}throw"Unsupported type "+Z.type}function e(D,Z){if(!D)return D;var K=Z||{},ee=K.dense?[]:{},G="Sheet1",te="",H=0,U={},Q=[],ie=[],re={s:{r:0,c:0},e:{r:0,c:0}},oe=K.sheetRows||0;if(D[2]==0&&(D[3]==8||D[3]==9)&&D.length>=16&&D[14]==5&&D[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(D[2]==2)K.Enum=j,r(D,function(ne,de,xe){switch(xe){case 0:K.vers=ne,ne>=4096&&(K.qpro=!0);break;case 6:re=ne;break;case 204:ne&&(te=ne);break;case 222:te=ne;break;case 15:case 51:K.qpro||(ne[1].v=ne[1].v.slice(1));case 13:case 14:case 16:xe==14&&(ne[2]&112)==112&&(ne[2]&15)>1&&(ne[2]&15)<15&&(ne[1].z=K.dateNF||fr[14],K.cellDates&&(ne[1].t="d",ne[1].v=vp(ne[1].v))),K.qpro&&ne[3]>H&&(ee["!ref"]=Nr(re),U[G]=ee,Q.push(G),ee=K.dense?[]:{},re={s:{r:0,c:0},e:{r:0,c:0}},H=ne[3],G=te||"Sheet"+(H+1),te="");var Te=K.dense?(ee[ne[0].r]||[])[ne[0].c]:ee[ar(ne[0])];if(Te){Te.t=ne[1].t,Te.v=ne[1].v,ne[1].z!=null&&(Te.z=ne[1].z),ne[1].f!=null&&(Te.f=ne[1].f);break}K.dense?(ee[ne[0].r]||(ee[ne[0].r]=[]),ee[ne[0].r][ne[0].c]=ne[1]):ee[ar(ne[0])]=ne[1];break}},K);else if(D[2]==26||D[2]==14)K.Enum=L,D[2]==14&&(K.qpro=!0,D.l=0),r(D,function(ne,de,xe){switch(xe){case 204:G=ne;break;case 22:ne[1].v=ne[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ne[3]>H&&(ee["!ref"]=Nr(re),U[G]=ee,Q.push(G),ee=K.dense?[]:{},re={s:{r:0,c:0},e:{r:0,c:0}},H=ne[3],G="Sheet"+(H+1)),oe>0&&ne[0].r>=oe)break;K.dense?(ee[ne[0].r]||(ee[ne[0].r]=[]),ee[ne[0].r][ne[0].c]=ne[1]):ee[ar(ne[0])]=ne[1],re.e.c<ne[0].c&&(re.e.c=ne[0].c),re.e.r<ne[0].r&&(re.e.r=ne[0].r);break;case 27:ne[14e3]&&(ie[ne[14e3][0]]=ne[14e3][1]);break;case 1537:ie[ne[0]]=ne[1],ne[0]==H&&(G=ne[1]);break}},K);else throw new Error("Unrecognized LOTUS BOF "+D[2]);if(ee["!ref"]=Nr(re),U[te||G]=ee,Q.push(te||G),!ie.length)return{SheetNames:Q,Sheets:U};for(var he={},ve=[],me=0;me<ie.length;++me)U[Q[me]]?(ve.push(ie[me]||Q[me]),he[ie[me]]=U[ie[me]]||U[Q[me]]):(ve.push(ie[me]),he[ie[me]]={"!ref":"A1"});return{SheetNames:ve,Sheets:he}}function n(D,Z){var K=Z||{};if(+K.codepage>=0&&La(+K.codepage),K.type=="string")throw new Error("Cannot write WK1 to JS string");var ee=T1(),G=hn(D["!ref"]),te=Array.isArray(D),H=[];Oa(ee,0,i(1030)),Oa(ee,6,c(G));for(var U=Math.min(G.e.r,8191),Q=G.s.r;Q<=U;++Q)for(var ie=es(Q),re=G.s.c;re<=G.e.c;++re){Q===G.s.r&&(H[re]=On(re));var oe=H[re]+ie,he=te?(D[Q]||[])[re]:D[oe];if(!(!he||he.t=="z"))if(he.t=="n")(he.v|0)==he.v&&he.v>=-32768&&he.v<=32767?Oa(ee,13,d(Q,re,he.v)):Oa(ee,14,x(Q,re,he.v));else{var ve=Wi(he);Oa(ee,15,p(Q,re,ve.slice(0,239)))}}return Oa(ee,1),ee.end()}function s(D,Z){var K=Z||{};if(+K.codepage>=0&&La(+K.codepage),K.type=="string")throw new Error("Cannot write WK3 to JS string");var ee=T1();Oa(ee,0,a(D));for(var G=0,te=0;G<D.SheetNames.length;++G)(D.Sheets[D.SheetNames[G]]||{})["!ref"]&&Oa(ee,27,T(D.SheetNames[G],te++));var H=0;for(G=0;G<D.SheetNames.length;++G){var U=D.Sheets[D.SheetNames[G]];if(!(!U||!U["!ref"])){for(var Q=hn(U["!ref"]),ie=Array.isArray(U),re=[],oe=Math.min(Q.e.r,8191),he=Q.s.r;he<=oe;++he)for(var ve=es(he),me=Q.s.c;me<=Q.e.c;++me){he===Q.s.r&&(re[me]=On(me));var ne=re[me]+ve,de=ie?(U[he]||[])[me]:U[ne];if(!(!de||de.t=="z"))if(de.t=="n")Oa(ee,23,F(he,me,H,de.v));else{var xe=Wi(de);Oa(ee,22,B(he,me,H,xe.slice(0,239)))}}++H}}return Oa(ee,1),ee.end()}function i(D){var Z=In(2);return Z.write_shift(2,D),Z}function a(D){var Z=In(26);Z.write_shift(2,4096),Z.write_shift(2,4),Z.write_shift(4,0);for(var K=0,ee=0,G=0,te=0;te<D.SheetNames.length;++te){var H=D.SheetNames[te],U=D.Sheets[H];if(!(!U||!U["!ref"])){++G;var Q=gu(U["!ref"]);K<Q.e.r&&(K=Q.e.r),ee<Q.e.c&&(ee=Q.e.c)}}return K>8191&&(K=8191),Z.write_shift(2,K),Z.write_shift(1,G),Z.write_shift(1,ee),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(1,1),Z.write_shift(1,2),Z.write_shift(4,0),Z.write_shift(4,0),Z}function l(D,Z,K){var ee={s:{c:0,r:0},e:{c:0,r:0}};return Z==8&&K.qpro?(ee.s.c=D.read_shift(1),D.l++,ee.s.r=D.read_shift(2),ee.e.c=D.read_shift(1),D.l++,ee.e.r=D.read_shift(2),ee):(ee.s.c=D.read_shift(2),ee.s.r=D.read_shift(2),Z==12&&K.qpro&&(D.l+=2),ee.e.c=D.read_shift(2),ee.e.r=D.read_shift(2),Z==12&&K.qpro&&(D.l+=2),ee.s.c==65535&&(ee.s.c=ee.e.c=ee.s.r=ee.e.r=0),ee)}function c(D){var Z=In(8);return Z.write_shift(2,D.s.c),Z.write_shift(2,D.s.r),Z.write_shift(2,D.e.c),Z.write_shift(2,D.e.r),Z}function o(D,Z,K){var ee=[{c:0,r:0},{t:"n",v:0},0,0];return K.qpro&&K.vers!=20768?(ee[0].c=D.read_shift(1),ee[3]=D.read_shift(1),ee[0].r=D.read_shift(2),D.l+=2):(ee[2]=D.read_shift(1),ee[0].c=D.read_shift(2),ee[0].r=D.read_shift(2)),ee}function u(D,Z,K){var ee=D.l+Z,G=o(D,Z,K);if(G[1].t="s",K.vers==20768){D.l++;var te=D.read_shift(1);return G[1].v=D.read_shift(te,"utf8"),G}return K.qpro&&D.l++,G[1].v=D.read_shift(ee-D.l,"cstr"),G}function p(D,Z,K){var ee=In(7+K.length);ee.write_shift(1,255),ee.write_shift(2,Z),ee.write_shift(2,D),ee.write_shift(1,39);for(var G=0;G<ee.length;++G){var te=K.charCodeAt(G);ee.write_shift(1,te>=128?95:te)}return ee.write_shift(1,0),ee}function h(D,Z,K){var ee=o(D,Z,K);return ee[1].v=D.read_shift(2,"i"),ee}function d(D,Z,K){var ee=In(7);return ee.write_shift(1,255),ee.write_shift(2,Z),ee.write_shift(2,D),ee.write_shift(2,K,"i"),ee}function b(D,Z,K){var ee=o(D,Z,K);return ee[1].v=D.read_shift(8,"f"),ee}function x(D,Z,K){var ee=In(13);return ee.write_shift(1,255),ee.write_shift(2,Z),ee.write_shift(2,D),ee.write_shift(8,K,"f"),ee}function g(D,Z,K){var ee=D.l+Z,G=o(D,Z,K);if(G[1].v=D.read_shift(8,"f"),K.qpro)D.l=ee;else{var te=D.read_shift(2);R(D.slice(D.l,D.l+te),G),D.l+=te}return G}function v(D,Z,K){var ee=Z&32768;return Z&=-32769,Z=(ee?D:0)+(Z>=8192?Z-16384:Z),(ee?"":"$")+(K?On(Z):es(Z))}var y={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},k=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function R(D,Z){Kn(D,0);for(var K=[],ee=0,G="",te="",H="",U="";D.l<D.length;){var Q=D[D.l++];switch(Q){case 0:K.push(D.read_shift(8,"f"));break;case 1:te=v(Z[0].c,D.read_shift(2),!0),G=v(Z[0].r,D.read_shift(2),!1),K.push(te+G);break;case 2:{var ie=v(Z[0].c,D.read_shift(2),!0),re=v(Z[0].r,D.read_shift(2),!1);te=v(Z[0].c,D.read_shift(2),!0),G=v(Z[0].r,D.read_shift(2),!1),K.push(ie+re+":"+te+G)}break;case 3:if(D.l<D.length){console.error("WK1 premature formula end");return}break;case 4:K.push("("+K.pop()+")");break;case 5:K.push(D.read_shift(2));break;case 6:{for(var oe="";Q=D[D.l++];)oe+=String.fromCharCode(Q);K.push('"'+oe.replace(/"/g,'""')+'"')}break;case 8:K.push("-"+K.pop());break;case 23:K.push("+"+K.pop());break;case 22:K.push("NOT("+K.pop()+")");break;case 20:case 21:U=K.pop(),H=K.pop(),K.push(["AND","OR"][Q-20]+"("+H+","+U+")");break;default:if(Q<32&&k[Q])U=K.pop(),H=K.pop(),K.push(H+k[Q]+U);else if(y[Q]){if(ee=y[Q][1],ee==69&&(ee=D[D.l++]),ee>K.length){console.error("WK1 bad formula parse 0x"+Q.toString(16)+":|"+K.join("|")+"|");return}var he=K.slice(-ee);K.length-=ee,K.push(y[Q][0]+"("+he.join(",")+")")}else return Q<=7?console.error("WK1 invalid opcode "+Q.toString(16)):Q<=24?console.error("WK1 unsupported op "+Q.toString(16)):Q<=30?console.error("WK1 invalid opcode "+Q.toString(16)):Q<=115?console.error("WK1 unsupported function opcode "+Q.toString(16)):console.error("WK1 unrecognized opcode "+Q.toString(16))}}K.length==1?Z[1].f=""+K[0]:console.error("WK1 bad formula parse |"+K.join("|")+"|")}function z(D){var Z=[{c:0,r:0},{t:"n",v:0},0];return Z[0].r=D.read_shift(2),Z[3]=D[D.l++],Z[0].c=D[D.l++],Z}function q(D,Z){var K=z(D);return K[1].t="s",K[1].v=D.read_shift(Z-4,"cstr"),K}function B(D,Z,K,ee){var G=In(6+ee.length);G.write_shift(2,D),G.write_shift(1,K),G.write_shift(1,Z),G.write_shift(1,39);for(var te=0;te<ee.length;++te){var H=ee.charCodeAt(te);G.write_shift(1,H>=128?95:H)}return G.write_shift(1,0),G}function I(D,Z){var K=z(D);K[1].v=D.read_shift(2);var ee=K[1].v>>1;if(K[1].v&1)switch(ee&7){case 0:ee=(ee>>3)*5e3;break;case 1:ee=(ee>>3)*500;break;case 2:ee=(ee>>3)/20;break;case 3:ee=(ee>>3)/200;break;case 4:ee=(ee>>3)/2e3;break;case 5:ee=(ee>>3)/2e4;break;case 6:ee=(ee>>3)/16;break;case 7:ee=(ee>>3)/64;break}return K[1].v=ee,K}function O(D,Z){var K=z(D),ee=D.read_shift(4),G=D.read_shift(4),te=D.read_shift(2);if(te==65535)return ee===0&&G===3221225472?(K[1].t="e",K[1].v=15):ee===0&&G===3489660928?(K[1].t="e",K[1].v=42):K[1].v=0,K;var H=te&32768;return te=(te&32767)-16446,K[1].v=(1-H*2)*(G*Math.pow(2,te+32)+ee*Math.pow(2,te)),K}function F(D,Z,K,ee){var G=In(14);if(G.write_shift(2,D),G.write_shift(1,K),G.write_shift(1,Z),ee==0)return G.write_shift(4,0),G.write_shift(4,0),G.write_shift(2,65535),G;var te=0,H=0,U=0,Q=0;return ee<0&&(te=1,ee=-ee),H=Math.log2(ee)|0,ee/=Math.pow(2,H-31),Q=ee>>>0,(Q&2147483648)==0&&(ee/=2,++H,Q=ee>>>0),ee-=Q,Q|=2147483648,Q>>>=0,ee*=Math.pow(2,32),U=ee>>>0,G.write_shift(4,U),G.write_shift(4,Q),H+=16383+(te?32768:0),G.write_shift(2,H),G}function W(D,Z){var K=O(D);return D.l+=Z-14,K}function V(D,Z){var K=z(D),ee=D.read_shift(4);return K[1].v=ee>>6,K}function N(D,Z){var K=z(D),ee=D.read_shift(8,"f");return K[1].v=ee,K}function P(D,Z){var K=N(D);return D.l+=Z-10,K}function C(D,Z){return D[D.l+Z-1]==0?D.read_shift(Z,"cstr"):""}function S(D,Z){var K=D[D.l++];K>Z-1&&(K=Z-1);for(var ee="";ee.length<K;)ee+=String.fromCharCode(D[D.l++]);return ee}function E(D,Z,K){if(!(!K.qpro||Z<21)){var ee=D.read_shift(1);D.l+=17,D.l+=1,D.l+=2;var G=D.read_shift(Z-21,"cstr");return[ee,G]}}function A(D,Z){for(var K={},ee=D.l+Z;D.l<ee;){var G=D.read_shift(2);if(G==14e3){for(K[G]=[0,""],K[G][0]=D.read_shift(2);D[D.l];)K[G][1]+=String.fromCharCode(D[D.l]),D.l++;D.l++}}return K}function T(D,Z){var K=In(5+D.length);K.write_shift(2,14e3),K.write_shift(2,Z);for(var ee=0;ee<D.length;++ee){var G=D.charCodeAt(ee);K[K.l++]=G>127?95:G}return K[K.l++]=0,K}var j={0:{n:"BOF",f:Cn},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:b},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:g},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:C},222:{n:"SHEETNAMELP",f:S},65535:{n:""}},L={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:q},23:{n:"NUMBER17",f:O},24:{n:"NUMBER18",f:I},25:{n:"FORMULA19",f:W},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:A},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:V},38:{n:"??"},39:{n:"NUMBER27",f:N},40:{n:"FORMULA28",f:P},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:C},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:E},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:s,to_workbook:t}})();function hF(r){var t={},e=r.match(ps),n=0,s=!1;if(e)for(;n!=e.length;++n){var i=Zt(e[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=$b[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(i[0].charCodeAt(1)!==47&&!s)throw new Error("Unrecognized rich format "+i[0])}}return t}var dF=(function(){var r=Kf("t"),t=Kf("rPr");function e(i){var a=i.match(r);if(!a)return{t:"s",v:""};var l={t:"s",v:Rr(a[1])},c=i.match(t);return c&&(l.s=hF(c[1])),l}var n=/<(?:\w+:)?r>/g,s=/<\/(?:\w+:)?r>/;return function(a){return a.replace(n,"").split(s).map(e).filter(function(l){return l.v})}})(),pF=(function(){var t=/(\r\n|\n)/g;function e(s,i,a){var l=[];s.u&&l.push("text-decoration: underline;"),s.uval&&l.push("text-underline-style:"+s.uval+";"),s.sz&&l.push("font-size:"+s.sz+"pt;"),s.outline&&l.push("text-effect: outline;"),s.shadow&&l.push("text-shadow: auto;"),i.push('<span style="'+l.join("")+'">'),s.b&&(i.push("<b>"),a.push("</b>")),s.i&&(i.push("<i>"),a.push("</i>")),s.strike&&(i.push("<s>"),a.push("</s>"));var c=s.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(i.push("<"+c+">"),a.push("</"+c+">")),a.push("</span>"),s}function n(s){var i=[[],s.v,[]];return s.v?(s.s&&e(s.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}})(),mF=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,gF=/<(?:\w+:)?r>/,bF=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function ox(r,t){var e=t?t.cellHTML:!0,n={};return r?(r.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Rr(Xr(r.slice(r.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Xr(r),e&&(n.h=Qb(n.t))):r.match(gF)&&(n.r=Xr(r),n.t=Rr(Xr((r.replace(bF,"").match(mF)||[]).join("").replace(ps,""))),e&&(n.h=pF(dF(n.r)))),n):{t:""}}var xF=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,yF=/<(?:\w+:)?(?:si|sstItem)>/g,vF=/<\/(?:\w+:)?(?:si|sstItem)>/;function wF(r,t){var e=[],n="";if(!r)return e;var s=r.match(xF);if(s){n=s[2].replace(yF,"").split(vF);for(var i=0;i!=n.length;++i){var a=ox(n[i].trim(),t);a!=null&&(e[e.length]=a)}s=Zt(s[1]),e.Count=s.count,e.Unique=s.uniqueCount}return e}function _F(r){return[r.read_shift(4),r.read_shift(4)]}function SF(r,t){var e=[],n=!1;return Qi(r,function(i,a,l){switch(l){case 159:e.Count=i[0],e.Unique=i[1];break;case 19:e.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(a.T,!n||t.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),e}function P8(r){for(var t=[],e=r.split(""),n=0;n<e.length;++n)t[n]=e[n].charCodeAt(0);return t}function Ui(r,t){var e={};return e.Major=r.read_shift(2),e.Minor=r.read_shift(2),t>=4&&(r.l+=t-4),e}function kF(r){var t={};return t.id=r.read_shift(0,"lpp4"),t.R=Ui(r,4),t.U=Ui(r,4),t.W=Ui(r,4),t}function TF(r){for(var t=r.read_shift(4),e=r.l+t-4,n={},s=r.read_shift(4),i=[];s-- >0;)i.push({t:r.read_shift(4),v:r.read_shift(0,"lpp4")});if(n.name=r.read_shift(0,"lpp4"),n.comps=i,r.l!=e)throw new Error("Bad DataSpaceMapEntry: "+r.l+" != "+e);return n}function EF(r){var t=[];r.l+=4;for(var e=r.read_shift(4);e-- >0;)t.push(TF(r));return t}function AF(r){var t=[];r.l+=4;for(var e=r.read_shift(4);e-- >0;)t.push(r.read_shift(0,"lpp4"));return t}function CF(r){var t={};return r.read_shift(4),r.l+=4,t.id=r.read_shift(0,"lpp4"),t.name=r.read_shift(0,"lpp4"),t.R=Ui(r,4),t.U=Ui(r,4),t.W=Ui(r,4),t}function NF(r){var t=CF(r);if(t.ename=r.read_shift(0,"8lpp4"),t.blksz=r.read_shift(4),t.cmode=r.read_shift(4),r.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function L8(r,t){var e=r.l+t,n={};n.Flags=r.read_shift(4)&63,r.l+=4,n.AlgID=r.read_shift(4);var s=!1;switch(n.AlgID){case 26126:case 26127:case 26128:s=n.Flags==36;break;case 26625:s=n.Flags==4;break;case 0:s=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!s)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=r.read_shift(4),n.KeySize=r.read_shift(4),n.ProviderType=r.read_shift(4),r.l+=8,n.CSPName=r.read_shift(e-r.l>>1,"utf16le"),r.l=e,n}function B8(r,t){var e={},n=r.l+t;return r.l+=4,e.Salt=r.slice(r.l,r.l+16),r.l+=16,e.Verifier=r.slice(r.l,r.l+16),r.l+=16,r.read_shift(4),e.VerifierHash=r.slice(r.l,n),r.l=n,e}function RF(r){var t=Ui(r);switch(t.Minor){case 2:return[t.Minor,MF(r)];case 3:return[t.Minor,jF()];case 4:return[t.Minor,DF(r)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function MF(r){var t=r.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var e=r.read_shift(4),n=L8(r,e),s=B8(r,r.length-r.l);return{t:"Std",h:n,v:s}}function jF(){throw new Error("File is password-protected: ECMA-376 Extensible")}function DF(r){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];r.l+=4;var e=r.read_shift(r.length-r.l,"utf8"),n={};return e.replace(ps,function(i){var a=Zt(i);switch(di(a[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(l){n[l]=a[l]});break;case"<dataIntegrity":n.encryptedHmacKey=a.encryptedHmacKey,n.encryptedHmacValue=a.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=a.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(a);break;default:throw a[0]}}),n}function IF(r,t){var e={},n=e.EncryptionVersionInfo=Ui(r,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);e.Flags=r.read_shift(4),t-=4;var s=r.read_shift(4);return t-=4,e.EncryptionHeader=L8(r,s),t-=s,e.EncryptionVerifier=B8(r,t),e}function OF(r){var t={},e=t.EncryptionVersionInfo=Ui(r,4);if(e.Major!=1||e.Minor!=1)throw"unrecognized version code "+e.Major+" : "+e.Minor;return t.Salt=r.read_shift(16),t.EncryptedVerifier=r.read_shift(16),t.EncryptedVerifierHash=r.read_shift(16),t}function FF(r){var t=0,e,n=P8(r),s=n.length+1,i,a,l,c,o;for(e=Ko(s),e[0]=n.length,i=1;i!=s;++i)e[i]=n[i-1];for(i=s-1;i>=0;--i)a=e[i],l=(t&16384)===0?0:1,c=t<<1&32767,o=l|c,t=o^a;return t^52811}var U8=(function(){var r=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],e=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(a){return(a/2|a*128)&255},s=function(a,l){return n(a^l)},i=function(a){for(var l=t[a.length-1],c=104,o=a.length-1;o>=0;--o)for(var u=a[o],p=0;p!=7;++p)u&64&&(l^=e[c]),u*=2,--c;return l};return function(a){for(var l=P8(a),c=i(l),o=l.length,u=Ko(16),p=0;p!=16;++p)u[p]=0;var h,d,b;for((o&1)===1&&(h=c>>8,u[o]=s(r[0],h),--o,h=c&255,d=l[l.length-1],u[o]=s(d,h));o>0;)--o,h=c>>8,u[o]=s(l[o],h),--o,h=c&255,u[o]=s(l[o],h);for(o=15,b=15-l.length;b>0;)h=c>>8,u[o]=s(r[b],h),--o,--b,h=c&255,u[o]=s(l[o],h),--o,--b;return u}})(),PF=function(r,t,e,n,s){s||(s=t),n||(n=U8(r));var i,a;for(i=0;i!=t.length;++i)a=t[i],a^=n[e],a=(a>>5|a<<3)&255,s[i]=a,++e;return[s,e,n]},LF=function(r){var t=0,e=U8(r);return function(n){var s=PF("",n,t,e);return t=s[1],s[0]}};function BF(r,t,e,n){var s={key:Cn(r),verificationBytes:Cn(r)};return e.password&&(s.verifier=FF(e.password)),n.valid=s.verificationBytes===s.verifier,n.valid&&(n.insitu=LF(e.password)),s}function UF(r,t,e){var n=e||{};return n.Info=r.read_shift(2),r.l-=2,n.Info===1?n.Data=OF(r):n.Data=IF(r,t),n}function VF(r,t,e){var n={Type:e.biff>=8?r.read_shift(2):0};return n.Type?UF(r,t-2,n):BF(r,e.biff>=8?t:t-2,e,n),n}var zF=(function(){function r(s,i){switch(i.type){case"base64":return t(na(s),i);case"binary":return t(s,i);case"buffer":return t(Er&&Buffer.isBuffer(s)?s.toString("binary"):Yl(s),i);case"array":return t($l(s),i)}throw new Error("Unrecognized type "+i.type)}function t(s,i){var a=i||{},l=a.dense?[]:{},c=s.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var o={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(u,p){Array.isArray(l)&&(l[p]=[]);for(var h=/\\\w+\b/g,d=0,b,x=-1;b=h.exec(u);){switch(b[0]){case"\\cell":var g=u.slice(d,h.lastIndex-b[0].length);if(g[0]==" "&&(g=g.slice(1)),++x,g.length){var v={v:g,t:"s"};Array.isArray(l)?l[p][x]=v:l[ar({r:p,c:x})]=v}break}d=h.lastIndex}x>o.e.c&&(o.e.c=x)}),l["!ref"]=Nr(o),l}function e(s,i){return el(r(s,i),i)}function n(s){for(var i=["{\\rtf1\\ansi"],a=hn(s["!ref"]),l,c=Array.isArray(s),o=a.s.r;o<=a.e.r;++o){i.push("\\trowd\\trautofit1");for(var u=a.s.c;u<=a.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=a.s.c;u<=a.e.c;++u){var p=ar({r:o,c:u});l=c?(s[o]||[])[u]:s[p],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(Wi(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:e,to_sheet:r,from_sheet:n}})();function HF(r){var t=r.slice(r[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Jf(r){for(var t=0,e=1;t!=3;++t)e=e*256+(r[t]>255?255:r[t]<0?0:r[t]);return e.toString(16).toUpperCase().slice(1)}function $F(r){var t=r[0]/255,e=r[1]/255,n=r[2]/255,s=Math.max(t,e,n),i=Math.min(t,e,n),a=s-i;if(a===0)return[0,0,t];var l=0,c=0,o=s+i;switch(c=a/(o>1?2-o:o),s){case t:l=((e-n)/a+6)%6;break;case e:l=(n-t)/a+2;break;case n:l=(t-e)/a+4;break}return[l/6,c,o/2]}function qF(r){var t=r[0],e=r[1],n=r[2],s=e*2*(n<.5?n:1-n),i=n-s/2,a=[i,i,i],l=6*t,c;if(e!==0)switch(l|0){case 0:case 6:c=s*l,a[0]+=s,a[1]+=c;break;case 1:c=s*(2-l),a[0]+=c,a[1]+=s;break;case 2:c=s*(l-2),a[1]+=s,a[2]+=c;break;case 3:c=s*(4-l),a[1]+=c,a[2]+=s;break;case 4:c=s*(l-4),a[2]+=s,a[0]+=c;break;case 5:c=s*(6-l),a[2]+=c,a[0]+=s;break}for(var o=0;o!=3;++o)a[o]=Math.round(a[o]*255);return a}function $0(r,t){if(t===0)return r;var e=$F(HF(r));return t<0?e[2]=e[2]*(1+t):e[2]=1-(1-e[2])*(1-t),Jf(qF(e))}var V8=6,GF=15,WF=1,ws=V8;function q0(r){return Math.floor((r+Math.round(128/ws)/256)*ws)}function G0(r){return Math.floor((r-5)/ws*100+.5)/100}function N1(r){return Math.round((r*ws+5)/ws*256)/256}function zg(r){return N1(G0(q0(r)))}function lx(r){var t=Math.abs(r-zg(r)),e=ws;if(t>.005)for(ws=WF;ws<GF;++ws)Math.abs(r-zg(r))<=t&&(t=Math.abs(r-zg(r)),e=ws);ws=e}function au(r){r.width?(r.wpx=q0(r.width),r.wch=G0(r.wpx),r.MDW=ws):r.wpx?(r.wch=G0(r.wpx),r.width=N1(r.wch),r.MDW=ws):typeof r.wch=="number"&&(r.width=N1(r.wch),r.wpx=q0(r.width),r.MDW=ws),r.customWidth&&delete r.customWidth}var XF=96,z8=XF;function H8(r){return r*96/z8}function eh(r){return r*z8/96}var YF={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function KF(r,t,e,n){t.Borders=[];var s={},i=!1;(r[0].match(ps)||[]).forEach(function(a){var l=Zt(a);switch(di(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":s={},l.diagonalUp&&(s.diagonalUp=rn(l.diagonalUp)),l.diagonalDown&&(s.diagonalDown=rn(l.diagonalDown)),t.Borders.push(s);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in borders")}})}function QF(r,t,e,n){t.Fills=[];var s={},i=!1;(r[0].match(ps)||[]).forEach(function(a){var l=Zt(a);switch(di(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":s={},t.Fills.push(s);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(s),s={};break;case"<patternFill":case"<patternFill>":l.patternType&&(s.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":s.bgColor||(s.bgColor={}),l.indexed&&(s.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(s.bgColor.theme=parseInt(l.theme,10)),l.tint&&(s.bgColor.tint=parseFloat(l.tint)),l.rgb&&(s.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":s.fgColor||(s.fgColor={}),l.theme&&(s.fgColor.theme=parseInt(l.theme,10)),l.tint&&(s.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(s.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fills")}})}function ZF(r,t,e,n){t.Fonts=[];var s={},i=!1;(r[0].match(ps)||[]).forEach(function(a){var l=Zt(a);switch(di(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(s),s={};break;case"<name":l.val&&(s.name=Xr(l.val));break;case"<name/>":case"</name>":break;case"<b":s.bold=l.val?rn(l.val):1;break;case"<b/>":s.bold=1;break;case"<i":s.italic=l.val?rn(l.val):1;break;case"<i/>":s.italic=1;break;case"<u":switch(l.val){case"none":s.underline=0;break;case"single":s.underline=1;break;case"double":s.underline=2;break;case"singleAccounting":s.underline=33;break;case"doubleAccounting":s.underline=34;break}break;case"<u/>":s.underline=1;break;case"<strike":s.strike=l.val?rn(l.val):1;break;case"<strike/>":s.strike=1;break;case"<outline":s.outline=l.val?rn(l.val):1;break;case"<outline/>":s.outline=1;break;case"<shadow":s.shadow=l.val?rn(l.val):1;break;case"<shadow/>":s.shadow=1;break;case"<condense":s.condense=l.val?rn(l.val):1;break;case"<condense/>":s.condense=1;break;case"<extend":s.extend=l.val?rn(l.val):1;break;case"<extend/>":s.extend=1;break;case"<sz":l.val&&(s.sz=+l.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":l.val&&(s.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":l.val&&(s.family=parseInt(l.val,10));break;case"<family/>":case"</family>":break;case"<scheme":l.val&&(s.scheme=l.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(l.val=="1")break;l.codepage=$b[parseInt(l.val,10)];break;case"<color":if(s.color||(s.color={}),l.auto&&(s.color.auto=rn(l.auto)),l.rgb)s.color.rgb=l.rgb.slice(-6);else if(l.indexed){s.color.index=parseInt(l.indexed,10);var c=Ol[s.color.index];s.color.index==81&&(c=Ol[1]),c||(c=Ol[1]),s.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else l.theme&&(s.color.theme=parseInt(l.theme,10),l.tint&&(s.color.tint=parseFloat(l.tint)),l.theme&&e.themeElements&&e.themeElements.clrScheme&&(s.color.rgb=$0(e.themeElements.clrScheme[s.color.theme].rgb,s.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+l[0]+" in fonts")}})}function JF(r,t,e){t.NumberFmt=[];for(var n=hi(fr),s=0;s<n.length;++s)t.NumberFmt[n[s]]=fr[n[s]];var i=r[0].match(ps);if(i)for(s=0;s<i.length;++s){var a=Zt(i[s]);switch(di(a[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=Rr(Xr(a.formatCode)),c=parseInt(a.numFmtId,10);if(t.NumberFmt[c]=l,c>0){if(c>392){for(c=392;c>60&&t.NumberFmt[c]!=null;--c);t.NumberFmt[c]=l}Il(l,c)}}break;case"</numFmt>":break;default:if(e.WTF)throw new Error("unrecognized "+a[0]+" in numFmts")}}}var Kd=["numFmtId","fillId","fontId","borderId","xfId"],Qd=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function eP(r,t,e){t.CellXf=[];var n,s=!1;(r[0].match(ps)||[]).forEach(function(i){var a=Zt(i),l=0;switch(di(a[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=a,delete n[0],l=0;l<Kd.length;++l)n[Kd[l]]&&(n[Kd[l]]=parseInt(n[Kd[l]],10));for(l=0;l<Qd.length;++l)n[Qd[l]]&&(n[Qd[l]]=rn(n[Qd[l]]));if(t.NumberFmt&&n.numFmtId>392){for(l=392;l>60;--l)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[l]){n.numFmtId=l;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};a.vertical&&(c.vertical=a.vertical),a.horizontal&&(c.horizontal=a.horizontal),a.textRotation!=null&&(c.textRotation=a.textRotation),a.indent&&(c.indent=a.indent),a.wrapText&&(c.wrapText=rn(a.wrapText)),n.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(e&&e.WTF&&!s)throw new Error("unrecognized "+a[0]+" in cellXfs")}})}var tP=(function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,e=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,s=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(l,c,o){var u={};if(!l)return u;l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var p;return(p=l.match(t))&&JF(p,u,o),(p=l.match(s))&&ZF(p,u,c,o),(p=l.match(n))&&QF(p,u,c,o),(p=l.match(i))&&KF(p,u,c,o),(p=l.match(e))&&eP(p,u,o),u}})();function rP(r,t){var e=r.read_shift(2),n=fs(r);return[e,n]}function nP(r,t,e){var n={};n.sz=r.read_shift(2)/20;var s=dI(r);s.fItalic&&(n.italic=1),s.fCondense&&(n.condense=1),s.fExtend&&(n.extend=1),s.fShadow&&(n.shadow=1),s.fOutline&&(n.outline=1),s.fStrikeout&&(n.strike=1);var i=r.read_shift(2);switch(i===700&&(n.bold=1),r.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var a=r.read_shift(1);a!=0&&(n.underline=a);var l=r.read_shift(1);l>0&&(n.family=l);var c=r.read_shift(1);switch(c>0&&(n.charset=c),r.l++,n.color=hI(r),r.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=fs(r),n}var sP=ds;function aP(r,t){var e=r.l+t,n=r.read_shift(2),s=r.read_shift(2);return r.l=e,{ixfe:n,numFmtId:s}}var iP=ds;function oP(r,t,e){var n={};n.NumberFmt=[];for(var s in fr)n.NumberFmt[s]=fr[s];n.CellXf=[],n.Fonts=[];var i=[],a=!1;return Qi(r,function(c,o,u){switch(u){case 44:n.NumberFmt[c[0]]=c[1],Il(c[1],c[0]);break;case 43:n.Fonts.push(c),c.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(c.color.rgb=$0(t.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:i.push(u),a=!0;break;case 38:i.pop(),a=!1;break;default:if(o.T>0)i.push(u);else if(o.T<0)i.pop();else if(!a||e.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),n}var lP=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function cP(r,t,e){t.themeElements.clrScheme=[];var n={};(r[0].match(ps)||[]).forEach(function(s){var i=Zt(s);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[lP.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(e&&e.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function uP(){}function fP(){}var hP=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,dP=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,pP=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function mP(r,t,e){t.themeElements={};var n;[["clrScheme",hP,cP],["fontScheme",dP,uP],["fmtScheme",pP,fP]].forEach(function(s){if(!(n=r.match(s[1])))throw new Error(s[0]+" not found in themeElements");s[2](n,t,e)})}var gP=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function $8(r,t){(!r||r.length===0)&&(r=bP());var e,n={};if(!(e=r.match(gP)))throw new Error("themeElements not found in theme");return mP(e[0],n,t),n.raw=r,n}function bP(r,t){var e=[t8];return e[e.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',e[e.length]="<a:themeElements>",e[e.length]='<a:clrScheme name="Office">',e[e.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',e[e.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',e[e.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',e[e.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',e[e.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',e[e.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',e[e.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',e[e.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',e[e.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',e[e.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',e[e.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',e[e.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',e[e.length]="</a:clrScheme>",e[e.length]='<a:fontScheme name="Office">',e[e.length]="<a:majorFont>",e[e.length]='<a:latin typeface="Cambria"/>',e[e.length]='<a:ea typeface=""/>',e[e.length]='<a:cs typeface=""/>',e[e.length]='<a:font script="Jpan" typeface=" "/>',e[e.length]='<a:font script="Hang" typeface=" "/>',e[e.length]='<a:font script="Hans" typeface=""/>',e[e.length]='<a:font script="Hant" typeface=""/>',e[e.length]='<a:font script="Arab" typeface="Times New Roman"/>',e[e.length]='<a:font script="Hebr" typeface="Times New Roman"/>',e[e.length]='<a:font script="Thai" typeface="Tahoma"/>',e[e.length]='<a:font script="Ethi" typeface="Nyala"/>',e[e.length]='<a:font script="Beng" typeface="Vrinda"/>',e[e.length]='<a:font script="Gujr" typeface="Shruti"/>',e[e.length]='<a:font script="Khmr" typeface="MoolBoran"/>',e[e.length]='<a:font script="Knda" typeface="Tunga"/>',e[e.length]='<a:font script="Guru" typeface="Raavi"/>',e[e.length]='<a:font script="Cans" typeface="Euphemia"/>',e[e.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',e[e.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',e[e.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',e[e.length]='<a:font script="Thaa" typeface="MV Boli"/>',e[e.length]='<a:font script="Deva" typeface="Mangal"/>',e[e.length]='<a:font script="Telu" typeface="Gautami"/>',e[e.length]='<a:font script="Taml" typeface="Latha"/>',e[e.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',e[e.length]='<a:font script="Orya" typeface="Kalinga"/>',e[e.length]='<a:font script="Mlym" typeface="Kartika"/>',e[e.length]='<a:font script="Laoo" typeface="DokChampa"/>',e[e.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',e[e.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',e[e.length]='<a:font script="Viet" typeface="Times New Roman"/>',e[e.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',e[e.length]='<a:font script="Geor" typeface="Sylfaen"/>',e[e.length]="</a:majorFont>",e[e.length]="<a:minorFont>",e[e.length]='<a:latin typeface="Calibri"/>',e[e.length]='<a:ea typeface=""/>',e[e.length]='<a:cs typeface=""/>',e[e.length]='<a:font script="Jpan" typeface=" "/>',e[e.length]='<a:font script="Hang" typeface=" "/>',e[e.length]='<a:font script="Hans" typeface=""/>',e[e.length]='<a:font script="Hant" typeface=""/>',e[e.length]='<a:font script="Arab" typeface="Arial"/>',e[e.length]='<a:font script="Hebr" typeface="Arial"/>',e[e.length]='<a:font script="Thai" typeface="Tahoma"/>',e[e.length]='<a:font script="Ethi" typeface="Nyala"/>',e[e.length]='<a:font script="Beng" typeface="Vrinda"/>',e[e.length]='<a:font script="Gujr" typeface="Shruti"/>',e[e.length]='<a:font script="Khmr" typeface="DaunPenh"/>',e[e.length]='<a:font script="Knda" typeface="Tunga"/>',e[e.length]='<a:font script="Guru" typeface="Raavi"/>',e[e.length]='<a:font script="Cans" typeface="Euphemia"/>',e[e.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',e[e.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',e[e.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',e[e.length]='<a:font script="Thaa" typeface="MV Boli"/>',e[e.length]='<a:font script="Deva" typeface="Mangal"/>',e[e.length]='<a:font script="Telu" typeface="Gautami"/>',e[e.length]='<a:font script="Taml" typeface="Latha"/>',e[e.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',e[e.length]='<a:font script="Orya" typeface="Kalinga"/>',e[e.length]='<a:font script="Mlym" typeface="Kartika"/>',e[e.length]='<a:font script="Laoo" typeface="DokChampa"/>',e[e.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',e[e.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',e[e.length]='<a:font script="Viet" typeface="Arial"/>',e[e.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',e[e.length]='<a:font script="Geor" typeface="Sylfaen"/>',e[e.length]="</a:minorFont>",e[e.length]="</a:fontScheme>",e[e.length]='<a:fmtScheme name="Office">',e[e.length]="<a:fillStyleLst>",e[e.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:lin ang="16200000" scaled="1"/>',e[e.length]="</a:gradFill>",e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:lin ang="16200000" scaled="0"/>',e[e.length]="</a:gradFill>",e[e.length]="</a:fillStyleLst>",e[e.length]="<a:lnStyleLst>",e[e.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',e[e.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',e[e.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',e[e.length]="</a:lnStyleLst>",e[e.length]="<a:effectStyleLst>",e[e.length]="<a:effectStyle>",e[e.length]="<a:effectLst>",e[e.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',e[e.length]="</a:effectLst>",e[e.length]="</a:effectStyle>",e[e.length]="<a:effectStyle>",e[e.length]="<a:effectLst>",e[e.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',e[e.length]="</a:effectLst>",e[e.length]="</a:effectStyle>",e[e.length]="<a:effectStyle>",e[e.length]="<a:effectLst>",e[e.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',e[e.length]="</a:effectLst>",e[e.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',e[e.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',e[e.length]="</a:effectStyle>",e[e.length]="</a:effectStyleLst>",e[e.length]="<a:bgFillStyleLst>",e[e.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',e[e.length]="</a:gradFill>",e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',e[e.length]="</a:gradFill>",e[e.length]="</a:bgFillStyleLst>",e[e.length]="</a:fmtScheme>",e[e.length]="</a:themeElements>",e[e.length]="<a:objectDefaults>",e[e.length]="<a:spDef>",e[e.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',e[e.length]="</a:spDef>",e[e.length]="<a:lnDef>",e[e.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',e[e.length]="</a:lnDef>",e[e.length]="</a:objectDefaults>",e[e.length]="<a:extraClrSchemeLst/>",e[e.length]="</a:theme>",e.join("")}function xP(r,t,e){var n=r.l+t,s=r.read_shift(4);if(s!==124226){if(!e.cellStyles){r.l=n;return}var i=r.slice(r.l);r.l=n;var a;try{a=e8(i,{type:"array"})}catch{return}var l=ea(a,"theme/theme/theme1.xml",!0);if(l)return $8(l,e)}}function yP(r){return r.read_shift(4)}function vP(r){var t={};switch(t.xclrType=r.read_shift(2),t.nTintShade=r.read_shift(2),t.xclrType){case 0:r.l+=4;break;case 1:t.xclrValue=wP(r,4);break;case 2:t.xclrValue=R8(r);break;case 3:t.xclrValue=yP(r);break;case 4:r.l+=4;break}return r.l+=8,t}function wP(r,t){return ds(r,t)}function _P(r,t){return ds(r,t)}function SP(r){var t=r.read_shift(2),e=r.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=vP(r);break;case 6:n[1]=_P(r,e);break;case 14:case 15:n[1]=r.read_shift(e===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+e)}return n}function kP(r,t){var e=r.l+t;r.l+=2;var n=r.read_shift(2);r.l+=2;for(var s=r.read_shift(2),i=[];s-- >0;)i.push(SP(r,e-r.l));return{ixfe:n,ext:i}}function TP(r,t){t.forEach(function(e){e[0]})}function EP(r,t){return{flags:r.read_shift(4),version:r.read_shift(4),name:fs(r)}}function AP(r){for(var t=[],e=r.read_shift(4);e-- >0;)t.push([r.read_shift(4),r.read_shift(4)]);return t}function CP(r){return r.l+=4,r.read_shift(4)!=0}function NP(r,t,e){var n={Types:[],Cell:[],Value:[]},s=e||{},i=[],a=!1,l=2;return Qi(r,function(c,o,u){switch(u){case 335:n.Types.push({name:c.name});break;case 51:c.forEach(function(p){l==1?n.Cell.push({type:n.Types[p[0]-1].name,index:p[1]}):l==0&&n.Value.push({type:n.Types[p[0]-1].name,index:p[1]})});break;case 337:l=c?1:0;break;case 338:l=2;break;case 35:i.push(u),a=!0;break;case 36:i.pop(),a=!1;break;default:if(!o.T){if(!a||s.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),n}function RP(r,t,e){var n={Types:[],Cell:[],Value:[]};if(!r)return n;var s=!1,i=2,a;return r.replace(ps,function(l){var c=Zt(l);switch(di(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var o=0;o<n.Types.length;++o)n.Types[o].name==c.name&&(a=n.Types[o]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[c.t-1].name,index:+c.v}):i==0&&n.Value.push({type:n.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;case"<rvb":if(!a)break;a.offsets||(a.offsets=[]),a.offsets.push(+c.i);break;default:if(!s&&e.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return l}),n}function MP(r){var t=[];if(!r)return t;var e=1;return(r.match(ps)||[]).forEach(function(n){var s=Zt(n);switch(s[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete s[0],s.i?e=s.i:s.i=e,t.push(s);break}}),t}function jP(r){var t={};t.i=r.read_shift(4);var e={};e.r=r.read_shift(4),e.c=r.read_shift(4),t.r=ar(e);var n=r.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function DP(r,t,e){var n=[];return Qi(r,function(i,a,l){switch(l){case 63:n.push(i);break;default:if(!a.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),n}function IP(r,t,e,n){if(!r)return r;var s=n||{},i=!1;Qi(r,function(l,c,o){switch(o){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!c.T){if(!i||s.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}},s)}function OP(r,t){if(!r)return"??";var e=(r.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][e].Target}function _4(r,t,e,n){var s=Array.isArray(r),i;t.forEach(function(a){var l=ks(a.ref);if(s?(r[l.r]||(r[l.r]=[]),i=r[l.r][l.c]):i=r[a.ref],!i){i={t:"z"},s?r[l.r][l.c]=i:r[a.ref]=i;var c=hn(r["!ref"]||"BDWGO1000001:A1");c.s.r>l.r&&(c.s.r=l.r),c.e.r<l.r&&(c.e.r=l.r),c.s.c>l.c&&(c.s.c=l.c),c.e.c<l.c&&(c.e.c=l.c);var o=Nr(c);o!==r["!ref"]&&(r["!ref"]=o)}i.c||(i.c=[]);var u={a:a.author,t:a.t,r:a.r,T:e};a.h&&(u.h=a.h);for(var p=i.c.length-1;p>=0;--p){if(!e&&i.c[p].T)return;e&&!i.c[p].T&&i.c.splice(p,1)}if(e&&n){for(p=0;p<n.length;++p)if(u.a==n[p].id){u.a=n[p].name||u.a;break}}i.c.push(u)})}function FP(r,t){if(r.match(/<(?:\w+:)?comments *\/>/))return[];var e=[],n=[],s=r.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);s&&s[1]&&s[1].split(/<\/\w*:?author>/).forEach(function(a){if(!(a===""||a.trim()==="")){var l=a.match(/<(?:\w+:)?author[^>]*>(.*)/);l&&e.push(l[1])}});var i=r.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(a){if(!(a===""||a.trim()==="")){var l=a.match(/<(?:\w+:)?comment[^>]*>/);if(l){var c=Zt(l[0]),o={author:c.authorId&&e[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},u=ks(c.ref);if(!(t.sheetRows&&t.sheetRows<=u.r)){var p=a.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!p&&!!p[1]&&ox(p[1])||{r:"",t:"",h:""};o.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),o.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(o.h=h.h),n.push(o)}}}}),n}function PP(r,t){var e=[],n=!1,s={},i=0;return r.replace(ps,function(l,c){var o=Zt(l);switch(di(o[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":s={author:o.personId,guid:o.id,ref:o.ref,T:1};break;case"</threadedComment>":s.t!=null&&e.push(s);break;case"<text>":case"<text":i=c+l.length;break;case"</text>":s.t=r.slice(i,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return l}),e}function LP(r,t){var e=[],n=!1;return r.replace(ps,function(i){var a=Zt(i);switch(di(a[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":e.push({name:a.displayname,id:a.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+a[0]+" in threaded comments")}return i}),e}function BP(r){var t={};t.iauthor=r.read_shift(4);var e=Ql(r);return t.rfx=e.s,t.ref=ar(e.s),r.l+=16,t}var UP=fs;function VP(r,t){var e=[],n=[],s={},i=!1;return Qi(r,function(l,c,o){switch(o){case 632:n.push(l);break;case 635:s=l;break;case 637:s.t=l.t,s.h=l.h,s.r=l.r;break;case 636:if(s.author=n[s.iauthor],delete s.iauthor,t.sheetRows&&s.rfx&&t.sheetRows<=s.rfx.r)break;s.t||(s.t=""),delete s.rfx,e.push(s);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}}),e}var zP="application/vnd.ms-office.vbaProject";function HP(r){var t=Cr.utils.cfb_new({root:"R"});return r.FullPaths.forEach(function(e,n){if(!(e.slice(-1)==="/"||!e.match(/_VBA_PROJECT_CUR/))){var s=e.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Cr.utils.cfb_add(t,s,r.FileIndex[n].content)}}),Cr.write(t)}function $P(){return{"!type":"dialog"}}function qP(){return{"!type":"dialog"}}function GP(){return{"!type":"macro"}}function WP(){return{"!type":"macro"}}var Xc=(function(){var r=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function e(n,s,i,a){var l=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),a.length==0?l=!0:a.charAt(0)=="["&&(l=!0,a=a.slice(1,-1));var o=i.length>0?parseInt(i,10)|0:0,u=a.length>0?parseInt(a,10)|0:0;return l?u+=t.c:--u,c?o+=t.r:--o,s+(l?"":"$")+On(u)+(c?"":"$")+es(o)}return function(s,i){return t=i,s.replace(r,e)}})(),q8=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,XP=(function(){return function(t,e){return t.replace(q8,function(n,s,i,a,l,c){var o=tx(a)-(i?0:e.c),u=ex(c)-(l?0:e.r),p=u==0?"":l?u+1:"["+u+"]",h=o==0?"":i?o+1:"["+o+"]";return s+"R"+p+"C"+h})}})();function G8(r,t){return r.replace(q8,function(e,n,s,i,a,l){return n+(s=="$"?s+i:On(tx(i)+t.c))+(a=="$"?a+l:es(ex(l)+t.r))})}function YP(r,t,e){var n=gu(t),s=n.s,i=ks(e),a={r:i.r-s.r,c:i.c-s.c};return G8(r,a)}function KP(r){return r.length!=1}function S4(r){return r.replace(/_xlfn\./g,"")}function Tn(r){r.l+=1}function Qo(r,t){var e=r.read_shift(2);return[e&16383,e>>14&1,e>>15&1]}function W8(r,t,e){var n=2;if(e){if(e.biff>=2&&e.biff<=5)return X8(r);e.biff==12&&(n=4)}var s=r.read_shift(n),i=r.read_shift(n),a=Qo(r),l=Qo(r);return{s:{r:s,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function X8(r){var t=Qo(r),e=Qo(r),n=r.read_shift(1),s=r.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:e[0],c:s,cRel:e[1],rRel:e[2]}}}function QP(r,t,e){if(e.biff<8)return X8(r);var n=r.read_shift(e.biff==12?4:2),s=r.read_shift(e.biff==12?4:2),i=Qo(r),a=Qo(r);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:a[0],cRel:a[1],rRel:a[2]}}}function Y8(r,t,e){if(e&&e.biff>=2&&e.biff<=5)return ZP(r);var n=r.read_shift(e&&e.biff==12?4:2),s=Qo(r);return{r:n,c:s[0],cRel:s[1],rRel:s[2]}}function ZP(r){var t=Qo(r),e=r.read_shift(1);return{r:t[0],c:e,cRel:t[1],rRel:t[2]}}function JP(r){var t=r.read_shift(2),e=r.read_shift(2);return{r:t,c:e&255,fQuoted:!!(e&16384),cRel:e>>15,rRel:e>>15}}function eL(r,t,e){var n=e&&e.biff?e.biff:8;if(n>=2&&n<=5)return tL(r);var s=r.read_shift(n>=12?4:2),i=r.read_shift(2),a=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;s>524287;)s-=1048576;if(a==1)for(;i>8191;)i=i-16384;return{r:s,c:i,cRel:a,rRel:l}}function tL(r){var t=r.read_shift(2),e=r.read_shift(1),n=(t&32768)>>15,s=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),s==1&&e>=128&&(e=e-256),{r:t,c:e,cRel:s,rRel:n}}function rL(r,t,e){var n=(r[r.l++]&96)>>5,s=W8(r,e.biff>=2&&e.biff<=5?6:8,e);return[n,s]}function nL(r,t,e){var n=(r[r.l++]&96)>>5,s=r.read_shift(2,"i"),i=8;if(e)switch(e.biff){case 5:r.l+=12,i=6;break;case 12:i=12;break}var a=W8(r,i,e);return[n,s,a]}function sL(r,t,e){var n=(r[r.l++]&96)>>5;return r.l+=e&&e.biff>8?12:e.biff<8?6:8,[n]}function aL(r,t,e){var n=(r[r.l++]&96)>>5,s=r.read_shift(2),i=8;if(e)switch(e.biff){case 5:r.l+=12,i=6;break;case 12:i=12;break}return r.l+=i,[n,s]}function iL(r,t,e){var n=(r[r.l++]&96)>>5,s=QP(r,t-1,e);return[n,s]}function oL(r,t,e){var n=(r[r.l++]&96)>>5;return r.l+=e.biff==2?6:e.biff==12?14:7,[n]}function k4(r){var t=r[r.l+1]&1,e=1;return r.l+=4,[t,e]}function lL(r,t,e){r.l+=2;for(var n=r.read_shift(e&&e.biff==2?1:2),s=[],i=0;i<=n;++i)s.push(r.read_shift(e&&e.biff==2?1:2));return s}function cL(r,t,e){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(e&&e.biff==2?1:2)]}function uL(r,t,e){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(e&&e.biff==2?1:2)]}function fL(r){var t=r[r.l+1]&255?1:0;return r.l+=2,[t,r.read_shift(2)]}function hL(r,t,e){var n=r[r.l+1]&255?1:0;return r.l+=e&&e.biff==2?3:4,[n]}function K8(r){var t=r.read_shift(1),e=r.read_shift(1);return[t,e]}function dL(r){return r.read_shift(2),K8(r)}function pL(r){return r.read_shift(2),K8(r)}function mL(r,t,e){var n=(r[r.l]&96)>>5;r.l+=1;var s=Y8(r,0,e);return[n,s]}function gL(r,t,e){var n=(r[r.l]&96)>>5;r.l+=1;var s=eL(r,0,e);return[n,s]}function bL(r,t,e){var n=(r[r.l]&96)>>5;r.l+=1;var s=r.read_shift(2);e&&e.biff==5&&(r.l+=12);var i=Y8(r,0,e);return[n,s,i]}function xL(r,t,e){var n=(r[r.l]&96)>>5;r.l+=1;var s=r.read_shift(e&&e.biff<=3?1:2);return[yB[s],J8[s],n]}function yL(r,t,e){var n=r[r.l++],s=r.read_shift(1),i=e&&e.biff<=3?[n==88?-1:0,r.read_shift(1)]:vL(r);return[s,(i[0]===0?J8:xB)[i[1]]]}function vL(r){return[r[r.l+1]>>7,r.read_shift(2)&32767]}function wL(r,t,e){r.l+=e&&e.biff==2?3:4}function _L(r,t,e){if(r.l++,e&&e.biff==12)return[r.read_shift(4,"i"),0];var n=r.read_shift(2),s=r.read_shift(e&&e.biff==2?1:2);return[n,s]}function SL(r){return r.l++,Zl[r.read_shift(1)]}function kL(r){return r.l++,r.read_shift(2)}function TL(r){return r.l++,r.read_shift(1)!==0}function EL(r){return r.l++,cs(r)}function AL(r,t,e){return r.l++,bh(r,t-1,e)}function CL(r,t){var e=[r.read_shift(1)];if(t==12)switch(e[0]){case 2:e[0]=4;break;case 4:e[0]=16;break;case 0:e[0]=1;break;case 1:e[0]=2;break}switch(e[0]){case 4:e[1]=yn(r,1)?"TRUE":"FALSE",t!=12&&(r.l+=7);break;case 37:case 16:e[1]=Zl[r[r.l]],r.l+=t==12?4:8;break;case 0:r.l+=8;break;case 1:e[1]=cs(r);break;case 2:e[1]=Jl(r,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+e[0])}return e}function NL(r,t,e){for(var n=r.read_shift(e.biff==12?4:2),s=[],i=0;i!=n;++i)s.push((e.biff==12?Ql:wp)(r));return s}function RL(r,t,e){var n=0,s=0;e.biff==12?(n=r.read_shift(4),s=r.read_shift(4)):(s=1+r.read_shift(1),n=1+r.read_shift(2)),e.biff>=2&&e.biff<8&&(--n,--s==0&&(s=256));for(var i=0,a=[];i!=n&&(a[i]=[]);++i)for(var l=0;l!=s;++l)a[i][l]=CL(r,e.biff);return a}function ML(r,t,e){var n=r.read_shift(1)>>>5&3,s=!e||e.biff>=8?4:2,i=r.read_shift(s);switch(e.biff){case 2:r.l+=5;break;case 3:case 4:r.l+=8;break;case 5:r.l+=12;break}return[n,0,i]}function jL(r,t,e){if(e.biff==5)return DL(r);var n=r.read_shift(1)>>>5&3,s=r.read_shift(2),i=r.read_shift(4);return[n,s,i]}function DL(r){var t=r.read_shift(1)>>>5&3,e=r.read_shift(2,"i");r.l+=8;var n=r.read_shift(2);return r.l+=12,[t,e,n]}function IL(r,t,e){var n=r.read_shift(1)>>>5&3;r.l+=e&&e.biff==2?3:4;var s=r.read_shift(e&&e.biff==2?1:2);return[n,s]}function OL(r,t,e){var n=r.read_shift(1)>>>5&3,s=r.read_shift(e&&e.biff==2?1:2);return[n,s]}function FL(r,t,e){var n=r.read_shift(1)>>>5&3;return r.l+=4,e.biff<8&&r.l--,e.biff==12&&(r.l+=2),[n]}function PL(r,t,e){var n=(r[r.l++]&96)>>5,s=r.read_shift(2),i=4;if(e)switch(e.biff){case 5:i=15;break;case 12:i=6;break}return r.l+=i,[n,s]}var LL=ds,BL=ds,UL=ds;function yh(r,t,e){return r.l+=2,[JP(r)]}function cx(r){return r.l+=6,[]}var VL=yh,zL=cx,HL=cx,$L=yh;function Q8(r){return r.l+=2,[Cn(r),r.read_shift(2)&1]}var qL=yh,GL=Q8,WL=cx,XL=yh,YL=yh,KL=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function QL(r){r.l+=2;var t=r.read_shift(2),e=r.read_shift(2),n=r.read_shift(4),s=r.read_shift(2),i=r.read_shift(2),a=KL[e>>2&31];return{ixti:t,coltype:e&3,rt:a,idx:n,c:s,C:i}}function ZL(r){return r.l+=2,[r.read_shift(4)]}function JL(r,t,e){return r.l+=5,r.l+=2,r.l+=e.biff==2?1:4,["PTGSHEET"]}function eB(r,t,e){return r.l+=e.biff==2?4:5,["PTGENDSHEET"]}function tB(r){var t=r.read_shift(1)>>>5&3,e=r.read_shift(2);return[t,e]}function rB(r){var t=r.read_shift(1)>>>5&3,e=r.read_shift(2);return[t,e]}function nB(r){return r.l+=4,[0,0]}var T4={1:{n:"PtgExp",f:_L},2:{n:"PtgTbl",f:UL},3:{n:"PtgAdd",f:Tn},4:{n:"PtgSub",f:Tn},5:{n:"PtgMul",f:Tn},6:{n:"PtgDiv",f:Tn},7:{n:"PtgPower",f:Tn},8:{n:"PtgConcat",f:Tn},9:{n:"PtgLt",f:Tn},10:{n:"PtgLe",f:Tn},11:{n:"PtgEq",f:Tn},12:{n:"PtgGe",f:Tn},13:{n:"PtgGt",f:Tn},14:{n:"PtgNe",f:Tn},15:{n:"PtgIsect",f:Tn},16:{n:"PtgUnion",f:Tn},17:{n:"PtgRange",f:Tn},18:{n:"PtgUplus",f:Tn},19:{n:"PtgUminus",f:Tn},20:{n:"PtgPercent",f:Tn},21:{n:"PtgParen",f:Tn},22:{n:"PtgMissArg",f:Tn},23:{n:"PtgStr",f:AL},26:{n:"PtgSheet",f:JL},27:{n:"PtgEndSheet",f:eB},28:{n:"PtgErr",f:SL},29:{n:"PtgBool",f:TL},30:{n:"PtgInt",f:kL},31:{n:"PtgNum",f:EL},32:{n:"PtgArray",f:oL},33:{n:"PtgFunc",f:xL},34:{n:"PtgFuncVar",f:yL},35:{n:"PtgName",f:ML},36:{n:"PtgRef",f:mL},37:{n:"PtgArea",f:rL},38:{n:"PtgMemArea",f:IL},39:{n:"PtgMemErr",f:LL},40:{n:"PtgMemNoMem",f:BL},41:{n:"PtgMemFunc",f:OL},42:{n:"PtgRefErr",f:FL},43:{n:"PtgAreaErr",f:sL},44:{n:"PtgRefN",f:gL},45:{n:"PtgAreaN",f:iL},46:{n:"PtgMemAreaN",f:tB},47:{n:"PtgMemNoMemN",f:rB},57:{n:"PtgNameX",f:jL},58:{n:"PtgRef3d",f:bL},59:{n:"PtgArea3d",f:nL},60:{n:"PtgRefErr3d",f:PL},61:{n:"PtgAreaErr3d",f:aL},255:{}},sB={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},aB={1:{n:"PtgElfLel",f:Q8},2:{n:"PtgElfRw",f:XL},3:{n:"PtgElfCol",f:VL},6:{n:"PtgElfRwV",f:YL},7:{n:"PtgElfColV",f:$L},10:{n:"PtgElfRadical",f:qL},11:{n:"PtgElfRadicalS",f:WL},13:{n:"PtgElfColS",f:zL},15:{n:"PtgElfColSV",f:HL},16:{n:"PtgElfRadicalLel",f:GL},25:{n:"PtgList",f:QL},29:{n:"PtgSxName",f:ZL},255:{}},iB={0:{n:"PtgAttrNoop",f:nB},1:{n:"PtgAttrSemi",f:hL},2:{n:"PtgAttrIf",f:uL},4:{n:"PtgAttrChoose",f:lL},8:{n:"PtgAttrGoto",f:cL},16:{n:"PtgAttrSum",f:wL},32:{n:"PtgAttrBaxcel",f:k4},33:{n:"PtgAttrBaxcel",f:k4},64:{n:"PtgAttrSpace",f:dL},65:{n:"PtgAttrSpaceSemi",f:pL},128:{n:"PtgAttrIfError",f:fL},255:{}};function vh(r,t,e,n){if(n.biff<8)return ds(r,t);for(var s=r.l+t,i=[],a=0;a!==e.length;++a)switch(e[a][0]){case"PtgArray":e[a][1]=RL(r,0,n),i.push(e[a][1]);break;case"PtgMemArea":e[a][2]=NL(r,e[a][1],n),i.push(e[a][2]);break;case"PtgExp":n&&n.biff==12&&(e[a][1][1]=r.read_shift(4),i.push(e[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+e[a][0]}return t=s-r.l,t!==0&&i.push(ds(r,t)),i}function wh(r,t,e){for(var n=r.l+t,s,i,a=[];n!=r.l;)t=n-r.l,i=r[r.l],s=T4[i]||T4[sB[i]],(i===24||i===25)&&(s=(i===24?aB:iB)[r[r.l+1]]),!s||!s.f?ds(r,t):a.push([s.n,s.f(r,t,e)]);return a}function oB(r){for(var t=[],e=0;e<r.length;++e){for(var n=r[e],s=[],i=0;i<n.length;++i){var a=n[i];if(a)switch(a[0]){case 2:s.push('"'+a[1].replace(/"/g,'""')+'"');break;default:s.push(a[1])}else s.push("")}t.push(s.join(","))}return t.join(";")}var lB={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function cB(r,t){if(!r&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(r)?"'"+r+"'":r}function Z8(r,t,e){if(!r)return"SH33TJSERR0";if(e.biff>8&&(!r.XTI||!r.XTI[t]))return r.SheetNames[t];if(!r.XTI)return"SH33TJSERR6";var n=r.XTI[t];if(e.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":r.XTI[t-1];if(!n)return"SH33TJSERR1";var s="";if(e.biff>8)switch(r[n[0]][0]){case 357:return s=n[1]==-1?"#REF":r.SheetNames[n[1]],n[1]==n[2]?s:s+":"+r.SheetNames[n[2]];case 358:return e.SID!=null?r.SheetNames[e.SID]:"SH33TJSSAME"+r[n[0]][0];case 355:default:return"SH33TJSSRC"+r[n[0]][0]}switch(r[n[0]][0][0]){case 1025:return s=n[1]==-1?"#REF":r.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?s:s+":"+r.SheetNames[n[2]];case 14849:return r[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return r[n[0]][0][3]?(s=n[1]==-1?"#REF":r[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?s:s+":"+r[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function E4(r,t,e){var n=Z8(r,t,e);return n=="#REF"?n:cB(n,e)}function os(r,t,e,n,s){var i=s&&s.biff||8,a={s:{c:0,r:0}},l=[],c,o,u,p=0,h=0,d,b="";if(!r[0]||!r[0][0])return"";for(var x=-1,g="",v=0,y=r[0].length;v<y;++v){var k=r[0][v];switch(k[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),o=l.pop(),x>=0){switch(r[0][x][1][0]){case 0:g=cn(" ",r[0][x][1][1]);break;case 1:g=cn("\r",r[0][x][1][1]);break;default:if(g="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][x][1][0])}o=o+g,x=-1}l.push(o+lB[k[0]]+c);break;case"PtgIsect":c=l.pop(),o=l.pop(),l.push(o+" "+c);break;case"PtgUnion":c=l.pop(),o=l.pop(),l.push(o+","+c);break;case"PtgRange":c=l.pop(),o=l.pop(),l.push(o+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=Af(k[1][1],a,s),l.push(Cf(u,i));break;case"PtgRefN":u=e?Af(k[1][1],e,s):k[1][1],l.push(Cf(u,i));break;case"PtgRef3d":p=k[1][1],u=Af(k[1][2],a,s),b=E4(n,p,s),l.push(b+"!"+Cf(u,i));break;case"PtgFunc":case"PtgFuncVar":var R=k[1][0],z=k[1][1];R||(R=0),R&=127;var q=R==0?[]:l.slice(-R);l.length-=R,z==="User"&&(z=q.shift()),l.push(z+"("+q.join(",")+")");break;case"PtgBool":l.push(k[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(k[1]);break;case"PtgNum":l.push(String(k[1]));break;case"PtgStr":l.push('"'+k[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(k[1]);break;case"PtgAreaN":d=i4(k[1][1],e?{s:e}:a,s),l.push(Ug(d,s));break;case"PtgArea":d=i4(k[1][1],a,s),l.push(Ug(d,s));break;case"PtgArea3d":p=k[1][1],d=k[1][2],b=E4(n,p,s),l.push(b+"!"+Ug(d,s));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=k[1][2];var B=(n.names||[])[h-1]||(n[0]||[])[h],I=B?B.Name:"SH33TJSNAME"+String(h);I&&I.slice(0,6)=="_xlfn."&&!s.xlfn&&(I=I.slice(6)),l.push(I);break;case"PtgNameX":var O=k[1][1];h=k[1][2];var F;if(s.biff<=5)O<0&&(O=-O),n[O]&&(F=n[O][h]);else{var W="";if(((n[O]||[])[0]||[])[0]==14849||(((n[O]||[])[0]||[])[0]==1025?n[O][h]&&n[O][h].itab>0&&(W=n.SheetNames[n[O][h].itab-1]+"!"):W=n.SheetNames[h-1]+"!"),n[O]&&n[O][h])W+=n[O][h].Name;else if(n[0]&&n[0][h])W+=n[0][h].Name;else{var V=(Z8(n,O,s)||"").split(";;");V[h-1]?W=V[h-1]:W+="SH33TJSERRX"}l.push(W);break}F||(F={Name:"SH33TJSERRY"}),l.push(F.Name);break;case"PtgParen":var N="(",P=")";if(x>=0){switch(g="",r[0][x][1][0]){case 2:N=cn(" ",r[0][x][1][1])+N;break;case 3:N=cn("\r",r[0][x][1][1])+N;break;case 4:P=cn(" ",r[0][x][1][1])+P;break;case 5:P=cn("\r",r[0][x][1][1])+P;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][x][1][0])}x=-1}l.push(N+l.pop()+P);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":u={c:k[1][1],r:k[1][0]};var C={c:e.c,r:e.r};if(n.sharedf[ar(u)]){var S=n.sharedf[ar(u)];l.push(os(S,a,C,n,s))}else{var E=!1;for(c=0;c!=n.arrayf.length;++c)if(o=n.arrayf[c],!(u.c<o[0].s.c||u.c>o[0].e.c)&&!(u.r<o[0].s.r||u.r>o[0].e.r)){l.push(os(o[1],a,C,n,s)),E=!0;break}E||l.push(k[1])}break;case"PtgArray":l.push("{"+oB(k[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":x=v;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+k[1].idx+"[#"+k[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(k));default:throw new Error("Unrecognized Formula Token: "+String(k))}var A=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&x>=0&&A.indexOf(r[0][v][0])==-1){k=r[0][x];var T=!0;switch(k[1][0]){case 4:T=!1;case 0:g=cn(" ",k[1][1]);break;case 5:T=!1;case 1:g=cn("\r",k[1][1]);break;default:if(g="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+k[1][0])}l.push((T?g:"")+l.pop()+(T?"":g)),x=-1}}if(l.length>1&&s.WTF)throw new Error("bad formula stack");return l[0]}function uB(r,t,e){var n=r.l+t,s=e.biff==2?1:2,i,a=r.read_shift(s);if(a==65535)return[[],ds(r,t-2)];var l=wh(r,a,e);return t!==a+s&&(i=vh(r,t-a-s,l,e)),r.l=n,[l,i]}function fB(r,t,e){var n=r.l+t,s=e.biff==2?1:2,i,a=r.read_shift(s);if(a==65535)return[[],ds(r,t-2)];var l=wh(r,a,e);return t!==a+s&&(i=vh(r,t-a-s,l,e)),r.l=n,[l,i]}function hB(r,t,e,n){var s=r.l+t,i=wh(r,n,e),a;return s!==r.l&&(a=vh(r,s-r.l,i,e)),[i,a]}function dB(r,t,e){var n=r.l+t,s,i=r.read_shift(2),a=wh(r,i,e);return i==65535?[[],ds(r,t-2)]:(t!==i+2&&(s=vh(r,n-i-2,a,e)),[a,s])}function pB(r){var t;if(Pi(r,r.l+6)!==65535)return[cs(r),"n"];switch(r[r.l]){case 0:return r.l+=8,["String","s"];case 1:return t=r[r.l+2]===1,r.l+=8,[t,"b"];case 2:return t=r[r.l+2],r.l+=8,[t,"e"];case 3:return r.l+=8,["","s"]}return[]}function Hg(r,t,e){var n=r.l+t,s=pi(r);e.biff==2&&++r.l;var i=pB(r),a=r.read_shift(1);e.biff!=2&&(r.read_shift(1),e.biff>=5&&r.read_shift(4));var l=fB(r,n-r.l,e);return{cell:s,val:i[0],formula:l,shared:a>>3&1,tt:i[1]}}function _p(r,t,e){var n=r.read_shift(4),s=wh(r,n,e),i=r.read_shift(4),a=i>0?vh(r,i,s,e):null;return[s,a]}var mB=_p,Sp=_p,gB=_p,bB=_p,xB={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},J8={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},yB={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function A4(r){return r.slice(0,3)=="of:"&&(r=r.slice(3)),r.charCodeAt(0)==61&&(r=r.slice(1),r.charCodeAt(0)==61&&(r=r.slice(1))),r=r.replace(/COM\.MICROSOFT\./g,""),r=r.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,e){return e.replace(/\./g,"")}),r=r.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),r.replace(/[;~]/g,",").replace(/\|/g,";")}function $g(r){var t=r.split(":"),e=t[0].split(".")[0];return[e,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var jf={},Yc={};function Df(r,t){if(r){var e=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(e=[1,1,1,1,.5,.5]),r.left==null&&(r.left=e[0]),r.right==null&&(r.right=e[1]),r.top==null&&(r.top=e[2]),r.bottom==null&&(r.bottom=e[3]),r.header==null&&(r.header=e[4]),r.footer==null&&(r.footer=e[5])}}function eS(r,t,e,n,s,i){try{n.cellNF&&(r.z=fr[t])}catch(l){if(n.WTF)throw l}if(!(r.t==="z"&&!n.cellStyles)){if(r.t==="d"&&typeof r.v=="string"&&(r.v=Vn(r.v)),(!n||n.cellText!==!1)&&r.t!=="z")try{if(fr[t]==null&&Il(vD[t]||"General",t),r.t==="e")r.w=r.w||Zl[r.v];else if(t===0)if(r.t==="n")(r.v|0)===r.v?r.w=r.v.toString(10):r.w=Yf(r.v);else if(r.t==="d"){var a=Es(r.v);(a|0)===a?r.w=a.toString(10):r.w=Yf(a)}else{if(r.v===void 0)return"";r.w=Hl(r.v,Yc)}else r.t==="d"?r.w=wa(t,Es(r.v),Yc):r.w=wa(t,r.v,Yc)}catch(l){if(n.WTF)throw l}if(n.cellStyles&&e!=null)try{r.s=i.Fills[e],r.s.fgColor&&r.s.fgColor.theme&&!r.s.fgColor.rgb&&(r.s.fgColor.rgb=$0(s.themeElements.clrScheme[r.s.fgColor.theme].rgb,r.s.fgColor.tint||0),n.WTF&&(r.s.fgColor.raw_rgb=s.themeElements.clrScheme[r.s.fgColor.theme].rgb)),r.s.bgColor&&r.s.bgColor.theme&&(r.s.bgColor.rgb=$0(s.themeElements.clrScheme[r.s.bgColor.theme].rgb,r.s.bgColor.tint||0),n.WTF&&(r.s.bgColor.raw_rgb=s.themeElements.clrScheme[r.s.bgColor.theme].rgb))}catch(l){if(n.WTF&&i.Fills)throw l}}}function vB(r,t){var e=hn(t);e.s.r<=e.e.r&&e.s.c<=e.e.c&&e.s.r>=0&&e.s.c>=0&&(r["!ref"]=Nr(e))}var wB=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,_B=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,SB=/<(?:\w:)?hyperlink [^>]*>/mg,kB=/"(\w*:\w*)"/,TB=/<(?:\w:)?col\b[^>]*[\/]?>/g,EB=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,AB=/<(?:\w:)?pageMargins[^>]*\/>/g,tS=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,CB=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,NB=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function RB(r,t,e,n,s,i,a){if(!r)return r;n||(n={"!id":{}});var l=t.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},o="",u="",p=r.match(_B);p?(o=r.slice(0,p.index),u=r.slice(p.index+p[0].length)):o=u=r;var h=o.match(tS);h?ux(h[0],l,s,e):(h=o.match(CB))&&MB(h[0],h[1]||"",l,s,e);var d=(o.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(d>0){var b=o.slice(d,d+50).match(kB);b&&vB(l,b[1])}var x=o.match(NB);x&&x[1]&&PB(x[1],s);var g=[];if(t.cellStyles){var v=o.match(TB);v&&IB(g,v)}p&&LB(p[1],l,t,c,i,a);var y=u.match(EB);y&&(l["!autofilter"]=OB(y[0]));var k=[],R=u.match(wB);if(R)for(d=0;d!=R.length;++d)k[d]=hn(R[d].slice(R[d].indexOf('"')+1));var z=u.match(SB);z&&jB(l,z,n);var q=u.match(AB);if(q&&(l["!margins"]=DB(Zt(q[0]))),!l["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(l["!ref"]=Nr(c)),t.sheetRows>0&&l["!ref"]){var B=hn(l["!ref"]);t.sheetRows<=+B.e.r&&(B.e.r=t.sheetRows-1,B.e.r>c.e.r&&(B.e.r=c.e.r),B.e.r<B.s.r&&(B.s.r=B.e.r),B.e.c>c.e.c&&(B.e.c=c.e.c),B.e.c<B.s.c&&(B.s.c=B.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Nr(B))}return g.length>0&&(l["!cols"]=g),k.length>0&&(l["!merges"]=k),l}function ux(r,t,e,n){var s=Zt(r);e.Sheets[n]||(e.Sheets[n]={}),s.codeName&&(e.Sheets[n].CodeName=Rr(Xr(s.codeName)))}function MB(r,t,e,n,s){ux(r.slice(0,r.indexOf(">")),e,n,s)}function jB(r,t,e){for(var n=Array.isArray(r),s=0;s!=t.length;++s){var i=Zt(Xr(t[s]),!0);if(!i.ref)return;var a=((e||{})["!id"]||[])[i.id];a?(i.Target=a.Target,i.location&&(i.Target+="#"+Rr(i.location))):(i.Target="#"+Rr(i.location),a={Target:i.Target,TargetMode:"Internal"}),i.Rel=a,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var l=hn(i.ref),c=l.s.r;c<=l.e.r;++c)for(var o=l.s.c;o<=l.e.c;++o){var u=ar({c:o,r:c});n?(r[c]||(r[c]=[]),r[c][o]||(r[c][o]={t:"z",v:void 0}),r[c][o].l=i):(r[u]||(r[u]={t:"z",v:void 0}),r[u].l=i)}}}function DB(r){var t={};return["left","right","top","bottom","header","footer"].forEach(function(e){r[e]&&(t[e]=parseFloat(r[e]))}),t}function IB(r,t){for(var e=!1,n=0;n!=t.length;++n){var s=Zt(t[n],!0);s.hidden&&(s.hidden=rn(s.hidden));var i=parseInt(s.min,10)-1,a=parseInt(s.max,10)-1;for(s.outlineLevel&&(s.level=+s.outlineLevel||0),delete s.min,delete s.max,s.width=+s.width,!e&&s.width&&(e=!0,lx(s.width)),au(s);i<=a;)r[i++]=Jn(s)}}function OB(r){var t={ref:(r.match(/ref="([^"]*)"/)||[])[1]};return t}var FB=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function PB(r,t){t.Views||(t.Views=[{}]),(r.match(FB)||[]).forEach(function(e,n){var s=Zt(e);t.Views[n]||(t.Views[n]={}),+s.zoomScale&&(t.Views[n].zoom=+s.zoomScale),rn(s.rightToLeft)&&(t.Views[n].RTL=!0)})}var LB=(function(){var r=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,e=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,s=/ref=["']([^"']*)["']/,i=Kf("v"),a=Kf("f");return function(c,o,u,p,h,d){for(var b=0,x="",g=[],v=[],y=0,k=0,R=0,z="",q,B,I=0,O=0,F,W,V=0,N=0,P=Array.isArray(d.CellXf),C,S=[],E=[],A=Array.isArray(o),T=[],j={},L=!1,D=!!u.sheetStubs,Z=c.split(t),K=0,ee=Z.length;K!=ee;++K){x=Z[K].trim();var G=x.length;if(G!==0){var te=0;e:for(b=0;b<G;++b)switch(x[b]){case">":if(x[b-1]!="/"){++b;break e}if(u&&u.cellStyles){if(B=Zt(x.slice(te,b),!0),I=B.r!=null?parseInt(B.r,10):I+1,O=-1,u.sheetRows&&u.sheetRows<I)continue;j={},L=!1,B.ht&&(L=!0,j.hpt=parseFloat(B.ht),j.hpx=eh(j.hpt)),B.hidden=="1"&&(L=!0,j.hidden=!0),B.outlineLevel!=null&&(L=!0,j.level=+B.outlineLevel),L&&(T[I-1]=j)}break;case"<":te=b;break}if(te>=b)break;if(B=Zt(x.slice(te,b),!0),I=B.r!=null?parseInt(B.r,10):I+1,O=-1,!(u.sheetRows&&u.sheetRows<I)){p.s.r>I-1&&(p.s.r=I-1),p.e.r<I-1&&(p.e.r=I-1),u&&u.cellStyles&&(j={},L=!1,B.ht&&(L=!0,j.hpt=parseFloat(B.ht),j.hpx=eh(j.hpt)),B.hidden=="1"&&(L=!0,j.hidden=!0),B.outlineLevel!=null&&(L=!0,j.level=+B.outlineLevel),L&&(T[I-1]=j)),g=x.slice(b).split(r);for(var H=0;H!=g.length&&g[H].trim().charAt(0)=="<";++H);for(g=g.slice(H),b=0;b!=g.length;++b)if(x=g[b].trim(),x.length!==0){if(v=x.match(e),y=b,k=0,R=0,x="<c "+(x.slice(0,1)=="<"?">":"")+x,v!=null&&v.length===2){for(y=0,z=v[1],k=0;k!=z.length&&!((R=z.charCodeAt(k)-64)<1||R>26);++k)y=26*y+R;--y,O=y}else++O;for(k=0;k!=x.length&&x.charCodeAt(k)!==62;++k);if(++k,B=Zt(x.slice(0,k),!0),B.r||(B.r=ar({r:I-1,c:O})),z=x.slice(k),q={t:""},(v=z.match(i))!=null&&v[1]!==""&&(q.v=Rr(v[1])),u.cellFormula){if((v=z.match(a))!=null&&v[1]!==""){if(q.f=Rr(Xr(v[1])).replace(/\r\n/g,`
`),u.xlfn||(q.f=S4(q.f)),v[0].indexOf('t="array"')>-1)q.F=(z.match(s)||[])[1],q.F.indexOf(":")>-1&&S.push([hn(q.F),q.F]);else if(v[0].indexOf('t="shared"')>-1){W=Zt(v[0]);var U=Rr(Xr(v[1]));u.xlfn||(U=S4(U)),E[parseInt(W.si,10)]=[W,U,B.r]}}else(v=z.match(/<f[^>]*\/>/))&&(W=Zt(v[0]),E[W.si]&&(q.f=YP(E[W.si][1],E[W.si][2],B.r)));var Q=ks(B.r);for(k=0;k<S.length;++k)Q.r>=S[k][0].s.r&&Q.r<=S[k][0].e.r&&Q.c>=S[k][0].s.c&&Q.c<=S[k][0].e.c&&(q.F=S[k][1])}if(B.t==null&&q.v===void 0)if(q.f||q.F)q.v=0,q.t="n";else if(D)q.t="z";else continue;else q.t=B.t||"n";switch(p.s.c>O&&(p.s.c=O),p.e.c<O&&(p.e.c=O),q.t){case"n":if(q.v==""||q.v==null){if(!D)continue;q.t="z"}else q.v=parseFloat(q.v);break;case"s":if(typeof q.v>"u"){if(!D)continue;q.t="z"}else F=jf[parseInt(q.v,10)],q.v=F.t,q.r=F.r,u.cellHTML&&(q.h=F.h);break;case"str":q.t="s",q.v=q.v!=null?Xr(q.v):"",u.cellHTML&&(q.h=Qb(q.v));break;case"inlineStr":v=z.match(n),q.t="s",v!=null&&(F=ox(v[1]))?(q.v=F.t,u.cellHTML&&(q.h=F.h)):q.v="";break;case"b":q.v=rn(q.v);break;case"d":u.cellDates?q.v=Vn(q.v,1):(q.v=Es(Vn(q.v,1)),q.t="n");break;case"e":(!u||u.cellText!==!1)&&(q.w=q.v),q.v=_8[q.v];break}if(V=N=0,C=null,P&&B.s!==void 0&&(C=d.CellXf[B.s],C!=null&&(C.numFmtId!=null&&(V=C.numFmtId),u.cellStyles&&C.fillId!=null&&(N=C.fillId))),eS(q,V,N,u,h,d),u.cellDates&&P&&q.t=="n"&&mu(fr[V])&&(q.t="d",q.v=vp(q.v)),B.cm&&u.xlmeta){var ie=(u.xlmeta.Cell||[])[+B.cm-1];ie&&ie.type=="XLDAPR"&&(q.D=!0)}if(A){var re=ks(B.r);o[re.r]||(o[re.r]=[]),o[re.r][re.c]=q}else o[B.r]=q}}}}T.length>0&&(o["!rows"]=T)}})();function BB(r,t){var e={},n=r.l+t;e.r=r.read_shift(4),r.l+=4;var s=r.read_shift(2);r.l+=1;var i=r.read_shift(1);return r.l=n,i&7&&(e.level=i&7),i&16&&(e.hidden=!0),i&32&&(e.hpt=s/20),e}var UB=Ql;function VB(){}function zB(r,t){var e={},n=r[r.l];return++r.l,e.above=!(n&64),e.left=!(n&128),r.l+=18,e.name=uI(r),e}function HB(r){var t=_a(r);return[t]}function $B(r){var t=Kl(r);return[t]}function qB(r){var t=_a(r),e=r.read_shift(1);return[t,e,"b"]}function GB(r){var t=Kl(r),e=r.read_shift(1);return[t,e,"b"]}function WB(r){var t=_a(r),e=r.read_shift(1);return[t,e,"e"]}function XB(r){var t=Kl(r),e=r.read_shift(1);return[t,e,"e"]}function YB(r){var t=_a(r),e=r.read_shift(4);return[t,e,"s"]}function KB(r){var t=Kl(r),e=r.read_shift(4);return[t,e,"s"]}function QB(r){var t=_a(r),e=cs(r);return[t,e,"n"]}function rS(r){var t=Kl(r),e=cs(r);return[t,e,"n"]}function ZB(r){var t=_a(r),e=sx(r);return[t,e,"n"]}function JB(r){var t=Kl(r),e=sx(r);return[t,e,"n"]}function eU(r){var t=_a(r),e=rx(r);return[t,e,"is"]}function tU(r){var t=_a(r),e=fs(r);return[t,e,"str"]}function rU(r){var t=Kl(r),e=fs(r);return[t,e,"str"]}function nU(r,t,e){var n=r.l+t,s=_a(r);s.r=e["!row"];var i=r.read_shift(1),a=[s,i,"b"];if(e.cellFormula){r.l+=2;var l=Sp(r,n-r.l,e);a[3]=os(l,null,s,e.supbooks,e)}else r.l=n;return a}function sU(r,t,e){var n=r.l+t,s=_a(r);s.r=e["!row"];var i=r.read_shift(1),a=[s,i,"e"];if(e.cellFormula){r.l+=2;var l=Sp(r,n-r.l,e);a[3]=os(l,null,s,e.supbooks,e)}else r.l=n;return a}function aU(r,t,e){var n=r.l+t,s=_a(r);s.r=e["!row"];var i=cs(r),a=[s,i,"n"];if(e.cellFormula){r.l+=2;var l=Sp(r,n-r.l,e);a[3]=os(l,null,s,e.supbooks,e)}else r.l=n;return a}function iU(r,t,e){var n=r.l+t,s=_a(r);s.r=e["!row"];var i=fs(r),a=[s,i,"str"];if(e.cellFormula){r.l+=2;var l=Sp(r,n-r.l,e);a[3]=os(l,null,s,e.supbooks,e)}else r.l=n;return a}var oU=Ql;function lU(r,t){var e=r.l+t,n=Ql(r),s=nx(r),i=fs(r),a=fs(r),l=fs(r);r.l=e;var c={rfx:n,relId:s,loc:i,display:l};return a&&(c.Tooltip=a),c}function cU(){}function uU(r,t,e){var n=r.l+t,s=y8(r),i=r.read_shift(1),a=[s];if(a[2]=i,e.cellFormula){var l=mB(r,n-r.l,e);a[1]=l}else r.l=n;return a}function fU(r,t,e){var n=r.l+t,s=Ql(r),i=[s];if(e.cellFormula){var a=bB(r,n-r.l,e);i[1]=a,r.l=n}else r.l=n;return i}var hU=["left","right","top","bottom","header","footer"];function dU(r){var t={};return hU.forEach(function(e){t[e]=cs(r)}),t}function pU(r){var t=r.read_shift(2);return r.l+=28,{RTL:t&32}}function mU(){}function gU(){}function bU(r,t,e,n,s,i,a){if(!r)return r;var l=t||{};n||(n={"!id":{}});var c=l.dense?[]:{},o,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},p=!1,h=!1,d,b,x,g,v,y,k,R,z,q=[];l.biff=12,l["!row"]=0;var B=0,I=!1,O=[],F={},W=l.supbooks||s.supbooks||[[]];if(W.sharedf=F,W.arrayf=O,W.SheetNames=s.SheetNames||s.Sheets.map(function(A){return A.name}),!l.supbooks&&(l.supbooks=W,s.Names))for(var V=0;V<s.Names.length;++V)W[0][V+1]=s.Names[V];var N=[],P=[],C=!1;W0[16]={n:"BrtShortReal",f:rS};var S;if(Qi(r,function(T,j,L){if(!h)switch(L){case 148:o=T;break;case 0:d=T,l.sheetRows&&l.sheetRows<=d.r&&(h=!0),R=es(g=d.r),l["!row"]=d.r,(T.hidden||T.hpt||T.level!=null)&&(T.hpt&&(T.hpx=eh(T.hpt)),P[T.r]=T);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(b={t:T[2]},T[2]){case"n":b.v=T[1];break;case"s":k=jf[T[1]],b.v=k.t,b.r=k.r;break;case"b":b.v=!!T[1];break;case"e":b.v=T[1],l.cellText!==!1&&(b.w=Zl[b.v]);break;case"str":b.t="s",b.v=T[1];break;case"is":b.t="s",b.v=T[1].t;break}if((x=a.CellXf[T[0].iStyleRef])&&eS(b,x.numFmtId,null,l,i,a),v=T[0].c==-1?v+1:T[0].c,l.dense?(c[g]||(c[g]=[]),c[g][v]=b):c[On(v)+R]=b,l.cellFormula){for(I=!1,B=0;B<O.length;++B){var D=O[B];d.r>=D[0].s.r&&d.r<=D[0].e.r&&v>=D[0].s.c&&v<=D[0].e.c&&(b.F=Nr(D[0]),I=!0)}!I&&T.length>3&&(b.f=T[3])}if(u.s.r>d.r&&(u.s.r=d.r),u.s.c>v&&(u.s.c=v),u.e.r<d.r&&(u.e.r=d.r),u.e.c<v&&(u.e.c=v),l.cellDates&&x&&b.t=="n"&&mu(fr[x.numFmtId])){var Z=Cl(b.v);Z&&(b.t="d",b.v=new Date(Z.y,Z.m-1,Z.d,Z.H,Z.M,Z.S,Z.u))}S&&(S.type=="XLDAPR"&&(b.D=!0),S=void 0);break;case 1:case 12:if(!l.sheetStubs||p)break;b={t:"z",v:void 0},v=T[0].c==-1?v+1:T[0].c,l.dense?(c[g]||(c[g]=[]),c[g][v]=b):c[On(v)+R]=b,u.s.r>d.r&&(u.s.r=d.r),u.s.c>v&&(u.s.c=v),u.e.r<d.r&&(u.e.r=d.r),u.e.c<v&&(u.e.c=v),S&&(S.type=="XLDAPR"&&(b.D=!0),S=void 0);break;case 176:q.push(T);break;case 49:S=((l.xlmeta||{}).Cell||[])[T-1];break;case 494:var K=n["!id"][T.relId];for(K?(T.Target=K.Target,T.loc&&(T.Target+="#"+T.loc),T.Rel=K):T.relId==""&&(T.Target="#"+T.loc),g=T.rfx.s.r;g<=T.rfx.e.r;++g)for(v=T.rfx.s.c;v<=T.rfx.e.c;++v)l.dense?(c[g]||(c[g]=[]),c[g][v]||(c[g][v]={t:"z",v:void 0}),c[g][v].l=T):(y=ar({c:v,r:g}),c[y]||(c[y]={t:"z",v:void 0}),c[y].l=T);break;case 426:if(!l.cellFormula)break;O.push(T),z=l.dense?c[g][v]:c[On(v)+R],z.f=os(T[1],u,{r:d.r,c:v},W,l),z.F=Nr(T[0]);break;case 427:if(!l.cellFormula)break;F[ar(T[0].s)]=T[1],z=l.dense?c[g][v]:c[On(v)+R],z.f=os(T[1],u,{r:d.r,c:v},W,l);break;case 60:if(!l.cellStyles)break;for(;T.e>=T.s;)N[T.e--]={width:T.w/256,hidden:!!(T.flags&1),level:T.level},C||(C=!0,lx(T.w/256)),au(N[T.e+1]);break;case 161:c["!autofilter"]={ref:Nr(T)};break;case 476:c["!margins"]=T;break;case 147:s.Sheets[e]||(s.Sheets[e]={}),T.name&&(s.Sheets[e].CodeName=T.name),(T.above||T.left)&&(c["!outline"]={above:T.above,left:T.left});break;case 137:s.Views||(s.Views=[{}]),s.Views[0]||(s.Views[0]={}),T.RTL&&(s.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:p=!0;break;case 36:p=!1;break;case 37:p=!0;break;case 38:p=!1;break;default:if(!j.T){if(!p||l.WTF)throw new Error("Unexpected record 0x"+L.toString(16))}}},l),delete l.supbooks,delete l["!row"],!c["!ref"]&&(u.s.r<2e6||o&&(o.e.r>0||o.e.c>0||o.s.r>0||o.s.c>0))&&(c["!ref"]=Nr(o||u)),l.sheetRows&&c["!ref"]){var E=hn(c["!ref"]);l.sheetRows<=+E.e.r&&(E.e.r=l.sheetRows-1,E.e.r>u.e.r&&(E.e.r=u.e.r),E.e.r<E.s.r&&(E.s.r=E.e.r),E.e.c>u.e.c&&(E.e.c=u.e.c),E.e.c<E.s.c&&(E.s.c=E.e.c),c["!fullref"]=c["!ref"],c["!ref"]=Nr(E))}return q.length>0&&(c["!merges"]=q),N.length>0&&(c["!cols"]=N),P.length>0&&(c["!rows"]=P),c}function xU(r){var t=[],e=r.match(/^<c:numCache>/),n;(r.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var a=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);a&&(t[+a[1]]=e?+a[2]:a[2])});var s=Rr((r.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(r.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[t,s,n]}function yU(r,t,e,n,s,i){var a=i||{"!type":"chart"};if(!r)return i;var l=0,c=0,o="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(r.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(p){var h=xU(p);u.s.r=u.s.c=0,u.e.c=l,o=On(l),h[0].forEach(function(d,b){a[o+es(b)]={t:"n",v:d,z:h[1]},c=b}),u.e.r<c&&(u.e.r=c),++l}),l>0&&(a["!ref"]=Nr(u)),a}function vU(r,t,e,n,s){if(!r)return r;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},a,l=r.match(tS);return l&&ux(l[0],i,s,e),(a=r.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=a[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function wU(r,t){r.l+=10;var e=fs(r);return{name:e}}function _U(r,t,e,n,s){if(!r)return r;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},a=!1;return Qi(r,function(c,o,u){switch(u){case 550:i["!rel"]=c;break;case 651:s.Sheets[e]||(s.Sheets[e]={}),c.name&&(s.Sheets[e].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!(o.T>0)){if(!(o.T<0)){if(!a||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},t),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var nS=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],SU=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],kU=[],TU=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function C4(r,t){for(var e=0;e!=r.length;++e)for(var n=r[e],s=0;s!=t.length;++s){var i=t[s];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=rn(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function N4(r,t){for(var e=0;e!=t.length;++e){var n=t[e];if(r[n[0]]==null)r[n[0]]=n[1];else switch(n[2]){case"bool":typeof r[n[0]]=="string"&&(r[n[0]]=rn(r[n[0]]));break;case"int":typeof r[n[0]]=="string"&&(r[n[0]]=parseInt(r[n[0]],10));break}}}function sS(r){N4(r.WBProps,nS),N4(r.CalcPr,TU),C4(r.WBView,SU),C4(r.Sheets,kU),Yc.date1904=rn(r.WBProps.date1904)}var EU="][*?/\\".split("");function AU(r,t){if(r.length>31)throw new Error("Sheet names cannot exceed 31 chars");var e=!0;return EU.forEach(function(n){if(r.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),e}var CU=/<\w+:workbook/;function NU(r,t){if(!r)throw new Error("Could not find file");var e={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,s="xmlns",i={},a=0;if(r.replace(ps,function(c,o){var u=Zt(c);switch(di(u[0])){case"<?xml":break;case"<workbook":c.match(CU)&&(s="xmlns"+c.match(/<(\w+):/)[1]),e.xmlns=u[s];break;case"</workbook>":break;case"<fileVersion":delete u[0],e.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":nS.forEach(function(p){if(u[p[0]]!=null)switch(p[2]){case"bool":e.WBProps[p[0]]=rn(u[p[0]]);break;case"int":e.WBProps[p[0]]=parseInt(u[p[0]],10);break;default:e.WBProps[p[0]]=u[p[0]]}}),u.codeName&&(e.WBProps.CodeName=Xr(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],e.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=Rr(Xr(u.name)),delete u[0],e.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=Xr(u.name),u.comment&&(i.Comment=u.comment),u.localSheetId&&(i.Sheet=+u.localSheetId),rn(u.hidden||"0")&&(i.Hidden=!0),a=o+c.length;break;case"</definedName>":i.Ref=Rr(Xr(r.slice(a,o))),e.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete u[0],e.CalcPr=u;break;case"<calcPr/>":delete u[0],e.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return c}),WD.indexOf(e.xmlns)===-1)throw new Error("Unknown Namespace: "+e.xmlns);return sS(e),e}function RU(r,t){var e={};return e.Hidden=r.read_shift(4),e.iTabID=r.read_shift(4),e.strRelID=E1(r),e.name=fs(r),e}function MU(r,t){var e={},n=r.read_shift(4);e.defaultThemeVersion=r.read_shift(4);var s=t>8?fs(r):"";return s.length>0&&(e.CodeName=s),e.autoCompressPictures=!!(n&65536),e.backupFile=!!(n&64),e.checkCompatibility=!!(n&4096),e.date1904=!!(n&1),e.filterPrivacy=!!(n&8),e.hidePivotFieldList=!!(n&1024),e.promptedSolutions=!!(n&16),e.publishItems=!!(n&2048),e.refreshAllConnections=!!(n&262144),e.saveExternalLinkValues=!!(n&128),e.showBorderUnselectedTables=!!(n&4),e.showInkAnnotation=!!(n&32),e.showObjects=["all","placeholders","none"][n>>13&3],e.showPivotChartFilter=!!(n&32768),e.updateLinks=["userSet","never","always"][n>>8&3],e}function jU(r,t){var e={};return r.read_shift(4),e.ArchID=r.read_shift(4),r.l+=t-8,e}function DU(r,t,e){var n=r.l+t;r.l+=4,r.l+=1;var s=r.read_shift(4),i=fI(r),a=gB(r,0,e),l=nx(r);r.l=n;var c={Name:i,Ptg:a};return s<268435455&&(c.Sheet=s),l&&(c.Comment=l),c}function IU(r,t){var e={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],s=!1;t||(t={}),t.biff=12;var i=[],a=[[]];return a.SheetNames=[],a.XTI=[],W0[16]={n:"BrtFRTArchID$",f:jU},Qi(r,function(c,o,u){switch(u){case 156:a.SheetNames.push(c.name),e.Sheets.push(c);break;case 153:e.WBProps=c;break;case 39:c.Sheet!=null&&(t.SID=c.Sheet),c.Ref=os(c.Ptg,null,null,a,t),delete t.SID,delete c.Ptg,i.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:a[0].length?a.push([u,c]):a[0]=[u,c],a[a.length-1].XTI=[];break;case 362:a.length===0&&(a[0]=[],a[0].XTI=[]),a[a.length-1].XTI=a[a.length-1].XTI.concat(c),a.XTI=a.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(u),s=!0;break;case 36:n.pop(),s=!1;break;case 37:n.push(u),s=!0;break;case 38:n.pop(),s=!1;break;case 16:break;default:if(!o.T){if(!s||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},t),sS(e),e.Names=i,e.supbooks=a,e}function OU(r,t,e){return t.slice(-4)===".bin"?IU(r,e):NU(r,e)}function FU(r,t,e,n,s,i,a,l){return t.slice(-4)===".bin"?bU(r,n,e,s,i,a,l):RB(r,n,e,s,i,a,l)}function PU(r,t,e,n,s,i,a,l){return t.slice(-4)===".bin"?_U(r,n,e,s,i):vU(r,n,e,s,i)}function LU(r,t,e,n,s,i,a,l){return t.slice(-4)===".bin"?GP():WP()}function BU(r,t,e,n,s,i,a,l){return t.slice(-4)===".bin"?$P():qP()}function UU(r,t,e,n){return t.slice(-4)===".bin"?oP(r,e,n):tP(r,e,n)}function VU(r,t,e){return $8(r,e)}function zU(r,t,e){return t.slice(-4)===".bin"?SF(r,e):wF(r,e)}function HU(r,t,e){return t.slice(-4)===".bin"?VP(r,e):FP(r,e)}function $U(r,t,e){return t.slice(-4)===".bin"?DP(r):MP(r)}function qU(r,t,e,n){return e.slice(-4)===".bin"?IP(r,t,e,n):void 0}function GU(r,t,e){return t.slice(-4)===".bin"?NP(r,t,e):RP(r,t,e)}var aS=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,iS=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Ia(r,t){var e=r.split(/\s+/),n=[];if(n[0]=e[0],e.length===1)return n;var s=r.match(aS),i,a,l,c;if(s)for(c=0;c!=s.length;++c)i=s[c].match(iS),(a=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?l="xmlns"+i[1].slice(6):l=i[1].slice(a+1),n[l]=i[2].slice(1,i[2].length-1));return n}function WU(r){var t=r.split(/\s+/),e={};if(t.length===1)return e;var n=r.match(aS),s,i,a,l;if(n)for(l=0;l!=n.length;++l)s=n[l].match(iS),(i=s[1].indexOf(":"))===-1?e[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?a="xmlns"+s[1].slice(6):a=s[1].slice(i+1),e[a]=s[2].slice(1,s[2].length-1));return e}var If;function XU(r,t){var e=If[r]||Rr(r);return e==="General"?Hl(t):wa(e,t)}function YU(r,t,e,n){var s=n;switch((e[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":s=rn(n);break;case"i2":case"int":s=parseInt(n,10);break;case"r4":case"float":s=parseFloat(n);break;case"date":case"dateTime.tz":s=Vn(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+e[0])}r[Rr(t)]=s}function KU(r,t,e){if(r.t!=="z"){if(!e||e.cellText!==!1)try{r.t==="e"?r.w=r.w||Zl[r.v]:t==="General"?r.t==="n"?(r.v|0)===r.v?r.w=r.v.toString(10):r.w=Yf(r.v):r.w=Hl(r.v):r.w=XU(t||"General",r.v)}catch(i){if(e.WTF)throw i}try{var n=If[t]||t||"General";if(e.cellNF&&(r.z=n),e.cellDates&&r.t=="n"&&mu(n)){var s=Cl(r.v);s&&(r.t="d",r.v=new Date(s.y,s.m-1,s.d,s.H,s.M,s.S,s.u))}}catch(i){if(e.WTF)throw i}}}function QU(r,t,e){if(e.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=YF[n.Pattern]||n.Pattern)}r[t.ID]=t}function ZU(r,t,e,n,s,i,a,l,c,o){var u="General",p=n.StyleID,h={};o=o||{};var d=[],b=0;for(p===void 0&&l&&(p=l.StyleID),p===void 0&&a&&(p=a.StyleID);i[p]!==void 0&&(i[p].nf&&(u=i[p].nf),i[p].Interior&&d.push(i[p].Interior),!!i[p].Parent);)p=i[p].Parent;switch(e.Type){case"Boolean":n.t="b",n.v=rn(r);break;case"String":n.t="s",n.r=Q_(Rr(r)),n.v=r.indexOf("<")>-1?Rr(t||r).replace(/<.*?>/g,""):n.r;break;case"DateTime":r.slice(-1)!="Z"&&(r+="Z"),n.v=(Vn(r)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),n.v!==n.v?n.v=Rr(r):n.v<60&&(n.v=n.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+r),n.t||(n.t="n");break;case"Error":n.t="e",n.v=_8[r],o.cellText!==!1&&(n.w=r);break;default:r==""&&t==""?n.t="z":(n.t="s",n.v=Q_(t||r));break}if(KU(n,u,o),o.cellFormula!==!1)if(n.Formula){var x=Rr(n.Formula);x.charCodeAt(0)==61&&(x=x.slice(1)),n.f=Xc(x,s),delete n.Formula,n.ArrayRange=="RC"?n.F=Xc("RC:RC",s):n.ArrayRange&&(n.F=Xc(n.ArrayRange,s),c.push([hn(n.F),n.F]))}else for(b=0;b<c.length;++b)s.r>=c[b][0].s.r&&s.r<=c[b][0].e.r&&s.c>=c[b][0].s.c&&s.c<=c[b][0].e.c&&(n.F=c[b][1]);o.cellStyles&&(d.forEach(function(g){!h.patternType&&g.patternType&&(h.patternType=g.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function JU(r){r.t=r.v||"",r.t=r.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),r.v=r.w=r.ixfe=void 0}function qg(r,t){var e=t||{};X6();var n=pf(Zb(r));(e.type=="binary"||e.type=="array"||e.type=="base64")&&(n=Xr(n));var s=n.slice(0,1024).toLowerCase(),i=!1;if(s=s.replace(/".*?"/g,""),(s.indexOf(">")&1023)>Math.min(s.indexOf(",")&1023,s.indexOf(";")&1023)){var a=Jn(e);return a.type="string",Zf.to_workbook(n,a)}if(s.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(de){s.indexOf("<"+de)>=0&&(i=!0)}),i)return lV(n,e);If={"General Number":"General","General Date":fr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":fr[15],"Short Date":fr[14],"Long Time":fr[19],"Medium Time":fr[18],"Short Time":fr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:fr[2],Standard:fr[4],Percent:fr[10],Scientific:fr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,c=[],o,u={},p=[],h=e.dense?[]:{},d="",b={},x={},g=Ia('<Data ss:Type="String">'),v=0,y=0,k=0,R={s:{r:2e6,c:2e6},e:{r:0,c:0}},z={},q={},B="",I=0,O=[],F={},W={},V=0,N=[],P=[],C={},S=[],E,A=!1,T=[],j=[],L={},D=0,Z=0,K={Sheets:[],WBProps:{date1904:!1}},ee={};Qf.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var G="";l=Qf.exec(n);)switch(l[3]=(G=l[3]).toLowerCase()){case"data":if(G=="data"){if(l[1]==="/"){if((o=c.pop())[0]!==l[3])throw new Error("Bad state: "+o.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break}if(c[c.length-1][1])break;l[1]==="/"?ZU(n.slice(v,l.index),B,g,c[c.length-1][0]=="comment"?C:b,{c:y,r:k},z,S[y],x,T,e):(B="",g=Ia(l[0]),v=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(P.length>0&&(b.c=P),(!e.sheetRows||e.sheetRows>k)&&b.v!==void 0&&(e.dense?(h[k]||(h[k]=[]),h[k][y]=b):h[On(y)+es(k)]=b),b.HRef&&(b.l={Target:Rr(b.HRef)},b.HRefScreenTip&&(b.l.Tooltip=b.HRefScreenTip),delete b.HRef,delete b.HRefScreenTip),(b.MergeAcross||b.MergeDown)&&(D=y+(parseInt(b.MergeAcross,10)|0),Z=k+(parseInt(b.MergeDown,10)|0),O.push({s:{c:y,r:k},e:{c:D,r:Z}})),!e.sheetStubs)b.MergeAcross?y=D+1:++y;else if(b.MergeAcross||b.MergeDown){for(var te=y;te<=D;++te)for(var H=k;H<=Z;++H)(te>y||H>k)&&(e.dense?(h[H]||(h[H]=[]),h[H][te]={t:"z"}):h[On(te)+es(H)]={t:"z"});y=D+1}else++y;else b=WU(l[0]),b.Index&&(y=+b.Index-1),y<R.s.c&&(R.s.c=y),y>R.e.c&&(R.e.c=y),l[0].slice(-2)==="/>"&&++y,P=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(k<R.s.r&&(R.s.r=k),k>R.e.r&&(R.e.r=k),l[0].slice(-2)==="/>"&&(x=Ia(l[0]),x.Index&&(k=+x.Index-1)),y=0,++k):(x=Ia(l[0]),x.Index&&(k=+x.Index-1),L={},(x.AutoFitHeight=="0"||x.Height)&&(L.hpx=parseInt(x.Height,10),L.hpt=H8(L.hpx),j[k]=L),x.Hidden=="1"&&(L.hidden=!0,j[k]=L));break;case"worksheet":if(l[1]==="/"){if((o=c.pop())[0]!==l[3])throw new Error("Bad state: "+o.join("|"));p.push(d),R.s.r<=R.e.r&&R.s.c<=R.e.c&&(h["!ref"]=Nr(R),e.sheetRows&&e.sheetRows<=R.e.r&&(h["!fullref"]=h["!ref"],R.e.r=e.sheetRows-1,h["!ref"]=Nr(R))),O.length&&(h["!merges"]=O),S.length>0&&(h["!cols"]=S),j.length>0&&(h["!rows"]=j),u[d]=h}else R={s:{r:2e6,c:2e6},e:{r:0,c:0}},k=y=0,c.push([l[3],!1]),o=Ia(l[0]),d=Rr(o.Name),h=e.dense?[]:{},O=[],T=[],j=[],ee={name:d,Hidden:0},K.Sheets.push(ee);break;case"table":if(l[1]==="/"){if((o=c.pop())[0]!==l[3])throw new Error("Bad state: "+o.join("|"))}else{if(l[0].slice(-2)=="/>")break;c.push([l[3],!1]),S=[],A=!1}break;case"style":l[1]==="/"?QU(z,q,e):q=Ia(l[0]);break;case"numberformat":q.nf=Rr(Ia(l[0]).Format||"General"),If[q.nf]&&(q.nf=If[q.nf]);for(var U=0;U!=392&&fr[U]!=q.nf;++U);if(U==392){for(U=57;U!=392;++U)if(fr[U]==null){Il(q.nf,U);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(E=Ia(l[0]),E.Hidden&&(E.hidden=!0,delete E.Hidden),E.Width&&(E.wpx=parseInt(E.Width,10)),!A&&E.wpx>10){A=!0,ws=V8;for(var Q=0;Q<S.length;++Q)S[Q]&&au(S[Q])}A&&au(E),S[E.Index-1||S.length]=E;for(var ie=0;ie<+E.Span;++ie)S[S.length]=Jn(E);break;case"namedrange":if(l[1]==="/")break;K.Names||(K.Names=[]);var re=Zt(l[0]),oe={Name:re.Name,Ref:Xc(re.RefersTo.slice(1),{r:0,c:0})};K.Sheets.length>0&&(oe.Sheet=K.Sheets.length-1),K.Names.push(oe);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?B+=n.slice(I,l.index):I=l.index+l[0].length;break;case"interior":if(!e.cellStyles)break;q.Interior=Ia(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?FI(F,G,n.slice(V,l.index)):V=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((o=c.pop())[0]!==l[3])throw new Error("Bad state: "+o.join("|"))}else c.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((o=c.pop())[0]!==l[3])throw new Error("Bad state: "+o.join("|"));JU(C),P.push(C)}else c.push([l[3],!1]),o=Ia(l[0]),C={a:o.Author};break;case"autofilter":if(l[1]==="/"){if((o=c.pop())[0]!==l[3])throw new Error("Bad state: "+o.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var he=Ia(l[0]);h["!autofilter"]={ref:Xc(he.Range).replace(/\$/g,"")},c.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((o=c.pop())[0]!==l[3])throw new Error("Bad state: "+o.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((o=c.pop())[0]!==l[3])throw new Error("Bad state: "+o.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&c.push([l[3],!0]);break;case"null":break;default:if(c.length==0&&l[3]=="document"||c.length==0&&l[3]=="uof")return O4(n,e);var ve=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:ve=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:ve=!1}break;case"excelworkbook":switch(l[3]){case"date1904":K.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:ve=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:ve=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(n.slice(V,l.index)){case"SheetHidden":ee.Hidden=1;break;case"SheetVeryHidden":ee.Hidden=2;break}else V=l.index+l[0].length;break;case"header":h["!margins"]||Df(h["!margins"]={},"xlml"),isNaN(+Zt(l[0]).Margin)||(h["!margins"].header=+Zt(l[0]).Margin);break;case"footer":h["!margins"]||Df(h["!margins"]={},"xlml"),isNaN(+Zt(l[0]).Margin)||(h["!margins"].footer=+Zt(l[0]).Margin);break;case"pagemargins":var me=Zt(l[0]);h["!margins"]||Df(h["!margins"]={},"xlml"),isNaN(+me.Top)||(h["!margins"].top=+me.Top),isNaN(+me.Left)||(h["!margins"].left=+me.Left),isNaN(+me.Right)||(h["!margins"].right=+me.Right),isNaN(+me.Bottom)||(h["!margins"].bottom=+me.Bottom);break;case"displayrighttoleft":K.Views||(K.Views=[]),K.Views[0]||(K.Views[0]={}),K.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:ve=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:ve=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:ve=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:ve=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:ve=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:ve=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:ve=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:ve=!1}break;case"smarttags":break;default:ve=!1;break}if(ve||l[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?YU(W,G,N,n.slice(V,l.index)):(N=l,V=l.index+l[0].length);break}if(e.WTF)throw"Unrecognized tag: "+l[3]+"|"+c.join("|")}var ne={};return!e.bookSheets&&!e.bookProps&&(ne.Sheets=u),ne.SheetNames=p,ne.Workbook=K,ne.SSF=Jn(fr),ne.Props=F,ne.Custprops=W,ne}function R1(r,t){switch(dx(t=t||{}),t.type||"base64"){case"base64":return qg(na(r),t);case"binary":case"buffer":case"file":return qg(r,t);case"array":return qg(Yl(r),t)}}function eV(r){var t={},e=r.content;if(e.l=28,t.AnsiUserType=e.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=pI(e),e.length-e.l<=4)return t;var n=e.read_shift(4);if(n==0||n>40||(e.l-=4,t.Reserved1=e.read_shift(0,"lpstr-ansi"),e.length-e.l<=4)||(n=e.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=mI(e),n=e.read_shift(4),n==0||n>40))return t;e.l-=4,t.Reserved2=e.read_shift(0,"lpwstr")}var tV=[60,1084,2066,2165,2175];function rV(r,t,e,n,s){var i=n,a=[],l=e.slice(e.l,e.l+i);if(s&&s.enc&&s.enc.insitu&&l.length>0)switch(r){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:s.enc.insitu(l)}a.push(l),e.l+=i;for(var c=Pi(e,e.l),o=M1[c],u=0;o!=null&&tV.indexOf(c)>-1;)i=Pi(e,e.l+2),u=e.l+4,c==2066?u+=4:(c==2165||c==2175)&&(u+=12),l=e.slice(u,e.l+4+i),a.push(l),e.l+=4+i,o=M1[c=Pi(e,e.l)];var p=Ro(a);Kn(p,0);var h=0;p.lens=[];for(var d=0;d<a.length;++d)p.lens.push(h),h+=a[d].length;if(p.length<n)throw"XLS Record 0x"+r.toString(16)+" Truncated: "+p.length+" < "+n;return t.f(p,p.length,s)}function ti(r,t,e){if(r.t!=="z"&&r.XF){var n=0;try{n=r.z||r.XF.numFmtId||0,t.cellNF&&(r.z=fr[n])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{r.t==="e"?r.w=r.w||Zl[r.v]:n===0||n=="General"?r.t==="n"?(r.v|0)===r.v?r.w=r.v.toString(10):r.w=Yf(r.v):r.w=Hl(r.v):r.w=wa(n,r.v,{date1904:!!e,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&n&&r.t=="n"&&mu(fr[n]||String(n))){var s=Cl(r.v);s&&(r.t="d",r.v=new Date(s.y,s.m-1,s.d,s.H,s.M,s.S,s.u))}}}function Zd(r,t,e){return{v:r,ixfe:t,t:e}}function nV(r,t){var e={opts:{}},n={},s=t.dense?[]:{},i={},a={},l=null,c=[],o="",u={},p,h="",d,b,x,g,v={},y=[],k,R,z=[],q=[],B={Sheets:[],WBProps:{date1904:!1},Views:[{}]},I={},O=function(pt){return pt<8?Ol[pt]:pt<64&&q[pt-8]||Ol[pt]},F=function(pt,Ie,$e){var Ce=Ie.XF.data;if(!(!Ce||!Ce.patternType||!$e||!$e.cellStyles)){Ie.s={},Ie.s.patternType=Ce.patternType;var De;(De=Jf(O(Ce.icvFore)))&&(Ie.s.fgColor={rgb:De}),(De=Jf(O(Ce.icvBack)))&&(Ie.s.bgColor={rgb:De})}},W=function(pt,Ie,$e){if(!(L>1)&&!($e.sheetRows&&pt.r>=$e.sheetRows)){if($e.cellStyles&&Ie.XF&&Ie.XF.data&&F(pt,Ie,$e),delete Ie.ixfe,delete Ie.XF,p=pt,h=ar(pt),(!a||!a.s||!a.e)&&(a={s:{r:0,c:0},e:{r:0,c:0}}),pt.r<a.s.r&&(a.s.r=pt.r),pt.c<a.s.c&&(a.s.c=pt.c),pt.r+1>a.e.r&&(a.e.r=pt.r+1),pt.c+1>a.e.c&&(a.e.c=pt.c+1),$e.cellFormula&&Ie.f){for(var Ce=0;Ce<y.length;++Ce)if(!(y[Ce][0].s.c>pt.c||y[Ce][0].s.r>pt.r)&&!(y[Ce][0].e.c<pt.c||y[Ce][0].e.r<pt.r)){Ie.F=Nr(y[Ce][0]),(y[Ce][0].s.c!=pt.c||y[Ce][0].s.r!=pt.r)&&delete Ie.f,Ie.f&&(Ie.f=""+os(y[Ce][1],a,pt,T,V));break}}$e.dense?(s[pt.r]||(s[pt.r]=[]),s[pt.r][pt.c]=Ie):s[h]=Ie}},V={enc:!1,sbcch:0,snames:[],sharedf:v,arrayf:y,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(V.password=t.password);var N,P=[],C=[],S=[],E=[],A=!1,T=[];T.SheetNames=V.snames,T.sharedf=V.sharedf,T.arrayf=V.arrayf,T.names=[],T.XTI=[];var j=0,L=0,D=0,Z=[],K=[],ee;V.codepage=1200,La(1200);for(var G=!1;r.l<r.length-1;){var te=r.l,H=r.read_shift(2);if(H===0&&j===10)break;var U=r.l===r.length?0:r.read_shift(2),Q=M1[H];if(Q&&Q.f){if(t.bookSheets&&j===133&&H!==133)break;if(j=H,Q.r===2||Q.r==12){var ie=r.read_shift(2);if(U-=2,!V.enc&&ie!==H&&((ie&255)<<8|ie>>8)!==H)throw new Error("rt mismatch: "+ie+"!="+H);Q.r==12&&(r.l+=10,U-=10)}var re={};if(H===10?re=Q.f(r,U,V):re=rV(H,Q,r,U,V),L==0&&[9,521,1033,2057].indexOf(j)===-1)continue;switch(H){case 34:e.opts.Date1904=B.WBProps.date1904=re;break;case 134:e.opts.WriteProtect=!0;break;case 47:if(V.enc||(r.l=0),V.enc=re,!t.password)throw new Error("File is password-protected");if(re.valid==null)throw new Error("Encryption scheme unsupported");if(!re.valid)throw new Error("Password is incorrect");break;case 92:V.lastuser=re;break;case 66:var oe=Number(re);switch(oe){case 21010:oe=1200;break;case 32768:oe=1e4;break;case 32769:oe=1252;break}La(V.codepage=oe),G=!0;break;case 317:V.rrtabid=re;break;case 25:V.winlocked=re;break;case 439:e.opts.RefreshAll=re;break;case 12:e.opts.CalcCount=re;break;case 16:e.opts.CalcDelta=re;break;case 17:e.opts.CalcIter=re;break;case 13:e.opts.CalcMode=re;break;case 14:e.opts.CalcPrecision=re;break;case 95:e.opts.CalcSaveRecalc=re;break;case 15:V.CalcRefMode=re;break;case 2211:e.opts.FullCalc=re;break;case 129:re.fDialog&&(s["!type"]="dialog"),re.fBelow||((s["!outline"]||(s["!outline"]={})).above=!0),re.fRight||((s["!outline"]||(s["!outline"]={})).left=!0);break;case 224:z.push(re);break;case 430:T.push([re]),T[T.length-1].XTI=[];break;case 35:case 547:T[T.length-1].push(re);break;case 24:case 536:ee={Name:re.Name,Ref:os(re.rgce,a,null,T,V)},re.itab>0&&(ee.Sheet=re.itab-1),T.names.push(ee),T[0]||(T[0]=[],T[0].XTI=[]),T[T.length-1].push(re),re.Name=="_xlnm._FilterDatabase"&&re.itab>0&&re.rgce&&re.rgce[0]&&re.rgce[0][0]&&re.rgce[0][0][0]=="PtgArea3d"&&(K[re.itab-1]={ref:Nr(re.rgce[0][0][1][2])});break;case 22:V.ExternCount=re;break;case 23:T.length==0&&(T[0]=[],T[0].XTI=[]),T[T.length-1].XTI=T[T.length-1].XTI.concat(re),T.XTI=T.XTI.concat(re);break;case 2196:if(V.biff<8)break;ee!=null&&(ee.Comment=re[1]);break;case 18:s["!protect"]=re;break;case 19:re!==0&&V.WTF&&console.error("Password verifier: "+re);break;case 133:i[re.pos]=re,V.snames.push(re.name);break;case 10:{if(--L)break;if(a.e){if(a.e.r>0&&a.e.c>0){if(a.e.r--,a.e.c--,s["!ref"]=Nr(a),t.sheetRows&&t.sheetRows<=a.e.r){var he=a.e.r;a.e.r=t.sheetRows-1,s["!fullref"]=s["!ref"],s["!ref"]=Nr(a),a.e.r=he}a.e.r++,a.e.c++}P.length>0&&(s["!merges"]=P),C.length>0&&(s["!objects"]=C),S.length>0&&(s["!cols"]=S),E.length>0&&(s["!rows"]=E),B.Sheets.push(I)}o===""?u=s:n[o]=s,s=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(V.biff===8&&(V.biff={9:2,521:3,1033:4}[H]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[re.BIFFVer]||8),V.biffguess=re.BIFFVer==0,re.BIFFVer==0&&re.dt==4096&&(V.biff=5,G=!0,La(V.codepage=28591)),V.biff==8&&re.BIFFVer==0&&re.dt==16&&(V.biff=2),L++)break;if(s=t.dense?[]:{},V.biff<8&&!G&&(G=!0,La(V.codepage=t.codepage||1252)),V.biff<5||re.BIFFVer==0&&re.dt==4096){o===""&&(o="Sheet1"),a={s:{r:0,c:0},e:{r:0,c:0}};var ve={pos:r.l-U,name:o};i[ve.pos]=ve,V.snames.push(o)}else o=(i[te]||{name:""}).name;re.dt==32&&(s["!type"]="chart"),re.dt==64&&(s["!type"]="macro"),P=[],C=[],V.arrayf=y=[],S=[],E=[],A=!1,I={Hidden:(i[te]||{hs:0}).hs,name:o}}break;case 515:case 3:case 2:s["!type"]=="chart"&&(t.dense?(s[re.r]||[])[re.c]:s[ar({c:re.c,r:re.r})])&&++re.c,k={ixfe:re.ixfe,XF:z[re.ixfe]||{},v:re.val,t:"n"},D>0&&(k.z=Z[k.ixfe>>8&63]),ti(k,t,e.opts.Date1904),W({c:re.c,r:re.r},k,t);break;case 5:case 517:k={ixfe:re.ixfe,XF:z[re.ixfe],v:re.val,t:re.t},D>0&&(k.z=Z[k.ixfe>>8&63]),ti(k,t,e.opts.Date1904),W({c:re.c,r:re.r},k,t);break;case 638:k={ixfe:re.ixfe,XF:z[re.ixfe],v:re.rknum,t:"n"},D>0&&(k.z=Z[k.ixfe>>8&63]),ti(k,t,e.opts.Date1904),W({c:re.c,r:re.r},k,t);break;case 189:for(var me=re.c;me<=re.C;++me){var ne=re.rkrec[me-re.c][0];k={ixfe:ne,XF:z[ne],v:re.rkrec[me-re.c][1],t:"n"},D>0&&(k.z=Z[k.ixfe>>8&63]),ti(k,t,e.opts.Date1904),W({c:me,r:re.r},k,t)}break;case 6:case 518:case 1030:{if(re.val=="String"){l=re;break}if(k=Zd(re.val,re.cell.ixfe,re.tt),k.XF=z[k.ixfe],t.cellFormula){var de=re.formula;if(de&&de[0]&&de[0][0]&&de[0][0][0]=="PtgExp"){var xe=de[0][0][1][0],Te=de[0][0][1][1],Re=ar({r:xe,c:Te});v[Re]?k.f=""+os(re.formula,a,re.cell,T,V):k.F=((t.dense?(s[xe]||[])[Te]:s[Re])||{}).F}else k.f=""+os(re.formula,a,re.cell,T,V)}D>0&&(k.z=Z[k.ixfe>>8&63]),ti(k,t,e.opts.Date1904),W(re.cell,k,t),l=re}break;case 7:case 519:if(l)l.val=re,k=Zd(re,l.cell.ixfe,"s"),k.XF=z[k.ixfe],t.cellFormula&&(k.f=""+os(l.formula,a,l.cell,T,V)),D>0&&(k.z=Z[k.ixfe>>8&63]),ti(k,t,e.opts.Date1904),W(l.cell,k,t),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{y.push(re);var Pe=ar(re[0].s);if(d=t.dense?(s[re[0].s.r]||[])[re[0].s.c]:s[Pe],t.cellFormula&&d){if(!l||!Pe||!d)break;d.f=""+os(re[1],a,re[0],T,V),d.F=Nr(re[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!l)break;v[ar(l.cell)]=re[0],d=t.dense?(s[l.cell.r]||[])[l.cell.c]:s[ar(l.cell)],(d||{}).f=""+os(re[0],a,p,T,V)}}break;case 253:k=Zd(c[re.isst].t,re.ixfe,"s"),c[re.isst].h&&(k.h=c[re.isst].h),k.XF=z[k.ixfe],D>0&&(k.z=Z[k.ixfe>>8&63]),ti(k,t,e.opts.Date1904),W({c:re.c,r:re.r},k,t);break;case 513:t.sheetStubs&&(k={ixfe:re.ixfe,XF:z[re.ixfe],t:"z"},D>0&&(k.z=Z[k.ixfe>>8&63]),ti(k,t,e.opts.Date1904),W({c:re.c,r:re.r},k,t));break;case 190:if(t.sheetStubs)for(var Xe=re.c;Xe<=re.C;++Xe){var Ue=re.ixfe[Xe-re.c];k={ixfe:Ue,XF:z[Ue],t:"z"},D>0&&(k.z=Z[k.ixfe>>8&63]),ti(k,t,e.opts.Date1904),W({c:Xe,r:re.r},k,t)}break;case 214:case 516:case 4:k=Zd(re.val,re.ixfe,"s"),k.XF=z[k.ixfe],D>0&&(k.z=Z[k.ixfe>>8&63]),ti(k,t,e.opts.Date1904),W({c:re.c,r:re.r},k,t);break;case 0:case 512:L===1&&(a=re);break;case 252:c=re;break;case 1054:if(V.biff==4){Z[D++]=re[1];for(var tt=0;tt<D+163&&fr[tt]!=re[1];++tt);tt>=163&&Il(re[1],D+163)}else Il(re[1],re[0]);break;case 30:{Z[D++]=re;for(var at=0;at<D+163&&fr[at]!=re;++at);at>=163&&Il(re,D+163)}break;case 229:P=P.concat(re);break;case 93:C[re.cmo[0]]=V.lastobj=re;break;case 438:V.lastobj.TxO=re;break;case 127:V.lastobj.ImData=re;break;case 440:for(g=re[0].s.r;g<=re[0].e.r;++g)for(x=re[0].s.c;x<=re[0].e.c;++x)d=t.dense?(s[g]||[])[x]:s[ar({c:x,r:g})],d&&(d.l=re[1]);break;case 2048:for(g=re[0].s.r;g<=re[0].e.r;++g)for(x=re[0].s.c;x<=re[0].e.c;++x)d=t.dense?(s[g]||[])[x]:s[ar({c:x,r:g})],d&&d.l&&(d.l.Tooltip=re[1]);break;case 28:{if(V.biff<=5&&V.biff>=2)break;d=t.dense?(s[re[0].r]||[])[re[0].c]:s[ar(re[0])];var Je=C[re[2]];d||(t.dense?(s[re[0].r]||(s[re[0].r]=[]),d=s[re[0].r][re[0].c]={t:"z"}):d=s[ar(re[0])]={t:"z"},a.e.r=Math.max(a.e.r,re[0].r),a.s.r=Math.min(a.s.r,re[0].r),a.e.c=Math.max(a.e.c,re[0].c),a.s.c=Math.min(a.s.c,re[0].c)),d.c||(d.c=[]),b={a:re[1],t:Je.TxO.t},d.c.push(b)}break;case 2173:TP(z[re.ixfe],re.ext);break;case 125:{if(!V.cellStyles)break;for(;re.e>=re.s;)S[re.e--]={width:re.w/256,level:re.level||0,hidden:!!(re.flags&1)},A||(A=!0,lx(re.w/256)),au(S[re.e+1])}break;case 520:{var Ze={};re.level!=null&&(E[re.r]=Ze,Ze.level=re.level),re.hidden&&(E[re.r]=Ze,Ze.hidden=!0),re.hpt&&(E[re.r]=Ze,Ze.hpt=re.hpt,Ze.hpx=eh(re.hpt))}break;case 38:case 39:case 40:case 41:s["!margins"]||Df(s["!margins"]={}),s["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[H]]=re;break;case 161:s["!margins"]||Df(s["!margins"]={}),s["!margins"].header=re.header,s["!margins"].footer=re.footer;break;case 574:re.RTL&&(B.Views[0].RTL=!0);break;case 146:q=re;break;case 2198:N=re;break;case 140:R=re;break;case 442:o?I.CodeName=re||I.name:B.WBProps.CodeName=re||"ThisWorkbook";break}}else Q||console.error("Missing Info for XLS Record 0x"+H.toString(16)),r.l+=U}return e.SheetNames=hi(i).sort(function(vt,pt){return Number(vt)-Number(pt)}).map(function(vt){return i[vt].name}),t.bookSheets||(e.Sheets=n),!e.SheetNames.length&&u["!ref"]?(e.SheetNames.push("Sheet1"),e.Sheets&&(e.Sheets.Sheet1=u)):e.Preamble=u,e.Sheets&&K.forEach(function(vt,pt){e.Sheets[e.SheetNames[pt]]["!autofilter"]=vt}),e.Strings=c,e.SSF=Jn(fr),V.enc&&(e.Encryption=V.enc),N&&(e.Themes=N),e.Metadata={},R!==void 0&&(e.Metadata.Country=R),T.names.length>0&&(B.Names=T.names),e.Workbook=B,e}var R4={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function sV(r,t,e){var n=Cr.find(r,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var s=d4(n,wI,R4.DSI);for(var i in s)t[i]=s[i]}catch(o){if(e.WTF)throw o}var a=Cr.find(r,"/!SummaryInformation");if(a&&a.size>0)try{var l=d4(a,_I,R4.SI);for(var c in l)t[c]==null&&(t[c]=l[c])}catch(o){if(e.WTF)throw o}t.HeadingPairs&&t.TitlesOfParts&&(k8(t.HeadingPairs,t.TitlesOfParts,t,e),delete t.HeadingPairs,delete t.TitlesOfParts)}function oS(r,t){t||(t={}),dx(t),F6(),t.codepage&&qb(t.codepage);var e,n;if(r.FullPaths){if(Cr.find(r,"/encryption"))throw new Error("File is password-protected");e=Cr.find(r,"!CompObj"),n=Cr.find(r,"/Workbook")||Cr.find(r,"/Book")}else{switch(t.type){case"base64":r=Fa(na(r));break;case"binary":r=Fa(r);break;case"buffer":break;case"array":Array.isArray(r)||(r=Array.prototype.slice.call(r));break}Kn(r,0),n={content:r}}var s,i;if(e&&eV(e),t.bookProps&&!t.bookSheets)s={};else{var a=Er?"buffer":"array";if(n&&n.content)s=nV(n.content,t);else if((i=Cr.find(r,"PerfectOffice_MAIN"))&&i.content)s=Mf.to_workbook(i.content,(t.type=a,t));else if((i=Cr.find(r,"NativeContent_MAIN"))&&i.content)s=Mf.to_workbook(i.content,(t.type=a,t));else throw(i=Cr.find(r,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&r.FullPaths&&Cr.find(r,"/_VBA_PROJECT_CUR/VBA/dir")&&(s.vbaraw=HP(r))}var l={};return r.FullPaths&&sV(r,l,t),s.Props=s.Custprops=l,t.bookFiles&&(s.cfb=r),s}var W0={0:{f:BB},1:{f:HB},2:{f:ZB},3:{f:WB},4:{f:qB},5:{f:QB},6:{f:tU},7:{f:YB},8:{f:iU},9:{f:aU},10:{f:nU},11:{f:sU},12:{f:$B},13:{f:JB},14:{f:XB},15:{f:GB},16:{f:rS},17:{f:rU},18:{f:KB},19:{f:rx},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:DU},40:{},42:{},43:{f:nP},44:{f:rP},45:{f:sP},46:{f:iP},47:{f:aP},48:{},49:{f:oI},50:{},51:{f:AP},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:F8},62:{f:eU},63:{f:jP},64:{f:mU},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ds,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:pU},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:zB},148:{f:UB,p:16},151:{f:cU},152:{},153:{f:MU},154:{},155:{},156:{f:RU},157:{},158:{},159:{T:1,f:_F},160:{T:-1},161:{T:1,f:Ql},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:oU},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:EP},336:{T:-1},337:{f:CP,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:E1},357:{},358:{},359:{},360:{T:1},361:{},362:{f:O8},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:uU},427:{f:fU},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:dU},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:VB},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:lU},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:E1},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:UP},633:{T:1},634:{T:-1},635:{T:1,f:BP},636:{T:-1},637:{f:cI},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:wU},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:gU},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},M1={6:{f:Hg},10:{f:Eo},12:{f:Cn},13:{f:Cn},14:{f:yn},15:{f:yn},16:{f:cs},17:{f:yn},18:{f:yn},19:{f:Cn},20:{f:b4},21:{f:b4},23:{f:O8},24:{f:y4},25:{f:yn},26:{},27:{},28:{f:PO},29:{},34:{f:yn},35:{f:x4},38:{f:cs},39:{f:cs},40:{f:cs},41:{f:cs},42:{f:yn},43:{f:yn},47:{f:VF},49:{f:xO},51:{f:Cn},60:{},61:{f:mO},64:{f:yn},65:{f:bO},66:{f:Cn},77:{},80:{},81:{},82:{},85:{f:Cn},89:{},90:{},91:{},92:{f:oO},93:{f:BO},94:{},95:{f:yn},96:{},97:{},99:{f:yn},125:{f:F8},128:{f:CO},129:{f:lO},130:{f:Cn},131:{f:yn},132:{f:yn},133:{f:cO},134:{},140:{f:qO},141:{f:Cn},144:{},146:{f:WO},151:{},152:{},153:{},154:{},155:{},156:{f:Cn},157:{},158:{},160:{f:ZO},161:{f:YO},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:kO},190:{f:TO},193:{f:Eo},197:{},198:{},199:{},200:{},201:{},202:{f:yn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Cn},220:{},221:{f:yn},222:{},224:{f:AO},225:{f:iO},226:{f:Eo},227:{},229:{f:LO},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:uO},253:{f:yO},255:{f:fO},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:N8},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:yn},353:{f:Eo},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:RO},431:{f:yn},432:{},433:{},434:{},437:{},438:{f:zO},439:{f:yn},440:{f:HO},441:{},442:{f:xh},443:{},444:{f:Cn},445:{},446:{},448:{f:Eo},449:{f:pO,r:2},450:{f:Eo},512:{f:m4},513:{f:QO},515:{f:NO},516:{f:vO},517:{f:g4},519:{f:JO},520:{f:hO},523:{},545:{f:v4},549:{f:p4},566:{},574:{f:gO},638:{f:SO},659:{},1048:{},1054:{f:wO},1084:{},1212:{f:IO},2048:{f:$O},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Yd},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Eo},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:XO,r:12},2173:{f:kP,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:yn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:DO,r:12},2197:{},2198:{f:xP,r:12},2199:{},2200:{},2201:{},2202:{f:OO,r:12},2203:{f:Eo},2204:{},2205:{},2206:{},2207:{},2211:{f:dO},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Cn},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:KO},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:GO},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:m4},1:{},2:{f:nF},3:{f:rF},4:{f:tF},5:{f:g4},7:{f:sF},8:{},9:{f:Yd},11:{},22:{f:Cn},30:{f:_O},31:{},32:{},33:{f:v4},36:{},37:{f:p4},50:{f:aF},62:{},52:{},67:{},68:{f:Cn},69:{},86:{},126:{},127:{f:eF},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:iF},223:{},234:{},354:{},421:{},518:{f:Hg},521:{f:Yd},536:{f:y4},547:{f:x4},561:{},579:{},1030:{f:Hg},1033:{f:Yd},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Oa(r,t,e,n){var s=t;if(!isNaN(s)){var i=(e||[]).length||0,a=r.next(4);a.write_shift(2,s),a.write_shift(2,i),i>0&&g8(e)&&r.push(e)}}function M4(r,t){var e=t||{},n=e.dense?[]:{};r=r.replace(/<!--.*?-->/g,"");var s=r.match(/<table/i);if(!s)throw new Error("Invalid HTML: could not find <table>");var i=r.match(/<\/table/i),a=s.index,l=i&&i.index||r.length,c=ND(r.slice(a,l),/(:?<tr[^>]*>)/i,"<tr>"),o=-1,u=0,p=0,h=0,d={s:{r:1e7,c:1e7},e:{r:0,c:0}},b=[];for(a=0;a<c.length;++a){var x=c[a].trim(),g=x.slice(0,3).toLowerCase();if(g=="<tr"){if(++o,e.sheetRows&&e.sheetRows<=o){--o;break}u=0;continue}if(!(g!="<td"&&g!="<th")){var v=x.split(/<\/t[dh]>/i);for(l=0;l<v.length;++l){var y=v[l].trim();if(y.match(/<t[dh]/i)){for(var k=y,R=0;k.charAt(0)=="<"&&(R=k.indexOf(">"))>-1;)k=k.slice(R+1);for(var z=0;z<b.length;++z){var q=b[z];q.s.c==u&&q.s.r<o&&o<=q.e.r&&(u=q.e.c+1,z=-1)}var B=Zt(y.slice(0,y.indexOf(">")));h=B.colspan?+B.colspan:1,((p=+B.rowspan)>1||h>1)&&b.push({s:{r:o,c:u},e:{r:o+(p||1)-1,c:u+h-1}});var I=B.t||B["data-t"]||"";if(!k.length){u+=h;continue}if(k=n8(k),d.s.r>o&&(d.s.r=o),d.e.r<o&&(d.e.r=o),d.s.c>u&&(d.s.c=u),d.e.c<u&&(d.e.c=u),!k.length){u+=h;continue}var O={t:"s",v:k};e.raw||!k.trim().length||I=="s"||(k==="TRUE"?O={t:"b",v:!0}:k==="FALSE"?O={t:"b",v:!1}:isNaN(Va(k))?isNaN(su(k).getDate())||(O={t:"d",v:Vn(k)},e.cellDates||(O={t:"n",v:Es(O.v)}),O.z=e.dateNF||fr[14]):O={t:"n",v:Va(k)}),e.dense?(n[o]||(n[o]=[]),n[o][u]=O):n[ar({r:o,c:u})]=O,u+=h}}}}return n["!ref"]=Nr(d),b.length&&(n["!merges"]=b),n}function aV(r,t,e,n){for(var s=r["!merges"]||[],i=[],a=t.s.c;a<=t.e.c;++a){for(var l=0,c=0,o=0;o<s.length;++o)if(!(s[o].s.r>e||s[o].s.c>a)&&!(s[o].e.r<e||s[o].e.c<a)){if(s[o].s.r<e||s[o].s.c<a){l=-1;break}l=s[o].e.r-s[o].s.r+1,c=s[o].e.c-s[o].s.c+1;break}if(!(l<0)){var u=ar({r:e,c:a}),p=n.dense?(r[e]||[])[a]:r[u],h=p&&p.v!=null&&(p.h||Qb(p.w||(Wi(p),p.w)||""))||"",d={};l>1&&(d.rowspan=l),c>1&&(d.colspan=c),n.editable?h='<span contenteditable="true">'+h+"</span>":p&&(d["data-t"]=p&&p.t||"z",p.v!=null&&(d["data-v"]=p.v),p.z!=null&&(d["data-z"]=p.z),p.l&&(p.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+p.l.Target+'">'+h+"</a>")),d.id=(n.id||"sjs")+"-"+u,i.push(qD("td",h,d))}}var b="<tr>";return b+i.join("")+"</tr>"}var iV='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',oV="</body></html>";function lV(r,t){var e=r.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!e||e.length==0)throw new Error("Invalid HTML: could not find <table>");if(e.length==1)return el(M4(e[0],t),t);var n=mx();return e.forEach(function(s,i){gx(n,M4(s,t),"Sheet"+(i+1))}),n}function cV(r,t,e){var n=[];return n.join("")+"<table"+(e&&e.id?' id="'+e.id+'"':"")+">"}function uV(r,t){var e=t||{},n=e.header!=null?e.header:iV,s=e.footer!=null?e.footer:oV,i=[n],a=gu(r["!ref"]);e.dense=Array.isArray(r),i.push(cV(r,a,e));for(var l=a.s.r;l<=a.e.r;++l)i.push(aV(r,a,l,e));return i.push("</table>"+s),i.join("")}function lS(r,t,e){var n=e||{},s=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var a=typeof n.origin=="string"?ks(n.origin):n.origin;s=a.r,i=a.c}var l=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),o={s:{r:0,c:0},e:{r:s,c:i}};if(r["!ref"]){var u=gu(r["!ref"]);o.s.r=Math.min(o.s.r,u.s.r),o.s.c=Math.min(o.s.c,u.s.c),o.e.r=Math.max(o.e.r,u.e.r),o.e.c=Math.max(o.e.c,u.e.c),s==-1&&(o.e.r=s=u.e.r+1)}var p=[],h=0,d=r["!rows"]||(r["!rows"]=[]),b=0,x=0,g=0,v=0,y=0,k=0;for(r["!cols"]||(r["!cols"]=[]);b<l.length&&x<c;++b){var R=l[b];if(j4(R)){if(n.display)continue;d[x]={hidden:!0}}var z=R.children;for(g=v=0;g<z.length;++g){var q=z[g];if(!(n.display&&j4(q))){var B=q.hasAttribute("data-v")?q.getAttribute("data-v"):q.hasAttribute("v")?q.getAttribute("v"):n8(q.innerHTML),I=q.getAttribute("data-z")||q.getAttribute("z");for(h=0;h<p.length;++h){var O=p[h];O.s.c==v+i&&O.s.r<x+s&&x+s<=O.e.r&&(v=O.e.c+1-i,h=-1)}k=+q.getAttribute("colspan")||1,((y=+q.getAttribute("rowspan")||1)>1||k>1)&&p.push({s:{r:x+s,c:v+i},e:{r:x+s+(y||1)-1,c:v+i+(k||1)-1}});var F={t:"s",v:B},W=q.getAttribute("data-t")||q.getAttribute("t")||"";B!=null&&(B.length==0?F.t=W||"z":n.raw||B.trim().length==0||W=="s"||(B==="TRUE"?F={t:"b",v:!0}:B==="FALSE"?F={t:"b",v:!1}:isNaN(Va(B))?isNaN(su(B).getDate())||(F={t:"d",v:Vn(B)},n.cellDates||(F={t:"n",v:Es(F.v)}),F.z=n.dateNF||fr[14]):F={t:"n",v:Va(B)})),F.z===void 0&&I!=null&&(F.z=I);var V="",N=q.getElementsByTagName("A");if(N&&N.length)for(var P=0;P<N.length&&!(N[P].hasAttribute("href")&&(V=N[P].getAttribute("href"),V.charAt(0)!="#"));++P);V&&V.charAt(0)!="#"&&(F.l={Target:V}),n.dense?(r[x+s]||(r[x+s]=[]),r[x+s][v+i]=F):r[ar({c:v+i,r:x+s})]=F,o.e.c<v+i&&(o.e.c=v+i),v+=k}}++x}return p.length&&(r["!merges"]=(r["!merges"]||[]).concat(p)),o.e.r=Math.max(o.e.r,x-1+s),r["!ref"]=Nr(o),x>=c&&(r["!fullref"]=Nr((o.e.r=l.length-b+x-1+s,o))),r}function cS(r,t){var e=t||{},n=e.dense?[]:{};return lS(n,r,t)}function fV(r,t){return el(cS(r,t),t)}function j4(r){var t="",e=hV(r);return e&&(t=e(r).getPropertyValue("display")),t||(t=r.style&&r.style.display),t==="none"}function hV(r){return r.ownerDocument.defaultView&&typeof r.ownerDocument.defaultView.getComputedStyle=="function"?r.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function dV(r){var t=r.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,s){return Array(parseInt(s,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),e=Rr(t.replace(/<[^>]*>/g,""));return[e]}var D4={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function uS(r,t){var e=t||{},n=Zb(r),s=[],i,a,l={name:""},c="",o=0,u,p,h={},d=[],b=e.dense?[]:{},x,g,v={value:""},y="",k=0,R=[],z=-1,q=-1,B={s:{r:1e6,c:1e7},e:{r:0,c:0}},I=0,O={},F=[],W={},V=0,N=0,P=[],C=1,S=1,E=[],A={Names:[]},T={},j=["",""],L=[],D={},Z="",K=0,ee=!1,G=!1,te=0;for(Qf.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");x=Qf.exec(n);)switch(x[3]=x[3].replace(/_.*$/,"")){case"table":case"":x[1]==="/"?(B.e.c>=B.s.c&&B.e.r>=B.s.r?b["!ref"]=Nr(B):b["!ref"]="A1:A1",e.sheetRows>0&&e.sheetRows<=B.e.r&&(b["!fullref"]=b["!ref"],B.e.r=e.sheetRows-1,b["!ref"]=Nr(B)),F.length&&(b["!merges"]=F),P.length&&(b["!rows"]=P),u.name=u.||u.name,typeof JSON<"u"&&JSON.stringify(u),d.push(u.name),h[u.name]=b,G=!1):x[0].charAt(x[0].length-2)!=="/"&&(u=Zt(x[0],!1),z=q=-1,B.s.r=B.s.c=1e7,B.e.r=B.e.c=0,b=e.dense?[]:{},F=[],P=[],G=!0);break;case"table-row-group":x[1]==="/"?--I:++I;break;case"table-row":case"":if(x[1]==="/"){z+=C,C=1;break}if(p=Zt(x[0],!1),p.?z=p.-1:z==-1&&(z=0),C=+p["number-rows-repeated"]||1,C<10)for(te=0;te<C;++te)I>0&&(P[z+te]={level:I});q=-1;break;case"covered-table-cell":x[1]!=="/"&&++q,e.sheetStubs&&(e.dense?(b[z]||(b[z]=[]),b[z][q]={t:"z"}):b[ar({r:z,c:q})]={t:"z"}),y="",R=[];break;case"table-cell":case"":if(x[0].charAt(x[0].length-2)==="/")++q,v=Zt(x[0],!1),S=parseInt(v["number-columns-repeated"]||"1",10),g={t:"z",v:null},v.formula&&e.cellFormula!=!1&&(g.f=A4(Rr(v.formula))),(v.||v["value-type"])=="string"&&(g.t="s",g.v=Rr(v["string-value"]||""),e.dense?(b[z]||(b[z]=[]),b[z][q]=g):b[ar({r:z,c:q})]=g),q+=S-1;else if(x[1]!=="/"){++q,y="",k=0,R=[],S=1;var H=C?z+C-1:z;if(q>B.e.c&&(B.e.c=q),q<B.s.c&&(B.s.c=q),z<B.s.r&&(B.s.r=z),H>B.e.r&&(B.e.r=H),v=Zt(x[0],!1),L=[],D={},g={t:v.||v["value-type"],v:null},e.cellFormula)if(v.formula&&(v.formula=Rr(v.formula)),v["number-matrix-columns-spanned"]&&v["number-matrix-rows-spanned"]&&(V=parseInt(v["number-matrix-rows-spanned"],10)||0,N=parseInt(v["number-matrix-columns-spanned"],10)||0,W={s:{r:z,c:q},e:{r:z+V-1,c:q+N-1}},g.F=Nr(W),E.push([W,g.F])),v.formula)g.f=A4(v.formula);else for(te=0;te<E.length;++te)z>=E[te][0].s.r&&z<=E[te][0].e.r&&q>=E[te][0].s.c&&q<=E[te][0].e.c&&(g.F=E[te][1]);switch((v["number-columns-spanned"]||v["number-rows-spanned"])&&(V=parseInt(v["number-rows-spanned"],10)||0,N=parseInt(v["number-columns-spanned"],10)||0,W={s:{r:z,c:q},e:{r:z+V-1,c:q+N-1}},F.push(W)),v["number-columns-repeated"]&&(S=parseInt(v["number-columns-repeated"],10)),g.t){case"boolean":g.t="b",g.v=rn(v["boolean-value"]);break;case"float":g.t="n",g.v=parseFloat(v.value);break;case"percentage":g.t="n",g.v=parseFloat(v.value);break;case"currency":g.t="n",g.v=parseFloat(v.value);break;case"date":g.t="d",g.v=Vn(v["date-value"]),e.cellDates||(g.t="n",g.v=Es(g.v)),g.z="m/d/yy";break;case"time":g.t="n",g.v=ED(v["time-value"])/86400,e.cellDates&&(g.t="d",g.v=vp(g.v)),g.z="HH:MM:SS";break;case"number":g.t="n",g.v=parseFloat(v.);break;default:if(g.t==="string"||g.t==="text"||!g.t)g.t="s",v["string-value"]!=null&&(y=Rr(v["string-value"]),R=[]);else throw new Error("Unsupported value type "+g.t)}}else{if(ee=!1,g.t==="s"&&(g.v=y||"",R.length&&(g.R=R),ee=k==0),T.Target&&(g.l=T),L.length>0&&(g.c=L,L=[]),y&&e.cellText!==!1&&(g.w=y),ee&&(g.t="z",delete g.v),(!ee||e.sheetStubs)&&!(e.sheetRows&&e.sheetRows<=z))for(var U=0;U<C;++U){if(S=parseInt(v["number-columns-repeated"]||"1",10),e.dense)for(b[z+U]||(b[z+U]=[]),b[z+U][q]=U==0?g:Jn(g);--S>0;)b[z+U][q+S]=Jn(g);else for(b[ar({r:z+U,c:q})]=g;--S>0;)b[ar({r:z+U,c:q+S})]=Jn(g);B.e.c<=q&&(B.e.c=q)}S=parseInt(v["number-columns-repeated"]||"1",10),q+=S-1,S=0,g={},y="",R=[]}T={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(x[1]==="/"){if((i=s.pop())[0]!==x[3])throw"Bad state: "+i}else x[0].charAt(x[0].length-2)!=="/"&&s.push([x[3],!0]);break;case"annotation":if(x[1]==="/"){if((i=s.pop())[0]!==x[3])throw"Bad state: "+i;D.t=y,R.length&&(D.R=R),D.a=Z,L.push(D)}else x[0].charAt(x[0].length-2)!=="/"&&s.push([x[3],!1]);Z="",K=0,y="",k=0,R=[];break;case"creator":x[1]==="/"?Z=n.slice(K,x.index):K=x.index+x[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(x[1]==="/"){if((i=s.pop())[0]!==x[3])throw"Bad state: "+i}else x[0].charAt(x[0].length-2)!=="/"&&s.push([x[3],!1]);y="",k=0,R=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(x[1]==="/"){if(O[l.name]=c,(i=s.pop())[0]!==x[3])throw"Bad state: "+i}else x[0].charAt(x[0].length-2)!=="/"&&(c="",l=Zt(x[0],!1),s.push([x[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(s[s.length-1][0]){case"time-style":case"date-style":a=Zt(x[0],!1),c+=D4[x[3]][a.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(s[s.length-1][0]){case"time-style":case"date-style":a=Zt(x[0],!1),c+=D4[x[3]][a.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(x[0].slice(-2)==="/>")break;if(x[1]==="/")switch(s[s.length-1][0]){case"number-style":case"date-style":case"time-style":c+=n.slice(o,x.index);break}else o=x.index+x[0].length;break;case"named-range":a=Zt(x[0],!1),j=$g(a["cell-range-address"]);var Q={Name:a.name,Ref:j[0]+"!"+j[1]};G&&(Q.Sheet=d.length),A.Names.push(Q);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(s[s.length-1][0])>-1)break;if(x[1]==="/"&&(!v||!v["string-value"])){var ie=dV(n.slice(k,x.index));y=(y.length>0?y+`
`:"")+ie[0]}else Zt(x[0],!1),k=x.index+x[0].length;break;case"s":break;case"database-range":if(x[1]==="/")break;try{j=$g(Zt(x[0])["target-range-address"]),h[j[0]]["!autofilter"]={ref:j[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(x[1]!=="/"){if(T=Zt(x[0],!1),!T.href)break;T.Target=Rr(T.href),delete T.href,T.Target.charAt(0)=="#"&&T.Target.indexOf(".")>-1?(j=$g(T.Target.slice(1)),T.Target="#"+j[0]+"!"+j[1]):T.Target.match(/^\.\.[\\\/]/)&&(T.Target=T.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(x[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(e.WTF)throw new Error(x)}}var re={Sheets:h,SheetNames:d,Workbook:A};return e.bookSheets&&delete re.Sheets,re}function I4(r,t){t=t||{},ba(r,"META-INF/manifest.xml")&&NI(An(r,"META-INF/manifest.xml"),t);var e=ea(r,"content.xml");if(!e)throw new Error("Missing content.xml in ODS / UOF file");var n=uS(Xr(e),t);return ba(r,"meta.xml")&&(n.Props=S8(An(r,"meta.xml"))),n}function O4(r,t){return uS(r,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function fx(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function j1(r){return typeof TextDecoder<"u"?new TextDecoder().decode(r):Xr(Yl(r))}function D1(r){var t=r.reduce(function(s,i){return s+i.length},0),e=new Uint8Array(t),n=0;return r.forEach(function(s){e.set(s,n),n+=s.length}),e}function F4(r){return r-=r>>1&1431655765,r=(r&858993459)+(r>>2&858993459),(r+(r>>4)&252645135)*16843009>>>24}function pV(r,t){for(var e=(r[t+15]&127)<<7|r[t+14]>>1,n=r[t+14]&1,s=t+13;s>=t;--s)n=n*256+r[s];return(r[t+15]&128?-n:n)*Math.pow(10,e-6176)}function th(r,t){var e=t?t[0]:0,n=r[e]&127;e:if(r[e++]>=128&&(n|=(r[e]&127)<<7,r[e++]<128||(n|=(r[e]&127)<<14,r[e++]<128)||(n|=(r[e]&127)<<21,r[e++]<128)||(n+=(r[e]&127)*Math.pow(2,28),++e,r[e++]<128)||(n+=(r[e]&127)*Math.pow(2,35),++e,r[e++]<128)||(n+=(r[e]&127)*Math.pow(2,42),++e,r[e++]<128)))break e;return t&&(t[0]=e),n}function Pn(r){var t=0,e=r[t]&127;e:if(r[t++]>=128){if(e|=(r[t]&127)<<7,r[t++]<128||(e|=(r[t]&127)<<14,r[t++]<128)||(e|=(r[t]&127)<<21,r[t++]<128))break e;e|=(r[t]&127)<<28}return e}function us(r){for(var t=[],e=[0];e[0]<r.length;){var n=e[0],s=th(r,e),i=s&7;s=Math.floor(s/8);var a=0,l;if(s==0)break;switch(i){case 0:{for(var c=e[0];r[e[0]++]>=128;);l=r.slice(c,e[0])}break;case 5:a=4,l=r.slice(e[0],e[0]+a),e[0]+=a;break;case 1:a=8,l=r.slice(e[0],e[0]+a),e[0]+=a;break;case 2:a=th(r,e),l=r.slice(e[0],e[0]+a),e[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(s," at offset ").concat(n))}var o={data:l,type:i};t[s]==null?t[s]=[o]:t[s].push(o)}return t}function hx(r,t){return(r==null?void 0:r.map(function(e){return t(e.data)}))||[]}function mV(r){for(var t,e=[],n=[0];n[0]<r.length;){var s=th(r,n),i=us(r.slice(n[0],n[0]+s));n[0]+=s;var a={id:Pn(i[1][0].data),messages:[]};i[2].forEach(function(l){var c=us(l.data),o=Pn(c[3][0].data);a.messages.push({meta:c,data:r.slice(n[0],n[0]+o)}),n[0]+=o}),(t=i[3])!=null&&t[0]&&(a.merge=Pn(i[3][0].data)>>>0>0),e.push(a)}return e}function gV(r,t){if(r!=0)throw new Error("Unexpected Snappy chunk type ".concat(r));for(var e=[0],n=th(t,e),s=[];e[0]<t.length;){var i=t[e[0]]&3;if(i==0){var a=t[e[0]++]>>2;if(a<60)++a;else{var l=a-59;a=t[e[0]],l>1&&(a|=t[e[0]+1]<<8),l>2&&(a|=t[e[0]+2]<<16),l>3&&(a|=t[e[0]+3]<<24),a>>>=0,a++,e[0]+=l}s.push(t.slice(e[0],e[0]+a)),e[0]+=a;continue}else{var c=0,o=0;if(i==1?(o=(t[e[0]]>>2&7)+4,c=(t[e[0]++]&224)<<3,c|=t[e[0]++]):(o=(t[e[0]++]>>2)+1,i==2?(c=t[e[0]]|t[e[0]+1]<<8,e[0]+=2):(c=(t[e[0]]|t[e[0]+1]<<8|t[e[0]+2]<<16|t[e[0]+3]<<24)>>>0,e[0]+=4)),s=[D1(s)],c==0)throw new Error("Invalid offset 0");if(c>s[0].length)throw new Error("Invalid offset beyond length");if(o>=c)for(s.push(s[0].slice(-c)),o-=c;o>=s[s.length-1].length;)s.push(s[s.length-1]),o-=s[s.length-1].length;s.push(s[0].slice(-c,-c+o))}}var u=D1(s);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function bV(r){for(var t=[],e=0;e<r.length;){var n=r[e++],s=r[e]|r[e+1]<<8|r[e+2]<<16;e+=3,t.push(gV(n,r.slice(e,e+s))),e+=s}if(e!==r.length)throw new Error("data is not a valid framed stream!");return D1(t)}function xV(r,t,e,n){var s=fx(r),i=s.getUint32(4,!0),a=(n>1?12:8)+F4(i&(n>1?3470:398))*4,l=-1,c=-1,o=NaN,u=new Date(2001,0,1);i&512&&(l=s.getUint32(a,!0),a+=4),a+=F4(i&(n>1?12288:4096))*4,i&16&&(c=s.getUint32(a,!0),a+=4),i&32&&(o=s.getFloat64(a,!0),a+=8),i&64&&(u.setTime(u.getTime()+s.getFloat64(a,!0)*1e3),a+=8);var p;switch(r[2]){case 0:break;case 2:p={t:"n",v:o};break;case 3:p={t:"s",v:t[c]};break;case 5:p={t:"d",v:u};break;case 6:p={t:"b",v:o>0};break;case 7:p={t:"n",v:o/86400};break;case 8:p={t:"e",v:0};break;case 9:if(l>-1)p={t:"s",v:e[l]};else if(c>-1)p={t:"s",v:t[c]};else if(!isNaN(o))p={t:"n",v:o};else throw new Error("Unsupported cell type ".concat(r.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(r.slice(0,4)))}return p}function yV(r,t,e){var n=fx(r),s=n.getUint32(8,!0),i=12,a=-1,l=-1,c=NaN,o=NaN,u=new Date(2001,0,1);s&1&&(c=pV(r,i),i+=16),s&2&&(o=n.getFloat64(i,!0),i+=8),s&4&&(u.setTime(u.getTime()+n.getFloat64(i,!0)*1e3),i+=8),s&8&&(l=n.getUint32(i,!0),i+=4),s&16&&(a=n.getUint32(i,!0),i+=4);var p;switch(r[1]){case 0:break;case 2:p={t:"n",v:c};break;case 3:p={t:"s",v:t[l]};break;case 5:p={t:"d",v:u};break;case 6:p={t:"b",v:o>0};break;case 7:p={t:"n",v:o/86400};break;case 8:p={t:"e",v:0};break;case 9:if(a>-1)p={t:"s",v:e[a]};else throw new Error("Unsupported cell type ".concat(r[1]," : ").concat(s&31," : ").concat(r.slice(0,4)));break;case 10:p={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(r[1]," : ").concat(s&31," : ").concat(r.slice(0,4)))}return p}function vV(r,t,e){switch(r[0]){case 0:case 1:case 2:case 3:return xV(r,t,e,r[0]);case 5:return yV(r,t,e);default:throw new Error("Unsupported payload version ".concat(r[0]))}}function Ho(r){var t=us(r);return th(t[1][0].data)}function P4(r,t){var e=us(t.data),n=Pn(e[1][0].data),s=e[3],i=[];return(s||[]).forEach(function(a){var l=us(a.data),c=Pn(l[1][0].data)>>>0;switch(n){case 1:i[c]=j1(l[3][0].data);break;case 8:{var o=r[Ho(l[9][0].data)][0],u=us(o.data),p=r[Ho(u[1][0].data)][0],h=Pn(p.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var d=us(p.data);i[c]=d[3].map(function(b){return j1(b.data)}).join("")}break}}),i}function wV(r,t){var e,n,s,i,a,l,c,o,u,p,h,d,b,x,g=us(r),v=Pn(g[1][0].data)>>>0,y=Pn(g[2][0].data)>>>0,k=((n=(e=g[8])==null?void 0:e[0])==null?void 0:n.data)&&Pn(g[8][0].data)>0||!1,R,z;if((i=(s=g[7])==null?void 0:s[0])!=null&&i.data&&t!=0)R=(l=(a=g[7])==null?void 0:a[0])==null?void 0:l.data,z=(o=(c=g[6])==null?void 0:c[0])==null?void 0:o.data;else if((p=(u=g[4])==null?void 0:u[0])!=null&&p.data&&t!=1)R=(d=(h=g[4])==null?void 0:h[0])==null?void 0:d.data,z=(x=(b=g[3])==null?void 0:b[0])==null?void 0:x.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var q=k?4:1,B=fx(R),I=[],O=0;O<R.length/2;++O){var F=B.getUint16(O*2,!0);F<65535&&I.push([O,F])}if(I.length!=y)throw"Expected ".concat(y," cells, found ").concat(I.length);var W=[];for(O=0;O<I.length-1;++O)W[I[O][0]]=z.subarray(I[O][1]*q,I[O+1][1]*q);return I.length>=1&&(W[I[I.length-1][0]]=z.subarray(I[I.length-1][1]*q)),{R:v,cells:W}}function _V(r,t){var e,n=us(t.data),s=(e=n==null?void 0:n[7])!=null&&e[0]?Pn(n[7][0].data)>>>0>0?1:0:-1,i=hx(n[5],function(a){return wV(a,s)});return{nrows:Pn(n[4][0].data)>>>0,data:i.reduce(function(a,l){return a[l.R]||(a[l.R]=[]),l.cells.forEach(function(c,o){if(a[l.R][o])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(o));a[l.R][o]=c}),a},[])}}function SV(r,t,e){var n,s=us(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(Pn(s[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(s[6][0].data));if(i.e.c=(Pn(s[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(s[7][0].data));e["!ref"]=Nr(i);var a=us(s[4][0].data),l=P4(r,r[Ho(a[4][0].data)][0]),c=(n=a[17])!=null&&n[0]?P4(r,r[Ho(a[17][0].data)][0]):[],o=us(a[3][0].data),u=0;o[1].forEach(function(p){var h=us(p.data),d=r[Ho(h[2][0].data)][0],b=Pn(d.meta[1][0].data);if(b!=6002)throw new Error("6001 unexpected reference to ".concat(b));var x=_V(r,d);x.data.forEach(function(g,v){g.forEach(function(y,k){var R=ar({r:u+v,c:k}),z=vV(y,l,c);z&&(e[R]=z)})}),u+=x.nrows})}function kV(r,t){var e=us(t.data),n={"!ref":"A1"},s=r[Ho(e[2][0].data)],i=Pn(s[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return SV(r,s[0],n),n}function TV(r,t){var e,n=us(t.data),s={name:(e=n[1])!=null&&e[0]?j1(n[1][0].data):"",sheets:[]},i=hx(n[2],Ho);return i.forEach(function(a){r[a].forEach(function(l){var c=Pn(l.meta[1][0].data);c==6e3&&s.sheets.push(kV(r,l))})}),s}function EV(r,t){var e=mx(),n=us(t.data),s=hx(n[1],Ho);if(s.forEach(function(i){r[i].forEach(function(a){var l=Pn(a.meta[1][0].data);if(l==2){var c=TV(r,a);c.sheets.forEach(function(o,u){gx(e,o,u==0?c.name:c.name+"_"+u,!0)})}})}),e.SheetNames.length==0)throw new Error("Empty NUMBERS file");return e}function Gg(r){var t,e,n,s,i={},a=[];if(r.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),r.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var o;try{o=bV(c.content)}catch(p){return console.log("?? "+c.content.length+" "+(p.message||p))}var u;try{u=mV(o)}catch(p){return console.log("## "+(p.message||p))}u.forEach(function(p){i[p.id]=p.messages,a.push(p.id)})}}),!a.length)throw new Error("File has no messages");var l=((s=(n=(e=(t=i==null?void 0:i[1])==null?void 0:t[0])==null?void 0:e.meta)==null?void 0:n[1])==null?void 0:s[0].data)&&Pn(i[1][0].meta[1][0].data)==1&&i[1][0];if(l||a.forEach(function(c){i[c].forEach(function(o){var u=Pn(o.meta[1][0].data)>>>0;if(u==1)if(!l)l=o;else throw new Error("Document has multiple roots")})}),!l)throw new Error("Cannot find Document root");return EV(i,l)}function AV(r){return function(e){for(var n=0;n!=r.length;++n){var s=r[n];e[s[0]]===void 0&&(e[s[0]]=s[1]),s[2]==="n"&&(e[s[0]]=Number(e[s[0]]))}}}function dx(r){AV([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(r)}function CV(r){return Vc.WS.indexOf(r)>-1?"sheet":r==Vc.CS?"chart":r==Vc.DS?"dialog":r==Vc.MS?"macro":r&&r.length?r:"sheet"}function NV(r,t){if(!r)return 0;try{r=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,r["!id"][n.id].Target,CV(r["!id"][n.id].Type)]})}catch{return null}return!r||r.length===0?null:r}function RV(r,t,e,n,s,i,a,l,c,o,u,p){try{i[n]=Nf(ea(r,e,!0),t);var h=An(r,t),d;switch(l){case"sheet":d=FU(h,t,s,c,i[n],o,u,p);break;case"chart":if(d=PU(h,t,s,c,i[n],o,u,p),!d||!d["!drawel"])break;var b=gf(d["!drawel"].Target,t),x=A1(b),g=OP(ea(r,b,!0),Nf(ea(r,x,!0),b)),v=gf(g,b),y=A1(v);d=yU(ea(r,v,!0),v,c,Nf(ea(r,y,!0),v),o,d);break;case"macro":d=LU(h,t,s,c,i[n],o,u,p);break;case"dialog":d=BU(h,t,s,c,i[n],o,u,p);break;default:throw new Error("Unrecognized sheet type "+l)}a[n]=d;var k=[];i&&i[n]&&hi(i[n]).forEach(function(R){var z="";if(i[n][R].Type==Vc.CMNT){z=gf(i[n][R].Target,t);var q=HU(An(r,z,!0),z,c);if(!q||!q.length)return;_4(d,q,!1)}i[n][R].Type==Vc.TCMNT&&(z=gf(i[n][R].Target,t),k=k.concat(PP(An(r,z,!0),c)))}),k&&k.length&&_4(d,k,!0,c.people||[])}catch(R){if(c.WTF)throw R}}function ma(r){return r.charAt(0)=="/"?r.slice(1):r}function MV(r,t){if(X6(),t=t||{},dx(t),ba(r,"META-INF/manifest.xml")||ba(r,"objectdata.xml"))return I4(r,t);if(ba(r,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof Gg<"u"){if(r.FileIndex)return Gg(r);var e=Cr.utils.cfb_new();return Y_(r).forEach(function(P){jD(e,P,MD(r,P))}),Gg(e)}throw new Error("Unsupported NUMBERS file")}if(!ba(r,"[Content_Types].xml"))throw ba(r,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):ba(r,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=Y_(r),s=AI(ea(r,"[Content_Types].xml")),i=!1,a,l;if(s.workbooks.length===0&&(l="xl/workbook.xml",An(r,l,!0)&&s.workbooks.push(l)),s.workbooks.length===0){if(l="xl/workbook.bin",!An(r,l,!0))throw new Error("Could not find workbook");s.workbooks.push(l),i=!0}s.workbooks[0].slice(-3)=="bin"&&(i=!0);var c={},o={};if(!t.bookSheets&&!t.bookProps){if(jf=[],s.sst)try{jf=zU(An(r,ma(s.sst)),s.sst,t)}catch(P){if(t.WTF)throw P}t.cellStyles&&s.themes.length&&(c=VU(ea(r,s.themes[0].replace(/^\//,""),!0)||"",s.themes[0],t)),s.style&&(o=UU(An(r,ma(s.style)),s.style,c,t))}s.links.map(function(P){try{var C=Nf(ea(r,A1(ma(P))),P);return qU(An(r,ma(P)),C,P,t)}catch{}});var u=OU(An(r,ma(s.workbooks[0])),s.workbooks[0],t),p={},h="";s.coreprops.length&&(h=An(r,ma(s.coreprops[0]),!0),h&&(p=S8(h)),s.extprops.length!==0&&(h=An(r,ma(s.extprops[0]),!0),h&&jI(h,p,t)));var d={};(!t.bookSheets||t.bookProps)&&s.custprops.length!==0&&(h=ea(r,ma(s.custprops[0]),!0),h&&(d=II(h,t)));var b={};if((t.bookSheets||t.bookProps)&&(u.Sheets?a=u.Sheets.map(function(C){return C.name}):p.Worksheets&&p.SheetNames.length>0&&(a=p.SheetNames),t.bookProps&&(b.Props=p,b.Custprops=d),t.bookSheets&&typeof a<"u"&&(b.SheetNames=a),t.bookSheets?b.SheetNames:t.bookProps))return b;a={};var x={};t.bookDeps&&s.calcchain&&(x=$U(An(r,ma(s.calcchain)),s.calcchain));var g=0,v={},y,k;{var R=u.Sheets;p.Worksheets=R.length,p.SheetNames=[];for(var z=0;z!=R.length;++z)p.SheetNames[z]=R[z].name}var q=i?"bin":"xml",B=s.workbooks[0].lastIndexOf("/"),I=(s.workbooks[0].slice(0,B+1)+"_rels/"+s.workbooks[0].slice(B+1)+".rels").replace(/^\//,"");ba(r,I)||(I="xl/_rels/workbook."+q+".rels");var O=Nf(ea(r,I,!0),I.replace(/_rels.*/,"s5s"));(s.metadata||[]).length>=1&&(t.xlmeta=GU(An(r,ma(s.metadata[0])),s.metadata[0],t)),(s.people||[]).length>=1&&(t.people=LP(An(r,ma(s.people[0])),t)),O&&(O=NV(O,u.Sheets));var F=An(r,"xl/worksheets/sheet.xml",!0)?1:0;e:for(g=0;g!=p.Worksheets;++g){var W="sheet";if(O&&O[g]?(y="xl/"+O[g][1].replace(/[\/]?xl\//,""),ba(r,y)||(y=O[g][1]),ba(r,y)||(y=I.replace(/_rels\/.*$/,"")+O[g][1]),W=O[g][2]):(y="xl/worksheets/sheet"+(g+1-F)+"."+q,y=y.replace(/sheet0\./,"sheet.")),k=y.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(g!=t.sheets)continue e;break;case"string":if(p.SheetNames[g].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var V=!1,N=0;N!=t.sheets.length;++N)typeof t.sheets[N]=="number"&&t.sheets[N]==g&&(V=1),typeof t.sheets[N]=="string"&&t.sheets[N].toLowerCase()==p.SheetNames[g].toLowerCase()&&(V=1);if(!V)continue e}}RV(r,y,k,p.SheetNames[g],g,v,a,W,t,u,c,o)}return b={Directory:s,Workbook:u,Props:p,Custprops:d,Deps:x,Sheets:a,SheetNames:p.SheetNames,Strings:jf,Styles:o,Themes:c,SSF:Jn(fr)},t&&t.bookFiles&&(r.files?(b.keys=n,b.files=r.files):(b.keys=[],b.files={},r.FullPaths.forEach(function(P,C){P=P.replace(/^Root Entry[\/]/,""),b.keys.push(P),b.files[P]=r.FileIndex[C]}))),t&&t.bookVBA&&(s.vba.length>0?b.vbaraw=An(r,ma(s.vba[0]),!0):s.defaults&&s.defaults.bin===zP&&(b.vbaraw=An(r,"xl/vbaProject.bin",!0))),b}function jV(r,t){var e=t||{},n="Workbook",s=Cr.find(r,n);try{if(n="/!DataSpaces/Version",s=Cr.find(r,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(kF(s.content),n="/!DataSpaces/DataSpaceMap",s=Cr.find(r,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=EF(s.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",s=Cr.find(r,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);var a=AF(s.content);if(a.length!=1||a[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",s=Cr.find(r,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);NF(s.content)}catch{}if(n="/EncryptionInfo",s=Cr.find(r,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);var l=RF(s.content);if(n="/EncryptedPackage",s=Cr.find(r,n),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],s.content,e.password||"",e);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],s.content,e.password||"",e);throw new Error("File is password-protected")}function px(r,t){var e="";switch((t||{}).type||"base64"){case"buffer":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];case"base64":e=na(r.slice(0,12));break;case"binary":e=r;break;case"array":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3),e.charCodeAt(4),e.charCodeAt(5),e.charCodeAt(6),e.charCodeAt(7)]}function DV(r,t){return Cr.find(r,"EncryptedPackage")?jV(r,t):oS(r,t)}function IV(r,t){var e,n=r,s=t||{};return s.type||(s.type=Er&&Buffer.isBuffer(r)?"buffer":"base64"),e=e8(n,s),MV(e,s)}function fS(r,t){var e=0;e:for(;e<r.length;)switch(r.charCodeAt(e)){case 10:case 13:case 32:++e;break;case 60:return R1(r.slice(e),t);default:break e}return Zf.to_workbook(r,t)}function OV(r,t){var e="",n=px(r,t);switch(t.type){case"base64":e=na(r);break;case"binary":e=r;break;case"buffer":e=r.toString("binary");break;case"array":e=$l(r);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(e=Xr(e)),t.type="binary",fS(e,t)}function FV(r,t){var e=r;return t.type=="base64"&&(e=na(e)),e=Xf.utils.decode(1200,e.slice(2),"str"),t.type="binary",fS(e,t)}function PV(r){return r.match(/[^\x00-\x7F]/)?bf(r):r}function Wg(r,t,e,n){return n?(e.type="string",Zf.to_workbook(r,e)):Zf.to_workbook(t,e)}function I1(r,t){F6();var e=t||{};if(typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer)return I1(new Uint8Array(r),(e=Jn(e),e.type="array",e));typeof Uint8Array<"u"&&r instanceof Uint8Array&&!e.type&&(e.type=typeof Deno<"u"?"buffer":"array");var n=r,s=[0,0,0,0],i=!1;if(e.cellStyles&&(e.cellNF=!0,e.sheetStubs=!0),Yc={},e.dateNF&&(Yc.dateNF=e.dateNF),e.type||(e.type=Er&&Buffer.isBuffer(r)?"buffer":"base64"),e.type=="file"&&(e.type=Er?"buffer":"binary",n=kD(r),typeof Uint8Array<"u"&&!Er&&(e.type="array")),e.type=="string"&&(i=!0,e.type="binary",e.codepage=65001,n=PV(r)),e.type=="array"&&typeof Uint8Array<"u"&&r instanceof Uint8Array&&typeof ArrayBuffer<"u"){var a=new ArrayBuffer(3),l=new Uint8Array(a);if(l.foo="bar",!l.foo)return e=Jn(e),e.type="array",I1(Gb(n),e)}switch((s=px(n,e))[0]){case 208:if(s[1]===207&&s[2]===17&&s[3]===224&&s[4]===161&&s[5]===177&&s[6]===26&&s[7]===225)return DV(Cr.read(n,e),e);break;case 9:if(s[1]<=8)return oS(n,e);break;case 60:return R1(n,e);case 73:if(s[1]===73&&s[2]===42&&s[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(s[1]===68)return fF(n,e);break;case 84:if(s[1]===65&&s[2]===66&&s[3]===76)return cF.to_workbook(n,e);break;case 80:return s[1]===75&&s[2]<9&&s[3]<9?IV(n,e):Wg(r,n,e,i);case 239:return s[3]===60?R1(n,e):Wg(r,n,e,i);case 255:if(s[1]===254)return FV(n,e);if(s[1]===0&&s[2]===2&&s[3]===0)return Mf.to_workbook(n,e);break;case 0:if(s[1]===0&&(s[2]>=2&&s[3]===0||s[2]===0&&(s[3]===8||s[3]===9)))return Mf.to_workbook(n,e);break;case 3:case 131:case 139:case 140:return w4.to_workbook(n,e);case 123:if(s[1]===92&&s[2]===114&&s[3]===116)return zF.to_workbook(n,e);break;case 10:case 13:case 32:return OV(n,e);case 137:if(s[1]===80&&s[2]===78&&s[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return oF.indexOf(s[0])>-1&&s[2]<=12&&s[3]<=31?w4.to_workbook(n,e):Wg(r,n,e,i)}function LV(r,t,e,n,s,i,a,l){var c=es(e),o=l.defval,u=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),p=!0,h=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:e,enumerable:!1})}catch{h.__rowNum__=e}else h.__rowNum__=e;if(!a||r[e])for(var d=t.s.c;d<=t.e.c;++d){var b=a?r[e][d]:r[n[d]+c];if(b===void 0||b.t===void 0){if(o===void 0)continue;i[d]!=null&&(h[i[d]]=o);continue}var x=b.v;switch(b.t){case"z":if(x==null)break;continue;case"e":x=x==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+b.t)}if(i[d]!=null){if(x==null)if(b.t=="e"&&x===null)h[i[d]]=null;else if(o!==void 0)h[i[d]]=o;else if(u&&x===null)h[i[d]]=null;else continue;else h[i[d]]=u&&(b.t!=="n"||b.t==="n"&&l.rawNumbers!==!1)?x:Wi(b,x,l);x!=null&&(p=!1)}}return{row:h,isempty:p}}function O1(r,t){if(r==null||r["!ref"]==null)return[];var e={t:"n",v:0},n=0,s=1,i=[],a=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},o=t||{},u=o.range!=null?o.range:r["!ref"];switch(o.header===1?n=1:o.header==="A"?n=2:Array.isArray(o.header)?n=3:o.header==null&&(n=0),typeof u){case"string":c=hn(u);break;case"number":c=hn(r["!ref"]),c.s.r=u;break;default:c=u}n>0&&(s=0);var p=es(c.s.r),h=[],d=[],b=0,x=0,g=Array.isArray(r),v=c.s.r,y=0,k={};g&&!r[v]&&(r[v]=[]);var R=o.skipHidden&&r["!cols"]||[],z=o.skipHidden&&r["!rows"]||[];for(y=c.s.c;y<=c.e.c;++y)if(!(R[y]||{}).hidden)switch(h[y]=On(y),e=g?r[v][y]:r[h[y]+p],n){case 1:i[y]=y-c.s.c;break;case 2:i[y]=h[y];break;case 3:i[y]=o.header[y-c.s.c];break;default:if(e==null&&(e={w:"__EMPTY",t:"s"}),l=a=Wi(e,null,o),x=k[a]||0,!x)k[a]=1;else{do l=a+"_"+x++;while(k[l]);k[a]=x,k[l]=1}i[y]=l}for(v=c.s.r+s;v<=c.e.r;++v)if(!(z[v]||{}).hidden){var q=LV(r,c,v,h,n,i,g,o);(q.isempty===!1||(n===1?o.blankrows!==!1:o.blankrows))&&(d[b++]=q.row)}return d.length=b,d}var L4=/"/g;function BV(r,t,e,n,s,i,a,l){for(var c=!0,o=[],u="",p=es(e),h=t.s.c;h<=t.e.c;++h)if(n[h]){var d=l.dense?(r[e]||[])[h]:r[n[h]+p];if(d==null)u="";else if(d.v!=null){c=!1,u=""+(l.rawNumbers&&d.t=="n"?d.v:Wi(d,null,l));for(var b=0,x=0;b!==u.length;++b)if((x=u.charCodeAt(b))===s||x===i||x===34||l.forceQuotes){u='"'+u.replace(L4,'""')+'"';break}u=="ID"&&(u='"ID"')}else d.f!=null&&!d.F?(c=!1,u="="+d.f,u.indexOf(",")>=0&&(u='"'+u.replace(L4,'""')+'"')):u="";o.push(u)}return l.blankrows===!1&&c?null:o.join(a)}function hS(r,t){var e=[],n=t??{};if(r==null||r["!ref"]==null)return"";var s=hn(r["!ref"]),i=n.FS!==void 0?n.FS:",",a=i.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),o=new RegExp((i=="|"?"\\|":i)+"+$"),u="",p=[];n.dense=Array.isArray(r);for(var h=n.skipHidden&&r["!cols"]||[],d=n.skipHidden&&r["!rows"]||[],b=s.s.c;b<=s.e.c;++b)(h[b]||{}).hidden||(p[b]=On(b));for(var x=0,g=s.s.r;g<=s.e.r;++g)(d[g]||{}).hidden||(u=BV(r,s,g,p,a,c,i,n),u!=null&&(n.strip&&(u=u.replace(o,"")),(u||n.blankrows!==!1)&&e.push((x++?l:"")+u)));return delete n.dense,e.join("")}function UV(r,t){t||(t={}),t.FS="	",t.RS=`
`;var e=hS(r,t);return e}function VV(r){var t="",e,n="";if(r==null||r["!ref"]==null)return[];var s=hn(r["!ref"]),i="",a=[],l,c=[],o=Array.isArray(r);for(l=s.s.c;l<=s.e.c;++l)a[l]=On(l);for(var u=s.s.r;u<=s.e.r;++u)for(i=es(u),l=s.s.c;l<=s.e.c;++l)if(t=a[l]+i,e=o?(r[u]||[])[l]:r[t],n="",e!==void 0){if(e.F!=null){if(t=e.F,!e.f)continue;n=e.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(e.f!=null)n=e.f;else{if(e.t=="z")continue;if(e.t=="n"&&e.v!=null)n=""+e.v;else if(e.t=="b")n=e.v?"TRUE":"FALSE";else if(e.w!==void 0)n="'"+e.w;else{if(e.v===void 0)continue;e.t=="s"?n="'"+e.v:n=""+e.v}}c[c.length]=t+"="+n}return c}function dS(r,t,e){var n=e||{},s=+!n.skipHeader,i=r||{},a=0,l=0;if(i&&n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var c=typeof n.origin=="string"?ks(n.origin):n.origin;a=c.r,l=c.c}var o,u={s:{c:0,r:0},e:{c:l,r:a+t.length-1+s}};if(i["!ref"]){var p=hn(i["!ref"]);u.e.c=Math.max(u.e.c,p.e.c),u.e.r=Math.max(u.e.r,p.e.r),a==-1&&(a=p.e.r+1,u.e.r=a+t.length-1+s)}else a==-1&&(a=0,u.e.r=t.length-1+s);var h=n.header||[],d=0;t.forEach(function(x,g){hi(x).forEach(function(v){(d=h.indexOf(v))==-1&&(h[d=h.length]=v);var y=x[v],k="z",R="",z=ar({c:l+d,r:a+g+s});o=rh(i,z),y&&typeof y=="object"&&!(y instanceof Date)?i[z]=y:(typeof y=="number"?k="n":typeof y=="boolean"?k="b":typeof y=="string"?k="s":y instanceof Date?(k="d",n.cellDates||(k="n",y=Es(y)),R=n.dateNF||fr[14]):y===null&&n.nullError&&(k="e",y=0),o?(o.t=k,o.v=y,delete o.w,delete o.R,R&&(o.z=R)):i[z]=o={t:k,v:y},R&&(o.z=R))})}),u.e.c=Math.max(u.e.c,l+h.length-1);var b=es(a);if(s)for(d=0;d<h.length;++d)i[On(d+l)+b]={t:"s",v:h[d]};return i["!ref"]=Nr(u),i}function zV(r,t){return dS(null,r,t)}function rh(r,t,e){if(typeof t=="string"){if(Array.isArray(r)){var n=ks(t);return r[n.r]||(r[n.r]=[]),r[n.r][n.c]||(r[n.r][n.c]={t:"z"})}return r[t]||(r[t]={t:"z"})}return typeof t!="number"?rh(r,ar(t)):rh(r,ar({r:t,c:e||0}))}function HV(r,t){if(typeof t=="number"){if(t>=0&&r.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var e=r.SheetNames.indexOf(t);if(e>-1)return e;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function mx(){return{SheetNames:[],Sheets:{}}}function gx(r,t,e,n){var s=1;if(!e)for(;s<=65535&&r.SheetNames.indexOf(e="Sheet"+s)!=-1;++s,e=void 0);if(!e||r.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&r.SheetNames.indexOf(e)>=0){var i=e.match(/(^.*?)(\d+)$/);s=i&&+i[2]||0;var a=i&&i[1]||e;for(++s;s<=65535&&r.SheetNames.indexOf(e=a+s)!=-1;++s);}if(AU(e),r.SheetNames.indexOf(e)>=0)throw new Error("Worksheet with name |"+e+"| already exists!");return r.SheetNames.push(e),r.Sheets[e]=t,e}function $V(r,t,e){r.Workbook||(r.Workbook={}),r.Workbook.Sheets||(r.Workbook.Sheets=[]);var n=HV(r,t);switch(r.Workbook.Sheets[n]||(r.Workbook.Sheets[n]={}),e){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+e)}r.Workbook.Sheets[n].Hidden=e}function qV(r,t){return r.z=t,r}function pS(r,t,e){return t?(r.l={Target:t},e&&(r.l.Tooltip=e)):delete r.l,r}function GV(r,t,e){return pS(r,"#"+t,e)}function WV(r,t,e){r.c||(r.c=[]),r.c.push({t,a:e||"SheetJS"})}function XV(r,t,e,n){for(var s=typeof t!="string"?t:hn(t),i=typeof t=="string"?t:Nr(t),a=s.s.r;a<=s.e.r;++a)for(var l=s.s.c;l<=s.e.c;++l){var c=rh(r,a,l);c.t="n",c.F=i,delete c.v,a==s.s.r&&l==s.s.c&&(c.f=e,n&&(c.D=!0))}return r}var YV={encode_col:On,encode_row:es,encode_cell:ar,encode_range:Nr,decode_col:tx,decode_row:ex,split_cell:iI,decode_cell:ks,decode_range:gu,format_cell:Wi,sheet_add_aoa:x8,sheet_add_json:dS,sheet_add_dom:lS,aoa_to_sheet:bu,json_to_sheet:zV,table_to_sheet:cS,table_to_book:fV,sheet_to_csv:hS,sheet_to_txt:UV,sheet_to_json:O1,sheet_to_html:uV,sheet_to_formulae:VV,sheet_to_row_object_array:O1,sheet_get_cell:rh,book_new:mx,book_append_sheet:gx,book_set_sheet_visibility:$V,cell_set_number_format:qV,cell_set_hyperlink:pS,cell_set_internal_link:GV,cell_add_comment:WV,sheet_set_array_formula:XV,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const mS=({onImport:r,isAdmin:t,users:e,customPaymentLabels:n={},enabledPaymentMethods:s=[]})=>{const[i,a]=_e.useState(!1),[l,c]=_e.useState({current:0,total:0,message:""}),[o,u]=_e.useState(null),[p,h]=_e.useState(""),d=()=>{const k=["","()","()","()","()","()","()","()","()","()","()","()","()","()","","","","","","","","","","","","","","",""],R=["2025-12-20","22","2","3","34.6401","135.5532","22","15","","34.6654","135.5606","2","0","0","2","2800","10","2800","0","0","0","0","0","0","0","0","DiDi","0",""],z=[k.join(","),R.join(",")].join(`\r
`),q=new Uint8Array([239,187,191]),B=new Blob([q,z],{type:"text/csv;charset=utf-8"}),I=document.createElement("a"),O=URL.createObjectURL(B);I.setAttribute("href",O),I.setAttribute("download","sample_taxi_data.csv"),document.body.appendChild(I),I.click(),document.body.removeChild(I)},b=(k,R,z)=>{let q;const B=String(k||"").trim();if(typeof k=="number"||!isNaN(Number(k))&&!B.includes("/")&&!B.includes("-")){const W=parseFloat(B);q=new Date((W-25569)*86400*1e3)}else{const W=B.match(/^(\d{4})[-\/](\d{1,2})[-\/](\d{1,2})/);if(W){const V=parseInt(W[1],10),N=parseInt(W[2],10)-1,P=parseInt(W[3],10);q=new Date(V,N,P)}else q=new Date(B.replace(/-/g,"/"))}if(isNaN(q.getTime()))return NaN;let I=parseInt(String(R||0),10),O=parseInt(String(z||0),10);if(I>=24){const W=Math.floor(I/24);q.setDate(q.getDate()+W),I=I%24}q.setHours(I,O,0,0);const F=new Date(q.getTime());return F.getFullYear()===2025&&F.getMonth()===11&&F.getDate()>=20&&console.log(":",{:k,:R,:z,:F.toLocaleString("ja-JP"),timestamp:q.getTime()}),q.getTime()},x=(k,R,z)=>{for(const[q,B]of Object.entries(R))if(B&&k.includes(B)&&z.includes(q))return q;for(const[q,B]of Object.entries(va))if(k.includes(B)&&z.includes(q))return q;if(k.includes("DiDi")||k.includes("GO")||k.includes("Uber")){if(z.includes("DIDI"))return"DIDI";if(z.includes("GO"))return"GO";if(z.includes("UBER"))return"UBER"}return(k.includes("")||k.includes(""))&&z.includes("CARD")?"CARD":k.includes("")&&z.includes("NET")?"NET":k.includes("")&&z.includes("TICKET")?"TICKET":k.includes("")&&z.includes("E_MONEY")?"E_MONEY":(k.includes("Suica")||k.includes("")||k.includes("IC"))&&z.includes("TRANSPORT")?"TRANSPORT":(k.includes("QR")||k.includes("PayPay"))&&z.includes("QR")?"QR":"CASH"},g=async(k,R,z,q)=>new Promise((B,I)=>{const O=new FileReader;O.onload=F=>{var W;try{q==null||q(0,100,"Excel...");const V=new Uint8Array((W=F.target)==null?void 0:W.result),N=I1(V,{type:"array"}),P=N.Sheets[N.SheetNames[0]],C=YV.sheet_to_json(P,{range:0,defval:""});q==null||q(10,100,"...");const S=[];let E=0,A=0;const T=C.length;for(let j=0;j<C.length;j++){const L=C[j],D=10+Math.floor(j/T*80);q==null||q(D,100,`${j+1}/${T} ...`);const Z=b(L.,L["()"],L["()"]);if(isNaN(Z)){console.warn(":",L.,L["()"],L["()"]);continue}const K=new Date(Z);K.getFullYear()===2025&&K.getMonth()===11&&K.getDate()>=20&&console.log("12/20:",{:L.,:L["()"],:L["()"],:K.toLocaleString("ja-JP"),timestamp:Z});const ee=parseInt(String(L.||0).replace(/,/g,""));if(!ee||ee<=0)continue;const G=String(L.||""),te=x(G,R,z),H=parseInt(String(L.||0).replace(/,/g,"")),U=String(L.||"");let Q="FLOW";U.includes("")?Q="APP":U.includes("")?Q="WAIT":(U.includes("")||U.includes(""))&&(Q="APP");const ie=parseInt(String(L["()"]||0)),re=parseInt(String(L["()"]||0)),oe=parseInt(String(L.||0).replace(/,/g,"")),he=parseInt(String(L.||0).replace(/,/g,"")),ve=oe+he,me=he,ne={id:Math.random().toString(36).substr(2,9),timestamp:Z,amount:ee,sales:ee,toll:ve,returnToll:me,paymentMethod:te,rideType:Q,nonCashAmount:H,pickupLocation:String(L["()"]||""),dropoffLocation:String(L["()"]||""),pickupCoords:L["()"]&&L["()"]?`${L["()"]},${L["()"]}`:"",dropoffCoords:L["()"]&&L["()"]?`${L["()"]},${L["()"]}`:"",isBadCustomer:!1,remarks:G,passengersMale:ie,passengersFemale:re};S.push(ne)}q==null||q(100,100,""),B({records:S,addedCount:0,replaceCount:0})}catch(V){I(V)}},O.onerror=I,O.readAsArrayBuffer(k)}),v=(k,R,z,q,B)=>{var C;B==null||B(0,100,"CSV...");const I=k.split(/\r\n|\n/).filter(S=>S.trim()!=="");if(I.length===0)return{records:[],success:!1};const O=I[0];let F=",";O.indexOf("	")!==-1&&(F="	");const W=O.split(F).map(S=>S.trim().replace(/^"|"$/g,""));if(!W.includes("")||!W.includes("")&&!W.includes(""))return{records:[],success:!1};const V=[],N=S=>{if(!S)return 0;const E=S.replace(/[",\s]/g,""),A=parseInt(E,10);return isNaN(A)?0:A},P=I.length-1;for(let S=1;S<I.length;S++){const E=Math.floor(S/P*90);B==null||B(E,100,`${S}/${P} ...`);const A=I[S].split(F).map(tt=>tt.trim().replace(/^"|"$/g,""));if(A.length<W.length-10)continue;const T=((C=A[W.indexOf("")])==null?void 0:C.replace(/\//g,"-"))||"",j=A[W.indexOf("()")]||"0",L=A[W.indexOf("()")]||"0",D=W.indexOf("")!==-1?W.indexOf(""):W.indexOf(""),Z=N(A[D]),K=N(A[W.indexOf("")]),ee=N(A[W.indexOf("")]),G=K+ee,te=N(A[W.indexOf("")]),H=W.indexOf("")!==-1?A[W.indexOf("")]:"",U=W.indexOf("")!==-1?A[W.indexOf("")]:"",Q=W.indexOf("()")!==-1?A[W.indexOf("()")]:"",ie=W.indexOf("()")!==-1?A[W.indexOf("()")]:"",re=W.indexOf("()")!==-1?A[W.indexOf("()")]:"",oe=W.indexOf("()")!==-1?A[W.indexOf("()")]:"",he=W.indexOf("()")!==-1?A[W.indexOf("()")]:"",ve=W.indexOf("()")!==-1?A[W.indexOf("()")]:"",me=re&&oe?`${re},${oe}`:"",ne=he&&ve?`${he},${ve}`:"",de=N(A[W.indexOf("()")]),xe=N(A[W.indexOf("()")]),Te=U||"",Re=(A[W.indexOf("")]||"").includes("")||(A[W.indexOf("")]||"").includes("");let Pe="FLOW";H&&(H.includes("")||H.includes("")?Pe="DISPATCH":H.includes("")?Pe="PICKUP":H.includes("")?Pe="WAIT":Pe="FLOW");const Xe=x(U,z,q),Ue=N(A[W.indexOf("")]);if(T&&Z>0){const[tt,at,Je]=T.split("-").map(Number),Ze=parseInt(j)||0,vt=parseInt(L)||0,pt=new Date(tt,at-1,Je,Ze,vt).getTime();V.push({id:Math.random().toString(36).substr(2,9),amount:Z,toll:G,returnToll:Ue,paymentMethod:Xe,nonCashAmount:te,rideType:Pe,timestamp:pt,pickupLocation:Q,dropoffLocation:ie,pickupCoords:me,dropoffCoords:ne,passengersMale:de,passengersFemale:xe,remarks:Te,isBadCustomer:Re})}}return B==null||B(100,100,""),{records:V,success:V.length>0}},y=async k=>{var z;const R=(z=k.target.files)==null?void 0:z[0];if(R){a(!0),c({current:0,total:100,message:"..."}),u(null);try{const q=n,B=s.length>0?s:["CASH","CARD","NET","TICKET","E_MONEY","TRANSPORT","QR","DIDI","GO","UBER","PAYPAY","LINEPAY","IC","CREDIT"],I=R.name.toLowerCase();if(I.endsWith(".xlsx")||I.endsWith(".xls")){const F=await g(R,q,B,(W,V,N)=>{c({current:W,total:V,message:N})});if(F.records.length>0){const W=t&&p?p:void 0;c({current:90,total:100,message:"..."});const V=await r(F.records,W,{mergeMode:"overwrite"},(N,P,C)=>{c({current:90+Math.floor(N/P*10),total:100,message:C})});u(V),c({current:100,total:100,message:""})}else alert(""),a(!1)}else{let F=await R.text();const W=!I.endsWith(".csv")||F.includes("");if(W){c({current:5,total:100,message:"Shift-JIS..."});const P=await R.arrayBuffer();F=new TextDecoder("shift-jis").decode(P)}const{records:V,success:N}=v(F,W,q,B,(P,C,S)=>{c({current:P,total:C,message:S})});if(N&&V.length>0){const P=t&&p?p:void 0;c({current:90,total:100,message:"..."});const C=await r(V,P,{mergeMode:"overwrite"},(S,E,A)=>{c({current:90+Math.floor(S/E*10),total:100,message:A})});u(C),c({current:100,total:100,message:""})}else alert("CSVCSV"),a(!1)}}catch(q){console.error("Import error:",q),alert(""),a(!1)}finally{setTimeout(()=>{a(!1),c({current:0,total:0,message:""}),u(null),k.target.value=""},3e3)}}};return w.jsxs("div",{className:"space-y-4",children:[o&&!i&&w.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/80 backdrop-blur-sm animate-in fade-in",children:w.jsx("div",{className:"bg-[#131C2B] rounded-3xl p-6 max-w-md w-full mx-4 border-2 border-green-500/30 shadow-2xl",children:w.jsxs("div",{className:"flex flex-col items-center gap-4",children:[w.jsx(X0,{className:"w-16 h-16 text-green-500"}),w.jsx("h3",{className:"text-2xl font-black text-white",children:""}),w.jsxs("div",{className:"w-full space-y-2",children:[w.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-700",children:[w.jsx("span",{className:"text-gray-400 font-bold",children:""}),w.jsxs("span",{className:"text-white font-black text-xl",children:[o.addedCount,""]})]}),w.jsxs("div",{className:"flex justify-between items-center py-2",children:[w.jsx("span",{className:"text-gray-400 font-bold",children:""}),w.jsxs("span",{className:"text-white font-black text-xl",children:[o.replaceCount,""]})]})]}),w.jsx("button",{onClick:()=>{u(null),a(!1),c({current:0,total:0,message:""})},className:"w-full bg-green-500 text-black py-3 rounded-2xl font-black text-lg active:scale-95 transition-all",children:""})]})})}),w.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-2xl border border-gray-800",children:[w.jsxs("div",{className:"flex items-center justify-between mb-3",children:[w.jsx("h4",{className:"text-sm font-black text-gray-400 uppercase tracking-widest",children:"CSV / Excel"}),w.jsxs("button",{onClick:d,className:"text-xs bg-blue-600/20 text-blue-400 font-black px-3 py-1.5 rounded-full border border-blue-500/20 active:scale-95 flex items-center gap-1",children:[w.jsx(W4,{className:"w-3 h-3"}),""]})]}),t&&e.length>0&&w.jsxs("div",{className:"mb-3",children:[w.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest block mb-2",children:""}),w.jsxs("select",{value:p,onChange:k=>h(k.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded-xl p-2 text-white text-sm font-black outline-none focus:border-blue-500",children:[w.jsx("option",{value:"",children:""}),e.map(k=>w.jsx("option",{value:k.uid,children:k.name},k.uid))]})]}),i&&w.jsxs("div",{className:"mb-4 space-y-2",children:[w.jsx("div",{className:"w-full bg-gray-800 rounded-full h-3 overflow-hidden",children:w.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-green-500 transition-all duration-300 ease-out",style:{width:`${l.current/l.total*100}%`}})}),w.jsxs("div",{className:"flex justify-between items-center text-xs",children:[w.jsx("span",{className:"text-gray-400 font-bold",children:l.message}),w.jsxs("span",{className:"text-gray-500 font-black",children:[l.current,"%"]})]})]}),w.jsxs("label",{className:"relative block",children:[w.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",onChange:y,disabled:i,className:"hidden"}),w.jsx("div",{className:`w-full py-4 rounded-xl border-2 border-dashed transition-all flex flex-col items-center justify-center gap-2 cursor-pointer ${i?"bg-gray-800 border-gray-700 cursor-not-allowed":"bg-gray-800/50 border-blue-500/30 hover:border-blue-500/50 active:scale-95"}`,children:i?w.jsxs(w.Fragment,{children:[w.jsx(kl,{className:"w-6 h-6 text-blue-400 animate-spin"}),w.jsx("span",{className:"text-sm font-bold text-gray-400",children:l.message})]}):w.jsxs(w.Fragment,{children:[w.jsx(Y4,{className:"w-6 h-6 text-blue-400"}),w.jsx("span",{className:"text-sm font-black text-white",children:"CSV / Excel"}),w.jsx("span",{className:"text-xs text-gray-500",children:"CSV: Shift-JIS / UTF-8 | Excel: .xlsx / .xls"})]})})]})]})]})},KV=({onClose:r,onImport:t,isAdmin:e,currentUid:n})=>{const[s,i]=_e.useState([]);return _e.useEffect(()=>{e&&(async()=>{try{const c=(await Zr(Gr(Lt,"public_status"))).docs.map(o=>({uid:o.id,name:o.data().name||""})).filter(o=>o.uid!==n);i(c)}catch(l){console.error("Failed to fetch users",l)}})()},[e,n]),w.jsx(Zs,{onClose:r,children:w.jsxs("div",{className:"space-y-6 pb-6",children:[w.jsxs("div",{className:"flex justify-between items-center border-b border-gray-800 pb-4",children:[w.jsxs("h3",{className:"text-xl font-black text-white flex items-center gap-2",children:[w.jsx(Y4,{className:"w-6 h-6 text-blue-400"})," CSV"]}),w.jsx("button",{onClick:r,className:"p-2 bg-gray-800 rounded-full text-gray-400 hover:text-white active:scale-95",children:w.jsx(_s,{className:"w-5 h-5"})})]}),w.jsx(mS,{onImport:t,isAdmin:e,users:s})]})})},QV=({stats:r,isAdmin:t,onUpdateStats:e,onImportRecords:n,onClose:s,onImpersonate:i,onNavigateToDashboard:a,history:l=[]})=>{var dt;const[c,o]=_e.useState("basic"),[u,p]=_e.useState(r.shimebiDay.toString()),[h,d]=_e.useState(r.businessStartHour??9),[b,x]=_e.useState(r.monthlyGoal.toLocaleString()),[g,v]=_e.useState(r.defaultDailyGoal.toLocaleString()),[y,k]=_e.useState(r.dutyDays||[]),[R,z]=_e.useState(new Date),[q,B]=_e.useState(r.enabledPaymentMethods||kf),[I,O]=_e.useState(r.customPaymentLabels||{}),[F,W]=_e.useState(r.userName||""),[V,N]=_e.useState(r.enabledRideTypes||Dl),[P,C]=_e.useState(r.visibilityMode||"PUBLIC"),[S,E]=_e.useState(r.allowedViewers||[]),[A,T]=_e.useState([]),[j,L]=_e.useState(""),[D,Z]=_e.useState(r.followingUsers||[]),[K,ee]=_e.useState(r.inputMode||"DETAILED"),[G,te]=_e.useState((r.plannedWorkDays||0).toString()),[H,U]=_e.useState((r.dailyGoalSimple||0).toLocaleString()),[Q,ie]=_e.useState((r.workingHours||0).toString()),[re,oe]=_e.useState(!1),[he,ve]=_e.useState(null),[me,ne]=_e.useState(!1),[de,xe]=_e.useState([]);_e.useEffect(()=>{(async()=>{var Ae;try{const et=(await Zr(Gr(Lt,"public_status"))).docs.map(Ke=>{const xt=Ke.data();return{uid:Ke.id,name:xt.name||"",visibilityMode:xt.visibilityMode,allowedViewers:xt.allowedViewers||[]}}).filter(Ke=>{var xt;return Ke.uid!==(r.uid||((xt=mr.currentUser)==null?void 0:xt.uid))}),lt=r.uid||((Ae=mr.currentUser)==null?void 0:Ae.uid);console.log("[SettingsModal] Fetched users:",et.map(Ke=>({uid:Ke.uid,name:Ke.name,visibilityMode:Ke.visibilityMode,allowedViewers:Ke.allowedViewers}))),console.log("[SettingsModal] Current user uid:",lt),T(et)}catch(Ee){console.error("Failed to fetch users",Ee)}})();const We=Ls(Gr(Lt,"public_status"),Ae=>{const Ee=Ae.docs.map(et=>{const lt=et.data();return{uid:et.id,name:lt.name||"",visibilityMode:lt.visibilityMode,allowedViewers:lt.allowedViewers||[]}}).filter(et=>et.uid!==r.uid);T(Ee)});return()=>We()},[r.uid]),_e.useEffect(()=>{c==="admin"&&t&&(async()=>{try{const We=Hr(Gr(Lt,"public_status"),un("lastUpdated","desc")),Ae=await Zr(We);xe(Ae.docs.map(Ee=>({uid:Ee.id,...Ee.data()})))}catch(We){console.error("Admin fetch failed",We)}})()},[c,t]);const Te=_e.useMemo(()=>{const ke=parseInt(u),We=isNaN(ke)?20:ke,{start:Ae,end:Ee}=rr(R,We,h),et=Ae.getFullYear(),lt=Ae.getMonth(),Ke=new Date(et,lt,Ae.getDate()),xt=new Date(Ke),jt=Ke.getDay();xt.setDate(xt.getDate()-jt);const At=new Date(et,Ee.getMonth(),Ee.getDate()),Ct=new Date(At),Dt=At.getDay();Ct.setDate(Ct.getDate()+(6-Dt));const Mt=[],je=new Date(xt);for(let qe=0;qe<35;qe++)Mt.push(new Date(je)),je.setDate(je.getDate()+1);return Mt},[R,u,h]),Re=_e.useMemo(()=>{const ke=parseInt(u),We=isNaN(ke)?20:ke,{end:Ae}=rr(R,We,h);return`${Ae.getFullYear()} / ${String(Ae.getMonth()+1).padStart(2,"0")}`},[R,u,h]),Pe=_e.useMemo(()=>{const ke={},We={};return l.forEach(Ae=>{const Ee=Ot(Ae.timestamp,h);We[Ee]||(We[Ee]=[]),We[Ee].push(Ae)}),Object.keys(We).forEach(Ae=>{const Ee=We[Ae];Ee.some(lt=>{var Ke;return(Ke=lt.remarks)==null?void 0:Ke.includes("")})?Ee.filter(Ke=>{var xt;return(xt=Ke.remarks)==null?void 0:xt.includes("")}).length>0&&(ke[Ae]=!0):Ee.filter(Ke=>{var xt;return!((xt=Ke.remarks)!=null&&xt.includes(""))}).length>0&&(ke[Ae]=!0)}),ke},[l,h]),Xe=_e.useMemo(()=>{const ke=parseInt(u),We=isNaN(ke)?20:ke,{start:Ae,end:Ee}=rr(R,We,h),et=Ht(Ae),lt=Ht(Ee),Ke=Ot(Date.now(),h),xt=new Set;return Te.forEach(jt=>{const At=new Date(jt);At.setHours(h,0,0,0);const Ct=Ot(At.getTime(),h);if(Ct>=et&&Ct<=lt){const Mt=Ct<Ke,je=Pe[Ct]||!1;(y.includes(Ct)||Mt&&je)&&xt.add(Ct)}}),xt.size},[Te,y,R,u,h,Pe]),Ue=ke=>{const We=Ot(Date.now(),h);ke<We||k(Ee=>Ee.includes(ke)?Ee.filter(et=>et!==ke):[...Ee,ke])},tt=ke=>{B(We=>We.includes(ke)?We.filter(Ae=>Ae!==ke):[...We,ke])},at=ke=>{N(We=>We.includes(ke)?We.filter(Ae=>Ae!==ke):[...We,ke])},Je=(ke,We)=>{O(Ae=>({...Ae,[ke]:We}))},Ze=(ke,We)=>{const Ae=[...q],Ee=We==="up"?ke-1:ke+1;if(Ee<0||Ee>=Ae.length)return;const et=Ae[ke];Ae[ke]=Ae[Ee],Ae[Ee]=et,B(Ae)},vt=ke=>{E(We=>We.includes(ke)?We.filter(Ae=>Ae!==ke):[...We,ke])},pt=ke=>{Z(We=>We.includes(ke)?We.filter(Ae=>Ae!==ke):[...We,ke])},Ie=()=>{const ke=parseInt(u),We=isNaN(ke)?20:ke,{start:Ae,end:Ee}=rr(R,We,h),et=[];let lt=new Date(Ae);for(;lt<=Ee;){const Ke=lt.getDay();if(Ke!==0&&Ke!==6){const xt=new Date(lt);xt.setHours(h,0,0,0);const jt=Ot(xt.getTime(),h);et.push(jt)}lt.setDate(lt.getDate()+1)}k(et)},$e=A.filter(ke=>ke.name.toLowerCase().includes(j.toLowerCase())),Ce=r.uid||((dt=mr.currentUser)==null?void 0:dt.uid),De=ke=>{if(!Ce)return console.warn("[SettingsModal] currentUserId is undefined, cannot filter by visibility"),ke;const We=ke.filter(Ae=>{if(t)return console.log(`[SettingsModal] Admin user, showing ${Ae.uid} (${Ae.name})`),!0;const Ee=Ae.visibilityMode||"PUBLIC";if(Ee==="PRIVATE")return console.log(`[SettingsModal] User ${Ae.uid} (${Ae.name}) is PRIVATE, hiding`),!1;if(Ee==="PUBLIC")return console.log(`[SettingsModal] User ${Ae.uid} (${Ae.name}) is PUBLIC, showing`),!0;if(Ee==="CUSTOM"){const et=Ae.allowedViewers||[],lt=et.includes(Ce);return console.log(`[SettingsModal] User ${Ae.uid} (${Ae.name}) is CUSTOM, allowedViewers=${JSON.stringify(et)}, currentUser=${Ce}, isAllowed=${lt}`),lt}return!0});return console.log(`[SettingsModal] Filtered users: ${We.length} out of ${ke.length}, currentUser=${Ce}, isAdmin=${t}`),We},it=De($e),Be=De($e),Ge=async()=>{if(!he)return;const ke=parseInt(u);e({inputMode:he,shimebiDay:isNaN(ke)?20:ke,businessStartHour:h,monthlyGoal:Nn(b),defaultDailyGoal:Nn(g),dutyDays:y,enabledPaymentMethods:q,customPaymentLabels:I,enabledRideTypes:V,visibilityMode:P,allowedViewers:S,followingUsers:D}),ee(he),oe(!1),ve(null),he==="SIMPLE"&&a&&(s(),setTimeout(()=>a(),100))},mt=()=>{const ke=parseInt(u);e({shimebiDay:isNaN(ke)?20:ke,businessStartHour:h,monthlyGoal:Nn(b),defaultDailyGoal:Nn(g),dutyDays:y,enabledPaymentMethods:q,customPaymentLabels:I,userName:F,enabledRideTypes:V,visibilityMode:P,allowedViewers:S,followingUsers:D,inputMode:K==="DETAILED"?"DETAILED":r.inputMode}),s()};return Ot(Date.now(),h),console.log("[SettingsModal] Rendering modal, activeTab:",c),w.jsx(Zs,{onClose:s,children:w.jsxs("div",{className:"space-y-6 pb-6 bg-[#131C2B]",children:[w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsxs("h3",{className:"text-xl font-black text-white flex items-center gap-2",children:[w.jsx(U1,{className:"w-6 h-6 text-gray-400"})," "]}),w.jsx("button",{onClick:s,className:"p-2 bg-gray-800 rounded-full text-gray-400 hover:text-white active:scale-95",children:w.jsx(_s,{className:"w-5 h-5"})})]}),w.jsxs("div",{className:"flex gap-2 bg-gray-900/50 p-1 rounded-xl",children:[w.jsx("button",{onClick:()=>o("basic"),className:`flex-1 py-2 rounded-lg text-sm font-bold transition-all ${c==="basic"?"bg-gray-700 text-white shadow":"text-gray-500"}`,children:""}),w.jsx("button",{onClick:()=>o("display"),className:`flex-1 py-2 rounded-lg text-sm font-bold transition-all ${c==="display"?"bg-gray-700 text-white shadow":"text-gray-500"}`,children:""}),t&&w.jsx("button",{onClick:()=>o("admin"),className:`flex-1 py-2 rounded-lg text-sm font-bold transition-all ${c==="admin"?"bg-purple-900/50 text-purple-300 shadow border border-purple-500/30":"text-gray-500"}`,children:""})]}),w.jsxs("div",{className:"overflow-y-auto max-h-[60vh] space-y-6 pr-1 custom-scrollbar",children:[w.jsxs("div",{className:`bg-gray-800 p-5 rounded-3xl border-2 ${K==="DETAILED"?"border-blue-500":"border-gray-700"} space-y-3`,children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx("label",{className:"text-sm font-bold text-gray-400 block uppercase tracking-widest",children:""}),w.jsx("button",{onClick:()=>ne(!0),className:"p-2 text-gray-400 hover:text-blue-400 transition-colors",children:w.jsx(X4,{className:"w-5 h-5"})})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[w.jsx("button",{onClick:()=>{K!=="DETAILED"&&(ve("DETAILED"),oe(!0))},className:`p-3 rounded-2xl border-2 transition-all ${K==="DETAILED"?"border-blue-500 bg-blue-500/10 text-blue-400":"border-gray-600 bg-gray-800 text-gray-500 hover:border-gray-500"}`,children:w.jsx("div",{className:"text-xs font-black whitespace-nowrap leading-tight",children:""})}),w.jsx("button",{onClick:()=>{K!=="SIMPLE"&&(ve("SIMPLE"),oe(!0))},className:`p-3 rounded-2xl border-2 transition-all ${K==="SIMPLE"?"border-orange-500 bg-orange-500/10 text-orange-400":"border-gray-600 bg-gray-800 text-gray-500 hover:border-gray-500"}`,children:w.jsx("div",{className:"text-xs font-black whitespace-nowrap leading-tight",children:""})})]})]}),c==="basic"&&K!=="SIMPLE"&&w.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-2 duration-200",children:[w.jsxs("div",{className:`bg-gray-800 p-5 rounded-3xl border-2 ${K==="DETAILED"?"border-blue-500":"border-gray-700"} space-y-3`,children:[w.jsxs("label",{className:"text-sm font-bold text-gray-400 block uppercase tracking-widest flex items-center gap-2",children:[w.jsx(Pl,{className:"w-4 h-4"})," "]}),w.jsx("input",{type:"text",value:F,onChange:ke=>W(ke.target.value),placeholder:"",className:"bg-white text-gray-900 font-black w-full outline-none p-3 rounded-2xl border-2 border-gray-700"})]}),w.jsxs("div",{className:`bg-gray-800 p-5 rounded-3xl border-2 ${K==="DETAILED"?"border-blue-500":"border-gray-700"} space-y-5`,children:[w.jsx("label",{className:"text-lg font-black text-gray-500 uppercase tracking-widest block",children:""}),w.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[w.jsxs("div",{children:[w.jsx("label",{className:"text-sm font-bold text-gray-400 mb-2 block uppercase tracking-widest",children:""}),w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("span",{className:"text-2xl font-black text-blue-400",children:""}),w.jsx("input",{type:"text",inputMode:"numeric",value:b,onChange:ke=>x(zo(ke.target.value)),className:"bg-white text-gray-900 text-[clamp(1.6rem,6vw,2.2rem)] font-black w-full outline-none p-3 rounded-2xl border-2 border-gray-700"})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-sm font-bold text-gray-400 mb-2 block uppercase tracking-widest",children:""}),w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("span",{className:"text-2xl font-black text-amber-400",children:""}),w.jsx("input",{type:"text",inputMode:"numeric",value:g,onChange:ke=>v(zo(ke.target.value)),className:"bg-white text-gray-900 text-[clamp(1.6rem,6vw,2.2rem)] font-black w-full outline-none p-3 rounded-2xl border-2 border-gray-700"})]})]})]})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[w.jsxs("div",{className:`bg-gray-800 p-4 rounded-2xl border-2 ${K==="DETAILED"?"border-blue-500":"border-gray-700"} relative`,children:[w.jsx("label",{className:"text-lg font-bold text-gray-400 mb-2 block uppercase tracking-widest",children:""}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsxs("select",{value:u,onChange:ke=>p(ke.target.value),className:"bg-white text-gray-900 text-2xl font-black w-full outline-none p-2 rounded-xl border-2 border-gray-700 appearance-none cursor-pointer",children:[w.jsx("option",{value:"0",children:""}),Array.from({length:28}).map((ke,We)=>w.jsxs("option",{value:We+1,children:[We+1,""]},We+1))]}),w.jsx(ra,{className:"absolute right-6 top-12 pointer-events-none text-gray-500 w-6 h-6"})]})]}),w.jsxs("div",{className:`bg-gray-800 p-4 rounded-2xl border-2 ${K==="DETAILED"?"border-blue-500":"border-gray-700"} relative`,children:[w.jsx("label",{className:"text-lg font-bold text-gray-400 mb-2 block uppercase tracking-widest text-nowrap",children:""}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("select",{value:h,onChange:ke=>d(parseInt(ke.target.value)),className:"bg-white text-gray-900 text-2xl font-black w-full outline-none p-2 rounded-xl border-2 border-gray-700 appearance-none cursor-pointer",children:Array.from({length:24}).map((ke,We)=>w.jsxs("option",{value:We,children:[String(We).padStart(2,"0"),":00"]},We))}),w.jsx(ra,{className:"absolute right-6 top-12 pointer-events-none text-gray-500 w-6 h-6"})]})]})]}),w.jsxs("div",{className:`bg-gray-800 p-5 rounded-3xl border-2 ${K==="DETAILED"?"border-blue-500":"border-gray-700"} shadow-inner`,children:[w.jsxs("div",{className:"flex flex-col mb-4",children:[w.jsx("div",{className:"flex justify-between items-center mb-4",children:w.jsxs("h3",{className:"text-xl font-black text-white flex items-center gap-2",children:[w.jsx(Nl,{className:"w-6 h-6 text-yellow-500"})," "]})}),w.jsxs("div",{className:"mt-4 bg-gray-800 rounded-xl p-4 border-2 border-orange-500/50",children:[w.jsx("div",{className:"text-sm text-gray-400 mb-1",children:""}),w.jsxs("div",{className:"text-2xl font-black text-white",children:[Xe," "]})]}),w.jsxs("div",{className:"mt-4 flex items-center justify-between bg-gray-950 rounded-2xl p-2 border-2 border-gray-700",children:[w.jsx("button",{onClick:()=>{const ke=parseInt(u),We=isNaN(ke)?20:ke,{start:Ae}=rr(R,We,h),Ee=new Date(Ae);Ee.setMonth(Ee.getMonth()-1);const{start:et}=rr(Ee,We,h);z(et)},className:"p-3 text-gray-400 active:scale-90",children:w.jsx(za,{className:"w-6 h-6"})}),w.jsx("span",{className:"text-xl font-black text-white",children:Re}),w.jsx("button",{onClick:()=>{const ke=parseInt(u),We=isNaN(ke)?20:ke,{start:Ae}=rr(R,We,h),Ee=new Date(Ae);Ee.setMonth(Ee.getMonth()+1);const{start:et}=rr(Ee,We,h);z(et)},className:"p-3 text-gray-400 active:scale-90",children:w.jsx(Bs,{className:"w-6 h-6"})})]})]}),w.jsx("div",{className:"grid grid-cols-7 gap-2 mb-2",children:["","","","","","",""].map(ke=>w.jsx("div",{className:"text-center text-sm font-bold text-gray-400",children:ke},ke))}),w.jsx("div",{className:"grid grid-cols-7 gap-2",children:Te.map(ke=>{const We=new Date(ke);We.setHours(h,0,0,0);const Ae=Ot(We.getTime(),h),Ee=Ht(ke),et=y.includes(Ae),lt=Ot(Date.now(),h),Ke=Ae===lt,xt=Ae<lt,jt=Pe[Ae]||!1,At=xt&&jt,Ct=!xt||!jt;return w.jsx("button",{onClick:()=>Ue(Ae),disabled:At,className:`aspect-square rounded-xl flex items-center justify-center transition-all ${xt&&jt?"bg-yellow-500 text-gray-900 font-black cursor-not-allowed":xt&&!jt?"bg-gray-800/50 text-gray-500":et?"bg-orange-500 text-gray-900 font-black":"bg-gray-800 text-white font-bold hover:bg-gray-700"} ${Ke?"ring-2 ring-orange-500":""} ${Ct?"active:scale-95":""}`,children:w.jsx("span",{className:"text-base",children:ke.getDate()})},Ee)})}),w.jsxs("button",{onClick:Ie,className:"w-full mt-4 py-3 bg-gray-800 border border-gray-700 rounded-xl text-sm font-bold text-gray-400 hover:bg-gray-700 active:scale-95 transition-all flex items-center justify-center gap-2",children:[w.jsx(Nl,{className:"w-4 h-4"})," (20)"]})]})]}),c==="display"&&w.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-2 duration-200",children:[w.jsxs("div",{className:`bg-gray-800 p-5 rounded-3xl border-2 ${K==="DETAILED"?"border-blue-500":"border-gray-700"} space-y-4`,children:[w.jsxs("label",{className:"text-lg font-black text-gray-500 uppercase tracking-widest block flex items-center gap-2",children:[w.jsx(Yg,{className:"w-5 h-5"})," "]}),w.jsx("div",{className:"p-3 bg-blue-900/10 border border-blue-500/20 rounded-xl text-[15px] text-blue-300 mb-2",children:w.jsx("p",{children:""})}),w.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[w.jsxs("button",{onClick:()=>C("PUBLIC"),className:`flex flex-col items-center gap-2 p-3 rounded-xl border transition-all ${P==="PUBLIC"?"bg-green-500/10 border-green-500 text-green-400":"bg-gray-800 border-gray-700 text-gray-500 hover:bg-gray-700"}`,children:[w.jsx(K4,{size:24}),w.jsxs("div",{className:"text-center",children:[w.jsx("p",{className:"text-xs font-bold",children:""}),w.jsx("p",{className:"text-[9px] opacity-70",children:""})]})]}),w.jsxs("button",{onClick:()=>C("CUSTOM"),className:`flex flex-col items-center gap-2 p-3 rounded-xl border transition-all ${P==="CUSTOM"?"bg-amber-500/10 border-amber-500 text-amber-400":"bg-gray-800 border-gray-700 text-gray-500 hover:bg-gray-700"}`,children:[w.jsx(Rl,{size:24}),w.jsxs("div",{className:"text-center",children:[w.jsx("p",{className:"text-xs font-bold",children:""}),w.jsx("p",{className:"text-[9px] opacity-70",children:""})]})]}),w.jsxs("button",{onClick:()=>C("PRIVATE"),className:`flex flex-col items-center gap-2 p-3 rounded-xl border transition-all ${P==="PRIVATE"?"bg-red-500/10 border-red-500 text-red-400":"bg-gray-800 border-gray-700 text-gray-500 hover:bg-gray-700"}`,children:[w.jsx(Yg,{size:24}),w.jsxs("div",{className:"text-center",children:[w.jsx("p",{className:"text-xs font-bold",children:""}),w.jsx("p",{className:"text-[9px] opacity-70",children:""})]})]})]}),P==="CUSTOM"&&w.jsxs("div",{className:"bg-gray-950 p-4 rounded-xl border border-gray-800 space-y-3 animate-in fade-in slide-in-from-top-2",children:[w.jsxs("div",{className:"flex items-center gap-2 bg-gray-900 p-2 rounded-lg border border-gray-700",children:[w.jsx(Qv,{size:16,className:"text-gray-500"}),w.jsx("input",{type:"text",placeholder:"...",value:j,onChange:ke=>L(ke.target.value),className:"bg-transparent text-sm text-white w-full focus:outline-none"})]}),w.jsx("div",{className:"max-h-48 overflow-y-auto space-y-1 custom-scrollbar",children:it.length>0?it.map(ke=>{const We=S.includes(ke.uid);return w.jsxs("div",{onClick:()=>vt(ke.uid),className:`flex items-center justify-between p-3 rounded-lg cursor-pointer transition-colors border ${We?"bg-amber-500/10 border-amber-500/30":"bg-gray-900 border-gray-800 hover:bg-gray-800"}`,children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:`p-1.5 rounded-full ${We?"bg-amber-500 text-black":"bg-gray-800 text-gray-500"}`,children:We?w.jsx(o9,{size:14}):w.jsx(c9,{size:14})}),w.jsx("span",{className:`text-sm font-bold ${We?"text-white":"text-gray-500"}`,children:ke.name})]}),We&&w.jsx(Jd,{size:16,className:"text-amber-500"})]},ke.uid)}):w.jsx("p",{className:"text-center text-[10px] text-gray-600 py-4",children:""})}),w.jsxs("p",{className:"text-[10px] text-gray-500 text-right",children:[" ",S.length," "]})]})]}),w.jsxs("div",{className:`bg-gray-800 p-5 rounded-3xl border-2 ${K==="DETAILED"?"border-blue-500":"border-gray-700"} space-y-4`,children:[w.jsxs("label",{className:"text-lg font-black text-gray-500 uppercase tracking-widest block flex items-center gap-2",children:[w.jsx(Rl,{className:"w-5 h-5"})," "]}),w.jsxs("div",{className:"p-3 bg-gray-800/50 border border-gray-700 rounded-xl text-[15px] text-gray-400 mb-2",children:[w.jsx("p",{children:""}),w.jsx("p",{children:""})]}),w.jsxs("div",{className:"bg-gray-950 p-4 rounded-xl border border-gray-800 space-y-3",children:[w.jsxs("div",{className:"flex items-center gap-2 bg-gray-900 p-2 rounded-lg border border-gray-700",children:[w.jsx(Qv,{size:16,className:"text-gray-500"}),w.jsx("input",{type:"text",placeholder:"...",value:j,onChange:ke=>L(ke.target.value),className:"bg-transparent text-sm text-white w-full focus:outline-none"})]}),w.jsx("div",{className:"max-h-48 overflow-y-auto space-y-1 custom-scrollbar",children:Be.length>0?Be.map(ke=>{const We=D.includes(ke.uid);return w.jsxs("div",{onClick:()=>pt(ke.uid),className:`flex items-center justify-between p-3 rounded-lg cursor-pointer transition-colors border ${We?"bg-blue-500/10 border-blue-500/30":"bg-gray-900 border-gray-800 hover:bg-gray-800"}`,children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:`p-1.5 rounded-full ${We?"bg-blue-500 text-white":"bg-gray-800 text-gray-500"}`,children:We?w.jsx(Jd,{size:14}):w.jsx(q4,{size:14})}),w.jsx("span",{className:`text-sm font-bold ${We?"text-white":"text-gray-500"}`,children:ke.name})]}),We&&w.jsx("span",{className:"text-[10px] font-bold text-blue-400",children:""})]},ke.uid)}):w.jsx("p",{className:"text-center text-[10px] text-gray-600 py-4",children:""})}),w.jsxs("p",{className:"text-[10px] text-gray-500 text-right",children:[" ",D.length," "]})]})]}),K==="DETAILED"&&w.jsxs("div",{className:"bg-gray-800 p-5 rounded-3xl border-2 border-blue-500",children:[w.jsx("label",{className:"text-lg font-black text-gray-500 uppercase tracking-widest mb-2 block",children:""}),w.jsx("p",{className:"text-sm text-gray-400 mb-5",children:""}),w.jsx("div",{className:"space-y-3 mb-5",children:q.map((ke,We)=>w.jsx("div",{className:"flex flex-col gap-2 bg-[#1A2536] border border-gray-700 p-3 rounded-2xl",children:w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("input",{type:"text",value:I[ke]!==void 0?I[ke]:"",placeholder:va[ke],onChange:Ae=>Je(ke,Ae.target.value),className:"w-1/2 bg-gray-900 text-white text-lg font-black px-3 py-2 rounded-xl border border-gray-700 outline-none focus:border-blue-500"}),w.jsxs("div",{className:"flex-1 flex justify-end gap-2",children:[w.jsx("button",{onClick:()=>Ze(We,"up"),disabled:We===0,className:"p-2 bg-gray-800 rounded-xl text-gray-400 disabled:opacity-20 active:scale-90",children:w.jsx(bT,{className:"w-5 h-5"})}),w.jsx("button",{onClick:()=>Ze(We,"down"),disabled:We===q.length-1,className:"p-2 bg-gray-800 rounded-xl text-gray-400 disabled:opacity-20 active:scale-90",children:w.jsx(fT,{className:"w-5 h-5"})}),w.jsx("button",{onClick:()=>tt(ke),className:"p-2 bg-red-500/20 text-red-500 rounded-xl active:scale-90",children:w.jsx(_s,{className:"w-5 h-5"})})]})]})},ke))}),w.jsxs("div",{className:"border-t border-gray-800 pt-4",children:[w.jsx("p",{className:"text-sm font-bold text-gray-500 uppercase mb-4 tracking-widest",children:""}),w.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.keys(va).filter(ke=>!q.includes(ke)).map(ke=>w.jsxs("button",{onClick:()=>tt(ke),className:"p-3 bg-gray-800/50 border border-gray-700 rounded-2xl text-gray-500 text-base font-bold active:scale-95 text-left flex items-center justify-between",children:[w.jsx("span",{className:"truncate mr-1",children:I[ke]||va[ke]}),w.jsx(Jd,{className:"w-5 h-5 opacity-10 flex-shrink-0"})]},ke))})]})]}),K==="DETAILED"&&w.jsxs("div",{className:"bg-gray-800 p-5 rounded-3xl border-2 border-blue-500",children:[w.jsxs("label",{className:"text-lg font-black text-gray-500 uppercase tracking-widest mb-2 block flex items-center gap-2",children:[w.jsx(ci,{className:"w-5 h-5"})," "]}),w.jsx("p",{className:"text-sm text-gray-400 mb-3",children:""}),w.jsx("div",{className:"grid grid-cols-3 gap-2",children:Dl.map(ke=>w.jsx("button",{onClick:()=>at(ke),className:`p-2 rounded-xl text-xs font-bold border transition-all ${V.includes(ke)?"bg-amber-500 text-black border-amber-400":"bg-gray-800 text-gray-500 border-gray-700"}`,children:Ki[ke]},ke))})]})]}),c==="admin"&&t&&w.jsx("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-2 duration-200",children:w.jsxs("div",{className:"bg-purple-900/20 p-4 rounded-2xl border border-purple-500/30",children:[w.jsxs("h4",{className:"text-sm font-black text-purple-300 mb-3 flex items-center gap-2",children:[w.jsx(Rl,{className:"w-4 h-4"}),"  ()"]}),w.jsxs("p",{className:"text-[10px] text-gray-400 mb-4",children:["",w.jsx("br",{}),w.jsx("span",{className:"text-red-400 font-bold",children:""})]}),w.jsx("div",{className:"space-y-2 max-h-[300px] overflow-y-auto custom-scrollbar",children:de.map(ke=>w.jsxs("button",{onClick:()=>i&&i(ke.uid),className:"w-full bg-gray-900 hover:bg-gray-800 p-3 rounded-xl flex justify-between items-center border border-gray-700 active:scale-95 transition-all",children:[w.jsxs("div",{className:"text-left",children:[w.jsx("span",{className:"block text-sm font-bold text-white",children:ke.name||""}),w.jsx("span",{className:"text-[10px] text-gray-500",children:ke.uid})]}),w.jsx("div",{className:"text-right",children:w.jsx("span",{className:"text-[10px] bg-gray-800 px-2 py-1 rounded text-gray-400",children:ke.lastUpdated?new Date(ke.lastUpdated).toLocaleDateString():"-"})})]},ke.uid))})]})}),t&&n&&w.jsx("div",{className:"pt-4 border-t border-gray-800 animate-in fade-in",children:w.jsx(mS,{onImport:n,isAdmin:t,users:A,customPaymentLabels:r.customPaymentLabels,enabledPaymentMethods:r.enabledPaymentMethods})})]}),c!=="admin"&&w.jsx("button",{onClick:mt,className:"w-full bg-amber-500 py-4 rounded-2xl font-black text-2xl text-black shadow-lg active:scale-95 transition-transform mt-5",children:""}),c==="basic"&&K==="SIMPLE"&&w.jsx("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-2 duration-200 mt-4",children:w.jsxs("div",{className:"bg-orange-900/20 p-5 rounded-3xl border border-orange-500/30 space-y-3",children:[w.jsx("div",{className:"text-center text-orange-300 font-black text-base",children:""}),w.jsx("div",{className:"text-xs text-orange-200 text-center",children:""})]})}),re&&he&&w.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm",children:w.jsxs("div",{className:"bg-[#131C2B] p-6 rounded-3xl space-y-6 max-w-md w-full mx-4",children:[w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsxs("h3",{className:"text-xl font-black text-white",children:[he==="DETAILED"?"":"",""]}),w.jsx("button",{onClick:()=>{oe(!1),ve(null)},className:"p-2 bg-gray-800 rounded-full text-gray-400 hover:text-white active:scale-95",children:w.jsx(_s,{className:"w-5 h-5"})})]}),w.jsxs("div",{className:"flex gap-3",children:[w.jsx("button",{onClick:()=>{oe(!1),ve(null)},className:"flex-1 py-3 bg-gray-800 text-gray-300 font-bold rounded-xl border border-gray-700 hover:bg-gray-700 transition-colors",children:""}),w.jsx("button",{onClick:Ge,className:"flex-1 py-3 bg-orange-500 text-white font-black rounded-xl hover:bg-orange-600 active:scale-95 transition-all",children:""})]})]})}),me&&w.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm",children:w.jsxs("div",{className:"bg-[#131C2B] p-6 rounded-3xl space-y-6 max-w-md w-full mx-4 max-h-[80vh] overflow-y-auto",children:[w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsxs("h3",{className:"text-xl font-black text-white flex items-center gap-2",children:[w.jsx(L1,{className:"w-6 h-6 text-blue-400"})," "]}),w.jsx("button",{onClick:()=>ne(!1),className:"p-2 bg-gray-800 rounded-full text-gray-400 hover:text-white active:scale-95",children:w.jsx(_s,{className:"w-5 h-5"})})]}),w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"bg-gray-800 p-5 rounded-2xl border-2 border-blue-500",children:[w.jsx("h4",{className:"text-lg font-black text-blue-400 mb-3",children:""}),w.jsx("p",{className:"text-sm text-white leading-relaxed",children:"1"}),w.jsx("p",{className:"text-sm text-gray-300 leading-relaxed mt-2",children:""})]}),w.jsxs("div",{className:"bg-gray-800 p-5 rounded-2xl border-2 border-orange-500",children:[w.jsx("h4",{className:"text-lg font-black text-orange-400 mb-3",children:""}),w.jsx("p",{className:"text-sm text-white leading-relaxed",children:"1"}),w.jsx("p",{className:"text-sm text-gray-300 leading-relaxed mt-2",children:""})]})]}),w.jsx("button",{onClick:()=>ne(!1),className:"w-full py-4 bg-blue-500 text-white font-black rounded-xl hover:bg-blue-600 active:scale-95 transition-all",children:"OK"})]})}),w.jsx("div",{className:"pt-6 border-t border-gray-800",children:w.jsxs("button",{onClick:()=>{window.confirm("")&&UA(mr)},className:"w-full bg-red-900/20 text-red-500 font-bold py-3 rounded-xl border border-red-900/50 hover:bg-red-900/30 active:scale-[0.98] transition-all flex items-center justify-center gap-2",children:[w.jsx(Q4,{className:"w-4 h-4"})," "]})})]})})},B4=({onSelect:r,onClose:t,isInitialLogin:e=!1})=>{const[n,s]=_e.useState(null),[i,a]=_e.useState(!1);_e.useEffect(()=>{e&&a(!0)},[e]);const l=()=>{a(!1),r("SIMPLE")},c=()=>{a(!1)},o=()=>{n&&r(n)};return i?w.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:w.jsxs("div",{className:"bg-[#131C2B] rounded-2xl p-6 max-w-md w-full space-y-6 border border-amber-500/30 shadow-2xl animate-in fade-in duration-300",children:[w.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[w.jsx("div",{className:"bg-amber-500/20 rounded-full p-3",children:w.jsx(Z4,{className:"w-6 h-6 text-amber-400"})}),w.jsx("h2",{className:"text-xl font-black text-white",children:""})]}),w.jsx("div",{className:"space-y-4",children:w.jsxs("p",{className:"text-base text-gray-200 leading-relaxed text-center",children:["",w.jsx("br",{}),"",w.jsx("strong",{className:"text-amber-400",children:""}),"",w.jsx("br",{}),"",w.jsx("br",{}),w.jsx("br",{}),"",w.jsx("br",{}),"",w.jsx("br",{}),"",w.jsx("br",{}),w.jsx("br",{}),w.jsx("strong",{className:"text-amber-400",children:""}),""]})}),w.jsxs("div",{className:"flex gap-3 pt-2",children:[w.jsx("button",{onClick:c,className:"flex-1 py-3 rounded-xl font-bold text-base bg-gray-700 text-gray-300 hover:bg-gray-600 transition-all active:scale-95",children:""}),w.jsx("button",{onClick:l,className:"flex-1 py-3 rounded-xl font-black text-base bg-amber-500 text-white hover:bg-amber-600 transition-all active:scale-95 shadow-lg shadow-amber-500/30",children:""})]})]})}):w.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:w.jsxs("div",{className:"bg-[#131C2B] rounded-2xl p-6 max-w-md w-full space-y-6 border border-gray-700 shadow-2xl",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(L1,{className:"w-5 h-5 text-gray-400"}),w.jsx("h2",{className:"text-xl font-black text-white",children:e?"":""})]}),t&&w.jsx("button",{onClick:t,className:"p-1 text-gray-400 hover:text-white transition-colors",children:w.jsx(_s,{className:"w-5 h-5"})})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("button",{onClick:()=>s("DETAILED"),className:`w-full p-4 rounded-xl border-2 transition-all text-left ${n==="DETAILED"?"border-blue-500 bg-blue-500/20 shadow-lg shadow-blue-500/20":"border-blue-500/30 bg-blue-500/5 hover:border-blue-500/50 hover:bg-blue-500/10"}`,children:[w.jsx("h3",{className:"text-base font-black text-white mb-2",children:""}),w.jsx("p",{className:"text-sm text-gray-300 leading-relaxed",children:"1"})]}),w.jsxs("button",{onClick:()=>s("SIMPLE"),className:`w-full p-4 rounded-xl border-2 transition-all text-left ${n==="SIMPLE"?"border-orange-500 bg-orange-500/20 shadow-lg shadow-orange-500/20":"border-orange-500/30 bg-orange-500/5 hover:border-orange-500/50 hover:bg-orange-500/10"}`,children:[w.jsx("h3",{className:"text-base font-black text-white mb-2",children:""}),w.jsx("p",{className:"text-sm text-gray-300 leading-relaxed",children:"1"})]})]}),w.jsx("p",{className:"text-xs text-gray-400 text-center",children:""}),w.jsx("button",{onClick:o,disabled:!n,className:`w-full py-4 rounded-xl font-black text-lg transition-all ${n?"bg-blue-500 text-white hover:bg-blue-600 active:scale-95":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:"OK"})]})})},ZV=({stats:r,onUpdateStats:t,initialDate:e,initialRecordId:n,onClearInitialDate:s,onBack:i})=>{const[a,l]=_e.useState(()=>e?typeof e=="string"?new Date(e):e:new Date),[c,o]=_e.useState(""),[u,p]=_e.useState(""),[h,d]=_e.useState(""),[b,x]=_e.useState(""),[g,v]=_e.useState(""),[y,k]=_e.useState(""),[R,z]=_e.useState(""),[q,B]=_e.useState(""),[I,O]=_e.useState(!1),[F,W]=_e.useState(""),[V,N]=_e.useState(!1),[P,C]=_e.useState(!1),S=!!e&&!!n,E=r.businessStartHour??9,A=Ot(a.getTime(),E),T=async(K,ee,G)=>{if(!ee||ee.length===0){console.log(`[SimpleInputView] No records to save for ${G}/${K}/history`);return}console.log(`[SimpleInputView] Starting to save ${ee.length} records to ${G}/${K}/history`),console.log("[SimpleInputView] Sample record IDs:",ee.slice(0,5).map(te=>te.id));try{const te=or(Lt,G,K);(await Fs(te)).exists()||(console.log(`[SimpleInputView] Parent document ${G}/${K} does not exist, creating...`),await ln(te,{_created:new Date().toISOString()},{merge:!0}),console.log("[SimpleInputView]  Parent document created"));let U=0,Q=0;console.log(`[SimpleInputView] Saving ${ee.length} records to ${G}/${K}/history using writeBatch`);const ie=500;for(let re=0;re<ee.length;re+=ie){const oe=ee.slice(re,re+ie),he=F0(Lt);let ve=0;console.log(`[SimpleInputView] Processing batch ${Math.floor(re/ie)+1}, records: ${oe.length}`);for(const me of oe){if(!me.id){console.warn("[SimpleInputView] Record missing ID, skipping:",me);continue}const ne=or(Lt,G,K,"history",me.id),de=`${G}/${K}/history/${me.id}`;he.set(ne,me,{merge:!1}),ve++}if(ve>0){console.log(`[SimpleInputView] Committing batch with ${ve} records...`),console.log(`[SimpleInputView] Batch will write to: ${G}/${K}/history`);try{if(await he.commit(),U+=ve,console.log(`[SimpleInputView]  Committed batch: ${ve} records (total: ${U}/${ee.length})`),oe.length>0&&oe[0].id){const me=or(Lt,G,K,"history",oe[0].id);(await Fs(me)).exists()?console.log(`[SimpleInputView]  Verified: Record ${oe[0].id} exists in subcollection`):console.error(`[SimpleInputView]  WARNING: Record ${oe[0].id} NOT found in subcollection after commit!`)}}catch(me){Q+=ve,console.error("[SimpleInputView]  Batch commit failed:",me),console.error("[SimpleInputView] Batch error details:",{message:me==null?void 0:me.message,code:me==null?void 0:me.code,stack:me==null?void 0:me.stack}),console.log("[SimpleInputView] Retrying with individual setDoc() calls...");for(const ne of oe)if(ne.id)try{const de=or(Lt,G,K,"history",ne.id);await ln(de,ne,{merge:!1}),U++,Q--,console.log(`[SimpleInputView]  Saved individual record: ${ne.id}`)}catch(de){console.error(`[SimpleInputView]  Failed to save individual record ${ne.id}:`,de)}}}else console.warn(`[SimpleInputView] Batch ${Math.floor(re/ie)+1} has no valid records to save`)}Q>0?console.warn(`[SimpleInputView]  Completed with errors: ${U} saved, ${Q} failed`):console.log(`[SimpleInputView]  Successfully saved ${U} records to ${G}/${K}/history`)}catch(te){console.error(`[SimpleInputView]  Error saving to ${G}/${K}/history:`,te),console.error("[SimpleInputView] Error details:",{message:te==null?void 0:te.message,code:te==null?void 0:te.code,stack:te==null?void 0:te.stack})}},j=async(K,ee,G)=>{try{const te=or(Lt,G,K,"history",ee);await O0(te),console.log(`[SimpleInputView] Deleted record ${ee} from ${G}/${K}/history`)}catch{console.log(`[SimpleInputView] Record ${ee} may not exist in subcollection, ignoring delete error`)}};_e.useEffect(()=>{(async()=>{var ee,G,te,H,U,Q;try{const ie=(ee=mr.currentUser)==null?void 0:ee.uid;if(!ie)return;const re=Gr(Lt,"users",ie,"history"),oe=Hr(re,un("timestamp","desc")),he=await Zr(oe),ve=[];he.forEach(ne=>{ve.push(ne.data())});const me=n?ve.find(ne=>{var de;return ne.id===n&&((de=ne.remarks)==null?void 0:de.includes(""))}):ve.find(ne=>{var xe;return Ot(ne.timestamp,E)===A&&((xe=ne.remarks)==null?void 0:xe.includes(""))});if(me){o(me.amount.toString());let ne="";const de=(G=me.remarks)==null?void 0:G.match(/=(\d+)/);de&&(ne=de[1]),p(ne);let xe="",Te="";const Re=(te=me.remarks)==null?void 0:te.match(/(\d+)(\d+)/);Re&&(xe=Re[1],Te=Re[2]),d(xe),x(Te);let Pe="",Xe="";const Ue=(H=me.remarks)==null?void 0:H.match(/=(\d{2}:\d{2})/),tt=(U=me.remarks)==null?void 0:U.match(/=(\d{2}:\d{2})/);Ue&&(Pe=Ue[1]),tt&&(Xe=tt[1]),v(Pe),k(Xe);let at="";const Je=(Q=me.remarks)==null?void 0:Q.match(/=(.+)$/);Je&&(at=Je[1]),z(at)}else o(""),p(""),d(""),x(""),v(""),k(""),z("")}catch(ie){console.error(":",ie)}})()},[A,E,n]),_e.useEffect(()=>{e&&l(typeof e=="string"?new Date(e):e)},[e]);const L=async()=>{var K;if(!I){if(!c||!u){alert("");return}O(!0),W("");try{const ee=parseInt(c.replace(/,/g,""),10),G=parseInt(u,10),te=parseInt(h||"0",10),H=parseInt(b||"0",10),U=te*60+H,Q=new Date(a);Q.setHours(E,0,0,0);const ie=Q.getTime(),re=A.replace(/\//g,"-");let oe=`: =${G}, =${te}${H}`;g&&(oe+=`, =${g}`),y&&(oe+=`, =${y}`),R&&(oe+=`, =${R}`);const he={id:n||`simple_${re}_${Date.now()}`,amount:ee,toll:0,paymentMethod:"CASH",nonCashAmount:0,rideType:"FLOW",timestamp:ie,remarks:oe},ve=(K=mr.currentUser)==null?void 0:K.uid;if(!ve)return;const me=new Date(a);me.setHours(E,0,0,0);const ne=new Date(me);ne.setDate(ne.getDate()+1);const de=me.getTime(),xe=ne.getTime()-1,Te=Gr(Lt,"users",ve,"history"),Re=Hr(Te,Ss("timestamp",">=",de),Ss("timestamp","<=",xe)),Pe=await Zr(Re),Xe=[];if(Pe.forEach(Ge=>{Xe.push(Ge.data())}),!n){const Ge=Xe.filter(mt=>{var ke;return Ot(mt.timestamp,E)===A&&!((ke=mt.remarks)!=null&&ke.includes(""))});if(Ge.length>0){const mt=Ge.reduce((ke,We)=>ke+We.amount,0);if(!window.confirm(`${Lr(mt)}
${Lr(ee)}



OK
`)){O(!1);return}}}const Ue=Xe.filter(Ge=>{var We;const dt=Ot(Ge.timestamp,E)===A,ke=(We=Ge.remarks)==null?void 0:We.includes("");return n&&Ge.id===n||dt&&ke}),tt=F0(Lt);for(const Ge of Ue){const mt=or(Lt,"users",ve,"history",Ge.id);tt.delete(mt);const dt=or(Lt,"public_status",ve,"history",Ge.id);tt.delete(dt)}Ue.length>0&&(await tt.commit(),console.log(`[SimpleInputView] Deleted ${Ue.length} records from both users and public_status subcollections`)),T(ve,[he],"users").catch(Ge=>{console.error("[SimpleInputView] Failed to save to users subcollection:",Ge)}),T(ve,[he],"public_status").catch(Ge=>{console.error("[SimpleInputView] Failed to save to public_status subcollection:",Ge)});const at=Gr(Lt,"public_status",ve,"history"),Je=Hr(at,un("timestamp","desc")),Ze=await Zr(Je),vt=[];Ze.forEach(Ge=>{vt.push(Ge.data())});const Ie=Gf(r,vt,null).totalSales,$e=vt.filter(Ge=>{var mt;return!((mt=Ge.remarks)!=null&&mt.includes(""))}).sort((Ge,mt)=>mt.amount-Ge.amount).slice(0,20),Ce=or(Lt,"public_status",ve),it=(await Fs(Ce)).data()||{},Be={monthlyTotal:Ie,monthlyGoal:r.monthlyGoal||it.monthlyGoal||1e6,topRecords:$e,name:r.userName||it.name||"",lastUpdated:Date.now()};await ln(Ce,Be,{merge:!0}),W(""),setTimeout(()=>W(""),3e3),s&&s(),S&&i&&setTimeout(()=>i(),1500)}catch(ee){console.error(":",ee),alert("")}finally{O(!1)}}},D=async()=>{var K;if(n){C(!0);try{const ee=(K=mr.currentUser)==null?void 0:K.uid;if(!ee)return;await j(ee,n,"users"),await j(ee,n,"public_status");const G=Gr(Lt,"public_status",ee,"history"),te=Hr(G,un("timestamp","desc")),H=await Zr(te),U=[];H.forEach(ne=>{U.push(ne.data())});const ie=Gf(r,U,null).totalSales,re=U.filter(ne=>{var de;return!((de=ne.remarks)!=null&&de.includes(""))}).sort((ne,de)=>de.amount-ne.amount).slice(0,20),oe=or(Lt,"public_status",ee),ve=(await Fs(oe)).data()||{},me={monthlyTotal:ie,monthlyGoal:r.monthlyGoal||ve.monthlyGoal||1e6,topRecords:re,name:r.userName||ve.name||"",lastUpdated:Date.now()};await ln(oe,me,{merge:!0}),N(!1),i&&i()}catch(ee){console.error(":",ee),alert(""),C(!1)}}},Z=_e.useMemo(()=>{const K=[],ee=new Date;for(let G=-6;G<=6;G++){const te=new Date(ee.getFullYear(),ee.getMonth()+G,1),H=te.getFullYear(),U=te.getMonth()+1;K.push(`${H}${U}`)}return K},[]);return _e.useEffect(()=>{if(!q){const{end:K}=rr(a,r.shimebiDay,E),ee=K.getFullYear(),G=K.getMonth()+1;B(`${ee}${G}`)}},[a,r.shimebiDay,E,q]),w.jsxs("div",{className:"pb-32 w-full overflow-hidden animate-in fade-in duration-500 bg-[#0A0E14] min-h-screen",children:[w.jsxs("div",{className:"bg-[#0A0E14] border-b border-gray-700 px-4 py-3 flex items-center justify-between sticky top-0 z-20",children:[w.jsx("button",{onClick:i,className:"w-8 h-8 flex items-center justify-center text-white",children:w.jsx(za,{className:"w-5 h-5"})}),w.jsx("h2",{className:"text-lg font-black text-white",children:S?"":""}),S&&w.jsx("button",{onClick:()=>N(!0),className:"w-8 h-8 flex items-center justify-center text-red-400 hover:text-red-300 transition-colors",children:w.jsx(d0,{className:"w-5 h-5"})}),!S&&w.jsx("div",{className:"w-8"})]}),w.jsxs("div",{className:"p-4 space-y-3",children:[w.jsx("div",{className:"bg-gray-800 rounded-xl p-4 border-2 border-orange-500/50",children:w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx(Qn,{className:"w-6 h-6 text-orange-500 flex-shrink-0"}),w.jsx("label",{className:"text-base font-bold text-white flex-shrink-0",children:""}),w.jsxs("div",{className:"flex-1 relative",children:[w.jsx("input",{type:"date",value:Ht(a).replace(/\//g,"-"),onChange:K=>{const ee=new Date(K.target.value);l(ee)},className:"absolute inset-0 opacity-0 cursor-pointer w-full z-10",id:"work-date-input"}),w.jsx("label",{htmlFor:"work-date-input",onClick:K=>{K.preventDefault();const ee=document.getElementById("work-date-input");ee&&ee.click()},className:"block text-white font-black text-base cursor-pointer text-right relative z-0",children:(()=>{const K=a,ee=K.getFullYear(),G=String(K.getMonth()+1).padStart(2,"0"),te=String(K.getDate()).padStart(2,"0"),U=["","","","","","",""][K.getDay()];return`${ee}${G}${te}(${U})`})()})]})]})}),w.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[w.jsx("div",{className:"bg-gray-800 rounded-xl p-4 border-2 border-orange-500/50",children:w.jsxs("div",{className:"flex flex-col gap-2 relative",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx(Fl,{className:"w-6 h-6 text-orange-500 flex-shrink-0"}),w.jsx("label",{className:"text-base font-bold text-white flex-shrink-0",children:""})]}),w.jsxs("div",{className:"flex-1 flex items-center justify-end gap-1 min-w-0 relative",children:[w.jsx("input",{type:"time",value:g,onChange:K=>v(K.target.value),className:"absolute inset-0 opacity-0 cursor-pointer w-full z-10",id:"start-time-input"}),w.jsx("label",{htmlFor:"start-time-input",onClick:K=>{K.preventDefault();const ee=document.getElementById("start-time-input");ee&&ee.click()},className:"block text-white font-black text-base cursor-pointer text-right relative z-0 pr-8 w-full",children:g||""}),w.jsx("div",{className:"absolute right-0 top-0 bottom-0 flex items-center pointer-events-none z-0",children:w.jsx(ra,{className:"w-5 h-5 text-orange-400"})})]})]})}),w.jsx("div",{className:"bg-gray-800 rounded-xl p-4 border-2 border-orange-500/50",children:w.jsxs("div",{className:"flex flex-col gap-2 relative",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx(Fl,{className:"w-6 h-6 text-orange-500 flex-shrink-0"}),w.jsx("label",{className:"text-base font-bold text-white flex-shrink-0",children:""})]}),w.jsxs("div",{className:"flex-1 flex items-center justify-end gap-1 min-w-0 relative",children:[w.jsx("input",{type:"time",value:y,onChange:K=>k(K.target.value),className:"absolute inset-0 opacity-0 cursor-pointer w-full z-10",id:"end-time-input"}),w.jsx("label",{htmlFor:"end-time-input",onClick:K=>{K.preventDefault();const ee=document.getElementById("end-time-input");ee&&ee.click()},className:"block text-white font-black text-base cursor-pointer text-right relative z-0 pr-8 w-full",children:y||""}),w.jsx("div",{className:"absolute right-0 top-0 bottom-0 flex items-center pointer-events-none z-0",children:w.jsx(ra,{className:"w-5 h-5 text-orange-400"})})]})]})})]}),w.jsx("div",{className:"bg-gray-800 rounded-xl p-4 border-2 border-orange-500/50",children:w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx(aE,{className:"w-6 h-6 text-yellow-500 flex-shrink-0"}),w.jsx("label",{className:"text-base font-bold text-white flex-shrink-0",children:""}),w.jsxs("div",{className:"flex-1 flex items-center justify-end gap-1 min-w-0",children:[w.jsx("input",{type:"text",value:c,onKeyDown:K=>{const ee=K.key;!/[\d0-9]/.test(ee)&&!["Backspace","Delete","Tab","Enter","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"].includes(ee)&&!(K.ctrlKey||K.metaKey)&&!(K.ctrlKey&&["a","c","v","x"].includes(ee.toLowerCase()))&&K.preventDefault()},onChange:K=>{const G=K.target.value.replace(/[^0-9]/g,"");o(G)},onFocus:K=>{const ee=K.target,G=ee.value;G&&setTimeout(()=>{const te=G.length;ee.setSelectionRange(te,te)},0)},placeholder:"0",className:"bg-transparent text-white font-black text-base focus:outline-none text-right flex-1 min-w-0",style:{maxWidth:"100%"}}),w.jsx("span",{className:"text-base text-white font-black whitespace-nowrap flex-shrink-0",children:""})]})]})}),w.jsx("div",{className:"bg-gray-800 rounded-xl p-4 border-2 border-orange-500/50",children:w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx(ci,{className:"w-6 h-6 text-yellow-500 flex-shrink-0"}),w.jsx("label",{className:"text-base font-bold text-white flex-shrink-0",children:""}),w.jsxs("div",{className:"flex-1 flex items-center justify-end gap-1 min-w-0",children:[w.jsx("input",{type:"text",value:u,onKeyDown:K=>{const ee=K.key;!/[\d0-9]/.test(ee)&&!["Backspace","Delete","Tab","Enter","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"].includes(ee)&&!(K.ctrlKey||K.metaKey)&&!(K.ctrlKey&&["a","c","v","x"].includes(ee.toLowerCase()))&&K.preventDefault()},onChange:K=>{const G=K.target.value.replace(/[^0-9]/g,"");p(G)},onFocus:K=>{const ee=K.target,G=ee.value;G&&setTimeout(()=>{const te=G.length;ee.setSelectionRange(te,te)},0)},placeholder:"0",className:"bg-transparent text-white font-black text-base focus:outline-none text-right flex-1 min-w-0",style:{maxWidth:"100%"}}),w.jsx("span",{className:"text-base text-white font-black whitespace-nowrap flex-shrink-0",children:""})]})]})}),w.jsx("div",{className:"bg-gray-800 rounded-xl p-4 border-2 border-orange-500/50",children:w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx(WE,{className:"w-6 h-6 text-yellow-500 flex-shrink-0"}),w.jsx("label",{className:"text-base font-bold text-white flex-shrink-0",children:""}),w.jsxs("div",{className:"flex-1 flex items-center justify-end",children:[w.jsx("select",{value:q,onChange:K=>B(K.target.value),className:"flex-1 bg-transparent text-white font-black text-base focus:outline-none appearance-none text-right pr-6",children:Z.map(K=>w.jsxs("option",{value:K,className:"bg-gray-800",children:[K," "]},K))}),w.jsx("span",{className:"text-gray-400 flex-shrink-0 -ml-6 pointer-events-none",children:w.jsx(ra,{className:"w-5 h-5"})})]})]})}),w.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border-2 border-orange-500/50",children:[w.jsxs("div",{className:"mb-2",children:[w.jsx("label",{className:"text-base font-bold text-white",children:""}),w.jsx("span",{className:"text-sm text-gray-400 ml-2",children:"500()"})]}),w.jsx("textarea",{value:R,onChange:K=>{K.target.value.length<=500&&z(K.target.value)},placeholder:"",rows:3,className:"w-full bg-gray-900 border border-gray-700 rounded-lg p-3 text-white font-bold text-sm focus:outline-none focus:border-orange-500 resize-none"}),w.jsxs("div",{className:"text-sm text-gray-400 mt-1 text-right",children:[R.length,"/500"]})]}),w.jsxs("button",{onClick:L,disabled:I||!c||!u,className:`w-full py-5 rounded-xl font-black text-lg transition-all flex items-center justify-center gap-2 shadow-lg mt-4 ${I||!c||!u?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-yellow-500 text-gray-900 hover:bg-yellow-600 active:scale-95"}`,children:[w.jsx(OE,{className:"w-6 h-6"}),I?"...":""]}),F&&w.jsx("div",{className:"text-center text-green-500 font-bold text-xs",children:F})]}),V&&w.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:w.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-2xl p-6 max-w-sm w-full",children:[w.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[w.jsx(s9,{className:"w-6 h-6 text-red-500 flex-shrink-0"}),w.jsx("h3",{className:"text-lg font-black text-white",children:""})]}),w.jsx("p",{className:"text-sm text-gray-300 mb-6",children:""}),w.jsxs("div",{className:"flex gap-3",children:[w.jsx("button",{onClick:()=>N(!1),disabled:P,className:"flex-1 py-3 rounded-xl font-black text-base bg-gray-800 text-gray-300 hover:bg-gray-700 transition-colors disabled:opacity-50 border border-gray-700",children:""}),w.jsx("button",{onClick:D,disabled:P,className:"flex-1 py-3 rounded-xl font-black text-base bg-red-500 text-white hover:bg-red-600 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:P?w.jsxs(w.Fragment,{children:[w.jsx("span",{className:"animate-spin",children:""}),"..."]}):w.jsxs(w.Fragment,{children:[w.jsx(d0,{className:"w-5 h-5"}),""]})})]})]})})]})},JV=["toppo2000@gmail.com","admin-user@gmail.com"],ez=({stats:r})=>{var v,y;const[t,e]=_e.useState("monthly"),[n,s]=_e.useState([]),[i,a]=_e.useState(new Date),[l,c]=_e.useState([]),o=r.businessStartHour??9,u=(v=mr.currentUser)==null?void 0:v.uid,p=((y=mr.currentUser)==null?void 0:y.email)||"",h=JV.includes(p);_e.useEffect(()=>{const k=Ls(Gr(Lt,"public_status"),R=>{const z=R.docs.map(q=>({...q.data(),uid:q.id}));s(z)});return()=>k()},[]);const d=k=>{if(k.uid===u||h)return!0;if(!r.followingUsers.includes(k.uid))return!1;const R=k.visibilityMode||"PUBLIC";return R==="PRIVATE"?!1:R==="CUSTOM"?k.allowedViewers&&k.allowedViewers.includes(u||""):!0};_e.useEffect(()=>{t==="daily"&&(async()=>{try{const R=new Date(i);R.setHours(o,0,0,0);const z=Ot(R.getTime(),o),q=[];if(n.length===0){console.log("[SimpleRankingView] publicStatusData is empty"),c([]);return}const B=new Date(i);B.setHours(o,0,0,0);const I=new Date(B);I.setDate(I.getDate()+1),I.setHours(o,0,0,0),I.setMilliseconds(I.getMilliseconds()-1);const O=B.getTime(),F=I.getTime();console.log(`[SimpleRankingView] Selected date: ${Ht(i)}, Business date: ${z}`),console.log(`[SimpleRankingView] Timestamp range: ${new Date(O).toISOString()} to ${new Date(F).toISOString()}`),console.log(`[SimpleRankingView] Start: ${Ht(B)} ${B.getHours()}:00, End: ${Ht(I)} ${I.getHours()}:00`);const W=n.filter(d);console.log(`[SimpleRankingView] Date: ${z}, Total users: ${n.length}, Filtered users: ${W.length}`);for(const V of W)try{let N=0,P=[];const C=V.businessStartHour??o,S=new Date(i);S.setHours(C,0,0,0);const E=Ot(S.getTime(),C),A=new Date(i);A.setHours(C,0,0,0);const T=new Date(A);T.setDate(T.getDate()+1),T.setHours(C,0,0,0),T.setMilliseconds(T.getMilliseconds()-1);const j=A.getTime(),L=T.getTime();console.log(`[SimpleRankingView] User ${V.name} (${V.uid}), businessStartHour: ${C}, business date: ${E}`),console.log(`[SimpleRankingView] User ${V.name}, timestamp range: ${new Date(j).toISOString()} to ${new Date(L).toISOString()}`);try{const ee=Gr(Lt,"public_status",V.uid,"history");let G;try{const te=Hr(ee,Ss("timestamp",">=",j),Ss("timestamp","<=",L),un("timestamp","asc"));G=await Zr(te)}catch(te){console.log(`[SimpleRankingView] User ${V.name} (${V.uid}), index error, trying without orderBy:`,te==null?void 0:te.code);const H=Hr(ee,Ss("timestamp",">=",j),Ss("timestamp","<=",L));G=await Zr(H)}if(G.empty){console.log(`[SimpleRankingView] User ${V.name} (${V.uid}), date ${E}: Subcollection query returned empty`);try{const te=Hr(ee,un("timestamp","desc")),H=await Zr(te);H.empty||(H.forEach(U=>{const Q=U.data();Ot(Q.timestamp,C)===E&&P.push(Q)}),console.log(`[SimpleRankingView] User ${V.name} (${V.uid}), date ${E}: Found ${P.length} records from full subcollection scan`))}catch(te){console.log(`[SimpleRankingView] User ${V.name} (${V.uid}), full scan error:`,te==null?void 0:te.code)}}else{const te=[];if(G.forEach(H=>{const U=H.data();te.push(U),Ot(U.timestamp,C)===E&&P.push(U)}),console.log(`[SimpleRankingView] User ${V.name} (${V.uid}), date ${E}: Found ${te.length} records in timestamp range, ${P.length} records match business date`),console.log(`[SimpleRankingView] User ${V.name}, records in range:`,te.map(H=>{var U;return{timestamp:new Date(H.timestamp).toISOString(),businessDate:Ot(H.timestamp,C),amount:H.amount,isSimple:(U=H.remarks)==null?void 0:U.includes("")}})),console.log(`[SimpleRankingView] User ${V.name}, matching records:`,P.map(H=>{var U;return{id:H.id,amount:H.amount,isSimple:(U=H.remarks)==null?void 0:U.includes("")}})),P.length===0||te.length<5){console.log(`[SimpleRankingView] User ${V.name} (${V.uid}), date ${E}: Trying full scan as backup`);try{const H=Hr(ee,un("timestamp","desc")),U=await Zr(H);if(!U.empty){const Q=[];U.forEach(ie=>{const re=ie.data();Ot(re.timestamp,C)===E&&Q.push(re)}),P.push(...Q),console.log(`[SimpleRankingView] User ${V.name} (${V.uid}), date ${E}: Found ${Q.length} additional records from full subcollection scan`)}}catch(H){console.log(`[SimpleRankingView] User ${V.name} (${V.uid}), full scan error:`,H==null?void 0:H.code)}}}}catch(ee){console.log(`[SimpleRankingView] User ${V.name} (${V.uid}), subcollection query error:`,ee==null?void 0:ee.code,ee==null?void 0:ee.message)}P.length===0&&(P=(V.history||[]).filter(G=>Ot(G.timestamp,C)===E),console.log(`[SimpleRankingView] User ${V.name} (${V.uid}), date ${E}: Found ${P.length} records from history array`));const D={};P.forEach(ee=>{if(ee.id&&!D[ee.id])D[ee.id]=ee;else if(!ee.id){const G=`${ee.timestamp}_${ee.amount}_${ee.pickupLocation||""}`;D[G]||(D[G]=ee)}});const Z=Object.values(D);console.log(`[SimpleRankingView] User ${V.name} (${V.uid}), date ${E}: After deduplication: ${Z.length} records (was ${P.length})`),console.log(`[SimpleRankingView] User ${V.name} (${V.uid}), records before filtering:`,Z.map(ee=>{var G;return{id:ee.id,amount:ee.amount,isSimple:(G=ee.remarks)==null?void 0:G.includes("")}}));const K=Gi(Z,C);N=K.reduce((ee,G)=>ee+(G.amount||0),0),console.log(`[SimpleRankingView] User ${V.name}, after filtering: ${K.length} records, total: ${N}`),console.log(`[SimpleRankingView] User ${V.name}, filtered records:`,K.map(ee=>{var G;return{id:ee.id,amount:ee.amount,isSimple:(G=ee.remarks)==null?void 0:G.includes("")}})),N>0&&(q.push({uid:V.uid,rank:0,name:V.name||"Unknown",amount:N,isMe:V.uid===u}),console.log(`[SimpleRankingView] Added user ${V.name} to ranking with amount: ${N}`))}catch(N){if(console.error(`[SimpleRankingView] Error processing user ${V.name} (${V.uid}):`,N),(N==null?void 0:N.code)==="failed-precondition"||(N==null?void 0:N.code)==="unavailable"){const P=V.businessStartHour??o,C=new Date(i);C.setHours(P,0,0,0);const S=Ot(C.getTime(),P),A=(V.history||[]).filter(L=>Ot(L.timestamp,P)===S);console.log(`[SimpleRankingView] User ${V.name} (${V.uid}), fallback to history array: Found ${A.length} records`);const T=Gi(A,P),j=T.reduce((L,D)=>L+(D.amount||0),0);console.log(`[SimpleRankingView] User ${V.name}, after filtering: ${T.length} records, total: ${j}`),j>0&&(q.push({uid:V.uid,rank:0,name:V.name||"Unknown",amount:j,isMe:V.uid===u}),console.log(`[SimpleRankingView] Added user ${V.name} to ranking with amount: ${j}`))}}console.log(`[SimpleRankingView] Final ranking count: ${q.length}`),q.sort((V,N)=>N.amount-V.amount),q.forEach((V,N)=>{V.rank=N+1}),c(q)}catch(R){console.error(":",R)}})()},[t,i,n,o,u,r.followingUsers,h]);const b=_e.useMemo(()=>[...n].filter(d).sort((k,R)=>(R.monthlyTotal||0)-(k.monthlyTotal||0)).map((k,R)=>({uid:k.uid,rank:R+1,name:k.name||"Unknown",amount:k.monthlyTotal||0,monthlyGoal:k.monthlyGoal||1e6,isMe:k.uid===u})),[n,u,r.followingUsers,h]),x=k=>{const R=new Date(i);R.setDate(R.getDate()+k),a(R)},g=k=>k.length===0?w.jsxs("div",{className:"text-center py-12 text-gray-600 font-bold bg-gray-900/50 rounded-3xl border border-gray-800",children:[w.jsx(zc,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),w.jsx("p",{children:""})]}):k.map((R,z)=>{var q;return w.jsxs("div",{className:`group relative overflow-hidden bg-[#1A222C] border ${R.isMe?"border-blue-500/50 bg-blue-900/10":"border-gray-800"} rounded-2xl p-4 flex items-center justify-between transition-all hover:border-gray-600`,children:[w.jsxs("div",{className:"flex items-center gap-4 z-10",children:[w.jsxs("div",{className:`text-xl font-black italic w-6 text-center ${z<3?"text-white drop-shadow-md":"text-gray-600"}`,children:["#",R.rank]}),w.jsx("div",{children:w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("span",{className:`text-sm font-bold ${R.isMe?"text-blue-400":"text-gray-200"}`,children:R.name}),R.isMe&&w.jsx("span",{className:"text-[9px] bg-blue-500 text-white px-1.5 rounded font-black",children:"YOU"})]})})]}),w.jsx("div",{className:"text-right z-10",children:w.jsx("p",{className:"text-lg font-black text-white tracking-tight",children:Lr(R.amount)})}),w.jsx("div",{className:"absolute inset-y-0 left-0 bg-white/5 z-0 transition-all duration-1000 origin-left",style:{width:`${Math.min(100,R.monthlyGoal&&R.monthlyGoal>0?R.amount/R.monthlyGoal*100:k.length>0?R.amount/(((q=k[0])==null?void 0:q.amount)||1)*100:0)}%`}})]},R.uid)});return w.jsxs("div",{className:"p-4 pb-32 space-y-6 w-full overflow-hidden animate-in fade-in duration-500",children:[w.jsxs("div",{className:"flex bg-gray-900/80 p-1.5 rounded-2xl border border-gray-800 backdrop-blur-sm sticky top-0 z-20 shadow-lg",children:[w.jsxs("button",{onClick:()=>e("monthly"),className:`flex-1 py-3 rounded-xl font-black transition-all flex items-center justify-center gap-2 text-sm whitespace-nowrap ${t==="monthly"?"bg-blue-500 text-white shadow-lg scale-[1.02]":"text-gray-500 hover:bg-white/5"}`,children:[w.jsx(Xg,{className:"w-4 h-4"})," "]}),w.jsxs("button",{onClick:()=>e("daily"),className:`flex-1 py-3 rounded-xl font-black transition-all flex items-center justify-center gap-2 text-sm whitespace-nowrap ${t==="daily"?"bg-orange-500 text-white shadow-lg scale-[1.02]":"text-gray-500 hover:bg-white/5"}`,children:[w.jsx(Qn,{className:"w-4 h-4"})," "]})]}),t==="daily"&&w.jsx("div",{className:"bg-gray-800 rounded-2xl p-4 border border-gray-700",children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx("button",{onClick:()=>x(-1),className:"p-2 rounded-xl bg-gray-700 hover:bg-gray-600 transition-colors",children:w.jsx(za,{className:"w-5 h-5 text-white"})}),w.jsx("div",{className:"flex-1 text-center",children:w.jsx("input",{type:"date",value:Ht(i).replace(/\//g,"-"),onChange:k=>a(new Date(k.target.value)),className:"bg-gray-900 border border-gray-700 rounded-xl px-4 py-2 text-white font-black text-center focus:outline-none focus:border-blue-500"})}),w.jsx("button",{onClick:()=>x(1),className:"p-2 rounded-xl bg-gray-700 hover:bg-gray-600 transition-colors",children:w.jsx(Bs,{className:"w-5 h-5 text-white"})})]})}),w.jsx("div",{className:"space-y-3 min-h-[300px]",children:g(t==="monthly"?b:l)})]})},tz=({stats:r,onEditRecord:t})=>{var x;const[e,n]=_e.useState([]),[s,i]=_e.useState("desc"),a=parseInt(((x=r.shimebiDay)==null?void 0:x.toString())||"20"),l=r.businessStartHour??9,[c,o]=_e.useState(()=>{const g=new Date,{start:v,end:y}=rr(g,a,l);return console.log("[SimpleHistoryView] Initializing currentMonth:",{now:`${g.getFullYear()}/${g.getMonth()+1}/${g.getDate()}`,billingPeriod:`${Ht(v)}  ${Ht(y)}`,end:`${y.getFullYear()}/${y.getMonth()+1}/${y.getDate()}`}),y});_e.useEffect(()=>{var z;const g=(z=mr.currentUser)==null?void 0:z.uid;if(!g){n([]);return}(async()=>{try{const q=Gr(Lt,"public_status",g,"history"),B=Hr(q,un("timestamp","desc")),I=await Zr(B),O=[];I.forEach(W=>{O.push(W.data())});const F=O.filter(W=>{var V;return(V=W.remarks)==null?void 0:V.includes("")}).sort((W,V)=>W.timestamp-V.timestamp);n(F),console.log("[SimpleHistoryView] Loaded",F.length,"records from public_status subcollection (total:",O.length,")")}catch(q){console.error("[SimpleHistoryView] Error loading history:",q),n([])}})();const y=Gr(Lt,"public_status",g,"history"),k=Hr(y,un("timestamp","desc")),R=Ls(k,q=>{const B=[];q.forEach(O=>{B.push(O.data())});const I=B.filter(O=>{var F;return(F=O.remarks)==null?void 0:F.includes("")}).sort((O,F)=>O.timestamp-F.timestamp);n(I),console.log("[SimpleHistoryView] Subcollection updated:",I.length,"simple mode records (total:",B.length,")")},q=>{console.error("[SimpleHistoryView] Error in subcollection snapshot:",q),n([])});return()=>R()},[]);const u=_e.useMemo(()=>{const g={},v=new Date(c.getFullYear(),c.getMonth(),a===0?28:a),{start:y,end:k}=rr(v,a,l),R=new Date(k);a!==0&&(R.setDate(a),R.setHours(23,59,59,999));const z=Ht(y),q=Ht(R);Array.from(new Map(e.map(F=>[F.id,F])).values()).forEach(F=>{var V,N,P;const W=Ot(F.timestamp,l);if(W>=z&&W<=q){const C=new Date(F.timestamp);let S=0;const E=(V=F.remarks)==null?void 0:V.match(/=(\d+)/);E&&(S=parseInt(E[1],10));let A,T;const j=(N=F.remarks)==null?void 0:N.match(/=(\d{2}:\d{2})/),L=(P=F.remarks)==null?void 0:P.match(/=(\d{2}:\d{2})/);j&&(A=j[1]),L&&(T=L[1]);let D;if(A&&T){const[K,ee]=A.split(":").map(Number),[G,te]=T.split(":").map(Number),H=K*60+ee;let Q=G*60+te-H;if(Q<0&&(Q+=1440),Q>0){const ie=Q/60;D=Math.round(F.amount/ie)}}g[W]||(g[W]=[]),g[W].find(K=>K.record.id===F.id)||g[W].push({date:W,dateObj:C,rideCount:S,sales:F.amount,record:F,startTime:A,endTime:T,hourlySales:D})}});const O=Object.keys(g).sort((F,W)=>{const V=new Date(F.replace(/\//g,"-")),N=new Date(W.replace(/\//g,"-"));return s==="desc"?N.getTime()-V.getTime():V.getTime()-N.getTime()}).map(F=>g[F].sort((N,P)=>P.record.timestamp-N.record.timestamp)[0]).filter(Boolean);return console.log("[SimpleHistoryView] Daily records:",{currentMonth:`${c.getFullYear()}/${c.getMonth()+1}/${c.getDate()}`,targetReferenceDate:`${v.getFullYear()}/${v.getMonth()+1}/${v.getDate()}`,month:`${R.getFullYear()}${R.getMonth()+1}`,billingPeriod:`${z}  ${q}`,count:O.length,records:O.map(F=>F.date)}),O},[e,c,a,l,s]),p=_e.useMemo(()=>{const g=u.reduce((B,I)=>B+I.sales,0),v=u.reduce((B,I)=>B+I.rideCount,0),y=new Set(u.map(B=>B.date)).size,k=u.filter(B=>B.hourlySales!==void 0),R=k.reduce((B,I)=>B+(I.hourlySales||0),0),z=k.length,q=z>0?Math.round(R/z):0;return{totalSales:g,averageSales:y>0?Math.round(g/y):0,totalRides:v,averageRides:y>0?Math.round(v/y):0,averageHourlySales:q}},[u]),h=g=>{o(v=>{const y=new Date(v);g==="prev"?y.setMonth(y.getMonth()-1):y.setMonth(y.getMonth()+1);const{end:k}=rr(y,a,l);return k})},d=g=>{const v=new Date(g.replace(/\//g,"-")),y=v.getFullYear(),k=v.getMonth()+1,R=v.getDate(),q=["","","","","","",""][v.getDay()];return`${y}${k}${R}(${q})`},b=_e.useMemo(()=>{const g=new Date(c.getFullYear(),c.getMonth(),a===0?28:a),{end:v}=rr(g,a,l),y=new Date(v);return a!==0&&y.setDate(a),`${y.getFullYear()}${y.getMonth()+1}`},[c,a,l]);return w.jsxs("div",{className:"w-full bg-[#0A0E14] min-h-screen pb-32",children:[w.jsxs("div",{className:"bg-[#0A0E14] border-b border-gray-700 px-4 py-3 flex items-center justify-between",children:[w.jsx("div",{className:"w-8"}),w.jsx("h1",{className:"text-lg font-black text-white",children:""}),w.jsx("div",{className:"w-8"})]}),w.jsxs("div",{className:"p-4 space-y-4",children:[w.jsxs("div",{className:"flex items-center justify-center",children:[w.jsx("button",{onClick:()=>h("prev"),className:"p-2 text-gray-400 hover:text-white",children:w.jsx(za,{className:"w-5 h-5"})}),w.jsxs("div",{className:"mx-4 px-4 py-2 border-2 border-orange-500 rounded-lg bg-white flex items-center gap-2",children:[w.jsx("span",{className:"text-base font-black text-gray-900",children:b}),w.jsxs("div",{className:"flex flex-col",children:[w.jsx(e0,{className:"w-3 h-3 text-gray-600"}),w.jsx(ra,{className:"w-3 h-3 text-gray-600"})]})]}),w.jsx("button",{onClick:()=>h("next"),className:"p-2 text-gray-400 hover:text-white",children:w.jsx(Bs,{className:"w-5 h-5"})})]}),w.jsxs("div",{className:"bg-gray-800 rounded-2xl p-4 border border-gray-700",children:[w.jsxs("h2",{className:"text-base font-black text-white mb-3 flex items-center gap-2",children:[w.jsx(Qn,{className:"w-5 h-5 text-yellow-500"}),""]}),w.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[w.jsxs("div",{className:"bg-gray-800 rounded-xl p-3 border-2 border-orange-500/50",children:[w.jsx("div",{className:"text-xs text-orange-400 font-bold mb-1",children:""}),w.jsxs("div",{className:"text-xl font-black text-white",children:["",p.totalSales.toLocaleString()]})]}),w.jsxs("div",{className:"bg-gray-800 rounded-xl p-3 border-2 border-orange-500/50",children:[w.jsx("div",{className:"text-xs text-orange-400 font-bold mb-1",children:"1"}),w.jsxs("div",{className:"text-xl font-black text-white",children:["",p.averageSales.toLocaleString()]})]}),w.jsxs("div",{className:"bg-gray-800 rounded-xl p-3 border-2 border-orange-500/50",children:[w.jsx("div",{className:"text-xs text-orange-400 font-bold mb-1",children:""}),w.jsxs("div",{className:"text-xl font-black text-white",children:[p.totalRides,""]})]}),w.jsxs("div",{className:"bg-gray-800 rounded-xl p-3 border-2 border-orange-500/50",children:[w.jsx("div",{className:"text-xs text-orange-400 font-bold mb-1",children:""}),w.jsxs("div",{className:"text-xl font-black text-white",children:[p.averageRides,""]})]})]}),p.averageHourlySales>0&&w.jsx("div",{className:"mt-3",children:w.jsxs("div",{className:"bg-gray-800 rounded-xl p-3 border-2 border-orange-500/50",children:[w.jsx("div",{className:"text-xs text-orange-400 font-bold mb-1",children:""}),w.jsxs("div",{className:"text-xl font-black text-white",children:["",p.averageHourlySales.toLocaleString()]})]})})]}),w.jsxs("div",{className:"bg-gray-800 rounded-2xl p-4 border border-gray-700",children:[w.jsx("div",{className:"mb-4",children:w.jsx("button",{onClick:()=>i(g=>g==="desc"?"asc":"desc"),className:"w-full py-4 px-4 bg-orange-500 hover:bg-orange-600 rounded-xl transition-colors flex items-center justify-center gap-3 shadow-lg active:scale-95",children:s==="desc"?w.jsxs(w.Fragment,{children:[w.jsx(ra,{className:"w-6 h-6 text-white"}),w.jsx("span",{className:"text-lg font-black text-white",children:""}),w.jsx(ra,{className:"w-6 h-6 text-white"})]}):w.jsxs(w.Fragment,{children:[w.jsx(e0,{className:"w-6 h-6 text-white"}),w.jsx("span",{className:"text-lg font-black text-white",children:""}),w.jsx(e0,{className:"w-6 h-6 text-white"})]})})}),w.jsx("div",{className:"space-y-3",children:u.length===0?w.jsxs("div",{className:"text-center py-12 text-gray-400 bg-gray-900/50 rounded-2xl border border-gray-800",children:[w.jsx(Qn,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),w.jsx("p",{className:"text-sm font-bold",children:""})]}):u.map((g,v)=>w.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border-2 border-orange-500/50 hover:border-orange-500 transition-colors shadow-lg",children:[w.jsxs("div",{className:"flex items-center justify-between mb-2",children:[w.jsx("div",{className:"text-lg font-black text-white",children:d(g.date)}),t&&w.jsx("button",{onClick:()=>t(g.record),className:"px-4 py-2 bg-orange-500 rounded-lg text-sm font-black text-white hover:bg-orange-600 transition-colors active:scale-95 shadow-md whitespace-nowrap",children:""})]}),w.jsxs("div",{className:"flex flex-col gap-2",children:[w.jsxs("div",{className:"flex items-center gap-6",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("span",{className:"text-sm text-orange-400 font-bold whitespace-nowrap",children:""}),w.jsxs("span",{className:"text-lg font-black text-white whitespace-nowrap",children:[g.rideCount,""]})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("span",{className:"text-sm text-orange-400 font-bold whitespace-nowrap",children:""}),w.jsxs("span",{className:"text-lg font-black text-yellow-400 whitespace-nowrap",children:[g.sales.toLocaleString(),""]})]})]}),g.hourlySales!==void 0&&w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("span",{className:"text-sm text-orange-400 font-bold whitespace-nowrap",children:""}),w.jsxs("span",{className:"text-lg font-black text-green-400 whitespace-nowrap",children:[g.hourlySales.toLocaleString(),""]})]})]})]},`${g.date}-${v}`))})]})]})]})},rz=({progress:r,color:t})=>{const e=t==="amber",n=e?"bg-amber-500 shadow-[0_0_15px_#F59E0B]":"bg-blue-500 shadow-[0_0_15px_#3B82F6]",s=e?"border-amber-400/40":"border-blue-400/40";return w.jsx("div",{className:`w-full bg-[#05080C] border-2 ${s} rounded-full h-8 p-1 overflow-hidden shadow-[inset_0_2px_10px_rgba(0,0,0,0.8)]`,children:w.jsx("div",{className:`h-full transition-all duration-1000 ease-out rounded-full ${n}`,style:{width:`${Math.min(100,r)}%`}})})},nz=({stats:r,onUpdateStats:t,onNavigateToInput:e,history:n=[]})=>{const[s,i]=_e.useState(r.monthlyGoal.toLocaleString()),[a,l]=_e.useState((r.plannedWorkDays||0).toString()),[c,o]=_e.useState(r.shimebiDay.toString()),[u,p]=_e.useState(!1),[h,d]=_e.useState(!1),[b,x]=_e.useState(!1),[g,v]=_e.useState(!1),[y,k]=_e.useState(!1),[R,z]=_e.useState(!1),[q,B]=_e.useState([]),[I,O]=_e.useState(new Date),[F,W]=_e.useState(""),[V,N]=_e.useState(r.userName||""),P=_e.useRef(0),C=r.businessStartHour??9,S=parseInt(c)||r.shimebiDay||20;_e.useEffect(()=>{o(r.shimebiDay.toString())},[r.shimebiDay]),_e.useEffect(()=>{N(r.userName||"")},[r.userName]);const{start:E,end:A}=_e.useMemo(()=>rr(new Date,S,C),[S,C]),T=_e.useMemo(()=>{const ne=`${E.getFullYear()}/${String(E.getMonth()+1).padStart(2,"0")}/${String(E.getDate()).padStart(2,"0")}`,de=`${A.getFullYear()}/${String(A.getMonth()+1).padStart(2,"0")}/${String(A.getDate()).padStart(2,"0")}`;return`${ne} ~ ${de}`},[E,A]),[j,L]=_e.useState(0);_e.useEffect(()=>{var xe;const ne=or(Lt,"public_status",((xe=mr.currentUser)==null?void 0:xe.uid)||""),de=Ls(ne,Te=>{if(Te.exists()){const Re=Te.data();L(Re.monthlyTotal||0)}else L(0)},Te=>{console.error(":",Te),L(0)});return()=>de()},[]);const D=Math.max(0,r.monthlyGoal-j),Z=_e.useMemo(()=>{const ne=parseInt(a)||0;return ne>0?Math.ceil(D/ne):0},[D,a]),K=_e.useMemo(()=>{const ne=new Date(A);S!==0&&(ne.setDate(S),ne.setHours(23,59,59,999));const de=Ht(E),xe=Ht(ne),Te={};n.forEach(Ue=>{var tt;if((tt=Ue.remarks)!=null&&tt.includes("")){const at=Ot(Ue.timestamp,C);at>=de&&at<=xe&&(Te[at]||(Te[at]=[]),Te[at].push(Ue))}});const Pe=Object.values(Te).flat().reduce((Ue,tt)=>Ue+tt.amount,0),Xe=Object.keys(Te).length;return Xe>0?Math.round(Pe/Xe):0},[n,C,E,A,S]),ee=_e.useMemo(()=>r.monthlyGoal>0?Math.min(100,Math.round(j/r.monthlyGoal*100)):0,[j,r.monthlyGoal]),G=_e.useMemo(()=>Ot(Date.now(),C),[C]),te=_e.useMemo(()=>{const ne=[],de=Ot(A.getTime(),C);ne.includes(G)||ne.push(G);const xe=new Date;xe.setHours(C,0,0,0),xe.setDate(xe.getDate()+1);const Te=new Date(A);Te.setHours(23,59,59,999);const Re=new Date(xe);for(;Re<=Te;){const Pe=Ot(Re.getTime(),C);Pe>G&&Pe<=de&&(ne.includes(Pe)||ne.push(Pe)),Re.setDate(Re.getDate()+1)}return ne.sort()},[A,C,G]),H=_e.useMemo(()=>{const ne=new Set;return n.forEach(de=>{var xe;if((xe=de.remarks)!=null&&xe.includes("")){const Te=Ot(de.timestamp,C);ne.add(Te)}}),ne},[n,C]),U=_e.useMemo(()=>{const{start:ne,end:de}=rr(I,S,C);de.getFullYear(),de.getMonth();const xe=new Date(ne),Te=xe.getDay();xe.setDate(xe.getDate()-Te),xe.setHours(0,0,0,0);const Re=new Date(de),Pe=Re.getDay();Re.setDate(Re.getDate()+(6-Pe)),Re.setHours(23,59,59,999);const Xe=[],Ue=new Date(xe),tt=Ht(ne),at=Ht(de);for(let Je=0;Je<35;Je++){const Ze=Ht(Ue),vt=new Date(Ue);vt.setHours(C,0,0,0);const pt=Ot(vt.getTime(),C),Ie=pt>=tt&&pt<=at;Xe.push({date:new Date(Ue),dateStr:Ze,isInBillingPeriod:Ie}),Ue.setDate(Ue.getDate()+1)}return Xe},[I,S,C]);_e.useEffect(()=>{if(R){const ne=parseInt(a)||0;if(ne>0&&te.length>=ne){const xe=te.slice(0,ne);B(xe)}else B([]);const{end:de}=rr(new Date,S,C);O(de)}},[R,a,te,C,S]);const Q=async()=>{var de;P.current=window.scrollY;const ne=Nn(F||s);i(ne.toLocaleString()),t({monthlyGoal:ne}),v(!1),W("");try{const xe=or(Lt,"public_status",((de=mr.currentUser)==null?void 0:de.uid)||"");await ln(xe,{monthlyGoal:ne,lastUpdated:Date.now()},{merge:!0})}catch(xe){console.error(":",xe)}setTimeout(()=>{window.scrollTo({top:P.current,behavior:"auto"})},100)},ie=async ne=>{var Te;P.current=window.scrollY;const de=ne||c,xe=de==="0"||de===""?0:parseInt(de)||20;o(xe.toString()),t({shimebiDay:xe}),x(!1);try{const Re=or(Lt,"public_status",((Te=mr.currentUser)==null?void 0:Te.uid)||"");await ln(Re,{shimebiDay:xe,lastUpdated:Date.now()},{merge:!0})}catch(Re){console.error(":",Re)}setTimeout(()=>{window.scrollTo({top:P.current,behavior:"auto"})},100)},re=ne=>{P.current=window.scrollY,ne()},oe=async()=>{var de;P.current=window.scrollY;const ne=q.length;l(ne.toString()),t({plannedWorkDays:ne}),z(!1);try{const xe=or(Lt,"public_status",((de=mr.currentUser)==null?void 0:de.uid)||"");await ln(xe,{plannedWorkDays:ne,lastUpdated:Date.now()},{merge:!0})}catch(xe){console.error(":",xe)}setTimeout(()=>{window.scrollTo({top:P.current,behavior:"auto"})},100)},he=ne=>{te.includes(ne)&&B(xe=>xe.includes(ne)?xe.filter(Te=>Te!==ne):[...xe,ne].sort())},ve=ne=>{O(de=>{const xe=new Date(de);ne==="prev"?xe.setMonth(xe.getMonth()-1):xe.setMonth(xe.getMonth()+1);const{end:Te}=rr(xe,S,C);return Te})},me=async()=>{var de;P.current=window.scrollY;const ne=V.trim();t({userName:ne}),k(!1);try{const xe=or(Lt,"public_status",((de=mr.currentUser)==null?void 0:de.uid)||"");await ln(xe,{name:ne,lastUpdated:Date.now()},{merge:!0})}catch(xe){console.error(":",xe)}setTimeout(()=>{window.scrollTo({top:P.current,behavior:"auto"})},100)};return w.jsxs("div",{className:"w-full bg-[#0A0E14] min-h-screen pb-32",children:[w.jsx("div",{className:"bg-[#0A0E14] border-b border-gray-700 px-4 py-3",children:w.jsx("h1",{className:"text-lg font-black text-white text-center",children:""})}),w.jsxs("div",{className:"p-4 space-y-4",children:[w.jsxs("div",{className:"bg-gray-900 rounded-2xl p-4 border border-gray-800",children:[w.jsxs("div",{className:"flex items-center justify-between mb-3",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(Qn,{className:"w-5 h-5 text-yellow-500"}),w.jsx("h2",{className:"text-base font-black text-white",children:""})]}),w.jsx("div",{className:"px-3 py-1 bg-purple-900/30 border border-purple-500/30 rounded-full",children:w.jsx("span",{className:"text-xs text-purple-300 font-bold",children:T})})]}),w.jsxs("div",{className:"flex items-end justify-between gap-4 mb-3",children:[w.jsxs("div",{className:"flex items-baseline",children:[w.jsx("span",{className:"text-3xl font-black text-orange-500 relative",style:{textShadow:"2px 2px 0 #DC2626, -2px 0 0 #DC2626, 0 2px 0 #DC2626"},children:""}),w.jsx("span",{className:"text-4xl font-black text-white ml-1",children:j.toLocaleString()})]}),w.jsxs("div",{className:"text-right",children:[w.jsx("div",{className:"text-xs text-gray-400 mb-1",children:""}),w.jsxs("div",{className:"text-xl font-black text-orange-500",children:[a,""]})]})]}),w.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border-2 border-orange-500/50 mb-3",children:[w.jsxs("div",{className:"flex items-center justify-between mb-2",children:[w.jsx("div",{className:"text-xs text-gray-400",children:" (1)"}),w.jsx(p0,{className:"w-5 h-5 text-gray-400"})]}),w.jsxs("div",{className:"text-2xl font-black text-white",children:["",Z.toLocaleString()]})]}),w.jsxs("div",{className:"mb-3",children:[w.jsx(rz,{progress:ee,color:"amber"}),w.jsxs("div",{className:"flex items-center justify-between mt-2",children:[w.jsxs("span",{className:"text-xs text-gray-400",children:[ee,"% "]}),w.jsxs("span",{className:"text-xs text-gray-400 underline",children:[" ",r.monthlyGoal.toLocaleString()]})]})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[w.jsxs("div",{className:"bg-gray-800 rounded-xl p-3 border-2 border-orange-500/50",children:[w.jsx(Oo,{className:"w-5 h-5 text-orange-500 mb-2"}),w.jsx("div",{className:"text-xs text-gray-400 mb-1",children:""}),w.jsxs("div",{className:"text-xl font-black text-white",children:["",D.toLocaleString()]})]}),w.jsxs("div",{className:"bg-gray-800 rounded-xl p-3 border-2 border-orange-500/50",children:[w.jsx(p0,{className:"w-5 h-5 text-orange-500 mb-2"}),w.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"1"}),w.jsxs("div",{className:"text-xl font-black text-white",children:["",K.toLocaleString()]})]})]})]}),w.jsx("button",{onClick:e,className:"w-full bg-yellow-500 rounded-2xl py-5 font-black text-xl text-gray-900 shadow-lg hover:bg-yellow-600 active:scale-95 transition-all",children:""}),w.jsxs("div",{className:"bg-gray-900 rounded-2xl p-4 border border-gray-800 space-y-3",children:[w.jsx("h3",{className:"text-base font-black text-white mb-3",children:""}),w.jsx("div",{className:"bg-gray-800 rounded-xl p-3 border-2 border-orange-500/50",children:w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(Pl,{className:"w-4 h-4 text-yellow-500 flex-shrink-0"}),w.jsx("label",{className:"text-sm font-bold text-gray-400 flex-1",children:""}),w.jsx("span",{className:"text-base font-black text-white flex-1 text-right",children:r.userName||""}),w.jsx("button",{onClick:()=>{N(r.userName||""),re(()=>k(!0))},className:"p-2 text-yellow-500 hover:text-yellow-400 transition-colors",children:w.jsx(Yv,{className:"w-5 h-5"})})]})}),w.jsx("div",{className:"bg-gray-800 rounded-xl p-3 border-2 border-orange-500/50",children:w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(Oo,{className:"w-4 h-4 text-yellow-500 flex-shrink-0"}),w.jsx("label",{className:"text-xs font-bold text-gray-400 w-16 flex-shrink-0",children:""}),w.jsxs("button",{onClick:()=>{W(s),re(()=>v(!0))},className:"flex-1 bg-white border-2 border-orange-500 rounded-lg px-4 py-3 text-gray-900 font-black text-base flex items-center justify-between",children:[w.jsxs("span",{children:[s," "]}),w.jsx(Yv,{className:"w-4 h-4"})]})]})}),w.jsx("div",{className:"bg-gray-800 rounded-xl p-3 border-2 border-orange-500/50",children:w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(Qn,{className:"w-4 h-4 text-yellow-500 flex-shrink-0"}),w.jsx("label",{className:"text-sm font-bold text-gray-400 flex-1",children:""}),w.jsxs("button",{onClick:()=>re(()=>z(!0)),className:"flex-1 bg-white border-2 border-orange-500 rounded-lg px-4 py-3 text-gray-900 font-black text-base flex items-center justify-between",children:[w.jsxs("span",{children:[a," "]}),w.jsx(Qn,{className:"w-4 h-4"})]})]})}),w.jsx("div",{className:"bg-gray-800 rounded-xl p-3 border-2 border-orange-500/50",children:w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(Qn,{className:"w-4 h-4 text-yellow-500 flex-shrink-0"}),w.jsx("label",{className:"text-xs font-bold text-gray-400 w-16 flex-shrink-0",children:""}),w.jsxs("button",{onClick:()=>re(()=>x(!0)),className:"flex-1 bg-white border-2 border-orange-500 rounded-lg px-4 py-3 text-gray-900 font-black text-base flex items-center justify-between",children:[w.jsx("span",{children:S===0?"":`${S}`}),w.jsx(ra,{className:"w-4 h-4"})]})]})})]}),b&&w.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm",children:w.jsxs("div",{className:"bg-[#131C2B] p-6 rounded-3xl space-y-6 max-w-md w-full mx-4 max-h-[80vh] overflow-y-auto",children:[w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsxs("h3",{className:"text-xl font-black text-white flex items-center gap-2",children:[w.jsx(Qn,{className:"w-6 h-6 text-yellow-500"})," "]}),w.jsx("button",{onClick:()=>{x(!1),setTimeout(()=>{window.scrollTo({top:P.current,behavior:"auto"})},100)},className:"p-2 bg-gray-800 rounded-full text-gray-400 hover:text-white active:scale-95",children:w.jsx(_s,{className:"w-5 h-5"})})]}),w.jsxs("div",{className:"space-y-2",children:[Array.from({length:28}).map((ne,de)=>{const xe=de+1;return w.jsxs("button",{onClick:()=>ie(xe.toString()),className:`w-full p-4 rounded-xl text-left transition-all ${S===xe?"bg-yellow-500 text-gray-900 font-black":"bg-gray-800 text-white font-bold hover:bg-gray-700"}`,children:[xe,""]},xe)}),w.jsx("button",{onClick:()=>ie("0"),className:`w-full p-4 rounded-xl text-left transition-all ${S===0?"bg-yellow-500 text-gray-900 font-black":"bg-gray-800 text-white font-bold hover:bg-gray-700"}`,children:""})]})]})}),g&&w.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm",children:w.jsxs("div",{className:"bg-[#131C2B] p-6 rounded-3xl space-y-6 max-w-md w-full mx-4",children:[w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsxs("h3",{className:"text-xl font-black text-white flex items-center gap-2",children:[w.jsx(Oo,{className:"w-6 h-6 text-yellow-500"})," "]}),w.jsx("button",{onClick:()=>{v(!1),setTimeout(()=>{window.scrollTo({top:P.current,behavior:"auto"})},100)},className:"p-2 bg-gray-800 rounded-full text-gray-400 hover:text-white active:scale-95",children:w.jsx(_s,{className:"w-5 h-5"})})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"text-sm font-bold text-gray-400 block mb-2",children:""}),w.jsx("input",{type:"text",value:F,onChange:ne=>W(zo(ne.target.value)),placeholder:": 1,000,000",className:"w-full bg-white border-2 border-orange-500 rounded-xl px-4 py-3 text-gray-900 font-black text-lg focus:outline-none focus:ring-2 focus:ring-orange-500",autoFocus:!0,onKeyDown:ne=>{ne.key==="Enter"&&F.trim()&&Q()}})]}),w.jsxs("div",{className:"flex gap-3",children:[w.jsx("button",{onClick:()=>{v(!1),setTimeout(()=>{window.scrollTo({top:P.current,behavior:"auto"})},100)},className:"flex-1 py-3 bg-gray-800 text-gray-300 font-bold rounded-xl border border-gray-700 hover:bg-gray-700 transition-colors",children:""}),w.jsx("button",{onClick:Q,disabled:!F.trim(),className:`flex-1 py-3 rounded-xl font-black transition-all ${F.trim()?"bg-orange-500 text-white hover:bg-orange-600 active:scale-95":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:""})]})]})]})}),y&&w.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm",children:w.jsxs("div",{className:"bg-[#131C2B] p-6 rounded-3xl space-y-6 max-w-md w-full mx-4",children:[w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsxs("h3",{className:"text-xl font-black text-white flex items-center gap-2",children:[w.jsx(Pl,{className:"w-6 h-6 text-yellow-500"})," "]}),w.jsx("button",{onClick:()=>{k(!1),setTimeout(()=>{window.scrollTo({top:P.current,behavior:"auto"})},100)},className:"p-2 bg-gray-800 rounded-full text-gray-400 hover:text-white active:scale-95",children:w.jsx(_s,{className:"w-5 h-5"})})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"text-sm font-bold text-gray-400 block mb-2",children:""}),w.jsx("input",{type:"text",value:V,onChange:ne=>N(ne.target.value),placeholder:"",className:"w-full bg-white border-2 border-orange-500 rounded-xl px-4 py-3 text-gray-900 font-black text-lg focus:outline-none focus:ring-2 focus:ring-orange-500",autoFocus:!0,onKeyDown:ne=>{ne.key==="Enter"&&V.trim()&&me()}})]}),w.jsxs("div",{className:"flex gap-3",children:[w.jsx("button",{onClick:()=>{k(!1),setTimeout(()=>{window.scrollTo({top:P.current,behavior:"auto"})},100)},className:"flex-1 py-3 bg-gray-800 text-gray-300 font-bold rounded-xl border border-gray-700 hover:bg-gray-700 transition-colors",children:""}),w.jsx("button",{onClick:me,disabled:!V.trim(),className:`flex-1 py-3 rounded-xl font-black transition-all ${V.trim()?"bg-orange-500 text-white hover:bg-orange-600 active:scale-95":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:""})]})]})]})}),R&&w.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm",children:w.jsxs("div",{className:"bg-[#131C2B] p-6 rounded-3xl space-y-6 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsxs("h3",{className:"text-xl font-black text-white flex items-center gap-2",children:[w.jsx(Qn,{className:"w-6 h-6 text-yellow-500"})," "]}),w.jsx("button",{onClick:()=>{z(!1),setTimeout(()=>{window.scrollTo({top:P.current,behavior:"auto"})},100)},className:"p-2 bg-gray-800 rounded-full text-gray-400 hover:text-white active:scale-95",children:w.jsx(_s,{className:"w-5 h-5"})})]}),w.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border-2 border-orange-500/50",children:[w.jsx("div",{className:"text-sm text-gray-400 mb-1",children:""}),w.jsxs("div",{className:"text-2xl font-black text-white",children:[q.length," "]})]}),w.jsxs("div",{className:"flex items-center justify-between bg-gray-950 rounded-2xl p-2 border-2 border-gray-700",children:[w.jsx("button",{onClick:()=>ve("prev"),className:"p-3 text-gray-400 active:scale-90",children:w.jsx(za,{className:"w-6 h-6"})}),w.jsx("div",{className:"text-xl font-black text-white",children:(()=>{const{end:ne}=rr(I,S,C);return`${ne.getFullYear()} / ${String(ne.getMonth()+1).padStart(2,"0")}`})()}),w.jsx("button",{onClick:()=>ve("next"),className:"p-3 text-gray-400 active:scale-90",children:w.jsx(Bs,{className:"w-6 h-6"})})]}),w.jsxs("div",{children:[w.jsx("div",{className:"grid grid-cols-7 gap-2 mb-2",children:["","","","","","",""].map(ne=>w.jsx("div",{className:"text-center text-sm font-bold text-gray-400",children:ne},ne))}),w.jsx("div",{className:"grid grid-cols-7 gap-2",children:U.map(({date:ne,isCurrentMonth:de,dateStr:xe,isInBillingPeriod:Te})=>{const Re=new Date(ne);Re.setHours(C,0,0,0);const Pe=Ot(Re.getTime(),C);if(!Te)return w.jsx("div",{className:"aspect-square rounded-xl flex items-center justify-center bg-gray-900/50 opacity-50 cursor-not-allowed",children:w.jsx("span",{className:"text-base text-gray-400",children:ne.getDate()})},xe);const Xe=te.includes(Pe),Ue=q.includes(Pe),tt=Pe===G,at=H.has(Pe),Je=Pe<G,Ze=Xe&&!at;return w.jsx("button",{onClick:()=>Ze&&he(Pe),disabled:!Ze,className:`aspect-square rounded-xl flex items-center justify-center transition-all ${Ze?Ue?"bg-orange-500 text-gray-900 font-black":Je?"bg-gray-800/50 text-gray-500":de?"bg-gray-800 text-white font-bold hover:bg-gray-700":"bg-gray-800/50 text-gray-500":at?"bg-orange-500 text-gray-900 font-black cursor-not-allowed":"bg-gray-800/50 text-gray-500 cursor-not-allowed"} ${tt?"ring-2 ring-orange-500":""} active:scale-95`,children:w.jsx("span",{className:"text-base",children:ne.getDate()})},xe)})})]}),w.jsxs("button",{onClick:oe,className:"w-full py-4 bg-orange-500 text-white font-black text-lg rounded-xl hover:bg-orange-600 active:scale-95 transition-all",children:[" (",q.length," )"]})]})})]})]})},sz="/assets/navi-loading-BiSO-nA6.png",az=()=>w.jsxs("div",{className:"min-h-screen bg-[#0A0E14] flex flex-col items-center justify-center text-amber-500 space-y-8 animate-in fade-in duration-500",children:[w.jsxs("div",{className:"relative w-64 h-64 flex items-center justify-center",children:[w.jsx("div",{className:"absolute inset-0 bg-amber-500/20 blur-[60px] rounded-full animate-pulse"}),w.jsx("img",{src:sz,alt:"System Navi",className:"relative z-10 w-full h-full object-contain drop-shadow-[0_0_15px_rgba(245,158,11,0.5)]"})]}),w.jsxs("div",{className:"flex flex-col items-center gap-4",children:[w.jsx(kl,{className:"animate-spin text-amber-500",size:40}),w.jsxs("div",{className:"flex flex-col items-center",children:[w.jsx("span",{className:"text-amber-500 font-black tracking-[0.3em] uppercase text-xs animate-pulse",children:"Initializing Navi System"}),w.jsx("div",{className:"h-[2px] w-48 bg-gray-800 mt-2 overflow-hidden rounded-full",children:w.jsx("div",{className:"h-full bg-amber-500 w-1/3 animate-[loading_1.5s_infinite_linear]"})})]})]}),w.jsx("style",{children:`
        @keyframes loading {
          0% { transform: translateX(-100%); }
          100% { transform: translateX(200%); }
        }
      `})]}),gS="/assets/navi-chibi-B6uWjRBG.png",iz=({onLoginStart:r})=>{const t=async()=>{var e;try{r&&r(),console.log("Login button clicked");const n=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),s=window.navigator.standalone||window.matchMedia("(display-mode: standalone)").matches;if(n||s){if(console.log("Mobile/Standalone detected, using redirect method"),typeof window<"u"){const a=window.location.href,l=window.location.hostname,c=window.location.port||"",o=`${window.location.protocol}//${l}${c?":"+c:""}`;console.log("[Login] Saving redirect info (mobile):",{currentUrl:a,hostname:l,port:c,origin:o});try{localStorage.setItem("login_redirect_url",a),localStorage.setItem("auth_redirect_origin",o),localStorage.setItem("auth_redirect_hostname",l),c&&localStorage.setItem("auth_redirect_port",c),localStorage.setItem("auth_login_attempt",new Date().toISOString()),console.log("[Login] Successfully saved redirect info to localStorage")}catch(u){console.error("[Login] Failed to save redirect info to localStorage:",u),alert("")}try{sessionStorage.setItem("login_redirect_url",a),sessionStorage.setItem("auth_redirect_origin",o),sessionStorage.setItem("auth_redirect_hostname",l),c&&sessionStorage.setItem("auth_redirect_port",c),console.log("[Login] Successfully saved redirect info to sessionStorage")}catch(u){console.warn("[Login] sessionStorage not available (this is normal on some mobile browsers):",u)}}console.log("[Login] Calling signInWithRedirect..."),console.log("[Login] Current URL before redirect:",window.location.href),console.log("[Login] Auth domain:",mr.config.authDomain),console.log("[Login] Google provider:",Al);const i=localStorage.getItem("auth_redirect_origin");console.log("[Login] Saved redirect origin:",i);try{const a=yw(mr,Al);console.log("[Login] signInWithRedirect called, waiting for redirect...");const l=new Promise((c,o)=>{setTimeout(()=>{o(new Error("Redirect timeout: signInWithRedirect did not redirect within 5 seconds"))},5e3)});await Promise.race([a,l]),console.warn("[Login]  signInWithRedirect completed without redirect"),alert("")}catch(a){console.error("[Login]  signInWithRedirect error:",a),console.error("[Login] Error code:",a==null?void 0:a.code),console.error("[Login] Error message:",a==null?void 0:a.message),console.error("[Login] Error stack:",a==null?void 0:a.stack);let l=`

`;(a==null?void 0:a.code)==="auth/unauthorized-domain"?l+=`: 
Firebase Console`:(a==null?void 0:a.code)==="auth/operation-not-allowed"?l+=`: Google
Firebase ConsoleGoogle`:(e=a==null?void 0:a.message)!=null&&e.includes("timeout")?l+=`: 
`:l+=`: ${(a==null?void 0:a.code)||"unknown"}
: ${(a==null?void 0:a.message)||"Unknown error"}`,alert(l+`

`)}return}if(console.log("Desktop detected, trying popup method"),typeof window<"u"){const i=window.location.hostname,a=window.location.port||"5173",l=`${window.location.protocol}//${i}${a?":"+a:""}`;localStorage.setItem("local_dev_hostname",i),localStorage.setItem("local_dev_port",a),localStorage.setItem("local_dev_origin",l);try{sessionStorage.setItem("local_dev_hostname",i),sessionStorage.setItem("local_dev_port",a),sessionStorage.setItem("local_dev_origin",l)}catch(c){console.warn("sessionStorage not available:",c)}}await iC(mr,Al),console.log("Login successful")}catch(n){if(console.error("Login error:",n),(n==null?void 0:n.code)==="auth/popup-blocked"){if(confirm(`



Firebase`))try{if(typeof window<"u"){const i=window.location.hostname,a=window.location.port||"",l=`${window.location.protocol}//${i}${a?":"+a:""}`;console.log("[Login] Saving redirect info (fallback):",{hostname:i,port:a,origin:l}),localStorage.setItem("auth_redirect_origin",l),localStorage.setItem("auth_redirect_hostname",i),a&&localStorage.setItem("auth_redirect_port",a);try{sessionStorage.setItem("auth_redirect_origin",l),sessionStorage.setItem("auth_redirect_hostname",i),a&&sessionStorage.setItem("auth_redirect_port",a)}catch(c){console.warn("sessionStorage not available:",c)}}await yw(mr,Al);return}catch(i){console.error("Redirect login error:",i),alert("")}}else if((n==null?void 0:n.code)==="auth/popup-closed-by-user")console.log("User closed popup");else if((n==null?void 0:n.code)==="auth/cancelled-popup-request")console.log("Popup request cancelled");else{const s=(n==null?void 0:n.message)||"";alert(`: ${s}

: ${(n==null?void 0:n.code)||"unknown"}`)}}};return w.jsxs("div",{className:"min-h-screen bg-[#0A0E14] flex flex-col items-center justify-center p-8 relative overflow-hidden",children:[w.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[w.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[50%] h-[50%] bg-amber-500/10 rounded-full blur-[100px] animate-pulse"}),w.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[50%] h-[50%] bg-blue-500/10 rounded-full blur-[100px] animate-pulse delay-1000"})]}),w.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-6 w-full max-w-sm",children:[w.jsxs("div",{className:"relative w-64 h-64 animate-bounce-slow",children:[w.jsx("div",{className:"absolute inset-0 bg-amber-500/20 blur-2xl rounded-full"}),w.jsx("img",{src:gS,alt:"Navi Chibi",className:"w-full h-full object-contain drop-shadow-[0_0_15px_rgba(245,158,11,0.5)]"})]}),w.jsxs("div",{className:"text-center space-y-2",children:[w.jsx("h1",{className:"text-4xl font-black italic text-transparent bg-clip-text bg-gradient-to-br from-white via-amber-200 to-amber-500 tracking-tighter filter drop-shadow-lg",children:"TAXI-NAVIGATOR"}),w.jsx("p",{className:"text-gray-500 text-xs font-bold tracking-[0.5em] uppercase",children:"System Login"})]}),w.jsxs("button",{type:"button",onClick:t,className:"group relative w-full bg-white text-black px-8 py-4 rounded-2xl font-black text-xl shadow-[0_0_20px_rgba(255,255,255,0.3)] hover:shadow-[0_0_30px_rgba(245,158,11,0.6)] active:scale-95 transition-all duration-300 overflow-hidden cursor-pointer z-10",children:[w.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/50 to-transparent -translate-x-full group-hover:animate-shine"}),w.jsxs("div",{className:"flex items-center justify-center gap-3 relative z-10",children:[w.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[w.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),w.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),w.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),w.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"}),w.jsx("path",{fill:"none",d:"M1 1h22v22H1z"})]}),w.jsx("span",{children:"Google"})]})]}),w.jsx("p",{className:"text-[10px] text-gray-600 font-bold",children:" 2025 Taxi Navigator System"})]}),w.jsx("style",{children:`
        @keyframes shine {
          100% { transform: translateX(200%); }
        }
        .animate-shine {
          animation: shine 1s;
        }
        @keyframes bounce-slow {
          0%, 100% { transform: translateY(0); }
          50% { transform: translateY(-10px); }
        }
        .animate-bounce-slow {
          animation: bounce-slow 3s infinite ease-in-out;
        }
      `})]})},oz=({userProfile:r,onAdminClick:t,onSettingsClick:e,onLogoClick:n})=>w.jsxs("header",{className:"bg-[#1A222C] border-b border-gray-800 p-4 safe-top sticky top-0 z-30 overflow-hidden relative",children:[w.jsxs("div",{className:"flex justify-between items-center relative z-10",children:[w.jsxs("div",{onClick:n,className:`flex items-center transform active:scale-95 transition-transform select-none ${(r==null?void 0:r.role)==="admin"?"cursor-pointer":"cursor-default"}`,children:[w.jsx("div",{className:"relative z-10 flex items-center -space-x-2 mr-1",children:w.jsxs("div",{className:"relative w-12 h-12 drop-shadow-[0_0_10px_rgba(245,158,11,0.6)] animate-bounce-slow",children:[w.jsx("div",{className:"absolute inset-0 bg-amber-500/20 blur-xl rounded-full"}),w.jsx("img",{src:gS,alt:"Navi",className:"w-full h-full object-contain"})]})}),w.jsxs("div",{className:"flex flex-col -space-y-1",children:[w.jsxs("div",{className:"flex items-baseline gap-1",children:[w.jsx("span",{className:"text-2xl font-black italic tracking-tighter text-transparent bg-clip-text bg-gradient-to-b from-yellow-200 via-amber-400 to-yellow-600 filter drop-shadow-[0_2px_4px_rgba(0,0,0,0.5)]",children:"TAXI"}),w.jsx("span",{className:"text-sm font-bold italic tracking-widest text-amber-500/80 uppercase",children:"navigator"})]}),w.jsx("div",{className:"h-[2px] w-full bg-gradient-to-r from-amber-500 to-transparent rounded-full opacity-50"})]})]}),w.jsxs("div",{className:"flex items-center gap-3",children:[(r==null?void 0:r.role)==="admin"&&w.jsx("button",{type:"button",onClick:t,className:"p-2 bg-purple-900/50 border border-purple-500/50 rounded-full text-purple-400 hover:text-white transition-all active:scale-90 cursor-pointer",title:"",children:w.jsx(V1,{size:22})}),w.jsx("button",{type:"button",onClick:s=>{s.stopPropagation(),console.log("Settings button clicked"),e()},className:"p-2 bg-gray-800 rounded-full text-gray-400 hover:text-white transition-all active:scale-90 border border-gray-700 cursor-pointer z-50 relative",children:w.jsx(U1,{size:22})})]})]}),w.jsx("div",{className:"absolute -top-10 -left-10 w-40 h-40 bg-amber-500/10 rounded-full blur-3xl pointer-events-none mix-blend-screen"})]}),lz=({activeTab:r,monthlyStats:t,showCalendar:e,targetHistoryDate:n,onTabChange:s,onTargetHistoryDateChange:i,onTargetHistoryRecordIdChange:a})=>{if(e)return null;const l=(t.inputMode||"DETAILED")==="SIMPLE";return w.jsx("nav",{className:"fixed bottom-0 left-0 right-0 max-w-md mx-auto bg-[#0A0E14]/95 backdrop-blur-2xl border-t border-gray-800 flex justify-around pt-4 pb-[calc(1rem+env(safe-area-inset-bottom))] z-50 shadow-[0_-15px_45px_rgba(0,0,0,0.8)] pointer-events-auto",children:l?w.jsxs(w.Fragment,{children:[w.jsxs("button",{onClick:()=>{console.log("Simple Dashboard clicked"),s("home"),i(null),a(null)},type:"button",className:`flex flex-col items-center gap-1 transition-all active:scale-95 cursor-pointer ${r==="home"&&!n?"text-amber-500":"text-gray-500"}`,children:[w.jsx(G4,{className:"w-6 h-6"}),w.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:""})]}),w.jsxs("button",{onClick:()=>{console.log("Simple History clicked"),s("history"),i(null),a(null)},type:"button",className:`flex flex-col items-center gap-1 transition-all active:scale-95 cursor-pointer ${r==="history"?"text-amber-500":"text-gray-500"}`,children:[w.jsx(Qn,{className:"w-6 h-6"}),w.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:""})]}),w.jsxs("button",{onClick:()=>{console.log("Simple Ranking clicked"),s("analysis"),i(null),a(null)},type:"button",className:`flex flex-col items-center gap-1 transition-all active:scale-95 cursor-pointer ${r==="analysis"?"text-amber-500":"text-gray-500"}`,children:[w.jsx(zc,{className:"w-6 h-6"}),w.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:""})]})]}):w.jsxs(w.Fragment,{children:[w.jsxs("button",{onClick:()=>{console.log("Home clicked"),s("home")},type:"button",className:`flex flex-col items-center gap-1 transition-all active:scale-95 cursor-pointer ${r==="home"?"text-amber-500":"text-gray-500"}`,children:[w.jsx(ci,{className:"w-6 h-6"}),w.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:""})]}),w.jsxs("button",{onClick:()=>{console.log("History clicked"),s("history")},type:"button",className:`flex flex-col items-center gap-1 transition-all active:scale-95 cursor-pointer ${r==="history"?"text-amber-500":"text-gray-500"}`,children:[w.jsx(Qn,{className:"w-6 h-6"}),w.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:""})]}),w.jsxs("button",{onClick:()=>{console.log("Analysis clicked"),s("analysis")},type:"button",className:`flex flex-col items-center gap-1 transition-all active:scale-95 cursor-pointer ${r==="analysis"?"text-amber-500":"text-gray-500"}`,children:[w.jsx(zc,{className:"w-6 h-6"}),w.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:""})]}),w.jsxs("button",{onClick:()=>{console.log("Analytics clicked"),s("analytics")},type:"button",className:`flex flex-col items-center gap-1 transition-all active:scale-95 cursor-pointer ${r==="analytics"?"text-amber-500":"text-gray-500"}`,children:[w.jsx(AT,{className:"w-6 h-6"}),w.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:""})]}),w.jsxs("button",{onClick:()=>{console.log("Guide clicked"),window.open("https://cf750778.cloudfree.jp/core/","_blank")},type:"button",className:"flex flex-col items-center gap-1 transition-all active:scale-95 cursor-pointer text-gray-500",children:[w.jsx(e9,{className:"w-6 h-6"}),w.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:""})]})]})})},cz=(r=20,t=9)=>{const e=new Date,{start:n,end:s}=rr(e,r,t),i=[],a=new Date(n);for(;a<=s;){const l=a.getDay();l!==0&&l!==3&&i.push(Ht(new Date(a))),a.setDate(a.getDate()+1)}for(let l=i.length-1;l>0;l--){const c=Math.floor(Math.random()*(l+1));[i[l],i[c]]=[i[c],i[l]]}return i.slice(0,20).sort()};function uz(){const[r,t]=_e.useState(null),[e,n]=_e.useState(!0),[s,i]=_e.useState(!1),[a,l]=_e.useState(null),[c,o]=_e.useState(!1),[u,p]=_e.useState(null),h=u||(r==null?void 0:r.uid),[d,b]=_e.useState(!0),[x,g]=_e.useState("home"),[v,y]=_e.useState(null),[k,R]=_e.useState(null),[z,q]=_e.useState(!1),[B,I]=_e.useState(!1),O=_e.useRef(!1),[F,W]=_e.useState(null),[V,N]=_e.useState([]),[P,C]=_e.useState({}),[S,E]=_e.useState({isActive:!1,startTime:null}),[A,T]=_e.useState({monthLabel:"",totalSales:0,totalRides:0,monthlyGoal:1e6,defaultDailyGoal:5e4,shimebiDay:20,businessStartHour:9,dutyDays:[],enabledPaymentMethods:kf,customPaymentLabels:{},userName:"",enabledRideTypes:Dl,visibilityMode:"PUBLIC",allowedViewers:[],followingUsers:[]}),[j,L]=_e.useState({open:!1}),[D,Z]=_e.useState(!1),[K,ee]=_e.useState(!1),[G,te]=_e.useState(!1),[H,U]=_e.useState(!1);_e.useEffect(()=>{console.log("[App.tsx] isSettingsOpen changed to:",K)},[K]);const[Q,ie]=_e.useState(""),[re,oe]=_e.useState(!1),he=_e.useRef(!1);_e.useEffect(()=>{const Ie=setTimeout(()=>{b(!1)},1200);return()=>clearTimeout(Ie)},[]),_e.useEffect(()=>{const Ie=$e=>{(F||j.open)&&($e.preventDefault(),$e.returnValue="")};return window.addEventListener("beforeunload",Ie),()=>window.removeEventListener("beforeunload",Ie)},[F,j.open]);const ve=async(Ie,$e,Ce)=>{if(!$e||$e.length===0){console.log(`[saveHistoryToSubcollection] No records to save for ${Ce}/${Ie}/history`);return}console.log(`[saveHistoryToSubcollection] Starting to save ${$e.length} records to ${Ce}/${Ie}/history`),console.log("[saveHistoryToSubcollection] Sample record IDs:",$e.slice(0,5).map(De=>De.id));try{const De=or(Lt,Ce,Ie);(await Fs(De)).exists()||(console.log(`[saveHistoryToSubcollection] Parent document ${Ce}/${Ie} does not exist, creating...`),await ln(De,{_created:new Date().toISOString()},{merge:!0}),console.log("[saveHistoryToSubcollection]  Parent document created"));const Be=500;let Ge=0,mt=0;for(let dt=0;dt<$e.length;dt+=Be){const ke=$e.slice(dt,dt+Be),We=F0(Lt);let Ae=0;console.log(`[saveHistoryToSubcollection] Processing batch ${Math.floor(dt/Be)+1}, records: ${ke.length}`);for(const Ee of ke){if(!Ee.id){console.warn("[saveHistoryToSubcollection] Record missing ID, skipping:",Ee);continue}const et=or(Lt,Ce,Ie,"history",Ee.id),lt=`${Ce}/${Ie}/history/${Ee.id}`;We.set(et,Ee,{merge:!1}),Ae++}if(Ae>0){console.log(`[saveHistoryToSubcollection] Committing batch with ${Ae} records...`),console.log(`[saveHistoryToSubcollection] Batch will write to: ${Ce}/${Ie}/history`);try{if(await We.commit(),Ge+=Ae,console.log(`[saveHistoryToSubcollection]  Committed batch: ${Ae} records (total: ${Ge}/${$e.length})`),ke.length>0&&ke[0].id){const Ee=or(Lt,Ce,Ie,"history",ke[0].id);(await Fs(Ee)).exists()?console.log(`[saveHistoryToSubcollection]  Verified: Record ${ke[0].id} exists in subcollection`):console.error(`[saveHistoryToSubcollection]  WARNING: Record ${ke[0].id} NOT found in subcollection after commit!`)}}catch(Ee){mt+=Ae,console.error("[saveHistoryToSubcollection]  Batch commit failed:",Ee),console.error("[saveHistoryToSubcollection] Batch error details:",{message:Ee==null?void 0:Ee.message,code:Ee==null?void 0:Ee.code,stack:Ee==null?void 0:Ee.stack}),console.log("[saveHistoryToSubcollection] Retrying with individual setDoc() calls...");for(const et of ke)if(et.id)try{const lt=or(Lt,Ce,Ie,"history",et.id);await ln(lt,et,{merge:!1}),Ge++,mt--,console.log(`[saveHistoryToSubcollection]  Saved individual record: ${et.id}`)}catch(lt){console.error(`[saveHistoryToSubcollection]  Failed to save individual record ${et.id}:`,lt)}}}else console.warn(`[saveHistoryToSubcollection] Batch ${Math.floor(dt/Be)+1} has no valid records to save`)}mt>0?console.warn(`[saveHistoryToSubcollection]  Completed with errors: ${Ge} saved, ${mt} failed`):console.log(`[saveHistoryToSubcollection]  Successfully saved ${Ge} records to ${Ce}/${Ie}/history`)}catch(De){console.error(`[saveHistoryToSubcollection]  Error saving to ${Ce}/${Ie}/history:`,De),console.error("[saveHistoryToSubcollection] Error details:",{message:De==null?void 0:De.message,code:De==null?void 0:De.code,stack:De==null?void 0:De.stack})}},me=async(Ie,$e,Ce,De,it)=>{var Ge;if(!Ie||!De.userName)return;const Be=Ie.uid;try{const mt=De.businessStartHour??9,{start:dt,end:ke}=rr(new Date,De.shimebiDay,mt),We=new Date(ke);De.shimebiDay!==0&&We.setDate(De.shimebiDay);const Ae=Ht(dt),Ee=Ht(We),lt=Gf(De,Ce,$e).totalSales,Ke=[...Ce,...$e?$e.records:[]].filter(ce=>{var fe;return!((fe=ce.remarks)!=null&&fe.includes(""))});Ke.sort((ce,fe)=>fe.amount-ce.amount);const xt=Ke.slice(0,20),jt=[...Ce,...($e==null?void 0:$e.records)||[]];console.log("[broadcastStatus] Input data:",{currentHistoryCount:Ce.length,currentShiftRecordsCount:$e?$e.records.length:0,allRecordsCount:jt.length,latestRecordTimestamp:jt.length>0?new Date(Math.max(...jt.map(ce=>ce.timestamp))).toISOString():"N/A",latestRecordId:jt.length>0?(Ge=jt[jt.length-1])==null?void 0:Ge.id:"N/A"});const At=new Map;jt.forEach(ce=>At.set(ce.id,ce));const Ct=Array.from(At.values()),Dt=Date.now()-2*365*24*60*60*1e3,Mt=Ct.filter(ce=>ce.timestamp>=Dt);console.log("[broadcastStatus] Data summary:",{allRecordsCount:jt.length,uniqueRecordsCount:Ct.length,recentRecordsCount:Mt.length,twoYearsAgo:new Date(Dt).toISOString(),filteredOutCount:Ct.length-Mt.length});const je={},ct=Date.now()-365*24*60*60*1e3;Ct.forEach(ce=>{const fe=rr(new Date(ce.timestamp),De.shimebiDay,mt),ge=fe.end.getFullYear(),ye=fe.end.getMonth()+1,Ne=`${ge}-${String(ye).padStart(2,"0")}`;je[Ne]||(je[Ne]={label:`${ge}${ye}`,sortKey:Ne,sales:0,records:[],startStr:Ht(fe.start),endStr:Ht(fe.end)}),je[Ne].records.push(ce)}),Object.keys(je).forEach(ce=>{const fe=je[ce].records,ge=Gi(fe,mt);je[ce].sales=ge.reduce((ye,Ne)=>ye+Ne.amount,0),delete je[ce].records});const ae=$e?$e.records:[],pe={uid:Be,name:De.userName,monthlyTotal:lt,monthlyGoal:De.monthlyGoal||1e6,status:it,lastUpdated:Date.now(),businessStartHour:De.businessStartHour,visibilityMode:De.visibilityMode,allowedViewers:De.allowedViewers,topRecords:xt,records:ae,months:je,...Fg?{}:{history:Mt}};if($e){const ce=$e.records.length,fe=$e.records.filter(Ve=>Ve.rideType!=="FLOW"&&Ve.rideType!=="WAIT").length,ge=$e.startTime+$e.plannedHours*36e5,ye=$e.records.reduce((Ve,ze)=>Ve+ze.amount,0),Ne={...pe,startTime:$e.startTime,plannedEndTime:ge,sales:ye,rideCount:ce,dispatchCount:fe},Fe=Tf(Ne),Oe=Date.now();Fe.lastUpdated=Oe,console.log("[broadcastStatus] Saving public_status for uid:",Be,"at",new Date(Oe).toISOString(),"data:",{status:Fe.status,sales:Fe.sales,rideCount:Fe.rideCount,name:Fe.name}),ln(or(Lt,"public_status",Be),Fe,{merge:!0}).then(()=>{console.log("[broadcastStatus] Successfully saved public_status for uid:",Be)}).catch(Ve=>{console.error("[broadcastStatus] Failed to save public_status:",Ve)})}else{const ce=Ot(Date.now(),mt),fe=Ce.filter(Fe=>Ot(Fe.timestamp,mt)===ce).reduce((Fe,Oe)=>Fe+Oe.amount,0),ge={...pe,status:"offline",sales:fe,rideCount:0,dispatchCount:0},ye=Tf(ge),Ne=Date.now();ye.lastUpdated=Ne,console.log("[broadcastStatus] Saving offline status for uid:",Be,"at",new Date(Ne).toISOString()),ln(or(Lt,"public_status",Be),ye,{merge:!0}).then(()=>{console.log("[broadcastStatus] Successfully saved offline status for uid:",Be)}).catch(Fe=>{console.error("[broadcastStatus] Failed to save offline status:",Fe)})}}catch(mt){console.error("Broadcast failed:",mt)}};_e.useEffect(()=>{(async()=>{var Ce,De,it,Be,Ge,mt,dt,ke;try{if(window.location.hostname.includes("firebaseapp.com")&&window.location.pathname.includes("/__/auth/handler")){console.log("[App.tsx] Detected Firebase Hosting auth handler, redirecting to original environment..."),console.log("[App.tsx] Current URL:",window.location.href);const Ee=new URLSearchParams(window.location.search);console.log("[App.tsx] URL params:",Object.fromEntries(Ee.entries())),console.log("[App.tsx] Has code:",Ee.has("code")),console.log("[App.tsx] Has state:",Ee.has("state"));let et=null,lt=null,Ke="";try{et=localStorage.getItem("auth_redirect_origin"),lt=localStorage.getItem("auth_redirect_hostname"),Ke=localStorage.getItem("auth_redirect_port")||""}catch(Ct){console.warn("[App.tsx] localStorage access failed:",Ct)}if(!et)try{et=sessionStorage.getItem("auth_redirect_origin"),lt=sessionStorage.getItem("auth_redirect_hostname"),Ke=sessionStorage.getItem("auth_redirect_port")||""}catch(Ct){console.warn("[App.tsx] sessionStorage access failed:",Ct)}console.log("[App.tsx] Saved redirect info:",{savedOrigin:et,savedHostname:lt,savedPort:Ke});let xt;if(et)xt=et;else if(lt)xt=`${lt==="localhost"?"http":window.location.protocol}//${lt}${Ke?":"+Ke:""}`;else{const Ct=Ee.get("context_uri")||Ee.get("continue");if(Ct)try{const Dt=new URL(decodeURIComponent(Ct));Dt.hostname.includes("web.app")||Dt.hostname.includes("firebaseapp.com")?(xt=Dt.origin,console.log("[App.tsx] Using context_uri:",xt)):(xt=window.location.protocol+"//pro-taxi-d3945.web.app",console.warn("[App.tsx] context_uri not usable, using fallback:",xt))}catch{xt=window.location.protocol+"//pro-taxi-d3945.web.app",console.warn("[App.tsx] Failed to parse context_uri, using fallback:",xt)}else xt=window.location.protocol+"//pro-taxi-d3945.web.app",console.warn("[App.tsx] No saved origin found, using fallback:",xt)}const jt=Ee.toString(),At=xt+(jt?"?"+jt:"");console.log("[App.tsx] Redirecting to:",At),console.log("[App.tsx] Preserving params:",jt),(!jt||!Ee.has("code")&&!Ee.has("state"))&&(console.error("[App.tsx]  WARNING: No auth params found in URL!"),console.error("[App.tsx] This might cause authentication to fail."),console.error("[App.tsx] Current search:",window.location.search)),window.location.href=At;return}console.log("[App.tsx] Processing redirect result...");const We=new URLSearchParams(window.location.search),Ae=We.has("code")||We.has("state")||We.has("authuser")||We.has("prompt");if(console.log("[App.tsx] Current URL:",window.location.href),console.log("[App.tsx] URL params:",Object.fromEntries(We.entries())),console.log("[App.tsx] Has auth params:",Ae),Ae){console.log("[App.tsx] Auth parameters detected in URL:",{hasCode:We.has("code"),hasState:We.has("state"),hasAuthUser:We.has("authuser"),hasPrompt:We.has("prompt"),code:We.get("code")?((Ce=We.get("code"))==null?void 0:Ce.substring(0,20))+"...":null,state:We.get("state")?((De=We.get("state"))==null?void 0:De.substring(0,20))+"...":null}),console.log("[App.tsx] Auth params detected, keeping isAuthChecking=true until auth state updates");try{console.log("[App.tsx] Calling getRedirectResult...");const Ee=await lf(mr);if(Ee){console.log("[App.tsx]  Redirect login successful:",Ee.user.email),console.log("[App.tsx] User UID:",Ee.user.uid),console.log("[App.tsx] User:",Ee.user);const et=localStorage.getItem("login_redirect_url")||sessionStorage.getItem("login_redirect_url");if(et){console.log("[App.tsx] Restoring saved URL:",et);try{localStorage.removeItem("login_redirect_url"),sessionStorage.removeItem("login_redirect_url")}catch(lt){console.warn("[App.tsx] Failed to remove saved URL:",lt)}if(window.location.href!==et){const lt=new URL(et),Ke=lt.origin+lt.pathname;console.log("[App.tsx] Redirecting to saved URL:",Ke),window.location.replace(Ke);return}}window.history.replaceState&&window.history.replaceState({},document.title,window.location.pathname)}else console.warn("[App.tsx]  No redirect result, but auth params exist. Waiting for onAuthStateChanged..."),console.warn("[App.tsx] This might indicate a sessionStorage issue on mobile devices.")}catch(Ee){(it=Ee==null?void 0:Ee.message)!=null&&it.includes("sessionStorage")||(Be=Ee==null?void 0:Ee.message)!=null&&Be.includes("initial state")||(Ge=Ee==null?void 0:Ee.message)!=null&&Ge.includes("missing initial state")?(console.warn("[App.tsx] sessionStorage error - this is common on mobile devices. Auth state will be updated by onAuthStateChanged if login was successful."),console.warn("[App.tsx] Error details:",Ee==null?void 0:Ee.message)):(console.error("[App.tsx] Auth redirect error:",Ee),console.error("[App.tsx] Error details:",{message:Ee==null?void 0:Ee.message,code:Ee==null?void 0:Ee.code,stack:Ee==null?void 0:Ee.stack}))}}else try{const Ee=await lf(mr);if(Ee){console.log("[App.tsx]  Redirect login successful (no params):",Ee.user.email),console.log("[App.tsx] User UID:",Ee.user.uid);const et=localStorage.getItem("login_redirect_url")||sessionStorage.getItem("login_redirect_url");if(et){console.log("[App.tsx] Restoring saved URL:",et);try{localStorage.removeItem("login_redirect_url"),sessionStorage.removeItem("login_redirect_url")}catch(lt){console.warn("[App.tsx] Failed to remove saved URL:",lt)}if(window.location.href!==et){const lt=new URL(et),Ke=lt.origin+lt.pathname;console.log("[App.tsx] Redirecting to saved URL:",Ke),window.location.replace(Ke);return}}}else console.log("[App.tsx] No redirect result and no auth code in URL")}catch(Ee){(mt=Ee==null?void 0:Ee.message)!=null&&mt.includes("sessionStorage")||(dt=Ee==null?void 0:Ee.message)!=null&&dt.includes("initial state")||(ke=Ee==null?void 0:Ee.message)!=null&&ke.includes("missing initial state")?console.warn("[App.tsx] sessionStorage error - this is common on mobile devices."):console.error("[App.tsx] Auth redirect error:",Ee)}}catch(We){console.error("[App.tsx] Unexpected error in handleRedirectResult:",We)}})();const $e=D3(mr,async Ce=>{console.log("[App.tsx] ===== Auth state changed ====="),console.log("[App.tsx] Current user:",Ce?{email:Ce.email,uid:Ce.uid,emailVerified:Ce.emailVerified}:"null (signed out)"),console.log("[App.tsx] Current URL:",window.location.href);const De=new URLSearchParams(window.location.search),it=De.has("code")||De.has("state")||De.has("authuser")||De.has("prompt");if(it&&Ce&&(console.log("[App.tsx] Auth params exist and user is authenticated, clearing URL params"),window.history.replaceState&&window.history.replaceState({},document.title,window.location.pathname),await new Promise(Be=>setTimeout(Be,100))),it&&!Ce){console.log("[App.tsx]  Auth params exist but user is null. This might be a sessionStorage issue on mobile."),console.log("[App.tsx] Waiting for auth state to update..."),n(!0),lf(mr).then(Be=>{if(Be&&Be.user)console.log("[App.tsx]  getRedirectResult succeeded immediately:",Be.user.email),t(Be.user),n(!0);else{console.warn("[App.tsx]  getRedirectResult returned no result, waiting for onAuthStateChanged...");const Ge=setTimeout(()=>{const dt=mr.currentUser;dt?(console.log("[App.tsx]  Auth state updated after waiting:",dt.email),t(dt),n(!0)):(console.error("[App.tsx]  Auth state still null after waiting"),n(!1))},5e3),mt=setInterval(()=>{const dt=mr.currentUser;dt&&(clearTimeout(Ge),clearInterval(mt),console.log("[App.tsx]  Auth state updated during wait:",dt.email),t(dt),n(!0))},100);setTimeout(()=>{clearInterval(mt)},5e3)}}).catch(Be=>{var Ge,mt,dt;console.error("[App.tsx]  getRedirectResult failed:",Be),(Ge=Be==null?void 0:Be.message)!=null&&Ge.includes("sessionStorage")||(mt=Be==null?void 0:Be.message)!=null&&mt.includes("initial state")||(dt=Be==null?void 0:Be.message)!=null&&dt.includes("missing initial state")?(console.warn("[App.tsx] sessionStorage error - waiting for onAuthStateChanged to update auth state"),n(!0)):n(!1)});return}if(!it&&!Ce){const Be=document.referrer;if(Be.includes("firebaseapp.com")||Be.includes("__/auth/handler")){console.log("[App.tsx]  No auth params but might have come from firebaseapp.com"),console.log("[App.tsx] Referrer:",Be),console.log("[App.tsx] Trying getRedirectResult..."),n(!0),lf(mr).then(Ge=>{Ge&&Ge.user?(console.log("[App.tsx]  getRedirectResult succeeded (no params):",Ge.user.email),t(Ge.user),n(!0)):(console.warn("[App.tsx]  getRedirectResult returned no result"),setTimeout(()=>{const mt=mr.currentUser;mt?(console.log("[App.tsx]  Auth state updated after waiting:",mt.email),t(mt),n(!0)):(console.error("[App.tsx]  Auth state still null"),n(!1))},2e3))}).catch(Ge=>{var mt,dt,ke;console.error("[App.tsx]  getRedirectResult failed:",Ge),(mt=Ge==null?void 0:Ge.message)!=null&&mt.includes("sessionStorage")||(dt=Ge==null?void 0:Ge.message)!=null&&dt.includes("initial state")||(ke=Ge==null?void 0:Ge.message)!=null&&ke.includes("missing initial state")?(console.warn("[App.tsx] sessionStorage error - waiting for onAuthStateChanged"),n(!0)):n(!1)});return}}t(Ce),Ce?(console.log("[App.tsx] User logged in, isAuthChecking will remain true until userProfile is loaded"),console.log("[App.tsx] Current state - user:",Ce.email,"isAuthChecking: true (will be set to false after userProfile is loaded)"),a?console.log("[App.tsx] userProfile already exists:",a,"keeping isAuthChecking as is"):(console.log("[App.tsx] userProfile is null, setting isAuthChecking to true"),n(!0))):it?(console.log("[App.tsx]  User is null but auth params exist. This might be a sessionStorage issue on mobile."),console.log("[App.tsx] Keeping isAuthChecking=true and waiting for auth state to update..."),n(!0),setTimeout(async()=>{const Be=mr.currentUser;if(Be)console.log("[App.tsx]  Auth state updated after waiting:",Be.email),t(Be);else{console.warn("[App.tsx]  Auth state still null after waiting. Trying getRedirectResult...");try{const Ge=await lf(mr);Ge&&Ge.user&&(console.log("[App.tsx]  getRedirectResult succeeded:",Ge.user.email),t(Ge.user))}catch(Ge){console.error("[App.tsx]  getRedirectResult failed:",Ge)}}},3e3)):(console.log("[App.tsx] User logged out, resetting state"),p(null),i(!1),W(null),l(null),n(!1))});return()=>$e()},[]),_e.useEffect(()=>{if(!r||!h){console.log("[App.tsx] Data sync useEffect skipped - user:",(r==null?void 0:r.email)||"null","targetUid:",h);return}console.log("[App.tsx] Data sync useEffect started - user:",r.email,"targetUid:",h);const Ie=async()=>{i(!0);try{if(h===r.uid){console.log("[App.tsx] Fetching userProfile for:",r.uid);const Ge=or(Lt,"users",r.uid),mt=new Promise((dt,ke)=>{setTimeout(()=>{ke(new Error(": userProfile10"))},1e4)});try{const dt=await Promise.race([Fs(Ge),mt]);if(dt.exists()){const ke=dt.data(),We={role:ke.role||"user",status:ke.status||"pending"};console.log("[App.tsx] UserProfile loaded from Firestore:",We),l(We),console.log("[App.tsx] Setting isAuthChecking to false after userProfile loaded"),n(!1)}else{const ke={role:"user",status:"pending"};console.log("[App.tsx] Creating new user profile:",ke);try{await Promise.race([ln(Ge,{...ke,email:r.email,createdAt:C_()},{merge:!1}),mt]),console.log("[App.tsx] New user profile created successfully in users collection"),l(ke),console.log("[App.tsx] Setting isAuthChecking to false after new userProfile created"),n(!1)}catch(We){console.error("[App.tsx] Error creating user profile:",We),l(ke),n(!1),ln(Ge,{...ke,email:r.email,createdAt:C_()},{merge:!1}).catch(Ae=>{console.error("[App.tsx] Retry failed to create user profile:",Ae)})}}}catch(dt){console.error("[App.tsx] Error fetching/creating userProfile:",dt);const ke={role:"user",status:"pending"};console.warn("[App.tsx] Using default profile due to error:",ke),l(ke),n(!1)}}else console.log("[App.tsx] Proxy mode, skipping userProfile check"),n(!1);const Ce=Ls(or(Lt,"users",h),Ge=>{var mt;if(console.log("[onSnapshot users] Document snapshot received, exists:",Ge.exists(),"isSavingNameRef.current:",he.current),he.current){console.log("[onSnapshot users] Skipping update during name registration (isSavingNameRef.current = true)");return}if(Ge.exists()){const dt=Ge.data();console.log("[onSnapshot users] Data exists, shift:",dt.shift?"exists":"null","startOdo:",(mt=dt.shift)==null?void 0:mt.startOdo);const ke=dj(dt.shift);console.log("[onSnapshot users] safeShift after sanitize:",ke?"exists":"null","startOdo:",ke==null?void 0:ke.startOdo);let We=!1;dt.shift&&ke?(dt.shift.dailyGoal!==ke.dailyGoal||dt.shift.plannedHours!==ke.plannedHours||dt.shift.totalRestMinutes!==ke.totalRestMinutes||dt.shift.startTime!==ke.startTime||dt.shift.startOdo!==ke.startOdo||JSON.stringify(dt.shift.records)!==JSON.stringify(ke.records))&&(We=!0):dt.shift!==ke&&(We=!0),We&&(console.log("[onSnapshot users] Shift format changed, updating..."),ln(or(Lt,"users",h),{shift:ke},{merge:!0})),W(Ke=>{if(!Ke&&!ke)return console.log("[onSnapshot users] Both shifts are null, keeping prev"),Ke;if(!Ke||!ke)return console.log("[onSnapshot users] One shift is null, updating:",{prev:!!Ke,safe:!!ke}),ke;const xt=JSON.stringify(Ke),jt=JSON.stringify(ke);return xt!==jt?(console.log("[onSnapshot users] Shift changed, updating. prevOdo:",Ke.startOdo,"newOdo:",ke.startOdo),ke):(console.log("[onSnapshot users] Shift unchanged, keeping prev"),Ke)}),C(dt.dayMetadata||{});const Ae=dt.breakState||{isActive:!1,startTime:null};E(Ke=>{const xt=JSON.stringify(Ke),jt=JSON.stringify(Ae);return xt!==jt?(console.log("[onSnapshot] BreakState changed:",Ke,"->",Ae),Ae):Ke});const Ee=dt.stats||{},et=Ee.shimebiDay!==void 0?Ee.shimebiDay:20,lt=Ee.businessStartHour??9;T(Ke=>{const xt=Ee.userName?Ee.userName:Ke.userName||"",jt={monthLabel:Ee.monthLabel||Ke.monthLabel||"",totalSales:Ee.totalSales||Ke.totalSales||0,totalRides:Ee.totalRides||Ke.totalRides||0,monthlyGoal:Ee.monthlyGoal||Ke.monthlyGoal||1e6,defaultDailyGoal:Ee.defaultDailyGoal??Ke.defaultDailyGoal??5e4,shimebiDay:et,businessStartHour:lt,dutyDays:Ee.dutyDays||Ke.dutyDays||[],enabledPaymentMethods:Ee.enabledPaymentMethods||Ke.enabledPaymentMethods||kf,customPaymentLabels:Ee.customPaymentLabels||Ke.customPaymentLabels||{},userName:xt,enabledRideTypes:Ee.enabledRideTypes||Ke.enabledRideTypes||Dl,visibilityMode:Ee.visibilityMode||Ke.visibilityMode||"PUBLIC",allowedViewers:Ee.allowedViewers||Ke.allowedViewers||[],followingUsers:Ee.followingUsers||Ke.followingUsers||[],inputMode:O.current?Ee.inputMode||Ke.inputMode:Ee.inputMode||Ke.inputMode||"DETAILED",plannedWorkDays:Ee.plannedWorkDays??Ke.plannedWorkDays??0,dailyGoalSimple:Ee.dailyGoalSimple??Ke.dailyGoalSimple??0,workingHours:Ee.workingHours??Ke.workingHours??0};return console.log("[onSnapshot] Updating monthlyStats, userName:",jt.userName,"from savedStats:",Ee.userName,"from prev:",Ke.userName,"final:",xt),!Ee.inputMode&&!Ke.inputMode&&(a==null?void 0:a.status)==="active"&&Ee.userName&&Ke.userName&&(console.log("[onSnapshot] Existing user without mode detected, showing mode selection"),setTimeout(()=>{I(!0),O.current=!0},500)),jt})}else W(null),T(dt=>({...dt,uid:h}))}),it=await(async()=>{try{const Ge=Gr(Lt,"public_status",h,"history"),mt=Hr(Ge,un("timestamp","asc")),dt=await Zr(mt);if(console.log(`[App] getDocs result: empty=${dt.empty}, size=${dt.size}, targetUid=${h}`),!dt.empty){const ke=[];let We=0;dt.forEach(Ae=>{We<5&&(ke.push(Ae.id),We++)}),console.log("[App] First few record IDs:",ke)}if(dt.empty){N([]),console.log("[App] Subcollection empty, starting with empty array");const ke=Gr(Lt,"public_status",h,"history"),We=Hr(ke,un("timestamp","asc"));return Ls(We,Ee=>{const et=[];Ee.forEach(lt=>{et.push(lt.data())}),N(et),et.length>0&&console.log(`[App] Subcollection updated: ${et.length} records`)},Ee=>{console.error("[App] Error in subcollection snapshot (empty case):",Ee),N([])})}else{const ke=[];return dt.forEach(Ae=>{ke.push(Ae.data())}),N(ke),console.log(`[App] Loaded ${ke.length} records from subcollection`),Ls(mt,Ae=>{const Ee=[];Ae.forEach(et=>{Ee.push(et.data())}),N(Ee),console.log(`[App] Subcollection updated: ${Ee.length} records`)},Ae=>{console.error("[App] Error in subcollection snapshot:",Ae),N([])})}}catch(Ge){console.error("[App] Error loading history from subcollection:",Ge),console.error("[App] Error details:",{message:Ge==null?void 0:Ge.message,code:Ge==null?void 0:Ge.code,stack:Ge==null?void 0:Ge.stack}),N([]);const mt=Gr(Lt,"public_status",h,"history"),dt=Hr(mt,un("timestamp","asc"));return Ls(dt,We=>{const Ae=[];We.forEach(Ee=>{Ae.push(Ee.data())}),N(Ae),Ae.length>0&&console.log(`[App] Subcollection updated: ${Ae.length} records`)},We=>{console.error("[App] Error in subcollection snapshot (error case):",We),N([])})}})(),Be=Ls(or(Lt,"public_status",h),Ge=>{console.log("[onSnapshot public_status] Document snapshot received, exists:",Ge.exists()),i(!1)});return()=>{Ce(),Be(),it&&it()}}catch(Ce){console.error("Data sync failed",Ce),i(!1)}};let $e;return Ie().then(Ce=>{$e=Ce}),()=>{$e&&$e()}},[r,h]),_e.useEffect(()=>{const Ie=()=>{const De=new URLSearchParams(window.location.search).has("cal");console.log("[App] Checking calendar param:",{hasCal:De,search:window.location.search}),q(De)};Ie();const $e=()=>{Ie()};return window.addEventListener("popstate",$e),window.addEventListener("hashchange",Ie),()=>{window.removeEventListener("popstate",$e),window.removeEventListener("hashchange",Ie)}},[]),_e.useEffect(()=>{O.current=B},[B]),_e.useEffect(()=>{new URLSearchParams(window.location.search).has("firstLogin")&&r&&A.userName&&(console.log("[App] firstLogin param detected, forcing mode selection screen"),I(!0),O.current=!0)},[r,A.userName]);const ne=_e.useMemo(()=>{const Ie=Gf(A,V,F);return{...A,totalSales:Ie.totalSales,totalRides:Ie.totalRides}},[V,F,A]);_e.useEffect(()=>{if(r&&A.userName){const Ie={...r,uid:h};if(j.open)me(Ie,F,V,A,"riding").catch($e=>{console.error("[App] Broadcast status (riding) failed after history state update:",$e)});else{const $e=F?S.isActive?"break":"active":"offline";me(Ie,F,V,A,$e).catch(Ce=>{console.error("[App] Broadcast status failed after history state update:",Ce)})}}},[V,F,A.userName,r,h,S.isActive,j.open]);const de=async(Ie,$e)=>{var Ce,De,it;if(!r||!h)throw new Error("User or targetUid is not available");r.uid!==h&&console.warn("[saveToDB] WARNING: user.uid !== targetUid",{userUid:r.uid,targetUid:h});try{const{history:Be,...Ge}=Ie,mt=Tf(Ge);console.log("[saveToDB] Saving to users collection:",Object.keys(mt),"for uid:",h,"user.uid:",r.uid),console.log("[saveToDB] Updates preview:",JSON.stringify(mt).substring(0,200));const dt=Date.now(),ke=new Promise((Ae,Ee)=>{setTimeout(()=>{const et=Date.now()-dt;Ee(new Error(`: Firestore30: ${et}ms`))},3e4)});await Promise.race([ln(or(Lt,"users",h),mt,{merge:!0}),ke]);const We=Date.now()-dt;console.log("[saveToDB] Successfully saved to users collection (took",We,"ms)")}catch(Be){throw console.error("Save to DB failed:",Be),(Ce=Be==null?void 0:Be.message)!=null&&Ce.includes("")&&(console.error("[saveToDB] Timeout error. Possible causes:"),console.error("  1. "),console.error("  2. Firestore"),console.error("  3. "),console.error("  4. Firestore"),console.error("[saveToDB] Troubleshooting:"),console.error("  - "),console.error("  - Firebase ConsoleFirestore"),console.error("  - ")),((Be==null?void 0:Be.code)===403||(Be==null?void 0:Be.code)==="permission-denied")&&(console.error("[saveToDB] Permission denied. Details:",{userUid:r.uid,targetUid:h,uidMatch:r.uid===h,errorCode:Be==null?void 0:Be.code,errorMessage:Be==null?void 0:Be.message,errorStack:Be==null?void 0:Be.stack}),console.error("[saveToDB] This usually means:"),console.error("  1. Firestore security rules are blocking the write"),console.error("  2. user.uid does not match targetUid"),console.error("  3. Security rules are not deployed correctly")),((Be==null?void 0:Be.code)==="unavailable"||(De=Be==null?void 0:Be.message)!=null&&De.includes("network")||(it=Be==null?void 0:Be.message)!=null&&it.includes("Network"))&&console.error("[saveToDB] Network error. Check internet connection."),Be}},xe=_e.useCallback(Ie=>{y(Ie),g("history")},[]),Te=(Ie,$e,Ce)=>{if(!r)return;const De=A.businessStartHour??9,it=Ot(Date.now(),De),Be=V.filter(Ae=>Ot(Ae.timestamp,De)===it),Ge=V.filter(Ae=>Ot(Ae.timestamp,De)!==it),mt=Be.length>0?Math.min(...Be.map(Ae=>Ae.timestamp)):Date.now(),dt=P[it],ke=(dt==null?void 0:dt.totalRestMinutes)||0,We={id:Math.random().toString(36).substr(2,9),startTime:mt,dailyGoal:Ie,plannedHours:$e,records:Be,totalRestMinutes:ke,startOdo:Ce};W(We),N(Ge),de({shift:We}).catch(Ae=>{console.error("[handleStart] Failed to save shift:",Ae)}),window.scrollTo(0,0)},Re=Ie=>{if(F&&r){const $e=[...V,...F.records].sort((lt,Ke)=>lt.timestamp-Ke.timestamp),Ce=A.businessStartHour??9,De=Ot(F.startTime,Ce),it={...P,[De]:{...P[De]||{memo:"",attributedMonth:""},totalRestMinutes:F.totalRestMinutes,startOdo:F.startOdo||null,endOdo:Ie!==void 0?Ie:null}},{start:Be,end:Ge}=rr(new Date,A.shimebiDay,Ce),mt=new Date(Ge);A.shimebiDay!==0&&mt.setDate(A.shimebiDay);const dt=Ht(Be),ke=Ht(mt),We=$e.filter(lt=>{const Ke=Ot(lt.timestamp,Ce);return Ke>=dt&&Ke<=ke}).reduce((lt,Ke)=>lt+Ke.amount,0),Ae=F.records.length,Ee=F.records.filter(lt=>lt.rideType!=="FLOW"&&lt.rideType!=="WAIT").length,et=F.records.reduce((lt,Ke)=>lt+Ke.amount,0);ln(or(Lt,"users",r.uid),{shift:null,history:$e,dayMetadata:it,breakState:{isActive:!1,startTime:null}},{merge:!0}),ln(or(Lt,"public_status",r.uid),{uid:r.uid,name:A.userName,status:"completed",sales:et,rideCount:Ae,dispatchCount:Ee,monthlyTotal:We,plannedEndTime:Date.now(),lastUpdated:Date.now(),businessStartHour:A.businessStartHour,visibilityMode:A.visibilityMode,allowedViewers:A.allowedViewers},{merge:!0})}W(null),E({isActive:!1,startTime:null}),g("home"),Z(!1)},Pe=Ie=>{L({open:!0,initialData:Ie});const $e={...r,uid:h};r&&A.userName&&F&&me($e,F,V,A,"riding").catch(Ce=>{console.error("[handleOpenRecordModal] Broadcast status (riding) failed:",Ce)}),de({}).catch(Ce=>{console.error("[handleAddRecord] Failed to save:",Ce)})},Xe=()=>{L({open:!1});const Ie={...r,uid:h};r&&A.userName&&F&&me(Ie,F,V,A,"active").catch($e=>{console.error("[handleCloseRecordModal] Broadcast status failed:",$e)}),de({}).catch($e=>{console.error("[handleCloseRecordModal] Failed to save:",$e)})},Ue=_e.useCallback(async(Ie,$e,Ce,De,it,Be,Ge,mt,dt,ke,We,Ae,Ee,et,lt,Ke,xt)=>{var fe,ge,ye;if(!r)return;const jt=!!((fe=j.initialData)!=null&&fe.id),At=((ge=j.initialData)==null?void 0:ge.id)||Ke,Ct=A.businessStartHour??9;let Dt=V;console.log("[handleSaveRecord] Called with params:",{isEditMode:jt,editId:At,idOverride:Ke,initialDataId:(ye=j.initialData)==null?void 0:ye.id,targetUid:h,timestamp:new Date(Be).toISOString(),keepOpen:xt,historyStateCount:V.length});const Mt={id:At||Math.random().toString(36).substr(2,9),amount:Ie,toll:$e,returnToll:lt||0,paymentMethod:Ce,nonCashAmount:it,rideType:De,timestamp:Be,pickupLocation:Ge,dropoffLocation:mt,pickupCoords:dt||"",dropoffCoords:ke||"",passengersMale:We,passengersFemale:Ae,remarks:Ee,isBadCustomer:et},je=Ot(Be,Ct),qe=F?Ot(F.startTime,Ct):null,ct=F&&qe===je;if(!jt&&h)try{console.log("[handleSaveRecord] Checking for simple mode records on same day:",je);const Ne=new Date(Be);Ne.setHours(Ct,0,0,0);const Fe=new Date(Ne);Fe.setDate(Fe.getDate()+1);const Oe=Ne.getTime(),Ve=Fe.getTime()-1;console.log("[handleSaveRecord] Query range:",{start:new Date(Oe).toISOString(),end:new Date(Ve).toISOString(),targetUid:h});const ze=Gr(Lt,"public_status",h,"history"),bt=Hr(ze,Ss("timestamp",">=",Oe),Ss("timestamp","<=",Ve)),St=await Zr(bt);console.log("[handleSaveRecord] Found",St.size,"records in date range");const Tt=[];if(St.forEach(be=>{var Nt,yt;const Me=be.data(),Ye=Ot(Me.timestamp,Ct),ht=(Nt=Me.remarks)==null?void 0:Nt.includes("");console.log("[handleSaveRecord] Checking record:",{id:Me.id,recordDateStr:Ye,targetDate:je,isSimpleMode:ht,amount:Me.amount,remarks:(yt=Me.remarks)==null?void 0:yt.substring(0,50)}),Ye===je&&ht&&Tt.push(Me)}),console.log("[handleSaveRecord] Found",Tt.length,"simple mode records on same day"),Tt.length>0){const be=Tt.reduce((Nt,yt)=>Nt+yt.amount,0),Me=Ie+$e+(lt||0);if(console.log("[handleSaveRecord] Simple mode conflict detected:",{simpleModeTotal:be,newRecordTotal:Me,simpleModeRecords:Tt.map(Nt=>({id:Nt.id,amount:Nt.amount}))}),!window.confirm(`${Lr(be)}
${Lr(Me)}



OK
`)){console.log("[handleSaveRecord] User cancelled, aborting save");return}console.log("[handleSaveRecord] User confirmed, deleting simple mode records");const ht=F0(Lt);for(const Nt of Tt){const yt=or(Lt,"users",h,"history",Nt.id),Rt=or(Lt,"public_status",h,"history",Nt.id);ht.delete(yt),ht.delete(Rt)}await ht.commit(),console.log(`[handleSaveRecord]  Deleted ${Tt.length} simple mode records from subcollections`),Dt=Dt.filter(Nt=>!Tt.some(yt=>yt.id===Nt.id)),console.log("[handleSaveRecord] Removed",Tt.length,"simple mode records from currentHistory")}else console.log("[handleSaveRecord] No simple mode records found on same day")}catch(Ne){console.error("[handleSaveRecord] Error checking simple mode records:",Ne)}let ae=F,pe=Dt;if(jt){const Ne=[...(F==null?void 0:F.records)||[],...Dt].find(Oe=>Oe.id===At);if(Ne&&Ot(Ne.timestamp,Ct),(F==null?void 0:F.records.some(Oe=>Oe.id===At))?ae={...F,records:F.records.filter(Oe=>Oe.id!==At)}:pe=Dt.filter(Oe=>Oe.id!==At),ct){const Oe=((ae==null?void 0:ae.records)||[]).filter(Ve=>Ve.id!==Mt.id);ae={...F,records:[...Oe,Mt].sort((Ve,ze)=>Ve.timestamp-ze.timestamp)}}else pe=[...pe.filter(Ve=>Ve.id!==Mt.id),Mt].sort((Ve,ze)=>Ve.timestamp-ze.timestamp)}else if(ct){const Ne=F.records.filter(Fe=>Fe.id!==Mt.id);ae={...F,records:[...Ne,Mt].sort((Fe,Oe)=>Fe.timestamp-Oe.timestamp)}}else pe=[...Dt.filter(Fe=>Fe.id!==Mt.id),Mt].sort((Fe,Oe)=>Fe.timestamp-Oe.timestamp);W(ae),N(pe);const ce={...r,uid:h};r&&A.userName&&me(ce,ae,pe,A,"riding").catch(Ne=>{console.error("[handleSaveRecord] Broadcast status (riding) failed:",Ne)}),await de({shift:ae}).catch(Ne=>{console.error("[handleSaveRecord] Failed to save (riding):",Ne)}),h&&Mt&&(ve(h,[Mt],"users").catch(Ne=>{console.error("[handleSaveRecord] Failed to save to users subcollection:",Ne)}),ve(h,[Mt],"public_status").catch(Ne=>{console.error("[handleSaveRecord] Failed to save to public_status subcollection:",Ne)})),xt||(r&&A.userName&&me(ce,ae,pe,A,"active").catch(Ne=>{console.error("[handleSaveRecord] Broadcast status (active) failed:",Ne)}),L({open:!1}))},[F,V,j.initialData,A,r,h]),tt=async(Ie,$e,Ce)=>{try{const De=or(Lt,Ce,Ie,"history",$e);await O0(De),console.log(`[App] Deleted record ${$e} from ${Ce}/${Ie}/history`)}catch{console.log(`[App] Record ${$e} may not exist in subcollection, ignoring delete error`)}},at=_e.useCallback(()=>{var it;if(!r)return;const Ie=(it=j.initialData)==null?void 0:it.id;if(!Ie)return;const $e=F?{...F,records:F.records.filter(Be=>Be.id!==Ie)}:null,Ce=V.filter(Be=>Be.id!==Ie);W($e),N(Ce),h&&Ie&&(tt(h,Ie,"public_status").catch(Be=>{console.error("[handleDeleteRecord] Failed to delete from public_status subcollection:",Be)}),tt(h,Ie,"users").catch(Be=>{console.error("[handleDeleteRecord] Failed to delete from users subcollection:",Be)}));const De={...r,uid:h};r&&A.userName&&me(De,$e,Ce,A,"active").catch(Be=>{console.error("[handleDeleteRecord] Broadcast status failed:",Be)}),de({shift:$e}).catch(Be=>{console.error("[handleDeleteRecord] Failed to save:",Be)}),L({open:!1})},[j.initialData,F,V,r,h,A]),Je=Ie=>{T($e=>{let Ce=Ie.dutyDays||$e.dutyDays;Ie.shimebiDay!==void 0&&Ie.shimebiDay!==$e.shimebiDay&&(Ce=cz(Ie.shimebiDay,Ie.businessStartHour??$e.businessStartHour));const De={...$e,...Ie,dutyDays:Ce};return Ie.inputMode&&Ie.inputMode!==$e.inputMode&&(Ie.inputMode,g("home")),de({stats:De}).then(()=>{const it=Ie.visibilityMode!==void 0&&Ie.visibilityMode!==$e.visibilityMode,Be=Ie.allowedViewers!==void 0&&JSON.stringify(Ie.allowedViewers)!==JSON.stringify($e.allowedViewers);if((it||Be)&&r&&De.userName){const Ge={...r,uid:h},mt=F?S.isActive?"break":"active":"offline";me(Ge,F,V,De,mt).catch(dt=>{console.error("[handleUpdateMonthlyStats] Broadcast status failed:",dt)})}}).catch(it=>{console.error("[handleUpdateMonthlyStats] Failed to save stats:",it)}),De})},Ze=async()=>{var $e;if(!Q.trim()){console.warn("[handleSaveInitialName] tempUserName is empty");return}console.log("[DEBUG] handleSaveInitialName called"),console.log("[DEBUG] tempUserName:",Q),console.log("[DEBUG] user:",r==null?void 0:r.uid),console.log("[DEBUG] targetUid:",h),console.log("[DEBUG] monthlyStats:",A),oe(!0),he.current=!0;const Ie=new Promise((Ce,De)=>{setTimeout(()=>{De(new Error(": 60"))},6e4)});try{const{inputMode:Ce,...De}=A,it={...De,userName:Q.trim()};console.log("[DEBUG] updatedStats:",it),console.log("[DEBUG] Calling saveToDB with:",{stats:it}),await Promise.race([de({stats:it}),Ie]);const Be=Q.trim();if(console.log("[handleSaveInitialName] Setting userName to:",Be),r){const Ge={...r,uid:h};await me(Ge,null,[],it,"offline").catch(mt=>{console.error("[handleSaveInitialName] Broadcast status failed:",mt)})}T(Ge=>{const{inputMode:mt,...dt}=Ge,ke={...dt,userName:Be};return console.log("[handleSaveInitialName] Updating monthlyStats, prev.userName:",Ge.userName,"new userName:",Be),ke}),console.log("[handleSaveInitialName] Name saved successfully:",Be),await new Promise(Ge=>setTimeout(Ge,100)),console.log("[handleSaveInitialName] After state update, checking if userName is set..."),oe(!1),he.current=!1,I(!0),O.current=!0}catch(Ce){console.error("[handleSaveInitialName] Failed to save stats:",Ce),console.error("[handleSaveInitialName] Error details:",{code:Ce==null?void 0:Ce.code,message:Ce==null?void 0:Ce.message,stack:Ce==null?void 0:Ce.stack}),oe(!1),he.current=!1,(Ce==null?void 0:Ce.code)===403||(Ce==null?void 0:Ce.code)==="permission-denied"?alert(`: 

Firebase ConsoleFirestore

: `+(Ce==null?void 0:Ce.code)+`

ID: `+(r==null?void 0:r.uid)+`
UID: `+h):(Ce==null?void 0:Ce.code)==="unavailable"?alert(`: Firebase

`):($e=Ce==null?void 0:Ce.message)!=null&&$e.includes("")?alert(`: 30

`):alert(`

: `+((Ce==null?void 0:Ce.message)||"Unknown error")+`

`)}},vt=_e.useCallback(()=>{y(null)},[]),pt=Ie=>{if(F){const $e={...F,startOdo:Ie};W($e),de({shift:$e}).catch(Ce=>{console.error("[handleUpdateStartOdo] Failed to save shift:",Ce)})}};if((d||e||s)&&console.log("[App] Showing splash screen:",{appInitLoading:d,isAuthChecking:e,isDataLoading:s,user:(r==null?void 0:r.email)||"null",userProfile:a?{role:a.role,status:a.status}:"null"}),d||e||s)return w.jsx(az,{});if(!r&&!e)return console.log("[App] Showing login screen - user:",(r==null?void 0:r.email)||"null","isAuthChecking:",e,"userProfile:",a),w.jsx(iz,{});if(r&&!e){if(console.log("[App] Checking user authorization:",{user:r.email,userProfile:a?{role:a.role,status:a.status}:"null",isAuthChecking:e,userUid:r.uid}),!a)return console.warn("[App] User is logged in but userProfile is null. This might be an error. Showing UnauthorizedView."),console.warn("[App] Attempting to re-fetch userProfile..."),setTimeout(async()=>{try{const Ie=or(Lt,"users",r.uid),$e=await Fs(Ie);if($e.exists()){const Ce=$e.data(),De={role:Ce.role||"user",status:Ce.status||"pending"};console.log("[App] UserProfile re-fetched successfully:",De),l(De)}else console.warn("[App] UserProfile still does not exist after re-fetch")}catch(Ie){console.error("[App] Error re-fetching userProfile:",Ie)}},1e3),w.jsx(N_,{});if(a.status!=="active")return console.log("[App] User status is not active:",a.status,"- showing UnauthorizedView"),w.jsx(N_,{})}if(r&&A.userName&&B){const Ie=async $e=>{try{const Ce={...A,inputMode:$e};await de({stats:Ce}),T(De=>({...De,inputMode:$e})),I(!1),O.current=!1,$e==="SIMPLE"&&g("home")}catch(Ce){console.error("[handleModeSelect] Failed to save mode:",Ce),alert("")}};return w.jsx(B4,{onSelect:Ie,isInitialLogin:!0})}return r&&!A.userName&&!re?w.jsx("div",{className:"min-h-screen bg-[#0A0E14] flex flex-col items-center justify-center p-6 text-white animate-in fade-in duration-700",children:w.jsxs("div",{className:"w-full max-w-sm space-y-8",children:[w.jsxs("div",{className:"text-center space-y-2",children:[w.jsx("div",{className:"bg-amber-500/10 w-20 h-20 rounded-3xl border border-amber-500/20 flex items-center justify-center mx-auto mb-6",children:w.jsx(ci,{size:40,className:"text-amber-500"})}),w.jsx("h2",{className:"text-3xl font-black italic text-white tracking-tighter",children:"WELCOME"}),w.jsx("p",{className:"text-gray-500 font-bold uppercase tracking-widest text-xs",children:""})]}),w.jsxs("div",{className:"bg-[#1A222C] p-6 rounded-[32px] border border-gray-800 shadow-2xl space-y-6",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-[10px] font-black text-gray-500 uppercase tracking-[0.2em] ml-2",children:""}),w.jsxs("div",{className:"relative",children:[w.jsx("div",{className:"absolute inset-y-0 left-4 flex items-center pointer-events-none text-gray-600",children:w.jsx(Pl,{size:18})}),w.jsx("input",{type:"text",placeholder:":  ",value:Q,onChange:Ie=>ie(Ie.target.value),className:"w-full bg-gray-950 border border-gray-800 rounded-2xl py-4 pl-12 pr-4 text-white font-black outline-none focus:border-amber-500/50 transition-all"})]})]}),w.jsx("button",{disabled:!Q.trim()||re,onClick:Ze,className:"w-full bg-amber-500 disabled:bg-gray-800 disabled:text-gray-600 text-black py-4 rounded-2xl font-black text-xl shadow-xl active:scale-95 transition-all flex items-center justify-center gap-2",children:re?w.jsx(kl,{className:"animate-spin",size:20}):w.jsxs(w.Fragment,{children:[" ",w.jsx(pT,{size:20})]})})]}),w.jsx("p",{className:"text-center text-[10px] text-gray-600 font-bold px-8",children:""})]})}):r&&c?w.jsx(uj,{onBack:()=>o(!1)}):z?w.jsx("div",{className:"w-full min-h-screen bg-[#0A0E14]",children:r?w.jsx(Bj,{history:[...V,...(F==null?void 0:F.records)||[]],dayMetadata:P,businessStartHour:A.businessStartHour??9,shimebiDay:A.shimebiDay,monthlyStats:A}):w.jsx("div",{className:"flex items-center justify-center min-h-screen text-white",children:w.jsxs("div",{className:"text-center",children:[w.jsx("p",{className:"text-lg font-bold mb-4",children:""}),w.jsx("p",{className:"text-sm text-gray-400",children:""})]})})}):w.jsxs("div",{className:"max-w-md mx-auto min-h-screen bg-[#0A0E14] text-white font-sans pb-28 overflow-x-hidden relative w-full",children:[u&&u!==(r==null?void 0:r.uid)&&w.jsxs("div",{className:"bg-red-600 text-white px-4 py-2 flex justify-between items-center sticky top-0 z-50 shadow-md safe-top animate-in slide-in-from-top",children:[w.jsxs("span",{className:"text-xs font-bold animate-pulse flex items-center gap-2",children:[w.jsx(V1,{size:16}),": ",A.userName||""]}),w.jsx("button",{onClick:()=>p(null),className:"bg-white text-red-600 text-xs font-black px-3 py-1.5 rounded-full active:scale-95 shadow-sm",children:""})]}),w.jsx(oz,{userProfile:a,onAdminClick:()=>{console.log("Admin button clicked"),o(!0)},onSettingsClick:()=>{console.log("Settings button clicked"),console.log("Current isSettingsOpen:",K),ee(!0),console.log("setIsSettingsOpen(true) called")},onLogoClick:()=>{(a==null?void 0:a.role)==="admin"&&(console.log("Logo clicked - opening CSV modal"),U(!0))}}),w.jsx("main",{className:"w-full overflow-x-hidden",children:(A.inputMode||"DETAILED")==="SIMPLE"?w.jsxs(w.Fragment,{children:[x==="home"&&!v&&w.jsx(nz,{stats:A,onUpdateStats:Je,onNavigateToInput:()=>y(new Date),history:V}),x==="home"&&v&&w.jsx(ZV,{stats:A,onUpdateStats:Je,initialDate:v,initialRecordId:k,onClearInitialDate:()=>{y(null),R(null)},onBack:()=>{y(null),R(null)}}),x==="history"&&w.jsx(tz,{stats:A,onEditRecord:Ie=>{const $e=new Date(Ie.timestamp);y($e),R(Ie.id),g("home")}}),x==="analysis"&&w.jsx(ez,{stats:A})]}):w.jsxs(w.Fragment,{children:[x==="home"&&w.jsx(vj,{shift:F,stats:ne,breakState:S,history:V,dayMetadata:P,onUpdateStats:Je,onStart:Te,onEnd:()=>Z(!0),onAdd:Ie=>Pe(Ie?{remarks:Ie}:void 0),onEdit:Ie=>Pe(Ie),onUpdateGoal:Ie=>Je({monthlyGoal:Ie}),onUpdateShiftGoal:Ie=>{if(F){const $e={...F,dailyGoal:Ie};W($e),de({shift:$e}).catch(Ce=>{console.error("[onUpdateShiftGoal] Failed to save shift:",Ce)})}},onAddRestMinutes:Ie=>{if(F){const $e={...F,totalRestMinutes:(F.totalRestMinutes||0)+Ie};W($e),de({shift:$e}).catch(Ce=>{console.error("[onUpdateRestMinutes] Failed to save shift:",Ce)})}},onToggleBreak:()=>{console.log("[onToggleBreak] Called, current breakState:",S),console.log("[onToggleBreak] Current shift:",F?"exists":"null","startOdo:",F==null?void 0:F.startOdo);const Ie=S.isActive?{isActive:!1,startTime:null}:{isActive:!0,startTime:Date.now()},$e=Ie.isActive?"break":"active";if(console.log("[onToggleBreak] New breakState:",Ie,"nextStatus:",$e),E(Ie),r&&A.userName){const Ce={...r,uid:h};console.log("[onToggleBreak] Broadcasting status immediately, status:",$e,"newState:",Ie),me(Ce,F,V,A,$e).catch(De=>{console.error("[onToggleBreak] Broadcast status failed:",De)})}console.log("[onToggleBreak] Calling saveToDB..."),de({breakState:Ie}).catch(Ce=>{console.error("[onToggleBreak] Failed to save break state:",Ce)})},setBreakState:Ie=>{console.log("[setBreakState] Setting breakState:",Ie),E(Ie);const $e=Ie.isActive?"break":"active";if(r&&A.userName){const Ce={...r,uid:h};console.log("[setBreakState] Broadcasting status immediately, status:",$e),me(Ce,F,V,A,$e).catch(De=>{console.error("[setBreakState] Broadcast status failed:",De)})}de({breakState:Ie}).catch(Ce=>{console.error("[setBreakState] Failed to save break state:",Ce)})},onShiftEdit:()=>te(!0),onUpdateStartOdo:pt}),x==="history"&&w.jsx(Nj,{history:(()=>{const Ie=[...V,...(F==null?void 0:F.records)||[]],$e=new Map;return Ie.forEach(Ce=>$e.set(Ce.id,Ce)),Array.from($e.values()).sort((Ce,De)=>Ce.timestamp-De.timestamp)})(),dayMetadata:P,customPaymentLabels:A.customPaymentLabels||{},businessStartHour:A.businessStartHour??9,shimebiDay:A.shimebiDay,onEditRecord:Ie=>Pe(Ie),onUpdateMetadata:(Ie,$e)=>{const Ce={...P,[Ie]:{...P[Ie]||{},...$e}};C(Ce),de({dayMetadata:Ce}).catch(De=>{console.error("[onUpdateMetadata] Failed to save dayMetadata:",De)})},stats:A,initialTargetDate:v,onClearTargetDate:vt}),x==="analysis"&&w.jsx(jj,{history:[...V,...(F==null?void 0:F.records)||[]],stats:A,onNavigateToHistory:xe}),x==="analytics"&&w.jsx(Oj,{history:[...V,...(F==null?void 0:F.records)||[]],stats:A}),x==="guide"&&w.jsx(Fj,{})]})}),j.open&&w.jsx(qj,{initialData:j.initialData,enabledMethods:A.enabledPaymentMethods,enabledRideTypes:A.enabledRideTypes||Dl,customLabels:A.customPaymentLabels||{},onClose:Xe,onSave:Ue,onDelete:at,businessStartHour:A.businessStartHour??9,followingUsers:A.followingUsers||[],shift:F,history:V,monthlyStats:A}),D&&F&&w.jsx(Gj,{shift:F,customLabels:A.customPaymentLabels||{},enabledMethods:A.enabledPaymentMethods,businessStartHour:A.businessStartHour??9,onConfirm:Re,onClose:()=>Z(!1)}),K&&w.jsx(QV,{stats:A,isAdmin:(a==null?void 0:a.role)==="admin",onUpdateStats:Je,history:V,onClose:()=>{console.log("SettingsModal onClose called"),ee(!1)},onNavigateToDashboard:()=>{(A.inputMode||"DETAILED")==="SIMPLE"&&(g("home"),y(null))},onImpersonate:Ie=>{p(Ie),ee(!1)},onImportRecords:async(Ie,$e,Ce,De)=>{var Be,Ge,mt,dt;if(!r)return{addedCount:0,replaceCount:0};const it=$e||h;if(!it)return{addedCount:0,replaceCount:0};try{i(!0),De==null||De(0,100,"...");const ke=or(Lt,"users",it),We=or(Lt,"public_status",it);De==null||De(10,100,"...");const[Ae,Ee]=await Promise.all([Fs(ke),Fs(We)]);let et=[];try{const fe=Gr(Lt,"public_status",it,"history"),ge=Hr(fe,un("timestamp","asc")),ye=await Zr(ge);ye.empty?(et=[],console.log("[CSV Import] Subcollection is empty, starting with empty array")):(ye.forEach(Ne=>{et.push(Ne.data())}),console.log(`[CSV Import] Loaded ${et.length} records from subcollection`))}catch(fe){console.error("[CSV Import] Error loading from subcollection:",fe),et=[]}const lt=((Be=Ae.data())==null?void 0:Be.stats)||{},Ke=lt.customPaymentLabels||{},xt=lt.enabledPaymentMethods||kf,jt=((Ge=Ee.data())==null?void 0:Ge.name)||"";let At=0,Ct=0;if(De==null||De(20,100,"..."),((Ce==null?void 0:Ce.mergeMode)||"skip")==="overwrite")Ie.forEach(fe=>{const ge=et.findIndex(ye=>ye.timestamp===fe.timestamp&&ye.amount===fe.amount);if(ge!==-1){const ye=et[ge].id;et[ge]={...fe,id:ye},Ct++}else et.push(fe),At++});else{const fe=new Set(et.map(ye=>ye.id)),ge=Ie.filter(ye=>!fe.has(ye.id));et=[...et,...ge],At=ge.length}De==null||De(50,100,"...");const Mt=et.sort((fe,ge)=>fe.timestamp-ge.timestamp);De==null||De(60,100,"...");const je=((mt=Ae.data())==null?void 0:mt.stats)||{},qe=je.shimebiDay??20,ct=je.businessStartHour??9,ae={};Mt.forEach((fe,ge)=>{const ye=rr(new Date(fe.timestamp),qe,ct),Ne=ye.end.getFullYear(),Fe=ye.end.getMonth()+1,Oe=`${Ne}-${String(Fe).padStart(2,"0")}`;if(ae[Oe]||(ae[Oe]={label:`${Ne}${Fe}`,startStr:Ht(ye.start),endStr:Ht(ye.end),records:[],sales:0}),ae[Oe].records.push(fe),ae[Oe].sales+=fe.amount,(ge+1)%100===0){const Ve=60+Math.floor(ge/Mt.length*20);De==null||De(Ve,100,`... (${ge+1}/${Mt.length})`)}}),De==null||De(90,100,"..."),await Promise.all([ln(ke,{records:Mt},{merge:!0}),ln(We,{months:ae,...Fg?{}:{history:Mt},lastUpdated:Date.now()},{merge:!0})]),De==null||De(92,100,"..."),await ve(it,Mt,"public_status").catch(fe=>{console.error("[onImportRecords] Failed to save to subcollection:",fe)}),await ve(it,Mt,"users").catch(fe=>{console.error("[onImportRecords] Failed to save to users subcollection:",fe)});const pe={...r,uid:it},ce=((dt=Ae.data())==null?void 0:dt.stats)||A;return pe&&ce.userName&&(De==null||De(95,100,"..."),await me(pe,null,Mt,ce,"offline").catch(fe=>{console.error("[onImportRecords] Broadcast status failed:",fe)})),De==null||De(100,100,""),{addedCount:At,replaceCount:Ct}}catch(ke){return console.error("Import failed",ke),alert(""),{addedCount:0,replaceCount:0}}finally{i(!1)}}}),G&&F&&w.jsx(Wj,{shift:F,onClose:()=>te(!1),onSave:(Ie,$e)=>{if(F){const Ce={...F,startTime:Ie,plannedHours:$e};W(Ce),de({shift:Ce}).catch(De=>{console.error("[onSave] Failed to save shift:",De)})}}}),H&&w.jsx(KV,{onClose:()=>U(!1),isAdmin:(a==null?void 0:a.role)==="admin",currentUid:(r==null?void 0:r.uid)||"",onImport:async(Ie,$e)=>{var De,it;if(!r)return{addedCount:0,replaceCount:0};const Ce=$e||h;if(!Ce)return{addedCount:0,replaceCount:0};try{i(!0);const Be=or(Lt,"users",Ce),Ge=or(Lt,"public_status",Ce),[mt,dt]=await Promise.all([Fs(Be),Fs(Ge)]);let ke=[];try{const Ct=Gr(Lt,"public_status",Ce,"history"),Dt=Hr(Ct,un("timestamp","asc")),Mt=await Zr(Dt);Mt.empty?(ke=[],console.log("[CSV Import] Subcollection is empty, starting with empty array")):(Mt.forEach(je=>{ke.push(je.data())}),console.log(`[CSV Import] Loaded ${ke.length} records from subcollection`))}catch(Ct){console.error("[CSV Import] Error loading from subcollection:",Ct),ke=[]}let We=0,Ae=0;Ie.forEach(Ct=>{const Dt=ke.findIndex(Mt=>Mt.timestamp===Ct.timestamp&&Mt.amount===Ct.amount);if(Dt!==-1){const Mt=ke[Dt].id;ke[Dt]={...Ct,id:Mt},Ae++}else ke.push(Ct),We++});const Ee=ke.sort((Ct,Dt)=>Ct.timestamp-Dt.timestamp),et=((De=mt.data())==null?void 0:De.stats)||A,lt=et.shimebiDay??20,Ke=et.businessStartHour??9,xt={};Ee.forEach(Ct=>{const Dt=rr(new Date(Ct.timestamp),lt,Ke),Mt=Dt.end.getFullYear(),je=Dt.end.getMonth()+1,qe=`${Mt}-${String(je).padStart(2,"0")}`;xt[qe]||(xt[qe]={label:`${Mt}${je}`,startStr:Ht(Dt.start),endStr:Ht(Dt.end),records:[],sales:0}),xt[qe].records.push(Ct),xt[qe].sales+=Ct.amount}),await Promise.all([ln(Be,{records:Ee},{merge:!0}),ln(Ge,{months:xt,...Fg?{}:{history:Ee},lastUpdated:Date.now()},{merge:!0})]),await ve(Ce,Ee,"public_status").catch(Ct=>{console.error("[CsvImportModal] Failed to save to subcollection:",Ct)}),await ve(Ce,Ee,"users").catch(Ct=>{console.error("[CsvImportModal] Failed to save to users subcollection:",Ct)});const jt={...r,uid:Ce},At=((it=mt.data())==null?void 0:it.stats)||A;return jt&&At.userName&&await me(jt,null,Ee,At,"offline").catch(Ct=>{console.error("[CsvImportModal] Broadcast status failed:",Ct)}),U(!1),{addedCount:We,replaceCount:Ae}}catch(Be){return console.error("Import failed",Be),alert(""),{addedCount:0,replaceCount:0}}finally{i(!1)}}}),r&&w.jsx(lz,{activeTab:x,monthlyStats:A,showCalendar:z,targetHistoryDate:v,onTabChange:Ie=>g(Ie),onTargetHistoryDateChange:Ie=>y(Ie),onTargetHistoryRecordIdChange:Ie=>R(Ie)}),B&&w.jsx(B4,{onSelect:async Ie=>{I(!1),O.current=!1,await Je({inputMode:Ie})}})]})}const bS=document.getElementById("root");if(!bS)throw new Error("Could not find root element to mount to");const fz=rT.createRoot(bS);fz.render(w.jsx(V4.StrictMode,{children:w.jsx(uz,{})}));
